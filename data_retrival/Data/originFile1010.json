{"items":[{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"score":0,"creation_date":1647728294,"post_id":71542381,"comment_id":126445083,"body_markdown":"Could be possible that you are missing other logs? maybe the initialization of uuidRepresentation? maybe this could be hepfull\n[link](https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo)https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo","body":"Could be possible that you are missing other logs? maybe the initialization of uuidRepresentation? maybe this could be hepfull <a href=\"https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo\">link</a><a href=\"https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo\" title=\"spring boot 2 3 6 how to set uuid representation for mongo\">stackoverflow.com/questions/64958563/&hellip;</a>"},{"owner":{"account_id":2903582,"reputation":63,"user_id":2489599,"display_name":"Idur Jul"},"score":0,"creation_date":1647931058,"post_id":71542381,"comment_id":126488714,"body_markdown":"Hi. What logs do you mean? I look at logs which tomcat provides. Could you clarify where should I look for other logs? Thank you for the link to another ticket but the answers from it doesn&#39;t help.","body":"Hi. What logs do you mean? I look at logs which tomcat provides. Could you clarify where should I look for other logs? Thank you for the link to another ticket but the answers from it doesn&#39;t help."},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1648686104,"post_id":71542381,"comment_id":126690345,"body_markdown":"I got the same error. Did u found the solution yet?","body":"I got the same error. Did u found the solution yet?"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1648722185,"post_id":71542381,"comment_id":126699102,"body_markdown":"It seems like spring boot picked com.mongodb:mongo-java-driver instead of mongodb-driver-sync","body":"It seems like spring boot picked com.mongodb:mongo-java-driver instead of mongodb-driver-sync"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":1,"creation_date":1648729070,"post_id":71542381,"comment_id":126701644,"body_markdown":"Oh hey I got it worked now by removing com.mongodb:mongo-java-driver from the external lib","body":"Oh hey I got it worked now by removing com.mongodb:mongo-java-driver from the external lib"}],"answers":[{"tags":[],"owner":{"account_id":9347215,"reputation":431,"user_id":6938132,"display_name":"srihitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664175623,"creation_date":1664175623,"answer_id":73850539,"question_id":71542381,"body_markdown":"Try following dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver --&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.3&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n                   &lt;exclusion&gt;\r\n                       &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;!-- Exclude Project-E from Project-B --&gt;\r\n                       &lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n                   &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt; ","title":"NoSuchMethodError: com.mongodb.MongoClientSettings$Builder.uuidRepresentation","body":"<p>Try following dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver --&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-driver&lt;/artifactId&gt;\n  &lt;version&gt;3.6.3&lt;/version&gt;\n  &lt;exclusions&gt;\n               &lt;exclusion&gt;\n                   &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;!-- Exclude Project-E from Project-B --&gt;\n                   &lt;artifactId&gt;bson&lt;/artifactId&gt;\n               &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n  &lt;version&gt;3.11.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":2903582,"reputation":63,"user_id":2489599,"display_name":"Idur Jul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664175623,"creation_date":1647726821,"question_id":71542381,"body_markdown":"I&#39;ve tried to get **up spring-boot** version from 2.1.1.RELEASE **to 2.3.8.RELEASE** and got error &quot;Caused by: java.lang.**NoSuchMethodError**: com.mongodb.MongoClientSettings$Builder.**uuidRepresentation**(Lorg/bson/UuidRepresentation;)Lcom/mongodb/MongoClientSettings$Builder&quot;\r\n\r\nMy application consists of several modules and one of them has a dependency on a customed &#39;import-export&#39; service.  This service uses Mongo db while my application uses postgree db. When I run mvn dependency:tree, I see &#39;mongo&#39; is mentioned only here:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    [INFO] +- ....export-import-lib-node:jar:0.2.3-springboot-2.3.5:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-mongodb:jar:3.0.6.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.3.6.RELEASE:compile\r\n    [INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.0.5:compile\r\n    [INFO] |  |     \\- org.mongodb:bson:jar:4.0.5:compile\r\n    [INFO] |  \\- org.mongodb:mongo-java-driver:jar:3.8.2:compile\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nBefore version changes there were:\r\n&lt;pre&gt;&lt;code&gt;\r\n    [INFO] +- .....export-import-lib-node:jar:0.2.4:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:2.1.3.RELEASE:compile\r\n    [INFO] |     +- org.springframework.data:spring-data-commons:jar:2.1.3.RELEASE:compile\r\n    [INFO] |     \\- org.mongodb:mongo-java-driver:jar:3.8.2:compile\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI&#39;ve tried to add dependencies\r\n```\r\n &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.4.2&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n```\r\nbut got the same error on running the application on Tomcat server.\r\n\r\nCould you advice me what should I do to fix this error?\r\nThank you.\r\n\r\n\r\n**Update:**\r\nAdded\r\n\r\n    @Bean\r\n    public MongoClient mongoClient() {\r\n        return MongoClients.create(MongoClientSettings.builder()\r\n                .uuidRepresentation(UuidRepresentation.JAVA_LEGACY)\r\n                .build());\r\n    }\r\n\r\nbut still have the same error &quot;\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongoClient&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.mongodb.MongoClientSettings$Builder.uuidRepresentation(Lorg/bson/UuidRepresentation;)Lcom/mongodb/MongoClientSettings$Builder;&quot;","title":"NoSuchMethodError: com.mongodb.MongoClientSettings$Builder.uuidRepresentation","body":"<p>I've tried to get <strong>up spring-boot</strong> version from 2.1.1.RELEASE <strong>to 2.3.8.RELEASE</strong> and got error &quot;Caused by: java.lang.<strong>NoSuchMethodError</strong>: com.mongodb.MongoClientSettings$Builder.<strong>uuidRepresentation</strong>(Lorg/bson/UuidRepresentation;)Lcom/mongodb/MongoClientSettings$Builder&quot;</p>\n<p>My application consists of several modules and one of them has a dependency on a customed 'import-export' service.  This service uses Mongo db while my application uses postgree db. When I run mvn dependency:tree, I see 'mongo' is mentioned only here:</p>\n<pre><code>\n    [INFO] +- ....export-import-lib-node:jar:0.2.3-springboot-2.3.5:compile\n    [INFO] |  +- org.springframework.data:spring-data-mongodb:jar:3.0.6.RELEASE:compile\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:2.3.6.RELEASE:compile\n    [INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.0.5:compile\n    [INFO] |  |     \\- org.mongodb:bson:jar:4.0.5:compile\n    [INFO] |  \\- org.mongodb:mongo-java-driver:jar:3.8.2:compile\n</code></pre>\n<p>Before version changes there were:</p>\n<pre><code>\n    [INFO] +- .....export-import-lib-node:jar:0.2.4:compile\n    [INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:2.1.3.RELEASE:compile\n    [INFO] |     +- org.springframework.data:spring-data-commons:jar:2.1.3.RELEASE:compile\n    [INFO] |     \\- org.mongodb:mongo-java-driver:jar:3.8.2:compile\n</code></pre>\n<p>I've tried to add dependencies</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;bson&lt;/artifactId&gt;\n    &lt;version&gt;4.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n    &lt;version&gt;4.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.4.2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>but got the same error on running the application on Tomcat server.</p>\n<p>Could you advice me what should I do to fix this error?\nThank you.</p>\n<p><strong>Update:</strong>\nAdded</p>\n<pre><code>@Bean\npublic MongoClient mongoClient() {\n    return MongoClients.create(MongoClientSettings.builder()\n            .uuidRepresentation(UuidRepresentation.JAVA_LEGACY)\n            .build());\n}\n</code></pre>\n<p>but still have the same error &quot; Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongoClient' threw exception; nested exception is java.lang.NoSuchMethodError: com.mongodb.MongoClientSettings$Builder.uuidRepresentation(Lorg/bson/UuidRepresentation;)Lcom/mongodb/MongoClientSettings$Builder;&quot;</p>\n"},{"tags":["java","android","crash","crash-reports"],"comments":[{"owner":{"account_id":13951559,"reputation":343,"user_id":10074964,"display_name":"Cassius"},"score":0,"creation_date":1664171413,"post_id":73850010,"comment_id":130401578,"body_markdown":"Can you please post your Layout and Java/kotlin code here.","body":"Can you please post your Layout and Java/kotlin code here."},{"owner":{"account_id":17438053,"reputation":29,"user_id":12640693,"display_name":"M. Hayyan Ali"},"score":0,"creation_date":1664173200,"post_id":73850010,"comment_id":130401912,"body_markdown":"Ive edited the post and added xml and java files-a note in the end as well","body":"Ive edited the post and added xml and java files-a note in the end as well"}],"answers":[{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664173660,"creation_date":1664173660,"answer_id":73850284,"question_id":73850010,"body_markdown":"Set your **Button** after **setContentView**\r\n\r\n    Button downloadfileactivity;\r\n    Button viewfileactivity;\r\n\r\nAfter  `setContentView(R.layout.activity_main);`\r\n\r\n    downloadfileactivity = findViewById(R.id.downloadfile_activity);\r\n    viewfileactivity = findViewById(R.id.viewfile_activity);","title":"My android app keeps crashing even after checking for errors in debugging and tests","body":"<p>Set your <strong>Button</strong> after <strong>setContentView</strong></p>\n<pre><code>Button downloadfileactivity;\nButton viewfileactivity;\n</code></pre>\n<p>After  <code>setContentView(R.layout.activity_main);</code></p>\n<pre><code>downloadfileactivity = findViewById(R.id.downloadfile_activity);\nviewfileactivity = findViewById(R.id.viewfile_activity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9998214,"reputation":409,"user_id":7395121,"display_name":"damienG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664173706,"creation_date":1664173706,"answer_id":73850292,"question_id":73850010,"body_markdown":"Move downloadfileactivity &amp; viewfileactivity initialize to onCreate method. \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button downloadfileactivity;\r\n    Button viewfileactivity;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        downloadfileactivity = findViewById(R.id.downloadfile_activity);\r\n        viewfileactivity = findViewById(R.id.viewfile_activity);\r\n\r\n        downloadfileactivity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(MainActivity.this, DownloadFileActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n\r\n        viewfileactivity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(MainActivity.this, ViewFileActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }}","title":"My android app keeps crashing even after checking for errors in debugging and tests","body":"<p>Move downloadfileactivity &amp; viewfileactivity initialize to onCreate method.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nButton downloadfileactivity;\nButton viewfileactivity;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    downloadfileactivity = findViewById(R.id.downloadfile_activity);\n    viewfileactivity = findViewById(R.id.viewfile_activity);\n\n    downloadfileactivity.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            startActivity(new Intent(MainActivity.this, DownloadFileActivity.class));\n            finish();\n        }\n    });\n\n    viewfileactivity.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            startActivity(new Intent(MainActivity.this, ViewFileActivity.class));\n            finish();\n        }\n    });\n\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664175311,"creation_date":1664175311,"answer_id":73850497,"question_id":73850010,"body_markdown":"Please move your findViewById(R.id.xyz); into the on create method;\r\n\r\n      Button downloadfile_activity;//= findViewById(R.id.downloadfile_activity);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        downloadfile_activity = findViewById(R.id.downloadfile_activity);\r\n        downloadfile_activity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity.this, &quot;Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }","title":"My android app keeps crashing even after checking for errors in debugging and tests","body":"<p>Please move your findViewById(R.id.xyz); into the on create method;</p>\n<pre><code>  Button downloadfile_activity;//= findViewById(R.id.downloadfile_activity);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    downloadfile_activity = findViewById(R.id.downloadfile_activity);\n    downloadfile_activity.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(MainActivity.this, &quot;Clicked&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":17438053,"reputation":29,"user_id":12640693,"display_name":"M. Hayyan Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1664175311,"creation_date":1664171209,"question_id":73850010,"body_markdown":"activity_main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/downloadfile_activity&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;25dp&quot;\r\n        android:text=&quot;Download File&quot;\r\n        android:textAllCaps=&quot;false&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/viewfile_activity&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;25dp&quot;\r\n        android:text=&quot;View File&quot;\r\n        android:textAllCaps=&quot;false&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nMainActivity.java:\r\n\r\n\r\n```\r\npackage com.example.galleryapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button downloadfileactivity = findViewById(R.id.downloadfile_activity);\r\n    Button viewfileactivity = findViewById(R.id.viewfile_activity);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        downloadfileactivity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(MainActivity.this, DownloadFileActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n\r\n        viewfileactivity.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(MainActivity.this, ViewFileActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve been trying to make a simple layout of an activity using Linear Layout, but whenever I try to implement the onClickListeners to the buttons in the layout and it crashes, I debug and run tests and everything turns out perfect. I try to rerun the app but it still crashes. I&#39;ve tried to clean project and then rerun the app. NOTHING CHANGES. I have even tried to copy only that part of code, which I 1000% know it would run, to a new project. Even that project is crashing!-_-  I am always forced to keep deleting the project that keeps crashing and creating new project. And if that project crashes as well, another one. If that one crashes too, then another one! I know this sounds very childish and such but this is just frustating to me, keeping in mind that I&#39;ve been working in android development in Android Studio for the past 2 years :((\r\n\r\nps: ive been running projects on my phone(Android 9) through a USB cable.","title":"My android app keeps crashing even after checking for errors in debugging and tests","body":"<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/downloadfile_activity&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:text=&quot;Download File&quot;\n        android:textAllCaps=&quot;false&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/viewfile_activity&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:text=&quot;View File&quot;\n        android:textAllCaps=&quot;false&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.galleryapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainActivity extends AppCompatActivity {\n    Button downloadfileactivity = findViewById(R.id.downloadfile_activity);\n    Button viewfileactivity = findViewById(R.id.viewfile_activity);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        downloadfileactivity.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(MainActivity.this, DownloadFileActivity.class));\n                finish();\n            }\n        });\n\n        viewfileactivity.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                startActivity(new Intent(MainActivity.this, ViewFileActivity.class));\n                finish();\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>I've been trying to make a simple layout of an activity using Linear Layout, but whenever I try to implement the onClickListeners to the buttons in the layout and it crashes, I debug and run tests and everything turns out perfect. I try to rerun the app but it still crashes. I've tried to clean project and then rerun the app. NOTHING CHANGES. I have even tried to copy only that part of code, which I 1000% know it would run, to a new project. Even that project is crashing!-_-  I am always forced to keep deleting the project that keeps crashing and creating new project. And if that project crashes as well, another one. If that one crashes too, then another one! I know this sounds very childish and such but this is just frustating to me, keeping in mind that I've been working in android development in Android Studio for the past 2 years :((</p>\n<p>ps: ive been running projects on my phone(Android 9) through a USB cable.</p>\n"},{"tags":["java","amazon-web-services","kotlin","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625134969,"creation_date":1625133496,"answer_id":68208118,"question_id":68196758,"body_markdown":"I was also trying to achieve something similar but I didn&#39;t find any lib for that purpose, hence I took a few minutes to code it myself.\r\n\r\nProvided with a json file structured the same way as in the [documentation example][1]:\r\n\r\n    {\r\n        TableName : &quot;Music&quot;,\r\n        KeySchema: [\r\n            {\r\n                AttributeName: &quot;Artist&quot;,\r\n                KeyType: &quot;HASH&quot;, \r\n            },\r\n            {\r\n                AttributeName: &quot;SongTitle&quot;,\r\n                KeyType: &quot;RANGE&quot; \r\n            }\r\n        ],\r\n        AttributeDefinitions: [\r\n            {\r\n                AttributeName: &quot;Artist&quot;,\r\n                AttributeType: &quot;S&quot;\r\n            },\r\n            {\r\n                AttributeName: &quot;SongTitle&quot;,\r\n                AttributeType: &quot;S&quot;\r\n            }\r\n        ],\r\n        ProvisionedThroughput: {       \r\n            ReadCapacityUnits: 1,\r\n            WriteCapacityUnits: 1\r\n        }\r\n    } \r\n\r\n\r\n\r\n\r\nThe code bellow works. Note that:\r\n\r\n - The createTable method expects a json string, which you can obtain using something like `Files.readString(Path.of(&quot;path/to/your/file.json&quot;))`\r\n - if you do not use [Lombok][2] you have to create constructors/getters/setters yourself\r\n - the `@JsonProperty` annotations are only necessary if the class field names are not an exact match to the json ones (in this case, the first letter is uppercase), [explained here][3].\r\n\r\n\r\n------\r\n\r\n       \r\n     \r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\n    import com.amazonaws.services.dynamodbv2.model.*;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n        public class CreateTable {\r\n            private final AmazonDynamoDB amazonDynamoDB;\r\n        \r\n            public void createTable(String json) throws JsonProcessingException {\r\n                Table table = readTable(json);\r\n                amazonDynamoDB.createTable(getTableRequest(table));\r\n            }\r\n        \r\n            private CreateTableRequest getTableRequest(Table table) {\r\n                return new CreateTableRequest()\r\n                        .withTableName(table.getTableName())\r\n                        .withKeySchema(toKeySchemaElement(table.getKeySchema()))\r\n                        .withAttributeDefinitions(toAttributeDefinition(table.getAttributeDefinitions()))\r\n                        .withProvisionedThroughput(toProvisionedThroughput(table.getProvisionedThroughput()));\r\n            }\r\n        \r\n            private Table readTable(String json) throws JsonProcessingException {\r\n                return new ObjectMapper().readValue(json, Table.class);\r\n            }\r\n        \r\n            private ProvisionedThroughput toProvisionedThroughput(ProvisionedTp provisionedTp) {\r\n                log.info(&quot;creating provisioned throughput read: {} write: {}&quot;, provisionedTp.getReadCapacityUnits(), provisionedTp.getWriteCapacityUnits());\r\n                return new ProvisionedThroughput(provisionedTp.getReadCapacityUnits(), provisionedTp.getWriteCapacityUnits());\r\n            }\r\n        \r\n            private Collection&lt;AttributeDefinition&gt; toAttributeDefinition(Collection&lt;AttributeDef&gt; attributeDefs) {\r\n                return attributeDefs.stream().map(this::toAttributeDefinition).collect(Collectors.toList());\r\n            }\r\n            \r\n            private AttributeDefinition toAttributeDefinition(AttributeDef attributeDef) {\r\n                log.info(&quot;creating new attribute definition {}: {}&quot;, attributeDef.getAttributeName(), attributeDef.getAttributeType());\r\n                return new AttributeDefinition().withAttributeName(attributeDef.getAttributeName()).withAttributeType(attributeDef.getAttributeType());\r\n            }\r\n        \r\n            private Collection&lt;KeySchemaElement&gt; toKeySchemaElement(Collection&lt;KeySchema&gt; keySchemas) {\r\n                return keySchemas.stream().map(this::toKeySchemaElement).collect(Collectors.toList());\r\n            }\r\n        \r\n            private KeySchemaElement toKeySchemaElement(KeySchema keySchema) {\r\n                log.info(&quot;creating new key schema element {}: {}&quot;, keySchema.getAttributeName(), keySchema.getKeyType());\r\n                return new KeySchemaElement().withAttributeName(keySchema.getAttributeName()).withKeyType(keySchema.getKeyType());\r\n            }\r\n        \r\n            @Data\r\n            @NoArgsConstructor\r\n            public static class Table {\r\n                @JsonProperty(&quot;TableName&quot;)\r\n                private String tableName;\r\n                @JsonProperty(&quot;KeySchema&quot;)\r\n                private List&lt;KeySchema&gt; keySchema;\r\n                @JsonProperty(&quot;AttributeDefinitions&quot;)\r\n                private List&lt;AttributeDef&gt; attributeDefinitions;\r\n                @JsonProperty(&quot;ProvisionedThroughput&quot;)\r\n                private ProvisionedTp provisionedThroughput;\r\n            }\r\n        \r\n            @Data\r\n            @NoArgsConstructor\r\n            public static class KeySchema {\r\n                @JsonProperty(&quot;AttributeName&quot;)\r\n                private String attributeName;\r\n                @JsonProperty(&quot;KeyType&quot;)\r\n                private String keyType;\r\n            }\r\n        \r\n            @Data\r\n            @NoArgsConstructor\r\n            public static class AttributeDef {\r\n                @JsonProperty(&quot;AttributeName&quot;)\r\n                private String attributeName;\r\n                @JsonProperty(&quot;AttributeType&quot;)\r\n                private String attributeType;\r\n            }\r\n        \r\n            @Data\r\n            @NoArgsConstructor\r\n            public static class ProvisionedTp {\r\n                @JsonProperty(&quot;ReadCapacityUnits&quot;)\r\n                private long readCapacityUnits;\r\n                @JsonProperty(&quot;WriteCapacityUnits&quot;)\r\n                private long writeCapacityUnits;\r\n            }\r\n        \r\n        }\r\n        \r\n    \r\n      \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SQLtoNoSQL.CreateTable.html\r\n  [2]: https://projectlombok.org/\r\n  [3]: https://stackoverflow.com/a/12429907/4828060","title":"Create dynamodb table from JSON","body":"<p>I was also trying to achieve something similar but I didn't find any lib for that purpose, hence I took a few minutes to code it myself.</p>\n<p>Provided with a json file structured the same way as in the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SQLtoNoSQL.CreateTable.html\" rel=\"nofollow noreferrer\">documentation example</a>:</p>\n<pre><code>{\n    TableName : &quot;Music&quot;,\n    KeySchema: [\n        {\n            AttributeName: &quot;Artist&quot;,\n            KeyType: &quot;HASH&quot;, \n        },\n        {\n            AttributeName: &quot;SongTitle&quot;,\n            KeyType: &quot;RANGE&quot; \n        }\n    ],\n    AttributeDefinitions: [\n        {\n            AttributeName: &quot;Artist&quot;,\n            AttributeType: &quot;S&quot;\n        },\n        {\n            AttributeName: &quot;SongTitle&quot;,\n            AttributeType: &quot;S&quot;\n        }\n    ],\n    ProvisionedThroughput: {       \n        ReadCapacityUnits: 1,\n        WriteCapacityUnits: 1\n    }\n} \n</code></pre>\n<p>The code bellow works. Note that:</p>\n<ul>\n<li>The createTable method expects a json string, which you can obtain using something like <code>Files.readString(Path.of(&quot;path/to/your/file.json&quot;))</code></li>\n<li>if you do not use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> you have to create constructors/getters/setters yourself</li>\n<li>the <code>@JsonProperty</code> annotations are only necessary if the class field names are not an exact match to the json ones (in this case, the first letter is uppercase), <a href=\"https://stackoverflow.com/a/12429907/4828060\">explained here</a>.</li>\n</ul>\n<hr />\n<pre><code>import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.model.*;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Slf4j\n@RequiredArgsConstructor\n    public class CreateTable {\n        private final AmazonDynamoDB amazonDynamoDB;\n    \n        public void createTable(String json) throws JsonProcessingException {\n            Table table = readTable(json);\n            amazonDynamoDB.createTable(getTableRequest(table));\n        }\n    \n        private CreateTableRequest getTableRequest(Table table) {\n            return new CreateTableRequest()\n                    .withTableName(table.getTableName())\n                    .withKeySchema(toKeySchemaElement(table.getKeySchema()))\n                    .withAttributeDefinitions(toAttributeDefinition(table.getAttributeDefinitions()))\n                    .withProvisionedThroughput(toProvisionedThroughput(table.getProvisionedThroughput()));\n        }\n    \n        private Table readTable(String json) throws JsonProcessingException {\n            return new ObjectMapper().readValue(json, Table.class);\n        }\n    \n        private ProvisionedThroughput toProvisionedThroughput(ProvisionedTp provisionedTp) {\n            log.info(&quot;creating provisioned throughput read: {} write: {}&quot;, provisionedTp.getReadCapacityUnits(), provisionedTp.getWriteCapacityUnits());\n            return new ProvisionedThroughput(provisionedTp.getReadCapacityUnits(), provisionedTp.getWriteCapacityUnits());\n        }\n    \n        private Collection&lt;AttributeDefinition&gt; toAttributeDefinition(Collection&lt;AttributeDef&gt; attributeDefs) {\n            return attributeDefs.stream().map(this::toAttributeDefinition).collect(Collectors.toList());\n        }\n        \n        private AttributeDefinition toAttributeDefinition(AttributeDef attributeDef) {\n            log.info(&quot;creating new attribute definition {}: {}&quot;, attributeDef.getAttributeName(), attributeDef.getAttributeType());\n            return new AttributeDefinition().withAttributeName(attributeDef.getAttributeName()).withAttributeType(attributeDef.getAttributeType());\n        }\n    \n        private Collection&lt;KeySchemaElement&gt; toKeySchemaElement(Collection&lt;KeySchema&gt; keySchemas) {\n            return keySchemas.stream().map(this::toKeySchemaElement).collect(Collectors.toList());\n        }\n    \n        private KeySchemaElement toKeySchemaElement(KeySchema keySchema) {\n            log.info(&quot;creating new key schema element {}: {}&quot;, keySchema.getAttributeName(), keySchema.getKeyType());\n            return new KeySchemaElement().withAttributeName(keySchema.getAttributeName()).withKeyType(keySchema.getKeyType());\n        }\n    \n        @Data\n        @NoArgsConstructor\n        public static class Table {\n            @JsonProperty(&quot;TableName&quot;)\n            private String tableName;\n            @JsonProperty(&quot;KeySchema&quot;)\n            private List&lt;KeySchema&gt; keySchema;\n            @JsonProperty(&quot;AttributeDefinitions&quot;)\n            private List&lt;AttributeDef&gt; attributeDefinitions;\n            @JsonProperty(&quot;ProvisionedThroughput&quot;)\n            private ProvisionedTp provisionedThroughput;\n        }\n    \n        @Data\n        @NoArgsConstructor\n        public static class KeySchema {\n            @JsonProperty(&quot;AttributeName&quot;)\n            private String attributeName;\n            @JsonProperty(&quot;KeyType&quot;)\n            private String keyType;\n        }\n    \n        @Data\n        @NoArgsConstructor\n        public static class AttributeDef {\n            @JsonProperty(&quot;AttributeName&quot;)\n            private String attributeName;\n            @JsonProperty(&quot;AttributeType&quot;)\n            private String attributeType;\n        }\n    \n        @Data\n        @NoArgsConstructor\n        public static class ProvisionedTp {\n            @JsonProperty(&quot;ReadCapacityUnits&quot;)\n            private long readCapacityUnits;\n            @JsonProperty(&quot;WriteCapacityUnits&quot;)\n            private long writeCapacityUnits;\n        }\n    \n    }\n    \n\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3854824,"reputation":11,"user_id":3194045,"display_name":"camelstrike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664174533,"creation_date":1664174533,"answer_id":73850381,"question_id":68196758,"body_markdown":"I now this is already answered but you can use the provided class [CreateTableRequest][1] together with an object mapper such as Gson.\r\n\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\n    import com.amazonaws.services.dynamodbv2.model.CreateTableRequest;\r\n    import com.google.gson.FieldNamingPolicy;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n\r\n    public class InitTables {\r\n\r\n        private AmazonDynamoDB dynamoDB;\r\n\r\n        private static String musicTable = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;TableName\\&quot; : \\&quot;Music\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;KeySchema\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;AttributeName\\&quot;: \\&quot;Artist\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;KeyType\\&quot;: \\&quot;HASH\\&quot;\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;AttributeName\\&quot;: \\&quot;SongTitle\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;KeyType\\&quot;: \\&quot;RANGE\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ],\\n&quot; +\r\n            &quot;  \\&quot;AttributeDefinitions\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;AttributeName\\&quot;: \\&quot;Artist\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;AttributeType\\&quot;: \\&quot;S\\&quot;\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;AttributeName\\&quot;: \\&quot;SongTitle\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;AttributeType\\&quot;: \\&quot;S\\&quot;\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ],\\n&quot; +\r\n            &quot;  \\&quot;ProvisionedThroughput\\&quot;: {\\n&quot; +\r\n            &quot;    \\&quot;ReadCapacityUnits\\&quot;: 1,\\n&quot; +\r\n            &quot;    \\&quot;WriteCapacityUnits\\&quot;: 1\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n\r\n        public InitTables(AmazonDynamoDB dynamoDB) {\r\n            this.dynamoDB = dynamoDB;\r\n            init();\r\n        }\r\n\r\n        public void init() {\r\n            Gson gson = new GsonBuilder()\r\n                    .setFieldNamingPolicy(FieldNamingPolicy.UPPER_CAMEL_CASE)\r\n                    .create();\r\n            CreateTableRequest createTableRequest = gson.fromJson(musicTable, CreateTableRequest.class);\r\n            dynamoDB.createTable(createTableRequest);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/glue/model/CreateTableRequest.html","title":"Create dynamodb table from JSON","body":"<p>I now this is already answered but you can use the provided class <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/glue/model/CreateTableRequest.html\" rel=\"nofollow noreferrer\">CreateTableRequest</a> together with an object mapper such as Gson.</p>\n<pre><code>import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.model.CreateTableRequest;\nimport com.google.gson.FieldNamingPolicy;\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\npublic class InitTables {\n\n    private AmazonDynamoDB dynamoDB;\n\n    private static String musicTable = &quot;{\\n&quot; +\n        &quot;  \\&quot;TableName\\&quot; : \\&quot;Music\\&quot;,\\n&quot; +\n        &quot;  \\&quot;KeySchema\\&quot;: [\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;AttributeName\\&quot;: \\&quot;Artist\\&quot;,\\n&quot; +\n        &quot;      \\&quot;KeyType\\&quot;: \\&quot;HASH\\&quot;\\n&quot; +\n        &quot;    },\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;AttributeName\\&quot;: \\&quot;SongTitle\\&quot;,\\n&quot; +\n        &quot;      \\&quot;KeyType\\&quot;: \\&quot;RANGE\\&quot;\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;  ],\\n&quot; +\n        &quot;  \\&quot;AttributeDefinitions\\&quot;: [\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;AttributeName\\&quot;: \\&quot;Artist\\&quot;,\\n&quot; +\n        &quot;      \\&quot;AttributeType\\&quot;: \\&quot;S\\&quot;\\n&quot; +\n        &quot;    },\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;AttributeName\\&quot;: \\&quot;SongTitle\\&quot;,\\n&quot; +\n        &quot;      \\&quot;AttributeType\\&quot;: \\&quot;S\\&quot;\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;  ],\\n&quot; +\n        &quot;  \\&quot;ProvisionedThroughput\\&quot;: {\\n&quot; +\n        &quot;    \\&quot;ReadCapacityUnits\\&quot;: 1,\\n&quot; +\n        &quot;    \\&quot;WriteCapacityUnits\\&quot;: 1\\n&quot; +\n        &quot;  }\\n&quot; +\n        &quot;}&quot;;\n\n\n    public InitTables(AmazonDynamoDB dynamoDB) {\n        this.dynamoDB = dynamoDB;\n        init();\n    }\n\n    public void init() {\n        Gson gson = new GsonBuilder()\n                .setFieldNamingPolicy(FieldNamingPolicy.UPPER_CAMEL_CASE)\n                .create();\n        CreateTableRequest createTableRequest = gson.fromJson(musicTable, CreateTableRequest.class);\n        dynamoDB.createTable(createTableRequest);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20931576,"reputation":55,"user_id":15377868,"display_name":"User403768921"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68208118,"answer_count":2,"score":4,"last_activity_date":1664174533,"creation_date":1625063467,"question_id":68196758,"body_markdown":"I&#39;m trying to create a dynamo table in my code through a JSON file which contains the structure of my table. Now i&#39;m creating the table with the following code:\r\n\r\n    amazonClient.createTable(\r\n            CreateTableRequest()\r\n                .withTableName(tableName)\r\n                .withKeySchema(KeySchemaElement(&quot;id&quot;, KeyType.HASH))\r\n                .withAttributeDefinitions(...)\r\n                .withProvisionedThroughput(...)\r\n                .withGlobalSecondaryIndexes(...))\r\n\r\nIs it possible to create it via JSON? ","title":"Create dynamodb table from JSON","body":"<p>I'm trying to create a dynamo table in my code through a JSON file which contains the structure of my table. Now i'm creating the table with the following code:</p>\n<pre><code>amazonClient.createTable(\n        CreateTableRequest()\n            .withTableName(tableName)\n            .withKeySchema(KeySchemaElement(&quot;id&quot;, KeyType.HASH))\n            .withAttributeDefinitions(...)\n            .withProvisionedThroughput(...)\n            .withGlobalSecondaryIndexes(...))\n</code></pre>\n<p>Is it possible to create it via JSON?</p>\n"},{"tags":["java","html","html5-audio","vaadin8"],"comments":[{"owner":{"account_id":22768373,"reputation":35,"user_id":16926108,"display_name":"&#193;lvaro Abad de Donesteve"},"score":0,"creation_date":1664141789,"post_id":73847950,"comment_id":130397798,"body_markdown":"I can comment the  load() line, but the expection remains eventually","body":"I can comment the  load() line, but the expection remains eventually"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664173262,"creation_date":1664173262,"answer_id":73850244,"question_id":73847950,"body_markdown":"One possible problem is that your audio file is bigger than your container allows to serve. The `Audio` component in Vaadin 8 is rather simple and attempts to load the whole file at once. There are two alternatives to fix the issue.\r\n\r\nThe one I recommend to you is to use [AudioVideo][1] component from Vaadin&#39;s directory. It has the replacement components for `Audio` and `Video`, which add some features, most importantly range request support. This means, that browser needs to only to load small buffer of audio at the time, and when you seek to other place in long audio stream, it fetches the audio right from the position without need to load the whole audio stream before getting to that position.\r\n\r\nAnother alternative is to find in your container settings how to allow bigger files to be served. However, this wont improve the usability in the way the first option does.\r\n\r\n  [1]: https://vaadin.com/directory/component/audiovideo","title":"java.io.IOException: A connection established by software on your host computer has been dropped","body":"<p>One possible problem is that your audio file is bigger than your container allows to serve. The <code>Audio</code> component in Vaadin 8 is rather simple and attempts to load the whole file at once. There are two alternatives to fix the issue.</p>\n<p>The one I recommend to you is to use <a href=\"https://vaadin.com/directory/component/audiovideo\" rel=\"nofollow noreferrer\">AudioVideo</a> component from Vaadin's directory. It has the replacement components for <code>Audio</code> and <code>Video</code>, which add some features, most importantly range request support. This means, that browser needs to only to load small buffer of audio at the time, and when you seek to other place in long audio stream, it fetches the audio right from the position without need to load the whole audio stream before getting to that position.</p>\n<p>Another alternative is to find in your container settings how to allow bigger files to be served. However, this wont improve the usability in the way the first option does.</p>\n"}],"owner":{"account_id":22768373,"reputation":35,"user_id":16926108,"display_name":"&#193;lvaro Abad de Donesteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664173262,"creation_date":1664141225,"question_id":73847950,"body_markdown":"\t\r\nwhen I do a seek on an audio, this expcetion pops up. The expcetion is triggered when the audio exceeds 7 MB . Any idea? I &#39;m using Vaadin 8, so audio is an HTML audio/video element.\r\n\r\n-----------------------------------------------------------\r\n\r\n     23:09:41,971 SEVERE [com.vaadin.server.DefaultErrorHandler] (default task-21) : java.io.IOException: Se ha anulado una conexi&#243;n establecida por el software en su equipo host.\r\n        \tat sun.nio.ch.SocketDispatcher.writev0(Native Method)\r\n        \tat sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\r\n        \tat sun.nio.ch.IOUtil.write(IOUtil.java:148)\r\n        \tat sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:504)\r\n        \tat org.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:162)\r\n        \tat io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:647)\r\n        \tat io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\r\n        \tat io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\r\n        \tat io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:219)\r\n        \tat org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:158)\r\n        \tat io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:179)\r\n        \tat io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2064)\r\n        \tat org.xnio.channels.Channels.writeBlocking(Channels.java:152)\r\n        \tat io.undertow.servlet.spec.ServletOutputStreamImpl.writeTooLargeForBuffer(ServletOutputStreamImpl.java:197)\r\n        \tat io.undertow.servlet.spec.ServletOutputStreamImpl.write(ServletOutputStreamImpl.java:145)\r\n        \tat com.vaadin.server.DownloadStream.writeResponse(DownloadStream.java:307)\r\n        \tat com.vaadin.ui.AbstractMedia.handleConnectorRequest(AbstractMedia.java:129)\r\n        \tat com.vaadin.server.ConnectorResourceHandler.handleRequest(ConnectorResourceHandler.java:90)\r\n        \tat com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1601)\r\n        \tat com.vaadin.server.VaadinServlet.service(VaadinServlet.java:445)\r\n        \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n        \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        \tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112)\r\n        \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:274)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:209)\r\n        \tat io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:221)\r\n        \tat io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:147)\r\n        \tat io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:111)\r\n        \tat perseo.ui.ForwardFilter.doFilter(ForwardFilter.java:61)\r\n        \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        \tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)\r\n        \tat org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\r\n        \tat org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\r\n        \tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n        \tat org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)\r\n        \tat org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\r\n        \tat org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\r\n        \tat org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\r\n        \tat org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\r\n        \tat org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\r\n        \tat org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\r\n        \tat perseo.ui.CustomShiroFilter.doFilterInternal(CustomShiroFilter.java:23)\r\n        \tat org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\r\n        \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        \tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n        \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        \tat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n        \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n        \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n        \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n        \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n        \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\r\n        \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\r\n        \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n        \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n        \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n        \tat java.lang.Thread.run(Thread.java:748)\r\n----------------------------------------------------------\r\nThis is call hierarchy of the code:\r\nA thread which runs a while and calls update, who tryes to access to the UI ir order to keep the playback and the view sinchronized\r\n---------------------------------------------------------------------\r\n\r\n    @Override\r\n    \tpublic void run() {\r\n    \t\twhile (true) {\r\n    \t\t\t\tupdate();\r\n\r\n----------------------------------------------------------\r\n\t\r\n\r\n    @Override\r\n    \tpublic void update() {\r\n    \t\tif (ui == null || !ui.isAttached() || ui.isClosing()) {\r\n    \t\t} else {\r\n    \t\t\tui.access( new Runnable() {\r\n    \t\t\t\tpublic void run() {\r\n                         // some stuff and seekAudio() eventually\r\n\r\n----------------------------------------------------------\r\n\r\n    private synchronized void seekAudio(double secs, String id) {\r\n\r\n\tPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).load();}&quot;);\t// problems without this !!!!!\r\n\tPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).currentTime = &quot;+secs+&quot;;}&quot;);\r\n\r\n\tPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById(&#39;&quot;\r\n\t\t\t\t+ id + &quot;&#39;).playbackRate = &quot;+ speed +&quot;;}&quot;);\r\n\r\n}\r\n\r\n","title":"java.io.IOException: A connection established by software on your host computer has been dropped","body":"<p>when I do a seek on an audio, this expcetion pops up. The expcetion is triggered when the audio exceeds 7 MB . Any idea? I 'm using Vaadin 8, so audio is an HTML audio/video element.</p>\n<hr />\n<pre><code> 23:09:41,971 SEVERE [com.vaadin.server.DefaultErrorHandler] (default task-21) : java.io.IOException: Se ha anulado una conexin establecida por el software en su equipo host.\n        at sun.nio.ch.SocketDispatcher.writev0(Native Method)\n        at sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\n        at sun.nio.ch.IOUtil.write(IOUtil.java:148)\n        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:504)\n        at org.xnio.nio.NioSocketConduit.write(NioSocketConduit.java:162)\n        at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:647)\n        at io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:166)\n        at io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:128)\n        at io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:219)\n        at org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:158)\n        at io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:179)\n        at io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2064)\n        at org.xnio.channels.Channels.writeBlocking(Channels.java:152)\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.writeTooLargeForBuffer(ServletOutputStreamImpl.java:197)\n        at io.undertow.servlet.spec.ServletOutputStreamImpl.write(ServletOutputStreamImpl.java:145)\n        at com.vaadin.server.DownloadStream.writeResponse(DownloadStream.java:307)\n        at com.vaadin.ui.AbstractMedia.handleConnectorRequest(AbstractMedia.java:129)\n        at com.vaadin.server.ConnectorResourceHandler.handleRequest(ConnectorResourceHandler.java:90)\n        at com.vaadin.server.VaadinService.handleRequest(VaadinService.java:1601)\n        at com.vaadin.server.VaadinServlet.service(VaadinServlet.java:445)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:274)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:209)\n        at io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:221)\n        at io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:147)\n        at io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:111)\n        at perseo.ui.ForwardFilter.doFilter(ForwardFilter.java:61)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)\n        at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\n        at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n        at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\n        at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\n        at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\n        at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\n        at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\n        at perseo.ui.CustomShiroFilter.doFilterInternal(CustomShiroFilter.java:23)\n        at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1514)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<hr />\n<h2>This is call hierarchy of the code:\nA thread which runs a while and calls update, who tryes to access to the UI ir order to keep the playback and the view sinchronized</h2>\n<pre><code>@Override\n    public void run() {\n        while (true) {\n                update();\n</code></pre>\n<hr />\n<pre><code>@Override\n    public void update() {\n        if (ui == null || !ui.isAttached() || ui.isClosing()) {\n        } else {\n            ui.access( new Runnable() {\n                public void run() {\n                     // some stuff and seekAudio() eventually\n</code></pre>\n<hr />\n<pre><code>private synchronized void seekAudio(double secs, String id) {\n\nPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById('&quot; + id + &quot;').load();}&quot;);  // problems without this !!!!!\nPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById('&quot; + id + &quot;').currentTime = &quot;+secs+&quot;;}&quot;);\n\nPage.getCurrent().getJavaScript().execute(&quot;{&quot; + &quot;document.getElementById('&quot;\n            + id + &quot;').playbackRate = &quot;+ speed +&quot;;}&quot;);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1535034663,"post_id":51986766,"comment_id":90925936,"body_markdown":"What if you add in your constructor `setAuthenticationManager(new NoOpAuthenticationManager());` ?","body":"What if you add in your constructor <code>setAuthenticationManager(new NoOpAuthenticationManager());</code> ?"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1535102174,"post_id":51986766,"comment_id":90951431,"body_markdown":"I think OP wants to have his `authenticate` honored.","body":"I think OP wants to have his <code>authenticate</code> honored."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1535102203,"post_id":51986766,"comment_id":90951448,"body_markdown":"Added an answer, hopefully it&#39;s not too dense","body":"Added an answer, hopefully it&#39;s not too dense"}],"answers":[{"tags":[],"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535037004,"creation_date":1535037004,"answer_id":51988966,"question_id":51986766,"body_markdown":"You should set the authentication manager to your filter.\r\nYou can do that adding this method to your configuration class \r\n\r\n     @Bean \r\n        public MyAuthenticationFilter myAuthenticationFilter() {\r\n        \tMyAuthenticationFilter res = new MyAuthenticationFilter();\r\n        \ttry {\r\n    \t\t\tres.setAuthenticationManager(authenticationManagerBean());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        \treturn res;\r\n        }\r\n\r\nand modifying the configure method with \r\n\r\n`http.addFilterBefore(myAuthenticationFilter(), BasicAuthenticationFilter.class).`...\r\n","title":"Spring Security getAuthenticationManager() returns null within custom filter","body":"<p>You should set the authentication manager to your filter.\nYou can do that adding this method to your configuration class </p>\n\n<pre><code> @Bean \n    public MyAuthenticationFilter myAuthenticationFilter() {\n        MyAuthenticationFilter res = new MyAuthenticationFilter();\n        try {\n            res.setAuthenticationManager(authenticationManagerBean());\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return res;\n    }\n</code></pre>\n\n<p>and modifying the configure method with </p>\n\n<p><code>http.addFilterBefore(myAuthenticationFilter(), BasicAuthenticationFilter.class).</code>...</p>\n"},{"tags":[],"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1535102057,"creation_date":1535102057,"answer_id":52001158,"question_id":51986766,"body_markdown":"**Why you&#39;re seeing a NullPointerException**\r\n\r\nYou&#39;re seeing a `NullPointerException` because you do not have an `AuthenticationManager` wired into your filter. According to the javadocs for `AbstractAuthenticationProcessingFilter`\r\n\r\n&gt;  The filter requires that you set the &lt;tt&gt;authenticationManager&lt;/tt&gt; property. An &lt;tt&gt;AuthenticationManager&lt;/tt&gt; is required to process the authentication request tokens created by implementing classes\r\n\r\n\r\n\r\nThis being the case, I do scratch my head as to why the `authenticationManager` did not make the cut for a constructor argument for this abstract filter. I would recommend enforcing this in your constructor for your custom filter.\r\n\r\n    public MyAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n        this.setAuthenticationManager(authenticationManager);\r\n    }\r\n\r\n**AuthenticationManager or the AuthenticationProvider**\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(myAuthenticationProvider);\r\n    }\r\nThe `AuthenticationManagerBuilder` will create a `ProviderManager (an AuthenticationManager)`. \r\n\r\nThe `ProviderManager` is a collection of `AuthenticationProvider` and will attempt to `authenticate()` with every `AuthenticationProvider` that it manages. (This is where `public boolean supports(Class&lt;?&gt; authentication)` is extremely important in the`AuthenticationProvider` contract)\r\n\r\nIn your configuration, you have created an `ProviderManager` containing just your custom `Authentication Provider`\r\n\r\n**Cool. Now where is my AuthenticationManager?**\r\n\r\nIt is possible to grab the `AuthenticationManager` built by the `configure()` method by  `this.authenticationManager()` in the `WebSecurityConfigurerAdapter`\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager throws Exception() {\r\n        this.authenticationManager();\r\n    }\r\n   \r\n\r\n**Recommendations**\r\n\r\nCreating your own `ProviderManager` does have it&#39;s benefits as it would be explicit and within your control.\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        return new ProviderManager(Arrays.asList(myAuthenticationProvider));\r\n    }\r\n\r\nThis will let you be flexible with the placement of your `AuthenticationManager` bean and avoid:\r\n \r\n - Potential cyclic dependency issues in your bean configurations\r\n - Bubbling up the checked `Exception` as a result of calling `this.authenticationManager()`\r\n\r\n\r\n**Putting it all Together**\r\n\r\n    ...\r\n    public class AppConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        MyAuthenticationProvider myAuthenticationProvider;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilterBefore(new MyAuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class)\r\n            ...\r\n        }\r\n\r\n        @Bean\r\n        public AuthenticationManager authenticationManager() {\r\n            return new ProviderManager(Arrays.asList(myAuthenticationProvider));\r\n        }\r\n    }\r\n   \r\n\r\n\r\n    \r\n","title":"Spring Security getAuthenticationManager() returns null within custom filter","body":"<p><strong>Why you're seeing a NullPointerException</strong></p>\n\n<p>You're seeing a <code>NullPointerException</code> because you do not have an <code>AuthenticationManager</code> wired into your filter. According to the javadocs for <code>AbstractAuthenticationProcessingFilter</code></p>\n\n<blockquote>\n  <p>The filter requires that you set the authenticationManager property. An AuthenticationManager is required to process the authentication request tokens created by implementing classes</p>\n</blockquote>\n\n<p>This being the case, I do scratch my head as to why the <code>authenticationManager</code> did not make the cut for a constructor argument for this abstract filter. I would recommend enforcing this in your constructor for your custom filter.</p>\n\n<pre><code>public MyAuthenticationFilter(AuthenticationManager authenticationManager) {\n    super(new AntPathRequestMatcher(\"/login\", \"POST\"));\n    this.setAuthenticationManager(authenticationManager);\n}\n</code></pre>\n\n<p><strong>AuthenticationManager or the AuthenticationProvider</strong></p>\n\n<pre><code>@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.authenticationProvider(myAuthenticationProvider);\n}\n</code></pre>\n\n<p>The <code>AuthenticationManagerBuilder</code> will create a <code>ProviderManager (an AuthenticationManager)</code>. </p>\n\n<p>The <code>ProviderManager</code> is a collection of <code>AuthenticationProvider</code> and will attempt to <code>authenticate()</code> with every <code>AuthenticationProvider</code> that it manages. (This is where <code>public boolean supports(Class&lt;?&gt; authentication)</code> is extremely important in the<code>AuthenticationProvider</code> contract)</p>\n\n<p>In your configuration, you have created an <code>ProviderManager</code> containing just your custom <code>Authentication Provider</code></p>\n\n<p><strong>Cool. Now where is my AuthenticationManager?</strong></p>\n\n<p>It is possible to grab the <code>AuthenticationManager</code> built by the <code>configure()</code> method by  <code>this.authenticationManager()</code> in the <code>WebSecurityConfigurerAdapter</code></p>\n\n<pre><code>@Bean\npublic AuthenticationManager authenticationManager throws Exception() {\n    this.authenticationManager();\n}\n</code></pre>\n\n<p><strong>Recommendations</strong></p>\n\n<p>Creating your own <code>ProviderManager</code> does have it's benefits as it would be explicit and within your control.</p>\n\n<pre><code>@Bean\npublic AuthenticationManager authenticationManager() {\n    return new ProviderManager(Arrays.asList(myAuthenticationProvider));\n}\n</code></pre>\n\n<p>This will let you be flexible with the placement of your <code>AuthenticationManager</code> bean and avoid:</p>\n\n<ul>\n<li>Potential cyclic dependency issues in your bean configurations</li>\n<li>Bubbling up the checked <code>Exception</code> as a result of calling <code>this.authenticationManager()</code></li>\n</ul>\n\n<p><strong>Putting it all Together</strong></p>\n\n<pre><code>...\npublic class AppConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    MyAuthenticationProvider myAuthenticationProvider;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterBefore(new MyAuthenticationFilter(authenticationManager()), BasicAuthenticationFilter.class)\n        ...\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        return new ProviderManager(Arrays.asList(myAuthenticationProvider));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12175626,"reputation":332,"user_id":8888796,"display_name":"Heybat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664173118,"creation_date":1664173118,"answer_id":73850229,"question_id":51986766,"body_markdown":"in my case nothing helped except this:\r\n\r\n    public AuthenticationManager authenticationManager() {\r\n        return new ProviderManager(Arrays.asList(tokenAuthenticationProvider, \r\n                                                 apiKeyAuthenticationProvider));\r\n    }","title":"Spring Security getAuthenticationManager() returns null within custom filter","body":"<p>in my case nothing helped except this:</p>\n<pre><code>public AuthenticationManager authenticationManager() {\n    return new ProviderManager(Arrays.asList(tokenAuthenticationProvider, \n                                             apiKeyAuthenticationProvider));\n}\n</code></pre>\n"}],"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14650,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52001158,"answer_count":3,"score":8,"last_activity_date":1664173118,"creation_date":1535030369,"question_id":51986766,"body_markdown":"I am trying to implement a very simple example of customized authentication process in Spring to get a better understanding of the concept.\r\n\r\nI thought i had everything in place now but sending a request to test what I implemented results in a NullPointerException which can be tracked down to\r\n*this.getAuthenticationManager()* returning null in my custom filter. But I don&#39;t understand why. The very similar existing question didn&#39;t really help me unfortunately. So I would be thankful for help; here are the most relevant classes I think, feel free to ask if any more is needed.\r\n\r\n*MyAuthenticationFilter* (Based on the source-code of UsernamePasswordAuthenticationFilter), error happens in last line of this:\r\n\r\n    public class MyAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        public MyAuthenticationFilter() {\r\n            super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n                if (!request.getMethod().equals(&quot;POST&quot;)) {\r\n                    throw new AuthenticationServiceException(\r\n                            &quot;Authentication method not supported: &quot; + request.getMethod());\r\n                }\r\n    \r\n                String username = request.getParameter(&quot;username&quot;);\r\n                String password = request.getParameter(&quot;password&quot;);\r\n                String secondSecret = request.getParameter(&quot;secondSecret&quot;);\r\n    \r\n                if (username == null) {\r\n                    username = &quot;&quot;;\r\n                }\r\n    \r\n                if (password == null) {\r\n                    password = &quot;&quot;;\r\n                }\r\n    \r\n                username = username.trim();\r\n    \r\n                MyAuthenticationToken authRequest = new MyAuthenticationToken(username, new MyCredentials(password, secondSecret));\r\n    \r\n                return this.getAuthenticationManager().authenticate(authRequest);\r\n        }\r\n    }\r\n\r\nMy config-class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    public class AppConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        MyAuthenticationProvider myAuthenticationProvider;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(myAuthenticationProvider);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilterBefore(new MyAuthenticationFilter(), BasicAuthenticationFilter.class)\r\n                    .authorizeRequests().antMatchers(&quot;/**&quot;)\r\n                        .hasAnyRole()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n                        .and()\r\n                    .csrf().disable();\r\n        }\r\n    \r\n        @Bean\r\n        public ViewResolver viewResolver() {\r\n            InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n            viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n            viewResolver.setSuffix(&quot;.jsp&quot;);\r\n            return viewResolver;\r\n        }\r\n    }\r\n\r\n*MyAuthenticationProvider*:\r\n\r\n    @Component\r\n    public class MyAuthenticationProvider implements AuthenticationProvider {\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            MyAuthenticationToken myAuthenticationToken = (MyAuthenticationToken) authentication;\r\n            MyCredentials credentials = (MyCredentials) myAuthenticationToken.getCredentials();\r\n            if (credentials.getPassword().equals(&quot;sesamOeffneDich&quot;) &amp;&amp; credentials.getSecondSecret().equals(MyAuthenticationToken.SECOND_SECRET)) {\r\n                myAuthenticationToken.setAuthenticated(true);\r\n                return myAuthenticationToken;\r\n            } else {\r\n                throw new BadCredentialsException(&quot;Bad credentials supplied!&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return MyAuthenticationToken.class.isAssignableFrom(authentication);\r\n        }\r\n    }","title":"Spring Security getAuthenticationManager() returns null within custom filter","body":"<p>I am trying to implement a very simple example of customized authentication process in Spring to get a better understanding of the concept.</p>\n\n<p>I thought i had everything in place now but sending a request to test what I implemented results in a NullPointerException which can be tracked down to\n<em>this.getAuthenticationManager()</em> returning null in my custom filter. But I don't understand why. The very similar existing question didn't really help me unfortunately. So I would be thankful for help; here are the most relevant classes I think, feel free to ask if any more is needed.</p>\n\n<p><em>MyAuthenticationFilter</em> (Based on the source-code of UsernamePasswordAuthenticationFilter), error happens in last line of this:</p>\n\n<pre><code>public class MyAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n\n    public MyAuthenticationFilter() {\n        super(new AntPathRequestMatcher(\"/login\", \"POST\"));\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n            if (!request.getMethod().equals(\"POST\")) {\n                throw new AuthenticationServiceException(\n                        \"Authentication method not supported: \" + request.getMethod());\n            }\n\n            String username = request.getParameter(\"username\");\n            String password = request.getParameter(\"password\");\n            String secondSecret = request.getParameter(\"secondSecret\");\n\n            if (username == null) {\n                username = \"\";\n            }\n\n            if (password == null) {\n                password = \"\";\n            }\n\n            username = username.trim();\n\n            MyAuthenticationToken authRequest = new MyAuthenticationToken(username, new MyCredentials(password, secondSecret));\n\n            return this.getAuthenticationManager().authenticate(authRequest);\n    }\n}\n</code></pre>\n\n<p>My config-class:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableWebMvc\n@ComponentScan\npublic class AppConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    MyAuthenticationProvider myAuthenticationProvider;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(myAuthenticationProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterBefore(new MyAuthenticationFilter(), BasicAuthenticationFilter.class)\n                .authorizeRequests().antMatchers(\"/**\")\n                    .hasAnyRole()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .csrf().disable();\n    }\n\n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n}\n</code></pre>\n\n<p><em>MyAuthenticationProvider</em>:</p>\n\n<pre><code>@Component\npublic class MyAuthenticationProvider implements AuthenticationProvider {\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        MyAuthenticationToken myAuthenticationToken = (MyAuthenticationToken) authentication;\n        MyCredentials credentials = (MyCredentials) myAuthenticationToken.getCredentials();\n        if (credentials.getPassword().equals(\"sesamOeffneDich\") &amp;&amp; credentials.getSecondSecret().equals(MyAuthenticationToken.SECOND_SECRET)) {\n            myAuthenticationToken.setAuthenticated(true);\n            return myAuthenticationToken;\n        } else {\n            throw new BadCredentialsException(\"Bad credentials supplied!\");\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return MyAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","junit5","powermockito"],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664119091,"creation_date":1664119091,"answer_id":73845639,"question_id":73841596,"body_markdown":"First, @RunWith is a Junit4 annotation, not Junit5 contrary to @ExtendWith. So, your Powermock configuration won&#39;t work in JUnit5 context.\r\n\r\n&gt; I wanted to know if I even require to mock the inner methods like getToken\r\n\r\nEffectively, you don&#39;t need to mock `getToken` because you already mock the `getDocument` which calls `getToken`. `getToken` will never be reached.\r\n\r\nYou can look at this thread on how to mock new instance creation with Junit5 and Powermock: https://stackoverflow.com/questions/68460521/mock-whenever-new-instance-created-without-powermockito-junit5","title":"Method is returning null even after using when/thenReturn","body":"<p>First, @RunWith is a Junit4 annotation, not Junit5 contrary to @ExtendWith. So, your Powermock configuration won't work in JUnit5 context.</p>\n<blockquote>\n<p>I wanted to know if I even require to mock the inner methods like getToken</p>\n</blockquote>\n<p>Effectively, you don't need to mock <code>getToken</code> because you already mock the <code>getDocument</code> which calls <code>getToken</code>. <code>getToken</code> will never be reached.</p>\n<p>You can look at this thread on how to mock new instance creation with Junit5 and Powermock: <a href=\"https://stackoverflow.com/questions/68460521/mock-whenever-new-instance-created-without-powermockito-junit5\">Mock whenever new instance created without PowerMockito JUnit5</a></p>\n"}],"owner":{"account_id":14342927,"reputation":41,"user_id":10360596,"display_name":"Sparrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73845639,"answer_count":1,"score":0,"last_activity_date":1664173064,"creation_date":1664070315,"question_id":73841596,"body_markdown":"\r\nAs the title states,the response I am getting for the call I make, even using a mocked instance of the class I&#39;m trying to test, I am not able to assert the response as not null. Even when I use a when/thenReturn, it somehow isn&#39;t working. \r\n\r\nThe Testcase I&#39;m writing looks like this\r\n```\r\n@Mock Client clientMock;\r\n@Mock DocumentType documentMock;\r\n@Mock LambdaLogger logger;\r\n@InjectMocks Handler handler;   // I have annotated the handler class with @ExtendWith(MockitoExtension.class and @RunWith(PowerMockRunner.class)\r\n\r\n@Test\r\npublic void handleRequest() {\r\n    Handler handler = new Handler();\r\n    EventRequest request = buildEventRequest();\r\n    String property1 = &quot;abcd&quot;;\r\n    String property2 = &quot;1234&quot;;\r\n\r\n\r\n    PowerMockito.whenNew(Client.class).withAnyArguments().thenReturn(clientMock);\r\n    PowerMockito.when(clientMock.getToken(logger, &quot;sampleId&quot;).thenReturn(&quot;sampleToken&quot;);\r\n    PowerMockito.when(clientMock.getDocument(property1, property2, logger).thenReturn(document);\r\n    Object result = handler.handleRequest(request, context);\r\n    assertNotNull(result);\r\n}\r\n```\r\n\r\nThe method I&#39;m trying to test:\r\n```\r\npublic class Handler{\r\n\r\n    public Object handleRequest(Object object, Context context) {\r\n        DocumentType document = getTheDocument(object.getProperties());  //calls a private method within the same class\r\n        if (document != null) {\r\n            document.setNewProperties(abc);\r\n        }\r\n        return document;\r\n    }\r\n\r\n    private DocumentType getTheDocument(String property1, String property2, LambdaLogger.class) {\r\n        Client client = new Client();  //trying to mock this client to get a document\r\n        DocumentType document = new DocumentType();\r\n        document = client.getDocument(property1, property2);  \r\n        return document;\r\n    }\r\n}\r\n```\r\nThe client class is something like this\r\n```\r\npublic class Client{\r\n    public Object getDocument(String property1, String property2, LambdaLogger logger) {\r\n        String token = getToken(logger, property1);\r\n        // Makes post call to get CloseableHttpResponse, uses this to call a static method to get the document\r\n        Document document = AnotherClass.getDocument(closeableHttpResponse);\r\n        // Creates an Unmarshaller from JAXBContext, for the DocumentType.class, get&#39;s data as inputstream\r\n        document = (DocumentType) unmarshaller.unmarshall(inputstream);\r\n        return document;\r\n    }\r\n   \r\n    public String getToken(LambdaLogger logger, String id) {\r\n        // returns AWSSecretsManager secret\r\n    }\r\n}\r\n```\r\n\r\nI wanted to know if I even require to mock the inner methods like getToken, and why the     ``` when(clientMock.getDocument(property1, property2, logger).thenReturn(document); ``` doesn&#39;t work. I used PowerMockito&#39;s whenNew as a new object of type Client is created within the private method, but that doesn&#39;t seem to mock the client correctly.\r\n\r\nDo I need to use ReflectionUtils to invoke the Private method within the Handler class and do something like this?\r\n```\r\n    Method getTheDocument = Handler.class.getDeclaredMethod(&quot;getTheDocument&quot;, String.class, String.class, LambdaLogger.class)\r\n    getTheDocument.setAccessible(true);\r\n    getTheDocument.invoke(handler, property1, property2, logger);  //want to stub a return value for getDocument but not sure how to, so left it as it is here\r\n```\r\n\r\nThe unmarshaller.unmarshall(inputstream); is the point in the dataflow where the null is returned from, if that helps. \r\nI&#39;ve tried a lot of stuff, and mocked inner methods to return mocked values, but nothing is working at this point. Please let me know if I&#39;m missing something here, or if you have any suggestions. (P.S. I am not able to modify the original code, I can only add the test cases)\r\n","title":"Method is returning null even after using when/thenReturn","body":"<p>As the title states,the response I am getting for the call I make, even using a mocked instance of the class I'm trying to test, I am not able to assert the response as not null. Even when I use a when/thenReturn, it somehow isn't working.</p>\n<p>The Testcase I'm writing looks like this</p>\n<pre><code>@Mock Client clientMock;\n@Mock DocumentType documentMock;\n@Mock LambdaLogger logger;\n@InjectMocks Handler handler;   // I have annotated the handler class with @ExtendWith(MockitoExtension.class and @RunWith(PowerMockRunner.class)\n\n@Test\npublic void handleRequest() {\n    Handler handler = new Handler();\n    EventRequest request = buildEventRequest();\n    String property1 = &quot;abcd&quot;;\n    String property2 = &quot;1234&quot;;\n\n\n    PowerMockito.whenNew(Client.class).withAnyArguments().thenReturn(clientMock);\n    PowerMockito.when(clientMock.getToken(logger, &quot;sampleId&quot;).thenReturn(&quot;sampleToken&quot;);\n    PowerMockito.when(clientMock.getDocument(property1, property2, logger).thenReturn(document);\n    Object result = handler.handleRequest(request, context);\n    assertNotNull(result);\n}\n</code></pre>\n<p>The method I'm trying to test:</p>\n<pre><code>public class Handler{\n\n    public Object handleRequest(Object object, Context context) {\n        DocumentType document = getTheDocument(object.getProperties());  //calls a private method within the same class\n        if (document != null) {\n            document.setNewProperties(abc);\n        }\n        return document;\n    }\n\n    private DocumentType getTheDocument(String property1, String property2, LambdaLogger.class) {\n        Client client = new Client();  //trying to mock this client to get a document\n        DocumentType document = new DocumentType();\n        document = client.getDocument(property1, property2);  \n        return document;\n    }\n}\n</code></pre>\n<p>The client class is something like this</p>\n<pre><code>public class Client{\n    public Object getDocument(String property1, String property2, LambdaLogger logger) {\n        String token = getToken(logger, property1);\n        // Makes post call to get CloseableHttpResponse, uses this to call a static method to get the document\n        Document document = AnotherClass.getDocument(closeableHttpResponse);\n        // Creates an Unmarshaller from JAXBContext, for the DocumentType.class, get's data as inputstream\n        document = (DocumentType) unmarshaller.unmarshall(inputstream);\n        return document;\n    }\n   \n    public String getToken(LambdaLogger logger, String id) {\n        // returns AWSSecretsManager secret\n    }\n}\n</code></pre>\n<p>I wanted to know if I even require to mock the inner methods like getToken, and why the     <code>when(clientMock.getDocument(property1, property2, logger).thenReturn(document);</code> doesn't work. I used PowerMockito's whenNew as a new object of type Client is created within the private method, but that doesn't seem to mock the client correctly.</p>\n<p>Do I need to use ReflectionUtils to invoke the Private method within the Handler class and do something like this?</p>\n<pre><code>    Method getTheDocument = Handler.class.getDeclaredMethod(&quot;getTheDocument&quot;, String.class, String.class, LambdaLogger.class)\n    getTheDocument.setAccessible(true);\n    getTheDocument.invoke(handler, property1, property2, logger);  //want to stub a return value for getDocument but not sure how to, so left it as it is here\n</code></pre>\n<p>The unmarshaller.unmarshall(inputstream); is the point in the dataflow where the null is returned from, if that helps.\nI've tried a lot of stuff, and mocked inner methods to return mocked values, but nothing is working at this point. Please let me know if I'm missing something here, or if you have any suggestions. (P.S. I am not able to modify the original code, I can only add the test cases)</p>\n"},{"tags":["java","android","android-studio","textview","shadow"],"comments":[{"owner":{"account_id":25478274,"reputation":101,"user_id":19275116,"display_name":"not_a_robot"},"score":0,"creation_date":1664906273,"post_id":73836436,"comment_id":130575576,"body_markdown":"I found the answer here:\nhttps://stackoverflow.com/a/64999338/19275116\nIt was because of my device...","body":"I found the answer here: <a href=\"https://stackoverflow.com/a/64999338/19275116\">stackoverflow.com/a/64999338/19275116</a> It was because of my device..."}],"answers":[{"tags":[],"owner":{"account_id":6818910,"reputation":156,"user_id":12238257,"display_name":"MAYUR SANCHETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664172288,"creation_date":1664172288,"answer_id":73850127,"question_id":73836436,"body_markdown":"to set shadow you can try, \r\n\r\nmake new xml and use below code,\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@android:drawable/dialog_holo_light_frame&quot;/&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;corners android:radius=&quot;1dp&quot; /&gt;\r\n                &lt;solid android:color=&quot;@color/gray_200&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    \r\n    &lt;/layer-list&gt;\r\n\r\nthen,\r\ncall below code,\r\nandroid:background=&quot;@drawable/myrect&quot;  .","title":"TextView shadow color always white - Android Studio","body":"<p>to set shadow you can try,</p>\n<p>make new xml and use below code,\n\n</p>\n<pre><code>    &lt;item android:drawable=&quot;@android:drawable/dialog_holo_light_frame&quot;/&gt;\n\n    &lt;item&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;corners android:radius=&quot;1dp&quot; /&gt;\n            &lt;solid android:color=&quot;@color/gray_200&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n<p>then,\ncall below code,\nandroid:background=&quot;@drawable/myrect&quot;  .</p>\n"}],"owner":{"account_id":25478274,"reputation":101,"user_id":19275116,"display_name":"not_a_robot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664172288,"creation_date":1664014725,"question_id":73836436,"body_markdown":"I wanted to add a shadow to a TextView, but on my phone the shadow color is always white, although it is supposed to be gray. In the layout validator of Android Studio it looks the way it is supposed to.\r\n\r\nHere is my xml code:\r\n```\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;46dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:fontFamily=&quot;@font/patrick_hand&quot;\r\n        android:gravity=&quot;bottom|center_horizontal&quot;\r\n        android:shadowColor=&quot;@color/gray_1&quot;\r\n        android:shadowDx=&quot;7&quot;\r\n        android:shadowDy=&quot;7&quot;\r\n        android:shadowRadius=&quot;5&quot;\r\n        android:text=&quot;Name&quot;\r\n        android:textAlignment=&quot;gravity&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;35sp&quot; /&gt;\r\n```\r\n\r\nI also tried to set the shadow effect programmatically, which also didn&#39;t work.\r\n\r\n```tvName.setShadowLayer(5, 7, 7, R.color.gray_1);```\r\n\r\nIt has something to do with the dark/light themes, if I turn off darkmode, the shadow is black.\r\nBut I have the same colors for dark/light theme, so I really don&#39;t know what&#39;s going on.","title":"TextView shadow color always white - Android Studio","body":"<p>I wanted to add a shadow to a TextView, but on my phone the shadow color is always white, although it is supposed to be gray. In the layout validator of Android Studio it looks the way it is supposed to.</p>\n<p>Here is my xml code:</p>\n<pre><code>    &lt;TextView\n        android:id=&quot;@+id/tvName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;46dp&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:fontFamily=&quot;@font/patrick_hand&quot;\n        android:gravity=&quot;bottom|center_horizontal&quot;\n        android:shadowColor=&quot;@color/gray_1&quot;\n        android:shadowDx=&quot;7&quot;\n        android:shadowDy=&quot;7&quot;\n        android:shadowRadius=&quot;5&quot;\n        android:text=&quot;Name&quot;\n        android:textAlignment=&quot;gravity&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;35sp&quot; /&gt;\n</code></pre>\n<p>I also tried to set the shadow effect programmatically, which also didn't work.</p>\n<p><code>tvName.setShadowLayer(5, 7, 7, R.color.gray_1);</code></p>\n<p>It has something to do with the dark/light themes, if I turn off darkmode, the shadow is black.\nBut I have the same colors for dark/light theme, so I really don't know what's going on.</p>\n"},{"tags":["java","apache","tomcat","memory-leaks","tomcat7"],"comments":[{"owner":{"account_id":3023628,"reputation":1313,"user_id":2564101,"accept_rate":100,"display_name":"Java_User"},"score":0,"creation_date":1417591912,"post_id":27265953,"comment_id":43003273,"body_markdown":"Please remove the bold style.","body":"Please remove the bold style."},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":1,"creation_date":1417592253,"post_id":27265953,"comment_id":43003444,"body_markdown":"What *exactly* are you thinking of when you say &quot;tomcat cache memory&quot;?","body":"What <i>exactly</i> are you thinking of when you say &quot;tomcat cache memory&quot;?"},{"owner":{"account_id":3467405,"reputation":199,"user_id":2902605,"accept_rate":93,"display_name":"Kanchetianeel"},"score":0,"creation_date":1417598280,"post_id":27265953,"comment_id":43006386,"body_markdown":"while i am un deploying war files from tomcat, i saw still some classes are loaded in memory. i need to delete those classes,without restarting the server .so how can i clean this memory..","body":"while i am un deploying war files from tomcat, i saw still some classes are loaded in memory. i need to delete those classes,without restarting the server .so how can i clean this memory.."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1517343778,"post_id":27265953,"comment_id":84055105,"body_markdown":"Are you in production environment? what is your java error : outofmemory? Is a classical error when you deploy several apps in the same tomcat without restart?","body":"Are you in production environment? what is your java error : outofmemory? Is a classical error when you deploy several apps in the same tomcat without restart?"}],"answers":[{"tags":[],"owner":{"account_id":2397245,"reputation":603,"user_id":2095828,"accept_rate":80,"display_name":"slash"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1417726428,"creation_date":1417726428,"answer_id":27303864,"question_id":27265953,"body_markdown":"You can find how to delete Tomcat Cache &lt;a href=&quot;http://support.grouplink.net/ehelpdesk/kb/kbView.glml;jsessionid=3859FD08443F5421FDE110C70FB53053?kbId=161&quot;&gt;here&lt;/a&gt; \r\n\r\nYou can delete the &quot;work&quot; folder under Tomcat Home. Even if it does allow you to delete the folder while tomcat is running, I would guess it will cause troubles to your running site.\r\n","title":"Tomcat memory clean without restarting the server","body":"<p>You can find how to delete Tomcat Cache <a href=\"http://support.grouplink.net/ehelpdesk/kb/kbView.glml;jsessionid=3859FD08443F5421FDE110C70FB53053?kbId=161\" rel=\"nofollow\">here</a> </p>\n\n<p>You can delete the \"work\" folder under Tomcat Home. Even if it does allow you to delete the folder while tomcat is running, I would guess it will cause troubles to your running site.</p>\n"},{"tags":[],"owner":{"account_id":8013531,"reputation":191,"user_id":6044526,"display_name":"kitekat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664171708,"creation_date":1664171708,"answer_id":73850069,"question_id":27265953,"body_markdown":"If your Tomcat installation is configured to have a ROOT directory for your webapp, you will have to find a path like \r\n\r\n    /tomcat/base-myapplication/webapps/ROOT/\r\nwhich contains your deployed webapp.\r\n\r\nJust delete everything inside, including sub directories META-INF, WEB-INF, VAADIN etc., and then re-deploy your webapp. This worked for me even with tomcat running, but it doesn&#39;t hurt to restart tomcat after deployment.","title":"Tomcat memory clean without restarting the server","body":"<p>If your Tomcat installation is configured to have a ROOT directory for your webapp, you will have to find a path like</p>\n<pre><code>/tomcat/base-myapplication/webapps/ROOT/\n</code></pre>\n<p>which contains your deployed webapp.</p>\n<p>Just delete everything inside, including sub directories META-INF, WEB-INF, VAADIN etc., and then re-deploy your webapp. This worked for me even with tomcat running, but it doesn't hurt to restart tomcat after deployment.</p>\n"}],"owner":{"account_id":3467405,"reputation":199,"user_id":2902605,"accept_rate":93,"display_name":"Kanchetianeel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20312,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":27303864,"answer_count":2,"score":-2,"last_activity_date":1664171708,"creation_date":1417591681,"question_id":27265953,"body_markdown":"I am using Tomcat 7.0.50 server.\r\n\r\nHow can I delete the tomcat cache memory without restarting the server?\r\n ","title":"Tomcat memory clean without restarting the server","body":"<p>I am using Tomcat 7.0.50 server.</p>\n\n<p>How can I delete the tomcat cache memory without restarting the server?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664170415,"post_id":73849781,"comment_id":130401396,"body_markdown":"Your IDE likely offers to make that change.","body":"Your IDE likely offers to make that change."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664170578,"post_id":73849781,"comment_id":130401429,"body_markdown":"By the way, `char`/`Character` has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. Learn to use code point integer numbers instead, to work with individual characters.","body":"By the way, <code>char</code>/<code>Character</code> has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters. Learn to use code point integer numbers instead, to work with individual characters."}],"answers":[{"tags":[],"owner":{"account_id":15663438,"reputation":559,"user_id":12242150,"display_name":"Shubham Saraswat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664170549,"creation_date":1664169012,"answer_id":73849814,"question_id":73849781,"body_markdown":"Sure,\r\n\r\n    char[] chars = string.toCharArray();\r\n\r\n    for (int i = 0; i &lt; chars.length; i++) {\r\n\t\tstack.push((Character)chars[i]);\r\n\t}\r\n\r\n","title":"How to convert for each loop to for loop","body":"<p>Sure,</p>\n<pre><code>char[] chars = string.toCharArray();\n\nfor (int i = 0; i &lt; chars.length; i++) {\n    stack.push((Character)chars[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":19434609,"reputation":17,"user_id":14214337,"display_name":"Abhinav Kishore M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664170370,"answer_count":1,"score":-1,"last_activity_date":1664170549,"creation_date":1664168599,"question_id":73849781,"body_markdown":"I have a for each loop as under:\r\n```java\r\nfor (Character character : string.toCharArray()) {\r\n    stack.push(character);\r\n}\r\n``` \r\nIs there a way to convert this `for-each` loop into the usual `for` loop?","title":"How to convert for each loop to for loop","body":"<p>I have a for each loop as under:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Character character : string.toCharArray()) {\n    stack.push(character);\n}\n</code></pre>\n<p>Is there a way to convert this <code>for-each</code> loop into the usual <code>for</code> loop?</p>\n"},{"tags":["java","spring","url","url-parameters","query-string"],"comments":[{"owner":{"account_id":23611234,"reputation":1,"user_id":17646216,"display_name":"mayurgupta"},"score":0,"creation_date":1663833365,"post_id":73810586,"comment_id":130333232,"body_markdown":"You mean i should receive the url with encoded params? Because I will only receive the url and had to extract the parameters","body":"You mean i should receive the url with encoded params? Because I will only receive the url and had to extract the parameters"}],"answers":[{"tags":[],"owner":{"account_id":25606752,"reputation":681,"user_id":19380738,"display_name":"Park Numb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663831020,"creation_date":1663831020,"answer_id":73810696,"question_id":73810586,"body_markdown":"You must use `URLEncoder.encode` to encode your param like this:\r\n\r\n    private String encodeValue(String value) {\r\n        return URLEncoder.encode(value, StandardCharsets.UTF_8.toString());\r\n    }\r\n    \r\n    public void callAPI() {\r\n        Map&lt;String, String&gt; requestParams = new HashMap&lt;&gt;();\r\n        requestParams.put(&quot;v1&quot;, &quot;a&quot;);\r\n        requestParams.put(&quot;v2&quot;, &quot;b&amp;c&quot;);\r\n        requestParams.put(&quot;v3&quot;, &quot;d&quot;);\r\n    \r\n        String encodedURL = requestParams.keySet().stream()\r\n          .map(key -&gt; key + &quot;=&quot; + encodeValue(requestParams.get(key)))\r\n          .collect(joining(&quot;&amp;&quot;, &quot;http:localhost:8080?&quot;, &quot;&quot;));\r\n    \r\n        // call api with encodedURL\r\n    }\r\n\r\nThen when you get your params, you use `URLDecoder.decode` to decode your param:\r\n\r\n    URLDecoder.decode(yourParam, StandardCharsets.UTF_8.toString());\r\n\r\nHope this help!","title":"Can someone tell me how can I get query parameters from a url in java that may contain ampersand in their values?","body":"<p>You must use <code>URLEncoder.encode</code> to encode your param like this:</p>\n<pre><code>private String encodeValue(String value) {\n    return URLEncoder.encode(value, StandardCharsets.UTF_8.toString());\n}\n\npublic void callAPI() {\n    Map&lt;String, String&gt; requestParams = new HashMap&lt;&gt;();\n    requestParams.put(&quot;v1&quot;, &quot;a&quot;);\n    requestParams.put(&quot;v2&quot;, &quot;b&amp;c&quot;);\n    requestParams.put(&quot;v3&quot;, &quot;d&quot;);\n\n    String encodedURL = requestParams.keySet().stream()\n      .map(key -&gt; key + &quot;=&quot; + encodeValue(requestParams.get(key)))\n      .collect(joining(&quot;&amp;&quot;, &quot;http:localhost:8080?&quot;, &quot;&quot;));\n\n    // call api with encodedURL\n}\n</code></pre>\n<p>Then when you get your params, you use <code>URLDecoder.decode</code> to decode your param:</p>\n<pre><code>URLDecoder.decode(yourParam, StandardCharsets.UTF_8.toString());\n</code></pre>\n<p>Hope this help!</p>\n"}],"owner":{"account_id":23611234,"reputation":1,"user_id":17646216,"display_name":"mayurgupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663914411,"answer_count":1,"score":0,"last_activity_date":1664170455,"creation_date":1663830370,"question_id":73810586,"body_markdown":"For example for the url http:localhost:8080?v1=a&amp;v2=b&amp;c&amp;v3=d\r\nI need in this case.\r\nv1=a   v2=b&amp;c   v3=d\r\nI want to do this in java only.I am actually getting this url from somewhere else so how can I do it?\r\nThanks","title":"Can someone tell me how can I get query parameters from a url in java that may contain ampersand in their values?","body":"<p>For example for the url http:localhost:8080?v1=a&amp;v2=b&amp;c&amp;v3=d\nI need in this case.\nv1=a   v2=b&amp;c   v3=d\nI want to do this in java only.I am actually getting this url from somewhere else so how can I do it?\nThanks</p>\n"},{"tags":["java","metamodel","isis"],"comments":[{"owner":{"account_id":22880,"reputation":2225,"user_id":56880,"accept_rate":75,"display_name":"Dan Haywood"},"score":0,"creation_date":1649454098,"post_id":71788680,"comment_id":126888508,"body_markdown":"In 2.0.0-M6 and 2.0.0-M7 we made the programming model more sophisticated, but also made the metamodel validator more stringent.  Probably easiest for you to join the mailing list and from there we can invite you onto our slack channel to help you fix these issues.","body":"In 2.0.0-M6 and 2.0.0-M7 we made the programming model more sophisticated, but also made the metamodel validator more stringent.  Probably easiest for you to join the mailing list and from there we can invite you onto our slack channel to help you fix these issues."}],"answers":[{"tags":[],"owner":{"account_id":22880,"reputation":2225,"user_id":56880,"accept_rate":75,"display_name":"Dan Haywood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649454607,"creation_date":1649454607,"answer_id":71803479,"question_id":71788680,"body_markdown":"*&quot;Collection action parameter found without supporting choices or autoComplete facet. Class: org.apache.isis.applib.query.Query action: withRange parameter 0&quot;*\r\n\r\nIf this is a framework service then it shouldn&#39;t occur, and sounds like a bug.   \r\n\r\nI think the issue is in the `isis.core.meta-model.introspector.\r\npolicy` configuration property - the default is to include non-annotated into the metamodel and - incorrectly - some types are being included that shouldn&#39;t be.\r\n\r\nAlternatively, you can add either `@Programmatic` or `@Domain.Exclude` to ensure that methods are excluded from the metamodel.\r\n\r\nAs a workaround, try changing this config property.  \r\n\r\nBest though would be to join the users mailing list / slack channel so we can dig into the issue more thoroughly there.","title":"Apache isis - Upgrading from 2.0.0-M5 to 2.0.0-M7","body":"<p><em>&quot;Collection action parameter found without supporting choices or autoComplete facet. Class: org.apache.isis.applib.query.Query action: withRange parameter 0&quot;</em></p>\n<p>If this is a framework service then it shouldn't occur, and sounds like a bug.</p>\n<p>I think the issue is in the <code>isis.core.meta-model.introspector. policy</code> configuration property - the default is to include non-annotated into the metamodel and - incorrectly - some types are being included that shouldn't be.</p>\n<p>Alternatively, you can add either <code>@Programmatic</code> or <code>@Domain.Exclude</code> to ensure that methods are excluded from the metamodel.</p>\n<p>As a workaround, try changing this config property.</p>\n<p>Best though would be to join the users mailing list / slack channel so we can dig into the issue more thoroughly there.</p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664170207,"creation_date":1664170207,"answer_id":73849925,"question_id":71788680,"body_markdown":"I also got this error, and realized I&#39;d set the lombok annotation `@Getter` on my class instead of the field, so it was exposing getters for the injected services.  \r\nIt was a bit cryptic because the stack trace didn&#39;t show the exact class that was affected. \r\n\r\nRemoving `@Getter` from the class level solved the problem.  ","title":"Apache isis - Upgrading from 2.0.0-M5 to 2.0.0-M7","body":"<p>I also got this error, and realized I'd set the lombok annotation <code>@Getter</code> on my class instead of the field, so it was exposing getters for the injected services.<br />\nIt was a bit cryptic because the stack trace didn't show the exact class that was affected.</p>\n<p>Removing <code>@Getter</code> from the class level solved the problem.</p>\n"}],"owner":{"account_id":7171798,"reputation":81,"user_id":5479034,"display_name":"Koen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664170207,"creation_date":1649364158,"question_id":71788680,"body_markdown":"I changed my source code and pom.xml upgrading from 2.0.0-M5 to 2.0.0-M7.  Note, that none of the below errors were showing up in M5.  The application is compiling again but when going to the application, it shows a long list of metamodel validation error that weren&#39;t there in M5\r\n\r\n\r\nThis happens on a lot of classes.   Any clue as to how to properly fix this, (for the moment I get no further than commenting them out)?\r\n```\r\nsomeClass#defaultXSomeMethod(): is public, but orphaned (was not picked up by the framework); reporting orphans, because the class is setup for member introspection, without enforcing annotations\r\n```\r\n\r\nThe following occurs on framework classes, and classes from libraries included that are not part of the domain model itself.   I have no clue what&#39;s going on nor how to fix this.\r\n\r\n```\r\nCollection action parameter found without supporting choices or autoComplete facet. Class: org.apache.isis.applib.query.Query action: withRange parameter 0\r\n```\r\n\r\nAnd then this one:\r\n\r\n```\r\nAction method overloading is not allowed, yet javax.activation.MimeType has action(s) that have a the same member name: [match]\r\n```\r\nthis is an included library class, and it is used to parse the mimeType provided as an input parameter in one of the methods of a domain object.   It used to work in M5.  Any clue as to how to avoid this, or work around it?\r\n\r\nNote, I also get the overloading error on my own DomainObjects (not in M5); I guess there the work around will be to stop overloading.\r\n\r\nThanks for any hints to point me in the right way\r\n\r\n\r\n\r\n","title":"Apache isis - Upgrading from 2.0.0-M5 to 2.0.0-M7","body":"<p>I changed my source code and pom.xml upgrading from 2.0.0-M5 to 2.0.0-M7.  Note, that none of the below errors were showing up in M5.  The application is compiling again but when going to the application, it shows a long list of metamodel validation error that weren't there in M5</p>\n<p>This happens on a lot of classes.   Any clue as to how to properly fix this, (for the moment I get no further than commenting them out)?</p>\n<pre><code>someClass#defaultXSomeMethod(): is public, but orphaned (was not picked up by the framework); reporting orphans, because the class is setup for member introspection, without enforcing annotations\n</code></pre>\n<p>The following occurs on framework classes, and classes from libraries included that are not part of the domain model itself.   I have no clue what's going on nor how to fix this.</p>\n<pre><code>Collection action parameter found without supporting choices or autoComplete facet. Class: org.apache.isis.applib.query.Query action: withRange parameter 0\n</code></pre>\n<p>And then this one:</p>\n<pre><code>Action method overloading is not allowed, yet javax.activation.MimeType has action(s) that have a the same member name: [match]\n</code></pre>\n<p>this is an included library class, and it is used to parse the mimeType provided as an input parameter in one of the methods of a domain object.   It used to work in M5.  Any clue as to how to avoid this, or work around it?</p>\n<p>Note, I also get the overloading error on my own DomainObjects (not in M5); I guess there the work around will be to stop overloading.</p>\n<p>Thanks for any hints to point me in the right way</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1285779767,"creation_date":1285779767,"answer_id":3824041,"question_id":3823957,"body_markdown":"looks like it&#39;s functionally equivalent to `AtomicReference[]`, occupying a little less memory though. \r\n\r\nSo it&#39;s useful when you need more than a million atomic references - can&#39;t think of any use case.","title":"What is the use of AtomicReferenceArray?","body":"<p>looks like it's functionally equivalent to <code>AtomicReference[]</code>, occupying a little less memory though. </p>\n\n<p>So it's useful when you need more than a million atomic references - can't think of any use case.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1285788557,"creation_date":1285780252,"answer_id":3824114,"question_id":3823957,"body_markdown":"It could be useful if you have a large number of objects that are updated concurrently, for example in a large multiplayer game.\r\n\r\nAn update of reference `i` would follow the pattern\r\n\r\n    boolean success = false;\r\n    while (!success)\r\n    {\r\n        E previous = atomicReferenceArray.get(i);\r\n        E next = ... // compute updated object\r\n        success = atomicReferenceArray.compareAndSet(i, previous, next);\r\n    }\r\n\r\nDepending on the circumstances this may be faster and/or easier to use than locking (`synchronized`).\r\n","title":"What is the use of AtomicReferenceArray?","body":"<p>It could be useful if you have a large number of objects that are updated concurrently, for example in a large multiplayer game.</p>\n\n<p>An update of reference <code>i</code> would follow the pattern</p>\n\n<pre><code>boolean success = false;\nwhile (!success)\n{\n    E previous = atomicReferenceArray.get(i);\n    E next = ... // compute updated object\n    success = atomicReferenceArray.compareAndSet(i, previous, next);\n}\n</code></pre>\n\n<p>Depending on the circumstances this may be faster and/or easier to use than locking (<code>synchronized</code>).</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":9,"up_vote_count":20,"is_accepted":false,"score":11,"last_activity_date":1285780493,"creation_date":1285780493,"answer_id":3824148,"question_id":3823957,"body_markdown":"If you had a shared array of object references, then you would use an `AtomicReferenceArray` to ensure that the array couldn&#39;t be updated simultaneously by different threads i.e. only one element can be updated at a time.\r\n\r\nHowever, in an `AtomicReference[]` (array of `AtomicReference`) multiple threads can still update different elements simulateously, because the atomicity is on the elements, not on the array as a whole.\r\n\r\nMore info [here][1].\r\n\r\n[1]: http://www.java-forums.org/threads-synchronization/25324-atomicreferencearray-t-equivalent-array-atomicreference-t.html","title":"What is the use of AtomicReferenceArray?","body":"<p>If you had a shared array of object references, then you would use an <code>AtomicReferenceArray</code> to ensure that the array couldn't be updated simultaneously by different threads i.e. only one element can be updated at a time.</p>\n\n<p>However, in an <code>AtomicReference[]</code> (array of <code>AtomicReference</code>) multiple threads can still update different elements simulateously, because the atomicity is on the elements, not on the array as a whole.</p>\n\n<p>More info <a href=\"http://www.java-forums.org/threads-synchronization/25324-atomicreferencearray-t-equivalent-array-atomicreference-t.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5036155,"reputation":31,"user_id":4044854,"display_name":"Chetan K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424837465,"creation_date":1424837465,"answer_id":28710976,"question_id":3823957,"body_markdown":"One possible use case would have been ConcurrentHashMap which extensively uses array internally. Array can be volatile but at per element level sematics can&#39;t be volatile. it&#39;s one of the reason automic array came into existence.","title":"What is the use of AtomicReferenceArray?","body":"<p>One possible use case would have been ConcurrentHashMap which extensively uses array internally. Array can be volatile but at per element level sematics can't be volatile. it's one of the reason automic array came into existence.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424838334,"creation_date":1424838334,"answer_id":28711088,"question_id":3823957,"body_markdown":"    import java.util.concurrent.atomic.AtomicReferenceArray;\r\n    \r\n    public class AtomicReferenceArrayExample {\r\n        AtomicReferenceArray&lt;String&gt; arr = new AtomicReferenceArray&lt;String&gt;(10);\r\n    \r\n        public static void main(String... args) {\r\n            new Thread(new AtomicReferenceArrayExample().new AddThread()).start();\r\n            new Thread(new AtomicReferenceArrayExample().new AddThread()).start();\r\n        }\r\n    \r\n        class AddThread implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                // Sets value at the index 1\r\n                arr.set(0, &quot;A&quot;);\r\n                // At index 0, if current reference is &quot;A&quot; then it changes as &quot;B&quot;.\r\n                arr.compareAndSet(0, &quot;A&quot;, &quot;B&quot;);\r\n                // At index 0, if current value is &quot;B&quot;, then it is sets as &quot;C&quot;.\r\n                arr.weakCompareAndSet(0, &quot;B&quot;, &quot;C&quot;);\r\n                System.out.println(arr.get(0));\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    //    Result:\r\n    //        C\r\n    //        C\r\n\r\n","title":"What is the use of AtomicReferenceArray?","body":"<pre><code>import java.util.concurrent.atomic.AtomicReferenceArray;\n\npublic class AtomicReferenceArrayExample {\n    AtomicReferenceArray&lt;String&gt; arr = new AtomicReferenceArray&lt;String&gt;(10);\n\n    public static void main(String... args) {\n        new Thread(new AtomicReferenceArrayExample().new AddThread()).start();\n        new Thread(new AtomicReferenceArrayExample().new AddThread()).start();\n    }\n\n    class AddThread implements Runnable {\n        @Override\n        public void run() {\n            // Sets value at the index 1\n            arr.set(0, \"A\");\n            // At index 0, if current reference is \"A\" then it changes as \"B\".\n            arr.compareAndSet(0, \"A\", \"B\");\n            // At index 0, if current value is \"B\", then it is sets as \"C\".\n            arr.weakCompareAndSet(0, \"B\", \"C\");\n            System.out.println(arr.get(0));\n        }\n    }\n\n}\n\n//    Result:\n//        C\n//        C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664169134,"creation_date":1664169134,"answer_id":73849826,"question_id":3823957,"body_markdown":"some notes from a C++ programmer below, please don&#39;t condemn my Java much :)\r\n\r\n`AtomicReferenceArray` allows to avoid false sharing, when multiple CPU logical cores access the same cache line that is changed by one of the thread. Invalidating and re-fetching the cache is very expensive. Unfortunately there is no `sizeof` in Java, so we don&#39;t know how many bytes each `AtomicReference` takes, but assuming it&#39;s at least 8 bytes (the size of a pointer on 64-bit architectures), you can allocate as follows:\r\n\r\n    // a lower bound is enough\r\n    private final int sizeofAtomicReference = 8;\r\n    // good for x86/x64\r\n    private final int sizeofCacheLine = 64;\r\n    // the number of CPU cores\r\n    private final int nLogicalCores = Runtime.getRuntime().availableProcessors(); \r\n    private final int refsPerCacheLine = (sizeofCacheLine + sizeofAtomicReference - 1) / sizeofAtomicReference;\r\n    private AtomicReferenceArray&lt;Task&gt; tasks = new AtomicReferenceArray&lt;Task&gt;(nLogicalCores *  refsPerCacheLine);\r\n\r\nNow if you assign a task to `i`-th thread via \r\n\r\n    tasks.compareAndSet(i*refsPerCacheLine, null, new Task(/*problem definition here*/));\r\n\r\nyou guarantee that the task references are assigned to different CPU cache lines. Thus there is no expensive false sharing. So the latency of passing tasks from the producer thread to the consumer threads is minimal (for Java, but not for C++/Assembly).\r\n\r\n**Bonus**:\r\nYou then poll the `tasks` array in the worker threads like this:\r\n\r\n    // consider iWorker is the 0-based index of the logical core this thread is assigned to\r\n    final int myIndex = iWorker*refsPerCacheLine;\r\n    while(true) {\r\n        Task curTask = tasks.get(myIndex);\r\n        if(curTask == null) continue;\r\n        if(curTask.isTerminator()) {\r\n            return; // exit the thread\r\n        }\r\n        // ... Process the task here ...\r\n        // Signal the producer thread that the current worker is free\r\n        tasks.set(myIndex, null);\r\n    }","title":"What is the use of AtomicReferenceArray?","body":"<p>some notes from a C++ programmer below, please don't condemn my Java much :)</p>\n<p><code>AtomicReferenceArray</code> allows to avoid false sharing, when multiple CPU logical cores access the same cache line that is changed by one of the thread. Invalidating and re-fetching the cache is very expensive. Unfortunately there is no <code>sizeof</code> in Java, so we don't know how many bytes each <code>AtomicReference</code> takes, but assuming it's at least 8 bytes (the size of a pointer on 64-bit architectures), you can allocate as follows:</p>\n<pre><code>// a lower bound is enough\nprivate final int sizeofAtomicReference = 8;\n// good for x86/x64\nprivate final int sizeofCacheLine = 64;\n// the number of CPU cores\nprivate final int nLogicalCores = Runtime.getRuntime().availableProcessors(); \nprivate final int refsPerCacheLine = (sizeofCacheLine + sizeofAtomicReference - 1) / sizeofAtomicReference;\nprivate AtomicReferenceArray&lt;Task&gt; tasks = new AtomicReferenceArray&lt;Task&gt;(nLogicalCores *  refsPerCacheLine);\n</code></pre>\n<p>Now if you assign a task to <code>i</code>-th thread via</p>\n<pre><code>tasks.compareAndSet(i*refsPerCacheLine, null, new Task(/*problem definition here*/));\n</code></pre>\n<p>you guarantee that the task references are assigned to different CPU cache lines. Thus there is no expensive false sharing. So the latency of passing tasks from the producer thread to the consumer threads is minimal (for Java, but not for C++/Assembly).</p>\n<p><strong>Bonus</strong>:\nYou then poll the <code>tasks</code> array in the worker threads like this:</p>\n<pre><code>// consider iWorker is the 0-based index of the logical core this thread is assigned to\nfinal int myIndex = iWorker*refsPerCacheLine;\nwhile(true) {\n    Task curTask = tasks.get(myIndex);\n    if(curTask == null) continue;\n    if(curTask.isTerminator()) {\n        return; // exit the thread\n    }\n    // ... Process the task here ...\n    // Signal the producer thread that the current worker is free\n    tasks.set(myIndex, null);\n}\n</code></pre>\n"}],"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12925,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":3824041,"answer_count":6,"score":14,"last_activity_date":1664169134,"creation_date":1285779214,"question_id":3823957,"body_markdown":"When is it a good idea to use `AtomicReferenceArray`? Please explain with an example.","title":"What is the use of AtomicReferenceArray?","body":"<p>When is it a good idea to use <code>AtomicReferenceArray</code>? Please explain with an example.</p>\n"},{"tags":["java","asynchronous","mocking"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664176740,"post_id":73849786,"comment_id":130402747,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25724735,"reputation":1,"user_id":19481273,"display_name":"dishant jain"},"score":0,"creation_date":1664180053,"post_id":73849786,"comment_id":130403668,"body_markdown":"What should I do to handle the scenario (mentioned above) in unit test case?","body":"What should I do to handle the scenario (mentioned above) in unit test case?"}],"owner":{"account_id":25724735,"reputation":1,"user_id":19481273,"display_name":"dishant jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664168643,"creation_date":1664168643,"question_id":73849786,"body_markdown":"**Background:** Using completableFuture for async call and then accepting the result and updating member variable. \r\n\r\n**Scenario:** There might be chances that before async call get completed another method is trying to access that member variable. So how should I handle that situation in Mockito as well as in Real implementation? And can&#39;t wait using get and join method.\r\n\r\n```\r\nClass Proxy{\r\n\r\n    Private Boolean isConfigured;\r\n\r\n    Private void initConfigured(){\r\n     \r\n      CompletableFuture.supplyAsync(//some api call)\r\n               .thenAccept((config) -&gt;{ \r\n  \r\n                  isConfigured = config;\r\n               });\r\n    }\r\n}\r\n\r\n","title":"Mock CompletableFuture supplyAsync method that updating member variable","body":"<p><strong>Background:</strong> Using completableFuture for async call and then accepting the result and updating member variable.</p>\n<p><strong>Scenario:</strong> There might be chances that before async call get completed another method is trying to access that member variable. So how should I handle that situation in Mockito as well as in Real implementation? And can't wait using get and join method.</p>\n<pre><code>Class Proxy{\n\n    Private Boolean isConfigured;\n\n    Private void initConfigured(){\n     \n      CompletableFuture.supplyAsync(//some api call)\n               .thenAccept((config) -&gt;{ \n  \n                  isConfigured = config;\n               });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1664148430,"post_id":73847509,"comment_id":130398721,"body_markdown":"*I&#39;ve seen a post* - where? I&#39;ve also seen a post and it only works when you do custom painting, not when you use a JLabel.","body":"<i>I&#39;ve seen a post</i> - where? I&#39;ve also seen a post and it only works when you do custom painting, not when you use a JLabel."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664168003,"creation_date":1664168003,"answer_id":73849739,"question_id":73847509,"body_markdown":"&gt;  I&#39;ve seen a post where a person put a negative Integer as font size but it was 9 years ago\r\n\r\nIf you are referring to [this question][1] then [this answer][2], to that question, worked for me. Simply override method [paintComponent][3] of the relevant `JComponent` (which appears, from your question, to be `JTextArea`). Below code demonstrates.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\n\r\npublic class Inverted {\r\n\r\n    private static JScrollPane createTextArea() {\r\n        JTextArea textArea = new JTextArea(10, 50) {\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2 = (Graphics2D) g;\r\n                g2.scale( -1.0, -1.0 );\r\n                g2.translate( -getWidth(), -getHeight() );\r\n                super.paintComponent(g2);\r\n            }\r\n        };\r\n        textArea.append(&quot;Is this upside down?&quot;);\r\n        JScrollPane scrollPane = new JScrollPane(textArea);\r\n        return scrollPane;\r\n    }\r\n\r\n    private static void gui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JLabel label = new JLabel(&quot;Inverted&quot;) {\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2 = (Graphics2D) g;\r\n                g2.scale( -1.0, -1.0 );\r\n                g2.translate( -getWidth(), -getHeight() );\r\n                super.paintComponent(g2);\r\n            }\r\n        };\r\n        JPanel inverted = new JPanel();\r\n        inverted.add(label);\r\n        frame.add(inverted, BorderLayout.PAGE_START);\r\n        frame.add(createTextArea(), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(Inverted::gui);\r\n    }\r\n}\r\n```\r\nWhen I run the above code, using Java 19 on Windows 10, I get the following GUI:\r\n\r\n[![screen capture][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18682364/java-upside-down-text-bug-or-feature\r\n  [2]: https://stackoverflow.com/questions/18682364/java-upside-down-text-bug-or-feature/67255889#67255889\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\r\n  [4]: https://i.stack.imgur.com/TUCQB.png","title":"How to make JTextArea upside down in Java Swing","body":"<blockquote>\n<p>I've seen a post where a person put a negative Integer as font size but it was 9 years ago</p>\n</blockquote>\n<p>If you are referring to <a href=\"https://stackoverflow.com/questions/18682364/java-upside-down-text-bug-or-feature\">this question</a> then <a href=\"https://stackoverflow.com/questions/18682364/java-upside-down-text-bug-or-feature/67255889#67255889\">this answer</a>, to that question, worked for me. Simply override method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent</a> of the relevant <code>JComponent</code> (which appears, from your question, to be <code>JTextArea</code>). Below code demonstrates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Inverted {\n\n    private static JScrollPane createTextArea() {\n        JTextArea textArea = new JTextArea(10, 50) {\n            protected void paintComponent(Graphics g) {\n                Graphics2D g2 = (Graphics2D) g;\n                g2.scale( -1.0, -1.0 );\n                g2.translate( -getWidth(), -getHeight() );\n                super.paintComponent(g2);\n            }\n        };\n        textArea.append(&quot;Is this upside down?&quot;);\n        JScrollPane scrollPane = new JScrollPane(textArea);\n        return scrollPane;\n    }\n\n    private static void gui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JLabel label = new JLabel(&quot;Inverted&quot;) {\n            protected void paintComponent(Graphics g) {\n                Graphics2D g2 = (Graphics2D) g;\n                g2.scale( -1.0, -1.0 );\n                g2.translate( -getWidth(), -getHeight() );\n                super.paintComponent(g2);\n            }\n        };\n        JPanel inverted = new JPanel();\n        inverted.add(label);\n        frame.add(inverted, BorderLayout.PAGE_START);\n        frame.add(createTextArea(), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(Inverted::gui);\n    }\n}\n</code></pre>\n<p>When I run the above code, using Java 19 on Windows 10, I get the following GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/TUCQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUCQB.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":24023123,"reputation":1,"user_id":18005112,"display_name":"Samuel Velasco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664168003,"creation_date":1664136246,"question_id":73847509,"body_markdown":"I am creating a word search GUI using Swing for a club project. I want the answers &quot;hidden&quot; by making them upside down in the GUI. I&#39;ve seen a post where a person put a negative Integer as font size but it was 9 years ago and it doesn&#39;t seem to work anymore, instead the text simply does not appear\r\n\r\n     Font FontUpsideDown = new Font(&quot;Sans_Serif&quot;, Font.PLAIN,  -50);\r\n\r\n     JTextArea upsideDown = new JTextArea(&quot;Hello&quot;);\r\n     upsideDown.setFont(FontUpsideDown);\r\n     upsideDown.setEditable(false);\r\n\r\n        ...\r\n\r\n     \r\n     JPanel.add(upsideDown, gbc);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1r6XW.png","title":"How to make JTextArea upside down in Java Swing","body":"<p>I am creating a word search GUI using Swing for a club project. I want the answers &quot;hidden&quot; by making them upside down in the GUI. I've seen a post where a person put a negative Integer as font size but it was 9 years ago and it doesn't seem to work anymore, instead the text simply does not appear</p>\n<pre><code> Font FontUpsideDown = new Font(&quot;Sans_Serif&quot;, Font.PLAIN,  -50);\n\n JTextArea upsideDown = new JTextArea(&quot;Hello&quot;);\n upsideDown.setFont(FontUpsideDown);\n upsideDown.setEditable(false);\n\n    ...\n\n \n JPanel.add(upsideDown, gbc);\n</code></pre>\n"},{"tags":["java","android-studio","nullpointerexception"],"comments":[{"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"score":0,"creation_date":1664167956,"post_id":73849612,"comment_id":130400990,"body_markdown":"locationManager is null at the point where you&#39;re calling isProviderEnabled you should use nManager","body":"locationManager is null at the point where you&#39;re calling isProviderEnabled you should use nManager"}],"answers":[{"tags":[],"owner":{"account_id":4760221,"reputation":314,"user_id":3847779,"accept_rate":44,"display_name":"jcool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664168002,"creation_date":1664168002,"answer_id":73849738,"question_id":73849612,"body_markdown":"`locationManager` is null at the point where you&#39;re calling `isProviderEnabled` you should use `nManager`\r\n","title":"How to solve java.lang.NullPointerException: in android studio","body":"<p><code>locationManager</code> is null at the point where you're calling <code>isProviderEnabled</code> you should use <code>nManager</code></p>\n"}],"owner":{"account_id":3195487,"reputation":15,"user_id":2698742,"display_name":"Asok M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664170079,"answer_count":1,"score":0,"last_activity_date":1664168002,"creation_date":1664166103,"question_id":73849612,"body_markdown":"I get following error while trying to run the code for getting a location:\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.map, PID: 19412\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.location.LocationManager.isProviderEnabled(java.lang.String)&#39; on a null object reference\r\n        at com.example.map.MainActivity$1.onClick(MainActivity.java:39)\r\n\r\nHere&#39;s my code : mainactivity.java\r\n\r\n```\r\npackage com.example.map;\r\n\r\nimport android.Manifest;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.provider.Settings;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final int REQUEST_LOCATION = 1;\r\n    Button btnGetLocation;\r\n    TextView showLocation;\r\n    LocationManager locationManager;\r\n    String latitude, longitude;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ActivityCompat.requestPermissions( this,\r\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\r\n        showLocation = findViewById(R.id.showLocation);\r\n        btnGetLocation = findViewById(R.id.btnGetLocation);\r\n        btnGetLocation.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               LocationManager nManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n                if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n                    OnGPS();\r\n                } else {\r\n                    getLocation();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void OnGPS() {\r\n        final AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setMessage(&quot;Enable GPS&quot;).setCancelable(false).setPositiveButton(&quot;Yes&quot;, new  DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\r\n            }\r\n        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.cancel();\r\n            }\r\n        });\r\n        final AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n    private void getLocation() {\r\n        if (ActivityCompat.checkSelfPermission(\r\n                MainActivity.this,Manifest.permission.ACCESS_FINE_LOCATION) !=\r\n                PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\r\n                MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) !=\r\n                PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\r\n        } else {\r\n            Location locationGPS = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n            if (locationGPS != null) {\r\n                double lat = locationGPS.getLatitude();\r\n                double longi = locationGPS.getLongitude();\r\n                latitude = String.valueOf(lat);\r\n                longitude = String.valueOf(longi);\r\n                showLocation.setText(String.format(&quot;%s\\n%s%s\\n%s%s&quot;, getString(R.string.your_location), getString(R.string.latitude), latitude, getString(R.string.longitude), longitude));\r\n            } else {\r\n                Toast.makeText(this, &quot;Unable to find location.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n&gt;     activity_main.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/showLocation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Location&quot;\r\n        android:textSize=&quot;24sp&quot; /&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnGetLocation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Get Location&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n","title":"How to solve java.lang.NullPointerException: in android studio","body":"<p>I get following error while trying to run the code for getting a location:</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.map, PID: 19412\njava.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.location.LocationManager.isProviderEnabled(java.lang.String)' on a null object reference\nat com.example.map.MainActivity$1.onClick(MainActivity.java:39)</p>\n<p>Here's my code : mainactivity.java</p>\n<pre><code>package com.example.map;\n\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.provider.Settings;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final int REQUEST_LOCATION = 1;\n    Button btnGetLocation;\n    TextView showLocation;\n    LocationManager locationManager;\n    String latitude, longitude;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ActivityCompat.requestPermissions( this,\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\n        showLocation = findViewById(R.id.showLocation);\n        btnGetLocation = findViewById(R.id.btnGetLocation);\n        btnGetLocation.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               LocationManager nManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n                if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n                    OnGPS();\n                } else {\n                    getLocation();\n                }\n            }\n        });\n    }\n    private void OnGPS() {\n        final AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(&quot;Enable GPS&quot;).setCancelable(false).setPositiveButton(&quot;Yes&quot;, new  DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                startActivity(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS));\n            }\n        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.cancel();\n            }\n        });\n        final AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n    private void getLocation() {\n        if (ActivityCompat.checkSelfPermission(\n                MainActivity.this,Manifest.permission.ACCESS_FINE_LOCATION) !=\n                PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\n                MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) !=\n                PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\n        } else {\n            Location locationGPS = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n            if (locationGPS != null) {\n                double lat = locationGPS.getLatitude();\n                double longi = locationGPS.getLongitude();\n                latitude = String.valueOf(lat);\n                longitude = String.valueOf(longi);\n                showLocation.setText(String.format(&quot;%s\\n%s%s\\n%s%s&quot;, getString(R.string.your_location), getString(R.string.latitude), latitude, getString(R.string.longitude), longitude));\n            } else {\n                Toast.makeText(this, &quot;Unable to find location.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n\n\n&gt;     activity_main.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:id=&quot;@+id/showLocation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Location&quot;\n        android:textSize=&quot;24sp&quot; /&gt;\n    &lt;Button\n        android:id=&quot;@+id/btnGetLocation&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Get Location&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n"},{"tags":["java","osgi","cxf","java-17"],"answers":[{"tags":[],"owner":{"account_id":26442830,"reputation":1,"user_id":20087073,"display_name":"sreenivasa Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664167612,"creation_date":1664167612,"answer_id":73849710,"question_id":73012564,"body_markdown":"For me also same issue when i&#39;m trying to run the JDK 18 and after that i used the 1.8 java version and it&#39;s started without any osg errors.\r\n\r\nSeems it will support till jdk 11 as per the logs information.","title":"&quot;org.osgi.util.tracker.ServiceTracker.getServices()&quot; is null with JDK 17","body":"<p>For me also same issue when i'm trying to run the JDK 18 and after that i used the 1.8 java version and it's started without any osg errors.</p>\n<p>Seems it will support till jdk 11 as per the logs information.</p>\n"}],"owner":{"account_id":11022051,"reputation":216,"user_id":8095979,"display_name":"Wasura Wattearachchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664167612,"creation_date":1658067511,"question_id":73012564,"body_markdown":"I have a project that runs fine in JDK 1.8 and 11. However, when I run the project in JDK 17, an osgi issue comes as shown below.\r\n\r\n    Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot load from object array because the return value of &quot;org.osgi.util.tracker.ServiceTracker.getServices()&quot; is null\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[?:?]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[?:?]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[?:?]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[?:?]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[?:?]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[?:?]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[?:?]\r\n\tat org.apache.cxf.transport.servlet.CXFServlet.createSpringContext(CXFServlet.java:174) ~[?:?]\r\n\tat org.apache.cxf.transport.servlet.CXFServlet.loadBus(CXFServlet.java:76) ~[?:?]\r\n\tat org.apache.cxf.transport.servlet.CXFNonSpringServlet.init(CXFNonSpringServlet.java:92) ~[?:?]\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[tomcat_9.0.58.wso2v1.jar:?]\r\n\r\n\r\nI found the exact issue asked in [1] as well, but there were no solution.\r\n\r\n[1] https://stackoverflow.com/questions/69475982/are-there-any-osgi-versions-that-are-supported-by-java-17","title":"&quot;org.osgi.util.tracker.ServiceTracker.getServices()&quot; is null with JDK 17","body":"<p>I have a project that runs fine in JDK 1.8 and 11. However, when I run the project in JDK 17, an osgi issue comes as shown below.</p>\n<pre><code>Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot load from object array because the return value of &quot;org.osgi.util.tracker.ServiceTracker.getServices()&quot; is null\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[?:?]\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[?:?]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707) ~[?:?]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452) ~[?:?]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[?:?]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[?:?]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[?:?]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[?:?]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[?:?]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[?:?]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[?:?]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[?:?]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[?:?]\nat org.apache.cxf.transport.servlet.CXFServlet.createSpringContext(CXFServlet.java:174) ~[?:?]\nat org.apache.cxf.transport.servlet.CXFServlet.loadBus(CXFServlet.java:76) ~[?:?]\nat org.apache.cxf.transport.servlet.CXFNonSpringServlet.init(CXFNonSpringServlet.java:92) ~[?:?]\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1164) ~[tomcat_9.0.58.wso2v1.jar:?]\n</code></pre>\n<p>I found the exact issue asked in [1] as well, but there were no solution.</p>\n<p>[1] <a href=\"https://stackoverflow.com/questions/69475982/are-there-any-osgi-versions-that-are-supported-by-java-17\">Are there any OSGi versions that are supported by Java 17?</a></p>\n"},{"tags":["java","rust"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1664138543,"post_id":73847699,"comment_id":130397362,"body_markdown":"Well, _you_ can tell they have limited scope and it won&#39;t change but the compiler cannot automatically tell.  The `final` keyword is basically _our_ way of telling the compiler that those variables will not change and can be optimized.","body":"Well, <i>you</i> can tell they have limited scope and it won&#39;t change but the compiler cannot automatically tell.  The <code>final</code> keyword is basically <i>our</i> way of telling the compiler that those variables will not change and can be optimized."},{"owner":{"account_id":11567198,"reputation":17903,"user_id":8475054,"display_name":"Robin Zigmond"},"score":10,"creation_date":1664138846,"post_id":73847699,"comment_id":130397405,"body_markdown":"I know nothing about Java, nor am I any kind of expert on Rust, but as someone with a passing acquaintance and interest in that language - it seems blindingly obvious that the `mut` keyword is nothing to do with compiler optimisations, but everything to do with making the code&#39;s intent clear to other developers who read it, as well as catching potential mistakes. Making everything immutable by default and forcing developers to explicitly mark those variables whose values can change, both catches accidental mutations and conveys clear intent to a reader.","body":"I know nothing about Java, nor am I any kind of expert on Rust, but as someone with a passing acquaintance and interest in that language - it seems blindingly obvious that the <code>mut</code> keyword is nothing to do with compiler optimisations, but everything to do with making the code&#39;s intent clear to other developers who read it, as well as catching potential mistakes. Making everything immutable by default and forcing developers to explicitly mark those variables whose values can change, both catches accidental mutations and conveys clear intent to a reader."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664191279,"post_id":73847699,"comment_id":130407156,"body_markdown":"Dont ask two entirely unrelated questions at once. Which one are we supposed to answer, the one about Java or the one about Rust? Besides that, everything coming form baeldung.com should be taken with a grain of salt. What you see here, is a tiny corner case of `final` variables, *compile-time constants*. How often, do you think, will you concatenate local variables actually being *compile-time constants* in real life?","body":"Dont ask two entirely unrelated questions at once. Which one are we supposed to answer, the one about Java or the one about Rust? Besides that, everything coming form baeldung.com should be taken with a grain of salt. What you see here, is a tiny corner case of <code>final</code> variables, <i>compile-time constants</i>. How often, do you think, will you concatenate local variables actually being <i>compile-time constants</i> in real life?"}],"answers":[{"tags":[],"owner":{"account_id":7883072,"reputation":7577,"user_id":5956261,"display_name":"jthulhu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664140695,"creation_date":1664139003,"answer_id":73847759,"question_id":73847699,"body_markdown":"First of all, even though the compiler *could* deduce a lot of things by being &quot;smart enough&quot;, you have to take into account that compilation time is bounded. The compiler can&#39;t just try all the optimizations known to mankind to see if any fits, because that would be too long. Since the static optimization can be enforced by the `final` keyword, there isn&#39;t much point in the compiler doing that optimization for you (which would take time).\r\n\r\n---\r\n\r\nAs for Rust, it&#39;s a similar answer (trying to figure out the minimum amount of variables that should be mutable for the code to run would be very long), with the addition that even if it was the case, the behavior would be very hard to predict, because a single change could completely modify the minimum set of variables that should be mutable for the code to be sound (if that even exists), and if that doesn&#39;t exist, the error reported would be horrible (because the compiler can&#39;t incriminate any particular piece of code, it&#39;s just that overall the code can&#39;t be made sound). To see some examples of this behavior, you could look at polymorphic variants in OCaml, where the compiler will infer the most general type for every value, but if it&#39;s not possible, error messages can quickly become horrendous.\r\n\r\nA final argument as for explicit mutability in Rust is interfaces: sure, the compiler knows everything when compiling, but when I write a library and declare an interface (any interface, may it be a function signature or anything else), I may want to enforce mutability of a variable or, in the contrary, enforce its immutability, even without knowing how the consumer will use it. This allows the compiler to typecheck my library, including for mutability, even without knowing how it will actually be used.\r\n\r\n---\r\n\r\nAnd I didn&#39;t even mention *readability*: being explicit often also means being more readable.\r\n\r\n*Side Note: what you describe in Java is referred to as [effectively final][1].*\r\n\r\n\r\n  [1]: http://ilkinulas.github.io/programming/java/2016/03/27/effectively-final-java.html","title":"Why are keywords like &quot;final&quot; and &quot;mut&quot; necessary?","body":"<p>First of all, even though the compiler <em>could</em> deduce a lot of things by being &quot;smart enough&quot;, you have to take into account that compilation time is bounded. The compiler can't just try all the optimizations known to mankind to see if any fits, because that would be too long. Since the static optimization can be enforced by the <code>final</code> keyword, there isn't much point in the compiler doing that optimization for you (which would take time).</p>\n<hr />\n<p>As for Rust, it's a similar answer (trying to figure out the minimum amount of variables that should be mutable for the code to run would be very long), with the addition that even if it was the case, the behavior would be very hard to predict, because a single change could completely modify the minimum set of variables that should be mutable for the code to be sound (if that even exists), and if that doesn't exist, the error reported would be horrible (because the compiler can't incriminate any particular piece of code, it's just that overall the code can't be made sound). To see some examples of this behavior, you could look at polymorphic variants in OCaml, where the compiler will infer the most general type for every value, but if it's not possible, error messages can quickly become horrendous.</p>\n<p>A final argument as for explicit mutability in Rust is interfaces: sure, the compiler knows everything when compiling, but when I write a library and declare an interface (any interface, may it be a function signature or anything else), I may want to enforce mutability of a variable or, in the contrary, enforce its immutability, even without knowing how the consumer will use it. This allows the compiler to typecheck my library, including for mutability, even without knowing how it will actually be used.</p>\n<hr />\n<p>And I didn't even mention <em>readability</em>: being explicit often also means being more readable.</p>\n<p><em>Side Note: what you describe in Java is referred to as <a href=\"http://ilkinulas.github.io/programming/java/2016/03/27/effectively-final-java.html\" rel=\"nofollow noreferrer\">effectively final</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":15851927,"reputation":1333,"user_id":11437516,"display_name":"mibu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664166064,"creation_date":1664166064,"answer_id":73849608,"question_id":73847699,"body_markdown":"About the Rust question, you can think of mutable/immutable declaration as a way of:\r\n\r\n 1. Express your intent in code\r\n 2. Ask the compiler to ensure your intent is maintained\r\n\r\nE.g:\r\nIf the correctness of your program is depends on a variable x never changed after assigned to result of foo(), you can declare: `let x = foo()`. From now on, you can put your mind at ease knowing that x will not be accidentally assigned to other values.\r\n\r\nOn the other hand, if Rust does not have keyword `mut`, the compiler can still deduce mutability of a variable for sure. However, if you have a code like so:\r\n```\r\nlet x = foo();\r\n...\r\nx = 42;\r\n```\r\nThe compiler can not know if the assignment `x = 42` is by mistake or it&#39;s your intent. In other words, we - the programmers lose a powerful check.\r\n\r\nSo, I think the requirement to declare mutability of variables is more about us than about the compiler itself. And, as I see, it&#39;s quite a common theme in the Rust language, a lot of requirements is in place to help us catch our mistakes early and often.","title":"Why are keywords like &quot;final&quot; and &quot;mut&quot; necessary?","body":"<p>About the Rust question, you can think of mutable/immutable declaration as a way of:</p>\n<ol>\n<li>Express your intent in code</li>\n<li>Ask the compiler to ensure your intent is maintained</li>\n</ol>\n<p>E.g:\nIf the correctness of your program is depends on a variable x never changed after assigned to result of foo(), you can declare: <code>let x = foo()</code>. From now on, you can put your mind at ease knowing that x will not be accidentally assigned to other values.</p>\n<p>On the other hand, if Rust does not have keyword <code>mut</code>, the compiler can still deduce mutability of a variable for sure. However, if you have a code like so:</p>\n<pre><code>let x = foo();\n...\nx = 42;\n</code></pre>\n<p>The compiler can not know if the assignment <code>x = 42</code> is by mistake or it's your intent. In other words, we - the programmers lose a powerful check.</p>\n<p>So, I think the requirement to declare mutability of variables is more about us than about the compiler itself. And, as I see, it's quite a common theme in the Rust language, a lot of requirements is in place to help us catch our mistakes early and often.</p>\n"}],"owner":{"account_id":26252107,"reputation":43,"user_id":19924754,"display_name":"tryna_learn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73849608,"answer_count":2,"score":2,"last_activity_date":1664166064,"creation_date":1664138183,"question_id":73847699,"body_markdown":"https://www.baeldung.com/java-final-performance\r\nThis blog gives an example of using the `final` keyword in java to improve performance. Here is the example they give:\r\n```\r\npublic static String concatNonFinalStrings() {\r\n    String x = &quot;x&quot;;\r\n    String y = &quot;y&quot;;\r\n    return x + y;\r\n}\r\n\r\npublic static String concatFinalStrings() {\r\n    final String x = &quot;x&quot;;\r\n    final String y = &quot;y&quot;;\r\n    return x + y;\r\n}\r\n```\r\nApparently, the compiler will optimize `concatFinalStrings()` to just return `&quot;xy&quot;`. Why can&#39;t the compiler do the same for `concatNonFinalStrings()`? `x` and `y` are limited in scope and they are never used anywhere else. Surely, then, the compiler should be able to treat those as if they were final? It&#39;s not like there can be some outside entity that may change the value of `x` and `y`, because they are inaccessible outside the function. The blog I&#39;ve linked calls these &quot;effectively final&quot; and states that the compiler won&#39;t perform code optimizations on &quot;effectively final&quot; variables. Why not?\r\n\r\nFurthermore, why do keywords like `mut` in Rust exist? Maybe it makes sense in Java where you can have public variables and you don&#39;t know what other `.class` files exist, but in Rust, if the whole thing is compiling at once, surely the compiler could just deduce which variables are `mut` by seeing which variables change their value? Do these now only exist for the sake of making the code more clear and not actually provide any sort of optimization?","title":"Why are keywords like &quot;final&quot; and &quot;mut&quot; necessary?","body":"<p><a href=\"https://www.baeldung.com/java-final-performance\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-final-performance</a>\nThis blog gives an example of using the <code>final</code> keyword in java to improve performance. Here is the example they give:</p>\n<pre><code>public static String concatNonFinalStrings() {\n    String x = &quot;x&quot;;\n    String y = &quot;y&quot;;\n    return x + y;\n}\n\npublic static String concatFinalStrings() {\n    final String x = &quot;x&quot;;\n    final String y = &quot;y&quot;;\n    return x + y;\n}\n</code></pre>\n<p>Apparently, the compiler will optimize <code>concatFinalStrings()</code> to just return <code>&quot;xy&quot;</code>. Why can't the compiler do the same for <code>concatNonFinalStrings()</code>? <code>x</code> and <code>y</code> are limited in scope and they are never used anywhere else. Surely, then, the compiler should be able to treat those as if they were final? It's not like there can be some outside entity that may change the value of <code>x</code> and <code>y</code>, because they are inaccessible outside the function. The blog I've linked calls these &quot;effectively final&quot; and states that the compiler won't perform code optimizations on &quot;effectively final&quot; variables. Why not?</p>\n<p>Furthermore, why do keywords like <code>mut</code> in Rust exist? Maybe it makes sense in Java where you can have public variables and you don't know what other <code>.class</code> files exist, but in Rust, if the whole thing is compiling at once, surely the compiler could just deduce which variables are <code>mut</code> by seeing which variables change their value? Do these now only exist for the sake of making the code more clear and not actually provide any sort of optimization?</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","quartz"],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1664165800,"creation_date":1651163455,"question_id":72047274,"body_markdown":"I&#39;m using Quartz together with Spring Boot and postgres database as a persistence storage for quartz stuff. I would like to see sql logs in a console which quartz is executing under the hood. I tried many configuration properties to enable it, but none of them worked. Can someone tell me how to enable it? I used following props so far:\r\n\r\n```yaml\r\nspring:\r\n  quartz:\r\n    job-store-type: jdbc\r\n    jdbc:\r\n      initialize-schema: NEVER\r\n    properties:\r\n      org:\r\n        quartz:\r\n          jobStore:\r\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n  jpa:\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        show_sql: true\r\n        use_sql_comments: true\r\n        format_sql: true\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      quartz: DEBUG\r\n      hibernate:\r\n        SQL: DEBUG\r\n      postgres: DEBUG\r\n      springframework:\r\n        jdbc:\r\n          core:\r\n            JdbcTemplate: DEBUG\r\n            StatementCreatorUtils: TRACE\r\n```","title":"Spring Boot Quartz - Show SQL statements","body":"<p>I'm using Quartz together with Spring Boot and postgres database as a persistence storage for quartz stuff. I would like to see sql logs in a console which quartz is executing under the hood. I tried many configuration properties to enable it, but none of them worked. Can someone tell me how to enable it? I used following props so far:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  quartz:\n    job-store-type: jdbc\n    jdbc:\n      initialize-schema: NEVER\n    properties:\n      org:\n        quartz:\n          jobStore:\n            driverDelegateClass: org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        show_sql: true\n        use_sql_comments: true\n        format_sql: true\n\nlogging:\n  level:\n    org:\n      quartz: DEBUG\n      hibernate:\n        SQL: DEBUG\n      postgres: DEBUG\n      springframework:\n        jdbc:\n          core:\n            JdbcTemplate: DEBUG\n            StatementCreatorUtils: TRACE\n</code></pre>\n"},{"tags":["java","swing","exception","awt","animated-gif"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1664128738,"post_id":73846651,"comment_id":130395428,"body_markdown":"I think your problem may be caused by the fact that GIFs can be animated. Rather than trying to fix this in Java, I&#39;d recommend trying convert your GIFs into PNGs or JPEGs.","body":"I think your problem may be caused by the fact that GIFs can be animated. Rather than trying to fix this in Java, I&#39;d recommend trying convert your GIFs into PNGs or JPEGs."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664165186,"post_id":73846651,"comment_id":130400612,"body_markdown":"Can you post a link to the GIF? What platform are you on? What Java version are you using?","body":"Can you post a link to the GIF? What platform are you on? What Java version are you using?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1664165378,"post_id":73846651,"comment_id":130400632,"body_markdown":"From the code in your question: `JLabel j = new Label();` Is that a mistake?","body":"From the code in your question: <code>JLabel j = new Label();</code> Is that a mistake?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664196670,"post_id":73846651,"comment_id":130409006,"body_markdown":"First of all, you should *never* enclose your code with something like `try {  } catch (NullPointerException e) {\n\n}`","body":"First of all, you should <i>never</i> enclose your code with something like <code>try {  } catch (NullPointerException e) {  }</code>"}],"owner":{"account_id":26372536,"reputation":21,"user_id":20026996,"display_name":"ROCK GUY PRO"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1664165316,"creation_date":1664128141,"question_id":73846651,"body_markdown":"I created a program to display a GIF but when I added it in the form of a `JLabel` it played but it flickered and flashed and was not continuous which looks very bad and I&#39;m seeking for a way to overcome this issue.\r\n\r\n```java\r\ntry {\r\n    JLabel j = new Label();\r\n    j.setBounds(0, 0, 1280, 768);\r\n    ImageIcon i = new ImageIcon(&quot;frac.gif&quot;);\r\n    j.setIcon(i);\r\n} catch (NullPointerException e) {\r\n\r\n}\r\n```\r\nAnd then add it to a `JFrame` and as soon as it displays the GIF flashes.\r\n\r\nPlease look into the matter.","title":"Gifs in form of JLabel are fickering in Jframe","body":"<p>I created a program to display a GIF but when I added it in the form of a <code>JLabel</code> it played but it flickered and flashed and was not continuous which looks very bad and I'm seeking for a way to overcome this issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    JLabel j = new Label();\n    j.setBounds(0, 0, 1280, 768);\n    ImageIcon i = new ImageIcon(&quot;frac.gif&quot;);\n    j.setIcon(i);\n} catch (NullPointerException e) {\n\n}\n</code></pre>\n<p>And then add it to a <code>JFrame</code> and as soon as it displays the GIF flashes.</p>\n<p>Please look into the matter.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1664139817,"post_id":73847338,"comment_id":130397532,"body_markdown":"When the `DocumentChange.Type.REMOVE` fires you&#39;ll need to remove the document that was removed from your `messageList` and then call `notifyDataSetChanged` on the adapter. Did you do that?","body":"When the <code>DocumentChange.Type.REMOVE</code> fires you&#39;ll need to remove the document that was removed from your <code>messageList</code> and then call <code>notifyDataSetChanged</code> on the adapter. Did you do that?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1664161812,"post_id":73847338,"comment_id":130400231,"body_markdown":"&quot;but there is not a real time change&quot; I&#39;m not sure what you mean there. If you set a breakpoint on that `threadsList.remove(info);`, run in the debugger, and remove a document: does it then reach that breakpoint? If so, does your code successfully remove the item from the `threadsList`?","body":"&quot;but there is not a real time change&quot; I&#39;m not sure what you mean there. If you set a breakpoint on that <code>threadsList.remove(info);</code>, run in the debugger, and remove a document: does it then reach that breakpoint? If so, does your code successfully remove the item from the <code>threadsList</code>?"},{"owner":{"account_id":23314067,"reputation":21,"user_id":17392901,"display_name":"Marcel Sanchez"},"score":0,"creation_date":1664163583,"post_id":73847338,"comment_id":130400435,"body_markdown":"When I mean &quot;real time change&quot; is showing the change on this case document removed from firebase in the Recycler View, The item is removed from the list with: threadList.remove(info), but I still can see the document on the Recycler View until I refresh the fragment the Item is removed, basically I don&#39;t want to refresh the fragment for see any changes. I&#39;m using snapshotListener event and works fine when I add a item to the Recycler View I can see the change without refresh the framgent","body":"When I mean &quot;real time change&quot; is showing the change on this case document removed from firebase in the Recycler View, The item is removed from the list with: threadList.remove(info), but I still can see the document on the Recycler View until I refresh the fragment the Item is removed, basically I don&#39;t want to refresh the fragment for see any changes. I&#39;m using snapshotListener event and works fine when I add a item to the Recycler View I can see the change without refresh the framgent"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1664163819,"post_id":73847338,"comment_id":130400467,"body_markdown":"Hmm... if your adapter renders the items in `threadsList`, then the code looks good to me. Hopefully somebody else spots the problem.","body":"Hmm... if your adapter renders the items in <code>threadsList</code>, then the code looks good to me. Hopefully somebody else spots the problem."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664184077,"post_id":73847338,"comment_id":130404906,"body_markdown":"I also don&#39;t spot the problem, but if you understand Kotlin, most likely this [resource](https://medium.com/firebase-developers/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf) will help. Here is also the corresponding [repo](https://github.com/alexmamo/SwipeToDelete).","body":"I also don&#39;t spot the problem, but if you understand Kotlin, most likely this <a href=\"https://medium.com/firebase-developers/how-to-delete-a-record-from-firestore-on-a-recylerview-left-right-swipe-d65d993f0baf\" rel=\"nofollow noreferrer\">resource</a> will help. Here is also the corresponding <a href=\"https://github.com/alexmamo/SwipeToDelete\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":23314067,"reputation":21,"user_id":17392901,"display_name":"Marcel Sanchez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664163960,"creation_date":1664134415,"question_id":73847338,"body_markdown":"    if(documentChange.getType() == DocumentChange.Type.ADDED){\r\n        MessageAndUserInfo info = documentChange.getDocument().toObject(MessageAndUserInfo.class);\r\n        messageList.add(info);\r\n        info.setId(documentChange.getDocument().getId());\r\n        info.setThreadId(threadId);\r\n        db.collection(&quot;users&quot;).document(documentChange.getDocument().getString(&quot;senderId&quot;)).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                info.setUsername(task.getResult().getString(&quot;firstName&quot;));\r\n                if(completeCount++ == value.size() -1){\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n    }else(documentChange.getType() == DocumentChange.Type.REMOVED){\r\n        ThreadAndUserInfo info = documentChange.getDocument().toObject(ThreadAndUserInfo.class);\r\n        threadsList.remove(info);\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n\r\nI&#39;m developing a Message app. I send the document changes to an Adapter, that happened on real time for everyone. That&#39;s fine, but when I want to remove a Message I want to do it on real time. I mean everyone can see the document deleted, I did it on the Adapter but the change takes effect only for the user who delete the message. I&#39;m thinking on return the item position from the adapter and returning it on Fragment but Idk how.\r\n\r\nI can see changes on the RecyclerView when I call adapter.notifyItemRemoved(position), but I require the position of the Item...\r\n\r\nwhen I add a Item to recycler view I can see the changes on the fragment with adapter.notifyDataSetChanged() without refresh it. and I want to implement the same &quot;effect&quot; when I remove a message.\r\n","title":"remove document on real time with DocumentChange.Type.REMOVED","body":"<pre><code>if(documentChange.getType() == DocumentChange.Type.ADDED){\n    MessageAndUserInfo info = documentChange.getDocument().toObject(MessageAndUserInfo.class);\n    messageList.add(info);\n    info.setId(documentChange.getDocument().getId());\n    info.setThreadId(threadId);\n    db.collection(&quot;users&quot;).document(documentChange.getDocument().getString(&quot;senderId&quot;)).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n            info.setUsername(task.getResult().getString(&quot;firstName&quot;));\n            if(completeCount++ == value.size() -1){\n                adapter.notifyDataSetChanged();\n            }\n        }\n    });\n\n}else(documentChange.getType() == DocumentChange.Type.REMOVED){\n    ThreadAndUserInfo info = documentChange.getDocument().toObject(ThreadAndUserInfo.class);\n    threadsList.remove(info);\n    adapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>I'm developing a Message app. I send the document changes to an Adapter, that happened on real time for everyone. That's fine, but when I want to remove a Message I want to do it on real time. I mean everyone can see the document deleted, I did it on the Adapter but the change takes effect only for the user who delete the message. I'm thinking on return the item position from the adapter and returning it on Fragment but Idk how.</p>\n<p>I can see changes on the RecyclerView when I call adapter.notifyItemRemoved(position), but I require the position of the Item...</p>\n<p>when I add a Item to recycler view I can see the changes on the fragment with adapter.notifyDataSetChanged() without refresh it. and I want to implement the same &quot;effect&quot; when I remove a message.</p>\n"},{"tags":["java","spring","spring-boot","spring-jdbc","spring-data-jdbc"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1656660065,"post_id":72816974,"comment_id":128630990,"body_markdown":"How do you set up your application context?","body":"How do you set up your application context?"},{"owner":{"account_id":5433912,"reputation":150,"user_id":5845010,"display_name":"Ravi"},"score":0,"creation_date":1656673049,"post_id":72816974,"comment_id":128635204,"body_markdown":"i am doing all configurations through annotations. i have updated reference config file inmy question","body":"i am doing all configurations through annotations. i have updated reference config file inmy question"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656674748,"creation_date":1656674748,"answer_id":72828550,"question_id":72816974,"body_markdown":"Make your configuration extend `AbstractJdcbcConfiguration` and overwrite `jdbcConfiguration()`.","title":"Customconversions not working in spring data jdbc","body":"<p>Make your configuration extend <code>AbstractJdcbcConfiguration</code> and overwrite <code>jdbcConfiguration()</code>.</p>\n"},{"tags":[],"owner":{"account_id":369178,"reputation":3,"user_id":716401,"display_name":"user716401"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664163909,"creation_date":1664163909,"answer_id":73849450,"question_id":72816974,"body_markdown":"Just updating Jens Schauder&#39;s answer (I think it&#39;s just a typo - I would comment but don&#39;t have the rep):\r\n\r\nMake your configuration extend `AbstractJdcbcConfiguration` and overwrite `jdbcCustomConversions()` (or possibly `userConverters()`, if that suits the purpose).","title":"Customconversions not working in spring data jdbc","body":"<p>Just updating Jens Schauder's answer (I think it's just a typo - I would comment but don't have the rep):</p>\n<p>Make your configuration extend <code>AbstractJdcbcConfiguration</code> and overwrite <code>jdbcCustomConversions()</code> (or possibly <code>userConverters()</code>, if that suits the purpose).</p>\n"}],"owner":{"account_id":5433912,"reputation":150,"user_id":5845010,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664163909,"creation_date":1656596942,"question_id":72816974,"body_markdown":"Before going to actual issue let me brief what i am looking for.\r\nI am looking for encrypt and decrypt the fields inside entity. in JPA, we can use Attribute converter and achieve this. but in spring data jdbc its not supported it seems.\r\n\r\nSo, i am trying to use customconverstions feature of spring data jdbc. here i am  creating one type like below\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class EncryptionDataType {\r\n  private String value;\r\n\r\n  @Override public String toString() {\r\n    return value ;\r\n  }\r\n}\r\n```\r\nin Pojo i will use this type as field.\r\n```\r\n@Table(&quot;EMPLOYEE&quot;)\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Data\r\npublic class Employee\r\n{\r\n    @Column(&quot;name&quot;)\r\n    private EncryptionDataType name;\r\n    @Id\r\n    private Integer id;\r\n    @Version\r\n    private Long version;\r\n\r\n}\r\n```\r\nso from this i am expecting to save the &#39;EncryptionDataType&#39; as normal string column in mysql for this i have created converter for read and write\r\n```\r\n@WritingConverter\r\npublic class EncryptionDataTypeWriteConverter implements Converter&lt;EncryptionDataType, String&gt; {\r\n  @Override public String convert(EncryptionDataType source) {\r\n    return source.toString()+&quot;add&quot;;\r\n  }\r\n}\r\n@ReadingConverter\r\npublic class EncryptionDataTypeReadConverter implements Converter&lt;String, EncryptionDataType&gt; {\r\n\r\n  @Override public EncryptionDataType convert(String source) {\r\n    return new EncryptionDataType(source);\r\n  }\r\n}\r\n```\r\nconfiguring these converts in configuration file.\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n@Bean\r\n    protected JdbcCustomConversions JdbcConversion(Dialect dialect) {\r\n            return new JdbcCustomConversions(\r\n                Arrays.asList(new EncryptionDataTypeReadConverter(),new EncryptionDataTypeWriteConverter()));\r\n    }\r\n}\r\n```\r\nThis configurations seems not working. i am getting below error.\r\n```\r\nPreparedStatementCallback; bad SQL grammar [INSERT INTO `encryption_data_type` (`name`, `value`) VALUES (?, ?)]; nested exception is java.sql.SQLSyntaxErrorException: Table &#39;testschema.encryption_data_type&#39; doesn&#39;t exist\r\n```\r\nseems instead of converting my encryptionDataType to string its trying to insert into new table. Please help me. am i missing anything ?\r\n\r\nUpdated configuration code: \r\n```\r\n@Configuration\r\n@EnableJdbcRepositories(transactionManagerRef = &quot;CustomJdbcTranasactionManager&quot;, jdbcOperationsRef = &quot;CustomJdbcOperationsReference&quot;, repositoryFactoryBeanClass = CustomRepositoryFactoryBean.class, basePackages = {\r\n    &quot;com.java.testy&quot;\r\n})\r\n@EnableAutoConfiguration(exclude = {\r\n    org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration.class,\r\n    org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration.class\r\n})\r\npublic class MyConfig {\r\n\r\n@Bean\r\n    protected JdbcCustomConversions JdbcConversion(Dialect dialect) {\r\n            return new JdbcCustomConversions(\r\n                Arrays.asList(new EncryptionDataTypeReadConverter(),new EncryptionDataTypeWriteConverter()));\r\n    }\r\n// creating beans for datasource,JdbcOperationsReference,JdbcTranasactionManager,JdbcConverter,JdbcMappingContext,DataAccessStrategy,JdbcAggregateTemplate\r\n}\r\n```","title":"Customconversions not working in spring data jdbc","body":"<p>Before going to actual issue let me brief what i am looking for.\nI am looking for encrypt and decrypt the fields inside entity. in JPA, we can use Attribute converter and achieve this. but in spring data jdbc its not supported it seems.</p>\n<p>So, i am trying to use customconverstions feature of spring data jdbc. here i am  creating one type like below</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class EncryptionDataType {\n  private String value;\n\n  @Override public String toString() {\n    return value ;\n  }\n}\n</code></pre>\n<p>in Pojo i will use this type as field.</p>\n<pre><code>@Table(&quot;EMPLOYEE&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Data\npublic class Employee\n{\n    @Column(&quot;name&quot;)\n    private EncryptionDataType name;\n    @Id\n    private Integer id;\n    @Version\n    private Long version;\n\n}\n</code></pre>\n<p>so from this i am expecting to save the 'EncryptionDataType' as normal string column in mysql for this i have created converter for read and write</p>\n<pre><code>@WritingConverter\npublic class EncryptionDataTypeWriteConverter implements Converter&lt;EncryptionDataType, String&gt; {\n  @Override public String convert(EncryptionDataType source) {\n    return source.toString()+&quot;add&quot;;\n  }\n}\n@ReadingConverter\npublic class EncryptionDataTypeReadConverter implements Converter&lt;String, EncryptionDataType&gt; {\n\n  @Override public EncryptionDataType convert(String source) {\n    return new EncryptionDataType(source);\n  }\n}\n</code></pre>\n<p>configuring these converts in configuration file.</p>\n<pre><code>@Configuration\npublic class MyConfig {\n\n@Bean\n    protected JdbcCustomConversions JdbcConversion(Dialect dialect) {\n            return new JdbcCustomConversions(\n                Arrays.asList(new EncryptionDataTypeReadConverter(),new EncryptionDataTypeWriteConverter()));\n    }\n}\n</code></pre>\n<p>This configurations seems not working. i am getting below error.</p>\n<pre><code>PreparedStatementCallback; bad SQL grammar [INSERT INTO `encryption_data_type` (`name`, `value`) VALUES (?, ?)]; nested exception is java.sql.SQLSyntaxErrorException: Table 'testschema.encryption_data_type' doesn't exist\n</code></pre>\n<p>seems instead of converting my encryptionDataType to string its trying to insert into new table. Please help me. am i missing anything ?</p>\n<p>Updated configuration code:</p>\n<pre><code>@Configuration\n@EnableJdbcRepositories(transactionManagerRef = &quot;CustomJdbcTranasactionManager&quot;, jdbcOperationsRef = &quot;CustomJdbcOperationsReference&quot;, repositoryFactoryBeanClass = CustomRepositoryFactoryBean.class, basePackages = {\n    &quot;com.java.testy&quot;\n})\n@EnableAutoConfiguration(exclude = {\n    org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration.class,\n    org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration.class\n})\npublic class MyConfig {\n\n@Bean\n    protected JdbcCustomConversions JdbcConversion(Dialect dialect) {\n            return new JdbcCustomConversions(\n                Arrays.asList(new EncryptionDataTypeReadConverter(),new EncryptionDataTypeWriteConverter()));\n    }\n// creating beans for datasource,JdbcOperationsReference,JdbcTranasactionManager,JdbcConverter,JdbcMappingContext,DataAccessStrategy,JdbcAggregateTemplate\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2071228,"reputation":4128,"user_id":1845671,"accept_rate":100,"display_name":"jsedano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664162972,"creation_date":1664162972,"answer_id":73849377,"question_id":73849330,"body_markdown":"the problem is that you&#39;re declaring `currentScore` variable inside the scope of the first `if` and trying to read it outside said scope.\r\n\r\nTry declaring: \r\n\r\n    double currentScore = 0;\r\n\r\nabove your first `if` and then instead of declaring, just do:\r\n\r\n    currentScore = (examOneGrade * examOneWeight)/(examOneWeight);\r\n\r\ninside the first `if`\r\n","title":"Java cannot be resolved to a variable issue","body":"<p>the problem is that you're declaring <code>currentScore</code> variable inside the scope of the first <code>if</code> and trying to read it outside said scope.</p>\n<p>Try declaring:</p>\n<pre><code>double currentScore = 0;\n</code></pre>\n<p>above your first <code>if</code> and then instead of declaring, just do:</p>\n<pre><code>currentScore = (examOneGrade * examOneWeight)/(examOneWeight);\n</code></pre>\n<p>inside the first <code>if</code></p>\n"}],"owner":{"account_id":26442361,"reputation":1,"user_id":20086678,"display_name":"joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664163214,"creation_date":1664162466,"question_id":73849330,"body_markdown":"new to Java and coding. I tried initializing it outside of the if-else statements to see if that would fix the issue but that doesn&#39;t work either as it then claims the variables have no values. When I try to print currentScore, I get the error message that currentScore cannot be resolved to a variable. Here is my current code. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class GradeCalculator {\r\n    \r\n        public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n            Scanner keyboard = new Scanner(System.in);\r\n            System.out.println(&quot;Please input the letter grade you would like to receive:&quot;);\r\n            char desiredGrade = keyboard.next().charAt(0);\r\n    \r\n            System.out.println(&quot;Please put either &#39;Yes&#39; or &#39;No&#39; whether or not you know the score for each graded item&quot;);\r\n            System.out.println(&quot;Do you know the grade to Exam 1?&quot;);\r\n            String doesUserKnowExamOne = keyboard.next();\r\n    \r\n    \r\n            if (doesUserKnowExamOne.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                System.out.println(&quot;Please input the grade for Exam 1&quot;);\r\n                double examOneGrade = keyboard.nextDouble();\r\n                System.out.println(&quot;Please input the weight for Exam 1&quot;);\r\n                int examOneWeight = keyboard.nextInt();\r\n                System.out.println(&quot;Do you know the grade to Exam 2?&quot;);\r\n                String doesUserKnowExamTwo = keyboard.next();\r\n                double currentScore = (examOneGrade * examOneWeight) / (examOneWeight);\r\n    \r\n                if (doesUserKnowExamTwo.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                    System.out.println(&quot;Please input the grade for Exam 2&quot;);\r\n                    double examTwoGrade = keyboard.nextDouble();\r\n                    System.out.println(&quot;Please input the weight for Exam 2&quot;);\r\n                    int examTwoWeight = keyboard.nextInt();\r\n                    System.out.println(&quot;Do you know the grade to Final Exam?&quot;);\r\n                    String doesUserKnowFinal = keyboard.next();\r\n                    currentScore = (examOneGrade * examOneWeight) + (examTwoGrade * examTwoWeight) / (examOneWeight + examTwoWeight);\r\n    \r\n    \r\n                    if (doesUserKnowFinal.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                        System.out.println(&quot;Please input the grade for Final Exam&quot;);\r\n                        double finalExamGrade = keyboard.nextDouble();\r\n                        System.out.println(&quot;Please input the weight for Final Exam&quot;);\r\n                        int finalExamWeight = keyboard.nextInt();\r\n                        currentScore = (examOneGrade * examOneWeight) + (examTwoGrade * examTwoWeight) + (finalExamGrade + finalExamWeight) / (examOneWeight + examTwoWeight + finalExamWeight);\r\n    \r\n                    } else {\r\n                        System.out.println(&quot;Final Exam not taken yet&quot;);\r\n                    }\r\n    \r\n                } else {\r\n                    System.out.println(&quot;Exam Two and Final Exam not taken yet&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Exam One, Exam Two, and Final Exam not taken yet&quot;);\r\n            }\r\n    \r\n            System.out.println(currentScore);\r\n        }\r\n    }","title":"Java cannot be resolved to a variable issue","body":"<p>new to Java and coding. I tried initializing it outside of the if-else statements to see if that would fix the issue but that doesn't work either as it then claims the variables have no values. When I try to print currentScore, I get the error message that currentScore cannot be resolved to a variable. Here is my current code.</p>\n<pre><code>import java.util.Scanner;\n\npublic class GradeCalculator {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner keyboard = new Scanner(System.in);\n        System.out.println(&quot;Please input the letter grade you would like to receive:&quot;);\n        char desiredGrade = keyboard.next().charAt(0);\n\n        System.out.println(&quot;Please put either 'Yes' or 'No' whether or not you know the score for each graded item&quot;);\n        System.out.println(&quot;Do you know the grade to Exam 1?&quot;);\n        String doesUserKnowExamOne = keyboard.next();\n\n\n        if (doesUserKnowExamOne.equalsIgnoreCase(&quot;Yes&quot;)) {\n            System.out.println(&quot;Please input the grade for Exam 1&quot;);\n            double examOneGrade = keyboard.nextDouble();\n            System.out.println(&quot;Please input the weight for Exam 1&quot;);\n            int examOneWeight = keyboard.nextInt();\n            System.out.println(&quot;Do you know the grade to Exam 2?&quot;);\n            String doesUserKnowExamTwo = keyboard.next();\n            double currentScore = (examOneGrade * examOneWeight) / (examOneWeight);\n\n            if (doesUserKnowExamTwo.equalsIgnoreCase(&quot;Yes&quot;)) {\n                System.out.println(&quot;Please input the grade for Exam 2&quot;);\n                double examTwoGrade = keyboard.nextDouble();\n                System.out.println(&quot;Please input the weight for Exam 2&quot;);\n                int examTwoWeight = keyboard.nextInt();\n                System.out.println(&quot;Do you know the grade to Final Exam?&quot;);\n                String doesUserKnowFinal = keyboard.next();\n                currentScore = (examOneGrade * examOneWeight) + (examTwoGrade * examTwoWeight) / (examOneWeight + examTwoWeight);\n\n\n                if (doesUserKnowFinal.equalsIgnoreCase(&quot;Yes&quot;)) {\n                    System.out.println(&quot;Please input the grade for Final Exam&quot;);\n                    double finalExamGrade = keyboard.nextDouble();\n                    System.out.println(&quot;Please input the weight for Final Exam&quot;);\n                    int finalExamWeight = keyboard.nextInt();\n                    currentScore = (examOneGrade * examOneWeight) + (examTwoGrade * examTwoWeight) + (finalExamGrade + finalExamWeight) / (examOneWeight + examTwoWeight + finalExamWeight);\n\n                } else {\n                    System.out.println(&quot;Final Exam not taken yet&quot;);\n                }\n\n            } else {\n                System.out.println(&quot;Exam Two and Final Exam not taken yet&quot;);\n            }\n        } else {\n            System.out.println(&quot;Exam One, Exam Two, and Final Exam not taken yet&quot;);\n        }\n\n        System.out.println(currentScore);\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor","getter-setter","getter","setter"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1664160134,"post_id":73849168,"comment_id":130400009,"body_markdown":"using `System.out.println(product1.totalSales);`","body":"using <code>System.out.println(product1.totalSales);</code>"},{"owner":{"account_id":19825154,"reputation":771,"user_id":14520847,"display_name":"banzhe"},"score":0,"creation_date":1664160584,"post_id":73849168,"comment_id":130400085,"body_markdown":"System.out.println(product1) will use the default toString() method  from his parent class Object, you can write a toString() method in Product to override the default toString().","body":"System.out.println(product1) will use the default toString() method  from his parent class Object, you can write a toString() method in Product to override the default toString()."},{"owner":{"account_id":22931482,"reputation":15,"user_id":17065685,"display_name":"inkystinky33"},"score":0,"creation_date":1664163389,"post_id":73849168,"comment_id":130400407,"body_markdown":"Thank you guys, product1.totalSales seemed to have worked. The toString() method also worked, thanks again folks.","body":"Thank you guys, product1.totalSales seemed to have worked. The toString() method also worked, thanks again folks."}],"owner":{"account_id":22931482,"reputation":15,"user_id":17065685,"display_name":"inkystinky33"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664160133,"answer_count":0,"score":0,"last_activity_date":1664160021,"creation_date":1664160021,"question_id":73849168,"body_markdown":"I am VERY new to java. I am trying to understand how getters and setters work, and in an effort to do so created a program that utilizes getters and setters as opposed to directly accessing the variables. I am not sure if it was something related to the way I did that, or something else, but the program just spits out `Product@5f2050f6` when I try to print product1. The program is supposed to allow you to search for products, and enter the quantity sold. It then adds that quantity you typed to the amount it already has stored. It&#39;s then supposed to print it, but I haven&#39;t been able to get any to print.\r\n```\r\npublic class Product {\r\n    public double productPrice;\r\n    public double totalSales;\r\n    \r\n    \r\n    public Product(double productPrice) { \r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public double getProductPrice() {\r\n        return productPrice;\r\n    }\r\n\r\n    public void setProductPrice(double productPrice) {\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public double getTotalSales() {\r\n        return totalSales;\r\n    }\r\n\r\n    public void setTotalSales(double totalSales) {\r\n        this.totalSales = totalSales;\r\n    }\r\n    public double updateTotalSales (int qntySold){\r\n        double temp1;\r\n        getTotalSales();\r\n        temp1 = totalSales + (qntySold * getProductPrice());\r\n        setTotalSales(totalSales + temp1);\r\n        return 0;\r\n    }\r\n    \r\n}\r\n```\r\nThis is the method class file, the main class file is below\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ProductDriver {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        Product product1 = new Product(2.98);\r\n        Product product2 = new Product(4.50);\r\n        Product product3 = new Product(9.98);\r\n        Product product4 = new Product(4.29);\r\n        Product product5 = new Product(8.67);\r\n\r\n        System.out.print(&quot;Enter product number: &quot;); //start of loop, technically\r\n        Integer prodNum = scanner.nextInt();\r\n        while (prodNum != 0)\r\n        {\r\n            System.out.print(&quot;Quantity sold: &quot;);\r\n            Integer amnt = scanner.nextInt();\r\n            switch (prodNum) { // switch statement looking for correct product\r\n                case 1: product1.updateTotalSales(amnt);\r\n                    break;\r\n                case 2: product2.updateTotalSales(amnt);\r\n                    break;\r\n                case 3: product3.updateTotalSales(amnt);\r\n                    break;\r\n                case 4: product4.updateTotalSales(amnt);\r\n                    break;\r\n                case 5: product5.updateTotalSales(amnt);\r\n                    break;\r\n                default: System.out.println(&quot;Not a valid product number.&quot;);\r\n            }\r\n            System.out.print(&quot;Enter product number: &quot;);\r\n            prodNum = scanner.nextInt();\r\n        }\r\n        System.out.println(&quot;Total Sales&quot;);\r\n        System.out.println(&quot;===========&quot;);\r\n        System.out.println(product1);\r\n        \r\n        scanner.close();\r\n    }\r\n}\r\n```\r\nThe result is always ```Product@5f2050f6``` when I try to print product1. I&#39;m not sure what the problem is, any help would be appreciated, and like I said, I am very new to java. ","title":"Java is printing Product@5f2050f6 instead of the total of an object","body":"<p>I am VERY new to java. I am trying to understand how getters and setters work, and in an effort to do so created a program that utilizes getters and setters as opposed to directly accessing the variables. I am not sure if it was something related to the way I did that, or something else, but the program just spits out <code>Product@5f2050f6</code> when I try to print product1. The program is supposed to allow you to search for products, and enter the quantity sold. It then adds that quantity you typed to the amount it already has stored. It's then supposed to print it, but I haven't been able to get any to print.</p>\n<pre><code>public class Product {\n    public double productPrice;\n    public double totalSales;\n    \n    \n    public Product(double productPrice) { \n        this.productPrice = productPrice;\n    }\n\n    public double getProductPrice() {\n        return productPrice;\n    }\n\n    public void setProductPrice(double productPrice) {\n        this.productPrice = productPrice;\n    }\n\n    public double getTotalSales() {\n        return totalSales;\n    }\n\n    public void setTotalSales(double totalSales) {\n        this.totalSales = totalSales;\n    }\n    public double updateTotalSales (int qntySold){\n        double temp1;\n        getTotalSales();\n        temp1 = totalSales + (qntySold * getProductPrice());\n        setTotalSales(totalSales + temp1);\n        return 0;\n    }\n    \n}\n</code></pre>\n<p>This is the method class file, the main class file is below</p>\n<pre><code>import java.util.Scanner;\n\npublic class ProductDriver {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        \n        Product product1 = new Product(2.98);\n        Product product2 = new Product(4.50);\n        Product product3 = new Product(9.98);\n        Product product4 = new Product(4.29);\n        Product product5 = new Product(8.67);\n\n        System.out.print(&quot;Enter product number: &quot;); //start of loop, technically\n        Integer prodNum = scanner.nextInt();\n        while (prodNum != 0)\n        {\n            System.out.print(&quot;Quantity sold: &quot;);\n            Integer amnt = scanner.nextInt();\n            switch (prodNum) { // switch statement looking for correct product\n                case 1: product1.updateTotalSales(amnt);\n                    break;\n                case 2: product2.updateTotalSales(amnt);\n                    break;\n                case 3: product3.updateTotalSales(amnt);\n                    break;\n                case 4: product4.updateTotalSales(amnt);\n                    break;\n                case 5: product5.updateTotalSales(amnt);\n                    break;\n                default: System.out.println(&quot;Not a valid product number.&quot;);\n            }\n            System.out.print(&quot;Enter product number: &quot;);\n            prodNum = scanner.nextInt();\n        }\n        System.out.println(&quot;Total Sales&quot;);\n        System.out.println(&quot;===========&quot;);\n        System.out.println(product1);\n        \n        scanner.close();\n    }\n}\n</code></pre>\n<p>The result is always <code>Product@5f2050f6</code> when I try to print product1. I'm not sure what the problem is, any help would be appreciated, and like I said, I am very new to java.</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":4,"creation_date":1663406118,"post_id":73752263,"comment_id":130235640,"body_markdown":"https://openjfx.io/openjfx-docs/#IDE-VSCode","body":"<a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#IDE-VSCode</a>"},{"owner":{"account_id":26361011,"reputation":15,"user_id":20017207,"display_name":"Bilolbek Rayimov"},"score":1,"creation_date":1664016602,"post_id":73752263,"comment_id":130378111,"body_markdown":"@jewelsea done, screenshots are still there yo show referenced libraries","body":"@jewelsea done, screenshots are still there yo show referenced libraries"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664157861,"creation_date":1664157861,"answer_id":73849041,"question_id":73752263,"body_markdown":"#### VS Code uses the currently open folder as the workspace.\r\n\r\nAs you can see from your screenshot, you have two `bookFirst` folders. For the sake of convenience, let&#39;s call your first-level `bookFirst` folder `BOOKFIRST-1` and your second-level `bookFirst` folder `bookFirst-2`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou opened the `BOOKFIRST-1` folder as a vscode workspace, but your project is indeed inside the `bookFirst-2` folder under the `BOOKFIRST-1` folder.\r\n\r\n\r\n#### Solution\r\n\r\nOpen the `bookFirst-2` folder as workspace in VS code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aF97f.png","title":"Error: JavaFX runtime components are missing, and are required to run this application vs code","body":"<h4>VS Code uses the currently open folder as the workspace.</h4>\n<p>As you can see from your screenshot, you have two <code>bookFirst</code> folders. For the sake of convenience, let's call your first-level <code>bookFirst</code> folder <code>BOOKFIRST-1</code> and your second-level <code>bookFirst</code> folder <code>bookFirst-2</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/aF97f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aF97f.png\" alt=\"enter image description here\" /></a></p>\n<p>You opened the <code>BOOKFIRST-1</code> folder as a vscode workspace, but your project is indeed inside the <code>bookFirst-2</code> folder under the <code>BOOKFIRST-1</code> folder.</p>\n<h4>Solution</h4>\n<p>Open the <code>bookFirst-2</code> folder as workspace in VS code.</p>\n"}],"owner":{"account_id":26361011,"reputation":15,"user_id":20017207,"display_name":"Bilolbek Rayimov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664157861,"creation_date":1663391046,"question_id":73752263,"body_markdown":"I saw several answers for this question, but none of them solved my problem. I followed [this](https://www.youtube.com/watch?v=AubJaosfI-0&amp;t=458s) tutorial to create a simple JavaFX application with a button. At first, it worked totally fine. But, when I close VS Code and open it again it shows the error:\r\n\r\n\r\n&gt; Error: JavaFX runtime components are missing, and are required to run this application\r\n\r\n\r\n\r\n\r\n\r\nI added vmArgs to my launch.json file:\r\n\r\n\r\n\r\n    &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Program Files/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.media,javafx.base,javafx.graphics,javafx.controls,javafx.fxml&quot;\r\n\r\nThis is the Java code:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.Stage;\r\n\r\n    public class App extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btOK = new Button(&quot;OK&quot;);\r\n        Scene scene = new Scene(btOK, 200, 250);\r\n        primaryStage.setTitle(&quot;MyJavaFX&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Application.launch(args);\r\n    }\r\n    }\r\n\r\n\r\n\r\nThis is the launch.json file:\r\n\r\n\r\n\r\n\r\n    {\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;Java&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;Java Console App&quot;,\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;stopOnEntry&quot;: true,\r\n            &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\r\n            &quot;cwd&quot;: &quot;${fileDirname}&quot;,\r\n            &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\r\n            &quot;classpath&quot;: [\r\n                &quot;.&quot;,\r\n                &quot;${fileDirname}&quot;\r\n            ],\r\n            &quot;externalConsole&quot;: true\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;bookFirst_4a14754a&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Program Files/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.media,javafx.base,javafx.graphics,javafx.controls,javafx.fxml&quot;,\r\n        }\r\n    ]\r\n    }\r\n\r\n\r\n\r\n\r\nHere are the screenshots if required:\r\n  [launch.json](https://i.stack.imgur.com/zM0oG.png)\r\n\r\n\r\n  [Java code](https://i.stack.imgur.com/rG5Ho.png)\r\n\r\n\r\n  [Settings.json](https://i.stack.imgur.com/A8wfl.png)","title":"Error: JavaFX runtime components are missing, and are required to run this application vs code","body":"<p>I saw several answers for this question, but none of them solved my problem. I followed <a href=\"https://www.youtube.com/watch?v=AubJaosfI-0&amp;t=458s\" rel=\"nofollow noreferrer\">this</a> tutorial to create a simple JavaFX application with a button. At first, it worked totally fine. But, when I close VS Code and open it again it shows the error:</p>\n<blockquote>\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n</blockquote>\n<p>I added vmArgs to my launch.json file:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Program Files/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.media,javafx.base,javafx.graphics,javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>This is the Java code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n@Override\npublic void start(Stage primaryStage) {\n    Button btOK = new Button(&quot;OK&quot;);\n    Scene scene = new Scene(btOK, 200, 250);\n    primaryStage.setTitle(&quot;MyJavaFX&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n\npublic static void main(String[] args) throws Exception {\n    Application.launch(args);\n}\n}\n</code></pre>\n<p>This is the launch.json file:</p>\n<pre><code>{\n// Use IntelliSense to learn about possible attributes.\n// Hover to view descriptions of existing attributes.\n// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;name&quot;: &quot;Java&quot;,\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;stopOnEntry&quot;: true,\n        &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n        &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n        &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n        &quot;classpath&quot;: [\n            &quot;.&quot;,\n            &quot;${fileDirname}&quot;\n        ]\n    },\n    {\n        &quot;name&quot;: &quot;Java Console App&quot;,\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;stopOnEntry&quot;: true,\n        &quot;jdkPath&quot;: &quot;${env:JAVA_HOME}/bin&quot;,\n        &quot;cwd&quot;: &quot;${fileDirname}&quot;,\n        &quot;startupClass&quot;: &quot;${fileBasenameNoExtension}&quot;,\n        &quot;classpath&quot;: [\n            &quot;.&quot;,\n            &quot;${fileDirname}&quot;\n        ],\n        &quot;externalConsole&quot;: true\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch App&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;App&quot;,\n        &quot;projectName&quot;: &quot;bookFirst_4a14754a&quot;,\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Program Files/Java/javafx-sdk-19/lib\\&quot; --add-modules javafx.media,javafx.base,javafx.graphics,javafx.controls,javafx.fxml&quot;,\n    }\n]\n}\n</code></pre>\n<p>Here are the screenshots if required:\n<a href=\"https://i.stack.imgur.com/zM0oG.png\" rel=\"nofollow noreferrer\">launch.json</a></p>\n<p><a href=\"https://i.stack.imgur.com/rG5Ho.png\" rel=\"nofollow noreferrer\">Java code</a></p>\n<p><a href=\"https://i.stack.imgur.com/A8wfl.png\" rel=\"nofollow noreferrer\">Settings.json</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664175080,"post_id":73848630,"comment_id":130402335,"body_markdown":"What does `BoookListService::getBookIdsForUser` return?","body":"What does <code>BoookListService::getBookIdsForUser</code> return?"},{"owner":{"account_id":17056115,"reputation":117,"user_id":12340604,"display_name":"tohhant"},"score":0,"creation_date":1664183268,"post_id":73848630,"comment_id":130404670,"body_markdown":"You cannot combine results in List as it will block concurrent stream. The best is to have all data in Spring Flux, so Ids should be fetched as Flux&lt;String&gt;, not an array. Try to make your services asynchronous and, if you use WebFlux, return asynchronous response. If you want to block stream, you can use `.zip()` method or just run call of service3 in `.flatMap()` then use blocking `.toIterable()`","body":"You cannot combine results in List as it will block concurrent stream. The best is to have all data in Spring Flux, so Ids should be fetched as Flux&lt;String&gt;, not an array. Try to make your services asynchronous and, if you use WebFlux, return asynchronous response. If you want to block stream, you can use <code>.zip()</code> method or just run call of service3 in <code>.flatMap()</code> then use blocking <code>.toIterable()</code>"}],"owner":{"account_id":1856978,"reputation":1,"user_id":4030755,"display_name":"user1682330"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664151816,"creation_date":1664151436,"question_id":73848630,"body_markdown":"I am trying to build a simple service in Spring boot.\r\n\r\nStep 1: To begin with, I have a list of customerIds. For example, [1,2,3,4,5...] etc.\r\n\r\nStep 2: There is a service(service1) which gives me the book Ids associated with these customers. So i want to call over all customer Ids in parallel to get their book Ids.\r\n\r\nStep 3: After i get the book IDs for each customer(which will be a list), i call two other services parallely to get book author(service2) and book image name(service3) for each book ID\r\n\r\nStep 4: Just output the result in a JAVA POJO `List&lt;Result&gt;` with `Result` structure as \r\n```\r\nclass Result{\r\n    String userId;\r\n    List&lt;BookDetail&gt;bookDetails\r\n}\r\n```\r\n\r\n**What i have tried**\r\n1. To get the book Ids paralley\r\n\r\n```\r\nFlux&lt;String[]&gt;bookIds=Flux.fromIterable(userIds)\r\n                .flatMap(BoookListService::getBookIdsForUser);\r\n```\r\n\r\n2. To make parallel calls to service 2 and service 3, i [tried this method][1] and it worked, but that uses map and goes over the array sequentially. What i am trying to do is this\r\n\r\n```\r\nString testIds[]=list1.get(0);\r\n\r\nFlux.fromArray(testIds)\r\n       .flatMap(id-&gt;{\r\n\r\n        })\r\n       //.ordered((o1, o2) -&gt; (int) (o1.compareTo(o2)))\r\n       .toStream()\r\n       .forEach(d -&gt; System.out.println(d.toString()));\r\n\r\n```\r\nI want to make parallel calls to service 2 and service 3 together with the flatMap and then combine the result in my `List&lt;Result&gt;` object. Is there a way to make parellel calls like this and chain the results together?\r\n\r\n\r\n  [1]: https://www.amitph.com/spring-webclient-concurrent-calls/#simultaneous_webclient_calls_to_fetch_and_zip_different_types","title":"Making parallel requests in spring boot","body":"<p>I am trying to build a simple service in Spring boot.</p>\n<p>Step 1: To begin with, I have a list of customerIds. For example, [1,2,3,4,5...] etc.</p>\n<p>Step 2: There is a service(service1) which gives me the book Ids associated with these customers. So i want to call over all customer Ids in parallel to get their book Ids.</p>\n<p>Step 3: After i get the book IDs for each customer(which will be a list), i call two other services parallely to get book author(service2) and book image name(service3) for each book ID</p>\n<p>Step 4: Just output the result in a JAVA POJO <code>List&lt;Result&gt;</code> with <code>Result</code> structure as</p>\n<pre><code>class Result{\n    String userId;\n    List&lt;BookDetail&gt;bookDetails\n}\n</code></pre>\n<p><strong>What i have tried</strong></p>\n<ol>\n<li>To get the book Ids paralley</li>\n</ol>\n<pre><code>Flux&lt;String[]&gt;bookIds=Flux.fromIterable(userIds)\n                .flatMap(BoookListService::getBookIdsForUser);\n</code></pre>\n<ol start=\"2\">\n<li>To make parallel calls to service 2 and service 3, i <a href=\"https://www.amitph.com/spring-webclient-concurrent-calls/#simultaneous_webclient_calls_to_fetch_and_zip_different_types\" rel=\"nofollow noreferrer\">tried this method</a> and it worked, but that uses map and goes over the array sequentially. What i am trying to do is this</li>\n</ol>\n<pre><code>String testIds[]=list1.get(0);\n\nFlux.fromArray(testIds)\n       .flatMap(id-&gt;{\n\n        })\n       //.ordered((o1, o2) -&gt; (int) (o1.compareTo(o2)))\n       .toStream()\n       .forEach(d -&gt; System.out.println(d.toString()));\n\n</code></pre>\n<p>I want to make parallel calls to service 2 and service 3 together with the flatMap and then combine the result in my <code>List&lt;Result&gt;</code> object. Is there a way to make parellel calls like this and chain the results together?</p>\n"},{"tags":["java","list","java.util.scanner"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1639744992,"post_id":70393351,"comment_id":124433257,"body_markdown":"Since you don&#39;t show the Strings, nor how they have to be split, this question may remain difficult to answer. Please, always see your question and problem from our point of view when asking, folks who know nothing but what you show and tell us.","body":"Since you don&#39;t show the Strings, nor how they have to be split, this question may remain difficult to answer. Please, always see your question and problem from our point of view when asking, folks who know nothing but what you show and tell us."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1639752663,"post_id":70393351,"comment_id":124436087,"body_markdown":"The final result is that fullInput would be a list of all the lines read by the scanner?  In that case, change sc.hasNext() to sc.hasNextLine() and sc.next() to sc.nextLine().","body":"The final result is that fullInput would be a list of all the lines read by the scanner?  In that case, change sc.hasNext() to sc.hasNextLine() and sc.next() to sc.nextLine()."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640052183,"post_id":70393351,"comment_id":124498836,"body_markdown":"If your goal is to simply read the all lines of the file as `String[]` use `Files.readAllLines`.  You can then wrap that as a `List` using `Arrays.asList`.","body":"If your goal is to simply read the all lines of the file as <code>String[]</code> use <code>Files.readAllLines</code>.  You can then wrap that as a <code>List</code> using <code>Arrays.asList</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640052517,"post_id":70393351,"comment_id":124498877,"body_markdown":"I get the feeling that the *real* problem is occurring when you try to parse the lines as numbers.  That could be due to something like leading / trailing whitespace on the number strings.  Try using `Integer.parseInt(someString.trim())`","body":"I get the feeling that the <i>real</i> problem is occurring when you try to parse the lines as numbers.  That could be due to something like leading / trailing whitespace on the number strings.  Try using <code>Integer.parseInt(someString.trim())</code>"},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1640069756,"post_id":70393351,"comment_id":124501527,"body_markdown":"@StephenC You were right. I added the .trim() function and it works perfectly now.\nHowever, a File.readAllLines() method doesn&#39;t seem to exist","body":"@StephenC You were right. I added the .trim() function and it works perfectly now. However, a File.readAllLines() method doesn&#39;t seem to exist"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640081549,"post_id":70393351,"comment_id":124505187,"body_markdown":"It is `Files.readAllLines`.  That is `java.nio.file.Files` ... not `java.io.File`.  The method has existed since Java 8.","body":"It is <code>Files.readAllLines</code>.  That is <code>java.nio.file.Files</code> ... not <code>java.io.File</code>.  The method has existed since Java 8."},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1640167278,"post_id":70393351,"comment_id":124529498,"body_markdown":"@StephenC Can you turn your comments to one answer so I can accept it? Your trim solution fixed the problem and your Files.readAllLines suggestion will be useful for me and other in the future.","body":"@StephenC Can you turn your comments to one answer so I can accept it? Your trim solution fixed the problem and your Files.readAllLines suggestion will be useful for me and other in the future."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640054883,"creation_date":1640054079,"answer_id":70430076,"question_id":70393351,"body_markdown":"Because you are parsing a string that represents a number that&#39;s beyond the size of an integer.  \r\n\r\n``int`` values can be between -2,147,483,648 to 2,147,483,647.\r\n\r\n``fullInput.get(1)`` gives you ``010101110111`` which is greater than ``2,147,483,647``.\r\n\r\nYou can use long.\r\n\r\n```\r\nlong val = Long.parseLong(fullInput.get(1));\r\n```\r\n\r\nIf the string represents binary numbers and you want to convert them to int, then you need to provide the base when parsing the string.\r\n\r\n```\r\nint val = Integer.parseInt(fullInput.get(1), 2);\r\n```\r\n\r\n","title":"How to convert scanner to String or List","body":"<p>Because you are parsing a string that represents a number that's beyond the size of an integer.</p>\n<p><code>int</code> values can be between -2,147,483,648 to 2,147,483,647.</p>\n<p><code>fullInput.get(1)</code> gives you <code>010101110111</code> which is greater than <code>2,147,483,647</code>.</p>\n<p>You can use long.</p>\n<pre><code>long val = Long.parseLong(fullInput.get(1));\n</code></pre>\n<p>If the string represents binary numbers and you want to convert them to int, then you need to provide the base when parsing the string.</p>\n<pre><code>int val = Integer.parseInt(fullInput.get(1), 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640201458,"creation_date":1640188092,"answer_id":70451697,"question_id":70393351,"body_markdown":"For what you are trying to do here, `Scanner` is the wrong solution.\r\n\r\nIf your goal is to simply read the all lines of the file as `String[]` you can use the `Files.readAllLines(Path, Charset)` method ([javadoc][1]) to do this. You could then wrap that as a `List` using `Arrays.asList(...)`. \r\n\r\nWhat you are actually doing *could* work under some circumstances.  But one possible problem is that `String.split(&quot;\\n&quot;)` only works on systems where the line terminator is a single `NL` character.  On Windows, the line terminator is a `CR` `NL` sequence.  And in that case, `String.split(&quot;\\n&quot;)` will leave a `CR` at the end of all but the last string / line.  That would be sufficient to cause `Long.parseLong(...)` to throw a `NumberFormatException`.  (The `parseXxx` methods do not tolerate extraneous characters such as whitespace in the argument.)\r\n\r\nA possible solution to the extraneous whitespace problem is to trim the string; e.g.\r\n\r\n      System.out.println(Long.parseLong(fullInput.get(1).trim()));\r\n\r\nThe `trim()` method ([javadoc][2]) returns a string with any leading and/or trailing whitespace removed.\r\n\r\nBut there is another way to deal with this.  If you don&#39;t care whether each number in the input file is on a separate line, you could do something like this:\r\n\r\n      Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\r\n      List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\r\n      while (myScanner.hasNextLong()) {\r\n          numbers.append(myScanner.nextLong());\r\n      }\r\n\r\nFinally, @ChengThao makes a valid point.  It *looks* like these are binary numbers.  If they are in fact binary, then it makes more sense to parse them using `Long.parseLong(string, radix)` with a `radix` value of 2.  However if you parse them as decimal using `parseLong` (as you are currently doing) the  values in your question *will* fit into a `long` type.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#trim()","title":"How to convert scanner to String or List","body":"<p>For what you are trying to do here, <code>Scanner</code> is the wrong solution.</p>\n<p>If your goal is to simply read the all lines of the file as <code>String[]</code> you can use the <code>Files.readAllLines(Path, Charset)</code> method (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">javadoc</a>) to do this. You could then wrap that as a <code>List</code> using <code>Arrays.asList(...)</code>.</p>\n<p>What you are actually doing <em>could</em> work under some circumstances.  But one possible problem is that <code>String.split(&quot;\\n&quot;)</code> only works on systems where the line terminator is a single <code>NL</code> character.  On Windows, the line terminator is a <code>CR</code> <code>NL</code> sequence.  And in that case, <code>String.split(&quot;\\n&quot;)</code> will leave a <code>CR</code> at the end of all but the last string / line.  That would be sufficient to cause <code>Long.parseLong(...)</code> to throw a <code>NumberFormatException</code>.  (The <code>parseXxx</code> methods do not tolerate extraneous characters such as whitespace in the argument.)</p>\n<p>A possible solution to the extraneous whitespace problem is to trim the string; e.g.</p>\n<pre><code>  System.out.println(Long.parseLong(fullInput.get(1).trim()));\n</code></pre>\n<p>The <code>trim()</code> method (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">javadoc</a>) returns a string with any leading and/or trailing whitespace removed.</p>\n<p>But there is another way to deal with this.  If you don't care whether each number in the input file is on a separate line, you could do something like this:</p>\n<pre><code>  Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\n  List&lt;Long&gt; numbers = new ArrayList&lt;&gt;();\n  while (myScanner.hasNextLong()) {\n      numbers.append(myScanner.nextLong());\n  }\n</code></pre>\n<p>Finally, @ChengThao makes a valid point.  It <em>looks</em> like these are binary numbers.  If they are in fact binary, then it makes more sense to parse them using <code>Long.parseLong(string, radix)</code> with a <code>radix</code> value of 2.  However if you parse them as decimal using <code>parseLong</code> (as you are currently doing) the  values in your question <em>will</em> fit into a <code>long</code> type.</p>\n"}],"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70451697,"answer_count":2,"score":-1,"last_activity_date":1664148669,"creation_date":1639744919,"question_id":70393351,"body_markdown":"I have a scanner with many lines of text(representing number) and I want to convert all the text in the scanner to a List.\r\nExample:\r\n```java\r\nScanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\r\n```\r\ninput.txt:\r\n```\r\n000110100110\r\n010101110111\r\n111100101011\r\n101101001101\r\n011011111110\r\n011100011001\r\n110010011100\r\n000001011100\r\n101110100110\r\n010001011100\r\n011111001010\r\n100111100101\r\n111111000010\r\n```\r\n\r\nMy first thought was to convert it to a String by changing the delimiter to something I know is not in the file:\r\n```java\r\nmyScanner.useDelimiter(&quot;impossible String&quot;);\r\nString content = myScanner.next();\r\n```\r\nand then use \r\n```java\r\nList&lt;String&gt; fullInput = Arrays.asList(content.split(&quot;\\n&quot;));\r\n```\r\nHowever, it gives me problems later on with parsing the numbers on the scanner. I&#39;ve tried debugging it but I can&#39;t seem to understand the problem. For example, I made it print the String to the console before parsing it. It would print a proper number(asString) and then give me NumberFormatException when it is supposed to parse.\r\n\r\nHere&#39;s the runnable code:\r\n```java\r\npublic static void main(String[] args) throws FileNotFoundException {\r\n        Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\r\n        myScanner.useDelimiter(&quot;impossible String&quot;);\r\n        String content = myScanner.next();\r\n        List&lt;String&gt; fullInput = Arrays.asList(content.split(&quot;\\n&quot;));\r\n        System.out.println(fullInput.get(1));\r\n        System.out.println(Long.parseLong(fullInput.get(1)));\r\n    }\r\n```\r\n\r\nThis is what I ended up using after the first didn&#39;t work:\r\n```java\r\nScanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\r\nList&lt;String&gt; fullInput = new ArrayList&lt;&gt;();\r\nwhile (sc.hasNextLine())\r\n    fullInput.add(myScanner.nextLine());\r\n```\r\nDo you know what&#39;s wrong with the first method or is there a better way to do this?","title":"How to convert scanner to String or List","body":"<p>I have a scanner with many lines of text(representing number) and I want to convert all the text in the scanner to a List.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\n</code></pre>\n<p>input.txt:</p>\n<pre><code>000110100110\n010101110111\n111100101011\n101101001101\n011011111110\n011100011001\n110010011100\n000001011100\n101110100110\n010001011100\n011111001010\n100111100101\n111111000010\n</code></pre>\n<p>My first thought was to convert it to a String by changing the delimiter to something I know is not in the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myScanner.useDelimiter(&quot;impossible String&quot;);\nString content = myScanner.next();\n</code></pre>\n<p>and then use</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; fullInput = Arrays.asList(content.split(&quot;\\n&quot;));\n</code></pre>\n<p>However, it gives me problems later on with parsing the numbers on the scanner. I've tried debugging it but I can't seem to understand the problem. For example, I made it print the String to the console before parsing it. It would print a proper number(asString) and then give me NumberFormatException when it is supposed to parse.</p>\n<p>Here's the runnable code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws FileNotFoundException {\n        Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\n        myScanner.useDelimiter(&quot;impossible String&quot;);\n        String content = myScanner.next();\n        List&lt;String&gt; fullInput = Arrays.asList(content.split(&quot;\\n&quot;));\n        System.out.println(fullInput.get(1));\n        System.out.println(Long.parseLong(fullInput.get(1)));\n    }\n</code></pre>\n<p>This is what I ended up using after the first didn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner myScanner = new Scanner(new File(&quot;input.txt&quot;));\nList&lt;String&gt; fullInput = new ArrayList&lt;&gt;();\nwhile (sc.hasNextLine())\n    fullInput.add(myScanner.nextLine());\n</code></pre>\n<p>Do you know what's wrong with the first method or is there a better way to do this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664053334,"post_id":73840387,"comment_id":130384833,"body_markdown":"`On the Google MediStore Documents page, it is written that the MediaStore library is deprecated from api 29+ and later. ` Please read that page again. Then correct your post.","body":"<code>On the Google MediStore Documents page, it is written that the MediaStore library is deprecated from api 29+ and later. </code> Please read that page again. Then correct your post."},{"owner":{"account_id":19461482,"reputation":11,"user_id":14235695,"display_name":"efesydss"},"score":0,"creation_date":1664054738,"post_id":73840387,"comment_id":130385043,"body_markdown":"What will I use for after 29?If a code has been removed, should there be an alternative method? Does it say what I need to do in the google doc page, did I misunderstand?","body":"What will I use for after 29?If a code has been removed, should there be an alternative method? Does it say what I need to do in the google doc page, did I misunderstand?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664083010,"post_id":73840387,"comment_id":130387673,"body_markdown":"Is the mediastore library deprecated? Dont think so. Please reread that page and write a to the point post and question.","body":"Is the mediastore library deprecated? Dont think so. Please reread that page and write a to the point post and question."},{"owner":{"account_id":19461482,"reputation":11,"user_id":14235695,"display_name":"efesydss"},"score":0,"creation_date":1664147980,"post_id":73840387,"comment_id":130398680,"body_markdown":"I would like to thank you for solving the issue, I am using stackoverflow for the first time, I think I need to mark the issue as solved, how should I do this :)","body":"I would like to thank you for solving the issue, I am using stackoverflow for the first time, I think I need to mark the issue as solved, how should I do this :)"}],"answers":[{"tags":[],"owner":{"account_id":19461482,"reputation":11,"user_id":14235695,"display_name":"efesydss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664147742,"creation_date":1664147742,"answer_id":73848407,"question_id":73840387,"body_markdown":"@blackapps I re-read the MediaStore page and I think my code works only when the song I&#39;m trying to read at some api level is only in internal storage. When I moved the songs into internal storage in the emulator (api 33, api 29), the code worked without any problems. I realized when you said that this problem is not caused by the library I&#39;m using, currently my code works fine on all api levels except 28. I think it is a problem independent of the MediaStore library, but in general, my problem is solved. Thank you very much, your comment really helped me realize it. I am sharing on my profile the github link of my project, but sorry if I made a mistake as I am new to using android studio and github. ","title":"MediaStore.Audio.Media.EXTERNAL_CONTENT_URI is deprecated for api 29+?","body":"<p>@blackapps I re-read the MediaStore page and I think my code works only when the song I'm trying to read at some api level is only in internal storage. When I moved the songs into internal storage in the emulator (api 33, api 29), the code worked without any problems. I realized when you said that this problem is not caused by the library I'm using, currently my code works fine on all api levels except 28. I think it is a problem independent of the MediaStore library, but in general, my problem is solved. Thank you very much, your comment really helped me realize it. I am sharing on my profile the github link of my project, but sorry if I made a mistake as I am new to using android studio and github.</p>\n"}],"owner":{"account_id":19461482,"reputation":11,"user_id":14235695,"display_name":"efesydss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664147742,"creation_date":1664051475,"question_id":73840387,"body_markdown":" I am developing an offline music player application. For this, I get the data of the music with MediaStore.Audio.Media.DATA and a similar structure and list them on the recycler view. The code works fine up to api level 29, but not working api 29 and later. On the Google MediStore Documents page, it is written that the MediaStore library is deprecated from api 29+ and later. So what should I do for a system running after 29+? I couldn&#39;t find a source or sample code for it. If I can solve this, I will also share the Github link of my project. I am a Junior developer, I will be very happy if anyone can help or suggest resources.The method I wrote that works without api 29 and before;\r\n\r\n\r\n\r\n    public void loadData() {\r\n        ContentResolver contentResolver = requireContext().getContentResolver();\r\n\r\n        Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n        String selection = MediaStore.Audio.Media.IS_MUSIC + &quot;!= 0&quot;;\r\n        String sortOrder = TITLE + &quot; ASC&quot;;\r\n        Cursor cursor = contentResolver.query(uri, null, selection, null, sortOrder);\r\n\r\n        if (cursor != null &amp;&amp; cursor.getCount() &gt; 0) {\r\n            model = new ArrayList&lt;&gt;();\r\n            while (cursor.moveToNext()) {\r\n\r\n                @SuppressLint(&quot;Range&quot;) String data = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DATA));@SuppressLint(&quot;Range&quot;) String title = cursor.getString(cursor.getColumnIndex(MediaStore.MediaColumns.TITLE));\r\n                @SuppressLint(&quot;Range&quot;) String album = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM));\r\n                @SuppressLint(&quot;Range&quot;) String artist = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST));\r\n                @SuppressLint(&quot;Range&quot;) String duration = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DURATION));\r\n                @SuppressLint(&quot;Range&quot;) String displayName = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DISPLAY_NAME));\r\n                @SuppressLint(&quot;Range&quot;) String volume = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.VOLUME_NAME));\r\n                @SuppressLint(&quot;Range&quot;) String bucketName = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.BUCKET_DISPLAY_NAME));\r\n                // Save to audioList\r\n                int calculatedDuration = (Integer.valueOf(duration) / 60);\r\n                model.add(new MusicModel(data, title, album, artist));\r\n                Log.e(&quot;test&quot;,\r\n                        &quot;\\n data = &quot; + data +\r\n                                &quot;\\n&quot; + &quot;title = &quot; + title +\r\n                                &quot;\\n&quot; + &quot;album = &quot; + album +\r\n                                &quot;\\n&quot; + &quot;artist = &quot; + artist +\r\n                                &quot;\\n&quot; + &quot;duration = &quot; + calculatedDuration +\r\n                                &quot;\\n&quot; + &quot;display name = &quot; + displayName +\r\n                                &quot;\\n&quot; + &quot;volume name = &quot; + volume +\r\n                                &quot;\\n&quot; + &quot;bucket name = &quot; + bucketName);\r\n\r\n\r\n            }\r\n        }\r\n        cursor.close();\r\n        ArtistAdapter adapter = new ArtistAdapter(requireContext(), model);\r\n        binding.rvArtist.setAdapter(adapter);\r\n        binding.rvArtist.setHasFixedSize(true);\r\n    }\r\n\r\nso this code works perfectly until api 29. but I don&#39;t know of an alternative that I can use on 29+ and later. What should I do?","title":"MediaStore.Audio.Media.EXTERNAL_CONTENT_URI is deprecated for api 29+?","body":"<p>I am developing an offline music player application. For this, I get the data of the music with MediaStore.Audio.Media.DATA and a similar structure and list them on the recycler view. The code works fine up to api level 29, but not working api 29 and later. On the Google MediStore Documents page, it is written that the MediaStore library is deprecated from api 29+ and later. So what should I do for a system running after 29+? I couldn't find a source or sample code for it. If I can solve this, I will also share the Github link of my project. I am a Junior developer, I will be very happy if anyone can help or suggest resources.The method I wrote that works without api 29 and before;</p>\n<pre><code>public void loadData() {\n    ContentResolver contentResolver = requireContext().getContentResolver();\n\n    Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n    String selection = MediaStore.Audio.Media.IS_MUSIC + &quot;!= 0&quot;;\n    String sortOrder = TITLE + &quot; ASC&quot;;\n    Cursor cursor = contentResolver.query(uri, null, selection, null, sortOrder);\n\n    if (cursor != null &amp;&amp; cursor.getCount() &gt; 0) {\n        model = new ArrayList&lt;&gt;();\n        while (cursor.moveToNext()) {\n\n            @SuppressLint(&quot;Range&quot;) String data = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DATA));@SuppressLint(&quot;Range&quot;) String title = cursor.getString(cursor.getColumnIndex(MediaStore.MediaColumns.TITLE));\n            @SuppressLint(&quot;Range&quot;) String album = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ALBUM));\n            @SuppressLint(&quot;Range&quot;) String artist = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.ARTIST));\n            @SuppressLint(&quot;Range&quot;) String duration = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DURATION));\n            @SuppressLint(&quot;Range&quot;) String displayName = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.DISPLAY_NAME));\n            @SuppressLint(&quot;Range&quot;) String volume = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.VOLUME_NAME));\n            @SuppressLint(&quot;Range&quot;) String bucketName = cursor.getString(cursor.getColumnIndex(MediaStore.Audio.Media.BUCKET_DISPLAY_NAME));\n            // Save to audioList\n            int calculatedDuration = (Integer.valueOf(duration) / 60);\n            model.add(new MusicModel(data, title, album, artist));\n            Log.e(&quot;test&quot;,\n                    &quot;\\n data = &quot; + data +\n                            &quot;\\n&quot; + &quot;title = &quot; + title +\n                            &quot;\\n&quot; + &quot;album = &quot; + album +\n                            &quot;\\n&quot; + &quot;artist = &quot; + artist +\n                            &quot;\\n&quot; + &quot;duration = &quot; + calculatedDuration +\n                            &quot;\\n&quot; + &quot;display name = &quot; + displayName +\n                            &quot;\\n&quot; + &quot;volume name = &quot; + volume +\n                            &quot;\\n&quot; + &quot;bucket name = &quot; + bucketName);\n\n\n        }\n    }\n    cursor.close();\n    ArtistAdapter adapter = new ArtistAdapter(requireContext(), model);\n    binding.rvArtist.setAdapter(adapter);\n    binding.rvArtist.setHasFixedSize(true);\n}\n</code></pre>\n<p>so this code works perfectly until api 29. but I don't know of an alternative that I can use on 29+ and later. What should I do?</p>\n"},{"tags":["java","multithreading","hashmap","thread-safety","concurrenthashmap"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":0,"creation_date":1644626668,"post_id":71088043,"comment_id":125664996,"body_markdown":"`get` method should be `synchronized` as well as other methods, if all methods are synchronized - it is thread safe","body":"<code>get</code> method should be <code>synchronized</code> as well as other methods, if all methods are synchronized - it is thread safe"},{"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"score":0,"creation_date":1644628823,"post_id":71088043,"comment_id":125665323,"body_markdown":"Assuming get is synchronized, how do I test or prove that its thread safe. Like a sample unit test.","body":"Assuming get is synchronized, how do I test or prove that its thread safe. Like a sample unit test."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664147565,"creation_date":1644628063,"answer_id":71088162,"question_id":71088043,"body_markdown":"&gt; Can someone suggest if my implementation is thread safe ...\r\n\r\nYour implementation is NOT thread-safe:\r\n\r\n1.  The `map` variable is not declared as `private final`.  That means that some other code could reach in and modify or even replace the wrapped `Map`.  This is (at least!) not thread-safe.  Arguably it is broken *irrespective* of thread-safety.\r\n\r\n2.  The `get` method accesses the `map` variable without synchronizing.  That means that there is no *happens before* relationship between (say) one thread writing to the `map` (via `put` or `delete`) and a second thread reading from it.  The lack of the *happens before* means that the writes are NOT guaranteed to (always) be visible to the reading thread.  That is a thread-safety bug.\r\n\r\nThe latter thread-safety bug could manifest as `get()` requests:\r\n\r\n  - getting stale values, or \r\n  - not getting a value for a key that should be present, or \r\n  - getting values for keys that have been deleted, or\r\n  - unexpected exceptions, or\r\n  - infinite loops(!).\r\n\r\nAn application that uses your `MyMap` class might work on some platforms and not others.   It might fail repeatably, or rarely in ways that are next to impossible to reproduce in a test environment.\r\n\r\n----------------------\r\n\r\n&gt;  .... and if yes how to have a test to prove it.\r\n\r\nYou cannot *prove* that code is thread-safe by testing it.  You can only prove something is thread-safe by analyzing the code.  Depending on how rigorous a proof you require, even that can be difficult. \r\n\r\nA suitably written test could demonstrate&lt;sup&gt;1&lt;/sup&gt; that code is NOT thread-safe.  Basically, you need something that shows that the visibility problem (see above) actually manifests as incorrect behavior.  But the catch is that the 2nd flaw involves a behavior that arises from an absence of a guarantee.  The read operation is not *guaranteed* to see the previous write, but it might see it anyway.  This means that you could run the test on a broken implementation and observe that the test never fails on some platform.  In short, the test not failing doesn&#39;t *prove* anything.\r\n\r\nHow do you write a test for the above behavior?\r\n\r\nWell one thread needs to updates on the `MyMap` and a second thread needs to perform reads.  And you need to design the test in such a way that the test will fail if the reader sees an incorrect `get` result.  But designing such a test is difficult because the test itself can trigger (for example) memory cache flushes that obscure the underlying effect you are looking for.  (For example, trace prints can do that.) \r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - Once again this is not a proof.  You have the problem that the testcase itself may be flawed and the supposed evidence of a counter-example to thread safety may therefore be bogus.&lt;/sup&gt;","title":"How to Test &amp; Prove my custom Map is thread safe","body":"<blockquote>\n<p>Can someone suggest if my implementation is thread safe ...</p>\n</blockquote>\n<p>Your implementation is NOT thread-safe:</p>\n<ol>\n<li><p>The <code>map</code> variable is not declared as <code>private final</code>.  That means that some other code could reach in and modify or even replace the wrapped <code>Map</code>.  This is (at least!) not thread-safe.  Arguably it is broken <em>irrespective</em> of thread-safety.</p>\n</li>\n<li><p>The <code>get</code> method accesses the <code>map</code> variable without synchronizing.  That means that there is no <em>happens before</em> relationship between (say) one thread writing to the <code>map</code> (via <code>put</code> or <code>delete</code>) and a second thread reading from it.  The lack of the <em>happens before</em> means that the writes are NOT guaranteed to (always) be visible to the reading thread.  That is a thread-safety bug.</p>\n</li>\n</ol>\n<p>The latter thread-safety bug could manifest as <code>get()</code> requests:</p>\n<ul>\n<li>getting stale values, or</li>\n<li>not getting a value for a key that should be present, or</li>\n<li>getting values for keys that have been deleted, or</li>\n<li>unexpected exceptions, or</li>\n<li>infinite loops(!).</li>\n</ul>\n<p>An application that uses your <code>MyMap</code> class might work on some platforms and not others.   It might fail repeatably, or rarely in ways that are next to impossible to reproduce in a test environment.</p>\n<hr />\n<blockquote>\n<p>.... and if yes how to have a test to prove it.</p>\n</blockquote>\n<p>You cannot <em>prove</em> that code is thread-safe by testing it.  You can only prove something is thread-safe by analyzing the code.  Depending on how rigorous a proof you require, even that can be difficult.</p>\n<p>A suitably written test could demonstrate<sup>1</sup> that code is NOT thread-safe.  Basically, you need something that shows that the visibility problem (see above) actually manifests as incorrect behavior.  But the catch is that the 2nd flaw involves a behavior that arises from an absence of a guarantee.  The read operation is not <em>guaranteed</em> to see the previous write, but it might see it anyway.  This means that you could run the test on a broken implementation and observe that the test never fails on some platform.  In short, the test not failing doesn't <em>prove</em> anything.</p>\n<p>How do you write a test for the above behavior?</p>\n<p>Well one thread needs to updates on the <code>MyMap</code> and a second thread needs to perform reads.  And you need to design the test in such a way that the test will fail if the reader sees an incorrect <code>get</code> result.  But designing such a test is difficult because the test itself can trigger (for example) memory cache flushes that obscure the underlying effect you are looking for.  (For example, trace prints can do that.)</p>\n<hr />\n<p><sup>1 - Once again this is not a proof.  You have the problem that the testcase itself may be flawed and the supposed evidence of a counter-example to thread safety may therefore be bogus.</sup></p>\n"}],"owner":{"account_id":4177544,"reputation":246,"user_id":3423611,"display_name":"jkasper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71088162,"answer_count":1,"score":0,"last_activity_date":1664147565,"creation_date":1644626507,"question_id":71088043,"body_markdown":"I was recently asked in an interview to implement a thread safe implementation of Map class in java and assume that no thread safe library exists.\r\n\r\n    interface Map{\r\n            void put(String key, String value);\r\n            String get(String key);\r\n            String delete(string key);\r\n     }\r\n\r\nI wrapped the HashMap and just made the functions synchronized.\r\nHere is my implementation:\r\n\r\n    class MyMap{\r\n\r\n         Map&lt;String, String&gt; map;\r\n\r\n         public MyMap(){\r\n               map = new HashMap&lt;&gt;();\r\n         }\r\n\r\n         public synchronized void put(String key, String value){\r\n               map.put(key, value);\r\n         }\r\n\r\n         public String get(String key){\r\n               return map.get(key);\r\n         }\r\n\r\n        public synchronized String delete(String key){\r\n               return map.remove(key);\r\n         }\r\n   }\r\n\r\n\r\nWhile adding ```synchronized``` allows thread safety, I really don&#39;t know how to prove if this is correct or not.\r\n\r\nI tried writing the following unit test but couldn&#39;t really convince that my map is thread safe as I don&#39;t know if the get will happen first or put will happen first.\r\n              \r\n\r\n``` MyMap map = new MyMap();\r\nThread t1 = new Thread(()-&gt;{ map.put(&quot;testKey1&quot;, &quot;testValue1&quot;) });\r\nThread t2 = new Thread(()-&gt;{ map.put(&quot;testKey2&quot;, &quot;testValue2&quot;) });\r\n\r\nt1.start();\r\nt2.start();\r\n\r\nThread t3 = new Thread(()-&gt;{ System.out.println(map.get(&quot;testKey1&quot;)) });\r\nThread t4 = new Thread(()-&gt;{ System.out.println(map.get(&quot;testKey2&quot;)) });\r\n\r\nt3.start();\r\nt4.start();\r\n\r\n```\r\n\r\n\r\n\r\nI saw the ConcurrentHashMap class&#39; implementation and looks like they use Segments which are too complicated to tell in an interview.\r\n\r\nCan someone suggest if my implementation is thread safe, and if yes how to have a test to prove it.\r\n\r\n","title":"How to Test &amp; Prove my custom Map is thread safe","body":"<p>I was recently asked in an interview to implement a thread safe implementation of Map class in java and assume that no thread safe library exists.</p>\n<pre><code>interface Map{\n        void put(String key, String value);\n        String get(String key);\n        String delete(string key);\n }\n</code></pre>\n<p>I wrapped the HashMap and just made the functions synchronized.\nHere is my implementation:</p>\n<pre><code>class MyMap{\n\n     Map&lt;String, String&gt; map;\n\n     public MyMap(){\n           map = new HashMap&lt;&gt;();\n     }\n\n     public synchronized void put(String key, String value){\n           map.put(key, value);\n     }\n\n     public String get(String key){\n           return map.get(key);\n     }\n\n    public synchronized String delete(String key){\n           return map.remove(key);\n     }\n</code></pre>\n<p>}</p>\n<p>While adding <code>synchronized</code> allows thread safety, I really don't know how to prove if this is correct or not.</p>\n<p>I tried writing the following unit test but couldn't really convince that my map is thread safe as I don't know if the get will happen first or put will happen first.</p>\n<pre><code>Thread t1 = new Thread(()-&gt;{ map.put(&quot;testKey1&quot;, &quot;testValue1&quot;) });\nThread t2 = new Thread(()-&gt;{ map.put(&quot;testKey2&quot;, &quot;testValue2&quot;) });\n\nt1.start();\nt2.start();\n\nThread t3 = new Thread(()-&gt;{ System.out.println(map.get(&quot;testKey1&quot;)) });\nThread t4 = new Thread(()-&gt;{ System.out.println(map.get(&quot;testKey2&quot;)) });\n\nt3.start();\nt4.start();\n\n</code></pre>\n<p>I saw the ConcurrentHashMap class' implementation and looks like they use Segments which are too complicated to tell in an interview.</p>\n<p>Can someone suggest if my implementation is thread safe, and if yes how to have a test to prove it.</p>\n"},{"tags":["java","sql-server","sql-server-2008","jdbc"],"comments":[{"owner":{"account_id":109707,"reputation":1139,"user_id":290570,"accept_rate":94,"display_name":"Artsiom Anisimau"},"score":0,"creation_date":1268723077,"post_id":2451892,"comment_id":8813873,"body_markdown":"Try to use [Hibernate](https://www.hibernate.org/6.html#A2). If you haven&#39;t heard about it it&#39;s hi-time to [look at this tool](http://docs.jboss.org/hibernate/stable/core/reference/en/html/). Wide spread object-relational mapping (ORM) library.","body":"Try to use <a href=\"https://www.hibernate.org/6.html#A2\" rel=\"nofollow noreferrer\">Hibernate</a>. If you haven&#39;t heard about it it&#39;s hi-time to <a href=\"http://docs.jboss.org/hibernate/stable/core/reference/en/html/\" rel=\"nofollow noreferrer\">look at this tool</a>. Wide spread object-relational mapping (ORM) library."},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1315218944,"post_id":2451892,"comment_id":8805726,"body_markdown":"please post code by which you are trying to connect, also provide us the exception or error you are getting","body":"please post code by which you are trying to connect, also provide us the exception or error you are getting"}],"answers":[{"tags":[],"owner":{"display_name":"user301201"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1269464541,"creation_date":1269464541,"answer_id":2511383,"question_id":2451892,"body_markdown":"Try to use like this: jdbc:jtds:sqlserver://127.0.0.1/dotcms; instance=instanceName\r\n \r\nI don&#39;t know which version of mssql you are using, if it is express edition, default instance is sqlexpress\r\n\r\nDo not forget check if SQL Server Browser service is running.","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>Try to use like this: jdbc:jtds:sqlserver://127.0.0.1/dotcms; instance=instanceName</p>\n\n<p>I don't know which version of mssql you are using, if it is express edition, default instance is sqlexpress</p>\n\n<p>Do not forget check if SQL Server Browser service is running.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312306043,"creation_date":1312306043,"answer_id":6916008,"question_id":2451892,"body_markdown":"If your having trouble connecting, most likely the problem is that you haven&#39;t yet enabled the TCP/IP listener on port 1433.   A quick &quot;netstat -an&quot; command will tell you if its listening.  By default, SQL server doesn&#39;t enable this after installation.\r\n\r\nAlso, you need to set a password on the &quot;sa&quot; account and also ENABLE the &quot;sa&quot; account (if you plan to use that account to connect with).\r\n\r\nObviously, this also means you need to enable &quot;mixed mode authentication&quot; on your MSSQL node.","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>If your having trouble connecting, most likely the problem is that you haven't yet enabled the TCP/IP listener on port 1433.   A quick \"netstat -an\" command will tell you if its listening.  By default, SQL server doesn't enable this after installation.</p>\n\n<p>Also, you need to set a password on the \"sa\" account and also ENABLE the \"sa\" account (if you plan to use that account to connect with).</p>\n\n<p>Obviously, this also means you need to enable \"mixed mode authentication\" on your MSSQL node.</p>\n"},{"tags":[],"owner":{"account_id":257535,"reputation":19555,"user_id":539023,"accept_rate":11,"display_name":"kta"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1338087135,"creation_date":1338087135,"answer_id":10771308,"question_id":2451892,"body_markdown":"I am also using mssql server 2008 and jtds.In my case I am using the following connect string and it works.\r\n\r\n\r\n    Class.forName( &quot;net.sourceforge.jtds.jdbc.Driver&quot; );\r\n    Connection con = DriverManager.getConnection( &quot;jdbc:jtds:sqlserver://&lt;your server ip     \r\n    address&gt;:1433/zacmpf&quot;, userName, password );\r\n    Statement stmt = con.createStatement();\r\n           \r\n\r\n","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>I am also using mssql server 2008 and jtds.In my case I am using the following connect string and it works.</p>\n\n<pre><code>Class.forName( \"net.sourceforge.jtds.jdbc.Driver\" );\nConnection con = DriverManager.getConnection( \"jdbc:jtds:sqlserver://&lt;your server ip     \naddress&gt;:1433/zacmpf\", userName, password );\nStatement stmt = con.createStatement();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1326436,"reputation":5176,"user_id":1271142,"accept_rate":87,"display_name":"Mahmut EFE"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1392189957,"creation_date":1355144734,"answer_id":13801556,"question_id":2451892,"body_markdown":"You can use [this][1] :\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n     \r\n    public class ConnectMSSQLServer\r\n    {\r\n       public void dbConnect(String db_connect_string,\r\n                String db_userid,\r\n                String db_password)\r\n       {\r\n          try {\r\n             Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n             Connection conn = DriverManager.getConnection(db_connect_string,\r\n                      db_userid, db_password);\r\n             System.out.println(&quot;connected&quot;);\r\n             Statement statement = conn.createStatement();\r\n             String queryString = &quot;select * from sysobjects where type=&#39;u&#39;&quot;;\r\n             ResultSet rs = statement.executeQuery(queryString);\r\n             while (rs.next()) {\r\n                System.out.println(rs.getString(1));\r\n             }\r\n          } catch (Exception e) {\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n     \r\n       public static void main(String[] args)\r\n       {\r\n          ConnectMSSQLServer connServer = new ConnectMSSQLServer();\r\n          connServer.dbConnect(&quot;jdbc:sqlserver://&lt;hostname&gt;&quot;, &quot;&lt;user&gt;&quot;,\r\n                   &quot;&lt;password&gt;&quot;);\r\n       }\r\n    }\r\n\r\n\r\n  [1]: http://www.nullin.com/2008/12/13/connect-to-ms-sql-server-using-jdbc/","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>You can use <a href=\"http://www.nullin.com/2008/12/13/connect-to-ms-sql-server-using-jdbc/\">this</a> :</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class ConnectMSSQLServer\n{\n   public void dbConnect(String db_connect_string,\n            String db_userid,\n            String db_password)\n   {\n      try {\n         Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n         Connection conn = DriverManager.getConnection(db_connect_string,\n                  db_userid, db_password);\n         System.out.println(\"connected\");\n         Statement statement = conn.createStatement();\n         String queryString = \"select * from sysobjects where type='u'\";\n         ResultSet rs = statement.executeQuery(queryString);\n         while (rs.next()) {\n            System.out.println(rs.getString(1));\n         }\n      } catch (Exception e) {\n         e.printStackTrace();\n      }\n   }\n\n   public static void main(String[] args)\n   {\n      ConnectMSSQLServer connServer = new ConnectMSSQLServer();\n      connServer.dbConnect(\"jdbc:sqlserver://&lt;hostname&gt;\", \"&lt;user&gt;\",\n               \"&lt;password&gt;\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1195967,"reputation":929,"user_id":1176733,"display_name":"Thusi"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1451681135,"creation_date":1358977589,"answer_id":14490004,"question_id":2451892,"body_markdown":"There are mainly two ways to use JDBC - using Windows authentication and SQL authentication. SQL authentication is probably the easiest. What you can do is something like:\r\n\r\n    String userName = &quot;username&quot;;\r\n    String password = &quot;password&quot;;\r\n    \r\n    String url = &quot;jdbc:sqlserver://MYPC\\\\SQLEXPRESS;databaseName=MYDB&quot;;\r\n    \r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    Connection conn = DriverManager.getConnection(url, userName, password);\r\n\r\nafter adding sqljdbc4.jar to the build path.\r\n\r\nFor Window authentication you can do something like:\r\n\r\n    String url = &quot;jdbc:sqlserver://MYPC\\\\SQLEXPRESS;databaseName=MYDB;integratedSecurity=true&quot;;\r\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    Connection conn = DriverManager.getConnection(url);\r\n\r\nand then add the path to sqljdbc_auth.dll as a VM argument (still need sqljdbc4.jar in the build path).\r\n\r\nPlease take a look [here][1] for a short step-by-step guide showing how to connect to SQL Server from Java using jTDS and JDBC should you need more details. Hope it helps!\r\n\r\n\r\n  [1]: http://thusithamabotuwana.wordpress.com/2012/07/19/connecting-to-sql-server-from-java/","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>There are mainly two ways to use JDBC - using Windows authentication and SQL authentication. SQL authentication is probably the easiest. What you can do is something like:</p>\n\n<pre><code>String userName = \"username\";\nString password = \"password\";\n\nString url = \"jdbc:sqlserver://MYPC\\\\SQLEXPRESS;databaseName=MYDB\";\n\nClass.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nConnection conn = DriverManager.getConnection(url, userName, password);\n</code></pre>\n\n<p>after adding sqljdbc4.jar to the build path.</p>\n\n<p>For Window authentication you can do something like:</p>\n\n<pre><code>String url = \"jdbc:sqlserver://MYPC\\\\SQLEXPRESS;databaseName=MYDB;integratedSecurity=true\";\nClass.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nConnection conn = DriverManager.getConnection(url);\n</code></pre>\n\n<p>and then add the path to sqljdbc_auth.dll as a VM argument (still need sqljdbc4.jar in the build path).</p>\n\n<p>Please take a look <a href=\"http://thusithamabotuwana.wordpress.com/2012/07/19/connecting-to-sql-server-from-java/\" rel=\"noreferrer\">here</a> for a short step-by-step guide showing how to connect to SQL Server from Java using jTDS and JDBC should you need more details. Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":10318514,"reputation":87,"user_id":7612155,"display_name":"Ricky Nguyen Anh Giau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488175963,"creation_date":1488161107,"answer_id":42476710,"question_id":2451892,"body_markdown":"You can try configure SQL server:\r\n\r\n 1. Step 1: Open SQL server 20xx Configuration Manager \r\n 2. Step 2: Click Protocols for SQL.. in SQL server configuration. Then, right click TCP/IP, choose Properties \r\n 3. Step 3: Click tab IP Address, Edit All TCP. Port is 1433\r\n\r\n**NOTE:** ALL TCP port is 1433\r\nFinally, restart the server.","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>You can try configure SQL server:</p>\n\n<ol>\n<li>Step 1: Open SQL server 20xx Configuration Manager </li>\n<li>Step 2: Click Protocols for SQL.. in SQL server configuration. Then, right click TCP/IP, choose Properties </li>\n<li>Step 3: Click tab IP Address, Edit All TCP. Port is 1433</li>\n</ol>\n\n<p><strong>NOTE:</strong> ALL TCP port is 1433\nFinally, restart the server.</p>\n"},{"tags":[],"owner":{"account_id":12070163,"reputation":201,"user_id":8825817,"display_name":"k_kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529643476,"creation_date":1529341773,"answer_id":50914443,"question_id":2451892,"body_markdown":"\r\n## Simple Java Program which connects to the SQL Server. ##\r\n\r\n**NOTE: You need to add sqljdbc.jar into the build path**\r\n\r\n// localhost : local computer acts as a server\r\n\r\n// 1433 : SQL default port number\r\n\r\n// username : sa \r\n\r\n// password: use password, which is used at the time of installing SQL server management studio, In my case, it is &#39;root&#39;\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n        public class Conn {\r\n        \tpublic static void main(String[] args) throws InstantiationException, IllegalAccessException, ClassNotFoundException {\r\n        \r\n        \t\tConnection conn=null;\r\n        \t\ttry {\r\n        \t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).newInstance();\r\n        \t\t\tconn = DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=company&quot;, &quot;sa&quot;, &quot;root&quot;);\r\n        \r\n        \t\t\tif(conn!=null)\r\n        \t\t\t\tSystem.out.println(&quot;Database Successfully connected&quot;);\r\n        \r\n        \t\t} catch (SQLException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \r\n        \t}\r\n        }\r\n\r\n","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<h2>Simple Java Program which connects to the SQL Server.</h2>\n\n<p><strong>NOTE: You need to add sqljdbc.jar into the build path</strong></p>\n\n<p>// localhost : local computer acts as a server</p>\n\n<p>// 1433 : SQL default port number</p>\n\n<p>// username : sa </p>\n\n<p>// password: use password, which is used at the time of installing SQL server management studio, In my case, it is 'root'</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\n    public class Conn {\n        public static void main(String[] args) throws InstantiationException, IllegalAccessException, ClassNotFoundException {\n\n            Connection conn=null;\n            try {\n                Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\").newInstance();\n                conn = DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=company\", \"sa\", \"root\");\n\n                if(conn!=null)\n                    System.out.println(\"Database Successfully connected\");\n\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8287282,"reputation":687,"user_id":6230028,"display_name":"Kamran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562053021,"creation_date":1562053021,"answer_id":56847526,"question_id":2451892,"body_markdown":"\r\n\r\n&gt; Try this.\r\n&gt; \r\n&gt; import java.sql.Connection;\r\n&gt; \r\n&gt; import java.sql.DriverManager;\r\n&gt; \r\n&gt; import java.sql.ResultSet;\r\n&gt; \r\n&gt; import java.sql.Statement;\r\n&gt; \r\n&gt; \r\n&gt; public class SQLUtil {\r\n&gt; \r\n&gt;   public void dbConnect(String db_connect_string,String db_userid,\r\n&gt; String db_password) {\r\n&gt;        \r\ntry {\r\n&gt; \r\n&gt;          Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n&gt;          Connection conn = DriverManager.getConnection(db_connect_string,\r\n&gt;                   db_userid, db_password);\r\n&gt;          System.out.println(&quot;connected&quot;);\r\n&gt;          Statement statement = conn.createStatement();\r\n&gt;          String queryString = &quot;select * from cpl&quot;;\r\n&gt;          ResultSet rs = statement.executeQuery(queryString);\r\n&gt;          while (rs.next()) {\r\n&gt;             System.out.println(rs.getString(1));\r\n&gt;          }\r\n&gt;       } catch (Exception e) {\r\n&gt;          e.printStackTrace();\r\n&gt;       }    }\r\n&gt; \r\n&gt;    public static void main(String[] args) {\r\n&gt;       \r\nSQLUtil connServer = new SQLUtil();\r\n&gt;     \r\n  connServer.dbConnect(&quot;jdbc:sqlserver://192.168.10.97:1433;databaseName=myDB&quot;,\r\n&gt; &quot;sa&quot;,\r\n&gt;                &quot;0123&quot;);   \r\n&gt; \r\n}\r\n&gt; \r\n}\r\n\r\n","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<blockquote>\n  <p>Try this.</p>\n  \n  <p>import java.sql.Connection;</p>\n  \n  <p>import java.sql.DriverManager;</p>\n  \n  <p>import java.sql.ResultSet;</p>\n  \n  <p>import java.sql.Statement;</p>\n  \n  <p>public class SQLUtil {</p>\n  \n  <p>public void dbConnect(String db_connect_string,String db_userid,\n  String db_password) {</p>\n  \n  <p>try {</p>\n\n<pre><code>     Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n     Connection conn = DriverManager.getConnection(db_connect_string,\n              db_userid, db_password);\n     System.out.println(\"connected\");\n     Statement statement = conn.createStatement();\n     String queryString = \"select * from cpl\";\n     ResultSet rs = statement.executeQuery(queryString);\n     while (rs.next()) {\n        System.out.println(rs.getString(1));\n     }\n  } catch (Exception e) {\n     e.printStackTrace();\n  }    }\n</code></pre>\n  \n  <p>public static void main(String[] args) {</p>\n  \n  <p>SQLUtil connServer = new SQLUtil();</p>\n  \n  <p>connServer.dbConnect(\"jdbc:sqlserver://192.168.10.97:1433;databaseName=myDB\",\n  \"sa\",\n                 \"0123\");   </p>\n  \n  <p>}</p>\n  \n  <p>}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20673188,"reputation":1,"user_id":15178453,"display_name":"hisham mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664146467,"creation_date":1664146324,"answer_id":73848313,"question_id":2451892,"body_markdown":"Try this\r\n\r\n     Class.forName( &quot;net.sourceforge.jtds.jdbc.Driver&quot; );\r\n\r\n    String url =&quot;Jdbc:jtds:sqlsever://ip/instanceName;instance=instanceName;databseName=dbName;user=yourUser;password=yourpass;&quot;;","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>Try this</p>\n<pre><code> Class.forName( &quot;net.sourceforge.jtds.jdbc.Driver&quot; );\n\nString url =&quot;Jdbc:jtds:sqlsever://ip/instanceName;instance=instanceName;databseName=dbName;user=yourUser;password=yourpass;&quot;;\n</code></pre>\n"}],"owner":{"account_id":26762,"reputation":2233,"user_id":69907,"accept_rate":37,"display_name":"taras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436787,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":9,"score":54,"last_activity_date":1664146467,"creation_date":1268709101,"question_id":2451892,"body_markdown":"I have MSSQL 2008 installed on my local PC, and my Java application needs to connect to a MSSQL database. I am a new to MSSQL and I would like get some help on creating user login for my Java application and getting connection via JDBC. So far I tried to create a user login for my app and used following connection string, but I doesn&#39;t work at all. Any help and hint will be appreciated.\r\n\r\n    jdbc:jtds:sqlserver://127.0.0.1:1433/dotcms \r\n    username=&quot;shuxer&quot;  password=&quot;itarator&quot;\r\n\r\n","title":"How do I connect to a SQL Server 2008 database using JDBC?","body":"<p>I have MSSQL 2008 installed on my local PC, and my Java application needs to connect to a MSSQL database. I am a new to MSSQL and I would like get some help on creating user login for my Java application and getting connection via JDBC. So far I tried to create a user login for my app and used following connection string, but I doesn't work at all. Any help and hint will be appreciated.</p>\n\n<pre><code>jdbc:jtds:sqlserver://127.0.0.1:1433/dotcms \nusername=\"shuxer\"  password=\"itarator\"\n</code></pre>\n"},{"tags":["java","android","wordpress","webview"],"comments":[{"owner":{"account_id":9465837,"reputation":96,"user_id":7038224,"display_name":"Adam"},"score":0,"creation_date":1664146430,"post_id":73848298,"comment_id":130398506,"body_markdown":"Does the [solution here help](https://stackoverflow.com/questions/3916330/android-webview-webpage-should-fit-the-device-screen)?","body":"Does the <a href=\"https://stackoverflow.com/questions/3916330/android-webview-webpage-should-fit-the-device-screen\">solution here help</a>?"},{"owner":{"account_id":26312321,"reputation":165,"user_id":19975663,"display_name":"Kerim Berkay"},"score":0,"creation_date":1664147670,"post_id":73848298,"comment_id":130398649,"body_markdown":"it didn&#39;t work for me. I&#39;m not pulling the whole page, I&#39;m pulling the content with json","body":"it didn&#39;t work for me. I&#39;m not pulling the whole page, I&#39;m pulling the content with json"}],"owner":{"account_id":26312321,"reputation":165,"user_id":19975663,"display_name":"Kerim Berkay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664146146,"creation_date":1664146146,"question_id":73848298,"body_markdown":"In the Android application, I show only the wordpress content part as a webview. However, the large photos in the content part do not fit on the screen and the screen becomes able to move left and right. How can I find a solution.","title":"Webview the large photos in the content part do not fit on the screen Android Application","body":"<p>In the Android application, I show only the wordpress content part as a webview. However, the large photos in the content part do not fit on the screen and the screen becomes able to move left and right. How can I find a solution.</p>\n"},{"tags":["java","arrays","random","printing"],"comments":[{"owner":{"account_id":2715642,"reputation":545,"user_id":2343086,"accept_rate":100,"display_name":"abdul qayyum"},"score":0,"creation_date":1664286117,"post_id":73848201,"comment_id":130433025,"body_markdown":"random numbers are suppose to act like that, you can remove a number from array once it is generated by `randomNumber` function so that it does not appear again. otherwise that is expected result.","body":"random numbers are suppose to act like that, you can remove a number from array once it is generated by <code>randomNumber</code> function so that it does not appear again. otherwise that is expected result."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664145517,"creation_date":1664145517,"answer_id":73848252,"question_id":73848201,"body_markdown":"You can use `Collections.shuffle`.\r\n\r\n```java\r\nString[] lista = {&quot;1 drink&quot;,&quot;2 cook&quot;,&quot;3 pick&quot;,&quot;4 relax&quot;};\r\nCollections.shuffle(Arrays.asList(lista));\r\n// print elements of array in random order\r\nfor (String s: lista)\r\n    System.out.println(s);\r\n```","title":"printout only one time array items","body":"<p>You can use <code>Collections.shuffle</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] lista = {&quot;1 drink&quot;,&quot;2 cook&quot;,&quot;3 pick&quot;,&quot;4 relax&quot;};\nCollections.shuffle(Arrays.asList(lista));\n// print elements of array in random order\nfor (String s: lista)\n    System.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":26234884,"reputation":41,"user_id":19910214,"display_name":"Pasquale Meo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664145517,"creation_date":1664144592,"question_id":73848201,"body_markdown":"i made this little class that printout in rando my array, but sometimes catch 2 or more times the same index.\r\n\r\nes: \r\n2 cook\r\n3 pick\r\n4 relax\r\n3 pick\r\n\r\nhow can i make it to print only 1 time any item shuffled ? \r\n\r\nes: 2-1-3-4 ecc...\r\n\r\ni need it to remain an array. thanks for help\r\n\r\nhere the code:\r\n\r\n    \r\n\r\n\t\r\n\tjava.util.Random random = new java.util.Random();\r\n\t\r\n\tString[] lista = {&quot;1 drink&quot;,&quot;2 cook&quot;,&quot;3 pick&quot;,&quot;4 relax&quot;};\r\n\r\n\tpublic String[] getLista() {\r\n\t\treturn lista;\r\n\t}\r\n\r\n\tpublic void setLista(String[] lista) {\r\n\t\tthis.lista = lista;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String randomNumber(String[] lista) {\r\n\t\tint rnd = new Random().nextInt( lista .length);\r\n\t\t return lista[rnd];\r\n\t\r\n\t\r\n\t\r\n","title":"printout only one time array items","body":"<p>i made this little class that printout in rando my array, but sometimes catch 2 or more times the same index.</p>\n<p>es:\n2 cook\n3 pick\n4 relax\n3 pick</p>\n<p>how can i make it to print only 1 time any item shuffled ?</p>\n<p>es: 2-1-3-4 ecc...</p>\n<p>i need it to remain an array. thanks for help</p>\n<p>here the code:</p>\n<pre><code>java.util.Random random = new java.util.Random();\n\nString[] lista = {&quot;1 drink&quot;,&quot;2 cook&quot;,&quot;3 pick&quot;,&quot;4 relax&quot;};\n\npublic String[] getLista() {\n    return lista;\n}\n\npublic void setLista(String[] lista) {\n    this.lista = lista;\n}\n\n\npublic String randomNumber(String[] lista) {\n    int rnd = new Random().nextInt( lista .length);\n     return lista[rnd];\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664144246,"creation_date":1664144246,"answer_id":73848178,"question_id":73848137,"body_markdown":"Using a HashMap is completely over-engineered here. Theoretically you do not need any kind of data structure since you calculate the values row-by-row anyways, but since you were using one, I thought I would use one, too.\r\n\r\nUse a simple array instead of the Map, with the length of the original array (i.e. the rows). Fill that array with a number that is higher than any result can be, to be safe I used `Integer.MAX_VALUE`.\r\n\r\n```java\r\nint[] firstIndex = new int[array.length];\r\n//for all i in length of array:\r\n  firstIndex[i] = Integer.MAX_VALUE;\r\n```\r\n\r\nNo iterate though your your 2d array like you are and overwrite the `firstIndex` if you find something that is better than the current value.\r\n\r\n```java\r\n//for every row\r\n  //for ever column (col)\r\n    if (array[row][col] == 1 &amp;&amp; col &lt; firstIndex[row]) {\r\n      firstIndex[row] = col;\r\n    }\r\n```\r\n\r\nThen in the end look for the minimum value in that array.\r\n\r\n```java\r\nint min = firstIndex[0];\r\nfor (int row = 1; row &lt; firstIndex.length; row++) {\r\n  min = Integer.min(min, firstIndex[row]);\r\n}\r\n\r\nSystem.out.println(min);\r\n```\r\n","title":"Get closest &quot;1&quot; to the left","body":"<p>Using a HashMap is completely over-engineered here. Theoretically you do not need any kind of data structure since you calculate the values row-by-row anyways, but since you were using one, I thought I would use one, too.</p>\n<p>Use a simple array instead of the Map, with the length of the original array (i.e. the rows). Fill that array with a number that is higher than any result can be, to be safe I used <code>Integer.MAX_VALUE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] firstIndex = new int[array.length];\n//for all i in length of array:\n  firstIndex[i] = Integer.MAX_VALUE;\n</code></pre>\n<p>No iterate though your your 2d array like you are and overwrite the <code>firstIndex</code> if you find something that is better than the current value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//for every row\n  //for ever column (col)\n    if (array[row][col] == 1 &amp;&amp; col &lt; firstIndex[row]) {\n      firstIndex[row] = col;\n    }\n</code></pre>\n<p>Then in the end look for the minimum value in that array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int min = firstIndex[0];\nfor (int row = 1; row &lt; firstIndex.length; row++) {\n  min = Integer.min(min, firstIndex[row]);\n}\n\nSystem.out.println(min);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664145404,"creation_date":1664144850,"answer_id":73848217,"question_id":73848137,"body_markdown":"You can try to iterate in a column wise manner and return result as soon as you encounter the first &#39;1&#39;. This way you don&#39;t need to spend extra computation iterating through the whole 2D matrix.\r\n\r\n```\r\npublic class ClosestOne {\r\n\t\r\n\tpublic static int closestOne(int[][] a) {\r\n\t\tfor(int i = 0; i &lt; a[0].length; i++) {\r\n\t\t\tfor(int j = 0; j &lt; a.length; j++) {\r\n\t\t\t\tif(a[j][i] == 1) {\r\n\t\t\t\t\treturn j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tint array[][] = {\r\n\t            {0, 0, 1, 1, 1},\r\n\t            {0, 0, 1, 1, 1},\r\n\t            {0, 0, 1, 1, 1},\r\n\t            {0, 1, 0, 0, 1}\r\n\t    };\r\n\t\tint closestRow = closestOne(array);\r\n\t\tif(closestRow == -1) {\r\n\t\t\tSystem.out.println(&quot;&#39;1&#39; is not present in matrix!&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Closest &#39;1&#39; is in row: &quot; + closestRow );\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Get closest &quot;1&quot; to the left","body":"<p>You can try to iterate in a column wise manner and return result as soon as you encounter the first '1'. This way you don't need to spend extra computation iterating through the whole 2D matrix.</p>\n<pre><code>public class ClosestOne {\n    \n    public static int closestOne(int[][] a) {\n        for(int i = 0; i &lt; a[0].length; i++) {\n            for(int j = 0; j &lt; a.length; j++) {\n                if(a[j][i] == 1) {\n                    return j;\n                }\n            }\n        }\n        return -1;\n    }\n    public static void main(String[] args) {\n        int array[][] = {\n                {0, 0, 1, 1, 1},\n                {0, 0, 1, 1, 1},\n                {0, 0, 1, 1, 1},\n                {0, 1, 0, 0, 1}\n        };\n        int closestRow = closestOne(array);\n        if(closestRow == -1) {\n            System.out.println(&quot;'1' is not present in matrix!&quot;);\n        } else {\n            System.out.println(&quot;Closest '1' is in row: &quot; + closestRow );\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9465837,"reputation":96,"user_id":7038224,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664144961,"creation_date":1664144961,"answer_id":73848224,"question_id":73848137,"body_markdown":"It looks like you have already worked out the `count` to the first 1 on each row, you just need to decide which is the lowest after completing your loop. You don&#39;t need a map to do that, just check if the current row is better than the &quot;best so far&quot; and if it is then update the best.\r\nThere is actually no need for a `count` variable since `j` is the same thing, and `i` is the row.\r\n\r\n```\r\n        int best = -1;  // Initialize to -1 which is an invalid index\r\n        int bestCount = Integer.MAX_VALUE; // Initialize to a very bad best count.\r\n    \r\n        for(int i = 0; i &lt; array.length; i++) {\r\n            for (int j = 0; j &lt; array[i].length; j++) {\r\n                if (array[i][j] == 1 &amp;&amp; j &lt; bestCount) {\r\n                    best = i;   // the row\r\n                    bestCount = j; // the &#39;1&#39;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;Closest 1 to left in row &quot; + best);\r\n```","title":"Get closest &quot;1&quot; to the left","body":"<p>It looks like you have already worked out the <code>count</code> to the first 1 on each row, you just need to decide which is the lowest after completing your loop. You don't need a map to do that, just check if the current row is better than the &quot;best so far&quot; and if it is then update the best.\nThere is actually no need for a <code>count</code> variable since <code>j</code> is the same thing, and <code>i</code> is the row.</p>\n<pre><code>        int best = -1;  // Initialize to -1 which is an invalid index\n        int bestCount = Integer.MAX_VALUE; // Initialize to a very bad best count.\n    \n        for(int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array[i].length; j++) {\n                if (array[i][j] == 1 &amp;&amp; j &lt; bestCount) {\n                    best = i;   // the row\n                    bestCount = j; // the '1'\n                    break;\n                }\n            }\n        }\n        System.out.println(&quot;Closest 1 to left in row &quot; + best);\n</code></pre>\n"}],"owner":{"account_id":10646250,"reputation":55,"user_id":7838862,"display_name":"Matthew Masody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1664145404,"creation_date":1664143547,"question_id":73848137,"body_markdown":"I have a 2D Array:\r\n\r\n            {0, 0, 1, 1, 1},\r\n            {0, 0, 1, 1, 1},\r\n            {0, 0, 1, 1, 1},\r\n            {0, 1, 0, 0, 1}\r\n\r\nand I am trying to see which row has the closest 1 to the left, in this case it is index 3. So we have to return 3 to console, but I don&#39;t know how to go about comparing the values, etc. \r\nThis is what I have tried so far:\r\n```\r\n\r\n    int array[][] = {\r\n\r\n            {0, 0, 1, 1, 1},\r\n            {0, 0, 1, 1, 1},\r\n            {0, 0, 1, 1, 1},\r\n            {0, 1, 0, 0, 1}\r\n    };\r\n\r\n    int count = 0;\r\n\r\n    Map&lt;Integer, Integer&gt; countMap = new HashMap&lt;&gt;();\r\n\r\n    for(int i = 0; i &lt; array.length; i++){\r\n        for(int j = 0; j &lt; array[i].length; j++){\r\n            if(array[i][j] != 1){\r\n                count++;\r\n            }else{\r\n                System.out.println(&quot;index of i: &quot; + i + &quot;, index of j:&quot; + j + &quot;, count: &quot; + count);\r\n                countMap.put(j, count);\r\n                count = 0;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    System.out.println();\r\n\r\n```","title":"Get closest &quot;1&quot; to the left","body":"<p>I have a 2D Array:</p>\n<pre><code>        {0, 0, 1, 1, 1},\n        {0, 0, 1, 1, 1},\n        {0, 0, 1, 1, 1},\n        {0, 1, 0, 0, 1}\n</code></pre>\n<p>and I am trying to see which row has the closest 1 to the left, in this case it is index 3. So we have to return 3 to console, but I don't know how to go about comparing the values, etc.\nThis is what I have tried so far:</p>\n<pre><code>\n    int array[][] = {\n\n            {0, 0, 1, 1, 1},\n            {0, 0, 1, 1, 1},\n            {0, 0, 1, 1, 1},\n            {0, 1, 0, 0, 1}\n    };\n\n    int count = 0;\n\n    Map&lt;Integer, Integer&gt; countMap = new HashMap&lt;&gt;();\n\n    for(int i = 0; i &lt; array.length; i++){\n        for(int j = 0; j &lt; array[i].length; j++){\n            if(array[i][j] != 1){\n                count++;\n            }else{\n                System.out.println(&quot;index of i: &quot; + i + &quot;, index of j:&quot; + j + &quot;, count: &quot; + count);\n                countMap.put(j, count);\n                count = 0;\n                break;\n            }\n        }\n    }\n    \n    System.out.println();\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1664145672,"post_id":73848205,"comment_id":130398420,"body_markdown":"getDogSpaces() is not the same as getDogSpace(). Same for the cat method. If you are calling one but implemented the other, Java will complain that you&#39;re calling methods that don&#39;t exist.","body":"getDogSpaces() is not the same as getDogSpace(). Same for the cat method. If you are calling one but implemented the other, Java will complain that you&#39;re calling methods that don&#39;t exist."}],"owner":{"account_id":25176885,"reputation":1,"user_id":19018937,"display_name":"JosephC1981"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664144670,"creation_date":1664144670,"question_id":73848205,"body_markdown":"Novice java coder here, expert java drinker. I&#39;ve been working on an assignment for my class all day where I have to write a java class known as &quot;Pet&quot; for a fictional program called Pet BAG(Boarding and grooming) for my fictional employer Global Rain. Anyway, I have alot of said  code written, and am continuing to work on it dilligently however I have hit a roadblock. When I try the instant feed back tool I get &quot;getDogSpaces()&quot; or &quot;getCatSpaces()&quot; functions seem to be missing. Can anyone help me understand why I get this error so I can fix it and move on? I am stunped. My code is posted below.\r\n\r\n\r\n    public class Pet {\r\n\t\r\n\t//Atrributes\r\n\t\r\n\tprivate String petType;\r\n\tprivate String petName;\r\n\tprivate int petAge;\r\n\tprivate int dogSpaces;\r\n\tprivate int catSpaces;\r\n\tprivate int daysStay;\r\n\tprivate double amountDue;\r\n\t\r\n\tpublic Pet (String petType, String petName, int petAge, int daysStay) {\r\n\t\tsetPetType(petType);\r\n\t\tsetPetName(petName);\r\n\t\tsetPetAge(petAge);\r\n\t\tsetDogSpace(30);\r\n\t\tsetCatSpace(12);\r\n\t\tsetDaysStay(daysStay);\r\n\t\t\r\n\t}\r\n\t\r\n\t//Accessors\r\n\t\r\n\tpublic String getPetType() {\r\n\t\treturn petType;\r\n\t}\r\n\t\r\n\tpublic String getPetName() {\r\n\t\treturn petName;\r\n\t}\r\n\t\r\n\tpublic int getPetAge() {\r\n\t\treturn petAge;\r\n\t}\r\n\t\r\n\tpublic void setPetAge(int setPetAge) {\r\n\t\tthis.petAge = petAge;\r\n\t}\r\n\t\r\n\tpublic int getDogSpace() {\r\n\t\treturn dogSpace;\r\n\t}\r\n\t\r\n\tpublic void setDogSpace(int dogSpace) {\r\n\t\tthis.dogSpace = dogSpace;\r\n\t}\r\n\t\r\n\tpublic int getCatSpace() {\r\n\t\treturn catSpace;\r\n\t}\r\n\t\r\n\tpublic void setCatSpace(int catSpace) {\r\n\t\tthis.catSpace = catSpace;\r\n\t}\r\n\t\r\n\tpublic int getDaysStay() {\r\n\t\treturn daysStay;\r\n\t}\r\n\t\r\n\tpublic void setDaysStay(int daysStay) {\r\n\t\tthis.daysStay = daysStay;\r\n\t}\r\n\t\r\n\tpublic double getAmountDue() {\r\n\t\treturn amountDue;\r\n\t}\r\n\t\r\n\tpublic void setAmountDue(double amountDue) {\r\n\t\tthis.amountDue = amountDue;\r\n\t}\r\n\r\n    }\r\n\r\nI know my code block seems strange, but I did my best to line it up properly. Could anyone assist me?\r\n\r\nThank you,\r\n\r\nJoseph","title":"My Pet Bag project: How to make these functions work?","body":"<p>Novice java coder here, expert java drinker. I've been working on an assignment for my class all day where I have to write a java class known as &quot;Pet&quot; for a fictional program called Pet BAG(Boarding and grooming) for my fictional employer Global Rain. Anyway, I have alot of said  code written, and am continuing to work on it dilligently however I have hit a roadblock. When I try the instant feed back tool I get &quot;getDogSpaces()&quot; or &quot;getCatSpaces()&quot; functions seem to be missing. Can anyone help me understand why I get this error so I can fix it and move on? I am stunped. My code is posted below.</p>\n<pre><code>public class Pet {\n\n//Atrributes\n\nprivate String petType;\nprivate String petName;\nprivate int petAge;\nprivate int dogSpaces;\nprivate int catSpaces;\nprivate int daysStay;\nprivate double amountDue;\n\npublic Pet (String petType, String petName, int petAge, int daysStay) {\n    setPetType(petType);\n    setPetName(petName);\n    setPetAge(petAge);\n    setDogSpace(30);\n    setCatSpace(12);\n    setDaysStay(daysStay);\n    \n}\n\n//Accessors\n\npublic String getPetType() {\n    return petType;\n}\n\npublic String getPetName() {\n    return petName;\n}\n\npublic int getPetAge() {\n    return petAge;\n}\n\npublic void setPetAge(int setPetAge) {\n    this.petAge = petAge;\n}\n\npublic int getDogSpace() {\n    return dogSpace;\n}\n\npublic void setDogSpace(int dogSpace) {\n    this.dogSpace = dogSpace;\n}\n\npublic int getCatSpace() {\n    return catSpace;\n}\n\npublic void setCatSpace(int catSpace) {\n    this.catSpace = catSpace;\n}\n\npublic int getDaysStay() {\n    return daysStay;\n}\n\npublic void setDaysStay(int daysStay) {\n    this.daysStay = daysStay;\n}\n\npublic double getAmountDue() {\n    return amountDue;\n}\n\npublic void setAmountDue(double amountDue) {\n    this.amountDue = amountDue;\n}\n\n}\n</code></pre>\n<p>I know my code block seems strange, but I did my best to line it up properly. Could anyone assist me?</p>\n<p>Thank you,</p>\n<p>Joseph</p>\n"},{"tags":["java","node.js","elasticsearch-painless","wkt","wkb"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663954869,"post_id":73831210,"comment_id":130369221,"body_markdown":"[`Long::decode`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#decode(java.lang.String))?","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html#decode(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Long::decode</code></a>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663955267,"post_id":73831210,"comment_id":130369313,"body_markdown":"Although the value provided is too big to fit into a `long`...","body":"Although the value provided is too big to fit into a <code>long</code>..."}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663960398,"creation_date":1663955254,"answer_id":73831304,"question_id":73831210,"body_markdown":"SUGGESTION: Look here:\r\n\r\n&gt; https://stackoverflow.com/a/8074533/421195\r\n&gt; \r\n&gt;     import java.nio.ByteBuffer;\r\n&gt;     \r\n&gt;     public static byte[] toByteArray(double value) {\r\n&gt;         byte[] bytes = new byte[8];\r\n&gt;         ByteBuffer.wrap(bytes).putDouble(value);\r\n&gt;         return bytes;\r\n&gt;     }\r\n&gt;     \r\n&gt;     public static double toDouble(byte[] bytes) {\r\n&gt;         return ByteBuffer.wrap(bytes).getDouble();\r\n&gt;     }\r\n\r\nTo convert your hex string to a byte array, try this:\r\n\r\n&gt; https://stackoverflow.com/a/140861/421195\r\n&gt; \r\n&gt; **Java 17** now includes java.util.HexFormat (only took 25 years):\r\n&gt; \r\n&gt;    HexFormat.of().parseHex(s)\r\n&gt; \r\n&gt; **For older versions of Java**: Here&#39;s a solution that I think is better than any posted so far:\r\n&gt; \r\n&gt;     /* s must be an even-length string. */\r\n&gt;     public static byte[] hexStringToByteArray(String s) {\r\n&gt;         int len = s.length();\r\n&gt;         byte[] data = new byte[len / 2];\r\n&gt;         for (int i = 0; i &lt; len; i += 2) {\r\n&gt;             data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n&gt;                                  + Character.digit(s.charAt(i+1), 16));\r\n&gt;         }\r\n&gt;         return data;\r\n&gt;     }\r\n\r\n       ","title":"Java - Converting Hex string to double","body":"<p>SUGGESTION: Look here:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/8074533/421195\">https://stackoverflow.com/a/8074533/421195</a></p>\n<pre><code>import java.nio.ByteBuffer;\n\npublic static byte[] toByteArray(double value) {\n    byte[] bytes = new byte[8];\n    ByteBuffer.wrap(bytes).putDouble(value);\n    return bytes;\n}\n\npublic static double toDouble(byte[] bytes) {\n    return ByteBuffer.wrap(bytes).getDouble();\n}\n</code></pre>\n</blockquote>\n<p>To convert your hex string to a byte array, try this:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/140861/421195\">https://stackoverflow.com/a/140861/421195</a></p>\n<p><strong>Java 17</strong> now includes java.util.HexFormat (only took 25 years):</p>\n<p>HexFormat.of().parseHex(s)</p>\n<p><strong>For older versions of Java</strong>: Here's a solution that I think is better than any posted so far:</p>\n<pre><code>/* s must be an even-length string. */\npublic static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                             + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663958029,"creation_date":1663958029,"answer_id":73831692,"question_id":73831210,"body_markdown":"This will do it. The FP64 number you are giving is `LITTLE_ENDIAN`. See [Endianness](https://en.wikipedia.org/wiki/Double-precision_floating-point_format#Endianness)\r\n\r\n    public double convertFP64(String fp64) {\r\n        return ByteBuffer\r\n                .wrap(hexStringToByteArray(fp64))\r\n                .order(ByteOrder.LITTLE_ENDIAN)\r\n                .getDouble();\r\n    }\r\n    public byte[] hexStringToByteArray(String hex) {\r\n        int l = hex.length();\r\n        byte[] data = new byte[l / 2];\r\n        for (int i = 0; i &lt; l; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(hex.charAt(i + 1), 16));\r\n        }\r\n        return data;\r\n    }","title":"Java - Converting Hex string to double","body":"<p>This will do it. The FP64 number you are giving is <code>LITTLE_ENDIAN</code>. See <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format#Endianness\" rel=\"nofollow noreferrer\">Endianness</a></p>\n<pre><code>public double convertFP64(String fp64) {\n    return ByteBuffer\n            .wrap(hexStringToByteArray(fp64))\n            .order(ByteOrder.LITTLE_ENDIAN)\n            .getDouble();\n}\npublic byte[] hexStringToByteArray(String hex) {\n    int l = hex.length();\n    byte[] data = new byte[l / 2];\n    for (int i = 0; i &lt; l; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)\n                + Character.digit(hex.charAt(i + 1), 16));\n    }\n    return data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2386755,"reputation":311,"user_id":2087585,"display_name":"mrhijack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664143951,"creation_date":1664143951,"answer_id":73848159,"question_id":73831210,"body_markdown":"I landed on a solution that doesn&#39;t require `ByteBuffer` as it&#39;s not available in painless. \r\n\r\n    // convert hex string to byte array\r\n    int l = hex.length();    \r\n    byte[] data = new byte[l / 2];    \r\n    for (int i = 0; i &lt; l; i+= 2) {        \r\n      data[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)              \r\n        + Character.digit(hex.charAt(i + 1), 16));        \r\n    }\r\n    \r\n    // convert byte array to double\r\n    long bits = 0L;\r\n    for (int i = 0; i &lt; 8; i++) {\r\n      bits |= (data[i] &amp; 0xFFL) &lt;&lt; (8 * i);\r\n    }\r\n    return Double.longBitsToDouble(bits); \r\n\r\n","title":"Java - Converting Hex string to double","body":"<p>I landed on a solution that doesn't require <code>ByteBuffer</code> as it's not available in painless.</p>\n<pre><code>// convert hex string to byte array\nint l = hex.length();    \nbyte[] data = new byte[l / 2];    \nfor (int i = 0; i &lt; l; i+= 2) {        \n  data[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)              \n    + Character.digit(hex.charAt(i + 1), 16));        \n}\n\n// convert byte array to double\nlong bits = 0L;\nfor (int i = 0; i &lt; 8; i++) {\n  bits |= (data[i] &amp; 0xFFL) &lt;&lt; (8 * i);\n}\nreturn Double.longBitsToDouble(bits); \n</code></pre>\n"}],"owner":{"account_id":2386755,"reputation":311,"user_id":2087585,"display_name":"mrhijack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73848159,"answer_count":3,"score":0,"last_activity_date":1664143951,"creation_date":1663954586,"question_id":73831210,"body_markdown":"Im attempting to decode the value of &quot;Well-known Binary&quot; format in Java. The following Node script does what I need \r\n\r\n```js\r\nBuffer.from(&#39;A4C0A7DEBFC657C0&#39;, &#39;hex&#39;).readDoubleLE() // returns -95.1054608\r\n```\r\n\r\nMy question is, what is the equivalent Java code? Nothing I have tried has given the same result.\r\n\r\nSee: &lt;https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry&gt;\r\n\r\nI am running this as part of an ingest pipeline in OpenSearch, so I can&#39;t use 3rd party libraries.","title":"Java - Converting Hex string to double","body":"<p>Im attempting to decode the value of &quot;Well-known Binary&quot; format in Java. The following Node script does what I need</p>\n<pre class=\"lang-js prettyprint-override\"><code>Buffer.from('A4C0A7DEBFC657C0', 'hex').readDoubleLE() // returns -95.1054608\n</code></pre>\n<p>My question is, what is the equivalent Java code? Nothing I have tried has given the same result.</p>\n<p>See: <a href=\"https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry</a></p>\n<p>I am running this as part of an ingest pipeline in OpenSearch, so I can't use 3rd party libraries.</p>\n"},{"tags":["java","android","xml","android-layout","android-softkeyboard"],"comments":[{"owner":{"account_id":4610741,"reputation":6070,"user_id":3738947,"accept_rate":51,"display_name":"Chirag Savsani"},"score":0,"creation_date":1490870635,"post_id":43115510,"comment_id":73310382,"body_markdown":"Post Your activity code here.","body":"Post Your activity code here."},{"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"score":0,"creation_date":1490870785,"post_id":43115510,"comment_id":73310485,"body_markdown":"post your activity or fragment class along with xml","body":"post your activity or fragment class along with xml"},{"owner":{"account_id":6765985,"reputation":505,"user_id":5210989,"accept_rate":88,"display_name":"sunil kushwah"},"score":0,"creation_date":1502108924,"post_id":43115510,"comment_id":78053272,"body_markdown":"did you found any solution for this...i am also having the same problem","body":"did you found any solution for this...i am also having the same problem"}],"answers":[{"tags":[],"owner":{"account_id":9759522,"reputation":6345,"user_id":7235049,"display_name":"tahsinRupam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490873593,"creation_date":1490870869,"answer_id":43115656,"question_id":43115510,"body_markdown":"Add the attribute : `android:windowSoftInputMode=&quot;adjustResize&quot;&quot;` in your manifest inside `activity` tag:\r\n\r\n     &lt;activity\r\n            android:name=&quot;.YourActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;/&gt;\r\n\r\n**NB:** I suggest, You should use NestedScrollView as the parent layout.\r\n\r\nHope this helps.","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>Add the attribute : <code>android:windowSoftInputMode=\"adjustResize\"\"</code> in your manifest inside <code>activity</code> tag:</p>\n\n<pre><code> &lt;activity\n        android:name=\".YourActivity\"\n        android:windowSoftInputMode=\"adjustResize\"/&gt;\n</code></pre>\n\n<p><strong>NB:</strong> I suggest, You should use NestedScrollView as the parent layout.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"down_vote_count":3,"up_vote_count":132,"is_accepted":false,"score":129,"last_activity_date":1588074058,"creation_date":1493311572,"answer_id":43663604,"question_id":43115510,"body_markdown":"The easiest implementation, Add AndroidManifest.xml in  \r\n\r\n    &lt;activity android:windowSoftInputMode=&quot;adjustPan&quot;/&gt;\r\n\r\nhopefully this helps someone out. Enjoy !","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>The easiest implementation, Add AndroidManifest.xml in  </p>\n\n<pre><code>&lt;activity android:windowSoftInputMode=\"adjustPan\"/&gt;\n</code></pre>\n\n<p>hopefully this helps someone out. Enjoy !</p>\n"},{"tags":[],"owner":{"account_id":6716638,"reputation":1450,"user_id":5178283,"accept_rate":71,"display_name":"Calco"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1503565324,"creation_date":1503565324,"answer_id":45857325,"question_id":43115510,"body_markdown":"I ended up using the height measuring method that seems to be the standard way of soft keyboard detection which is described in [this answer][1]. However, I used [this library&#39;s][2] implementation of it, as it is still the same `ViewTreeObserver.OnGlobalLayoutListener` method, implemented well, and allowed me to abstract the code out of my applications main codebase.\r\n\r\nWhen this keyboard visibility listener is triggered, I then hide/show the bottom navigation bar (which I have explained [here][3]).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25681196/5178283\r\n  [2]: https://github.com/yshrsmz/KeyboardVisibilityEvent\r\n  [3]: https://stackoverflow.com/questions/45843463/how-to-translate-a-view-but-keep-its-original-starting-position","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>I ended up using the height measuring method that seems to be the standard way of soft keyboard detection which is described in <a href=\"https://stackoverflow.com/a/25681196/5178283\">this answer</a>. However, I used <a href=\"https://github.com/yshrsmz/KeyboardVisibilityEvent\" rel=\"noreferrer\">this library's</a> implementation of it, as it is still the same <code>ViewTreeObserver.OnGlobalLayoutListener</code> method, implemented well, and allowed me to abstract the code out of my applications main codebase.</p>\n\n<p>When this keyboard visibility listener is triggered, I then hide/show the bottom navigation bar (which I have explained <a href=\"https://stackoverflow.com/questions/45843463/how-to-translate-a-view-but-keep-its-original-starting-position\">here</a>).</p>\n"},{"tags":[],"owner":{"account_id":8676332,"reputation":179,"user_id":6493661,"display_name":"ajay singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538024256,"creation_date":1538024256,"answer_id":52529697,"question_id":43115510,"body_markdown":"In my case, I am using DrawerLayout as a parent view with some layout content and A Navigation Bottom Bar. \r\nIn Manifest file add &quot;android:windowSoftInputMode=&quot;adjustPan&quot; this TAG with Activity and this working fine.","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>In my case, I am using DrawerLayout as a parent view with some layout content and A Navigation Bottom Bar. \nIn Manifest file add \"android:windowSoftInputMode=\"adjustPan\" this TAG with Activity and this working fine.</p>\n"},{"tags":[],"owner":{"account_id":6190733,"reputation":865,"user_id":4823520,"display_name":"Maksudul Hasan Raju"},"down_vote_count":3,"up_vote_count":37,"is_accepted":false,"score":34,"last_activity_date":1544014512,"creation_date":1544014512,"answer_id":53632846,"question_id":43115510,"body_markdown":"you just add this code in your manifest like this way..\r\n\r\n     &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;&gt;\r\n\r\n\r\nthis works for me.. happy coding","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>you just add this code in your manifest like this way..</p>\n\n<pre><code> &lt;activity android:name=\".MainActivity\"\n        android:windowSoftInputMode=\"adjustPan\"&gt;\n</code></pre>\n\n<p>this works for me.. happy coding</p>\n"},{"tags":[],"owner":{"account_id":7611820,"reputation":169,"user_id":5772427,"display_name":"mahesh kumar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553607157,"creation_date":1553604984,"answer_id":55357752,"question_id":43115510,"body_markdown":"Add this line in `onResume()` of your `Activity` or `Fragment`.\r\n\r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING);\r\n\r\nIt is worked for me. Just try it once.","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>Add this line in <code>onResume()</code> of your <code>Activity</code> or <code>Fragment</code>.</p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING);\n</code></pre>\n\n<p>It is worked for me. Just try it once.</p>\n"},{"tags":[],"owner":{"account_id":18011162,"reputation":383,"user_id":13090794,"display_name":"Kasasira"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586220788,"creation_date":1586206972,"answer_id":61068922,"question_id":43115510,"body_markdown":"Just add the attribute below to every activity in your AndroidManifest.xml file.\r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustPan&quot; /&gt;\r\n\r\n   ","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>Just add the attribute below to every activity in your AndroidManifest.xml file.</p>\n\n<pre><code>&lt;activity\n    android:name=\".MainActivity\"\n    android:windowSoftInputMode=\"stateAlwaysHidden|adjustPan\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15515017,"reputation":390,"user_id":11192811,"display_name":"Rajnish Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586845886,"creation_date":1586845886,"answer_id":61201879,"question_id":43115510,"body_markdown":"Add this onResume() in your fragment\r\n\r\n    @Override\r\n    public void onResume() {\r\n        Objects.requireNonNull(getActivity()).getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING);\r\n        super.onResume();\r\n    }\r\n\r\nHope this helps someone!","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>Add this onResume() in your fragment</p>\n\n<pre><code>@Override\npublic void onResume() {\n    Objects.requireNonNull(getActivity()).getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING);\n    super.onResume();\n}\n</code></pre>\n\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":13767459,"reputation":98,"user_id":9935740,"display_name":"Anushree"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589780847,"creation_date":1589780847,"answer_id":61863150,"question_id":43115510,"body_markdown":"     private boolean keyboardListenersAttached = false;\r\n    private ViewGroup rootLayout;\r\n\r\n\r\n           @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_settings, container, false);\r\n  \r\n        \r\n        rootLayout = (ViewGroup) view.findViewById(R.id.settings_layout);\r\n        attachKeyboardListeners();\r\n      \r\n        return view;\r\n    }\r\n\r\n    \r\n    \r\n        private ViewTreeObserver.OnGlobalLayoutListener keyboardLayoutListener = new \r\n        ViewTreeObserver.OnGlobalLayoutListener() {\r\n        @Override\r\n        public void onGlobalLayout() {\r\n            int heightDiff = rootLayout.getRootView().getHeight() - \r\n            rootLayout.getHeight();\r\n            if (getActivity() != null) {\r\n                int contentViewTop = \r\n               getActivity().getWindow().findViewById(Window.ID_ANDROID_CONTENT).getTop();\r\n                LocalBroadcastManager broadcastManager = \r\n                LocalBroadcastManager.getInstance(getContext());\r\n                Rect r = new Rect();\r\n                rootLayout.getWindowVisibleDisplayFrame(r);\r\n                int screenHeight = rootLayout.getRootView().getHeight();\r\n\r\n                // r.bottom is the position above soft keypad or device button.\r\n                // if keypad is shown, the r.bottom is smaller than that before.\r\n                int keypadHeight = screenHeight - r.bottom;\r\n                if (keypadHeight &gt; screenHeight * 0.15) {\r\n                    onHideKeyboard();\r\n\r\n                    Intent intent = new Intent(&quot;KeyboardWillHide&quot;);\r\n                    broadcastManager.sendBroadcast(intent);\r\n                } else {\r\n                    int keyboardHeight = heightDiff - contentViewTop;\r\n                    onShowKeyboard(keyboardHeight);\r\n\r\n                    Intent intent = new Intent(&quot;KeyboardWillShow&quot;);\r\n                    intent.putExtra(&quot;KeyboardHeight&quot;, keyboardHeight);\r\n                    broadcastManager.sendBroadcast(intent);\r\n                }\r\n            }else {\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n    protected void onShowKeyboard(int keyboardHeight) {\r\n        System.out.println(&quot;keyboard is shown&quot;);\r\n        dashboardActivity.bottomNavigationView.setVisibility(View.VISIBLE);\r\n        dashboardActivity.fab.setVisibility(View.VISIBLE);\r\n\r\n    }\r\n    protected void onHideKeyboard() {\r\n        System.out.println(&quot;keyboard is hide&quot;);\r\n        dashboardActivity.bottomNavigationView.setVisibility(View.INVISIBLE);\r\n        dashboardActivity.fab.setVisibility(View.INVISIBLE);\r\n    }\r\n\r\n    protected void attachKeyboardListeners() {\r\n        if (keyboardListenersAttached) {\r\n            return;\r\n        }\r\n\r\n        rootLayout.getViewTreeObserver().addOnGlobalLayoutListener(keyboardLayoutListener);\r\n        keyboardListenersAttached = true;\r\n    }\r\n\r\n\r\nin Manifest.xml file add\r\n\r\n    &lt;activity\r\n            android:name=&quot;.Activity.DashboardActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;\r\n       \r\n             /&gt;","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<pre><code> private boolean keyboardListenersAttached = false;\nprivate ViewGroup rootLayout;\n\n\n       @Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View view = inflater.inflate(R.layout.fragment_settings, container, false);\n\n\n    rootLayout = (ViewGroup) view.findViewById(R.id.settings_layout);\n    attachKeyboardListeners();\n\n    return view;\n}\n\n\n\n    private ViewTreeObserver.OnGlobalLayoutListener keyboardLayoutListener = new \n    ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        int heightDiff = rootLayout.getRootView().getHeight() - \n        rootLayout.getHeight();\n        if (getActivity() != null) {\n            int contentViewTop = \n           getActivity().getWindow().findViewById(Window.ID_ANDROID_CONTENT).getTop();\n            LocalBroadcastManager broadcastManager = \n            LocalBroadcastManager.getInstance(getContext());\n            Rect r = new Rect();\n            rootLayout.getWindowVisibleDisplayFrame(r);\n            int screenHeight = rootLayout.getRootView().getHeight();\n\n            // r.bottom is the position above soft keypad or device button.\n            // if keypad is shown, the r.bottom is smaller than that before.\n            int keypadHeight = screenHeight - r.bottom;\n            if (keypadHeight &gt; screenHeight * 0.15) {\n                onHideKeyboard();\n\n                Intent intent = new Intent(\"KeyboardWillHide\");\n                broadcastManager.sendBroadcast(intent);\n            } else {\n                int keyboardHeight = heightDiff - contentViewTop;\n                onShowKeyboard(keyboardHeight);\n\n                Intent intent = new Intent(\"KeyboardWillShow\");\n                intent.putExtra(\"KeyboardHeight\", keyboardHeight);\n                broadcastManager.sendBroadcast(intent);\n            }\n        }else {\n\n        }\n    }\n};\n\nprotected void onShowKeyboard(int keyboardHeight) {\n    System.out.println(\"keyboard is shown\");\n    dashboardActivity.bottomNavigationView.setVisibility(View.VISIBLE);\n    dashboardActivity.fab.setVisibility(View.VISIBLE);\n\n}\nprotected void onHideKeyboard() {\n    System.out.println(\"keyboard is hide\");\n    dashboardActivity.bottomNavigationView.setVisibility(View.INVISIBLE);\n    dashboardActivity.fab.setVisibility(View.INVISIBLE);\n}\n\nprotected void attachKeyboardListeners() {\n    if (keyboardListenersAttached) {\n        return;\n    }\n\n    rootLayout.getViewTreeObserver().addOnGlobalLayoutListener(keyboardLayoutListener);\n    keyboardListenersAttached = true;\n}\n</code></pre>\n\n<p>in Manifest.xml file add</p>\n\n<pre><code>&lt;activity\n        android:name=\".Activity.DashboardActivity\"\n        android:windowSoftInputMode=\"adjustResize\"\n\n         /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19734391,"reputation":670,"user_id":14449207,"display_name":"Ali Raza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603532608,"creation_date":1603530970,"answer_id":64511806,"question_id":43115510,"body_markdown":"    &lt;activity android:name=&quot;.Activities.OrderSceenWithOrder&quot; \r\n       android:windowSoftInputMode=&quot;adjustPan&quot;\r\n        &gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<pre><code>&lt;activity android:name=&quot;.Activities.OrderSceenWithOrder&quot; \n   android:windowSoftInputMode=&quot;adjustPan&quot;\n    &gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18467290,"reputation":9,"user_id":13453105,"display_name":"Bilal Aslam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617866902,"creation_date":1617866902,"answer_id":66999184,"question_id":43115510,"body_markdown":"That solution works for me and it also doesn&#39;t show overlapped bottom navbar\r\njust add this line to your activity:\r\n\r\nandroid:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>That solution works for me and it also doesn't show overlapped bottom navbar\njust add this line to your activity:</p>\n<p>android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;</p>\n"},{"tags":[],"owner":{"account_id":16986549,"reputation":123,"user_id":12287193,"display_name":"Nadeem Aslam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642670034,"creation_date":1642670034,"answer_id":70783515,"question_id":43115510,"body_markdown":"That answer might be helpful for people still looking for solution.\r\n\r\nhttps://stackoverflow.com/questions/52391743/bottom-navigation-bar-moves-up-with-keyboard","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>That answer might be helpful for people still looking for solution.</p>\n<p><a href=\"https://stackoverflow.com/questions/52391743/bottom-navigation-bar-moves-up-with-keyboard\">Bottom Navigation bar moves up with keyboard</a></p>\n"},{"tags":[],"owner":{"account_id":13835744,"reputation":2940,"user_id":9987309,"display_name":"iCantC"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1644309400,"creation_date":1644309400,"answer_id":71030789,"question_id":43115510,"body_markdown":"Actively listen for the **Keyboard(IME)** open/close events and show/hide bottom navigation accordingly.\r\n\r\nWe can make use of the `WindowInsetsCompat` API which makes this job effortless.\r\n\r\n**Step 1:** Make sure you have migrated to `AndroidX`\r\n\r\n**Step 2:** In your `Fragment` inside `onCreateView` add the listener for Keyboard(IME) events\r\n\r\n```kotlin\r\n\r\nViewCompat.setOnApplyWindowInsetsListener(window.decorView.rootView) { _, insets -&gt;\r\n \r\n   //This lambda block will be called, every time keyboard is opened or closed\r\n\r\n    \r\n    val imeVisible = insets.isVisible(WindowInsetsCompat.Type.ime())\r\n    if(imeVisible){ \r\n     //Now show-hide bottom navigation accordingly \r\n    } \r\n\r\n    insets\r\n}\r\n\r\n```\r\n\r\nThis is all you need&#127881;\r\n\r\n \r\nFor more info on window insets, you can check out this in-depth [article][1]  \r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/animating-your-keyboard-fb776a8fb66d\r\n\r\n&lt;h6&gt;NOTE:&lt;/h6&gt;&lt;h6&gt;Earlier detecting Keyboard open/close events was not an easy task. Android Devs resorted to all types of hacks to accomplish this. But after decades of requests, prayers and rants Google finally came up with WindowInsets API. Thank you, Google&#128591;&#127995;     &lt;/h6&gt;","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>Actively listen for the <strong>Keyboard(IME)</strong> open/close events and show/hide bottom navigation accordingly.</p>\n<p>We can make use of the <code>WindowInsetsCompat</code> API which makes this job effortless.</p>\n<p><strong>Step 1:</strong> Make sure you have migrated to <code>AndroidX</code></p>\n<p><strong>Step 2:</strong> In your <code>Fragment</code> inside <code>onCreateView</code> add the listener for Keyboard(IME) events</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nViewCompat.setOnApplyWindowInsetsListener(window.decorView.rootView) { _, insets -&gt;\n \n   //This lambda block will be called, every time keyboard is opened or closed\n\n    \n    val imeVisible = insets.isVisible(WindowInsetsCompat.Type.ime())\n    if(imeVisible){ \n     //Now show-hide bottom navigation accordingly \n    } \n\n    insets\n}\n\n</code></pre>\n<p>This is all you need</p>\n<p>For more info on window insets, you can check out this in-depth <a href=\"https://medium.com/androiddevelopers/animating-your-keyboard-fb776a8fb66d\" rel=\"noreferrer\">article</a></p>\n<h6>NOTE:</h6><h6>Earlier detecting Keyboard open/close events was not an easy task. Android Devs resorted to all types of hacks to accomplish this. But after decades of requests, prayers and rants Google finally came up with WindowInsets API. Thank you, Google     </h6>\n"},{"tags":[],"owner":{"account_id":3845490,"reputation":276,"user_id":3187176,"display_name":"Greta Radisauskaite"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664143256,"creation_date":1664143256,"answer_id":73848116,"question_id":43115510,"body_markdown":"For API 21+:\r\n\r\nFirstly, set &quot;android:windowSoftInputMode&quot; for the activity to &quot;adjustResize&quot; in AndroidManifest.xml\r\n\r\nSecondly, in your acticity&#39;s onCreate method register the following listener:\r\n\r\n    window.decorView.setOnApplyWindowInsetsListener { view, insets -&gt;\r\n        val insetsCompat = toWindowInsetsCompat(insets, view)\r\n        val isImeVisible = insetsCompat.isVisible(WindowInsetsCompat.Type.ime())\r\n        // below line, do the necessary stuff:\r\n        dataBinding.bottomNavigation.visibility = if (isImeVisible) View.GONE else View.VISIBLE\r\n        view.onApplyWindowInsets(insets)\r\n    }","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>For API 21+:</p>\n<p>Firstly, set &quot;android:windowSoftInputMode&quot; for the activity to &quot;adjustResize&quot; in AndroidManifest.xml</p>\n<p>Secondly, in your acticity's onCreate method register the following listener:</p>\n<pre><code>window.decorView.setOnApplyWindowInsetsListener { view, insets -&gt;\n    val insetsCompat = toWindowInsetsCompat(insets, view)\n    val isImeVisible = insetsCompat.isVisible(WindowInsetsCompat.Type.ime())\n    // below line, do the necessary stuff:\n    dataBinding.bottomNavigation.visibility = if (isImeVisible) View.GONE else View.VISIBLE\n    view.onApplyWindowInsets(insets)\n}\n</code></pre>\n"}],"owner":{"account_id":6716638,"reputation":1450,"user_id":5178283,"accept_rate":71,"display_name":"Calco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58340,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":45857325,"answer_count":14,"score":57,"last_activity_date":1664143256,"creation_date":1490870512,"question_id":43115510,"body_markdown":"I have a small demo chat UI application. This application has a bottom navigation bar. I need the bottom navigation bar to hide when the keyboard appears.\r\n\r\n[Here is an example of the chat UI][1]\r\n\r\nAs you can see when you click in the EditText element, the keyboard appears but the bottom navigation bar stays visible. I have tried methods such as [this measurement method][2], but the UI elements flicker [like this][3].\r\n\r\nIs there a proper way to hide the bottom navigation bar when the keyboard is visible?\r\n\r\n**EDIT:**\r\nIn the below activity you can see where I set the keyboard listener to adjust the position of UI elements when the keyboard is determined as being visible.\r\n\r\nThis is my activity code, uses setKeyboardListener method from the above link and set it in onCreateView:\r\n\r\n    package uk.cal.codename.projectnedry.TeamChatFragment;\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.content.Context;\r\n    import android.content.res.Configuration;\r\n    import android.content.res.Resources;\r\n    import android.graphics.Rect;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.text.Layout;\r\n    import android.util.DisplayMetrics;\r\n    import android.util.Log;\r\n    import android.util.TypedValue;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.ViewTreeObserver;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.view.inputmethod.InputMethodManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.ImageButton;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.Toast;\r\n    \r\n    import com.roughike.bottombar.BottomBar;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    import butterknife.BindView;\r\n    import butterknife.ButterKnife;\r\n    import uk.cal.codename.projectnedry.R;\r\n    import uk.cal.codename.projectnedry.TeamChatFragment.ListAdapter.TeamChatListAdapter;\r\n    import uk.demo.cal.genericmodelviewpresenter.GenericMvp.GenericMvpFragment;\r\n    \r\n    import static android.view.View.GONE;\r\n    \r\n    /**\r\n     * A simple {@link Fragment} subclass.\r\n     * Activities that contain this fragment must implement the\r\n     * {@link TeamChatView.OnFragmentInteractionListener} interface\r\n     * to handle interaction events.\r\n     * Use the {@link TeamChatView#newInstance} factory method to\r\n     * create an instance of this fragment.\r\n     */\r\n    public class TeamChatView extends GenericMvpFragment implements TeamChatContract.RequiredViewOps {\r\n    \r\n        private OnFragmentInteractionListener mListener;\r\n        @BindView(R.id.teamChatList)\r\n        RecyclerView mTeamChatRecyclerView;\r\n        @BindView(R.id.teamChatSendButton)\r\n        ImageButton mTeamChatSendButton;\r\n        @BindView(R.id.messageTextInput)\r\n        EditText mMessageTextInput;\r\n        TeamChatListAdapter mTeamChatListAdapter;\r\n        TeamChatListAdapter.ClickListener mTeamChatListClickListener;\r\n        private ArrayList&lt;String&gt; mTestMessageList;\r\n    \r\n        public interface OnKeyboardVisibilityListener {\r\n            void onVisibilityChanged(boolean visible);\r\n        }\r\n    \r\n        public final void setKeyboardListener(final OnKeyboardVisibilityListener listener) {\r\n            final View activityRootView = ((ViewGroup) getActivity().findViewById(android.R.id.content)).getChildAt(0);\r\n    \r\n            activityRootView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n    \r\n                private boolean wasOpened;\r\n    \r\n                private final int DefaultKeyboardDP = 100;\r\n    \r\n                // From @nathanielwolf answer...  Lollipop includes button bar in the root. Add height of button bar (48dp) to maxDiff\r\n                private final int EstimatedKeyboardDP = DefaultKeyboardDP + (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP ? 48 : 0);\r\n    \r\n                private final Rect r = new Rect();\r\n    \r\n                @Override\r\n                public void onGlobalLayout() {\r\n                    // Convert the dp to pixels.\r\n                    int estimatedKeyboardHeight = (int) TypedValue\r\n                            .applyDimension(TypedValue.COMPLEX_UNIT_DIP, EstimatedKeyboardDP, activityRootView.getResources().getDisplayMetrics());\r\n    \r\n                    // Conclude whether the keyboard is shown or not.\r\n                    activityRootView.getWindowVisibleDisplayFrame(r);\r\n                    int heightDiff = activityRootView.getRootView().getHeight() - (r.bottom - r.top);\r\n                    boolean isShown = heightDiff &gt;= estimatedKeyboardHeight;\r\n    \r\n                    if (isShown == wasOpened) {\r\n                        Log.d(&quot;Keyboard state&quot;, &quot;Ignoring global layout change...&quot;);\r\n                        return;\r\n                    }\r\n    \r\n                    wasOpened = isShown;\r\n                    listener.onVisibilityChanged(isShown);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public TeamChatView() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @return A new instance of fragment TeamChatView.\r\n         */\r\n        public static TeamChatView newInstance() {\r\n            TeamChatView fragment = new TeamChatView();\r\n            Bundle args = new Bundle();\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @SuppressLint(&quot;MissingSuperCall&quot;)\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(TeamChatPresenter.class, TeamChatModel.class, savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            final View view = inflater.inflate(R.layout.fragment_team_chat_view, container, false);\r\n            this.mUnbinder = ButterKnife.bind(this, view);\r\n    \r\n            mTestMessageList = new ArrayList&lt;&gt;();\r\n            this.mTeamChatListAdapter = new TeamChatListAdapter(mTestMessageList);\r\n            this.mTeamChatRecyclerView.setAdapter(this.mTeamChatListAdapter);\r\n            final LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext());\r\n            this.mTeamChatRecyclerView.setLayoutManager(linearLayoutManager);\r\n    \r\n            this.mTeamChatSendButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(!String.valueOf(mMessageTextInput.getText()).equals(&quot;&quot;)) {\r\n                        getSpecificImpOfGenericPresenter().sendMessage(String.valueOf(mMessageTextInput.getText()));\r\n                        mMessageTextInput.setText(&quot;&quot;);\r\n                        mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\r\n                    }\r\n                }\r\n            });\r\n    \r\n            setKeyboardListener(new OnKeyboardVisibilityListener(){\r\n                @Override\r\n                public void onVisibilityChanged(boolean visible) {\r\n                    RelativeLayout contentFrame = (RelativeLayout) getActivity().findViewById(R.id.content_company_navigation);\r\n                    BottomBar lowerNavigationBar = (BottomBar) getActivity().findViewById(R.id.bottomBar);\r\n                    if (visible) { // if more than 100 pixels, its probably a keyboard...\r\n                        lowerNavigationBar.setVisibility(GONE);\r\n                        contentFrame.setPadding(0, 0, 0, 0);\r\n                        mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\r\n                    } else {\r\n                        contentFrame.setPadding(0, 0, 0, convertDpToPixel(60, getContext()));\r\n                        mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\r\n                        lowerNavigationBar.setVisibility(View.VISIBLE);\r\n                    }\r\n                }\r\n            });\r\n            return view;\r\n        }\r\n    \r\n        /**\r\n         * This method converts dp unit to equivalent pixels, depending on device density.\r\n         *\r\n         * @param dp A value in dp (density independent pixels) unit. Which we need to convert into pixels\r\n         * @param context Context to get resources and device specific display metrics\r\n         * @return A float value to represent px equivalent to dp depending on device density\r\n         */\r\n        public static int convertDpToPixel(float dp, Context context){\r\n            Resources resources = context.getResources();\r\n            DisplayMetrics metrics = resources.getDisplayMetrics();\r\n            int px = (int) (dp * ((float)metrics.densityDpi / DisplayMetrics.DENSITY_DEFAULT));\r\n            return px;\r\n        }\r\n    \r\n        public void addToTestMessageList(String str){\r\n            this.mTestMessageList.add(str);\r\n            this.mTeamChatListAdapter.notifyDataSetChanged();\r\n        }\r\n        \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n           // getView().getViewTreeObserver().removeGlobalOnLayoutListener(test);\r\n        }\r\n    \r\n        @Override\r\n        public TeamChatPresenter getSpecificImpOfGenericPresenter() {\r\n            return (TeamChatPresenter) this.mPresenter;\r\n        }\r\n    }\r\n\r\nThis is my XML layout:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;uk.cal.codename.projectnedry.TeamChatFragment.TeamChatView&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.RecyclerView\r\n            android:layout_above=&quot;@+id/chatViewMessageEntryLayout&quot;\r\n            android:id=&quot;@+id/teamChatList&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:isScrollContainer=&quot;false&quot;\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:scrollbars=&quot;vertical&quot; /&gt;    \r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/chatViewMessageEntryLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;View\r\n                android:id=&quot;@+id/chatViewMessageEntrySeperator&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:background=&quot;#e3e3e8&quot; /&gt;\r\n    \r\n            &lt;EditText\r\n                android:id=&quot;@+id/messageTextInput&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                android:layout_below=&quot;@+id/chatViewMessageEntrySeperator&quot;\r\n                android:layout_toLeftOf=&quot;@+id/teamChatSendButton&quot;\r\n                android:background=&quot;@android:color/transparent&quot;\r\n                android:hint=&quot;Enter message&quot;\r\n                android:inputType=&quot;textCapSentences|textMultiLine&quot;\r\n                android:maxLength=&quot;1000&quot;\r\n                android:maxLines=&quot;4&quot;\r\n                android:paddingLeft=&quot;10dp&quot; /&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/teamChatSendButton&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:background=&quot;#00B9EF&quot;\r\n                android:src=&quot;@drawable/ic_send_white_24dp&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n  [1]: http://i.imgur.com/5jHtAeD.mp4\r\n  [2]: https://stackoverflow.com/questions/2150078/how-to-check-visibility-of-software-keyboard-in-android/18992807#18992807\r\n  [3]: https://i.imgur.com/C2eNJBd.gifv","title":"Hiding Bottom Navigation Bar whilst keyboard is present - Android","body":"<p>I have a small demo chat UI application. This application has a bottom navigation bar. I need the bottom navigation bar to hide when the keyboard appears.</p>\n\n<p><a href=\"https://i.imgur.com/5jHtAeD.mp4\" rel=\"noreferrer\">Here is an example of the chat UI</a></p>\n\n<p>As you can see when you click in the EditText element, the keyboard appears but the bottom navigation bar stays visible. I have tried methods such as <a href=\"https://stackoverflow.com/questions/2150078/how-to-check-visibility-of-software-keyboard-in-android/18992807#18992807\">this measurement method</a>, but the UI elements flicker <a href=\"https://i.imgur.com/C2eNJBd.gifv\" rel=\"noreferrer\">like this</a>.</p>\n\n<p>Is there a proper way to hide the bottom navigation bar when the keyboard is visible?</p>\n\n<p><strong>EDIT:</strong>\nIn the below activity you can see where I set the keyboard listener to adjust the position of UI elements when the keyboard is determined as being visible.</p>\n\n<p>This is my activity code, uses setKeyboardListener method from the above link and set it in onCreateView:</p>\n\n<pre><code>package uk.cal.codename.projectnedry.TeamChatFragment;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.res.Configuration;\nimport android.content.res.Resources;\nimport android.graphics.Rect;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.text.Layout;\nimport android.util.DisplayMetrics;\nimport android.util.Log;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.ViewTreeObserver;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.FrameLayout;\nimport android.widget.ImageButton;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.Toast;\n\nimport com.roughike.bottombar.BottomBar;\n\nimport java.util.ArrayList;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport uk.cal.codename.projectnedry.R;\nimport uk.cal.codename.projectnedry.TeamChatFragment.ListAdapter.TeamChatListAdapter;\nimport uk.demo.cal.genericmodelviewpresenter.GenericMvp.GenericMvpFragment;\n\nimport static android.view.View.GONE;\n\n/**\n * A simple {@link Fragment} subclass.\n * Activities that contain this fragment must implement the\n * {@link TeamChatView.OnFragmentInteractionListener} interface\n * to handle interaction events.\n * Use the {@link TeamChatView#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class TeamChatView extends GenericMvpFragment implements TeamChatContract.RequiredViewOps {\n\n    private OnFragmentInteractionListener mListener;\n    @BindView(R.id.teamChatList)\n    RecyclerView mTeamChatRecyclerView;\n    @BindView(R.id.teamChatSendButton)\n    ImageButton mTeamChatSendButton;\n    @BindView(R.id.messageTextInput)\n    EditText mMessageTextInput;\n    TeamChatListAdapter mTeamChatListAdapter;\n    TeamChatListAdapter.ClickListener mTeamChatListClickListener;\n    private ArrayList&lt;String&gt; mTestMessageList;\n\n    public interface OnKeyboardVisibilityListener {\n        void onVisibilityChanged(boolean visible);\n    }\n\n    public final void setKeyboardListener(final OnKeyboardVisibilityListener listener) {\n        final View activityRootView = ((ViewGroup) getActivity().findViewById(android.R.id.content)).getChildAt(0);\n\n        activityRootView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n\n            private boolean wasOpened;\n\n            private final int DefaultKeyboardDP = 100;\n\n            // From @nathanielwolf answer...  Lollipop includes button bar in the root. Add height of button bar (48dp) to maxDiff\n            private final int EstimatedKeyboardDP = DefaultKeyboardDP + (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP ? 48 : 0);\n\n            private final Rect r = new Rect();\n\n            @Override\n            public void onGlobalLayout() {\n                // Convert the dp to pixels.\n                int estimatedKeyboardHeight = (int) TypedValue\n                        .applyDimension(TypedValue.COMPLEX_UNIT_DIP, EstimatedKeyboardDP, activityRootView.getResources().getDisplayMetrics());\n\n                // Conclude whether the keyboard is shown or not.\n                activityRootView.getWindowVisibleDisplayFrame(r);\n                int heightDiff = activityRootView.getRootView().getHeight() - (r.bottom - r.top);\n                boolean isShown = heightDiff &gt;= estimatedKeyboardHeight;\n\n                if (isShown == wasOpened) {\n                    Log.d(\"Keyboard state\", \"Ignoring global layout change...\");\n                    return;\n                }\n\n                wasOpened = isShown;\n                listener.onVisibilityChanged(isShown);\n            }\n        });\n    }\n\n    public TeamChatView() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @return A new instance of fragment TeamChatView.\n     */\n    public static TeamChatView newInstance() {\n        TeamChatView fragment = new TeamChatView();\n        Bundle args = new Bundle();\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @SuppressLint(\"MissingSuperCall\")\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(TeamChatPresenter.class, TeamChatModel.class, savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        final View view = inflater.inflate(R.layout.fragment_team_chat_view, container, false);\n        this.mUnbinder = ButterKnife.bind(this, view);\n\n        mTestMessageList = new ArrayList&lt;&gt;();\n        this.mTeamChatListAdapter = new TeamChatListAdapter(mTestMessageList);\n        this.mTeamChatRecyclerView.setAdapter(this.mTeamChatListAdapter);\n        final LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getContext());\n        this.mTeamChatRecyclerView.setLayoutManager(linearLayoutManager);\n\n        this.mTeamChatSendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!String.valueOf(mMessageTextInput.getText()).equals(\"\")) {\n                    getSpecificImpOfGenericPresenter().sendMessage(String.valueOf(mMessageTextInput.getText()));\n                    mMessageTextInput.setText(\"\");\n                    mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\n                }\n            }\n        });\n\n        setKeyboardListener(new OnKeyboardVisibilityListener(){\n            @Override\n            public void onVisibilityChanged(boolean visible) {\n                RelativeLayout contentFrame = (RelativeLayout) getActivity().findViewById(R.id.content_company_navigation);\n                BottomBar lowerNavigationBar = (BottomBar) getActivity().findViewById(R.id.bottomBar);\n                if (visible) { // if more than 100 pixels, its probably a keyboard...\n                    lowerNavigationBar.setVisibility(GONE);\n                    contentFrame.setPadding(0, 0, 0, 0);\n                    mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\n                } else {\n                    contentFrame.setPadding(0, 0, 0, convertDpToPixel(60, getContext()));\n                    mTeamChatRecyclerView.smoothScrollToPosition(mTestMessageList.size());\n                    lowerNavigationBar.setVisibility(View.VISIBLE);\n                }\n            }\n        });\n        return view;\n    }\n\n    /**\n     * This method converts dp unit to equivalent pixels, depending on device density.\n     *\n     * @param dp A value in dp (density independent pixels) unit. Which we need to convert into pixels\n     * @param context Context to get resources and device specific display metrics\n     * @return A float value to represent px equivalent to dp depending on device density\n     */\n    public static int convertDpToPixel(float dp, Context context){\n        Resources resources = context.getResources();\n        DisplayMetrics metrics = resources.getDisplayMetrics();\n        int px = (int) (dp * ((float)metrics.densityDpi / DisplayMetrics.DENSITY_DEFAULT));\n        return px;\n    }\n\n    public void addToTestMessageList(String str){\n        this.mTestMessageList.add(str);\n        this.mTeamChatListAdapter.notifyDataSetChanged();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n       // getView().getViewTreeObserver().removeGlobalOnLayoutListener(test);\n    }\n\n    @Override\n    public TeamChatPresenter getSpecificImpOfGenericPresenter() {\n        return (TeamChatPresenter) this.mPresenter;\n    }\n}\n</code></pre>\n\n<p>This is my XML layout:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"uk.cal.codename.projectnedry.TeamChatFragment.TeamChatView\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:layout_above=\"@+id/chatViewMessageEntryLayout\"\n        android:id=\"@+id/teamChatList\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentTop=\"true\"\n        android:isScrollContainer=\"false\"\n        android:paddingTop=\"10dp\"\n        android:scrollbars=\"vertical\" /&gt;    \n\n    &lt;RelativeLayout\n        android:id=\"@+id/chatViewMessageEntryLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"60dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;View\n            android:id=\"@+id/chatViewMessageEntrySeperator\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"1dp\"\n            android:background=\"#e3e3e8\" /&gt;\n\n        &lt;EditText\n            android:id=\"@+id/messageTextInput\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center_vertical\"\n            android:layout_below=\"@+id/chatViewMessageEntrySeperator\"\n            android:layout_toLeftOf=\"@+id/teamChatSendButton\"\n            android:background=\"@android:color/transparent\"\n            android:hint=\"Enter message\"\n            android:inputType=\"textCapSentences|textMultiLine\"\n            android:maxLength=\"1000\"\n            android:maxLines=\"4\"\n            android:paddingLeft=\"10dp\" /&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/teamChatSendButton\"\n            android:layout_width=\"50dp\"\n            android:layout_height=\"match_parent\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_gravity=\"center\"\n            android:background=\"#00B9EF\"\n            android:src=\"@drawable/ic_send_white_24dp\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","gradle","dagger-2"],"comments":[{"owner":{"account_id":1487533,"reputation":16605,"user_id":1395437,"accept_rate":70,"display_name":"Daniel Zolnai"},"score":0,"creation_date":1446238401,"post_id":33444356,"comment_id":54677719,"body_markdown":"You should be able to after you have compiled the app successfully once. Just put your text cursor into the `DaggerCoffeeApp_Coffee` line on in this word and use `Ctrl + B`.","body":"You should be able to after you have compiled the app successfully once. Just put your text cursor into the <code>DaggerCoffeeApp_Coffee</code> line on in this word and use <code>Ctrl + B</code>."},{"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"score":0,"creation_date":1446239599,"post_id":33444356,"comment_id":54678265,"body_markdown":"Indeed, the app is compiled and I managed to run it. I can see the generated class in `build/generated/src/coffee/` but IntelliJ keeps telling me that it cannot resolve `DaggerCoffeeApp_Coffee`","body":"Indeed, the app is compiled and I managed to run it. I can see the generated class in <code>build&#47;generated&#47;src&#47;coffee&#47;</code> but IntelliJ keeps telling me that it cannot resolve <code>DaggerCoffeeApp_Coffee</code>"}],"answers":[{"tags":[],"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1446243856,"creation_date":1446243856,"answer_id":33445767,"question_id":33444356,"body_markdown":"Finally I made it!\r\n\r\nI had to add the `apt` and the `idea` plugin so right now my `build.gradle` file look like this:\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven {\r\n                url &quot;https://plugins.gradle.org/m2/&quot;\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath &quot;net.ltgt.gradle:gradle-apt-plugin:0.4&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &quot;net.ltgt.apt&quot;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    \r\n        compile &#39;com.google.dagger:dagger:2.0.1&#39;\r\n        apt &#39;com.google.dagger:dagger-compiler:2.0.1&#39;\r\n    }","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>Finally I made it!</p>\n\n<p>I had to add the <code>apt</code> and the <code>idea</code> plugin so right now my <code>build.gradle</code> file look like this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath \"net.ltgt.gradle:gradle-apt-plugin:0.4\"\n    }\n}\n\napply plugin: \"net.ltgt.apt\"\napply plugin: 'java'\napply plugin: 'idea'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    compile 'com.google.dagger:dagger:2.0.1'\n    apt 'com.google.dagger:dagger-compiler:2.0.1'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595587,"reputation":51,"user_id":5761849,"display_name":"Luka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453039558,"creation_date":1453034054,"answer_id":34838348,"question_id":33444356,"body_markdown":"Here&#39;s the solution that worked for me:\r\n\r\nFile -&gt; Project Structure -&gt; (select your project under list of modules) -&gt; Open &#39;Dependencies&#39; tab\r\n\r\nThen, click on green &#39;+&#39; sign, select &#39;JARs or directory&#39; and select &#39;build/classes/main&#39; folder.\r\n\r\nAnother solution would be to link folder with build class files using &#39;dependencies&#39; block inside build.gradle:\r\n\r\nhttps://stackoverflow.com/a/22769015/5761849","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>Here's the solution that worked for me:</p>\n\n<p>File -> Project Structure -> (select your project under list of modules) -> Open 'Dependencies' tab</p>\n\n<p>Then, click on green '+' sign, select 'JARs or directory' and select 'build/classes/main' folder.</p>\n\n<p>Another solution would be to link folder with build class files using 'dependencies' block inside build.gradle:</p>\n\n<p><a href=\"https://stackoverflow.com/a/22769015/5761849\">https://stackoverflow.com/a/22769015/5761849</a></p>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1536914033,"creation_date":1457963415,"answer_id":35989344,"question_id":33444356,"body_markdown":"you must manually enable the ***annotation processing*** in IntelliJ. \r\n\r\nFrom: Settings --&gt; Build, Execution, Deployment --&gt; Compiler --&gt; Annotation Processors --&gt; ***Enable annotation processing*** and ***Obtain processors from project classpath***\r\n\r\nthen rebuild the project and you will find the generated classes in the project. \r\n\r\nPlease note that I have used this solution in a (java) **android** project.","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>you must manually enable the <strong><em>annotation processing</em></strong> in IntelliJ. </p>\n\n<p>From: Settings --> Build, Execution, Deployment --> Compiler --> Annotation Processors --> <strong><em>Enable annotation processing</em></strong> and <strong><em>Obtain processors from project classpath</em></strong></p>\n\n<p>then rebuild the project and you will find the generated classes in the project. </p>\n\n<p>Please note that I have used this solution in a (java) <strong>android</strong> project.</p>\n"},{"tags":[],"owner":{"account_id":54563,"reputation":1440,"user_id":163253,"display_name":"Hani"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1496052755,"creation_date":1496049517,"answer_id":44238824,"question_id":33444356,"body_markdown":"Simplest way I found:\r\n\r\n 1. Add `idea` plugin and add Dagger2 dependency like below:\r\n\r\n        plugins {\r\n            id &quot;net.ltgt.apt&quot; version &quot;0.10&quot;\r\n        }\r\n\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;idea&#39;\r\n\r\n        sourceCompatibility = 1.8\r\n\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n            testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\r\n            compile &#39;com.google.dagger:dagger:2.11&#39;\r\n            apt &#39;com.google.dagger:dagger-compiler:2.11&#39;\r\n        }\r\n\r\n 2. Turn on `Annotation Processing` for IntelliJ: Go to `Settings` and search for `Annotation Processors`, check Enable annotation processing like below image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E8nL3.png","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>Simplest way I found:</p>\n\n<ol>\n<li><p>Add <code>idea</code> plugin and add Dagger2 dependency like below:</p>\n\n<pre><code>plugins {\n    id \"net.ltgt.apt\" version \"0.10\"\n}\n\napply plugin: 'java'\napply plugin: 'idea'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    compile 'com.google.dagger:dagger:2.11'\n    apt 'com.google.dagger:dagger-compiler:2.11'\n}\n</code></pre></li>\n<li><p>Turn on <code>Annotation Processing</code> for IntelliJ: Go to <code>Settings</code> and search for <code>Annotation Processors</code>, check Enable annotation processing like below image:</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/E8nL3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E8nL3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518459761,"creation_date":1518459761,"answer_id":48753045,"question_id":33444356,"body_markdown":"I&#39;m using version `2017.3.3` of IntelliJ IDEA, version `0.14` of the `net.ltgt.apt` plugin and version `2.14.1` of Dagger and as well as applying the `idea` plugin in the `build.gradle` file (as in Pelocho&#39;s [answer][1]) I found I also had to tell IntelliJ where it can find the sources generated by Dagger, as follows:\r\n\r\n    apply plugin: &#39;idea&#39;\r\n    idea {\r\n        module {\r\n            sourceDirs += file(&quot;$buildDir/generated/source/apt/main&quot;)\r\n            testSourceDirs += file(&quot;$buildDir/generated/source/apt/test&quot;)\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33445767/1071320","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>I'm using version <code>2017.3.3</code> of IntelliJ IDEA, version <code>0.14</code> of the <code>net.ltgt.apt</code> plugin and version <code>2.14.1</code> of Dagger and as well as applying the <code>idea</code> plugin in the <code>build.gradle</code> file (as in Pelocho's <a href=\"https://stackoverflow.com/a/33445767/1071320\">answer</a>) I found I also had to tell IntelliJ where it can find the sources generated by Dagger, as follows:</p>\n\n<pre><code>apply plugin: 'idea'\nidea {\n    module {\n        sourceDirs += file(\"$buildDir/generated/source/apt/main\")\n        testSourceDirs += file(\"$buildDir/generated/source/apt/test\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384004,"reputation":432,"user_id":2085356,"display_name":"nazmul idris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536947327,"creation_date":1536897216,"answer_id":52324748,"question_id":33444356,"body_markdown":"This is what I had to do in order to get Idea to work with Dagger2 and gradle.\r\n\r\n1. Turn on annotation processing as shown in the answers above.\r\n1. Add the following to the `build.gradle` file in order for Idea to see the generated classes as sources.\r\n\r\n        sourceDirs += file(&quot;$projectDir/out/production/classes/generated/&quot;)\r\n\r\nHere&#39;s the full listing of my `build.gradle`\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id &quot;net.ltgt.apt&quot; version &quot;0.10&quot;\r\n    }\r\n    \r\n    idea {\r\n        module {\r\n            sourceDirs += file(&quot;$projectDir/out/production/classes/generated/&quot;)\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;com.google.dagger:dagger:2.16&#39;\r\n        apt &#39;com.google.dagger:dagger-compiler:2.16&#39;\r\n    }\r\n    \r\n    sourceCompatibility = 1.8\r\n\r\nAlso, I had to add the following gradle task (to my build.gradle file) to clear out my `out` directory. When I moved some files around and Dagger2 regenerated the source files, the `out` directory wasn&#39;t being cleared out :(. I also included this task in my run configuration, so that it gets triggered before I rebuild my project.\r\n\r\n    task clearOutFolder(type: Delete) {\r\n        delete &#39;out&#39;\r\n    }\r\n\r\n","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>This is what I had to do in order to get Idea to work with Dagger2 and gradle.</p>\n\n<ol>\n<li>Turn on annotation processing as shown in the answers above.</li>\n<li><p>Add the following to the <code>build.gradle</code> file in order for Idea to see the generated classes as sources.</p>\n\n<pre><code>sourceDirs += file(\"$projectDir/out/production/classes/generated/\")\n</code></pre></li>\n</ol>\n\n<p>Here's the full listing of my <code>build.gradle</code></p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n    id \"net.ltgt.apt\" version \"0.10\"\n}\n\nidea {\n    module {\n        sourceDirs += file(\"$projectDir/out/production/classes/generated/\")\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'com.google.dagger:dagger:2.16'\n    apt 'com.google.dagger:dagger-compiler:2.16'\n}\n\nsourceCompatibility = 1.8\n</code></pre>\n\n<p>Also, I had to add the following gradle task (to my build.gradle file) to clear out my <code>out</code> directory. When I moved some files around and Dagger2 regenerated the source files, the <code>out</code> directory wasn't being cleared out :(. I also included this task in my run configuration, so that it gets triggered before I rebuild my project.</p>\n\n<pre><code>task clearOutFolder(type: Delete) {\n    delete 'out'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748195,"reputation":1467,"user_id":1597897,"accept_rate":100,"display_name":"Franko Leon Tokali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559672871,"creation_date":1559672871,"answer_id":56449430,"question_id":33444356,"body_markdown":"Using IntelliJ IDEA 2019.1 and Gradle 5.4.1, this seems to be enough:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    \r\n        implementation &#39;com.google.dagger:dagger:2.23.1&#39;\r\n        annotationProcessor &#39;com.google.dagger:dagger-compiler:2.23.1&#39;\r\n    }\r\n\r\nI don&#39;t know the minimal versions for which this solution works, though.","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>Using IntelliJ IDEA 2019.1 and Gradle 5.4.1, this seems to be enough:</p>\n\n<pre><code>plugins {\n    id 'java'\n}\n\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n\n    implementation 'com.google.dagger:dagger:2.23.1'\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.23.1'\n}\n</code></pre>\n\n<p>I don't know the minimal versions for which this solution works, though.</p>\n"},{"tags":[],"owner":{"account_id":11340999,"reputation":1,"user_id":8315106,"display_name":"Aska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571214759,"creation_date":1571213599,"answer_id":58408665,"question_id":33444356,"body_markdown":"I had a similar problem, I could not find out the cause for a long time. \r\n\r\nJust launched and the result surprised me.\r\n![IDE displays an error][1]\r\n[1]: https://i.stack.imgur.com/w5va6.png\r\n\r\nIntellij Idea 2018.3.6 -\r\n`build.gradle`:\r\n\r\n    plugins {\r\n        id &quot;java&quot;\r\n    }\r\n    sourceCompatibility = 1.8\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n\r\n        compile &#39;com.google.dagger:dagger:2.11&#39;\r\n        apt &#39;com.google.dagger:dagger-compiler:2.11&#39;\r\n    }","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>I had a similar problem, I could not find out the cause for a long time. </p>\n\n<p>Just launched and the result surprised me.\n<img src=\"https://i.stack.imgur.com/w5va6.png\" alt=\"IDE displays an error\">\nIntellij Idea 2018.3.6 -\n<code>build.gradle</code>:</p>\n\n<pre><code>plugins {\n    id \"java\"\n}\nsourceCompatibility = 1.8\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    compile 'com.google.dagger:dagger:2.11'\n    apt 'com.google.dagger:dagger-compiler:2.11'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8536347,"reputation":830,"user_id":6398014,"display_name":"Codigo Morsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664142580,"creation_date":1664142580,"answer_id":73848054,"question_id":33444356,"body_markdown":"The following worked for me on IntelliJ 2021.3.3 (UE)\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\r\n    }\r\n    \r\n    idea {\r\n        module {\r\n            sourceDirs += file(&quot;$projectDir/build/generated/sources/annotationProcessor/java/main&quot;)\r\n            testSourceDirs += file(&quot;$projectDir/build/generated/sources/annotationProcessor/java/test&quot;)\r\n        }\r\n    }\r\n    \r\n    group &#39;com.codigomorsa&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        annotationProcessor &#39;com.google.dagger:dagger-compiler:2.44&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\n        implementation &#39;com.google.dagger:dagger:2.44&#39;\r\n        testAnnotationProcessor &#39;com.google.dagger:dagger-compiler:2.44&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n    }\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p>The following worked for me on IntelliJ 2021.3.3 (UE)</p>\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\n}\n\nidea {\n    module {\n        sourceDirs += file(&quot;$projectDir/build/generated/sources/annotationProcessor/java/main&quot;)\n        testSourceDirs += file(&quot;$projectDir/build/generated/sources/annotationProcessor/java/test&quot;)\n    }\n}\n\ngroup 'com.codigomorsa'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.44'\n    implementation 'com.google.code.gson:gson:2.9.1'\n    implementation 'com.google.dagger:dagger:2.44'\n    testAnnotationProcessor 'com.google.dagger:dagger-compiler:2.44'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19675,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":33445767,"answer_count":9,"score":34,"last_activity_date":1664142580,"creation_date":1446236654,"question_id":33444356,"body_markdown":"**Context**\r\n\r\nI have started a personal project in java with `Gradle` as the build system and I want to use Dagger 2 as a DI. The main reason of doing that is to get used to that library and be able to use it easily in bigger projects.\r\n\r\n\r\n**What have I tried**\r\n\r\nI&#39;ve managed to make the [Google sample](https://github.com/google/dagger/tree/master/examples/simple) runs on IntelliJ IDEA\r\n\r\n**Problem**\r\n\r\nIntelliJ IDEA keeps telling me that it cannot resolve the generated class (in this case `DaggerCoffeeApp_Coffee`). It&#39;s a bit annoying not to know if the written code is correct (specially when you are learning to use Dagger 2).\r\n\r\nAll java classes are the same as the [Google sample](https://github.com/google/dagger/tree/master/examples/simple). Here is my `build.gradle` file:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    \r\n        compile &#39;com.google.dagger:dagger:2.0.1&#39;\r\n        compile &#39;com.google.dagger:dagger-compiler:2.0.1&#39;\r\n    }\r\n\r\n**Question**\r\n\r\nIs there any way to make IntelliJ IDEA recognize `DaggerCoffeeApp_Coffee` as a generated class (and so make it possible to go to its implementation by `ctrl + left click)? ","title":"Is there any way of making IntelliJ IDEA recognizing Dagger 2 generated classes in a Java project?","body":"<p><strong>Context</strong></p>\n\n<p>I have started a personal project in java with <code>Gradle</code> as the build system and I want to use Dagger 2 as a DI. The main reason of doing that is to get used to that library and be able to use it easily in bigger projects.</p>\n\n<p><strong>What have I tried</strong></p>\n\n<p>I've managed to make the <a href=\"https://github.com/google/dagger/tree/master/examples/simple\" rel=\"noreferrer\">Google sample</a> runs on IntelliJ IDEA</p>\n\n<p><strong>Problem</strong></p>\n\n<p>IntelliJ IDEA keeps telling me that it cannot resolve the generated class (in this case <code>DaggerCoffeeApp_Coffee</code>). It's a bit annoying not to know if the written code is correct (specially when you are learning to use Dagger 2).</p>\n\n<p>All java classes are the same as the <a href=\"https://github.com/google/dagger/tree/master/examples/simple\" rel=\"noreferrer\">Google sample</a>. Here is my <code>build.gradle</code> file:</p>\n\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n\n    compile 'com.google.dagger:dagger:2.0.1'\n    compile 'com.google.dagger:dagger-compiler:2.0.1'\n}\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Is there any way to make IntelliJ IDEA recognize <code>DaggerCoffeeApp_Coffee</code> as a generated class (and so make it possible to go to its implementation by `ctrl + left click)? </p>\n"},{"tags":["java","eclipse","java-19"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664140388,"post_id":73847867,"comment_id":130397609,"body_markdown":"there&#39;s a jre search somewhere within the settings, you may have to find or add it manually (in case that eclipse version works with jre 19)","body":"there&#39;s a jre search somewhere within the settings, you may have to find or add it manually (in case that eclipse version works with jre 19)"},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1664140556,"post_id":73847867,"comment_id":130397634,"body_markdown":"https://marketplace.eclipse.org/content/java-19-support-eclipse-2022-09-425","body":"<a href=\"https://marketplace.eclipse.org/content/java-19-support-eclipse-2022-09-425\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1664171283,"post_id":73847867,"comment_id":130401551,"body_markdown":"Eclipse 2022-09 has been released before Java 19. So the Java 19 support is only available as a preview via the Eclipse Marketplace for Eclipse 2022-09.","body":"Eclipse 2022-09 has been released before Java 19. So the Java 19 support is only available as a preview via the Eclipse Marketplace for Eclipse 2022-09."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664141014,"creation_date":1664141014,"answer_id":73847938,"question_id":73847867,"body_markdown":"Here is the solution which is shown below by following each item step by step\r\n\r\n**1 )** Go to Eclipse Market\r\n\r\n**2 )** Download &quot;Java 19 Support for Eclipse 2022-09 (4.25)&quot;\r\n\r\n**3 )** Restart the eclipse\r\n\r\n**4 )** Java Se-19 is shown in the dropdown list regarding &quot;Use an execution environment JRE&quot;","title":"Cannot see Java 19 JRE in Eclipse IDE for Java Developers - 2022-09","body":"<p>Here is the solution which is shown below by following each item step by step</p>\n<p><strong>1 )</strong> Go to Eclipse Market</p>\n<p><strong>2 )</strong> Download &quot;Java 19 Support for Eclipse 2022-09 (4.25)&quot;</p>\n<p><strong>3 )</strong> Restart the eclipse</p>\n<p><strong>4 )</strong> Java Se-19 is shown in the dropdown list regarding &quot;Use an execution environment JRE&quot;</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2649,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73847938,"answer_count":1,"score":1,"last_activity_date":1664141014,"creation_date":1664140230,"question_id":73847867,"body_markdown":"I have a problem about showing Java Se 19 in Eclipse.\r\n\r\nAfter I downloaded Java 19 JDK from this link (https://www.oracle.com/java/technologies/downloads/#jdk19-windows), I opened Eclipse IDE for Java Developers - 2022-09.\r\n\r\nWhen I tried to create a Java Project, I couldn&#39;t see Java Se 19.\r\n\r\nHow can I fix it?\r\n\r\nHere is the screenshot shown below.\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z2O8e.png","title":"Cannot see Java 19 JRE in Eclipse IDE for Java Developers - 2022-09","body":"<p>I have a problem about showing Java Se 19 in Eclipse.</p>\n<p>After I downloaded Java 19 JDK from this link (<a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a>), I opened Eclipse IDE for Java Developers - 2022-09.</p>\n<p>When I tried to create a Java Project, I couldn't see Java Se 19.</p>\n<p>How can I fix it?</p>\n<p>Here is the screenshot shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/z2O8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z2O8e.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1663935529,"post_id":73827591,"comment_id":130362092,"body_markdown":"&quot;`ArrayList&lt;List&lt;String&gt;&gt; doSomething()`&quot; what has this got to do with your `Test` class? Do you mean `Test&lt;ArrayList&lt;String&gt;&gt;`?","body":"&quot;<code>ArrayList&lt;List&lt;String&gt;&gt; doSomething()</code>&quot; what has this got to do with your <code>Test</code> class? Do you mean <code>Test&lt;ArrayList&lt;String&gt;&gt;</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1663935680,"post_id":73827591,"comment_id":130362137,"body_markdown":"&quot;is there a different way to solve/bypass this?&quot; it very much depends on what you are trying to do/&quot;how generic&quot; you really need it to be (as in, do you need it for any T, or is there some small handful of Ts that you need).","body":"&quot;is there a different way to solve/bypass this?&quot; it very much depends on what you are trying to do/&quot;how generic&quot; you really need it to be (as in, do you need it for any T, or is there some small handful of Ts that you need)."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1663935681,"post_id":73827591,"comment_id":130362138,"body_markdown":"You should probably find a different way to solve your serialization needs, but if you insist on using java&#39;s serialization mechanism (which has all sorts of problems), next best thing is to fully understand its many, many nuances. Once you know about them, you can also figure out what that warning is about, adjust accordingly, and _then_ ignore the warning.","body":"You should probably find a different way to solve your serialization needs, but if you insist on using java&#39;s serialization mechanism (which has all sorts of problems), next best thing is to fully understand its many, many nuances. Once you know about them, you can also figure out what that warning is about, adjust accordingly, and <i>then</i> ignore the warning."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1663936248,"post_id":73827591,"comment_id":130362357,"body_markdown":"One thing to point out about Sonar&#39;s warning: I&#39;m pretty sure that it wouldn&#39;t warn you about a `Test&lt;ArrayList&lt;NonSerializableThing&gt;&gt;` being non-serializable - in part, because it would be serializable, if the list is null or empty. So, the impression of safety conveyed by the warning is a bit misleading.","body":"One thing to point out about Sonar&#39;s warning: I&#39;m pretty sure that it wouldn&#39;t warn you about a <code>Test&lt;ArrayList&lt;NonSerializableThing&gt;&gt;</code> being non-serializable - in part, because it would be serializable, if the list is null or empty. So, the impression of safety conveyed by the warning is a bit misleading."},{"owner":{"account_id":3005818,"reputation":11,"user_id":2550389,"display_name":"RIJA"},"score":0,"creation_date":1664189488,"post_id":73827591,"comment_id":130406606,"body_markdown":"@AndyTurner I corrected indeed the ArrayList&lt;List&lt;String&gt;&gt; doSomething() part, was just a typo.\nFurther the code should be able to serialize all T&#39;s. This makes me wondering if I could just ignore the warning, given the fact that if my concrete class (~T) implements the Serializable class, wouldn&#39;t that be enough then?","body":"@AndyTurner I corrected indeed the ArrayList&lt;List&lt;String&gt;&gt; doSomething() part, was just a typo. Further the code should be able to serialize all T&#39;s. This makes me wondering if I could just ignore the warning, given the fact that if my concrete class (~T) implements the Serializable class, wouldn&#39;t that be enough then?"},{"owner":{"account_id":3005818,"reputation":11,"user_id":2550389,"display_name":"RIJA"},"score":0,"creation_date":1664189669,"post_id":73827591,"comment_id":130406673,"body_markdown":"@rzwitserloot what do you mean by all sorts of problems with the java serialization mechanism?","body":"@rzwitserloot what do you mean by all sorts of problems with the java serialization mechanism?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663939259,"creation_date":1663936443,"answer_id":73827811,"question_id":73827591,"body_markdown":"An object that holds a reference to a non-Serializable object cannot be serialized via the default serialization algorithm. For your particular case, there is no type-safe way to engage custom serialization.  You therefore have only three main options:\r\n\r\n 1. Do not modify your original code, and accept that it ***lies*** when it declares itself `Serializable`.  If it actually matters to you that the class be `Serializable` -- that is, you plan to serialize instances -- then this creates a non-negligible failure risk, but you could get away with it if, in practice, the `testObject` member always is serializable.  This is effectively the strategy employed by `java.util.ArrayList` and some other serializable standard library classes.\r\n\r\n 2. Do not make your class `Serializable`.  Then the immediate problem goes away, but of course, instances are even more not default-serializable.  That may not work for you.\r\n\r\n 3. Implement the proposed change you describe, with `T extends Serializable` (or `extends` some other serializable type).  This is the type-safe alternative.  It avoids risk of serialization failure insomuch as that is within your class&#39;s control.  The cost is as you describe -- the type parameter will exclude types that are not serializable.  For the specific case of `List`s, you could instead use one of the serializable `List` implementations in place of the `List` interface, but you&#39;ll have to determine how well that works for you, technically and stylistically.\r\n\r\nWe can&#39;t tell you which of those is best for your particular purposes.  You&#39;ll have to decide that for yourself.","title":"How to make a generic typed class serializable?","body":"<p>An object that holds a reference to a non-Serializable object cannot be serialized via the default serialization algorithm. For your particular case, there is no type-safe way to engage custom serialization.  You therefore have only three main options:</p>\n<ol>\n<li><p>Do not modify your original code, and accept that it <em><strong>lies</strong></em> when it declares itself <code>Serializable</code>.  If it actually matters to you that the class be <code>Serializable</code> -- that is, you plan to serialize instances -- then this creates a non-negligible failure risk, but you could get away with it if, in practice, the <code>testObject</code> member always is serializable.  This is effectively the strategy employed by <code>java.util.ArrayList</code> and some other serializable standard library classes.</p>\n</li>\n<li><p>Do not make your class <code>Serializable</code>.  Then the immediate problem goes away, but of course, instances are even more not default-serializable.  That may not work for you.</p>\n</li>\n<li><p>Implement the proposed change you describe, with <code>T extends Serializable</code> (or <code>extends</code> some other serializable type).  This is the type-safe alternative.  It avoids risk of serialization failure insomuch as that is within your class's control.  The cost is as you describe -- the type parameter will exclude types that are not serializable.  For the specific case of <code>List</code>s, you could instead use one of the serializable <code>List</code> implementations in place of the <code>List</code> interface, but you'll have to determine how well that works for you, technically and stylistically.</p>\n</li>\n</ol>\n<p>We can't tell you which of those is best for your particular purposes.  You'll have to decide that for yourself.</p>\n"}],"owner":{"account_id":3005818,"reputation":11,"user_id":2550389,"display_name":"RIJA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664140089,"creation_date":1663935358,"question_id":73827591,"body_markdown":"The usecase is the following, I have a generic class as follows:\r\n\r\n    public class Test&lt;T&gt; implements Serializable {\r\n    private T testObject;\r\n     .....\r\n    } \r\n\r\nWith sonarLint off course complaining about the field testObject should be made either transient or serializable.\r\n\r\nIf I would make the required/proposed change as follows:\r\n\r\n    public class Test&lt;T extends Serializable&gt; implements Serializable {\r\n        private T testObject;\r\n         .....\r\n        } \r\n\r\nAlthough if I want to make use of this Generic Test class, then I can&#39;t use it together with interface types like for example a List interface, because a List is of course not Serializable.\r\n\r\nThis doesn&#39;t compile, but is in my opinion the preferred way programming to the interface.\r\n\r\n    public Test&lt;List&lt;String&gt;&gt; doSomething() {\r\n    }\r\n\r\nThis compiles, but is actually not what I want...\r\n\r\n    public Test&lt;ArrayList&lt;String&gt;&gt; doSomething() {\r\n    }\r\n\r\nSo, not sure what the answer to my question is.... should I ignore the SonarLint warning or is there a different way to solve/bypass this?\r\n","title":"How to make a generic typed class serializable?","body":"<p>The usecase is the following, I have a generic class as follows:</p>\n<pre><code>public class Test&lt;T&gt; implements Serializable {\nprivate T testObject;\n .....\n} \n</code></pre>\n<p>With sonarLint off course complaining about the field testObject should be made either transient or serializable.</p>\n<p>If I would make the required/proposed change as follows:</p>\n<pre><code>public class Test&lt;T extends Serializable&gt; implements Serializable {\n    private T testObject;\n     .....\n    } \n</code></pre>\n<p>Although if I want to make use of this Generic Test class, then I can't use it together with interface types like for example a List interface, because a List is of course not Serializable.</p>\n<p>This doesn't compile, but is in my opinion the preferred way programming to the interface.</p>\n<pre><code>public Test&lt;List&lt;String&gt;&gt; doSomething() {\n}\n</code></pre>\n<p>This compiles, but is actually not what I want...</p>\n<pre><code>public Test&lt;ArrayList&lt;String&gt;&gt; doSomething() {\n}\n</code></pre>\n<p>So, not sure what the answer to my question is.... should I ignore the SonarLint warning or is there a different way to solve/bypass this?</p>\n"},{"tags":["java","android","android-room","dao"],"comments":[{"owner":{"account_id":478975,"reputation":18077,"user_id":891373,"accept_rate":81,"display_name":"Froyo"},"score":1,"creation_date":1564477779,"post_id":57266553,"comment_id":101034694,"body_markdown":"`@Query(&quot;SELECT COUNT(*) FROM Users&quot;)` Use the count query.","body":"<code>@Query(&quot;SELECT COUNT(*) FROM Users&quot;)</code> Use the count query."}],"answers":[{"tags":[],"owner":{"account_id":12213088,"reputation":7885,"user_id":8914336,"display_name":"coroutineDispatcher"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1564474201,"creation_date":1564472481,"answer_id":57266628,"question_id":57266553,"body_markdown":"The return type on your `UserDao` should be a `LiveData&lt;List&lt;User&gt;&gt;` and than after selection just check the size of the list returned from that query. \r\n\r\nWhen you put `Integer` and the query is a `SELECT` from that table, `Room` doesn&#39;t know how the `User` table matches an `Integer`\r\n\r\n       @Query(&quot;SELECT * FROM Users&quot;)\r\n       LiveData&lt;List&lt;User&gt;&gt; selectAllUsers();\r\n\r\nAnd than when you call that method just check `if(usersList.size() != 0){}`","title":"How to check if room database is empty or not","body":"<p>The return type on your <code>UserDao</code> should be a <code>LiveData&lt;List&lt;User&gt;&gt;</code> and than after selection just check the size of the list returned from that query. </p>\n\n<p>When you put <code>Integer</code> and the query is a <code>SELECT</code> from that table, <code>Room</code> doesn't know how the <code>User</code> table matches an <code>Integer</code></p>\n\n<pre><code>   @Query(\"SELECT * FROM Users\")\n   LiveData&lt;List&lt;User&gt;&gt; selectAllUsers();\n</code></pre>\n\n<p>And than when you call that method just check <code>if(usersList.size() != 0){}</code></p>\n"},{"tags":[],"owner":{"account_id":3512750,"reputation":3252,"user_id":2936688,"accept_rate":30,"display_name":"atabouraya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664139812,"creation_date":1664139812,"answer_id":73847829,"question_id":57266553,"body_markdown":"You can check if count of table&#39;s row is zero\r\n\r\n ```\r\n@Query(&quot;SELECT (SELECT COUNT(*) FROM categories) == 0&quot;)\r\n fun isEmpty(): Boolean\r\n```\r\n\r\nThis query would return true or false indicating whether it is empty or not ","title":"How to check if room database is empty or not","body":"<p>You can check if count of table's row is zero</p>\n<pre><code>@Query(&quot;SELECT (SELECT COUNT(*) FROM categories) == 0&quot;)\nfun isEmpty(): Boolean\n</code></pre>\n<p>This query would return true or false indicating whether it is empty or not</p>\n"}],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7711,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1664139812,"creation_date":1564472200,"question_id":57266553,"body_markdown":"I am trying to check if room database is empty or not before making a network call.\r\nbut it is showing below error.\r\n\r\n&gt; error: Not sure how to convert a Cursor to this method&#39;s return type (java.lang.Integer).\t\r\n\r\nWhat I have been doing is when app starts I am checking row count in room databse if it is null then I am making a network call.\r\n\r\nBelow is my code.\r\n\r\n**UserDao.java**\r\n\r\n    @Dao\r\n    public interface UserDao {\r\n\r\n       @Query(&quot;SELECT * FROM Users&quot;)\r\n       LiveData&lt;Integer&gt; isDbEmpty();\r\n    }    \r\n\r\n**UserRepository.java**\r\n\r\n    public class UserRepository {\r\n\r\n    private Context context;\r\n    private UserDb userDb;\r\n    private LiveData&lt;Integer&gt; checkDb;\r\n    private UserDao userDao;\r\n\r\n\r\n    public UserRepository(Context context) {\r\n        this.context = context;\r\n        userDb = UserDb.getInstance(context);\r\n        userDao = userDb.userDao();\r\n        checkDb = userDao.isDbEmpty();\r\n    }\r\n\r\n    public LiveData&lt;Integer&gt; isDbEmpty(){\r\n        return checkDb;\r\n    }\r\n\r\n    }  \r\n\r\n**UserViewModel.java**\r\n\r\n    public class UserViewModel extends AndroidViewModel {\r\n\r\n    private UserRepository repo;\r\n    private LiveData&lt;Integer&gt; checkDb;\r\n\r\n    public UserViewModel(@NonNull Application application) {\r\n        super(application);\r\n\r\n        repo = new UserRepository(application);\r\n        checkDb = repo.isDbEmpty();\r\n     }\r\n\r\n    public LiveData&lt;Integer&gt; getCheckDb() {\r\n        return checkDb;\r\n     }\r\n    }\r\n\r\n**MainActivity.java**\r\n\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_main);\r\n     Toolbar toolbar = findViewById(R.id.toolbar);\r\n     setSupportActionBar(toolbar);\r\n\r\n     userRepository = new UserRepository(this);\r\n        userModel = ViewModelProviders.of(MainActivity.this).get(UserViewModel.class);\r\n\r\n\r\n     userModel.getCheckDb().observe(this, new Observer&lt;Integer&gt;() {\r\n            @Override\r\n            public void onChanged(Integer rowCount) {\r\n\r\n                if(rowCount == 0){\r\n                    userRepository.getUserList();\r\n                }\r\n            }\r\n        });\r\n\r\n     }\r\n\r\nSomeone please let me know what I am doing wrong. Any help would be appreciated.\r\n\r\n**THANKS** ","title":"How to check if room database is empty or not","body":"<p>I am trying to check if room database is empty or not before making a network call.\nbut it is showing below error.</p>\n\n<blockquote>\n  <p>error: Not sure how to convert a Cursor to this method's return type (java.lang.Integer). </p>\n</blockquote>\n\n<p>What I have been doing is when app starts I am checking row count in room databse if it is null then I am making a network call.</p>\n\n<p>Below is my code.</p>\n\n<p><strong>UserDao.java</strong></p>\n\n<pre><code>@Dao\npublic interface UserDao {\n\n   @Query(\"SELECT * FROM Users\")\n   LiveData&lt;Integer&gt; isDbEmpty();\n}    \n</code></pre>\n\n<p><strong>UserRepository.java</strong></p>\n\n<pre><code>public class UserRepository {\n\nprivate Context context;\nprivate UserDb userDb;\nprivate LiveData&lt;Integer&gt; checkDb;\nprivate UserDao userDao;\n\n\npublic UserRepository(Context context) {\n    this.context = context;\n    userDb = UserDb.getInstance(context);\n    userDao = userDb.userDao();\n    checkDb = userDao.isDbEmpty();\n}\n\npublic LiveData&lt;Integer&gt; isDbEmpty(){\n    return checkDb;\n}\n\n}  \n</code></pre>\n\n<p><strong>UserViewModel.java</strong></p>\n\n<pre><code>public class UserViewModel extends AndroidViewModel {\n\nprivate UserRepository repo;\nprivate LiveData&lt;Integer&gt; checkDb;\n\npublic UserViewModel(@NonNull Application application) {\n    super(application);\n\n    repo = new UserRepository(application);\n    checkDb = repo.isDbEmpty();\n }\n\npublic LiveData&lt;Integer&gt; getCheckDb() {\n    return checkDb;\n }\n}\n</code></pre>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code> @Override\n protected void onCreate(Bundle savedInstanceState) {\n super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_main);\n Toolbar toolbar = findViewById(R.id.toolbar);\n setSupportActionBar(toolbar);\n\n userRepository = new UserRepository(this);\n    userModel = ViewModelProviders.of(MainActivity.this).get(UserViewModel.class);\n\n\n userModel.getCheckDb().observe(this, new Observer&lt;Integer&gt;() {\n        @Override\n        public void onChanged(Integer rowCount) {\n\n            if(rowCount == 0){\n                userRepository.getUserList();\n            }\n        }\n    });\n\n }\n</code></pre>\n\n<p>Someone please let me know what I am doing wrong. Any help would be appreciated.</p>\n\n<p><strong>THANKS</strong> </p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1459802295,"creation_date":1459802295,"answer_id":36412442,"question_id":36411947,"body_markdown":"Assuming that the controller you show is mapped to the context `/api/user`, then the reason is because you&#39;ve added the line `web.ignoring().antMatchers(&quot;/api/user&quot;);` to your security configuration, which means that all requests to that controller are not secured, and thus also don&#39;t have a SecurityContext. Remove that line, so that Spring Security secures it.\r\n\r\nExcerpt from the Javadoc of the ignoring method:\r\n\r\n&gt;  Web Security provided by Spring Security (including the SecurityContext) will not be available on HttpServletRequest that match.","title":"Spring Security getAuthentication() returns null","body":"<p>Assuming that the controller you show is mapped to the context <code>/api/user</code>, then the reason is because you've added the line <code>web.ignoring().antMatchers(\"/api/user\");</code> to your security configuration, which means that all requests to that controller are not secured, and thus also don't have a SecurityContext. Remove that line, so that Spring Security secures it.</p>\n\n<p>Excerpt from the Javadoc of the ignoring method:</p>\n\n<blockquote>\n  <p>Web Security provided by Spring Security (including the SecurityContext) will not be available on HttpServletRequest that match.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646665644,"creation_date":1646665644,"answer_id":71383094,"question_id":36411947,"body_markdown":"Another reason might be you&#39;ve spun up another thread to the original one requesting the resource.\r\nThat also happens when doing a `parallelStream().foreach`.","title":"Spring Security getAuthentication() returns null","body":"<p>Another reason might be you've spun up another thread to the original one requesting the resource.\nThat also happens when doing a <code>parallelStream().foreach</code>.</p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664139711,"creation_date":1664139711,"answer_id":73847816,"question_id":36411947,"body_markdown":"If you want to get the `Authentication` object from a component class which is included in the Spring Security configuration you may use the following command.\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication()\r\n\r\nFor all the other cases, if you want to get the `Authentication` object, you may get it using the `HttpServletRequest` which is available to any class in the Spring Context.\r\n\r\n    Object sc = request.getSession().getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\r\n    if (!(sc instanceof SecurityContext)) {\r\n        // Something strange is happening\r\n    }\r\n    Authentication authentication = ((SecurityContext) sc).getAuthentication();\r\n","title":"Spring Security getAuthentication() returns null","body":"<p>If you want to get the <code>Authentication</code> object from a component class which is included in the Spring Security configuration you may use the following command.</p>\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication()\n</code></pre>\n<p>For all the other cases, if you want to get the <code>Authentication</code> object, you may get it using the <code>HttpServletRequest</code> which is available to any class in the Spring Context.</p>\n<pre><code>Object sc = request.getSession().getAttribute(HttpSessionSecurityContextRepository.SPRING_SECURITY_CONTEXT_KEY);\nif (!(sc instanceof SecurityContext)) {\n    // Something strange is happening\n}\nAuthentication authentication = ((SecurityContext) sc).getAuthentication();\n</code></pre>\n"}],"owner":{"account_id":3823130,"reputation":1991,"user_id":3170702,"accept_rate":39,"display_name":"user3170702"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22260,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36412442,"answer_count":3,"score":7,"last_activity_date":1664139711,"creation_date":1459800473,"question_id":36411947,"body_markdown":"I&#39;m trying the return the currently logged in user from my Spring Boot + AngularJS application, but `SecurityContextHolder.getContext().getAuthentication()` returns null. \r\n\r\nSecurity config:\r\n\r\n    @Configuration\r\n    @Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                .inMemoryAuthentication()\r\n                .withUser(&quot;test&quot;).password(&quot;test&quot;).roles(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .formLogin().and()\r\n                .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/index.html&quot;, &quot;/login.html&quot;, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated().and()\r\n                .addFilterAfter(new CsrfHeaderFilter(), CsrfFilter.class)\r\n                .csrf().csrfTokenRepository(csrfTokenRepository());\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring().antMatchers(&quot;/bower_components/**&quot;);\r\n            web.ignoring().antMatchers(&quot;/js/**&quot;);\r\n            web.ignoring().antMatchers(&quot;/css/**&quot;);\r\n            web.ignoring().antMatchers(&quot;/api/user&quot;);\r\n        }\r\n    \r\n        private static CsrfTokenRepository csrfTokenRepository() {\r\n            HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n            repository.setHeaderName(&quot;X-XSRF-TOKEN&quot;);\r\n            return repository;\r\n        }\r\n    }\r\n\r\nController:\r\n\r\n    @RequestMapping(value=&quot;/user&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public User user() {\r\n        User user = new User();\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        if (auth != null) {\r\n            String name = auth.getName();\r\n            user.setUsername(name);\r\n        }\r\n        return user;\r\n    }\r\n\r\n","title":"Spring Security getAuthentication() returns null","body":"<p>I'm trying the return the currently logged in user from my Spring Boot + AngularJS application, but <code>SecurityContextHolder.getContext().getAuthentication()</code> returns null. </p>\n\n<p>Security config:</p>\n\n<pre><code>@Configuration\n@Order(SecurityProperties.ACCESS_OVERRIDE_ORDER)\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n            .withUser(\"test\").password(\"test\").roles(\"USER\", \"ADMIN\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .formLogin().and()\n            .logout().logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\")).and()\n            .authorizeRequests()\n            .antMatchers(\"/index.html\", \"/login.html\", \"/\").permitAll()\n            .anyRequest().authenticated().and()\n            .addFilterAfter(new CsrfHeaderFilter(), CsrfFilter.class)\n            .csrf().csrfTokenRepository(csrfTokenRepository());\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(\"/bower_components/**\");\n        web.ignoring().antMatchers(\"/js/**\");\n        web.ignoring().antMatchers(\"/css/**\");\n        web.ignoring().antMatchers(\"/api/user\");\n    }\n\n    private static CsrfTokenRepository csrfTokenRepository() {\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(\"X-XSRF-TOKEN\");\n        return repository;\n    }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value=\"/user\", method = RequestMethod.GET)\n@ResponseBody\npublic User user() {\n    User user = new User();\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    if (auth != null) {\n        String name = auth.getName();\n        user.setUsername(name);\n    }\n    return user;\n}\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":23052429,"reputation":16032,"user_id":17169037,"display_name":"Kaushik Chandru"},"score":0,"creation_date":1660294130,"post_id":73330694,"comment_id":129503595,"body_markdown":"Not sure but try updating the min sdk version to 21","body":"Not sure but try updating the min sdk version to 21"},{"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"score":0,"creation_date":1660296529,"post_id":73330694,"comment_id":129504358,"body_markdown":"Done that too, same results.","body":"Done that too, same results."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664141228,"post_id":73330694,"comment_id":130397717,"body_markdown":"`File &gt; Invalidate Caches / Restart` and then `Invalidate and Restart` can sometime help in cases where everything should be correct but you get strange errors like this","body":"<code>File &gt; Invalidate Caches &#47; Restart</code> and then <code>Invalidate and Restart</code> can sometime help in cases where everything should be correct but you get strange errors like this"}],"answers":[{"tags":[],"owner":{"account_id":5505767,"reputation":2307,"user_id":4373661,"display_name":"Hardik Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660290688,"creation_date":1660290688,"answer_id":73330884,"question_id":73330694,"body_markdown":"Try `flutter clean` \r\n`flutter pub get` \r\nbuild and check again.\r\n","title":"Flutter: the plugin requires Android SDK version 31 but it is set to 31?","body":"<p>Try <code>flutter clean</code>\n<code>flutter pub get</code>\nbuild and check again.</p>\n"},{"tags":[],"owner":{"account_id":4859167,"reputation":516,"user_id":3919340,"accept_rate":60,"display_name":"1housand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664139084,"creation_date":1664139084,"answer_id":73847766,"question_id":73330694,"body_markdown":"For me, I had to change the `targetSdkVersion` and it worked.\r\n```\r\nandroid {\r\n    compileSdkVersion 31\r\n    ...\r\n    defaultConfig {\r\n        applicationId &quot;com...&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 31 // &lt;-- Change this\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```","title":"Flutter: the plugin requires Android SDK version 31 but it is set to 31?","body":"<p>For me, I had to change the <code>targetSdkVersion</code> and it worked.</p>\n<pre><code>android {\n    compileSdkVersion 31\n    ...\n    defaultConfig {\n        applicationId &quot;com...&quot;\n        minSdkVersion 21\n        targetSdkVersion 31 // &lt;-- Change this\n        ...\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664139690,"creation_date":1660289551,"question_id":73330694,"body_markdown":"I am tryng to run: flutter build apk --release\r\n\r\nThe warnings and errors:\r\n\r\n```\r\nWarning: The plugin camera_android requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin connectivity_plus requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin firebase_core requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin firebase_crashlytics requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin firebase_messaging requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin firebase_performance requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin flutter_email_sender requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin flutter_local_notifications requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin flutter_plugin_android_lifecycle requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin image_picker_android requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin local_auth_android requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin path_provider_android requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin shared_preferences_android requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nWarning: The plugin sqflite requires Android SDK version 31.\r\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\r\nOne or more plugins require a higher Android SDK version.\r\nFix this issue by adding the following to E:\\Work\\swietelsky\\client\\ink-mobile\\android\\app\\build.gradle:\r\nandroid {\r\n  compileSdkVersion 31\r\n  ...\r\n}\r\n\r\n```\r\n\r\nAs you can see I set it already, it was set even before:\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;my-application-id&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 31\r\n        multiDexEnabled true\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n    }\r\n}\r\n```\r\n\r\n\r\nAs you can see SDK installed: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zuHan.png\r\n\r\nI need advices... Thanks.","title":"Flutter: the plugin requires Android SDK version 31 but it is set to 31?","body":"<p>I am tryng to run: flutter build apk --release</p>\n<p>The warnings and errors:</p>\n<pre><code>Warning: The plugin camera_android requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin connectivity_plus requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin firebase_core requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin firebase_crashlytics requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin firebase_messaging requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin firebase_performance requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin flutter_email_sender requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin flutter_local_notifications requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin flutter_plugin_android_lifecycle requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin image_picker_android requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin local_auth_android requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin path_provider_android requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin shared_preferences_android requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nWarning: The plugin sqflite requires Android SDK version 31.\nFor more information about build configuration, see https://docs.flutter.dev/deployment/android#reviewing-the-build-configuration.\nOne or more plugins require a higher Android SDK version.\nFix this issue by adding the following to E:\\Work\\swietelsky\\client\\ink-mobile\\android\\app\\build.gradle:\nandroid {\n  compileSdkVersion 31\n  ...\n}\n\n</code></pre>\n<p>As you can see I set it already, it was set even before:</p>\n<pre><code>android {\n    compileSdkVersion 31\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId &quot;my-application-id&quot;\n        minSdkVersion 16\n        targetSdkVersion 31\n        multiDexEnabled true\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n}\n</code></pre>\n<p>As you can see SDK installed: <a href=\"https://i.stack.imgur.com/zuHan.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuHan.png\" alt=\"enter image description here\" /></a></p>\n<p>I need advices... Thanks.</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":2,"creation_date":1625357318,"post_id":68240751,"comment_id":120606294,"body_markdown":"I cannot reproduce this issue using the code you have provided.  Are you sure this is the code you were testing?","body":"I cannot reproduce this issue using the code you have provided.  Are you sure this is the code you were testing?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1625357344,"post_id":68240751,"comment_id":120606297,"body_markdown":"`0` is less than `2`, perhaps you could tell us what input you are providing?","body":"<code>0</code> is less than <code>2</code>, perhaps you could tell us what input you are providing?"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1625357908,"post_id":68240751,"comment_id":120606360,"body_markdown":"Like Charlie said, your code doesn&#39;t contain the issue you&#39;re describing. And it is also unable to properly read the input, see: [Scanner is skipping nextLine() after using next() or nextFoo()?](//stackoverflow.com/q/13102045) (but this doesn&#39;t cause the described plural issue)","body":"Like Charlie said, your code doesn&#39;t contain the issue you&#39;re describing. And it is also unable to properly read the input, see: <a href=\"//stackoverflow.com/q/13102045\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> (but this doesn&#39;t cause the described plural issue)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1625374277,"post_id":68240751,"comment_id":120608034,"body_markdown":"What is more ... &quot;0 N&quot; is bad grammar.  In English &gt;correct&lt; grammar would be &quot;0 N&#39;s&quot;!   But even that is incorrect punctuation, because there shouldn&#39;t be an apostrophe in **any** case.","body":"What is more ... &quot;0 N&quot; is bad grammar.  In English &gt;correct&lt; grammar would be &quot;0 N&#39;s&quot;!   But even that is incorrect punctuation, because there shouldn&#39;t be an apostrophe in <b>any</b> case."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1625374734,"post_id":68240751,"comment_id":120608087,"body_markdown":"The most correct form would be `0 &quot;N&quot;s`  or `1 &quot;N&quot;` or `2 &quot;N&quot;s` (or  `0 &#39;N&#39;s`  or `1 &#39;N&#39;` or `2 &#39;N&#39;s` if you prefer.) Note: we are using quotes, not an apostrophe.  An apostrophe - `s` (usually) indicates possession.","body":"The most correct form would be <code>0 &quot;N&quot;s</code>  or <code>1 &quot;N&quot;</code> or <code>2 &quot;N&quot;s</code> (or  <code>0 &#39;N&#39;s</code>  or <code>1 &#39;N&#39;</code> or <code>2 &#39;N&#39;s</code> if you prefer.) Note: we are using quotes, not an apostrophe.  An apostrophe - <code>s</code> (usually) indicates possession."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625468355,"creation_date":1625380910,"answer_id":68242332,"question_id":68240751,"body_markdown":"# Unreproducible\r\n\r\nAs [commented by Charlie Armstrong][1] your problem is not reproducible. You should provide a [MCVE][2]. \r\n\r\nYour `if` cascade *is* faulty. The first `if` tests for `wordCount` being less than two. \r\n\r\n\r\n    if (wordCount &lt; 2) {         // &lt;--- Condition met for count of 0 or 1. \r\n\r\nZero is less than two. So the first test succeeds, and its code runs. \r\n\r\nYour second `if` test for less than zero is redundant. That second `if`:\r\n\r\n    else if (wordCount == 0) {   // &lt;--- Never reaches this point for 0 or 1.\r\n\r\n**will never execute** for a `wordCount` of 0 or 1. The first test `if (wordCount &lt; 2) {` will be true for a `wordCount` of zero (or one), so its `System.out.println` will run, and the `if` cascade ends. So we never have a chance to test if the count is zero. \r\n\r\nFor your rule of &quot;if there are 0 n&#39;s in that word, it should display 0 n&quot;, change your code to:\r\n\r\n\r\n      if ( wordCount &gt; 1 ) {  // For a count of 2 or more.\r\n         System.out.println(wordCount + &quot; &quot; + userLetter + &quot;&#39;s&quot;);\r\n      }\r\n      else {  // Else use singular for count of 0 or 1. (Ignoring negative numbers.) \r\n         System.out.println(wordCount + &quot; &quot; + userLetter);\r\n      }\r\n\r\n\r\n----------\r\n\r\n\r\nAs [commented by Stephen C][3], you should be using the plural with both zero and with more than one. So your logic could be reduced checking if the count is not one, in which case you append the plural `s`. See code example further down in this Answer.\r\n\r\nBy the way, we can replace much of your code by letting Java do the heavy lifting via [`Collections.frequency`][4]. Read on. \r\n\r\n# Avoid `char` \r\n\r\nThe `char` type is obsolete, unable to represent even half of the characters defined in Unicode. \r\n\r\n## Unicode code point\r\n\r\nInstead, learn to use Unicode [code point][5] integer numbers when working with individual characters.\r\n\r\nYou can turn a string into an `IntStream` to get a series of `int` values, each value being the code point of a character in that string.\r\n\r\nCall `boxed` to convert each streamed `int` primitive into a `Integer` object.\r\n\r\n    List&lt; Integer &gt; codePoints = &quot;Java&quot;.codePoints().boxed().toList() ;  // Prior to Java 16, use `.collect( Collectors.toList() )` in place of `.toList()`.\r\n    Integer codePoint = &quot;a&quot;.codePoints().toArray()[0] ;\r\n    int frequency = Collections.frequency( codePoints , codePoint ) ;\r\n\r\n&gt;frequency = 2 \r\n\r\n\r\n# If result is other than one, append `s`\r\n\r\nReport result.\r\n\r\nAs Stephen C commented, in proper English your target letter should be wrapped in quotes, ideally [curly-quotes][6], without any use of an apostrophe. Append an `s` for a count of zero or more than one, but omit the `s` for a result of one. \r\n\r\n    String output = String.valueOf( frequency ) + &quot; &quot; + Character.toString( codePoint ) + &quot;&quot; ;\r\n    if ( frequency!= 1 ) {\r\n        output = output + &quot;s&quot; ; \r\n    }\r\n\r\nSee this [code run live at IdeOne.com][7].\r\n\r\n&gt; 2 as\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\nimport java.util.stream.* ;\r\n\r\nclass Ideone\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t    List&lt; Integer &gt; codePoints = &quot;Java&quot;.codePoints().boxed().collect( Collectors.toList() ) ;\r\n\t    Integer codePoint = &quot;a&quot;.codePoints().toArray()[0] ;\r\n\t    int frequency = Collections.frequency( codePoints , codePoint ) ;\r\n\t\r\n\t    String output = String.valueOf( frequency ) + &quot; &quot; + Character.toString( codePoint ) + &quot;&quot; ;\r\n\t    if ( frequency!= 1 ) {\r\n\t        output = output + &quot;s&quot; ; \r\n\t    }\r\n\t\r\n\t\tSystem.out.println( output ) ;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68240751/cannot-count-characters-properly/68242332?noredirect=1#comment120606294_68240751\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [3]: https://stackoverflow.com/questions/68240751/cannot-count-characters-properly/68242332?noredirect=1#comment120608087_68240751\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\r\n  [5]: https://en.wikipedia.org/wiki/Code_point\r\n  [6]: https://en.m.wikipedia.org/wiki/Quotation_mark#In_English\r\n  [7]: https://ideone.com/hU1NCQ","title":"Cannot count characters properly","body":"<h1>Unreproducible</h1>\n<p>As <a href=\"https://stackoverflow.com/questions/68240751/cannot-count-characters-properly/68242332?noredirect=1#comment120606294_68240751\">commented by Charlie Armstrong</a> your problem is not reproducible. You should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>.</p>\n<p>Your <code>if</code> cascade <em>is</em> faulty. The first <code>if</code> tests for <code>wordCount</code> being less than two.</p>\n<pre><code>if (wordCount &lt; 2) {         // &lt;--- Condition met for count of 0 or 1. \n</code></pre>\n<p>Zero is less than two. So the first test succeeds, and its code runs.</p>\n<p>Your second <code>if</code> test for less than zero is redundant. That second <code>if</code>:</p>\n<pre><code>else if (wordCount == 0) {   // &lt;--- Never reaches this point for 0 or 1.\n</code></pre>\n<p><strong>will never execute</strong> for a <code>wordCount</code> of 0 or 1. The first test <code>if (wordCount &lt; 2) {</code> will be true for a <code>wordCount</code> of zero (or one), so its <code>System.out.println</code> will run, and the <code>if</code> cascade ends. So we never have a chance to test if the count is zero.</p>\n<p>For your rule of &quot;if there are 0 n's in that word, it should display 0 n&quot;, change your code to:</p>\n<pre><code>  if ( wordCount &gt; 1 ) {  // For a count of 2 or more.\n     System.out.println(wordCount + &quot; &quot; + userLetter + &quot;'s&quot;);\n  }\n  else {  // Else use singular for count of 0 or 1. (Ignoring negative numbers.) \n     System.out.println(wordCount + &quot; &quot; + userLetter);\n  }\n</code></pre>\n<hr />\n<p>As <a href=\"https://stackoverflow.com/questions/68240751/cannot-count-characters-properly/68242332?noredirect=1#comment120608087_68240751\">commented by Stephen C</a>, you should be using the plural with both zero and with more than one. So your logic could be reduced checking if the count is not one, in which case you append the plural <code>s</code>. See code example further down in this Answer.</p>\n<p>By the way, we can replace much of your code by letting Java do the heavy lifting via <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Collections.frequency</code></a>. Read on.</p>\n<h1>Avoid <code>char</code></h1>\n<p>The <code>char</code> type is obsolete, unable to represent even half of the characters defined in Unicode.</p>\n<h2>Unicode code point</h2>\n<p>Instead, learn to use Unicode <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers when working with individual characters.</p>\n<p>You can turn a string into an <code>IntStream</code> to get a series of <code>int</code> values, each value being the code point of a character in that string.</p>\n<p>Call <code>boxed</code> to convert each streamed <code>int</code> primitive into a <code>Integer</code> object.</p>\n<pre><code>List&lt; Integer &gt; codePoints = &quot;Java&quot;.codePoints().boxed().toList() ;  // Prior to Java 16, use `.collect( Collectors.toList() )` in place of `.toList()`.\nInteger codePoint = &quot;a&quot;.codePoints().toArray()[0] ;\nint frequency = Collections.frequency( codePoints , codePoint ) ;\n</code></pre>\n<blockquote>\n<p>frequency = 2</p>\n</blockquote>\n<h1>If result is other than one, append <code>s</code></h1>\n<p>Report result.</p>\n<p>As Stephen C commented, in proper English your target letter should be wrapped in quotes, ideally <a href=\"https://en.m.wikipedia.org/wiki/Quotation_mark#In_English\" rel=\"nofollow noreferrer\">curly-quotes</a>, without any use of an apostrophe. Append an <code>s</code> for a count of zero or more than one, but omit the <code>s</code> for a result of one.</p>\n<pre><code>String output = String.valueOf( frequency ) + &quot; &quot; + Character.toString( codePoint ) + &quot;&quot; ;\nif ( frequency!= 1 ) {\n    output = output + &quot;s&quot; ; \n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/hU1NCQ\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2 as</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nimport java.util.stream.* ;\n\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        List&lt; Integer &gt; codePoints = &quot;Java&quot;.codePoints().boxed().collect( Collectors.toList() ) ;\n        Integer codePoint = &quot;a&quot;.codePoints().toArray()[0] ;\n        int frequency = Collections.frequency( codePoints , codePoint ) ;\n    \n        String output = String.valueOf( frequency ) + &quot; &quot; + Character.toString( codePoint ) + &quot;&quot; ;\n        if ( frequency!= 1 ) {\n            output = output + &quot;s&quot; ; \n        }\n    \n        System.out.println( output ) ;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625412304,"creation_date":1625382738,"answer_id":68242501,"question_id":68240751,"body_markdown":"One of the alternatives to avoid any branching in the first place would be to always append &quot;`(s)`&quot; in the end.:\r\n```\r\nSystem.out.println(wordCount + &quot; &quot; + userLetter + &quot;(s)&quot;);\r\n```\r\nAs Stephen C mentioned, an apostrophe &quot;``&quot;, although sometimes used in the sense you have, would usually indicate a [possession](https://en.wikipedia.org/wiki/English_possessive) as in n **&#39;s** length or even n **&#39;s** frequency. This brings me to more alternatives:\r\n```\r\nSystem.out.println(userLetter + &quot;&#39;s frequency&quot; + &quot;: &quot; + wordCount);\r\n```\r\nOR\r\n```\r\nSystem.out.println(&quot;The number of times the letter &quot; + userLetter + &quot; appears is &quot; + wordCount);\r\n```   \r\nIn addition to the pluralization issue, it is worth noting that after the execution of this line:\r\n```\r\nuserLetter = scnr.next().charAt(0)\r\n```\r\na trailing new line is left in the input source. This is a subtle but one of the most common programming errors.\r\nWhen the next line is executed:\r\n```\r\nuserWord = scnr.nextLine();\r\n```\r\nIt reads in that trailing new line and ignores your second input and your `nextLine()` returns a string with whitespace. You can verify this by printing the values of `userLetter` and `userWord` to the console.\r\n\r\nChange the former line to:\r\n```\r\nuserLetter = scnr.nextLine().charAt(0);\r\n```\r\nThis will consume the input with the trailing newline without leaving any traces.\r\n","title":"Cannot count characters properly","body":"<p>One of the alternatives to avoid any branching in the first place would be to always append &quot;<code>(s)</code>&quot; in the end.:</p>\n<pre><code>System.out.println(wordCount + &quot; &quot; + userLetter + &quot;(s)&quot;);\n</code></pre>\n<p>As Stephen C mentioned, an apostrophe &quot;<code></code>&quot;, although sometimes used in the sense you have, would usually indicate a <a href=\"https://en.wikipedia.org/wiki/English_possessive\" rel=\"nofollow noreferrer\">possession</a> as in n <strong>'s</strong> length or even n <strong>'s</strong> frequency. This brings me to more alternatives:</p>\n<pre><code>System.out.println(userLetter + &quot;'s frequency&quot; + &quot;: &quot; + wordCount);\n</code></pre>\n<p>OR</p>\n<pre><code>System.out.println(&quot;The number of times the letter &quot; + userLetter + &quot; appears is &quot; + wordCount);\n</code></pre>\n<p>In addition to the pluralization issue, it is worth noting that after the execution of this line:</p>\n<pre><code>userLetter = scnr.next().charAt(0)\n</code></pre>\n<p>a trailing new line is left in the input source. This is a subtle but one of the most common programming errors.\nWhen the next line is executed:</p>\n<pre><code>userWord = scnr.nextLine();\n</code></pre>\n<p>It reads in that trailing new line and ignores your second input and your <code>nextLine()</code> returns a string with whitespace. You can verify this by printing the values of <code>userLetter</code> and <code>userWord</code> to the console.</p>\n<p>Change the former line to:</p>\n<pre><code>userLetter = scnr.nextLine().charAt(0);\n</code></pre>\n<p>This will consume the input with the trailing newline without leaving any traces.</p>\n"},{"tags":[],"owner":{"account_id":14847021,"reputation":301,"user_id":10722088,"display_name":"Simone Lungarella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625387920,"creation_date":1625387598,"answer_id":68242963,"question_id":68240751,"body_markdown":"I tried to follow some of the proposed solutions but they didn&#39;t work for me, I managed to find another solution that may fit your intention:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter the word: &quot;);\r\n        String userWord = scnr.nextLine();\r\n\r\n        System.out.print(&quot;Enter the letter: &quot;);\r\n        String userLetter = scnr.nextLine();\r\n\r\n        List&lt;Character&gt; chars = userWord.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\r\n        Character targetChar = userLetter.charAt(0);\r\n\r\n        final int frequency = Collections.frequency(chars, targetChar);\r\n\r\n        if (frequency &lt; 2) {\r\n            System.out.println(frequency + &quot; &quot; + userLetter);\r\n         }\r\n         else if (frequency == 0) {\r\n            System.out.println(frequency + &quot; &quot; + userLetter);\r\n         }\r\n         else {\r\n            System.out.println(frequency + &quot; &quot; + userLetter + &quot;&#39;s&quot;);\r\n         }\r\n\r\n        scnr.close();\r\n    }","title":"Cannot count characters properly","body":"<p>I tried to follow some of the proposed solutions but they didn't work for me, I managed to find another solution that may fit your intention:</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scnr = new Scanner(System.in);\n\n    System.out.print(&quot;Enter the word: &quot;);\n    String userWord = scnr.nextLine();\n\n    System.out.print(&quot;Enter the letter: &quot;);\n    String userLetter = scnr.nextLine();\n\n    List&lt;Character&gt; chars = userWord.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toList());\n    Character targetChar = userLetter.charAt(0);\n\n    final int frequency = Collections.frequency(chars, targetChar);\n\n    if (frequency &lt; 2) {\n        System.out.println(frequency + &quot; &quot; + userLetter);\n     }\n     else if (frequency == 0) {\n        System.out.println(frequency + &quot; &quot; + userLetter);\n     }\n     else {\n        System.out.println(frequency + &quot; &quot; + userLetter + &quot;'s&quot;);\n     }\n\n    scnr.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11050033,"reputation":1,"user_id":8114818,"display_name":"netdevmike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664139323,"creation_date":1664139323,"answer_id":73847788,"question_id":68240751,"body_markdown":"Your word count is correct, but the if statement has a few issues. \r\n\r\n      if (wordCount == 1) {\r\n         System.out.println(wordCount + &quot; &quot; + userLetter);\r\n      }\r\n      else {\r\n         System.out.println(wordCount + &quot; &quot; + userLetter + &quot;&#39;s&quot;);\r\n      }\r\n\r\nThe question says that if wordcount is anything but 1, add a &#39;s to the end of the answer.","title":"Cannot count characters properly","body":"<p>Your word count is correct, but the if statement has a few issues.</p>\n<pre><code>  if (wordCount == 1) {\n     System.out.println(wordCount + &quot; &quot; + userLetter);\n  }\n  else {\n     System.out.println(wordCount + &quot; &quot; + userLetter + &quot;'s&quot;);\n  }\n</code></pre>\n<p>The question says that if wordcount is anything but 1, add a 's to the end of the answer.</p>\n"}],"owner":{"account_id":22121241,"reputation":21,"user_id":16374443,"display_name":"Emtae2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1664139323,"creation_date":1625356949,"question_id":68240751,"body_markdown":"I&#39;m supposed to have two inputs: One is a character, the other is a string.\r\n \r\nI have to write a program that outputs the amount of times the character appears in the string. \r\n\r\nIn the end, I have been able to get the program to display the proper amount of times the character input appears in the string. \r\n\r\nHowever the problem is I have to be able to output the plural form of the input character if necessary. I do not know what I am doing wrong here, but sometimes it will make something plural when it shouldn&#39;t be... basically, if there are 0 n&#39;s in that word, it should display 0 n... but it displays 0 n&#39;s.\r\n\r\nSorry if my description was terrible.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner (System.in);\r\n      char userLetter;\r\n      String userWord;\r\n      \r\n      userLetter = scnr.next().charAt(0);\r\n      userWord = scnr.nextLine();\r\n      \r\n      int wordCount = 0;\r\n      \r\n      for (int i = 0; i &lt; userWord.length(); i=i+1) {\r\n         if (userWord.charAt(i) == userLetter){\r\n            wordCount = wordCount + 1;\r\n         }}\r\n         \r\n      if (wordCount &lt; 2) {\r\n         System.out.println(wordCount + &quot; &quot; + userLetter);\r\n      }\r\n      else if (wordCount == 0) {\r\n         System.out.println(wordCount + &quot; &quot; + userLetter);\r\n      }\r\n      else {\r\n         System.out.println(wordCount + &quot; &quot; + userLetter + &quot;&#39;s&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\n  ","title":"Cannot count characters properly","body":"<p>I'm supposed to have two inputs: One is a character, the other is a string.</p>\n<p>I have to write a program that outputs the amount of times the character appears in the string.</p>\n<p>In the end, I have been able to get the program to display the proper amount of times the character input appears in the string.</p>\n<p>However the problem is I have to be able to output the plural form of the input character if necessary. I do not know what I am doing wrong here, but sometimes it will make something plural when it shouldn't be... basically, if there are 0 n's in that word, it should display 0 n... but it displays 0 n's.</p>\n<p>Sorry if my description was terrible.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n      Scanner scnr = new Scanner (System.in);\n      char userLetter;\n      String userWord;\n      \n      userLetter = scnr.next().charAt(0);\n      userWord = scnr.nextLine();\n      \n      int wordCount = 0;\n      \n      for (int i = 0; i &lt; userWord.length(); i=i+1) {\n         if (userWord.charAt(i) == userLetter){\n            wordCount = wordCount + 1;\n         }}\n         \n      if (wordCount &lt; 2) {\n         System.out.println(wordCount + &quot; &quot; + userLetter);\n      }\n      else if (wordCount == 0) {\n         System.out.println(wordCount + &quot; &quot; + userLetter);\n      }\n      else {\n         System.out.println(wordCount + &quot; &quot; + userLetter + &quot;'s&quot;);\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664134599,"post_id":73847326,"comment_id":130396659,"body_markdown":"What are you testing? You mock `consumerDao.save` and then verify that it has been called?","body":"What are you testing? You mock <code>consumerDao.save</code> and then verify that it has been called?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664134772,"post_id":73847326,"comment_id":130396697,"body_markdown":"And why don&#39;t you use a real Mono instance? Avoids all the problems with setting up the mock correctly","body":"And why don&#39;t you use a real Mono instance? Avoids all the problems with setting up the mock correctly"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664135177,"post_id":73847326,"comment_id":130396779,"body_markdown":"And why would a Mono call both of its subscribers? It cannot be successful and failed at the same time","body":"And why would a Mono call both of its subscribers? It cannot be successful and failed at the same time"},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":0,"creation_date":1664135589,"post_id":73847326,"comment_id":130396857,"body_markdown":"@knittl, PFB your answers to your both questions.\n1. `verify(consumerDao).save` is not called because it is failing at `when(mono).subscribe(any(Consumer.class), any(Consumer.class));`. On inspecting `any(Consumer.class)`, its value is coming as null and thus throwing NPE.\n2. I used `Mono&lt;Object&gt; emptyMono = Mono.create();`. But I got error argument passed to when() is not a mock.","body":"@knittl, PFB your answers to your both questions. 1. <code>verify(consumerDao).save</code> is not called because it is failing at <code>when(mono).subscribe(any(Consumer.class), any(Consumer.class));</code>. On inspecting <code>any(Consumer.class)</code>, its value is coming as null and thus throwing NPE. 2. I used <code>Mono&lt;Object&gt; emptyMono = Mono.create();</code>. But I got error argument passed to when() is not a mock."},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":0,"creation_date":1664135934,"post_id":73847326,"comment_id":130396919,"body_markdown":"@knittl, The source code is existing and i was asked to write junit for this method. \nDo you know why NPE is coming and what should i do to correct it.","body":"@knittl, The source code is existing and i was asked to write junit for this method.  Do you know why NPE is coming and what should i do to correct it."}],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664136139,"creation_date":1664136139,"answer_id":73847497,"question_id":73847326,"body_markdown":"Your NPE comes from your mock configuration : \r\n```java\r\ndoAnswer(answer -&gt; {\r\n  Consumer&lt;Object&gt; consumer1 = answer.getArgument(0);\r\n  Consumer&lt;Object&gt; consumer2 = answer.getArgument(1);\r\n  consumer1.accept(new Object());\r\n  consumer2.accept(new Object());\r\n  return null; // You return null instead of a valid Disposable\r\n    }).when(mono).subscribe(any(Consumer.class), any(Consumer.class));\r\n```\r\n`subscribe` method return a `Disposable`. You have to provide one.","title":"Mock consumers interface in subscribe method","body":"<p>Your NPE comes from your mock configuration :</p>\n<pre class=\"lang-java prettyprint-override\"><code>doAnswer(answer -&gt; {\n  Consumer&lt;Object&gt; consumer1 = answer.getArgument(0);\n  Consumer&lt;Object&gt; consumer2 = answer.getArgument(1);\n  consumer1.accept(new Object());\n  consumer2.accept(new Object());\n  return null; // You return null instead of a valid Disposable\n    }).when(mono).subscribe(any(Consumer.class), any(Consumer.class));\n</code></pre>\n<p><code>subscribe</code> method return a <code>Disposable</code>. You have to provide one.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664136746,"creation_date":1664136322,"answer_id":73847519,"question_id":73847326,"body_markdown":"Don&#39;t mock non-service classes. Mocking `Mono`s or `Optional`s or `CompletableFuture`s almost always leads to problems (I have also seen real test code which created and set up mocks for `List`s and `Map`s). Simply return a real instance:\r\n\r\n```\r\nMockito.when(consumerDao.save(any(SchedularStatus)))\r\n        .thenAnswer(a -&gt; Mono.just(new Object()));\r\n```\r\n\r\nAnd a second test which sets up the mock to return a failed Mono (`Mono.error(new Exception())`).\r\n\r\nBut then again, your test is not really testing anything (or performing very questionable actions), because:\r\n\r\n1. You mock the method that you are verifying\r\n2. Your mocked mono is successful and failed at the same time\r\n3. You are never calling a method on your class under test\r\n4. Your consumers don&#39;t do anything really, so why bother calling them?","title":"Mock consumers interface in subscribe method","body":"<p>Don't mock non-service classes. Mocking <code>Mono</code>s or <code>Optional</code>s or <code>CompletableFuture</code>s almost always leads to problems (I have also seen real test code which created and set up mocks for <code>List</code>s and <code>Map</code>s). Simply return a real instance:</p>\n<pre><code>Mockito.when(consumerDao.save(any(SchedularStatus)))\n        .thenAnswer(a -&gt; Mono.just(new Object()));\n</code></pre>\n<p>And a second test which sets up the mock to return a failed Mono (<code>Mono.error(new Exception())</code>).</p>\n<p>But then again, your test is not really testing anything (or performing very questionable actions), because:</p>\n<ol>\n<li>You mock the method that you are verifying</li>\n<li>Your mocked mono is successful and failed at the same time</li>\n<li>You are never calling a method on your class under test</li>\n<li>Your consumers don't do anything really, so why bother calling them?</li>\n</ol>\n"}],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73847519,"answer_count":2,"score":0,"last_activity_date":1664136746,"creation_date":1664134275,"question_id":73847326,"body_markdown":"I am trying to mock two consumer interfaces inside subscribe method\r\n\r\nConsumerService.java\r\n\r\n      @Autowired\r\n      ConsumerDao consumerDao;\r\n      \r\n      public void insertStatus(){\r\n      \r\n      SchedularStatus schedularStatus = new SchedularStatus();\r\n      Mono&lt;Object&gt; savedConsumer =  consumerDao.save(schedularStatus);\r\n      savedConsumer.subscribe(success -&gt; Log.info(&quot;consumer data saved&quot;)),\r\n                (error-&gt; Log.error(&quot;Error while saving schedular data));&quot; \r\n    }\r\n Below Junit test code I have tried\r\n\r\nConsumerServiceTest.java\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ConsumerServiceTest {\r\n     \r\n    @InjectMock\r\n    ConsumerService consumerService;\r\n\r\n    @Mock\r\n    Mono&lt;Object&gt; mono;\r\n    \r\n    @Mock\r\n    ConsumerDao consumerDao;\r\n    \r\n    @Test\r\n    void testInsertStatus(){\r\n\r\n    Mockito.when(consumerDao.save(any(SchedularStatus))).thenReturn(mono);\r\n    doAnswer(answer -&gt; {\r\n      Consumer&lt;Object&gt; consumer1 = answer.getArgument(0);\r\n      Consumer&lt;Object&gt; consumer2 = answer.getArgument(1);\r\n      consumer1.accept(new Object());\r\n      consumer2.accept(new Object());\r\n      return null;\r\n        }).when(mono).subscribe(any(Consumer.class), any(Consumer.class));\r\n      Mockto.verify(consumerDao).save(any(SchedularStatus.class));\r\n    }\r\n    \r\n\r\nBut I am getting Nullpointer Exception\r\n\r\n    java.lang.NullPointerException : errorConsumer\r\n        at java.util.Objects.requireNonNull(Ojbects.java:228)\r\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4278)\r\n\r\n","title":"Mock consumers interface in subscribe method","body":"<p>I am trying to mock two consumer interfaces inside subscribe method</p>\n<p>ConsumerService.java</p>\n<pre><code>  @Autowired\n  ConsumerDao consumerDao;\n  \n  public void insertStatus(){\n  \n  SchedularStatus schedularStatus = new SchedularStatus();\n  Mono&lt;Object&gt; savedConsumer =  consumerDao.save(schedularStatus);\n  savedConsumer.subscribe(success -&gt; Log.info(&quot;consumer data saved&quot;)),\n            (error-&gt; Log.error(&quot;Error while saving schedular data));&quot; \n}\n</code></pre>\n<p>Below Junit test code I have tried</p>\n<p>ConsumerServiceTest.java</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ConsumerServiceTest {\n \n@InjectMock\nConsumerService consumerService;\n\n@Mock\nMono&lt;Object&gt; mono;\n\n@Mock\nConsumerDao consumerDao;\n\n@Test\nvoid testInsertStatus(){\n\nMockito.when(consumerDao.save(any(SchedularStatus))).thenReturn(mono);\ndoAnswer(answer -&gt; {\n  Consumer&lt;Object&gt; consumer1 = answer.getArgument(0);\n  Consumer&lt;Object&gt; consumer2 = answer.getArgument(1);\n  consumer1.accept(new Object());\n  consumer2.accept(new Object());\n  return null;\n    }).when(mono).subscribe(any(Consumer.class), any(Consumer.class));\n  Mockto.verify(consumerDao).save(any(SchedularStatus.class));\n}\n</code></pre>\n<p>But I am getting Nullpointer Exception</p>\n<pre><code>java.lang.NullPointerException : errorConsumer\n    at java.util.Objects.requireNonNull(Ojbects.java:228)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4278)\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664032160,"post_id":73838216,"comment_id":130380880,"body_markdown":"You do not have access to files in `Downloads/` on Android 11+, unless your app is the one that downloaded it. Please consider using the Storage Access Framework (`ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument`) instead.","body":"You do not have access to files in <code>Downloads&#47;</code> on Android 11+, unless your app is the one that downloaded it. Please consider using the Storage Access Framework (<code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code>) instead."},{"owner":{"account_id":12825431,"reputation":143,"user_id":11802483,"display_name":"Abhijit"},"score":0,"creation_date":1664032288,"post_id":73838216,"comment_id":130380907,"body_markdown":"it has file access ```File downloadFile = new File(&quot;/storage/emulated/0/MyDownload/abcd.mp4&quot;);\nFileOutputStream outputStream = new FileOutputStream(downloadFile, true);``` it works and file write is ok","body":"it has file access <code>File downloadFile = new File(&quot;&#47;storage&#47;emulated&#47;0&#47;MyDownload&#47;abcd.mp4&quot;); FileOutputStream outputStream = new FileOutputStream(downloadFile, true);</code> it works and file write is ok"}],"answers":[{"tags":[],"owner":{"account_id":7372580,"reputation":659,"user_id":5612329,"accept_rate":93,"display_name":"ABHIJIT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664136254,"creation_date":1664136254,"answer_id":73847510,"question_id":73838216,"body_markdown":"```lang-java\r\nString name = &quot;------------------.mp4&quot;;\r\nfinal byte[] utf8Bytes = name.getBytes(StandardCharsets.UTF_8);\r\nif(utf8Bytes.length &gt; 255) {\r\n\tname = new String(Arrays.copyOfRange(utf8Bytes, 0, 255), StandardCharsets.UTF_8);\r\n}\r\nSystem.out.println(name);\r\n```","title":"Android Java file create java.io.FileNotFoundException (File name too long)","body":"<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;------------------.mp4&quot;;\nfinal byte[] utf8Bytes = name.getBytes(StandardCharsets.UTF_8);\nif(utf8Bytes.length &gt; 255) {\n    name = new String(Arrays.copyOfRange(utf8Bytes, 0, 255), StandardCharsets.UTF_8);\n}\nSystem.out.println(name);\n</code></pre>\n"}],"owner":{"account_id":12825431,"reputation":143,"user_id":11802483,"display_name":"Abhijit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73847510,"answer_count":1,"score":2,"last_activity_date":1664136254,"creation_date":1664031570,"question_id":73838216,"body_markdown":"I have a small Java code in Android Studio. I run it in emulator (Android 7.1.1 API 25).\r\n\r\nHow I validate a file name and file name length?\r\n\r\nShould I check the length with path name or only file name!\r\n\r\nI found Android support 255 character as a file name. \r\n\r\nFile name text in Language Bengali (UNICODE UTF-8)\r\n\r\n```lang-java\r\nFile downloadFile = new File(&quot;/storage/emulated/0/MyDownload/                  .mp4&quot;);\r\nFileOutputStream outputStream = new FileOutputStream(downloadFile, true);\r\n```\r\n\r\n```lang-java\r\ndownloadFile.toString().length() // OUTPUT: 142\r\n```\r\n**ERROR:** java.io.FileNotFoundException: /storage/emulated/0/MyDownload/                  .mp4 (File name too long)","title":"Android Java file create java.io.FileNotFoundException (File name too long)","body":"<p>I have a small Java code in Android Studio. I run it in emulator (Android 7.1.1 API 25).</p>\n<p>How I validate a file name and file name length?</p>\n<p>Should I check the length with path name or only file name!</p>\n<p>I found Android support 255 character as a file name.</p>\n<p>File name text in Language Bengali (UNICODE UTF-8)</p>\n<pre class=\"lang-java prettyprint-override\"><code>File downloadFile = new File(&quot;/storage/emulated/0/MyDownload/                  .mp4&quot;);\nFileOutputStream outputStream = new FileOutputStream(downloadFile, true);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>downloadFile.toString().length() // OUTPUT: 142\n</code></pre>\n<p><strong>ERROR:</strong> java.io.FileNotFoundException: /storage/emulated/0/MyDownload/                  .mp4 (File name too long)</p>\n"},{"tags":["java","spring","spring-boot","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1659088845,"post_id":73164791,"comment_id":129217564,"body_markdown":"`spring.datasource.url` you need to pass the url against this property in your application property","body":"<code>spring.datasource.url</code> you need to pass the url against this property in your application property"},{"owner":{"account_id":25924849,"reputation":13,"user_id":19646866,"display_name":"Rishabh Shrivastava"},"score":0,"creation_date":1659089362,"post_id":73164791,"comment_id":129217768,"body_markdown":"Yes, that I&#39;m passing that&#39;s why this exception.","body":"Yes, that I&#39;m passing that&#39;s why this exception."}],"answers":[{"tags":[],"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664135457,"creation_date":1659090555,"answer_id":73165277,"question_id":73164791,"body_markdown":"As per spring boot documentation they support only below database pooling\r\n\r\n \r\n\r\n - HikariCP\r\n   \r\n -  Tomcat pooling Datasource\r\n   \r\n -  Commons DBCP2\r\n   \r\n -  Oracle UCP &amp; OracleDataSource\r\n   \r\n -  Spring Frameworks SimpleDriverDataSource\r\n   \r\n - H2 JdbcDataSource\r\n   \r\n - PostgreSQL PGSimpleDataSource\r\n\r\nSo you need to define the `Datasource` manually for `C3P0`\r\n\r\n[https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.connection-pool][1]\r\n\r\n\r\n***Update:***\r\n\r\nThanks [Stephane Nicoll][2] for taking this up and doing the changes in the code to enable the support for CP30.\r\n\r\n**Reference:** [https://github.com/spring-projects/spring-boot/issues/31920][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.connection-pool\r\n  [2]: https://stackoverflow.com/users/613628/stephane-nicoll\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/31920","title":"Unable to find suitable method for property URL? ComboPooledDataSource, Spring Boot DataSourceBuilder 2.7.0","body":"<p>As per spring boot documentation they support only below database pooling</p>\n<ul>\n<li><p>HikariCP</p>\n</li>\n<li><p>Tomcat pooling Datasource</p>\n</li>\n<li><p>Commons DBCP2</p>\n</li>\n<li><p>Oracle UCP &amp; OracleDataSource</p>\n</li>\n<li><p>Spring Frameworks SimpleDriverDataSource</p>\n</li>\n<li><p>H2 JdbcDataSource</p>\n</li>\n<li><p>PostgreSQL PGSimpleDataSource</p>\n</li>\n</ul>\n<p>So you need to define the <code>Datasource</code> manually for <code>C3P0</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.connection-pool\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.sql.datasource.connection-pool</a></p>\n<p><em><strong>Update:</strong></em></p>\n<p>Thanks <a href=\"https://stackoverflow.com/users/613628/stephane-nicoll\">Stephane Nicoll</a> for taking this up and doing the changes in the code to enable the support for CP30.</p>\n<p><strong>Reference:</strong> <a href=\"https://github.com/spring-projects/spring-boot/issues/31920\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31920</a></p>\n"},{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659093249,"creation_date":1659093249,"answer_id":73165809,"question_id":73164791,"body_markdown":"It&#39;s indeed what our documentation states but we used to support C3P0 before. I&#39;ve created https://github.com/spring-projects/spring-boot/issues/31920 to restore the support.","title":"Unable to find suitable method for property URL? ComboPooledDataSource, Spring Boot DataSourceBuilder 2.7.0","body":"<p>It's indeed what our documentation states but we used to support C3P0 before. I've created <a href=\"https://github.com/spring-projects/spring-boot/issues/31920\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31920</a> to restore the support.</p>\n"}],"owner":{"account_id":25924849,"reputation":13,"user_id":19646866,"display_name":"Rishabh Shrivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73165809,"answer_count":2,"score":1,"last_activity_date":1664135457,"creation_date":1659088304,"question_id":73164791,"body_markdown":"I am upgrading to spring boot 2.7.0 from 2.3.12.RELEASE as that has vulnerabilities.\r\nMy application uses c3p0 for connection pooling and I need to keep using that.\r\n\r\n\r\n    Caused by: org.springframework.boot.jdbc.UnsupportedDataSourcePropertyException: Unable to find suitable method for url\r\n    \tat org.springframework.boot.jdbc.UnsupportedDataSourcePropertyException.throwIf(UnsupportedDataSourcePropertyException.java:36) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.jdbc.DataSourceBuilder$ReflectionDataSourceProperties.getMethod(DataSourceBuilder.java:560) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.jdbc.DataSourceBuilder$ReflectionDataSourceProperties.set(DataSourceBuilder.java:542) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.informatica.cloud.service.admin.config.PersistenceConfig.dataSource(PersistenceConfig.java:21) ~[main/:?]\r\n    \tat com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3.CGLIB$dataSource$0(&lt;generated&gt;) ~[main/:?]\r\n    \tat com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3$$FastClassBySpringCGLIB$$4ab5ae17.invoke(&lt;generated&gt;) ~[main/:?]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3.dataSource(&lt;generated&gt;) ~[main/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_332]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_332]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_332]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_332]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\r\n**Property:**\r\n```spring.datasource.type=com.mchange.v2.c3p0.ComboPooledDataSource```\r\n\r\nThe thing that breaks this is the change in DataSourceBuilder in spring boot 2.5.x or higher.\r\n\r\n**DataSourceBuilder:**\r\n\r\n    private enum DataSourceProperty {\r\n    \r\n    \t\tURL(false, &quot;url&quot;, &quot;URL&quot;),\r\n\r\nDataSourceBuilder will look for setUrl or setURL in the ComboPooledDataSource class and that class has setJdbcUrl method, hence the exception.\r\n\r\n\r\n**Any suggestions to not create dataSource bean manually and use auto configuration without breaking the code?**\r\n\r\n\r\n**Edit:\r\napplication.properties**\r\n\r\n    spring.datasource.url=jdbc:mysql://db-url:3307/service\r\n    spring.datasource.username=user\r\n    spring.datasource.password=pass\r\n    \r\n    spring.datasource.type=com.mchange.v2.c3p0.ComboPooledDataSource\r\n    spring.datasource.pool.driverClass=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n\r\n","title":"Unable to find suitable method for property URL? ComboPooledDataSource, Spring Boot DataSourceBuilder 2.7.0","body":"<p>I am upgrading to spring boot 2.7.0 from 2.3.12.RELEASE as that has vulnerabilities.\nMy application uses c3p0 for connection pooling and I need to keep using that.</p>\n<pre><code>Caused by: org.springframework.boot.jdbc.UnsupportedDataSourcePropertyException: Unable to find suitable method for url\n    at org.springframework.boot.jdbc.UnsupportedDataSourcePropertyException.throwIf(UnsupportedDataSourcePropertyException.java:36) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.DataSourceBuilder$ReflectionDataSourceProperties.getMethod(DataSourceBuilder.java:560) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.DataSourceBuilder$ReflectionDataSourceProperties.set(DataSourceBuilder.java:542) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:181) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.informatica.cloud.service.admin.config.PersistenceConfig.dataSource(PersistenceConfig.java:21) ~[main/:?]\n    at com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3.CGLIB$dataSource$0(&lt;generated&gt;) ~[main/:?]\n    at com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3$$FastClassBySpringCGLIB$$4ab5ae17.invoke(&lt;generated&gt;) ~[main/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.21.jar:5.3.21]\n    at com.informatica.cloud.service.admin.config.PersistenceConfig$$EnhancerBySpringCGLIB$$6bae0fe3.dataSource(&lt;generated&gt;) ~[main/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_332]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_332]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_332]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_332]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\n</code></pre>\n<p><strong>Property:</strong>\n<code>spring.datasource.type=com.mchange.v2.c3p0.ComboPooledDataSource</code></p>\n<p>The thing that breaks this is the change in DataSourceBuilder in spring boot 2.5.x or higher.</p>\n<p><strong>DataSourceBuilder:</strong></p>\n<pre><code>private enum DataSourceProperty {\n\n        URL(false, &quot;url&quot;, &quot;URL&quot;),\n</code></pre>\n<p>DataSourceBuilder will look for setUrl or setURL in the ComboPooledDataSource class and that class has setJdbcUrl method, hence the exception.</p>\n<p><strong>Any suggestions to not create dataSource bean manually and use auto configuration without breaking the code?</strong></p>\n<p><strong>Edit:\napplication.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://db-url:3307/service\nspring.datasource.username=user\nspring.datasource.password=pass\n\nspring.datasource.type=com.mchange.v2.c3p0.ComboPooledDataSource\nspring.datasource.pool.driverClass=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":["java","testcase"],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664134727,"creation_date":1664134727,"answer_id":73847362,"question_id":73847234,"body_markdown":"You could just tell Scanner to use &quot;:&quot; as a delimiter. `useDelimiter( &quot;[:\\n\\r]&quot;);`.\r\n\r\n    public class ParseColon {\r\n    \r\n       private static final String testVector = &quot;My name:4:3:2:1&quot;;\r\n    \r\n       public static void main( String[] args ) {\r\n          Scanner sc = new Scanner( testVector);\r\n          sc.useDelimiter( &quot;[:\\n\\r]&quot;);\r\n          String name;\r\n          int p1, p2, p3, p4;\r\n    //      IPLTeam[] objarr = new IPLTeam[ 8 ];\r\n          for( int i = 0; i &lt; 1; i++ ) {\r\n             name = sc.next();\r\n             p1 = sc.nextInt();\r\n             p2 = sc.nextInt();\r\n             p3 = sc.nextInt();\r\n             p4 = sc.nextInt();\r\n             System.out.printf( &quot;%s %d %d %d %d\\n&quot;, name, p1, p2, p3, p4 );\r\n          }\r\n    \r\n       }\r\n    }\r\n\r\n","title":"How to Extract integer from an input of this Format in which each attribute is separated by :","body":"<p>You could just tell Scanner to use &quot;:&quot; as a delimiter. <code>useDelimiter( &quot;[:\\n\\r]&quot;);</code>.</p>\n<pre><code>public class ParseColon {\n\n   private static final String testVector = &quot;My name:4:3:2:1&quot;;\n\n   public static void main( String[] args ) {\n      Scanner sc = new Scanner( testVector);\n      sc.useDelimiter( &quot;[:\\n\\r]&quot;);\n      String name;\n      int p1, p2, p3, p4;\n//      IPLTeam[] objarr = new IPLTeam[ 8 ];\n      for( int i = 0; i &lt; 1; i++ ) {\n         name = sc.next();\n         p1 = sc.nextInt();\n         p2 = sc.nextInt();\n         p3 = sc.nextInt();\n         p4 = sc.nextInt();\n         System.out.printf( &quot;%s %d %d %d %d\\n&quot;, name, p1, p2, p3, p4 );\n      }\n\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":18982661,"reputation":1,"user_id":13853756,"display_name":"Manmeet Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664134727,"creation_date":1664133414,"question_id":73847234,"body_markdown":"&gt; Create a class IPLTeam with the attributes Teamname, player1Amount,player2Amount, player3Amount, player4Amount, and remMoney (int). Add a parameterized constructor called IPLTeam(String name, int p1, int p2, int p3, int p4) \r\n\r\nYour program must use an array of objects to get the eight teams details.\r\nCreate a Function called calculateMoney(), to compute the remaining amount for each team and \r\ndisplay the Team Name with the remaining amount for each team.\r\n\r\n**Input format:** \r\n\r\nEach attribute is separated by :\r\n\r\n**TeamName:First_player_amt:Second_player_amt:Third_player_amt:Fouth_player_amt** \r\n\r\nInputs are in the form of Strings that are separated by space  \r\n\r\nExample: \r\n\r\nCSK:15:12:10:8\r\n\r\n\r\n    import java.util.*;\r\n\r\n    class IPLTeam \r\n    {\r\n         String Teamname;\r\n         int player1Amount, player2Amount, player3Amount, player4Amount, remMoney;\r\n         public IPLTeam(String name, int p1, int p2, int p3, int p4) \r\n         {\r\n            Teamname = name;\r\n            player1Amount = p1;\r\n            player2Amount = p2;\r\n            player3Amount = p3;\r\n            player4Amount = p4;\r\n         }\r\n    void calculateMoney() {}\r\n    }\r\n\r\n    public class Main \r\n    {\r\n         public static void main(String[] args) \r\n         {\r\n             Scanner sc = new Scanner(System.in);\r\n             String name;\r\n             int p1, p2, p3, p4;\r\n             IPLTeam[] objarr = new IPLTeam[8];\r\n             for (int i = 0; i &lt; 8; i++) \r\n             {\r\n                 name = sc.nextLine();\r\n                 p1 = sc.nextInt();\r\n                 p2 = sc.nextInt();\r\n                 p3 = sc.nextInt();\r\n                 p4 = sc.nextInt();\r\n                 objarr[i] = new IPLTeam(name, p1, p2, p3, p4);\r\n             }\r\n             sc.close();\r\n         } \r\n     }\r\n\r\nI Have just Done the Basic object Array Input\r\n\r\nCan anyone tell me how to extract the integer from the following input format and make sure that we need to extract only the integer, not the string present in the input (eg: CSK).\r\n\r\nMake sure to check the example given above \r\n","title":"How to Extract integer from an input of this Format in which each attribute is separated by :","body":"<blockquote>\n<p>Create a class IPLTeam with the attributes Teamname, player1Amount,player2Amount, player3Amount, player4Amount, and remMoney (int). Add a parameterized constructor called IPLTeam(String name, int p1, int p2, int p3, int p4)</p>\n</blockquote>\n<p>Your program must use an array of objects to get the eight teams details.\nCreate a Function called calculateMoney(), to compute the remaining amount for each team and\ndisplay the Team Name with the remaining amount for each team.</p>\n<p><strong>Input format:</strong></p>\n<p>Each attribute is separated by :</p>\n<p><strong>TeamName:First_player_amt:Second_player_amt:Third_player_amt:Fouth_player_amt</strong></p>\n<p>Inputs are in the form of Strings that are separated by space</p>\n<p>Example:</p>\n<p>CSK:15:12:10:8</p>\n<pre><code>import java.util.*;\n\nclass IPLTeam \n{\n     String Teamname;\n     int player1Amount, player2Amount, player3Amount, player4Amount, remMoney;\n     public IPLTeam(String name, int p1, int p2, int p3, int p4) \n     {\n        Teamname = name;\n        player1Amount = p1;\n        player2Amount = p2;\n        player3Amount = p3;\n        player4Amount = p4;\n     }\nvoid calculateMoney() {}\n}\n\npublic class Main \n{\n     public static void main(String[] args) \n     {\n         Scanner sc = new Scanner(System.in);\n         String name;\n         int p1, p2, p3, p4;\n         IPLTeam[] objarr = new IPLTeam[8];\n         for (int i = 0; i &lt; 8; i++) \n         {\n             name = sc.nextLine();\n             p1 = sc.nextInt();\n             p2 = sc.nextInt();\n             p3 = sc.nextInt();\n             p4 = sc.nextInt();\n             objarr[i] = new IPLTeam(name, p1, p2, p3, p4);\n         }\n         sc.close();\n     } \n }\n</code></pre>\n<p>I Have just Done the Basic object Array Input</p>\n<p>Can anyone tell me how to extract the integer from the following input format and make sure that we need to extract only the integer, not the string present in the input (eg: CSK).</p>\n<p>Make sure to check the example given above</p>\n"},{"tags":["java","android","timer"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1361095379,"post_id":14919770,"comment_id":20932773,"body_markdown":"PS: in Java, by convention, only classes/interfaces start by upper-case.","body":"PS: in Java, by convention, only classes/interfaces start by upper-case."}],"answers":[{"tags":[],"owner":{"account_id":2315554,"reputation":2566,"user_id":2032712,"display_name":"El Hocko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1361095248,"creation_date":1361094229,"answer_id":14919801,"question_id":14919770,"body_markdown":"That is because of internal scheduling,\r\nthe scheduler calls this method approximately every 0.1 seconds.\r\nHowever, the system itself is accurate.\r\nUse System.currentTimeMillis() to correct this error.\r\n\r\nAndroid itself is no realtime application, but the system is the most accurate source you can get.\r\n\r\nSo programming precise stopwatches for sportsevents for example are no usecase in android ;)\r\n\r\nJust loop and calculate the offset of miliseconds, if the offset is reached, call a method.\r\n\r\nBut think about inaccuracy here too. Calculate the offset always with the start-time (1*0.1 seconds, 2*0.1 seconds...), not with the last value, so minimize inaccuracy here.\r\n","title":"Android timer not precise","body":"<p>That is because of internal scheduling,\nthe scheduler calls this method approximately every 0.1 seconds.\nHowever, the system itself is accurate.\nUse System.currentTimeMillis() to correct this error.</p>\n\n<p>Android itself is no realtime application, but the system is the most accurate source you can get.</p>\n\n<p>So programming precise stopwatches for sportsevents for example are no usecase in android ;)</p>\n\n<p>Just loop and calculate the offset of miliseconds, if the offset is reached, call a method.</p>\n\n<p>But think about inaccuracy here too. Calculate the offset always with the start-time (1*0.1 seconds, 2*0.1 seconds...), not with the last value, so minimize inaccuracy here.</p>\n"},{"tags":[],"owner":{"account_id":9021459,"reputation":1,"user_id":9829416,"display_name":"Pat Overs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664134502,"creation_date":1664134502,"answer_id":73847348,"question_id":14919770,"body_markdown":"Had the same problem with a sailing timer I made. \r\nUse timer.scheduleAtFixedRate instead of timer.schedule. \r\nThis method can still cause tiny amounts of jitter to the scheduled ticks but the errors aren&#39;t cumulative, so the timer remains accurate over a long period. ","title":"Android timer not precise","body":"<p>Had the same problem with a sailing timer I made.\nUse timer.scheduleAtFixedRate instead of timer.schedule.\nThis method can still cause tiny amounts of jitter to the scheduled ticks but the errors aren't cumulative, so the timer remains accurate over a long period.</p>\n"}],"owner":{"account_id":2377138,"reputation":380,"user_id":2080163,"display_name":"Egozy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4189,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14919801,"answer_count":2,"score":5,"last_activity_date":1664134502,"creation_date":1361093863,"question_id":14919770,"body_markdown":"Ok, so, I&#39;m a real beginner with both java and android programming.\r\nI&#39;m trying to make a Basketball application for friendly games. Right now I&#39;m making a shotclock that counts from 24 to 0, plays a sound, and is reseted by a button.\r\n\r\n      \r\n    public class MainActivity extends Activity {\r\n    \tprivate ShotClock shotClock;\r\n    \tprivate TextView shotClockTimer;\r\n    \tprivate Timer timer = new Timer();\r\n    \tprivate Button shotClockReset;\r\n    \tprivate final static int interval = 100;\r\n    \r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\tshotClockTimer = (TextView) findViewById(R.id.shotClock);\r\n    \t\tshotClockReset = (Button)findViewById(R.id.shotClockReset);\r\n    \t\tshotClock = new ShotClock();\r\n    \t\tshotClockReset.setOnClickListener(new OnClickListener(){\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onClick(View v) {\r\n    \t\t\t\tshotClock.shotClockReset();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t});\r\n    \t\ttimer = new Timer();\r\n    \t\ttimer.schedule(new TimerTask() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tTimerMethod();\r\n    \t\t\t}\r\n    \r\n    \t\t}, 0, interval);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate void TimerMethod() {\r\n    \t\tthis.runOnUiThread(Timer_Tick);\r\n    \t}\r\n    \r\n    \tprivate Runnable Timer_Tick = new Runnable() {\r\n    \t\tpublic void run() {\r\n    \t\t\tshotClock.advanceClock();\r\n    \t\t\tshotClockTimer.setText(String.format(&quot;%.1f&quot;,shotClock.getSeconds()));\r\n    \r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\nThe idea is that I have a timer that goes of every 0.1 seconds and update the clock accordingly. This works fine, the clock counts from 24-0 and resets properly. My issue is that it&#39;s not accurate - I tested it with 3 other timers, and it&#39;s always a bit slower: by the time other timers reach 0, this one is only at ~1-1.5 seconds left. What can I do to make it more accurate, besides changing the interval in a primitive way?\r\nPlease, be friendly since I&#39;m new :)\r\nThanks for the help!","title":"Android timer not precise","body":"<p>Ok, so, I'm a real beginner with both java and android programming.\nI'm trying to make a Basketball application for friendly games. Right now I'm making a shotclock that counts from 24 to 0, plays a sound, and is reseted by a button.</p>\n\n<pre><code>public class MainActivity extends Activity {\n    private ShotClock shotClock;\n    private TextView shotClockTimer;\n    private Timer timer = new Timer();\n    private Button shotClockReset;\n    private final static int interval = 100;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        shotClockTimer = (TextView) findViewById(R.id.shotClock);\n        shotClockReset = (Button)findViewById(R.id.shotClockReset);\n        shotClock = new ShotClock();\n        shotClockReset.setOnClickListener(new OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                shotClock.shotClockReset();\n            }\n\n        });\n        timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                TimerMethod();\n            }\n\n        }, 0, interval);\n\n    }\n\n    private void TimerMethod() {\n        this.runOnUiThread(Timer_Tick);\n    }\n\n    private Runnable Timer_Tick = new Runnable() {\n        public void run() {\n            shotClock.advanceClock();\n            shotClockTimer.setText(String.format(\"%.1f\",shotClock.getSeconds()));\n\n        }\n    };\n}\n</code></pre>\n\n<p>The idea is that I have a timer that goes of every 0.1 seconds and update the clock accordingly. This works fine, the clock counts from 24-0 and resets properly. My issue is that it's not accurate - I tested it with 3 other timers, and it's always a bit slower: by the time other timers reach 0, this one is only at ~1-1.5 seconds left. What can I do to make it more accurate, besides changing the interval in a primitive way?\nPlease, be friendly since I'm new :)\nThanks for the help!</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":0,"creation_date":1664144667,"post_id":73845730,"comment_id":130398252,"body_markdown":"have a look at this https://stackoverflow.com/questions/38636254/how-to-convert-json-to-java-object-using-gson","body":"have a look at this <a href=\"https://stackoverflow.com/questions/38636254/how-to-convert-json-to-java-object-using-gson\" title=\"how to convert json to java object using gson\">stackoverflow.com/questions/38636254/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664133677,"creation_date":1664133677,"answer_id":73847266,"question_id":73845730,"body_markdown":"You could define one `TypeAdapter` per complex object defined in your json structure. This could reduce code inside your actual `TypeAdapter` and deport the creation of sub-object in sub-TypeAdapter.\r\n\r\n**DescriptionTypaAdapter.class**\r\n```java\r\npublic class DescriptionTypaAdapter extends TypeAdapter&lt;Description&gt; {\r\n    \r\n    @Override\r\n    public void write(JsonWriter jsonWriter, Description description) throws IOException {\r\n        jsonWriter.beginObject();\r\n        \r\n        jsonWriter.name(&quot;extra&quot;);\r\n        jsonWriter.beginArray();\r\n        // Call specific TypeAdapter to handle transformation of Extra object to Json\r\n        TypeAdapter&lt;Extra&gt; extraTypeAdapter = new Gson().getAdapter(Extra.class);\r\n        for (Extra extra : description.getExtras()) {\r\n            extraTypeAdapter.write(jsonWriter, extra);\r\n        }\r\n        jsonWriter.endArray();\r\n        \r\n        jsonWriter.name(&quot;text&quot;);\r\n        jsonWriter.value(description.getText());\r\n        \r\n        jsonWriter.endObject();\r\n        \r\n    }\r\n}\r\n``` \r\n\r\n**ExtraTypaAdapter.class**\r\n```java\r\npublic class ExtraAdapter extends TypeAdapter&lt;Extra&gt; {\r\n    \r\n    @Override\r\n    public void write(JsonWriter jsonWriter, Extra extra) throws IOException {\r\n        jsonWriter.beginObject();\r\n        // Put here Extra Json build  \r\n        if (extra.isBold()) {\r\n            jsonWriter.name(&quot;bold&quot;);\r\n            jsonWriter.value(true);\r\n        }\r\n        ...\r\n        \r\n        jsonWriter.endObject();\r\n    }\r\n}\r\n```","title":"Is there a better way to write adapters in Gson?","body":"<p>You could define one <code>TypeAdapter</code> per complex object defined in your json structure. This could reduce code inside your actual <code>TypeAdapter</code> and deport the creation of sub-object in sub-TypeAdapter.</p>\n<p><strong>DescriptionTypaAdapter.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DescriptionTypaAdapter extends TypeAdapter&lt;Description&gt; {\n    \n    @Override\n    public void write(JsonWriter jsonWriter, Description description) throws IOException {\n        jsonWriter.beginObject();\n        \n        jsonWriter.name(&quot;extra&quot;);\n        jsonWriter.beginArray();\n        // Call specific TypeAdapter to handle transformation of Extra object to Json\n        TypeAdapter&lt;Extra&gt; extraTypeAdapter = new Gson().getAdapter(Extra.class);\n        for (Extra extra : description.getExtras()) {\n            extraTypeAdapter.write(jsonWriter, extra);\n        }\n        jsonWriter.endArray();\n        \n        jsonWriter.name(&quot;text&quot;);\n        jsonWriter.value(description.getText());\n        \n        jsonWriter.endObject();\n        \n    }\n}\n</code></pre>\n<p><strong>ExtraTypaAdapter.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExtraAdapter extends TypeAdapter&lt;Extra&gt; {\n    \n    @Override\n    public void write(JsonWriter jsonWriter, Extra extra) throws IOException {\n        jsonWriter.beginObject();\n        // Put here Extra Json build  \n        if (extra.isBold()) {\n            jsonWriter.name(&quot;bold&quot;);\n            jsonWriter.value(true);\n        }\n        ...\n        \n        jsonWriter.endObject();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23952877,"reputation":33,"user_id":17944179,"display_name":"LoserEXE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73847266,"answer_count":1,"score":0,"last_activity_date":1664133677,"creation_date":1664119905,"question_id":73845730,"body_markdown":"So I&#39;m pretty new to Gson as a library and Java in general. I feel that there is a better way to write the write function. the reason I had to create a custom adapter was because the json could sometimes return a string instead of a object. Anyway here is my code  :)\r\n\r\n    @Override\r\n    public void write(JsonWriter jsonWriter, Description description) throws IOException {\r\n        jsonWriter.beginObject();\r\n        jsonWriter.name(&quot;extra&quot;);\r\n        jsonWriter.beginArray();\r\n        List&lt;Extra&gt; extra = description.getExtra();\r\n        for (int i = 0; i &lt; extra.size(); i++) {\r\n            writeExtra(jsonWriter, extra.get(i));\r\n        }\r\n        jsonWriter.endArray();\r\n        jsonWriter.name(&quot;text&quot;);\r\n        jsonWriter.value(description.getText());\r\n        jsonWriter.endObject();\r\n    }\r\n\r\n    private void writeExtra(JsonWriter jsonWriter, Extra extra) throws IOException {\r\n        jsonWriter.beginObject();\r\n\r\n        if (extra.isBold()) {\r\n            jsonWriter.name(&quot;bold&quot;);\r\n            jsonWriter.value(true);\r\n        }\r\n\r\n        if (extra.isStrikeThrough()) {\r\n            jsonWriter.name(&quot;strikeThrough&quot;);\r\n            jsonWriter.value(true);\r\n        }\r\n\r\n        if (extra.getColor() != null) {\r\n            jsonWriter.name(&quot;color&quot;);\r\n            jsonWriter.value(extra.getColor());\r\n        }\r\n\r\n        if (extra.getExtra() != null) {\r\n            jsonWriter.name(&quot;extra&quot;);\r\n            jsonWriter.beginArray();\r\n            for (int i = 0; i &lt; extra.getExtra().size(); i++) {\r\n                writeExtra(jsonWriter, extra.getExtra().get(i));\r\n            }\r\n            jsonWriter.endArray();\r\n        }\r\n\r\n        if (extra.getText() != null) {\r\n            jsonWriter.name(&quot;text&quot;);\r\n            jsonWriter.value(extra.getText());\r\n        }\r\n\r\n        jsonWriter.endObject();\r\n    }","title":"Is there a better way to write adapters in Gson?","body":"<p>So I'm pretty new to Gson as a library and Java in general. I feel that there is a better way to write the write function. the reason I had to create a custom adapter was because the json could sometimes return a string instead of a object. Anyway here is my code  :)</p>\n<pre><code>@Override\npublic void write(JsonWriter jsonWriter, Description description) throws IOException {\n    jsonWriter.beginObject();\n    jsonWriter.name(&quot;extra&quot;);\n    jsonWriter.beginArray();\n    List&lt;Extra&gt; extra = description.getExtra();\n    for (int i = 0; i &lt; extra.size(); i++) {\n        writeExtra(jsonWriter, extra.get(i));\n    }\n    jsonWriter.endArray();\n    jsonWriter.name(&quot;text&quot;);\n    jsonWriter.value(description.getText());\n    jsonWriter.endObject();\n}\n\nprivate void writeExtra(JsonWriter jsonWriter, Extra extra) throws IOException {\n    jsonWriter.beginObject();\n\n    if (extra.isBold()) {\n        jsonWriter.name(&quot;bold&quot;);\n        jsonWriter.value(true);\n    }\n\n    if (extra.isStrikeThrough()) {\n        jsonWriter.name(&quot;strikeThrough&quot;);\n        jsonWriter.value(true);\n    }\n\n    if (extra.getColor() != null) {\n        jsonWriter.name(&quot;color&quot;);\n        jsonWriter.value(extra.getColor());\n    }\n\n    if (extra.getExtra() != null) {\n        jsonWriter.name(&quot;extra&quot;);\n        jsonWriter.beginArray();\n        for (int i = 0; i &lt; extra.getExtra().size(); i++) {\n            writeExtra(jsonWriter, extra.getExtra().get(i));\n        }\n        jsonWriter.endArray();\n    }\n\n    if (extra.getText() != null) {\n        jsonWriter.name(&quot;text&quot;);\n        jsonWriter.value(extra.getText());\n    }\n\n    jsonWriter.endObject();\n}\n</code></pre>\n"},{"tags":["java","algorithm","stack"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1663429157,"post_id":73756066,"comment_id":130240102,"body_markdown":"Looks like your code only builds the initial stack of numbers.  Here&#39;s a hint:  you need to separate the even and the odd and then put them into a stack.  The stack would have one half of odd numbers and the other half even numbers.","body":"Looks like your code only builds the initial stack of numbers.  Here&#39;s a hint:  you need to separate the even and the odd and then put them into a stack.  The stack would have one half of odd numbers and the other half even numbers."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1663429918,"post_id":73756066,"comment_id":130240224,"body_markdown":"Looks like you need to sort the stack, but the requirement is unclear. What happens if both numbers are odd, do we keep them in encounter order, or smaller comes first(natural order), something else? Same question about even numbers. And since you actually need to sort, it&#39;s questionable if `Stack` is the best data structure. Perhaps `PriorityQueue` or `ArrayList` would be more appropriate?","body":"Looks like you need to sort the stack, but the requirement is unclear. What happens if both numbers are odd, do we keep them in encounter order, or smaller comes first(natural order), something else? Same question about even numbers. And since you actually need to sort, it&#39;s questionable if <code>Stack</code> is the best data structure. Perhaps <code>PriorityQueue</code> or <code>ArrayList</code> would be more appropriate?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1663430124,"post_id":73756066,"comment_id":130240270,"body_markdown":"@Chaosfire based on the input and expected output in the question, the odds and the even numbers must be in they appeared in the original stack.  For example, if the original stack contains 1,2,3,4,5 then the updated stack would be 1,3,5,2,4.","body":"@Chaosfire based on the input and expected output in the question, the odds and the even numbers must be in they appeared in the original stack.  For example, if the original stack contains 1,2,3,4,5 then the updated stack would be 1,3,5,2,4."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1663455373,"post_id":73756066,"comment_id":130244707,"body_markdown":"Do you care about the order of the elements? For example, would a result of `[1, 3, 5, 7, 2, 4, 6]` be OK?","body":"Do you care about the order of the elements? For example, would a result of <code>[1, 3, 5, 7, 2, 4, 6]</code> be OK?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663432035,"creation_date":1663432035,"answer_id":73756584,"question_id":73756066,"body_markdown":"`Stack` is subclass of `AbstractList`, so you can use [List.sort()][1] by providing custom [Comparator][2].\r\n```\r\npublic class Temp {\r\n\r\n    public static void main(String[] args) {\r\n        Stack&lt;Integer&gt; p = new Stack&lt;&gt;();\r\n\r\n        p.push(3);\r\n        p.push(4);\r\n        p.push(1);\r\n        p.push(7);\r\n        p.push(6);\r\n        p.push(2);\r\n        p.push(5);\r\n\r\n        p.sort((a, b) -&gt; {\r\n            if (a % 2 == 0 &amp;&amp; b % 2 == 0) {\r\n                return 0;\r\n            }\r\n            if (a % 2 == 0) {\r\n                return 1;\r\n            }\r\n            if (b % 2 == 0) {\r\n                return -1;\r\n            }\r\n            return 0;\r\n        });\r\n        System.out.println(p);\r\n    }\r\n}\r\n```\r\nFor the initial stack of - `[3, 4, 1, 7, 6, 2, 5]` this results in - `[3, 1, 7, 5, 4, 6, 2]`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Changing the Order of elements in a Stack so that all Odd numbers go before Even numbers","body":"<p><code>Stack</code> is subclass of <code>AbstractList</code>, so you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">List.sort()</a> by providing custom <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>.</p>\n<pre><code>public class Temp {\n\n    public static void main(String[] args) {\n        Stack&lt;Integer&gt; p = new Stack&lt;&gt;();\n\n        p.push(3);\n        p.push(4);\n        p.push(1);\n        p.push(7);\n        p.push(6);\n        p.push(2);\n        p.push(5);\n\n        p.sort((a, b) -&gt; {\n            if (a % 2 == 0 &amp;&amp; b % 2 == 0) {\n                return 0;\n            }\n            if (a % 2 == 0) {\n                return 1;\n            }\n            if (b % 2 == 0) {\n                return -1;\n            }\n            return 0;\n        });\n        System.out.println(p);\n    }\n}\n</code></pre>\n<p>For the initial stack of - <code>[3, 4, 1, 7, 6, 2, 5]</code> this results in - <code>[3, 1, 7, 5, 4, 6, 2]</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663462222,"creation_date":1663432063,"answer_id":73756588,"question_id":73756066,"body_markdown":"There are many ways to accomplish the task of separating *odd* and *even* elements.\r\n\r\nI suspect that the purpose of this challenge is getting familiar with the [Stack data structure](https://en.wikipedia.org/wiki/Stack_(abstract_data_type)) and its basic operations.\r\n\r\nSo here&#39;s a solution which utilizes two additional Stacks, one to accumulate the odd elements, another for storing even elements.\r\n\r\nThe initial stack is being empty out and its elements are being distributed between two other stacks. Now have odd and even numbers separated, and the only thing left is to join the data.\r\n\r\nThe time complexity of this solution is linear **O(n)**. It is **more performant** than sorting the data, which would have a linear-logarithmic time complexity **O(n log n)**.\r\n\r\nThat how it can be implemented:\r\n\r\n```\r\nStack&lt;Integer&gt; numbers = new Stack&lt;&gt;();\r\n        \r\nnumbers.push(3);\r\nnumbers.push(4);\r\nnumbers.push(1);\r\nnumbers.push(7);\r\nnumbers.push(6);\r\nnumbers.push(2);\r\nnumbers.push(5);\r\n        \r\nStack&lt;Integer&gt; odd = new Stack&lt;&gt;();\r\nStack&lt;Integer&gt; even = new Stack&lt;&gt;();\r\n        \r\nwhile (!numbers.isEmpty()) {\r\n    Integer next = numbers.pop();\r\n    if (next % 2 == 0) even.push(next);\r\n    else odd.push(next);\r\n}\r\n        \r\nnumbers.addAll(odd);\r\nnumbers.addAll(even);\r\n    \r\nSystem.out.println(numbers);\r\n```\r\n*Output:*\r\n```\r\n[5, 7, 1, 3, 2, 6, 4]\r\n```\r\n\r\n***Note:***\r\n* Class `Stack` is legacy, and shouldn&#39;t be used (unless it&#39;s a requirement of your assignment). When you need an implementation of the stack data structure in Java the recommended alternative is to use implementations of the [`Deque`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html) interface.\r\n* Try to use more meaningful names than `p`. It&#39;s a good habit because it makes the code easier to read and maintain. Single-letter variable are acceptable only rare cases, like variables defined within a `for`-loop. Also see [Java Language Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).","title":"Changing the Order of elements in a Stack so that all Odd numbers go before Even numbers","body":"<p>There are many ways to accomplish the task of separating <em>odd</em> and <em>even</em> elements.</p>\n<p>I suspect that the purpose of this challenge is getting familiar with the <a href=\"https://en.wikipedia.org/wiki/Stack_(abstract_data_type)\" rel=\"nofollow noreferrer\">Stack data structure</a> and its basic operations.</p>\n<p>So here's a solution which utilizes two additional Stacks, one to accumulate the odd elements, another for storing even elements.</p>\n<p>The initial stack is being empty out and its elements are being distributed between two other stacks. Now have odd and even numbers separated, and the only thing left is to join the data.</p>\n<p>The time complexity of this solution is linear <strong>O(n)</strong>. It is <strong>more performant</strong> than sorting the data, which would have a linear-logarithmic time complexity <strong>O(n log n)</strong>.</p>\n<p>That how it can be implemented:</p>\n<pre><code>Stack&lt;Integer&gt; numbers = new Stack&lt;&gt;();\n        \nnumbers.push(3);\nnumbers.push(4);\nnumbers.push(1);\nnumbers.push(7);\nnumbers.push(6);\nnumbers.push(2);\nnumbers.push(5);\n        \nStack&lt;Integer&gt; odd = new Stack&lt;&gt;();\nStack&lt;Integer&gt; even = new Stack&lt;&gt;();\n        \nwhile (!numbers.isEmpty()) {\n    Integer next = numbers.pop();\n    if (next % 2 == 0) even.push(next);\n    else odd.push(next);\n}\n        \nnumbers.addAll(odd);\nnumbers.addAll(even);\n    \nSystem.out.println(numbers);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[5, 7, 1, 3, 2, 6, 4]\n</code></pre>\n<p><em><strong>Note:</strong></em></p>\n<ul>\n<li>Class <code>Stack</code> is legacy, and shouldn't be used (unless it's a requirement of your assignment). When you need an implementation of the stack data structure in Java the recommended alternative is to use implementations of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface.</li>\n<li>Try to use more meaningful names than <code>p</code>. It's a good habit because it makes the code easier to read and maintain. Single-letter variable are acceptable only rare cases, like variables defined within a <code>for</code>-loop. Also see <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Language Naming Conventions</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663455892,"creation_date":1663455892,"answer_id":73759085,"question_id":73756066,"body_markdown":"Compare the negated (so `1` orders before `0`) difference between modulo 2:\r\n\r\n```java\r\np.sort((a, b) -&gt; b % 2 - a % 2);\r\n```\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://ideone.com/MK0jYl","title":"Changing the Order of elements in a Stack so that all Odd numbers go before Even numbers","body":"<p>Compare the negated (so <code>1</code> orders before <code>0</code>) difference between modulo 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>p.sort((a, b) -&gt; b % 2 - a % 2);\n</code></pre>\n<p>See <a href=\"https://ideone.com/MK0jYl\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664133459,"creation_date":1664133459,"answer_id":73847239,"question_id":73756066,"body_markdown":"Using the JDK implementation of `Stack` can be hard to reason about if you use `iterator()` or `stream()`, as the `Iterator` and `Spliterator` implementations are define in `Vector` which `Stack` inherits from. So calling methods like `System.out.println(stack)` will not be the same as printing all of the elements one by one by popping them off the stack. The following code illustrates this difference. Since `Stack` inherits from `Vector` in the JDK, I will use a `Stream` with `partitioningBy` to separate the evens and odds with a `Predicate` (`i -&gt; i % 2 == 0`), and then push both lists onto a result `Stack`.\r\n\r\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n    \r\n    stack.push(3);\r\n    stack.push(4);\r\n    stack.push(1);\r\n    stack.push(7);\r\n    stack.push(6);\r\n    stack.push(2);\r\n    stack.push(5);\r\n    \r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; partitions =\r\n            stack.stream().collect(Collectors.partitioningBy(i -&gt; i % 2 == 0));\r\n    \r\n    Stack&lt;Integer&gt; result = new Stack&lt;&gt;();\r\n    partitions.get(true).forEach(result::push);\r\n    partitions.get(false).forEach(result::push);\r\n    \r\n    System.out.println(result);\r\n    while (!result.isEmpty())\r\n    {\r\n        System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n    [4, 6, 2, 3, 1, 7, 5]  // The System.out.println(result)\r\n    5, 7, 1, 3, 2, 6, 4    // The loop printing each call to pop\r\n\r\nUsing a `sort` approach with a `Stack` is interesting. The method `sort` is also defined in `Vector` and sorts the backing array calling `Arrays.sort()`. As others have already provided solutions using `sort`, I won&#39;t provide any here.  \r\n\r\nIt may be useful to look at a different Stack implementation to learn different approaches. The following code shows how to solve this problem using a `MutableStack&lt;Integer&gt;` from [Eclipse Collections][1]. The iteration order in Eclipse Collections matches the LIFO approach you would expect when popping elements off of a stack. I&#39;m using the `partition` method available on `MutableStack` which returns a `PartitionMutableStack` with selected and rejected elements based on the `Predicate`. There are convenient factory methods available on the `Stacks` class for creating stacks, which is very useful for writing tests.\r\n\r\n    MutableStack&lt;Integer&gt; stack = Stacks.mutable.with(3, 4, 1, 7, 6, 2, 5);\r\n    PartitionMutableStack&lt;Integer&gt; partition = stack.partition(i -&gt; i % 2 == 0);\r\n    MutableStack&lt;Integer&gt; result =\r\n            Stacks.mutable.withAllReversed(partition.getRejected().asLazy()\r\n                    .concatenate(partition.getSelected().asLazy()));\r\n\r\n    Assertions.assertEquals(Stacks.mutable.with(4, 6, 2, 3, 1, 7, 5), result);\r\n\r\n    System.out.println(result);\r\n    while (!result.isEmpty())\r\n    {\r\n        System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\r\n    }\r\n\r\n*Output:* \r\n\r\n    [5, 7, 1, 3, 2, 6, 4]  // The System.out.println(result)\r\n    5, 7, 1, 3, 2, 6, 4    // The loop printing each call to pop\r\n\r\nThere are also primitive stacks available in Eclipse Collections, that have no equivalent in the JDK. These are helpful if you care about the impact of boxing primitive values like `int` as `Integer` objects. The following code shows how to solve this problem using a `MutableIntStack` in Eclipse Collections. There is no `partition` method available today on primitive stacks but this could always be contributed by someone as an open source contribution if they find it useful enough. I use `reject` and `select` to filter out first odds, and then evens. This will result in two iterations over stack, unlike `partition` which results in one iteration. I use the same list to hold the results of `reject` and `select` to push onto the result Stack. \r\n\r\n    MutableIntStack stack = IntStacks.mutable.with(3, 4, 1, 7, 6, 2, 5);\r\n    MutableIntList list = stack.reject(i -&gt; i % 2 == 0, IntLists.mutable.empty());\r\n    MutableIntStack result = IntStacks.mutable.withAllReversed(\r\n            stack.select(i -&gt; i % 2 == 0, list));\r\n    \r\n    Assertions.assertEquals(IntStacks.mutable.with(4, 6, 2, 3, 1, 7, 5), result);\r\n\r\n    System.out.println(result);\r\n    while (!result.isEmpty())\r\n    {\r\n        System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n    [5, 7, 1, 3, 2, 6, 4]   // The System.out.println(result)\r\n    5, 7, 1, 3, 2, 6, 4     // The loop printing each call to pop\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Changing the Order of elements in a Stack so that all Odd numbers go before Even numbers","body":"<p>Using the JDK implementation of <code>Stack</code> can be hard to reason about if you use <code>iterator()</code> or <code>stream()</code>, as the <code>Iterator</code> and <code>Spliterator</code> implementations are define in <code>Vector</code> which <code>Stack</code> inherits from. So calling methods like <code>System.out.println(stack)</code> will not be the same as printing all of the elements one by one by popping them off the stack. The following code illustrates this difference. Since <code>Stack</code> inherits from <code>Vector</code> in the JDK, I will use a <code>Stream</code> with <code>partitioningBy</code> to separate the evens and odds with a <code>Predicate</code> (<code>i -&gt; i % 2 == 0</code>), and then push both lists onto a result <code>Stack</code>.</p>\n<pre><code>Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\nstack.push(3);\nstack.push(4);\nstack.push(1);\nstack.push(7);\nstack.push(6);\nstack.push(2);\nstack.push(5);\n\nMap&lt;Boolean, List&lt;Integer&gt;&gt; partitions =\n        stack.stream().collect(Collectors.partitioningBy(i -&gt; i % 2 == 0));\n\nStack&lt;Integer&gt; result = new Stack&lt;&gt;();\npartitions.get(true).forEach(result::push);\npartitions.get(false).forEach(result::push);\n\nSystem.out.println(result);\nwhile (!result.isEmpty())\n{\n    System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[4, 6, 2, 3, 1, 7, 5]  // The System.out.println(result)\n5, 7, 1, 3, 2, 6, 4    // The loop printing each call to pop\n</code></pre>\n<p>Using a <code>sort</code> approach with a <code>Stack</code> is interesting. The method <code>sort</code> is also defined in <code>Vector</code> and sorts the backing array calling <code>Arrays.sort()</code>. As others have already provided solutions using <code>sort</code>, I won't provide any here.</p>\n<p>It may be useful to look at a different Stack implementation to learn different approaches. The following code shows how to solve this problem using a <code>MutableStack&lt;Integer&gt;</code> from <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>. The iteration order in Eclipse Collections matches the LIFO approach you would expect when popping elements off of a stack. I'm using the <code>partition</code> method available on <code>MutableStack</code> which returns a <code>PartitionMutableStack</code> with selected and rejected elements based on the <code>Predicate</code>. There are convenient factory methods available on the <code>Stacks</code> class for creating stacks, which is very useful for writing tests.</p>\n<pre><code>MutableStack&lt;Integer&gt; stack = Stacks.mutable.with(3, 4, 1, 7, 6, 2, 5);\nPartitionMutableStack&lt;Integer&gt; partition = stack.partition(i -&gt; i % 2 == 0);\nMutableStack&lt;Integer&gt; result =\n        Stacks.mutable.withAllReversed(partition.getRejected().asLazy()\n                .concatenate(partition.getSelected().asLazy()));\n\nAssertions.assertEquals(Stacks.mutable.with(4, 6, 2, 3, 1, 7, 5), result);\n\nSystem.out.println(result);\nwhile (!result.isEmpty())\n{\n    System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[5, 7, 1, 3, 2, 6, 4]  // The System.out.println(result)\n5, 7, 1, 3, 2, 6, 4    // The loop printing each call to pop\n</code></pre>\n<p>There are also primitive stacks available in Eclipse Collections, that have no equivalent in the JDK. These are helpful if you care about the impact of boxing primitive values like <code>int</code> as <code>Integer</code> objects. The following code shows how to solve this problem using a <code>MutableIntStack</code> in Eclipse Collections. There is no <code>partition</code> method available today on primitive stacks but this could always be contributed by someone as an open source contribution if they find it useful enough. I use <code>reject</code> and <code>select</code> to filter out first odds, and then evens. This will result in two iterations over stack, unlike <code>partition</code> which results in one iteration. I use the same list to hold the results of <code>reject</code> and <code>select</code> to push onto the result Stack.</p>\n<pre><code>MutableIntStack stack = IntStacks.mutable.with(3, 4, 1, 7, 6, 2, 5);\nMutableIntList list = stack.reject(i -&gt; i % 2 == 0, IntLists.mutable.empty());\nMutableIntStack result = IntStacks.mutable.withAllReversed(\n        stack.select(i -&gt; i % 2 == 0, list));\n\nAssertions.assertEquals(IntStacks.mutable.with(4, 6, 2, 3, 1, 7, 5), result);\n\nSystem.out.println(result);\nwhile (!result.isEmpty())\n{\n    System.out.print(result.pop() + (result.isEmpty() ? &quot;&quot; : &quot;, &quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[5, 7, 1, 3, 2, 6, 4]   // The System.out.println(result)\n5, 7, 1, 3, 2, 6, 4     // The loop printing each call to pop\n</code></pre>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":24360625,"reputation":1,"user_id":18295038,"display_name":"KYR4"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73756588,"answer_count":4,"score":0,"last_activity_date":1664133459,"creation_date":1663427755,"question_id":73756066,"body_markdown":"I am looking for a way to change the order of the elements in a Stack, so that the *even numbers* go after *odd numbers*.\r\n\r\nFor example, the following stack:\r\n```\r\n5, 2, 6, 7, 1, 4, 3\r\n```\r\nBecomes:\r\n```\r\n5, 7, 1, 3, 2, 6, 4\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my current code. I&#39;m stuck on finding out how to change the order : \r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tStack&lt;Integer&gt; p = new Stack&lt;&gt;();\r\n\r\n\t\tp.push(3);\r\n\t\tp.push(4);\r\n\t\tp.push(1);\r\n\t\tp.push(7);\r\n\t\tp.push(6);\r\n\t\tp.push(2);\r\n\t\tp.push(5);\r\n\t\t\r\n\t\tListIterator&lt;Integer&gt; ListIterator = p.listIterator(p.size());  \r\n\t\t \r\n\t\twhile (ListIterator.hasPrevious())  {  \r\n\t\t\tInteger i = ListIterator.previous();  \r\n\t\t\tSystem.out.println(i);  \r\n\t\t} \r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mebvt.png","title":"Changing the Order of elements in a Stack so that all Odd numbers go before Even numbers","body":"<p>I am looking for a way to change the order of the elements in a Stack, so that the <em>even numbers</em> go after <em>odd numbers</em>.</p>\n<p>For example, the following stack:</p>\n<pre><code>5, 2, 6, 7, 1, 4, 3\n</code></pre>\n<p>Becomes:</p>\n<pre><code>5, 7, 1, 3, 2, 6, 4\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mebvt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mebvt.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my current code. I'm stuck on finding out how to change the order :</p>\n<pre><code>public static void main(String[] args) {\n\n    Stack&lt;Integer&gt; p = new Stack&lt;&gt;();\n\n    p.push(3);\n    p.push(4);\n    p.push(1);\n    p.push(7);\n    p.push(6);\n    p.push(2);\n    p.push(5);\n    \n    ListIterator&lt;Integer&gt; ListIterator = p.listIterator(p.size());  \n     \n    while (ListIterator.hasPrevious())  {  \n        Integer i = ListIterator.previous();  \n        System.out.println(i);  \n    } \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10673893,"reputation":175,"user_id":7858118,"display_name":"PSU"},"score":1,"creation_date":1664133082,"post_id":73847157,"comment_id":130396326,"body_markdown":"Your program shouldn&#39;t crash, it should throw an error that will give you some clue as to what&#39;s going wrong. Try wrapping your code in a try--catch block...","body":"Your program shouldn&#39;t crash, it should throw an error that will give you some clue as to what&#39;s going wrong. Try wrapping your code in a try--catch block..."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1664133152,"post_id":73847157,"comment_id":130396345,"body_markdown":"If the first string is longer than the second string, then what happens when you try to find that length of substring in the second string? `&quot;taco&quot;.substring(0, 10)`","body":"If the first string is longer than the second string, then what happens when you try to find that length of substring in the second string? <code>&quot;taco&quot;.substring(0, 10)</code>"},{"owner":{"account_id":14968998,"reputation":313,"user_id":10806427,"display_name":"Edgar Khachatryan"},"score":2,"creation_date":1664133437,"post_id":73847157,"comment_id":130396400,"body_markdown":"It will be better to use [String#contains](https://www.javatpoint.com/java-string-contains) for substring checking","body":"It will be better to use <a href=\"https://www.javatpoint.com/java-string-contains\" rel=\"nofollow noreferrer\">String#contains</a> for substring checking"}],"owner":{"account_id":25408191,"reputation":3,"user_id":19216521,"display_name":"ColorTheory42"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664132689,"creation_date":1664132689,"question_id":73847157,"body_markdown":"The first two if statements work correctly but the third one doesn&#39;t work and crashes my program.\r\nFirst String: Taco Bell\r\nSecond String: Taco\r\n\r\nprogram crashes.\r\n\r\nIt should say that the second string is substring of the first string.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class module_4_assignment {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter first string value: &quot;);\r\n\r\n        String first_string = input.nextLine();\r\n\r\n        System.out.println(&quot;Enter second string value: &quot;);\r\n\r\n        String second_string = input.nextLine();\r\n\r\n        if (first_string.equals(second_string)) {\r\n\r\n            System.out.println(&quot;The first string value and the second string value are equal&quot;);\r\n        }\r\n        else if (first_string.equals(second_string.substring(0,first_string.length()))) {\r\n\r\n            System.out.println(&quot;The first string value is a substring of the second string value&quot;);\r\n        }\r\n        else if ((first_string.substring(0,second_string.length())).equals(second_string)) {\r\n\r\n            System.out.println(&quot;The second string value is a substring of the first string value&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"I need to find if the second string and first string are substrings of each other","body":"<p>The first two if statements work correctly but the third one doesn't work and crashes my program.\nFirst String: Taco Bell\nSecond String: Taco</p>\n<p>program crashes.</p>\n<p>It should say that the second string is substring of the first string.</p>\n<pre><code>import java.util.Scanner;\n\npublic class module_4_assignment {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(&quot;Enter first string value: &quot;);\n\n        String first_string = input.nextLine();\n\n        System.out.println(&quot;Enter second string value: &quot;);\n\n        String second_string = input.nextLine();\n\n        if (first_string.equals(second_string)) {\n\n            System.out.println(&quot;The first string value and the second string value are equal&quot;);\n        }\n        else if (first_string.equals(second_string.substring(0,first_string.length()))) {\n\n            System.out.println(&quot;The first string value is a substring of the second string value&quot;);\n        }\n        else if ((first_string.substring(0,second_string.length())).equals(second_string)) {\n\n            System.out.println(&quot;The second string value is a substring of the first string value&quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1664131638,"post_id":73846934,"comment_id":130396045,"body_markdown":"I would say Spring security will return `ApplicationUser.getUsername()` for `Principal.getName()`. More here https://stackoverflow.com/questions/37499307/whats-the-principal-in-spring-security . Check the runtime type of Principal if it is `ApplicationUser` and retrieve `getFirstName()`.","body":"I would say Spring security will return <code>ApplicationUser.getUsername()</code> for <code>Principal.getName()</code>. More here <a href=\"https://stackoverflow.com/questions/37499307/whats-the-principal-in-spring-security\" title=\"whats the principal in spring security\">stackoverflow.com/questions/37499307/&hellip;</a> . Check the runtime type of Principal if it is <code>ApplicationUser</code> and retrieve <code>getFirstName()</code>."}],"answers":[{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664131981,"creation_date":1664131981,"answer_id":73847082,"question_id":73846934,"body_markdown":"Your code, at least what is posted, does not have a function getName(), perhaps you meant the getUserName(). But take another look at it. \r\n\r\n    @Override\r\n        public String getUsername() {\r\n            return email;\r\n        }\r\n\r\nYou are getting exactly what you coded. Perhaps what need:\r\n\r\n    @Override\r\n        public String getUsername() {\r\n            return firstName || &#39; &#39; || lastName;1\r\n        }\r\n\r\n \r\nwhere || is concatenation. Sorry, but I do not specifically know the Spring Security function/operator for it. ","title":"Principal.getName() returns the email instead of username","body":"<p>Your code, at least what is posted, does not have a function getName(), perhaps you meant the getUserName(). But take another look at it.</p>\n<pre><code>@Override\n    public String getUsername() {\n        return email;\n    }\n</code></pre>\n<p>You are getting exactly what you coded. Perhaps what need:</p>\n<pre><code>@Override\n    public String getUsername() {\n        return firstName || ' ' || lastName;1\n    }\n</code></pre>\n<p>where || is concatenation. Sorry, but I do not specifically know the Spring Security function/operator for it.</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73847082,"answer_count":1,"score":0,"last_activity_date":1664131981,"creation_date":1664130802,"question_id":73846934,"body_markdown":"I&#39;ve an application using Spring Security. I am trying to fetch the name of the user after the successful registation of the latter but when I am getting to the login page, I get the email instead of the name. I am providing a screenshot after the successful login.\r\n\r\n[![Screenshot after login][1]][1]\r\n\r\nIn the above picture, I want the firstname, not the email address.\r\n\r\nI am providing you the classes, I think that matter the most.\r\n\r\n**CONTROLLER CLASS**\r\n```\r\npackage com.andrekreou.iot.crypto.controller;\r\n\r\nimport com.andrekreou.iot.crypto.service.CryptoNewsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.security.Principal;\r\n\r\n@Controller\r\npublic class NewsHTMLController {\r\n\r\n    CryptoNewsService cryptoNewsService;\r\n\r\n    @Autowired\r\n    public NewsHTMLController(CryptoNewsService cryptoNewsService) {\r\n        this.cryptoNewsService = cryptoNewsService;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String main(Model model, Principal principal){\r\n        String name = principal.getName();\r\n        model.addAttribute(&quot;name&quot;,name);\r\n        return &quot;welcome&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String getLoginView() {\r\n        return &quot;login&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**SECURITY CONFIGURATION CLASS**\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;).permitAll()\r\n                    //.antMatchers(&quot;/show-news-contents&quot;).hasRole(ADMIN.name())\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**LOGIN.HTML**\r\n\r\n```\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\r\n    &lt;title&gt;login&lt;/title&gt;\r\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\r\n          integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;style&gt;\r\n        body {\r\n            background-color: #3e3e3e;\r\n            color: white;\r\n        }\r\n        h2 {\r\n            text-align: center;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;form class=&quot;form-signin&quot; method=&quot;post&quot; action=&quot;/login&quot;&gt;\r\n        &lt;h2 class=&quot;form-signin-heading&quot;&gt;Please Login&lt;/h2&gt;\r\n        &lt;p&gt;\r\n            &lt;label for=&quot;username&quot; class=&quot;sr-only&quot;&gt;Username&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;username&quot; required=&quot;&quot;\r\n                   autofocus=&quot;&quot;&gt;\r\n        &lt;/p&gt;\r\n        &lt;p&gt;\r\n            &lt;label for=&quot;password&quot; class=&quot;sr-only&quot;&gt;Password&lt;/label&gt;\r\n            &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot;\r\n                   required=&quot;&quot;&gt;\r\n        &lt;/p&gt;\r\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;form class=&quot;form-signin&quot; method=&quot;get&quot; action=&quot;/register&quot;&gt;\r\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**APPLICATION USER CLASS**\r\n```\r\npackage com.andrekreou.iot.authentication.user;\r\n\r\nimport com.andrekreou.iot.authentication.security.ApplicationUserRole;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@Entity\r\npublic class ApplicationUser implements UserDetails {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;user_sequence&quot;,\r\n            sequenceName = &quot;user_sequence&quot;,\r\n            allocationSize = 1\r\n            )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;user_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String password;\r\n    @Enumerated(EnumType.STRING)\r\n    private ApplicationUserRole applicationUserRole;\r\n    private  Boolean locked = false;\r\n    private  Boolean enabled = false;\r\n\r\n\r\n    //Constructor without the ID (it will be autogenerated)\r\n    public ApplicationUser(String firstName,\r\n                           String lastName,\r\n                           String email,\r\n                           String password,\r\n                           ApplicationUserRole applicationUserRole) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.applicationUserRole = applicationUserRole;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority =\r\n                new SimpleGrantedAuthority(applicationUserRole.name());\r\n        return Collections.singletonList(authority);\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !locked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oxSd9.png","title":"Principal.getName() returns the email instead of username","body":"<p>I've an application using Spring Security. I am trying to fetch the name of the user after the successful registation of the latter but when I am getting to the login page, I get the email instead of the name. I am providing a screenshot after the successful login.</p>\n<p><a href=\"https://i.stack.imgur.com/oxSd9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oxSd9.png\" alt=\"Screenshot after login\" /></a></p>\n<p>In the above picture, I want the firstname, not the email address.</p>\n<p>I am providing you the classes, I think that matter the most.</p>\n<p><strong>CONTROLLER CLASS</strong></p>\n<pre><code>package com.andrekreou.iot.crypto.controller;\n\nimport com.andrekreou.iot.crypto.service.CryptoNewsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.security.Principal;\n\n@Controller\npublic class NewsHTMLController {\n\n    CryptoNewsService cryptoNewsService;\n\n    @Autowired\n    public NewsHTMLController(CryptoNewsService cryptoNewsService) {\n        this.cryptoNewsService = cryptoNewsService;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String main(Model model, Principal principal){\n        String name = principal.getName();\n        model.addAttribute(&quot;name&quot;,name);\n        return &quot;welcome&quot;;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String getLoginView() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p><strong>SECURITY CONFIGURATION CLASS</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;).permitAll()\n                    //.antMatchers(&quot;/show-news-contents&quot;).hasRole(ADMIN.name())\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>LOGIN.HTML</strong></p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n    &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\n    &lt;title&gt;login&lt;/title&gt;\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;\n          integrity=&quot;sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link href=&quot;https://getbootstrap.com/docs/4.0/examples/signin/signin.css&quot; rel=&quot;stylesheet&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;style&gt;\n        body {\n            background-color: #3e3e3e;\n            color: white;\n        }\n        h2 {\n            text-align: center;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;form class=&quot;form-signin&quot; method=&quot;post&quot; action=&quot;/login&quot;&gt;\n        &lt;h2 class=&quot;form-signin-heading&quot;&gt;Please Login&lt;/h2&gt;\n        &lt;p&gt;\n            &lt;label for=&quot;username&quot; class=&quot;sr-only&quot;&gt;Username&lt;/label&gt;\n            &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;username&quot; required=&quot;&quot;\n                   autofocus=&quot;&quot;&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;label for=&quot;password&quot; class=&quot;sr-only&quot;&gt;Password&lt;/label&gt;\n            &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot;\n                   required=&quot;&quot;&gt;\n        &lt;/p&gt;\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;form class=&quot;form-signin&quot; method=&quot;get&quot; action=&quot;/register&quot;&gt;\n        &lt;button class=&quot;btn btn-lg btn-primary btn-block&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>APPLICATION USER CLASS</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.user;\n\nimport com.andrekreou.iot.authentication.security.ApplicationUserRole;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport java.util.Collection;\nimport java.util.Collections;\n\n@Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@Entity\npublic class ApplicationUser implements UserDetails {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;user_sequence&quot;,\n            sequenceName = &quot;user_sequence&quot;,\n            allocationSize = 1\n            )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;user_sequence&quot;\n    )\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String password;\n    @Enumerated(EnumType.STRING)\n    private ApplicationUserRole applicationUserRole;\n    private  Boolean locked = false;\n    private  Boolean enabled = false;\n\n\n    //Constructor without the ID (it will be autogenerated)\n    public ApplicationUser(String firstName,\n                           String lastName,\n                           String email,\n                           String password,\n                           ApplicationUserRole applicationUserRole) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.applicationUserRole = applicationUserRole;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority =\n                new SimpleGrantedAuthority(applicationUserRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1413230504,"post_id":26347868,"comment_id":41356814,"body_markdown":"Could this help point you in the right direction: [Spring 3 RequestMapping: Get path value](http://stackoverflow.com/questions/3686808/spring-3-requestmapping-get-path-value)?","body":"Could this help point you in the right direction: <a href=\"http://stackoverflow.com/questions/3686808/spring-3-requestmapping-get-path-value\">Spring 3 RequestMapping: Get path value</a>?"}],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1413232604,"creation_date":1413232604,"answer_id":26348463,"question_id":26347868,"body_markdown":"Here it goes:\r\n\r\n        String format = &quot;location/{state}/{city}&quot;;\r\n\t\tString actualUrl = &quot;location/washington/seattle&quot;;\r\n\t\tAntPathMatcher pathMatcher = new AntPathMatcher();\r\n\t\tMap&lt;String, String&gt; variables = pathMatcher.extractUriTemplateVariables(format, actualUrl);\r\n        assertThat(variables.get(&quot;state&quot;), is(&quot;washington&quot;));\r\n        assertThat(variables.get(&quot;city&quot;), is(&quot;seattle&quot;));","title":"Spring utility for parsing URIs","body":"<p>Here it goes:</p>\n\n<pre><code>    String format = \"location/{state}/{city}\";\n    String actualUrl = \"location/washington/seattle\";\n    AntPathMatcher pathMatcher = new AntPathMatcher();\n    Map&lt;String, String&gt; variables = pathMatcher.extractUriTemplateVariables(format, actualUrl);\n    assertThat(variables.get(\"state\"), is(\"washington\"));\n    assertThat(variables.get(\"city\"), is(\"seattle\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3901278,"reputation":694,"user_id":3229085,"accept_rate":31,"display_name":"Mark.ewd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413232681,"creation_date":1413232681,"answer_id":26348484,"question_id":26347868,"body_markdown":"The first place to look is in the source code for org.springframework.web.servlet.mvc.method.annotation.PathVariableMethodArgumentResolver this is the resolver used for the @PathVariable annotation in MVC. Look at the method &quot;resolveName&quot; to see what the Spring code is doing. Form there you should be able to find the class that MVC is using. Then you can see if you can make it meet your requirements.\r\n","title":"Spring utility for parsing URIs","body":"<p>The first place to look is in the source code for org.springframework.web.servlet.mvc.method.annotation.PathVariableMethodArgumentResolver this is the resolver used for the @PathVariable annotation in MVC. Look at the method \"resolveName\" to see what the Spring code is doing. Form there you should be able to find the class that MVC is using. Then you can see if you can make it meet your requirements.</p>\n"},{"tags":[],"owner":{"account_id":1307921,"reputation":16211,"user_id":1256496,"accept_rate":91,"display_name":"zemirco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664130870,"creation_date":1664130870,"answer_id":73846947,"question_id":26347868,"body_markdown":"I had the same problem and came across this rather old question. Nowadays and 8 years later you can also use `PathPatternParser`. It&#39;s available [since version 5.0][1]. For more information and a comparison to `AntPathMatcher` see the blog post from [spring.io][2].\r\n\r\n```java\r\nvar format = &quot;location/{state}/{city}&quot;;\r\nvar actualUrl = &quot;location/washington/seattle&quot;;\r\nvar parser = new PathPatternParser();\r\nvar pp = parser.parse(format);\r\nvar info = pp.matchAndExtract(PathContainer.parsePath(actualUrl));\r\nSystem.out.println(info.getUriVariables().get(&quot;state&quot;)); // washington\r\nSystem.out.println(info.getUriVariables().get(&quot;city&quot;)); // seattle\r\n```\r\n\r\nHope this still helps someone!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html\r\n  [2]: https://spring.io/blog/2020/06/30/url-matching-with-pathpattern-in-spring-mvc","title":"Spring utility for parsing URIs","body":"<p>I had the same problem and came across this rather old question. Nowadays and 8 years later you can also use <code>PathPatternParser</code>. It's available <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html\" rel=\"nofollow noreferrer\">since version 5.0</a>. For more information and a comparison to <code>AntPathMatcher</code> see the blog post from <a href=\"https://spring.io/blog/2020/06/30/url-matching-with-pathpattern-in-spring-mvc\" rel=\"nofollow noreferrer\">spring.io</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var format = &quot;location/{state}/{city}&quot;;\nvar actualUrl = &quot;location/washington/seattle&quot;;\nvar parser = new PathPatternParser();\nvar pp = parser.parse(format);\nvar info = pp.matchAndExtract(PathContainer.parsePath(actualUrl));\nSystem.out.println(info.getUriVariables().get(&quot;state&quot;)); // washington\nSystem.out.println(info.getUriVariables().get(&quot;city&quot;)); // seattle\n</code></pre>\n<p>Hope this still helps someone!</p>\n"}],"owner":{"account_id":327671,"reputation":11551,"user_id":650176,"accept_rate":76,"display_name":"David V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6691,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26348463,"answer_count":3,"score":10,"last_activity_date":1664130870,"creation_date":1413230005,"question_id":26347868,"body_markdown":"I would like to extract path variables and query parameters from a URL using existing Spring features. I have a path format string which is valid for an MVC `@RequestMapping` or `UriComponentsBuilder`. I also have an actual path. I would like to extract path variables from that path.\r\n\r\nFor example.\r\n\r\n    String format = &quot;location/{state}/{city}&quot;;\r\n    String actualUrl = &quot;location/washington/seattle&quot;;\r\n    TheThingImLookingFor parser = new TheThingImLookingFor(format);\r\n    Map&lt;String, String&gt; variables = parser.extractPathVariables(actualUrl);\r\n    assertThat(variables.get(&quot;state&quot;, is(&quot;washington&quot;));\r\n    assertThat(variables.get(&quot;city&quot;, is(&quot;seattle&quot;));\r\n\r\nIt is something like the inverse of `UriComponentsBuilder`, which from my reading of the Javadocs does not have any parsing features.","title":"Spring utility for parsing URIs","body":"<p>I would like to extract path variables and query parameters from a URL using existing Spring features. I have a path format string which is valid for an MVC <code>@RequestMapping</code> or <code>UriComponentsBuilder</code>. I also have an actual path. I would like to extract path variables from that path.</p>\n\n<p>For example.</p>\n\n<pre><code>String format = \"location/{state}/{city}\";\nString actualUrl = \"location/washington/seattle\";\nTheThingImLookingFor parser = new TheThingImLookingFor(format);\nMap&lt;String, String&gt; variables = parser.extractPathVariables(actualUrl);\nassertThat(variables.get(\"state\", is(\"washington\"));\nassertThat(variables.get(\"city\", is(\"seattle\"));\n</code></pre>\n\n<p>It is something like the inverse of <code>UriComponentsBuilder</code>, which from my reading of the Javadocs does not have any parsing features.</p>\n"},{"tags":["java","groovy","annotations","groovy-3.0"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664128198,"creation_date":1664128198,"answer_id":73846657,"question_id":73845575,"body_markdown":"If I&#39;m not mistaken `@Immutable` is a singular annotation in Groovy 2.5.x, but it was broken into components with Groovy 3.x, and it is now just a meta annotation based on `@AnnotationCollector` as you can see in the [GroovyDoc][1]. \r\n\r\nI don&#39;t think that there is anything to fix, you just need to update your logic to also accept the new component annotations, probably `@ImmutableBase` and `@KnownImmutable`.\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/3.0.5/html/gapi/groovy/transform/Immutable.html","title":"Groovy 3 - ASTTransformation annotation segregated","body":"<p>If I'm not mistaken <code>@Immutable</code> is a singular annotation in Groovy 2.5.x, but it was broken into components with Groovy 3.x, and it is now just a meta annotation based on <code>@AnnotationCollector</code> as you can see in the <a href=\"https://docs.groovy-lang.org/3.0.5/html/gapi/groovy/transform/Immutable.html\" rel=\"nofollow noreferrer\">GroovyDoc</a>.</p>\n<p>I don't think that there is anything to fix, you just need to update your logic to also accept the new component annotations, probably <code>@ImmutableBase</code> and <code>@KnownImmutable</code>.</p>\n"}],"owner":{"account_id":1867389,"reputation":7589,"user_id":1690588,"accept_rate":97,"display_name":"MKB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73846657,"answer_count":1,"score":0,"last_activity_date":1664128198,"creation_date":1664118607,"question_id":73845575,"body_markdown":"I want that my custom annotation must be used in conjunction with Immutable annotation. I achieved this by the following code - \r\n\r\nAnnotation class -\r\n\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target([ElementType.TYPE])\r\n    @GroovyASTTransformationClass(classes = TestFactoryTransform)\r\n    @interface TestFactory {\r\n    }\r\n\r\n\r\nIts transformation class -\r\n\r\n    @GroovyASTTransformation(phase = CompilePhase.SEMANTIC_ANALYSIS)\r\n    public class TestFactoryTransform implements ASTTransformation {\r\n    \r\n      @Override\r\n      public void visit(ASTNode[] astNodes, SourceUnit sourceUnit) {\r\n        ClassNode classNode = (ClassNode) astNodes[1]\r\n    \tif (classNode.getAnnotations(ClassHelper.make(Immutable)).size() == 0) {\r\n    \t\t// throw ERROR\r\n    \t} else {\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nI have a test case to verify - \r\n\r\n    @TestFactory\r\n    @Immutable\r\n    @AnnotationCollector\r\n    @interface SampleTestFactory {}\r\n    \r\n    @SampleTestFactory\r\n    class Test1 {\r\n      int f1\r\n    }\r\n    \r\n    class TestFactoryTransformTest {\r\n    \r\n      @Test\r\n      void testIntField() {\r\n        ...\r\n      }\r\n    }\r\n\r\n\r\nthis is working fine with groovy 2.\r\n\r\n**BUT**, after upgrading groovy to 3.0.13. This test compilation is failing because `if` condition of TestFactoryTransform is true (Immutable annotation not found).\r\n\r\nwhen I print the output of  `classNode.getAnnotations()` statement then with groovy 2, I am getting - \r\n\r\n    [\r\n    \torg.codehaus.groovy.ast.AnnotationNode@16c0bc,\r\n    \torg.codehaus.groovy.ast.AnnotationNode@16c0bc,\r\n    \torg.codehaus.groovy.ast.AnnotationNode@16c0bc\r\n    ]\r\n\r\nBut with groovy 3, I am getting \r\n\r\n    [\r\n    \torg.codehaus.groovy.ast.AnnotationNode@390fbe99[@com.my.transform.TestFactory()],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@587db6e0[@groovy.transform.TupleConstructor(defaults: false)],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@5798d0f[@groovy.transform.ToString(includeSuperProperties: true, cache: true)],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@54f967a6[@groovy.transform.EqualsAndHashCode(cache: true)],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@7293bc6b[@groovy.transform.ImmutableBase()],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@735697ed[@groovy.transform.ImmutableOptions()],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@2818eebe[@groovy.transform.PropertyOptions(propertyHandler: groovy.transform.options.ImmutablePropertyHandler)],\r\n    \torg.codehaus.groovy.ast.AnnotationNode@68c5d616[@groovy.transform.MapConstructor(noArg: true, includeSuperProperties: true, includeFields: true)], \r\n    \torg.codehaus.groovy.ast.AnnotationNode@24992745[@groovy.transform.KnownImmutable()]\r\n    ]\r\n\r\nAny idea, why I am getting immutable annotation segregated with its inner annotations? And what I can do to fix the issue.\r\nThank you!\r\n\r\n","title":"Groovy 3 - ASTTransformation annotation segregated","body":"<p>I want that my custom annotation must be used in conjunction with Immutable annotation. I achieved this by the following code -</p>\n<p>Annotation class -</p>\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@Target([ElementType.TYPE])\n@GroovyASTTransformationClass(classes = TestFactoryTransform)\n@interface TestFactory {\n}\n</code></pre>\n<p>Its transformation class -</p>\n<pre><code>@GroovyASTTransformation(phase = CompilePhase.SEMANTIC_ANALYSIS)\npublic class TestFactoryTransform implements ASTTransformation {\n\n  @Override\n  public void visit(ASTNode[] astNodes, SourceUnit sourceUnit) {\n    ClassNode classNode = (ClassNode) astNodes[1]\n    if (classNode.getAnnotations(ClassHelper.make(Immutable)).size() == 0) {\n        // throw ERROR\n    } else {\n        ...\n    }\n}\n</code></pre>\n<p>I have a test case to verify -</p>\n<pre><code>@TestFactory\n@Immutable\n@AnnotationCollector\n@interface SampleTestFactory {}\n\n@SampleTestFactory\nclass Test1 {\n  int f1\n}\n\nclass TestFactoryTransformTest {\n\n  @Test\n  void testIntField() {\n    ...\n  }\n}\n</code></pre>\n<p>this is working fine with groovy 2.</p>\n<p><strong>BUT</strong>, after upgrading groovy to 3.0.13. This test compilation is failing because <code>if</code> condition of TestFactoryTransform is true (Immutable annotation not found).</p>\n<p>when I print the output of  <code>classNode.getAnnotations()</code> statement then with groovy 2, I am getting -</p>\n<pre><code>[\n    org.codehaus.groovy.ast.AnnotationNode@16c0bc,\n    org.codehaus.groovy.ast.AnnotationNode@16c0bc,\n    org.codehaus.groovy.ast.AnnotationNode@16c0bc\n]\n</code></pre>\n<p>But with groovy 3, I am getting</p>\n<pre><code>[\n    org.codehaus.groovy.ast.AnnotationNode@390fbe99[@com.my.transform.TestFactory()],\n    org.codehaus.groovy.ast.AnnotationNode@587db6e0[@groovy.transform.TupleConstructor(defaults: false)],\n    org.codehaus.groovy.ast.AnnotationNode@5798d0f[@groovy.transform.ToString(includeSuperProperties: true, cache: true)],\n    org.codehaus.groovy.ast.AnnotationNode@54f967a6[@groovy.transform.EqualsAndHashCode(cache: true)],\n    org.codehaus.groovy.ast.AnnotationNode@7293bc6b[@groovy.transform.ImmutableBase()],\n    org.codehaus.groovy.ast.AnnotationNode@735697ed[@groovy.transform.ImmutableOptions()],\n    org.codehaus.groovy.ast.AnnotationNode@2818eebe[@groovy.transform.PropertyOptions(propertyHandler: groovy.transform.options.ImmutablePropertyHandler)],\n    org.codehaus.groovy.ast.AnnotationNode@68c5d616[@groovy.transform.MapConstructor(noArg: true, includeSuperProperties: true, includeFields: true)], \n    org.codehaus.groovy.ast.AnnotationNode@24992745[@groovy.transform.KnownImmutable()]\n]\n</code></pre>\n<p>Any idea, why I am getting immutable annotation segregated with its inner annotations? And what I can do to fix the issue.\nThank you!</p>\n"},{"tags":["java","loops","hashmap","iteration"],"comments":[{"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"score":7,"creation_date":1246406754,"post_id":1066589,"comment_id":878987,"body_markdown":"I need to get the keys and values and add them to a multidimensional array","body":"I need to get the keys and values and add them to a multidimensional array"},{"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"score":8,"creation_date":1437849205,"post_id":1066589,"comment_id":51206923,"body_markdown":"In Java 8 using Lambda Expression : http://stackoverflow.com/a/25616206/1503859","body":"In Java 8 using Lambda Expression : <a href=\"http://stackoverflow.com/a/25616206/1503859\">stackoverflow.com/a/25616206/1503859</a>"}],"answers":[{"tags":[],"owner":{"account_id":26897,"reputation":340700,"user_id":70393,"accept_rate":86,"display_name":"karim79"},"down_vote_count":43,"up_vote_count":3494,"is_accepted":true,"score":3451,"last_activity_date":1524243395,"creation_date":1246404445,"answer_id":1066603,"question_id":1066589,"body_markdown":"Iterate through the [`entrySet()`][1] like so:\r\n\r\n    public static void printMap(Map mp) {\r\n        Iterator it = mp.entrySet().iterator();\r\n        while (it.hasNext()) {\r\n            Map.Entry pair = (Map.Entry)it.next();\r\n            System.out.println(pair.getKey() + &quot; = &quot; + pair.getValue());\r\n            it.remove(); // avoids a ConcurrentModificationException\r\n        }\r\n    }\r\n\r\nRead more about [`Map`](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html).\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/java.util/HashtableentrySet.htm","title":"Iterate through a HashMap","body":"<p>Iterate through the <a href=\"http://www.java2s.com/Code/JavaAPI/java.util/HashtableentrySet.htm\" rel=\"noreferrer\"><code>entrySet()</code></a> like so:</p>\n\n<pre><code>public static void printMap(Map mp) {\n    Iterator it = mp.entrySet().iterator();\n    while (it.hasNext()) {\n        Map.Entry pair = (Map.Entry)it.next();\n        System.out.println(pair.getKey() + \" = \" + pair.getValue());\n        it.remove(); // avoids a ConcurrentModificationException\n    }\n}\n</code></pre>\n\n<p>Read more about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":31485,"reputation":89963,"user_id":86463,"accept_rate":86,"display_name":"harto"},"down_vote_count":3,"up_vote_count":5375,"is_accepted":false,"score":5372,"last_activity_date":1571347525,"creation_date":1246404507,"answer_id":1066607,"question_id":1066589,"body_markdown":"If you&#39;re only interested in the keys, you can iterate through the [`keySet()`][1] of the map:\r\n\r\n    Map&lt;String, Object&gt; map = ...;\r\n\r\n    for (String key : map.keySet()) {\r\n        // ...\r\n    }\r\n\r\nIf you only need the values, use [`values()`][2]:\r\n\r\n    for (Object value : map.values()) {\r\n        // ...\r\n    }\r\n\r\nFinally, if you want both the key and value, use [`entrySet()`][3]:\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Object value = entry.getValue();\r\n        // ...\r\n    }\r\n\r\nOne caveat: if you want to remove items mid-iteration, you&#39;ll need to do so via an Iterator (see [karim79&#39;s answer][4]). However, changing item values is OK (see [`Map.Entry`][5]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#keySet%28%29\r\n  [2]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#values%28%29\r\n  [3]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#entrySet%28%29\r\n  [4]: https://stackoverflow.com/questions/1066589/java-iterate-through-hashmap/1066603#1066603\r\n  [5]: https://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html","title":"Iterate through a HashMap","body":"<p>If you're only interested in the keys, you can iterate through the <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#keySet%28%29\" rel=\"noreferrer\"><code>keySet()</code></a> of the map:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = ...;\n\nfor (String key : map.keySet()) {\n    // ...\n}\n</code></pre>\n\n<p>If you only need the values, use <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#values%28%29\" rel=\"noreferrer\"><code>values()</code></a>:</p>\n\n<pre><code>for (Object value : map.values()) {\n    // ...\n}\n</code></pre>\n\n<p>Finally, if you want both the key and value, use <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"noreferrer\"><code>entrySet()</code></a>:</p>\n\n<pre><code>for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Object value = entry.getValue();\n    // ...\n}\n</code></pre>\n\n<p>One caveat: if you want to remove items mid-iteration, you'll need to do so via an Iterator (see <a href=\"https://stackoverflow.com/questions/1066589/java-iterate-through-hashmap/1066603#1066603\">karim79's answer</a>). However, changing item values is OK (see <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a>).</p>\n"},{"tags":[],"owner":{"account_id":9672,"reputation":4912,"user_id":17967,"accept_rate":66,"display_name":"Gary Kephart"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1664127992,"creation_date":1246404550,"answer_id":1066614,"question_id":1066589,"body_markdown":"It depends. If you know you&#39;re going to need both the key and the value of every entry, then go through the `entrySet`. If you just need the values, then there&#39;s the `values()` method. And if you just need the keys, then use `keyset()`.\r\n\r\nA bad practice would be to iterate through all of the keys, and then within the loop, always do `map.get(key)` to get the value. If you&#39;re doing that, then the first option I wrote is for you.\r\n","title":"Iterate through a HashMap","body":"<p>It depends. If you know you're going to need both the key and the value of every entry, then go through the <code>entrySet</code>. If you just need the values, then there's the <code>values()</code> method. And if you just need the keys, then use <code>keyset()</code>.</p>\n<p>A bad practice would be to iterate through all of the keys, and then within the loop, always do <code>map.get(key)</code> to get the value. If you're doing that, then the first option I wrote is for you.</p>\n"},{"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1524243135,"creation_date":1246405401,"answer_id":1066654,"question_id":1066589,"body_markdown":"You can iterate through the entries in a [`Map`][1] in several ways. Get each key and value like this:\r\n\r\n    Map&lt;?,?&gt; map = new HashMap&lt;Object, Object&gt;();\r\n    for(Entry&lt;?, ?&gt; e: map.entrySet()){\r\n        System.out.println(&quot;Key &quot; + e.getKey());\r\n        System.out.println(&quot;Value &quot; + e.getValue());\r\n    }\r\n\r\nOr you can get the list of keys with\r\n\r\n    Collection&lt;?&gt; keys = map.keySet();\r\n    for(Object key: keys){\r\n        System.out.println(&quot;Key &quot; + key);\r\n        System.out.println(&quot;Value &quot; + map.get(key));\r\n    }\r\n\r\nIf you just want to get all of the values and aren&#39;t concerned with the keys, you can use:\r\n\r\n    Collection&lt;?&gt; values = map.values();\r\n\r\n   [1]:http://java.sun.com/javase/6/docs/api/java/util/Map.html\r\n","title":"Iterate through a HashMap","body":"<p>You can iterate through the entries in a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> in several ways. Get each key and value like this:</p>\n\n<pre><code>Map&lt;?,?&gt; map = new HashMap&lt;Object, Object&gt;();\nfor(Entry&lt;?, ?&gt; e: map.entrySet()){\n    System.out.println(\"Key \" + e.getKey());\n    System.out.println(\"Value \" + e.getValue());\n}\n</code></pre>\n\n<p>Or you can get the list of keys with</p>\n\n<pre><code>Collection&lt;?&gt; keys = map.keySet();\nfor(Object key: keys){\n    System.out.println(\"Key \" + key);\n    System.out.println(\"Value \" + map.get(key));\n}\n</code></pre>\n\n<p>If you just want to get all of the values and aren't concerned with the keys, you can use:</p>\n\n<pre><code>Collection&lt;?&gt; values = map.values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":640118,"reputation":971,"user_id":417084,"display_name":"jkarretero"},"down_vote_count":26,"up_vote_count":102,"is_accepted":false,"score":76,"last_activity_date":1281520864,"creation_date":1281520864,"answer_id":3457226,"question_id":1066589,"body_markdown":"Smarter:\r\n\r\n    for (String key : hashMap.keySet()) {\r\n        System.out.println(&quot;Key: &quot; + key + &quot;, Value: &quot; + map.get(key));\r\n    }","title":"Iterate through a HashMap","body":"<p>Smarter:</p>\n\n<pre><code>for (String key : hashMap.keySet()) {\n    System.out.println(\"Key: \" + key + \", Value: \" + map.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254685,"reputation":4299,"user_id":838228,"accept_rate":10,"display_name":"gabor"},"down_vote_count":1,"up_vote_count":185,"is_accepted":false,"score":184,"last_activity_date":1551355756,"creation_date":1311384531,"answer_id":6797672,"question_id":1066589,"body_markdown":"    for (Map.Entry&lt;String, String&gt; item : hashMap.entrySet()) {\r\n        String key = item.getKey();\r\n        String value = item.getValue();\r\n    }","title":"Iterate through a HashMap","body":"<pre><code>for (Map.Entry&lt;String, String&gt; item : hashMap.entrySet()) {\n    String key = item.getKey();\n    String value = item.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093886,"reputation":8785,"user_id":1087918,"display_name":"arvind"},"down_vote_count":3,"up_vote_count":876,"is_accepted":false,"score":873,"last_activity_date":1467833583,"creation_date":1323353960,"answer_id":8432400,"question_id":1066589,"body_markdown":"Extracted from the reference *[How to Iterate Over a Map in Java][1]*:\r\n\r\nThere are several ways of iterating over a `Map` in Java. Let&#39;s go over the most common methods and review their advantages and disadvantages. Since all maps in Java implement the Map interface, the following techniques will work for any map implementation (`HashMap`, `TreeMap`, `LinkedHashMap`, `Hashtable`, etc.)\r\n\r\n**Method #1**: Iterating over entries using a For-Each loop.\r\n\r\nThis is the most common method and is preferable in most cases. It should be used if you need both map keys and values in the loop.\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    for (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\r\n        System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n    }\r\n\r\nNote that the For-Each loop was introduced in Java 5, so this method is working only in newer versions of the language. Also a For-Each loop will throw `NullPointerException` if you try to iterate over a map that is null, so before iterating you should always check for null references.\r\n\r\n**Method #2**: Iterating over keys or values using a For-Each loop.\r\n\r\nIf you need only keys or values from the map, you can iterate over keySet or values instead of entrySet.\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n    // Iterating over keys only\r\n    for (Integer key : map.keySet()) {\r\n        System.out.println(&quot;Key = &quot; + key);\r\n    }\r\n\r\n    // Iterating over values only\r\n    for (Integer value : map.values()) {\r\n        System.out.println(&quot;Value = &quot; + value);\r\n    }\r\n\r\nThis method gives a slight performance advantage over `entrySet` iteration (about 10% faster) and is more clean.\r\n\r\n**Method #3**: Iterating using Iterator.\r\n\r\nUsing Generics:\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n        Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\r\n        System.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n    }\r\n\r\nWithout Generics:\r\n\r\n    Map map = new HashMap();\r\n    Iterator entries = map.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n        Map.Entry entry = (Map.Entry) entries.next();\r\n        Integer key = (Integer)entry.getKey();\r\n        Integer value = (Integer)entry.getValue();\r\n        System.out.println(&quot;Key = &quot; + key + &quot;, Value = &quot; + value);\r\n    }\r\n\r\nYou can also use same technique to iterate over `keySet` or values.\r\n\r\nThis method might look redundant, but it has its own advantages. First of all, it is the only way to iterate over a map in older versions of Java. The other important feature is that it is the only method that allows you to remove entries from the map during iteration by calling `iterator.remove()`. If you try to do this during For-Each iteration you will get &quot;unpredictable results&quot; according to [Javadoc][2].\r\n\r\nFrom a performance point of view this method is equal to a For-Each iteration.\r\n\r\n**Method #4**: Iterating over keys and searching for values (inefficient).\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    for (Integer key : map.keySet()) {\r\n        Integer value = map.get(key);\r\n        System.out.println(&quot;Key = &quot; + key + &quot;, Value = &quot; + value);\r\n    }\r\n\r\nThis might look like a cleaner alternative for method #1, but in practice it is pretty slow and inefficient as getting values by a key might be time-consuming (this method in different Map implementations is 20%-200% slower than method #1). If you have FindBugs installed, it will detect this and warn you about inefficient iteration. This method should be avoided.\r\n\r\n**Conclusion:**\r\n\r\nIf you need only keys or values from the map, use method #2. If you are stuck with older version of Java (less than 5) or planning to remove entries during iteration, you have to use method #3. Otherwise use method #1.\r\n\r\n  [1]: http://www.sergiy.ca/how-to-iterate-over-a-map-in-java\r\n  [2]: https://en.wikipedia.org/wiki/Javadoc\r\n","title":"Iterate through a HashMap","body":"<p>Extracted from the reference <em><a href=\"http://www.sergiy.ca/how-to-iterate-over-a-map-in-java\">How to Iterate Over a Map in Java</a></em>:</p>\n\n<p>There are several ways of iterating over a <code>Map</code> in Java. Let's go over the most common methods and review their advantages and disadvantages. Since all maps in Java implement the Map interface, the following techniques will work for any map implementation (<code>HashMap</code>, <code>TreeMap</code>, <code>LinkedHashMap</code>, <code>Hashtable</code>, etc.)</p>\n\n<p><strong>Method #1</strong>: Iterating over entries using a For-Each loop.</p>\n\n<p>This is the most common method and is preferable in most cases. It should be used if you need both map keys and values in the loop.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n\n<p>Note that the For-Each loop was introduced in Java 5, so this method is working only in newer versions of the language. Also a For-Each loop will throw <code>NullPointerException</code> if you try to iterate over a map that is null, so before iterating you should always check for null references.</p>\n\n<p><strong>Method #2</strong>: Iterating over keys or values using a For-Each loop.</p>\n\n<p>If you need only keys or values from the map, you can iterate over keySet or values instead of entrySet.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n\n// Iterating over keys only\nfor (Integer key : map.keySet()) {\n    System.out.println(\"Key = \" + key);\n}\n\n// Iterating over values only\nfor (Integer value : map.values()) {\n    System.out.println(\"Value = \" + value);\n}\n</code></pre>\n\n<p>This method gives a slight performance advantage over <code>entrySet</code> iteration (about 10% faster) and is more clean.</p>\n\n<p><strong>Method #3</strong>: Iterating using Iterator.</p>\n\n<p>Using Generics:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n\n<p>Without Generics:</p>\n\n<pre><code>Map map = new HashMap();\nIterator entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry entry = (Map.Entry) entries.next();\n    Integer key = (Integer)entry.getKey();\n    Integer value = (Integer)entry.getValue();\n    System.out.println(\"Key = \" + key + \", Value = \" + value);\n}\n</code></pre>\n\n<p>You can also use same technique to iterate over <code>keySet</code> or values.</p>\n\n<p>This method might look redundant, but it has its own advantages. First of all, it is the only way to iterate over a map in older versions of Java. The other important feature is that it is the only method that allows you to remove entries from the map during iteration by calling <code>iterator.remove()</code>. If you try to do this during For-Each iteration you will get \"unpredictable results\" according to <a href=\"https://en.wikipedia.org/wiki/Javadoc\">Javadoc</a>.</p>\n\n<p>From a performance point of view this method is equal to a For-Each iteration.</p>\n\n<p><strong>Method #4</strong>: Iterating over keys and searching for values (inefficient).</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (Integer key : map.keySet()) {\n    Integer value = map.get(key);\n    System.out.println(\"Key = \" + key + \", Value = \" + value);\n}\n</code></pre>\n\n<p>This might look like a cleaner alternative for method #1, but in practice it is pretty slow and inefficient as getting values by a key might be time-consuming (this method in different Map implementations is 20%-200% slower than method #1). If you have FindBugs installed, it will detect this and warn you about inefficient iteration. This method should be avoided.</p>\n\n<p><strong>Conclusion:</strong></p>\n\n<p>If you need only keys or values from the map, use method #2. If you are stuck with older version of Java (less than 5) or planning to remove entries during iteration, you have to use method #3. Otherwise use method #1.</p>\n"}],"owner":{"account_id":31021,"reputation":57580,"user_id":84916,"accept_rate":83,"display_name":"burntsugar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4421478,"favorite_count":0,"down_vote_count":17,"up_vote_count":3777,"closed_date":1573200556,"accepted_answer_id":1066603,"answer_count":7,"score":3760,"last_activity_date":1664127992,"creation_date":1246404254,"question_id":1066589,"body_markdown":"What&#39;s the best way to iterate over the items in a [`HashMap`][1]?\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/HashMap.html","title":"Iterate through a HashMap","body":"<p>What's the best way to iterate over the items in a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a>?</p>\n"},{"tags":["java","android","http","header","httpclient"],"answers":[{"tags":[],"owner":{"account_id":10307,"reputation":19872,"user_id":19405,"display_name":"nobody"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1294103750,"creation_date":1294103750,"answer_id":4589875,"question_id":4589817,"body_markdown":"The HTTP server sends the headers first. Whether the particular HTTP client you&#39;re using exposes them ahead of time is a separate matter.","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p>The HTTP server sends the headers first. Whether the particular HTTP client you're using exposes them ahead of time is a separate matter.</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1294104373,"creation_date":1294104373,"answer_id":4589923,"question_id":4589817,"body_markdown":"If the content-length header field is sent in the response header, you can read it before the response body. But sometimes (dynamically generatted content, unbuffered) it can be omitted ([rfc][1]).  This is what happens  when your browser can&#39;t display a progress bar while downloading.\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p>If the content-length header field is sent in the response header, you can read it before the response body. But sometimes (dynamically generatted content, unbuffered) it can be omitted (<a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13\" rel=\"nofollow\">rfc</a>).  This is what happens  when your browser can't display a progress bar while downloading.</p>\n"},{"tags":[],"owner":{"account_id":83601,"reputation":4096,"user_id":234261,"accept_rate":100,"display_name":"diedthreetimes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664127791,"creation_date":1294105411,"answer_id":4589993,"question_id":4589817,"body_markdown":"In short, yes the headers come in first. Always. \r\n\r\nAs you mention **HEAD** request will allow the client to fetch only the headers and no content, however via a **GET** request the headers are always available, and arrive before the actual content. However the content-length field is optional for dynamic content, so it may not ever be available. \r\n\r\nDepending on your implementation the stream may or may not be buffered at all. But in most cases, when reading via the stream operators, you receive the content in some small buffered unit, usually a line.","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p>In short, yes the headers come in first. Always.</p>\n<p>As you mention <strong>HEAD</strong> request will allow the client to fetch only the headers and no content, however via a <strong>GET</strong> request the headers are always available, and arrive before the actual content. However the content-length field is optional for dynamic content, so it may not ever be available.</p>\n<p>Depending on your implementation the stream may or may not be buffered at all. But in most cases, when reading via the stream operators, you receive the content in some small buffered unit, usually a line.</p>\n"},{"tags":[],"owner":{"account_id":268833,"reputation":5127,"user_id":557826,"display_name":"Zeki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294106063,"creation_date":1294106063,"answer_id":4590040,"question_id":4589817,"body_markdown":"The httpclient commons class streams directly from the socket so it does not waste memory.  If the content-length header is passed, you can read it without reading in the whole response body.\r\n\r\nSee http://hc.apache.org/httpclient-3.x/features.html\r\n\r\n","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p>The httpclient commons class streams directly from the socket so it does not waste memory.  If the content-length header is passed, you can read it without reading in the whole response body.</p>\n\n<p>See <a href=\"http://hc.apache.org/httpclient-3.x/features.html\" rel=\"nofollow\">http://hc.apache.org/httpclient-3.x/features.html</a></p>\n"},{"tags":[],"owner":{"account_id":2131582,"reputation":1594,"user_id":1892308,"display_name":"Istopopoki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623140588,"creation_date":1623140588,"answer_id":67884004,"question_id":4589817,"body_markdown":"The headers always come before the body, and the status before the headers. See the [HTTP specification][1], section &quot;4.1 Message Types&quot;.\r\n\r\nThe format of a generic HTTP message is :\r\n\r\n```\r\n        generic-message = start-line\r\n                          *(message-header CRLF)\r\n                          CRLF\r\n                          [ message-body ]\r\n        start-line      = Request-Line | Status-Line\r\n```\r\n\r\nFor a response, start-line contains the Status-Line. It must be followed by the headers, and then the eventual message body.\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p>The headers always come before the body, and the status before the headers. See the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html\" rel=\"nofollow noreferrer\">HTTP specification</a>, section &quot;4.1 Message Types&quot;.</p>\n<p>The format of a generic HTTP message is :</p>\n<pre><code>        generic-message = start-line\n                          *(message-header CRLF)\n                          CRLF\n                          [ message-body ]\n        start-line      = Request-Line | Status-Line\n</code></pre>\n<p>For a response, start-line contains the Status-Line. It must be followed by the headers, and then the eventual message body.</p>\n"}],"owner":{"account_id":143105,"reputation":993,"user_id":351220,"accept_rate":100,"display_name":"irwinb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1655,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4589923,"answer_count":5,"score":4,"last_activity_date":1664127791,"creation_date":1294102813,"question_id":4589817,"body_markdown":"**What I am doing**:\r\n Trying to get familiar with the HTTP protocol and it&#39;s implementation.\r\n\r\n**My question**:\r\n Is it possible to get the headers (specifically Content-Length) of an HTTP GET before you    read the actual body?  From what I understand, I could use a HEAD call for that purpose, but am trying to see if it is even required.  Specifically, in the HttpClient commons library (and most other I guess), there are methods to retrieve the response body as a stream.  Is this stream being read from the socket as it&#39;s coming in or has it already been buffered?\r\n\r\nThanks!","title":"On an HTTP GET, do the headers come in first, following with the body (using the HttpClient library from apache)?","body":"<p><strong>What I am doing</strong>:\n Trying to get familiar with the HTTP protocol and it's implementation.</p>\n\n<p><strong>My question</strong>:\n Is it possible to get the headers (specifically Content-Length) of an HTTP GET before you    read the actual body?  From what I understand, I could use a HEAD call for that purpose, but am trying to see if it is even required.  Specifically, in the HttpClient commons library (and most other I guess), there are methods to retrieve the response body as a stream.  Is this stream being read from the socket as it's coming in or has it already been buffered?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","akka","akka-typed"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1632840955,"post_id":69361006,"comment_id":122599799,"body_markdown":"`Receive` is just a special `Behavior` (which brings up the question of what makes it special beyond that it was built using `ReceiveBuilder`), so you could turn it around and have your `something()` just be `return createReceive()`.","body":"<code>Receive</code> is just a special <code>Behavior</code> (which brings up the question of what makes it special beyond that it was built using <code>ReceiveBuilder</code>), so you could turn it around and have your <code>something()</code> just be <code>return createReceive()</code>."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1632841059,"post_id":69361006,"comment_id":122599837,"body_markdown":"Since `Receive`/`Behavior` are really just functions in disguise, I also don&#39;t see why you couldn&#39;t save the built `Receive` in a field.","body":"Since <code>Receive</code>/<code>Behavior</code> are really just functions in disguise, I also don&#39;t see why you couldn&#39;t save the built <code>Receive</code> in a field."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1632857366,"post_id":69361006,"comment_id":122606209,"body_markdown":"@LeviRamsey Thanks, that&#39;s a good suggestion, I only always tried it the other way without realizing that a `Receive` actually IS a `Behavior`. Still not sure why it is actually required, `createReceive` could easily be replaced by a `createBehavior()` and return a `Behavior`, removing the need for Receive at all.","body":"@LeviRamsey Thanks, that&#39;s a good suggestion, I only always tried it the other way without realizing that a <code>Receive</code> actually IS a <code>Behavior</code>. Still not sure why it is actually required, <code>createReceive</code> could easily be replaced by a <code>createBehavior()</code> and return a <code>Behavior</code>, removing the need for Receive at all."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1632858706,"post_id":69361006,"comment_id":122606662,"body_markdown":"It&#39;s interesting that the analogue in the scaladsl (I basically only use the functional style and the scaladsl) is `def onMessage(msg: T): Behavior[T]`.  The only plausible thing I can think of is that `Receive&lt;T&gt;` (to match the classic API) is the original typed OO API and it persists for backward compatibility and the functional API introduced the idea of `Behavior`.","body":"It&#39;s interesting that the analogue in the scaladsl (I basically only use the functional style and the scaladsl) is <code>def onMessage(msg: T): Behavior[T]</code>.  The only plausible thing I can think of is that <code>Receive&lt;T&gt;</code> (to match the classic API) is the original typed OO API and it persists for backward compatibility and the functional API introduced the idea of <code>Behavior</code>."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1663254651,"post_id":69361006,"comment_id":130200869,"body_markdown":"See https://github.com/akka/akka/issues/31531","body":"See <a href=\"https://github.com/akka/akka/issues/31531\" rel=\"nofollow noreferrer\">github.com/akka/akka/issues/31531</a>"}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664127785,"creation_date":1664127785,"answer_id":73846601,"question_id":69361006,"body_markdown":"Akka 2.7.0 will introduce an alternative API for defining a behavior which is basically a port of the Scala API.\r\n\r\n```java\r\npublic class MyActor extends AbstractOnMessageBehavior&lt;MyActor.Command&gt;\r\n    public static interface Command {}\r\n\r\n    public static class SomeCommand extends Command {\r\n        public static SomeCommand INSTANCE = new SomeCommand();\r\n        private SomeCommand() {}\r\n    }\r\n\r\n    public MyActor(ActorContext&lt;Command&gt; context) {\r\n        super(context);\r\n    }\r\n\r\n    @Override\r\n    public Behavior&lt;Command&gt; onMessage(Command msg) {\r\n      if (msg instanceof SomeCommand) { return something((SomeCommand)msg); }\r\n      else return Behaviors.unhandled();\r\n    }\r\n\r\n    private Behavior&lt;Command&gt; something(SomeCommand sc) {\r\n      // FIXME: actually do something useful\r\n      return Behaviors.same()\r\n    }\r\n}\r\n```\r\n\r\n(Apologies if the Java is atrocious)\r\n\r\nThis API is likely slightly lower overhead than the current Java `AbstractBehavior` API: the `ReceiveBuilder` and `BehaviorBuilder` APIs are effectively compiling a domain-specific language like:\r\n\r\n```java\r\nnewReceiveBuilder()\r\n    .onMessage(SomeMessage.class, this::something)\r\n    .build()\r\n```\r\n\r\ninto\r\n\r\n```java\r\nif (msg instanceof SomeMessage) { return something((SomeMessage)msg); }\r\nelse return Behaviors.unhandled();\r\n```\r\n\r\nwhenever an instance of this behavior handles its first message (i.e. when an actor handles its first message after transitioning to this behavior).  When staying in this behavior, there&#39;s also some overhead of checking if the `Receive` has been built already (though JIT may largely eliminate that).\r\n\r\nThe benefit of the `ReceiveBuilder`/`BehaviorBuilder` APIs is that the `instanceof` checks and casts are hidden: the developer ergonomic improvement is worth some small overhead.  The `AbstractOnMessageBehavior` lets you opt out of the builder APIs:\r\n\r\n* You can, effectively, manually compile the builder into `instanceof` and cast like I did above (this will work on any Java version); if you&#39;re on Java 8/11 and want max performance, this might be worth trying (but always, always, benchmark!)\r\n* You can use language features (&quot;pattern matching&quot;) to have the Java compiler build the `instanceof`-and-cast logic... this should also make it easier to define a behavior in Kotlin or other JVM language which supports pattern matching.  This might even be more ergonomic than the builders.\r\n* You can also use a different approach entirely (e.g. one leveraging virtual method dispatch)","title":"Remove duplication with AbstractBehavior.createReceive","body":"<p>Akka 2.7.0 will introduce an alternative API for defining a behavior which is basically a port of the Scala API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActor extends AbstractOnMessageBehavior&lt;MyActor.Command&gt;\n    public static interface Command {}\n\n    public static class SomeCommand extends Command {\n        public static SomeCommand INSTANCE = new SomeCommand();\n        private SomeCommand() {}\n    }\n\n    public MyActor(ActorContext&lt;Command&gt; context) {\n        super(context);\n    }\n\n    @Override\n    public Behavior&lt;Command&gt; onMessage(Command msg) {\n      if (msg instanceof SomeCommand) { return something((SomeCommand)msg); }\n      else return Behaviors.unhandled();\n    }\n\n    private Behavior&lt;Command&gt; something(SomeCommand sc) {\n      // FIXME: actually do something useful\n      return Behaviors.same()\n    }\n}\n</code></pre>\n<p>(Apologies if the Java is atrocious)</p>\n<p>This API is likely slightly lower overhead than the current Java <code>AbstractBehavior</code> API: the <code>ReceiveBuilder</code> and <code>BehaviorBuilder</code> APIs are effectively compiling a domain-specific language like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>newReceiveBuilder()\n    .onMessage(SomeMessage.class, this::something)\n    .build()\n</code></pre>\n<p>into</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (msg instanceof SomeMessage) { return something((SomeMessage)msg); }\nelse return Behaviors.unhandled();\n</code></pre>\n<p>whenever an instance of this behavior handles its first message (i.e. when an actor handles its first message after transitioning to this behavior).  When staying in this behavior, there's also some overhead of checking if the <code>Receive</code> has been built already (though JIT may largely eliminate that).</p>\n<p>The benefit of the <code>ReceiveBuilder</code>/<code>BehaviorBuilder</code> APIs is that the <code>instanceof</code> checks and casts are hidden: the developer ergonomic improvement is worth some small overhead.  The <code>AbstractOnMessageBehavior</code> lets you opt out of the builder APIs:</p>\n<ul>\n<li>You can, effectively, manually compile the builder into <code>instanceof</code> and cast like I did above (this will work on any Java version); if you're on Java 8/11 and want max performance, this might be worth trying (but always, always, benchmark!)</li>\n<li>You can use language features (&quot;pattern matching&quot;) to have the Java compiler build the <code>instanceof</code>-and-cast logic... this should also make it easier to define a behavior in Kotlin or other JVM language which supports pattern matching.  This might even be more ergonomic than the builders.</li>\n<li>You can also use a different approach entirely (e.g. one leveraging virtual method dispatch)</li>\n</ul>\n"}],"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664127785,"creation_date":1632828966,"question_id":69361006,"body_markdown":"when implementing an Akka Typed actor by extending createReceive, we will see something like this:\r\n\r\n    @Override\r\n    public Receive&lt;Command&gt; createReceive()\r\n    {\r\n       return newReceiveBuilder()\r\n               .onMessage(SomeCommand.class, s -&gt; something())\r\n               .build();\r\n    }\r\n\r\n..with `something()` returning a `Behavior`, for example:\r\n\r\n    public Behavior&lt;Command&gt; something() \r\n    {\r\n         return Behaviors.receive(Command.class)\r\n               .onMessage(SomeCommand.class, m -&gt; something())\r\n               .build();\r\n    }\r\n\r\nBut now we can see that `createReceive()` and `something()` being pretty much duplicates. In other words, whenever I return to the &quot;initial&quot; state, I will get this code duplication. So, the question is:\r\n\r\nCan I somehow implement `createReceive()` by re-using the `something()` method? For example, is something like this possible...\r\n\r\n    @Override\r\n    public Receive&lt;Command&gt; createReceive()\r\n    {\r\n       return Behaviors.behave( this::something);\r\n    }\r\n\r\n(Of course, `Behaviors.behave` does not exist like this, the question is, does something like this exists, &quot;converting&quot; a Behavior to a receive?) ","title":"Remove duplication with AbstractBehavior.createReceive","body":"<p>when implementing an Akka Typed actor by extending createReceive, we will see something like this:</p>\n<pre><code>@Override\npublic Receive&lt;Command&gt; createReceive()\n{\n   return newReceiveBuilder()\n           .onMessage(SomeCommand.class, s -&gt; something())\n           .build();\n}\n</code></pre>\n<p>..with <code>something()</code> returning a <code>Behavior</code>, for example:</p>\n<pre><code>public Behavior&lt;Command&gt; something() \n{\n     return Behaviors.receive(Command.class)\n           .onMessage(SomeCommand.class, m -&gt; something())\n           .build();\n}\n</code></pre>\n<p>But now we can see that <code>createReceive()</code> and <code>something()</code> being pretty much duplicates. In other words, whenever I return to the &quot;initial&quot; state, I will get this code duplication. So, the question is:</p>\n<p>Can I somehow implement <code>createReceive()</code> by re-using the <code>something()</code> method? For example, is something like this possible...</p>\n<pre><code>@Override\npublic Receive&lt;Command&gt; createReceive()\n{\n   return Behaviors.behave( this::something);\n}\n</code></pre>\n<p>(Of course, <code>Behaviors.behave</code> does not exist like this, the question is, does something like this exists, &quot;converting&quot; a Behavior to a receive?)</p>\n"},{"tags":["java","class"],"answers":[{"tags":[],"owner":{"account_id":20500016,"reputation":1,"user_id":15044136,"display_name":"Abnormal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664127066,"creation_date":1664127066,"answer_id":73846519,"question_id":73846424,"body_markdown":"&gt; So my first question is-- how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do this.year=0?\r\n\r\nYes.\r\n\r\nIn java every Object has `toString()` method. If you don&#39;t override it, it will give you class name and hash code. To override method you need to add `@override` before your method. The final result should be like this:\r\n```java\r\npublic class Car {\r\n\r\n    private int year;\r\n    private String make;\r\n    private double speed;\r\n\r\n    public Car(int year, String make) {\r\n        this.year = year;\r\n        this.make = make;\r\n        this.speed = 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed);\r\n    }\r\n}\r\n```","title":"Creating a basic class in Java and the toString method","body":"<blockquote>\n<p>So my first question is-- how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do this.year=0?</p>\n</blockquote>\n<p>Yes.</p>\n<p>In java every Object has <code>toString()</code> method. If you don't override it, it will give you class name and hash code. To override method you need to add <code>@override</code> before your method. The final result should be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Car {\n\n    private int year;\n    private String make;\n    private double speed;\n\n    public Car(int year, String make) {\n        this.year = year;\n        this.make = make;\n        this.speed = 0;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11964762,"reputation":561,"user_id":8754804,"display_name":"Mehrdad Moradi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664127228,"creation_date":1664127228,"answer_id":73846540,"question_id":73846424,"body_markdown":"&gt; how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do this.year=0?\r\n\r\nYes since the constructor takes in no parameters to set the speed, it would make sense to do:\r\n```java\r\nthis.speed = 0 // or speed = 0 since there is no conflict in name with the incoming parameters\r\n```\r\nso your constructor for the `Car` class would look like: (I prefer using the `this` keyword because it helps me stay consistent and know that I&#39;m dealing with an instance variable when I see it.)\r\n```java\r\npublic Car(int year, String make) {\r\n   this.year = year;\r\n   this.make = make;\r\n   this.speed = 0;\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nEvery class in java has a default implementation for the to [toString][1] method.\r\n&gt; Default behavior of toString() is to print class name, then @, then unsigned hexadecimal representation of the hash code of the object.\r\n\r\nIf you want a different behaviour, you can [override][2] the method:\r\n\r\n```java\r\n@Override\r\npublic String toString() {\r\n    return String.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed);\r\n}\r\n```\r\nThis will be included within the `Car` class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\r\n  [2]: https://www.geeksforgeeks.org/overriding-in-java/","title":"Creating a basic class in Java and the toString method","body":"<blockquote>\n<p>how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do this.year=0?</p>\n</blockquote>\n<p>Yes since the constructor takes in no parameters to set the speed, it would make sense to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.speed = 0 // or speed = 0 since there is no conflict in name with the incoming parameters\n</code></pre>\n<p>so your constructor for the <code>Car</code> class would look like: (I prefer using the <code>this</code> keyword because it helps me stay consistent and know that I'm dealing with an instance variable when I see it.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Car(int year, String make) {\n   this.year = year;\n   this.make = make;\n   this.speed = 0;\n}\n</code></pre>\n<hr />\n<p>Every class in java has a default implementation for the to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\">toString</a> method.</p>\n<blockquote>\n<p>Default behavior of toString() is to print class name, then @, then unsigned hexadecimal representation of the hash code of the object.</p>\n</blockquote>\n<p>If you want a different behaviour, you can <a href=\"https://www.geeksforgeeks.org/overriding-in-java/\" rel=\"nofollow noreferrer\">override</a> the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    return String.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed);\n}\n</code></pre>\n<p>This will be included within the <code>Car</code> class.</p>\n"}],"owner":{"account_id":25267846,"reputation":1,"user_id":19097677,"display_name":"andrewlaedus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1664127228,"creation_date":1664126248,"question_id":73846424,"body_markdown":"I am new to Java and working through some coding assignments to better my understanding. In this particular one, I am making a Car class so that it conforms to the following UML:\r\n\r\n\r\n\r\n    -make: String\r\n    -year: int\r\n    -speed: double\r\n    \r\n    +Car(m:String,y:int)\r\n    +toString(): String\r\n    +getMake(): String\r\n    +getSpeed(): double\r\n    +getYear(): int\r\n    +accelerate(): void\r\n    +brake(): void\r\n\r\nFirst, I am creating three instance variables within the class: an int that holds the car&#39;s model year, a String that holds the car&#39;s make, a double that holds the car&#39;s speed. These should be listed as private.\r\n\r\nNext, I am to create a constructor that accepts the model year and make and sets the speed to 0. Note that either the constructor&#39;s parameters should be a different name than the instance variables or use the &quot; this &quot; qualifier when placing the parameter&#39;s value into the instance variable.\r\n\r\nSo far, this is my code per the given instructions:\r\n\r\n    \r\n\r\n        public class Car\r\n    {\r\n    private int year;\r\n    private String make;\r\n    private double speed;\r\n    \r\n    public Car(String make, int year) {\r\n       this.make = make;\r\n       this.year = year;\r\n       speed = 0;\r\n    public String toString(){\r\n\r\n\r\n\r\n\r\nSo my first question is-- how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do speed=0 under the constructor?\r\n\r\nMy next question is in regards to the following instruction: &quot;Code the toString method. This method should take no parameters and should return a string generated using the String.format method:\r\n\r\nString.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed)\r\n\r\nNow, compile your Car class and correct any errors\r\n\r\n\r\nSo I have done research on the toString format and the String.format but am unsure of where to place it in the code. Would it just be one line after the public static void main(String[] args)?\r\n","title":"Creating a basic class in Java and the toString method","body":"<p>I am new to Java and working through some coding assignments to better my understanding. In this particular one, I am making a Car class so that it conforms to the following UML:</p>\n<pre><code>-make: String\n-year: int\n-speed: double\n\n+Car(m:String,y:int)\n+toString(): String\n+getMake(): String\n+getSpeed(): double\n+getYear(): int\n+accelerate(): void\n+brake(): void\n</code></pre>\n<p>First, I am creating three instance variables within the class: an int that holds the car's model year, a String that holds the car's make, a double that holds the car's speed. These should be listed as private.</p>\n<p>Next, I am to create a constructor that accepts the model year and make and sets the speed to 0. Note that either the constructor's parameters should be a different name than the instance variables or use the &quot; this &quot; qualifier when placing the parameter's value into the instance variable.</p>\n<p>So far, this is my code per the given instructions:</p>\n<pre><code>    public class Car\n{\nprivate int year;\nprivate String make;\nprivate double speed;\n\npublic Car(String make, int year) {\n   this.make = make;\n   this.year = year;\n   speed = 0;\npublic String toString(){\n</code></pre>\n<p>So my first question is-- how do I set the speed equal to zero using the &quot;this&quot; keyword? Should I just do speed=0 under the constructor?</p>\n<p>My next question is in regards to the following instruction: &quot;Code the toString method. This method should take no parameters and should return a string generated using the String.format method:</p>\n<p>String.format(&quot;A %d %s that is going %.1f mph&quot;, year, make, speed)</p>\n<p>Now, compile your Car class and correct any errors</p>\n<p>So I have done research on the toString format and the String.format but am unsure of where to place it in the code. Would it just be one line after the public static void main(String[] args)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1664127458,"post_id":73846539,"comment_id":130395183,"body_markdown":"https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson","body":"<a href=\"https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson\" title=\"deserializing generic types with gson\">stackoverflow.com/questions/18397342/&hellip;</a>"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1664128160,"post_id":73846539,"comment_id":130395328,"body_markdown":"The thing is that generics in Java are there to provide extended static time type checking. At runtime, generics are erased. So if I understand your question correctly, it is not possible to do what you are trying to do with generics in Java","body":"The thing is that generics in Java are there to provide extended static time type checking. At runtime, generics are erased. So if I understand your question correctly, it is not possible to do what you are trying to do with generics in Java"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1664128328,"post_id":73846539,"comment_id":130395356,"body_markdown":"Instead, I recommend using the factory pattern where you can add type handlers (ie handler registers for handling of one type of message through some form of identification)","body":"Instead, I recommend using the factory pattern where you can add type handlers (ie handler registers for handling of one type of message through some form of identification)"},{"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"score":0,"creation_date":1664299443,"post_id":73846539,"comment_id":130438196,"body_markdown":"I don&#39;t quite understand what you mean?","body":"I don&#39;t quite understand what you mean?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666162201,"post_id":73846539,"comment_id":130867120,"body_markdown":"Does this answer your question? [Deserializing Generic Types with GSON](https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18397342/deserializing-generic-types-with-gson\">Deserializing Generic Types with GSON</a>"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664127225,"creation_date":1664127225,"question_id":73846539,"body_markdown":"I&#39;m trying to make the import From JSON method universal for working with different classes. But I&#39;m confused about these generics.\r\n\r\n    private &lt;T&gt; List&lt;T&gt; importFromJSON(DataItems&lt;T&gt; dataItems) { \r\n      try(FileInputStream fileInputStream = context.openFileInput(fileName);\r\n          InputStreamReader streamReader = new InputStreamReader(fileInputStream)){\r\n      Gson gson = new Gson(); \r\n      dataItems = gson.fromJson(streamReader, DataItems&lt;&gt;.class); \r\n      return  dataItems.getList(); \r\n     } \r\n     catch (IOException ex){ \r\n      ex.printStackTrace(); \r\n     } \r\n     return null; \r\n    } \r\n\r\n    public class DataItems&lt;E&gt; { \r\n     \r\n        private List&lt;E&gt; list; \r\n     \r\n        public List&lt;E&gt; getList() { \r\n            return list; \r\n        } \r\n     \r\n        public void setList(List&lt;E&gt; list) { \r\n            this.list = list; \r\n        } \r\n    } \r\n  \r\n\r\n    public class House { \r\n        int number; \r\n        String name; \r\n    } \r\n\r\njson file\r\n\r\n    {&quot;list&quot;:[{&quot;name&quot;:&quot;01&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;02&quot;,&quot;id&quot;:2}]}\r\n\r\n \r\nI call this method already with a specific type\r\n\r\n    DataItems&lt;House&gt; dataItems = new DataItems&lt;&gt;(); \r\n    importFromJSON(dataItems); \r\n\r\n \r\nEverything is readable, as a result of executing import From JSON, I get a list of objects, but only instead of the int type, for some reason there is a Double type\r\nAnd when trying to pull an object from this list  \r\n\r\n    House house = (House) list.get(0); \r\n\r\n Exception: \r\n\r\n    java.lang.ClassCastException LinkedTreeMap cannot be cast to House\r\n\r\n\r\n\r\n","title":"How to make the method universal using generics","body":"<p>I'm trying to make the import From JSON method universal for working with different classes. But I'm confused about these generics.</p>\n<pre><code>private &lt;T&gt; List&lt;T&gt; importFromJSON(DataItems&lt;T&gt; dataItems) { \n  try(FileInputStream fileInputStream = context.openFileInput(fileName);\n      InputStreamReader streamReader = new InputStreamReader(fileInputStream)){\n  Gson gson = new Gson(); \n  dataItems = gson.fromJson(streamReader, DataItems&lt;&gt;.class); \n  return  dataItems.getList(); \n } \n catch (IOException ex){ \n  ex.printStackTrace(); \n } \n return null; \n} \n\npublic class DataItems&lt;E&gt; { \n \n    private List&lt;E&gt; list; \n \n    public List&lt;E&gt; getList() { \n        return list; \n    } \n \n    public void setList(List&lt;E&gt; list) { \n        this.list = list; \n    } \n} \n\n\npublic class House { \n    int number; \n    String name; \n} \n</code></pre>\n<p>json file</p>\n<pre><code>{&quot;list&quot;:[{&quot;name&quot;:&quot;01&quot;,&quot;id&quot;:1},{&quot;name&quot;:&quot;02&quot;,&quot;id&quot;:2}]}\n</code></pre>\n<p>I call this method already with a specific type</p>\n<pre><code>DataItems&lt;House&gt; dataItems = new DataItems&lt;&gt;(); \nimportFromJSON(dataItems); \n</code></pre>\n<p>Everything is readable, as a result of executing import From JSON, I get a list of objects, but only instead of the int type, for some reason there is a Double type\nAnd when trying to pull an object from this list</p>\n<pre><code>House house = (House) list.get(0); \n</code></pre>\n<p> Exception:</p>\n<pre><code>java.lang.ClassCastException LinkedTreeMap cannot be cast to House\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1657474039,"creation_date":1657464523,"answer_id":72929376,"question_id":72929252,"body_markdown":"The [GraphQLContext][1] has method `getHttpServletRequest()` which returns \r\n\r\n    java.util.Optional&lt;javax.servlet.http.HttpServletRequest&gt; \r\n\r\nSo from there u can get the headers \r\n\r\n    GraphQLContext context =  env.getGraphQlContext();\r\n    HttpServletRequest request = context.getHttpServletRequest().get();\r\n    String Id= request.getHeader(&quot;headerkeyIpass&quot;); \r\n\r\nIf you are using the latest [graphql libraries][2] there are some breaking changed and you can get the headers from `GraphQLServletContext` as shown [here][3]\r\n\r\n    GraphQLServletContext graphQLServletContext = (GraphQLServletContext) env.getContext();\r\n        \r\n    String user = graphQLServletContext.getHttpServletRequest().getHeader(&quot;user&quot;);\r\n\r\n\r\n  [1]: https://javadoc.io/doc/com.graphql-java/graphql-java-servlet/6.1.1/graphql/servlet/GraphQLContext.html\r\n  [2]: https://github.com/graphql-java-kickstart/graphql-java-servlet/releases/tag/v8.0.0\r\n  [3]: https://github.com/graphql-java-kickstart/graphql-spring-boot/issues/456","title":"How can i access request headers in graphql query using java datafetcher environment?","body":"<p>The <a href=\"https://javadoc.io/doc/com.graphql-java/graphql-java-servlet/6.1.1/graphql/servlet/GraphQLContext.html\" rel=\"nofollow noreferrer\">GraphQLContext</a> has method <code>getHttpServletRequest()</code> which returns</p>\n<pre><code>java.util.Optional&lt;javax.servlet.http.HttpServletRequest&gt; \n</code></pre>\n<p>So from there u can get the headers</p>\n<pre><code>GraphQLContext context =  env.getGraphQlContext();\nHttpServletRequest request = context.getHttpServletRequest().get();\nString Id= request.getHeader(&quot;headerkeyIpass&quot;); \n</code></pre>\n<p>If you are using the latest <a href=\"https://github.com/graphql-java-kickstart/graphql-java-servlet/releases/tag/v8.0.0\" rel=\"nofollow noreferrer\">graphql libraries</a> there are some breaking changed and you can get the headers from <code>GraphQLServletContext</code> as shown <a href=\"https://github.com/graphql-java-kickstart/graphql-spring-boot/issues/456\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>GraphQLServletContext graphQLServletContext = (GraphQLServletContext) env.getContext();\n    \nString user = graphQLServletContext.getHttpServletRequest().getHeader(&quot;user&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049017,"reputation":623,"user_id":1053362,"accept_rate":100,"display_name":"Antoine Dahan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664126710,"creation_date":1662427214,"answer_id":73615846,"question_id":72929252,"body_markdown":"Like you said `getHttpServletRequest` does not exist on `DataFetchingEnvironment.getGraphQlContext()` when using the new official Spring 2.7 `spring-boot-starter-graphql` (not the [legacy GraphQL Java Kickstart][1] ones). \r\n\r\nInstead you can add an autowired `HttpServletRequest` request variable at the top of your controller and inside each query resolver it will be filled with the request context.\r\n\r\n```\r\n@Controller\r\npublic class SomeGraphQLController {\r\n    ...\r\n\r\n    @Autowired\r\n    private HttpServletRequest request; // will be filled inside each @QueryResolver and @MutationResolver method.\r\n\r\n    ...\r\n\r\n    @QueryResolver\r\n    public XXX yyyy() {\r\n        ...\r\n        try {\r\n            String someHeader = request.getHeader(&quot;someHeader&quot;); \r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/graphql-java-kickstart","title":"How can i access request headers in graphql query using java datafetcher environment?","body":"<p>Like you said <code>getHttpServletRequest</code> does not exist on <code>DataFetchingEnvironment.getGraphQlContext()</code> when using the new official Spring 2.7 <code>spring-boot-starter-graphql</code> (not the <a href=\"https://github.com/graphql-java-kickstart\" rel=\"nofollow noreferrer\">legacy GraphQL Java Kickstart</a> ones).</p>\n<p>Instead you can add an autowired <code>HttpServletRequest</code> request variable at the top of your controller and inside each query resolver it will be filled with the request context.</p>\n<pre><code>@Controller\npublic class SomeGraphQLController {\n    ...\n\n    @Autowired\n    private HttpServletRequest request; // will be filled inside each @QueryResolver and @MutationResolver method.\n\n    ...\n\n    @QueryResolver\n    public XXX yyyy() {\n        ...\n        try {\n            String someHeader = request.getHeader(&quot;someHeader&quot;); \n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2839,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664126710,"creation_date":1657463493,"question_id":72929252,"body_markdown":"I want to fetch a header value I am passing during a GraphQl Query call. Something like we can do prior in case of rest api\r\nHttpServletRequest.getheader() \r\n\r\nI wanted to fetch it from the dataFetchingEnvironment but the context fetched from this value did not get me any means to fetch the header values from request.\r\n```public Item getItems(Request request, DataFetchingEnvironment env) {\r\n        try {\r\n            GraphQLContext context =  env.getGraphQlContext();\r\n            String Id= context.getHeader(&quot;headerkeyIpass&quot;); \r\n// I know this method does not exist i am trying to paint a picture as to what i am asking\r\n```\r\nI do not intend to change the resolver method calls but any inputs to improve my code would be great.","title":"How can i access request headers in graphql query using java datafetcher environment?","body":"<p>I want to fetch a header value I am passing during a GraphQl Query call. Something like we can do prior in case of rest api\nHttpServletRequest.getheader()</p>\n<p>I wanted to fetch it from the dataFetchingEnvironment but the context fetched from this value did not get me any means to fetch the header values from request.</p>\n<pre><code>        try {\n            GraphQLContext context =  env.getGraphQlContext();\n            String Id= context.getHeader(&quot;headerkeyIpass&quot;); \n// I know this method does not exist i am trying to paint a picture as to what i am asking\n</code></pre>\n<p>I do not intend to change the resolver method calls but any inputs to improve my code would be great.</p>\n"},{"tags":["java","android","linkify"],"comments":[{"owner":{"account_id":2610782,"reputation":2381,"user_id":2260916,"accept_rate":68,"display_name":"Nanoc"},"score":0,"creation_date":1445428757,"post_id":33258635,"comment_id":54318546,"body_markdown":"Maybe the problem is with the text you are setting on the textview, have you tried using &quot;tel:123456789&quot;?","body":"Maybe the problem is with the text you are setting on the textview, have you tried using &quot;tel:123456789&quot;?"},{"owner":{"account_id":3925387,"reputation":669,"user_id":3246067,"accept_rate":57,"display_name":"mathkid91"},"score":0,"creation_date":1445429313,"post_id":33258635,"comment_id":54318944,"body_markdown":"Tried both places.. In my &quot;working&quot; links, tel: is placed infront of the numbers but only the numbers are clickable. In my dead, unclickable example, nothing is clickable at all..","body":"Tried both places.. In my &quot;working&quot; links, tel: is placed infront of the numbers but only the numbers are clickable. In my dead, unclickable example, nothing is clickable at all.."},{"owner":{"account_id":464217,"reputation":4397,"user_id":867591,"accept_rate":97,"display_name":"Ahmed Faisal"},"score":0,"creation_date":1452632585,"post_id":33258635,"comment_id":57253530,"body_markdown":"I was able to do it using tw.setText(&quot;1-XXX-XXX-XXXX&quot;); tw.setAutoLinkMask(0x04); and make calls on a click.","body":"I was able to do it using tw.setText(&quot;1-XXX-XXX-XXXX&quot;); tw.setAutoLinkMask(0x04); and make calls on a click."}],"answers":[{"tags":[],"owner":{"account_id":5113041,"reputation":366,"user_id":4099103,"display_name":"Acca Emme"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1457658674,"creation_date":1457658674,"answer_id":35930472,"question_id":33258635,"body_markdown":"    TextView tv_contatti2 = new TextView(this); tv_contatti2.setText(contatti);\r\n    Linkify.addLinks(tv_contatti2, Linkify.PHONE_NUMBERS);\r\n    tv_contatti2.setLinksClickable(true);\r\n\r\nwhere &quot;contatti&quot; has value +39012345678 with international prefix","title":"Android set autoLink attribute programmatically","body":"<pre><code>TextView tv_contatti2 = new TextView(this); tv_contatti2.setText(contatti);\nLinkify.addLinks(tv_contatti2, Linkify.PHONE_NUMBERS);\ntv_contatti2.setLinksClickable(true);\n</code></pre>\n\n<p>where \"contatti\" has value +39012345678 with international prefix</p>\n"},{"tags":[],"owner":{"account_id":23012720,"reputation":216,"user_id":17135014,"display_name":"Mudit Goel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664126331,"creation_date":1664126331,"answer_id":73846440,"question_id":33258635,"body_markdown":"In order to make text view clickable with any url try following code :\r\n\r\n```Linkify.addLinks(textView, Linkify.WEB_URLS)```","title":"Android set autoLink attribute programmatically","body":"<p>In order to make text view clickable with any url try following code :</p>\n<p><code>Linkify.addLinks(textView, Linkify.WEB_URLS)</code></p>\n"}],"owner":{"account_id":3925387,"reputation":669,"user_id":3246067,"accept_rate":57,"display_name":"mathkid91"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11850,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1664126331,"creation_date":1445428486,"question_id":33258635,"body_markdown":"\r\n\r\n\r\n    &lt;TextView\r\n        android:text=&quot;123456789&quot;\r\n        android:autoLink=&quot;phone&quot;&gt;\r\n    &lt;/TextView&gt;\r\nI want to create this TextView from code, however I am encountering countless problems.\r\n\r\nIn the first place, I got halfway creating a TextView and adding this:\r\n\r\n\r\n\r\n    tw_phone.setAutoLinkMask(0x04);\r\n\r\nThis resulted in a clickable TextView, but when you clicked, a toast said &quot;No application can perform this action&quot;, or something similar. I also tried with\r\n\r\n\r\n\r\n    Linkify.addLinks(tw_phone, Linkify.PHONE_NUMBERS); //and .ALL\r\nbut it gave me the same result. \r\n\r\nWhen I decided to ask on StackOverflow, I tried to strip my code down incase there were something wrong with the way I have used Layouts (you never know), but now I&#39;m not even able to make a TextView clickable. This is the code that, in my opinion, should work as it is just a stripped down version of what I am using deeper in my code.\r\n\r\n\r\n\r\n    TableLayout table = (TableLayout) findViewById(R.id.tableResult);\r\n    TableRow row = new TableRow(this);\r\n    TextView tw = new TextView(this);\r\n    tw.setText(&quot;123456789&quot;);\r\n    tw.setAutoLinkMask(Linkify.ALL);\r\n    row.addView(tw);\r\n    table.addView(row);\r\n\r\nCan someone write a simple, small example of how you create a TextView, give it a number as text and then allows the user to click on it and choose whatever app they want to open the number with?? \r\nIf you can point out whats wrong in my code aswell, that would be great, but I would much rather just get the answer straight away. The things I have tried are taken from other StackOverflow questions and answers.","title":"Android set autoLink attribute programmatically","body":"<pre><code>&lt;TextView\n    android:text=\"123456789\"\n    android:autoLink=\"phone\"&gt;\n&lt;/TextView&gt;\n</code></pre>\n\n<p>I want to create this TextView from code, however I am encountering countless problems.</p>\n\n<p>In the first place, I got halfway creating a TextView and adding this:</p>\n\n<pre><code>tw_phone.setAutoLinkMask(0x04);\n</code></pre>\n\n<p>This resulted in a clickable TextView, but when you clicked, a toast said \"No application can perform this action\", or something similar. I also tried with</p>\n\n<pre><code>Linkify.addLinks(tw_phone, Linkify.PHONE_NUMBERS); //and .ALL\n</code></pre>\n\n<p>but it gave me the same result. </p>\n\n<p>When I decided to ask on StackOverflow, I tried to strip my code down incase there were something wrong with the way I have used Layouts (you never know), but now I'm not even able to make a TextView clickable. This is the code that, in my opinion, should work as it is just a stripped down version of what I am using deeper in my code.</p>\n\n<pre><code>TableLayout table = (TableLayout) findViewById(R.id.tableResult);\nTableRow row = new TableRow(this);\nTextView tw = new TextView(this);\ntw.setText(\"123456789\");\ntw.setAutoLinkMask(Linkify.ALL);\nrow.addView(tw);\ntable.addView(row);\n</code></pre>\n\n<p>Can someone write a simple, small example of how you create a TextView, give it a number as text and then allows the user to click on it and choose whatever app they want to open the number with?? \nIf you can point out whats wrong in my code aswell, that would be great, but I would much rather just get the answer straight away. The things I have tried are taken from other StackOverflow questions and answers.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1376756885,"post_id":18290935,"comment_id":26834789,"body_markdown":"What&#39;s wrong with using using a loop?","body":"What&#39;s wrong with using using a loop?"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":4,"creation_date":1376757397,"post_id":18290935,"comment_id":26834905,"body_markdown":"@JoshM Nothing at all.  But if I can use something built-in, I should.    I usually know the answers to these types of questions but this time I don&#39;t, so I thought I&#39;d ask.","body":"@JoshM Nothing at all.  But if I can use something built-in, I should.    I usually know the answers to these types of questions but this time I don&#39;t, so I thought I&#39;d ask."}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1510175097,"creation_date":1376756715,"answer_id":18290958,"question_id":18290935,"body_markdown":"No, there is no shorter method. You have to use a loop.\r\n\r\n**Update Apr 2014:** Java 8 has finally come out. In the new version you can use the [`Iterable.forEach`][1] method to walk over a collection without using an explicit loop.\r\n\r\n**Update Nov 2017:** Found this question by chance when looking for a modern solution. Ended up going with `reduce`:\r\n\r\n    someMap.values().stream().reduce(new ArrayList(), (accum, list) -&gt; {\r\n        accum.addAll(list);\r\n        return accum;\r\n    }):\r\n\r\nThis avoids depending on mutable external state of `forEach(someList::addAll)` the overhead of `flatMap(List::stream)`.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-","title":"Flattening a collection","body":"<p>No, there is no shorter method. You have to use a loop.</p>\n\n<p><strong>Update Apr 2014:</strong> Java 8 has finally come out. In the new version you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a> method to walk over a collection without using an explicit loop.</p>\n\n<p><strong>Update Nov 2017:</strong> Found this question by chance when looking for a modern solution. Ended up going with <code>reduce</code>:</p>\n\n<pre><code>someMap.values().stream().reduce(new ArrayList(), (accum, list) -&gt; {\n    accum.addAll(list);\n    return accum;\n}):\n</code></pre>\n\n<p>This avoids depending on mutable external state of <code>forEach(someList::addAll)</code> the overhead of <code>flatMap(List::stream)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":6,"up_vote_count":64,"is_accepted":true,"score":58,"last_activity_date":1376756931,"creation_date":1376756931,"answer_id":18290985,"question_id":18290935,"body_markdown":"If you are using Java 8, you could do something like this:\r\n\r\n    someMap.values().forEach(someList::addAll);","title":"Flattening a collection","body":"<p>If you are using Java 8, you could do something like this:</p>\n\n<pre><code>someMap.values().forEach(someList::addAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2745328,"reputation":1136,"user_id":2365873,"accept_rate":64,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376846204,"creation_date":1376846204,"answer_id":18301696,"question_id":18290935,"body_markdown":"If you just want to iterate through values, you can avoid all these addAll methods.\r\n\r\nAll you have to do is write a class that encapsulates your Map, and that implements the Iterator&lt;Value&gt; :\r\n\r\n    public class ListMap&lt;K,V&gt; implements Iterator&lt;V&gt;\r\n    {\r\n      private final Map&lt;K,List&lt;V&gt;&gt; _map;\r\n      private Iterator&lt;Map.Entry&lt;K,List&lt;V&gt;&gt;&gt; _it1 = null;\r\n      private Iterator&lt;V&gt; _it2 = null;\r\n\r\n      public ListMap(Map&lt;K,List&lt;V&gt;&gt; map)\r\n      {\r\n        _map = map;\r\n        _it1 = map.entrySet().iterator(); \r\n        nextList();\r\n      }\r\n\r\n      public boolean hasNext()\r\n      {\r\n        return _it2!=null &amp;&amp; _it2.hasNext();\r\n      }\r\n\r\n      public V next()\r\n      {\r\n        if(_it2!=null &amp;&amp; _it2.hasNext())\r\n        {\r\n          return _it2.next();\r\n        }\r\n        else\r\n        {\r\n          throw new NoSuchElementException();\r\n        }\r\n        nextList();\r\n      } \r\n\r\n      public void remove()\r\n      {\r\n        throw new NotImplementedException();\r\n      }\r\n\r\n      private void nextList()\r\n      {\r\n        while(_it1.hasNext() &amp;&amp; !_it2.hasNext())\r\n        {\r\n          _it2 = _it1.next().value();\r\n        }\r\n      }\r\n    }","title":"Flattening a collection","body":"<p>If you just want to iterate through values, you can avoid all these addAll methods.</p>\n\n<p>All you have to do is write a class that encapsulates your Map, and that implements the Iterator :</p>\n\n<pre><code>public class ListMap&lt;K,V&gt; implements Iterator&lt;V&gt;\n{\n  private final Map&lt;K,List&lt;V&gt;&gt; _map;\n  private Iterator&lt;Map.Entry&lt;K,List&lt;V&gt;&gt;&gt; _it1 = null;\n  private Iterator&lt;V&gt; _it2 = null;\n\n  public ListMap(Map&lt;K,List&lt;V&gt;&gt; map)\n  {\n    _map = map;\n    _it1 = map.entrySet().iterator(); \n    nextList();\n  }\n\n  public boolean hasNext()\n  {\n    return _it2!=null &amp;&amp; _it2.hasNext();\n  }\n\n  public V next()\n  {\n    if(_it2!=null &amp;&amp; _it2.hasNext())\n    {\n      return _it2.next();\n    }\n    else\n    {\n      throw new NoSuchElementException();\n    }\n    nextList();\n  } \n\n  public void remove()\n  {\n    throw new NotImplementedException();\n  }\n\n  private void nextList()\n  {\n    while(_it1.hasNext() &amp;&amp; !_it2.hasNext())\n    {\n      _it2 = _it1.next().value();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1487011109,"creation_date":1376966526,"answer_id":18326164,"question_id":18290935,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use [Iterate.flatten()][2].\r\n\r\n    MutableMap&lt;String, MutableList&lt;String&gt;&gt; map = Maps.mutable.empty();\r\n    map.put(&quot;Even&quot;, Lists.mutable.with(&quot;0&quot;, &quot;2&quot;, &quot;4&quot;));\r\n    map.put(&quot;Odd&quot;, Lists.mutable.with(&quot;1&quot;, &quot;3&quot;, &quot;5&quot;));\r\n    MutableList&lt;String&gt; flattened = Iterate.flatten(map, Lists.mutable.empty());\r\n    Assert.assertEquals(\r\n        Lists.immutable.with(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;),\r\n        flattened.toSortedList());\r\n\r\n`flatten()` is a special case of the more general [RichIterable.flatCollect()][3].\r\n\r\n    MutableList&lt;String&gt; flattened = \r\n        map.flatCollect(x -&gt; x, Lists.mutable.empty());\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n  [2]: https://github.com/eclipse/eclipse-collections/blob/7.0.0/eclipse-collections/src/main/java/org/eclipse/collections/impl/utility/Iterate.java?source=cc#L2136\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/7.0.0/eclipse-collections-api/src/main/java/org/eclipse/collections/api/RichIterable.java?source=cc#L1125","title":"Flattening a collection","body":"<p>If you're using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can use <a href=\"https://github.com/eclipse/eclipse-collections/blob/7.0.0/eclipse-collections/src/main/java/org/eclipse/collections/impl/utility/Iterate.java?source=cc#L2136\" rel=\"nofollow noreferrer\">Iterate.flatten()</a>.</p>\n\n<pre><code>MutableMap&lt;String, MutableList&lt;String&gt;&gt; map = Maps.mutable.empty();\nmap.put(\"Even\", Lists.mutable.with(\"0\", \"2\", \"4\"));\nmap.put(\"Odd\", Lists.mutable.with(\"1\", \"3\", \"5\"));\nMutableList&lt;String&gt; flattened = Iterate.flatten(map, Lists.mutable.empty());\nAssert.assertEquals(\n    Lists.immutable.with(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\"),\n    flattened.toSortedList());\n</code></pre>\n\n<p><code>flatten()</code> is a special case of the more general <a href=\"https://github.com/eclipse/eclipse-collections/blob/7.0.0/eclipse-collections-api/src/main/java/org/eclipse/collections/api/RichIterable.java?source=cc#L1125\" rel=\"nofollow noreferrer\">RichIterable.flatCollect()</a>.</p>\n\n<pre><code>MutableList&lt;String&gt; flattened = \n    map.flatCollect(x -&gt; x, Lists.mutable.empty());\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1664124977,"creation_date":1398865934,"answer_id":23390029,"question_id":18290935,"body_markdown":"Using Java 8 and if you prefer not to instantiate a `List` instance by yourself, like in the suggested (and accepted) solution\r\n\r\n    someMap.values().forEach(someList::addAll);\r\n\r\nYou could do it all by streaming with this statement:\r\n\r\n    List&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\r\n\r\nBy the way it should be interesting to know, that on Java 8 the accepted version seems to be indeed the fastest. It has about the same timing as a\r\n\r\n    for (List&lt;String&gt; item : someMap.values()) ...\r\n\r\nand is a way faster than the pure streaming solution. Here is my little testcode. I explicitly don&#39;t name it benchmark to avoid the resulting discussion of benchmark flaws. ;) I do every test twice to hopefully get a full compiled version.\r\n\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\tlong millis;\r\n\r\n\t\tmap.put(&quot;test&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\r\n\t\tmap.put(&quot;test2&quot;, Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;, &quot;40&quot;));\r\n\t\tmap.put(&quot;test3&quot;, Arrays.asList(&quot;100&quot;, &quot;200&quot;, &quot;300&quot;, &quot;400&quot;));\r\n\r\n\t\tint maxcounter = 1000000;\r\n\t\t\r\n\t\tSystem.out.println(&quot;1 stream flatmap&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\t\t\r\n\t\tSystem.out.println(&quot;1 parallel stream flatmap&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; someList = map.values().parallelStream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\r\n\t\tSystem.out.println(&quot;1 foreach&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n\t\t\tmap.values().forEach(mylist::addAll);\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\t\t\r\n\r\n\t\tSystem.out.println(&quot;1 for&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n\t\t\tfor (List&lt;String&gt; item : map.values()) {\r\n\t\t\t\tmylist.addAll(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;2 stream flatmap&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\t\t\r\n\t\tSystem.out.println(&quot;2 parallel stream flatmap&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; someList = map.values().parallelStream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\t\t\r\n\t\tSystem.out.println(&quot;2 foreach&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n\t\t\tmap.values().forEach(mylist::addAll);\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\t\t\r\n\r\n\t\tSystem.out.println(&quot;2 for&quot;);\r\n\t\tmillis = System.currentTimeMillis();\r\n\t\tfor (int i = 0; i &lt; maxcounter; i++) {\r\n\t\t\tList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n\t\t\tfor (List&lt;String&gt; item : map.values()) {\r\n\t\t\t\tmylist.addAll(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(System.currentTimeMillis() - millis);\r\n\r\nAnd here are the results:\r\n\r\n    1 stream flatmap\r\n    468\r\n    1 parallel stream flatmap\r\n    1529\r\n    1 foreach\r\n    140\r\n    1 for\r\n    172\r\n    2 stream flatmap\r\n    296\r\n    2 parallel stream flatmap\r\n    1482\r\n    2 foreach\r\n    156\r\n    2 for\r\n    141\r\n\r\n**Edit 2016-05-24 (two years after):**\r\n\r\nRunning the same test using an actual Java 8 version (U92) on the same machine:\r\n\r\n    1 stream flatmap\r\n    313\r\n    1 parallel stream flatmap\r\n    3257\r\n    1 foreach\r\n    109\r\n    1 for\r\n    141\r\n    2 stream flatmap\r\n    219\r\n    2 parallel stream flatmap\r\n    3830\r\n    2 foreach\r\n    125\r\n    2 for\r\n    140\r\n\r\nIt seems that there is a speedup for sequential processing of streams and an even larger overhead for parallel streams.\r\n\r\n**Edit 2018-10-18 (four years after):**\r\n\r\nUsing now Java 10 version (10.0.2) on the same machine:\r\n\r\n    1 stream flatmap\r\n    393\r\n    1 parallel stream flatmap\r\n    3683\r\n    1 foreach\r\n    157\r\n    1 for\r\n    175\r\n    2 stream flatmap\r\n    243\r\n    2 parallel stream flatmap\r\n    5945\r\n    2 foreach\r\n    128\r\n    2 for\r\n    187\r\n\r\nThe overhead for parallel streaming seems to be larger.\r\n\r\n**Edit 2020-05-22 (six years after):**\r\n\r\nUsing now Java 14 version (14.0.0.36) on a different machine:\r\n\r\n    1 stream flatmap\r\n    299\r\n    1 parallel stream flatmap\r\n    3209\r\n    1 foreach\r\n    202\r\n    1 for\r\n    170\r\n    2 stream flatmap\r\n    178\r\n    2 parallel stream flatmap\r\n    3270\r\n    2 foreach\r\n    138\r\n    2 for\r\n    167\r\n\r\nIt should really be noted, that this was done on a different machine (but I think comparable). The parallel streaming overhead seems to be considerably smaller than before. \r\n\r\n**Edit 2022-09-25 (eight years after):**\r\n\r\nUsing now Java 17 version (17.0.4.101-hotspot) on a probably different machine (I don&#39;t remember the last one :():\r\n\r\n    1 stream flatmap\r\n    473\r\n    1 parallel stream flatmap\r\n    3109\r\n    1 foreach\r\n    193\r\n    1 for\r\n    233\r\n    2 stream flatmap\r\n    257\r\n    2 parallel stream flatmap\r\n    2453\r\n    2 foreach\r\n    200\r\n    2 for\r\n    211\r\n\r\nAgain the parallel overhead is smaller again. Again keep in mind a different machine.\r\n","title":"Flattening a collection","body":"<p>Using Java 8 and if you prefer not to instantiate a <code>List</code> instance by yourself, like in the suggested (and accepted) solution</p>\n<pre><code>someMap.values().forEach(someList::addAll);\n</code></pre>\n<p>You could do it all by streaming with this statement:</p>\n<pre><code>List&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\n</code></pre>\n<p>By the way it should be interesting to know, that on Java 8 the accepted version seems to be indeed the fastest. It has about the same timing as a</p>\n<pre><code>for (List&lt;String&gt; item : someMap.values()) ...\n</code></pre>\n<p>and is a way faster than the pure streaming solution. Here is my little testcode. I explicitly don't name it benchmark to avoid the resulting discussion of benchmark flaws. ;) I do every test twice to hopefully get a full compiled version.</p>\n<pre><code>    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    long millis;\n\n    map.put(&quot;test&quot;, Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;));\n    map.put(&quot;test2&quot;, Arrays.asList(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;, &quot;40&quot;));\n    map.put(&quot;test3&quot;, Arrays.asList(&quot;100&quot;, &quot;200&quot;, &quot;300&quot;, &quot;400&quot;));\n\n    int maxcounter = 1000000;\n    \n    System.out.println(&quot;1 stream flatmap&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n    \n    System.out.println(&quot;1 parallel stream flatmap&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; someList = map.values().parallelStream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n\n    System.out.println(&quot;1 foreach&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n        map.values().forEach(mylist::addAll);\n    }\n    System.out.println(System.currentTimeMillis() - millis);        \n\n    System.out.println(&quot;1 for&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n        for (List&lt;String&gt; item : map.values()) {\n            mylist.addAll(item);\n        }\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n    \n    \n    System.out.println(&quot;2 stream flatmap&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; someList = map.values().stream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n    \n    System.out.println(&quot;2 parallel stream flatmap&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; someList = map.values().parallelStream().flatMap(c -&gt; c.stream()).collect(Collectors.toList());\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n    \n    System.out.println(&quot;2 foreach&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n        map.values().forEach(mylist::addAll);\n    }\n    System.out.println(System.currentTimeMillis() - millis);        \n\n    System.out.println(&quot;2 for&quot;);\n    millis = System.currentTimeMillis();\n    for (int i = 0; i &lt; maxcounter; i++) {\n        List&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n        for (List&lt;String&gt; item : map.values()) {\n            mylist.addAll(item);\n        }\n    }\n    System.out.println(System.currentTimeMillis() - millis);\n</code></pre>\n<p>And here are the results:</p>\n<pre><code>1 stream flatmap\n468\n1 parallel stream flatmap\n1529\n1 foreach\n140\n1 for\n172\n2 stream flatmap\n296\n2 parallel stream flatmap\n1482\n2 foreach\n156\n2 for\n141\n</code></pre>\n<p><strong>Edit 2016-05-24 (two years after):</strong></p>\n<p>Running the same test using an actual Java 8 version (U92) on the same machine:</p>\n<pre><code>1 stream flatmap\n313\n1 parallel stream flatmap\n3257\n1 foreach\n109\n1 for\n141\n2 stream flatmap\n219\n2 parallel stream flatmap\n3830\n2 foreach\n125\n2 for\n140\n</code></pre>\n<p>It seems that there is a speedup for sequential processing of streams and an even larger overhead for parallel streams.</p>\n<p><strong>Edit 2018-10-18 (four years after):</strong></p>\n<p>Using now Java 10 version (10.0.2) on the same machine:</p>\n<pre><code>1 stream flatmap\n393\n1 parallel stream flatmap\n3683\n1 foreach\n157\n1 for\n175\n2 stream flatmap\n243\n2 parallel stream flatmap\n5945\n2 foreach\n128\n2 for\n187\n</code></pre>\n<p>The overhead for parallel streaming seems to be larger.</p>\n<p><strong>Edit 2020-05-22 (six years after):</strong></p>\n<p>Using now Java 14 version (14.0.0.36) on a different machine:</p>\n<pre><code>1 stream flatmap\n299\n1 parallel stream flatmap\n3209\n1 foreach\n202\n1 for\n170\n2 stream flatmap\n178\n2 parallel stream flatmap\n3270\n2 foreach\n138\n2 for\n167\n</code></pre>\n<p>It should really be noted, that this was done on a different machine (but I think comparable). The parallel streaming overhead seems to be considerably smaller than before.</p>\n<p><strong>Edit 2022-09-25 (eight years after):</strong></p>\n<p>Using now Java 17 version (17.0.4.101-hotspot) on a probably different machine (I don't remember the last one :():</p>\n<pre><code>1 stream flatmap\n473\n1 parallel stream flatmap\n3109\n1 foreach\n193\n1 for\n233\n2 stream flatmap\n257\n2 parallel stream flatmap\n2453\n2 foreach\n200\n2 for\n211\n</code></pre>\n<p>Again the parallel overhead is smaller again. Again keep in mind a different machine.</p>\n"},{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1430780302,"creation_date":1430780302,"answer_id":30041418,"question_id":18290935,"body_markdown":"When searching for &quot;java 8 flatten&quot; this is the only mentioning. And it&#39;s not about flattening stream either. So for great good I just leave it here\r\n\r\n    .flatMap(Collection::stream)\r\nI&#39;m also surprised no one has given concurrent java 8 answer to original question which is\r\n\r\n    .collect(ArrayList::new, ArrayList::addAll, ArrayList::addAll);","title":"Flattening a collection","body":"<p>When searching for \"java 8 flatten\" this is the only mentioning. And it's not about flattening stream either. So for great good I just leave it here</p>\n\n<pre><code>.flatMap(Collection::stream)\n</code></pre>\n\n<p>I'm also surprised no one has given concurrent java 8 answer to original question which is</p>\n\n<pre><code>.collect(ArrayList::new, ArrayList::addAll, ArrayList::addAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6293182,"reputation":1978,"user_id":4890123,"accept_rate":67,"display_name":"Guy Grin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456905751,"creation_date":1456905751,"answer_id":35741531,"question_id":18290935,"body_markdown":"A nice solution for the subcase of a Map of Maps is to store, if possible, the data in Guava&#39;s `Table`.\r\n\r\n[https://github.com/google/guava/wiki/NewCollectionTypesExplained#table][1]\r\n\r\nSo for instance a `Map&lt;String,Map&lt;String,String&gt;&gt;` is replaced by `Table&lt;String,String,String&gt;` which is already flattend. In fact, the docs say that `HashBasedTable`, `Table`&#39;s Hash implementation, is essentially backed by a `HashMap&lt;R, HashMap&lt;C, V&gt;&gt;`\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#table","title":"Flattening a collection","body":"<p>A nice solution for the subcase of a Map of Maps is to store, if possible, the data in Guava's <code>Table</code>.</p>\n\n<p><a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#table\" rel=\"nofollow\">https://github.com/google/guava/wiki/NewCollectionTypesExplained#table</a></p>\n\n<p>So for instance a <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code> is replaced by <code>Table&lt;String,String,String&gt;</code> which is already flattend. In fact, the docs say that <code>HashBasedTable</code>, <code>Table</code>'s Hash implementation, is essentially backed by a <code>HashMap&lt;R, HashMap&lt;C, V&gt;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":176669,"reputation":7441,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1484860081,"creation_date":1484860081,"answer_id":41751737,"question_id":18290935,"body_markdown":"Suggested by a colleague:\r\n\r\n    listOfLists.stream().flatMap(e -&gt; e.stream()).collect(Lists.toList())\r\n\r\nI like it better than forEach().\r\n","title":"Flattening a collection","body":"<p>Suggested by a colleague:</p>\n\n<pre><code>listOfLists.stream().flatMap(e -&gt; e.stream()).collect(Lists.toList())\n</code></pre>\n\n<p>I like it better than forEach().</p>\n"},{"tags":[],"owner":{"account_id":1870819,"reputation":11,"user_id":1693077,"display_name":"Leo Duarte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590175909,"creation_date":1590175909,"answer_id":61962557,"question_id":18290935,"body_markdown":"Flatten on a function:\r\n```\r\n    private &lt;A, T&gt; List&lt;T&gt; flatten(List&lt;A&gt; list, Function&lt;A, List&lt;T&gt;&gt; flattenFn) {\r\n        return list\r\n                .stream()\r\n                .map(flattenFn)\r\n                .flatMap(Collection::stream)\r\n                .collect(Collectors.toUnmodifiableList());\r\n    }\r\n```","title":"Flattening a collection","body":"<p>Flatten on a function:</p>\n\n<pre><code>    private &lt;A, T&gt; List&lt;T&gt; flatten(List&lt;A&gt; list, Function&lt;A, List&lt;T&gt;&gt; flattenFn) {\n        return list\n                .stream()\n                .map(flattenFn)\n                .flatMap(Collection::stream)\n                .collect(Collectors.toUnmodifiableList());\n    }\n</code></pre>\n"}],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93010,"favorite_count":0,"down_vote_count":1,"up_vote_count":70,"accepted_answer_id":18290985,"answer_count":9,"score":69,"last_activity_date":1664124977,"creation_date":1376756581,"question_id":18290935,"body_markdown":"Say I have a `Map&lt;? extends Object, List&lt;String&gt;&gt;`\r\n\r\nI can get the values of the map easily enough, and iterate over it to produce a single `List&lt;String&gt;`.\r\n\r\n       for (List&lt;String&gt; list : someMap.values()) {\r\n            someList.addAll(list);\r\n        }\r\n\r\nIs there a way to flatten it in one shot?\r\n\r\n      List&lt;String&gt; someList = SomeMap.values().flatten();\r\n","title":"Flattening a collection","body":"<p>Say I have a <code>Map&lt;? extends Object, List&lt;String&gt;&gt;</code></p>\n\n<p>I can get the values of the map easily enough, and iterate over it to produce a single <code>List&lt;String&gt;</code>.</p>\n\n<pre><code>   for (List&lt;String&gt; list : someMap.values()) {\n        someList.addAll(list);\n    }\n</code></pre>\n\n<p>Is there a way to flatten it in one shot?</p>\n\n<pre><code>  List&lt;String&gt; someList = SomeMap.values().flatten();\n</code></pre>\n"},{"tags":["java","arrays","object","inheritance","polymorphism"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664120920,"post_id":73845608,"comment_id":130393806,"body_markdown":"Your question is either incomplete or nonsensical. Of course you cannot distinguish between two particular `Coin` objects of they have the same currency and same amounts, assuming you have no identifier as a member field defined in your class. Are you trying to represent coins belongoing to a certain person or account?","body":"Your question is either incomplete or nonsensical. Of course you cannot distinguish between two particular <code>Coin</code> objects of they have the same currency and same amounts, assuming you have no identifier as a member field defined in your class. Are you trying to represent coins belongoing to a certain person or account?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664120974,"post_id":73845608,"comment_id":130393815,"body_markdown":"By the way, never use a floating-point type for money. Use `BigDecimal` class.","body":"By the way, never use a floating-point type for money. Use <code>BigDecimal</code> class."},{"owner":{"account_id":25097545,"reputation":11,"user_id":18948568,"display_name":"Jo&#227;o Paulo Carniel Fonseca"},"score":0,"creation_date":1664121437,"post_id":73845608,"comment_id":130393920,"body_markdown":"I was, indeed, unclear. I&#39;m not trying to remove a SPECIFIC 10 dollar coin, but ANY of the 10 dollar coins that exists in the Array, but only one of those coins. Like a iterator that scans the array and when he meet the criteria (Dollar, value 10), he removes that object and stop running.","body":"I was, indeed, unclear. I&#39;m not trying to remove a SPECIFIC 10 dollar coin, but ANY of the 10 dollar coins that exists in the Array, but only one of those coins. Like a iterator that scans the array and when he meet the criteria (Dollar, value 10), he removes that object and stop running."},{"owner":{"account_id":7200276,"reputation":297,"user_id":5497719,"display_name":"A G"},"score":0,"creation_date":1664121871,"post_id":73845608,"comment_id":130394011,"body_markdown":"Can you share the program and the error you are experiencing? Looking at the code (or possibly running it locally will help answer this quicker)","body":"Can you share the program and the error you are experiencing? Looking at the code (or possibly running it locally will help answer this quicker)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664122485,"post_id":73845608,"comment_id":130394151,"body_markdown":"Edit the body of your Question with those clarifications.","body":"Edit the body of your Question with those clarifications."}],"answers":[{"tags":[],"owner":{"account_id":7200276,"reputation":297,"user_id":5497719,"display_name":"A G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664124907,"creation_date":1664124907,"answer_id":73846286,"question_id":73845608,"body_markdown":"Here is my understanding of what you wanted to do. Let me know if I missed your actual question.\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Main main = new Main();\r\n        main.testRemoveOneOfTheDollars();\r\n    \r\n        main.testRemoveOneReal();\r\n    \r\n        main.testRemoveTwoReal();\r\n    \r\n      }\r\n    \r\n      private PiggyBank setup() {\r\n        PiggyBank piggyBank = new PiggyBank();\r\n        piggyBank.add(new Euro(BigDecimal.valueOf(10L)));\r\n        piggyBank.add(new Dollar(BigDecimal.valueOf(10L)));\r\n        piggyBank.add(new Euro(BigDecimal.valueOf(10L)));\r\n        piggyBank.add(new Dollar(BigDecimal.valueOf(10L)));\r\n        piggyBank.add(new Real(BigDecimal.valueOf(10L)));\r\n        return piggyBank;\r\n    \r\n      }\r\n    \r\n      public void testRemoveOneOfTheDollars() {\r\n        PiggyBank piggyBank = setup();\r\n        piggyBank.printCurrentState();\r\n        piggyBank.remove(&quot;Main$Dollar&quot;);\r\n    \r\n      }\r\n    \r\n      public void testRemoveOneReal() {\r\n        PiggyBank piggyBank = setup();\r\n        piggyBank.printCurrentState();\r\n        piggyBank.remove(&quot;Main$Real&quot;);\r\n        piggyBank.printCurrentState();\r\n      }\r\n    \r\n      public void testRemoveTwoReal() {\r\n        PiggyBank piggyBank = setup();\r\n        piggyBank.printCurrentState();\r\n        piggyBank.remove(&quot;Main$Real&quot;);\r\n        piggyBank.printCurrentState();\r\n        try {\r\n          piggyBank.remove(&quot;Main$Real&quot;);\r\n        } catch (IllegalStateException e) {\r\n          System.out.println(e.getMessage());\r\n        }\r\n        piggyBank.printCurrentState();\r\n      }\r\n    \r\n      class PiggyBank {\r\n        private List&lt;Coin&gt; coins;\r\n    \r\n        public PiggyBank() {\r\n          coins = new ArrayList&lt;Coin&gt;();\r\n        }\r\n    \r\n        public void add(Coin newCoin) {\r\n          System.out.println(&quot;Adding coin [&quot; + newCoin + &quot;]&quot;);\r\n          coins.add(newCoin);\r\n        }\r\n    \r\n        public Coin remove(String coinType) {\r\n          System.out.println(&quot;Removing coin of type [&quot; + coinType + &quot;]&quot;);\r\n          int numOfCoins = coins.size();\r\n          for (int i = 0; i &lt; numOfCoins; i++) {\r\n            Coin toReturn = coins.get(i);\r\n            if (toReturn.getClass().getName().equalsIgnoreCase(coinType)) {\r\n              coins.remove(i);\r\n              System.out.println(&quot;Removed coin [&quot; + toReturn + &quot;]&quot;);\r\n              return toReturn;\r\n            }\r\n          }\r\n          throw new IllegalStateException(&quot;No Coins of type [&quot; + coinType + &quot;] exist in PiggyBank&quot;);\r\n        }\r\n    \r\n        public void printCurrentState() {\r\n          List&lt;String&gt; coinStrs = coins.stream().map(Coin::toString).collect(Collectors.toList());\r\n          System.out.println(&quot;PiggyBank Current State [&quot; + coinStrs + &quot;]&quot;);\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n      abstract class Coin {\r\n        protected BigDecimal value;\r\n    \r\n        public Coin(BigDecimal value) {\r\n          this.value = value;\r\n        }\r\n    \r\n        public BigDecimal getValue() {\r\n          return value;\r\n        }\r\n    \r\n        public String toString() {\r\n          return &quot;value: [&quot; + getValue() + &quot;], type [&quot; + this.getClass().getName() + &quot;]\\n&quot;;\r\n        }\r\n    \r\n      }\r\n    \r\n      class Euro extends Coin {\r\n        public Euro(BigDecimal value) {\r\n          super(value);\r\n        }\r\n      }\r\n    \r\n      class Dollar extends Coin {\r\n        public Dollar(BigDecimal value) {\r\n          super(value);\r\n        }\r\n      }\r\n    \r\n      class Real extends Coin {\r\n        public Real(BigDecimal value) {\r\n          super(value);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Remove object from array with multiple classes in Java","body":"<p>Here is my understanding of what you wanted to do. Let me know if I missed your actual question.</p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.stream.Collectors;\n\npublic class Main {\n  public static void main(String[] args) {\n    Main main = new Main();\n    main.testRemoveOneOfTheDollars();\n\n    main.testRemoveOneReal();\n\n    main.testRemoveTwoReal();\n\n  }\n\n  private PiggyBank setup() {\n    PiggyBank piggyBank = new PiggyBank();\n    piggyBank.add(new Euro(BigDecimal.valueOf(10L)));\n    piggyBank.add(new Dollar(BigDecimal.valueOf(10L)));\n    piggyBank.add(new Euro(BigDecimal.valueOf(10L)));\n    piggyBank.add(new Dollar(BigDecimal.valueOf(10L)));\n    piggyBank.add(new Real(BigDecimal.valueOf(10L)));\n    return piggyBank;\n\n  }\n\n  public void testRemoveOneOfTheDollars() {\n    PiggyBank piggyBank = setup();\n    piggyBank.printCurrentState();\n    piggyBank.remove(&quot;Main$Dollar&quot;);\n\n  }\n\n  public void testRemoveOneReal() {\n    PiggyBank piggyBank = setup();\n    piggyBank.printCurrentState();\n    piggyBank.remove(&quot;Main$Real&quot;);\n    piggyBank.printCurrentState();\n  }\n\n  public void testRemoveTwoReal() {\n    PiggyBank piggyBank = setup();\n    piggyBank.printCurrentState();\n    piggyBank.remove(&quot;Main$Real&quot;);\n    piggyBank.printCurrentState();\n    try {\n      piggyBank.remove(&quot;Main$Real&quot;);\n    } catch (IllegalStateException e) {\n      System.out.println(e.getMessage());\n    }\n    piggyBank.printCurrentState();\n  }\n\n  class PiggyBank {\n    private List&lt;Coin&gt; coins;\n\n    public PiggyBank() {\n      coins = new ArrayList&lt;Coin&gt;();\n    }\n\n    public void add(Coin newCoin) {\n      System.out.println(&quot;Adding coin [&quot; + newCoin + &quot;]&quot;);\n      coins.add(newCoin);\n    }\n\n    public Coin remove(String coinType) {\n      System.out.println(&quot;Removing coin of type [&quot; + coinType + &quot;]&quot;);\n      int numOfCoins = coins.size();\n      for (int i = 0; i &lt; numOfCoins; i++) {\n        Coin toReturn = coins.get(i);\n        if (toReturn.getClass().getName().equalsIgnoreCase(coinType)) {\n          coins.remove(i);\n          System.out.println(&quot;Removed coin [&quot; + toReturn + &quot;]&quot;);\n          return toReturn;\n        }\n      }\n      throw new IllegalStateException(&quot;No Coins of type [&quot; + coinType + &quot;] exist in PiggyBank&quot;);\n    }\n\n    public void printCurrentState() {\n      List&lt;String&gt; coinStrs = coins.stream().map(Coin::toString).collect(Collectors.toList());\n      System.out.println(&quot;PiggyBank Current State [&quot; + coinStrs + &quot;]&quot;);\n\n    }\n\n  }\n\n  abstract class Coin {\n    protected BigDecimal value;\n\n    public Coin(BigDecimal value) {\n      this.value = value;\n    }\n\n    public BigDecimal getValue() {\n      return value;\n    }\n\n    public String toString() {\n      return &quot;value: [&quot; + getValue() + &quot;], type [&quot; + this.getClass().getName() + &quot;]\\n&quot;;\n    }\n\n  }\n\n  class Euro extends Coin {\n    public Euro(BigDecimal value) {\n      super(value);\n    }\n  }\n\n  class Dollar extends Coin {\n    public Dollar(BigDecimal value) {\n      super(value);\n    }\n  }\n\n  class Real extends Coin {\n    public Real(BigDecimal value) {\n      super(value);\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25097545,"reputation":11,"user_id":18948568,"display_name":"Jo&#227;o Paulo Carniel Fonseca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664124907,"creation_date":1664118857,"question_id":73845608,"body_markdown":"I&#39;m fairly new in Java, and I having some difficulties on this exercise. I have to create a &quot;Piggy Bank&quot; where the user can deposit coins with different values and currency (Euro, Dolar, Real etc), as well as remove them afterwards and convert the total value to the desired currency. It&#39;s proposed that we create a abstract superclass for Coin, and three subclasses for Euro, Dolar and Real. \r\nI could get pretty far without a hussle, but I can&#39;t figure out how to remove, for example, any 10 dollar coin in the bank, and leave others 10 dollars or 10 euros coins untouched, like a Iterator that scans the array and when he meet the criteria (Dollar, value 10), he removes that object and stop running.\r\nI&#39;m creating an array list and putting coins on it through this blocks of code:\r\n\r\n```\r\nArrayList&lt;Coin&gt; list = new ArrayList&lt;Coin&gt;();\r\n\r\ndouble euroCoinValue = scan.nextDouble();\r\nlist.add(new Euro(euroCoinValue)); \r\n\r\ndouble dollarCoinValue = scan.nextDouble();\r\nlist.add(new Dollar(dollarCoinValue)); \r\n```\r\n","title":"Remove object from array with multiple classes in Java","body":"<p>I'm fairly new in Java, and I having some difficulties on this exercise. I have to create a &quot;Piggy Bank&quot; where the user can deposit coins with different values and currency (Euro, Dolar, Real etc), as well as remove them afterwards and convert the total value to the desired currency. It's proposed that we create a abstract superclass for Coin, and three subclasses for Euro, Dolar and Real.\nI could get pretty far without a hussle, but I can't figure out how to remove, for example, any 10 dollar coin in the bank, and leave others 10 dollars or 10 euros coins untouched, like a Iterator that scans the array and when he meet the criteria (Dollar, value 10), he removes that object and stop running.\nI'm creating an array list and putting coins on it through this blocks of code:</p>\n<pre><code>ArrayList&lt;Coin&gt; list = new ArrayList&lt;Coin&gt;();\n\ndouble euroCoinValue = scan.nextDouble();\nlist.add(new Euro(euroCoinValue)); \n\ndouble dollarCoinValue = scan.nextDouble();\nlist.add(new Dollar(dollarCoinValue)); \n</code></pre>\n"},{"tags":["java","spring-boot","selenium","web-scraping"],"comments":[{"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"score":0,"creation_date":1664123975,"post_id":73840687,"comment_id":130394507,"body_markdown":"Actually for me, I need to map elements to the tab they open, so order of tabs are important for me, so I purposely need a the handle of current focused tab so I can map it with the element which opened that. But by iterating this way, I might mess up the order if any one of the webElement fails to open a new tab or if click is disabled on that.","body":"Actually for me, I need to map elements to the tab they open, so order of tabs are important for me, so I purposely need a the handle of current focused tab so I can map it with the element which opened that. But by iterating this way, I might mess up the order if any one of the webElement fails to open a new tab or if click is disabled on that."}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664113479,"creation_date":1664113479,"answer_id":73844976,"question_id":73840687,"body_markdown":"You have to get the handles of those two tabs or windows, then you have to iterate and switch to the newly opened tab. Try the below code:\r\n\r\n            \r\n    //\t\tThis line will get the handles of the all the tabs or windows and store in a var with type &#39;Set&#39;\r\n    \t\tSet&lt;String&gt; windowHandles = driver.getWindowHandles();\r\n    \t\t\r\n    //\t\tIterating through the Set - i.e., window handles and switch to the other tab \r\n    \t\tfor (String handle : windowHandles) {\r\n    //\t\t\tSystem.out.println(handle);\r\n    \t\t\tdriver.switchTo().window(handle);\r\n    \t\t\tSystem.out.println(&quot;Title: &quot; + driver.getTitle());\r\n    \t\t}\r\n\r\nIf you have more than two tabs or windows, then put the above code the in a method,  pass the window title which you want to switch as a parameter, and compare the title with each window title, once you switch to the expected window, break.","title":"How to get Handle of the Focused Tab in Selenium?","body":"<p>You have to get the handles of those two tabs or windows, then you have to iterate and switch to the newly opened tab. Try the below code:</p>\n<pre><code>//      This line will get the handles of the all the tabs or windows and store in a var with type 'Set'\n        Set&lt;String&gt; windowHandles = driver.getWindowHandles();\n        \n//      Iterating through the Set - i.e., window handles and switch to the other tab \n        for (String handle : windowHandles) {\n//          System.out.println(handle);\n            driver.switchTo().window(handle);\n            System.out.println(&quot;Title: &quot; + driver.getTitle());\n        }\n</code></pre>\n<p>If you have more than two tabs or windows, then put the above code the in a method,  pass the window title which you want to switch as a parameter, and compare the title with each window title, once you switch to the expected window, break.</p>\n"}],"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73844976,"answer_count":1,"score":1,"last_activity_date":1664124036,"creation_date":1664054836,"question_id":73840687,"body_markdown":"I am using Selenium for Scrapping purpose for Job Website scrapping. I am ctrl+clicking on jobs to go to second page and scrape details, I somehow wish to keep track of where I clicked to which tab opened up (using a map).\r\nBut as soon as I ctrl+click an element, new tab opens and focus changes to that.\r\n\r\n```How do I get handle of the current focused tab in Selenium```\r\n\r\nI tried\r\n\r\n```webDriver.getWindowHandle()```\r\n\r\nBut it returns me the handle for main tab that I ctrl+clicked an element from.\r\n\r\nMy Full Code\r\n```\r\nprivate void openAndMapJobTabs(WebElement jobList) {\r\n        List&lt;WebElement&gt; jobRowsSelector = jobList.findElements(By.tagName(&quot;article&quot;));\r\n        for (WebElement jobRow : jobRowsSelector) {\r\n            try {\r\n                ctrlClickElement(jobRow);\r\n                Thread.sleep(4000);\r\n                //the next line is expected by me to give handle of current focused tab\r\n                System.out.println(webDriver.getWindowHandle()); // but this gives me handle of main tab\r\n                webElementToTabMapper.put(jobRow, webDriver.getWindowHandle());\r\n                webDriver.switchTo().window(websiteTabHandle);\r\n            } catch (Exception e) {\r\n                logger.info(&quot;Could Not Click Open Job Tab: &quot;+e.getMessage());\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nUPDATE\r\n\r\nActually for me, I need to map elements to the tab they open, so order of tabs are important for me, so I purposely need the handle of current focused tab so I can map it with the element which opened that. But by iterating through all handels, I might mess up the order if any one of the webElement fails to open a new tab or if click is disabled on that.\r\n\r\nAny help world be highly appreciated.\r\nAlso if there are faster and better tools for scrapping, please recommend.","title":"How to get Handle of the Focused Tab in Selenium?","body":"<p>I am using Selenium for Scrapping purpose for Job Website scrapping. I am ctrl+clicking on jobs to go to second page and scrape details, I somehow wish to keep track of where I clicked to which tab opened up (using a map).\nBut as soon as I ctrl+click an element, new tab opens and focus changes to that.</p>\n<p><code>How do I get handle of the current focused tab in Selenium</code></p>\n<p>I tried</p>\n<p><code>webDriver.getWindowHandle()</code></p>\n<p>But it returns me the handle for main tab that I ctrl+clicked an element from.</p>\n<p>My Full Code</p>\n<pre><code>private void openAndMapJobTabs(WebElement jobList) {\n        List&lt;WebElement&gt; jobRowsSelector = jobList.findElements(By.tagName(&quot;article&quot;));\n        for (WebElement jobRow : jobRowsSelector) {\n            try {\n                ctrlClickElement(jobRow);\n                Thread.sleep(4000);\n                //the next line is expected by me to give handle of current focused tab\n                System.out.println(webDriver.getWindowHandle()); // but this gives me handle of main tab\n                webElementToTabMapper.put(jobRow, webDriver.getWindowHandle());\n                webDriver.switchTo().window(websiteTabHandle);\n            } catch (Exception e) {\n                logger.info(&quot;Could Not Click Open Job Tab: &quot;+e.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>UPDATE</p>\n<p>Actually for me, I need to map elements to the tab they open, so order of tabs are important for me, so I purposely need the handle of current focused tab so I can map it with the element which opened that. But by iterating through all handels, I might mess up the order if any one of the webElement fails to open a new tab or if click is disabled on that.</p>\n<p>Any help world be highly appreciated.\nAlso if there are faster and better tools for scrapping, please recommend.</p>\n"},{"tags":["java","android","android-fragments","android-search"],"answers":[{"tags":[],"owner":{"account_id":23340559,"reputation":366,"user_id":17415517,"display_name":"Khush Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664123520,"creation_date":1664123520,"answer_id":73846142,"question_id":73845925,"body_markdown":"From your requirement i can not able to understand your actual approach to show the data.\r\nAs i understand this approach to do the same don&#39;t know this will fulfil your requirement which you&#39;re looking for.\r\n\r\nYou can transfer data between fragments using bundle.\r\nAfter user search any value you will get the filtered list from the main data list, now you can pass this filtered list using the code below to put when you get the filtered list from your search function in your case you have mydatalist in your search function. Make sure to create your data class of the list Serializable. \r\n\r\n````\r\n    Bundle bundle = new Bundle();\r\n    bundle.putParcelableArrayList(&quot;list&quot;, mydatalist); \r\n    \r\n    Fragment2 fragment2 = new Fragment2();\r\n    fragment2.setArguments(bundle);\r\n    \r\n    getFragmentManager()\r\n          .beginTransaction()\r\n          .replace(&lt;Your container id&gt;, fragment2)\r\n          .commit();\r\n````\r\n\r\nNow in your second fragment get the list like the code below and set as per your requirement.\r\n\r\n````\r\n    Bundle bundle = this.getArguments();\r\n    \r\n    if(bundle != null){\r\n         // handle your code here.\r\n         &lt;Your List Type&gt; = listbundle.getParcelableArrayList(&quot;list&quot;);\r\n    }\r\n````\r\n ","title":"How can i show my filtered data on another screen in android?","body":"<p>From your requirement i can not able to understand your actual approach to show the data.\nAs i understand this approach to do the same don't know this will fulfil your requirement which you're looking for.</p>\n<p>You can transfer data between fragments using bundle.\nAfter user search any value you will get the filtered list from the main data list, now you can pass this filtered list using the code below to put when you get the filtered list from your search function in your case you have mydatalist in your search function. Make sure to create your data class of the list Serializable.</p>\n<pre><code>    Bundle bundle = new Bundle();\n    bundle.putParcelableArrayList(&quot;list&quot;, mydatalist); \n    \n    Fragment2 fragment2 = new Fragment2();\n    fragment2.setArguments(bundle);\n    \n    getFragmentManager()\n          .beginTransaction()\n          .replace(&lt;Your container id&gt;, fragment2)\n          .commit();\n</code></pre>\n<p>Now in your second fragment get the list like the code below and set as per your requirement.</p>\n<pre><code>    Bundle bundle = this.getArguments();\n    \n    if(bundle != null){\n         // handle your code here.\n         &lt;Your List Type&gt; = listbundle.getParcelableArrayList(&quot;list&quot;);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user20008723"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664123520,"creation_date":1664121542,"question_id":73845925,"body_markdown":"I am working on an app where at my home fragment I have a searchview under that there is a recyclerview where I am showing the whole data but when user uses searchview and search for any data now I want to show the data to another fragment, Ho can I achieve that?? please guide me\r\n\r\nIMAGE[![enter image description here][1]][1]\r\n\r\n**CODE FOR SEARCH ON HOME FRAGMENT**\r\n\r\n      @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        if (searchView != null) {\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n\r\n                    pd.setTitle(&quot;Searching&quot;);\r\n                    pd.show();\r\n\r\n                    Runnable progressRunnable = new Runnable() {\r\n\r\n                        @Override\r\n                        public void run() {\r\n                            search(query);\r\n                            pd.cancel();\r\n                        }\r\n                    };\r\n\r\n                    Handler pdCanceller = new Handler();\r\n                    pdCanceller.postDelayed(progressRunnable, 3000);\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n\r\n\r\n                    if (newText.isEmpty())\r\n                    {\r\n                        getData();\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\n        getDataCompleteData();\r\n        \r\n    }\r\n\r\n\r\n\r\n    //SEARCH METHOD\r\n    private void search(String s) {\r\n\r\n         mydatalist = new ArrayList&lt;&gt;();\r\n\r\n        for (RecyclerviewModel object : datalist) {\r\n            if (object.getSearching().contains(s.toLowerCase().trim())) {\r\n                mydatalist.add(object);\r\n            }\r\n\r\n            RecyclerviewAdapter adapter = new RecyclerviewAdapter(mydatalist, getContext(), HomeFragment.this);\r\n            recyclerView.setAdapter(adapter);\r\n\r\n        }\r\n\r\n \r\n    }\r\n\r\n**THIS IS MY CODE FOR SEARCH ON HOME FRAGMENT BUT THIS CODE SHOWS THE FILTERED(SEARCHED DATA) ON THE SAME FRAGMENT, I WANT THAT WHEN USER ENTER A QUERY IN SEARCHVIEW, THEN SEARCHED DATA SHOULD BE SHOWN ON THE NEW FRAGMENT.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o7mO9.jpg","title":"How can i show my filtered data on another screen in android?","body":"<p>I am working on an app where at my home fragment I have a searchview under that there is a recyclerview where I am showing the whole data but when user uses searchview and search for any data now I want to show the data to another fragment, Ho can I achieve that?? please guide me</p>\n<p>IMAGE<a href=\"https://i.stack.imgur.com/o7mO9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o7mO9.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>CODE FOR SEARCH ON HOME FRAGMENT</strong></p>\n<pre><code>  @Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    if (searchView != null) {\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n\n                pd.setTitle(&quot;Searching&quot;);\n                pd.show();\n\n                Runnable progressRunnable = new Runnable() {\n\n                    @Override\n                    public void run() {\n                        search(query);\n                        pd.cancel();\n                    }\n                };\n\n                Handler pdCanceller = new Handler();\n                pdCanceller.postDelayed(progressRunnable, 3000);\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n\n\n                if (newText.isEmpty())\n                {\n                    getData();\n                }\n\n                return false;\n            }\n        });\n    }\n\n    getDataCompleteData();\n    \n}\n\n\n\n//SEARCH METHOD\nprivate void search(String s) {\n\n     mydatalist = new ArrayList&lt;&gt;();\n\n    for (RecyclerviewModel object : datalist) {\n        if (object.getSearching().contains(s.toLowerCase().trim())) {\n            mydatalist.add(object);\n        }\n\n        RecyclerviewAdapter adapter = new RecyclerviewAdapter(mydatalist, getContext(), HomeFragment.this);\n        recyclerView.setAdapter(adapter);\n\n    }\n\n\n}\n</code></pre>\n<p><strong>THIS IS MY CODE FOR SEARCH ON HOME FRAGMENT BUT THIS CODE SHOWS THE FILTERED(SEARCHED DATA) ON THE SAME FRAGMENT, I WANT THAT WHEN USER ENTER A QUERY IN SEARCHVIEW, THEN SEARCHED DATA SHOULD BE SHOWN ON THE NEW FRAGMENT.</strong></p>\n"},{"tags":["java","spring-boot","asynchronous","reactive","spring-webclient"],"owner":{"account_id":26438834,"reputation":11,"user_id":20083730,"display_name":"Jawahar Elango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664122787,"creation_date":1664122787,"question_id":73846069,"body_markdown":"I am consuming an external API asynchronously using Spring WebClient and use exchangeToMono(). Here is my code block:\r\n\r\n    `Mono&lt;ExternalServiceResponse&gt; externalServiceResponseMono = webClient.get()\r\n                    .header(&quot;trackingid&quot;, &quot;abc123&quot;)\r\n                    .exchangeToMono(clientResponse -&gt; {\r\n                        if(clientResponse.statusCode().equals(HttpStatus.OK)) {\r\n                            return clientResponse.bodyToMono(ExternalServiceResponse.class);\r\n                        }\r\n                        else if (clientResponse.statusCode()\r\n                                .is4xxClientError()) {\r\n                            log.error(&quot;ErrorResponse Code from ExternalService API is: &quot; + clientResponse.rawStatusCode());\r\n                             return Mono.error(new RestServiceCallException(clientResponse.statusCode().getReasonPhrase()));\r\n                        }else if (clientResponse.statusCode()\r\n                                .is5xxServerError()) {\r\n                            return Mono.error(new ExternalServiceCallException(clientResponse.statusCode().getReasonPhrase()));\r\n                        }\r\n                        return Mono.error(new RuntimeException(&quot;Unknown error occured while calling External Service API&quot;));\r\n                    })\r\n                    .retryWhen(Retry.fixedDelay(2, Duration.ofSeconds(2)).filter(throwable -&gt; throwable instanceof ExternalServiceCallException ));`\r\n\r\nThen I subscribe to Mono response as below: \r\n\r\n    List&lt;Response&gt; processedResponseList = new ArrayList&lt;&gt;();\r\n    externalServiceResponseMono.subscribe(res -&gt; res.getDetails().forEach(section -&gt; processedResponseList.add(processResponseExternalAPI(section))));\r\n\r\n\r\n\r\nI am not seeing anything being subscribed from externalServiceResponseMono (even though API returns data, verified in postman). The processedResponseList is always empty.\r\nWhat am I missing? Why do I see no data being subscribed from Mono?\r\n\r\n\r\n","title":"Spring WebClient exchangeToMono seem to return nothing","body":"<p>I am consuming an external API asynchronously using Spring WebClient and use exchangeToMono(). Here is my code block:</p>\n<pre><code>`Mono&lt;ExternalServiceResponse&gt; externalServiceResponseMono = webClient.get()\n                .header(&quot;trackingid&quot;, &quot;abc123&quot;)\n                .exchangeToMono(clientResponse -&gt; {\n                    if(clientResponse.statusCode().equals(HttpStatus.OK)) {\n                        return clientResponse.bodyToMono(ExternalServiceResponse.class);\n                    }\n                    else if (clientResponse.statusCode()\n                            .is4xxClientError()) {\n                        log.error(&quot;ErrorResponse Code from ExternalService API is: &quot; + clientResponse.rawStatusCode());\n                         return Mono.error(new RestServiceCallException(clientResponse.statusCode().getReasonPhrase()));\n                    }else if (clientResponse.statusCode()\n                            .is5xxServerError()) {\n                        return Mono.error(new ExternalServiceCallException(clientResponse.statusCode().getReasonPhrase()));\n                    }\n                    return Mono.error(new RuntimeException(&quot;Unknown error occured while calling External Service API&quot;));\n                })\n                .retryWhen(Retry.fixedDelay(2, Duration.ofSeconds(2)).filter(throwable -&gt; throwable instanceof ExternalServiceCallException ));`\n</code></pre>\n<p>Then I subscribe to Mono response as below:</p>\n<pre><code>List&lt;Response&gt; processedResponseList = new ArrayList&lt;&gt;();\nexternalServiceResponseMono.subscribe(res -&gt; res.getDetails().forEach(section -&gt; processedResponseList.add(processResponseExternalAPI(section))));\n</code></pre>\n<p>I am not seeing anything being subscribed from externalServiceResponseMono (even though API returns data, verified in postman). The processedResponseList is always empty.\nWhat am I missing? Why do I see no data being subscribed from Mono?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1663975185,"post_id":73833739,"comment_id":130373598,"body_markdown":"The first time you find a match, you execute this line: `return &quot;cointains &quot; + vowels.charAt(j)` which exits from the function.  If you want to keep going, then do something at that line that does not cause the function to exit.","body":"The first time you find a match, you execute this line: <code>return &quot;cointains &quot; + vowels.charAt(j)</code> which exits from the function.  If you want to keep going, then do something at that line that does not cause the function to exit."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1663975263,"post_id":73833739,"comment_id":130373605,"body_markdown":"For your second loop, I think you want `j &lt; vowels.length()` rather than `j &lt; str.length()`.","body":"For your second loop, I think you want <code>j &lt; vowels.length()</code> rather than <code>j &lt; str.length()</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1663975278,"post_id":73833739,"comment_id":130373607,"body_markdown":"Please format you code with correct indentation, it makes it much easier to read.","body":"Please format you code with correct indentation, it makes it much easier to read."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1663975275,"creation_date":1663975275,"answer_id":73833762,"question_id":73833739,"body_markdown":"Your inner loop should be using `vowels.length()` (not `str.length()`). You need to continue iterating and gathering the matches if you don&#39;t want to return the first vowel. You might use a `Set`. Something like,\r\n\r\n\tpublic static String vowels(String str) {\r\n\t\tString vowels = &quot;auioe&#235;yAUIOE&#203;Y&quot;;\r\n\t\tSet&lt;Character&gt; charSet = new LinkedHashSet&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tchar ch = str.charAt(i);\r\n\t\t\tfor (int j = 0; j &lt; vowels.length(); j++) {\r\n\t\t\t\tif (vowels.charAt(j) == ch) {\r\n\t\t\t\t\tcharSet.add(ch);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (charSet.isEmpty()) {\r\n\t\t\treturn &quot;none&quot;;\r\n\t\t}\r\n\t\treturn &quot;contains &quot; + charSet.stream().map(String::valueOf)\r\n\t\t\t\t.collect(Collectors.joining(&quot; &quot;));\r\n\t}","title":"Method that outputs every vowel from string once","body":"<p>Your inner loop should be using <code>vowels.length()</code> (not <code>str.length()</code>). You need to continue iterating and gathering the matches if you don't want to return the first vowel. You might use a <code>Set</code>. Something like,</p>\n<pre><code>public static String vowels(String str) {\n    String vowels = &quot;auioeyAUIOEY&quot;;\n    Set&lt;Character&gt; charSet = new LinkedHashSet&lt;&gt;();\n    for (int i = 0; i &lt; str.length(); i++) {\n        char ch = str.charAt(i);\n        for (int j = 0; j &lt; vowels.length(); j++) {\n            if (vowels.charAt(j) == ch) {\n                charSet.add(ch);\n            }\n        }\n    }\n    if (charSet.isEmpty()) {\n        return &quot;none&quot;;\n    }\n    return &quot;contains &quot; + charSet.stream().map(String::valueOf)\n            .collect(Collectors.joining(&quot; &quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":26416899,"reputation":15,"user_id":20065173,"display_name":"Noname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664122383,"creation_date":1663974837,"question_id":73833739,"body_markdown":"My current code outputs only the first vowel it encounters.\r\nI&#39;d like to know a way to output every vowel that is inputed once.\r\n\r\n\r\n```\r\npublic static String vowels(String str) {\r\n\t\r\nString vowels = &quot;auioe&#235;yAUIOE&#203;Y&quot;;\r\n\t\r\nfor(int i = 0;i &lt; str.length();i++) {\r\n\t\tfor(int j = 0;j &lt; str.length();j++) {\r\n\t\t\t\r\nif(str.charAt(i) == vowels.charAt(j)) {\r\n\t\t\t\treturn &quot;cointains &quot; + vowels.charAt(j) ;\r\n\t\t\t}\r\n\t\t}   \r\n\t}\r\n\treturn &quot;none&quot;;\r\n}\r\n```","title":"Method that outputs every vowel from string once","body":"<p>My current code outputs only the first vowel it encounters.\nI'd like to know a way to output every vowel that is inputed once.</p>\n<pre><code>public static String vowels(String str) {\n    \nString vowels = &quot;auioeyAUIOEY&quot;;\n    \nfor(int i = 0;i &lt; str.length();i++) {\n        for(int j = 0;j &lt; str.length();j++) {\n            \nif(str.charAt(i) == vowels.charAt(j)) {\n                return &quot;cointains &quot; + vowels.charAt(j) ;\n            }\n        }   \n    }\n    return &quot;none&quot;;\n}\n</code></pre>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664122075,"creation_date":1664122075,"answer_id":73845983,"question_id":73844893,"body_markdown":"instead of a queue use a wait block (you can find that one on at the end on the auxiliary blocks when you look it up on the process modeling library)\r\n\r\nthen you can do the same you are already doing, but instead you use\r\nwait.free(agent)\r\n\r\nthe queue object doesn&#39;t stop the agents from moving forward, unless there&#39;s no space... ","title":"Releasing agent from queue based on conditions anylogic","body":"<p>instead of a queue use a wait block (you can find that one on at the end on the auxiliary blocks when you look it up on the process modeling library)</p>\n<p>then you can do the same you are already doing, but instead you use\nwait.free(agent)</p>\n<p>the queue object doesn't stop the agents from moving forward, unless there's no space...</p>\n"}],"owner":{"account_id":18081032,"reputation":433,"user_id":13143177,"display_name":"NickA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73845983,"answer_count":1,"score":0,"last_activity_date":1664122075,"creation_date":1664112699,"question_id":73844893,"body_markdown":"Agents currently get sent into a queue based on a condition put in a ```selectOuput``` previously. I would like the agents to be released from the queue upon satisfying a condition in the ```Queue``` block. The condition being if the agent is a morning agent or not AND there is an idle doctor for that morning or afternoon patient. Currently I have the code below in the ```On at exit``` section:\r\n\r\n```\r\nif (agent.isMorning == true &amp;&amp; doctorMorning.idle()  &gt; 0)\r\n\tqueue1.release(agent);\r\n\r\nif (agent.isMorning == false &amp;&amp; doctorAfternoon.idle()  &gt; 0)\r\n\tqueue1.release(agent);\r\n```\r\n\r\nThe problem is that the agents never get held up in the queue but instead pass right through it, even when there are no idle doctors i.e. even when both conditions are satisfied ","title":"Releasing agent from queue based on conditions anylogic","body":"<p>Agents currently get sent into a queue based on a condition put in a <code>selectOuput</code> previously. I would like the agents to be released from the queue upon satisfying a condition in the <code>Queue</code> block. The condition being if the agent is a morning agent or not AND there is an idle doctor for that morning or afternoon patient. Currently I have the code below in the <code>On at exit</code> section:</p>\n<pre><code>if (agent.isMorning == true &amp;&amp; doctorMorning.idle()  &gt; 0)\n    queue1.release(agent);\n\nif (agent.isMorning == false &amp;&amp; doctorAfternoon.idle()  &gt; 0)\n    queue1.release(agent);\n</code></pre>\n<p>The problem is that the agents never get held up in the queue but instead pass right through it, even when there are no idle doctors i.e. even when both conditions are satisfied</p>\n"},{"tags":["java","java-security","securestring"],"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":1,"creation_date":1650041233,"post_id":51242150,"comment_id":127030240,"body_markdown":"java design basically does not provide treatment for Destroyable-s, not even a JPasswordField is cleaned up, same with security-private keys. My solution would be using reflection to access critical members of String, BigInteger or the document attached to a JPasswordField.","body":"java design basically does not provide treatment for Destroyable-s, not even a JPasswordField is cleaned up, same with security-private keys. My solution would be using reflection to access critical members of String, BigInteger or the document attached to a JPasswordField."}],"answers":[{"tags":[],"owner":{"account_id":4187802,"reputation":434,"user_id":3431110,"display_name":"sanketshah"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1542212930,"creation_date":1539801574,"answer_id":52861568,"question_id":51242150,"body_markdown":"Oracle has a [`GuardedString`](https://docs.oracle.com/html/E28160_01/org/identityconnectors/common/security/GuardedString.html) implementation. It is the closest match to .NET&#39;s [`SecureString`](https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring?view=netframework-4.7.2) solution.\r\n\r\n&gt; Secure string implementation that solves the problems associated with\r\n&gt; keeping passwords as `java.lang.String`. That is, anything represented\r\n&gt; as a String is kept in memory as a clear text password and stays in\r\n&gt; memory at least until it is garbage collected.\r\n&gt; \r\n&gt; The `GuardedString` class alleviates this problem by storing the\r\n&gt; characters in memory in an encrypted form. The encryption key will be\r\n&gt; a randomly-generated key.\r\n&gt; \r\n&gt; In their serialized form, `GuardedString`s will be encrypted using a\r\n&gt; known default key. This is to provide a minimum level of protection\r\n&gt; regardless of the transport. For communications with the Remote\r\n&gt; Connector Framework it is recommended that deployments enable SSL for\r\n&gt; true encryption.\r\n&gt; \r\n&gt; Applications may also wish to persist `GuardedString`. In the case of\r\n&gt; Identity Manager, it should convert `GuardedString`s to\r\n&gt; `EncryptedData` so that they can be stored and managed using the\r\n&gt; Manage Encryption features of Identity Manager. Other applications may\r\n&gt; wish to serialize `APIConfiguration` as a whole. These applications\r\n&gt; are responsible for encrypting the `APIConfiguration` blob for an\r\n&gt; additional layer of security (beyond the basic default key encryption\r\n&gt; provided by `GuardedString`).","title":"Java equivalent of SecureString","body":"<p>Oracle has a <a href=\"https://docs.oracle.com/html/E28160_01/org/identityconnectors/common/security/GuardedString.html\" rel=\"noreferrer\"><code>GuardedString</code></a> implementation. It is the closest match to .NET's <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.security.securestring?view=netframework-4.7.2\" rel=\"noreferrer\"><code>SecureString</code></a> solution.</p>\n\n<blockquote>\n  <p>Secure string implementation that solves the problems associated with\n  keeping passwords as <code>java.lang.String</code>. That is, anything represented\n  as a String is kept in memory as a clear text password and stays in\n  memory at least until it is garbage collected.</p>\n  \n  <p>The <code>GuardedString</code> class alleviates this problem by storing the\n  characters in memory in an encrypted form. The encryption key will be\n  a randomly-generated key.</p>\n  \n  <p>In their serialized form, <code>GuardedString</code>s will be encrypted using a\n  known default key. This is to provide a minimum level of protection\n  regardless of the transport. For communications with the Remote\n  Connector Framework it is recommended that deployments enable SSL for\n  true encryption.</p>\n  \n  <p>Applications may also wish to persist <code>GuardedString</code>. In the case of\n  Identity Manager, it should convert <code>GuardedString</code>s to\n  <code>EncryptedData</code> so that they can be stored and managed using the\n  Manage Encryption features of Identity Manager. Other applications may\n  wish to serialize <code>APIConfiguration</code> as a whole. These applications\n  are responsible for encrypting the <code>APIConfiguration</code> blob for an\n  additional layer of security (beyond the basic default key encryption\n  provided by <code>GuardedString</code>).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1572902136,"creation_date":1572902136,"answer_id":58701177,"question_id":51242150,"body_markdown":"I modified the OWASP version to randomly pad the char array in memory so the char array at rest is not stored with the actual characters.  \r\n\r\n```lang-java\r\nimport java.security.SecureRandom;\r\nimport java.util.Arrays;\r\n\r\n\r\n/**\r\n* This is not a string but a CharSequence that can be cleared of its memory.\r\n* Important for handling passwords. Represents text that should be kept\r\n* confidential, such as by deleting it from computer memory when no longer\r\n* needed or garbaged collected.\r\n*/\r\npublic class SecureString implements CharSequence {\r\n\r\n   private final int[] chars;\r\n   private final int[] pad;\r\n\r\n   public SecureString(final CharSequence original) {\r\n      this(0, original.length(), original);\r\n   }\r\n\r\n   public SecureString(final int start, final int end, final CharSequence original) {\r\n      final int length = end - start;\r\n      pad = new int[length];\r\n      chars = new int[length];\r\n      scramble(start, length, original);\r\n   }\r\n\r\n   @Override\r\n   public char charAt(final int i) {\r\n      return (char) (pad[i] ^ chars[i]);\r\n   }\r\n\r\n   @Override\r\n   public int length() {\r\n      return chars.length;\r\n   }\r\n\r\n   @Override\r\n   public CharSequence subSequence(final int start, final int end) {\r\n      return new SecureString(start, end, this);\r\n   }\r\n\r\n   /**\r\n    * Convert array back to String but not using toString(). See toString() docs\r\n    * below.\r\n    */\r\n   public String asString() {\r\n      final char[] value = new char[chars.length];\r\n      for (int i = 0; i &lt; value.length; i++) {\r\n         value[i] = charAt(i);\r\n      }\r\n      return new String(value);\r\n   }\r\n\r\n   /**\r\n    * Manually clear the underlying array holding the characters\r\n    */\r\n   public void clear() {\r\n      Arrays.fill(chars, &#39;0&#39;);\r\n      Arrays.fill(pad, 0);\r\n   }\r\n\r\n   /**\r\n    * Protect against using this class in log statements.\r\n    * &lt;p&gt;\r\n    * {@inheritDoc}\r\n    */\r\n   @Override\r\n   public String toString() {\r\n      return &quot;Secure:XXXXX&quot;;\r\n   }\r\n\r\n   /**\r\n    * Called by garbage collector.\r\n    * &lt;p&gt;\r\n    * {@inheritDoc}\r\n    */\r\n   @Override\r\n   public void finalize() throws Throwable {\r\n      clear();\r\n      super.finalize();\r\n   }\r\n\r\n   /**\r\n    * Randomly pad the characters to not store the real character in memory.\r\n    *\r\n    * @param start start of the {@code CharSequence}\r\n    * @param length length of the {@code CharSequence}\r\n    * @param characters the {@code CharSequence} to scramble\r\n    */\r\n   private void scramble(final int start, final int length, final CharSequence characters) {\r\n      final SecureRandom random = new SecureRandom();\r\n      for (int i = start; i &lt; length; i++) {\r\n         final char charAt = characters.charAt(i);\r\n         pad[i] = random.nextInt();\r\n         chars[i] = pad[i] ^ charAt;\r\n      }\r\n   }\r\n\r\n}\r\n\r\n```","title":"Java equivalent of SecureString","body":"<p>I modified the OWASP version to randomly pad the char array in memory so the char array at rest is not stored with the actual characters.  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.SecureRandom;\nimport java.util.Arrays;\n\n\n/**\n* This is not a string but a CharSequence that can be cleared of its memory.\n* Important for handling passwords. Represents text that should be kept\n* confidential, such as by deleting it from computer memory when no longer\n* needed or garbaged collected.\n*/\npublic class SecureString implements CharSequence {\n\n   private final int[] chars;\n   private final int[] pad;\n\n   public SecureString(final CharSequence original) {\n      this(0, original.length(), original);\n   }\n\n   public SecureString(final int start, final int end, final CharSequence original) {\n      final int length = end - start;\n      pad = new int[length];\n      chars = new int[length];\n      scramble(start, length, original);\n   }\n\n   @Override\n   public char charAt(final int i) {\n      return (char) (pad[i] ^ chars[i]);\n   }\n\n   @Override\n   public int length() {\n      return chars.length;\n   }\n\n   @Override\n   public CharSequence subSequence(final int start, final int end) {\n      return new SecureString(start, end, this);\n   }\n\n   /**\n    * Convert array back to String but not using toString(). See toString() docs\n    * below.\n    */\n   public String asString() {\n      final char[] value = new char[chars.length];\n      for (int i = 0; i &lt; value.length; i++) {\n         value[i] = charAt(i);\n      }\n      return new String(value);\n   }\n\n   /**\n    * Manually clear the underlying array holding the characters\n    */\n   public void clear() {\n      Arrays.fill(chars, '0');\n      Arrays.fill(pad, 0);\n   }\n\n   /**\n    * Protect against using this class in log statements.\n    * &lt;p&gt;\n    * {@inheritDoc}\n    */\n   @Override\n   public String toString() {\n      return \"Secure:XXXXX\";\n   }\n\n   /**\n    * Called by garbage collector.\n    * &lt;p&gt;\n    * {@inheritDoc}\n    */\n   @Override\n   public void finalize() throws Throwable {\n      clear();\n      super.finalize();\n   }\n\n   /**\n    * Randomly pad the characters to not store the real character in memory.\n    *\n    * @param start start of the {@code CharSequence}\n    * @param length length of the {@code CharSequence}\n    * @param characters the {@code CharSequence} to scramble\n    */\n   private void scramble(final int start, final int length, final CharSequence characters) {\n      final SecureRandom random = new SecureRandom();\n      for (int i = start; i &lt; length; i++) {\n         final char charAt = characters.charAt(i);\n         pad[i] = random.nextInt();\n         chars[i] = pad[i] ^ charAt;\n      }\n   }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589289880,"creation_date":1589287875,"answer_id":61752212,"question_id":51242150,"body_markdown":"This answer adds a bit more explanation to [@sanketshah](https://stackoverflow.com/users/3431110/sanketshah)&#39;s great [answer](https://stackoverflow.com/a/52861568/459391).\r\n\r\nThe following code shows the usage:\r\n\r\n    import org.identityconnectors.common.security.GuardedString;\r\n    \r\n    import java.security.SecureRandom;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            /*\r\n             * Using:\r\n             *   &quot;password&quot;.toCharArray();\r\n             * would create an immutable String &quot;password&quot;,\r\n             * which remains in memory until GC is called.\r\n             */\r\n            char[] password = new char[]{&#39;p&#39;, &#39;a&#39;, &#39;s&#39;, &#39;s&#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;d&#39;};\r\n            GuardedString guardedString = new GuardedString(password);\r\n    \r\n            /*\r\n             * Securely wipe the char array by storing random values in it.\r\n             * Some standards require multiple rounds of overwriting; see:\r\n             * https://en.wikipedia.org/wiki/Data_erasure#Standards\r\n             */\r\n            SecureRandom sr = new SecureRandom();\r\n            for (int i = 0; i &lt; password.length; i++)\r\n                password[i] = (char) sr.nextInt(Character.MAX_VALUE + 1);\r\n            //noinspection UnusedAssignment\r\n            password = null;\r\n    \r\n            /*\r\n             * At some later point in the code, we might need the secret.\r\n             * Here&#39;s how to obtain it using Java 8+ lambdas.\r\n             */\r\n    \r\n            guardedString.access(chars -&gt; {\r\n                for (char c : chars) {\r\n                    System.out.print(c);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n`GuardedString` can be obtained from maven [IdentityConnectors: Framework](https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework-internal). However, for the actual implementation, one also needs [IdentityConnectors: Framework Internal](https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework-internal).\r\n\r\nTo be more precise, the former package defines the `Encryptor` interface:\r\n\r\n    package org.identityconnectors.common.security;\r\n    \r\n    /**\r\n     * Responsible for encrypting/decrypting bytes. Implementations\r\n     * are intended to be thread-safe.\r\n     */\r\n    public interface Encryptor {\r\n        /**\r\n         * Decrypts the given byte array\r\n         * @param bytes The encrypted bytes\r\n         * @return The decrypted bytes\r\n         */\r\n        public byte [] decrypt(byte [] bytes);\r\n        /**\r\n         * Encrypts the given byte array\r\n         * @param bytes The clear bytes\r\n         * @return The ecnrypted bytes\r\n         */\r\n        public byte [] encrypt(byte [] bytes);\r\n    }\r\n\r\nwhich is implemented by `EncryptorImpl` in the second package. (The same goes for the abstract class `EncryptorFactory`, which is extended by `EncryptorFactoryImpl`).\r\n\r\nThe `EncryptorFactory` actually fixes its implementation:\r\n\r\n    // At some point we might make this pluggable, but for now, hard-code\r\n    private static final String IMPL_NAME = &quot;org.identityconnectors.common.security.impl.EncryptorFactoryImpl&quot;;\r\n\r\nAn insecure aspect of the implementations is that they use `AES/CBC/PKCS5Padding` with hard-coded IV and key. The constructor of `EncryptorFactoryImpl` passes `true` to `EncryptorImpl`:\r\n\r\n    public EncryptorFactoryImpl() {\r\n        _defaultEncryptor = new EncryptorImpl(true);\r\n    }\r\n\r\nwhich causes it to use the default key. Regardless of that, the IV is always fixed:\r\n\r\n    public EncryptorImpl( boolean defaultKey ) {\r\n        if ( defaultKey ) {\r\n            _key = new SecretKeySpec(_defaultKeyBytes,ALGORITHM);\r\n            _iv  = new IvParameterSpec(_defaultIvBytes);            \r\n        }\r\n        else {\r\n            try {\r\n                _key = KeyGenerator.getInstance(ALGORITHM).generateKey();\r\n                _iv  = new IvParameterSpec(_defaultIvBytes);\r\n            }\r\n            catch (RuntimeException e) {\r\n                throw e;\r\n            }\r\n            catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThere is some space for improvements here:\r\n\r\n1. Use AES/CTR or AES/GCM instead of AES/CBC. (See [block cipher mode of operation](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation).)\r\n2. Always use random IV and key.\r\n3. `GuardedString` uses an internal method `SecurityUtil.clear()` to clear byte arrays, which zeros out the bytes. It would be nice to have other possible [data erasure](https://en.wikipedia.org/wiki/Data_erasure#Standards) algorithms.","title":"Java equivalent of SecureString","body":"<p>This answer adds a bit more explanation to <a href=\"https://stackoverflow.com/users/3431110/sanketshah\">@sanketshah</a>'s great <a href=\"https://stackoverflow.com/a/52861568/459391\">answer</a>.</p>\n\n<p>The following code shows the usage:</p>\n\n<pre><code>import org.identityconnectors.common.security.GuardedString;\n\nimport java.security.SecureRandom;\n\npublic class Main {\n    public static void main(String[] args) {\n        /*\n         * Using:\n         *   \"password\".toCharArray();\n         * would create an immutable String \"password\",\n         * which remains in memory until GC is called.\n         */\n        char[] password = new char[]{'p', 'a', 's', 's', 'w', 'o', 'r', 'd'};\n        GuardedString guardedString = new GuardedString(password);\n\n        /*\n         * Securely wipe the char array by storing random values in it.\n         * Some standards require multiple rounds of overwriting; see:\n         * https://en.wikipedia.org/wiki/Data_erasure#Standards\n         */\n        SecureRandom sr = new SecureRandom();\n        for (int i = 0; i &lt; password.length; i++)\n            password[i] = (char) sr.nextInt(Character.MAX_VALUE + 1);\n        //noinspection UnusedAssignment\n        password = null;\n\n        /*\n         * At some later point in the code, we might need the secret.\n         * Here's how to obtain it using Java 8+ lambdas.\n         */\n\n        guardedString.access(chars -&gt; {\n            for (char c : chars) {\n                System.out.print(c);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><code>GuardedString</code> can be obtained from maven <a href=\"https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework-internal\" rel=\"nofollow noreferrer\">IdentityConnectors: Framework</a>. However, for the actual implementation, one also needs <a href=\"https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework-internal\" rel=\"nofollow noreferrer\">IdentityConnectors: Framework Internal</a>.</p>\n\n<p>To be more precise, the former package defines the <code>Encryptor</code> interface:</p>\n\n<pre><code>package org.identityconnectors.common.security;\n\n/**\n * Responsible for encrypting/decrypting bytes. Implementations\n * are intended to be thread-safe.\n */\npublic interface Encryptor {\n    /**\n     * Decrypts the given byte array\n     * @param bytes The encrypted bytes\n     * @return The decrypted bytes\n     */\n    public byte [] decrypt(byte [] bytes);\n    /**\n     * Encrypts the given byte array\n     * @param bytes The clear bytes\n     * @return The ecnrypted bytes\n     */\n    public byte [] encrypt(byte [] bytes);\n}\n</code></pre>\n\n<p>which is implemented by <code>EncryptorImpl</code> in the second package. (The same goes for the abstract class <code>EncryptorFactory</code>, which is extended by <code>EncryptorFactoryImpl</code>).</p>\n\n<p>The <code>EncryptorFactory</code> actually fixes its implementation:</p>\n\n<pre><code>// At some point we might make this pluggable, but for now, hard-code\nprivate static final String IMPL_NAME = \"org.identityconnectors.common.security.impl.EncryptorFactoryImpl\";\n</code></pre>\n\n<p>An insecure aspect of the implementations is that they use <code>AES/CBC/PKCS5Padding</code> with hard-coded IV and key. The constructor of <code>EncryptorFactoryImpl</code> passes <code>true</code> to <code>EncryptorImpl</code>:</p>\n\n<pre><code>public EncryptorFactoryImpl() {\n    _defaultEncryptor = new EncryptorImpl(true);\n}\n</code></pre>\n\n<p>which causes it to use the default key. Regardless of that, the IV is always fixed:</p>\n\n<pre><code>public EncryptorImpl( boolean defaultKey ) {\n    if ( defaultKey ) {\n        _key = new SecretKeySpec(_defaultKeyBytes,ALGORITHM);\n        _iv  = new IvParameterSpec(_defaultIvBytes);            \n    }\n    else {\n        try {\n            _key = KeyGenerator.getInstance(ALGORITHM).generateKey();\n            _iv  = new IvParameterSpec(_defaultIvBytes);\n        }\n        catch (RuntimeException e) {\n            throw e;\n        }\n        catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>There is some space for improvements here:</p>\n\n<ol>\n<li>Use AES/CTR or AES/GCM instead of AES/CBC. (See <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"nofollow noreferrer\">block cipher mode of operation</a>.)</li>\n<li>Always use random IV and key.</li>\n<li><code>GuardedString</code> uses an internal method <code>SecurityUtil.clear()</code> to clear byte arrays, which zeros out the bytes. It would be nice to have other possible <a href=\"https://en.wikipedia.org/wiki/Data_erasure#Standards\" rel=\"nofollow noreferrer\">data erasure</a> algorithms.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6634642,"reputation":896,"user_id":5122135,"display_name":"Milad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664120739,"creation_date":1664120739,"answer_id":73845829,"question_id":51242150,"body_markdown":"I&#39;m researching on this myself, and by reading [this article][1], I gather that that:\r\n* the problem cannot be completely eradicated\r\n* the best we can do is to encrypt the string as early as possible, and\r\n* wipe the memory location used to store the unencrypted string immediately after use - due to this requirement, it&#39;s best to use a `char[]` instead of a `String`, since the latter is immutable (and resorting to reflection to wipe it is [not recommended][2])\r\n\r\nTo achieve this, one could either use `org.identityconnectors.common.security.GuardedString`, part of [this Oracle&#39;s library][3], or `javax.crypto.SealedObject` which is part of the SDK, see [examples here][4].\r\n\r\n\r\nTL;DR, `SealedObject`:\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SealedObject;\r\n    import java.security.Key;\r\n    \r\n    public class SealedMain\r\n    {\r\n        public static void main(String[] args) throws Exception {\r\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;DESede&quot;);\r\n    \r\n            Key key = keyGenerator.generateKey();\r\n            Cipher cipher = Cipher.getInstance(&quot;DESede&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n    \r\n            SealedObject so = new SealedObject(&quot;foo&quot;, cipher);\r\n    \r\n            String unencryptedPassword = (String) so.getObject(key);\r\n    \r\n            System.out.println(unencryptedPassword);\r\n        }\r\n    }\r\n\r\n`GuardedString`:\r\n\r\n    import org.identityconnectors.common.security.GuardedString;\r\n    \r\n    public class GuardedMain\r\n    {\r\n        public static void main(String[] args) {\r\n            GuardedString gs = new GuardedString(&quot;foo&quot;.toCharArray());\r\n            gs.access(chars -&gt; System.out.println(String.valueOf(chars)));\r\n        }\r\n    }\r\n\r\nOne thing that I don&#39;t like about `GuardedString` is having to pull a whole library for a single function, and an &quot;enteprise-looking&quot; one at that:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.syncope.identityconnectors&lt;/groupId&gt;\r\n        &lt;artifactId&gt;framework&lt;/artifactId&gt;\r\n        &lt;version&gt;0.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.syncope.identityconnectors&lt;/groupId&gt;\r\n        &lt;artifactId&gt;framework-internal&lt;/artifactId&gt;\r\n        &lt;version&gt;0.4.3&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNot to mention the fact that the library has last been updated 11 years ago, but who knows, maybe it&#39;s just stable.\r\n\r\n  [1]: https://thesecurityvault.com/heap-inspection/\r\n  [2]: https://security.stackexchange.com/questions/74718/is-it-more-secure-to-overwrite-the-value-char-in-a-string\r\n  [3]: https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework\r\n  [4]: https://www.demo2s.com/java/java-sealedobject-getobject-key-key.html","title":"Java equivalent of SecureString","body":"<p>I'm researching on this myself, and by reading <a href=\"https://thesecurityvault.com/heap-inspection/\" rel=\"nofollow noreferrer\">this article</a>, I gather that that:</p>\n<ul>\n<li>the problem cannot be completely eradicated</li>\n<li>the best we can do is to encrypt the string as early as possible, and</li>\n<li>wipe the memory location used to store the unencrypted string immediately after use - due to this requirement, it's best to use a <code>char[]</code> instead of a <code>String</code>, since the latter is immutable (and resorting to reflection to wipe it is <a href=\"https://security.stackexchange.com/questions/74718/is-it-more-secure-to-overwrite-the-value-char-in-a-string\">not recommended</a>)</li>\n</ul>\n<p>To achieve this, one could either use <code>org.identityconnectors.common.security.GuardedString</code>, part of <a href=\"https://mvnrepository.com/artifact/org.syncope.identityconnectors/framework\" rel=\"nofollow noreferrer\">this Oracle's library</a>, or <code>javax.crypto.SealedObject</code> which is part of the SDK, see <a href=\"https://www.demo2s.com/java/java-sealedobject-getobject-key-key.html\" rel=\"nofollow noreferrer\">examples here</a>.</p>\n<p>TL;DR, <code>SealedObject</code>:</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SealedObject;\nimport java.security.Key;\n\npublic class SealedMain\n{\n    public static void main(String[] args) throws Exception {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;DESede&quot;);\n\n        Key key = keyGenerator.generateKey();\n        Cipher cipher = Cipher.getInstance(&quot;DESede&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n\n        SealedObject so = new SealedObject(&quot;foo&quot;, cipher);\n\n        String unencryptedPassword = (String) so.getObject(key);\n\n        System.out.println(unencryptedPassword);\n    }\n}\n</code></pre>\n<p><code>GuardedString</code>:</p>\n<pre><code>import org.identityconnectors.common.security.GuardedString;\n\npublic class GuardedMain\n{\n    public static void main(String[] args) {\n        GuardedString gs = new GuardedString(&quot;foo&quot;.toCharArray());\n        gs.access(chars -&gt; System.out.println(String.valueOf(chars)));\n    }\n}\n</code></pre>\n<p>One thing that I don't like about <code>GuardedString</code> is having to pull a whole library for a single function, and an &quot;enteprise-looking&quot; one at that:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.syncope.identityconnectors&lt;/groupId&gt;\n    &lt;artifactId&gt;framework&lt;/artifactId&gt;\n    &lt;version&gt;0.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.syncope.identityconnectors&lt;/groupId&gt;\n    &lt;artifactId&gt;framework-internal&lt;/artifactId&gt;\n    &lt;version&gt;0.4.3&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Not to mention the fact that the library has last been updated 11 years ago, but who knows, maybe it's just stable.</p>\n"}],"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21766,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":52861568,"answer_count":4,"score":28,"last_activity_date":1664120739,"creation_date":1531128259,"question_id":51242150,"body_markdown":"I&#39;m looking for Java&#39;s equivalent of .NET&#39;s [SecureString.aspx][1]. Is there such implementation available in 2018?\r\n\r\n[OWASP implementation][2] is not exactly the same because it&#39;s just a plain char array. While .NET equivalent provides [additional features][3] such as the ability to get an instance from/to unmanaged memory and also encryption.\r\n\r\nI&#39;m aware of common Java pattern to pass around passwords as `char[]` and do `Arrays.fill()` them with zeros after use. But it requires building a trivial utility class around `char[]` all the time.\r\n\r\n\r\n\r\n  [1]: https://referencesource.microsoft.com/#mscorlib/system/security/securestring.cs\r\n  [2]: https://github.com/OWASP/passfault/blob/master/core/src/main/java/org/owasp/passfault/impl/SecureString.java\r\n  [3]: https://stackoverflow.com/questions/26190938/is-securestring-ever-practical-in-a-c-sharp-application/26202992#26202992","title":"Java equivalent of SecureString","body":"<p>I'm looking for Java's equivalent of .NET's <a href=\"https://referencesource.microsoft.com/#mscorlib/system/security/securestring.cs\" rel=\"noreferrer\">SecureString.aspx</a>. Is there such implementation available in 2018?</p>\n\n<p><a href=\"https://github.com/OWASP/passfault/blob/master/core/src/main/java/org/owasp/passfault/impl/SecureString.java\" rel=\"noreferrer\">OWASP implementation</a> is not exactly the same because it's just a plain char array. While .NET equivalent provides <a href=\"https://stackoverflow.com/questions/26190938/is-securestring-ever-practical-in-a-c-sharp-application/26202992#26202992\">additional features</a> such as the ability to get an instance from/to unmanaged memory and also encryption.</p>\n\n<p>I'm aware of common Java pattern to pass around passwords as <code>char[]</code> and do <code>Arrays.fill()</code> them with zeros after use. But it requires building a trivial utility class around <code>char[]</code> all the time.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","entity"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1486490667,"post_id":42096615,"comment_id":71364160,"body_markdown":"Looks good to me.. can you @Access(value=AccessType.FIELD). to the class definition?","body":"Looks good to me.. can you @Access(value=AccessType.FIELD). to the class definition?"},{"owner":{"account_id":3209487,"reputation":488,"user_id":2906660,"accept_rate":75,"display_name":"user2709752"},"score":0,"creation_date":1486491033,"post_id":42096615,"comment_id":71364355,"body_markdown":"Still getting the same issue..","body":"Still getting the same issue.."},{"owner":{"account_id":4749168,"reputation":472,"user_id":3839621,"display_name":"shubham"},"score":2,"creation_date":1486491422,"post_id":42096615,"comment_id":71364557,"body_markdown":"Can u confirm if you are importing  javax.persistence.Id in this class","body":"Can u confirm if you are importing  javax.persistence.Id in this class"},{"owner":{"account_id":3209487,"reputation":488,"user_id":2906660,"accept_rate":75,"display_name":"user2709752"},"score":0,"creation_date":1486491615,"post_id":42096615,"comment_id":71364683,"body_markdown":"Thanks shubham, I imported @Id from wrong package (org.springframework). Thanks..","body":"Thanks shubham, I imported @Id from wrong package (org.springframework). Thanks.."}],"answers":[{"tags":[],"owner":{"account_id":22266791,"reputation":21,"user_id":16497451,"display_name":"jose liza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664120419,"creation_date":1664120419,"answer_id":73845789,"question_id":42096615,"body_markdown":"Make sure the identifier is loaded from the package:\r\n\r\n    import javax.persistence.Id;\r\n\r\nand no\r\n\r\n    import org.springframework.data.annotation.Id;\r\n\r\n","title":"No identifier specified for entity Exception in springJpa","body":"<p>Make sure the identifier is loaded from the package:</p>\n<pre><code>import javax.persistence.Id;\n</code></pre>\n<p>and no</p>\n<pre><code>import org.springframework.data.annotation.Id;\n</code></pre>\n"}],"owner":{"account_id":3209487,"reputation":488,"user_id":2906660,"accept_rate":75,"display_name":"user2709752"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664120419,"creation_date":1486489866,"question_id":42096615,"body_markdown":"While running springboot application,  exception is coming.\r\n\r\nCaused by: org.hibernate.AnnotationException: No identifier specified for entity: com.model.Location\r\n\r\n\r\n    @Entity\r\n    @JsonIgnoreProperties({ &quot;hibernateLazyInitializer&quot;, &quot;handler&quot; })\r\n    @Table(name = &quot;LOCATION&quot;, schema = &quot;LOCK&quot;)\r\n    public class Location implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;LOCATION_ID&quot;)\r\n    \tprivate int locationId;\r\n    \t@Column(name = &quot;LOCATION&quot;, nullable = false)\r\n    \tprivate String location;\r\n     \r\n    \t\r\n    \t@Column(name = &quot;CREATED_ON&quot;, nullable = false)\r\n    \tprivate Timestamp CREATED_ON;\r\n     \t\r\n    \t@Column(name = &quot;UPDATED_ON&quot;, nullable = false)\r\n    \tprivate Timestamp UPDATED_ON;\r\n    \t\r\n        /*getter setter methods*/\r\n    }\r\n\r\n","title":"No identifier specified for entity Exception in springJpa","body":"<p>While running springboot application,  exception is coming.</p>\n\n<p>Caused by: org.hibernate.AnnotationException: No identifier specified for entity: com.model.Location</p>\n\n<pre><code>@Entity\n@JsonIgnoreProperties({ \"hibernateLazyInitializer\", \"handler\" })\n@Table(name = \"LOCATION\", schema = \"LOCK\")\npublic class Location implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"LOCATION_ID\")\n    private int locationId;\n    @Column(name = \"LOCATION\", nullable = false)\n    private String location;\n\n\n    @Column(name = \"CREATED_ON\", nullable = false)\n    private Timestamp CREATED_ON;\n\n    @Column(name = \"UPDATED_ON\", nullable = false)\n    private Timestamp UPDATED_ON;\n\n    /*getter setter methods*/\n}\n</code></pre>\n"},{"tags":["java","multithreading","swing","graphics","jpanel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664118433,"post_id":73845393,"comment_id":130393297,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664120257,"post_id":73845393,"comment_id":130393677,"body_markdown":"`Thread.sleep()` did not work since it was **probably** called on the EDT (Event Dispath Thread), blocking the whole GUI (just a guess since no code given). Consider using `java.swing.Timer` to call `repaint()` of that panel, or even implement a `SwingWorker`","body":"<code>Thread.sleep()</code> did not work since it was <b>probably</b> called on the EDT (Event Dispath Thread), blocking the whole GUI (just a guess since no code given). Consider using <code>java.swing.Timer</code> to call <code>repaint()</code> of that panel, or even implement a <code>SwingWorker</code>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664118265,"creation_date":1664118265,"answer_id":73845529,"question_id":73845393,"body_markdown":"The initial thread is your main application. Use that to initialize the UI.\r\nAfter that you have at least two different threads: The main thread, which often is left to terminate, and the Event Dispatching Thread (EDT) which is used to manage the UI and handle all the events.\r\n\r\nWhat you can do is to use your main thread, or worker threads that your application needs to spawn to trigger events. See [Timer][1] to trigger events every x seconds.\r\n\r\nNow when the Timer&#39;s ActionListener runs, it is running on the timer thread. Some UI updates are better done on the EDT, and that is when work needs to be handed over. In such cases do not modify your UI from the timer or the main thread directly but dispatch the work using [SwingUtilities.invokeAndWait()][2] or [SwingUtilities.invokeLater()][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#invokeAndWait(java.lang.Runnable)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#invokeLater(java.lang.Runnable)","title":"Updating a JPanel automatically after specified time","body":"<p>The initial thread is your main application. Use that to initialize the UI.\nAfter that you have at least two different threads: The main thread, which often is left to terminate, and the Event Dispatching Thread (EDT) which is used to manage the UI and handle all the events.</p>\n<p>What you can do is to use your main thread, or worker threads that your application needs to spawn to trigger events. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> to trigger events every x seconds.</p>\n<p>Now when the Timer's ActionListener runs, it is running on the timer thread. Some UI updates are better done on the EDT, and that is when work needs to be handed over. In such cases do not modify your UI from the timer or the main thread directly but dispatch the work using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#invokeAndWait(java.lang.Runnable)\" rel=\"nofollow noreferrer\">SwingUtilities.invokeAndWait()</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingUtilities.html#invokeLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">SwingUtilities.invokeLater()</a>.</p>\n"}],"owner":{"account_id":23821332,"reputation":13,"user_id":18458121,"display_name":"Yash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73845529,"answer_count":1,"score":0,"last_activity_date":1664120317,"creation_date":1664117261,"question_id":73845393,"body_markdown":"I have a JPanel and I want it to update after a specified time interval. I tried using Thread.sleep but it doesn&#39;t work. \r\n\r\nLet&#39;s say I want it to be updated after 5 seconds, so I first create the JFrame and then add the initial JPanel with the initial components and then I add Thread.sleep(5000); after which I add another component. But when I ran the code, all it showed was a blank frame for 5 seconds and then it just added the JPanel with all the components, including the one which was to be added after a delay.\r\n\r\nI want to know why does this method doesn&#39;t work and how can I achieve the desired result using repaint() as I didn&#39;t find any useful tutorials for repaint()\r\n\r\nP.S.- Sorry if the question was dumb but I am a newbie and just want to understand the reason why does this approach not work","title":"Updating a JPanel automatically after specified time","body":"<p>I have a JPanel and I want it to update after a specified time interval. I tried using Thread.sleep but it doesn't work.</p>\n<p>Let's say I want it to be updated after 5 seconds, so I first create the JFrame and then add the initial JPanel with the initial components and then I add Thread.sleep(5000); after which I add another component. But when I ran the code, all it showed was a blank frame for 5 seconds and then it just added the JPanel with all the components, including the one which was to be added after a delay.</p>\n<p>I want to know why does this method doesn't work and how can I achieve the desired result using repaint() as I didn't find any useful tutorials for repaint()</p>\n<p>P.S.- Sorry if the question was dumb but I am a newbie and just want to understand the reason why does this approach not work</p>\n"},{"tags":["java","mysql","spring-boot","rest","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664112372,"creation_date":1664112372,"answer_id":73844854,"question_id":73844304,"body_markdown":"*ResponseEntity represents the whole HTTP response: status code, headers, and body. As a result, we can use it to fully configure the HTTP response.*\r\n\r\nHave a look at Response entity using which you will be able to configure everything including status codes .\r\n\r\nhttps://www.baeldung.com/spring-response-entity","title":"I want to transmit a status code if the query is successful with Spring boot, how can I do it?","body":"<p><em>ResponseEntity represents the whole HTTP response: status code, headers, and body. As a result, we can use it to fully configure the HTTP response.</em></p>\n<p>Have a look at Response entity using which you will be able to configure everything including status codes .</p>\n<p><a href=\"https://www.baeldung.com/spring-response-entity\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-entity</a></p>\n"},{"tags":[],"owner":{"account_id":9606820,"reputation":25,"user_id":7515547,"accept_rate":60,"display_name":"gvlkn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664119170,"creation_date":1664114004,"answer_id":73845038,"question_id":73844304,"body_markdown":"In the rest controller you can do something like:\r\n\r\n    @RestController\r\n    @RequestMapping(path=&quot;/api/v1/users&quot;)\r\n    public class CommentController {\r\n        \r\n        @Autowired\r\n        CommentRepository repository ;\r\n        \r\n        // Delete user\r\n        \r\n        @DeleteMapping(path=&quot;/delete&quot;)\r\n        public ResponseEntity&lt;Void&gt; delete(@RequestParam String name) {\r\n            \r\n            repository.delete(name);\r\n            return ResponseEntity.ok().build();\r\n        }\r\n    }\r\n\r\nSince I don&#39;t know your database structure, let&#39;s say a `SQLIntegrityConstraintViolationException` can be thrown, you can create a service layer that will handle the exception. You will end up with something like:\r\n\r\n    @RequiredArgsConstructor\r\n    public class CommentServiceImpl implements CommentService {\r\n      \r\n       private final CommentRepository commentRepository;\r\n    \r\n       @Override\r\n       public void deleteUsersByName(String name) {\r\n         try {\r\n             commentRepository.delete(name); //consider changing the repo method name &#39;delete&#39; to be more contextual like &#39;deleteAllByName(String name)&#39;\r\n         } catch (Exception | SQLIntegrityConstraintViolationException e) //or other type, depending on your database structure\r\n           throw new MyCustomException(&quot;my message: &quot; + e); //create new RuntimeException with the name you prefer\r\n       }\r\n    \r\n    }\r\n\r\nThen you have lots of ways to handle your new exception. Please read more here: [https://www.baeldung.com/exception-handling-for-rest-with-spring][1]\r\n\r\nOne of the ways is to have this inside your @RestController class\r\n \r\n\r\n    @ExceptionHandler({MyCustomException.class})\r\n        public ResponseEntity&lt;Void&gt; handleConstrainViolationException() {\r\n            return ResponseEntity.internalServerError(); //just an example\r\n        }\r\n\r\nfor the last part you can play around with the exceptions thrown on the service layer and return appropriate status code from the corresponding exception handler. Consider having a global exception handler as stated into the article on Baeldung above. Hope it helps a little bit.\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring","title":"I want to transmit a status code if the query is successful with Spring boot, how can I do it?","body":"<p>In the rest controller you can do something like:</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;/api/v1/users&quot;)\npublic class CommentController {\n    \n    @Autowired\n    CommentRepository repository ;\n    \n    // Delete user\n    \n    @DeleteMapping(path=&quot;/delete&quot;)\n    public ResponseEntity&lt;Void&gt; delete(@RequestParam String name) {\n        \n        repository.delete(name);\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n<p>Since I don't know your database structure, let's say a <code>SQLIntegrityConstraintViolationException</code> can be thrown, you can create a service layer that will handle the exception. You will end up with something like:</p>\n<pre><code>@RequiredArgsConstructor\npublic class CommentServiceImpl implements CommentService {\n  \n   private final CommentRepository commentRepository;\n\n   @Override\n   public void deleteUsersByName(String name) {\n     try {\n         commentRepository.delete(name); //consider changing the repo method name 'delete' to be more contextual like 'deleteAllByName(String name)'\n     } catch (Exception | SQLIntegrityConstraintViolationException e) //or other type, depending on your database structure\n       throw new MyCustomException(&quot;my message: &quot; + e); //create new RuntimeException with the name you prefer\n   }\n\n}\n</code></pre>\n<p>Then you have lots of ways to handle your new exception. Please read more here: <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a></p>\n<p>One of the ways is to have this inside your @RestController class</p>\n<pre><code>@ExceptionHandler({MyCustomException.class})\n    public ResponseEntity&lt;Void&gt; handleConstrainViolationException() {\n        return ResponseEntity.internalServerError(); //just an example\n    }\n</code></pre>\n<p>for the last part you can play around with the exceptions thrown on the service layer and return appropriate status code from the corresponding exception handler. Consider having a global exception handler as stated into the article on Baeldung above. Hope it helps a little bit.</p>\n"}],"owner":{"account_id":22053337,"reputation":49,"user_id":16317259,"display_name":"Kirion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73844854,"answer_count":2,"score":0,"last_activity_date":1664119170,"creation_date":1664106900,"question_id":73844304,"body_markdown":"Although this situation is easy for ready overrided methods, I couldn&#39;t find a way for my own query.\r\n\r\nThis is my repository :\r\n\r\n    public interface CommentRepository extends JpaRepository&lt;User , Long &gt;{\r\n        \t\t\t\r\n         @Modifying\r\n         @Transactional\r\n         @Query( value=&quot;delete from users where first_name=:name&quot; , nativeQuery=true )\r\n         public void delete( String name );\r\n    }\r\n    \r\nThis is my controller :\r\n    \r\n    @RestController\r\n    @RequestMapping(path=&quot;/api/v1/users&quot;)\r\n    public class CommentController {\r\n    \t\r\n    \t@Autowired\r\n    \tCommentRepository repository ;\r\n    \t\r\n    \t// Delete user\r\n    \t\r\n    \t@DeleteMapping(path=&quot;/delete&quot;)\r\n    \tpublic void delete(@RequestParam String name) {\r\n    \t\t\r\n    \t\trepository.delete(name) ;\r\n    \t}\r\n    }\r\n\r\nFor example, if I delete a user, I want to pass a status code of 200 to the developer if the query is successful.\r\n\r\nHowever I want to pass different codes if the query fails.","title":"I want to transmit a status code if the query is successful with Spring boot, how can I do it?","body":"<p>Although this situation is easy for ready overrided methods, I couldn't find a way for my own query.</p>\n<p>This is my repository :</p>\n<pre><code>public interface CommentRepository extends JpaRepository&lt;User , Long &gt;{\n                \n     @Modifying\n     @Transactional\n     @Query( value=&quot;delete from users where first_name=:name&quot; , nativeQuery=true )\n     public void delete( String name );\n}\n</code></pre>\n<p>This is my controller :</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;/api/v1/users&quot;)\npublic class CommentController {\n    \n    @Autowired\n    CommentRepository repository ;\n    \n    // Delete user\n    \n    @DeleteMapping(path=&quot;/delete&quot;)\n    public void delete(@RequestParam String name) {\n        \n        repository.delete(name) ;\n    }\n}\n</code></pre>\n<p>For example, if I delete a user, I want to pass a status code of 200 to the developer if the query is successful.</p>\n<p>However I want to pass different codes if the query fails.</p>\n"},{"tags":["java","spring","listener","spring-statemachine"],"answers":[{"tags":[],"owner":{"account_id":6601351,"reputation":373,"user_id":5099550,"display_name":"pullCommitRun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664118927,"creation_date":1664118927,"answer_id":73845617,"question_id":73845348,"body_markdown":"Replaced #resetStateMachineReactively method call by passing machine Id and all handlers started to work.\r\n\r\n````\r\nsma.resetStateMachineReactively(new DefaultStateMachineContext&lt;&gt;(status, null, null, extendedState, null, sm.getId())).block();","title":"Transition Handlers defined using @OnTransition stop working when statemachine is rehydrated using new StateMachineContext","body":"<p>Replaced #resetStateMachineReactively method call by passing machine Id and all handlers started to work.</p>\n<pre><code>sma.resetStateMachineReactively(new DefaultStateMachineContext&lt;&gt;(status, null, null, extendedState, null, sm.getId())).block();\n</code></pre>\n"}],"owner":{"account_id":6601351,"reputation":373,"user_id":5099550,"display_name":"pullCommitRun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664118927,"creation_date":1664116764,"question_id":73845348,"body_markdown":"In the following sample code, I created a state machine and rehydrated it with the state of my choice. However, when I send events, the handlers defined with @OnTransition do not run. \r\n\r\nIf I comment method-call to #rehydrateState, then the handlers work appropriately. Why is this happening?\r\n    \r\nAlso: if I replace the line \r\n\r\n````\r\nvar sm = factory.getStateMachine(&quot;Machine1&quot;); with \r\nvar sm = factory.getStateMachine(&quot;&quot;);\r\n\r\nThen all handlers run fine. Why is that the case?\r\n\r\n````\r\n    @Configuration\r\n    @EnableStateMachineFactory\r\n    public class Config extends StateMachineConfigurerAdapter&lt;String, String&gt; {\r\n        @Override\r\n        public void configure(StateMachineStateConfigurer&lt;String, String&gt; states)\r\n                throws Exception {\r\n            var allStates = new HashSet&lt;String&gt;();\r\n            allStates.add(&quot;UNPAID&quot;);\r\n            allStates.add(&quot;WAITING_FOR_RECEIVE&quot;);\r\n            allStates.add(&quot;DONE&quot;);\r\n            states\r\n                    .withStates()\r\n                    .initial(&quot;UNPAID&quot;)\r\n                    .states(allStates);\r\n        }\r\n    \r\n        \r\n            @Override\r\n            public void configure(StateMachineTransitionConfigurer&lt;String, String&gt; transitions)\r\n                    throws Exception {\r\n                transitions\r\n                        .withExternal()\r\n                        .source(&quot;UNPAID&quot;).target(&quot;WAITING_FOR_RECEIVE&quot;)\r\n                        .event(&quot;PAY&quot;)\r\n                        .and()\r\n                        .withExternal()\r\n                        .source(&quot;WAITING_FOR_RECEIVE&quot;).target(&quot;DONE&quot;)\r\n                        .event(&quot;RECEIVE&quot;)\r\n                        .and()\r\n                        .withExternal()\r\n                        .source(&quot;WAITING_FOR_RECEIVE&quot;).target(&quot;WAITING_FOR_RECEIVE&quot;)\r\n                        .event(&quot;SELF&quot;);\r\n            }\r\n        \r\n            @Override\r\n            public void configure(StateMachineConfigurationConfigurer&lt;String, String&gt; config)\r\n                    throws Exception {\r\n                config\r\n                        .withConfiguration()\r\n                        .autoStartup(true);\r\n            }\r\n            \r\n            @WithStateMachine\r\n            static class Action {\r\n                @OnTransition(target = &quot;UNPAID&quot;)\r\n                public void create() {\r\n                    System.out.println(&quot;UNPAID&quot;);\r\n                }\r\n        \r\n                @OnTransition(source = &quot;UNPAID&quot;, target = &quot;WAITING_FOR_RECEIVE&quot;)\r\n                public void pay() {\r\n                    System.out.println(&quot;WAITING_FOR_RECEIVE&quot;);\r\n                }\r\n        \r\n                @OnTransition(source = &quot;WAITING_FOR_RECEIVE&quot;, target = &quot;WAITING_FOR_RECEIVE&quot;)\r\n                public void self() {\r\n                    System.out.println(&quot;self works too&quot;);\r\n                }\r\n        \r\n                @OnTransition(source = &quot;WAITING_FOR_RECEIVE&quot;, target = &quot;DONE&quot;)\r\n                public void receive() {\r\n                    System.out.println(&quot;DONE&quot;);\r\n                }\r\n            }\r\n        }\r\n        \r\n        public class Main implements CommandLineRunner {\r\n            public static void main(String[] args) {\r\n                SpringApplication.run(Main.class, args);\r\n            }\r\n        \r\n            @Autowired\r\n            StateMachineFactory factory;\r\n        \r\n            @Override\r\n            public void run(String... args) throws Exception {\r\n                var sm = factory.getStateMachine(&quot;Machine1&quot;);\r\n                sm.stopReactively().block();\r\n                rehydrateState(sm, sm.getExtendedState(), &quot;WAITING_FOR_RECEIVE&quot;);\r\n                sm.startReactively().block();\r\n                sm.sendEvent(&quot;PAY&quot;);\r\n                sm.sendEvent(&quot;SELF&quot;);\r\n            }\r\n        \r\n            void rehydrateState(StateMachine&lt;String, String&gt; sm, ExtendedState extendedState, String status) {\r\n                sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\r\n                    sma.resetStateMachineReactively(new DefaultStateMachineContext&lt;&gt;(status, null, null, extendedState)).block();\r\n                });\r\n            }\r\n        }\r\n\r\n","title":"Transition Handlers defined using @OnTransition stop working when statemachine is rehydrated using new StateMachineContext","body":"<p>In the following sample code, I created a state machine and rehydrated it with the state of my choice. However, when I send events, the handlers defined with @OnTransition do not run.</p>\n<p>If I comment method-call to #rehydrateState, then the handlers work appropriately. Why is this happening?</p>\n<p>Also: if I replace the line</p>\n<pre><code>var sm = factory.getStateMachine(&quot;Machine1&quot;); with \nvar sm = factory.getStateMachine(&quot;&quot;);\n\nThen all handlers run fine. Why is that the case?\n\n</code></pre>\n<pre><code>@Configuration\n@EnableStateMachineFactory\npublic class Config extends StateMachineConfigurerAdapter&lt;String, String&gt; {\n    @Override\n    public void configure(StateMachineStateConfigurer&lt;String, String&gt; states)\n            throws Exception {\n        var allStates = new HashSet&lt;String&gt;();\n        allStates.add(&quot;UNPAID&quot;);\n        allStates.add(&quot;WAITING_FOR_RECEIVE&quot;);\n        allStates.add(&quot;DONE&quot;);\n        states\n                .withStates()\n                .initial(&quot;UNPAID&quot;)\n                .states(allStates);\n    }\n\n    \n        @Override\n        public void configure(StateMachineTransitionConfigurer&lt;String, String&gt; transitions)\n                throws Exception {\n            transitions\n                    .withExternal()\n                    .source(&quot;UNPAID&quot;).target(&quot;WAITING_FOR_RECEIVE&quot;)\n                    .event(&quot;PAY&quot;)\n                    .and()\n                    .withExternal()\n                    .source(&quot;WAITING_FOR_RECEIVE&quot;).target(&quot;DONE&quot;)\n                    .event(&quot;RECEIVE&quot;)\n                    .and()\n                    .withExternal()\n                    .source(&quot;WAITING_FOR_RECEIVE&quot;).target(&quot;WAITING_FOR_RECEIVE&quot;)\n                    .event(&quot;SELF&quot;);\n        }\n    \n        @Override\n        public void configure(StateMachineConfigurationConfigurer&lt;String, String&gt; config)\n                throws Exception {\n            config\n                    .withConfiguration()\n                    .autoStartup(true);\n        }\n        \n        @WithStateMachine\n        static class Action {\n            @OnTransition(target = &quot;UNPAID&quot;)\n            public void create() {\n                System.out.println(&quot;UNPAID&quot;);\n            }\n    \n            @OnTransition(source = &quot;UNPAID&quot;, target = &quot;WAITING_FOR_RECEIVE&quot;)\n            public void pay() {\n                System.out.println(&quot;WAITING_FOR_RECEIVE&quot;);\n            }\n    \n            @OnTransition(source = &quot;WAITING_FOR_RECEIVE&quot;, target = &quot;WAITING_FOR_RECEIVE&quot;)\n            public void self() {\n                System.out.println(&quot;self works too&quot;);\n            }\n    \n            @OnTransition(source = &quot;WAITING_FOR_RECEIVE&quot;, target = &quot;DONE&quot;)\n            public void receive() {\n                System.out.println(&quot;DONE&quot;);\n            }\n        }\n    }\n    \n    public class Main implements CommandLineRunner {\n        public static void main(String[] args) {\n            SpringApplication.run(Main.class, args);\n        }\n    \n        @Autowired\n        StateMachineFactory factory;\n    \n        @Override\n        public void run(String... args) throws Exception {\n            var sm = factory.getStateMachine(&quot;Machine1&quot;);\n            sm.stopReactively().block();\n            rehydrateState(sm, sm.getExtendedState(), &quot;WAITING_FOR_RECEIVE&quot;);\n            sm.startReactively().block();\n            sm.sendEvent(&quot;PAY&quot;);\n            sm.sendEvent(&quot;SELF&quot;);\n        }\n    \n        void rehydrateState(StateMachine&lt;String, String&gt; sm, ExtendedState extendedState, String status) {\n            sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\n                sma.resetStateMachineReactively(new DefaultStateMachineContext&lt;&gt;(status, null, null, extendedState)).block();\n            });\n        }\n    }\n</code></pre>\n"},{"tags":["java","mockito","stripe-payments"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664116427,"post_id":73845244,"comment_id":130392862,"body_markdown":"You cannot `builder()`, `setApiKey()` and `build()` in one &quot;when&quot; ...these are three methods...of different classes/objects","body":"You cannot <code>builder()</code>, <code>setApiKey()</code> and <code>build()</code> in one &quot;when&quot; ...these are three methods...of different classes/objects"},{"owner":{"account_id":944889,"reputation":878,"user_id":972314,"accept_rate":48,"display_name":"sree"},"score":0,"creation_date":1664117860,"post_id":73845244,"comment_id":130393149,"body_markdown":"xerx593  Thanks for the quick response. I modified the above above test method with respect to you instructions. Still the same error .It&#39;s showing error at  mockStatic(PaymentIntent.class)","body":"xerx593  Thanks for the quick response. I modified the above above test method with respect to you instructions. Still the same error .It&#39;s showing error at  mockStatic(PaymentIntent.class)"}],"owner":{"account_id":944889,"reputation":878,"user_id":972314,"accept_rate":48,"display_name":"sree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664117779,"creation_date":1664115804,"question_id":73845244,"body_markdown":"I am trying to add few test classes to for code coverage for Stripe payment Integration.I am not able to Mock PaymentIntent or RequestOptions.\r\n\r\nMethod\r\n\r\n    @Override\r\n\tpublic String createPaymentIntent() {\r\n\r\n\t\tList&lt;Object&gt; paymentMethodTypes = new ArrayList&lt;&gt;();\r\n\t\tpaymentMethodTypes.add(&quot;card&quot;);\r\n\t\tfinal CartModel cartModel = cartService.getSessionCart();\r\n\t\tfinal Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\tfinal double totalPrice = 100 * 100;\r\n\t\tparams.put(&quot;amount&quot;, Double.valueOf(totalPrice).longValue());\r\n\t\tparams.put(&quot;currency&quot;,USD);\r\n\t\tparams.put(&quot;payment_method_types&quot;, paymentMethodTypes);\r\n\t\ttry {\r\n\t\t\tRequestOptions requestOptions = RequestOptions.builder().setApiKey(getSecretApiKey()).build();\r\n\t\t\tPaymentIntent paymentIntent = PaymentIntent.create(params, requestOptions);\r\n\t\t\treturn paymentIntent.getId();\r\n\t\t} catch (final StripeException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nTest Method\r\n\r\n    try (MockedStatic&lt;PaymentIntent&gt; paymentIntentMock = mockStatic(PaymentIntent.class);\r\n\t\t\t\tMockedStatic&lt;RequestOptions&gt; requestOptionsMock = mockStatic(RequestOptions.class)) {\r\n\t\t\t\t\tprivate RequestOptions.RequestOptionsBuilder requestOptionsBuilder = RequestOptions.builder();\r\n\t\t\trequestOptionsMock.when(()-&gt;RequestOptions.builder()).thenReturn(requestOptionsBuilder);\r\n\t\t\trequestOptionsBuilder.setApiKey(&quot;secretkey&quot;);\r\n\t\t\tgiven(requestOptionsBuilder.build()).willReturn(requestOptions);\r\n\t\t\tpaymentIntentMock.when(()-&gt;PaymentIntent.create(anyMap(),requestOptions)).thenReturn(paymentIntent);\r\n\t\t\tgiven(paymentIntent.getId()).willReturn(&quot;paymentId&quot;);\r\n\t\t\tassertEquals(tripePaymentService.createPaymentIntent(), &quot;paymentId&quot;);\r\n\t\t}\r\n\r\n\r\nWhen I run the test Method I am getting the following ERROR:\r\n\r\n    java.lang.InternalError: class redefinition failed: invalid class\r\n\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\r\nThanks, InAdvance.\r\n\r\n","title":"Stripe PaymentIntent test class Java Springs","body":"<p>I am trying to add few test classes to for code coverage for Stripe payment Integration.I am not able to Mock PaymentIntent or RequestOptions.</p>\n<p>Method</p>\n<pre><code>@Override\npublic String createPaymentIntent() {\n\n    List&lt;Object&gt; paymentMethodTypes = new ArrayList&lt;&gt;();\n    paymentMethodTypes.add(&quot;card&quot;);\n    final CartModel cartModel = cartService.getSessionCart();\n    final Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    final double totalPrice = 100 * 100;\n    params.put(&quot;amount&quot;, Double.valueOf(totalPrice).longValue());\n    params.put(&quot;currency&quot;,USD);\n    params.put(&quot;payment_method_types&quot;, paymentMethodTypes);\n    try {\n        RequestOptions requestOptions = RequestOptions.builder().setApiKey(getSecretApiKey()).build();\n        PaymentIntent paymentIntent = PaymentIntent.create(params, requestOptions);\n        return paymentIntent.getId();\n    } catch (final StripeException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Test Method</p>\n<pre><code>try (MockedStatic&lt;PaymentIntent&gt; paymentIntentMock = mockStatic(PaymentIntent.class);\n            MockedStatic&lt;RequestOptions&gt; requestOptionsMock = mockStatic(RequestOptions.class)) {\n                private RequestOptions.RequestOptionsBuilder requestOptionsBuilder = RequestOptions.builder();\n        requestOptionsMock.when(()-&gt;RequestOptions.builder()).thenReturn(requestOptionsBuilder);\n        requestOptionsBuilder.setApiKey(&quot;secretkey&quot;);\n        given(requestOptionsBuilder.build()).willReturn(requestOptions);\n        paymentIntentMock.when(()-&gt;PaymentIntent.create(anyMap(),requestOptions)).thenReturn(paymentIntent);\n        given(paymentIntent.getId()).willReturn(&quot;paymentId&quot;);\n        assertEquals(tripePaymentService.createPaymentIntent(), &quot;paymentId&quot;);\n    }\n</code></pre>\n<p>When I run the test Method I am getting the following ERROR:</p>\n<pre><code>java.lang.InternalError: class redefinition failed: invalid class\n\nat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n</code></pre>\n<p>Thanks, InAdvance.</p>\n"},{"tags":["java","android","android-studio","android-12"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1664024361,"post_id":73835819,"comment_id":130379475,"body_markdown":"[This](https://medium.com/realm/startactivityforresult-is-deprecated-82888d149f5d) might help you","body":"<a href=\"https://medium.com/realm/startactivityforresult-is-deprecated-82888d149f5d\" rel=\"nofollow noreferrer\">This</a> might help you"}],"answers":[{"tags":[],"owner":{"account_id":16913393,"reputation":34,"user_id":12231983,"display_name":"Tumusiime Keith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664117629,"creation_date":1664117629,"answer_id":73845445,"question_id":73835819,"body_markdown":"You can update it like this\r\n**1st startActivityForResult.**\r\n\r\n    private void launchIntentToAddPackToSpecificPackage(String identifier, String stickerPackName, String whatsappPackageName) {\r\n        Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\r\n        intent.setPackage(whatsappPackageName);\r\n        launchIntentSpecific.launch(intent);\r\n    }\r\n    \r\n    private ActivityResultLauncher &lt; Intent &gt; launchIntentSpecific = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n        new ActivityResultCallback &lt; ActivityResult &gt; () {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if (result.getResultCode() == Activity.RESULT_CANCELED) {\r\n                    Intent data = result.getData();\r\n                    if (data != null) {\r\n                        final String validationError = data.getStringExtra(&quot;validation_error&quot;);\r\n                        if (validationError != null) {\r\n                            if (BuildConfig.DEBUG) {\r\n                                //validation error should be shown to developer only, not users.\r\n    \r\n                                MessageDialogFragment.newInstance(R.string.title_validation_error,\r\n                                    validationError).show(getSupportFragmentManager(), &quot;validation error&quot;);\r\n                            }\r\n                            Log.e(TAG, &quot;Validation failed:&quot; + validationError);\r\n                        }\r\n                    } else {\r\n                        new StickerPackNotAddedMessageFragment().show(getSupportFragmentManager(),\r\n                            &quot;sticker_pack_not_added&quot;);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\nRequest codes are removed in the new implementations","title":"startActivityForResult is deprecated","body":"<p>You can update it like this\n<strong>1st startActivityForResult.</strong></p>\n<pre><code>private void launchIntentToAddPackToSpecificPackage(String identifier, String stickerPackName, String whatsappPackageName) {\n    Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\n    intent.setPackage(whatsappPackageName);\n    launchIntentSpecific.launch(intent);\n}\n\nprivate ActivityResultLauncher &lt; Intent &gt; launchIntentSpecific = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n    new ActivityResultCallback &lt; ActivityResult &gt; () {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result.getResultCode() == Activity.RESULT_CANCELED) {\n                Intent data = result.getData();\n                if (data != null) {\n                    final String validationError = data.getStringExtra(&quot;validation_error&quot;);\n                    if (validationError != null) {\n                        if (BuildConfig.DEBUG) {\n                            //validation error should be shown to developer only, not users.\n\n                            MessageDialogFragment.newInstance(R.string.title_validation_error,\n                                validationError).show(getSupportFragmentManager(), &quot;validation error&quot;);\n                        }\n                        Log.e(TAG, &quot;Validation failed:&quot; + validationError);\n                    }\n                } else {\n                    new StickerPackNotAddedMessageFragment().show(getSupportFragmentManager(),\n                        &quot;sticker_pack_not_added&quot;);\n                }\n            }\n        }\n    });\n</code></pre>\n<p>Request codes are removed in the new implementations</p>\n"}],"owner":{"account_id":21556178,"reputation":9,"user_id":15891382,"display_name":"Amator425"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664117629,"creation_date":1664008533,"question_id":73835819,"body_markdown":"I have this blocks of codes from the a class, which is extended by ActivityX. I have two startActivityForResult need to be fixed and I dont know how to implement the new API. \r\n\r\n**This is the 1st startActivityForResult.**\r\n```\r\n    private void launchIntentToAddPackToSpecificPackage(String identifier, String stickerPackName, String whatsappPackageName) {\r\n        Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\r\n        intent.setPackage(whatsappPackageName);\r\n        try {\r\n            startActivityForResult(intent, ADD_PACK);\r\n\r\n        } catch (ActivityNotFoundException e) {\r\n            Toast.makeText(this, R.string.add_pack_fail_prompt_update_whatsapp, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n```\r\n\r\n**This is the 2nd startActivityForResult.**\r\n```\r\n    //Handle cases either of WhatsApp are set as default app to handle this intent. We still want users to see both options.\r\n    private void launchIntentToAddPackToChooser(String identifier, String stickerPackName) {\r\n        Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\r\n        try {\r\n            startActivityForResult(Intent.createChooser(intent, getString(R.string.add_to_whatsapp)), ADD_PACK);\r\n        } catch (ActivityNotFoundException e) {\r\n            Toast.makeText(this, R.string.add_pack_fail_prompt_update_whatsapp, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n```\r\n\r\n**This is the OnActivityResult.**\r\n```\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == ADD_PACK) {\r\n            if (resultCode == Activity.RESULT_CANCELED) {\r\n                if (data != null) {\r\n                    final String validationError = data.getStringExtra(&quot;validation_error&quot;);\r\n                    if (validationError != null) {\r\n                        if (BuildConfig.DEBUG) {\r\n                            //validation error should be shown to developer only, not users.\r\n                            MessageDialogFragment.newInstance(R.string.title_validation_error, validationError).show(getSupportFragmentManager(), &quot;validation error&quot;);\r\n                        }\r\n                        Log.e(TAG, &quot;Validation failed:&quot; + validationError);\r\n                    }\r\n                } else {\r\n                    new StickerPackNotAddedMessageFragment().show(getSupportFragmentManager(), &quot;sticker_pack_not_added&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n","title":"startActivityForResult is deprecated","body":"<p>I have this blocks of codes from the a class, which is extended by ActivityX. I have two startActivityForResult need to be fixed and I dont know how to implement the new API.</p>\n<p><strong>This is the 1st startActivityForResult.</strong></p>\n<pre><code>    private void launchIntentToAddPackToSpecificPackage(String identifier, String stickerPackName, String whatsappPackageName) {\n        Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\n        intent.setPackage(whatsappPackageName);\n        try {\n            startActivityForResult(intent, ADD_PACK);\n\n        } catch (ActivityNotFoundException e) {\n            Toast.makeText(this, R.string.add_pack_fail_prompt_update_whatsapp, Toast.LENGTH_LONG).show();\n        }\n    }\n</code></pre>\n<p><strong>This is the 2nd startActivityForResult.</strong></p>\n<pre><code>    //Handle cases either of WhatsApp are set as default app to handle this intent. We still want users to see both options.\n    private void launchIntentToAddPackToChooser(String identifier, String stickerPackName) {\n        Intent intent = createIntentToAddStickerPack(identifier, stickerPackName);\n        try {\n            startActivityForResult(Intent.createChooser(intent, getString(R.string.add_to_whatsapp)), ADD_PACK);\n        } catch (ActivityNotFoundException e) {\n            Toast.makeText(this, R.string.add_pack_fail_prompt_update_whatsapp, Toast.LENGTH_LONG).show();\n        }\n    }\n\n</code></pre>\n<p><strong>This is the OnActivityResult.</strong></p>\n<pre><code>    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == ADD_PACK) {\n            if (resultCode == Activity.RESULT_CANCELED) {\n                if (data != null) {\n                    final String validationError = data.getStringExtra(&quot;validation_error&quot;);\n                    if (validationError != null) {\n                        if (BuildConfig.DEBUG) {\n                            //validation error should be shown to developer only, not users.\n                            MessageDialogFragment.newInstance(R.string.title_validation_error, validationError).show(getSupportFragmentManager(), &quot;validation error&quot;);\n                        }\n                        Log.e(TAG, &quot;Validation failed:&quot; + validationError);\n                    }\n                } else {\n                    new StickerPackNotAddedMessageFragment().show(getSupportFragmentManager(), &quot;sticker_pack_not_added&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-layout","android-studio","android-fragments"],"comments":[{"owner":{"account_id":2873223,"reputation":1679,"user_id":2466041,"display_name":"ViramP"},"score":1,"creation_date":1513591715,"post_id":47866062,"comment_id":82697065,"body_markdown":"can you post your layout file here ?","body":"can you post your layout file here ?"},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1513591745,"post_id":47866062,"comment_id":82697084,"body_markdown":"did you copy the text eplaining how it works instead of asking a question?","body":"did you copy the text eplaining how it works instead of asking a question?"},{"owner":{"account_id":4597733,"reputation":707,"user_id":3729302,"accept_rate":68,"display_name":"Bmbariah"},"score":0,"creation_date":1513592039,"post_id":47866062,"comment_id":82697255,"body_markdown":"I think you should start with a quick tutorial of how Constraint Layout works https://www.youtube.com/watch?v=2FOFd77o7eg","body":"I think you should start with a quick tutorial of how Constraint Layout works <a href=\"https://www.youtube.com/watch?v=2FOFd77o7eg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=2FOFd77o7eg</a>"},{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":0,"creation_date":1513592212,"post_id":47866062,"comment_id":82697377,"body_markdown":"`To fix this, make sure a widget has both horizontal and vertical constraints by dragging from the edge connections` - well that how you can fix it.","body":"<code>To fix this, make sure a widget has both horizontal and vertical constraints by dragging from the edge connections</code> - well that how you can fix it."},{"owner":{"account_id":943792,"reputation":4540,"user_id":971443,"accept_rate":57,"display_name":"Zac"},"score":0,"creation_date":1533273404,"post_id":47866062,"comment_id":90294492,"body_markdown":"I have this same issue: to replicate this, create a new project with empty activity on the wizard and add a text view in the costraintlayout. (AS 3.1.3, and noob android programmer here)","body":"I have this same issue: to replicate this, create a new project with empty activity on the wizard and add a text view in the costraintlayout. (AS 3.1.3, and noob android programmer here)"}],"answers":[{"tags":[],"owner":{"account_id":9357077,"reputation":4352,"user_id":6944758,"display_name":"Firoz Memon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513759717,"creation_date":1513592180,"answer_id":47866241,"question_id":47866062,"body_markdown":"You might have widgets with attributes:\r\n\r\n        tools:layout_editor_absoluteX=&quot;someValue&quot;\r\n        tools:layout_editor_absoluteY=&quot;someValue&quot;\r\n\r\n`tools` namespace is used at development time only, and will be removed while installing apk, so all you layouts might appear at position TOP-LEFT one above other. View [Tools Attributes Reference][1]\r\n\r\nTo fix this:\r\nYou should make use of Layout Constraints like:\r\n\r\n    layout_constraintLeft_toLeftOf\r\n    layout_constraintLeft_toRightOf\r\n    layout_constraintRight_toLeftOf\r\n    layout_constraintRight_toRightOf\r\n    layout_constraintTop_toTopOf\r\n    layout_constraintTop_toBottomOf\r\n    layout_constraintBottom_toTopOf\r\n    layout_constraintBottom_toBottomOf\r\n    layout_constraintBaseline_toBaselineOf\r\n    layout_constraintStart_toEndOf\r\n    layout_constraintStart_toStartOf\r\n    layout_constraintEnd_toStartOf\r\n    layout_constraintEnd_toEndOf\r\n\r\nYou can go through the doc of [ConstraintLayout][2] and [Build a Responsive UI with ConstraintLayout][3] for more details\r\n\r\n\r\n**EDIT:**\r\n\r\nFrom the [picture][4] you posted, I tried to add appropriate constraints such that the TextView is in Center position using following code:\r\n\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/tool-attributes.html\r\n  [2]: https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html\r\n  [3]: https://developer.android.com/training/constraint-layout/index.html\r\n  [4]: https://i.stack.imgur.com/sRx9V.png","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p>You might have widgets with attributes:</p>\n\n<pre><code>    tools:layout_editor_absoluteX=\"someValue\"\n    tools:layout_editor_absoluteY=\"someValue\"\n</code></pre>\n\n<p><code>tools</code> namespace is used at development time only, and will be removed while installing apk, so all you layouts might appear at position TOP-LEFT one above other. View <a href=\"https://developer.android.com/studio/write/tool-attributes.html\" rel=\"noreferrer\">Tools Attributes Reference</a></p>\n\n<p>To fix this:\nYou should make use of Layout Constraints like:</p>\n\n<pre><code>layout_constraintLeft_toLeftOf\nlayout_constraintLeft_toRightOf\nlayout_constraintRight_toLeftOf\nlayout_constraintRight_toRightOf\nlayout_constraintTop_toTopOf\nlayout_constraintTop_toBottomOf\nlayout_constraintBottom_toTopOf\nlayout_constraintBottom_toBottomOf\nlayout_constraintBaseline_toBaselineOf\nlayout_constraintStart_toEndOf\nlayout_constraintStart_toStartOf\nlayout_constraintEnd_toStartOf\nlayout_constraintEnd_toEndOf\n</code></pre>\n\n<p>You can go through the doc of <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html\" rel=\"noreferrer\">ConstraintLayout</a> and <a href=\"https://developer.android.com/training/constraint-layout/index.html\" rel=\"noreferrer\">Build a Responsive UI with ConstraintLayout</a> for more details</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>From the <a href=\"https://i.stack.imgur.com/sRx9V.png\" rel=\"noreferrer\">picture</a> you posted, I tried to add appropriate constraints such that the TextView is in Center position using following code:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"TextView\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5024188,"reputation":506,"user_id":4036726,"display_name":"IoT_Newbie"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1515096824,"creation_date":1515095437,"answer_id":48102537,"question_id":47866062,"body_markdown":"It is very simple to solve this problem. Just click on the widget (for example button or textbox, etc.) then click on the &quot;Infer constraints&quot; Button. \r\nYou can see in the attached picture or this Youtube link: [https://www.youtube.com/watch?v=uOur51u5Nk0][1]\r\n\r\n\r\n\r\n![Infer constraints picture][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=uOur51u5Nk0\r\n  [2]: https://i.stack.imgur.com/qoJar.png","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p>It is very simple to solve this problem. Just click on the widget (for example button or textbox, etc.) then click on the \"Infer constraints\" Button. \nYou can see in the attached picture or this Youtube link: <a href=\"https://www.youtube.com/watch?v=uOur51u5Nk0\" rel=\"noreferrer\">https://www.youtube.com/watch?v=uOur51u5Nk0</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/qoJar.png\" alt=\"Infer constraints picture\"></p>\n"},{"tags":[],"owner":{"account_id":18503392,"reputation":1,"user_id":13480199,"display_name":"Mandarkapse17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589692934,"creation_date":1589692934,"answer_id":61847348,"question_id":47866062,"body_markdown":"&quot;Missing constraints in ConstraintsLayout&quot;.This error occurs due to the undefined Constraints.To fix this error click on the Widget(ex text,button etc) and then click on the infer constraints which is above the the activity screen.Hope this solves your query","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p>\"Missing constraints in ConstraintsLayout\".This error occurs due to the undefined Constraints.To fix this error click on the Widget(ex text,button etc) and then click on the infer constraints which is above the the activity screen.Hope this solves your query</p>\n"},{"tags":[],"owner":{"account_id":24201867,"reputation":1,"user_id":18159589,"display_name":"NoTrEALMAURYA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644399100,"creation_date":1644399100,"answer_id":71047038,"question_id":47866062,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bPGK8.jpg\r\n\r\nFirst click on Linear layout in Component Tree and then click on infer constraints that is in right side from eye symbol in Activity Screen.","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p><a href=\"https://i.stack.imgur.com/bPGK8.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>First click on Linear layout in Component Tree and then click on infer constraints that is in right side from eye symbol in Activity Screen.</p>\n"},{"tags":[],"owner":{"account_id":6202623,"reputation":734,"user_id":7212563,"display_name":"Arthur Khazbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664116367,"creation_date":1664116021,"answer_id":73845266,"question_id":47866062,"body_markdown":"In case you **do** have valid constraints specified for your view, but Android Studio **still** shoves a &quot;phantom&quot; `MissingConstraint` error in your face, try these actions:\r\n\r\n1. **Clean** your project (_Build &gt; Clean Project_)\r\n2. **Close** your project (_File &gt; Close Project_)\r\n3. **Remove** your project&#39;s `.idea/` directory\r\n   - If you check files from `.idea/` into source control, roll them back\r\n4. **Open** your project\r\n5. **Rebuild** your project (_Build &gt; Rebuild Project_)\r\n\r\nThis sacred purification ritual helped me get rid of this &quot;phantom&quot; error, as well as many other weird errors in the past, so I hope it helps you too.","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p>In case you <strong>do</strong> have valid constraints specified for your view, but Android Studio <strong>still</strong> shoves a &quot;phantom&quot; <code>MissingConstraint</code> error in your face, try these actions:</p>\n<ol>\n<li><strong>Clean</strong> your project (<em>Build &gt; Clean Project</em>)</li>\n<li><strong>Close</strong> your project (<em>File &gt; Close Project</em>)</li>\n<li><strong>Remove</strong> your project's <code>.idea/</code> directory\n<ul>\n<li>If you check files from <code>.idea/</code> into source control, roll them back</li>\n</ul>\n</li>\n<li><strong>Open</strong> your project</li>\n<li><strong>Rebuild</strong> your project (<em>Build &gt; Rebuild Project</em>)</li>\n</ol>\n<p>This sacred purification ritual helped me get rid of this &quot;phantom&quot; error, as well as many other weird errors in the past, so I hope it helps you too.</p>\n"}],"owner":{"account_id":12294039,"reputation":426,"user_id":8970266,"accept_rate":100,"display_name":"pawas kr. singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125521,"favorite_count":0,"down_vote_count":7,"up_vote_count":24,"accepted_answer_id":48102537,"answer_count":5,"score":17,"last_activity_date":1664116367,"creation_date":1513591631,"question_id":47866062,"body_markdown":"[picture][1]\r\n\r\nThis view is not constrained, it only has design time positions, so it will jump to (0,0) unless you add constraints  \r\n\r\nThe layout editor allows you to place widgets anywhere on the canvas, and it records the current position with design time attributes (such as layout_editor_absolute X.) These attributes are not applied at run time, so if you push your layout on a device, the widgets may appear in a different location than shown in the editor. To fix this, make sure a widget has both horizontal and vertical constraints by dragging from the edge connections\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sRx9V.png","title":"why android studio show error of &quot;Missing constraints in constraintlayout&quot;?","body":"<p><a href=\"https://i.stack.imgur.com/sRx9V.png\" rel=\"noreferrer\">picture</a></p>\n\n<p>This view is not constrained, it only has design time positions, so it will jump to (0,0) unless you add constraints  </p>\n\n<p>The layout editor allows you to place widgets anywhere on the canvas, and it records the current position with design time attributes (such as layout_editor_absolute X.) These attributes are not applied at run time, so if you push your layout on a device, the widgets may appear in a different location than shown in the editor. To fix this, make sure a widget has both horizontal and vertical constraints by dragging from the edge connections</p>\n"},{"tags":["java","design-patterns","boilerplate"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1664062678,"post_id":73841208,"comment_id":130386049,"body_markdown":"I see that you&#39;ve reposted an edited and improved version of [your previous deleted question](https://stackoverflow.com/q/73839241/), one that now shows an attempt to post a [mre] in the question, and this is a good thing, but I will ask for a few more things: 1) please respond to comments to your questions -- you left my previous comments somewhat high and dry, not knowing if any made sense or not. 2) please [edit] this post in an effort to make the post compilable and runnable, which it currently isn&#39;t. It refers to a Model &amp; ModelDao class that we don&#39;t have and has duplicate constructors.","body":"I see that you&#39;ve reposted an edited and improved version of <a href=\"https://stackoverflow.com/q/73839241/\">your previous deleted question</a>, one that now shows an attempt to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question, and this is a good thing, but I will ask for a few more things: 1) please respond to comments to your questions -- you left my previous comments somewhat high and dry, not knowing if any made sense or not. 2) please <a href=\"https://stackoverflow.com/posts/73841208/edit\">edit</a> this post in an effort to make the post compilable and runnable, which it currently isn&#39;t. It refers to a Model &amp; ModelDao class that we don&#39;t have and has duplicate constructors."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1664063072,"post_id":73841208,"comment_id":130386089,"body_markdown":"Try [Hibernate Validator](https://hibernate.org/validator/documentation/getting-started/).","body":"Try <a href=\"https://hibernate.org/validator/documentation/getting-started/\" rel=\"nofollow noreferrer\">Hibernate Validator</a>."},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1664066024,"post_id":73841208,"comment_id":130386369,"body_markdown":"@HovercraftFullOfEels Okay, all fixed now, I&#39;m sorry that I didn&#39;t answer the last comment, I didn&#39;t understand the concept of predicates with HashMap by the way or making an isolated method to it all.","body":"@HovercraftFullOfEels Okay, all fixed now, I&#39;m sorry that I didn&#39;t answer the last comment, I didn&#39;t understand the concept of predicates with HashMap by the way or making an isolated method to it all."},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1664066054,"post_id":73841208,"comment_id":130386374,"body_markdown":"@PaulSamsotha Trying to make it without using any framework.","body":"@PaulSamsotha Trying to make it without using any framework."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664115010,"creation_date":1664115010,"answer_id":73845157,"question_id":73841208,"body_markdown":"We have a repetetive behaviour: \r\n\r\n\tif (saveToDatabase) {\r\n        ValidationEntity nameValidation = new \r\n            ValidationEntity(ValidationEntity.Regex.Alphabetic, \r\n                name, &quot;ID Card&quot;, 0, 13);\r\n        saveToDatabase = nameValidation.isValid();\r\n        entity.setName(name);\r\n\t\t// create ValidationEntity object\r\n\t\t// check whether entity is valid \r\n\t\t// set some attribute value\r\n    }\r\n\t\r\nI would suggest:\r\n- to collect all validation logic in one place\r\n- set some attribute values after validation is completed\r\n- and then save to database\r\n\r\nBy doing the above actions, we will separate our validation logic, variable assignments and saving database. So our code should comply with Single Responsibility principle of SOLID principles.\r\n\r\nSo let&#39;s put repetetive behaviour in some abstraction. I am sorry, I am not Java guy. Let me show via C#. But I&#39;ve provided comments of how code could look in Java:\r\n\r\n\tpublic abstract class FieldValidation\r\n\t{\r\n\t\t// I am not Java guy, but if I am not mistaken, in Java,\r\n\t\t// if you do not want method to be overriden, you shoud use `final` keyword\r\n\t\tpublic abstract bool IsValid();\r\n\t}\r\n\r\nAnd its concrete implementations:\r\n\r\n\tpublic class IdCardFieldValidation : FieldValidation // extends in Java\r\n\t{\r\n\t\tpublic override bool IsValid() // @Override in Java\r\n\t\t{\r\n\t\t\t// your code here:\r\n\t\t\t/*ValidationEntity nameValidation = new\r\n\t\t\t\tValidationEntity(ValidationEntity.Regex.Alphabetic,\r\n\t\t\t\t\tname, &quot;ID Card&quot;, 0, 13);\r\n\t\t\treturn nameValidation.isValid();*/\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class EmailFieldValidation : FieldValidation // extends in Java\r\n\t{\r\n\t\tpublic override bool IsValid() // @Override in Java\r\n\t\t{\r\n\t\t\t// your code here:\r\n\t\t\t/*ValidationEntity emailValidator = new \r\n\t\t\t\tValidationEntity(ValidationEntity.Regex.AlphaNumerical, \r\n\t\t\t\t\taddress, &quot;Address&quot;, 1, 9);\r\n\t\t\treturnr emailValidator.isValid();*/\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\t\r\nAnd then we can create a class which will have all validations. And this class will return whether all validations were okay:\r\n\r\n\tpublic class AllFieldValidations\r\n\t{\r\n\t\tprivate List&lt;FieldValidation&gt; _fieldValidations = new List&lt;FieldValidation&gt;()\r\n\t\t{\r\n\t\t\tnew IdCardFieldValidation(),\r\n\t\t\tnew EmailFieldValidation()\r\n\t\t};\r\n\r\n\t\tpublic bool IsValid() \r\n\t\t{\r\n\t\t\tforeach (var fieldValidation in _fieldValidations)\r\n\t\t\t{ \r\n\t\t\t\tif (!fieldValidation.IsValid())\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\t\r\n\r\nAnd then your method will look like this:\r\n\r\n\r\n\tAllFieldValidations allFieldValidations = new AllFieldValidations();\r\n\tbool isAllFieldsValid = allFieldValidations.IsValid();\r\n\r\n\tif (!isAllFieldsValid)\r\n\t\treturn;\r\n\r\n\tSetAttributes();\r\n\tSaveToDatabase();\r\n\r\n\r\nand implementations of other methods:\r\n\r\n\tpublic void SetAttributes\r\n\t{\r\n\t\tentity.setName(name);      \r\n\t\tentity.setIdCard(idCard);  \r\n\t\tentity.setAddress(address);\r\n\r\n\t}\r\n\r\n\tpublic void SaveToDatabase()\r\n\t{\r\n\t\tnew EntityDao().save(entity);\r\n\t}\t\r\n\r\nSo here we&#39;ve applied [Single responsibility principle][1] here of [SOLID][2] principles. \r\n\r\n\r\nI mean we do not have almighty method that has all validations, setting attributes and saving to database.\r\n\r\nPros of this approach:\r\n- highly testable code\r\n- great separation of concerns\r\n- improved readability. We&#39;ve created methods with self explanatory names\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\r\n  [2]: https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns","title":"Which design pattern reduces repetition in this validation inputs code","body":"<p>We have a repetetive behaviour:</p>\n<pre><code>if (saveToDatabase) {\n    ValidationEntity nameValidation = new \n        ValidationEntity(ValidationEntity.Regex.Alphabetic, \n            name, &quot;ID Card&quot;, 0, 13);\n    saveToDatabase = nameValidation.isValid();\n    entity.setName(name);\n    // create ValidationEntity object\n    // check whether entity is valid \n    // set some attribute value\n}\n</code></pre>\n<p>I would suggest:</p>\n<ul>\n<li>to collect all validation logic in one place</li>\n<li>set some attribute values after validation is completed</li>\n<li>and then save to database</li>\n</ul>\n<p>By doing the above actions, we will separate our validation logic, variable assignments and saving database. So our code should comply with Single Responsibility principle of SOLID principles.</p>\n<p>So let's put repetetive behaviour in some abstraction. I am sorry, I am not Java guy. Let me show via C#. But I've provided comments of how code could look in Java:</p>\n<pre><code>public abstract class FieldValidation\n{\n    // I am not Java guy, but if I am not mistaken, in Java,\n    // if you do not want method to be overriden, you shoud use `final` keyword\n    public abstract bool IsValid();\n}\n</code></pre>\n<p>And its concrete implementations:</p>\n<pre><code>public class IdCardFieldValidation : FieldValidation // extends in Java\n{\n    public override bool IsValid() // @Override in Java\n    {\n        // your code here:\n        /*ValidationEntity nameValidation = new\n            ValidationEntity(ValidationEntity.Regex.Alphabetic,\n                name, &quot;ID Card&quot;, 0, 13);\n        return nameValidation.isValid();*/\n        return true;\n    }\n}\n\npublic class EmailFieldValidation : FieldValidation // extends in Java\n{\n    public override bool IsValid() // @Override in Java\n    {\n        // your code here:\n        /*ValidationEntity emailValidator = new \n            ValidationEntity(ValidationEntity.Regex.AlphaNumerical, \n                address, &quot;Address&quot;, 1, 9);\n        returnr emailValidator.isValid();*/\n        return true;\n    }\n}\n</code></pre>\n<p>And then we can create a class which will have all validations. And this class will return whether all validations were okay:</p>\n<pre><code>public class AllFieldValidations\n{\n    private List&lt;FieldValidation&gt; _fieldValidations = new List&lt;FieldValidation&gt;()\n    {\n        new IdCardFieldValidation(),\n        new EmailFieldValidation()\n    };\n\n    public bool IsValid() \n    {\n        foreach (var fieldValidation in _fieldValidations)\n        { \n            if (!fieldValidation.IsValid())\n                return false;\n        }\n\n        return true;\n    }\n}   \n</code></pre>\n<p>And then your method will look like this:</p>\n<pre><code>AllFieldValidations allFieldValidations = new AllFieldValidations();\nbool isAllFieldsValid = allFieldValidations.IsValid();\n\nif (!isAllFieldsValid)\n    return;\n\nSetAttributes();\nSaveToDatabase();\n</code></pre>\n<p>and implementations of other methods:</p>\n<pre><code>public void SetAttributes\n{\n    entity.setName(name);      \n    entity.setIdCard(idCard);  \n    entity.setAddress(address);\n\n}\n\npublic void SaveToDatabase()\n{\n    new EntityDao().save(entity);\n}   \n</code></pre>\n<p>So here we've applied <a href=\"https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\">Single responsibility principle</a> here of <a href=\"https://stackoverflow.com/questions/13692126/cant-seem-to-understand-solid-principles-and-design-patterns\">SOLID</a> principles.</p>\n<p>I mean we do not have almighty method that has all validations, setting attributes and saving to database.</p>\n<p>Pros of this approach:</p>\n<ul>\n<li>highly testable code</li>\n<li>great separation of concerns</li>\n<li>improved readability. We've created methods with self explanatory names</li>\n</ul>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664115010,"creation_date":1664062278,"question_id":73841208,"body_markdown":"Want to reduce code from these validations, these validators&#39; classes verify and return if inputs are valid or invalid, it&#39;s a reduction, I will validate some panels and almost 40 fields. Want to see if there is some pattern to simplify this, code is more than 300 lines which I believe to be a bad practice.\r\n\r\n    package Validation1;\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class MinimalReproducibleExampleValidation {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        boolean saveToDatabase = true;\r\n    \r\n        String name = &quot;Richard&quot;;\r\n        String idCard = &quot;123456789&quot;;\r\n        String address = &quot;Main Street 454&quot;;\r\n    \r\n        Entity entity = new Entity ();\r\n    \r\n        /// Name Validation\r\n        if (saveToDatabase) {\r\n            ValidationEntity nameValidation = new \r\n                ValidationEntity(ValidationEntity.Regex.Alphabetic, \r\n                    name, &quot;ID Card&quot;, 0, 13);\r\n            saveToDatabase = nameValidation.isValid();\r\n            entity.setName(name);\r\n        }\r\n        \r\n        /// ID Card Validation\r\n        if (saveToDatabase) {\r\n            ValidationEntity idCardValidator = new \r\n                ValidationEntity(ValidationEntity.Regex.Numerical, \r\n                    idCard, &quot;ID Card&quot;, 0, 13);\r\n            saveToDatabase = idCardValidator.isValid();\r\n            entity.setIdCard(idCard);\r\n        }\r\n        \r\n        /// EMail Validation\r\n        if (saveToDatabase) {\r\n            ValidationEntity emailValidator = new \r\n                ValidationEntity(ValidationEntity.Regex.AlphaNumerical, \r\n                    address, &quot;Address&quot;, 1, 9);\r\n            saveToDatabase = emailValidator.isValid();\r\n            entity.setAddress(address);\r\n        }\r\n        // If every field is valid, save\r\n        if (saveToDatabase) {\r\n            new EntityDao().save(entity);\r\n        }\r\n    }\r\n    }\r\n\r\nand:\r\n    \r\n    class ValidationEntity {\r\n    \r\n        private Regex regex;\r\n        private String input;\r\n        private String errorMessage;\r\n        private Integer minimum;\r\n        private Integer maximum;\r\n    \r\n    public ValidationEntity(Regex regex, String input, String errorMessage, int minimum, int maximum) {\r\n        this.regex = regex;\r\n        this.input = input;\r\n        this.errorMessage = errorMessage;\r\n        this.minimum = minimum;\r\n        this.maximum = maximum;\r\n    }\r\n    \r\n    public boolean isValid() {\r\n        Pattern pattern = Pattern.compile(getRegexFormat(), Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(input);\r\n        return matcher.matches();\r\n    }\r\n    \r\n       public String getRegexFormat() {\r\n    return &quot;^&quot; + regex.getRegex() + &quot;{&quot; + minimum + &quot;,&quot; + maximum + &quot;}&quot;;\r\n    }\r\n\r\nand:     \r\n\r\n    public enum Regex {\r\n        LowercaseAlphabetic(&quot;[a-z]&quot;), UppercaseAlphabetic(&quot;[A-Z]&quot;), Numerical(&quot;[0-9]&quot;), Alphabetic(&quot;[a-zA-Z]&quot;),\r\n    AlphaNumerical(&quot;^[A-Za-z0-9_ ]*$&quot;);\r\n    \r\n        public String regexValue;\r\n    \r\n        Regex(String regexValue) {\r\n            this.regexValue = regexValue;\r\n        }\r\n    }\r\n    }\r\n\r\nand:\r\n    \r\n    class EntityDao {\r\n    public void save(Entity entity) {\r\n        System.out.println(&quot;Saving the model!&quot;);\r\n    }\r\n    }\r\n\r\nand: \r\n    \r\n    class Entity {\r\n    \r\n    private String name;\r\n    private String idCard;\r\n    private String address;\r\n    \r\n    public void setIdCard(String idCard) {\r\n        this.idCard = idCard;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n    \r\n    public String getIdCard() {\r\n        return idCard;\r\n    }\r\n    \r\n    public String getIdName() {\r\n        return name;\r\n    }\r\n    \r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n    }","title":"Which design pattern reduces repetition in this validation inputs code","body":"<p>Want to reduce code from these validations, these validators' classes verify and return if inputs are valid or invalid, it's a reduction, I will validate some panels and almost 40 fields. Want to see if there is some pattern to simplify this, code is more than 300 lines which I believe to be a bad practice.</p>\n<pre><code>package Validation1;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class MinimalReproducibleExampleValidation {\n\npublic static void main(String[] args) {\n\n    boolean saveToDatabase = true;\n\n    String name = &quot;Richard&quot;;\n    String idCard = &quot;123456789&quot;;\n    String address = &quot;Main Street 454&quot;;\n\n    Entity entity = new Entity ();\n\n    /// Name Validation\n    if (saveToDatabase) {\n        ValidationEntity nameValidation = new \n            ValidationEntity(ValidationEntity.Regex.Alphabetic, \n                name, &quot;ID Card&quot;, 0, 13);\n        saveToDatabase = nameValidation.isValid();\n        entity.setName(name);\n    }\n    \n    /// ID Card Validation\n    if (saveToDatabase) {\n        ValidationEntity idCardValidator = new \n            ValidationEntity(ValidationEntity.Regex.Numerical, \n                idCard, &quot;ID Card&quot;, 0, 13);\n        saveToDatabase = idCardValidator.isValid();\n        entity.setIdCard(idCard);\n    }\n    \n    /// EMail Validation\n    if (saveToDatabase) {\n        ValidationEntity emailValidator = new \n            ValidationEntity(ValidationEntity.Regex.AlphaNumerical, \n                address, &quot;Address&quot;, 1, 9);\n        saveToDatabase = emailValidator.isValid();\n        entity.setAddress(address);\n    }\n    // If every field is valid, save\n    if (saveToDatabase) {\n        new EntityDao().save(entity);\n    }\n}\n}\n</code></pre>\n<p>and:</p>\n<pre><code>class ValidationEntity {\n\n    private Regex regex;\n    private String input;\n    private String errorMessage;\n    private Integer minimum;\n    private Integer maximum;\n\npublic ValidationEntity(Regex regex, String input, String errorMessage, int minimum, int maximum) {\n    this.regex = regex;\n    this.input = input;\n    this.errorMessage = errorMessage;\n    this.minimum = minimum;\n    this.maximum = maximum;\n}\n\npublic boolean isValid() {\n    Pattern pattern = Pattern.compile(getRegexFormat(), Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(input);\n    return matcher.matches();\n}\n\n   public String getRegexFormat() {\nreturn &quot;^&quot; + regex.getRegex() + &quot;{&quot; + minimum + &quot;,&quot; + maximum + &quot;}&quot;;\n}\n</code></pre>\n<p>and:</p>\n<pre><code>public enum Regex {\n    LowercaseAlphabetic(&quot;[a-z]&quot;), UppercaseAlphabetic(&quot;[A-Z]&quot;), Numerical(&quot;[0-9]&quot;), Alphabetic(&quot;[a-zA-Z]&quot;),\nAlphaNumerical(&quot;^[A-Za-z0-9_ ]*$&quot;);\n\n    public String regexValue;\n\n    Regex(String regexValue) {\n        this.regexValue = regexValue;\n    }\n}\n}\n</code></pre>\n<p>and:</p>\n<pre><code>class EntityDao {\npublic void save(Entity entity) {\n    System.out.println(&quot;Saving the model!&quot;);\n}\n}\n</code></pre>\n<p>and:</p>\n<pre><code>class Entity {\n\nprivate String name;\nprivate String idCard;\nprivate String address;\n\npublic void setIdCard(String idCard) {\n    this.idCard = idCard;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic void setAddress(String address) {\n    this.address = address;\n}\n\npublic String getIdCard() {\n    return idCard;\n}\n\npublic String getIdName() {\n    return name;\n}\n\npublic String getAddress() {\n    return address;\n}\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1664112064,"post_id":73844798,"comment_id":130391961,"body_markdown":"no, you can use maven or gradle.","body":"no, you can use maven or gradle."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664114015,"post_id":73844798,"comment_id":130392386,"body_markdown":"There is no direct equivalent. The closest is adding the dependency to your Maven pom.xml, or Gradle build.gradle, but it is not directly the same. Also, don&#39;t ask multiple questions in a question.","body":"There is no direct equivalent. The closest is adding the dependency to your Maven pom.xml, or Gradle build.gradle, but it is not directly the same. Also, don&#39;t ask multiple questions in a question."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664114518,"creation_date":1664114518,"answer_id":73845100,"question_id":73844798,"body_markdown":"&gt; Is this done by adding a dependency to build.gradle\r\n\r\nAssuming you&#39;re actually using Gradle, then yes.\r\n\r\nOtherwise, curl/wget JAR files from [Maven Central](https://search.maven.org/) and `export CLASSPATH` to the location of those JARs is the closest CLI-only equivalent. This approach is error prone because it won&#39;t grab transitive dependencies. \r\n\r\nJava libraries include packages, yes. Java modules don&#39;t work like Python modules, though. ","title":"What&#39;s the Java equivalent of Python pip install package?","body":"<blockquote>\n<p>Is this done by adding a dependency to build.gradle</p>\n</blockquote>\n<p>Assuming you're actually using Gradle, then yes.</p>\n<p>Otherwise, curl/wget JAR files from <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">Maven Central</a> and <code>export CLASSPATH</code> to the location of those JARs is the closest CLI-only equivalent. This approach is error prone because it won't grab transitive dependencies.</p>\n<p>Java libraries include packages, yes. Java modules don't work like Python modules, though.</p>\n"},{"tags":[],"owner":{"account_id":5060369,"reputation":6680,"user_id":4062197,"display_name":"ymz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664114572,"creation_date":1664114572,"answer_id":73845104,"question_id":73844798,"body_markdown":"I think it&#39;s a good question. Mainly because the difference between `Java` and `python`.\r\n\r\n**Let&#39;s start at the beginning:**\r\n\r\nWhen I develop via `python`, I&#39;m using https://pypi.org/ in order to explore 3rd-party libraries. Once I find a good candidate I install it via `pip install` as mentioned in the question. Easy as pie.. thon.. I guess\r\n\r\nIn `Java` things are &quot;slightly&quot; different. Although the libraries in java are built the same way (as `jar` files) there are various building tools provided for `Java`. That is to say - when you ask &quot;how to import and install a library in java?&quot; it actually depends on you project&#39;s configuration\r\n\r\nI, in person, loves https://mvnrepository.com/ when using `Java`. It is clear, informative and most important - it provides (for each library) various build solutions that you can easily use. Didn&#39;t find what you are looking for? Getting into trouble? You can always manually download the library `jar` file and embed it into your project (not ideal for most use-cases but - it is possible)\r\n\r\nI attach here an image to make it clear where to find each of the options that I mentioned above in order to make more sense\r\n\r\nHappy coding!\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4grIJ.png","title":"What&#39;s the Java equivalent of Python pip install package?","body":"<p>I think it's a good question. Mainly because the difference between <code>Java</code> and <code>python</code>.</p>\n<p><strong>Let's start at the beginning:</strong></p>\n<p>When I develop via <code>python</code>, I'm using <a href=\"https://pypi.org/\" rel=\"nofollow noreferrer\">https://pypi.org/</a> in order to explore 3rd-party libraries. Once I find a good candidate I install it via <code>pip install</code> as mentioned in the question. Easy as pie.. thon.. I guess</p>\n<p>In <code>Java</code> things are &quot;slightly&quot; different. Although the libraries in java are built the same way (as <code>jar</code> files) there are various building tools provided for <code>Java</code>. That is to say - when you ask &quot;how to import and install a library in java?&quot; it actually depends on you project's configuration</p>\n<p>I, in person, loves <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a> when using <code>Java</code>. It is clear, informative and most important - it provides (for each library) various build solutions that you can easily use. Didn't find what you are looking for? Getting into trouble? You can always manually download the library <code>jar</code> file and embed it into your project (not ideal for most use-cases but - it is possible)</p>\n<p>I attach here an image to make it clear where to find each of the options that I mentioned above in order to make more sense</p>\n<p>Happy coding!</p>\n<p><a href=\"https://i.stack.imgur.com/4grIJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4grIJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73845104,"answer_count":2,"score":-2,"last_activity_date":1664114572,"creation_date":1664111905,"question_id":73844798,"body_markdown":"In Python, to install a package, you can use `pip install package`. Is there a similar concept for Java and if so how does one do this? Is this done by adding a dependency to `build.gradle`? Is a library for Java the equivalent of a package in Python?","title":"What&#39;s the Java equivalent of Python pip install package?","body":"<p>In Python, to install a package, you can use <code>pip install package</code>. Is there a similar concept for Java and if so how does one do this? Is this done by adding a dependency to <code>build.gradle</code>? Is a library for Java the equivalent of a package in Python?</p>\n"},{"tags":["java","oop","inheritance"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343990886,"creation_date":1343988551,"answer_id":11793620,"question_id":11793564,"body_markdown":"Interfaces separate the functionality an object offers from its implementation.\r\n\r\nYou can provide a reference to an interface without needing to know which implementation is actually used.\r\n\r\nInterfaces also make testing easier as you can create dummy implementations to test your code against. Libraries like EasyMock and JMock make this easier to do.","title":"why interface used in java","body":"<p>Interfaces separate the functionality an object offers from its implementation.</p>\n\n<p>You can provide a reference to an interface without needing to know which implementation is actually used.</p>\n\n<p>Interfaces also make testing easier as you can create dummy implementations to test your code against. Libraries like EasyMock and JMock make this easier to do.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1343988658,"creation_date":1343988658,"answer_id":11793650,"question_id":11793564,"body_markdown":"Other than what you have mentioned, interfaces are a good way of exposing a set of functions (API) without divulging any information on their implementation.\r\n\r\nBy definition, when a class `implements` an `Interface`, it is agreeing to implementing a series of methods. This will allow any caller to use these methods without:\r\n\r\n - The caller having to worry about how is the function implemented;\r\n - Whoever wrote the function to worry about exposing internal logic.","title":"why interface used in java","body":"<p>Other than what you have mentioned, interfaces are a good way of exposing a set of functions (API) without divulging any information on their implementation.</p>\n\n<p>By definition, when a class <code>implements</code> an <code>Interface</code>, it is agreeing to implementing a series of methods. This will allow any caller to use these methods without:</p>\n\n<ul>\n<li>The caller having to worry about how is the function implemented;</li>\n<li>Whoever wrote the function to worry about exposing internal logic.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":258741,"reputation":7368,"user_id":541106,"accept_rate":57,"display_name":"Andrea Sindico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343989033,"creation_date":1343988723,"answer_id":11793662,"question_id":11793564,"body_markdown":"When a class implements/realizes multiple interfaces it is not multiple inheritance. The inheritance/extension relationship in fact only holds between constructs of the same kind (an interface may extend another interface or a class another class). The relationship between a class and an interface is realization or implementaiton, not extension. \r\nSuch differentiation do avoid the multiple inheritance (in Java a class can extend at most one class) and consequently many problems (i.e. diamond problem http://en.wikipedia.org/wiki/Diamond_problem, etc.) eventually improving the design quality","title":"why interface used in java","body":"<p>When a class implements/realizes multiple interfaces it is not multiple inheritance. The inheritance/extension relationship in fact only holds between constructs of the same kind (an interface may extend another interface or a class another class). The relationship between a class and an interface is realization or implementaiton, not extension. \nSuch differentiation do avoid the multiple inheritance (in Java a class can extend at most one class) and consequently many problems (i.e. diamond problem <a href=\"http://en.wikipedia.org/wiki/Diamond_problem\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Diamond_problem</a>, etc.) eventually improving the design quality</p>\n"},{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343989359,"creation_date":1343989359,"answer_id":11793837,"question_id":11793564,"body_markdown":"Adding to all other posts , Interfaces are more `abstract` where `Interfaces` form a **contract** between the `class` and the outside world, and this contract is enforced at build time by the` compiler`. If your `class` claims to implement an `interface`, all `methods` defined by that `interface` must appear in its source code before the `class` will successfully `compile`.","title":"why interface used in java","body":"<p>Adding to all other posts , Interfaces are more <code>abstract</code> where <code>Interfaces</code> form a <strong>contract</strong> between the <code>class</code> and the outside world, and this contract is enforced at build time by the<code>compiler</code>. If your <code>class</code> claims to implement an <code>interface</code>, all <code>methods</code> defined by that <code>interface</code> must appear in its source code before the <code>class</code> will successfully <code>compile</code>.</p>\n"},{"tags":[],"owner":{"account_id":1671572,"reputation":420,"user_id":1537949,"accept_rate":80,"display_name":"Christian Lendel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664114340,"creation_date":1343990170,"answer_id":11794019,"question_id":11793564,"body_markdown":"One thing that wasn&#180;t mentioned yet: you can design your program with several design patterns with interfaces (define the APIs). This will later on help you a lot with big software implementations. \r\nMaybe you want to read something about it: http://en.wikipedia.org/wiki/Software_design_pattern","title":"why interface used in java","body":"<p>One thing that wasnt mentioned yet: you can design your program with several design patterns with interfaces (define the APIs). This will later on help you a lot with big software implementations.\nMaybe you want to read something about it: <a href=\"http://en.wikipedia.org/wiki/Software_design_pattern\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Software_design_pattern</a></p>\n"}],"owner":{"account_id":970670,"reputation":1917,"user_id":1845188,"accept_rate":60,"display_name":"Amith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1344002189,"accepted_answer_id":11793650,"answer_count":5,"score":2,"last_activity_date":1664114340,"creation_date":1343988345,"question_id":11793564,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [why we need interface in java?](https://stackoverflow.com/questions/3528420/why-we-need-interface-in-java)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nI refered the following link\r\n\r\n[ prevoius post][1]\r\n\r\ncan anyone explain any reason why we are using interface in java?\r\n\r\n Other than\r\n\r\n - multiple inheritance is possible with interfaces.\r\n - polymorphism\r\n\r\n \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3528420/why-we-need-interface-in-java","title":"why interface used in java","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/3528420/why-we-need-interface-in-java\">why we need interface in java?</a>  </p>\n</blockquote>\n\n\n\n<p>I refered the following link</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3528420/why-we-need-interface-in-java\"> prevoius post</a></p>\n\n<p>can anyone explain any reason why we are using interface in java?</p>\n\n<p>Other than</p>\n\n<ul>\n<li>multiple inheritance is possible with interfaces.</li>\n<li>polymorphism</li>\n</ul>\n"},{"tags":["java","flutter","dart","widget"],"comments":[{"owner":{"account_id":10596204,"reputation":179,"user_id":7804819,"display_name":"Ankit Gada"},"score":0,"creation_date":1630376579,"post_id":68991966,"comment_id":121932979,"body_markdown":"Just do this\nlate Map&lt;String,dynamic&gt; userMap ={}; or remove late from keyword and check usermap.isEmpty()","body":"Just do this late Map&lt;String,dynamic&gt; userMap ={}; or remove late from keyword and check usermap.isEmpty()"},{"owner":{"account_id":60124,"reputation":83589,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":0,"creation_date":1630376757,"post_id":68991966,"comment_id":121932995,"body_markdown":"If you can&#39;t guarantee that a variable will be initialized before it&#39;s accessed, *don&#39;t use `late`*!  It makes no sense to make a variable `late` *and* to check if it&#39;s `null`.  If you need to check if it&#39;s `null`, then make it nullable.  Alternatively make it non-nullable and initialize it to a non-null value at the beginning.","body":"If you can&#39;t guarantee that a variable will be initialized before it&#39;s accessed, <i>don&#39;t use <code>late</code></i>!  It makes no sense to make a variable <code>late</code> <i>and</i> to check if it&#39;s <code>null</code>.  If you need to check if it&#39;s <code>null</code>, then make it nullable.  Alternatively make it non-nullable and initialize it to a non-null value at the beginning."},{"owner":{"account_id":22611622,"reputation":19,"user_id":16791689,"display_name":"Coding-Jutsu"},"score":0,"creation_date":1630378745,"post_id":68991966,"comment_id":121933255,"body_markdown":"I try to remove the Late but I can&#39;t an error pop again","body":"I try to remove the Late but I can&#39;t an error pop again"},{"owner":{"account_id":19161558,"reputation":12205,"user_id":13997210,"display_name":"Ravindra S. Patil"},"score":0,"creation_date":1630380871,"post_id":68991966,"comment_id":121933516,"body_markdown":"just try `Map&lt;String,dynamic&gt;? userMap;` instead of `late Map&lt;String,dynamic&gt; userMap;`","body":"just try <code>Map&lt;String,dynamic&gt;? userMap;</code> instead of <code>late Map&lt;String,dynamic&gt; userMap;</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630570322,"post_id":68991966,"comment_id":121994032,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13502446,"reputation":355,"user_id":9741539,"display_name":"Lucas Britto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630389826,"creation_date":1630389826,"answer_id":68993612,"question_id":68991966,"body_markdown":"The `late` keyword can be used when you have a non-nullable variable, but you just want to initialize it later. The variable will never be null, having only two states, non initialized or initialized with a non-null value.\r\n\r\nIf you want to work with nullable variables you can only add the `?` keyword to the variable like `Map&lt;String,dynamic&gt;? userMap;`","title":"How can I resolve &quot;LateInitializationError: Field &#39;userMap&#39; has not been initialized.&quot;","body":"<p>The <code>late</code> keyword can be used when you have a non-nullable variable, but you just want to initialize it later. The variable will never be null, having only two states, non initialized or initialized with a non-null value.</p>\n<p>If you want to work with nullable variables you can only add the <code>?</code> keyword to the variable like <code>Map&lt;String,dynamic&gt;? userMap;</code></p>\n"},{"tags":[],"owner":{"account_id":19388788,"reputation":1,"user_id":14177967,"display_name":"kumari kaushiki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664114300,"creation_date":1663662779,"answer_id":73783758,"question_id":68991966,"body_markdown":"    Map&lt;String, dynamic&gt; userMap = &lt;String, dynamic&gt;{};","title":"How can I resolve &quot;LateInitializationError: Field &#39;userMap&#39; has not been initialized.&quot;","body":"<pre><code>Map&lt;String, dynamic&gt; userMap = &lt;String, dynamic&gt;{};\n</code></pre>\n"}],"owner":{"account_id":22611622,"reputation":19,"user_id":16791689,"display_name":"Coding-Jutsu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68993612,"answer_count":2,"score":1,"last_activity_date":1664114300,"creation_date":1630374257,"question_id":68991966,"body_markdown":"    \r\n    late Map&lt;String,dynamic&gt; userMap;\r\n  \r\n    bool isLoading = false;\r\n    final TextEditingController _search = TextEditingController();\r\n\r\n\r\n    void onSearch() async{\r\n    FirebaseFirestore _firestore = FirebaseFirestore.instance;\r\n    setState(() {\r\n      isLoading = true;\r\n    });\r\n    await _firestore.collection(&#39;users&#39;).where(&#39;email&#39;, isEqualTo: _search.text)\r\n        .get().then((value) {\r\n          setState(() {\r\n            userMap = value.docs[0].data();\r\n            isLoading = false;\r\n          });\r\n          print(userMap);\r\n    });\r\n    \r\n    }\r\nThis first part of the code work proprely but when I want to create my ListTile the error pop up.\r\n\r\n    userMap != null ?\r\n            ListTile(\r\n              title: Text(userMap[&#39;name&#39;]),\r\n              subtitle: Text(userMap[&#39;email&#39;]),\r\n            ):Container(),\r\n\r\nIf somoene can help me that&#39;s will be great thank you !\r\n","title":"How can I resolve &quot;LateInitializationError: Field &#39;userMap&#39; has not been initialized.&quot;","body":"<pre><code>late Map&lt;String,dynamic&gt; userMap;\n\nbool isLoading = false;\nfinal TextEditingController _search = TextEditingController();\n\n\nvoid onSearch() async{\nFirebaseFirestore _firestore = FirebaseFirestore.instance;\nsetState(() {\n  isLoading = true;\n});\nawait _firestore.collection('users').where('email', isEqualTo: _search.text)\n    .get().then((value) {\n      setState(() {\n        userMap = value.docs[0].data();\n        isLoading = false;\n      });\n      print(userMap);\n});\n\n}\n</code></pre>\n<p>This first part of the code work proprely but when I want to create my ListTile the error pop up.</p>\n<pre><code>userMap != null ?\n        ListTile(\n          title: Text(userMap['name']),\n          subtitle: Text(userMap['email']),\n        ):Container(),\n</code></pre>\n<p>If somoene can help me that's will be great thank you !</p>\n"},{"tags":["java","project-panama"],"comments":[{"owner":{"account_id":275763,"reputation":2812,"user_id":568822,"accept_rate":60,"display_name":"S.A.Parkhid"},"score":0,"creation_date":1664056460,"post_id":73840729,"comment_id":130385273,"body_markdown":"Does this approach make sense and done your job? if yes, so leave it as is.","body":"Does this approach make sense and done your job? if yes, so leave it as is."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1664057023,"post_id":73840729,"comment_id":130385335,"body_markdown":"Which Java version is this? `NativeSymbol` has been removed in the latest version.","body":"Which Java version is this? <code>NativeSymbol</code> has been removed in the latest version."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664059117,"post_id":73840729,"comment_id":130385623,"body_markdown":"What Java version? A lot has changed in the last 4 Java versions w.r.t project panama.","body":"What Java version? A lot has changed in the last 4 Java versions w.r.t project panama."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664060718,"post_id":73840729,"comment_id":130385798,"body_markdown":"Also see [NativeSymbol.ofAddress](https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/NativeSymbol.html#ofAddress%28java.lang.String,jdk.incubator.foreign.MemoryAddress,jdk.incubator.foreign.ResourceScope%29)","body":"Also see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/NativeSymbol.html#ofAddress%28java.lang.String,jdk.incubator.foreign.MemoryAddress,jdk.incubator.foreign.ResourceScope%29\" rel=\"nofollow noreferrer\">NativeSymbol.ofAddress</a>"}],"answers":[{"tags":[],"owner":{"account_id":24310333,"reputation":31,"user_id":18252455,"display_name":"Patrick Hechler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664113902,"creation_date":1664113902,"answer_id":73845025,"question_id":73840729,"body_markdown":"Like [Johannes Kuhn](https://stackoverflow.com/users/845414/johannes-kuhn) commented:\r\n[NativeSymbol.ofAddress](https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/NativeSymbol.html#ofAddress%28java.lang.String,jdk.incubator.foreign.MemoryAddress,jdk.incubator.foreign.ResourceScope%29)\r\nis exactly what I need.\r\n\r\nSo the code looks like this:\r\n```\r\nCLinker link = CLinker.systemCLinker();\r\nMethodHandle handle = link.downcallHandle(link.lookup(&quot;get_function_pointer&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\r\nMemoryAddress funcPntr = (MemoryAddress) handle.invoke();\r\ntry (ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n    NativeSymbol funcSymbol = NativeSymbol.ofAddress(&quot;symbol_name&quot;, funcPntr, scope);\r\n    MethodHandle handle = linker.downcallHandle(funcPntr, FunctionDescriptor.ofVoid());\r\n    handle.invoke();\r\n}\r\n```\r\n","title":"call a native function pointer from java?","body":"<p>Like <a href=\"https://stackoverflow.com/users/845414/johannes-kuhn\">Johannes Kuhn</a> commented:\n<a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/NativeSymbol.html#ofAddress%28java.lang.String,jdk.incubator.foreign.MemoryAddress,jdk.incubator.foreign.ResourceScope%29\" rel=\"nofollow noreferrer\">NativeSymbol.ofAddress</a>\nis exactly what I need.</p>\n<p>So the code looks like this:</p>\n<pre><code>CLinker link = CLinker.systemCLinker();\nMethodHandle handle = link.downcallHandle(link.lookup(&quot;get_function_pointer&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\nMemoryAddress funcPntr = (MemoryAddress) handle.invoke();\ntry (ResourceScope scope = ResourceScope.newConfinedScope()) {\n    NativeSymbol funcSymbol = NativeSymbol.ofAddress(&quot;symbol_name&quot;, funcPntr, scope);\n    MethodHandle handle = linker.downcallHandle(funcPntr, FunctionDescriptor.ofVoid());\n    handle.invoke();\n}\n</code></pre>\n"}],"owner":{"account_id":24310333,"reputation":31,"user_id":18252455,"display_name":"Patrick Hechler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73845025,"answer_count":1,"score":1,"last_activity_date":1664113902,"creation_date":1664055301,"question_id":73840729,"body_markdown":"Is it possible to call a function pointer from Java?\r\n\r\nTo call a C function from Java I can just use the down call method from the `CLinker`, but that works only for functions and not for function pointers, since it needs a `NativeSymbol` for the function.\r\n\r\nSo how can I get a `NativeSymbol` from a `MemoryAddress`?\r\nOr is there an other possibility to call a function pointer from java code.\r\n\r\nMy current workaround is to just use C wrapper functions, like this:\r\n```\r\nvoid call_function(void (*func)(void)) {\r\n    func();\r\n}\r\n```\r\nand then just call these functions\r\n```\r\n    CLinker link = CLinker.systemCLinker();\r\n    MethodHandle handle = link.downcallHandle(link.lookup(&quot;get_function_pointer&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\r\n    MemoryAddress funcPntr = (MemoryAddress) handle.invoke();\r\n    handle = link.downcallHandle(link.lookup(&quot;call_function&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\r\n    handle.invoke();\r\n```\r\n","title":"call a native function pointer from java?","body":"<p>Is it possible to call a function pointer from Java?</p>\n<p>To call a C function from Java I can just use the down call method from the <code>CLinker</code>, but that works only for functions and not for function pointers, since it needs a <code>NativeSymbol</code> for the function.</p>\n<p>So how can I get a <code>NativeSymbol</code> from a <code>MemoryAddress</code>?\nOr is there an other possibility to call a function pointer from java code.</p>\n<p>My current workaround is to just use C wrapper functions, like this:</p>\n<pre><code>void call_function(void (*func)(void)) {\n    func();\n}\n</code></pre>\n<p>and then just call these functions</p>\n<pre><code>    CLinker link = CLinker.systemCLinker();\n    MethodHandle handle = link.downcallHandle(link.lookup(&quot;get_function_pointer&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\n    MemoryAddress funcPntr = (MemoryAddress) handle.invoke();\n    handle = link.downcallHandle(link.lookup(&quot;call_function&quot;).orElseThrow(), FunctionDescriptor.of(ADDRESS);\n    handle.invoke();\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","flyway"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664114746,"post_id":73844997,"comment_id":130392547,"body_markdown":"try to remove the property `spring.flyway.locations=classpath:migrations` and build and start spring boot again","body":"try to remove the property <code>spring.flyway.locations=classpath:migrations</code> and build and start spring boot again"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664114961,"post_id":73844997,"comment_id":130392589,"body_markdown":"Well, i removed this line from ```application.properties``` and moved SQL file to ```resources/db/migration``` directory, but it still not working :(","body":"Well, i removed this line from <code>application.properties</code> and moved SQL file to <code>resources&#47;db&#47;migration</code> directory, but it still not working :("},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664115416,"post_id":73844997,"comment_id":130392664,"body_markdown":"try to rename your file from `V1_1__CREATE_TABLES.sql` into `V2_1__CREATE_TABLES.sql`","body":"try to rename your file from <code>V1_1__CREATE_TABLES.sql</code> into <code>V2_1__CREATE_TABLES.sql</code>"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1664115539,"post_id":73844997,"comment_id":130392695,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664115674,"post_id":73844997,"comment_id":130392725,"body_markdown":"change `spring.flyway.schemas=public` into `spring.flyway.schemas=diary` This for sure should be an issue as the schema that you are connecting is this one.","body":"change <code>spring.flyway.schemas=public</code> into <code>spring.flyway.schemas=diary</code> This for sure should be an issue as the schema that you are connecting is this one."},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":1,"creation_date":1664115958,"post_id":73844997,"comment_id":130392780,"body_markdown":"well, the problem was that I added another dependency. I added flyway as plaugin to maven, but I had to add it as dependency. Now it works","body":"well, the problem was that I added another dependency. I added flyway as plaugin to maven, but I had to add it as dependency. Now it works"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664113693,"creation_date":1664113693,"question_id":73844997,"body_markdown":"I&#39;m new to flyway and I&#39;m trying to create a migration of my database. I created ```V1_1__CREATE_TABLES.sql``` file in ```/resources/migrations```, and started the app, but it just doesn&#39;t works. I also fiend a lot of threads on this topic, but all the answers I senn was useless for me. So here you can see my code:\r\n\r\nHere&#39;s my maven dependencies:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.diary&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;diary&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;diary&lt;/name&gt;\r\n\t&lt;description&gt;School electronic diary&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.0.3&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s ```application.properties``` file\r\n```java\r\n#spring\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/diary\r\nspring.datasource.username=postgres\r\nspring.datasource.password=4122\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n\r\n#flyway\r\nspring.flyway.locations=classpath:migrations\r\nspring.flyway.url=jdbc:postgresql://localhost:5432/diary\r\nspring.flyway.user=postgres\r\nspring.flyway.password=4122\r\nspring.flyway.schemas=public\r\nspring.flyway.enabled=true\r\n```\r\n\r\nAnd here&#39;s my sql file:\r\n```sql\r\nCREATE TABLE users (\r\n    id BIGINT NOT NULL,\r\n    login VARCHAR(255) NOT NULL ,\r\n    phoneNumber VARCHAR(16) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    name VARCHAR(255) NOT NULL,\r\n    surname VARCHAR(255) NOT NULL,\r\n    patronymic VARCHAR(255),\r\n    roleId BIGINT NOT NULL,\r\n    CONSTRAINT userRoles FOREIGN KEY (roleId) REFERENCES roles(id)\r\n    primary key (id)\r\n);\r\n\r\nCREATE TABLE roles (\r\n    id BIGINT NOT NULL,\r\n    name VARCHAR(255) NOT NULL,\r\n    primary key (id)\r\n);\r\n```\r\n\r\nIf you know what can be a problem, please, tell me, I&#39;d really apreciate it!","title":"Flyway doesn&#39;t create migrations to database","body":"<p>I'm new to flyway and I'm trying to create a migration of my database. I created <code>V1_1__CREATE_TABLES.sql</code> file in <code>/resources/migrations</code>, and started the app, but it just doesn't works. I also fiend a lot of threads on this topic, but all the answers I senn was useless for me. So here you can see my code:</p>\n<p>Here's my maven dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.diary&lt;/groupId&gt;\n    &lt;artifactId&gt;diary&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;diary&lt;/name&gt;\n    &lt;description&gt;School electronic diary&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here's <code>application.properties</code> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>#spring\nspring.datasource.url=jdbc:postgresql://localhost:5432/diary\nspring.datasource.username=postgres\nspring.datasource.password=4122\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=org.postgresql.Driver\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\n#flyway\nspring.flyway.locations=classpath:migrations\nspring.flyway.url=jdbc:postgresql://localhost:5432/diary\nspring.flyway.user=postgres\nspring.flyway.password=4122\nspring.flyway.schemas=public\nspring.flyway.enabled=true\n</code></pre>\n<p>And here's my sql file:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE users (\n    id BIGINT NOT NULL,\n    login VARCHAR(255) NOT NULL ,\n    phoneNumber VARCHAR(16) NOT NULL,\n    email VARCHAR(255) NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    surname VARCHAR(255) NOT NULL,\n    patronymic VARCHAR(255),\n    roleId BIGINT NOT NULL,\n    CONSTRAINT userRoles FOREIGN KEY (roleId) REFERENCES roles(id)\n    primary key (id)\n);\n\nCREATE TABLE roles (\n    id BIGINT NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    primary key (id)\n);\n</code></pre>\n<p>If you know what can be a problem, please, tell me, I'd really apreciate it!</p>\n"},{"tags":["java","url","curl","download","google-drive-api"],"comments":[{"owner":{"account_id":7172387,"reputation":1153,"user_id":5479463,"display_name":"Joshua Ott"},"score":1,"creation_date":1495487034,"post_id":44086653,"comment_id":75263505,"body_markdown":"Take a look at this, I will update my solution soon:\nhttps://stackoverflow.com/questions/44007106/goole-drive-api-upload-fails","body":"Take a look at this, I will update my solution soon: <a href=\"https://stackoverflow.com/questions/44007106/goole-drive-api-upload-fails\" title=\"goole drive api upload fails\">stackoverflow.com/questions/44007106/&hellip;</a>"},{"owner":{"account_id":10940954,"reputation":13,"user_id":8040837,"display_name":"JaKre"},"score":1,"creation_date":1495492937,"post_id":44086653,"comment_id":75265505,"body_markdown":"Thank you. Do you also know how to execute this process in google script? Or how to execute it via sites.google created website?","body":"Thank you. Do you also know how to execute this process in google script? Or how to execute it via sites.google created website?"},{"owner":{"account_id":15953450,"reputation":309,"user_id":11512178,"display_name":"Petrus"},"score":0,"creation_date":1664111657,"post_id":44086653,"comment_id":130391876,"body_markdown":"Hi, did you ever manage to solve this?","body":"Hi, did you ever manage to solve this?"}],"owner":{"account_id":10940954,"reputation":13,"user_id":8040837,"display_name":"JaKre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664111638,"creation_date":1495288015,"question_id":44086653,"body_markdown":"I need to download .csv file from url and store it within specific folder on google drive...this operation has to be triggered on specific time of the day (sometimes after midnight). One of my issues is that the file is not stored on the url but it is generated after executing the call for the address.\r\n\r\nAfter opening for example this url (https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague) the file is being generated and stored on my computer. I need it to be generated, stored on my Google Drive folder and renamed to be report.csv or anything as such. I am sorry to ask this question if it is possible but I just now discovered the google scripts and I am looking forward to learn new things.\r\n\r\nThank you","title":"automatically download file from URL and store it on Google Drive","body":"<p>I need to download .csv file from url and store it within specific folder on google drive...this operation has to be triggered on specific time of the day (sometimes after midnight). One of my issues is that the file is not stored on the url but it is generated after executing the call for the address.</p>\n\n<p>After opening for example this url (<a href=\"https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague\" rel=\"nofollow noreferrer\">https://member.expireddomains.net/export/pendingdelete/?export=csv&amp;activetab=expireddomains&amp;flimit=25&amp;fdomain=prague</a>) the file is being generated and stored on my computer. I need it to be generated, stored on my Google Drive folder and renamed to be report.csv or anything as such. I am sorry to ask this question if it is possible but I just now discovered the google scripts and I am looking forward to learn new things.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","multithreading","file-io"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664112065,"post_id":73844751,"comment_id":130391962,"body_markdown":"What does &quot;stops processing&quot; mean?","body":"What does &quot;stops processing&quot; mean?"},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":4,"creation_date":1664112277,"post_id":73844751,"comment_id":130392013,"body_markdown":"One problem could be that you shut down your executor service in the main thread which means won&#39;t be able to add new tasks within the run method after the shutdown statement is executed.","body":"One problem could be that you shut down your executor service in the main thread which means won&#39;t be able to add new tasks within the run method after the shutdown statement is executed."},{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1664112661,"post_id":73844751,"comment_id":130392095,"body_markdown":"@tgdavies The program stops looking for files in subdirrectories and doesn&#39;t modify them as well. Also it doesn&#39;t modify files in initial directory that are alphabetically after found subdirrectory.","body":"@tgdavies The program stops looking for files in subdirrectories and doesn&#39;t modify them as well. Also it doesn&#39;t modify files in initial directory that are alphabetically after found subdirrectory."},{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1664113677,"post_id":73844751,"comment_id":130392293,"body_markdown":"@JANO I&#39;ve commented shutdown statement in Main class. Everything works correctly now, but now the running time of the program increases very much and the program seems to freeze, although after a while it finishes its work. Do I need to shutdown pool in different way than before?","body":"@JANO I&#39;ve commented shutdown statement in Main class. Everything works correctly now, but now the running time of the program increases very much and the program seems to freeze, although after a while it finishes its work. Do I need to shutdown pool in different way than before?"},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1664113953,"post_id":73844751,"comment_id":130392371,"body_markdown":"It could be that the program needs more time now as it is actually doing the work it should do. I would check if the time is spent during the file modification.","body":"It could be that the program needs more time now as it is actually doing the work it should do. I would check if the time is spent during the file modification."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664122719,"post_id":73844751,"comment_id":130394209,"body_markdown":"Post an [MCVE](https://stackoverflow.com/help/mcve).","body":"Post an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664136157,"post_id":73844751,"comment_id":130396966,"body_markdown":"You may want to try using `ExecutorService pool = ForkJoinPool.commonPool();`, which doesnt have to be shut down.","body":"You may want to try using <code>ExecutorService pool = ForkJoinPool.commonPool();</code>, which doesnt have to be shut down."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1664149611,"post_id":73844751,"comment_id":130398838,"body_markdown":"Hitting the same drive in multiple threads with `File.listFiles` will be slow. You may find single thread `Files.find` or `Files.walkFileTree` is not only quicker but much simpler to implement.","body":"Hitting the same drive in multiple threads with <code>File.listFiles</code> will be slow. You may find single thread <code>Files.find</code> or <code>Files.walkFileTree</code> is not only quicker but much simpler to implement."}],"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664111485,"creation_date":1664111485,"question_id":73844751,"body_markdown":"I have a class ReverseWriter. Constructor takes 3 arguments: path to directory in which I should search for Java files, path and name for new directory in which modified files will be stored and thread pool that is created in Main class. My application should recursively find files (and process each subdirrectory and file in separate thread) in given directory and it&#39;s **subdirrectories**. Here&#39;s the part of Main class code:\r\n\r\n            ExecutorService pool = Executors.newCachedThreadPool();\r\n            ReverseWriter reverseWriter = new ReverseWriter(dirToSearch, dirToStorePathName, pool);\r\n            pool.submit(reverseWriter);\r\n    \r\n            System.out.println(&quot;All files reversed!&quot;);\r\n    \r\n            pool.shutdown();\r\nAnd here is the **run** method of ReverseWriter class:\r\n\r\n        @Override\r\n        public void run() {\r\n    \r\n            File[] files = dirToSearch.listFiles();\r\n            System.out.println(Arrays.toString(files));\r\n            if (files != null) {\r\n                for (File f : files) {\r\n                    System.out.println(f.getName());\r\n                    if (f.isDirectory()) {\r\n                        ReverseWriter reverseWriter = new ReverseWriter(f, dirToStorePathName, pool);\r\n                        pool.submit(reverseWriter);\r\n                    } else {\r\n                        reverseWrite(f);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n**reverseWrite** is the method that modifies file. For testing my application I created a folder with 5 Java files, 1 txt file, 2 folders that contain Java files. The problem is that my application modifies and writes 4 modified files and doesn&#39;t modify files that are in subdirrectories. While debugging, I found that when in method **run** the subdirrectory is found then the application stops proccessing subdirrectories and files stored in them. I can&#39;t figure out what I&#39;m doing wrong. Can somebody give me a tip how to fix this?","title":"Recursively find files using ExecutorService","body":"<p>I have a class ReverseWriter. Constructor takes 3 arguments: path to directory in which I should search for Java files, path and name for new directory in which modified files will be stored and thread pool that is created in Main class. My application should recursively find files (and process each subdirrectory and file in separate thread) in given directory and it's <strong>subdirrectories</strong>. Here's the part of Main class code:</p>\n<pre><code>        ExecutorService pool = Executors.newCachedThreadPool();\n        ReverseWriter reverseWriter = new ReverseWriter(dirToSearch, dirToStorePathName, pool);\n        pool.submit(reverseWriter);\n\n        System.out.println(&quot;All files reversed!&quot;);\n\n        pool.shutdown();\n</code></pre>\n<p>And here is the <strong>run</strong> method of ReverseWriter class:</p>\n<pre><code>    @Override\n    public void run() {\n\n        File[] files = dirToSearch.listFiles();\n        System.out.println(Arrays.toString(files));\n        if (files != null) {\n            for (File f : files) {\n                System.out.println(f.getName());\n                if (f.isDirectory()) {\n                    ReverseWriter reverseWriter = new ReverseWriter(f, dirToStorePathName, pool);\n                    pool.submit(reverseWriter);\n                } else {\n                    reverseWrite(f);\n                }\n            }\n        }\n    }\n</code></pre>\n<p><strong>reverseWrite</strong> is the method that modifies file. For testing my application I created a folder with 5 Java files, 1 txt file, 2 folders that contain Java files. The problem is that my application modifies and writes 4 modified files and doesn't modify files that are in subdirrectories. While debugging, I found that when in method <strong>run</strong> the subdirrectory is found then the application stops proccessing subdirrectories and files stored in them. I can't figure out what I'm doing wrong. Can somebody give me a tip how to fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1664111748,"post_id":73844748,"comment_id":130391897,"body_markdown":"This is a possible duplicate of [ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat](https://stackoverflow.com/q/71959645/). You seem to have the same class *twice* in the classpath.","body":"This is a possible duplicate of <a href=\"https://stackoverflow.com/q/71959645/\">ClassCastException casting a class instance to its own class because it is in an &quot;unnamed module&quot; with gradel and tomcat</a>. You seem to have the same class <i>twice</i> in the classpath."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1664112092,"post_id":73844748,"comment_id":130391966,"body_markdown":"@HovercraftFullOfEels The class is defined only once, it is not from libraries.","body":"@HovercraftFullOfEels The class is defined only once, it is not from libraries."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664112232,"post_id":73844748,"comment_id":130392002,"body_markdown":"See https://stackoverflow.com/questions/66961552/error-is-in-unnamed-module-of-loader-org-springframework-boot-devtools-restart","body":"See <a href=\"https://stackoverflow.com/questions/66961552/error-is-in-unnamed-module-of-loader-org-springframework-boot-devtools-restart\" title=\"error is in unnamed module of loader org springframework boot devtools restart\">stackoverflow.com/questions/66961552/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1664112335,"post_id":73844748,"comment_id":130392025,"body_markdown":"&quot;com...SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com...SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3&quot; - 2 classes with the same name are loaded by 2 different class loaders. Simple as that. For the why? No idea.","body":"&quot;com...SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com...SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.Restar&zwnj;&#8203;tClassLoader @86fbeb3&quot; - 2 classes with the same name are loaded by 2 different class loaders. Simple as that. For the why? No idea."},{"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"score":0,"creation_date":1664112552,"post_id":73844748,"comment_id":130392076,"body_markdown":"@tgdavies Your suggestion worked.","body":"@tgdavies Your suggestion worked."}],"owner":{"account_id":3274297,"reputation":1267,"user_id":2756820,"accept_rate":96,"display_name":"Ram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664112684,"answer_count":0,"score":1,"last_activity_date":1664111458,"creation_date":1664111458,"question_id":73844748,"body_markdown":"I am getting java.lang.ClassCastException for the objects of same class. This is the code that causes the error.\r\n\r\n\r\n    try (Session session = configDatabaseService.getSessionFactory().openSession())\r\n            {\r\n                List list = session.createQuery(&quot;FROM SparelabsPollStatusDetailEntity detail WHERE detail.dateAdded&gt;:dateAdded&quot;).setParameter(&quot;dateAdded&quot;, Instant.ofEpochMilli(new Date(System.currentTimeMillis() - (2 * 24 * 3600 * 1000L)).getTime())).list();\r\n    \r\n                for (Object spareLabsPollStatusDetail : list)\r\n                {\r\n                    Optional&lt;DimResident&gt; dimResident = this.dimResidentRepository.findById(Math.toIntExact(((SparelabsPollStatusDetailEntity) (spareLabsPollStatusDetail)).getDimResidentId()));\r\n    \r\n                    if (dimResident.isPresent())\r\n                    {\r\n                         //deleted code for brevity\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(&quot;NOT Updated dimResident SpareLabsKey  = [&quot; + dimResident.get().getResidentID() + &quot;]&quot;);\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.err.print(e);\r\n                if (Logger.isErrorEnabled())\r\n                    Logger.error(e);\r\n            }\r\n\r\nThis is the error \r\n\r\n    java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)2022-09-25 18:31:56,588 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s727ms524&#181;s300ns).\r\n        2022-09-25 18:31:57:310 [ERROR] [restartedMain:ID=22]:[SpareLabsClientServiceImpl.java:834] java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader &#39;app&#39;; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)\r\n        \tat com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.updateSpareLabsKeysInDimResidentTable(SpareLabsClientServiceImpl.java:794)\r\n        \tat com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.doDataSynchronization(SpareLabsClientServiceImpl.java:574)\r\n        \tat com.rossmoor.sparelabs.SpareLabsApplication.run(SpareLabsApplication.java:147)\r\n        \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n        \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        \tat com.rossmoor.sparelabs.SpareLabsApplication.main(SpareLabsApplication.java:47)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n\r\nWhat does this error mean? How to solve this?","title":"Getting java.lang.ClassCastException for same class objects, How to solve this?","body":"<p>I am getting java.lang.ClassCastException for the objects of same class. This is the code that causes the error.</p>\n<pre><code>try (Session session = configDatabaseService.getSessionFactory().openSession())\n        {\n            List list = session.createQuery(&quot;FROM SparelabsPollStatusDetailEntity detail WHERE detail.dateAdded&gt;:dateAdded&quot;).setParameter(&quot;dateAdded&quot;, Instant.ofEpochMilli(new Date(System.currentTimeMillis() - (2 * 24 * 3600 * 1000L)).getTime())).list();\n\n            for (Object spareLabsPollStatusDetail : list)\n            {\n                Optional&lt;DimResident&gt; dimResident = this.dimResidentRepository.findById(Math.toIntExact(((SparelabsPollStatusDetailEntity) (spareLabsPollStatusDetail)).getDimResidentId()));\n\n                if (dimResident.isPresent())\n                {\n                     //deleted code for brevity\n                }\n                else\n                {\n                    System.out.println(&quot;NOT Updated dimResident SpareLabsKey  = [&quot; + dimResident.get().getResidentID() + &quot;]&quot;);\n                }\n            }\n        }\n        catch (Exception e)\n        {\n            System.err.print(e);\n            if (Logger.isErrorEnabled())\n                Logger.error(e);\n        }\n</code></pre>\n<p>This is the error</p>\n<pre><code>java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader 'app'; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)2022-09-25 18:31:56,588 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s727ms524s300ns).\n    2022-09-25 18:31:57:310 [ERROR] [restartedMain:ID=22]:[SpareLabsClientServiceImpl.java:834] java.lang.ClassCastException: class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity cannot be cast to class com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity (com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader 'app'; com.rossmoor.sparelabs.model.entities.SparelabsPollStatusDetailEntity is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @86fbeb3)\n        at com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.updateSpareLabsKeysInDimResidentTable(SpareLabsClientServiceImpl.java:794)\n        at com.rossmoor.sparelabs.services.web.SpareLabsClientServiceImpl.doDataSynchronization(SpareLabsClientServiceImpl.java:574)\n        at com.rossmoor.sparelabs.SpareLabsApplication.run(SpareLabsApplication.java:147)\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.rossmoor.sparelabs.SpareLabsApplication.main(SpareLabsApplication.java:47)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>What does this error mean? How to solve this?</p>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":1543977,"reputation":5835,"user_id":1437962,"display_name":"Yusubov"},"score":0,"creation_date":1355668243,"post_id":63150,"comment_id":19156932,"body_markdown":"The StringbBilder is the way to go - java.lang.StringBuilder.","body":"The StringbBilder is the way to go - java.lang.StringBuilder."},{"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":0,"creation_date":1395491504,"post_id":63150,"comment_id":34368614,"body_markdown":"For Java 8 have a look at this answer: http://stackoverflow.com/a/22577623/1115554","body":"For Java 8 have a look at this answer: <a href=\"http://stackoverflow.com/a/22577623/1115554\">stackoverflow.com/a/22577623/1115554</a>"}],"answers":[{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1258284893,"creation_date":1221487517,"answer_id":63173,"question_id":63150,"body_markdown":"Use an approach based on [`java.lang.StringBuilder`][1]!  (&quot;A mutable sequence of characters. &quot;)\r\n\r\nLike you mentioned, all those string concatenations are creating Strings all over.  `StringBuilder` won&#39;t do that.\r\n\r\nWhy `StringBuilder` instead of [`StringBuffer`][3]?  From the `StringBuilder` javadoc:\r\n\r\n&gt; Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations. \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuffer.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Use an approach based on <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>java.lang.StringBuilder</code></a>!  (\"A mutable sequence of characters. \")</p>\n\n<p>Like you mentioned, all those string concatenations are creating Strings all over.  <code>StringBuilder</code> won't do that.</p>\n\n<p>Why <code>StringBuilder</code> instead of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a>?  From the <code>StringBuilder</code> javadoc:</p>\n\n<blockquote>\n  <p>Where possible, it is recommended that this class be used in preference to StringBuffer as it will be faster under most implementations. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3706,"reputation":176296,"user_id":5380,"accept_rate":66,"display_name":"Kent Boogaart"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1317168417,"creation_date":1221487573,"answer_id":63186,"question_id":63150,"body_markdown":"You can use Java&#39;s [`StringBuilder`][1] type for this. There&#39;s also `StringBuffer`, but it contains extra thread safety logic that is often unnecessary.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can use Java's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> type for this. There's also <code>StringBuffer</code>, but it contains extra thread safety logic that is often unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221487592,"creation_date":1221487592,"answer_id":63191,"question_id":63150,"body_markdown":"Why not write your own join() method?  It would take as parameters collection of Strings and a delimiter String.  Within the method iterate over the collection and build up your result in a StringBuffer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Why not write your own join() method?  It would take as parameters collection of Strings and a delimiter String.  Within the method iterate over the collection and build up your result in a StringBuffer.</p>\n"},{"tags":[],"owner":{"account_id":3591,"reputation":332927,"user_id":5190,"accept_rate":76,"display_name":"Vinko Vrsalovic"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1330637774,"creation_date":1221487651,"answer_id":63201,"question_id":63150,"body_markdown":"You can generalize it, but there&#39;s no join in Java, as you well say.\r\n\r\n[This][1] might work better. \r\n\r\n    public static String join(Iterable&lt;? extends CharSequence&gt; s, String delimiter) {\r\n        Iterator&lt;? extends CharSequence&gt; iter = s.iterator();\r\n        if (!iter.hasNext()) return &quot;&quot;;\r\n        StringBuilder buffer = new StringBuilder(iter.next());\r\n        while (iter.hasNext()) buffer.append(delimiter).append(iter.next());\r\n        return buffer.toString();\r\n    }\r\n\r\n\r\n  [1]: http://snippets.dzone.com/posts/show/91","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can generalize it, but there's no join in Java, as you well say.</p>\n\n<p><a href=\"http://snippets.dzone.com/posts/show/91\" rel=\"noreferrer\">This</a> might work better. </p>\n\n<pre><code>public static String join(Iterable&lt;? extends CharSequence&gt; s, String delimiter) {\n    Iterator&lt;? extends CharSequence&gt; iter = s.iterator();\n    if (!iter.hasNext()) return \"\";\n    StringBuilder buffer = new StringBuilder(iter.next());\n    while (iter.hasNext()) buffer.append(delimiter).append(iter.next());\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1020,"reputation":2478,"user_id":1353,"display_name":"martinatime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221487766,"creation_date":1221487766,"answer_id":63217,"question_id":63150,"body_markdown":"You can try something like this:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    if (condition) { sb.append(&quot;elementName&quot;).append(&quot;,&quot;); }\r\n    if (anotherCondition) { sb.append(&quot;anotherElementName&quot;).append(&quot;,&quot;); }\r\n    String parameterString = sb.toString();","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You can try something like this:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nif (condition) { sb.append(\"elementName\").append(\",\"); }\nif (anotherCondition) { sb.append(\"anotherElementName\").append(\",\"); }\nString parameterString = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":746,"reputation":50421,"user_id":974,"accept_rate":82,"display_name":"izb"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1221487768,"creation_date":1221487768,"answer_id":63218,"question_id":63150,"body_markdown":"    public static String join(String[] strings, char del)\r\n    {\r\n        StringBuffer sb = new StringBuffer();\r\n        int len = strings.length;\r\n        boolean appended = false;\r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n            if (appended)\r\n            {\r\n                sb.append(del);\r\n            }\r\n            sb.append(&quot;&quot;+strings[i]);\r\n            appended = true;\r\n        }\r\n        return sb.toString();\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<pre><code>public static String join(String[] strings, char del)\n{\n    StringBuffer sb = new StringBuffer();\n    int len = strings.length;\n    boolean appended = false;\n    for (int i = 0; i &lt; len; i++)\n    {\n        if (appended)\n        {\n            sb.append(del);\n        }\n        sb.append(\"\"+strings[i]);\n        appended = true;\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2262,"reputation":3762,"user_id":3126,"accept_rate":89,"display_name":"newdayrising"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221487823,"creation_date":1221487823,"answer_id":63226,"question_id":63150,"body_markdown":"You should probably use a `StringBuilder` with the `append` method to construct your result, but otherwise this is as good of a solution as Java has to offer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You should probably use a <code>StringBuilder</code> with the <code>append</code> method to construct your result, but otherwise this is as good of a solution as Java has to offer.</p>\n"},{"tags":[],"owner":{"account_id":4106,"reputation":12708,"user_id":6069,"accept_rate":56,"display_name":"agnul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1221742267,"creation_date":1221487835,"answer_id":63229,"question_id":63150,"body_markdown":"Why don&#39;t you do in Java the same thing you are doing in ruby, that is creating the delimiter separated string only after you&#39;ve added all the pieces to the array?\r\n\r\n    ArrayList&lt;String&gt; parms = new ArrayList&lt;String&gt;();\r\n    if (someCondition) parms.add(&quot;someString&quot;);\r\n    if (anotherCondition) parms.add(&quot;someOtherString&quot;);\r\n    // ...\r\n    String sep = &quot;&quot;; StringBuffer b = new StringBuffer();\r\n    for (String p: parms) {\r\n        b.append(sep);\r\n        b.append(p);\r\n        sep = &quot;yourDelimiter&quot;;\r\n    }\r\n\r\nYou may want to move that for loop in a separate helper method, and also use StringBuilder instead of StringBuffer...\r\n\r\n_Edit_: fixed the order of appends.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Why don't you do in Java the same thing you are doing in ruby, that is creating the delimiter separated string only after you've added all the pieces to the array?</p>\n\n<pre><code>ArrayList&lt;String&gt; parms = new ArrayList&lt;String&gt;();\nif (someCondition) parms.add(\"someString\");\nif (anotherCondition) parms.add(\"someOtherString\");\n// ...\nString sep = \"\"; StringBuffer b = new StringBuffer();\nfor (String p: parms) {\n    b.append(sep);\n    b.append(p);\n    sep = \"yourDelimiter\";\n}\n</code></pre>\n\n<p>You may want to move that for loop in a separate helper method, and also use StringBuilder instead of StringBuffer...</p>\n\n<p><em>Edit</em>: fixed the order of appends.</p>\n"},{"tags":[],"owner":{"account_id":4944,"reputation":6834,"user_id":7686,"display_name":"Martin Gladdish"},"down_vote_count":4,"up_vote_count":647,"is_accepted":true,"score":643,"last_activity_date":1440142226,"creation_date":1221488014,"answer_id":63258,"question_id":63150,"body_markdown":"### Pre Java 8: ###\r\n\r\nApache&#39;s commons lang is your friend here - it provides a join method very similar to the one you refer to in Ruby: \r\n\r\n[`StringUtils.join(java.lang.Iterable,char)`][1]\r\n\r\n---\r\n\r\n### Java 8: ###\r\nJava 8 provides joining out of the box via `StringJoiner` and `String.join()`. The snippets below show how you can use them:\r\n\r\n[`StringJoiner`][2]\r\n\r\n    StringJoiner joiner = new StringJoiner(&quot;,&quot;);\r\n    joiner.add(&quot;01&quot;).add(&quot;02&quot;).add(&quot;03&quot;);\r\n    String joinedString = joiner.toString(); // &quot;01,02,03&quot;\r\n\r\n---\r\n\r\n[`String.join(CharSequence delimiter, CharSequence... elements))`][3]\r\n\r\n    String joinedString = String.join(&quot; - &quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;); // &quot;04 - 05 - 06&quot;\r\n\r\n---\r\n\r\n[`String.join(CharSequence delimiter, Iterable&lt;? extends CharSequence&gt; elements)`][4]\r\n\r\n    List&lt;String&gt; strings = new LinkedList&lt;&gt;();\r\n    strings.add(&quot;Java&quot;);strings.add(&quot;is&quot;);\r\n    strings.add(&quot;cool&quot;);\r\n    String message = String.join(&quot; &quot;, strings);\r\n    //message returned is: &quot;Java is cool&quot;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<h3>Pre Java 8:</h3>\n\n<p>Apache's commons lang is your friend here - it provides a join method very similar to the one you refer to in Ruby: </p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#join(java.lang.Iterable,%20char)\" rel=\"noreferrer\"><code>StringUtils.join(java.lang.Iterable,char)</code></a></p>\n\n<hr>\n\n<h3>Java 8:</h3>\n\n<p>Java 8 provides joining out of the box via <code>StringJoiner</code> and <code>String.join()</code>. The snippets below show how you can use them:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\"><code>StringJoiner</code></a></p>\n\n<pre><code>StringJoiner joiner = new StringJoiner(\",\");\njoiner.add(\"01\").add(\"02\").add(\"03\");\nString joinedString = joiner.toString(); // \"01,02,03\"\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"noreferrer\"><code>String.join(CharSequence delimiter, CharSequence... elements))</code></a></p>\n\n<pre><code>String joinedString = String.join(\" - \", \"04\", \"05\", \"06\"); // \"04 - 05 - 06\"\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String.join(CharSequence delimiter, Iterable&lt;? extends CharSequence&gt; elements)</code></a></p>\n\n<pre><code>List&lt;String&gt; strings = new LinkedList&lt;&gt;();\nstrings.add(\"Java\");strings.add(\"is\");\nstrings.add(\"cool\");\nString message = String.join(\" \", strings);\n//message returned is: \"Java is cool\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4869,"reputation":1459,"user_id":7530,"display_name":"Rob Dickerson"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1221488123,"creation_date":1221488123,"answer_id":63274,"question_id":63150,"body_markdown":"You could write a little join-style utility method that works on java.util.Lists\r\n\r\n    public static String join(List&lt;String&gt; list, String delim) {\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        String loopDelim = &quot;&quot;;\r\n\r\n        for(String s : list) {\r\n\r\n            sb.append(loopDelim);\r\n            sb.append(s);            \r\n\r\n            loopDelim = delim;\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nThen use it like so:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n        if( condition )        list.add(&quot;elementName&quot;);\r\n        if( anotherCondition ) list.add(&quot;anotherElementName&quot;);\r\n\r\n        join(list, &quot;,&quot;);","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You could write a little join-style utility method that works on java.util.Lists</p>\n\n<pre><code>public static String join(List&lt;String&gt; list, String delim) {\n\n    StringBuilder sb = new StringBuilder();\n\n    String loopDelim = \"\";\n\n    for(String s : list) {\n\n        sb.append(loopDelim);\n        sb.append(s);            \n\n        loopDelim = delim;\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>Then use it like so:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n    if( condition )        list.add(\"elementName\");\n    if( anotherCondition ) list.add(\"anotherElementName\");\n\n    join(list, \",\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4914,"reputation":706,"user_id":7621,"accept_rate":75,"display_name":"killdash10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488158,"creation_date":1221488158,"answer_id":63282,"question_id":63150,"body_markdown":"So basically something like this:\r\n\r\n\r\n    public static String appendWithDelimiter(String original, String addition, String delimiter) {\r\n\r\n    if (original.equals(&quot;&quot;)) {\r\n        return addition;\r\n    } else {\r\n        StringBuilder sb = new StringBuilder(original.length() + addition.length() + delimiter.length());\r\n            sb.append(original);\r\n            sb.append(delimiter);\r\n            sb.append(addition);\r\n            return sb.toString();\r\n        }\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>So basically something like this:</p>\n\n<pre><code>public static String appendWithDelimiter(String original, String addition, String delimiter) {\n\nif (original.equals(\"\")) {\n    return addition;\n} else {\n    StringBuilder sb = new StringBuilder(original.length() + addition.length() + delimiter.length());\n        sb.append(original);\n        sb.append(delimiter);\n        sb.append(addition);\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1221488256,"creation_date":1221488256,"answer_id":63305,"question_id":63150,"body_markdown":"&lt;a href=&quot;http://commons.apache.org/&quot;&gt;Apache commons&lt;/a&gt; StringUtils class has a join method.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p><a href=\"http://commons.apache.org/\" rel=\"noreferrer\">Apache commons</a> StringUtils class has a join method.</p>\n"},{"tags":[],"owner":{"account_id":3708,"reputation":16857,"user_id":5382,"display_name":"Mikezx6r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488257,"creation_date":1221488257,"answer_id":63306,"question_id":63150,"body_markdown":"Don&#39;t know if this really is any better, but at least it&#39;s using StringBuilder, which may be slightly more efficient.\r\n\r\nDown below is a more generic approach if you can build up the list of parameters BEFORE doing any parameter delimiting.\r\n\r\n\t// Answers real question\r\n\tpublic String appendWithDelimiters(String delimiter, String original, String addition) {\r\n\t\tStringBuilder sb = new StringBuilder(original);\r\n\t\tif(sb.length()!=0) {\r\n\t\t\tsb.append(delimiter).append(addition);\r\n\t\t} else {\r\n\t\t\tsb.append(addition);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t\r\n\t// A more generic case.\r\n\t// ... means a list of indeterminate length of Strings.\r\n\tpublic String appendWithDelimitersGeneric(String delimiter, String... strings) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor (String string : strings) {\r\n\t\t\tif(sb.length()!=0) {\r\n\t\t\t\tsb.append(delimiter).append(string);\r\n\t\t\t} else {\r\n\t\t\t\tsb.append(string);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\tpublic void testAppendWithDelimiters() {\r\n\t\tString string = appendWithDelimitersGeneric(&quot;,&quot;, &quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;);\r\n\t}\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Don't know if this really is any better, but at least it's using StringBuilder, which may be slightly more efficient.</p>\n\n<p>Down below is a more generic approach if you can build up the list of parameters BEFORE doing any parameter delimiting.</p>\n\n<pre><code>// Answers real question\npublic String appendWithDelimiters(String delimiter, String original, String addition) {\n    StringBuilder sb = new StringBuilder(original);\n    if(sb.length()!=0) {\n        sb.append(delimiter).append(addition);\n    } else {\n        sb.append(addition);\n    }\n    return sb.toString();\n}\n\n\n// A more generic case.\n// ... means a list of indeterminate length of Strings.\npublic String appendWithDelimitersGeneric(String delimiter, String... strings) {\n    StringBuilder sb = new StringBuilder();\n    for (String string : strings) {\n        if(sb.length()!=0) {\n            sb.append(delimiter).append(string);\n        } else {\n            sb.append(string);\n        }\n    }\n\n    return sb.toString();\n}\n\npublic void testAppendWithDelimiters() {\n    String string = appendWithDelimitersGeneric(\",\", \"string1\", \"string2\", \"string3\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4865,"reputation":5979,"user_id":7524,"accept_rate":100,"display_name":"Yaba"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221488349,"creation_date":1221488349,"answer_id":63324,"question_id":63150,"body_markdown":"Your approach is not too bad, but you should use a StringBuffer instead of using the + sign. The + has the big disadvantage that a new String instance is being created for each single operation. The longer your string gets, the bigger the overhead. So using a StringBuffer should be the fastest way:\r\n\r\n    public StringBuffer appendWithDelimiter( StringBuffer original, String addition, String delimiter ) {\r\n            if ( original == null ) {\r\n                    StringBuffer buffer = new StringBuffer();\r\n                    buffer.append(addition);\r\n                    return buffer;\r\n            } else {\r\n                    buffer.append(delimiter);\r\n                    buffer.append(addition);\r\n                    return original;\r\n            }\r\n    }\r\n\r\nAfter you have finished creating your string simply call toString() on the returned StringBuffer.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Your approach is not too bad, but you should use a StringBuffer instead of using the + sign. The + has the big disadvantage that a new String instance is being created for each single operation. The longer your string gets, the bigger the overhead. So using a StringBuffer should be the fastest way:</p>\n\n<pre><code>public StringBuffer appendWithDelimiter( StringBuffer original, String addition, String delimiter ) {\n        if ( original == null ) {\n                StringBuffer buffer = new StringBuffer();\n                buffer.append(addition);\n                return buffer;\n        } else {\n                buffer.append(delimiter);\n                buffer.append(addition);\n                return original;\n        }\n}\n</code></pre>\n\n<p>After you have finished creating your string simply call toString() on the returned StringBuffer.</p>\n"},{"tags":[],"owner":{"account_id":4847,"reputation":3806,"user_id":7492,"accept_rate":88,"display_name":"Eric Normand"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1221489443,"creation_date":1221488498,"answer_id":63351,"question_id":63150,"body_markdown":"I would use Google Collections.  There is a nice Join facility.  \r\nhttp://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html\r\n\r\nBut if I wanted to write it on my own,\r\n\r\n    package util;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterable;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    \r\n    public class Utils {\r\n        // accept a collection of objects, since all objects have toString()\r\n        public static String join(String delimiter, Iterable&lt;? extends Object&gt; objs) {\r\n            if (objs.isEmpty()) {\r\n                return &quot;&quot;;\r\n            }\r\n            Iterator&lt;? extends Object&gt; iter = objs.iterator();\r\n            StringBuilder buffer = new StringBuilder();\r\n            buffer.append(iter.next());\r\n            while (iter.hasNext()) {\r\n                buffer.append(delimiter).append(iter.next());\r\n            }\r\n            return buffer.toString();\r\n        }\r\n    \r\n        // for convenience\r\n        public static String join(String delimiter, Object... objs) {\r\n            ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n            Collections.addAll(list, objs);\r\n            return join(delimiter, list);\r\n        }\r\n    }\r\n\r\nI think it works better with an object collection, since now you don&#39;t have to convert your objects to strings before you join them.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>I would use Google Collections.  There is a nice Join facility.<br>\n<a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html\" rel=\"noreferrer\">http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/base/Join.html</a></p>\n\n<p>But if I wanted to write it on my own,</p>\n\n<pre><code>package util;\n\nimport java.util.ArrayList;\nimport java.util.Iterable;\nimport java.util.Collections;\nimport java.util.Iterator;\n\npublic class Utils {\n    // accept a collection of objects, since all objects have toString()\n    public static String join(String delimiter, Iterable&lt;? extends Object&gt; objs) {\n        if (objs.isEmpty()) {\n            return \"\";\n        }\n        Iterator&lt;? extends Object&gt; iter = objs.iterator();\n        StringBuilder buffer = new StringBuilder();\n        buffer.append(iter.next());\n        while (iter.hasNext()) {\n            buffer.append(delimiter).append(iter.next());\n        }\n        return buffer.toString();\n    }\n\n    // for convenience\n    public static String join(String delimiter, Object... objs) {\n        ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n        Collections.addAll(list, objs);\n        return join(delimiter, list);\n    }\n}\n</code></pre>\n\n<p>I think it works better with an object collection, since now you don't have to convert your objects to strings before you join them.</p>\n"},{"tags":[],"owner":{"account_id":1907,"reputation":23510,"user_id":2628,"accept_rate":86,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221488950,"creation_date":1221488950,"answer_id":63407,"question_id":63150,"body_markdown":"Instead of using string concatenation, you should use StringBuilder if your code is not threaded, and StringBuffer if it is.","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Instead of using string concatenation, you should use StringBuilder if your code is not threaded, and StringBuffer if it is.</p>\n"},{"tags":[],"owner":{"display_name":"cjw2600"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221489045,"creation_date":1221489045,"answer_id":63418,"question_id":63150,"body_markdown":"You&#39;re making this a little more complicated than it has to be. Let&#39;s start with the end of your example:\r\n\r\n\r\n    String parameterString = &quot;&quot;;\r\n    if ( condition ) parameterString = appendWithDelimiter( parameterString, &quot;elementName&quot;, &quot;,&quot; );\r\n    if ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n\r\n\r\nWith the small change of using a StringBuilder instead of a String, this becomes:\r\n\r\n    StringBuilder parameterString = new StringBuilder();\r\n    if (condition) parameterString.append(&quot;elementName&quot;).append(&quot;,&quot;);\r\n    if (anotherCondition) parameterString.append(&quot;anotherElementName&quot;).append(&quot;,&quot;);\r\n    ...\r\n\r\nWhen you&#39;re done (I assume you have to check a few other conditions as well), just make sure you remove the tailing comma with a command like this:\r\n\r\n    if (parameterString.length() &gt; 0) \r\n        parameterString.deleteCharAt(parameterString.length() - 1);\r\n\r\nAnd finally, get the string you want with\r\n\r\n    parameterString.toString();\r\n\r\nYou could also replace the &quot;,&quot; in the second call to append with a generic delimiter string that can be set to anything. If you have a list of things you know you need to append (non-conditionally), you could put this code inside a method that takes a list of strings. ","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>You're making this a little more complicated than it has to be. Let's start with the end of your example:</p>\n\n<pre><code>String parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n</code></pre>\n\n<p>With the small change of using a StringBuilder instead of a String, this becomes:</p>\n\n<pre><code>StringBuilder parameterString = new StringBuilder();\nif (condition) parameterString.append(\"elementName\").append(\",\");\nif (anotherCondition) parameterString.append(\"anotherElementName\").append(\",\");\n...\n</code></pre>\n\n<p>When you're done (I assume you have to check a few other conditions as well), just make sure you remove the tailing comma with a command like this:</p>\n\n<pre><code>if (parameterString.length() &gt; 0) \n    parameterString.deleteCharAt(parameterString.length() - 1);\n</code></pre>\n\n<p>And finally, get the string you want with</p>\n\n<pre><code>parameterString.toString();\n</code></pre>\n\n<p>You could also replace the \",\" in the second call to append with a generic delimiter string that can be set to anything. If you have a list of things you know you need to append (non-conditionally), you could put this code inside a method that takes a list of strings. </p>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221491804,"creation_date":1221491804,"answer_id":63840,"question_id":63150,"body_markdown":"    //Note: if you have access to Java5+, \r\n    //use StringBuilder in preference to StringBuffer.  \r\n    //All that has to be replaced is the class name.  \r\n    //StringBuffer will work in Java 1.4, though.\r\n\r\n    appendWithDelimiter( StringBuffer buffer, String addition, \r\n        String delimiter ) {\r\n        if ( buffer.length() == 0) {\r\n            buffer.append(addition);\r\n        } else {\r\n            buffer.append(delimiter);\r\n            buffer.append(addition);\r\n        }\r\n    }\r\n            \r\n            \r\n    StringBuffer parameterBuffer = new StringBuffer();\r\n    if ( condition ) { \r\n        appendWithDelimiter(parameterBuffer, &quot;elementName&quot;, &quot;,&quot; );\r\n    }\r\n    if ( anotherCondition ) {\r\n        appendWithDelimiter(parameterBuffer, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n    }\r\n            \r\n    //Finally, to return a string representation, call toString() when returning.\r\n    return parameterBuffer.toString(); \r\n\r\n\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<pre><code>//Note: if you have access to Java5+, \n//use StringBuilder in preference to StringBuffer.  \n//All that has to be replaced is the class name.  \n//StringBuffer will work in Java 1.4, though.\n\nappendWithDelimiter( StringBuffer buffer, String addition, \n    String delimiter ) {\n    if ( buffer.length() == 0) {\n        buffer.append(addition);\n    } else {\n        buffer.append(delimiter);\n        buffer.append(addition);\n    }\n}\n\n\nStringBuffer parameterBuffer = new StringBuffer();\nif ( condition ) { \n    appendWithDelimiter(parameterBuffer, \"elementName\", \",\" );\n}\nif ( anotherCondition ) {\n    appendWithDelimiter(parameterBuffer, \"anotherElementName\", \",\" );\n}\n\n//Finally, to return a string representation, call toString() when returning.\nreturn parameterBuffer.toString(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258285059,"creation_date":1221593783,"answer_id":76070,"question_id":63150,"body_markdown":"With Java 5 variable args, so you don&#39;t have to stuff all your strings into a collection or array explicitly:\r\n\r\n\r\n    import junit.framework.Assert;\r\n    import org.junit.Test;\r\n\r\n    public class StringUtil\r\n    {\r\n        public static String join(String delim, String... strings)\r\n        {\r\n            StringBuilder builder = new StringBuilder();\r\n            \r\n            if (strings != null)\r\n            {\r\n                for (String str : strings)\r\n                {\r\n                    if (builder.length() &gt; 0)\r\n                    {\r\n                        builder.append(delim).append(&quot; &quot;);\r\n                    }\r\n                    builder.append(str);\r\n                }\r\n            }           \r\n            return builder.toString();\r\n        }\r\n        @Test\r\n        public void joinTest()\r\n        {\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, null));\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, &quot;&quot;));\r\n            Assert.assertEquals(&quot;&quot;, StringUtil.join(&quot;,&quot;, new String[0]));\r\n            Assert.assertEquals(&quot;test&quot;, StringUtil.join(&quot;,&quot;, &quot;test&quot;));\r\n            Assert.assertEquals(&quot;foo, bar&quot;, StringUtil.join(&quot;,&quot;, &quot;foo&quot;, &quot;bar&quot;));\r\n            Assert.assertEquals(&quot;foo, bar, x&quot;, StringUtil.join(&quot;,&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;x&quot;));\r\n        }\r\n    }\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>With Java 5 variable args, so you don't have to stuff all your strings into a collection or array explicitly:</p>\n\n<pre><code>import junit.framework.Assert;\nimport org.junit.Test;\n\npublic class StringUtil\n{\n    public static String join(String delim, String... strings)\n    {\n        StringBuilder builder = new StringBuilder();\n\n        if (strings != null)\n        {\n            for (String str : strings)\n            {\n                if (builder.length() &gt; 0)\n                {\n                    builder.append(delim).append(\" \");\n                }\n                builder.append(str);\n            }\n        }           \n        return builder.toString();\n    }\n    @Test\n    public void joinTest()\n    {\n        Assert.assertEquals(\"\", StringUtil.join(\",\", null));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", \"\"));\n        Assert.assertEquals(\"\", StringUtil.join(\",\", new String[0]));\n        Assert.assertEquals(\"test\", StringUtil.join(\",\", \"test\"));\n        Assert.assertEquals(\"foo, bar\", StringUtil.join(\",\", \"foo\", \"bar\"));\n        Assert.assertEquals(\"foo, bar, x\", StringUtil.join(\",\", \"foo\", \"bar\", \"x\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7614,"reputation":4883,"user_id":13276,"display_name":"user13276"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221594647,"creation_date":1221594647,"answer_id":76216,"question_id":63150,"body_markdown":"So a couple of things you might do to get the feel that it seems like you&#39;re looking for:\r\n\r\n1) Extend List class - and add the join method to it.  The join method would simply do the work of concatenating and adding the delimiter (which could be a param to the join method)\r\n\r\n2) It looks like Java 7 is going to be adding extension methods to java - which allows you just to attach a specific method on to a class:  so you could write that join method and add it as an extension method to List or even to Collection.\r\n\r\nSolution 1 is probably the only realistic one, now, though since Java 7 isn&#39;t out yet :) But it should work just fine.\r\n\r\n  To use both of these, you&#39;d just add all your items to the List or Collection as usual, and then call the new custom method to &#39;join&#39; them.\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>So a couple of things you might do to get the feel that it seems like you're looking for:</p>\n\n<p>1) Extend List class - and add the join method to it.  The join method would simply do the work of concatenating and adding the delimiter (which could be a param to the join method)</p>\n\n<p>2) It looks like Java 7 is going to be adding extension methods to java - which allows you just to attach a specific method on to a class:  so you could write that join method and add it as an extension method to List or even to Collection.</p>\n\n<p>Solution 1 is probably the only realistic one, now, though since Java 7 isn't out yet :) But it should work just fine.</p>\n\n<p>To use both of these, you'd just add all your items to the List or Collection as usual, and then call the new custom method to 'join' them.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482957005,"creation_date":1226959652,"answer_id":297128,"question_id":63150,"body_markdown":"Use StringBuilder and class `Separator`\r\n\r\n    StringBuilder buf = new StringBuilder();\r\n    Separator sep = new Separator(&quot;, &quot;);\r\n    for (String each : list) {\r\n        buf.append(sep).append(each);\r\n    }\r\n\r\nSeparator wraps a delimiter. The delimiter is returned by Separator&#39;s `toString` method, unless on the first call which returns the empty string!\r\n\r\nSource code for class `Separator`\r\n\r\n    public class Separator {\r\n    \r\n        private boolean skipFirst;\r\n        private final String value;\r\n    \r\n        public Separator() {\r\n            this(&quot;, &quot;);\r\n        }\r\n    \r\n        public Separator(String value) {\r\n            this.value = value;\r\n            this.skipFirst = true;\r\n        }\r\n    \r\n        public void reset() {\r\n            skipFirst = true;\r\n        }\r\n    \r\n        public String toString() {\r\n            String sep = skipFirst ? &quot;&quot; : value;\r\n            skipFirst = false;\r\n            return sep;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Use StringBuilder and class <code>Separator</code></p>\n\n<pre><code>StringBuilder buf = new StringBuilder();\nSeparator sep = new Separator(\", \");\nfor (String each : list) {\n    buf.append(sep).append(each);\n}\n</code></pre>\n\n<p>Separator wraps a delimiter. The delimiter is returned by Separator's <code>toString</code> method, unless on the first call which returns the empty string!</p>\n\n<p>Source code for class <code>Separator</code></p>\n\n<pre><code>public class Separator {\n\n    private boolean skipFirst;\n    private final String value;\n\n    public Separator() {\n        this(\", \");\n    }\n\n    public Separator(String value) {\n        this.value = value;\n        this.skipFirst = true;\n    }\n\n    public void reset() {\n        skipFirst = true;\n    }\n\n    public String toString() {\n        String sep = skipFirst ? \"\" : value;\n        skipFirst = false;\n        return sep;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265052299,"creation_date":1265052299,"answer_id":2179425,"question_id":63150,"body_markdown":"using [Dollar][1] is simple as typing:\r\n\r\n    String joined = $(aCollection).join(&quot;,&quot;);\r\n    \r\nNB: it works also for Array and other data types\r\n\r\n&lt;h2&gt;Implementation&lt;/h2&gt;\r\n\r\nInternally it uses a very neat trick:\r\n\r\n    @Override\r\n    public String join(String separator) {\r\n        Separator sep = new Separator(separator);\r\n        StringBuilder sb = new StringBuilder();\r\n        \r\n        for (T item : iterable) {\r\n            sb.append(sep).append(item);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nthe class `Separator` return the empty String only the first time that it is invoked, then it returns the separator:\r\n\r\n    class Separator {\r\n\r\n        private final String separator;\r\n        private boolean wasCalled;\r\n\r\n        public Separator(String separator) {\r\n            this.separator = separator;\r\n            this.wasCalled = false;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            if (!wasCalled) {\r\n                wasCalled = true;\r\n                return &quot;&quot;;\r\n            } else {\r\n                return separator;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>using <a href=\"http://bitbucket.org/dfa/dollar\" rel=\"nofollow noreferrer\">Dollar</a> is simple as typing:</p>\n\n<pre><code>String joined = $(aCollection).join(\",\");\n</code></pre>\n\n<p>NB: it works also for Array and other data types</p>\n\n<h2>Implementation</h2>\n\n<p>Internally it uses a very neat trick:</p>\n\n<pre><code>@Override\npublic String join(String separator) {\n    Separator sep = new Separator(separator);\n    StringBuilder sb = new StringBuilder();\n\n    for (T item : iterable) {\n        sb.append(sep).append(item);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>the class <code>Separator</code> return the empty String only the first time that it is invoked, then it returns the separator:</p>\n\n<pre><code>class Separator {\n\n    private final String separator;\n    private boolean wasCalled;\n\n    public Separator(String separator) {\n        this.separator = separator;\n        this.wasCalled = false;\n    }\n\n    @Override\n    public String toString() {\n        if (!wasCalled) {\n            wasCalled = true;\n            return \"\";\n        } else {\n            return separator;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":634982,"reputation":1,"user_id":402658,"display_name":"java al"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280171954,"creation_date":1280171954,"answer_id":3338199,"question_id":63150,"body_markdown":"Slight improvement [speed] of version from izb:\r\n\r\n    public static String join(String[] strings, char del)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        int len = strings.length;\r\n    \r\n        if(len &gt; 1) \r\n        {\r\n           len -= 1;\r\n        }else\r\n        {\r\n           return strings[0];\r\n        }\r\n    \r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n           sb.append(strings[i]).append(del);\r\n        }\r\n    \r\n        sb.append(strings[i]);\r\n       \r\n        return sb.toString();\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Slight improvement [speed] of version from izb:</p>\n\n<pre><code>public static String join(String[] strings, char del)\n{\n    StringBuilder sb = new StringBuilder();\n    int len = strings.length;\n\n    if(len &gt; 1) \n    {\n       len -= 1;\n    }else\n    {\n       return strings[0];\n    }\n\n    for (int i = 0; i &lt; len; i++)\n    {\n       sb.append(strings[i]).append(del);\n    }\n\n    sb.append(strings[i]);\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147081,"reputation":2605,"user_id":357951,"accept_rate":25,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1305497773,"creation_date":1305497773,"answer_id":6011632,"question_id":63150,"body_markdown":"In the case of Android, the StringUtils class from commons isn&#39;t available, so for this I used\r\n\r\n    android.text.TextUtils.join(CharSequence delimiter, Iterable tokens)\r\n\r\nhttp://developer.android.com/reference/android/text/TextUtils.html","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>In the case of Android, the StringUtils class from commons isn't available, so for this I used</p>\n\n<pre><code>android.text.TextUtils.join(CharSequence delimiter, Iterable tokens)\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/text/TextUtils.html\">http://developer.android.com/reference/android/text/TextUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1347951347,"creation_date":1347951347,"answer_id":12471817,"question_id":63150,"body_markdown":"The [Google&#39;s Guava library](http://code.google.com/p/guava-libraries/) has ***[com.google.common.base.Joiner](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Joiner.html)*** class which helps to solve such tasks.\r\n\r\nSamples:\r\n\r\n    &quot;My pets are: &quot; + Joiner.on(&quot;, &quot;).join(Arrays.asList(&quot;rabbit&quot;, &quot;parrot&quot;, &quot;dog&quot;)); \r\n    // returns &quot;My pets are: rabbit, parrot, dog&quot;\r\n\r\n    Joiner.on(&quot; AND &quot;).join(Arrays.asList(&quot;field1=1&quot; , &quot;field2=2&quot;, &quot;field3=3&quot;));\r\n    // returns &quot;field1=1 AND field2=2 AND field3=3&quot;\r\n\r\n    Joiner.on(&quot;,&quot;).skipNulls().join(Arrays.asList(&quot;London&quot;, &quot;Moscow&quot;, null, &quot;New York&quot;, null, &quot;Paris&quot;));\r\n    // returns &quot;London,Moscow,New York,Paris&quot;\r\n\r\n    Joiner.on(&quot;, &quot;).useForNull(&quot;Team held a draw&quot;).join(Arrays.asList(&quot;FC Barcelona&quot;, &quot;FC Bayern&quot;, null, null, &quot;Chelsea FC&quot;, &quot;AC Milan&quot;));\r\n    // returns &quot;FC Barcelona, FC Bayern, Team held a draw, Team held a draw, Chelsea FC, AC Milan&quot;\r\n\r\n---\r\n\r\nHere is an [article about Guava&#39;s string utilities](http://code.google.com/p/guava-libraries/wiki/StringsExplained).","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>The <a href=\"http://code.google.com/p/guava-libraries/\">Google's Guava library</a> has <strong><em><a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Joiner.html\">com.google.common.base.Joiner</a></em></strong> class which helps to solve such tasks.</p>\n\n<p>Samples:</p>\n\n<pre><code>\"My pets are: \" + Joiner.on(\", \").join(Arrays.asList(\"rabbit\", \"parrot\", \"dog\")); \n// returns \"My pets are: rabbit, parrot, dog\"\n\nJoiner.on(\" AND \").join(Arrays.asList(\"field1=1\" , \"field2=2\", \"field3=3\"));\n// returns \"field1=1 AND field2=2 AND field3=3\"\n\nJoiner.on(\",\").skipNulls().join(Arrays.asList(\"London\", \"Moscow\", null, \"New York\", null, \"Paris\"));\n// returns \"London,Moscow,New York,Paris\"\n\nJoiner.on(\", \").useForNull(\"Team held a draw\").join(Arrays.asList(\"FC Barcelona\", \"FC Bayern\", null, null, \"Chelsea FC\", \"AC Milan\"));\n// returns \"FC Barcelona, FC Bayern, Team held a draw, Team held a draw, Chelsea FC, AC Milan\"\n</code></pre>\n\n<hr>\n\n<p>Here is an <a href=\"http://code.google.com/p/guava-libraries/wiki/StringsExplained\">article about Guava's string utilities</a>.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498933830,"creation_date":1384568113,"answer_id":20013838,"question_id":63150,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use `makeString()` or `appendString()`.\r\n\r\n`makeString()` returns a `String` representation, similar to `toString()`.\r\n\r\nIt has three forms\r\n\r\n - `makeString(start, separator, end)`\r\n - `makeString(separator)` defaults start and end to empty strings\r\n - `makeString()` defaults the separator to `&quot;, &quot;` (comma and space)\r\n\r\nCode example:\r\n\r\n    MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\r\n    assertEquals(&quot;[1/2/3]&quot;, list.makeString(&quot;[&quot;, &quot;/&quot;, &quot;]&quot;));\r\n    assertEquals(&quot;1/2/3&quot;, list.makeString(&quot;/&quot;));\r\n    assertEquals(&quot;1, 2, 3&quot;, list.makeString());\r\n    assertEquals(list.toString(), list.makeString(&quot;[&quot;, &quot;, &quot;, &quot;]&quot;));\r\n\r\n`appendString()` is similar to `makeString()`, but it appends to an `Appendable` (like `StringBuilder`) and is `void`. It has the same three forms, with an additional first argument, the Appendable.\r\n\r\n    MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\r\n    Appendable appendable = new StringBuilder();\r\n    list.appendString(appendable, &quot;[&quot;, &quot;/&quot;, &quot;]&quot;);\r\n    assertEquals(&quot;[1/2/3]&quot;, appendable.toString());\r\n\r\nIf you can&#39;t convert your collection to an Eclipse Collections type, just adapt it with the relevant adapter.\r\n\r\n    List&lt;Object&gt; list = ...;\r\n    ListAdapter.adapt(list).makeString(&quot;,&quot;);\r\n\r\n**Note:** I am a committer for Eclipse collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you're using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can use <code>makeString()</code> or <code>appendString()</code>.</p>\n\n<p><code>makeString()</code> returns a <code>String</code> representation, similar to <code>toString()</code>.</p>\n\n<p>It has three forms</p>\n\n<ul>\n<li><code>makeString(start, separator, end)</code></li>\n<li><code>makeString(separator)</code> defaults start and end to empty strings</li>\n<li><code>makeString()</code> defaults the separator to <code>\", \"</code> (comma and space)</li>\n</ul>\n\n<p>Code example:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\nassertEquals(\"[1/2/3]\", list.makeString(\"[\", \"/\", \"]\"));\nassertEquals(\"1/2/3\", list.makeString(\"/\"));\nassertEquals(\"1, 2, 3\", list.makeString());\nassertEquals(list.toString(), list.makeString(\"[\", \", \", \"]\"));\n</code></pre>\n\n<p><code>appendString()</code> is similar to <code>makeString()</code>, but it appends to an <code>Appendable</code> (like <code>StringBuilder</code>) and is <code>void</code>. It has the same three forms, with an additional first argument, the Appendable.</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = FastList.newListWith(1, 2, 3);\nAppendable appendable = new StringBuilder();\nlist.appendString(appendable, \"[\", \"/\", \"]\");\nassertEquals(\"[1/2/3]\", appendable.toString());\n</code></pre>\n\n<p>If you can't convert your collection to an Eclipse Collections type, just adapt it with the relevant adapter.</p>\n\n<pre><code>List&lt;Object&gt; list = ...;\nListAdapter.adapt(list).makeString(\",\");\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse collections.</p>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48134,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1402500122,"creation_date":1395491459,"answer_id":22577623,"question_id":63150,"body_markdown":"In Java 8 you can use [`String.join()`][1]:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\r\n    String joined = String.join(&quot; and &quot;, list); // &quot;foo and bar and baz&quot;\r\n\r\nAlso have a look at [this answer][2] for a Stream API example.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\r\n  [2]: https://stackoverflow.com/a/22577565/1115554","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>In Java 8 you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String.join()</code></a>:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"foo\", \"bar\", \"baz\");\nString joined = String.join(\" and \", list); // \"foo and bar and baz\"\n</code></pre>\n\n<p>Also have a look at <a href=\"https://stackoverflow.com/a/22577565/1115554\">this answer</a> for a Stream API example.</p>\n"},{"tags":[],"owner":{"account_id":1632148,"reputation":11369,"user_id":1506477,"accept_rate":100,"display_name":"Thamme Gowda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422862335,"creation_date":1395832896,"answer_id":22659416,"question_id":63150,"body_markdown":"And a minimal one (if you don&#39;t want to include Apache Commons or Gauva into project dependencies just for the sake of joining strings)\r\n\r\n    /**\r\n     *\r\n     * @param delim : String that should be kept in between the parts\r\n     * @param parts : parts that needs to be joined\r\n     * @return  a String that&#39;s formed by joining the parts\r\n     */\r\n    private static final String join(String delim, String... parts) {\r\n        StringBuilder builder = new StringBuilder();\r\n        for (int i = 0; i &lt; parts.length - 1; i++) {\r\n            builder.append(parts[i]).append(delim);\r\n        }\r\n        if(parts.length &gt; 0){\r\n            builder.append(parts[parts.length - 1]);\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>And a minimal one (if you don't want to include Apache Commons or Gauva into project dependencies just for the sake of joining strings)</p>\n\n<pre><code>/**\n *\n * @param delim : String that should be kept in between the parts\n * @param parts : parts that needs to be joined\n * @return  a String that's formed by joining the parts\n */\nprivate static final String join(String delim, String... parts) {\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0; i &lt; parts.length - 1; i++) {\n        builder.append(parts[i]).append(delim);\n    }\n    if(parts.length &gt; 0){\n        builder.append(parts[parts.length - 1]);\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1074366,"reputation":732,"user_id":1072826,"accept_rate":45,"display_name":"gladiator"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1568271434,"creation_date":1419240211,"answer_id":27599779,"question_id":63150,"body_markdown":"in Java 8 you can do this like:\r\n\r\n```java\r\nlist.stream().map(Object::toString)\r\n        .collect(Collectors.joining(delimiter));\r\n```\r\n\r\nif list has nulls you can use:\r\n\r\n```java\r\nlist.stream().map(String::valueOf)\r\n        .collect(Collectors.joining(delimiter))\r\n```\r\n\r\nit also supports prefix and suffix:\r\n\r\n```java\r\nlist.stream().map(String::valueOf)\r\n        .collect(Collectors.joining(delimiter, prefix, suffix));\r\n```","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>in Java 8 you can do this like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(Object::toString)\n        .collect(Collectors.joining(delimiter));\n</code></pre>\n\n<p>if list has nulls you can use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(String::valueOf)\n        .collect(Collectors.joining(delimiter))\n</code></pre>\n\n<p>it also supports prefix and suffix:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>list.stream().map(String::valueOf)\n        .collect(Collectors.joining(delimiter, prefix, suffix));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"&#252;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421833479,"creation_date":1421833479,"answer_id":28063943,"question_id":63150,"body_markdown":"For those who are in a Spring context their [StringUtils](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html) class is useful as well:\r\n\r\nThere are many useful shortcuts like:\r\n\r\n  - collectionToCommaDelimitedString(Collection&lt;?&gt; coll)\r\n  - collectionToDelimitedString(Collection&lt;?&gt; coll, String delim)\r\n  - arrayToDelimitedString(Object[] arr, String delim)\r\n\r\nand many others. \r\n\r\nThis can be helpful if you are not already using Java 8 and you are already in a Spring context.\r\n\r\nI prefer it against the Apache Commons (although very good as well) for the Collection support which is easier like this:\r\n\r\n\t// Encoding Set&lt;String&gt; to String delimited \r\n\tString asString = org.springframework.util.StringUtils.collectionToDelimitedString(codes, &quot;;&quot;);\r\n\r\n\t// Decoding String delimited to Set\r\n\tSet&lt;String&gt; collection = org.springframework.util.StringUtils.commaDelimitedListToSet(asString);\r\n\r\n\t\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>For those who are in a Spring context their <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"nofollow\">StringUtils</a> class is useful as well:</p>\n\n<p>There are many useful shortcuts like:</p>\n\n<ul>\n<li>collectionToCommaDelimitedString(Collection coll)</li>\n<li>collectionToDelimitedString(Collection coll, String delim)</li>\n<li>arrayToDelimitedString(Object[] arr, String delim)</li>\n</ul>\n\n<p>and many others. </p>\n\n<p>This can be helpful if you are not already using Java 8 and you are already in a Spring context.</p>\n\n<p>I prefer it against the Apache Commons (although very good as well) for the Collection support which is easier like this:</p>\n\n<pre><code>// Encoding Set&lt;String&gt; to String delimited \nString asString = org.springframework.util.StringUtils.collectionToDelimitedString(codes, \";\");\n\n// Decoding String delimited to Set\nSet&lt;String&gt; collection = org.springframework.util.StringUtils.commaDelimitedListToSet(asString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718522,"reputation":1458,"user_id":3094065,"display_name":"maXp"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1426728650,"creation_date":1426728650,"answer_id":29135746,"question_id":63150,"body_markdown":"Fix answer Rob Dickerson.\r\n\r\n It&#39;s easier to use:\r\n\r\n    public static String join(String delimiter, String... values)\r\n    {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n\r\n        for (String value : values)\r\n        {\r\n            stringBuilder.append(value);\r\n            stringBuilder.append(delimiter);\r\n        }\r\n\r\n        String result = stringBuilder.toString();\r\n\r\n        return result.isEmpty() ? result : result.substring(0, result.length() - 1);\r\n    }","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Fix answer Rob Dickerson.</p>\n\n<p>It's easier to use:</p>\n\n<pre><code>public static String join(String delimiter, String... values)\n{\n    StringBuilder stringBuilder = new StringBuilder();\n\n    for (String value : values)\n    {\n        stringBuilder.append(value);\n        stringBuilder.append(delimiter);\n    }\n\n    String result = stringBuilder.toString();\n\n    return result.isEmpty() ? result : result.substring(0, result.length() - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446291519,"creation_date":1446291519,"answer_id":33451093,"question_id":63150,"body_markdown":"Java 8\r\n-\r\n    stringCollection.stream().collect(Collectors.joining(&quot;, &quot;));","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<h2>Java 8</h2>\n\n<pre><code>stringCollection.stream().collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8318752,"reputation":1,"user_id":6251178,"display_name":"Ankit Lalan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481103018,"creation_date":1461585301,"answer_id":36839833,"question_id":63150,"body_markdown":"If you are using Spring MVC then you can try following steps.\r\n\r\n    import org.springframework.util.StringUtils;\r\n    \r\n    List&lt;String&gt; groupIds = new List&lt;String&gt;;   \r\n    groupIds.add(&quot;a&quot;);    \r\n    groupIds.add(&quot;b&quot;);    \r\n    groupIds.add(&quot;c&quot;);\r\n    \r\n    String csv = StringUtils.arrayToCommaDelimitedString(groupIds.toArray());\r\n\r\nIt will result to `a,b,c`\r\n\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you are using Spring MVC then you can try following steps.</p>\n\n<pre><code>import org.springframework.util.StringUtils;\n\nList&lt;String&gt; groupIds = new List&lt;String&gt;;   \ngroupIds.add(\"a\");    \ngroupIds.add(\"b\");    \ngroupIds.add(\"c\");\n\nString csv = StringUtils.arrayToCommaDelimitedString(groupIds.toArray());\n</code></pre>\n\n<p>It will result to <code>a,b,c</code></p>\n"},{"tags":[],"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471801609,"creation_date":1471801609,"answer_id":39067118,"question_id":63150,"body_markdown":"I personally quite often use  the following simple solution for logging purposes:\r\n\r\n    List lst = Arrays.asList(&quot;ab&quot;, &quot;bc&quot;, &quot;cd&quot;);\r\n    String str = lst.toString().replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>I personally quite often use  the following simple solution for logging purposes:</p>\n\n<pre><code>List lst = Arrays.asList(\"ab\", \"bc\", \"cd\");\nString str = lst.toString().replaceAll(\"[\\\\[\\\\]]\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13256702,"reputation":1,"user_id":9572533,"display_name":"Luis Aguilar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523891402,"creation_date":1523891402,"answer_id":49860671,"question_id":63150,"body_markdown":"Java 8 Native Type\r\n\r\n    List&lt;Integer&gt; example;\r\n    example.add(1);\r\n    example.add(2);\r\n    example.add(3);\r\n    ...\r\n    example.stream().collect(Collectors.joining(&quot;,&quot;));\r\n\r\nJava 8 Custom Object:\r\n\r\n    List&lt;Person&gt; person;\r\n    ...\r\n    person.stream().map(Person::getAge).collect(Collectors.joining(&quot;,&quot;));\r\n","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>Java 8 Native Type</p>\n\n<pre><code>List&lt;Integer&gt; example;\nexample.add(1);\nexample.add(2);\nexample.add(3);\n...\nexample.stream().collect(Collectors.joining(\",\"));\n</code></pre>\n\n<p>Java 8 Custom Object:</p>\n\n<pre><code>List&lt;Person&gt; person;\n...\nperson.stream().map(Person::getAge).collect(Collectors.joining(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14943882,"reputation":91,"user_id":10789713,"display_name":"Dhruv Naik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575009479,"creation_date":1575009479,"answer_id":59099866,"question_id":63150,"body_markdown":"If you want to apply comma in a List of object&#39;s properties. This is the way i found most useful. \r\n\r\nhere **getName()** is a string property of a class i have been trying to add &quot;,&quot; to.\r\n\r\n**String message = listName.stream().map(list -&gt; list.getName()).collect(Collectors.joining(&quot;, &quot;));**","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>If you want to apply comma in a List of object's properties. This is the way i found most useful. </p>\n\n<p>here <strong>getName()</strong> is a string property of a class i have been trying to add \",\" to.</p>\n\n<p><strong>String message = listName.stream().map(list -> list.getName()).collect(Collectors.joining(\", \"));</strong></p>\n"},{"tags":[],"owner":{"account_id":17378356,"reputation":121,"user_id":12591119,"display_name":"VIVek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664110882,"creation_date":1664110882,"answer_id":73844686,"question_id":63150,"body_markdown":"&gt; Don&#39;t use join, delimiter or StringJoiner methods and classes as they\r\n&gt; wont work below Android N and O versions. Else use a simple code logic\r\n&gt; as;\r\n\r\n     List&lt;String&gt; tags= emp.getTags();\r\n            String tagTxt=&quot;&quot;;\r\n            for (String s : tags) {\r\n                if (tagTxt.isEmpty()){\r\n                    tagTxt=s;\r\n                }else\r\n                    tagTxt= tagTxt+&quot;, &quot;+s;\r\n            }  ","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<blockquote>\n<p>Don't use join, delimiter or StringJoiner methods and classes as they\nwont work below Android N and O versions. Else use a simple code logic\nas;</p>\n</blockquote>\n<pre><code> List&lt;String&gt; tags= emp.getTags();\n        String tagTxt=&quot;&quot;;\n        for (String s : tags) {\n            if (tagTxt.isEmpty()){\n                tagTxt=s;\n            }else\n                tagTxt= tagTxt+&quot;, &quot;+s;\n        }  \n</code></pre>\n"}],"owner":{"account_id":4775,"reputation":58177,"user_id":2041950,"accept_rate":90,"display_name":"Sean McMains"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363665,"favorite_count":0,"down_vote_count":0,"up_vote_count":372,"accepted_answer_id":63258,"answer_count":37,"score":372,"last_activity_date":1664110882,"creation_date":1221487363,"question_id":63150,"body_markdown":"While working in a Java app, I recently needed to assemble a comma-delimited list of values to pass to another web service without knowing how many elements there would be in advance. The best I could come up with off the top of my head was something like this:\r\n\r\n\tpublic String appendWithDelimiter( String original, String addition, String delimiter ) {\r\n\t\tif ( original.equals( &quot;&quot; ) ) {\r\n\t\t\treturn addition;\r\n\t\t} else {\r\n\t\t\treturn original + delimiter + addition;\r\n\t\t}\r\n\t}\r\n    \r\n    String parameterString = &quot;&quot;;\r\n    if ( condition ) parameterString = appendWithDelimiter( parameterString, &quot;elementName&quot;, &quot;,&quot; );\r\n    if ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, &quot;anotherElementName&quot;, &quot;,&quot; );\r\n\r\nI realize this isn&#39;t particularly efficient, since there are strings being created all over the place, but I was going for clarity more than optimization.\r\n\r\nIn Ruby, I can do something like this instead, which feels much more elegant:\r\n\r\n    parameterArray = [];\r\n    parameterArray &lt;&lt; &quot;elementName&quot; if condition;\r\n    parameterArray &lt;&lt; &quot;anotherElementName&quot; if anotherCondition;\r\n    parameterString = parameterArray.join(&quot;,&quot;);\r\n\r\nBut since Java lacks a join command, I couldn&#39;t figure out anything equivalent.\r\n\r\nSo, what&#39;s the best way to do this in Java?","title":"What&#39;s the best way to build a string of delimited items in Java?","body":"<p>While working in a Java app, I recently needed to assemble a comma-delimited list of values to pass to another web service without knowing how many elements there would be in advance. The best I could come up with off the top of my head was something like this:</p>\n\n<pre><code>public String appendWithDelimiter( String original, String addition, String delimiter ) {\n    if ( original.equals( \"\" ) ) {\n        return addition;\n    } else {\n        return original + delimiter + addition;\n    }\n}\n\nString parameterString = \"\";\nif ( condition ) parameterString = appendWithDelimiter( parameterString, \"elementName\", \",\" );\nif ( anotherCondition ) parameterString = appendWithDelimiter( parameterString, \"anotherElementName\", \",\" );\n</code></pre>\n\n<p>I realize this isn't particularly efficient, since there are strings being created all over the place, but I was going for clarity more than optimization.</p>\n\n<p>In Ruby, I can do something like this instead, which feels much more elegant:</p>\n\n<pre><code>parameterArray = [];\nparameterArray &lt;&lt; \"elementName\" if condition;\nparameterArray &lt;&lt; \"anotherElementName\" if anotherCondition;\nparameterString = parameterArray.join(\",\");\n</code></pre>\n\n<p>But since Java lacks a join command, I couldn't figure out anything equivalent.</p>\n\n<p>So, what's the best way to do this in Java?</p>\n"},{"tags":["java","eclipse","sdk","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1664047293,"post_id":73835122,"comment_id":130383807,"body_markdown":"What did you configure in the preferences _Java &gt; Installed JREs_?","body":"What did you configure in the preferences <i>Java &gt; Installed JREs</i>?"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664001042,"creation_date":1664000665,"answer_id":73835156,"question_id":73835122,"body_markdown":"The correct path for Java on macOS is the `Contents/Home` folder in the `xxx.jdk` \r\n\r\nSo in the &quot;Installed JREs&quot; you should have something like:\r\n```none\r\n/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\r\n```\r\nor\r\n```none\r\n/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\r\n```\r\nAs mentioned in the comments running the command\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\nwill list the available Java installs and the correct paths.","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<p>The correct path for Java on macOS is the <code>Contents/Home</code> folder in the <code>xxx.jdk</code></p>\n<p>So in the &quot;Installed JREs&quot; you should have something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home\n</code></pre>\n<p>or</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\n</code></pre>\n<p>As mentioned in the comments running the command</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>will list the available Java installs and the correct paths.</p>\n"},{"tags":[],"owner":{"account_id":26420472,"reputation":1,"user_id":20068220,"display_name":"Linganathan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664110410,"creation_date":1664005320,"answer_id":73835533,"question_id":73835122,"body_markdown":"1) Run below commend on your terminal to see where your java is located on your mac\r\n\r\n   /usr/libexec/java_home\r\n\r\n\r\n2) Use that path on your eclipse JRE location\r\n\r\n**In your case you need JDK for eclipse to work** or recognize your project so add JDK by following below \r\n","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<ol>\n<li><p>Run below commend on your terminal to see where your java is located on your mac</p>\n<p>/usr/libexec/java_home</p>\n</li>\n<li><p>Use that path on your eclipse JRE location</p>\n</li>\n</ol>\n<p><strong>In your case you need JDK for eclipse to work</strong> or recognize your project so add JDK by following below</p>\n"},{"tags":[],"owner":{"account_id":22222404,"reputation":21,"user_id":16459828,"display_name":"Aarya Deshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664053495,"creation_date":1664053495,"answer_id":73840571,"question_id":73835122,"body_markdown":"I just found the solution! Don&#39;t import the entire JDK package. Instead, import the Home folder that is located two folders inside it. See below for details.\r\n---\r\n\r\nFirst off, there was nothing wrong with the JDK packages (folders) or where they were located (they were correctly located in /Library/Java/JavaVirtualMachines). See below. [![enter image description here][1]][1]\r\n\r\nThe problem was that in Eclipse, when we tried importing a Java library (e.g., for Java 17) through *Project &gt; Properties &gt; Java Build Path &gt; Modulepath: Add Library... &gt; JRE System Library &gt; Next &gt; Installed JREs... &gt; Add &gt; Standard VM &gt; Next &gt; Directory... (this opens up Finder)*, we, at this point, will choose one of the packages (e.g., jdk-17.0.4.1.jdk). (See below.) DON&#39;T. Instead, double-click into it. Then you&#39;ll see a folder called &quot;Contents.&quot; Double-click into that as well. Now, you&#39;ll see a couple of folders. Select &quot;Home&quot; and hit &quot;Open&quot; for that one. Eclipse will open it and throw no error. If instead you selected the entire package and opened that, then Eclipse will throw a &quot;Target is not a JDK Root. Java executable was not found&quot; error. It seems that Eclipse was not automatically detecting the Home folder that is embedded inside, so we had to manually go further and select that specifically for Eclipse.\r\n\r\n\r\n\r\n[![enter image description here][2]][2]  [![enter image description here][3]][3][![enter image description here][4]][4][![][5]][5]\r\n\r\nNote: I already imported Java 17 before posting this. I went back to import Java 16 using above steps, that&#39;s why I&#39;m calling this one Java 16.0.1\r\n\r\n  [1]: https://i.stack.imgur.com/NsCts.png\r\n  [2]: https://i.stack.imgur.com/61m0a.png\r\n  [3]: https://i.stack.imgur.com/2ju7w.png\r\n  [4]: https://i.stack.imgur.com/n90BR.png\r\n  [5]: https://i.stack.imgur.com/g5pdY.png","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<h2>I just found the solution! Don't import the entire JDK package. Instead, import the Home folder that is located two folders inside it. See below for details.</h2>\n<p>First off, there was nothing wrong with the JDK packages (folders) or where they were located (they were correctly located in /Library/Java/JavaVirtualMachines). See below. <a href=\"https://i.stack.imgur.com/NsCts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NsCts.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem was that in Eclipse, when we tried importing a Java library (e.g., for Java 17) through <em>Project &gt; Properties &gt; Java Build Path &gt; Modulepath: Add Library... &gt; JRE System Library &gt; Next &gt; Installed JREs... &gt; Add &gt; Standard VM &gt; Next &gt; Directory... (this opens up Finder)</em>, we, at this point, will choose one of the packages (e.g., jdk-17.0.4.1.jdk). (See below.) DON'T. Instead, double-click into it. Then you'll see a folder called &quot;Contents.&quot; Double-click into that as well. Now, you'll see a couple of folders. Select &quot;Home&quot; and hit &quot;Open&quot; for that one. Eclipse will open it and throw no error. If instead you selected the entire package and opened that, then Eclipse will throw a &quot;Target is not a JDK Root. Java executable was not found&quot; error. It seems that Eclipse was not automatically detecting the Home folder that is embedded inside, so we had to manually go further and select that specifically for Eclipse.</p>\n<p><a href=\"https://i.stack.imgur.com/61m0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/61m0a.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/2ju7w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ju7w.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/n90BR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n90BR.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/g5pdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g5pdY.png\" alt=\"\" /></a></p>\n<p>Note: I already imported Java 17 before posting this. I went back to import Java 16 using above steps, that's why I'm calling this one Java 16.0.1</p>\n"}],"owner":{"account_id":22222404,"reputation":21,"user_id":16459828,"display_name":"Aarya Deshpande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73835156,"answer_count":3,"score":0,"last_activity_date":1664110410,"creation_date":1664000185,"question_id":73835122,"body_markdown":"Problem: Eclipse is not recognizing my Java code on my Mac (e.g., the main method, String, Object class... none of that is recognized; the pre-built Java classes aren&#39;t even there!).\r\n\r\nDetail: I have the latest Eclipse (2022-09) and even tried 2022-06. I also have the latest Java version (terminal: &quot;java -version&quot; brings 17.0.4.1). In Eclipse settings, I see the following (see PINK for how I got to these settings, see YELLOW for problem): [![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\nBut I have the following in Finder: \r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo maybe the JavaSE/SDK file did not get imported auotmatically. So then I manually try to do that (see PINK), but when I select any of the JavaSE/JDK files from Finder, this happens (YELLOW):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIs there any resolution? Thanks!\r\n\r\nNote: Java 17 and Eclipse are both mandatory for my college class. In fact, for the current project, only Java 17 is compatible with the .jars file we need to work with, so there&#39;s no other choice.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vdhC4.png\r\n  [2]: https://i.stack.imgur.com/MPs0D.png\r\n  [3]: https://i.stack.imgur.com/pfW1v.png\r\n  [4]: https://i.stack.imgur.com/qFeAl.png","title":"Java code not recognized, Eclipse error: &quot;Target is not a JDK Root. Java executable was not found&quot;","body":"<p>Problem: Eclipse is not recognizing my Java code on my Mac (e.g., the main method, String, Object class... none of that is recognized; the pre-built Java classes aren't even there!).</p>\n<p>Detail: I have the latest Eclipse (2022-09) and even tried 2022-06. I also have the latest Java version (terminal: &quot;java -version&quot; brings 17.0.4.1). In Eclipse settings, I see the following (see PINK for how I got to these settings, see YELLOW for problem): <a href=\"https://i.stack.imgur.com/vdhC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdhC4.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/MPs0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MPs0D.png\" alt=\"enter image description here\" /></a></p>\n<p>But I have the following in Finder:</p>\n<p><a href=\"https://i.stack.imgur.com/qFeAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qFeAl.png\" alt=\"enter image description here\" /></a></p>\n<p>So maybe the JavaSE/SDK file did not get imported auotmatically. So then I manually try to do that (see PINK), but when I select any of the JavaSE/JDK files from Finder, this happens (YELLOW):</p>\n<p><a href=\"https://i.stack.imgur.com/pfW1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pfW1v.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any resolution? Thanks!</p>\n<p>Note: Java 17 and Eclipse are both mandatory for my college class. In fact, for the current project, only Java 17 is compatible with the .jars file we need to work with, so there's no other choice.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1613551913,"post_id":66142932,"comment_id":117106365,"body_markdown":"There&#39;s something different between Eclipse and VS Code, you can try to create a java project and add referenced libraries in VS Code. Compare to experience it. Refer to [Create a project](https://code.visualstudio.com/docs/java/java-project#_create-a-project) and [Add a jar](https://code.visualstudio.com/docs/java/java-project#_add-a-jar).","body":"There&#39;s something different between Eclipse and VS Code, you can try to create a java project and add referenced libraries in VS Code. Compare to experience it. Refer to <a href=\"https://code.visualstudio.com/docs/java/java-project#_create-a-project\" rel=\"nofollow noreferrer\">Create a project</a> and <a href=\"https://code.visualstudio.com/docs/java/java-project#_add-a-jar\" rel=\"nofollow noreferrer\">Add a jar</a>."}],"answers":[{"tags":[],"owner":{"account_id":21384605,"reputation":11,"user_id":15749961,"display_name":"pserey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626629958,"creation_date":1626629958,"answer_id":68431630,"question_id":66142932,"body_markdown":"I had this problem and solved it editing the .classpath file directly. After creating a &quot;lib&quot; directory aside &quot;src&quot; and &quot;bin&quot;, I wrote a new line like this:\r\n\r\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/yourlibrary.jar&quot;&gt;\r\n\r\nAfter that, I opened VScode and it recognized the referenced library.","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>I had this problem and solved it editing the .classpath file directly. After creating a &quot;lib&quot; directory aside &quot;src&quot; and &quot;bin&quot;, I wrote a new line like this:</p>\n<pre><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/yourlibrary.jar&quot;&gt;\n</code></pre>\n<p>After that, I opened VScode and it recognized the referenced library.</p>\n"},{"tags":[],"owner":{"account_id":18433658,"reputation":189,"user_id":13428129,"display_name":"sglbl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664109948,"creation_date":1664109948,"answer_id":73844590,"question_id":66142932,"body_markdown":"Remove .classpath and .project files from the project folder. Then put your referenced library (for ex. jar file) file into lib folder. After you restart vscode it will be fixed.","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>Remove .classpath and .project files from the project folder. Then put your referenced library (for ex. jar file) file into lib folder. After you restart vscode it will be fixed.</p>\n"}],"owner":{"account_id":19889733,"reputation":145,"user_id":14572064,"display_name":"lzb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7469,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1664109948,"creation_date":1612981924,"question_id":66142932,"body_markdown":"I imported a Java project into Code that was originally developed in Eclipse. At first, the entire &quot;Java Projects&quot; section in the explorer would not appear, but I did a &quot;Clean Java language server workspace&quot; and it appeared. However, &quot;Referenced Libraries&quot; does not appear:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am not sure why this is the case. When I manually added the jars I wanted to the `.classpath` file, the &quot;Referenced Libraries&quot; appeared but said &quot;Read-only.&quot; Further, doing a workspace clean removed these from the `.classpath` file, and the &quot;Referenced Libraries&quot; section disappeared again. Am I missing something? What can I do to get &quot;Referenced Libraries&quot; back?\r\n\r\n  [1]: https://i.stack.imgur.com/4J63r.png","title":"No &quot;referenced libraries&quot; in VS Code Java project","body":"<p>I imported a Java project into Code that was originally developed in Eclipse. At first, the entire &quot;Java Projects&quot; section in the explorer would not appear, but I did a &quot;Clean Java language server workspace&quot; and it appeared. However, &quot;Referenced Libraries&quot; does not appear:</p>\n<p><a href=\"https://i.stack.imgur.com/4J63r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4J63r.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not sure why this is the case. When I manually added the jars I wanted to the <code>.classpath</code> file, the &quot;Referenced Libraries&quot; appeared but said &quot;Read-only.&quot; Further, doing a workspace clean removed these from the <code>.classpath</code> file, and the &quot;Referenced Libraries&quot; section disappeared again. Am I missing something? What can I do to get &quot;Referenced Libraries&quot; back?</p>\n"},{"tags":["java","android","gradle","android-fragments"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1664111650,"post_id":73844589,"comment_id":130391872,"body_markdown":"The `dependencies` that you added to `build.gradle` needs to go in your module&#39;s `build.gradle` (e.g., one in the `app` directory), not the one in your project&#39;s root directory.","body":"The <code>dependencies</code> that you added to <code>build.gradle</code> needs to go in your module&#39;s <code>build.gradle</code> (e.g., one in the <code>app</code> directory), not the one in your project&#39;s root directory."},{"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"score":0,"creation_date":1664129527,"post_id":73844589,"comment_id":130395573,"body_markdown":"@CommonsWare oh! I see. Thanks a lot! That&#39;s a bit bad, made with the same names. You helped me a lot!","body":"@CommonsWare oh! I see. Thanks a lot! That&#39;s a bit bad, made with the same names. You helped me a lot!"}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664109947,"creation_date":1664109947,"question_id":73844589,"body_markdown":"I am new to Android studio and tried to follow this guide https://developer.android.com/guide/fragments/create\r\n\r\nBut after including the commands I tried to build gradle but an error came up. I didn&#39;t do anything else than follow the first lines from the guide. \r\n\r\nsetting.gradle\r\n\r\n``` pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;MusicStore&quot;\r\ninclude &#39;:app&#39;\r\n```\r\n\r\nbuild.gradle\r\n``` \r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\ndependencies {\r\n    def fragment_version = &quot;1.5.3&quot;\r\n\r\n    // Java language implementation\r\n    implementation &quot;androidx.fragment:fragment:$fragment_version&quot;\r\n}\r\n```\r\n\r\nThe error message\r\n\r\n```\r\nA problem occurred evaluating root project &#39;MusicStore&#39;.\r\n&gt; Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;MusicStore&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:751)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:339)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:55)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:48)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\r\n\tat org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\r\n\tat org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\r\n\tat org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:58)\r\n\tat org.gradle.internal.build.StateTransitionController.notInStateIgnoreOtherThreads(StateTransitionController.java:89)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.getConfiguredBuild(DefaultBuildLifecycleController.java:98)\r\n\tat org.gradle.internal.build.AbstractBuildState.ensureProjectsConfigured(AbstractBuildState.java:65)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:90)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:82)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController$DefaultTargetModel.locate(DefaultBuildController.java:239)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getToolingModelBuilder(DefaultBuildController.java:184)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:98)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:72)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\r\n\tat org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\r\n\tat org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:71)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\r\n\tat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\r\n\tat build_3w0lui0dipy143qra04ejharb$_run_closure2.doCall(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_\\MIP4\\musicstore - Int 2_3\\build.gradle:15)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:72)\r\n\tat org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\r\n\tat org.gradle.util.internal.ConfigureUtil.configure(ConfigureUtil.java:106)\r\n\tat org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1237)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\r\n\tat org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\r\n\tat org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\r\n\tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\r\n\tat org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\r\n\tat build_3w0lui0dipy143qra04ejharb.run(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_-\\MIP4\\musicstore - Int 2_3\\build.gradle:11)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 164 more\r\n```\r\n\r\nHelp would be really appriated. If other files are needed tell me.","title":"Why does Gradle not find the implementation() for arguments [androidx.fragment:fragment:1.5.3]","body":"<p>I am new to Android studio and tried to follow this guide <a href=\"https://developer.android.com/guide/fragments/create\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/create</a></p>\n<p>But after including the commands I tried to build gradle but an error came up. I didn't do anything else than follow the first lines from the guide.</p>\n<p>setting.gradle</p>\n<pre><code>    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;MusicStore&quot;\ninclude ':app'\n</code></pre>\n<p>build.gradle</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.2' apply false\n    id 'com.android.library' version '7.2.2' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\ndependencies {\n    def fragment_version = &quot;1.5.3&quot;\n\n    // Java language implementation\n    implementation &quot;androidx.fragment:fragment:$fragment_version&quot;\n}\n</code></pre>\n<p>The error message</p>\n<pre><code>A problem occurred evaluating root project 'MusicStore'.\n&gt; Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'MusicStore'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:393)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:366)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:426)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:426)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:407)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:365)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:751)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:151)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:339)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:55)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:48)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$1(VintageBuildModelController.java:93)\n    at org.gradle.internal.build.StateTransitionController.lambda$doTransition$1(StateTransitionController.java:222)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:221)\n    at org.gradle.internal.build.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:190)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:93)\n    at org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:58)\n    at org.gradle.internal.build.StateTransitionController.notInStateIgnoreOtherThreads(StateTransitionController.java:89)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.getConfiguredBuild(DefaultBuildLifecycleController.java:98)\n    at org.gradle.internal.build.AbstractBuildState.ensureProjectsConfigured(AbstractBuildState.java:65)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:90)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildToolingModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:82)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController$DefaultTargetModel.locate(DefaultBuildController.java:239)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getToolingModelBuilder(DefaultBuildController.java:184)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:98)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:116)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:72)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.build.StateTransitionController.lambda$transition$0(StateTransitionController.java:145)\n    at org.gradle.internal.build.StateTransitionController.doTransition(StateTransitionController.java:243)\n    at org.gradle.internal.build.StateTransitionController.transition(StateTransitionController.java:145)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:100)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:71)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:114)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:155)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method implementation() for arguments [androidx.fragment:fragment:1.5.3] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n    at org.gradle.internal.metaobject.AbstractDynamicObject$CustomMissingMethodExecutionFailed.&lt;init&gt;(AbstractDynamicObject.java:190)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:184)\n    at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:86)\n    at build_3w0lui0dipy143qra04ejharb$_run_closure2.doCall(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_\\MIP4\\musicstore - Int 2_3\\build.gradle:15)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.util.internal.ClosureBackedAction.execute(ClosureBackedAction.java:72)\n    at org.gradle.util.internal.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\n    at org.gradle.util.internal.ConfigureUtil.configure(ConfigureUtil.java:106)\n    at org.gradle.api.internal.project.DefaultProject.dependencies(DefaultProject.java:1237)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\n    at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\n    at org.gradle.internal.metaobject.CompositeDynamicObject.tryInvokeMethod(CompositeDynamicObject.java:98)\n    at org.gradle.internal.extensibility.MixInClosurePropertiesAsMethodsDynamicObject.tryInvokeMethod(MixInClosurePropertiesAsMethodsDynamicObject.java:34)\n    at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.tryInvokeMethod(BasicScript.java:135)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\n    at org.gradle.groovy.scripts.BasicScript.invokeMethod(BasicScript.java:84)\n    at build_3w0lui0dipy143qra04ejharb.run(C:\\Users\\jusau\\OneDrive\\Dokumente\\D. NO TOUCH\\schule\\pos\\-it-2021_3bhif_-\\MIP4\\musicstore - Int 2_3\\build.gradle:11)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 164 more\n</code></pre>\n<p>Help would be really appriated. If other files are needed tell me.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":3,"creation_date":1664097256,"post_id":73843273,"comment_id":130389426,"body_markdown":"Unless I&#39;m misunderstanding, the fact it&#39;s the same method doesn&#39;t make any difference. On a single core machine, there is presumably only one CPU thread, which means only a single line of execution. The OS will typically preempt long running processes and switch between them to simulate multitasking. That doesn&#39;t mean that they&#39;re running at the same though. So strictly speaking, the answer is No.","body":"Unless I&#39;m misunderstanding, the fact it&#39;s the same method doesn&#39;t make any difference. On a single core machine, there is presumably only one CPU thread, which means only a single line of execution. The OS will typically preempt long running processes and switch between them to simulate multitasking. That doesn&#39;t mean that they&#39;re running at the same though. So strictly speaking, the answer is No."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664098524,"post_id":73843273,"comment_id":130389636,"body_markdown":"It depends if you count (Intel) hyperthreads as cores.","body":"It depends if you count (Intel) hyperthreads as cores."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664102704,"post_id":73843273,"comment_id":130390313,"body_markdown":"Watch out: You mention a multi-threaded application and ask about two processes. The isolation between processes is usually big enough so you can run the same code in two processes. Simultaneously as much as your cores allow.","body":"Watch out: You mention a multi-threaded application and ask about two processes. The isolation between processes is usually big enough so you can run the same code in two processes. Simultaneously as much as your cores allow."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664109280,"creation_date":1664108956,"answer_id":73844472,"question_id":73843273,"body_markdown":"&gt; ...run the same method at the exact same time...\r\n\r\nThe answer depends on what you think that phrase means.\r\n\r\nIn order to understand the execution of a program, you have to talk about _events,_ and the order in which events happen. Events are instantaneous, and on a single core machine no two _events_ can ever happen at the same time.\r\n\r\nBut, &quot;running a method&quot; is not an event. Running a method is the _interval_ between two events; The first event is the method call, and the second event is the return.  Even on a single-core machine, two method calls can be _overlapped:_\r\n\r\n```\r\n  method call A      method call B\r\n  ----------------   ----------------\r\n  - entered\r\n    does some work\r\n                     - entered            v\r\n                       does some work     | during this span of time\r\n    does some work                        | the two method calls are\r\n                       does some work     | _overlapped._\r\n                 ...                      |\r\n                     - returns            ^\r\n    does some work\r\n  - returns\r\n```\r\n\r\n----------------\r\n\r\n&gt; ...the same method...\r\n\r\nWatch out there! &quot;Thread-safety&quot; is practically never a question of which _methods_ are called by the application&#39;s threads. It&#39;s a question of which _data_ the methods operate on.\r\n\r\nTwo overlapping calls to the same method can operate on different data, and have no impact on thread-safety whatsoever.\r\n\r\nTwo overlapping calls to different methods can operate on the same data, and need to use mutexes or other special means to ensure that they do not interfere with each other and corrupt the data as a result.","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<blockquote>\n<p>...run the same method at the exact same time...</p>\n</blockquote>\n<p>The answer depends on what you think that phrase means.</p>\n<p>In order to understand the execution of a program, you have to talk about <em>events,</em> and the order in which events happen. Events are instantaneous, and on a single core machine no two <em>events</em> can ever happen at the same time.</p>\n<p>But, &quot;running a method&quot; is not an event. Running a method is the <em>interval</em> between two events; The first event is the method call, and the second event is the return.  Even on a single-core machine, two method calls can be <em>overlapped:</em></p>\n<pre><code>  method call A      method call B\n  ----------------   ----------------\n  - entered\n    does some work\n                     - entered            v\n                       does some work     | during this span of time\n    does some work                        | the two method calls are\n                       does some work     | _overlapped._\n                 ...                      |\n                     - returns            ^\n    does some work\n  - returns\n</code></pre>\n<hr />\n<blockquote>\n<p>...the same method...</p>\n</blockquote>\n<p>Watch out there! &quot;Thread-safety&quot; is practically never a question of which <em>methods</em> are called by the application's threads. It's a question of which <em>data</em> the methods operate on.</p>\n<p>Two overlapping calls to the same method can operate on different data, and have no impact on thread-safety whatsoever.</p>\n<p>Two overlapping calls to different methods can operate on the same data, and need to use mutexes or other special means to ensure that they do not interfere with each other and corrupt the data as a result.</p>\n"},{"tags":[],"owner":{"account_id":14348499,"reputation":86,"user_id":10364733,"display_name":"sakshi malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664109082,"creation_date":1664109082,"answer_id":73844489,"question_id":73843273,"body_markdown":"The answer is straightforward **we cannot do multithreading in a single-core CPU**\r\nas we need at least two cores to run a thread simultaneously. ","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<p>The answer is straightforward <strong>we cannot do multithreading in a single-core CPU</strong>\nas we need at least two cores to run a thread simultaneously.</p>\n"}],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73844472,"answer_count":2,"score":0,"last_activity_date":1664109280,"creation_date":1664096782,"question_id":73843273,"body_markdown":"I have studied that an operating system time-slices the processes.\r\n\r\nI know that we should design a multi-thread application assuming that it may be run on multicore CPU. Just for the sake of knowledge, I want to know if there is a possibility of two processes running the same method at the exact same time on a **single-core CPU** machine.","title":"Can two processes run the same method at the exact same time on a single-core CPU machine?","body":"<p>I have studied that an operating system time-slices the processes.</p>\n<p>I know that we should design a multi-thread application assuming that it may be run on multicore CPU. Just for the sake of knowledge, I want to know if there is a possibility of two processes running the same method at the exact same time on a <strong>single-core CPU</strong> machine.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1664090206,"post_id":73842591,"comment_id":130388411,"body_markdown":"Redundant in what sense?  Frankly, an application that downloads its JAR dependencies rather than having them in the installer, or whatever, seems like a recipe for fragility.  In 2022, disk space is cheap and network bandwidth, but hand-holding naive users through problems caused by failed dependency downloads would be expensive.","body":"Redundant in what sense?  Frankly, an application that downloads its JAR dependencies rather than having them in the installer, or whatever, seems like a recipe for fragility.  In 2022, disk space is cheap and network bandwidth, but hand-holding naive users through problems caused by failed dependency downloads would be expensive."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090617,"post_id":73842591,"comment_id":130388462,"body_markdown":"But it that is what you want, try this: https://stackoverflow.com/questions/55938870","body":"But it that is what you want, try this: <a href=\"https://stackoverflow.com/questions/55938870\">stackoverflow.com/questions/55938870</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090835,"post_id":73842591,"comment_id":130388496,"body_markdown":"Or you could use (embed) Maven or Ivy to download the JARs.","body":"Or you could use (embed) Maven or Ivy to download the JARs."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1664090836,"post_id":73842591,"comment_id":130388497,"body_markdown":"This can get tricky if different plug-ins require different versions of the same library.","body":"This can get tricky if different plug-ins require different versions of the same library."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664090889,"post_id":73842591,"comment_id":130388506,"body_markdown":"Meh ... classloaders ... waves hands ... :-)   But you are correct.  If you want the application to be able to do its own dependency resolution and downloading, then it needs to deal with *all* of the problems that would normally be addressed with build-time dependency resolution.","body":"Meh ... classloaders ... waves hands ... :-)   But you are correct.  If you want the application to be able to do its own dependency resolution and downloading, then it needs to deal with <i>all</i> of the problems that would normally be addressed with build-time dependency resolution."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1664091076,"post_id":73842591,"comment_id":130388538,"body_markdown":"Another thing to look at would be the OSGI framework used by Eclipse, etc.","body":"Another thing to look at would be the OSGI framework used by Eclipse, etc."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664094099,"post_id":73842591,"comment_id":130388967,"body_markdown":"If you really like to deal with all that sutff (which I strongly recommend not to do; already some arguments given) you could start: https://maven.apache.org/resolver/ but I would build such things at build time and package some kind installer that does it.. not during run time of your app...The other question can you give more details about the application?","body":"If you really like to deal with all that sutff (which I strongly recommend not to do; already some arguments given) you could start: <a href=\"https://maven.apache.org/resolver/\" rel=\"nofollow noreferrer\">maven.apache.org/resolver</a> but I would build such things at build time and package some kind installer that does it.. not during run time of your app...The other question can you give more details about the application?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664119591,"post_id":73842591,"comment_id":130393554,"body_markdown":"Dont reinvent the wheel - use a tried and tested technology.","body":"Dont reinvent the wheel - use a tried and tested technology."}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664107630,"creation_date":1664107168,"answer_id":73844321,"question_id":73842591,"body_markdown":"You can use the [Maven-Artifact-Resolver][1] library. - This library can not only download the artifacts, but is also able to resolve dependency trees. So it is may be more than you need.\r\n\r\n_(Under the hood, Apache Maven Artifact Resolver was former a project called Eclipse Aether.\r\n(And &quot;Eclipse Aether&quot; was former &quot;Sonatype Aether&quot;.))_\r\n\r\nThere  is also [maven-archeologist][2], but I have not used it.\r\n\r\n\r\n  [1]: https://maven.apache.org/resolver/\r\n  [2]: https://github.com/square/maven-archeologist","title":"How to download dependencies from maven center (or some special repositories) by Java code?","body":"<p>You can use the <a href=\"https://maven.apache.org/resolver/\" rel=\"nofollow noreferrer\">Maven-Artifact-Resolver</a> library. - This library can not only download the artifacts, but is also able to resolve dependency trees. So it is may be more than you need.</p>\n<p><em>(Under the hood, Apache Maven Artifact Resolver was former a project called Eclipse Aether.\n(And &quot;Eclipse Aether&quot; was former &quot;Sonatype Aether&quot;.))</em></p>\n<p>There  is also <a href=\"https://github.com/square/maven-archeologist\" rel=\"nofollow noreferrer\">maven-archeologist</a>, but I have not used it.</p>\n"}],"owner":{"account_id":19761741,"reputation":68,"user_id":14470687,"display_name":"CHUANWISE"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664107630,"creation_date":1664088888,"question_id":73842591,"body_markdown":"I&#39;m writing an application which can load jars as plugins. Plugins may depend on some common libraries such as Gson, and if every plugin author pack their dependencies which can be downloaded from maven center (or some special repositories) into jars, it&#39;ll be redundant.\r\n\r\nIn order to make it more graceful, I want to allow plugin authors to write their dependencies info down in plugin metadata file, so that the application can download it automatically. \r\n\r\nHow to download dependencies from maven center (or some special repositories) by Java code? I want to download not only its jars (recent or elder version), but also its version info, so that the application can manage libraries.","title":"How to download dependencies from maven center (or some special repositories) by Java code?","body":"<p>I'm writing an application which can load jars as plugins. Plugins may depend on some common libraries such as Gson, and if every plugin author pack their dependencies which can be downloaded from maven center (or some special repositories) into jars, it'll be redundant.</p>\n<p>In order to make it more graceful, I want to allow plugin authors to write their dependencies info down in plugin metadata file, so that the application can download it automatically.</p>\n<p>How to download dependencies from maven center (or some special repositories) by Java code? I want to download not only its jars (recent or elder version), but also its version info, so that the application can manage libraries.</p>\n"},{"tags":["java","encryption","cryptography","sharedpreferences"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1555613618,"post_id":55751745,"comment_id":98180883,"body_markdown":"Don&#39;t try to cater for null by using `new byte[0]`, in either direction.mthrow a `NullPointerException`. It&#39;s a programming error. You can&#39;t decode it so why encode it?","body":"Don&#39;t try to cater for null by using <code>new byte[0]</code>, in either direction.mthrow a <code>NullPointerException</code>. It&#39;s a programming error. You can&#39;t decode it so why encode it?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555678207,"post_id":55751745,"comment_id":98198759,"body_markdown":"Hi @user207421. Yup, you are right )","body":"Hi @user207421. Yup, you are right )"},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555680358,"post_id":55751745,"comment_id":98199698,"body_markdown":"There seem only two problems, one is  Maarten&#39;s suggested reason the other one how you derive the salt. Are you sure `IsoGame...` output always the same?","body":"There seem only two problems, one is  Maarten&#39;s suggested reason the other one how you derive the salt. Are you sure <code>IsoGame...</code> output always the same?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555681365,"post_id":55751745,"comment_id":98200104,"body_markdown":"@kelalaka The output of  ```IsoGame...``` should be always same. It is my app&#39;s bundle id on iOS and the device id on Android. I don&#39;t think that it can change just after reopen my app. \nHowever, I&#39;m experiencing this problem on both platforms. So, I don&#39;t think that the problem comes from the ```IsoGame...```.","body":"@kelalaka The output of  <code>IsoGame...</code> should be always same. It is my app&#39;s bundle id on iOS and the device id on Android. I don&#39;t think that it can change just after reopen my app.  However, I&#39;m experiencing this problem on both platforms. So, I don&#39;t think that the problem comes from the <code>IsoGame...</code>."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555681418,"post_id":55751745,"comment_id":98200125,"body_markdown":"So, what is actually sometimes? = 1/5 1/10 etc?","body":"So, what is actually sometimes? = 1/5 1/10 etc?"},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555681598,"post_id":55751745,"comment_id":98200204,"body_markdown":"@kelalaka. Don&#39;t know really. But I think, something like 1/500 or so. As I receiving this from the production users and was happy to have this issue yesterday on my end too(first time).","body":"@kelalaka. Don&#39;t know really. But I think, something like 1/500 or so. As I receiving this from the production users and was happy to have this issue yesterday on my end too(first time)."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555682082,"post_id":55751745,"comment_id":98200420,"body_markdown":"You should definitely change your encryption. DES? At least use AES-GCM.","body":"You should definitely change your encryption. DES? At least use AES-GCM."},{"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"score":0,"creation_date":1555683959,"post_id":55751745,"comment_id":98201180,"body_markdown":"Agree @kelalaka . But the problem is the app is in the production already for about 5 months and there are 50K monthly active users, and they have saved data in their phones&#39; preferences. So, if I&#39;ll change the encryption, then they will lose their data)\nP.S., but if there is no other way, I&#39;ll do that with some work-around) :)","body":"Agree @kelalaka . But the problem is the app is in the production already for about 5 months and there are 50K monthly active users, and they have saved data in their phones&#39; preferences. So, if I&#39;ll change the encryption, then they will lose their data) P.S., but if there is no other way, I&#39;ll do that with some work-around) :)"},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1555685850,"post_id":55751745,"comment_id":98202019,"body_markdown":"Also, to check that a user supplied the correct password, you can encrypt a known plaintext and save in internal memory. Before encryption/decryption you can test the password. Note: this method may provide a known-plaintext attack. Addition, there is very fast DES [crackers](https://crack.sh/)","body":"Also, to check that a user supplied the correct password, you can encrypt a known plaintext and save in internal memory. Before encryption/decryption you can test the password. Note: this method may provide a known-plaintext attack. Addition, there is very fast DES <a href=\"https://crack.sh/\" rel=\"nofollow noreferrer\">crackers</a>"},{"owner":{"account_id":14507198,"reputation":243,"user_id":10478669,"display_name":"Kailash Chivhe"},"score":0,"creation_date":1591799215,"post_id":55751745,"comment_id":110194319,"body_markdown":"Hi @GagBaghdasaryan did you find a solution for your query?","body":"Hi @GagBaghdasaryan did you find a solution for your query?"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555636342,"creation_date":1555636342,"answer_id":55755431,"question_id":55751745,"body_markdown":"The most likely reason would simply be the wrong password to be supplied. If the wrong password is supplied then the wrong key is derived. Then the ciphertext will be decrypted to garbage plaintext. This will only be noticed if the padding exception gets thrown: unpadding random bytes is likely to fail.\r\n\r\nYou could e.g. first validate that the derived key is correct by performing a HMAC over known data using the derived key. In addition, it would be a good idea to use some kind of authenticated encryption, so that *if* the key or data is wrong or corrupted that decryption does indeed fail. If you&#39;re unlucky then - at this time - the data will decrypt, unpadding will succeed and you end up with garbage plaintext.\r\n\r\nOf course, you&#39;d better upgrade to PBKDF2 for key derivation, and upgrade AES to e.g. AES-GCM instead of DES. Currently your encryption is entirely insecure, even if you use a strong password.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>The most likely reason would simply be the wrong password to be supplied. If the wrong password is supplied then the wrong key is derived. Then the ciphertext will be decrypted to garbage plaintext. This will only be noticed if the padding exception gets thrown: unpadding random bytes is likely to fail.</p>\n\n<p>You could e.g. first validate that the derived key is correct by performing a HMAC over known data using the derived key. In addition, it would be a good idea to use some kind of authenticated encryption, so that <em>if</em> the key or data is wrong or corrupted that decryption does indeed fail. If you're unlucky then - at this time - the data will decrypt, unpadding will succeed and you end up with garbage plaintext.</p>\n\n<p>Of course, you'd better upgrade to PBKDF2 for key derivation, and upgrade AES to e.g. AES-GCM instead of DES. Currently your encryption is entirely insecure, even if you use a strong password.</p>\n"},{"tags":[],"owner":{"account_id":15255954,"reputation":380,"user_id":11225091,"display_name":"OughtToPrevail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555687835,"creation_date":1555687835,"answer_id":55764211,"question_id":55751745,"body_markdown":"Your problem is\r\n```java\r\nIsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\r\n```\r\nI have ran the following code multiple times and no exception occurred and the decrypted data was equal to &quot;Hello there!&quot;:\r\n```java\r\npublic static void main(String[] args)\r\n\t{\r\n\t    new CryptographyError();\r\n\t}\r\n\t\r\n\tprivate CryptographyError()\r\n\t{\r\n\t\tchar[] secret = &quot;MySecret&quot;.toCharArray();\r\n\t\tString mesasge = &quot;Hello there!&quot;;\r\n\t\tEncryptedData encryptedData = encrypt(mesasge, secret);\r\n\t\tSystem.out.println(&quot;ENCRYPTED &quot; + encryptedData.encryptedString);\r\n\t\tString decrypted = decrypt(encryptedData, secret);\r\n\t\tSystem.out.println(&quot;DECRYPTED &quot; + decrypted);\r\n\t}\r\n\t\r\n\tprivate static final SecureRandom RANDOM = new SecureRandom();\r\n\t\r\n\tpublic static EncryptedData encrypt(String value, char[] secret) {\r\n\t\ttry {\r\n\t\t\tfinal byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\r\n\t\t\tSecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tSecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n\t\t\tCipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tbyte[] salt = new byte[8];\r\n\t\t\tRANDOM.nextBytes(salt);\r\n\t\t\tpbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(salt, 20));\r\n\t\t\treturn new EncryptedData(salt, new String(Base64.getEncoder().encode(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(value);\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static String decrypt(EncryptedData encryptedData, char[] secret) {\r\n\t\ttry {\r\n\t\t\tString value = encryptedData.encryptedString;\r\n\t\t\tbyte[] salt = encryptedData.salt;\r\n\t\t\tfinal byte[] bytes = value != null ? Base64.getDecoder().decode(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\r\n\t\t\tSecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tSecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n\t\t\tCipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\tpbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(salt, 20));\r\n\t\t\treturn new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static class EncryptedData\r\n\t{\r\n\t\tprivate final byte[] salt;\r\n\t\tprivate final String encryptedString;\r\n\t\t\r\n\t\tprivate EncryptedData(byte[] salt, String encryptedString)\r\n\t\t{\r\n\t\t\tthis.salt = salt;\r\n\t\t\tthis.encryptedString = encryptedString;\r\n\t\t}\r\n\t}\r\n```\r\nThe only main difference between my code and your code is \r\n```java\r\nIsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\r\n```\r\nwhich means that must not return the same value on encryption and decryption.\r\nAlso if you want to test this you can just change the salt between them and notice the exception is thrown again.\r\n\r\nAlso Maarten Bodewes gave you some good notes about how to improve your code.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>Your problem is</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\n</code></pre>\n\n<p>I have ran the following code multiple times and no exception occurred and the decrypted data was equal to \"Hello there!\":</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n    {\n        new CryptographyError();\n    }\n\n    private CryptographyError()\n    {\n        char[] secret = \"MySecret\".toCharArray();\n        String mesasge = \"Hello there!\";\n        EncryptedData encryptedData = encrypt(mesasge, secret);\n        System.out.println(\"ENCRYPTED \" + encryptedData.encryptedString);\n        String decrypted = decrypt(encryptedData, secret);\n        System.out.println(\"DECRYPTED \" + decrypted);\n    }\n\n    private static final SecureRandom RANDOM = new SecureRandom();\n\n    public static EncryptedData encrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            byte[] salt = new byte[8];\n            RANDOM.nextBytes(salt);\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(salt, 20));\n            return new EncryptedData(salt, new String(Base64.getEncoder().encode(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(value);\n        }\n        return null;\n\n    }\n\n    public static String decrypt(EncryptedData encryptedData, char[] secret) {\n        try {\n            String value = encryptedData.encryptedString;\n            byte[] salt = encryptedData.salt;\n            final byte[] bytes = value != null ? Base64.getDecoder().decode(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(salt, 20));\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n\n    }\n\n    private static class EncryptedData\n    {\n        private final byte[] salt;\n        private final String encryptedString;\n\n        private EncryptedData(byte[] salt, String encryptedString)\n        {\n            this.salt = salt;\n            this.encryptedString = encryptedString;\n        }\n    }\n</code></pre>\n\n<p>The only main difference between my code and your code is </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8)\n</code></pre>\n\n<p>which means that must not return the same value on encryption and decryption.\nAlso if you want to test this you can just change the salt between them and notice the exception is thrown again.</p>\n\n<p>Also Maarten Bodewes gave you some good notes about how to improve your code.</p>\n"}],"owner":{"account_id":9650135,"reputation":722,"user_id":7161550,"display_name":"Gag Baghdasaryan"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14839,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1664105088,"creation_date":1555611516,"question_id":55751745,"body_markdown":"I have the following code for encrypt\r\n\r\n```\r\npublic static String encrypt(String value, char[] secret) {\r\n        try {\r\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n            Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\r\n            return new String(Base64.encodeBase64(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return value;\r\n\r\n    }\r\n```\r\n\r\nand the following code for decrypt.\r\n\r\n```\r\npublic static String decrypt(String value, char[] secret) {\r\n        try {\r\n            final byte[] bytes = value != null ? Base64.decodeBase64(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\r\n            Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\r\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return value;\r\n\r\n    }\r\n```\r\n\r\nHowever, sometimes the exception is being thrown at \r\n```\r\npbeCipher.doFinal(bytes)\r\n```\r\n\r\nin decrypt method. \r\n\r\nThe exception is ```javax.crypto.BadPaddingException: pad block corrupted ```\r\n\r\nIt&#39;s strange, as I&#39;m getting this exception sometimes with the same values .\r\n\r\nAny ideas?\r\nThanks.","title":"javax.crypto.BadPaddingException: pad block corrupted sometimes","body":"<p>I have the following code for encrypt</p>\n\n<pre><code>public static String encrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? value.getBytes(StandardCharsets.UTF_8) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\n            return new String(Base64.encodeBase64(pbeCipher.doFinal(bytes)), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return value;\n\n    }\n</code></pre>\n\n<p>and the following code for decrypt.</p>\n\n<pre><code>public static String decrypt(String value, char[] secret) {\n        try {\n            final byte[] bytes = value != null ? Base64.decodeBase64(value.getBytes(StandardCharsets.UTF_8)) : new byte[0];\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n            SecretKey key = keyFactory.generateSecret(new PBEKeySpec(secret));\n            Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            pbeCipher.init(Cipher.DECRYPT_MODE, key, new PBEParameterSpec(IsoGame.$().crossPlatformManager.getCrossPlatformUtilsInstance().getDeviceUniqueIdentifier().getBytes(StandardCharsets.UTF_8), 20));\n            return new String(pbeCipher.doFinal(bytes), StandardCharsets.UTF_8);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return value;\n\n    }\n</code></pre>\n\n<p>However, sometimes the exception is being thrown at </p>\n\n<pre><code>pbeCipher.doFinal(bytes)\n</code></pre>\n\n<p>in decrypt method. </p>\n\n<p>The exception is <code>javax.crypto.BadPaddingException: pad block corrupted</code></p>\n\n<p>It's strange, as I'm getting this exception sometimes with the same values .</p>\n\n<p>Any ideas?\nThanks.</p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1592648850,"post_id":13607337,"comment_id":110503785,"body_markdown":"Check out [Adisesha&#39;s answer](https://stackoverflow.com/questions/2605385/using-sql-column-names-in-hibernate-createsqlquery-result/62484364#62484364). It&#39;s more elegant than the answers here IMO, just that you would need to use aliases with HQL.","body":"Check out <a href=\"https://stackoverflow.com/questions/2605385/using-sql-column-names-in-hibernate-createsqlquery-result/62484364#62484364\">Adisesha&#39;s answer</a>. It&#39;s more elegant than the answers here IMO, just that you would need to use aliases with HQL."}],"answers":[{"tags":[],"owner":{"account_id":2051107,"reputation":41,"user_id":1830107,"display_name":"Cesar Koot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354113053,"creation_date":1354113053,"answer_id":13607443,"question_id":13607337,"body_markdown":"You should use a new object to hold these values, just like this:\r\n\r\n    &quot;SELECT NEW EmpMenu(e.name, e.department.name) &quot;\r\n                    + &quot;FROM Project p JOIN p.students e &quot; + &quot;WHERE p.name = :project &quot;\r\n                    + &quot;ORDER BY e.name&quot;).setParameter(&quot;project&quot;, projectName).getResultList()\r\n\r\nI&#39;ve got this example from [http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm","title":"Hibernate query for selecting multiple values","body":"<p>You should use a new object to hold these values, just like this:</p>\n\n<pre><code>\"SELECT NEW EmpMenu(e.name, e.department.name) \"\n                + \"FROM Project p JOIN p.students e \" + \"WHERE p.name = :project \"\n                + \"ORDER BY e.name\").setParameter(\"project\", projectName).getResultList()\n</code></pre>\n\n<p>I've got this example from <a href=\"http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm\" rel=\"nofollow\">http://www.java2s.com/Tutorial/Java/0355__JPA/EJBQLCreatenewObjectInSelectStatement.htm</a></p>\n"},{"tags":[],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354113058,"creation_date":1354113058,"answer_id":13607446,"question_id":13607337,"body_markdown":"    List&lt;Object[]&gt; is the structure.\r\n\r\nSo you get each element like this:\r\n\r\n    List ans = q.list();\r\n    for(Object[] array : ans) {\r\n\t    String firstName = (String) array[0];\r\n        Integer id = (Integer) array[1];\r\n    }","title":"Hibernate query for selecting multiple values","body":"<pre><code>List&lt;Object[]&gt; is the structure.\n</code></pre>\n\n<p>So you get each element like this:</p>\n\n<pre><code>List ans = q.list();\nfor(Object[] array : ans) {\n    String firstName = (String) array[0];\n    Integer id = (Integer) array[1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164909,"reputation":14734,"user_id":387981,"accept_rate":88,"display_name":"Matteo"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1354113060,"creation_date":1354113060,"answer_id":13607447,"question_id":13607337,"body_markdown":"You will get a list of arrays of `Object`s (each one with two elements)\r\n\r\n    List&lt; Object[] &gt; employees = q.list();\r\n\r\n    for ( Object[] employee : employees ) {\r\n        // employee[0] will contain the first name\r\n        // employee[1] will contail the ID\r\n    }","title":"Hibernate query for selecting multiple values","body":"<p>You will get a list of arrays of <code>Object</code>s (each one with two elements)</p>\n\n<pre><code>List&lt; Object[] &gt; employees = q.list();\n\nfor ( Object[] employee : employees ) {\n    // employee[0] will contain the first name\n    // employee[1] will contail the ID\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1354113132,"creation_date":1354113132,"answer_id":13607470,"question_id":13607337,"body_markdown":"This is fine. Only thing you need to understand is that it will return list of `Object []` as below:\r\n\r\n         Query q = session.createQuery(&quot;select e.id, e.firstName from Employee e&quot;);\r\n         List&lt;Object[]&gt; employees= (List&lt;Object[]&gt;)q.list();\r\n         for(Object[] employee: employees){\r\n             Integer id = (Integer)employee[0];\r\n             String firstName = (String)employee[1];\r\n             .....\r\n         }","title":"Hibernate query for selecting multiple values","body":"<p>This is fine. Only thing you need to understand is that it will return list of <code>Object []</code> as below:</p>\n\n<pre><code>     Query q = session.createQuery(\"select e.id, e.firstName from Employee e\");\n     List&lt;Object[]&gt; employees= (List&lt;Object[]&gt;)q.list();\n     for(Object[] employee: employees){\n         Integer id = (Integer)employee[0];\n         String firstName = (String)employee[1];\n         .....\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179848,"reputation":2922,"user_id":1929603,"display_name":"Karthik Reddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364282906,"creation_date":1364282906,"answer_id":15631616,"question_id":13607337,"body_markdown":"    Query qry=session.createQuery(&quot;select e.employeeId,e.employeeName from Employee e where e.deptNumber=:p1&quot;);\r\n    qry.setParameter(&quot;p1&quot;,30);\r\n    List l2=qry.list();\r\n    Iterator itr=l2.iterator();\r\n    while(itr.hasNext()){\r\n    Object a[]=(Object[])itr.next();\r\n    System.out.println(a[0]+&quot;/t&quot;a[1]);\r\n    }","title":"Hibernate query for selecting multiple values","body":"<pre><code>Query qry=session.createQuery(\"select e.employeeId,e.employeeName from Employee e where e.deptNumber=:p1\");\nqry.setParameter(\"p1\",30);\nList l2=qry.list();\nIterator itr=l2.iterator();\nwhile(itr.hasNext()){\nObject a[]=(Object[])itr.next();\nSystem.out.println(a[0]+\"/t\"a[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8897,"reputation":11209,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472118120,"creation_date":1472118120,"answer_id":39141780,"question_id":13607337,"body_markdown":"Without iterators:\r\n\r\n    @SuppressWarnings( &quot;unchecked&quot; ) \r\n    public List&lt;Employee&gt; findByDepartment(long departmentId){ \r\n    \r\n        SQLQuery query = session.createSQLQuery(&quot;SELECT {emp.*} &quot; +\r\n                                                 &quot; FROM employee emp &quot; + \r\n                                                +&quot;WHERE emp.department_id = :departement_id&quot;);\r\n        query.setLong(&quot;department_id&quot;, \tdepartmentId);\r\n        query.addEntity(&quot;emp&quot;,  Employee.class);\t\t\t\t\t\t\r\n        return (List&lt;Employee&gt;) = query.list();\r\n    }\r\n","title":"Hibernate query for selecting multiple values","body":"<p>Without iterators:</p>\n\n<pre><code>@SuppressWarnings( \"unchecked\" ) \npublic List&lt;Employee&gt; findByDepartment(long departmentId){ \n\n    SQLQuery query = session.createSQLQuery(\"SELECT {emp.*} \" +\n                                             \" FROM employee emp \" + \n                                            +\"WHERE emp.department_id = :departement_id\");\n    query.setLong(\"department_id\",  departmentId);\n    query.addEntity(\"emp\",  Employee.class);                        \n    return (List&lt;Employee&gt;) = query.list();\n}\n</code></pre>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89252,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":13607470,"answer_count":6,"score":25,"last_activity_date":1664104797,"creation_date":1354112742,"question_id":13607337,"body_markdown":"In hibernate I can do following\r\n\r\n    Query q = session.createQuery(&quot;from Employee as e&quot;);\r\n    List&lt;Employee&gt; emps = q.list();\r\n\r\n\r\nNow if I want to fetch int and String how can I do it?\r\n\r\n\r\n    Query q = session.createQuery(&quot;SELECT E.firstName,E.ID FROM Employee E&quot;);\r\n    List ans = q.list();\r\n\r\nNow what will be the structure of list?\r\n","title":"Hibernate query for selecting multiple values","body":"<p>In hibernate I can do following</p>\n<pre><code>Query q = session.createQuery(&quot;from Employee as e&quot;);\nList&lt;Employee&gt; emps = q.list();\n</code></pre>\n<p>Now if I want to fetch int and String how can I do it?</p>\n<pre><code>Query q = session.createQuery(&quot;SELECT E.firstName,E.ID FROM Employee E&quot;);\nList ans = q.list();\n</code></pre>\n<p>Now what will be the structure of list?</p>\n"},{"tags":["java","ignite","diagnostics"],"answers":[{"tags":[],"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664096140,"creation_date":1664096140,"answer_id":73843206,"question_id":73795600,"body_markdown":"With this setting an Ignite node conditionally checks internal structures in order to find long-running operations and print a log message. There&#39;s also a property `IGNITE_LONG_OPERATIONS_DUMP_TIMEOUT` controlling the threshold for duration of operations, by default it&#39;s 60_000 ms (operations longer than that are considered long-running).  I believe that this diagnostics machinery in almost harmless in terms of performance and stability and should be always enabled. It could serve two main purposes: troubleshooting and monitoring (alerting). ","title":"In which scenario Ignite diagnostics will be generated?","body":"<p>With this setting an Ignite node conditionally checks internal structures in order to find long-running operations and print a log message. There's also a property <code>IGNITE_LONG_OPERATIONS_DUMP_TIMEOUT</code> controlling the threshold for duration of operations, by default it's 60_000 ms (operations longer than that are considered long-running).  I believe that this diagnostics machinery in almost harmless in terms of performance and stability and should be always enabled. It could serve two main purposes: troubleshooting and monitoring (alerting).</p>\n"}],"owner":{"account_id":6302857,"reputation":11,"user_id":12341598,"display_name":"Shivi Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664104297,"creation_date":1663736855,"question_id":73795600,"body_markdown":"We are exploring Apache Ignite, and we want to understand the impact of keeping Ignite system property `IGNITE_DIAGNOSTIC_ENABLED` with default value true on production.","title":"In which scenario Ignite diagnostics will be generated?","body":"<p>We are exploring Apache Ignite, and we want to understand the impact of keeping Ignite system property <code>IGNITE_DIAGNOSTIC_ENABLED</code> with default value true on production.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1648624408,"post_id":71672245,"comment_id":126668485,"body_markdown":"How about overriding Jackson `ObjectMapper` to do your custom conversion. you could then have the mapping definitions in your config","body":"How about overriding Jackson <code>ObjectMapper</code> to do your custom conversion. you could then have the mapping definitions in your config"}],"answers":[{"tags":[],"owner":{"account_id":24741675,"reputation":1,"user_id":18628346,"display_name":"Ritesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664103515,"creation_date":1664103515,"answer_id":73843959,"question_id":71672245,"body_markdown":"I used data pipeline that is third party product to map the inbound and outbound fields. It can validate the inbound message and transform it to different types of message formats. I put all the mappings in the database and load into the Redis cache from their regularly loading into the JVM so that there is no performance impact. Now I have superset of inbound and outbound fields so based on inbound/outbound messages I can make the changes at runtime. This solution is running in the Production.","title":"Java Json to Json message mapper framework","body":"<p>I used data pipeline that is third party product to map the inbound and outbound fields. It can validate the inbound message and transform it to different types of message formats. I put all the mappings in the database and load into the Redis cache from their regularly loading into the JVM so that there is no performance impact. Now I have superset of inbound and outbound fields so based on inbound/outbound messages I can make the changes at runtime. This solution is running in the Production.</p>\n"}],"owner":{"account_id":24741675,"reputation":1,"user_id":18628346,"display_name":"Ritesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664103515,"creation_date":1648620310,"question_id":71672245,"body_markdown":"We have implemented rest api in our Java backend application. I have to implement functionality in such a way that any json message request received by the application can be custom validated and transformed into other output json message. Example\r\n```\r\nInput: {\r\n\t&quot;name&quot; : &quot;France&quot;,\r\n\t&quot;language&quot; : &quot;French&quot;\r\n}\r\n\r\nOutput: {\r\n\t&quot;country&quot; : &quot;France&quot;,\r\n\t&quot;continent&quot; : &quot;Europe&quot;\r\n}\r\n```\r\nInput Json Message --&gt; Custom Validation --&gt; Mapper/Transformer --&gt; Output Json Message\r\n\r\nExpectation is that in this transformer framework if I could map the inbound and outbound message fields along with validation for that field so that in future if I need to change field mapping or validation, I don&#39;t need to make the code change instead just change the mapper so that input message field automatically reflect in the output json message.\r\n```\r\n Mapper File:  {\r\n \t&quot;mapper&quot; : [&quot;name:country&quot;],\r\n \t&quot;validator&quot; : [&quot;countryValidator&quot;]\r\n }\r\n```\r\nCan you please suggest any framework that can help me in the above requirement otherwise I&#39;ll have to create one. \r\n\r\nThanks all in advance.\r\n","title":"Java Json to Json message mapper framework","body":"<p>We have implemented rest api in our Java backend application. I have to implement functionality in such a way that any json message request received by the application can be custom validated and transformed into other output json message. Example</p>\n<pre><code>Input: {\n    &quot;name&quot; : &quot;France&quot;,\n    &quot;language&quot; : &quot;French&quot;\n}\n\nOutput: {\n    &quot;country&quot; : &quot;France&quot;,\n    &quot;continent&quot; : &quot;Europe&quot;\n}\n</code></pre>\n<p>Input Json Message --&gt; Custom Validation --&gt; Mapper/Transformer --&gt; Output Json Message</p>\n<p>Expectation is that in this transformer framework if I could map the inbound and outbound message fields along with validation for that field so that in future if I need to change field mapping or validation, I don't need to make the code change instead just change the mapper so that input message field automatically reflect in the output json message.</p>\n<pre><code> Mapper File:  {\n    &quot;mapper&quot; : [&quot;name:country&quot;],\n    &quot;validator&quot; : [&quot;countryValidator&quot;]\n }\n</code></pre>\n<p>Can you please suggest any framework that can help me in the above requirement otherwise I'll have to create one.</p>\n<p>Thanks all in advance.</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1663683127,"post_id":73775565,"comment_id":130294375,"body_markdown":"Use [concatMap](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-) instead of flatMap sequential. It defer subscription, unlikd flatMapSequential. I&#39;ll try to push a detailed answer later if I find the time.","body":"Use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">concatMap</a> instead of flatMap sequential. It defer subscription, unlikd flatMapSequential. I&#39;ll try to push a detailed answer later if I find the time."}],"answers":[{"tags":[],"owner":{"account_id":1620950,"reputation":2151,"user_id":1497516,"accept_rate":85,"display_name":"OzB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664103219,"creation_date":1664103219,"answer_id":73843930,"question_id":73775565,"body_markdown":"So seems like I got to something that works, posting it here in case it&#39;ll help anybody in the future:\r\n\r\n```java\r\npublic interface PipelineAction&lt;T&gt; {\r\n    /**\r\n     * Invokes the action.\r\n     * @param item the object to invoke the action on.\r\n     * @param ctx the {@link ContextView} available to the action.\r\n     * @return a Mono that completes when the log archive has been handled.\r\n     */\r\n    @NotNull\r\n    Mono&lt;T&gt; process(@NotNull T item, @NotNull ContextView ctx);\r\n}\r\n\r\n\r\n@Slf4j\r\npublic abstract class AbstractActionsPipelineExecutor&lt;T, A extends PipelineAction&lt;T&gt;&gt;\r\n        implements ActionsPipelineExecutor&lt;T&gt; {\r\n    private static final int DEFAULT_RETRY_MAX_RETRIES = 5;\r\n    private static final Duration DEFAULT_RETRY_MIN_BACKOFF_DURATION = Duration.ofSeconds(10);\r\n\r\n    protected final List&lt;A&gt; actions;\r\n\r\n    /**\r\n     * Instantiates a simple pipeline of actions.\r\n     * @param actions the actions to run.\r\n     */\r\n    public AbstractActionsPipelineExecutor(@NotNull final List&lt;A&gt; actions) {\r\n        this.actions = actions;\r\n    }\r\n\r\n    /** {@inheritDoc} */\r\n    @NotNull\r\n    @Override\r\n    public Mono&lt;T&gt; execute(@NotNull final T item) {\r\n        if (actions.isEmpty()) {\r\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\r\n            return Mono.just(item);\r\n        }\r\n\r\n        return Flux.deferContextual(contextView -&gt;\r\n                        Flux.fromIterable(actions)\r\n                                .concatMap(action -&gt; {\r\n                                    onBeforeApply(item, action);\r\n                                    var result = action.process(item, contextView)\r\n                                            .doOnError(throwable -&gt; onApplyError(item, action, throwable))\r\n                                            .doOnSuccess(ignored -&gt; onAfterApply(item, action));\r\n                                    if (getMaxBackoffRetryAttempts() &gt; 0) {\r\n                                        result = result.retryWhen(Retry.backoff(\r\n                                                getMaxBackoffRetryAttempts(), DEFAULT_RETRY_MIN_BACKOFF_DURATION));\r\n                                    }\r\n                                    return result;\r\n                                })\r\n                                .onErrorStop()\r\n                )\r\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\r\n                .last()\r\n                .then(Mono.just(item));\r\n    }\r\n\r\n    /**\r\n     * Event handler used before an action is applied to the item.\r\n     * @param item the item to apply the action to.\r\n     * @param action the action to apply.\r\n     */\r\n    protected void onBeforeApply(final T item, final A action) { }\r\n\r\n    /**\r\n     * Event handler used after an action has been applied to the item.\r\n     * @param item the item that was applied the action to.\r\n     * @param action the action that was applied.\r\n     */\r\n    protected void onAfterApply(final T item, final A action) { }\r\n\r\n    /**\r\n     * Event handler used when an error occurs while applying an action to the item.\r\n     * @param item the item that was applied the action to.\r\n     * @param action the action that was applied.\r\n     * @param e the error that occurred.\r\n     */\r\n    protected void onApplyError(final T item, final A action, final Throwable e) { }\r\n\r\n    /**\r\n     * Returns the maximum number of times to retry an action before giving up.\r\n     * @return the maximum number of times to retry an action before giving up.\r\n     */\r\n    protected int getMaxBackoffRetryAttempts() {\r\n        return DEFAULT_RETRY_MAX_RETRIES;\r\n    }\r\n\r\n    /**\r\n     * Returns the class of the item that this pipeline executor is for.\r\n     * @return the class of the item that this pipeline executor is for.\r\n     */\r\n    @NotNull\r\n    protected Duration getMaxBackoffDuration() {\r\n        return DEFAULT_RETRY_MIN_BACKOFF_DURATION;\r\n    }\r\n\r\n    /**\r\n     * Gets the {@link Class} of the items that are processed by this pipeline.\r\n     * @return the {@link Class} of the items that are processed by this pipeline.\r\n     */\r\n    protected abstract Class&lt;T&gt; getItemClass();\r\n\r\n    /**\r\n     * Gets the {@link Class} of the actions that are applied by this pipeline.\r\n     * @return the {@link Class} of the actions that are applied by this pipeline.\r\n     */\r\n    protected abstract Class&lt;A&gt; getActionClass();\r\n\r\n    /**\r\n     * Performs an action when an error occurs while applying an action to the item.\r\n     * @param mono the mono to apply the action to.\r\n     * @return the mono after the action has been applied.\r\n     */\r\n    @NotNull\r\n    private Mono&lt;T&gt; doOnApplyError(final Mono&lt;T&gt; mono) {\r\n        return Mono.deferContextual(ctx -&gt; mono.doOnError(e -&gt; {\r\n            var item = ctx.get(getItemClass());\r\n            var action = ctx.get(getActionClass());\r\n            onApplyError(item, action, e);\r\n        }));\r\n    }\r\n}\r\n```","title":"Webflux execute a sequence of actions in sequential order and get their result","body":"<p>So seems like I got to something that works, posting it here in case it'll help anybody in the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PipelineAction&lt;T&gt; {\n    /**\n     * Invokes the action.\n     * @param item the object to invoke the action on.\n     * @param ctx the {@link ContextView} available to the action.\n     * @return a Mono that completes when the log archive has been handled.\n     */\n    @NotNull\n    Mono&lt;T&gt; process(@NotNull T item, @NotNull ContextView ctx);\n}\n\n\n@Slf4j\npublic abstract class AbstractActionsPipelineExecutor&lt;T, A extends PipelineAction&lt;T&gt;&gt;\n        implements ActionsPipelineExecutor&lt;T&gt; {\n    private static final int DEFAULT_RETRY_MAX_RETRIES = 5;\n    private static final Duration DEFAULT_RETRY_MIN_BACKOFF_DURATION = Duration.ofSeconds(10);\n\n    protected final List&lt;A&gt; actions;\n\n    /**\n     * Instantiates a simple pipeline of actions.\n     * @param actions the actions to run.\n     */\n    public AbstractActionsPipelineExecutor(@NotNull final List&lt;A&gt; actions) {\n        this.actions = actions;\n    }\n\n    /** {@inheritDoc} */\n    @NotNull\n    @Override\n    public Mono&lt;T&gt; execute(@NotNull final T item) {\n        if (actions.isEmpty()) {\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\n            return Mono.just(item);\n        }\n\n        return Flux.deferContextual(contextView -&gt;\n                        Flux.fromIterable(actions)\n                                .concatMap(action -&gt; {\n                                    onBeforeApply(item, action);\n                                    var result = action.process(item, contextView)\n                                            .doOnError(throwable -&gt; onApplyError(item, action, throwable))\n                                            .doOnSuccess(ignored -&gt; onAfterApply(item, action));\n                                    if (getMaxBackoffRetryAttempts() &gt; 0) {\n                                        result = result.retryWhen(Retry.backoff(\n                                                getMaxBackoffRetryAttempts(), DEFAULT_RETRY_MIN_BACKOFF_DURATION));\n                                    }\n                                    return result;\n                                })\n                                .onErrorStop()\n                )\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\n                .last()\n                .then(Mono.just(item));\n    }\n\n    /**\n     * Event handler used before an action is applied to the item.\n     * @param item the item to apply the action to.\n     * @param action the action to apply.\n     */\n    protected void onBeforeApply(final T item, final A action) { }\n\n    /**\n     * Event handler used after an action has been applied to the item.\n     * @param item the item that was applied the action to.\n     * @param action the action that was applied.\n     */\n    protected void onAfterApply(final T item, final A action) { }\n\n    /**\n     * Event handler used when an error occurs while applying an action to the item.\n     * @param item the item that was applied the action to.\n     * @param action the action that was applied.\n     * @param e the error that occurred.\n     */\n    protected void onApplyError(final T item, final A action, final Throwable e) { }\n\n    /**\n     * Returns the maximum number of times to retry an action before giving up.\n     * @return the maximum number of times to retry an action before giving up.\n     */\n    protected int getMaxBackoffRetryAttempts() {\n        return DEFAULT_RETRY_MAX_RETRIES;\n    }\n\n    /**\n     * Returns the class of the item that this pipeline executor is for.\n     * @return the class of the item that this pipeline executor is for.\n     */\n    @NotNull\n    protected Duration getMaxBackoffDuration() {\n        return DEFAULT_RETRY_MIN_BACKOFF_DURATION;\n    }\n\n    /**\n     * Gets the {@link Class} of the items that are processed by this pipeline.\n     * @return the {@link Class} of the items that are processed by this pipeline.\n     */\n    protected abstract Class&lt;T&gt; getItemClass();\n\n    /**\n     * Gets the {@link Class} of the actions that are applied by this pipeline.\n     * @return the {@link Class} of the actions that are applied by this pipeline.\n     */\n    protected abstract Class&lt;A&gt; getActionClass();\n\n    /**\n     * Performs an action when an error occurs while applying an action to the item.\n     * @param mono the mono to apply the action to.\n     * @return the mono after the action has been applied.\n     */\n    @NotNull\n    private Mono&lt;T&gt; doOnApplyError(final Mono&lt;T&gt; mono) {\n        return Mono.deferContextual(ctx -&gt; mono.doOnError(e -&gt; {\n            var item = ctx.get(getItemClass());\n            var action = ctx.get(getActionClass());\n            onApplyError(item, action, e);\n        }));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1620950,"reputation":2151,"user_id":1497516,"accept_rate":85,"display_name":"OzB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73843930,"answer_count":1,"score":0,"last_activity_date":1664103219,"creation_date":1663599983,"question_id":73775565,"body_markdown":"I have this issue with Webflux which I don&#39;t seem to have a valid solution for: I have an item, `T`, which I need to process using `n` Webflux actions. Each action is a function that takes `T` and returns `Mono&lt;T&gt;`.\r\n\r\nI could execute the actions on the item using `flatMapSequential`, but the issue is that I want to terminate the sequential actions if prior actions has been failed.\r\nFor example, say `T = User` and we want to support deletion of users. So deletion will require the following actions: &quot;deleting from db&quot; &gt; &quot;delete pictures&quot; &gt; &quot;publish delete message on Kafka&quot;.\r\n\r\nI must follow these exact steps, and not publish a message to Kafka if the DB deletion has been failed. \r\nHowever, ATM each action that&#39;s being executed is a standalone one, so my &quot;publish to Kafka&quot; action is being executed even when my &quot;remove from db&quot; action fails and throws.\r\n\r\nI&#39;d love to understand what am I missing...\r\n\r\nMy execute method:\r\n\r\n```java\r\n    public Mono&lt;T&gt; execute(final T item) {\r\n        if (actions.isEmpty()) {\r\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\r\n            return Mono.just(item);\r\n        }\r\n\r\n        return Flux.fromIterable(actions)\r\n                .as(this::doBeforeItemApply)\r\n                .flatMapSequential(this::applyAction, 1)\r\n                .onErrorStop()\r\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\r\n                .last()\r\n                .then(Mono.just(item));\r\n    }\r\n\r\n\r\n    protected Mono&lt;A&gt; applyAction(final A action) {\r\n        return Mono.deferContextual(ctx -&gt; applyAction(ctx, action, ctx.get(getItemClass()))\r\n                .as(this::doOnApplyError)\r\n                .as(this::doAfterItemApply)\r\n                .contextWrite(innerCtx -&gt; innerCtx.put(getActionClass(), action))\r\n                .then(Mono.just(action)));\r\n    }\r\n```\r\n\r\nThe actions are being injected using Spring Boot.","title":"Webflux execute a sequence of actions in sequential order and get their result","body":"<p>I have this issue with Webflux which I don't seem to have a valid solution for: I have an item, <code>T</code>, which I need to process using <code>n</code> Webflux actions. Each action is a function that takes <code>T</code> and returns <code>Mono&lt;T&gt;</code>.</p>\n<p>I could execute the actions on the item using <code>flatMapSequential</code>, but the issue is that I want to terminate the sequential actions if prior actions has been failed.\nFor example, say <code>T = User</code> and we want to support deletion of users. So deletion will require the following actions: &quot;deleting from db&quot; &gt; &quot;delete pictures&quot; &gt; &quot;publish delete message on Kafka&quot;.</p>\n<p>I must follow these exact steps, and not publish a message to Kafka if the DB deletion has been failed.\nHowever, ATM each action that's being executed is a standalone one, so my &quot;publish to Kafka&quot; action is being executed even when my &quot;remove from db&quot; action fails and throws.</p>\n<p>I'd love to understand what am I missing...</p>\n<p>My execute method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;T&gt; execute(final T item) {\n        if (actions.isEmpty()) {\n            LOG.warn(&quot;No actions to execute on item {}&quot;, item);\n            return Mono.just(item);\n        }\n\n        return Flux.fromIterable(actions)\n                .as(this::doBeforeItemApply)\n                .flatMapSequential(this::applyAction, 1)\n                .onErrorStop()\n                .contextWrite(ctx -&gt; ctx.put(getItemClass(), item))\n                .last()\n                .then(Mono.just(item));\n    }\n\n\n    protected Mono&lt;A&gt; applyAction(final A action) {\n        return Mono.deferContextual(ctx -&gt; applyAction(ctx, action, ctx.get(getItemClass()))\n                .as(this::doOnApplyError)\n                .as(this::doAfterItemApply)\n                .contextWrite(innerCtx -&gt; innerCtx.put(getActionClass(), action))\n                .then(Mono.just(action)));\n    }\n</code></pre>\n<p>The actions are being injected using Spring Boot.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664006512,"post_id":73835558,"comment_id":130376549,"body_markdown":"*apparently* `2017-09-24` (the standard format of `LocalDate`) is not a valid date for PostgreSQL, it is more two subtractions resulting in `1984`. Check the correct DB format for literal dates... or use `PreparedStatement` - also recommended to avoid SQL injection (see also [Little Bobby Tables](https://xkcd.com/327/))","body":"<i>apparently</i> <code>2017-09-24</code> (the standard format of <code>LocalDate</code>) is not a valid date for PostgreSQL, it is more two subtractions resulting in <code>1984</code>. Check the correct DB format for literal dates... or use <code>PreparedStatement</code> - also recommended to avoid SQL injection (see also <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Little Bobby Tables</a>)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1664008305,"post_id":73835558,"comment_id":130376798,"body_markdown":"Use `?` placeholders in your SQL and your problem will be solved and you have protected yourself against SQL injection at the same time. Please see [Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2](https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2).","body":"Use <code>?</code> placeholders in your SQL and your problem will be solved and you have protected yourself against SQL injection at the same time. Please see <a href=\"https://stackoverflow.com/questions/43039614/insert-fetch-java-time-localdate-objects-to-from-an-sql-database-such-as-h2\">Insert &amp; fetch java.time.LocalDate objects to/from an SQL database such as H2</a>."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1664034935,"post_id":73835558,"comment_id":130381460,"body_markdown":"Do **not** concatenate parameters into SQL strings. Use a `PreparedStatement` then you can pass the `LocalDate` instance directly.","body":"Do <b>not</b> concatenate parameters into SQL strings. Use a <code>PreparedStatement</code> then you can pass the <code>LocalDate</code> instance directly."}],"answers":[{"tags":[],"owner":{"account_id":4384758,"reputation":1233,"user_id":3830485,"display_name":"SaiNageswar S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664102735,"creation_date":1664006098,"answer_id":73835600,"question_id":73835558,"body_markdown":"Here you are using direct insert sql statement. As you are appending date object to string it will be converted to date.toString() which might not be expected format in sql.\r\n\r\nBelow is the insert sql statement:\r\n\r\n```\r\n&quot;Insert into autore(nome_autore, cognome_autore, datanascita)\r\nvalues(&#39;&quot;+authorName+&quot;&#39;, &#39;&quot;+authorSurname+&quot;&#39;, &#39;2017-09-24&#39;)&quot;)\r\n```\r\n\r\nNote: This approach of sql query building is not recommended and open to SQL Injection. Better to use PreparedStatement or an ORM framework.","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>Here you are using direct insert sql statement. As you are appending date object to string it will be converted to date.toString() which might not be expected format in sql.</p>\n<p>Below is the insert sql statement:</p>\n<pre><code>&quot;Insert into autore(nome_autore, cognome_autore, datanascita)\nvalues('&quot;+authorName+&quot;', '&quot;+authorSurname+&quot;', '2017-09-24')&quot;)\n</code></pre>\n<p>Note: This approach of sql query building is not recommended and open to SQL Injection. Better to use PreparedStatement or an ORM framework.</p>\n"},{"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664008258,"creation_date":1664006730,"answer_id":73835658,"question_id":73835558,"body_markdown":"There is a  way to solve this. In the place Where is you specify the jdbc url. \r\n\r\nEx: \r\n\r\n    &quot;jdbc:postgresql://host/schema&quot;\r\n\r\n\r\nChange above to \r\n\r\n    &quot;jdbc:postgresql://host/schema?stringtype=unspecified&quot;\r\n\r\nThen your db determine type of your params not the jdbc driver.","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>There is a  way to solve this. In the place Where is you specify the jdbc url.</p>\n<p>Ex:</p>\n<pre><code>&quot;jdbc:postgresql://host/schema&quot;\n</code></pre>\n<p>Change above to</p>\n<pre><code>&quot;jdbc:postgresql://host/schema?stringtype=unspecified&quot;\n</code></pre>\n<p>Then your db determine type of your params not the jdbc driver.</p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664035369,"creation_date":1664035369,"answer_id":73838663,"question_id":73835558,"body_markdown":"The correct solution to this problem is to use a `PreparedStatement` - do not concatenate parameters into SQL strings. \r\n\r\nYour problem with the date parameter is only the tip of the iceberg. &lt;br&gt;\r\nThe next problem you&#39;ll get is, if `Peter O&#39;Donnel` signs up.\r\n\r\nSo you should use something like this:\r\n\r\n```java\r\nString authorName = &quot;Paul&quot;;\r\nString authorSurname = &quot;Mac&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); \r\nLocalDate date = LocalDate.parse(&quot;2017-09-24&quot;, f);\r\n\r\nString insert = &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(?,?,?)&quot;;\r\n\r\nPreparedStatement pstmt = connection.prepareStatement(insert, Statement.RETURN_GENERATED_KEYS);\r\npstmt.setString(1, authorName);\r\npstmt.setString(2, authorSurname);\r\npstmt.setObject(3, date, java.sql.Types.DATE);\r\n\r\npstmt.executeUpdate();\r\n```\r\n","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>The correct solution to this problem is to use a <code>PreparedStatement</code> - do not concatenate parameters into SQL strings.</p>\n<p>Your problem with the date parameter is only the tip of the iceberg. <br>\nThe next problem you'll get is, if <code>Peter O'Donnel</code> signs up.</p>\n<p>So you should use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String authorName = &quot;Paul&quot;;\nString authorSurname = &quot;Mac&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); \nLocalDate date = LocalDate.parse(&quot;2017-09-24&quot;, f);\n\nString insert = &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(?,?,?)&quot;;\n\nPreparedStatement pstmt = connection.prepareStatement(insert, Statement.RETURN_GENERATED_KEYS);\npstmt.setString(1, authorName);\npstmt.setString(2, authorSurname);\npstmt.setObject(3, date, java.sql.Types.DATE);\n\npstmt.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":26429239,"reputation":13,"user_id":20075677,"display_name":"yellowood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73838663,"answer_count":3,"score":1,"last_activity_date":1664102735,"creation_date":1664005552,"question_id":73835558,"body_markdown":"I&#39;m trying to insert a record inside my table but I cannot insert any values into the Date column. \r\n\r\nThis is the code I use to make an insert: \r\n\r\n    Connection connection = DatabaseConnection.getInstance().getConnection();\r\n        ResultSet result = null;\r\n        try\r\n        {\r\n            Statement statement = connection.createStatement();\r\n            statement.executeUpdate(query,Statement.RETURN_GENERATED_KEYS);\r\n            result = statement.getGeneratedKeys();\r\n        } catch (SQLException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            return result;\r\n        }\r\n\r\nHow I call this function: \r\n\r\n    String authorName = &quot;Paul&quot;\r\n    String authorSurname = &quot;Mac&quot;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd&quot; ) ; \r\n    LocalDate date = LocalDate.parse ( &quot;2017-09-24&quot; , f );\r\n    \r\n    &quot;Insert into autore(nome_autore, cognome_autore, datanascita) values(&#39;&quot;+authorName+&quot;&#39;, &#39;&quot;+authorSurname+&quot;&#39;, &quot;+date+&quot;)&quot;)\r\n\r\nThe fullstack trace I get: \r\n\r\n    org.postgresql.util.PSQLException: ERROR: column &quot;datanascita&quot; is of type date but expression is of type integer\r\n      Suggerimento: You will need to rewrite or cast the expression.\r\n      Posizione: 90\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\r\n    \tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1259)\r\n    \tat org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1240)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DatabaseConnection.QueryManager.executeUpdateWithResultSet(QueryManager.java:113)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DAOImplementation.AuthorDaoPostgresql.insertAuthor(AuthorDaoPostgresql.java:136)\r\n    \tat projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.Main.MainCe.main(MainCe.java:43)","title":"org.postgresql.util.PSQLException: ERROR: column is of type date but expression is of type integer: cannot write date into postgres using java","body":"<p>I'm trying to insert a record inside my table but I cannot insert any values into the Date column.</p>\n<p>This is the code I use to make an insert:</p>\n<pre><code>Connection connection = DatabaseConnection.getInstance().getConnection();\n    ResultSet result = null;\n    try\n    {\n        Statement statement = connection.createStatement();\n        statement.executeUpdate(query,Statement.RETURN_GENERATED_KEYS);\n        result = statement.getGeneratedKeys();\n    } catch (SQLException e)\n    {\n        e.printStackTrace();\n    }\n    finally\n    {\n        return result;\n    }\n</code></pre>\n<p>How I call this function:</p>\n<pre><code>String authorName = &quot;Paul&quot;\nString authorSurname = &quot;Mac&quot;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd&quot; ) ; \nLocalDate date = LocalDate.parse ( &quot;2017-09-24&quot; , f );\n\n&quot;Insert into autore(nome_autore, cognome_autore, datanascita) values('&quot;+authorName+&quot;', '&quot;+authorSurname+&quot;', &quot;+date+&quot;)&quot;)\n</code></pre>\n<p>The fullstack trace I get:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column &quot;datanascita&quot; is of type date but expression is of type integer\n  Suggerimento: You will need to rewrite or cast the expression.\n  Posizione: 90\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)\n    at org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1259)\n    at org.postgresql.jdbc.PgStatement.executeUpdate(PgStatement.java:1240)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DatabaseConnection.QueryManager.executeUpdateWithResultSet(QueryManager.java:113)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.DAOImplementation.AuthorDaoPostgresql.insertAuthor(AuthorDaoPostgresql.java:136)\n    at projectRiferimentiBibliografici/com.ProjectRiferimentiBibliografici.Main.MainCe.main(MainCe.java:43)\n</code></pre>\n"},{"tags":["java","constructor","javabeans","lombok","pojo"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664094392,"post_id":73843005,"comment_id":130389009,"body_markdown":"Did it cause a issue if you remove constructor inside child class?","body":"Did it cause a issue if you remove constructor inside child class?"},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664100059,"post_id":73843005,"comment_id":130389881,"body_markdown":"@YJR: Yes, it says there is no default constructor available in &#39;Parent&#39;.","body":"@YJR: Yes, it says there is no default constructor available in &#39;Parent&#39;."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664100450,"post_id":73843005,"comment_id":130389943,"body_markdown":"I checked how I implemented. I implemented same  way as you. I think no other way to do that using lambok.","body":"I checked how I implemented. I implemented same  way as you. I think no other way to do that using lambok."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1664100837,"post_id":73843005,"comment_id":130390013,"body_markdown":"If there is a way I also want to know that.Therefore I upvote the question.","body":"If there is a way I also want to know that.Therefore I upvote the question."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664102631,"creation_date":1664101296,"answer_id":73843724,"question_id":73843005,"body_markdown":"As of lombok version `1.18.2` you can use for this reason the `@SuperBuilder` annotation.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    public class Parent {\r\n    \r\n        private String name;\r\n    \r\n    }\r\n    @Data\r\n    @SuperBuilder\r\n    public class Child extends Parent {\r\n    \r\n        private int age;\r\n    }\r\n\r\nKeep in mind that the  annotation needs to be both in parent and in child class.\r\n\r\nThen you can use it as `Child child = Child.builder().age(1).name(&quot;Mike&quot;).build()`\r\n\r\nAs written in the doc\r\n\r\n&gt; @SuperBuilder generates a protected constructor on the class that\r\n&gt; takes a builder instance as a parameter. This constructor sets the\r\n&gt; fields of the new instance to the values from the builder.\r\n\r\nOfficial [documentation][1]\r\n\r\nAs explained in the documentation this does not exactly generate what the question asks, \r\n\r\n              public Child(String name, int age) {\r\n                super(name);\r\n                this.age = age;\r\n            }\r\n\r\nBut it creates instead a constructor that takes a builder as parameter and from this builder and the parameters it contains it moves forward to instantiating both fields in parent and child class. But this is the only possible solution with lombok as to use a constructor from the child class to instantiate fields both in parent and child class.\r\n\r\n  [1]: https://projectlombok.org/features/experimental/SuperBuilder\r\n\r\nKeep in mind that this was added as an experimental feature 4 years ago and it still part of lombok.","title":"How to use Lombok to create a constructor that calls AllArgsConstructor of super class?","body":"<p>As of lombok version <code>1.18.2</code> you can use for this reason the <code>@SuperBuilder</code> annotation.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@SuperBuilder\npublic class Parent {\n\n    private String name;\n\n}\n@Data\n@SuperBuilder\npublic class Child extends Parent {\n\n    private int age;\n}\n</code></pre>\n<p>Keep in mind that the  annotation needs to be both in parent and in child class.</p>\n<p>Then you can use it as <code>Child child = Child.builder().age(1).name(&quot;Mike&quot;).build()</code></p>\n<p>As written in the doc</p>\n<blockquote>\n<p>@SuperBuilder generates a protected constructor on the class that\ntakes a builder instance as a parameter. This constructor sets the\nfields of the new instance to the values from the builder.</p>\n</blockquote>\n<p>Official <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>As explained in the documentation this does not exactly generate what the question asks,</p>\n<pre><code>          public Child(String name, int age) {\n            super(name);\n            this.age = age;\n        }\n</code></pre>\n<p>But it creates instead a constructor that takes a builder as parameter and from this builder and the parameters it contains it moves forward to instantiating both fields in parent and child class. But this is the only possible solution with lombok as to use a constructor from the child class to instantiate fields both in parent and child class.</p>\n<p>Keep in mind that this was added as an experimental feature 4 years ago and it still part of lombok.</p>\n"}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5778,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1664102631,"creation_date":1664094104,"question_id":73843005,"body_markdown":"I have a super class and child class:\r\n``` Java\r\n@Data\r\n@AllArgsConstructor\r\npublic class Parent {\r\n\r\n    private String name;\r\n\r\n}\r\n```\r\n``` Java\r\n@Data\r\npublic class Child extends Parent {\r\n\r\n    private int age;\r\n\r\n    public Child(String name, int age) {\r\n        super(name);\r\n        this.age = age;\r\n    }\r\n\r\n}\r\n```\r\nHow can I use Lombok annotation to help me create child class constructor?\r\n\r\nThanks in advance :)","title":"How to use Lombok to create a constructor that calls AllArgsConstructor of super class?","body":"<p>I have a super class and child class:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Parent {\n\n    private String name;\n\n}\n</code></pre>\n<pre><code>@Data\npublic class Child extends Parent {\n\n    private int age;\n\n    public Child(String name, int age) {\n        super(name);\n        this.age = age;\n    }\n\n}\n</code></pre>\n<p>How can I use Lombok annotation to help me create child class constructor?</p>\n<p>Thanks in advance :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1337849593,"post_id":10734106,"comment_id":13944666,"body_markdown":"Please post code which would actually compile. Your `toString()` method doesn&#39;t return a string, and you can&#39;t call a constructor like that. It&#39;s unclear what you&#39;re even trying to achieve. Please read http://tinyurl.com/so-hints and clarify your question.","body":"Please post code which would actually compile. Your <code>toString()</code> method doesn&#39;t return a string, and you can&#39;t call a constructor like that. It&#39;s unclear what you&#39;re even trying to achieve. Please read <a href=\"http://tinyurl.com/so-hints\" rel=\"nofollow noreferrer\">tinyurl.com/so-hints</a> and clarify your question."},{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":0,"creation_date":1337868120,"post_id":10734106,"comment_id":13952413,"body_markdown":"The Spring&#39;s ToStringCreator (https://github.com/SpringSource/spring-framework/tree/master/spring-core/src/main/java/org/springframework/core/style) does the job very nicely.","body":"The Spring&#39;s ToStringCreator (<a href=\"https://github.com/SpringSource/spring-framework/tree/master/spring-core/src/main/java/org/springframework/core/style\" rel=\"nofollow noreferrer\">github.com/SpringSource/spring-framework/tree/master/&hellip;</a>) does the job very nicely."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1550893156,"post_id":10734106,"comment_id":96450340,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), `java.util.GregorianCalendar` and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <code>java.util.GregorianCalendar</code> and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1337849568,"creation_date":1337849568,"answer_id":10734148,"question_id":10734106,"body_markdown":"The `toString` is supposed to return a `String`.\r\n\r\n    public String toString() { \r\n        return &quot;Name: &#39;&quot; + this.name + &quot;&#39;, Height: &#39;&quot; + this.height + &quot;&#39;, Birthday: &#39;&quot; + this.bDay + &quot;&#39;&quot;;\r\n    } \r\n\r\nI suggest you make use of your IDE&#39;s features to generate the `toString` method. Don&#39;t hand-code it.\r\n\r\nFor instance, Eclipse can do so if you simply right-click on the source code and select `Source &gt; Generate toString`","title":"How to override toString() properly in Java?","body":"<p>The <code>toString</code> is supposed to return a <code>String</code>.</p>\n\n<pre><code>public String toString() { \n    return \"Name: '\" + this.name + \"', Height: '\" + this.height + \"', Birthday: '\" + this.bDay + \"'\";\n} \n</code></pre>\n\n<p>I suggest you make use of your IDE's features to generate the <code>toString</code> method. Don't hand-code it.</p>\n\n<p>For instance, Eclipse can do so if you simply right-click on the source code and select <code>Source &gt; Generate toString</code></p>\n"},{"tags":[],"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486107354,"creation_date":1337849611,"answer_id":10734156,"question_id":10734106,"body_markdown":"You can creating new object in the toString().\r\nuse\r\n\r\n    return &quot;Name = &quot; + this.name +&quot; height= &quot; + this.height;\r\n   \r\n instead of \r\n\r\n    return Kid(this.name, this.height, this.bDay);\r\n\r\nYou may change the return string as required. There are other ways to store date instead calander.","title":"How to override toString() properly in Java?","body":"<p>You can creating new object in the toString().\nuse</p>\n\n<pre><code>return \"Name = \" + this.name +\" height= \" + this.height;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>return Kid(this.name, this.height, this.bDay);\n</code></pre>\n\n<p>You may change the return string as required. There are other ways to store date instead calander.</p>\n"},{"tags":[],"owner":{"account_id":18313,"reputation":13576,"user_id":41861,"accept_rate":62,"display_name":"Adrian Pronk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337849630,"creation_date":1337849630,"answer_id":10734159,"question_id":10734106,"body_markdown":"You can&#39;t call a constructor as if it was a normal method, you can only call it with `new` to create a new object:\r\n \r\n    Kid newKid = new Kid(this.name, this.height, this.bDay);\r\n\r\nBut constructing a new object from your toString() method is not what you want to be doing.","title":"How to override toString() properly in Java?","body":"<p>You can't call a constructor as if it was a normal method, you can only call it with <code>new</code> to create a new object:</p>\n\n<pre><code>Kid newKid = new Kid(this.name, this.height, this.bDay);\n</code></pre>\n\n<p>But constructing a new object from your toString() method is not what you want to be doing.</p>\n"},{"tags":[],"owner":{"account_id":2838242,"reputation":529,"user_id":2438383,"accept_rate":9,"display_name":"RCR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410269025,"creation_date":1410269025,"answer_id":25745789,"question_id":10734106,"body_markdown":"Following code is a sample. Question based on the same, instead of using IDE based conversion, is there a faster way to implement so that in future the changes occur, we do not need to modify the values over and over again?\r\n\r\n    @Override\r\n        public String toString() {\r\n            return &quot;ContractDTO{&quot; +\r\n                    &quot;contractId=&#39;&quot; + contractId + &#39;\\&#39;&#39; +\r\n                    &quot;, contractTemplateId=&#39;&quot; + contractTemplateId + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }","title":"How to override toString() properly in Java?","body":"<p>Following code is a sample. Question based on the same, instead of using IDE based conversion, is there a faster way to implement so that in future the changes occur, we do not need to modify the values over and over again?</p>\n\n<pre><code>@Override\n    public String toString() {\n        return \"ContractDTO{\" +\n                \"contractId='\" + contractId + '\\'' +\n                \", contractTemplateId='\" + contractTemplateId + '\\'' +\n                '}';\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5637659,"reputation":446,"user_id":4462657,"display_name":"Linux Le"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1435801258,"creation_date":1435800719,"answer_id":31174312,"question_id":10734106,"body_markdown":"Java toString() method\r\n\r\nIf you want to represent any object as a string, toString() method comes into existence.\r\n\r\nThe toString() method returns the string representation of the object.\r\n\r\nIf you print any object, java compiler internally invokes the toString() method on the object. So overriding the toString() method, returns the desired output, it can be the state of an object etc. depends on your implementation.\r\n\r\nAdvantage of Java toString() method\r\n\r\nBy overriding the toString() method of the Object class, we can return values of the object, so we don&#39;t need to write much code.\r\n\r\nOutput without toString() method\r\n\r\n    class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n      \r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     }  \r\n      \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,Joe,success);  \r\n       Student s2=new Student(50,Jeff,fail);  \r\n         \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    }  \r\n    \r\n    Output:Student@2kaa9dc\r\n           Student@4bbc148\r\n\r\nYou can see in the above example #1.  printing s1 and s2 prints the Hashcode values of the objects but I want to print the values of these objects. Since java compiler internally calls toString() method, overriding this method will return the specified values. Let&#39;s understand it with the example given below:\r\n\r\n\r\n    Example#2\r\n    \r\n    Output with overriding toString() method\r\n    \r\n    class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n      \r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     }  \r\n       \r\n    //overriding the toString() method  \r\n    public String toString(){ \r\n      return id+&quot; &quot;+name+&quot; &quot;+address;  \r\n     }  \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,Joe,success);  \r\n       Student s2=new Student(50,Jeff,fail);  \r\n         \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    } \r\n    \r\n    Output:100 Joe success\r\n           50 Jeff fail\r\n\r\nNote that toString() mostly is related to the concept of polymorphism in Java.\r\nIn, Eclipse, try to click on toString() and right click on it.Then, click on Open Declaration and see where the Superclass toString() comes from.","title":"How to override toString() properly in Java?","body":"<p>Java toString() method</p>\n\n<p>If you want to represent any object as a string, toString() method comes into existence.</p>\n\n<p>The toString() method returns the string representation of the object.</p>\n\n<p>If you print any object, java compiler internally invokes the toString() method on the object. So overriding the toString() method, returns the desired output, it can be the state of an object etc. depends on your implementation.</p>\n\n<p>Advantage of Java toString() method</p>\n\n<p>By overriding the toString() method of the Object class, we can return values of the object, so we don't need to write much code.</p>\n\n<p>Output without toString() method</p>\n\n<pre><code>class Student{  \n int id;  \n String name;  \n String address;  \n\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n }  \n\n public static void main(String args[]){  \n   Student s1=new Student(100,Joe,success);  \n   Student s2=new Student(50,Jeff,fail);  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n}  \n\nOutput:Student@2kaa9dc\n       Student@4bbc148\n</code></pre>\n\n<p>You can see in the above example #1.  printing s1 and s2 prints the Hashcode values of the objects but I want to print the values of these objects. Since java compiler internally calls toString() method, overriding this method will return the specified values. Let's understand it with the example given below:</p>\n\n<pre><code>Example#2\n\nOutput with overriding toString() method\n\nclass Student{  \n int id;  \n String name;  \n String address;  \n\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n }  \n\n//overriding the toString() method  \npublic String toString(){ \n  return id+\" \"+name+\" \"+address;  \n }  \n public static void main(String args[]){  \n   Student s1=new Student(100,Joe,success);  \n   Student s2=new Student(50,Jeff,fail);  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n} \n\nOutput:100 Joe success\n       50 Jeff fail\n</code></pre>\n\n<p>Note that toString() mostly is related to the concept of polymorphism in Java.\nIn, Eclipse, try to click on toString() and right click on it.Then, click on Open Declaration and see where the Superclass toString() comes from.</p>\n"},{"tags":[],"owner":{"account_id":6307448,"reputation":410,"user_id":4900123,"accept_rate":56,"display_name":"Mohamed Sherif Noureldin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445538455,"creation_date":1435805512,"answer_id":31174863,"question_id":10734106,"body_markdown":"Well actually you will need to return something like this because toString has to return a string\r\n\r\n    public String toString() {\r\n     return &quot;Name :&quot; + this.name + &quot;whatever :&quot; + this.whatever + &quot;&quot;;\r\n    }\r\n\r\nand you actually do something wrong in the constructer you set the variable the user set to the name while you need to do the opposite.\r\nWhat you shouldn&#39;t do\r\n\r\n    n = this.name\r\nWhat you should do\r\n\r\n    this.name = n\r\nHopes this helps thanks","title":"How to override toString() properly in Java?","body":"<p>Well actually you will need to return something like this because toString has to return a string</p>\n\n<pre><code>public String toString() {\n return \"Name :\" + this.name + \"whatever :\" + this.whatever + \"\";\n}\n</code></pre>\n\n<p>and you actually do something wrong in the constructer you set the variable the user set to the name while you need to do the opposite.\nWhat you shouldn't do</p>\n\n<pre><code>n = this.name\n</code></pre>\n\n<p>What you should do</p>\n\n<pre><code>this.name = n\n</code></pre>\n\n<p>Hopes this helps thanks</p>\n"},{"tags":[],"owner":{"account_id":9887815,"reputation":11,"user_id":7321815,"display_name":"user7321815"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482249225,"creation_date":1482249225,"answer_id":41246305,"question_id":10734106,"body_markdown":"we can even write like this by creating a new String object in the class and assigning it what ever we want in constructor and return that in toString method which is overridden\r\n\r\n    public class Student{  \r\n     int id;  \r\n     String name;  \r\n     String address;  \r\n     String details;\r\n     Student(int id, String name, String address){  \r\n     this.id=id;  \r\n     this.name=name;  \r\n     this.address=address;  \r\n     this.details=id+&quot;  &quot;+name+&quot;  &quot;+address;  \r\n     }  \r\n    \r\n    //overriding the toString() method  \r\n    public String toString(){ \r\n      return details;  \r\n     }  \r\n     public static void main(String args[]){  \r\n       Student s1=new Student(100,&quot;Joe&quot;,&quot;success&quot;);  \r\n       Student s2=new Student(50,&quot;Jeff&quot;,&quot;fail&quot;);  \r\n    \r\n       System.out.println(s1);//compiler writes here s1.toString()  \r\n       System.out.println(s2);//compiler writes here s2.toString()  \r\n     }  \r\n    }\r\n\r\n ","title":"How to override toString() properly in Java?","body":"<p>we can even write like this by creating a new String object in the class and assigning it what ever we want in constructor and return that in toString method which is overridden</p>\n\n<pre><code>public class Student{  \n int id;  \n String name;  \n String address;  \n String details;\n Student(int id, String name, String address){  \n this.id=id;  \n this.name=name;  \n this.address=address;  \n this.details=id+\"  \"+name+\"  \"+address;  \n }  \n\n//overriding the toString() method  \npublic String toString(){ \n  return details;  \n }  \n public static void main(String args[]){  \n   Student s1=new Student(100,\"Joe\",\"success\");  \n   Student s2=new Student(50,\"Jeff\",\"fail\");  \n\n   System.out.println(s1);//compiler writes here s1.toString()  \n   System.out.println(s2);//compiler writes here s2.toString()  \n }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540828566,"creation_date":1540828566,"answer_id":53049329,"question_id":10734106,"body_markdown":"If you&#39;re interested in Unit-Tests, then you can declare a public &quot;ToStringTemplate&quot;, and then you can unit test your toString.  Even if you don&#39;t unit-test it, I think its &quot;cleaner&quot; and uses String.format.\r\n\r\n    public class Kid {\r\n    \r\n    \tpublic static final String ToStringTemplate = &quot;KidName=&#39;%1s&#39;, Height=&#39;%2s&#39;, GregCalendar=&#39;%3s&#39;&quot;;\r\n    \t\r\n    \tprivate String kidName;\r\n    \tprivate double height;\r\n    \tprivate GregorianCalendar gregCalendar;\r\n    \r\n    \tpublic String getKidName() {\r\n    \t\treturn kidName;\r\n    \t}\r\n    \r\n    \tpublic void setKidName(String kidName) {\r\n    \t\tthis.kidName = kidName;\r\n    \t}\r\n    \r\n    \tpublic double getHeight() {\r\n    \t\treturn height;\r\n    \t}\r\n    \r\n    \tpublic void setHeight(double height) {\r\n    \t\tthis.height = height;\r\n    \t}\r\n    \r\n    \tpublic GregorianCalendar getGregCalendar() {\r\n    \t\treturn gregCalendar;\r\n    \t}\r\n    \r\n    \tpublic void setGregCalendar(GregorianCalendar gregCalendar) {\r\n    \t\tthis.gregCalendar = gregCalendar;\r\n    \t}\r\n    \t\r\n    \tpublic String toString() { \r\n    \t    return String.format(ToStringTemplate, this.getKidName(), this.getHeight(), this.getGregCalendar());\r\n    \t} \r\n    }\r\n\r\nNow you can unit test by create the Kid, setting the properties, and doing your own string.format on the ToStringTemplate and comparing.\r\n\r\nmaking ToStringTemplate static-final means &quot;ONE VERSION&quot; of the truth, rather than having a &quot;copy&quot; of the template in the unit-test.\r\n\r\n","title":"How to override toString() properly in Java?","body":"<p>If you're interested in Unit-Tests, then you can declare a public \"ToStringTemplate\", and then you can unit test your toString.  Even if you don't unit-test it, I think its \"cleaner\" and uses String.format.</p>\n\n<pre><code>public class Kid {\n\n    public static final String ToStringTemplate = \"KidName='%1s', Height='%2s', GregCalendar='%3s'\";\n\n    private String kidName;\n    private double height;\n    private GregorianCalendar gregCalendar;\n\n    public String getKidName() {\n        return kidName;\n    }\n\n    public void setKidName(String kidName) {\n        this.kidName = kidName;\n    }\n\n    public double getHeight() {\n        return height;\n    }\n\n    public void setHeight(double height) {\n        this.height = height;\n    }\n\n    public GregorianCalendar getGregCalendar() {\n        return gregCalendar;\n    }\n\n    public void setGregCalendar(GregorianCalendar gregCalendar) {\n        this.gregCalendar = gregCalendar;\n    }\n\n    public String toString() { \n        return String.format(ToStringTemplate, this.getKidName(), this.getHeight(), this.getGregCalendar());\n    } \n}\n</code></pre>\n\n<p>Now you can unit test by create the Kid, setting the properties, and doing your own string.format on the ToStringTemplate and comparing.</p>\n\n<p>making ToStringTemplate static-final means \"ONE VERSION\" of the truth, rather than having a \"copy\" of the template in the unit-test.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1664101196,"creation_date":1550893106,"answer_id":54838010,"question_id":10734106,"body_markdown":"As others explained, the `toString` is not the place to be instantiating your class. Instead, the `toString` method is intended to build a string representing the value of an instance of your class, reporting on at least the most important fields of data stored in that object. In most cases, `toString` is used for *debugging* and *logging*, not for your *business logic* (except some historical methods, like `Integer.toString()`).\r\n\r\nTo generate text representing the value of an object for display to a user, add another method. People often name the method something like `getDisplayName`. For example, [`DayOfWeek::getDisplayName`][1] and [`Month::getDisplayName`][2].\r\n\r\n# `StringJoiner`\r\n\r\nAs of Java 8 and later, the most modern way to implement `toString` would use the [`StringJoiner`][3] class. As the doc says:\r\n\r\n&gt;StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\r\n\r\nUse like this:\r\n\r\n    @Override\r\n    public String toString ()\r\n    {\r\n        return new StringJoiner(                           // In Java 8 and later, StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\r\n                    &quot; | &quot; ,                                // Delimiter\r\n                    Person.class.getSimpleName() + &quot;[ &quot; ,  // Prefix\r\n                    &quot; ]&quot;                                   // Suffix\r\n                )\r\n                .add( &quot;name=&quot; + name )                     // Append\r\n                .add( &quot;phone=&quot; + phone )                   // Append\r\n                .toString();                               // Convert entire sequence to a single `String` object.\r\n    }\r\n\r\n&gt;Person[ name=Alice | phone=555.867.5309 ]\r\n\r\n# `record`\r\n\r\nJava 16 brings a new way to briefly define a class where the main purpose is to communicate data transparently and immutably: [record](https://openjdk.java.net/jeps/395). \r\n\r\nYou define a record by merely listing the type and name of each member field. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n## Default implementation of `toString`\r\n\r\nThe default implementation of `toString` includes each and every member field. \r\n\r\n    public Kid ( String name , double height , LocalDate birthDate ) {} \r\n    \r\nInstantiate like any other object. \r\n\r\n    Kid alice = new Kid( &quot;Alice&quot; , 6.1d , LocalDate.of( 2019 , Month.April , 23 ) ) ;\r\n    String output = alice.toString() ;\r\n\r\n\r\nYou may choose to override the default implementation with your own. Overrides are usually not needed given the purpose of a record as a simple data-carrier. \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringJoiner.html","title":"How to override toString() properly in Java?","body":"<p>As others explained, the <code>toString</code> is not the place to be instantiating your class. Instead, the <code>toString</code> method is intended to build a string representing the value of an instance of your class, reporting on at least the most important fields of data stored in that object. In most cases, <code>toString</code> is used for <em>debugging</em> and <em>logging</em>, not for your <em>business logic</em> (except some historical methods, like <code>Integer.toString()</code>).</p>\n<p>To generate text representing the value of an object for display to a user, add another method. People often name the method something like <code>getDisplayName</code>. For example, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>DayOfWeek::getDisplayName</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>Month::getDisplayName</code></a>.</p>\n<h1><code>StringJoiner</code></h1>\n<p>As of Java 8 and later, the most modern way to implement <code>toString</code> would use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a> class. As the doc says:</p>\n<blockquote>\n<p>StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.</p>\n</blockquote>\n<p>Use like this:</p>\n<pre><code>@Override\npublic String toString ()\n{\n    return new StringJoiner(                           // In Java 8 and later, StringJoiner is used to construct a sequence of characters separated by a delimiter and optionally starting with a supplied prefix and ending with a supplied suffix.\n                &quot; | &quot; ,                                // Delimiter\n                Person.class.getSimpleName() + &quot;[ &quot; ,  // Prefix\n                &quot; ]&quot;                                   // Suffix\n            )\n            .add( &quot;name=&quot; + name )                     // Append\n            .add( &quot;phone=&quot; + phone )                   // Append\n            .toString();                               // Convert entire sequence to a single `String` object.\n}\n</code></pre>\n<blockquote>\n<p>Person[ name=Alice | phone=555.867.5309 ]</p>\n</blockquote>\n<h1><code>record</code></h1>\n<p>Java 16 brings a new way to briefly define a class where the main purpose is to communicate data transparently and immutably: <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>You define a record by merely listing the type and name of each member field. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<h2>Default implementation of <code>toString</code></h2>\n<p>The default implementation of <code>toString</code> includes each and every member field.</p>\n<pre><code>public Kid ( String name , double height , LocalDate birthDate ) {} \n</code></pre>\n<p>Instantiate like any other object.</p>\n<pre><code>Kid alice = new Kid( &quot;Alice&quot; , 6.1d , LocalDate.of( 2019 , Month.April , 23 ) ) ;\nString output = alice.toString() ;\n</code></pre>\n<p>You may choose to override the default implementation with your own. Overrides are usually not needed given the purpose of a record as a simple data-carrier.</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552036987,"creation_date":1552036987,"answer_id":55060145,"question_id":10734106,"body_markdown":"The best way in my opinion is using google gson library:\r\n\r\n            @Override\r\n    public String toString() {\r\n        return new GsonBuilder().setPrettyPrinting().create().toJson(this);\r\n    }\r\n\r\nor apache commons lang reflection way","title":"How to override toString() properly in Java?","body":"<p>The best way in my opinion is using google gson library:</p>\n\n<pre><code>        @Override\npublic String toString() {\n    return new GsonBuilder().setPrettyPrinting().create().toJson(this);\n}\n</code></pre>\n\n<p>or apache commons lang reflection way</p>\n"},{"tags":[],"owner":{"account_id":12547682,"reputation":411,"user_id":9130417,"display_name":"The Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552038960,"creation_date":1552037419,"answer_id":55060261,"question_id":10734106,"body_markdown":"1. if you are use using notepad:\r\nthen    \r\n\r\n        public String toString(){\r\n\r\n         return &quot;&quot;; ---now here you can use variables which you have created for your class\r\n\r\n        }\r\n\r\n2. if you are using eclipse IDE then\r\npress\r\n\r\n        -alt +shift +s \r\n-click on override toString method here you will get options to select what type of variables you want to select.\r\n\r\n","title":"How to override toString() properly in Java?","body":"<ol>\n<li><p>if you are use using notepad:\nthen    </p>\n\n<pre><code>public String toString(){\n\n return \"\"; ---now here you can use variables which you have created for your class\n\n}\n</code></pre></li>\n<li><p>if you are using eclipse IDE then\npress</p>\n\n<pre><code>-alt +shift +s \n</code></pre>\n\n<p>-click on override toString method here you will get options to select what type of variables you want to select.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579789105,"creation_date":1579789105,"answer_id":59880671,"question_id":10734106,"body_markdown":"Nice and concise way is to use Lombok annotations. It has `@ToString` annotation, which will generate an implementation of the `toString()` method. By default, it will print your class name, along with each field, in order, separated by commas.\r\nYou can easily customize your output by passing parameters to annotation, e.g.:\r\n\r\n    @ToString(of = {&quot;name&quot;, &quot;lastName&quot;})\r\n\r\nWhich is equivalent of pure Java:\r\n\r\n    public String toString() {\r\n            return &quot;Person(name=&quot; + this.name + &quot;, lastName=&quot; + this.experienceInYears + &quot;)&quot;;\r\n        }","title":"How to override toString() properly in Java?","body":"<p>Nice and concise way is to use Lombok annotations. It has <code>@ToString</code> annotation, which will generate an implementation of the <code>toString()</code> method. By default, it will print your class name, along with each field, in order, separated by commas.\nYou can easily customize your output by passing parameters to annotation, e.g.:</p>\n\n<pre><code>@ToString(of = {\"name\", \"lastName\"})\n</code></pre>\n\n<p>Which is equivalent of pure Java:</p>\n\n<pre><code>public String toString() {\n        return \"Person(name=\" + this.name + \", lastName=\" + this.experienceInYears + \")\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583798498,"creation_date":1583798498,"answer_id":60609871,"question_id":10734106,"body_markdown":"If you&#39;re just using `toString()` for debugging a [DTO](https://stackoverflow.com/q/1051182/86967), you can generate *human readable* output automatically with something like the following:  \r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    ...\r\n    public String toString() {\r\n        try { return new ObjectMapper().writeValueAsString(this); }\r\n        catch (Exception e) { return &quot;{ObjectMapper failed}&quot;; }\r\n    }\r\n\r\n----------\r\n\r\n*However, this isn&#39;t appropriate for production deployments if the DTO may contain PII (which shouldn&#39;t be captured in logs).*","title":"How to override toString() properly in Java?","body":"<p>If you're just using <code>toString()</code> for debugging a <a href=\"https://stackoverflow.com/q/1051182/86967\">DTO</a>, you can generate <em>human readable</em> output automatically with something like the following:  </p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n...\npublic String toString() {\n    try { return new ObjectMapper().writeValueAsString(this); }\n    catch (Exception e) { return \"{ObjectMapper failed}\"; }\n}\n</code></pre>\n\n<hr>\n\n<p><em>However, this isn't appropriate for production deployments if the DTO may contain PII (which shouldn't be captured in logs).</em></p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596726214,"creation_date":1596726214,"answer_id":63286457,"question_id":10734106,"body_markdown":"Always have easy way: **Right Click** &gt; **Generate** &gt; **toString()** &gt; select template that you want.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3kyE.png","title":"How to override toString() properly in Java?","body":"<p>Always have easy way: <strong>Right Click</strong> &gt; <strong>Generate</strong> &gt; <strong>toString()</strong> &gt; select template that you want.\n<a href=\"https://i.stack.imgur.com/F3kyE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3kyE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26435571,"reputation":24,"user_id":20080978,"display_name":"Anil Bishnoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664102227,"creation_date":1664102227,"answer_id":73843816,"question_id":10734106,"body_markdown":"But then in the toString() method you aren&#39;t actually returning a String, are you?\r\nYou&#39;ll have to return a String for this method to work.\r\n\r\n```\r\npublic String toString() {\r\n  return &quot;Name : &quot; + this.name + &quot; Height : &quot; + this.height + &quot; BirthDay : &quot; + this.bday;\r\n}\r\n```","title":"How to override toString() properly in Java?","body":"<p>But then in the toString() method you aren't actually returning a String, are you?\nYou'll have to return a String for this method to work.</p>\n<pre><code>public String toString() {\n  return &quot;Name : &quot; + this.name + &quot; Height : &quot; + this.height + &quot; BirthDay : &quot; + this.bday;\n}\n</code></pre>\n"}],"owner":{"account_id":1342449,"reputation":1243,"user_id":1283885,"accept_rate":83,"display_name":"user1283885"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347394,"favorite_count":0,"down_vote_count":3,"up_vote_count":105,"accepted_answer_id":10734148,"answer_count":15,"score":102,"last_activity_date":1664102227,"creation_date":1337849371,"question_id":10734106,"body_markdown":"Sounds a little stupid, but I need help on my `toString()` method and it is very irking. \r\nI tried looking up online because the `toString` is the one where it is screwing up and &quot;not finding Kid constructor #2&quot; even though it is there and I would even do something else and it doesn&#39;t work.\r\nOk that was a lot so here is my code: \r\n\r\n    import java.util.*; \r\n       class Kid {  \r\n          String name; \r\n          double height; \r\n          GregorianCalendar bDay; \r\n\r\n          public Kid () { \r\n             this.name = &quot;HEAD&quot;;\r\n             this.height = 1; \r\n             this.bDay = new GregorianCalendar(1111,1,1); \r\n          } \r\n      \r\n          public Kid (String n, double h, String date) {\r\n          // method that toString() can&#39;t find somehow\r\n             StringTokenizer st = new StringTokenizer(date, &quot;/&quot;, true);\r\n             n = this.name;\r\n             h = this.height;\r\n          } \r\n          \r\n          public String toString() { \r\n             return Kid(this.name, this.height, this.bDay);\r\n          } \r\n       } //end class \r\n\r\n\r\n\r\nOk So my toString above (I know, my third parameter is off, should be a String) is off. If I hardcode a value in for the third thing it goes haywire and says it can&#39;t find this (up above). So how can I get the date and break it up?\r\n\r\n\r\n\r\nClass calling this is below\r\n\r\n    class Driver {   \r\n       public static void main (String[] args) {   \r\n          Kid kid1 = new Kid(&quot;Lexie&quot;, 2.6, &quot;11/5/2009&quot;);   \r\n          System.out.println(kid1.toString());\r\n       } //end main method \r\n    } //end class  \r\n\r\nI tried researching multiple constructors and it really didn&#39;t help.\r\nI tried researching `toString()` methods, and tried using previous `toString()` methods logic that I created previous but this is brand new so it never worked.\r\n\r\nHelp? \r\n","title":"How to override toString() properly in Java?","body":"<p>Sounds a little stupid, but I need help on my <code>toString()</code> method and it is very irking. \nI tried looking up online because the <code>toString</code> is the one where it is screwing up and \"not finding Kid constructor #2\" even though it is there and I would even do something else and it doesn't work.\nOk that was a lot so here is my code: </p>\n\n<pre><code>import java.util.*; \n   class Kid {  \n      String name; \n      double height; \n      GregorianCalendar bDay; \n\n      public Kid () { \n         this.name = \"HEAD\";\n         this.height = 1; \n         this.bDay = new GregorianCalendar(1111,1,1); \n      } \n\n      public Kid (String n, double h, String date) {\n      // method that toString() can't find somehow\n         StringTokenizer st = new StringTokenizer(date, \"/\", true);\n         n = this.name;\n         h = this.height;\n      } \n\n      public String toString() { \n         return Kid(this.name, this.height, this.bDay);\n      } \n   } //end class \n</code></pre>\n\n<p>Ok So my toString above (I know, my third parameter is off, should be a String) is off. If I hardcode a value in for the third thing it goes haywire and says it can't find this (up above). So how can I get the date and break it up?</p>\n\n<p>Class calling this is below</p>\n\n<pre><code>class Driver {   \n   public static void main (String[] args) {   \n      Kid kid1 = new Kid(\"Lexie\", 2.6, \"11/5/2009\");   \n      System.out.println(kid1.toString());\n   } //end main method \n} //end class  \n</code></pre>\n\n<p>I tried researching multiple constructors and it really didn't help.\nI tried researching <code>toString()</code> methods, and tried using previous <code>toString()</code> methods logic that I created previous but this is brand new so it never worked.</p>\n\n<p>Help? </p>\n"},{"tags":["java","typescript"],"answers":[{"tags":[],"owner":{"account_id":2288926,"reputation":1789,"user_id":2012333,"display_name":"shaktimaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664101967,"creation_date":1664101967,"answer_id":73843795,"question_id":73843036,"body_markdown":"The main problem is that you are not doing anything with the `User` object during the network call: \r\n\r\n```ts\r\ngetCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\r\n}\r\n```\r\n\r\nAngular does not support the passing body in request params, I would suggest you pass in the user id in the URL, like: \r\n```ts\r\ngetCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items/${user.id}`);\r\n}\r\n```\r\n\r\nand expect the same in the backend as URL param. Now in the backend, you can extract the user by id and do whatever computation you want.","title":"Retrieve a list of cart items by passing in a user","body":"<p>The main problem is that you are not doing anything with the <code>User</code> object during the network call:</p>\n<pre><code>getCartItemsByUser(user: User) {\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\n}\n</code></pre>\n<p>Angular does not support the passing body in request params, I would suggest you pass in the user id in the URL, like:</p>\n<pre><code>getCartItemsByUser(user: User) {\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items/${user.id}`);\n}\n</code></pre>\n<p>and expect the same in the backend as URL param. Now in the backend, you can extract the user by id and do whatever computation you want.</p>\n"}],"owner":{"account_id":25029272,"reputation":15,"user_id":18887196,"display_name":"user18887196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73843795,"answer_count":1,"score":0,"last_activity_date":1664101967,"creation_date":1664094464,"question_id":73843036,"body_markdown":"A typical shopping cart problem. The CartItem class is being injected with a User class and Product class. I already have a user, and I need to pass in the user to return a list of cart items. But the front end failed to receive it. The browser console returned 400, and Postman returned 405 for the back end.\r\n\r\nIn the back end the Spring Boot entity classes, getters and setters and constructors are not shown here.\r\n\r\nThis is the CartItem class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;cartItems&quot;)\r\n    public class CartItem {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;pId&quot;)\r\n\tprivate Product product;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;uId&quot;)\r\n\tprivate User user;\r\n\t\r\n\tprivate int quantity;\r\n\r\nThis is the Product class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;products&quot;)\r\n    public class Product {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String name;\r\n\tprivate Integer price;\r\n\r\nThis is the User class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\r\nThis is the customized repository method:\r\n\r\n    List&lt;CartItem&gt; getByUser(User user);\r\n\r\nThis is the service method:\r\n\r\n    public List&lt;CartItem&gt; getCartItemsByUser(User user) {\r\n\t\treturn repo.getByUser(user);\r\n\t}\r\n\r\nThe is the controller method:\r\n\r\n    @GetMapping(&quot;/cart/get-items&quot;)\r\n\tpublic List&lt;CartItem&gt; getCartItemByUser(@RequestBody User user) {\r\n\t\treturn service.getCartItemsByUser(user);\t\r\n\t}\r\n\r\nFor the front end I&#39;m using Angular, here is the service method:\r\n\r\n    getCartItemsByUser(user: User) {\r\n    return this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\r\n    }\r\n\r\nThis is the ngOnInit() method:\r\n\r\n    this.cartItemService.getCartItemsByUser(this.user).subscribe({\r\n      next:(res) =&gt; this.cartItems = res\r\n    })\r\n\r\nThis is the ng CartItem class:\r\n\r\n    export class CartItem {\r\n\r\n    cId!: number;\r\n    user: User;\r\n    product: Product;\r\n    quantity: number = 1;\r\n    \r\n\r\n    constructor(user: User,product: Product) {\r\n        this.user = user;\r\n        this.product = product;\r\n    }\r\n\r\nI&#39;m sure there are some fatal flaws in the code. It&#39;d be great if someone can point it out.\r\n","title":"Retrieve a list of cart items by passing in a user","body":"<p>A typical shopping cart problem. The CartItem class is being injected with a User class and Product class. I already have a user, and I need to pass in the user to return a list of cart items. But the front end failed to receive it. The browser console returned 400, and Postman returned 405 for the back end.</p>\n<p>In the back end the Spring Boot entity classes, getters and setters and constructors are not shown here.</p>\n<p>This is the CartItem class:</p>\n<pre><code>@Entity\n@Table(name = &quot;cartItems&quot;)\npublic class CartItem {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@ManyToOne\n@JoinColumn(name = &quot;pId&quot;)\nprivate Product product;\n\n@ManyToOne\n@JoinColumn(name = &quot;uId&quot;)\nprivate User user;\n\nprivate int quantity;\n</code></pre>\n<p>This is the Product class:</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\nprivate String name;\nprivate Integer price;\n</code></pre>\n<p>This is the User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\nprivate String firstName;\nprivate String lastName;\n</code></pre>\n<p>This is the customized repository method:</p>\n<pre><code>List&lt;CartItem&gt; getByUser(User user);\n</code></pre>\n<p>This is the service method:</p>\n<pre><code>public List&lt;CartItem&gt; getCartItemsByUser(User user) {\n    return repo.getByUser(user);\n}\n</code></pre>\n<p>The is the controller method:</p>\n<pre><code>@GetMapping(&quot;/cart/get-items&quot;)\npublic List&lt;CartItem&gt; getCartItemByUser(@RequestBody User user) {\n    return service.getCartItemsByUser(user);    \n}\n</code></pre>\n<p>For the front end I'm using Angular, here is the service method:</p>\n<pre><code>getCartItemsByUser(user: User) {\nreturn this.http.get&lt;CartItem[]&gt;(`${this.baseUrl}/cart/get-items`);\n}\n</code></pre>\n<p>This is the ngOnInit() method:</p>\n<pre><code>this.cartItemService.getCartItemsByUser(this.user).subscribe({\n  next:(res) =&gt; this.cartItems = res\n})\n</code></pre>\n<p>This is the ng CartItem class:</p>\n<pre><code>export class CartItem {\n\ncId!: number;\nuser: User;\nproduct: Product;\nquantity: number = 1;\n\n\nconstructor(user: User,product: Product) {\n    this.user = user;\n    this.product = product;\n}\n</code></pre>\n<p>I'm sure there are some fatal flaws in the code. It'd be great if someone can point it out.</p>\n"},{"tags":["java","docker","jenkins","docker-compose","continuous-integration"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664101809,"post_id":73843750,"comment_id":130390171,"body_markdown":"Is docker installed in the environment where you call it? Is it available in PATH?","body":"Is docker installed in the environment where you call it? Is it available in PATH?"},{"owner":{"account_id":25687980,"reputation":3,"user_id":19449773,"display_name":"Kirill_Yudaev"},"score":0,"creation_date":1664102057,"post_id":73843750,"comment_id":130390217,"body_markdown":"@knittl , no, I didn&#39;t install docker on Jenkins. How will it install there?","body":"@knittl , no, I didn&#39;t install docker on Jenkins. How will it install there?"}],"owner":{"account_id":25687980,"reputation":3,"user_id":19449773,"display_name":"Kirill_Yudaev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664103191,"answer_count":0,"score":0,"last_activity_date":1664101793,"creation_date":1664101578,"question_id":73843750,"body_markdown":"I faced a problem, I made my simple pipeline: &quot;build&quot; and &quot;compose up&quot;. Stage 1 works, but the second doesn&#39;t, referring to the fact that the the docker commands inside jenkins are absent. I didn&#39;t install Jenkins locally, only run as a container. To sum up,  I&#39;ve got an error. **docker compose up\r\n/var/jenkins_home/workspace/myPipeline@tmp/durable-8e128f98/script.sh: 1: docker: not found** . \r\nDocker plugin on jenkins doesn&#39;t help. docker-compose up doesn&#39;t work on Jenkins as well. Please help how to make this work.\r\n\r\n\r\n\r\n    Docker-compose file\r\n    version: &#39;3&#39;\r\n        services:\r\n          jenkins:\r\n            image: jenkins/jenkins:lts\r\n            restart: always\r\n            privileged: true\r\n            user: root\r\n            ports:\r\n              - 8080:8080\r\n              - 50000:50000\r\n            container_name: jenkins\r\n            volumes:\r\n              - /home/ubuntu/jenkins_compose/jenkins_configuration:/var/jenkins_home\r\n              - /var/run/docker.sock:/var/run/docker.sock\r\n\r\n                    \r\n\r\n\r\n    **My pipeline**\r\n        pipeline {\r\n            agent any\r\n            triggers {\r\n                pollSCM &#39;* * * * *&#39;\r\n            }\r\n            stages {\r\n                stage(&#39;Build&#39;) {\r\n                    steps {\r\n                        sh &#39;./gradlew assemble&#39;\r\n                    }\r\n                }\r\n                stage(&#39;Run Docker Images&#39;) {\r\n                    steps {\r\n                        sh &#39;docker compose up&#39;\r\n                    }\r\n                }\r\n            }\r\n        }","title":"script.sh: 1: docker: not found, jenkins not seeing docker commands","body":"<p>I faced a problem, I made my simple pipeline: &quot;build&quot; and &quot;compose up&quot;. Stage 1 works, but the second doesn't, referring to the fact that the the docker commands inside jenkins are absent. I didn't install Jenkins locally, only run as a container. To sum up,  I've got an error. <strong>docker compose up\n/var/jenkins_home/workspace/myPipeline@tmp/durable-8e128f98/script.sh: 1: docker: not found</strong> .\nDocker plugin on jenkins doesn't help. docker-compose up doesn't work on Jenkins as well. Please help how to make this work.</p>\n<pre><code>Docker-compose file\nversion: '3'\n    services:\n      jenkins:\n        image: jenkins/jenkins:lts\n        restart: always\n        privileged: true\n        user: root\n        ports:\n          - 8080:8080\n          - 50000:50000\n        container_name: jenkins\n        volumes:\n          - /home/ubuntu/jenkins_compose/jenkins_configuration:/var/jenkins_home\n          - /var/run/docker.sock:/var/run/docker.sock\n\n                \n\n\n**My pipeline**\n    pipeline {\n        agent any\n        triggers {\n            pollSCM '* * * * *'\n        }\n        stages {\n            stage('Build') {\n                steps {\n                    sh './gradlew assemble'\n                }\n            }\n            stage('Run Docker Images') {\n                steps {\n                    sh 'docker compose up'\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8982,"page":1010,"page_size":100}
