{"items":[{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":27781853,"reputation":1,"user_id":21210037,"display_name":"mimi mimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677561985,"creation_date":1676367099,"answer_id":75445838,"question_id":74291611,"body_markdown":"In file repository. We can use\r\n\r\n    @Aggregation(pipeline = {&quot;{&#39;$sort&#39;:{&#39;name&#39;:-1}}&quot;})\r\n    @Meta(allowDiskUse = true)\r\n    List&lt;T&gt; findAll();","title":"How can i use {allowDiskUse: true} in findAll() query in spring data mongo?","body":"<p>In file repository. We can use</p>\n<pre><code>@Aggregation(pipeline = {&quot;{'$sort':{'name':-1}}&quot;})\n@Meta(allowDiskUse = true)\nList&lt;T&gt; findAll();\n</code></pre>\n"}],"owner":{"account_id":26808020,"reputation":1,"user_id":20399056,"display_name":"Sandeep Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561985,"creation_date":1667402491,"question_id":74291611,"body_markdown":"For example, i want get list of obejects where i got the exception : **&quot;com.mongodb.MongoQueryException: Query failed with error code 292 and error message &#39;Executor error during find command :: caused by :: Sort exceeded memory limit of 104857600 bytes, but did not opt in to external sorting.&quot;**\r\n\r\ni found some solution from stackoverflow, they are suggesting in aggregate query where they used  **{allowDiskUse: true}**. but i want to know is there any way possible that i can use crudRepo.findAll() with that particular condition.","title":"How can i use {allowDiskUse: true} in findAll() query in spring data mongo?","body":"<p>For example, i want get list of obejects where i got the exception : <strong>&quot;com.mongodb.MongoQueryException: Query failed with error code 292 and error message 'Executor error during find command :: caused by :: Sort exceeded memory limit of 104857600 bytes, but did not opt in to external sorting.&quot;</strong></p>\n<p>i found some solution from stackoverflow, they are suggesting in aggregate query where they used  <strong>{allowDiskUse: true}</strong>. but i want to know is there any way possible that i can use crudRepo.findAll() with that particular condition.</p>\n"},{"tags":["java","azure","certificate","keystore","azure-keyvault"],"answers":[{"tags":[],"owner":{"account_id":23058397,"reputation":259,"user_id":17174122,"display_name":"Esta Nagy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677529756,"creation_date":1677478975,"answer_id":75577307,"question_id":75577031,"body_markdown":"It should be a proper P12 keystore format (the same thing you can generate using Java Keytool if you are generating a keystore from the command line).\r\n\r\nThis should help you see how it can be converted to certificate:\r\nhttps://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139\r\n\r\nAlso, these lines can be helpful showing how I am parsing supposedly the same thing during import: https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69\r\n\r\nWhen you download the certificate store contents as a secret, it should use a blank password based on this: https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates (I think they mean blank as in &quot;&quot; and not null as null would be problematic on Java: https://stackoverflow.com/questions/1814048/sun-java-keymanagerfactory-and-null-passwords)\r\n\r\nConfirmed with an experiment. If the `String value` contains the content downloaded using the secret client, in case of a PFX, then this code opens the key store and iterates through the certificate aliases in it. Of course you would need to make it nice, including error handling etc.\r\n\r\n    final byte[] p12binary = Base64.getMimeDecoder().decode(value);\r\n    final KeyStore p12 = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    p12.load(new ByteArrayInputStream(p12binary), &quot;&quot;.toCharArray());\r\n    for (final Iterator&lt;String&gt; it = p12.aliases().asIterator(); it.hasNext(); ) {\r\n        final String alias = it.next();\r\n        System.out.println(alias);\r\n    }","title":"what is it that I get in java from Azure keyvault certificate","body":"<p>It should be a proper P12 keystore format (the same thing you can generate using Java Keytool if you are generating a keystore from the command line).</p>\n<p>This should help you see how it can be converted to certificate:\n<a href=\"https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-docker/src/test/java/com/github/nagyesta/lowkeyvault/steps/CertificateStepDefAssertion.java#L125-L139</a></p>\n<p>Also, these lines can be helpful showing how I am parsing supposedly the same thing during import: <a href=\"https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69\" rel=\"nofollow noreferrer\">https://github.com/nagyesta/lowkey-vault/blob/0c3fde5ad7f433d72ded05f6d3e55a3bb55aec18/lowkey-vault-app/src/main/java/com/github/nagyesta/lowkeyvault/service/certificate/impl/CertContentType.java#L44-L69</a></p>\n<p>When you download the certificate store contents as a secret, it should use a blank password based on this: <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/key-vault/certificates/how-to-export-certificate?tabs=azure-cli#export-stored-certificates</a> (I think they mean blank as in &quot;&quot; and not null as null would be problematic on Java: <a href=\"https://stackoverflow.com/questions/1814048/sun-java-keymanagerfactory-and-null-passwords\">Sun Java KeyManagerFactory and null passwords</a>)</p>\n<p>Confirmed with an experiment. If the <code>String value</code> contains the content downloaded using the secret client, in case of a PFX, then this code opens the key store and iterates through the certificate aliases in it. Of course you would need to make it nice, including error handling etc.</p>\n<pre><code>final byte[] p12binary = Base64.getMimeDecoder().decode(value);\nfinal KeyStore p12 = KeyStore.getInstance(&quot;PKCS12&quot;);\np12.load(new ByteArrayInputStream(p12binary), &quot;&quot;.toCharArray());\nfor (final Iterator&lt;String&gt; it = p12.aliases().asIterator(); it.hasNext(); ) {\n    final String alias = it.next();\n    System.out.println(alias);\n}\n</code></pre>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561571,"creation_date":1677475889,"question_id":75577031,"body_markdown":"Certificate is created in Azure KeyVault. I will need to download the public and private key from it.\r\n\r\nWhen creating certificate in Azure, there are two options for the content:pkcs12 and pem\r\n\r\nWhen content type is PEM, I can get the private key and convert it to RSA PrivateKey.\r\n\r\nWhen content type is PKCS12, I am not sure what it is.\r\n          \r\n     //when certificate is created with pkcs12 format, downloadedPK doesn&#39;t have any -----BEGIN * KEY-----\r\n     //It&#39;s readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\r\n\r\nHere is my code:\r\n\r\n    \r\n            ClientSecretCredential credential = new ClientSecretCredentialBuilder()\r\n                    .tenantId(tenantId)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .build();\r\n\r\n            CertificateClient certificateClient = new CertificateClientBuilder()\r\n                    .vaultUrl(vaultUri)\r\n                    .credential(credential)\r\n                    .buildClient();\r\n\r\n            SecretClient secretClient = new SecretClientBuilder()\r\n                    .vaultUrl(vaultUri)\r\n                    .credential(credential)\r\n                    .buildClient();\r\n\r\n            // Retrieving certificate\r\n            KeyVaultCertificateWithPolicy certificateWithPolicy = certificateClient.getCertificate(alias);\r\n\r\n            // Retrieving secrete for private key\r\n            KeyVaultSecret secret = secretClient.getSecret(alias, certificateWithPolicy.getProperties().getVersion());\r\n            \r\n            String downloadedPK = secret.getValue();\r\n            String privateKeyType = secret.getProperties().getContentType();\r\n\r\n            byte[] rawPrivateKey = null;\r\n\r\n                //when certificate is created with pem format, downloadedPK has both private and certificate sections\r\n                //needs to extract the raw Private Key\r\n                if (&quot;application/x-pem-file&quot;.equalsIgnoreCase(privateKeyType)) {\r\n                    /*\r\n                    -----BEGIN PRIVATE KEY-----\r\n                    -----END PRIVATE KEY-----\r\n                    -----BEGIN CERTIFICATE-----\r\n                    -----END CERTIFICATE-----\r\n                     */\r\n                    int endIndex = downloadedPK.indexOf(&quot;-----END PRIVATE KEY-----&quot;);\r\n                    String str1 = downloadedPK.substring(0, endIndex);\r\n\r\n                    privateKeyContent = str1.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\r\n                }\r\n\r\n                //when certificate is created with pkcs12 format, downloadedPK doesn&#39;t have any -----BEGIN * KEY-----\r\n                //It&#39;s readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\r\n                if (&quot;application/x-pkcs12&quot;.equalsIgnoreCase(privateKeyType)) {\r\n\r\n                    //downloadedPK is &quot;MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF&quot;\r\n                    privateKeyContent = downloadedPK;\r\n                }\r\n\r\n                rawPrivateKey = Base64.getDecoder().decode(privateKeyContent);\r\n\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n                PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKeyContent));\r\n                PrivateKey privateRsaKey = kf.generatePrivate(keySpecPKCS8);\r\n\r\n\r\n\r\nBut what is it that I get in java for downloadedPK\r\n \r\n\r\n    MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF\r\n\r\nI got this error. Does it mean that I got the private key string in pkcs12 format? How can I do with this pkcs12 String?\r\n\r\n    java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     03\r\n        at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\r\n        at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\r\n\r\n\r\n**Updated:**\r\nI updated the code to do following:\r\n\r\n    1.Get certificate form Azure; print out its public key;\r\n    2.Get secrete form Azure; print out its secret.getValue();\r\n    3.Manually download pfx format file from Azure\r\n    4.Manually import above pfx file into Keystore;\r\n    5.readFromJKS for certification/public/private key\r\n\r\ndownloadedPK is **not** any of certificate/public/private key.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fpIHu.png\r\n  [2]: https://i.stack.imgur.com/4lqch.png\r\n\r\n\r\n    Output from certificate.getPublicKey()\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\r\n    -----END PUBLIC KEY-----\r\n    2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://vault.azure.net/.default]: SUCCESS\r\n    2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.core.implementation.AccessTokenCache - Acquired a new access token.\r\n    getContentType = application/x-pkcs12\r\n    secret.getValue() = \r\n    MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAheIDHN7fkuEAICB9AEggTYiTgfo+2YkoI7xaucZF9gqfNLphXMtTY0HVS7sqsvwR/MDvLlPn3Cj6Ab+dZ6HZ+AB9WpuOQ1os1ieyP1mgd0UIC+wdWdRk4GE2OmpBnXnhnhAv3XElgKgjk70gkjhim6+aY5oncdokscTLNvBE7uTZUUlHq7aStYPsXB+erorCAz7YLVWtu5P96Ag0eqMqbdca4YPWjwj9xoZv5La7XbdjLisl3NU5aYxtDqSNlyCDby5+WEe9jrNH2eNuDubAayD1iMng50nlpx/N5WcVzn9VWoQZmpt3MbZGxsCGh0bIl61WSFxJqt1+PiJavafE8Sigl/sOLzmL9gUhqcHbfZM6aEEvhEDSkzxxnj4ZJBR2Tpluo0aNOh9qzzxFD0FfvBYlZ14o3gWj6M2h54Lv0kZnBznp4yHst4M0cvn5Y07h2t6JJRCLjFtz1dcCRpEee60SwGYQweZGYd0WifMO8gX2sYdhqZ2txRyI03/VQdEQIMcDQAyKy1QC2dySbRlViTpL8MRL3XfUySkAuyLH6WI7bsrmqCbPmBriz20y4Hg6+BveDrmEedyKeqEzUBcYngLTbCH68iUBDXMCkylkxb6KL1AcWTal+i+umLxahJNlgIHr87SVNnhIN31RGLqe8cjoTcQ/MqxjQOrKRRlzmJ4u/PAt0ee1r6HYS1oYI0SuzdGxu3FkS+xtmxvqNk7UNYEil/93Zdq3w1nFRNHN7s39tAAndkNQ+5JwC1QlsLJ00GzaUntqMXaVzN+jFb9QePoRlURQNH+ejsR1xgcwiTCpKdBDDxKlv/u0IbI7w9LvDtPEh4EpumFzO83Dx/xdbHa12JfPPnwQo5A6G1r3mBDsxFY+ca7YRDN55Emte/3fuduppAe+xchhEmhXFo3htJkGV1NAzi8ReuqGr7mSTswmdiro+93cFG+tTAcMcVyMMeyEJrkmDLOnsWIrS/18f7CTKRJ3KdbcthZGr8kulNVMMpKdi5yMTgVYzw6icsCiYwSQtrZZSH2U39xWFlkSM4RRTq7iohw57Rqpe9C+3g7eVTljXN2j63XeeGy+yo6ReVDWoyuM1nrwG/JHn+1f/a02c/U1aTKrUydwESlRkuUDAVYI7fnM1U1MYdCqAcX/Fg1q2ilv60vZgs27dwm3K2kPXeAPxDjzePDnJvxkvBJwPWWoYPA2aYLlpQVc1+OxhkYfmyjBbDf/wuJBYeL3Sg1sDlDpUQ9H7U204jU5CVmjUgGKI0wlOh+w72gQV+/YhRtxUFc9crQjiOjoB38CSswhSoHUVe1YmfXdUeEqp7q0OpFoP1ee61BYKtqorgM/CQ29HEAq/qZIUtqt/0YqY/e6n2JIuRx3X6MfVJpbBLR6KNq+tllzpVQx8bpC6YOuhwyY4k6KdxS4A5tnQVWxXt3PRhzn8BTCpJhwuiJWADjMMP69q08nNpmHZ47Jvb+i4zCnCe35rWWaDGg+Y1WeR/miESiadv7wbM4hPRTep0bXgcOKsXVw0BvcCISNZ7jqi+m8nLoPn35DcMgWLoqqxVJ4uHewHbc70ORGN0SuqiXc/OBteGQ8sJbVZzhD095dHcPeiCGniipn/AUWNc8ChvoV97W2sS+IihHBWSoTTME7pFmcffNPoehq4xV2nPv0hobOwSZs+YpDGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADQAZgBiAGQAYQA2AGQAZgAtADgAMgA1AGYALQA0ADAAMAA4AC0AOAA2ADUAYwAtADkAMgBmADkAYQBiADgAYwBjADkAYwAyMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDxwYJKoZIhvcNAQcGoIIDuDCCA7QCAQAwggOtBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBAzAOBAgrw/Ar6sbfDQICB9CAggOA2Tdh083OUnZPak4+CFPkZvKNrBjxTHLZBkY8X4spepNJaakRBT5pnsFp042zKg5lJ6O9du0zGTlpwEponbQkDkvCp55E9OYdkc3uR9LbpIhcENQY3J/xLCK/B5rFAPiYaRG0tLRJ65Sm1O4pAKqKDV28x/zYBJauj38s3bowQ5X8Y7IAewfG1RT1UDltNWWZLev5aztLHlGcYTlkKrBLMC+e8k6cEccLMLplSqD7hMrpzwEf9elyl64D5mSGsbWvl8ltwW1qGZ7stn2+oxkYe1M144ySzLaAlIXaLxumJray1QqrH6EXYGl/OJvybZtaIenNv/CCj15n+uH4ejnh26V08xXU3MumNpoLbFjqn8t8pbAR1izNwDU8HrUD1uBq0l9GDPa/QmKwmtzSkr5BS2X/wh1K8TUP5bQbuLfm47lVysg33wK/glo35A2kUn6f+7XJGpbmhze8OmQQqRCfKl74qN5LEeNx2YUjgrM0P7Cldip38Smw49jpInF+K46OmYapfofhiRe4AS6ne4FFybU3wRp6ObYdlVcJ1Pu63d7YFKw41ENOURuDFwkXEOZbhCMF09P5spdJVNcng/vgRKHnUdkOHeUhY9NVqvfVhd6LaCy21GpBfX2/FWM5M1VT5CuS2R7a/Xl44dAsVt3mNFzUiOMijADzc96GvK8Bjii+Os6wsUKETiIJw9X2uVWWy48S5p5GAqCDdsDFm7yOou8YSS6r8LbIhb83hQWu5XjUNjfvw5mPKldwcgCogpbl0EaAJ0qA0r7LDizzWWuFP+ZOdaTo9RK+EEY60yQ+juoCqi1qyj6lCCMZySRPmeTkm0NAIvLWePb0sl+4SBkNZvTTMUhGjnQ6RVGUHh62KC5nLfQMbnLYWQ6WbIean7KPenhRCNoZwXV4GxdEGW9oYhNOCqVoV9Gtc/O7KOPRSYRpERbSUYO4Z10xTBz7IWuWgUKqsuuXeV/Y1hS26HszWes7Bo57ox8bszEYspD7BPi+WP/VnKYl7AU5D4vaVXTHoavFbdYE96g/RjHd6rJY+x/XEciJeI/5pjFQnOP7Oaul2cYmFrLhDB94w+lBuLRISKqNanfZqJZI+yGPNpQ637wTv/ib573cgpRqMLtRPvVrrAFy52QnzVwOKfJl75JGw5Ih9CZOYYmtR3WNDgboFF5iMT1nPAjODcM00IoZaCowOzAfMAcGBSsOAwIaBBQ9uTLTAE56I/k1o7Mc9tBEHsmyZgQUhCNlVxwS0slPLLtttrLIxUVQI5MCAgfQ\r\n    \r\n    Begin readFromJKS\r\n    \r\n    -----BEGIN PRIVATE KEY-----\r\n    MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCuI5htEcfIxO2sZWQMNavRyhVw\r\n    qqBek8QbyJRNtS5yXVNg0eyA1J+RaOh9z99B28aEMT17idUvgyHjBfpFWmfuBvlOeZi45DulsJxk\r\n    LBziB9TzSaiPSfHp9LJdbJqhqQE2TAicgAPz/BF+beK3Hw0E7WitZXVfAPC23cJtEBqNBik+3zdk\r\n    24ho7q5Zd8nAzeo8y2YPAOZsr58XKN9RCMHa+HC8RamxnVunwD1Dl3xsEuoyWhzIm5i1ukm1+Cyl\r\n    sawbDFtVDXCGczKsO/+1yehvwQvzm+VI3RDO57cj5XoucU46US24WV8KOOYdkFgXBPaje2fSFmlT\r\n    o0d75XJxBg3ZAgMBAAECggEAE056/cy027uJpk1vdDMXI6FGE0G3mgTD/1iTqLHnvmI+dkOP9xCb\r\n    yGFbNWewlvqo3csfx+yWKDhfr23gO4Q0dZ1sUpkEp6sWOd6E2E5TvXOk1nxaJdjK62dnxxfdZQL5\r\n    0W1InyFKTuipf9zq/+Z/aQZxTpgrFSdjiMK5ZaIdb3kKjUvTl6qmJ+fmS1QE+7nj9jHujZTNyWr/\r\n    d0z8jsZIl25kKgIM/afAAxd5Pt2+kuN7IqoukoO5zTZie4skHQcmiA7r2GjcrLTzaRhSHyZtSp0g\r\n    ecbXWVA42ODXm5bE2WTwnqadTo+YSpG1j6/vjuZOkO9XZy8XlwKpvdZmXfHP6QKBgQDabVCordyL\r\n    tr9JIf+jwDxD9id9zGCTs1cJORA9lzXLw8V60q7n4M3RyU457EuiALdkfF2iWv05ITGwbeuJGkUL\r\n    LWMnPNOV/ibQ+dijGbjI99xefFJKR9zw/1CFSvHnvrCV63/v1OhBRyiFoGYuE2QW/5b/Fv27T29j\r\n    ujdOjl7gFwKBgQDMGAI64Q4ks2GPPbrMKwdWXYuSBy0ihJxFdM4nsEgYxQCFk68sXo9/VweHPWaU\r\n    SMHWP1jQgxmbFxlYUKjNQQn+LoIZRV6HHei9XtNt0mBPax/UeMqWaxDRoFHE9qyrKf/tPdy6pA/Y\r\n    IveRjc/swCClUl4FJSEJsCD6f8pRrPPHjwKBgFrqER6Ebz2/7NJ10j/ILc1j0YAs5y3TAbEXDUl1\r\n    fLC5ZaL/uklNap2dGnBFiB2ACtVKZnbDRI7Y4CO9PMIuKvrCA3k7eh3+UQ2+UItik2UitZimSmIc\r\n    kzvEKTGxxgpddoaQJQogJiO1iIpF/wHClHB2JdU7LpUeNRDfW1HZNGg1AoGBALamSeCdpsWrj4Tc\r\n    zr6HR5LANvch2v/IQ/5Y0WJtfahFLfldOOjxW2Sv4znh9lqAXpC5smcw3IqSeokx7k96hFHpF188\r\n    WKN9XduT8I2ZN737dcn1rAA/oxanbmZiCBdKiBKuSUrzJobcjEjD7C/Jpa2ucBwUpWOBL5JfKRY9\r\n    PRH7AoGAWlwe5M0xmxlgyKEKwbCOVjoDkTbEZ12VYNN6zbLNm5RfyGS7DS9bW/1UYghH3TAvI6N4\r\n    F8mLTZhKjF6jsdQPaaPxXcX46ED0Ke6oum8Uf7SlOKVIk7D4WyQvtxbKFoXHSwP5j9wzc36YJL1A\r\n    xG7JHnzBxGLqnEdKCMKWU49deAo=\r\n    -----END PRIVATE KEY-----\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\r\n    -----END PUBLIC KEY-----\r\n    -----BEGIN CERTIFICATE KEY-----\r\n    MIIDLDCCAhSgAwIBAgIQa9uFEeqpQryqmVGQ8je+ijANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDEwhjb20udGVzdDAeFw0yMzAyMjcxNzAxMjRaFw0yNDAyMjcxNzExMjRaMBMxETAPBgNVBAMTCGNvbS50ZXN0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQABo3wwejAOBgNVHQ8BAf8EBAMCBaAwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHwYDVR0jBBgwFoAUN+CjU3g8qU3O0U/ik14xI1h1HWYwHQYDVR0OBBYEFDfgo1N4PKlNztFP4pNeMSNYdR1mMA0GCSqGSIb3DQEBCwUAA4IBAQBysfstdFrWRzr8WMpNw73g69/8dO0OPnxMPz6lSrGVYx/SXyM5BViwWFHBNXpjAkfZNpwI4+8k2dBsogxNzniHWNpIEbmUnFKYNbrHK8aWIEr5Gx7oZXsaUPgjxIWflnJqJUDYkk1wadoBJCMWrtlFENqtiLMLMnH2NwBePH8Z8O4vMnZzTmQUbsp4Fn1z/WYF1E7FCZTok373PjrNeJClhsK9jtygWIpnu6WeOS2MSzwqb+hyMp7Zk8rLG+ItsjeHeHcEbYyj4Wg+20iEUz88EpHAUCZUNSa3TKN7FZBMZdLCVxLgsEOtVddULjciCRBvnUWkJXHDrTvUynfh/QR2\r\n    -----END CERTIFICATE KEY-----\r\n    \r\n    Done readFromJKS\r\n\r\n","title":"what is it that I get in java from Azure keyvault certificate","body":"<p>Certificate is created in Azure KeyVault. I will need to download the public and private key from it.</p>\n<p>When creating certificate in Azure, there are two options for the content:pkcs12 and pem</p>\n<p>When content type is PEM, I can get the private key and convert it to RSA PrivateKey.</p>\n<p>When content type is PKCS12, I am not sure what it is.</p>\n<pre><code> //when certificate is created with pkcs12 format, downloadedPK doesn't have any -----BEGIN * KEY-----\n //It's readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>        ClientSecretCredential credential = new ClientSecretCredentialBuilder()\n                .tenantId(tenantId)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .build();\n\n        CertificateClient certificateClient = new CertificateClientBuilder()\n                .vaultUrl(vaultUri)\n                .credential(credential)\n                .buildClient();\n\n        SecretClient secretClient = new SecretClientBuilder()\n                .vaultUrl(vaultUri)\n                .credential(credential)\n                .buildClient();\n\n        // Retrieving certificate\n        KeyVaultCertificateWithPolicy certificateWithPolicy = certificateClient.getCertificate(alias);\n\n        // Retrieving secrete for private key\n        KeyVaultSecret secret = secretClient.getSecret(alias, certificateWithPolicy.getProperties().getVersion());\n        \n        String downloadedPK = secret.getValue();\n        String privateKeyType = secret.getProperties().getContentType();\n\n        byte[] rawPrivateKey = null;\n\n            //when certificate is created with pem format, downloadedPK has both private and certificate sections\n            //needs to extract the raw Private Key\n            if (&quot;application/x-pem-file&quot;.equalsIgnoreCase(privateKeyType)) {\n                /*\n                -----BEGIN PRIVATE KEY-----\n                -----END PRIVATE KEY-----\n                -----BEGIN CERTIFICATE-----\n                -----END CERTIFICATE-----\n                 */\n                int endIndex = downloadedPK.indexOf(&quot;-----END PRIVATE KEY-----&quot;);\n                String str1 = downloadedPK.substring(0, endIndex);\n\n                privateKeyContent = str1.replaceAll(&quot;\\\\n&quot;, &quot;&quot;).replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\n            }\n\n            //when certificate is created with pkcs12 format, downloadedPK doesn't have any -----BEGIN * KEY-----\n            //It's readable format similar to private key/certificate inside .pem file but without any &quot;-----BEGIN *----- &quot;\n            if (&quot;application/x-pkcs12&quot;.equalsIgnoreCase(privateKeyType)) {\n\n                //downloadedPK is &quot;MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF&quot;\n                privateKeyContent = downloadedPK;\n            }\n\n            rawPrivateKey = Base64.getDecoder().decode(privateKeyContent);\n\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n            PKCS8EncodedKeySpec keySpecPKCS8 = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(privateKeyContent));\n            PrivateKey privateRsaKey = kf.generatePrivate(keySpecPKCS8);\n</code></pre>\n<p>But what is it that I get in java for downloadedPK</p>\n<pre><code>MIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF\n</code></pre>\n<p>I got this error. Does it mean that I got the private key string in pkcs12 format? How can I do with this pkcs12 String?</p>\n<pre><code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : version mismatch: (supported:     00, parsed:     03\n    at java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(RSAKeyFactory.java:251)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:390)\n</code></pre>\n<p><strong>Updated:</strong>\nI updated the code to do following:</p>\n<pre><code>1.Get certificate form Azure; print out its public key;\n2.Get secrete form Azure; print out its secret.getValue();\n3.Manually download pfx format file from Azure\n4.Manually import above pfx file into Keystore;\n5.readFromJKS for certification/public/private key\n</code></pre>\n<p>downloadedPK is <strong>not</strong> any of certificate/public/private key.</p>\n<p><a href=\"https://i.stack.imgur.com/4lqch.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lqch.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Output from certificate.getPublicKey()\n-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\n-----END PUBLIC KEY-----\n2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [https://vault.azure.net/.default]: SUCCESS\n2023-02-27:16:51:21.418 [ForkJoinPool.commonPool-worker-1] INFO  com.azure.core.implementation.AccessTokenCache - Acquired a new access token.\ngetContentType = application/x-pkcs12\nsecret.getValue() = \nMIIKQAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAheIDHN7fkuEAICB9AEggTYiTgfo+2YkoI7xaucZF9gqfNLphXMtTY0HVS7sqsvwR/MDvLlPn3Cj6Ab+dZ6HZ+AB9WpuOQ1os1ieyP1mgd0UIC+wdWdRk4GE2OmpBnXnhnhAv3XElgKgjk70gkjhim6+aY5oncdokscTLNvBE7uTZUUlHq7aStYPsXB+erorCAz7YLVWtu5P96Ag0eqMqbdca4YPWjwj9xoZv5La7XbdjLisl3NU5aYxtDqSNlyCDby5+WEe9jrNH2eNuDubAayD1iMng50nlpx/N5WcVzn9VWoQZmpt3MbZGxsCGh0bIl61WSFxJqt1+PiJavafE8Sigl/sOLzmL9gUhqcHbfZM6aEEvhEDSkzxxnj4ZJBR2Tpluo0aNOh9qzzxFD0FfvBYlZ14o3gWj6M2h54Lv0kZnBznp4yHst4M0cvn5Y07h2t6JJRCLjFtz1dcCRpEee60SwGYQweZGYd0WifMO8gX2sYdhqZ2txRyI03/VQdEQIMcDQAyKy1QC2dySbRlViTpL8MRL3XfUySkAuyLH6WI7bsrmqCbPmBriz20y4Hg6+BveDrmEedyKeqEzUBcYngLTbCH68iUBDXMCkylkxb6KL1AcWTal+i+umLxahJNlgIHr87SVNnhIN31RGLqe8cjoTcQ/MqxjQOrKRRlzmJ4u/PAt0ee1r6HYS1oYI0SuzdGxu3FkS+xtmxvqNk7UNYEil/93Zdq3w1nFRNHN7s39tAAndkNQ+5JwC1QlsLJ00GzaUntqMXaVzN+jFb9QePoRlURQNH+ejsR1xgcwiTCpKdBDDxKlv/u0IbI7w9LvDtPEh4EpumFzO83Dx/xdbHa12JfPPnwQo5A6G1r3mBDsxFY+ca7YRDN55Emte/3fuduppAe+xchhEmhXFo3htJkGV1NAzi8ReuqGr7mSTswmdiro+93cFG+tTAcMcVyMMeyEJrkmDLOnsWIrS/18f7CTKRJ3KdbcthZGr8kulNVMMpKdi5yMTgVYzw6icsCiYwSQtrZZSH2U39xWFlkSM4RRTq7iohw57Rqpe9C+3g7eVTljXN2j63XeeGy+yo6ReVDWoyuM1nrwG/JHn+1f/a02c/U1aTKrUydwESlRkuUDAVYI7fnM1U1MYdCqAcX/Fg1q2ilv60vZgs27dwm3K2kPXeAPxDjzePDnJvxkvBJwPWWoYPA2aYLlpQVc1+OxhkYfmyjBbDf/wuJBYeL3Sg1sDlDpUQ9H7U204jU5CVmjUgGKI0wlOh+w72gQV+/YhRtxUFc9crQjiOjoB38CSswhSoHUVe1YmfXdUeEqp7q0OpFoP1ee61BYKtqorgM/CQ29HEAq/qZIUtqt/0YqY/e6n2JIuRx3X6MfVJpbBLR6KNq+tllzpVQx8bpC6YOuhwyY4k6KdxS4A5tnQVWxXt3PRhzn8BTCpJhwuiJWADjMMP69q08nNpmHZ47Jvb+i4zCnCe35rWWaDGg+Y1WeR/miESiadv7wbM4hPRTep0bXgcOKsXVw0BvcCISNZ7jqi+m8nLoPn35DcMgWLoqqxVJ4uHewHbc70ORGN0SuqiXc/OBteGQ8sJbVZzhD095dHcPeiCGniipn/AUWNc8ChvoV97W2sS+IihHBWSoTTME7pFmcffNPoehq4xV2nPv0hobOwSZs+YpDGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADQAZgBiAGQAYQA2AGQAZgAtADgAMgA1AGYALQA0ADAAMAA4AC0AOAA2ADUAYwAtADkAMgBmADkAYQBiADgAYwBjADkAYwAyMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDxwYJKoZIhvcNAQcGoIIDuDCCA7QCAQAwggOtBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBAzAOBAgrw/Ar6sbfDQICB9CAggOA2Tdh083OUnZPak4+CFPkZvKNrBjxTHLZBkY8X4spepNJaakRBT5pnsFp042zKg5lJ6O9du0zGTlpwEponbQkDkvCp55E9OYdkc3uR9LbpIhcENQY3J/xLCK/B5rFAPiYaRG0tLRJ65Sm1O4pAKqKDV28x/zYBJauj38s3bowQ5X8Y7IAewfG1RT1UDltNWWZLev5aztLHlGcYTlkKrBLMC+e8k6cEccLMLplSqD7hMrpzwEf9elyl64D5mSGsbWvl8ltwW1qGZ7stn2+oxkYe1M144ySzLaAlIXaLxumJray1QqrH6EXYGl/OJvybZtaIenNv/CCj15n+uH4ejnh26V08xXU3MumNpoLbFjqn8t8pbAR1izNwDU8HrUD1uBq0l9GDPa/QmKwmtzSkr5BS2X/wh1K8TUP5bQbuLfm47lVysg33wK/glo35A2kUn6f+7XJGpbmhze8OmQQqRCfKl74qN5LEeNx2YUjgrM0P7Cldip38Smw49jpInF+K46OmYapfofhiRe4AS6ne4FFybU3wRp6ObYdlVcJ1Pu63d7YFKw41ENOURuDFwkXEOZbhCMF09P5spdJVNcng/vgRKHnUdkOHeUhY9NVqvfVhd6LaCy21GpBfX2/FWM5M1VT5CuS2R7a/Xl44dAsVt3mNFzUiOMijADzc96GvK8Bjii+Os6wsUKETiIJw9X2uVWWy48S5p5GAqCDdsDFm7yOou8YSS6r8LbIhb83hQWu5XjUNjfvw5mPKldwcgCogpbl0EaAJ0qA0r7LDizzWWuFP+ZOdaTo9RK+EEY60yQ+juoCqi1qyj6lCCMZySRPmeTkm0NAIvLWePb0sl+4SBkNZvTTMUhGjnQ6RVGUHh62KC5nLfQMbnLYWQ6WbIean7KPenhRCNoZwXV4GxdEGW9oYhNOCqVoV9Gtc/O7KOPRSYRpERbSUYO4Z10xTBz7IWuWgUKqsuuXeV/Y1hS26HszWes7Bo57ox8bszEYspD7BPi+WP/VnKYl7AU5D4vaVXTHoavFbdYE96g/RjHd6rJY+x/XEciJeI/5pjFQnOP7Oaul2cYmFrLhDB94w+lBuLRISKqNanfZqJZI+yGPNpQ637wTv/ib573cgpRqMLtRPvVrrAFy52QnzVwOKfJl75JGw5Ih9CZOYYmtR3WNDgboFF5iMT1nPAjODcM00IoZaCowOzAfMAcGBSsOAwIaBBQ9uTLTAE56I/k1o7Mc9tBEHsmyZgQUhCNlVxwS0slPLLtttrLIxUVQI5MCAgfQ\n\nBegin readFromJKS\n\n-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCuI5htEcfIxO2sZWQMNavRyhVw\nqqBek8QbyJRNtS5yXVNg0eyA1J+RaOh9z99B28aEMT17idUvgyHjBfpFWmfuBvlOeZi45DulsJxk\nLBziB9TzSaiPSfHp9LJdbJqhqQE2TAicgAPz/BF+beK3Hw0E7WitZXVfAPC23cJtEBqNBik+3zdk\n24ho7q5Zd8nAzeo8y2YPAOZsr58XKN9RCMHa+HC8RamxnVunwD1Dl3xsEuoyWhzIm5i1ukm1+Cyl\nsawbDFtVDXCGczKsO/+1yehvwQvzm+VI3RDO57cj5XoucU46US24WV8KOOYdkFgXBPaje2fSFmlT\no0d75XJxBg3ZAgMBAAECggEAE056/cy027uJpk1vdDMXI6FGE0G3mgTD/1iTqLHnvmI+dkOP9xCb\nyGFbNWewlvqo3csfx+yWKDhfr23gO4Q0dZ1sUpkEp6sWOd6E2E5TvXOk1nxaJdjK62dnxxfdZQL5\n0W1InyFKTuipf9zq/+Z/aQZxTpgrFSdjiMK5ZaIdb3kKjUvTl6qmJ+fmS1QE+7nj9jHujZTNyWr/\nd0z8jsZIl25kKgIM/afAAxd5Pt2+kuN7IqoukoO5zTZie4skHQcmiA7r2GjcrLTzaRhSHyZtSp0g\necbXWVA42ODXm5bE2WTwnqadTo+YSpG1j6/vjuZOkO9XZy8XlwKpvdZmXfHP6QKBgQDabVCordyL\ntr9JIf+jwDxD9id9zGCTs1cJORA9lzXLw8V60q7n4M3RyU457EuiALdkfF2iWv05ITGwbeuJGkUL\nLWMnPNOV/ibQ+dijGbjI99xefFJKR9zw/1CFSvHnvrCV63/v1OhBRyiFoGYuE2QW/5b/Fv27T29j\nujdOjl7gFwKBgQDMGAI64Q4ks2GPPbrMKwdWXYuSBy0ihJxFdM4nsEgYxQCFk68sXo9/VweHPWaU\nSMHWP1jQgxmbFxlYUKjNQQn+LoIZRV6HHei9XtNt0mBPax/UeMqWaxDRoFHE9qyrKf/tPdy6pA/Y\nIveRjc/swCClUl4FJSEJsCD6f8pRrPPHjwKBgFrqER6Ebz2/7NJ10j/ILc1j0YAs5y3TAbEXDUl1\nfLC5ZaL/uklNap2dGnBFiB2ACtVKZnbDRI7Y4CO9PMIuKvrCA3k7eh3+UQ2+UItik2UitZimSmIc\nkzvEKTGxxgpddoaQJQogJiO1iIpF/wHClHB2JdU7LpUeNRDfW1HZNGg1AoGBALamSeCdpsWrj4Tc\nzr6HR5LANvch2v/IQ/5Y0WJtfahFLfldOOjxW2Sv4znh9lqAXpC5smcw3IqSeokx7k96hFHpF188\nWKN9XduT8I2ZN737dcn1rAA/oxanbmZiCBdKiBKuSUrzJobcjEjD7C/Jpa2ucBwUpWOBL5JfKRY9\nPRH7AoGAWlwe5M0xmxlgyKEKwbCOVjoDkTbEZ12VYNN6zbLNm5RfyGS7DS9bW/1UYghH3TAvI6N4\nF8mLTZhKjF6jsdQPaaPxXcX46ED0Ke6oum8Uf7SlOKVIk7D4WyQvtxbKFoXHSwP5j9wzc36YJL1A\nxG7JHnzBxGLqnEdKCMKWU49deAo=\n-----END PRIVATE KEY-----\n-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQAB\n-----END PUBLIC KEY-----\n-----BEGIN CERTIFICATE KEY-----\nMIIDLDCCAhSgAwIBAgIQa9uFEeqpQryqmVGQ8je+ijANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDEwhjb20udGVzdDAeFw0yMzAyMjcxNzAxMjRaFw0yNDAyMjcxNzExMjRaMBMxETAPBgNVBAMTCGNvbS50ZXN0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAriOYbRHHyMTtrGVkDDWr0coVcKqgXpPEG8iUTbUucl1TYNHsgNSfkWjofc/fQdvGhDE9e4nVL4Mh4wX6RVpn7gb5TnmYuOQ7pbCcZCwc4gfU80moj0nx6fSyXWyaoakBNkwInIAD8/wRfm3itx8NBO1orWV1XwDwtt3CbRAajQYpPt83ZNuIaO6uWXfJwM3qPMtmDwDmbK+fFyjfUQjB2vhwvEWpsZ1bp8A9Q5d8bBLqMlocyJuYtbpJtfgspbGsGwxbVQ1whnMyrDv/tcnob8EL85vlSN0Qzue3I+V6LnFOOlEtuFlfCjjmHZBYFwT2o3tn0hZpU6NHe+VycQYN2QIDAQABo3wwejAOBgNVHQ8BAf8EBAMCBaAwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwHwYDVR0jBBgwFoAUN+CjU3g8qU3O0U/ik14xI1h1HWYwHQYDVR0OBBYEFDfgo1N4PKlNztFP4pNeMSNYdR1mMA0GCSqGSIb3DQEBCwUAA4IBAQBysfstdFrWRzr8WMpNw73g69/8dO0OPnxMPz6lSrGVYx/SXyM5BViwWFHBNXpjAkfZNpwI4+8k2dBsogxNzniHWNpIEbmUnFKYNbrHK8aWIEr5Gx7oZXsaUPgjxIWflnJqJUDYkk1wadoBJCMWrtlFENqtiLMLMnH2NwBePH8Z8O4vMnZzTmQUbsp4Fn1z/WYF1E7FCZTok373PjrNeJClhsK9jtygWIpnu6WeOS2MSzwqb+hyMp7Zk8rLG+ItsjeHeHcEbYyj4Wg+20iEUz88EpHAUCZUNSa3TKN7FZBMZdLCVxLgsEOtVddULjciCRBvnUWkJXHDrTvUynfh/QR2\n-----END CERTIFICATE KEY-----\n\nDone readFromJKS\n</code></pre>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":1,"creation_date":1677542179,"post_id":75586631,"comment_id":133354965,"body_markdown":"Why does your service have a main function? Your Spring boot app should just have one main function. `psvm` is your starting point for the application, 2 starting points makes no sense. Try making it a simple `public void` function, it&#39;ll work.","body":"Why does your service have a main function? Your Spring boot app should just have one main function. <code>psvm</code> is your starting point for the application, 2 starting points makes no sense. Try making it a simple <code>public void</code> function, it&#39;ll work."},{"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"score":0,"creation_date":1677549120,"post_id":75586631,"comment_id":133356032,"body_markdown":"Looks like I also needed to add the annotation `@ComponentScan(basePackages = {&quot;com.climate.schedulingtasks&quot;, &quot;com.climate.eventplatform.client.jobs.heartbeat&quot;})` Do you think that&#39;s right? I also had to get rid of the parameter list.","body":"Looks like I also needed to add the annotation <code>@ComponentScan(basePackages = {&quot;com.climate.schedulingtasks&quot;, &quot;com.climate.eventplatform.client.jobs.heartbeat&quot;})</code> Do you think that&#39;s right? I also had to get rid of the parameter list."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677561117,"creation_date":1677560241,"answer_id":75588018,"question_id":75586631,"body_markdown":"By default , spring-boot will scan and register beans that are under all sub-packages of the package of `@SpringBootApplication` class (see [this][1] for more details)\r\n\r\nNow your `@SpringBootApplication` is in `com.climate.schedulingtasks` package but `ProducerService` is in the package `com.climate.eventplatform.client.jobs.heartbeat` which is not under `com.climate.schedulingtasks` , so it cannot be scanned. \r\n\r\nYou can specify all packages that to be scanned explicitly like what you mentioned in the comment . Or just move `ProducerService` to any packages under `com.climate.schedulingtasks`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.structuring-your-code.locating-the-main-class","title":"How to Schedule tasks in Spring Boot","body":"<p>By default , spring-boot will scan and register beans that are under all sub-packages of the package of <code>@SpringBootApplication</code> class (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.structuring-your-code.locating-the-main-class\" rel=\"nofollow noreferrer\">this</a> for more details)</p>\n<p>Now your <code>@SpringBootApplication</code> is in <code>com.climate.schedulingtasks</code> package but <code>ProducerService</code> is in the package <code>com.climate.eventplatform.client.jobs.heartbeat</code> which is not under <code>com.climate.schedulingtasks</code> , so it cannot be scanned.</p>\n<p>You can specify all packages that to be scanned explicitly like what you mentioned in the comment . Or just move <code>ProducerService</code> to any packages under <code>com.climate.schedulingtasks</code></p>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677561117,"creation_date":1677541533,"question_id":75586631,"body_markdown":"Following this [guide](https://spring.io/guides/gs/scheduling-tasks/) I set up a basic Spring Boot Scheduler. When I run the `SchedulingTasksApplication` below, it repeatedly prints the logs as expected.\r\n\r\n## `ScheduledTasks` class\r\n```\r\npackage com.climate.schedulingtasks;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class ScheduledTasks {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public void reportCurrentTime() {\r\n        log.info(&quot;The time is now {}&quot;, dateFormat.format(new Date()));\r\n    }\r\n}\r\n```\r\n\r\n## `SchedulingTasksApplication` class\r\n```java\r\npackage com.climate.schedulingtasks;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class SchedulingTasksApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SchedulingTasksApplication.class);\r\n    }\r\n}\r\n```\r\n\r\nI then added a `ProducerService` to produce 5 messages. I tried adding the notations to connect to the `SchedulingTasksApplication`, but when I run it, I never see the `ProducerService` called.\r\n\r\n## `ProducerService` class\r\n```java\r\npackage com.climate.eventplatform.client.jobs.heartbeat;\r\n\r\nimport com.climate.eventplatform.client.EventPlatformClientException;\r\nimport com.climate.schedulingtasks.ScheduledTasks;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class ProducerService {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n    @Scheduled(fixedRate = 5000)\r\n    public static void main(String[] args) throws EventPlatformClientException, InterruptedException, IOException {\r\n        HeartBeatProducer.produceAll(&quot;Producer 1&quot;);\r\n        log.info(&quot;Producer Running&quot;);\r\n    }\r\n}\r\n```","title":"How to Schedule tasks in Spring Boot","body":"<p>Following this <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">guide</a> I set up a basic Spring Boot Scheduler. When I run the <code>SchedulingTasksApplication</code> below, it repeatedly prints the logs as expected.</p>\n<h2><code>ScheduledTasks</code> class</h2>\n<pre><code>package com.climate.schedulingtasks;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ScheduledTasks {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n\n    @Scheduled(fixedRate = 5000)\n    public void reportCurrentTime() {\n        log.info(&quot;The time is now {}&quot;, dateFormat.format(new Date()));\n    }\n}\n</code></pre>\n<h2><code>SchedulingTasksApplication</code> class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.schedulingtasks;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\npublic class SchedulingTasksApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SchedulingTasksApplication.class);\n    }\n}\n</code></pre>\n<p>I then added a <code>ProducerService</code> to produce 5 messages. I tried adding the notations to connect to the <code>SchedulingTasksApplication</code>, but when I run it, I never see the <code>ProducerService</code> called.</p>\n<h2><code>ProducerService</code> class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.climate.eventplatform.client.jobs.heartbeat;\n\nimport com.climate.eventplatform.client.EventPlatformClientException;\nimport com.climate.schedulingtasks.ScheduledTasks;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\n\n@Component\npublic class ProducerService {\n\n    private static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n    @Scheduled(fixedRate = 5000)\n    public static void main(String[] args) throws EventPlatformClientException, InterruptedException, IOException {\n        HeartBeatProducer.produceAll(&quot;Producer 1&quot;);\n        log.info(&quot;Producer Running&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","nested"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677559583,"creation_date":1677559583,"answer_id":75587963,"question_id":75587909,"body_markdown":"Try this:\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n      if(agentRepository.findAgentByRequestPoint(request.getPoint()).isEmpty())\r\n        return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n        \r\n      if(!request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;))\r\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n    \r\n      if(ServiceRepository.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService())).isEmpty())\r\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4));\r\n    }\r\n\r\nI would suggest more validations or null checkings on the variables / methods, as some fields like `request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)` or `request.getAdvanced().getService()` seems vulnerable to NPEs.\r\n\r\nOr at least try catching the method and log stacktraces for future debugging purposes.\r\n\r\nHope it can help.","title":"How to replace a lot of nested ifs in validation process?","body":"<p>Try this:</p>\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n  if(agentRepository.findAgentByRequestPoint(request.getPoint()).isEmpty())\n    return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n    \n  if(!request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;))\n    return ResponseEntity.ok((T) response.wrongCheck(1, 1));\n\n  if(ServiceRepository.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService())).isEmpty())\n    return ResponseEntity.ok((T)  response.wrongCheck(1, 4));\n}\n</code></pre>\n<p>I would suggest more validations or null checkings on the variables / methods, as some fields like <code>request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)</code> or <code>request.getAdvanced().getService()</code> seems vulnerable to NPEs.</p>\n<p>Or at least try catching the method and log stacktraces for future debugging purposes.</p>\n<p>Hope it can help.</p>\n"},{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677560103,"creation_date":1677560103,"answer_id":75588008,"question_id":75587909,"body_markdown":"The best way to make your code more readable is to split it into different methods:\r\n```\r\npublic &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n    if (!isAgentExists(request)) {\r\n        return ResponseEntity.ok((T) ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n    }\r\n\r\n    if (!isRequestFunctionCorrect(request, &quot;CheckAcc&quot;)) {\r\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n    }\r\n\r\n    if (!isServiceExists(request)) {\r\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4);\r\n    }\r\n\r\n    // do the logic if everything is correct\r\n}\r\n\r\nprivate boolean isAgentExists(Request request) {\r\n    return agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent();\r\n}\r\n\r\nprivate boolean isRequestFunctionCorrect(Request request, String func) {\r\n    if (request.getAdvanced() != null) {\r\n        return func.equals(request.getAdvanced().getFunction());\r\n    }\r\n    return false;\r\n}\r\n\r\nprivate boolean isServiceExists(Request request) {\r\n    Long serviceId = Long.parseLong(request.getAdvanced().getService());\r\n    return ServiceRepository.findServiceByServiceId(serviceName).isPresent()\r\n}\r\n\r\n```\r\n\r\nIn some cases I added additional null check to avoid NPE.\r\n\r\nHope it will helps you :)","title":"How to replace a lot of nested ifs in validation process?","body":"<p>The best way to make your code more readable is to split it into different methods:</p>\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n    if (!isAgentExists(request)) {\n        return ResponseEntity.ok((T) ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n    }\n\n    if (!isRequestFunctionCorrect(request, &quot;CheckAcc&quot;)) {\n        return ResponseEntity.ok((T) response.wrongCheck(1, 1));\n    }\n\n    if (!isServiceExists(request)) {\n        return ResponseEntity.ok((T)  response.wrongCheck(1, 4);\n    }\n\n    // do the logic if everything is correct\n}\n\nprivate boolean isAgentExists(Request request) {\n    return agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent();\n}\n\nprivate boolean isRequestFunctionCorrect(Request request, String func) {\n    if (request.getAdvanced() != null) {\n        return func.equals(request.getAdvanced().getFunction());\n    }\n    return false;\n}\n\nprivate boolean isServiceExists(Request request) {\n    Long serviceId = Long.parseLong(request.getAdvanced().getService());\n    return ServiceRepository.findServiceByServiceId(serviceName).isPresent()\n}\n\n</code></pre>\n<p>In some cases I added additional null check to avoid NPE.</p>\n<p>Hope it will helps you :)</p>\n"}],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75588008,"answer_count":2,"score":2,"last_activity_date":1677560103,"creation_date":1677558847,"question_id":75587909,"body_markdown":"I am handling response to a request, and I need to make sure that request is formed correctly and for different mistakes in a request I need to return different answers. I ended up doing nested ifs and after the third one I kinda feel that it looks quite messy and potentially buggy. So I came here to ask for an advice on how I can modify my code to avoid nested if statements. \r\n\r\n\r\n\r\nHere is the code:\r\n\r\n\r\n```\r\n public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\r\n        if(agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent()){\r\n            if(request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)){\r\n                if(ServiceRepository\r\n.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService()))\r\n                        .isPresent()){\r\n                    \r\n                }else{\r\n                    ResponseEntity.ok((T)  response.wrongCheck(1, 4);\r\n                }\r\n            }else{\r\n                ResponseEntity.ok((T) response.wrongCheck(1, 1));\r\n            }\r\n        }else{\r\n            return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\r\n        }\r\n       \r\n    }\r\n```","title":"How to replace a lot of nested ifs in validation process?","body":"<p>I am handling response to a request, and I need to make sure that request is formed correctly and for different mistakes in a request I need to return different answers. I ended up doing nested ifs and after the third one I kinda feel that it looks quite messy and potentially buggy. So I came here to ask for an advice on how I can modify my code to avoid nested if statements.</p>\n<p>Here is the code:</p>\n<pre><code> public &lt;T&gt; ResponseEntity&lt;T&gt; validateRequest(Request request) {\n        if(agentRepository.findAgentByRequestPoint(request.getPoint()).isPresent()){\n            if(request.getAdvanced().getFunction().equals(&quot;CheckAcc&quot;)){\n                if(ServiceRepository\n.findServiceByServiceId(Long.parseLong(request.getAdvanced().getService()))\n                        .isPresent()){\n                    \n                }else{\n                    ResponseEntity.ok((T)  response.wrongCheck(1, 4);\n                }\n            }else{\n                ResponseEntity.ok((T) response.wrongCheck(1, 1));\n            }\n        }else{\n            return ResponseEntity.ok((T)ErrorDTO.from(bundle.getString(&quot;point.not.set&quot;)));\n        }\n       \n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","jaxb","android-studio"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":1,"creation_date":1373437528,"post_id":17563527,"comment_id":25552041,"body_markdown":"What is the version ? I guess it should be `javax.xml.bind:jaxb-api:2.2` ! What version of Java you are using ?","body":"What is the version ? I guess it should be <code>javax.xml.bind:jaxb-api:2.2</code> ! What version of Java you are using ?"},{"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"score":0,"creation_date":1373450669,"post_id":17563527,"comment_id":25558641,"body_markdown":"Looks like it is problem of IDE.","body":"Looks like it is problem of IDE."},{"owner":{"account_id":1048679,"reputation":2067,"user_id":1053097,"accept_rate":85,"display_name":"muneikh"},"score":0,"creation_date":1375689217,"post_id":17563527,"comment_id":26413824,"body_markdown":"Were you able to fix the problem?","body":"Were you able to fix the problem?"},{"owner":{"account_id":94263,"reputation":868,"user_id":257457,"accept_rate":88,"display_name":"amadib"},"score":0,"creation_date":1425181232,"post_id":17563527,"comment_id":45855091,"body_markdown":"@Maverick were you able to solve this? I&#39;m running into the issue myself","body":"@Maverick were you able to solve this? I&#39;m running into the issue myself"}],"answers":[{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529514261,"creation_date":1529513433,"answer_id":50953339,"question_id":17563527,"body_markdown":"Try to synchronize the IDE (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Y&lt;/kbd&gt;)","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Try to synchronize the IDE (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Y</kbd>)</p>\n"},{"tags":[],"owner":{"account_id":14858535,"reputation":13,"user_id":10730219,"display_name":"venkat stark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618496688,"creation_date":1618496688,"answer_id":67110333,"question_id":17563527,"body_markdown":"Sometimes even after adding the dependencies to the pom.xml file, maven fails to download the dependencies to your local machine. So we can have it downloaded by updating the  maven repository.\r\n\r\nIn case of intelliJ, in the **Settings/preference** dialog, go to **Build, Execution, Deployment** -&gt; **Build tools** -&gt; **Maven** -&gt; **Repositories**.\r\nOn the **Repositories** page, click **Update** to update maven repositories.\r\n\r\nIf you&#39;re using eclipse, **Right click** your project -&gt; **maven** -&gt; **update project**.\r\nIn the update project window, select the recently modified projects and click **Ok**.\r\n\r\nAfter updating, check if you could import your packages.","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Sometimes even after adding the dependencies to the pom.xml file, maven fails to download the dependencies to your local machine. So we can have it downloaded by updating the  maven repository.</p>\n<p>In case of intelliJ, in the <strong>Settings/preference</strong> dialog, go to <strong>Build, Execution, Deployment</strong> -&gt; <strong>Build tools</strong> -&gt; <strong>Maven</strong> -&gt; <strong>Repositories</strong>.\nOn the <strong>Repositories</strong> page, click <strong>Update</strong> to update maven repositories.</p>\n<p>If you're using eclipse, <strong>Right click</strong> your project -&gt; <strong>maven</strong> -&gt; <strong>update project</strong>.\nIn the update project window, select the recently modified projects and click <strong>Ok</strong>.</p>\n<p>After updating, check if you could import your packages.</p>\n"},{"tags":[],"owner":{"account_id":2970596,"reputation":373,"user_id":2522715,"display_name":"Yurifull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635281543,"creation_date":1635281543,"answer_id":69729816,"question_id":17563527,"body_markdown":"with Eclipse Spring boot \r\ni only use\r\n\r\n         &lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\nReason? my coworker delete swagger jar","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>with Eclipse Spring boot\ni only use</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Reason? my coworker delete swagger jar</p>\n"},{"tags":[],"owner":{"account_id":11352107,"reputation":33,"user_id":8322735,"display_name":"calm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645753200,"creation_date":1645753200,"answer_id":71260111,"question_id":17563527,"body_markdown":"Maybe you can check intellij , in the **Project Structure** dialog, go to **Project Settings -&gt; Project -&gt; Project SDK**  , choose other version SDK like 1.8 and click **OK**","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>Maybe you can check intellij , in the <strong>Project Structure</strong> dialog, go to <strong>Project Settings -&gt; Project -&gt; Project SDK</strong>  , choose other version SDK like 1.8 and click <strong>OK</strong></p>\n"},{"tags":[],"owner":{"account_id":11007301,"reputation":21,"user_id":13327845,"display_name":"scvbelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675243268,"creation_date":1675243268,"answer_id":75307957,"question_id":17563527,"body_markdown":"In case anyone else ends up here.\r\nMy dependency scope was listed as &#39;runtime&#39; and changing it to &#39;provided&#39; meant it downloaded the dependency\r\n\r\nI&#39;m coming from a python background and trying to debug something and have no idea what i&#39;m doing though, so hopefully i haven&#39;t created a major issue... ([this issue](https://stackoverflow.com/questions/12272499/maven-what-is-the-runtime-scope-purpose) talks a bit about the difference)\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\nto: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>In case anyone else ends up here.\nMy dependency scope was listed as 'runtime' and changing it to 'provided' meant it downloaded the dependency</p>\n<p>I'm coming from a python background and trying to debug something and have no idea what i'm doing though, so hopefully i haven't created a major issue... (<a href=\"https://stackoverflow.com/questions/12272499/maven-what-is-the-runtime-scope-purpose\">this issue</a> talks a bit about the difference)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677559976,"creation_date":1677559976,"answer_id":75587996,"question_id":17563527,"body_markdown":"The issue is with javax vs jakarta\r\n\r\n\r\n----------\r\nTry using this dependency\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>The issue is with javax vs jakarta</p>\n<hr />\n<p>Try using this dependency</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":328638,"reputation":1655,"user_id":651714,"accept_rate":67,"display_name":"Nandish A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22036,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1677559976,"creation_date":1373436471,"question_id":17563527,"body_markdown":"I am using intellij and my code uses\r\n\r\n`import javax.xml.bind.annotation.XmlRootElement;`\r\n\r\nIt compiles and runs when I use command line. However when tried running a test class using the ide(intellij), it gives the error\r\n \r\n` package javax.xml.bind.annotation does not exists`\r\n\r\nI have added the jaxb dependency in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhat forces `intellij` not to detect this?","title":"import javax.xml.bind.annotation.XmlRootElement not resolved","body":"<p>I am using intellij and my code uses</p>\n\n<p><code>import javax.xml.bind.annotation.XmlRootElement;</code></p>\n\n<p>It compiles and runs when I use command line. However when tried running a test class using the ide(intellij), it gives the error</p>\n\n<p><code>package javax.xml.bind.annotation does not exists</code></p>\n\n<p>I have added the jaxb dependency in my pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>What forces <code>intellij</code> not to detect this?</p>\n"},{"tags":["java","json","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1677489643,"post_id":75578582,"comment_id":133340764,"body_markdown":"That depends on the configurations of the underlying json library. Looks like you are using spring-boot, which normally comes with jackson. Edit your question to show the configuration of `ObjectMapper`.","body":"That depends on the configurations of the underlying json library. Looks like you are using spring-boot, which normally comes with jackson. Edit your question to show the configuration of <code>ObjectMapper</code>."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1677490490,"post_id":75578582,"comment_id":133340971,"body_markdown":"So you mean to say that I should use @JsonProperty(&quot;firstName&quot;) and @JsonProperty(&quot;lastName&quot;) explicitly on each field whichever I want it to be in camel-case? If that solves the issue then it&#39;s fine. Thanks.\nBut where can I check the configuration of ObjectMapper in my project?","body":"So you mean to say that I should use @JsonProperty(&quot;firstName&quot;) and @JsonProperty(&quot;lastName&quot;) explicitly on each field whichever I want it to be in camel-case? If that solves the issue then it&#39;s fine. Thanks. But where can I check the configuration of ObjectMapper in my project?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677491220,"post_id":75578582,"comment_id":133341180,"body_markdown":"@JohnSmith: [see here](https://www.baeldung.com/spring-boot-customize-jackson-objectmapper).","body":"@JohnSmith: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">see here</a>."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677492940,"creation_date":1677492940,"answer_id":75579159,"question_id":75578582,"body_markdown":"Try to annotate your class (`SampleRequest`) with:\r\n```\r\n@JsonNaming(PropertyNamingStrategies.LowerCamelCaseStrategy.class)\r\n```","title":"Why camel-case fields are not recognized by API?","body":"<p>Try to annotate your class (<code>SampleRequest</code>) with:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategies.LowerCamelCaseStrategy.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677559864,"creation_date":1677559864,"answer_id":75587987,"question_id":75578582,"body_markdown":"Use like this for any field you want to in your request class:\r\n\r\n    @JsonProperty(&quot;firstName&quot;)\r\n    private string firstName;\r\n    \r\n    @JsonProperty(&quot;middleName&quot;)\r\n    private string middleName;\r\n\r\n    @JsonProperty(&quot;lastName&quot;)\r\n    private string lastName;","title":"Why camel-case fields are not recognized by API?","body":"<p>Use like this for any field you want to in your request class:</p>\n<pre><code>@JsonProperty(&quot;firstName&quot;)\nprivate string firstName;\n\n@JsonProperty(&quot;middleName&quot;)\nprivate string middleName;\n\n@JsonProperty(&quot;lastName&quot;)\nprivate string lastName;\n</code></pre>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677568379,"accepted_answer_id":75587987,"answer_count":2,"score":0,"last_activity_date":1677559864,"creation_date":1677489329,"question_id":75578582,"body_markdown":"I have defined my **request class** like:\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class SampleRequest {\r\n\r\n    @NotBlank\r\n    private String firstName;\r\n    \r\n    private String middleName;\r\n\r\n    @NotBlank\r\n    private String lastName;\r\n}\r\n```\r\n\r\n**Controller** as:\r\n\r\n```java\r\n    @PostMapping(path = &quot;mydetails&quot;,  consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n    public DeferredResult&lt;DetailsResponse&gt; saveMyDetails(@Validated @RequestBody SampleRequest sampleRequest) {\r\n\r\n    \t// some logic here\r\n\r\n        return detailsResponse;\r\n    }\r\n```\r\n\r\nWhen I&#39;m sending my **request from Postman** as:\r\n\r\n```json\r\n{\r\n   &quot;firstName&quot;:&quot;John&quot;,\r\n   &quot;middleName&quot;:&quot;For&quot;,\r\n   &quot;lastName&quot;:&quot;Doe&quot;,\r\n}\r\n```\r\n\r\nthe value of all fields received at controller is null. Upon investigating, I found that it is somehow not accepting the fields in camel-case, rather it is accepting with underscore. So, I tried hitting the API with below format and it worked:\r\n\r\n```json\r\n{\r\n   &quot;first_name&quot;:&quot;John&quot;,\r\n   &quot;middle_name&quot;:&quot;For&quot;,\r\n   &quot;last_name&quot;:&quot;Doe&quot;,\r\n}\r\n```\r\n\r\nSo, why it is like this? Whatever fashion we defined in our request class, it should be same while sending the request from Postman or from app side. Why is it only working when I have to send with underscore instead of camel-case?","title":"Why camel-case fields are not recognized by API?","body":"<p>I have defined my <strong>request class</strong> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SampleRequest {\n\n    @NotBlank\n    private String firstName;\n    \n    private String middleName;\n\n    @NotBlank\n    private String lastName;\n}\n</code></pre>\n<p><strong>Controller</strong> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(path = &quot;mydetails&quot;,  consumes = {MediaType.APPLICATION_JSON_VALUE})\n    public DeferredResult&lt;DetailsResponse&gt; saveMyDetails(@Validated @RequestBody SampleRequest sampleRequest) {\n\n        // some logic here\n\n        return detailsResponse;\n    }\n</code></pre>\n<p>When I'm sending my <strong>request from Postman</strong> as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;firstName&quot;:&quot;John&quot;,\n   &quot;middleName&quot;:&quot;For&quot;,\n   &quot;lastName&quot;:&quot;Doe&quot;,\n}\n</code></pre>\n<p>the value of all fields received at controller is null. Upon investigating, I found that it is somehow not accepting the fields in camel-case, rather it is accepting with underscore. So, I tried hitting the API with below format and it worked:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;first_name&quot;:&quot;John&quot;,\n   &quot;middle_name&quot;:&quot;For&quot;,\n   &quot;last_name&quot;:&quot;Doe&quot;,\n}\n</code></pre>\n<p>So, why it is like this? Whatever fashion we defined in our request class, it should be same while sending the request from Postman or from app side. Why is it only working when I have to send with underscore instead of camel-case?</p>\n"},{"tags":["java","gradle","ibm-jdk"],"answers":[{"tags":[],"owner":{"account_id":13871965,"reputation":249,"user_id":10014806,"display_name":"Jared Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595509229,"creation_date":1595509229,"answer_id":63054907,"question_id":63043520,"body_markdown":"Try updating your gradle.properties to have:\r\n\r\nsystemProp.com.ibm.jsse2.overrideDefaultTLS=true\r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>Try updating your gradle.properties to have:</p>\n<p>systemProp.com.ibm.jsse2.overrideDefaultTLS=true</p>\n"},{"tags":[],"owner":{"display_name":"user8295151"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677558838,"creation_date":1677558838,"answer_id":75587907,"question_id":63043520,"body_markdown":"In your exception stack, it was mentioned \r\n\r\n    &quot;16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\r\n    16:39:49  **SSLv3 protocol was requested but was not enabled**&quot;\r\n\r\n\r\nand In your command line options it mentioned **&quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot;** \r\n\r\ncan you try removing this property &quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot; and test your application. \r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>In your exception stack, it was mentioned</p>\n<pre><code>&quot;16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\n16:39:49  **SSLv3 protocol was requested but was not enabled**&quot;\n</code></pre>\n<p>and In your command line options it mentioned <strong>&quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot;</strong></p>\n<p>can you try removing this property &quot;-Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1&quot; and test your application.</p>\n"}],"owner":{"account_id":2404502,"reputation":61,"user_id":2101374,"accept_rate":75,"display_name":"user2101374"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677558838,"creation_date":1595453514,"question_id":63043520,"body_markdown":"We are invoking gradle build from Jenkins and Java being used is IBM java 1.8. After the build is completed the packaged ear file is supposed to be published on Artifactory and thats where it fails because it is using TLSv1 whereas the artifactory server uses TLSv1.2 (RECV TLSv1.2 ALERT:  fatal, protocol_version). \r\nWe have specified parameters to try to force it to use TLSv1.2 but to no avail.\r\n\r\n\r\nIf we simply switch the Java from IBM java to OpenJDK everything works but we have to use IBM JDK.\r\n\r\nBelow is extract from logs, any insight would be appreciated.\r\n\r\n```16:37:27  JENKINS_URL=https://XXX:8080/ifs/\r\n16:37:27  BUILD_ID=52\r\n16:37:27  JAVA_TOOL_OPTIONS=-Duser.home=/home/jenkins -Dhttps.protocols=TLSv1.2 -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dcom.ibm.jsse2.overrideDefaultProtocol=TLSv12 -Djdk.tls.client.protocols=TLSv1.2 -Djavax.net.debug=all -Djavax.net.debug=all  -Dcom.ibm.jsse2.disablesslv3=false -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1\r\n\r\n16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\r\n16:39:49  SSLv3 protocol was requested but was not enabled\r\n16:39:49  SUPPORTED: [TLSv1, TLSv1.1, TLSv1.2]\r\n16:39:49  SERVER_DEFAULT: [TLSv1, TLSv1.1, TLSv1.2]\r\n16:39:49  CLIENT_DEFAULT: [TLSv1.2]\r\n16:39:49  IBMJSSE2 will allow RFC 5746 renegotiation per com.ibm.jsse2.renegotiate set to none or default\r\n16:39:49  IBMJSSE2 will not require renegotiation indicator during initial handshake per com.ibm.jsse2.renegotiation.indicator set to OPTIONAL or default taken\r\n16:39:49  IBMJSSE2 will not perform identity checking against the peer cert check during renegotiation per com.ibm.jsse2.renegotiation.peer.cert.check set to OFF or default\r\n16:39:49  IBMJSSE2 will allow client initiated renegotiation per jdk.tls.rejectClientInitiatedRenegotiation set to FALSE or default\r\n16:39:49  IBMJSSE2 will not allow unsafe server certificate change during renegotiation per jdk.tls.allowUnsafeServerCertChange set to FALSE or default\r\n16:39:49  \r\n16:39:49  Is initial handshake: true\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n16:39:49  %% No cached client session\r\n16:39:49  *** ClientHello, TLSv1\r\n16:39:49  RandomCookie:  GMT: 1595384853 bytes = { 107, 178, 131, 155, 114, 248, 46, 134, 176, 84, 230, 191, 243, 124, 238, 63, 233, 106, 234, 197, 151, 26, 164, 199, 46, 116, 65, 30 }\r\n16:39:49  Session ID:  {}\r\n16:39:49  Cipher Suites: [TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA]\r\n16:39:49  Compression Methods:  { 0 }\r\n16:39:49  Extension elliptic_curves, curve names: {secp256r1, secp192r1, secp224r1, secp384r1, secp521r1, secp160k1, secp160r1, secp160r2, secp192k1, secp224k1, secp256k1}\r\n16:39:49  Extension ec_point_formats, formats: [uncompressed]\r\n16:39:49  Extension server_name, server_name: [type=host_name (0), value=artifactory..xxx.xxx]\r\n16:39:49  ***\r\n16:39:49  [write] MD5 and SHA1 hashes:  len = 123\r\n\r\n16:39:49  [Raw read]: length = 2\r\n16:39:49  0000: 02 46                                              .F\r\n16:39:49  \r\n16:39:49  pool-1-thread-1, READ: TLSv1 Alert, length = 2\r\n16:39:49  pool-1-thread-1, RECV TLSv1.2 ALERT:  fatal, protocol_version\r\n**16:39:49  pool-1-thread-1, called closeSocket()\r\n16:39:49  pool-1-thread-1, handling exception: javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n16:39:49  Error occurred for request GET /artifactory/api/system/version HTTP/1.1: Received fatal alert: protocol_version.**```\r\n\r\n\r\n","title":"Gradle build using IBM JDK not using TLS 1.2","body":"<p>We are invoking gradle build from Jenkins and Java being used is IBM java 1.8. After the build is completed the packaged ear file is supposed to be published on Artifactory and thats where it fails because it is using TLSv1 whereas the artifactory server uses TLSv1.2 (RECV TLSv1.2 ALERT:  fatal, protocol_version).\nWe have specified parameters to try to force it to use TLSv1.2 but to no avail.</p>\n<p>If we simply switch the Java from IBM java to OpenJDK everything works but we have to use IBM JDK.</p>\n<p>Below is extract from logs, any insight would be appreciated.</p>\n<pre><code>16:37:27  BUILD_ID=52\n16:37:27  JAVA_TOOL_OPTIONS=-Duser.home=/home/jenkins -Dhttps.protocols=TLSv1.2 -Dcom.ibm.jsse2.overrideDefaultTLS=true -Dcom.ibm.jsse2.overrideDefaultProtocol=TLSv12 -Djdk.tls.client.protocols=TLSv1.2 -Djavax.net.debug=all -Djavax.net.debug=all  -Dcom.ibm.jsse2.disablesslv3=false -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djdk.tls.disabledAlgorithms=SSLv3,TLSv1,TLSv1.1\n\n16:39:49  jdk.tls.client.protocols is defined as TLSv1.2\n16:39:49  SSLv3 protocol was requested but was not enabled\n16:39:49  SUPPORTED: [TLSv1, TLSv1.1, TLSv1.2]\n16:39:49  SERVER_DEFAULT: [TLSv1, TLSv1.1, TLSv1.2]\n16:39:49  CLIENT_DEFAULT: [TLSv1.2]\n16:39:49  IBMJSSE2 will allow RFC 5746 renegotiation per com.ibm.jsse2.renegotiate set to none or default\n16:39:49  IBMJSSE2 will not require renegotiation indicator during initial handshake per com.ibm.jsse2.renegotiation.indicator set to OPTIONAL or default taken\n16:39:49  IBMJSSE2 will not perform identity checking against the peer cert check during renegotiation per com.ibm.jsse2.renegotiation.peer.cert.check set to OFF or default\n16:39:49  IBMJSSE2 will allow client initiated renegotiation per jdk.tls.rejectClientInitiatedRenegotiation set to FALSE or default\n16:39:49  IBMJSSE2 will not allow unsafe server certificate change during renegotiation per jdk.tls.allowUnsafeServerCertChange set to FALSE or default\n16:39:49  \n16:39:49  Is initial handshake: true\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_ECDH_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_GCM_SHA256\n16:39:49  Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_GCM_SHA256\n16:39:49  %% No cached client session\n16:39:49  *** ClientHello, TLSv1\n16:39:49  RandomCookie:  GMT: 1595384853 bytes = { 107, 178, 131, 155, 114, 248, 46, 134, 176, 84, 230, 191, 243, 124, 238, 63, 233, 106, 234, 197, 151, 26, 164, 199, 46, 116, 65, 30 }\n16:39:49  Session ID:  {}\n16:39:49  Cipher Suites: [TLS_EMPTY_RENEGOTIATION_INFO_SCSV, SSL_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDHE_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_128_CBC_SHA, SSL_ECDH_ECDSA_WITH_AES_128_CBC_SHA, SSL_ECDH_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA]\n16:39:49  Compression Methods:  { 0 }\n16:39:49  Extension elliptic_curves, curve names: {secp256r1, secp192r1, secp224r1, secp384r1, secp521r1, secp160k1, secp160r1, secp160r2, secp192k1, secp224k1, secp256k1}\n16:39:49  Extension ec_point_formats, formats: [uncompressed]\n16:39:49  Extension server_name, server_name: [type=host_name (0), value=artifactory..xxx.xxx]\n16:39:49  ***\n16:39:49  [write] MD5 and SHA1 hashes:  len = 123\n\n16:39:49  [Raw read]: length = 2\n16:39:49  0000: 02 46                                              .F\n16:39:49  \n16:39:49  pool-1-thread-1, READ: TLSv1 Alert, length = 2\n16:39:49  pool-1-thread-1, RECV TLSv1.2 ALERT:  fatal, protocol_version\n**16:39:49  pool-1-thread-1, called closeSocket()\n16:39:49  pool-1-thread-1, handling exception: javax.net.ssl.SSLException: Received fatal alert: protocol_version\n16:39:49  Error occurred for request GET /artifactory/api/system/version HTTP/1.1: Received fatal alert: protocol_version.**```\n\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1677556362,"post_id":75587673,"comment_id":133356945,"body_markdown":"The error message &quot;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED&quot; indicates that there is an issue with the manifest file of your application. The manifest file is an important XML file that describes the structure and properties of your application.","body":"The error message &quot;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED&quot; indicates that there is an issue with the manifest file of your application. The manifest file is an important XML file that describes the structure and properties of your application."},{"owner":{"account_id":9942213,"reputation":78,"user_id":7358409,"display_name":"Vineeth_Bhanukoti"},"score":1,"creation_date":1677558049,"post_id":75587673,"comment_id":133357152,"body_markdown":"@Mike087 My assumption is if there is an error in Manifest file then the same error should be shown for any device on which i am trying to install the app, but that is not the case here.","body":"@Mike087 My assumption is if there is an error in Manifest file then the same error should be shown for any device on which i am trying to install the app, but that is not the case here."},{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1677559475,"post_id":75587673,"comment_id":133357310,"body_markdown":"Move the &lt;queries&gt; tag inside the &lt;application&gt; tag and try.","body":"Move the &lt;queries&gt; tag inside the &lt;application&gt; tag and try."},{"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1677559586,"post_id":75587673,"comment_id":133357319,"body_markdown":"Can you change device, if it works on other device.. then there will be a problem with developer tools,, just disable developer options and renable it. you can also restart device","body":"Can you change device, if it works on other device.. then there will be a problem with developer tools,, just disable developer options and renable it. you can also restart device"}],"answers":[{"tags":[],"owner":{"account_id":17274393,"reputation":33,"user_id":12509319,"display_name":"Pawandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677556256,"creation_date":1677556256,"answer_id":75587709,"question_id":75587673,"body_markdown":"From error it looks like the problem is with your Manifest file try the following solutions maybe it could help:\r\n\r\n1 - Make sure all required attribs are there in manifest file, such as the package name, application name, and permissions.\r\n\r\n2 -  Make sure that the manifest file is well-formed and that all elements and attributes are properly formatted and closed.\r\n\r\n3 - Make sure min and target sdk versions are compatible.\r\n\r\n4 - Check if there are any duplicate permissions.\r\n","title":"Unable to install apps after phone update android studio","body":"<p>From error it looks like the problem is with your Manifest file try the following solutions maybe it could help:</p>\n<p>1 - Make sure all required attribs are there in manifest file, such as the package name, application name, and permissions.</p>\n<p>2 -  Make sure that the manifest file is well-formed and that all elements and attributes are properly formatted and closed.</p>\n<p>3 - Make sure min and target sdk versions are compatible.</p>\n<p>4 - Check if there are any duplicate permissions.</p>\n"},{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677557756,"creation_date":1677557756,"answer_id":75587829,"question_id":75587673,"body_markdown":"First thing I would suggest is you update your Android Studio (4.1.1) as mentioned in your question, 4.1.1 is over 2 years old now.\r\n\r\nSecond thing is you should look into your AndroidManifest.xml file as `INSTALL_PARSE_FAILED_MANIFEST_MALFORMED` indicated there is an issue in your manifest. Make sure each one of your `&lt;activity...&gt;` or `&lt;service...&gt;` tag has `android:exported=true` or `android:exported=false` attribute.\r\n\r\nThird thing would be that you edit your question with your manifest so other people can look at it and give suggestions according to it.\r\n\r\nAlso checkout https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed to check for yourself","title":"Unable to install apps after phone update android studio","body":"<p>First thing I would suggest is you update your Android Studio (4.1.1) as mentioned in your question, 4.1.1 is over 2 years old now.</p>\n<p>Second thing is you should look into your AndroidManifest.xml file as <code>INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</code> indicated there is an issue in your manifest. Make sure each one of your <code>&lt;activity...&gt;</code> or <code>&lt;service...&gt;</code> tag has <code>android:exported=true</code> or <code>android:exported=false</code> attribute.</p>\n<p>Third thing would be that you edit your question with your manifest so other people can look at it and give suggestions according to it.</p>\n<p>Also checkout <a href=\"https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed\">Installation error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED?</a> to check for yourself</p>\n"}],"owner":{"account_id":9942213,"reputation":78,"user_id":7358409,"display_name":"Vineeth_Bhanukoti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677558783,"creation_date":1677555852,"question_id":75587673,"body_markdown":"Problem: I am working on developing an application in android studio, and was able to install application on my physical device(One plus nord) up until recently when i downloaded and installed a new software update on my phone. Since then i am not able to install any application through android studio and i get an error:\r\n\r\n    Installation did not succeed.\r\n    The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\r\n    \r\n    List of apks:\r\n    [0] &#39;D:\\Users\\vinee\\Android Studio Apps\\ParkingSystem\\app\\build\\outputs\\apk\\debug\\app-debug.apk&#39;\r\n    Installation failed due to: &#39;null&#39;\r\nevery time i try to install the application on my device.\r\nWhat I have done: I have tried various solution from including an installation flag -r -t to changing the project name to all small letters and cleaning and building the project again. Doing all this i could figure out the exact cause of this problem.\r\n\r\nThe same application is installed onto a same company phone with yet to be updated software(One plus 9pro) and the same problem follows with my previously finished project which ran on all devices, so it would not be an issue with the build of the project and yes i the application is installing and running on all my virtual devices.\r\n\r\nThere is no issue with the USB cable, USB debugging is turned on and there appears to be no option to enable install from unknown sources on my phone(old or new), also not able to revert back to the previous software version in my phone.\r\n\r\nDevice details:\r\nAndroid studio:4.1.1\r\nOne plus Nord: Android 12 \r\nOne plus 9 Pro: Android 11.\r\n\r\nBuild details:\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;32.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.parkingsystem&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\n \r\n\r\nI have been trying to resolve this issue i even changed the sdk version to 33 from 32, changing buildtool vesion to 33.0.0 yeilds an error that it is corrupted.\r\n\r\nWhat can be done to resolve this issue?\r\n\r\nThank you.\r\n\r\nEdited: my manifest file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.parkingsystem&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;queries&gt;\r\n            &lt;package android:name=&quot;com.google.android.apps.maps&quot;/&gt;\r\n        &lt;/queries&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/launcher_logo&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:roundIcon=&quot;@mipmap/launcher_logo&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.ParkingSystem&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n    \r\n            &lt;activity android:name=&quot;.vehicle_type_selection&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.registration&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.otpverificationactivity&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity\r\n                android:name=&quot;.homeactivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/Theme.ParkingSystem.NoActionBar&quot;\r\n                android:exported=&quot;true&quot;/&gt;\r\n            &lt;activity android:name=&quot;.mainactivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Unable to install apps after phone update android studio","body":"<p>Problem: I am working on developing an application in android studio, and was able to install application on my physical device(One plus nord) up until recently when i downloaded and installed a new software update on my phone. Since then i am not able to install any application through android studio and i get an error:</p>\n<pre><code>Installation did not succeed.\nThe application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED\n\nList of apks:\n[0] 'D:\\Users\\vinee\\Android Studio Apps\\ParkingSystem\\app\\build\\outputs\\apk\\debug\\app-debug.apk'\nInstallation failed due to: 'null'\n</code></pre>\n<p>every time i try to install the application on my device.\nWhat I have done: I have tried various solution from including an installation flag -r -t to changing the project name to all small letters and cleaning and building the project again. Doing all this i could figure out the exact cause of this problem.</p>\n<p>The same application is installed onto a same company phone with yet to be updated software(One plus 9pro) and the same problem follows with my previously finished project which ran on all devices, so it would not be an issue with the build of the project and yes i the application is installing and running on all my virtual devices.</p>\n<p>There is no issue with the USB cable, USB debugging is turned on and there appears to be no option to enable install from unknown sources on my phone(old or new), also not able to revert back to the previous software version in my phone.</p>\n<p>Device details:\nAndroid studio:4.1.1\nOne plus Nord: Android 12\nOne plus 9 Pro: Android 11.</p>\n<p>Build details:</p>\n<pre><code>android {\ncompileSdkVersion 33\nbuildToolsVersion &quot;32.0.0&quot;\n\ndefaultConfig {\n    applicationId &quot;com.example.parkingsystem&quot;\n    minSdkVersion 24\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    multiDexEnabled true\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>}</p>\n<p>I have been trying to resolve this issue i even changed the sdk version to 33 from 32, changing buildtool vesion to 33.0.0 yeilds an error that it is corrupted.</p>\n<p>What can be done to resolve this issue?</p>\n<p>Thank you.</p>\n<p>Edited: my manifest file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.parkingsystem&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.google.android.apps.maps&quot;/&gt;\n    &lt;/queries&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;false&quot;\n        android:icon=&quot;@mipmap/launcher_logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/launcher_logo&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ParkingSystem&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\n\n        &lt;activity android:name=&quot;.vehicle_type_selection&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.registration&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.otpverificationactivity&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.homeactivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@style/Theme.ParkingSystem.NoActionBar&quot;\n            android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.mainactivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1677557465,"post_id":75587801,"comment_id":133357090,"body_markdown":"What makes you think a `BottomNavigationView` supports action layouts (it doesn&#39;t)?","body":"What makes you think a <code>BottomNavigationView</code> supports action layouts (it doesn&#39;t)?"},{"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"score":0,"creation_date":1677557544,"post_id":75587801,"comment_id":133357101,"body_markdown":"What is another way to use my own custom item design for BottomNavigation? @ianhanniballake","body":"What is another way to use my own custom item design for BottomNavigation? @ianhanniballake"}],"owner":{"account_id":19123704,"reputation":83,"user_id":18395575,"display_name":"VUELOVER"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677557384,"creation_date":1677557384,"question_id":75587801,"body_markdown":"I&#39;m creating a BottomNavigation in Android. I&#39;m trying to put my own custom designs for each item within the BottomNavigation. For that, I have created a layout design of the item I want to show. I added that layout in the item with the help of menu xml using actionLayout. After all the code my layout is showing correctly within the menu xml but its not showing in the activity BottomNavigation. Here is my problem and code :\r\n\r\n\r\n[Screenshot of main activity where the item design is not displaying][2]\r\n\r\n\r\n[Screenshot of Menu XML where I&#39;m seeing the design][3]\r\n\r\nHere is my code -\r\n\r\n**MainActivity.xml** \r\n\r\n`````\r\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bott_nav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/bottom_nav_bg&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        app:menu=&quot;@menu/navmenu&quot;/&gt;\r\n`````\r\n\r\n**navmenu.xml**\r\n\r\n`````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/home&quot;\r\n        android:title=&quot;Home&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        app:actionLayout=&quot;@layout/item_home&quot;/&gt;\r\n  \r\n\r\n&lt;/menu&gt;\r\n`````\r\n\r\n**item_home.xml** (Item custom layout)\r\n\r\n`````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:background=&quot;@drawable/bg_full_rounded&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:paddingStart=&quot;@dimen/_5sdp&quot;\r\n    android:paddingEnd=&quot;@dimen/_5sdp&quot;\r\n    android:backgroundTint=&quot;@color/itemTranBg&quot;\r\n    android:paddingTop=&quot;@dimen/_3sdp&quot;\r\n    android:paddingBottom=&quot;@dimen/_3sdp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;@dimen/_15sdp&quot;\r\n        android:layout_height=&quot;@dimen/_15sdp&quot;\r\n        android:src=&quot;@drawable/ic_homeicon&quot;/&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textColor=&quot;@color/primaryDark&quot;\r\n        android:layout_marginStart=&quot;@dimen/_5sdp&quot;\r\n        android:text=&quot;Home&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n`````\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/9vwbB.jpg\r\n  [3]: https://i.stack.imgur.com/sAKd4.jpg","title":"Why actionLayout is not working in BottomNavigation?","body":"<p>I'm creating a BottomNavigation in Android. I'm trying to put my own custom designs for each item within the BottomNavigation. For that, I have created a layout design of the item I want to show. I added that layout in the item with the help of menu xml using actionLayout. After all the code my layout is showing correctly within the menu xml but its not showing in the activity BottomNavigation. Here is my problem and code :</p>\n<p><a href=\"https://i.stack.imgur.com/9vwbB.jpg\" rel=\"nofollow noreferrer\">Screenshot of main activity where the item design is not displaying</a></p>\n<p><a href=\"https://i.stack.imgur.com/sAKd4.jpg\" rel=\"nofollow noreferrer\">Screenshot of Menu XML where I'm seeing the design</a></p>\n<p>Here is my code -</p>\n<p><strong>MainActivity.xml</strong></p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bott_nav&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:background=&quot;@drawable/bottom_nav_bg&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        app:menu=&quot;@menu/navmenu&quot;/&gt;\n</code></pre>\n<p><strong>navmenu.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/home&quot;\n        android:title=&quot;Home&quot;\n        app:showAsAction=&quot;always&quot;\n        app:actionLayout=&quot;@layout/item_home&quot;/&gt;\n  \n\n&lt;/menu&gt;\n</code></pre>\n<p><strong>item_home.xml</strong> (Item custom layout)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@drawable/bg_full_rounded&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:paddingStart=&quot;@dimen/_5sdp&quot;\n    android:paddingEnd=&quot;@dimen/_5sdp&quot;\n    android:backgroundTint=&quot;@color/itemTranBg&quot;\n    android:paddingTop=&quot;@dimen/_3sdp&quot;\n    android:paddingBottom=&quot;@dimen/_3sdp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;@dimen/_15sdp&quot;\n        android:layout_height=&quot;@dimen/_15sdp&quot;\n        android:src=&quot;@drawable/ic_homeicon&quot;/&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textColor=&quot;@color/primaryDark&quot;\n        android:layout_marginStart=&quot;@dimen/_5sdp&quot;\n        android:text=&quot;Home&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","apk","android-virtual-device","logcat"],"owner":{"account_id":17099280,"reputation":9,"user_id":12373588,"display_name":"motrait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677556141,"creation_date":1677503703,"question_id":75580957,"body_markdown":"I&#39;m just getting started with android studio. To get familliar with the environment I installed a few apps in the avd and some of these aren&#39;t working. Tiktok is one of these. \r\nThis app starts then immediately crashes. The logcat output is about 30k lines and I don&#39;t know where to start looking for the issue. This app seems to have worked perfectly fine in a Mac AVD. But doesn&#39;t work on my AMD system on either Linux or Windows AVD. Could this be a CPU architecture issue? How do I fix this? \r\n\r\nI expected the app to work like it did on mac","title":"Apk crashes in AVD","body":"<p>I'm just getting started with android studio. To get familliar with the environment I installed a few apps in the avd and some of these aren't working. Tiktok is one of these.\nThis app starts then immediately crashes. The logcat output is about 30k lines and I don't know where to start looking for the issue. This app seems to have worked perfectly fine in a Mac AVD. But doesn't work on my AMD system on either Linux or Windows AVD. Could this be a CPU architecture issue? How do I fix this?</p>\n<p>I expected the app to work like it did on mac</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7541229,"reputation":411,"user_id":5725745,"display_name":"Harshil Kulkarni"},"score":0,"creation_date":1519642911,"post_id":48986902,"comment_id":84978284,"body_markdown":"please post your code","body":"please post your code"},{"owner":{"account_id":12091643,"reputation":812,"user_id":8837516,"accept_rate":75,"display_name":"Adil"},"score":0,"creation_date":1519643386,"post_id":48986902,"comment_id":84978617,"body_markdown":"you need to develop web service  at server side and from webservice you can redirect directly login page in webview","body":"you need to develop web service  at server side and from webservice you can redirect directly login page in webview"},{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1519643768,"post_id":48986902,"comment_id":84978871,"body_markdown":"Bro I want to enter username and password programmatically in webview page","body":"Bro I want to enter username and password programmatically in webview page"},{"owner":{"account_id":4642722,"reputation":1461,"user_id":3762067,"display_name":"Varad Mondkar"},"score":0,"creation_date":1519645327,"post_id":48986902,"comment_id":84979849,"body_markdown":"So do you want to populate username and password and submit it automatically (without any user intervention)?","body":"So do you want to populate username and password and submit it automatically (without any user intervention)?"},{"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"score":0,"creation_date":1519645968,"post_id":48986902,"comment_id":84980226,"body_markdown":"Yes Bro thats it","body":"Yes Bro thats it"},{"owner":{"account_id":14114012,"reputation":494,"user_id":10196165,"display_name":"abhishek maharajpet"},"score":0,"creation_date":1552037619,"post_id":48986902,"comment_id":96868862,"body_markdown":"Hey @DineshS did you find out the solution to this? Even I am trying to login to a website but not happening.","body":"Hey @DineshS did you find out the solution to this? Even I am trying to login to a website but not happening."}],"answers":[{"tags":[],"owner":{"account_id":7209433,"reputation":178,"user_id":5504032,"display_name":"Abhinay Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519643676,"creation_date":1519643676,"answer_id":48987202,"question_id":48986902,"body_markdown":"step 1) first of all enable javascript in your webview\r\n\r\nstep 2) on onPageFinished using javascript autofill username and password field and generate click on login button \r\n\r\n    wv.loadUrl(&quot;javascript:document.getElementsByName(&#39;Username&#39;).value = &#39;abc&#39;&quot;);\r\n    wv.loadUrl(&quot;javascript:document.getElementsByName(&#39;Pass&#39;).value = &#39;xyz&#39;&quot;);\r\n    wv.loadUrl(&quot;javascript:document.forms[&#39;Login&#39;].submit()&quot;);\r\n\r\n","title":"how to automatically login the website in webview?","body":"<p>step 1) first of all enable javascript in your webview</p>\n\n<p>step 2) on onPageFinished using javascript autofill username and password field and generate click on login button </p>\n\n<pre><code>wv.loadUrl(\"javascript:document.getElementsByName('Username').value = 'abc'\");\nwv.loadUrl(\"javascript:document.getElementsByName('Pass').value = 'xyz'\");\nwv.loadUrl(\"javascript:document.forms['Login'].submit()\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17854834,"reputation":1,"user_id":21301502,"display_name":"jerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677555459,"creation_date":1677555459,"answer_id":75587643,"question_id":48986902,"body_markdown":"This explanation helped me.\r\nhttps://stackoverflow.com/questions/10187908/fill-form-in-webview-with-javascript?noredirect=1&amp;lq=1 \r\n\r\n    view.evaluateJavascript(js, new ValueCallback&lt;String&gt;() {\r\n                    @Override\r\n                    public void onReceiveValue(String s) {\r\n                    }\r\n\r\ninstead of \r\n\r\n    view.loadUrl(js);\r\n\r\nwhich is the answer I found everywhere else.","title":"how to automatically login the website in webview?","body":"<p>This explanation helped me.\n<a href=\"https://stackoverflow.com/questions/10187908/fill-form-in-webview-with-javascript?noredirect=1&amp;lq=1\">Fill form in WebView with Javascript</a></p>\n<pre><code>view.evaluateJavascript(js, new ValueCallback&lt;String&gt;() {\n                @Override\n                public void onReceiveValue(String s) {\n                }\n</code></pre>\n<p>instead of</p>\n<pre><code>view.loadUrl(js);\n</code></pre>\n<p>which is the answer I found everywhere else.</p>\n"}],"owner":{"account_id":9115126,"reputation":139,"user_id":6782471,"display_name":"Dinesh S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677555459,"creation_date":1519642768,"question_id":48986902,"body_markdown":"In my app I am having webview to load web pages Now I want to automatically login to the website loaded in the webview eg:Facebook.Help me to solve this.I am using Android Studio to develop app.\r\nThis is my code.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText url;\r\n    Button go;\r\n    WebView webView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView=(WebView)findViewById(R.id.wv);\r\n        url=(EditText)findViewById(R.id.urlEdit);\r\n        go=(Button)findViewById(R.id.goBut);\r\n        webview.setWebViewClient(new WebViewClient());\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        go.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                theWebsite=url.getText().toString();\r\n                webView.loadUrl(theWebsite);\r\n            }\r\n        });\r\n\r\n","title":"how to automatically login the website in webview?","body":"<p>In my app I am having webview to load web pages Now I want to automatically login to the website loaded in the webview eg:Facebook.Help me to solve this.I am using Android Studio to develop app.\nThis is my code.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText url;\nButton go;\nWebView webView;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    webView=(WebView)findViewById(R.id.wv);\n    url=(EditText)findViewById(R.id.urlEdit);\n    go=(Button)findViewById(R.id.goBut);\n    webview.setWebViewClient(new WebViewClient());\n    webView.getSettings().setJavaScriptEnabled(true);\n    go.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            theWebsite=url.getText().toString();\n            webView.loadUrl(theWebsite);\n        }\n    });\n</code></pre>\n"},{"tags":["java","rule-engine","mvel","easy-rules"],"owner":{"account_id":20658742,"reputation":26,"user_id":15167167,"display_name":"cheng gen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677554475,"creation_date":1677554475,"question_id":75587576,"body_markdown":"Recently, our business requires the configurable calculation for delivery cost.I searched resolutions from net, the Easy Rule is recommended. I studied it, and chose MVELRule. But it executes unexpectedly.\r\n\r\nmycode: \r\n\r\n```\r\n        int price = 10;\r\n        Rule rule = new MVELRule()\r\n                .name(&quot;rule engine test&quot;)\r\n                .description(&quot;rule engine test&quot;)\r\n                .when(&quot;6 &gt; 5&quot;)\r\n                .then(&quot;price = 100;&quot;);\r\n\r\n        Facts facts = new Facts();\r\n        facts.put(&quot;price&quot;, price);\r\n\r\n        Rules rules = new Rules();\r\n        rules.register(rule);\r\n\r\n        RulesEngine rulesEngine = new DefaultRulesEngine();\r\n        rulesEngine.fire(rules, facts);\r\n        System.out.println(facts); // output: [Fact{name=&#39;price&#39;, value=10}]\r\n```\r\nThe varible `price` did not change.I changed the type from int to Integer, but it makes no differences.\r\nI tried putting the varible in map or the concrete pojo, and it worked. The code goes:\r\n\r\n```\r\n        Rule rule = new MVELRule()\r\n                .name(&quot;rule engine test&quot;)\r\n                .description(&quot;rule engine test&quot;)\r\n                .when(&quot;6 &gt; 5&quot;)\r\n                .then(&quot;map.price = 100;&quot;);\r\n\r\n        Facts facts = new Facts();\r\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;price&quot;, 10);\r\n        \r\n        facts.put(&quot;map&quot;, map);\r\n        Rules rules = new Rules();\r\n        rules.register(rule);\r\n\r\n        RulesEngine rulesEngine = new DefaultRulesEngine();\r\n        rulesEngine.fire(rules, facts);\r\n        System.out.println(facts); // output: [Fact{name=&#39;map&#39;, value={price=100}}]\r\n```\r\nAlthough the latter worked fine, the expression is more complicated. So, I want to know why the former didn&#39;t work, and what should I do if I want to insist the former.","title":"java Easy Rule - MVELRule does not work in case of primitive type","body":"<p>Recently, our business requires the configurable calculation for delivery cost.I searched resolutions from net, the Easy Rule is recommended. I studied it, and chose MVELRule. But it executes unexpectedly.</p>\n<p>mycode:</p>\n<pre><code>        int price = 10;\n        Rule rule = new MVELRule()\n                .name(&quot;rule engine test&quot;)\n                .description(&quot;rule engine test&quot;)\n                .when(&quot;6 &gt; 5&quot;)\n                .then(&quot;price = 100;&quot;);\n\n        Facts facts = new Facts();\n        facts.put(&quot;price&quot;, price);\n\n        Rules rules = new Rules();\n        rules.register(rule);\n\n        RulesEngine rulesEngine = new DefaultRulesEngine();\n        rulesEngine.fire(rules, facts);\n        System.out.println(facts); // output: [Fact{name='price', value=10}]\n</code></pre>\n<p>The varible <code>price</code> did not change.I changed the type from int to Integer, but it makes no differences.\nI tried putting the varible in map or the concrete pojo, and it worked. The code goes:</p>\n<pre><code>        Rule rule = new MVELRule()\n                .name(&quot;rule engine test&quot;)\n                .description(&quot;rule engine test&quot;)\n                .when(&quot;6 &gt; 5&quot;)\n                .then(&quot;map.price = 100;&quot;);\n\n        Facts facts = new Facts();\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;price&quot;, 10);\n        \n        facts.put(&quot;map&quot;, map);\n        Rules rules = new Rules();\n        rules.register(rule);\n\n        RulesEngine rulesEngine = new DefaultRulesEngine();\n        rulesEngine.fire(rules, facts);\n        System.out.println(facts); // output: [Fact{name='map', value={price=100}}]\n</code></pre>\n<p>Although the latter worked fine, the expression is more complicated. So, I want to know why the former didn't work, and what should I do if I want to insist the former.</p>\n"},{"tags":["java","android","google-analytics"],"owner":{"account_id":18933976,"reputation":1,"user_id":14597375,"display_name":"Sebastian Mostazo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677554169,"creation_date":1677554169,"question_id":75587552,"body_markdown":"i try to send a tracking event in Google Analytics, but it never show any events other than the default events like app_remove, screen_view...\r\n\r\nThis is my class AnalyticsApplication\r\n\r\n``` public class AnalyticsApplication extends Application {\r\n\r\n    private static GoogleAnalytics sAnalytics;\r\n    private static Tracker sTracker;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        sAnalytics = GoogleAnalytics.getInstance(this);\r\n    }\r\n\r\n\r\n    synchronized public Tracker getDefaultTracker() {\r\n        // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\r\n        if (sTracker == null) {\r\n            sTracker = sAnalytics.newTracker(R.xml.global_tracker);\r\n        }\r\n\r\n        return sTracker;\r\n    }\r\n} \r\n```\r\nthis is my globa_tracker.xml in folder xml\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;ga_trackingId&quot; translatable=&quot;false&quot;&gt;G-C6V9T3SZSS&lt;/string&gt;\r\n&lt;/resources&gt;\r\n```\r\nand this is try to send event\r\n\r\n```\r\nAnalyticsApplication application = (AnalyticsApplication) Carrito.this.getApplication();\r\nTracker mTracker = application.getDefaultTracker();\r\n\r\nmTracker.send(new HitBuilders.EventBuilder()\r\n     .setCategory(&quot;formulario&quot;)\r\n     .setAction(&quot;abierto&quot;)\r\n     .setValue(2)\r\n     .build());\r\n```","title":"Tracker event dont show in google analytics","body":"<p>i try to send a tracking event in Google Analytics, but it never show any events other than the default events like app_remove, screen_view...</p>\n<p>This is my class AnalyticsApplication</p>\n<pre><code>\n    private static GoogleAnalytics sAnalytics;\n    private static Tracker sTracker;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        sAnalytics = GoogleAnalytics.getInstance(this);\n    }\n\n\n    synchronized public Tracker getDefaultTracker() {\n        // To enable debug logging use: adb shell setprop log.tag.GAv4 DEBUG\n        if (sTracker == null) {\n            sTracker = sAnalytics.newTracker(R.xml.global_tracker);\n        }\n\n        return sTracker;\n    }\n} \n</code></pre>\n<p>this is my globa_tracker.xml in folder xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;ga_trackingId&quot; translatable=&quot;false&quot;&gt;G-C6V9T3SZSS&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>and this is try to send event</p>\n<pre><code>AnalyticsApplication application = (AnalyticsApplication) Carrito.this.getApplication();\nTracker mTracker = application.getDefaultTracker();\n\nmTracker.send(new HitBuilders.EventBuilder()\n     .setCategory(&quot;formulario&quot;)\n     .setAction(&quot;abierto&quot;)\n     .setValue(2)\n     .build());\n</code></pre>\n"},{"tags":["java","cross-platform","system-properties"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1494319316,"post_id":43864999,"comment_id":74765314,"body_markdown":"Write your Sting into a file with the Java program, open it with Notepad and you will see what the Problem is","body":"Write your Sting into a file with the Java program, open it with Notepad and you will see what the Problem is"},{"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"score":0,"creation_date":1494320150,"post_id":43864999,"comment_id":74765878,"body_markdown":"@Jens, you&#39;re right. It looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t. So if you convert your comment to an answer, I&#39;ll accept it","body":"@Jens, you&#39;re right. It looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t. So if you convert your comment to an answer, I&#39;ll accept it"}],"answers":[{"tags":[],"owner":{"account_id":6983992,"reputation":826,"user_id":5355700,"accept_rate":56,"display_name":"urgas9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494319434,"creation_date":1494319434,"answer_id":43865120,"question_id":43864999,"body_markdown":"There are different line separators, depends on the OS. Read this thread:\r\nhttps://stackoverflow.com/questions/1279779/what-is-the-difference-between-r-and-n\r\n\r\nExcerpt of if:\r\n\r\n&gt; More importantly, Unix tends to use \\n as a line separator; Windows tends to use \\r\\n as a line separator and Macs (up to OS 9) used to use \\r as the line separator. (Mac OS X is Unix-y, so uses  \\n instead; there may be some compatibility situations where \\r is used instead though.)","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>There are different line separators, depends on the OS. Read this thread:\n<a href=\"https://stackoverflow.com/questions/1279779/what-is-the-difference-between-r-and-n\">What is the difference between \\r and \\n?</a></p>\n\n<p>Excerpt of if:</p>\n\n<blockquote>\n  <p>More importantly, Unix tends to use \\n as a line separator; Windows tends to use \\r\\n as a line separator and Macs (up to OS 9) used to use \\r as the line separator. (Mac OS X is Unix-y, so uses  \\n instead; there may be some compatibility situations where \\r is used instead though.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677552672,"creation_date":1677552672,"answer_id":75587449,"question_id":43864999,"body_markdown":"From the [comment][1]:\r\nIt looks like Command Prompt substitutes the correct line endings, and Notepad doesn&#39;t.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43864999/if-were-told-to-use-the-system-property-line-separator-instead-of-hard-coding#comment74765878_43864999","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>From the <a href=\"https://stackoverflow.com/questions/43864999/if-were-told-to-use-the-system-property-line-separator-instead-of-hard-coding#comment74765878_43864999\">comment</a>:\nIt looks like Command Prompt substitutes the correct line endings, and Notepad doesn't.</p>\n"}],"owner":{"account_id":1065032,"reputation":6043,"user_id":1065835,"accept_rate":81,"display_name":"Maksim Dmitriev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75587449,"answer_count":2,"score":0,"last_activity_date":1677552672,"creation_date":1494319066,"question_id":43864999,"body_markdown":"We all read something like this: \r\n\r\n&gt; use the System.getProperty(String) method to refer to items which\r\n&gt; depend on the system, such as line terminators and path separators.\r\n\r\nThe quote is copied from this [web site.][1]\r\n\r\nI hard-coded an `\\n`, and the code below works on my Windows machine as expected.\r\n\r\n    package sample;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;hello\\nworld&quot;);\r\n    \t};\r\n    \r\n    }\r\n\r\nThe output is:\r\n\r\n    hello\r\n    world\r\n\r\nI thought the Java compiler replaced `\\n` with `\\r\\n` silently. So I downloaded JD GUI, opened the JAR file, and saw `Hello\\nworld`. Can anybody give me an example where `\\n` doesn&#39;t work and `System.getProperty(&quot;line.separator&quot;)` does?\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=38\r\n\r\n","title":"If we&#39;re told to use the system property line.separator instead of hard-coding \\n, why does my code work on Windows?","body":"<p>We all read something like this: </p>\n\n<blockquote>\n  <p>use the System.getProperty(String) method to refer to items which\n  depend on the system, such as line terminators and path separators.</p>\n</blockquote>\n\n<p>The quote is copied from this <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=38\" rel=\"nofollow noreferrer\">web site.</a></p>\n\n<p>I hard-coded an <code>\\n</code>, and the code below works on my Windows machine as expected.</p>\n\n<pre><code>package sample;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(\"hello\\nworld\");\n    };\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>hello\nworld\n</code></pre>\n\n<p>I thought the Java compiler replaced <code>\\n</code> with <code>\\r\\n</code> silently. So I downloaded JD GUI, opened the JAR file, and saw <code>Hello\\nworld</code>. Can anybody give me an example where <code>\\n</code> doesn't work and <code>System.getProperty(\"line.separator\")</code> does?</p>\n"},{"tags":["java","math","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677552161,"post_id":75587403,"comment_id":133356407,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677552350,"post_id":75587403,"comment_id":133356434,"body_markdown":"If you don&#39;t call `genderFactor()`, `weight * genFactor` will be 0.","body":"If you don&#39;t call <code>genderFactor()</code>, <code>weight * genFactor</code> will be 0."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1677553848,"post_id":75587403,"comment_id":133356633,"body_markdown":"@shmosel I now see that this is my error. Thank you so much!","body":"@shmosel I now see that this is my error. Thank you so much!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677553984,"post_id":75587403,"comment_id":133356647,"body_markdown":"No problem. For the future, I&#39;d suggest learning how to debug. This is exactly the type of problem that can be solved by stepping through the code.","body":"No problem. For the future, I&#39;d suggest learning how to debug. This is exactly the type of problem that can be solved by stepping through the code."}],"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677552074,"creation_date":1677552074,"question_id":75587403,"body_markdown":"My program is supposed to calculate the BMI of a patient (with the method BMI()) but no matter what values I enter, it returns &quot;Infinity&quot;. Based on my research, Infinity is returned when a value is divided by 0 but my program makes sure that values of 0 are not allowed. Can somebody please identify my logical error?\r\n\r\n\r\n```\r\nimport java.util.*;\r\npublic class PDProjectOne {\r\n    private static double weight, age, biximent, genFactor, bmi;\r\n    private static String gender;\r\n    \r\n    public static double genderFactor(){\r\n        if(gender.equals(&quot;R&quot;) || (gender.equals(&quot;r&quot;))){\r\n            genFactor = 8.46;\r\n        }\r\n        if(gender.equals(&quot;S&quot;) || (gender.equals(&quot;s&quot;))){\r\n            genFactor = 4.23;\r\n        }\r\n        if(gender.equals(&quot;T&quot;) || (gender.equals(&quot;t&quot;))){\r\n            genFactor = 6.35;\r\n        }\r\n        return genFactor;\r\n    }\r\n    \r\n    public static double BMI(){\r\n        bmi = 2.56 * age + ((biximent * 467)/(weight * genFactor));\r\n        return bmi;\r\n    }\r\n    \r\n    public static void report(){\r\n        Scanner sc = new Scanner(System.in);\r\n        boolean good = false;\r\n        do{\r\n           System.out.print(&quot;Weight in kilograms:  &quot;);\r\n           weight = sc.nextDouble(); \r\n           if (weight &lt;= 28){\r\n               System.out.println(&quot;!! You must only enter a number greater than 28 kilograms. Try again. !!&quot;);\r\n           }\r\n           else{\r\n            good = true;\r\n        }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Age in solar cycles:  &quot;);\r\n            age = sc.nextDouble();\r\n            if (age &gt;= 16 &amp;&amp; age &lt;= 96){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter an age between 16 and 96 solar cycles. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Gender identification:  &quot;);\r\n            gender = sc.next();\r\n            if (gender.equals(&quot;R&quot;) || gender.equals(&quot;r&quot;) || gender.equals(&quot;S&quot;) || gender.equals(&quot;s&quot;) || \r\n                    gender.equals(&quot;T&quot;) || gender.equals(&quot;t&quot;)){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter &#39;R&#39;,&#39;S&#39;,or &#39;T&#39; as gender identifications. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        good = false;\r\n        do{\r\n            System.out.print(&quot;Biximent level:  &quot;);\r\n            biximent = sc.nextDouble();\r\n            if (biximent &gt;= 30){\r\n                good = true;\r\n            }\r\n            else{\r\n                System.out.println(&quot;!! You must only enter a biximent level of at least 30. Try again. !!&quot;);\r\n            }\r\n        } while (!good);\r\n        \r\n        System.out.println(&quot;\\nSUMMARY OF ANALYSIS:\\n&quot;\r\n                + &quot;For a citizen of gender type &quot; + gender + &quot;, who is &quot; + age + &quot; cycles old and weighs &quot; + weight + &quot; kilograms with&quot;\r\n                        + &quot; a reported Biximent Level of &quot; + biximent + &quot;, the Biximent Metabolic Index (BMI) is &quot; + BMI());\r\n    }\r\n```\r\n","title":"Why is my calculation returning &quot;Infinity&quot;?","body":"<p>My program is supposed to calculate the BMI of a patient (with the method BMI()) but no matter what values I enter, it returns &quot;Infinity&quot;. Based on my research, Infinity is returned when a value is divided by 0 but my program makes sure that values of 0 are not allowed. Can somebody please identify my logical error?</p>\n<pre><code>import java.util.*;\npublic class PDProjectOne {\n    private static double weight, age, biximent, genFactor, bmi;\n    private static String gender;\n    \n    public static double genderFactor(){\n        if(gender.equals(&quot;R&quot;) || (gender.equals(&quot;r&quot;))){\n            genFactor = 8.46;\n        }\n        if(gender.equals(&quot;S&quot;) || (gender.equals(&quot;s&quot;))){\n            genFactor = 4.23;\n        }\n        if(gender.equals(&quot;T&quot;) || (gender.equals(&quot;t&quot;))){\n            genFactor = 6.35;\n        }\n        return genFactor;\n    }\n    \n    public static double BMI(){\n        bmi = 2.56 * age + ((biximent * 467)/(weight * genFactor));\n        return bmi;\n    }\n    \n    public static void report(){\n        Scanner sc = new Scanner(System.in);\n        boolean good = false;\n        do{\n           System.out.print(&quot;Weight in kilograms:  &quot;);\n           weight = sc.nextDouble(); \n           if (weight &lt;= 28){\n               System.out.println(&quot;!! You must only enter a number greater than 28 kilograms. Try again. !!&quot;);\n           }\n           else{\n            good = true;\n        }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Age in solar cycles:  &quot;);\n            age = sc.nextDouble();\n            if (age &gt;= 16 &amp;&amp; age &lt;= 96){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter an age between 16 and 96 solar cycles. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Gender identification:  &quot;);\n            gender = sc.next();\n            if (gender.equals(&quot;R&quot;) || gender.equals(&quot;r&quot;) || gender.equals(&quot;S&quot;) || gender.equals(&quot;s&quot;) || \n                    gender.equals(&quot;T&quot;) || gender.equals(&quot;t&quot;)){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter 'R','S',or 'T' as gender identifications. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        good = false;\n        do{\n            System.out.print(&quot;Biximent level:  &quot;);\n            biximent = sc.nextDouble();\n            if (biximent &gt;= 30){\n                good = true;\n            }\n            else{\n                System.out.println(&quot;!! You must only enter a biximent level of at least 30. Try again. !!&quot;);\n            }\n        } while (!good);\n        \n        System.out.println(&quot;\\nSUMMARY OF ANALYSIS:\\n&quot;\n                + &quot;For a citizen of gender type &quot; + gender + &quot;, who is &quot; + age + &quot; cycles old and weighs &quot; + weight + &quot; kilograms with&quot;\n                        + &quot; a reported Biximent Level of &quot; + biximent + &quot;, the Biximent Metabolic Index (BMI) is &quot; + BMI());\n    }\n</code></pre>\n"},{"tags":["java","influxdb","micrometer","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677551491,"creation_date":1677551491,"answer_id":75587352,"question_id":75343636,"body_markdown":"After a lot of research and investigation and using different methods such as events, I finally came to the conclusion that I should reduce the log level of class InfluxDbRegistry so that the volume of the log does not increase.","title":"How to manage micrometer connection error in Resilience4j?","body":"<p>After a lot of research and investigation and using different methods such as events, I finally came to the conclusion that I should reduce the log level of class InfluxDbRegistry so that the volume of the log does not increase.</p>\n"}],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677551491,"creation_date":1675496080,"question_id":75343636,"body_markdown":"I used the Micrometer in Resilience4j according to the Resilience4j documentation with the address x in the code. The Micrometer monitor service is also Influx. During the load test, we performed all types of tests, except for the situation where we shut down the Influx server. In this case, the Micrometer gives an internal connection error that quickly fills our log file. My question is, is there an event when the monitoring server like Influx is unavailable for any reason, the error can be handled and only the Micrometer is removed and the rest of the system like Resilience4j continues to work?\r\n\r\nIn the load test with tps 400, when we cut off the micrometer influx monitoring service in Resilience, an unhandled error occurs and the log file becomes very large.","title":"How to manage micrometer connection error in Resilience4j?","body":"<p>I used the Micrometer in Resilience4j according to the Resilience4j documentation with the address x in the code. The Micrometer monitor service is also Influx. During the load test, we performed all types of tests, except for the situation where we shut down the Influx server. In this case, the Micrometer gives an internal connection error that quickly fills our log file. My question is, is there an event when the monitoring server like Influx is unavailable for any reason, the error can be handled and only the Micrometer is removed and the rest of the system like Resilience4j continues to work?</p>\n<p>In the load test with tps 400, when we cut off the micrometer influx monitoring service in Resilience, an unhandled error occurs and the log file becomes very large.</p>\n"},{"tags":["java","jar","filenotfoundexception","javax.imageio"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1677550929,"post_id":75587311,"comment_id":133356250,"body_markdown":"Files don&#39;t exist within a jar -- resources do. Get your image as a resource.","body":"Files don&#39;t exist within a jar -- resources do. Get your image as a resource."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677551095,"post_id":75587311,"comment_id":133356274,"body_markdown":"See the Swing tutorial on: [Loading Images Using getResource](https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#getresource)","body":"See the Swing tutorial on: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#getresource\" rel=\"nofollow noreferrer\">Loading Images Using getResource</a>"},{"owner":{"account_id":27895845,"reputation":1,"user_id":21301150,"display_name":"Justin c"},"score":0,"creation_date":1677682006,"post_id":75587311,"comment_id":133386221,"body_markdown":"Thanks, totally figured it out  \nthis is my first time dealing with jars and now I know","body":"Thanks, totally figured it out   this is my first time dealing with jars and now I know"}],"owner":{"account_id":27895845,"reputation":1,"user_id":21301150,"display_name":"Justin c"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677550911,"answer_count":0,"score":0,"last_activity_date":1677550925,"creation_date":1677550825,"question_id":75587311,"body_markdown":"so my jar can&#39;t find the images in my program but they are found by the IDE \r\nhere is the error message. I also went into the jar and they are in the jar itself , the images are all there\r\n\r\n\r\n         javax.imageio.IIOException: Can&#39;t read input file!\r\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1308)\r\n        at tile.TileManager.getTileImage(TileManager.java:53)\r\n        at tile.TileManager.&lt;init&gt;(TileManager.java:35)\r\n        at Main.GamePanel.&lt;init&gt;(GamePanel.java:44)\r\n        at Main.DriverMain.main(DriverMain.java:27)\r\n\r\n\r\nhere is the code that makes the images \r\n\r\n\t                idle = ImageIO.read(new File(&quot;sprites/player/mario_idle.gif&quot;));\r\n\t\t\twalk1 = ImageIO.read(new File(&quot;sprites/player/mario_walk1.gif&quot;));\r\n\t\t\twalk2 = ImageIO.read(new File(&quot;sprite/player/mario_walk2.gif&quot;));\r\n\r\nI also tried \t\t\t\r\n\r\n    idle = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_idle.gif&quot;));\r\n\twalk1 = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_walk1.gif&quot;));\r\n\twalk2 = ImageIO.read(getClass().getResourceAsStream(&quot;sprite/player/mario_walk2.gif&quot;));\r\n\r\nbut I get a null pointer exception ^\r\n\r\nmy file structure are as follows\r\n\r\nproject folder &gt; src &gt; packages( entity , main, sprites , tile) &gt; in spites are 2 folders player and map which houses the png&#39;s or gifs \r\n\r\nagain if I zip the jar and look inside it I can see the sprites folder and when i open it all the images are there \r\n\r\nI tried having the images in an upper package &quot;res&quot; outside of  src and it still gave me the same thing but this time the images where not inside the jar , therefore I took it as it should be in src\r\n\r\nI appreciate any help","title":"My jar can&#39;t find my images in my game but in the ide (eclipse) works just fine","body":"<p>so my jar can't find the images in my program but they are found by the IDE\nhere is the error message. I also went into the jar and they are in the jar itself , the images are all there</p>\n<pre><code>     javax.imageio.IIOException: Can't read input file!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1308)\n    at tile.TileManager.getTileImage(TileManager.java:53)\n    at tile.TileManager.&lt;init&gt;(TileManager.java:35)\n    at Main.GamePanel.&lt;init&gt;(GamePanel.java:44)\n    at Main.DriverMain.main(DriverMain.java:27)\n</code></pre>\n<p>here is the code that makes the images</p>\n<pre><code>                idle = ImageIO.read(new File(&quot;sprites/player/mario_idle.gif&quot;));\n        walk1 = ImageIO.read(new File(&quot;sprites/player/mario_walk1.gif&quot;));\n        walk2 = ImageIO.read(new File(&quot;sprite/player/mario_walk2.gif&quot;));\n</code></pre>\n<p>I also tried</p>\n<pre><code>idle = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_idle.gif&quot;));\nwalk1 = ImageIO.read(getClass().getResourceAsStream(&quot;sprites/player/mario_walk1.gif&quot;));\nwalk2 = ImageIO.read(getClass().getResourceAsStream(&quot;sprite/player/mario_walk2.gif&quot;));\n</code></pre>\n<p>but I get a null pointer exception ^</p>\n<p>my file structure are as follows</p>\n<p>project folder &gt; src &gt; packages( entity , main, sprites , tile) &gt; in spites are 2 folders player and map which houses the png's or gifs</p>\n<p>again if I zip the jar and look inside it I can see the sprites folder and when i open it all the images are there</p>\n<p>I tried having the images in an upper package &quot;res&quot; outside of  src and it still gave me the same thing but this time the images where not inside the jar , therefore I took it as it should be in src</p>\n<p>I appreciate any help</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677555352,"post_id":75587252,"comment_id":133356832,"body_markdown":"Do you package `Spring Boot Application` as `jar` or `war`? `Create a Deployable War File` (https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html)","body":"Do you package <code>Spring Boot Application</code> as <code>jar</code> or <code>war</code>? <code>Create a Deployable War File</code> (<a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/howto-traditional-deployment.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>)"},{"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"score":0,"creation_date":1677557997,"post_id":75587252,"comment_id":133357145,"body_markdown":"I am deploying using JAR file","body":"I am deploying using JAR file"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677558506,"post_id":75587252,"comment_id":133357205,"body_markdown":"use war file, `How to Deploy Spring Boot Applications to WildFly Application Server` (https://www.springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0)","body":"use war file, <code>How to Deploy Spring Boot Applications to WildFly Application Server</code> (<a href=\"https://www.springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0\" rel=\"nofollow noreferrer\">springcloud.io/post/2022-09/spring-boot--wildfly/#gsc.tab=0</a>&zwnj;&#8203;)"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677550560,"creation_date":1677549933,"question_id":75587252,"body_markdown":"I am trying to find a solution for deploying the Spring Boot application to a Wildfly server. There are some deployments with WAR files before in some paths: /hello1, /hello2. My target is to deploy on /hello3 so I have created src/main/webapp/WEB-INF/jboss-web.xml with these content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\r\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xsi:schemaLocation=&quot;\r\n          http://www.jboss.com/xml/ns/javaee\r\n          http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd&quot;&gt;\r\n        &lt;context-root&gt;/hello3&lt;/context-root&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nI have also created an endpoint &quot;/&quot; which return &quot;Hello World&quot; in localhost:8080 after running spring boot. But the server keeps returning 404 not found. The server works fine on /hello1 and /hello2.\r\n","title":"How can I deploy a simple Spring Boot Application JAR file to a Wildfly 10 Server","body":"<p>I am trying to find a solution for deploying the Spring Boot application to a Wildfly server. There are some deployments with WAR files before in some paths: /hello1, /hello2. My target is to deploy on /hello3 so I have created src/main/webapp/WEB-INF/jboss-web.xml with these content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xsi:schemaLocation=&quot;\n      http://www.jboss.com/xml/ns/javaee\n      http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd&quot;&gt;\n    &lt;context-root&gt;/hello3&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>I have also created an endpoint &quot;/&quot; which return &quot;Hello World&quot; in localhost:8080 after running spring boot. But the server keeps returning 404 not found. The server works fine on /hello1 and /hello2.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","redis"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1677488093,"post_id":75578376,"comment_id":133340350,"body_markdown":"use subquery, and make sure you have index on `B.areaId`","body":"use subquery, and make sure you have index on <code>B.areaId</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1677527520,"post_id":75578376,"comment_id":133351924,"body_markdown":"Are the numbers necessarily consecutive?  `(1,2,3,4,...)`","body":"Are the numbers necessarily consecutive?  <code>(1,2,3,4,...)</code>"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1677527591,"post_id":75578376,"comment_id":133351944,"body_markdown":"Did you try a `JOIN`?  That should worm much better than extracting the ids and building an `IN` list.","body":"Did you try a <code>JOIN</code>?  That should worm much better than extracting the ids and building an <code>IN</code> list."},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677546675,"post_id":75578376,"comment_id":133355659,"body_markdown":"the numbers is random, possible (1,5,50,201,.....)","body":"the numbers is random, possible (1,5,50,201,.....)"},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677546820,"post_id":75578376,"comment_id":133355689,"body_markdown":"I have tried Join and subquery, but it is slow too, Too many parameters","body":"I have tried Join and subquery, but it is slow too, Too many parameters"},{"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"score":0,"creation_date":1677547081,"post_id":75578376,"comment_id":133355734,"body_markdown":"Now I use redis, I save Table B to Redis ,It faster than before,But When I use redis , I cannot use Join and subquery","body":"Now I use redis, I save Table B to Redis ,It faster than before,But When I use redis , I cannot use Join and subquery"}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677548504,"creation_date":1677491166,"answer_id":75578869,"question_id":75578376,"body_markdown":"Suppose your `areaId` field has an index\r\n\r\nWith the `in` keyword, the index cannot be hit when there are a large number of matching values ​​following it.\r\n\r\nIf those matching values ​​are consecutive, use the following statement：\r\n\r\n    select * from A where areaId &gt;= 1 and areaId &lt;= 1000\r\n\r\nBy the way, in your question, what exactly does Table B do? \r\nYou only gave how table A is used.I don&#39;t know, what exactly are you trying to do with Form B.\r\n\r\nUpdate at 230228\r\n------------\r\nThe field type needs to be a number type to ensure that the index is taken when using greater than or less than","title":"slow select in (...) (springdata jpa in mysql )","body":"<p>Suppose your <code>areaId</code> field has an index</p>\n<p>With the <code>in</code> keyword, the index cannot be hit when there are a large number of matching values ​​following it.</p>\n<p>If those matching values ​​are consecutive, use the following statement：</p>\n<pre><code>select * from A where areaId &gt;= 1 and areaId &lt;= 1000\n</code></pre>\n<p>By the way, in your question, what exactly does Table B do?\nYou only gave how table A is used.I don't know, what exactly are you trying to do with Form B.</p>\n<h2>Update at 230228</h2>\n<p>The field type needs to be a number type to ensure that the index is taken when using greater than or less than</p>\n"}],"owner":{"account_id":18828240,"reputation":44,"user_id":13732630,"display_name":"YuHao Zhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677548504,"creation_date":1677487875,"question_id":75578376,"body_markdown":"I have a table &quot;A&quot;, &quot;A&quot; has a Column `AreaId`, When I `select * from &quot;A&quot;`, I wanna show results where AreaId in my account.\r\n    Other, I hava a table &quot;B&quot;,it means I hava some AreaIds, It possible thousands or hundreds.\r\n    So, When I select from A , I will `select * from A where areaId in (1,2,3,4,5,6,7.....1000)`,it is too slow\r\n    How can I solve this, Thank you \r\n\r\nNow I use in(.....) and redis, but it too slow\r\n\r\n---\r\n\r\n\r\n    public class UserArea\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;userId&quot;)\r\n        private Integer uid;\r\n    \r\n        @Column(name = &quot;areaId&quot;)\r\n        private Integer aid;\r\n    \r\n    \r\n    public class PotentialUser implements AbstractBas {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;areaId&quot;)\r\n        protected Integer aid;\r\n    }\r\n\r\nthis is my A and B Table , one user possible hava 1000+ areas\r\n","title":"slow select in (...) (springdata jpa in mysql )","body":"<p>I have a table &quot;A&quot;, &quot;A&quot; has a Column <code>AreaId</code>, When I <code>select * from &quot;A&quot;</code>, I wanna show results where AreaId in my account.\nOther, I hava a table &quot;B&quot;,it means I hava some AreaIds, It possible thousands or hundreds.\nSo, When I select from A , I will <code>select * from A where areaId in (1,2,3,4,5,6,7.....1000)</code>,it is too slow\nHow can I solve this, Thank you</p>\n<p>Now I use in(.....) and redis, but it too slow</p>\n<hr />\n<pre><code>public class UserArea\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;userId&quot;)\n    private Integer uid;\n\n    @Column(name = &quot;areaId&quot;)\n    private Integer aid;\n\n\npublic class PotentialUser implements AbstractBas {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;areaId&quot;)\n    protected Integer aid;\n}\n</code></pre>\n<p>this is my A and B Table , one user possible hava 1000+ areas</p>\n"},{"tags":["java","listview","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1516718046,"post_id":48404097,"comment_id":83796731,"body_markdown":"have you tried `list.getSelectionModel().getSelectedItem()`;","body":"have you tried <code>list.getSelectionModel().getSelectedItem()</code>;"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1516718084,"post_id":48404097,"comment_id":83796756,"body_markdown":"https://stackoverflow.com/questions/12459086/how-to-perform-an-action-by-selecting-an-item-from-listview-in-javafx-2","body":"<a href=\"https://stackoverflow.com/questions/12459086/how-to-perform-an-action-by-selecting-an-item-from-listview-in-javafx-2\" title=\"how to perform an action by selecting an item from listview in javafx 2\">stackoverflow.com/questions/12459086/&hellip;</a>"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1516718648,"post_id":48404097,"comment_id":83797140,"body_markdown":"Unless you define a variable of the same name, `ListCell` is a type and not an object; you cannot use the `==` operator. `instanceof` can be used to check the type of an expression...","body":"Unless you define a variable of the same name, <code>ListCell</code> is a type and not an object; you cannot use the <code>==</code> operator. <code>instanceof</code> can be used to check the type of an expression..."},{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":1,"creation_date":1516718692,"post_id":48404097,"comment_id":83797176,"body_markdown":"@Sedrick this doesn&#39;t fix my problem... When a user selects an item in the list, they can double click anywhere else to still trigger the action... I only want the action to be done if the click happens on an item.","body":"@Sedrick this doesn&#39;t fix my problem... When a user selects an item in the list, they can double click anywhere else to still trigger the action... I only want the action to be done if the click happens on an item."},{"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"score":0,"creation_date":1516718838,"post_id":48404097,"comment_id":83797289,"body_markdown":"@fabian you&#39;re right, but `instanceof` triggers everytime I click anywhere on the listview, not only an item.","body":"@fabian you&#39;re right, but <code>instanceof</code> triggers everytime I click anywhere on the listview, not only an item."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1516719602,"post_id":48404097,"comment_id":83797878,"body_markdown":"something wrong in the code you are not showing .. my crystal ball is cloudy ;) Seriously, please read http://stackoverflow.com/help/mcve and act accordingly","body":"something wrong in the code you are not showing .. my crystal ball is cloudy ;) Seriously, please read <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> and act accordingly"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677548431,"creation_date":1516719200,"answer_id":48404572,"question_id":48404097,"body_markdown":"Here is one way to accomplish what I think you are asking. This uses `setOnMouseClicked` in the `setCellFactory`.\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ListViewExperiments extends Application\r\n    {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception\r\n        {\r\n            primaryStage.setTitle(&quot;ListView Experiment 1&quot;);\r\n    \r\n            Label label = new Label(&quot;Hello World!&quot;);\r\n    \r\n            ListView&lt;Person&gt; listView = new ListView();\r\n            listView.setCellFactory(lv -&gt; new ListCell&lt;Person&gt;()\r\n            {\r\n                @Override\r\n                public void updateItem(Person item, boolean empty)\r\n                {\r\n                    super.updateItem(item, empty);\r\n                    if (empty) {\r\n                        setText(null);\r\n                        setOnMouseClicked(null);\r\n                    }\r\n                    else {\r\n                        setText(item.getFirstName() + &quot; &quot; + item.getLastName());\r\n                        setOnMouseClicked(event -&gt; {\r\n                            if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) {\r\n                                label.setText(item.getFirstName() + item.getLastName());\r\n                            }\r\n                        });\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n            listView.getItems().add(new Person(&quot;a&quot;, &quot;b&quot;));\r\n            listView.getItems().add(new Person(&quot;c&quot;, &quot;d&quot;));\r\n            listView.getItems().add(new Person(&quot;e&quot;, &quot;f&quot;));\r\n    \r\n            VBox vBox = new VBox(listView, label);\r\n    \r\n            Scene scene = new Scene(vBox, 300, 120);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\n","title":"Getting information about a cell in a javafx listview","body":"<p>Here is one way to accomplish what I think you are asking. This uses <code>setOnMouseClicked</code> in the <code>setCellFactory</code>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class ListViewExperiments extends Application\n{\n\n    @Override\n    public void start(Stage primaryStage) throws Exception\n    {\n        primaryStage.setTitle(&quot;ListView Experiment 1&quot;);\n\n        Label label = new Label(&quot;Hello World!&quot;);\n\n        ListView&lt;Person&gt; listView = new ListView();\n        listView.setCellFactory(lv -&gt; new ListCell&lt;Person&gt;()\n        {\n            @Override\n            public void updateItem(Person item, boolean empty)\n            {\n                super.updateItem(item, empty);\n                if (empty) {\n                    setText(null);\n                    setOnMouseClicked(null);\n                }\n                else {\n                    setText(item.getFirstName() + &quot; &quot; + item.getLastName());\n                    setOnMouseClicked(event -&gt; {\n                        if (event.getClickCount() == 2 &amp;&amp; ! isEmpty()) {\n                            label.setText(item.getFirstName() + item.getLastName());\n                        }\n                    });\n                }\n\n            }\n        });\n\n        listView.getItems().add(new Person(&quot;a&quot;, &quot;b&quot;));\n        listView.getItems().add(new Person(&quot;c&quot;, &quot;d&quot;));\n        listView.getItems().add(new Person(&quot;e&quot;, &quot;f&quot;));\n\n        VBox vBox = new VBox(listView, label);\n\n        Scene scene = new Scene(vBox, 300, 120);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12793473,"reputation":3,"user_id":9257265,"display_name":"Etienne Poulin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48404572,"answer_count":1,"score":0,"last_activity_date":1677548431,"creation_date":1516717669,"question_id":48404097,"body_markdown":"I have a Listview, made with Fxml and elements within it were added via an observable list. I want to, when the user double clicks a node, to **get data about that node**. I already dealt with the double click and everything else, but I need to get the name of the clicked node to be able to get data from a hashmap and so on... I tried to use `if(e.getTarget() == ListCell)` but it tells me &quot;Expression expected&quot; as if it was an enum.\r\n\r\nI know there might be a duplicate of this somewhere, but I couldn&#39;t find any with my formulation of the question... So, I&#39;m asking you, how do I get the name of the node and check if the click happened on a node or in the &quot;void of the listview&quot;.\r\n\r\nEdit: By name, I mean display name.","title":"Getting information about a cell in a javafx listview","body":"<p>I have a Listview, made with Fxml and elements within it were added via an observable list. I want to, when the user double clicks a node, to <strong>get data about that node</strong>. I already dealt with the double click and everything else, but I need to get the name of the clicked node to be able to get data from a hashmap and so on... I tried to use <code>if(e.getTarget() == ListCell)</code> but it tells me \"Expression expected\" as if it was an enum.</p>\n\n<p>I know there might be a duplicate of this somewhere, but I couldn't find any with my formulation of the question... So, I'm asking you, how do I get the name of the node and check if the click happened on a node or in the \"void of the listview\".</p>\n\n<p>Edit: By name, I mean display name.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677554421,"post_id":75585883,"comment_id":133356707,"body_markdown":"By the way, if your sound effect is short, then you may want to consider using an `AudioClip` instead of a `MediaPlayer`.","body":"By the way, if your sound effect is short, then you may want to consider using an <code>AudioClip</code> instead of a <code>MediaPlayer</code>."}],"owner":{"account_id":27894669,"reputation":1,"user_id":21300235,"display_name":"matiashartwig23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677546751,"answer_count":0,"score":0,"last_activity_date":1677546714,"creation_date":1677534547,"question_id":75585883,"body_markdown":"I am attempting to learn JavaFX and are doing some tinkering with mediaplayer. My program has a simple idea;\r\n\r\nA button, that when it is clicked, plays a sound effect. While programming such things, i get a huge error. Sample code:\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.*;\r\n\r\n\r\n\r\npublic class MyJavaFX extends Application {\r\n\t@Override // Override the start method in the Application class\r\n\tpublic void start(Stage primaryStage) {\r\n\t\t// Create a button and place it in the scene\r\n\t\tButton btyay = new Button(&quot;Yay!&quot;);\r\n\t\tScene scene = new Scene(btyay, 200, 250);\r\n\r\n\t\t// Instantiating Media class\r\n\t\tMedia media = new Media(&quot;file://C:/Users/myname/Downloads/yay.mp3&quot;);\r\n\r\n\t\t// Instantiating MediaPlayer class\r\n\t\tMediaPlayer mediaPlayer = new MediaPlayer(media);\r\n\t\tmediaPlayer.play();\r\n\r\n        btyay.setOnMouseClicked(e -&gt; {\r\n\t\t\tmediaPlayer.play();\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tprimaryStage.setTitle(&quot;MyJavaFX&quot;); // Set the stage title\r\n\t\tprimaryStage.setScene(scene); // Place the scene in the stage\r\n\t\tprimaryStage.show(); // Display the stage\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nThe problem is eliminated when i remove the mediaplayer code chunk.\r\n\r\n\r\nSample of error:\r\n\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5c4f124) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5c4f124\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:111)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\r\n\tat com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\r\n\tat com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n\tat com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\r\n\tat javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n\tat MyJavaFX.start(MyJavaFX.java:18)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nException running application MyJavaFX\r\n```\r\n\r\n\r\nHow do I solve this?\r\n","title":"Using MediaPlayer in eclipse using JavaFX 19","body":"<p>I am attempting to learn JavaFX and are doing some tinkering with mediaplayer. My program has a simple idea;</p>\n<p>A button, that when it is clicked, plays a sound effect. While programming such things, i get a huge error. Sample code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.*;\n\n\n\npublic class MyJavaFX extends Application {\n    @Override // Override the start method in the Application class\n    public void start(Stage primaryStage) {\n        // Create a button and place it in the scene\n        Button btyay = new Button(&quot;Yay!&quot;);\n        Scene scene = new Scene(btyay, 200, 250);\n\n        // Instantiating Media class\n        Media media = new Media(&quot;file://C:/Users/myname/Downloads/yay.mp3&quot;);\n\n        // Instantiating MediaPlayer class\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.play();\n\n        btyay.setOnMouseClicked(e -&gt; {\n            mediaPlayer.play();\n            \n        });\n\n        primaryStage.setTitle(&quot;MyJavaFX&quot;); // Set the stage title\n        primaryStage.setScene(scene); // Place the scene in the stage\n        primaryStage.show(); // Display the stage\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The problem is eliminated when i remove the mediaplayer code chunk.</p>\n<p>Sample of error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.NativeMediaManager (in unnamed module @0x5c4f124) cannot access class com.sun.glass.utils.NativeLibLoader (in module javafx.graphics) because module javafx.graphics does not export com.sun.glass.utils to unnamed module @0x5c4f124\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.lambda$new$0(NativeMediaManager.java:111)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.&lt;init&gt;(NativeMediaManager.java:108)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager$NativeMediaManagerInitializer.&lt;clinit&gt;(NativeMediaManager.java:78)\n    at com.sun.media.jfxmediaimpl.NativeMediaManager.getDefaultInstance(NativeMediaManager.java:90)\n    at com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:240)\n    at javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n    at MyJavaFX.start(MyJavaFX.java:18)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nException running application MyJavaFX\n</code></pre>\n<p>How do I solve this?</p>\n"},{"tags":["java","installation","wso2","wso2-identity-server"],"answers":[{"tags":[],"owner":{"account_id":4909056,"reputation":505,"user_id":10943282,"display_name":"Joy Rathnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677374197,"creation_date":1677374197,"answer_id":75569454,"question_id":75568569,"body_markdown":"Based on your error, I think you are on a Windows PC, and you have downloaded the installation **installer.msi** option to install the product. Try the binary release, where you get a **.zip** file and extract it to any location, and them you can run from the command prompt. \r\n\r\nAlso, a common issue when you run WSO2 products initially is the JAVA_HOME. Please check whether you have set the JAVA_HOME correctly.","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>Based on your error, I think you are on a Windows PC, and you have downloaded the installation <strong>installer.msi</strong> option to install the product. Try the binary release, where you get a <strong>.zip</strong> file and extract it to any location, and them you can run from the command prompt.</p>\n<p>Also, a common issue when you run WSO2 products initially is the JAVA_HOME. Please check whether you have set the JAVA_HOME correctly.</p>\n"},{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677546415,"creation_date":1677546415,"answer_id":75587011,"question_id":75568569,"body_markdown":"You are probably getting this issue since you have Ffolder with spaces in the WSO2 Installation Path. For example `C:\\Program Files\\WSO2\\Identity Server\\6.1.0` has two folders with spaces. WSO2 applications don&#39;t handle spaces in paths well on Windows, hence move your WSO2 and Java installation to a place where each directory doesn&#39;t have any spaces. ","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>You are probably getting this issue since you have Ffolder with spaces in the WSO2 Installation Path. For example <code>C:\\Program Files\\WSO2\\Identity Server\\6.1.0</code> has two folders with spaces. WSO2 applications don't handle spaces in paths well on Windows, hence move your WSO2 and Java installation to a place where each directory doesn't have any spaces.</p>\n"}],"owner":{"account_id":25901959,"reputation":13,"user_id":19627690,"display_name":"Amir Hany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75569454,"answer_count":2,"score":1,"last_activity_date":1677546499,"creation_date":1677360615,"question_id":75568569,"body_markdown":"I have an issue with installing WSO2 locally.\r\nI already follow the steps in the installation guide and when I try to run the server I got the following error.\r\n\r\n```\r\nJAVA_HOME environment variable is set to C:\\Program Files\\Java\\jdk-11.0.17\r\nCARBON_HOME environment variable is set to C:\\Program Files\\WSO2\\Identity Server\\6.1.0\r\nError: Could not find or load main class Files\\WSO2\\Identity\r\nCaused by: java.lang.ClassNotFoundException: Files\\WSO2\\Identity\r\n```\r\n\r\nJDK v11.017\r\nWsO2 IS v6.1.0\r\n","title":"java.lang.ClassNotFoundException: Files\\WSO2\\Identity","body":"<p>I have an issue with installing WSO2 locally.\nI already follow the steps in the installation guide and when I try to run the server I got the following error.</p>\n<pre><code>JAVA_HOME environment variable is set to C:\\Program Files\\Java\\jdk-11.0.17\nCARBON_HOME environment variable is set to C:\\Program Files\\WSO2\\Identity Server\\6.1.0\nError: Could not find or load main class Files\\WSO2\\Identity\nCaused by: java.lang.ClassNotFoundException: Files\\WSO2\\Identity\n</code></pre>\n<p>JDK v11.017\nWsO2 IS v6.1.0</p>\n"},{"tags":["java","android","warnings"],"answers":[{"tags":[],"owner":{"account_id":7456401,"reputation":21,"user_id":5669541,"display_name":"Rodrigo Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677524981,"creation_date":1677524879,"answer_id":75584612,"question_id":75584508,"body_markdown":"You should add the following line of code:\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\nInside the build.gradle file (Module: app) and not in the build.gradle file (Project). \r\n\r\nTry to add after all dependencies.","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>You should add the following line of code:</p>\n<p>apply plugin: 'com.google.gms.google-services'\nInside the build.gradle file (Module: app) and not in the build.gradle file (Project).</p>\n<p>Try to add after all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":11078444,"reputation":1,"user_id":11907204,"display_name":"Abde Samad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677546279,"creation_date":1677546279,"answer_id":75587001,"question_id":75584508,"body_markdown":"so here is what i did to fix it:\r\n\r\n\r\nstep 1: I upgraded my gradle.\r\n\r\nstep 2: I added this to dependencies(make sure to add latest version):\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n\r\nThe implementation above you can find it here:\r\nhttps://developers.google.com/android/guides/setup\r\n\r\nstep3: I reordered my plugins section to this in gradle.build(app):\r\n\r\n    plugins {\r\n      id &#39;com.android.application&#39;\r\n      id &#39;com.google.gms.google-services&#39;\r\n\r\n    }\r\n\r\nand it is working now 100%.\r\n","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>so here is what i did to fix it:</p>\n<p>step 1: I upgraded my gradle.</p>\n<p>step 2: I added this to dependencies(make sure to add latest version):</p>\n<pre><code>implementation 'com.google.android.gms:play-services-location:21.0.1'\n</code></pre>\n<p>The implementation above you can find it here:\n<a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/setup</a></p>\n<p>step3: I reordered my plugins section to this in gradle.build(app):</p>\n<pre><code>plugins {\n  id 'com.android.application'\n  id 'com.google.gms.google-services'\n\n}\n</code></pre>\n<p>and it is working now 100%.</p>\n"}],"owner":{"account_id":11078444,"reputation":1,"user_id":11907204,"display_name":"Abde Samad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677546279,"creation_date":1677524202,"question_id":75584508,"body_markdown":"My my app is working fine but I want to remove this warning:\r\nPlease apply google-services plugin at the bottom of the build file.&quot;\r\n\r\nAnd please don&#39;t reply with don&#39;t worry ignore it because I really want to remove it.\r\n\r\nHere is my build.gradle (Project) script:\r\n\r\n\r\n\r\n```\r\ntype here\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\r\n}\r\n```\r\nHere is my build.gradle (App) script:\r\n\r\n\r\n```\r\ntype here\r\nplugins {\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.ahmedapps.walkthrough_app&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.ahmedapps.walkthrough_app&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_16\r\n        targetCompatibility JavaVersion.VERSION_16\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    def lottieVersion = &quot;4.1.0&quot;\r\n    implementation &quot;com.airbnb.android:lottie:$lottieVersion&quot;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.2&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0-alpha01&#39;\r\n\r\n    implementation &#39;com.facebook.android:audience-network-sdk:6.12.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;com.google.ads.mediation:facebook:6.12.0.0&#39;\r\n\r\n    implementation &#39;com.onesignal:OneSignal:[4.0.0, 4.99.99]&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried updating gradle but didn&#39;t work. \r\nI m using 7.5 version","title":"how to delete this warning &quot;Please apply google-services plugin at the bottom of the build file.&quot;","body":"<p>My my app is working fine but I want to remove this warning:\nPlease apply google-services plugin at the bottom of the build file.&quot;</p>\n<p>And please don't reply with don't worry ignore it because I really want to remove it.</p>\n<p>Here is my build.gradle (Project) script:</p>\n<pre><code>type here\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n    id &quot;com.google.gms.google-services&quot; version &quot;4.3.14&quot; apply false\n}\n</code></pre>\n<p>Here is my build.gradle (App) script:</p>\n<pre><code>type here\nplugins {\n    id 'com.google.gms.google-services'\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.ahmedapps.walkthrough_app'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.ahmedapps.walkthrough_app&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_16\n        targetCompatibility JavaVersion.VERSION_16\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    def lottieVersion = &quot;4.1.0&quot;\n    implementation &quot;com.airbnb.android:lottie:$lottieVersion&quot;\n\n    implementation platform('com.google.firebase:firebase-bom:31.2.2')\n    implementation 'com.google.firebase:firebase-analytics'\n\n    implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n\n    implementation 'com.facebook.android:audience-network-sdk:6.12.0'\n    implementation 'com.google.android.gms:play-services-ads:21.5.0'\n    implementation 'com.google.ads.mediation:facebook:6.12.0.0'\n\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n}\n\n</code></pre>\n<p>I tried updating gradle but didn't work.\nI m using 7.5 version</p>\n"},{"tags":["java","vim","ultisnips"],"comments":[{"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"score":0,"creation_date":1541460175,"post_id":53160885,"comment_id":93217896,"body_markdown":"you have completely changed the question after I provided an answer to the original question.","body":"you have completely changed the question after I provided an answer to the original question."}],"answers":[{"tags":[],"owner":{"account_id":934735,"reputation":23556,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541457998,"creation_date":1541451900,"answer_id":53162196,"question_id":53160885,"body_markdown":"UltiSnips stores Java snippets in [java.snippets][1], which on my machine is `~/.vim/bundle/vim-snippets/UltiSnips/java.snippets (I am using `honza/vim-snippets` as well).\r\n\r\nSnippets for Java are implemented using Python, so I have implemented the snippet below using Python as well (you can do it using multiple languages in UltiSnips).\r\n\r\nThere is already a snippet for `package`, which adds simply &quot;package&quot; word followed with a placeholder:\r\n\r\n    snippet pa &quot;package&quot; b\r\n    package $0\r\n    endsnippet\r\n\r\nLet&#39;s create a `pad` snippet that will automatically insert package name, based on the directory chain, instead of the `$0` placeholder:\r\n\r\n    snippet pad &quot;package&quot; b\r\n    package `!p\r\n    \r\n    def get_package_string(base_dir_name):\r\n      import os\r\n      # Get absolute path of the package (without filename)\r\n      absolute_path = os.getcwd().split(&quot;/&quot;)\r\n      src_dir_index = 0\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while absolute_path[src_dir_index] != base_dir_name:\r\n        src_dir_index+=1\r\n       \r\n      # Create a &#39;package &#39; string, joining with dots\r\n      package_string = &quot;.&quot;.join(absolute_path[src_dir_index+1:])\r\n      return package_string\r\n    \r\n    # snip.rv is UltiSnips&#39; return value we want to paste between ``\r\n    snip.rv = get_package_string(&quot;java&quot;)`\r\n    \r\n    endsnippet\r\n\r\nNote that this solution is based on the fact that in many Java projects, there is an `src` directory with `main/java` and `test/java` directories in it and you are editing one of the files in `java` directory (e.g. for `src/main/com/google/common` it will return `com.google.common`). You may need to modify this to be more flexible.\r\n\r\nYou can find more information about creating snippets in [screencasts linked in its README][2].\r\n\r\n\r\n  [1]: https://github.com/SirVer/ultisnips/blob/1cb5639b78bc3685baf18b03859335143a86114c/UltiSnips/java.snippets\r\n  [2]: https://github.com/SirVer/ultisnips/tree/1cb5639b78bc3685baf18b03859335143a86114c#screencasts","title":"UltiSnips expand java package","body":"<p>UltiSnips stores Java snippets in <a href=\"https://github.com/SirVer/ultisnips/blob/1cb5639b78bc3685baf18b03859335143a86114c/UltiSnips/java.snippets\" rel=\"nofollow noreferrer\">java.snippets</a>, which on my machine is <code>~/.vim/bundle/vim-snippets/UltiSnips/java.snippets (I am using</code>honza/vim-snippets` as well).</p>\n\n<p>Snippets for Java are implemented using Python, so I have implemented the snippet below using Python as well (you can do it using multiple languages in UltiSnips).</p>\n\n<p>There is already a snippet for <code>package</code>, which adds simply \"package\" word followed with a placeholder:</p>\n\n<pre><code>snippet pa \"package\" b\npackage $0\nendsnippet\n</code></pre>\n\n<p>Let's create a <code>pad</code> snippet that will automatically insert package name, based on the directory chain, instead of the <code>$0</code> placeholder:</p>\n\n<pre><code>snippet pad \"package\" b\npackage `!p\n\ndef get_package_string(base_dir_name):\n  import os\n  # Get absolute path of the package (without filename)\n  absolute_path = os.getcwd().split(\"/\")\n  src_dir_index = 0\n\n  # Find index of 'base_dir_name' element\n  while absolute_path[src_dir_index] != base_dir_name:\n    src_dir_index+=1\n\n  # Create a 'package ' string, joining with dots\n  package_string = \".\".join(absolute_path[src_dir_index+1:])\n  return package_string\n\n# snip.rv is UltiSnips' return value we want to paste between ``\nsnip.rv = get_package_string(\"java\")`\n\nendsnippet\n</code></pre>\n\n<p>Note that this solution is based on the fact that in many Java projects, there is an <code>src</code> directory with <code>main/java</code> and <code>test/java</code> directories in it and you are editing one of the files in <code>java</code> directory (e.g. for <code>src/main/com/google/common</code> it will return <code>com.google.common</code>). You may need to modify this to be more flexible.</p>\n\n<p>You can find more information about creating snippets in <a href=\"https://github.com/SirVer/ultisnips/tree/1cb5639b78bc3685baf18b03859335143a86114c#screencasts\" rel=\"nofollow noreferrer\">screencasts linked in its README</a>.</p>\n"},{"tags":[],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1542250097,"creation_date":1542250097,"answer_id":53311710,"question_id":53160885,"body_markdown":"I use a combination of the file path and the groupId and the artifactId from the nearest pom.xml (upwards)\r\n\r\n    global !p\r\n    import os\r\n    from xml.etree import ElementTree\r\n    \r\n    def get_package_name(pom_file_path):\r\n      namespaces = {&#39;xmlns&#39; : &#39;http://maven.apache.org/POM/4.0.0&#39;}\r\n    \r\n      tree = ElementTree.parse(pom_file_path)\r\n      root = tree.getroot()\r\n    \r\n      groupId = root.find(&quot;.//xmlns:groupId&quot;, namespaces=namespaces)\r\n      artifactId = root.find(&quot;.//xmlns:artifactId&quot;, namespaces=namespaces)\r\n      return groupId.text + &#39;.&#39; + artifactId.text\r\n    \r\n    def find_nearest_pom():\r\n      current_file_dir = &#39;/&#39;.join((os.getcwd() + (&#39;/&#39; if os.getcwd()[-1] != &#39;/&#39; else &#39;&#39;) + path).split(&#39;/&#39;)[:-1])\r\n      absolute_path = current_file_dir.split(&quot;/&quot;)\r\n      pom_dir_index = -1\r\n    \r\n      if os.path.isfile(&#39;/&#39;.join(absolute_path) + &#39;/pom.xml&#39;):\r\n        return &#39;/&#39;.join(absolute_path) + &#39;/pom.xml&#39;\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while not os.path.isfile(&#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;):\r\n        pom_dir_index -= 1\r\n    \r\n      return &#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;\r\n    \r\n    def get_file_package():\r\n      current_file_location = &#39;.&#39;.join((os.getcwd() + (&#39;/&#39; if os.getcwd()[-1] != &#39;/&#39; else &#39;&#39;) + path).split(&#39;/&#39;)[:-1])\r\n      package = get_package_name(find_nearest_pom())\r\n      return package + current_file_location.split(package)[1]\r\n    \r\n    endglobal\r\n    \r\n    snippet pkg &quot;package&quot; b\r\n    package `!p snip.rv = get_file_package()`;\r\n    endsnippet","title":"UltiSnips expand java package","body":"<p>I use a combination of the file path and the groupId and the artifactId from the nearest pom.xml (upwards)</p>\n\n<pre><code>global !p\nimport os\nfrom xml.etree import ElementTree\n\ndef get_package_name(pom_file_path):\n  namespaces = {'xmlns' : 'http://maven.apache.org/POM/4.0.0'}\n\n  tree = ElementTree.parse(pom_file_path)\n  root = tree.getroot()\n\n  groupId = root.find(\".//xmlns:groupId\", namespaces=namespaces)\n  artifactId = root.find(\".//xmlns:artifactId\", namespaces=namespaces)\n  return groupId.text + '.' + artifactId.text\n\ndef find_nearest_pom():\n  current_file_dir = '/'.join((os.getcwd() + ('/' if os.getcwd()[-1] != '/' else '') + path).split('/')[:-1])\n  absolute_path = current_file_dir.split(\"/\")\n  pom_dir_index = -1\n\n  if os.path.isfile('/'.join(absolute_path) + '/pom.xml'):\n    return '/'.join(absolute_path) + '/pom.xml'\n\n  # Find index of 'base_dir_name' element\n  while not os.path.isfile('/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'):\n    pom_dir_index -= 1\n\n  return '/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'\n\ndef get_file_package():\n  current_file_location = '.'.join((os.getcwd() + ('/' if os.getcwd()[-1] != '/' else '') + path).split('/')[:-1])\n  package = get_package_name(find_nearest_pom())\n  return package + current_file_location.split(package)[1]\n\nendglobal\n\nsnippet pkg \"package\" b\npackage `!p snip.rv = get_file_package()`;\nendsnippet\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2768170,"reputation":119,"user_id":2383363,"display_name":"Giuseppe Matheus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677546192,"creation_date":1677546192,"answer_id":75586995,"question_id":53160885,"body_markdown":"It can&#39;t be achieve using regex?\r\n\r\nlike this:\r\n\r\n```\r\nglobal !p\r\n\r\ndef get_file_package():\r\n    input_str = vim.eval(&#39;expand(&quot;%:p&quot;)&#39;)\r\n    transformed_str = re.sub(r&#39;^.*/src/(test|main)/java/((.+/)*)(.*?)/.*\\.java$&#39;, r&#39;\\3\\4&#39;, input_str)\r\n    return re.sub(&#39;/&#39;, &#39;.&#39;, transformed_str)\r\n\r\nendglobal\r\n\r\nsnippet pkg &quot;Declare java package&quot; b\r\npackage `!p snip.rv = get_file_package()`;\r\nendsnippet\r\n```\r\n\r\nI using this, tell if I missing something.","title":"UltiSnips expand java package","body":"<p>It can't be achieve using regex?</p>\n<p>like this:</p>\n<pre><code>global !p\n\ndef get_file_package():\n    input_str = vim.eval('expand(&quot;%:p&quot;)')\n    transformed_str = re.sub(r'^.*/src/(test|main)/java/((.+/)*)(.*?)/.*\\.java$', r'\\3\\4', input_str)\n    return re.sub('/', '.', transformed_str)\n\nendglobal\n\nsnippet pkg &quot;Declare java package&quot; b\npackage `!p snip.rv = get_file_package()`;\nendsnippet\n</code></pre>\n<p>I using this, tell if I missing something.</p>\n"}],"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":53311710,"answer_count":3,"score":-1,"last_activity_date":1677546192,"creation_date":1541445940,"question_id":53160885,"body_markdown":"I want to be able to write a vim snippet that automatically turns into the required package.\r\n\r\nE.g. expanding `pkg` while inside of `.../com/theonlygust/project/Main.java` would become\r\n\r\n    package com.theonlygusti.project;\r\n\r\nI think the ways to do this are to either: read up the directory tree until seeing a TLD directory name (com, io, net, etc.) and then use the encountered directory names to build the package string, or to look up the directory tree for the `pom.xml` and find the package from there.\r\n\r\nI learned about python interpolation.\r\n\r\nI&#39;m now trying this:\r\n\r\n    snippet pkg &quot;Create package&quot; b\r\n    package `!p\r\n    \r\n    import os\r\n    from xml.etree import ElementTree\r\n    \r\n    def get_package_name(pom_file_path):\r\n      namespaces = {&#39;xmlns&#39; : &#39;http://maven.apache.org/POM/4.0.0&#39;}\r\n    \r\n      tree = ElementTree.parse(pom_file_path)\r\n      root = tree.getroot()\r\n    \r\n      groupId = root.find(&quot;.//xmlns:groupId&quot;, namespaces=namespaces)\r\n      artifactId = root.find(&quot;.//xmlns:artifactId&quot;, namespaces=namespaces)\r\n      return groupId.text + &#39;.&#39; + artifactId.text\r\n    \r\n    def find_nearest_pom():\r\n      absolute_path = os.path.abspath(os.path.dirname(&#39;__file__&#39;)).split(&quot;/&quot;)\r\n      pom_dir_index = -1\r\n    \r\n      # Find index of &#39;base_dir_name&#39; element\r\n      while not os.path.isfile(&#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;):\r\n        pom_dir_index -= 1\r\n    \r\n      return &#39;/&#39;.join(absolute_path[:pom_dir_index]) + &#39;/pom.xml&#39;\r\n    \r\n    snip.rv = get_package_name(find_nearest_pom())`;\r\n    endsnippet\r\n\r\nBut I get the error\r\n\r\n&gt; Name `__file__` does not exist\r\n\r\nAnd `os.getcwd()` doesn&#39;t work because that returns the directory from which vim was opened, not the directory that contains the current buffer.\r\n\r\nI had a look at the `snip` object because I know it provides `snip.fn` to get the filename, but I couldn&#39;t find out if it provides the current file&#39;s directory.\r\n\r\nNevermind, finally learned that UltiSnips sets a global variable &quot;`path`&quot;","title":"UltiSnips expand java package","body":"<p>I want to be able to write a vim snippet that automatically turns into the required package.</p>\n\n<p>E.g. expanding <code>pkg</code> while inside of <code>.../com/theonlygust/project/Main.java</code> would become</p>\n\n<pre><code>package com.theonlygusti.project;\n</code></pre>\n\n<p>I think the ways to do this are to either: read up the directory tree until seeing a TLD directory name (com, io, net, etc.) and then use the encountered directory names to build the package string, or to look up the directory tree for the <code>pom.xml</code> and find the package from there.</p>\n\n<p>I learned about python interpolation.</p>\n\n<p>I'm now trying this:</p>\n\n<pre><code>snippet pkg \"Create package\" b\npackage `!p\n\nimport os\nfrom xml.etree import ElementTree\n\ndef get_package_name(pom_file_path):\n  namespaces = {'xmlns' : 'http://maven.apache.org/POM/4.0.0'}\n\n  tree = ElementTree.parse(pom_file_path)\n  root = tree.getroot()\n\n  groupId = root.find(\".//xmlns:groupId\", namespaces=namespaces)\n  artifactId = root.find(\".//xmlns:artifactId\", namespaces=namespaces)\n  return groupId.text + '.' + artifactId.text\n\ndef find_nearest_pom():\n  absolute_path = os.path.abspath(os.path.dirname('__file__')).split(\"/\")\n  pom_dir_index = -1\n\n  # Find index of 'base_dir_name' element\n  while not os.path.isfile('/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'):\n    pom_dir_index -= 1\n\n  return '/'.join(absolute_path[:pom_dir_index]) + '/pom.xml'\n\nsnip.rv = get_package_name(find_nearest_pom())`;\nendsnippet\n</code></pre>\n\n<p>But I get the error</p>\n\n<blockquote>\n  <p>Name <code>__file__</code> does not exist</p>\n</blockquote>\n\n<p>And <code>os.getcwd()</code> doesn't work because that returns the directory from which vim was opened, not the directory that contains the current buffer.</p>\n\n<p>I had a look at the <code>snip</code> object because I know it provides <code>snip.fn</code> to get the filename, but I couldn't find out if it provides the current file's directory.</p>\n\n<p>Nevermind, finally learned that UltiSnips sets a global variable \"<code>path</code>\"</p>\n"},{"tags":["java","jar","centos"],"answers":[{"tags":[],"owner":{"account_id":10836576,"reputation":17,"user_id":14752529,"display_name":"Edawg O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677545376,"creation_date":1677545376,"answer_id":75586934,"question_id":75554417,"body_markdown":"I updated /etc/profile with the below to resolve\r\n\r\n   \r\n```\r\n     LIMITUSER=$USER\r\n        if [ -e &quot;/usr/bin/whoami&quot; ]; then\r\n                LIMITUSER=`/usr/bin/whoami`\r\n        fi\r\n        if [ &quot;$LIMITUSER&quot; == &quot;root&quot; ]; then\r\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        elif  [ &quot;$LIMITUSER&quot; == &quot;uptime&quot; ]; then\r\n                 ulimit -n 1024 -u 2047 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        else\r\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\r\n        fi\r\n```\r\n","title":"Error occurred during initialization of VM: Could not reserve enough space for code cache when executing jar file as regular user on Centos 7","body":"<p>I updated /etc/profile with the below to resolve</p>\n<pre><code>     LIMITUSER=$USER\n        if [ -e &quot;/usr/bin/whoami&quot; ]; then\n                LIMITUSER=`/usr/bin/whoami`\n        fi\n        if [ &quot;$LIMITUSER&quot; == &quot;root&quot; ]; then\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        elif  [ &quot;$LIMITUSER&quot; == &quot;uptime&quot; ]; then\n                 ulimit -n 1024 -u 2047 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        else\n                ulimit -n 6144 -u 14335 -m unlimited -d unlimited -s 8192 -c 1000000 -v unlimited 2&gt;/dev/null\n        fi\n</code></pre>\n"}],"owner":{"account_id":10836576,"reputation":17,"user_id":14752529,"display_name":"Edawg O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75586934,"answer_count":1,"score":0,"last_activity_date":1677545376,"creation_date":1677228750,"question_id":75554417,"body_markdown":"I have a Centos 7 machine with 64gb memory (49gb available) where I am experiencing an issue when trying to execute a jar file as a regular user with the following command:\r\n\r\n```java -jar jarfile.jar```\r\n\r\nIt returns the error:\r\n\r\n```Error occurred during initialization of VM```&lt;br&gt;\r\n```Could not reserve enough space for code cache```\r\n\r\nHowever, when I switch to the root user and execute the same command, it runs successfully. I have checked that the user executing the jar file is the owner and the permissions of the file are set to:\r\n\r\n```-rw-rw-r--```\r\n\r\nI have also checked that there is enough space available on the machine. \r\n\r\nCan anyone kindly suggest what could be causing this issue and how I can resolve it to enable the jar file to be executed successfully as a regular user?\r\n\r\nThanks","title":"Error occurred during initialization of VM: Could not reserve enough space for code cache when executing jar file as regular user on Centos 7","body":"<p>I have a Centos 7 machine with 64gb memory (49gb available) where I am experiencing an issue when trying to execute a jar file as a regular user with the following command:</p>\n<p><code>java -jar jarfile.jar</code></p>\n<p>It returns the error:</p>\n<p><code>Error occurred during initialization of VM</code><br>\n<code>Could not reserve enough space for code cache</code></p>\n<p>However, when I switch to the root user and execute the same command, it runs successfully. I have checked that the user executing the jar file is the owner and the permissions of the file are set to:</p>\n<p><code>-rw-rw-r--</code></p>\n<p>I have also checked that there is enough space available on the machine.</p>\n<p>Can anyone kindly suggest what could be causing this issue and how I can resolve it to enable the jar file to be executed successfully as a regular user?</p>\n<p>Thanks</p>\n"},{"tags":["java","class"],"answers":[{"tags":[],"owner":{"account_id":27892660,"reputation":11,"user_id":21298695,"display_name":"Mike Clarke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677522656,"creation_date":1677522656,"answer_id":75584254,"question_id":75583572,"body_markdown":"I think there are 2 problems here. I suggest you tackle them in order as it will probably make it easier to think about the second problem of &quot;loading&quot; a wizard from your test file. \r\n\r\nDo you have a main class that handles the ```Magician``` entities/instances? How would you code 2 wizards starting a battle?\r\n\r\nThink about your method signature. Perhaps it&#39;s useful for 2 wizards to be able to compare themselves to each other before they battle? Maybe if one has a really big hat or beard, or has lots of other wizard trophies stitched to his robe, the second one might not want to battle? I&#39;d suggest looking at the ```Comparable``` interface documentation to think about this. This might help with your battle method signature too.\r\n\r\nWhen you want to be able to load the stats for a wizard from a file, you need to think about some kind of serialization mechanism. Java has a built in class called Properties that you could use for this, or if you&#39;re familiar with JSON or YAML there are libraries you could use to help you. These are all text based so would be easy to maintain visually. You should do some reading about Java beans. \r\n\r\nFinally, since it sounds like you&#39;re motivated by the fantasy gaming genre, you might consider looking at the code for one of the text based Multi User Dungeon (MUD) games. I used to code and play CircleMUD back in the day which was written in C, but I&#39;m sure there are Java equivalents around now. ","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>I think there are 2 problems here. I suggest you tackle them in order as it will probably make it easier to think about the second problem of &quot;loading&quot; a wizard from your test file.</p>\n<p>Do you have a main class that handles the <code>Magician</code> entities/instances? How would you code 2 wizards starting a battle?</p>\n<p>Think about your method signature. Perhaps it's useful for 2 wizards to be able to compare themselves to each other before they battle? Maybe if one has a really big hat or beard, or has lots of other wizard trophies stitched to his robe, the second one might not want to battle? I'd suggest looking at the <code>Comparable</code> interface documentation to think about this. This might help with your battle method signature too.</p>\n<p>When you want to be able to load the stats for a wizard from a file, you need to think about some kind of serialization mechanism. Java has a built in class called Properties that you could use for this, or if you're familiar with JSON or YAML there are libraries you could use to help you. These are all text based so would be easy to maintain visually. You should do some reading about Java beans.</p>\n<p>Finally, since it sounds like you're motivated by the fantasy gaming genre, you might consider looking at the code for one of the text based Multi User Dungeon (MUD) games. I used to code and play CircleMUD back in the day which was written in C, but I'm sure there are Java equivalents around now.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677542814,"creation_date":1677542814,"answer_id":75586735,"question_id":75583572,"body_markdown":"Your code currently doesn&#39;t create any objects.\r\n\r\nBut from your question and comments I suspect that you need something like\r\n\r\n    Magician cat = new Magician(&quot;cat&quot;, &quot;supply&quot;);\r\n    Magician dog = new Magician(&quot;dog&quot;, &quot;othersupply&quot;);\r\n\r\n    cat.spellBind(dog);\r\n    dog.spellBind(cat);\r\n\r\nFor this to compile you need a method `spellBind(Magician)` in your `Magician` class:\r\n\r\n    public void spellBind(Magician opponent) {\r\n        // do whatever is necessary to spellBind the opponent\r\n        // i.e.\r\n        // * spend seem of the current Magician&#39;s energy\r\n        // * reduce the opponents health level\r\n    }\r\n\r\nNote that it is not the responsability of this `spellBind()` method to create a new opponent - the opponent is provided by the calling code.","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>Your code currently doesn't create any objects.</p>\n<p>But from your question and comments I suspect that you need something like</p>\n<pre><code>Magician cat = new Magician(&quot;cat&quot;, &quot;supply&quot;);\nMagician dog = new Magician(&quot;dog&quot;, &quot;othersupply&quot;);\n\ncat.spellBind(dog);\ndog.spellBind(cat);\n</code></pre>\n<p>For this to compile you need a method <code>spellBind(Magician)</code> in your <code>Magician</code> class:</p>\n<pre><code>public void spellBind(Magician opponent) {\n    // do whatever is necessary to spellBind the opponent\n    // i.e.\n    // * spend seem of the current Magician's energy\n    // * reduce the opponents health level\n}\n</code></pre>\n<p>Note that it is not the responsability of this <code>spellBind()</code> method to create a new opponent - the opponent is provided by the calling code.</p>\n"}],"owner":{"account_id":22299951,"reputation":19,"user_id":16525303,"display_name":"Peanut Walrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677542814,"creation_date":1677518261,"question_id":75583572,"body_markdown":"I am trying to compare my wizard to do battle with another wizard. But the problem is the other wizard doesn&#39;t exist in the class file and only exists in the tester file. How do I access the wizard in my tester file to do battle with the one I have already made?\r\n\r\nI have tried making a wizard in the class file, but I want the file to be able to do battle with their own wizard instead having a premade battle wizard already ready for them in the base tester. That&#39;s all I have so far, but I don&#39;t where to go from here. This is the entire code that I made in regards to the question. The arrow is the part where I am having problems.\r\n\r\n```    public class Magician{\r\n    private String name = &quot;Some_Wizard&quot;;\r\n    private String level = &quot;unknown&quot;;\r\n    private String supplies = &quot;branch&quot;;\r\n    private int health = 100;\r\n    private int galleons = 1000;\r\n    private int status = 1;\r\n    // starting Magician object\r\n   public Magician(String name, String supplies){\r\n    this.name = name;\r\n    this.supplies = supplies;\r\n   }\r\n    // send name to toString when envoked\r\n   public String getName(){\r\n      return name;\r\n   }\r\n    // changes name when envoked\r\n   public void setName(String nameUpdate){\r\n      name = nameUpdate;\r\n   }\r\n    // sends name to toString when envoked\r\n   public String getSupplies(){\r\n      return supplies;\r\n   }\r\n    // changes name when envoked\r\n   public void setSupplies(String suppliesUpdate){\r\n      supplies = suppliesUpdate;\r\n   }\r\n    // gets the mage level\r\n   public String getLevel(){\r\n      return level;\r\n   }\r\n    // gets health\r\n   public int getHealth(){\r\n      return health;\r\n   }\r\n    // sets health\r\n   public void setHealth(int hitPoints){\r\n      health = hitPoints;\r\n   }\r\n    // gets the Galleons\r\n   public int getGalleons(){\r\n      return galleons;\r\n   }\r\n    // updates galleon amount\r\n   public void setGalleons(int credits){\r\n      galleons = credits;\r\n   }\r\n    // returns status\r\n   public int getStatus(){\r\n      return status;\r\n   }\r\n    // increases level of mage when envoked\r\n   public boolean advanceLevel(){\r\n   int i = 1;\r\n      boolean upgrade = false;\r\n      \r\n      if (i &gt; 0){\r\n         upgrade = true;\r\n         if (level.equals(&quot;unknown&quot;)){\r\n            level = &quot;apprentice&quot;;\r\n         }\r\n         else if(level.equals(&quot;apprentice&quot;)){\r\n            level = &quot;wizard&quot;;\r\n         }\r\n         else if(level.equals(&quot;wizard&quot;)){\r\n            level = &quot;shaman&quot;;\r\n         }\r\n         else if (level.equals(&quot;shaman&quot;)){\r\n            level = &quot;Level is maxed out&quot;;\r\n         }\r\n         \r\n      }\r\n         return upgrade;\r\n      }\r\n    // decreases the level of the wizard\r\n   public boolean downgradeLevel(){\r\n    int i = 1;\r\n      boolean downgrade = false;\r\n      \r\n      if (i &gt; 0){\r\n         downgrade = true;\r\n         if (level.equals(&quot;shaman&quot;)){\r\n            level = &quot;wizard&quot;;\r\n         }\r\n         else if(level.equals(&quot;wizard&quot;)){\r\n            level = &quot;apprentice&quot;;\r\n         }\r\n         else if(level.equals(&quot;apprentice&quot;)){\r\n            level = &quot;unknown&quot;;\r\n         }\r\n         else{\r\n            level = &quot;need to level up.&quot;;\r\n         }\r\n         \r\n      }\r\n\r\n      return downgrade;\r\n   }\r\n    // buys a wand\r\n   public boolean buyProp(){\r\n      boolean flag = false;\r\n      String supply = supplies.toUpperCase(); \r\n      char ch = supplies.charAt(0);\r\n      if (ch == &#39;S&#39;){\r\n      flag = true;\r\n         galleons -= 300;\r\n               }\r\n      else if (ch == &#39;C&#39;){\r\n      flag = true;\r\n         galleons -= 75;\r\n               }\r\n      else if (ch == &#39;B&#39;){\r\n      flag = true;\r\n         galleons -= 100;\r\n               }\r\n      else if (ch == &#39;T&#39;){\r\n      flag = true;\r\n         galleons -= 150;\r\n               }\r\n      else if (ch == &#39;S&#39;){\r\n      flag = true;\r\n         galleons -= 300;\r\n               }\r\n      else if (ch == &#39;W&#39;){\r\n      flag = true;\r\n         galleons -= 200;\r\n               }\r\n     else if( galleons &lt;= 74){\r\n      galleons += 1000;\r\n     }\r\n\r\n      return flag;\r\n   }\r\n    // now its time for battle &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------Problem\r\n   public void spellBind(){\r\n   int dmg = 1;\r\n      if ((dmg &gt;= 1) &amp;&amp; (health &gt;= 1)){\r\n         health -= 0.1 * health;\r\n      }\r\n   } &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;---------------- end of problem\r\n   public boolean equals(){\r\n      boolean equal = false;\r\n    //      if (magician \r\n         return equal;\r\n   }\r\n}// end of class```","title":"Subtracting from a constructor that doesn&#39;t exist yet","body":"<p>I am trying to compare my wizard to do battle with another wizard. But the problem is the other wizard doesn't exist in the class file and only exists in the tester file. How do I access the wizard in my tester file to do battle with the one I have already made?</p>\n<p>I have tried making a wizard in the class file, but I want the file to be able to do battle with their own wizard instead having a premade battle wizard already ready for them in the base tester. That's all I have so far, but I don't where to go from here. This is the entire code that I made in regards to the question. The arrow is the part where I am having problems.</p>\n<pre><code>    private String name = &quot;Some_Wizard&quot;;\n    private String level = &quot;unknown&quot;;\n    private String supplies = &quot;branch&quot;;\n    private int health = 100;\n    private int galleons = 1000;\n    private int status = 1;\n    // starting Magician object\n   public Magician(String name, String supplies){\n    this.name = name;\n    this.supplies = supplies;\n   }\n    // send name to toString when envoked\n   public String getName(){\n      return name;\n   }\n    // changes name when envoked\n   public void setName(String nameUpdate){\n      name = nameUpdate;\n   }\n    // sends name to toString when envoked\n   public String getSupplies(){\n      return supplies;\n   }\n    // changes name when envoked\n   public void setSupplies(String suppliesUpdate){\n      supplies = suppliesUpdate;\n   }\n    // gets the mage level\n   public String getLevel(){\n      return level;\n   }\n    // gets health\n   public int getHealth(){\n      return health;\n   }\n    // sets health\n   public void setHealth(int hitPoints){\n      health = hitPoints;\n   }\n    // gets the Galleons\n   public int getGalleons(){\n      return galleons;\n   }\n    // updates galleon amount\n   public void setGalleons(int credits){\n      galleons = credits;\n   }\n    // returns status\n   public int getStatus(){\n      return status;\n   }\n    // increases level of mage when envoked\n   public boolean advanceLevel(){\n   int i = 1;\n      boolean upgrade = false;\n      \n      if (i &gt; 0){\n         upgrade = true;\n         if (level.equals(&quot;unknown&quot;)){\n            level = &quot;apprentice&quot;;\n         }\n         else if(level.equals(&quot;apprentice&quot;)){\n            level = &quot;wizard&quot;;\n         }\n         else if(level.equals(&quot;wizard&quot;)){\n            level = &quot;shaman&quot;;\n         }\n         else if (level.equals(&quot;shaman&quot;)){\n            level = &quot;Level is maxed out&quot;;\n         }\n         \n      }\n         return upgrade;\n      }\n    // decreases the level of the wizard\n   public boolean downgradeLevel(){\n    int i = 1;\n      boolean downgrade = false;\n      \n      if (i &gt; 0){\n         downgrade = true;\n         if (level.equals(&quot;shaman&quot;)){\n            level = &quot;wizard&quot;;\n         }\n         else if(level.equals(&quot;wizard&quot;)){\n            level = &quot;apprentice&quot;;\n         }\n         else if(level.equals(&quot;apprentice&quot;)){\n            level = &quot;unknown&quot;;\n         }\n         else{\n            level = &quot;need to level up.&quot;;\n         }\n         \n      }\n\n      return downgrade;\n   }\n    // buys a wand\n   public boolean buyProp(){\n      boolean flag = false;\n      String supply = supplies.toUpperCase(); \n      char ch = supplies.charAt(0);\n      if (ch == 'S'){\n      flag = true;\n         galleons -= 300;\n               }\n      else if (ch == 'C'){\n      flag = true;\n         galleons -= 75;\n               }\n      else if (ch == 'B'){\n      flag = true;\n         galleons -= 100;\n               }\n      else if (ch == 'T'){\n      flag = true;\n         galleons -= 150;\n               }\n      else if (ch == 'S'){\n      flag = true;\n         galleons -= 300;\n               }\n      else if (ch == 'W'){\n      flag = true;\n         galleons -= 200;\n               }\n     else if( galleons &lt;= 74){\n      galleons += 1000;\n     }\n\n      return flag;\n   }\n    // now its time for battle &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;-----------Problem\n   public void spellBind(){\n   int dmg = 1;\n      if ((dmg &gt;= 1) &amp;&amp; (health &gt;= 1)){\n         health -= 0.1 * health;\n      }\n   } &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;---------------- end of problem\n   public boolean equals(){\n      boolean equal = false;\n    //      if (magician \n         return equal;\n   }\n}// end of class```\n</code></pre>\n"},{"tags":["java","php","http","web-services","postman"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677557074,"post_id":75585827,"comment_id":133357035,"body_markdown":"Guess it is `public void process(Exchange exchange) throws Exception`, if you encounter Exception, throw it directly, so you will get a StatusCode 500 externally, but the default value of responseStatusCode is 200 (private int responseStatusCode = 200;) of api json StatusCode is still 200. What is the Exception that should be checked? Or it should not be thrown, and should be handled by try catch inside the method process (Exchange exchange).","body":"Guess it is <code>public void process(Exchange exchange) throws Exception</code>, if you encounter Exception, throw it directly, so you will get a StatusCode 500 externally, but the default value of responseStatusCode is 200 (private int responseStatusCode = 200;) of api json StatusCode is still 200. What is the Exception that should be checked? Or it should not be thrown, and should be handled by try catch inside the method process (Exchange exchange)."}],"owner":{"account_id":27886736,"reputation":11,"user_id":21294011,"display_name":"InternetLover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677542796,"creation_date":1677534032,"question_id":75585827,"body_markdown":"I&#39;m consuming an API of an internal system in the company.  \r\nIf I invoke the service directly through Postman I get a HTTP code: 200  \r\n\r\n#### Using Postman\r\n\r\n* HTTP: `200`\r\n* JSON Response:\r\n```json\r\n{\r\n    &quot;status&quot;: 200,\r\n    &quot;companyTaxes&quot;: {\r\n        &quot;Company&quot;: {\r\n            &quot;message&quot;: &quot;&quot;,\r\n            &quot;taxes&quot;: [{&quot;okay&quot;:1}]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n* HTTP: `200`\r\n* JSON Response:\r\n```json\r\n{\r\n    &quot;status&quot;: 500,\r\n    &quot;companyTaxes&quot;: {\r\n        &quot;Company&quot;: {\r\n            &quot;message&quot;: &quot;SOMETHING FAILED!&quot;,\r\n            &quot;taxes&quot;: []\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### Using the web application:\r\n\r\nWhen I try to invoke this but from a browser, it throws a HTTP code `100` and the JSON response is thrown without any parsing or whatever (plain text):\r\n\r\n&gt; Error message:\r\n&gt;\r\n&gt; ERROR 500 Tax Calculator Exception: &quot;Tax Calculator API Exception: \\\\&quot;{\\\\\\\\n \\\\\\\\\\\\&quot;status\\\\\\\\\\\\&quot; : 200,\\\\\\\\n \\\\\\\\\\\\&quot;companyTaxes\\\\\\\\\\\\&quot; : {\\\\\\\\n \\\\\\\\\\\\&quot;Company\\\\\\\\\\\\&quot; : {\\\\\\\\n \\\\\\\\\\\\&quot;message\\\\\\\\\\\\&quot; : \\\\\\\\\\\\&quot;SOMETHING FAILED!\\\\\\\\\\\\&quot;,\\\\\\\\n \\\\\\\\\\\\&quot;taxes\\\\\\\\\\\\&quot; : \\[ \\]\\\\\\\\n }\\\\\\\\n }\\\\\\\\n}\\\\&quot;&quot;\r\n\r\nThis is the JAVA code from the  webservice:\r\n\r\n```java\r\nprivate int responseStatusCode = 200;\r\n\r\n    @Override\r\n    public void process(Exchange exchange) throws Exception {\r\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\r\n        String companyName = exchange.getProperty(&quot;companyName&quot;,String.class);\r\n        Map&lt;String, CompanyTax&gt; output = new HashMap&lt;&gt;();\r\n        CompanyTax companyTax = new CompanyTax();\r\n        if (StringUtils.isBlank(message)) {\r\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\r\n            String Result = (String) map.get(&quot;x_msg_data&quot;);\r\n            if (StringUtils.isBlank(Result)) {\r\n                companyTax.setFess((List&lt;TaxLineOut&gt;) map.get(&quot;x_fees_tab&quot;));\r\n                output.put(companyName, companyTax);\r\n            } else {\r\n                /*   API executed with errors. Fess will be empty  */\r\n                companyTax.setMessage(Result);\r\n                companyTax.setFess(new ArrayList&lt;&gt;());\r\n                output.put(companyName, companyTax);\r\n            }\r\n        } else {\r\n            /*  API could not be executed. Fess will be null */\r\n            companyTax.setMessage(&quot; API Could not be executed&quot;);\r\n            companyTax.setFess(new ArrayList&lt;&gt;());\r\n            output.put(companyName, companyTax);\r\n        }\r\n        CompanyTaxResponse response = new CompanyTaxResponse();\r\n        if (CollectionUtils.isEmpty(output)) {\r\n            responseStatusCode = 400;\r\n        } else {\r\n            response.setCompanyFess(output);\r\n            for (CompanyTax companyTax1 : output.values()) {\r\n                if (StringUtils.isNotBlank(companyTax1.getMessage())) {\r\n                    response.setStatus(500);\r\n                }\r\n            }\r\n        }\r\n        exchange.getOut().setBody(response);\r\n        Map&lt;String, Object&gt; headers = exchange.getIn().getHeaders();\r\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\r\n        exchange.getOut().setHeaders(headers);\r\n```\r\n\r\nAm I doing something wrong?","title":"Service returning 200 in POSTMAN but http 100 code when invoking the service directly in PHP","body":"<p>I'm consuming an API of an internal system in the company.<br />\nIf I invoke the service directly through Postman I get a HTTP code: 200</p>\n<h4>Using Postman</h4>\n<ul>\n<li>HTTP: <code>200</code></li>\n<li>JSON Response:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 200,\n    &quot;companyTaxes&quot;: {\n        &quot;Company&quot;: {\n            &quot;message&quot;: &quot;&quot;,\n            &quot;taxes&quot;: [{&quot;okay&quot;:1}]\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>HTTP: <code>200</code></li>\n<li>JSON Response:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: 500,\n    &quot;companyTaxes&quot;: {\n        &quot;Company&quot;: {\n            &quot;message&quot;: &quot;SOMETHING FAILED!&quot;,\n            &quot;taxes&quot;: []\n        }\n    }\n}\n</code></pre>\n<h4>Using the web application:</h4>\n<p>When I try to invoke this but from a browser, it throws a HTTP code <code>100</code> and the JSON response is thrown without any parsing or whatever (plain text):</p>\n<blockquote>\n<p>Error message:</p>\n<p>ERROR 500 Tax Calculator Exception: &quot;Tax Calculator API Exception: \\&quot;{\\\\n \\\\\\&quot;status\\\\\\&quot; : 200,\\\\n \\\\\\&quot;companyTaxes\\\\\\&quot; : {\\\\n \\\\\\&quot;Company\\\\\\&quot; : {\\\\n \\\\\\&quot;message\\\\\\&quot; : \\\\\\&quot;SOMETHING FAILED!\\\\\\&quot;,\\\\n \\\\\\&quot;taxes\\\\\\&quot; : [ ]\\\\n }\\\\n }\\\\n}\\&quot;&quot;</p>\n</blockquote>\n<p>This is the JAVA code from the  webservice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int responseStatusCode = 200;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n        String message = (String) exchange.getIn().getHeader(&quot;exception.message&quot;);\n        String companyName = exchange.getProperty(&quot;companyName&quot;,String.class);\n        Map&lt;String, CompanyTax&gt; output = new HashMap&lt;&gt;();\n        CompanyTax companyTax = new CompanyTax();\n        if (StringUtils.isBlank(message)) {\n            Map&lt;String, Object&gt; map = exchange.getIn().getBody(Map.class);\n            String Result = (String) map.get(&quot;x_msg_data&quot;);\n            if (StringUtils.isBlank(Result)) {\n                companyTax.setFess((List&lt;TaxLineOut&gt;) map.get(&quot;x_fees_tab&quot;));\n                output.put(companyName, companyTax);\n            } else {\n                /*   API executed with errors. Fess will be empty  */\n                companyTax.setMessage(Result);\n                companyTax.setFess(new ArrayList&lt;&gt;());\n                output.put(companyName, companyTax);\n            }\n        } else {\n            /*  API could not be executed. Fess will be null */\n            companyTax.setMessage(&quot; API Could not be executed&quot;);\n            companyTax.setFess(new ArrayList&lt;&gt;());\n            output.put(companyName, companyTax);\n        }\n        CompanyTaxResponse response = new CompanyTaxResponse();\n        if (CollectionUtils.isEmpty(output)) {\n            responseStatusCode = 400;\n        } else {\n            response.setCompanyFess(output);\n            for (CompanyTax companyTax1 : output.values()) {\n                if (StringUtils.isNotBlank(companyTax1.getMessage())) {\n                    response.setStatus(500);\n                }\n            }\n        }\n        exchange.getOut().setBody(response);\n        Map&lt;String, Object&gt; headers = exchange.getIn().getHeaders();\n        headers.put(Exchange.HTTP_RESPONSE_CODE, responseStatusCode);\n        exchange.getOut().setHeaders(headers);\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677503944,"post_id":75580978,"comment_id":133344533,"body_markdown":"Why not just give the user a drop-down menu?  If that&#39;s not possible for some odd reason, what rules are you following based on user input?  Round up to the nearest acceptable value?","body":"Why not just give the user a drop-down menu?  If that&#39;s not possible for some odd reason, what rules are you following based on user input?  Round up to the nearest acceptable value?"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504093,"post_id":75580978,"comment_id":133344591,"body_markdown":"This must come from backend logic because there are some countries where you can put 3,4% and dropdown would be a big problem","body":"This must come from backend logic because there are some countries where you can put 3,4% and dropdown would be a big problem"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504267,"post_id":75580978,"comment_id":133344660,"body_markdown":"Yes but idea is that you have some application manager or person who can put allowed tax rates and on the other side the user who can put product with some wrong tax rate. And here I need to validate it to put only the correct tax in tax rate list.","body":"Yes but idea is that you have some application manager or person who can put allowed tax rates and on the other side the user who can put product with some wrong tax rate. And here I need to validate it to put only the correct tax in tax rate list."},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504545,"post_id":75580978,"comment_id":133344739,"body_markdown":"I don&#39;t want to have responsibility with allowed taxes and this is forwarded to some admin user who can determine allowed tax rate. This is the point of this :) It must come from backend","body":"I don&#39;t want to have responsibility with allowed taxes and this is forwarded to some admin user who can determine allowed tax rate. This is the point of this :) It must come from backend"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1677504654,"post_id":75580978,"comment_id":133344787,"body_markdown":"Ok, but it sounds like you&#39;d still need the rules to follow.  Are you always rounding up if the input is in between tax brackets that you are given?  Or are you throwing an exception?","body":"Ok, but it sounds like you&#39;d still need the rules to follow.  Are you always rounding up if the input is in between tax brackets that you are given?  Or are you throwing an exception?"},{"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"score":0,"creation_date":1677504965,"post_id":75580978,"comment_id":133344909,"body_markdown":"Yes the rule is that rounding is up to 0.5% e.g. and if the user takes 3,6% then it will be taken the nearest highest rate from the list getTaxRates(). If there are 3 values like {3%,4%,17%} then the 4% is the correct one.","body":"Yes the rule is that rounding is up to 0.5% e.g. and if the user takes 3,6% then it will be taken the nearest highest rate from the list getTaxRates(). If there are 3 values like {3%,4%,17%} then the 4% is the correct one."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1677506480,"post_id":75580978,"comment_id":133345418,"body_markdown":"Tax rates are grouped with conditional names (A, B, C, D ...) and the user chooses from them (he does not work with the real value). In the application, an administrative panel is created in which rates are allowed/disallowed and their real value is set. The conditional group (required) + the value is recorded in the history data (records in the database).","body":"Tax rates are grouped with conditional names (A, B, C, D ...) and the user chooses from them (he does not work with the real value). In the application, an administrative panel is created in which rates are allowed/disallowed and their real value is set. The conditional group (required) + the value is recorded in the history data (records in the database)."}],"answers":[{"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677508164,"creation_date":1677506965,"answer_id":75581530,"question_id":75580978,"body_markdown":"You can use `TreeSet` for this kind of implementation. [TreeSet][1] provides `ceiling()` method. This method will return the least element in the set greater than or equal to the given element, or `null` if there is no such element.\r\n\r\nImplementation:\r\n```\r\nprivate static Float getTaxRates(TreeSet&lt;Float&gt; taxRates, Float taxRate) {\r\n    return taxRates.ceiling(taxRate);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html","title":"How to adjust tax to some tax rate","body":"<p>You can use <code>TreeSet</code> for this kind of implementation. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> provides <code>ceiling()</code> method. This method will return the least element in the set greater than or equal to the given element, or <code>null</code> if there is no such element.</p>\n<p>Implementation:</p>\n<pre><code>private static Float getTaxRates(TreeSet&lt;Float&gt; taxRates, Float taxRate) {\n    return taxRates.ceiling(taxRate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677542706,"creation_date":1677508593,"answer_id":75581838,"question_id":75580978,"body_markdown":"There are multiple ways to approach this problem.\r\n\r\nHere is one possible way using a `List` and `BigDecimal` to get you started:\r\n    \r\n    public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\r\n        return allowedRates.stream()\r\n                .min(Comparator.comparing(a -&gt; inputRate.setScale(0, RoundingMode.HALF_UP)\r\n                        .subtract(a).abs()))\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n\r\nHere is a sample Junit 5 test.  You can check to see whether your particular requirements are met.\r\n\r\n    List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\r\n            new BigDecimal(&quot;9.0&quot;),\r\n            new BigDecimal(&quot;21.0&quot;));\r\n\r\n    @ParameterizedTest(name = &quot;#{index}: Testing {0}&quot;)\r\n    @DisplayName(&quot;Find the appropriate tax rate&quot;)\r\n    @CsvSource({\r\n            &quot;7.0, 7.0&quot;,\r\n            &quot;9.0, 9.0&quot;,\r\n            &quot;21.0, 21.0&quot;,\r\n            &quot;10.0, 9.0&quot;,\r\n            &quot;16.0, 21.0&quot;,\r\n            &quot;22.0, 21.0&quot;,\r\n            &quot;0, 7.0&quot;\r\n    })\r\n    public void testFindTaxRate(BigDecimal input, BigDecimal expected) {\r\n        BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n\r\nIn your production code, the method doesn&#39;t need to be static.  It does make this unit test a little less verbose for this answer.  \r\n\r\nYou may wish to sort, remove duplicates, or perform error-checking as needed based on your requirements on your allowed tax rate list.  This method will also work fine if you use change the implementation from a `List` to a `Set` that maintains order if that works better for you.  Using a `Set` is really nice, but it tends to require changes elsewhere in the system, and sometimes many IMO.\r\n\r\nFinally, be careful which [type][1] you use for this.\r\n\r\n**UPDATE:**\r\n\r\nIf you are looking to always choose the higher bracket given a choice between the two nearest values in your allowed list, then your code could become something like:\r\n\r\n    public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\r\n    \r\n        BigDecimal lastBracket = allowedRates.stream().reduce((a, b) -&gt; b).orElse(null);\r\n        if (inputRate.compareTo(lastBracket) &gt;= 0) {\r\n            return lastBracket;\r\n        }\r\n    \r\n        return allowedRates.stream()\r\n                .filter(rate -&gt; rate.compareTo(inputRate) &gt;= 0)\r\n                .findFirst()\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n\r\nAnd your test could be:\r\n\r\n    List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\r\n         new BigDecimal(&quot;9.0&quot;),\r\n         new BigDecimal(&quot;21.0&quot;));\r\n\r\n    @ParameterizedTest(name = &quot;#{index}: testing {0}&quot;)\r\n    @DisplayName(&quot;Find the appropriate tax rate&quot;)\r\n    @CsvSource({\r\n            &quot;7.0, 7.0&quot;,\r\n            &quot;9.0, 9.0&quot;,\r\n            &quot;21.0, 21.0&quot;,\r\n            &quot;10.0, 21.0&quot;,\r\n            &quot;16.0, 21.0&quot;,\r\n            &quot;22.0, 21.0&quot;,\r\n            &quot;0, 7.0&quot;\r\n    })\r\n    public void testFindRate(BigDecimal input, BigDecimal expected) {\r\n        BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\r\n        Assertions.assertEquals(expected, actual);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\r\n","title":"How to adjust tax to some tax rate","body":"<p>There are multiple ways to approach this problem.</p>\n<p>Here is one possible way using a <code>List</code> and <code>BigDecimal</code> to get you started:</p>\n<pre><code>public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\n    return allowedRates.stream()\n            .min(Comparator.comparing(a -&gt; inputRate.setScale(0, RoundingMode.HALF_UP)\n                    .subtract(a).abs()))\n            .orElseThrow(IllegalArgumentException::new);\n}\n</code></pre>\n<p>Here is a sample Junit 5 test.  You can check to see whether your particular requirements are met.</p>\n<pre><code>List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\n        new BigDecimal(&quot;9.0&quot;),\n        new BigDecimal(&quot;21.0&quot;));\n\n@ParameterizedTest(name = &quot;#{index}: Testing {0}&quot;)\n@DisplayName(&quot;Find the appropriate tax rate&quot;)\n@CsvSource({\n        &quot;7.0, 7.0&quot;,\n        &quot;9.0, 9.0&quot;,\n        &quot;21.0, 21.0&quot;,\n        &quot;10.0, 9.0&quot;,\n        &quot;16.0, 21.0&quot;,\n        &quot;22.0, 21.0&quot;,\n        &quot;0, 7.0&quot;\n})\npublic void testFindTaxRate(BigDecimal input, BigDecimal expected) {\n    BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\n    Assertions.assertEquals(expected, actual);\n}\n</code></pre>\n<p>In your production code, the method doesn't need to be static.  It does make this unit test a little less verbose for this answer.</p>\n<p>You may wish to sort, remove duplicates, or perform error-checking as needed based on your requirements on your allowed tax rate list.  This method will also work fine if you use change the implementation from a <code>List</code> to a <code>Set</code> that maintains order if that works better for you.  Using a <code>Set</code> is really nice, but it tends to require changes elsewhere in the system, and sometimes many IMO.</p>\n<p>Finally, be careful which <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">type</a> you use for this.</p>\n<p><strong>UPDATE:</strong></p>\n<p>If you are looking to always choose the higher bracket given a choice between the two nearest values in your allowed list, then your code could become something like:</p>\n<pre><code>public static BigDecimal findRate(List&lt;BigDecimal&gt; allowedRates, BigDecimal inputRate) {\n\n    BigDecimal lastBracket = allowedRates.stream().reduce((a, b) -&gt; b).orElse(null);\n    if (inputRate.compareTo(lastBracket) &gt;= 0) {\n        return lastBracket;\n    }\n\n    return allowedRates.stream()\n            .filter(rate -&gt; rate.compareTo(inputRate) &gt;= 0)\n            .findFirst()\n            .orElseThrow(IllegalArgumentException::new);\n}\n</code></pre>\n<p>And your test could be:</p>\n<pre><code>List&lt;BigDecimal&gt; ALLOWED_RATES = List.of(new BigDecimal(&quot;7.0&quot;),\n     new BigDecimal(&quot;9.0&quot;),\n     new BigDecimal(&quot;21.0&quot;));\n\n@ParameterizedTest(name = &quot;#{index}: testing {0}&quot;)\n@DisplayName(&quot;Find the appropriate tax rate&quot;)\n@CsvSource({\n        &quot;7.0, 7.0&quot;,\n        &quot;9.0, 9.0&quot;,\n        &quot;21.0, 21.0&quot;,\n        &quot;10.0, 21.0&quot;,\n        &quot;16.0, 21.0&quot;,\n        &quot;22.0, 21.0&quot;,\n        &quot;0, 7.0&quot;\n})\npublic void testFindRate(BigDecimal input, BigDecimal expected) {\n    BigDecimal actual = MyTaxRateCalculator.findRate(ALLOWED_RATES, input);\n    Assertions.assertEquals(expected, actual);\n}\n</code></pre>\n"}],"owner":{"account_id":16208580,"reputation":57,"user_id":11703199,"display_name":"leccepen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677543304,"answer_count":2,"score":-1,"last_activity_date":1677542706,"creation_date":1677503813,"question_id":75580978,"body_markdown":"In my application I have some List with tax rates getTaxRates(). \r\nThe problem is that user can put some value which should not be possible. \r\nThat means tax rates can be taken only from this list E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%, if he puts 4% then 7%. \r\nThe problem is the tax rate is flexible and I don&#39;t know what is the value- it can the list of 5 values e.g. 2%, 5%, 19%, 21% or 5%, 9%, 16%. How to implement this condition?\r\n\r\nFor know I have only the method which can see if the value is in range but no clue how to implement the condition checking the values which will come later from the user of my application settings.\r\n\r\n```\r\nprivate static boolean inRange(List&lt;Integer&gt; list, int min, int max) {\r\n    return list.stream().allMatch(i -&gt; i &gt;= min &amp;&amp; i &lt;= max);\r\n}\r\n```\r\n\r\n","title":"How to adjust tax to some tax rate","body":"<p>In my application I have some List with tax rates getTaxRates().\nThe problem is that user can put some value which should not be possible.\nThat means tax rates can be taken only from this list E.g. 7%, 9% and 21% and if user puts 7.5% then it should be saved 9%, if he puts 4% then 7%.\nThe problem is the tax rate is flexible and I don't know what is the value- it can the list of 5 values e.g. 2%, 5%, 19%, 21% or 5%, 9%, 16%. How to implement this condition?</p>\n<p>For know I have only the method which can see if the value is in range but no clue how to implement the condition checking the values which will come later from the user of my application settings.</p>\n<pre><code>private static boolean inRange(List&lt;Integer&gt; list, int min, int max) {\n    return list.stream().allMatch(i -&gt; i &gt;= min &amp;&amp; i &lt;= max);\n}\n</code></pre>\n"},{"tags":["java","spring","caching","ehcache"],"answers":[{"tags":[],"owner":{"account_id":1324009,"reputation":89,"user_id":1269245,"display_name":"Thomas Lynema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353077290,"creation_date":1353077290,"answer_id":13418893,"question_id":11194982,"body_markdown":"Andrea,\r\n\r\nMake sure that the instance of the bean with the @Cachable annotation is the spring managed one, not one you are creating yourself.  If you have the right one the log will produce something like this when the method is invoked:\r\n\r\n    2012-11-16 09:40:21,731 [http-8081-2] DEBUG com.googlecode.ehcache.annotations.interceptor.EhCacheInterceptor  - Generated key &#39;1396312488991822982&#39; for invocation: ReflectiveMethodInvocation: public edu.wmich.gowmu.sso.dataobject.User edu.wmich.gowmu.sso.bl.UserManager.getUser(java.lang.String,java.lang.String); target is of class [edu.wmich.gowmu.sso.bl.UserManager]\r\n","title":"Spring annotation cache: CacheDecoratorFactory not configured for defaultCache","body":"<p>Andrea,</p>\n\n<p>Make sure that the instance of the bean with the @Cachable annotation is the spring managed one, not one you are creating yourself.  If you have the right one the log will produce something like this when the method is invoked:</p>\n\n<pre><code>2012-11-16 09:40:21,731 [http-8081-2] DEBUG com.googlecode.ehcache.annotations.interceptor.EhCacheInterceptor  - Generated key '1396312488991822982' for invocation: ReflectiveMethodInvocation: public edu.wmich.gowmu.sso.dataobject.User edu.wmich.gowmu.sso.bl.UserManager.getUser(java.lang.String,java.lang.String); target is of class [edu.wmich.gowmu.sso.bl.UserManager]\n</code></pre>\n"}],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677542495,"creation_date":1340648353,"question_id":11194982,"body_markdown":"I&#39;m trying to use Sping Annotation cache with EhCache. So, for first, I added the dependency to my pom.xml and configured the application-context.xml as:\r\n\r\n    &lt;ehcache:annotation-driven cache-manager=&quot;cacheManager&quot; /&gt;\r\n    \r\n    &lt;ehcache:config cache-manager=&quot;cacheManager&quot;&gt;\r\n    \t&lt;ehcache:evict-expired-elements interval=&quot;60&quot; /&gt;\r\n    &lt;/ehcache:config&gt;\r\n    \r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;configLocation&quot;  value=&quot;ehcache.xml&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis is the ehcache.xml configuration file:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://ehcache.org/ehcache.xsd&quot;&gt;\r\n        &lt;defaultCache eternal=&quot;true&quot; maxElementsInMemory=&quot;100&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n        &lt;cache name=&quot;alfresco&quot; maxElementsInMemory=&quot;10&quot; eternal=&quot;true&quot; overflowToDisk=&quot;false&quot; /&gt;\r\n    &lt;/ehcache&gt;\r\n\r\nfor last, I added the Annontation @Cachable to the methods that need to be cached:\r\n\r\n    @Cacheable(value=&quot;alfresco&quot;)\r\n    public EMContents getContents(RestTemplate restTemplate, String ticket, String webScriptUrl, String em_name)\r\n\r\nI create a junit class to call two times the same method, and, it doesn&#39;t use the cache the second time (the first one doesn&#39;t create the key value).\r\n\r\nIt seems to work fine, but I get this message: \r\n\r\n    25 Jun 2012 19:40:07  INFO EhCacheManagerFactoryBean:100 - Initializing EHCache CacheManager\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationFactory:148 - Configuring ehcache from InputStream\r\n    25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xmlns:xsi\r\n    25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xsi:noNamespaceSchemaLocation\r\n    25 Jun 2012 19:40:07 DEBUG PropertyUtil:88 - propertiesString is null.\r\n    25 Jun 2012 19:40:07 DEBUG CacheManager:605 - No disk store path defined. Skipping disk store path conflict test.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:184 - No CacheManagerEventListenerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\r\n    25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco_action\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for &#39;alfresco_action&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for &#39;alfresco_action&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for &#39;alfresco&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for &#39;alfresco&#39;.\r\n    25 Jun 2012 19:40:07 DEBUG DefaultListableBeanFactory:458 - Finished creating instance of bean &#39;cacheManager&#39;\r\n\r\nAny clue? Something seems to be wrong with my configuration. \r\n\r\nThanks for your time&lt;br /&gt;Andrea","title":"Spring annotation cache: CacheDecoratorFactory not configured for defaultCache","body":"<p>I'm trying to use Sping Annotation cache with EhCache. So, for first, I added the dependency to my pom.xml and configured the application-context.xml as:</p>\n\n<pre><code>&lt;ehcache:annotation-driven cache-manager=\"cacheManager\" /&gt;\n\n&lt;ehcache:config cache-manager=\"cacheManager\"&gt;\n    &lt;ehcache:evict-expired-elements interval=\"60\" /&gt;\n&lt;/ehcache:config&gt;\n\n&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"&gt;\n    &lt;property name=\"configLocation\"  value=\"ehcache.xml\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>This is the ehcache.xml configuration file:</p>\n\n\n\n<pre><code>&lt;ehcache xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"http://ehcache.org/ehcache.xsd\"&gt;\n    &lt;defaultCache eternal=\"true\" maxElementsInMemory=\"100\" overflowToDisk=\"false\" /&gt;\n    &lt;cache name=\"alfresco\" maxElementsInMemory=\"10\" eternal=\"true\" overflowToDisk=\"false\" /&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>for last, I added the Annontation @Cachable to the methods that need to be cached:</p>\n\n<pre><code>@Cacheable(value=\"alfresco\")\npublic EMContents getContents(RestTemplate restTemplate, String ticket, String webScriptUrl, String em_name)\n</code></pre>\n\n<p>I create a junit class to call two times the same method, and, it doesn't use the cache the second time (the first one doesn't create the key value).</p>\n\n<p>It seems to work fine, but I get this message: </p>\n\n<pre><code>25 Jun 2012 19:40:07  INFO EhCacheManagerFactoryBean:100 - Initializing EHCache CacheManager\n25 Jun 2012 19:40:07 DEBUG ConfigurationFactory:148 - Configuring ehcache from InputStream\n25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xmlns:xsi\n25 Jun 2012 19:40:07 DEBUG BeanHandler:271 - Ignoring ehcache attribute xsi:noNamespaceSchemaLocation\n25 Jun 2012 19:40:07 DEBUG PropertyUtil:88 - propertiesString is null.\n25 Jun 2012 19:40:07 DEBUG CacheManager:605 - No disk store path defined. Skipping disk store path conflict test.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:184 - No CacheManagerEventListenerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:949 - No BootstrapCacheLoaderFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:923 - CacheWriter factory not configured. Skipping...\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:96 - No CacheExceptionHandlerFactory class specified. Skipping...\n25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco_action\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for 'alfresco_action'.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for 'alfresco_action'.\n25 Jun 2012 19:40:07 DEBUG Cache:1183 - Initialised cache: alfresco\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:331 - CacheDecoratorFactory not configured. Skipping for 'alfresco'.\n25 Jun 2012 19:40:07 DEBUG ConfigurationHelper:360 - CacheDecoratorFactory not configured for defaultCache. Skipping for 'alfresco'.\n25 Jun 2012 19:40:07 DEBUG DefaultListableBeanFactory:458 - Finished creating instance of bean 'cacheManager'\n</code></pre>\n\n<p>Any clue? Something seems to be wrong with my configuration. </p>\n\n<p>Thanks for your time<br />Andrea</p>\n"},{"tags":["java","spring-boot","kotlin","jackson"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":2,"creation_date":1677559192,"post_id":75586688,"comment_id":133357283,"body_markdown":"how do you trigger validation on Patient? which part of codebase you use Patient ? A request in an API endpoint ? please show more information about it","body":"how do you trigger validation on Patient? which part of codebase you use Patient ? A request in an API endpoint ? please show more information about it"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1677567172,"post_id":75586688,"comment_id":133358254,"body_markdown":"don&#39;t forget to set @valid superior on the superior class","body":"don&#39;t forget to set @valid superior on the superior class"},{"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"score":1,"creation_date":1677575556,"post_id":75586688,"comment_id":133360368,"body_markdown":"Do you use spring-boot-starter-validation with @Validated/@Valid?","body":"Do you use spring-boot-starter-validation with @Validated/@Valid?"}],"owner":{"account_id":15800335,"reputation":93,"user_id":11401032,"display_name":"Zaman Zamanli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677542203,"creation_date":1677542203,"question_id":75586688,"body_markdown":"I have the following data model:\r\n\r\n```\r\ndata class Patient(\r\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\r\n    @JsonProperty(&quot;phoneNumber&quot;) val phoneNumber: String,\r\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\r\n)\r\n```\r\n\r\nI want to validate the `phoneNumber` field. I want to add `@Size` and `@Pattern`. This is what I have as a result:\r\n\r\n```\r\ndata class Patient(\r\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\r\n    @JsonProperty(&quot;phoneNumber&quot;)\r\n    @Size(min = 10, max = 10)\r\n    @Pattern(regexp = &quot;-?[0-9]+(\\\\\\\\.[0-9]+)?&quot;)\r\n    val phoneNumber: String,\r\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\r\n)\r\n```\r\n\r\nHowever, this doesn&#39;t work as expected. What am I missing here?","title":"Validation of Jackson @JsonProperty in Kotlin data classes","body":"<p>I have the following data model:</p>\n<pre><code>data class Patient(\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\n    @JsonProperty(&quot;phoneNumber&quot;) val phoneNumber: String,\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\n)\n</code></pre>\n<p>I want to validate the <code>phoneNumber</code> field. I want to add <code>@Size</code> and <code>@Pattern</code>. This is what I have as a result:</p>\n<pre><code>data class Patient(\n    @JsonProperty(&quot;patientId&quot;) val patientId: String?,\n    @JsonProperty(&quot;phoneNumber&quot;)\n    @Size(min = 10, max = 10)\n    @Pattern(regexp = &quot;-?[0-9]+(\\\\\\\\.[0-9]+)?&quot;)\n    val phoneNumber: String,\n    @JsonProperty(&quot;createdAt&quot;) val createdAt: Instant?,\n)\n</code></pre>\n<p>However, this doesn't work as expected. What am I missing here?</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677593832,"post_id":75586604,"comment_id":133365862,"body_markdown":"All connection/auth activity is delegated to the `kafka-clients`; the version will have changed (note that even Boot 2.6.x is no longer supported as OSS - https://spring.io/projects/spring-boot#support ). However, nothing has changed in Spring that would affect authorization. I suggest you look at the server logs.","body":"All connection/auth activity is delegated to the <code>kafka-clients</code>; the version will have changed (note that even Boot 2.6.x is no longer supported as OSS - <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> ). However, nothing has changed in Spring that would affect authorization. I suggest you look at the server logs."}],"owner":{"account_id":15287059,"reputation":113,"user_id":11029787,"display_name":"Saher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677541293,"creation_date":1677541293,"question_id":75586604,"body_markdown":"I have a spring-boot application that is configured as a Kafka producer &amp; consumer. previously it was running the following POM dependencies\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n  &lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n  &lt;spring-framwork.version&gt;5.2.20.RELEASE&lt;/spring-framwork.version&gt;\r\n  &lt;spring-cloud.version&gt;HOXTON.SR6&lt;/spring-cloud.version&gt;\r\n&lt;/properties&gt;\r\n.......\r\n```\r\n\r\nwith the above, everything was working as expected, but after updating the above POM to the below\r\n```xml\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.6.14&lt;/version&gt;\r\n  &lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n  &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n  ....\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n  .......\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  .......\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nNow I&#39;m getting the producer throwing a cluster authorization error, even though nothing has changed from the kafka configuration / certs department.\r\n\r\n&gt;  org.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\r\nat org.springframework.kafka.core.KafkaTemplate.lambda$buildCallback$6(KafkaTemplate.java:696)\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer$1.onCompletion(DefaultKafkaProducerFactory.java:1095)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer$InterceptorCallback.onCompletion(KafkaProducer.java:1350)\r\n\tat org.apache.kafka.clients.producer.internals.ProducerBatch.completeFutureAndFireCallbacks(ProducerBatch.java:273)\r\n\tat org.apache.kafka.clients.producer.internals.ProducerBatch.abort(ProducerBatch.java:161)\r\n\tat org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:773)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.maybeAbortBatches(Sender.java:498)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:307)\r\n\tat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\r\n\r\nI&#39;m not sure exactly why would that happen, all the authentications &amp; certs haven&#39;t changed... I&#39;m letting spring manage the Kafka versions so there are no version conflicts.\r\n\r\nany thoughts or help are very much appreciated. ","title":"Kafka Cluster Authorization Failed error after updating spring-boot-starter-parent","body":"<p>I have a spring-boot application that is configured as a Kafka producer &amp; consumer. previously it was running the following POM dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\n  &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n  &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n  &lt;spring-framwork.version&gt;5.2.20.RELEASE&lt;/spring-framwork.version&gt;\n  &lt;spring-cloud.version&gt;HOXTON.SR6&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n.......\n</code></pre>\n<p>with the above, everything was working as expected, but after updating the above POM to the below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&gt;&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aprent&lt;/artifactId&gt;\n  &lt;version&gt;2.6.14&lt;/version&gt;\n  &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n  &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n  ....\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  .......\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  .......\n&lt;/dependencies&gt;\n</code></pre>\n<p>Now I'm getting the producer throwing a cluster authorization error, even though nothing has changed from the kafka configuration / certs department.</p>\n<blockquote>\n<p>org.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.\nat org.springframework.kafka.core.KafkaTemplate.lambda$buildCallback$6(KafkaTemplate.java:696)\nat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer$1.onCompletion(DefaultKafkaProducerFactory.java:1095)\nat org.apache.kafka.clients.producer.KafkaProducer$InterceptorCallback.onCompletion(KafkaProducer.java:1350)\nat org.apache.kafka.clients.producer.internals.ProducerBatch.completeFutureAndFireCallbacks(ProducerBatch.java:273)\nat org.apache.kafka.clients.producer.internals.ProducerBatch.abort(ProducerBatch.java:161)\nat org.apache.kafka.clients.producer.internals.RecordAccumulator.abortBatches(RecordAccumulator.java:773)\nat org.apache.kafka.clients.producer.internals.Sender.maybeAbortBatches(Sender.java:498)\nat org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:307)\nat org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.kafka.common.errors.ClusterAuthorizationException: Cluster authorization failed.</p>\n</blockquote>\n<p>I'm not sure exactly why would that happen, all the authentications &amp; certs haven't changed... I'm letting spring manage the Kafka versions so there are no version conflicts.</p>\n<p>any thoughts or help are very much appreciated.</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677546183,"post_id":75586566,"comment_id":133355567,"body_markdown":"[This](https://stackoverflow.com/a/56306032/1271785) suggests that you have to trigger the `shadowJar` task before building using `assemble.dependsOn shadowJar`. I can&#39;t attest to this because I haven&#39;t shadowed a jar.","body":"<a href=\"https://stackoverflow.com/a/56306032/1271785\">This</a> suggests that you have to trigger the <code>shadowJar</code> task before building using <code>assemble.dependsOn shadowJar</code>. I can&#39;t attest to this because I haven&#39;t shadowed a jar."},{"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"score":0,"creation_date":1677547815,"post_id":75586566,"comment_id":133355840,"body_markdown":"I have `assemble.dependsOn shadowJar` already. It didn&#39;t fix the issue","body":"I have <code>assemble.dependsOn shadowJar</code> already. It didn&#39;t fix the issue"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677600559,"post_id":75586566,"comment_id":133368213,"body_markdown":"I didn&#39;t see that in your link -- that&#39;s one one the reasons you should post all code ***in*** your question (see [Why I shouldn’t upload images of code](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557) -- yes I know yours isn&#39;t an image, but it still requires leaving the question page).","body":"I didn&#39;t see that in your link -- that&#39;s one one the reasons you should post all code <b><i>in</i></b> your question (see <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why I shouldn’t upload images of code</a> -- yes I know yours isn&#39;t an image, but it still requires leaving the question page)."},{"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"score":0,"creation_date":1677618151,"post_id":75586566,"comment_id":133372965,"body_markdown":"ok how do I trigger the shadowJar task before building ?","body":"ok how do I trigger the shadowJar task before building ?"}],"owner":{"account_id":24187526,"reputation":5,"user_id":18147142,"display_name":"xef5000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677540998,"creation_date":1677540998,"question_id":75586566,"body_markdown":"So I have a dependency and need to implement it into my .jar file (final export).\r\nHere&#39;s my build.graddle.kts: https://paste.md-5.net/mivovenaro.js\r\n\r\nHere&#39;s the error I always run into:\r\n`Caused by: java.lang.ClassNotFoundException: com.xef5000.vigilance.Vigilant`\r\n\r\nI understand the error, it means that it couldn&#39;t find the clas &#39;com.xef5000.vigilance.Vigilant&#39;, but I did declare it in my build.graddle.kts here:\r\n\r\n```\r\ntasks.shadowJar {\r\n    archiveClassifier.set(&quot;&quot;) \r\n    relocate(&quot;gg.essential.vigilance&quot;, &quot;com.xef5000.vigilance&quot;)\r\n    // vigilance dependencies\r\n    relocate(&quot;gg.essential.elementa&quot;, &quot;com.xef5000.elementa&quot;)\r\n    // elementa dependencies\r\n    relocate(&quot;gg.essential.universalcraft&quot;, &quot;com.xef5000.universalcraft&quot;)\r\n    dependencies{\r\n        include(dependency(&quot;org.spongepowered:mixin&quot;))\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I compile my dependencies in my jar? (shadowJar)","body":"<p>So I have a dependency and need to implement it into my .jar file (final export).\nHere's my build.graddle.kts: <a href=\"https://paste.md-5.net/mivovenaro.js\" rel=\"nofollow noreferrer\">https://paste.md-5.net/mivovenaro.js</a></p>\n<p>Here's the error I always run into:\n<code>Caused by: java.lang.ClassNotFoundException: com.xef5000.vigilance.Vigilant</code></p>\n<p>I understand the error, it means that it couldn't find the clas 'com.xef5000.vigilance.Vigilant', but I did declare it in my build.graddle.kts here:</p>\n<pre><code>tasks.shadowJar {\n    archiveClassifier.set(&quot;&quot;) \n    relocate(&quot;gg.essential.vigilance&quot;, &quot;com.xef5000.vigilance&quot;)\n    // vigilance dependencies\n    relocate(&quot;gg.essential.elementa&quot;, &quot;com.xef5000.elementa&quot;)\n    // elementa dependencies\n    relocate(&quot;gg.essential.universalcraft&quot;, &quot;com.xef5000.universalcraft&quot;)\n    dependencies{\n        include(dependency(&quot;org.spongepowered:mixin&quot;))\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1677538309,"post_id":75585919,"comment_id":133354286,"body_markdown":"You could use recursion or use a queue to get all the messages.","body":"You could use recursion or use a queue to get all the messages."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677538972,"creation_date":1677535099,"answer_id":75585944,"question_id":75585919,"body_markdown":"Add a method to recursively stream the children:\r\n\r\n    public Stream&lt;Message&gt; children() {\r\n        Stream&lt;Message&gt; result = Stream.of(this);\r\n        if (children != null) {\r\n            result = Stream.concat(result,\r\n                    children.stream().flatMap(Message::children));\r\n        }\r\n        return result;\r\n    }\r\n\r\nThen call `message.children().collect(toList())` on any message to convert it to a list of children.","title":"Java : get all properties of an object recursively","body":"<p>Add a method to recursively stream the children:</p>\n<pre><code>public Stream&lt;Message&gt; children() {\n    Stream&lt;Message&gt; result = Stream.of(this);\n    if (children != null) {\n        result = Stream.concat(result,\n                children.stream().flatMap(Message::children));\n    }\n    return result;\n}\n</code></pre>\n<p>Then call <code>message.children().collect(toList())</code> on any message to convert it to a list of children.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535761,"creation_date":1677535336,"answer_id":75585966,"question_id":75585919,"body_markdown":"You could write a recursive method in the `Message` class that adds the message and its children to an existing list, like this.\r\n\r\n    public void addToListRecursively(List&lt;Message&gt; toAddTo) {\r\n        toAddTo.add(this);\r\n        for (Message child : children) {\r\n            child.addToListRecursively(toAddTo);\r\n        }\r\n    }\r\n\r\nAfter this method has run, the list `toAddTo` contains the message that you called it on, plus all its descendants, in depth first order.\r\n\r\nDoing it in breadth first order is somewhat trickier.\r\n\r\nThis assumes that if a `Message` has no children, then `children` is an empty list, rather than null.  If it&#39;s possible for `children` to be null, you can put a null check around the for loop.","title":"Java : get all properties of an object recursively","body":"<p>You could write a recursive method in the <code>Message</code> class that adds the message and its children to an existing list, like this.</p>\n<pre><code>public void addToListRecursively(List&lt;Message&gt; toAddTo) {\n    toAddTo.add(this);\n    for (Message child : children) {\n        child.addToListRecursively(toAddTo);\n    }\n}\n</code></pre>\n<p>After this method has run, the list <code>toAddTo</code> contains the message that you called it on, plus all its descendants, in depth first order.</p>\n<p>Doing it in breadth first order is somewhat trickier.</p>\n<p>This assumes that if a <code>Message</code> has no children, then <code>children</code> is an empty list, rather than null.  If it's possible for <code>children</code> to be null, you can put a null check around the for loop.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677538972,"creation_date":1677534822,"question_id":75585919,"body_markdown":"This is pure Java core. I have a `class Message` like this :\r\n\r\n    class Message {\r\n    \r\n       private int id;\r\n       private String status;\r\n       private List&lt;Message&gt; children;\r\n    \r\n       //getters, setters, methods\r\n    \r\n    }\r\n\r\nEach `Message` object has a list of children of same type `Message`. And each child has a list of children etc...\r\n\r\nIs there a way to get all chidren (and children of children) and put them into a `List` ?","title":"Java : get all properties of an object recursively","body":"<p>This is pure Java core. I have a <code>class Message</code> like this :</p>\n<pre><code>class Message {\n\n   private int id;\n   private String status;\n   private List&lt;Message&gt; children;\n\n   //getters, setters, methods\n\n}\n</code></pre>\n<p>Each <code>Message</code> object has a list of children of same type <code>Message</code>. And each child has a list of children etc...</p>\n<p>Is there a way to get all chidren (and children of children) and put them into a <code>List</code> ?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677538060,"creation_date":1677538060,"answer_id":75586292,"question_id":75586197,"body_markdown":"The problem is likely related to the fact that the classes are not under the same base package (`com.example.payroll` vs `payroll`). This is the convention followed by Spring Boot by default.\r\n\r\nIf the main class is under `com.example.payroll`, all classes should be under that package or any sub-package of it (e.g. `com.example.payroll.repository`).\r\n\r\nIf for some reason the packages need to be different, you should instruct Spring Boot about where to find classes using the `@ComponentScan` annotation.\r\n","title":"&quot;Not a managed type&quot; error consistently appears when following Spring Boot example project","body":"<p>The problem is likely related to the fact that the classes are not under the same base package (<code>com.example.payroll</code> vs <code>payroll</code>). This is the convention followed by Spring Boot by default.</p>\n<p>If the main class is under <code>com.example.payroll</code>, all classes should be under that package or any sub-package of it (e.g. <code>com.example.payroll.repository</code>).</p>\n<p>If for some reason the packages need to be different, you should instruct Spring Boot about where to find classes using the <code>@ComponentScan</code> annotation.</p>\n"}],"owner":{"account_id":295139,"reputation":594,"user_id":599393,"accept_rate":52,"display_name":"rainydaymatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677538060,"creation_date":1677537151,"question_id":75586197,"body_markdown":"Refreshing myself on JPA and Spring Boot by following the official docs to create an example project, I&#39;m struggling with a persistent error.\r\n\r\n**Employee.java**\r\n```\r\npackage payroll;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n  private @Id @GeneratedValue Long id;\r\n  private String name;\r\n  private String role;\r\n\r\n  Employee() {}\r\n\r\n  Employee(String name, String role) {\r\n\r\n    this.name = name;\r\n    this.role = role;\r\n  }\r\n```\r\n\r\nThat&#39;s the simple entity; it&#39;s got a simple constructor, but I trimmed the getters and setters just for display.\r\n\r\n**EmployeeRepository.java**\r\n```\r\npackage com.example.payroll;\r\n\r\nimport com.example.payroll.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nJust contains the interface extending JpaRepository.\r\n\r\n**PayrollApplication.java**\r\n```\r\npackage payroll;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class PayrollApplication {\r\n\r\n  public static void main(String... args) {\r\n    SpringApplication.run(PayrollApplication.class, args);\r\n  }\r\n}\r\n```\r\n\r\nAnother simple class, this one generated by Initializr.\r\n\r\n**LoadDatabase.java**\r\n```\r\npackage com.example.payroll;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\nclass LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nSo, this class puts all the pieces together; I&#39;m not configuring a database yet, just preloading with test data. Problem is, I get this consistent error:\r\n\r\n``` defined in class path resource [com/example/payroll/LoadDatabase.class]: Unsatisfied dependency expressed through method &#39;initDatabase&#39; parameter 0: Error creating bean with name &#39;employeeRepository&#39; defined in com.example.payroll.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.payroll.Employee```\r\n\r\nI have tried hardcoding the package to EntityScan, to no avail; I could only place ComponentScan in the application file for this small, simple project, but it&#39;s already part of the SpringBootApplication tag.\r\n\r\nDoes anyone have any other suggestions?","title":"&quot;Not a managed type&quot; error consistently appears when following Spring Boot example project","body":"<p>Refreshing myself on JPA and Spring Boot by following the official docs to create an example project, I'm struggling with a persistent error.</p>\n<p><strong>Employee.java</strong></p>\n<pre><code>package payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n  private @Id @GeneratedValue Long id;\n  private String name;\n  private String role;\n\n  Employee() {}\n\n  Employee(String name, String role) {\n\n    this.name = name;\n    this.role = role;\n  }\n</code></pre>\n<p>That's the simple entity; it's got a simple constructor, but I trimmed the getters and setters just for display.</p>\n<p><strong>EmployeeRepository.java</strong></p>\n<pre><code>package com.example.payroll;\n\nimport com.example.payroll.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>Just contains the interface extending JpaRepository.</p>\n<p><strong>PayrollApplication.java</strong></p>\n<pre><code>package payroll;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PayrollApplication {\n\n  public static void main(String... args) {\n    SpringApplication.run(PayrollApplication.class, args);\n  }\n}\n</code></pre>\n<p>Another simple class, this one generated by Initializr.</p>\n<p><strong>LoadDatabase.java</strong></p>\n<pre><code>package com.example.payroll;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\nclass LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>So, this class puts all the pieces together; I'm not configuring a database yet, just preloading with test data. Problem is, I get this consistent error:</p>\n<p><code> defined in class path resource [com/example/payroll/LoadDatabase.class]: Unsatisfied dependency expressed through method 'initDatabase' parameter 0: Error creating bean with name 'employeeRepository' defined in com.example.payroll.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.payroll.Employee</code></p>\n<p>I have tried hardcoding the package to EntityScan, to no avail; I could only place ComponentScan in the application file for this small, simple project, but it's already part of the SpringBootApplication tag.</p>\n<p>Does anyone have any other suggestions?</p>\n"},{"tags":["java","html","selenium","tags","dropdown"],"answers":[{"tags":[],"owner":{"account_id":16757899,"reputation":507,"user_id":12113432,"display_name":"Edwin Cruz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677537638,"creation_date":1594399124,"answer_id":62838734,"question_id":62838668,"body_markdown":"You should enumerate through all of the options then click on the one you want. See [What is the correct way to select an `&lt;option&gt;` using Selenium&#39;s Python WebDriver][1].\r\n\r\n&gt; The easiest way that I have found was to do something along the lines of:\r\n&gt;\r\n&gt;     el = driver.find_element_by_id(&#39;id_of_select&#39;)\r\n&gt;     for option in el.find_elements_by_tag_name(&#39;option&#39;):\r\n&gt;         if option.text == &#39;The Options I Am Looking For&#39;:\r\n&gt;             option.click() # select() in earlier versions of webdriver\r\n&gt;             break\r\n\r\n  [1]: https://sqa.stackexchange.com/questions/1355/what-is-the-correct-way-to-select-an-option-using-seleniums-python-webdriver","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>You should enumerate through all of the options then click on the one you want. See <a href=\"https://sqa.stackexchange.com/questions/1355/what-is-the-correct-way-to-select-an-option-using-seleniums-python-webdriver\">What is the correct way to select an <code>&lt;option&gt;</code> using Selenium's Python WebDriver</a>.</p>\n<blockquote>\n<p>The easiest way that I have found was to do something along the lines of:</p>\n<pre><code>el = driver.find_element_by_id('id_of_select')\nfor option in el.find_elements_by_tag_name('option'):\n    if option.text == 'The Options I Am Looking For':\n        option.click() # select() in earlier versions of webdriver\n        break\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16947704,"reputation":21,"user_id":12258040,"display_name":"Safaee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594661032,"creation_date":1594661032,"answer_id":62881039,"question_id":62838668,"body_markdown":"Below code worked for me \r\n\r\nWebElement selectMyElement = driver.findElement(this.getObject(By.Id(&quot;Id of Your DropDown&quot;))); \r\nselectMyElement.click();\r\n\r\nActions keyDown = new Actions(driver);\r\nkeyDown.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).perform();","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>Below code worked for me</p>\n<p>WebElement selectMyElement = driver.findElement(this.getObject(By.Id(&quot;Id of Your DropDown&quot;)));\nselectMyElement.click();</p>\n<p>Actions keyDown = new Actions(driver);\nkeyDown.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).perform();</p>\n"}],"owner":{"account_id":16947704,"reputation":21,"user_id":12258040,"display_name":"Safaee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62881039,"answer_count":2,"score":0,"last_activity_date":1677537638,"creation_date":1594398884,"question_id":62838668,"body_markdown":"I have tried all the possible things. also, tried searching over tried different combinations and variations. I can get the element clicked which opens the dropdown. but i am not able to select an option in it. I tried with actions, sendkeys, keys.down/enter and multiple things as well. however, it didn&#39;t help. That&#39;s the only thing I am stuck on. \r\n\r\n//selecting office\r\n\r\n1.driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();\r\n\r\nActions actions = new Actions(driver); actions.moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&quot;DG5QEPn&quot;]/div/div/div1/div1&quot;))).click();\r\n\r\ndriver.findElement(By.id(&quot;DG5QEPn&quot;)).click();\r\n\r\ndriver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(&quot;RTP HQ&quot;); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Down); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Enter);\r\n\r\nHtml-\r\nIn the below image. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SwHcv.png","title":"How to select a option from drop down with div tag/class?.selenium","body":"<p>I have tried all the possible things. also, tried searching over tried different combinations and variations. I can get the element clicked which opens the dropdown. but i am not able to select an option in it. I tried with actions, sendkeys, keys.down/enter and multiple things as well. however, it didn't help. That's the only thing I am stuck on.</p>\n<p>//selecting office</p>\n<p>1.driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();</p>\n<p>Actions actions = new Actions(driver); actions.moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&quot;DG5QEPn&quot;]/div/div/div1/div1&quot;))).click();</p>\n<p>driver.findElement(By.id(&quot;DG5QEPn&quot;)).click();</p>\n<p>driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(&quot;RTP HQ&quot;); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Down); driver.findElement(By.id(&quot;DG5QEPn&quot;)).sendKeys(Keys.Enter);</p>\n<p>Html-\nIn the below image.</p>\n<p><a href=\"https://i.stack.imgur.com/SwHcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwHcv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677521799,"creation_date":1677515832,"answer_id":75583175,"question_id":75582873,"body_markdown":"`a::myTest` means use `myTest()` as the required function in an implementation of the functional interface `MyIF`. The function it must take the place of is the `init()` method, **not** the `myTest` method. Functional interfaces have one missing implementation, and in this case, it is the `init()` method. So this new implementation of `MyIF` has the the `init` as specified by `a::myTest`, and the `myTest` as specified by `default void myTest()` in `MyIF`. It is not an instance of `A`: it is like having:\r\n\r\n    A a = new A();\r\n    MyIF my = new MyIF() {\r\n        public void init() {\r\n            a.myTest();\r\n        }\r\n    };\r\n\r\n---\r\n\r\nIn the second case, your `my` *is* actually an instance of `A`, and method implementations in a class overrule default implementations in an interface, so you get the `myTest` method from `A`.","title":"Wrong method invoked when using method reference to implement functional interface","body":"<p><code>a::myTest</code> means use <code>myTest()</code> as the required function in an implementation of the functional interface <code>MyIF</code>. The function it must take the place of is the <code>init()</code> method, <strong>not</strong> the <code>myTest</code> method. Functional interfaces have one missing implementation, and in this case, it is the <code>init()</code> method. So this new implementation of <code>MyIF</code> has the the <code>init</code> as specified by <code>a::myTest</code>, and the <code>myTest</code> as specified by <code>default void myTest()</code> in <code>MyIF</code>. It is not an instance of <code>A</code>: it is like having:</p>\n<pre><code>A a = new A();\nMyIF my = new MyIF() {\n    public void init() {\n        a.myTest();\n    }\n};\n</code></pre>\n<hr />\n<p>In the second case, your <code>my</code> <em>is</em> actually an instance of <code>A</code>, and method implementations in a class overrule default implementations in an interface, so you get the <code>myTest</code> method from <code>A</code>.</p>\n"},{"tags":[],"owner":{"account_id":27892660,"reputation":11,"user_id":21298695,"display_name":"Mike Clarke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677520423,"creation_date":1677520423,"answer_id":75583941,"question_id":75582873,"body_markdown":"This is a good question :).\r\n\r\nAs @khelwood has pointed out, this line:\r\n```\r\nMyIF my = a::myTest;\r\n```\r\ncreates a lambda binding to the ```init()``` method of the MyIF interface. \r\n\r\nWhen the compiler encounters this, it creates a new MyIF reference that is only linked to the instance of A for its implementation of ```init()```. Since the compiler can only choose a single method to provide the ```@FunctionalInterface``` behavior, it has to choose the non-default method. Otherwise the compiler can&#39;t know which method the interface is defining as its functional/lambda signature. If you tried to have 2 standard interface methods with no default implementations, you&#39;d get a compiler error for this reason (even if the signatures were different). \r\n\r\nIt might be clearer if you add a line to your code:\r\n```\r\n        A a = new A();\r\n        MyIF my = a::myTest;\r\n        my.init();\r\n        my.myTest();\r\n```\r\n\r\nNow you can see in the output that the ```init()``` method called by the lambda still calls the ```myTest()``` implementation in A. \r\n\r\nIn general it&#39;s probably wise to try to avoid default implementations in functional interfaces to make this less confusing :).\r\n\r\nEffective Java (3rd Edition) items 21 and 43 are relevant here. ","title":"Wrong method invoked when using method reference to implement functional interface","body":"<p>This is a good question :).</p>\n<p>As @khelwood has pointed out, this line:</p>\n<pre><code>MyIF my = a::myTest;\n</code></pre>\n<p>creates a lambda binding to the <code>init()</code> method of the MyIF interface.</p>\n<p>When the compiler encounters this, it creates a new MyIF reference that is only linked to the instance of A for its implementation of <code>init()</code>. Since the compiler can only choose a single method to provide the <code>@FunctionalInterface</code> behavior, it has to choose the non-default method. Otherwise the compiler can't know which method the interface is defining as its functional/lambda signature. If you tried to have 2 standard interface methods with no default implementations, you'd get a compiler error for this reason (even if the signatures were different).</p>\n<p>It might be clearer if you add a line to your code:</p>\n<pre><code>        A a = new A();\n        MyIF my = a::myTest;\n        my.init();\n        my.myTest();\n</code></pre>\n<p>Now you can see in the output that the <code>init()</code> method called by the lambda still calls the <code>myTest()</code> implementation in A.</p>\n<p>In general it's probably wise to try to avoid default implementations in functional interfaces to make this less confusing :).</p>\n<p>Effective Java (3rd Edition) items 21 and 43 are relevant here.</p>\n"}],"owner":{"account_id":21635176,"reputation":11,"user_id":15958174,"display_name":"Kanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677537469,"creation_date":1677514183,"question_id":75582873,"body_markdown":"```java\r\n@FunctionalInterface\r\ninterface MyIF {\r\n\r\n    void init();\r\n    default void myTest() {\r\n        System.out.println(&quot;myTest interface Method&quot;);\r\n    }\r\n}\r\n\r\nclass A implements MyIF {\r\n\r\n    @Override\r\n    public void init() {\r\n        myTest();\r\n    }\r\n\r\n    @Override\r\n    public void myTest() {\r\n        System.out.println(&quot;myTest class Method&quot;);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A a = new A();\r\n        MyIF my = a::myTest;\r\n        my.myTest(); \r\n  }\r\n}\r\n```\r\n\r\n**Output**\r\n&gt;myTest interface Method\r\n\r\n\r\n**Expected**\r\n&gt;myTest class Method\r\n\r\n\r\nI tried this code and expected the same result:\r\n\r\n```java\r\nA a = new A();\r\nMyIF my = new A();\r\nmy.myTest();\r\n```\r\n**Output**\r\n&gt;myTest class Method\r\n\r\nWhy are the results different?","title":"Wrong method invoked when using method reference to implement functional interface","body":"<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\ninterface MyIF {\n\n    void init();\n    default void myTest() {\n        System.out.println(&quot;myTest interface Method&quot;);\n    }\n}\n\nclass A implements MyIF {\n\n    @Override\n    public void init() {\n        myTest();\n    }\n\n    @Override\n    public void myTest() {\n        System.out.println(&quot;myTest class Method&quot;);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a = new A();\n        MyIF my = a::myTest;\n        my.myTest(); \n  }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>myTest interface Method</p>\n</blockquote>\n<p><strong>Expected</strong></p>\n<blockquote>\n<p>myTest class Method</p>\n</blockquote>\n<p>I tried this code and expected the same result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new A();\nMyIF my = new A();\nmy.myTest();\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>myTest class Method</p>\n</blockquote>\n<p>Why are the results different?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1677535062,"post_id":75585844,"comment_id":133353657,"body_markdown":"is that dependency specified in your gradle files? If so, just edit your grade files to remove the dependency. Does that answer your question?","body":"is that dependency specified in your gradle files? If so, just edit your grade files to remove the dependency. Does that answer your question?"},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677535668,"post_id":75585844,"comment_id":133353785,"body_markdown":"Thanks.  So this may be a stupid question - but I&#39;m not totally sure what these gradle files are.  I have a build.gradle file in my root directory but it doesn&#39;t contain any references to the jar file I&#39;m trying to remove.\n\nI even did a global search for that jar file and several others listed in Project and External Dependencies and could not find them listed anywhere.  Thanks.","body":"Thanks.  So this may be a stupid question - but I&#39;m not totally sure what these gradle files are.  I have a build.gradle file in my root directory but it doesn&#39;t contain any references to the jar file I&#39;m trying to remove.  I even did a global search for that jar file and several others listed in Project and External Dependencies and could not find them listed anywhere.  Thanks."},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677535907,"post_id":75585844,"comment_id":133353815,"body_markdown":"Hold on - I think maybe I&#39;ve found something...","body":"Hold on - I think maybe I&#39;ve found something..."},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":0,"creation_date":1677537100,"post_id":75585844,"comment_id":133354059,"body_markdown":"Okay I think this might work...  I removed the old jar files from a file called build.gradle in my top-most directory and replaced with the new jar files.  I think it&#39;s going to work now - thanks!","body":"Okay I think this might work...  I removed the old jar files from a file called build.gradle in my top-most directory and replaced with the new jar files.  I think it&#39;s going to work now - thanks!"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677537370,"creation_date":1677537370,"answer_id":75586217,"question_id":75585844,"body_markdown":"You can do it just by editing your gradle configuration file (Ex. `build.gradle`) to remove / add dependencies as you wish. The dependencies are declared there. Docs: https://docs.gradle.org/current/userguide/declaring_dependencies.html.","title":"In VS Code, how do you add/remove a jar file to Project and External Dependencies?","body":"<p>You can do it just by editing your gradle configuration file (Ex. <code>build.gradle</code>) to remove / add dependencies as you wish. The dependencies are declared there. Docs: <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies.html</a>.</p>\n"}],"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75586217,"answer_count":1,"score":0,"last_activity_date":1677537398,"creation_date":1677534173,"question_id":75585844,"body_markdown":"I need to remove a jar file from my project and add another one.\r\n\r\nIf I open my projects in the JAVA PROJECTS view, I can see a &#39;Project and External Dependencies&#39; folder and it has the jar file I wish to remove...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I can&#39;t find a plus or minus icon or anything like that to indicate I can remove one jar file or add another.  \r\n\r\nAnd I&#39;ve tried sticking the new jar file in my project&#39;s lib directory; it won&#39;t recognize the new jar file.\r\n\r\nAny suggestions?\r\n\r\n  [1]: https://i.stack.imgur.com/Y5KmY.png","title":"In VS Code, how do you add/remove a jar file to Project and External Dependencies?","body":"<p>I need to remove a jar file from my project and add another one.</p>\n<p>If I open my projects in the JAVA PROJECTS view, I can see a 'Project and External Dependencies' folder and it has the jar file I wish to remove...</p>\n<p><a href=\"https://i.stack.imgur.com/Y5KmY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5KmY.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I can't find a plus or minus icon or anything like that to indicate I can remove one jar file or add another.</p>\n<p>And I've tried sticking the new jar file in my project's lib directory; it won't recognize the new jar file.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","java-time"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1677424410,"post_id":75572915,"comment_id":133330995,"body_markdown":"Where do you see the localdate**time** in 2023-02-26? That&#39;s a date.","body":"Where do you see the localdate<b>time</b> in 2023-02-26? That&#39;s a date."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677424597,"post_id":75572915,"comment_id":133331028,"body_markdown":"In my case the user will provide 2023-02-26 as a string input. I have to convert it to something like this 2023-02-26 22:03:05.034981 as my database column has the timestamp without timezone.","body":"In my case the user will provide 2023-02-26 as a string input. I have to convert it to something like this 2023-02-26 22:03:05.034981 as my database column has the timestamp without timezone."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677424624,"post_id":75572915,"comment_id":133331034,"body_markdown":"So where are you getting the time from? You&#39;re just going to hardcode 3 minutes past 10? Or a random number generator?","body":"So where are you getting the time from? You&#39;re just going to hardcode 3 minutes past 10? Or a random number generator?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1677424663,"post_id":75572915,"comment_id":133331040,"body_markdown":"Well your *pattern* expects a time as well: `DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)`. Do you understand what that code does? What the meaning of the string is there? I would encourage you to parse the value as a `LocalDate` if that&#39;s what the user is actually entering - add the time part separately *after* parsing.","body":"Well your <i>pattern</i> expects a time as well: <code>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)</code>. Do you understand what that code does? What the meaning of the string is there? I would encourage you to parse the value as a <code>LocalDate</code> if that&#39;s what the user is actually entering - add the time part separately <i>after</i> parsing."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677424834,"post_id":75572915,"comment_id":133331066,"body_markdown":"Oh oki. I thought may be it will add some default values like 00.00.00 to HH.mm.ss","body":"Oh oki. I thought may be it will add some default values like 00.00.00 to HH.mm.ss"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1677425816,"post_id":75572915,"comment_id":133331222,"body_markdown":"You can instruct it to. It does not by itself.","body":"You can instruct it to. It does not by itself."},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677425846,"post_id":75572915,"comment_id":133331229,"body_markdown":"@Michael could you have a look at the additional Info section and give me some insight if possible","body":"@Michael could you have a look at the additional Info section and give me some insight if possible"},{"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"score":0,"creation_date":1677425913,"post_id":75572915,"comment_id":133331238,"body_markdown":"@JonSkeet l could you have a look at the additional Info section and give me some insight if possible","body":"@JonSkeet l could you have a look at the additional Info section and give me some insight if possible"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677426225,"post_id":75572915,"comment_id":133331299,"body_markdown":"Like `LocalDate.parse(&quot;2023-02-26&quot;).atTime(LocalTime.of(22, 3, 5, 34_981_000))`? Yields a `LocalDateTIme` of `2023-02-26T22:03:05.034981`. Or `LocalDate.parse(&quot;2023-02-26&quot;).atStartOfDay()` -&gt; `2023-02-26T00:00`.","body":"Like <code>LocalDate.parse(&quot;2023-02-26&quot;).atTime(LocalTime.of(22, 3, 5, 34_981_000))</code>? Yields a <code>LocalDateTIme</code> of <code>2023-02-26T22:03:05.034981</code>. Or <code>LocalDate.parse(&quot;2023-02-26&quot;).atStartOfDay()</code> -&gt; <code>2023-02-26T00:00</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1677426295,"post_id":75572915,"comment_id":133331305,"body_markdown":"Use one of the `atTime` methods to get a `LocalDateTime`.","body":"Use one of the <code>atTime</code> methods to get a <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677536245,"creation_date":1677535811,"answer_id":75586028,"question_id":75572915,"body_markdown":"# tl;dr\r\n\r\n```java\r\nLocalDateTime.of( \r\n    LocalDate.parse( &quot;2023-02-26&quot; ) , \r\n    LocalTime.parse( &quot;22:03:05.034981&quot; ) \r\n)\r\n```\r\n\r\n\r\n# Details\r\n\r\n&gt; LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981\r\n\r\n\r\nYou are confusing date-time objects with formatted text. A date-time object is *not* text, and **has no format**. \r\n\r\nA date-time class can be used to *parse* a piece of text, extract meaning, and instantiate a date-time object. But the original text is discarded. Date-time objects and `String` objects are entirely separate and distinct.\r\n\r\n&gt;I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26)\r\n\r\nSo parse that input text as a `LocalDate`, a date-only value without a time-of-day and without the context of a time zone or offset-from-UTC.\r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2023-02-26&quot; ) ;\r\n\r\nApparently you want to attach to that date a particular time-of-day (for reasons you do not describe clearly). First parse your text input for that time-of-day.\r\n\r\n    LocalTime lt = LocalTime.parse( &quot;22:03:05.034981&quot; ) ;\r\n\r\n&#128073; Combine the two into a `LocalDateTime`.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;\r\n\r\n&gt;Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?\r\n\r\nDo you mean search the database for that exact date and time?\r\n\r\nFirst, be sure the database table column is of a data type akin to the SQL data type `TIMESTAMP WITHOUT TIME ZONE`. Verify the *WITHOUT* part, rather than *WITH*. \r\n\r\nThen write your SQL query with the `?` syntax for passing a value via a prepared statement.\r\n\r\n```java\r\nString sql =\r\n    &quot;&quot;&quot;\r\n    SELECT * \r\n    FROM some_table_\r\n    WHERE date_time_ = ?\r\n    ;\r\n    &quot;&quot;&quot;\r\n;\r\n```\r\n\r\nQuery.\r\n\r\n    myPreparedStatement.setObject( 1 , ldt ) ;\r\n\r\nRetrieve found rows.\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way… Be aware that a `LocalDateTime` object is ambiguous and indefinite. Without the context of a zone or offset, a `LocalDateTime` object cannot represent a moment, is not a point on the timeline.\r\n\r\n","title":"Cannot convert date type yyyy-MM-dd to LocalDateTime in Java","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime.of( \n    LocalDate.parse( &quot;2023-02-26&quot; ) , \n    LocalTime.parse( &quot;22:03:05.034981&quot; ) \n)\n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981</p>\n</blockquote>\n<p>You are confusing date-time objects with formatted text. A date-time object is <em>not</em> text, and <strong>has no format</strong>.</p>\n<p>A date-time class can be used to <em>parse</em> a piece of text, extract meaning, and instantiate a date-time object. But the original text is discarded. Date-time objects and <code>String</code> objects are entirely separate and distinct.</p>\n<blockquote>\n<p>I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26)</p>\n</blockquote>\n<p>So parse that input text as a <code>LocalDate</code>, a date-only value without a time-of-day and without the context of a time zone or offset-from-UTC.</p>\n<pre><code>LocalDate ld = LocalDate.parse( &quot;2023-02-26&quot; ) ;\n</code></pre>\n<p>Apparently you want to attach to that date a particular time-of-day (for reasons you do not describe clearly). First parse your text input for that time-of-day.</p>\n<pre><code>LocalTime lt = LocalTime.parse( &quot;22:03:05.034981&quot; ) ;\n</code></pre>\n<p>👉 Combine the two into a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;\n</code></pre>\n<blockquote>\n<p>Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?</p>\n</blockquote>\n<p>Do you mean search the database for that exact date and time?</p>\n<p>First, be sure the database table column is of a data type akin to the SQL data type <code>TIMESTAMP WITHOUT TIME ZONE</code>. Verify the <em>WITHOUT</em> part, rather than <em>WITH</em>.</p>\n<p>Then write your SQL query with the <code>?</code> syntax for passing a value via a prepared statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql =\n    &quot;&quot;&quot;\n    SELECT * \n    FROM some_table_\n    WHERE date_time_ = ?\n    ;\n    &quot;&quot;&quot;\n;\n</code></pre>\n<p>Query.</p>\n<pre><code>myPreparedStatement.setObject( 1 , ldt ) ;\n</code></pre>\n<p>Retrieve found rows.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<hr />\n<p>By the way… Be aware that a <code>LocalDateTime</code> object is ambiguous and indefinite. Without the context of a zone or offset, a <code>LocalDateTime</code> object cannot represent a moment, is not a point on the timeline.</p>\n"}],"owner":{"account_id":10368509,"reputation":601,"user_id":7646868,"display_name":"Shanka Somasiri"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1677536245,"creation_date":1677424331,"question_id":75572915,"body_markdown":"I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26). I am trying to convert it to LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981\r\n\r\nI have tried examples available online like below.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    LocalDateTime createdDate =  LocalDateTime.parse(projectSearchCriteria.getCreatedDate(), formatter);\r\n\r\nBut getting below error\r\n\r\n    Caused by: java.time.format.DateTimeParseException: Text &#39;2023-02-26&#39; could not be parsed at index 10\r\n\r\nAny ideas on how to get this issue fixed.\r\n\r\n**====================== Additional Info ===================**\r\n\r\nI have converted so that the string input is now parsed to a LocalDate\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut still it gives the below error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is because I have the LocalDateTime format in the database\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kp6UO.png\r\n  [2]: https://i.stack.imgur.com/0jbFT.png\r\n  [3]: https://i.stack.imgur.com/Orhas.png\r\n\r\nIs there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?","title":"Cannot convert date type yyyy-MM-dd to LocalDateTime in Java","body":"<p>I am getting a date input from the user which is of type yyyy-MM-dd (e.g: 2023-02-26). I am trying to convert it to LocalDateTime format so that I will get something like this format, 2023-02-26 22:03:05.034981</p>\n<p>I have tried examples available online like below.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nLocalDateTime createdDate =  LocalDateTime.parse(projectSearchCriteria.getCreatedDate(), formatter);\n</code></pre>\n<p>But getting below error</p>\n<pre><code>Caused by: java.time.format.DateTimeParseException: Text '2023-02-26' could not be parsed at index 10\n</code></pre>\n<p>Any ideas on how to get this issue fixed.</p>\n<p><strong>====================== Additional Info ===================</strong></p>\n<p>I have converted so that the string input is now parsed to a LocalDate</p>\n<p><a href=\"https://i.stack.imgur.com/kp6UO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kp6UO.png\" alt=\"enter image description here\" /></a></p>\n<p>But still it gives the below error</p>\n<p><a href=\"https://i.stack.imgur.com/0jbFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0jbFT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is because I have the LocalDateTime format in the database</p>\n<p><a href=\"https://i.stack.imgur.com/Orhas.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Orhas.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any specific way how I can use the 2023-02-26 to find something like 2023-02-26 22:03:05.034981 in the database?</p>\n"},{"tags":["java","spring-mvc","rate-limiting"],"owner":{"account_id":19035653,"reputation":1,"user_id":13896804,"display_name":"Aakash Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677535462,"creation_date":1677521219,"question_id":75584044,"body_markdown":"I am planning to use bucket4j in spring mvc web application for limiting the requests to multiple APIs. Does Bucket4j provide some flexibility with limiting for different endpoints / https methods (GET/POST/PUT) ?\r\nAlso, is there any third party library, that does so ?\r\n\r\nWhatever I try to search I am getting Bucket4j as the answer. Also, I have started implementing own logic for rate-limiting, but would take up most of my time","title":"Does Bucket4j provide customization for applying different rate-limits to different APIs?","body":"<p>I am planning to use bucket4j in spring mvc web application for limiting the requests to multiple APIs. Does Bucket4j provide some flexibility with limiting for different endpoints / https methods (GET/POST/PUT) ?\nAlso, is there any third party library, that does so ?</p>\n<p>Whatever I try to search I am getting Bucket4j as the answer. Also, I have started implementing own logic for rate-limiting, but would take up most of my time</p>\n"},{"tags":["java","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651060002,"creation_date":1651060002,"answer_id":72028152,"question_id":72027871,"body_markdown":"Rather than using [`ARRAY_AGG`][2], how about using the much more powerful [`MULTISET_AGG`][3] or [`MULTISET`][4] to get the most out of jOOQ&#39;s type safe capabilities? Combine that with [ad-hoc conversion][5] for type safe mapping to your Java records, [as shown also in this article][6]. Your query would then look like this:\r\n\r\n### Using `MULTISET_AGG`\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER.NAME,\r\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER)\r\n   .join(CUSTOMER_CONTACT).on(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\r\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\nNote that the entire query type checks. If you change anything about the query or about your records, it won&#39;t compile anymore, giving you additional type safety. This is assuming that youre `Type` enum is either:\r\n\r\n- Generated from a PostgreSQL `ENUM` type\r\n- Converted automatically using an [enum converter, attached to generated code][7]\r\n\r\nDepending on your tastes, using [implicit joins][8] could slightly simplify the query for you?\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER_CONTACT.customer().NAME,\r\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER_CONTACT)\r\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\nIt&#39;s not a big deal in this query, but in a more complex query, it can reduce complexity.\r\n\r\n\r\n### Using `MULTISET`\r\n\r\nAn alterantive is to nest your query instead of aggregating, like this:\r\n\r\n```java\r\nList&lt;Customer&gt; customers =\r\nctx.select(\r\n        CUSTOMER.NAME,\r\n        multiset(\r\n            select(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\r\n            .from(CUSTOMER_CONTACT)\r\n            .where(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\r\n   .from(CUSTOMER)\r\n   .fetch(Records.mapping(Customer::new));\r\n```\r\n\r\n### Code generation\r\n\r\nFor this answer, I was assuming you&#39;re using the code generator ([you should!][1]), as it would greatly contribute to this code being type safe, and make this answer more readable.\r\n\r\nMuch of the above can be done without code generation (except implicit joins), but I&#39;m sure this answer could nicely demonstrate the benefits it terms of type safety.\r\n\r\n  [1]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/array-agg-function/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [6]: https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\r\n  [7]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\r\n  [8]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>Rather than using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/array-agg-function/\" rel=\"nofollow noreferrer\"><code>ARRAY_AGG</code></a>, how about using the much more powerful <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG</code></a> or <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code></a> to get the most out of jOOQ's type safe capabilities? Combine that with <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a> for type safe mapping to your Java records, <a href=\"https://blog.jooq.org/jooq-3-15s-new-multiset-operator-will-change-how-you-think-about-sql/\" rel=\"nofollow noreferrer\">as shown also in this article</a>. Your query would then look like this:</p>\n<h3>Using <code>MULTISET_AGG</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER.NAME,\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER)\n   .join(CUSTOMER_CONTACT).on(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<p>Note that the entire query type checks. If you change anything about the query or about your records, it won't compile anymore, giving you additional type safety. This is assuming that youre <code>Type</code> enum is either:</p>\n<ul>\n<li>Generated from a PostgreSQL <code>ENUM</code> type</li>\n<li>Converted automatically using an <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-enum-converter/\" rel=\"nofollow noreferrer\">enum converter, attached to generated code</a></li>\n</ul>\n<p>Depending on your tastes, using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\" rel=\"nofollow noreferrer\">implicit joins</a> could slightly simplify the query for you?</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER_CONTACT.customer().NAME,\n        multisetAgg(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER_CONTACT)\n   .groupBy(CUSTOMER_CONTACT.CUSTOMER_ID)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<p>It's not a big deal in this query, but in a more complex query, it can reduce complexity.</p>\n<h3>Using <code>MULTISET</code></h3>\n<p>An alterantive is to nest your query instead of aggregating, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customers =\nctx.select(\n        CUSTOMER.NAME,\n        multiset(\n            select(CUSTOMER_CONTACT.CONTACT_AT, CUSTOMER_CONTACT.TYPE)\n            .from(CUSTOMER_CONTACT)\n            .where(CUSTOMER_CONTACT.CUSTOMER_ID.eq(CUSTOMER.ID))\n        ).convertFrom(r -&gt; r.map(Records.mapping(CustomerContact::new))))\n   .from(CUSTOMER)\n   .fetch(Records.mapping(Customer::new));\n</code></pre>\n<h3>Code generation</h3>\n<p>For this answer, I was assuming you're using the code generator (<a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">you should!</a>), as it would greatly contribute to this code being type safe, and make this answer more readable.</p>\n<p>Much of the above can be done without code generation (except implicit joins), but I'm sure this answer could nicely demonstrate the benefits it terms of type safety.</p>\n"},{"tags":[],"owner":{"account_id":10618715,"reputation":144,"user_id":7820446,"display_name":"wipallen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535428,"creation_date":1677535054,"answer_id":75585938,"question_id":72027871,"body_markdown":"If upgrade is not an options, one way to do this is: \r\n\r\nusing the .arrayAgg(field()) but instead of &quot;customer_contact.contact_at&quot; use json_build_object as in \r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    arrayAgg(field(fieldsToJson(customer_contact.contact_at, customer_contact.FIELD_TWO))).as(CUSTOMER_CONTACT_LIST))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        private String fieldsToJson(List&lt;TableField&lt;?,?&gt;&gt; fields) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;json_build_object(&quot;);\r\n            for (Field&lt;?&gt; field : fields) {\r\n                sb.append(&quot;&#39;&quot;).append(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, field.getName())).append(&quot;&#39;&quot;).append(&quot;,&quot;).append(field).append(&quot;,&quot;);\r\n            }\r\n            sb.replace(sb.length() - 1, sb.length(), &quot;)&quot;);\r\n            return sb.toString();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen in your mapper use an ObjectMapper in turn the JSON into your CustomerContact object.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Object[] contacts = record.get(CUSTOMER_CONTACT_LIST, Object[].class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nthen for each:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    objectMapper.readValue(contactObject.toString(), CustomerContact.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>If upgrade is not an options, one way to do this is:</p>\n<p>using the .arrayAgg(field()) but instead of &quot;customer_contact.contact_at&quot; use json_build_object as in</p>\n<pre class=\"lang-html prettyprint-override\"><code>arrayAgg(field(fieldsToJson(customer_contact.contact_at, customer_contact.FIELD_TWO))).as(CUSTOMER_CONTACT_LIST))\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private String fieldsToJson(List&lt;TableField&lt;?,?&gt;&gt; fields) {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;json_build_object(&quot;);\n        for (Field&lt;?&gt; field : fields) {\n            sb.append(&quot;'&quot;).append(CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, field.getName())).append(&quot;'&quot;).append(&quot;,&quot;).append(field).append(&quot;,&quot;);\n        }\n        sb.replace(sb.length() - 1, sb.length(), &quot;)&quot;);\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Then in your mapper use an ObjectMapper in turn the JSON into your CustomerContact object.</p>\n<pre class=\"lang-html prettyprint-override\"><code>Object[] contacts = record.get(CUSTOMER_CONTACT_LIST, Object[].class);\n</code></pre>\n\n<p>then for each:</p>\n<pre class=\"lang-html prettyprint-override\"><code>objectMapper.readValue(contactObject.toString(), CustomerContact.class);\n</code></pre>\n\n"}],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677535428,"creation_date":1651058578,"question_id":72027871,"body_markdown":"I have 2 entities:\r\n\r\n```\r\nrecord Customer(String name, List&lt;CustomerContact &gt; contactHistory) {}\r\n\r\nrecord CustomerContact(LocalDateTime contactAt, Contact.Type type) {\r\n  public enum Type {\r\n    TEXT_MESSAGE, EMAIL\r\n  }\r\n}\r\n```\r\n\r\nThese are persisted in a schema with 2 tables:\r\n```\r\nCREATE TABLE customer(\r\n  &quot;id&quot;.   BIGSERIAL PRIMARY KEY,\r\n  &quot;name&quot;  TEXT      NOT NULL\r\n);\r\n\r\nCREATE TABLE customer_contact(\r\n  &quot;customer_id&quot; BIGINT REFERENCES &quot;customer&quot; (ID) NOT NULL,\r\n  &quot;type&quot;        TEXT                           NOT NULL,\r\n  &quot;contact_at&quot;  TIMESTAMPTZ                    NOT NULL DEFAULT (now() AT TIME ZONE &#39;utc&#39;)\r\n);\r\n```\r\n\r\nI want to retrieve the details of my Customers with a single query, and use the `arrayAgg` method to add the contactHistory to each customer. I have a query like this:\r\n\r\n```java\r\n//pseudo code\r\n\r\nDSL.select(field(&quot;customer.name&quot;))\r\n   .select(arrayAgg(field(&quot;customer_contact.contact_at&quot;)) //TODO How to aggregate both fields into a CustomerContact object\r\n   .from(table(&quot;customer&quot;))\r\n   .join(table(&quot;customer_contact&quot;)).on(field(&quot;customer_contact.customer_id&quot;).eq(&quot;customer.id&quot;))\r\n   .groupBy(field(&quot;customer_contact.customer_id&quot;))\r\n   .fetchOptional()\r\n   .map(asCustomer());\r\n```\r\n\r\nThe problem I have with this is that `arrayAgg` will only work with a single field. I want to use 2 fields, and bind them into a single object (`CustomerContact`) then use that as the basis for the `arrayAgg`\r\n\r\nApologies if I have not explained this clearly! Any help much appreciated.","title":"JOOQ arrayAgg array_agg fields as object","body":"<p>I have 2 entities:</p>\n<pre><code>record Customer(String name, List&lt;CustomerContact &gt; contactHistory) {}\n\nrecord CustomerContact(LocalDateTime contactAt, Contact.Type type) {\n  public enum Type {\n    TEXT_MESSAGE, EMAIL\n  }\n}\n</code></pre>\n<p>These are persisted in a schema with 2 tables:</p>\n<pre><code>CREATE TABLE customer(\n  &quot;id&quot;.   BIGSERIAL PRIMARY KEY,\n  &quot;name&quot;  TEXT      NOT NULL\n);\n\nCREATE TABLE customer_contact(\n  &quot;customer_id&quot; BIGINT REFERENCES &quot;customer&quot; (ID) NOT NULL,\n  &quot;type&quot;        TEXT                           NOT NULL,\n  &quot;contact_at&quot;  TIMESTAMPTZ                    NOT NULL DEFAULT (now() AT TIME ZONE 'utc')\n);\n</code></pre>\n<p>I want to retrieve the details of my Customers with a single query, and use the <code>arrayAgg</code> method to add the contactHistory to each customer. I have a query like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//pseudo code\n\nDSL.select(field(&quot;customer.name&quot;))\n   .select(arrayAgg(field(&quot;customer_contact.contact_at&quot;)) //TODO How to aggregate both fields into a CustomerContact object\n   .from(table(&quot;customer&quot;))\n   .join(table(&quot;customer_contact&quot;)).on(field(&quot;customer_contact.customer_id&quot;).eq(&quot;customer.id&quot;))\n   .groupBy(field(&quot;customer_contact.customer_id&quot;))\n   .fetchOptional()\n   .map(asCustomer());\n</code></pre>\n<p>The problem I have with this is that <code>arrayAgg</code> will only work with a single field. I want to use 2 fields, and bind them into a single object (<code>CustomerContact</code>) then use that as the basis for the <code>arrayAgg</code></p>\n<p>Apologies if I have not explained this clearly! Any help much appreciated.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1501327865,"post_id":45388743,"comment_id":77738096,"body_markdown":"What class gave the context menu in the second screenshot? It looks like it has code whereas the first example does not.","body":"What class gave the context menu in the second screenshot? It looks like it has code whereas the first example does not."},{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":0,"creation_date":1501329033,"post_id":45388743,"comment_id":77738399,"body_markdown":"The second image comes from the IntelliJ help page. I&#39;ve added the link in the question. Also, when I add a method, the option does not appear.","body":"The second image comes from the IntelliJ help page. I&#39;ve added the link in the question. Also, when I add a method, the option does not appear."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1501329160,"post_id":45388743,"comment_id":77738436,"body_markdown":"Did you add a static or non-static method? Did you try both?","body":"Did you add a static or non-static method? Did you try both?"},{"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"score":0,"creation_date":1501330366,"post_id":45388743,"comment_id":77738769,"body_markdown":"Yes, I did try it.","body":"Yes, I did try it."},{"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":0,"creation_date":1501358549,"post_id":45388743,"comment_id":77747689,"body_markdown":"Do you have the JUnit and TestNG-J plugins disabled by any chance?","body":"Do you have the JUnit and TestNG-J plugins disabled by any chance?"}],"answers":[{"tags":[],"owner":{"account_id":7411315,"reputation":497,"user_id":5638546,"display_name":"Panayiotis Poularakis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501331185,"creation_date":1501331185,"answer_id":45389277,"question_id":45388743,"body_markdown":"Default is `Ctrl + Shift + T`\r\n\r\nor you can change it by entering the keymap menu, `Ctrl + Alt + S` to open up the settings, then keymap...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2X2qi.png","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>Default is <code>Ctrl + Shift + T</code></p>\n\n<p>or you can change it by entering the keymap menu, <code>Ctrl + Alt + S</code> to open up the settings, then keymap...</p>\n\n<p><a href=\"https://i.stack.imgur.com/2X2qi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2X2qi.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6322518,"reputation":69,"user_id":4910032,"display_name":"Roman Bukin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535306582,"creation_date":1535306121,"answer_id":52028887,"question_id":45388743,"body_markdown":"To enable this option, go to IDEA Settings -&gt; Editor -&gt; Intentions -&gt; Java -&gt; Declaration and select checkbox Create Test. Search in top left corner can help.\r\n\r\n[![IntellJ IDEA setting create test][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VruEp.png","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>To enable this option, go to IDEA Settings -> Editor -> Intentions -> Java -> Declaration and select checkbox Create Test. Search in top left corner can help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VruEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VruEp.png\" alt=\"IntellJ IDEA setting create test\"></a></p>\n"},{"tags":[],"owner":{"account_id":26017892,"reputation":21,"user_id":19725977,"display_name":"Enzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677535411,"creation_date":1677535411,"answer_id":75585981,"question_id":45388743,"body_markdown":"In order to create a test for JUnit in IntelliJ kindly follow these steps:\r\n\r\n 1. Create a new Project using your favorite framework (e.g. Maven)\r\n 2. Create a basic test class\r\n 3. Next, right-click on your Class and choose “Generate”  to generate a Test Class\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mvb7Q.png\r\n\r\n**Ensure you check the class function/member checkbox then click OK**","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>In order to create a test for JUnit in IntelliJ kindly follow these steps:</p>\n<ol>\n<li>Create a new Project using your favorite framework (e.g. Maven)</li>\n<li>Create a basic test class</li>\n<li>Next, right-click on your Class and choose “Generate”  to generate a Test Class\n<a href=\"https://i.stack.imgur.com/Mvb7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mvb7Q.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p><strong>Ensure you check the class function/member checkbox then click OK</strong></p>\n"}],"owner":{"account_id":3475032,"reputation":581,"user_id":2908475,"accept_rate":78,"display_name":"So S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5403,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":3,"score":10,"last_activity_date":1677535411,"creation_date":1501327713,"question_id":45388743,"body_markdown":"When I press `Alt + Enter` on a class name in IntelliJ (version 2017.2 on a Windows 10 machine) the `Create Test`option is not listed. What can I do to get it there?  \r\n\r\nMy window looks like\r\n[![enter image description here][1]][1]\r\n\r\nAnd i was expecting something like \r\n[![enter image description here][2]][2]\r\nIt comes from the [IntelliJ help page for creating tests][3].\r\n\r\nIs there an option to add the `Create Test` dialog to the menu?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jhEcy.png\r\n  [2]: https://i.stack.imgur.com/btqHr.png\r\n  [3]: https://www.jetbrains.com/help/idea/creating-tests.html","title":"IntelliJ Alt+Enter dialog does not list &quot;Create Test&quot;","body":"<p>When I press <code>Alt + Enter</code> on a class name in IntelliJ (version 2017.2 on a Windows 10 machine) the <code>Create Test</code>option is not listed. What can I do to get it there?  </p>\n\n<p>My window looks like\n<a href=\"https://i.stack.imgur.com/jhEcy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jhEcy.png\" alt=\"enter image description here\"></a></p>\n\n<p>And i was expecting something like \n<a href=\"https://i.stack.imgur.com/btqHr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/btqHr.png\" alt=\"enter image description here\"></a>\nIt comes from the <a href=\"https://www.jetbrains.com/help/idea/creating-tests.html\" rel=\"noreferrer\">IntelliJ help page for creating tests</a>.</p>\n\n<p>Is there an option to add the <code>Create Test</code> dialog to the menu?</p>\n"},{"tags":["java","web-services","oracle12c","obiee"],"answers":[{"tags":[],"owner":{"account_id":16377651,"reputation":71,"user_id":11829417,"display_name":"Gianni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677535214,"creation_date":1677535214,"answer_id":75585956,"question_id":75575268,"body_markdown":"Sounds like the same as [https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913][1], the answer is posted there.  \r\n\r\nTL;DR: by default it does execute in a synchronous mode and therefore there is no need for the queryID. More details in the Oracle Forum.\r\n\r\n\r\n  [1]: https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913","title":"initiateAnalysisExport () Method with OBIEE web services not returning queryID","body":"<p>Sounds like the same as <a href=\"https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913\" rel=\"nofollow noreferrer\">https://forums.oracle.com/ords/apexds/post/initiateanalysisexport-method-with-obiee-web-services-not-r-8913</a>, the answer is posted there.</p>\n<p>TL;DR: by default it does execute in a synchronous mode and therefore there is no need for the queryID. More details in the Oracle Forum.</p>\n"}],"owner":{"account_id":23276170,"reputation":81,"user_id":17360277,"display_name":"Manuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677535214,"creation_date":1677448960,"question_id":75575268,"body_markdown":"I&#39;m trying to use the webservices API in OBIEE with the initiateAnalysisExport() method of the AnalysisExportViews service in OBIEE 12C. I can send the API request without any issues, but the completeAnalysisExport and queryID fields in the AnalysisExportResult structure aren&#39;t returning anything. However, the viewData and mimeType fields are properly populated.\r\n\r\nI&#39;m not sure what I&#39;m doing wrong here. I need the queryID for the completeAnalysisExport method to obtain the export file. I&#39;ve also noticed that the documentation for queryID is empty: https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968.","title":"initiateAnalysisExport () Method with OBIEE web services not returning queryID","body":"<p>I'm trying to use the webservices API in OBIEE with the initiateAnalysisExport() method of the AnalysisExportViews service in OBIEE 12C. I can send the API request without any issues, but the completeAnalysisExport and queryID fields in the AnalysisExportResult structure aren't returning anything. However, the viewData and mimeType fields are properly populated.</p>\n<p>I'm not sure what I'm doing wrong here. I need the queryID for the completeAnalysisExport method to obtain the export file. I've also noticed that the documentation for queryID is empty: <a href=\"https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1221/biee/BIEIT/structures.htm#BIEIT6968</a>.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677535095,"creation_date":1675471829,"answer_id":75342298,"question_id":75307264,"body_markdown":"This is clearly a bug for hibernate project. \r\n\r\nHave opened a ticket for it [here][1] with both the bug described in the question from **kism3t** and also with what seems to be a workaround to bypass the issue.\r\n\r\nHave checked the current non stable released versions of hibernate `6.2.0` and the bug is still there. So probably is undetected yet.\r\n\r\nFor the moment the following workaround seems to bypass the issue\r\n\r\n  \r\n\r\n       @Entity\r\n       public class User {\r\n\r\n          @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \r\n          private UserSettings userSettings;\r\n\r\n          @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \r\n          private UserTermsOfUse userTermsOfUse;\r\n      }\r\n\r\nIf the owning side of the `@OneToOne` declares the same fetchType of `Lazy` somehow the issue is bypassed.\r\n\r\nSo it works with\r\n\r\n    @Entity\r\n    public class UserTermsOfUse {\r\n    \r\n        ....\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\r\n        private User user;\r\n    }\r\n\r\n\r\nand \r\n\r\n    @Entity\r\n    public class UserSettings {\r\n    \r\n        ....\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\r\n        private User user;\r\n    }\r\n\r\nUpdate\r\n------\r\nThis was indeed a bug of hibernate project. It is solved in version **6.1.7.Final** and future versions.\r\n\r\n  \r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-16135","title":"LAZY Loading not working Spring Data 3.0.0 Hibernate - After Spring Boot Migration to 3.0","body":"<p>This is clearly a bug for hibernate project.</p>\n<p>Have opened a ticket for it <a href=\"https://hibernate.atlassian.net/browse/HHH-16135\" rel=\"nofollow noreferrer\">here</a> with both the bug described in the question from <strong>kism3t</strong> and also with what seems to be a workaround to bypass the issue.</p>\n<p>Have checked the current non stable released versions of hibernate <code>6.2.0</code> and the bug is still there. So probably is undetected yet.</p>\n<p>For the moment the following workaround seems to bypass the issue</p>\n<pre><code>   @Entity\n   public class User {\n\n      @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \n      private UserSettings userSettings;\n\n      @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;) \n      private UserTermsOfUse userTermsOfUse;\n  }\n</code></pre>\n<p>If the owning side of the <code>@OneToOne</code> declares the same fetchType of <code>Lazy</code> somehow the issue is bypassed.</p>\n<p>So it works with</p>\n<pre><code>@Entity\npublic class UserTermsOfUse {\n\n    ....\n\n    @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\n    private User user;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class UserSettings {\n\n    ....\n\n    @OneToOne(fetch = FetchType.LAZY)  // &lt;-------------\n    private User user;\n}\n</code></pre>\n<h2>Update</h2>\n<p>This was indeed a bug of hibernate project. It is solved in version <strong>6.1.7.Final</strong> and future versions.</p>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75342298,"answer_count":1,"score":5,"last_activity_date":1677535095,"creation_date":1675239566,"question_id":75307264,"body_markdown":"After migrating to Spring Boot 3.0 our integration test showed that deleting a user did not work properly.\r\n\r\nThe User has two properties, where both are defined the same (at least thats what I think, see below).\r\n\r\nWhat I figured is, when I load the User object one of the properties of User are not loaded. Only if I define the property, which can not be loaded, as EAGER. If I now try to delete the User, this does not work because there is still the one property in DB which reference to the User.\r\n\r\nI can not figure out whats the problem maybe I am missing something\r\n\r\nMy User Entity\r\n\r\n\t@Entity\r\n\t@Data\r\n\t@Table(name = &quot;user_model&quot;)\r\n\tpublic class User extends BaseEntity {\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\t\t\r\n\t\t...\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tprivate UserSettings userSettings;\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tprivate UserTermsOfUse userTermsOfUse;\r\n\t\t\r\n\t\t...\r\n\t}\r\n\r\nUser Terms Of Use which works to load\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user_termsofuse&quot;)\r\n\t@Data\r\n\tpublic class UserTermsOfUse extends BaseEntity {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\r\n\t\t@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ToString.Exclude\r\n\t\tprivate User user;\r\n\r\n\t\t@Column(name = &quot;accepted_termsofuse&quot;)\r\n\t\tprivate String acceptedTermsOfUse;\r\n\r\n\t}\r\n\r\nMy Settings which does not load:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user_settings&quot;)\r\n\t@Data\r\n\tpublic class UserSettings extends BaseEntity {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(generator = &quot;system-uuid&quot;)\r\n\t\t@GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n\t\tprivate String id;\r\n\r\n\t\t@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@ToString.Exclude\r\n\t\tprivate User user;\r\n\r\n\t\tprivate String language;\r\n\r\n\t\tprivate String lastActiveClientId;\r\n\r\n\t}\r\n\r\nAs you can see in my screenshot, when I load the entity User by ID it only shows the User Terms of Use ant not the User Settings\r\n[![enter image description here][1]][1]\r\n\r\nJust to make clear, they are within the DB :)\r\n[![enter image description here][2]][2]\r\n\r\nHope Someone can point me to a correct direction\r\n\r\n**UPDATE**\r\n\r\nI made a sample project to prove it does not work. The test fails with an `NullPonterException` once I try to access the `UserSettings`.\r\n\r\nhttps://github.com/de313e/SpringEagerLoadingIssue\r\n\r\n  [1]: https://i.stack.imgur.com/66YQA.png\r\n  [2]: https://i.stack.imgur.com/5hMfb.png","title":"LAZY Loading not working Spring Data 3.0.0 Hibernate - After Spring Boot Migration to 3.0","body":"<p>After migrating to Spring Boot 3.0 our integration test showed that deleting a user did not work properly.</p>\n<p>The User has two properties, where both are defined the same (at least thats what I think, see below).</p>\n<p>What I figured is, when I load the User object one of the properties of User are not loaded. Only if I define the property, which can not be loaded, as EAGER. If I now try to delete the User, this does not work because there is still the one property in DB which reference to the User.</p>\n<p>I can not figure out whats the problem maybe I am missing something</p>\n<p>My User Entity</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;user_model&quot;)\npublic class User extends BaseEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    \n    ...\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private UserSettings userSettings;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private UserTermsOfUse userTermsOfUse;\n    \n    ...\n}\n</code></pre>\n<p>User Terms Of Use which works to load</p>\n<pre><code>@Entity\n@Table(name = &quot;user_termsofuse&quot;)\n@Data\npublic class UserTermsOfUse extends BaseEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    @Column(name = &quot;accepted_termsofuse&quot;)\n    private String acceptedTermsOfUse;\n\n}\n</code></pre>\n<p>My Settings which does not load:</p>\n<pre><code>@Entity\n@Table(name = &quot;user_settings&quot;)\n@Data\npublic class UserSettings extends BaseEntity {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ToString.Exclude\n    private User user;\n\n    private String language;\n\n    private String lastActiveClientId;\n\n}\n</code></pre>\n<p>As you can see in my screenshot, when I load the entity User by ID it only shows the User Terms of Use ant not the User Settings\n<a href=\"https://i.stack.imgur.com/66YQA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66YQA.png\" alt=\"enter image description here\" /></a></p>\n<p>Just to make clear, they are within the DB :)\n<a href=\"https://i.stack.imgur.com/5hMfb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hMfb.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope Someone can point me to a correct direction</p>\n<p><strong>UPDATE</strong></p>\n<p>I made a sample project to prove it does not work. The test fails with an <code>NullPonterException</code> once I try to access the <code>UserSettings</code>.</p>\n<p><a href=\"https://github.com/de313e/SpringEagerLoadingIssue\" rel=\"nofollow noreferrer\">https://github.com/de313e/SpringEagerLoadingIssue</a></p>\n"},{"tags":["java","amazon-web-services","docker","memory","amazon-ecs"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1572283106,"post_id":58595468,"comment_id":103503864,"body_markdown":"Java applications can also allocate native memory which is not part of any heap, stack space, etc. For example `ByteBuffer.allocateDirect` or native libraries used from Java, memory for Java itself, etc.","body":"Java applications can also allocate native memory which is not part of any heap, stack space, etc. For example <code>ByteBuffer.allocateDirect</code> or native libraries used from Java, memory for Java itself, etc."},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1572283205,"post_id":58595468,"comment_id":103503902,"body_markdown":"@MarkRotteveel I&#39;m aware of that. But we are not dealing with buffers as well as files. Also 100MB seems to be enough to deal with for any native library etc","body":"@MarkRotteveel I&#39;m aware of that. But we are not dealing with buffers as well as files. Also 100MB seems to be enough to deal with for any native library etc"},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1572294620,"post_id":58595468,"comment_id":103508524,"body_markdown":"@NyamiouTheGaleanthrope GC configs are default(Specs: openjdk 8, debian OS)","body":"@NyamiouTheGaleanthrope GC configs are default(Specs: openjdk 8, debian OS)"},{"owner":{"account_id":1042139,"reputation":591,"user_id":1047956,"display_name":"Liran"},"score":0,"creation_date":1588773387,"post_id":58595468,"comment_id":109027967,"body_markdown":"were you able to understand this problem i am having the same issue with nodejs","body":"were you able to understand this problem i am having the same issue with nodejs"},{"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"score":0,"creation_date":1589297134,"post_id":58595468,"comment_id":109234286,"body_markdown":"@Liran not really, we figured out that since latest java 8 release or java 9+ there is flags to automatically handle memory inside the docker, its became a bit better since then","body":"@Liran not really, we figured out that since latest java 8 release or java 9+ there is flags to automatically handle memory inside the docker, its became a bit better since then"},{"owner":{"account_id":1042139,"reputation":591,"user_id":1047956,"display_name":"Liran"},"score":0,"creation_date":1590935315,"post_id":58595468,"comment_id":109862984,"body_markdown":"@BohdanZ. i was able to solve my problem with a better design,\ninstead of streaming to memory all my data ( which can not scale ) \ni stream my data to response stream of an http response \nnow my memory footprint is nothing and i can handle a lot of calls, i would suggest you try to do the same if you can, if you need some more assistants let me know","body":"@BohdanZ. i was able to solve my problem with a better design, instead of streaming to memory all my data ( which can not scale )  i stream my data to response stream of an http response  now my memory footprint is nothing and i can handle a lot of calls, i would suggest you try to do the same if you can, if you need some more assistants let me know"}],"owner":{"account_id":5718868,"reputation":451,"user_id":4518012,"accept_rate":62,"display_name":"Bohdan Zv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1677534802,"creation_date":1572282833,"question_id":58595468,"body_markdown":"**Problem**: application is killed due to memory usage\r\n\r\n      Status reason\tOutOfMemoryError: Container killed due to memory usage\r\n      Exit Code\t137\r\n\r\n**Environment**: Spring Boot app in docker container on AWS ECS instance with configuration:\r\n\r\n - AWS hard memory limit/total RAM - 384 MB\r\n - -Xmx134m\r\n - -Xms134m\r\n - -XX:MaxMetaspaceSize=110m\r\n\r\nAccording to the java max memory formula (which I have found during the weeks of research -https://dzone.com/articles/why-does-my-java-process and improved a bit):\r\n\r\n&gt; *max_memory* = xmx + non-heap_memory + threads_number * xss\r\n\r\n&gt; *non-heap_memory* = metaspace + (compressed_class_space + codeHeap_profiledmethods + CodeHeap_non-methods+ CodeHeap_non-profiled_methods).\r\n\r\nTake into account that 2nd part of non-heap memory takes nearly 40mb combined\r\n\r\nso in my case `max_memory = 134(xmx) + 110(metaspace_max) + 40(non-heap-not_metaspace) + 9(threads) * 1(default Xss) = 293`\r\n\r\nHowever, under the load heapUsedMemory = ~105-120mb and non-heapUsedMemory(metaspace + JVM stuff) = ~140mb which means that there must be 384 - 120 - 140 = 124 mb of *free memory*.\r\nSo the problem is that there is plenty of free memory and all java tools are showing it(jstat -gc, Spring on grafana, different java API etc).\r\nHere is code-snippet of an API I have developed and used during my research:\r\n\r\n    \t@GetMapping(&quot;/memory/info&quot;)\r\n\tpublic Map&lt;String, String&gt; getMmUsage() {\r\n\t\tMap&lt;String, Long&gt; info = new HashMap&lt;&gt;();\r\n\t\tList&lt;MemoryPoolMXBean&gt; memPool = ManagementFactory.getMemoryPoolMXBeans();\r\n\t\tfor (MemoryPoolMXBean p : memPool) {\r\n\t\t\tif (&quot;Metaspace&quot;.equals(p.getName())) {\r\n\t\t\t\tinfo.put(&quot;metaspaceMax&quot;, p.getUsage().getMax());\r\n\t\t\t\tinfo.put(&quot;metaspaceCommitted&quot;, p.getUsage().getCommitted());\r\n\t\t\t\tinfo.put(&quot;metaspaceUsed&quot;, p.getUsage().getUsed());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinfo.put(&quot;heapMax&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getMax());\r\n\t\tinfo.put(&quot;heapCommitted&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getCommitted());\r\n\t\tinfo.put(&quot;heapUsed&quot;, ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed());\r\n\t\tinfo.put(&quot;non-heapMax&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getMax());\r\n\t\tinfo.put(&quot;non-heapCommitted&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getCommitted());\r\n\t\tinfo.put(&quot;non-heapUsed&quot;, ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getUsed());\r\n\t\t\r\n\t\tMap&lt;String, String&gt; memoryData = info.entrySet().stream().collect(Collectors.toMap(Entry::getKey, e -&gt; {\r\n\t\t\tlong kb = e.getValue() / 1024;\r\n\t\t\treturn (kb / 1024) + &quot; Mb (&quot; + kb + &quot; Kb)&quot;;\r\n\t\t}, (v1, v2) -&gt; v1, TreeMap::new));\r\n\r\n\t\tSet&lt;Thread&gt; threads = Thread.getAllStackTraces().keySet();\r\n\t\tmemoryData.put(&quot;threadsCount&quot;, Integer.toString(threads.size()));\r\n\t\tmemoryData.put(&quot;threadsCountRunning&quot;,\r\n\t\t\t\tLong.toString(threads.stream().filter(t -&gt; t.getState() == Thread.State.RUNNABLE).count()));\r\n\r\n\t\treturn memoryData;\r\n\t}\r\n\r\nSo my application should be stable since it has a lot of memory to deal with. But its not the case. As I described above `Container killed due to memory usage` \r\n\r\nAs I described above java tools shows that there are plenty of memory and that memory(heap) is being released. On the other hand AWS cloudwatch metric MmeoryUtilization show constant growth of memory (in very small portions):\r\n[![aws cloudwatch metric][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8GuPi.png\r\n\r\n**Interesting exploration**: during endless testing I have found next: when I set xmx=134MB application lives longer and was capable of surviving 5 rounds of performance tests, when I set xmx/xms = 200mb it survived 1 round of performance tests. How could this be possible??\r\n\r\n**My opinion**: It looks like that there is something that uses memory and not releasing it properly.\r\n\r\nI would like to hear your opinions regarding why my app constantly dying when there is 50+mb of free memory and why AWS metrics show different result comparing to java tools\r\n","title":"Why docker java app is getting killed because of memory?","body":"<p><strong>Problem</strong>: application is killed due to memory usage</p>\n\n<pre><code>  Status reason OutOfMemoryError: Container killed due to memory usage\n  Exit Code 137\n</code></pre>\n\n<p><strong>Environment</strong>: Spring Boot app in docker container on AWS ECS instance with configuration:</p>\n\n<ul>\n<li>AWS hard memory limit/total RAM - 384 MB</li>\n<li>-Xmx134m</li>\n<li>-Xms134m</li>\n<li>-XX:MaxMetaspaceSize=110m</li>\n</ul>\n\n<p>According to the java max memory formula (which I have found during the weeks of research -<a href=\"https://dzone.com/articles/why-does-my-java-process\" rel=\"nofollow noreferrer\">https://dzone.com/articles/why-does-my-java-process</a> and improved a bit):</p>\n\n<blockquote>\n  <p><em>max_memory</em> = xmx + non-heap_memory + threads_number * xss</p>\n  \n  <p><em>non-heap_memory</em> = metaspace + (compressed_class_space + codeHeap_profiledmethods + CodeHeap_non-methods+ CodeHeap_non-profiled_methods).</p>\n</blockquote>\n\n<p>Take into account that 2nd part of non-heap memory takes nearly 40mb combined</p>\n\n<p>so in my case <code>max_memory = 134(xmx) + 110(metaspace_max) + 40(non-heap-not_metaspace) + 9(threads) * 1(default Xss) = 293</code></p>\n\n<p>However, under the load heapUsedMemory = ~105-120mb and non-heapUsedMemory(metaspace + JVM stuff) = ~140mb which means that there must be 384 - 120 - 140 = 124 mb of <em>free memory</em>.\nSo the problem is that there is plenty of free memory and all java tools are showing it(jstat -gc, Spring on grafana, different java API etc).\nHere is code-snippet of an API I have developed and used during my research:</p>\n\n<pre><code>    @GetMapping(\"/memory/info\")\npublic Map&lt;String, String&gt; getMmUsage() {\n    Map&lt;String, Long&gt; info = new HashMap&lt;&gt;();\n    List&lt;MemoryPoolMXBean&gt; memPool = ManagementFactory.getMemoryPoolMXBeans();\n    for (MemoryPoolMXBean p : memPool) {\n        if (\"Metaspace\".equals(p.getName())) {\n            info.put(\"metaspaceMax\", p.getUsage().getMax());\n            info.put(\"metaspaceCommitted\", p.getUsage().getCommitted());\n            info.put(\"metaspaceUsed\", p.getUsage().getUsed());\n        }\n    }\n\n    info.put(\"heapMax\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getMax());\n    info.put(\"heapCommitted\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getCommitted());\n    info.put(\"heapUsed\", ManagementFactory.getMemoryMXBean().getHeapMemoryUsage().getUsed());\n    info.put(\"non-heapMax\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getMax());\n    info.put(\"non-heapCommitted\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getCommitted());\n    info.put(\"non-heapUsed\", ManagementFactory.getMemoryMXBean().getNonHeapMemoryUsage().getUsed());\n\n    Map&lt;String, String&gt; memoryData = info.entrySet().stream().collect(Collectors.toMap(Entry::getKey, e -&gt; {\n        long kb = e.getValue() / 1024;\n        return (kb / 1024) + \" Mb (\" + kb + \" Kb)\";\n    }, (v1, v2) -&gt; v1, TreeMap::new));\n\n    Set&lt;Thread&gt; threads = Thread.getAllStackTraces().keySet();\n    memoryData.put(\"threadsCount\", Integer.toString(threads.size()));\n    memoryData.put(\"threadsCountRunning\",\n            Long.toString(threads.stream().filter(t -&gt; t.getState() == Thread.State.RUNNABLE).count()));\n\n    return memoryData;\n}\n</code></pre>\n\n<p>So my application should be stable since it has a lot of memory to deal with. But its not the case. As I described above <code>Container killed due to memory usage</code> </p>\n\n<p>As I described above java tools shows that there are plenty of memory and that memory(heap) is being released. On the other hand AWS cloudwatch metric MmeoryUtilization show constant growth of memory (in very small portions):\n<a href=\"https://i.stack.imgur.com/8GuPi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8GuPi.png\" alt=\"aws cloudwatch metric\"></a></p>\n\n<p><strong>Interesting exploration</strong>: during endless testing I have found next: when I set xmx=134MB application lives longer and was capable of surviving 5 rounds of performance tests, when I set xmx/xms = 200mb it survived 1 round of performance tests. How could this be possible??</p>\n\n<p><strong>My opinion</strong>: It looks like that there is something that uses memory and not releasing it properly.</p>\n\n<p>I would like to hear your opinions regarding why my app constantly dying when there is 50+mb of free memory and why AWS metrics show different result comparing to java tools</p>\n"},{"tags":["java","xml","marshalling","cdata"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1677538828,"post_id":75585738,"comment_id":133354391,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"owner":{"account_id":1104543,"reputation":23,"user_id":1096238,"accept_rate":10,"display_name":"Lion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677534735,"creation_date":1677533311,"question_id":75585738,"body_markdown":"I need to marshal the java objects to XML using CDATA block with \\&amp;amp;.\r\n\r\nEg:\r\nI have CDATA block as \\&lt;![CDATA[T&lt;NAME]]&gt;\r\n\r\nI need it in this way \\&lt;![CDATA[T\\&amp;lt;NAME]]&gt;\r\n\r\nNeed the same behavior for these characters &lt; &gt; &amp;\r\n\r\n&lt; - \\&amp;lt;\r\n\r\n\\&gt; - \\&amp;gt;\r\n\r\n&amp; - \\&amp;amp;","title":"Marshalling java objects to XML with CDATA block","body":"<p>I need to marshal the java objects to XML using CDATA block with &amp;amp;.</p>\n<p>Eg:\nI have CDATA block as &lt;![CDATA[T&lt;NAME]]&gt;</p>\n<p>I need it in this way &lt;![CDATA[T&amp;lt;NAME]]&gt;</p>\n<p>Need the same behavior for these characters &lt; &gt; &amp;</p>\n<p>&lt; - &amp;lt;</p>\n<p>&gt; - &amp;gt;</p>\n<p>&amp; - &amp;amp;</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677471099,"creation_date":1677471099,"answer_id":75576715,"question_id":75576668,"body_markdown":"Static variables are not sent to the distributed data processing in MapReduce. These variables are stored in memory only where the `jobTracker` is running and not in the executing nodes. \r\n\r\nYarn distributes the tasks to the nodes by serializing the task and sending that to the processing nodes. The static method `config` will not be going to get evaluated at every node, thus making the `parser` object null. \r\n\r\nIf you want to initialize the static variables, you might need to serialize the object and send it to each mapper. ","title":"NullPointerException caused by static field in Mapper class","body":"<p>Static variables are not sent to the distributed data processing in MapReduce. These variables are stored in memory only where the <code>jobTracker</code> is running and not in the executing nodes.</p>\n<p>Yarn distributes the tasks to the nodes by serializing the task and sending that to the processing nodes. The static method <code>config</code> will not be going to get evaluated at every node, thus making the <code>parser</code> object null.</p>\n<p>If you want to initialize the static variables, you might need to serialize the object and send it to each mapper.</p>\n"}],"owner":{"account_id":18036828,"reputation":123,"user_id":13110035,"display_name":"Dilibaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75576715,"answer_count":1,"score":0,"last_activity_date":1677534174,"creation_date":1677470238,"question_id":75576668,"body_markdown":"I have a HBase MapReduce Bulkload application which include a customized `MyMapper` Class, and it has a static field `parser` which is used during the application running, When I config the job, I use `config` method to init the static field `parser`. \r\n\r\nBut when the job is running, the annotated line throws a null pointer exception, seems like after the job being submitted to Yarn, the static field `parser` becomes null.\r\n\r\nThis is the Mapper code, the version of hadoop is 2.7.7.\r\n```Java\r\npublic class MyMapper extends Mapper&lt;LongWritable, Text, ImmutableBytesWritable, Put&gt; {\r\n\r\n  private static StringParser parser;\r\n\r\n  public static void config(StringParser parser) {\r\n    MyMapper.parser = parser;\r\n  }\r\n\r\n  @Override\r\n  protected void map(LongWritable key, Text value, Context context)\r\n      throws IOException, InterruptedException {\r\n    String lineValue = value.toString();\r\n    String output;\r\n    try {\r\n      // null pointer exception this line.\r\n      output = parser.parse(lineValue); \r\n      context.write(new ImmutableBytesWritable(..., ...);\r\n    } catch (ParseException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is the code about the job submition: \r\n\r\n```java\r\n \r\n    Job job = Job.getInstance(conf, &quot;Batch Import HBase Table：&quot; + tableName);\r\n    job.setJarByClass(TextBulkLoadDriver.class);\r\n    FileInputFormat.setInputPaths(job, inPath);\r\n\r\n    // Config Mapper related content, here I set the static field in MyMapper class.\r\n    MyMapper.config(parser); \r\n    Class&lt;MyMapper&gt; cls = MyMapper.class;\r\n    job.setMapperClass(cls);\r\n    job.setMapOutputKeyClass(ImmutableBytesWritable.class);\r\n    job.setMapOutputValueClass(Put.class);\r\n\r\n    job.setNumReduceTasks(1);\r\n    job.setReducerClass(PutSortReducer.class);\r\n\r\n    RegionLocator locator = instance.getConnection().getRegionLocator(TableName.valueOf(tableName));\r\n    try (Admin admin = instance.getAdmin(); Table table = instance.getTable(tableName)) {\r\n      HFileOutputFormat2.configureIncrementalLoad(job, table, locator);\r\n      HFileOutputFormat2.setOutputPath(job, outPath);\r\n      // run the job\r\n      job.waitForCompletion(true);\r\n      logger.info(&quot;HFileOutputFormat2 file ready on {}&quot;, outPath);\r\n      LoadIncrementalHFiles loader = new LoadIncrementalHFiles(conf);\r\n      loader.doBulkLoad(outPath, admin, table, locator);\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n```\r\n\r\nTIA for all suggestions!","title":"NullPointerException caused by static field in Mapper class","body":"<p>I have a HBase MapReduce Bulkload application which include a customized <code>MyMapper</code> Class, and it has a static field <code>parser</code> which is used during the application running, When I config the job, I use <code>config</code> method to init the static field <code>parser</code>.</p>\n<p>But when the job is running, the annotated line throws a null pointer exception, seems like after the job being submitted to Yarn, the static field <code>parser</code> becomes null.</p>\n<p>This is the Mapper code, the version of hadoop is 2.7.7.</p>\n<pre><code>public class MyMapper extends Mapper&lt;LongWritable, Text, ImmutableBytesWritable, Put&gt; {\n\n  private static StringParser parser;\n\n  public static void config(StringParser parser) {\n    MyMapper.parser = parser;\n  }\n\n  @Override\n  protected void map(LongWritable key, Text value, Context context)\n      throws IOException, InterruptedException {\n    String lineValue = value.toString();\n    String output;\n    try {\n      // null pointer exception this line.\n      output = parser.parse(lineValue); \n      context.write(new ImmutableBytesWritable(..., ...);\n    } catch (ParseException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Here is the code about the job submition:</p>\n<pre class=\"lang-java prettyprint-override\"><code> \n    Job job = Job.getInstance(conf, &quot;Batch Import HBase Table：&quot; + tableName);\n    job.setJarByClass(TextBulkLoadDriver.class);\n    FileInputFormat.setInputPaths(job, inPath);\n\n    // Config Mapper related content, here I set the static field in MyMapper class.\n    MyMapper.config(parser); \n    Class&lt;MyMapper&gt; cls = MyMapper.class;\n    job.setMapperClass(cls);\n    job.setMapOutputKeyClass(ImmutableBytesWritable.class);\n    job.setMapOutputValueClass(Put.class);\n\n    job.setNumReduceTasks(1);\n    job.setReducerClass(PutSortReducer.class);\n\n    RegionLocator locator = instance.getConnection().getRegionLocator(TableName.valueOf(tableName));\n    try (Admin admin = instance.getAdmin(); Table table = instance.getTable(tableName)) {\n      HFileOutputFormat2.configureIncrementalLoad(job, table, locator);\n      HFileOutputFormat2.setOutputPath(job, outPath);\n      // run the job\n      job.waitForCompletion(true);\n      logger.info(&quot;HFileOutputFormat2 file ready on {}&quot;, outPath);\n      LoadIncrementalHFiles loader = new LoadIncrementalHFiles(conf);\n      loader.doBulkLoad(outPath, admin, table, locator);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n</code></pre>\n<p>TIA for all suggestions!</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1677524321,"post_id":75584436,"comment_id":133351179,"body_markdown":"It&#39;s not really clear what you&#39;re asking. `Node` doesn&#39;t have a `getController()` method.  Can you create and post a [mre] so we can understand what the question is?","body":"It&#39;s not really clear what you&#39;re asking. <code>Node</code> doesn&#39;t have a <code>getController()</code> method.  Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can understand what the question is?"},{"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"score":0,"creation_date":1677525854,"post_id":75584436,"comment_id":133351518,"body_markdown":"I tried to improve the question, I&#39;m sorry but it&#39;s a bit complex to explain.","body":"I tried to improve the question, I&#39;m sorry but it&#39;s a bit complex to explain."}],"answers":[{"tags":[],"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677533326,"creation_date":1677533326,"answer_id":75585740,"question_id":75584436,"body_markdown":"    private void addProductToOrder(String id, String name, String price){\r\n        Node existingItem = order.lookup(&quot;#&quot; + id);\r\n        if (existingItem != null) {\r\n            OrderItemController oic = (OrderItemController) existingItem.getUserData();\r\n            oic.addProduct();\r\n        }else{\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\r\n            try {\r\n                VBox item = fxmlLoader.load();\r\n                OrderItemController oic = fxmlLoader.getController();\r\n                oic.setData(id, name, price);\r\n                item.setId(id);\r\n                item.setUserData(oic);\r\n                order.getChildren().add(item);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI was able to get the expected result with the following code.","title":"When clicking the button, if there is a Vbox with an ID, it calls an element controller method","body":"<pre><code>private void addProductToOrder(String id, String name, String price){\n    Node existingItem = order.lookup(&quot;#&quot; + id);\n    if (existingItem != null) {\n        OrderItemController oic = (OrderItemController) existingItem.getUserData();\n        oic.addProduct();\n    }else{\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\n        try {\n            VBox item = fxmlLoader.load();\n            OrderItemController oic = fxmlLoader.getController();\n            oic.setData(id, name, price);\n            item.setId(id);\n            item.setUserData(oic);\n            order.getChildren().add(item);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I was able to get the expected result with the following code.</p>\n"}],"owner":{"account_id":25437359,"reputation":17,"user_id":19240877,"display_name":"S&#233;rgio Serra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1677533326,"creation_date":1677523749,"question_id":75584436,"body_markdown":"I have the following code and I wanted to know if it is possible increment quantity of vbox node. This method below belongs to the Dashboard Controller class.\r\n```\r\nprivate void addProductToOrder(String id, String name, String price){\r\n        for (Node node : order.getChildren()){\r\n            if (Objects.equals(node.getId(), id)) {\r\n                // call the addProduct() method of the Order Item Product class for the current node\r\n                return;\r\n            }\r\n        }\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\r\n        try {\r\n           VBox item = fxmlLoader.load();\r\n           ((OrderItemController)fxmlLoader.getController()).setData(id, name, price);\r\n           item.setId(id);\r\n           order.getChildren().add(item);\r\n        }catch (IOException e){\r\n           e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nIn the OrderItemController class I have the following method:\r\n\r\n\r\n```\r\npublic void addProduct(){\r\n        quantityVal++;\r\n        this.quantity.setText(String.valueOf(quantityVal));\r\n    }\r\n```\r\n\r\n[Example UI][1]\r\n\r\n\r\nI want that when there is already an element on the screen not to add another vbox but to increase the quantity number.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0hyui.png","title":"When clicking the button, if there is a Vbox with an ID, it calls an element controller method","body":"<p>I have the following code and I wanted to know if it is possible increment quantity of vbox node. This method below belongs to the Dashboard Controller class.</p>\n<pre><code>private void addProductToOrder(String id, String name, String price){\n        for (Node node : order.getChildren()){\n            if (Objects.equals(node.getId(), id)) {\n                // call the addProduct() method of the Order Item Product class for the current node\n                return;\n            }\n        }\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/com/luxrest/gui/components/orderItem.fxml&quot;));\n        try {\n           VBox item = fxmlLoader.load();\n           ((OrderItemController)fxmlLoader.getController()).setData(id, name, price);\n           item.setId(id);\n           order.getChildren().add(item);\n        }catch (IOException e){\n           e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>In the OrderItemController class I have the following method:</p>\n<pre><code>public void addProduct(){\n        quantityVal++;\n        this.quantity.setText(String.valueOf(quantityVal));\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0hyui.png\" rel=\"nofollow noreferrer\">Example UI</a></p>\n<p>I want that when there is already an element on the screen not to add another vbox but to increase the quantity number.</p>\n"},{"tags":["java","android","android-recyclerview","android-livedata","mutablelivedata"],"answers":[{"tags":[],"owner":{"account_id":8568321,"reputation":385,"user_id":6420146,"display_name":"Kim Vall&#233;e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677533076,"creation_date":1677533076,"answer_id":75585701,"question_id":75493784,"body_markdown":"I don&#39;t know exactly why but the solution resides in this line :\r\n```java\r\n notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\r\n            ...\r\n        });\r\n```\r\nHere `requireActivity()` is not correct it should be `getViewLifecycleOwner()`.\r\n   \r\n","title":"Android ViewModel deletes all my data when observing","body":"<p>I don't know exactly why but the solution resides in this line :</p>\n<pre class=\"lang-java prettyprint-override\"><code> notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\n            ...\n        });\n</code></pre>\n<p>Here <code>requireActivity()</code> is not correct it should be <code>getViewLifecycleOwner()</code>.</p>\n"}],"owner":{"account_id":8568321,"reputation":385,"user_id":6420146,"display_name":"Kim Vall&#233;e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75585701,"answer_count":1,"score":0,"last_activity_date":1677533076,"creation_date":1676728292,"question_id":75493784,"body_markdown":"I am developing an app with Android Studio, and I wish to use MutableLiveData alongside with RecyclerView. Problem is, when I add a new item to the MutableLiveData, it gets updated, then going back to the previous fragment, the item gets erased for some unknown reason.\r\nCode in my `FirstFragment.java` for the method `onCreateView`:\r\n```java\r\n@Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n\r\n        notificationsViewModel = new ViewModelProvider(requireActivity()).get(NotificationsViewModel.class);\r\n\r\n        // Binding recycler views\r\n        // Notifications\r\n\r\n        RecyclerView rvNotification = binding.registeredNotification;\r\n\r\n        Log.d(&quot;NA&quot;, &quot;New Adapter&quot;);\r\n        NotificationAdapter adapter = new NotificationAdapter();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting adapter&quot;);\r\n        rvNotification.setAdapter(adapter);\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting layout&quot;);\r\n        rvNotification.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Getting the MLD&quot;);\r\n        MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifs = notificationsViewModel.getNotifications();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Adding observer&quot;);\r\n        notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;NotificationContent&gt; notificationContents) {\r\n                Log.d(&quot;ANDROIDAPP&quot;, String.format(&quot;onChanged: detected and done, item size %d&quot;, notificationContents.size()));\r\n                adapter.updateNotifications(notificationContents);\r\n            }\r\n        });\r\n\r\n        return binding.getRoot();\r\n    }\r\n```\r\n\r\nCode of the `ViewModel` implementation :\r\n```java\r\npublic class NotificationsViewModel  extends ViewModel {\r\n    private final MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifications = new MutableLiveData&lt;List&lt;NotificationContent&gt;&gt;();\r\n\r\n    public MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; getNotifications() {\r\n        if (notifications.getValue() == null) {\r\n            notifications.setValue(new ArrayList&lt;NotificationContent&gt;());\r\n        }\r\n        return notifications;\r\n    }\r\n\r\n    public void removeNotification(NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.remove(notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n\r\n    public void addNotification(NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.add(notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n\r\n    public void addNotification(int position, NotificationContent notificationContent) {\r\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\r\n        n.add(position, notificationContent);\r\n        notifications.setValue(n);\r\n    }\r\n}\r\n```\r\n\r\nAnd finally code of the `RecyclerView.Adapter` :\r\n```java\r\npublic class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.ViewHolder&gt; {\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        // View Items declaration...\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            // View items retrieval ...\r\n        }\r\n    }\r\n\r\n    private List&lt;NotificationContent&gt; mNotifications = new ArrayList&lt;&gt;();\r\n\r\n    public void updateNotifications(List&lt;NotificationContent&gt; newNotifications) {\r\n        Log.d(&quot;NA&quot;, &quot;Clearing&quot;);\r\n        this.mNotifications.clear();\r\n\r\n        Log.d(&quot;NA&quot;, &quot;Setting&quot;);\r\n        this.mNotifications = newNotifications;\r\n\r\n        Log.d(&quot;NA&quot;, &quot;NotifyChangedDataset&quot;);\r\n        this.notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        // Some code ...\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        // Some code ...     \r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mNotifications.size();\r\n    }\r\n}\r\n```\r\n\r\nTo get an idea of the interplay between my fragments here is my `nav_graph.xml` graphical representation :\r\n[![nav graph in Android Studio capture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aeQMx.png\r\n\r\nBut the problem is that after adding an item through the `addNotificationFragment` it ends up emptying, here is the log from the log given in the code :\r\n```\r\nD/ANDROIDAPP: onViewCreated: addNotification 1\r\nD/ANDROIDAPP: onChanged: detected and done, item size 1\r\nD/NA: Clearing\r\nD/NA: Setting\r\nD/NA: NotifyChangedDataset\r\nD/ANDROIDAPP: onViewCreated: addNotification 2\r\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\r\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\r\nD/NA: New Adapter\r\nD/NA: Setting adapter\r\nD/NA: Setting layout\r\nD/NA: Item Touche helper\r\nD/NA: Button listener\r\nD/NA: Getting the MLD\r\nD/NA: Adding observer\r\nD/ANDROIDAPP: onChanged: detected and done, item size 0\r\nD/NA: Clearing\r\nD/NA: Setting\r\nD/NA: NotifyChangedDataset\r\n```","title":"Android ViewModel deletes all my data when observing","body":"<p>I am developing an app with Android Studio, and I wish to use MutableLiveData alongside with RecyclerView. Problem is, when I add a new item to the MutableLiveData, it gets updated, then going back to the previous fragment, the item gets erased for some unknown reason.\nCode in my <code>FirstFragment.java</code> for the method <code>onCreateView</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n\n        notificationsViewModel = new ViewModelProvider(requireActivity()).get(NotificationsViewModel.class);\n\n        // Binding recycler views\n        // Notifications\n\n        RecyclerView rvNotification = binding.registeredNotification;\n\n        Log.d(&quot;NA&quot;, &quot;New Adapter&quot;);\n        NotificationAdapter adapter = new NotificationAdapter();\n\n        Log.d(&quot;NA&quot;, &quot;Setting adapter&quot;);\n        rvNotification.setAdapter(adapter);\n\n        Log.d(&quot;NA&quot;, &quot;Setting layout&quot;);\n        rvNotification.setLayoutManager(new LinearLayoutManager(getActivity()));\n\n        Log.d(&quot;NA&quot;, &quot;Getting the MLD&quot;);\n        MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifs = notificationsViewModel.getNotifications();\n\n        Log.d(&quot;NA&quot;, &quot;Adding observer&quot;);\n        notifs.observe(requireActivity(), new Observer&lt;List&lt;NotificationContent&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;NotificationContent&gt; notificationContents) {\n                Log.d(&quot;ANDROIDAPP&quot;, String.format(&quot;onChanged: detected and done, item size %d&quot;, notificationContents.size()));\n                adapter.updateNotifications(notificationContents);\n            }\n        });\n\n        return binding.getRoot();\n    }\n</code></pre>\n<p>Code of the <code>ViewModel</code> implementation :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotificationsViewModel  extends ViewModel {\n    private final MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; notifications = new MutableLiveData&lt;List&lt;NotificationContent&gt;&gt;();\n\n    public MutableLiveData&lt;List&lt;NotificationContent&gt;&gt; getNotifications() {\n        if (notifications.getValue() == null) {\n            notifications.setValue(new ArrayList&lt;NotificationContent&gt;());\n        }\n        return notifications;\n    }\n\n    public void removeNotification(NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.remove(notificationContent);\n        notifications.setValue(n);\n    }\n\n    public void addNotification(NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.add(notificationContent);\n        notifications.setValue(n);\n    }\n\n    public void addNotification(int position, NotificationContent notificationContent) {\n        List&lt;NotificationContent&gt; n = getNotifications().getValue();\n        n.add(position, notificationContent);\n        notifications.setValue(n);\n    }\n}\n</code></pre>\n<p>And finally code of the <code>RecyclerView.Adapter</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.ViewHolder&gt; {\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        // View Items declaration...\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            // View items retrieval ...\n        }\n    }\n\n    private List&lt;NotificationContent&gt; mNotifications = new ArrayList&lt;&gt;();\n\n    public void updateNotifications(List&lt;NotificationContent&gt; newNotifications) {\n        Log.d(&quot;NA&quot;, &quot;Clearing&quot;);\n        this.mNotifications.clear();\n\n        Log.d(&quot;NA&quot;, &quot;Setting&quot;);\n        this.mNotifications = newNotifications;\n\n        Log.d(&quot;NA&quot;, &quot;NotifyChangedDataset&quot;);\n        this.notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        // Some code ...\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        // Some code ...     \n    }\n\n    @Override\n    public int getItemCount() {\n        return mNotifications.size();\n    }\n}\n</code></pre>\n<p>To get an idea of the interplay between my fragments here is my <code>nav_graph.xml</code> graphical representation :\n<a href=\"https://i.stack.imgur.com/aeQMx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aeQMx.png\" alt=\"nav graph in Android Studio capture\" /></a></p>\n<p>But the problem is that after adding an item through the <code>addNotificationFragment</code> it ends up emptying, here is the log from the log given in the code :</p>\n<pre><code>D/ANDROIDAPP: onViewCreated: addNotification 1\nD/ANDROIDAPP: onChanged: detected and done, item size 1\nD/NA: Clearing\nD/NA: Setting\nD/NA: NotifyChangedDataset\nD/ANDROIDAPP: onViewCreated: addNotification 2\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\nD/ForceDarkHelper: updateByCheckExcludeList: pkg: com.etilawin.tgvmaxplanner activity: com.etilawin.tgvmaxplanner.MainActivity@df816d4\nD/NA: New Adapter\nD/NA: Setting adapter\nD/NA: Setting layout\nD/NA: Item Touche helper\nD/NA: Button listener\nD/NA: Getting the MLD\nD/NA: Adding observer\nD/ANDROIDAPP: onChanged: detected and done, item size 0\nD/NA: Clearing\nD/NA: Setting\nD/NA: NotifyChangedDataset\n</code></pre>\n"},{"tags":["java","spring-boot","oop","class-diagram","class-design"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677220095,"post_id":75553186,"comment_id":133298417,"body_markdown":"The code has been generated in a way that is idiosyncratic to your UML tool.  As shown, it is not valid Java.  Each method in a class must either have an implementation or be declared `abstract`, and if any method is declared `abstract` then so must be the class itself.  Only you can say which way to go to correct the code for your purposes.","body":"The code has been generated in a way that is idiosyncratic to your UML tool.  As shown, it is not valid Java.  Each method in a class must either have an implementation or be declared <code>abstract</code>, and if any method is declared <code>abstract</code> then so must be the class itself.  Only you can say which way to go to correct the code for your purposes."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220526,"post_id":75553186,"comment_id":133298490,"body_markdown":"Yes, but it is generally shown as shown above. In that case: **1.** I think it is a general convention for showing class implementation of Class Diagrams, right?","body":"Yes, but it is generally shown as shown above. In that case: <b>1.</b> I think it is a general convention for showing class implementation of Class Diagrams, right?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677220601,"post_id":75553186,"comment_id":133298514,"body_markdown":"I would like to ask, which uml tool to use","body":"I would like to ask, which uml tool to use"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220626,"post_id":75553186,"comment_id":133298518,"body_markdown":"**2.** When I make the implementation, I keep all the fields in my `Account` entity and remove methods from `Account` class. Then, implement these methods to `AccountService` class in my Spring Boot apps. Is there any problem with this approach?","body":"<b>2.</b> When I make the implementation, I keep all the fields in my <code>Account</code> entity and remove methods from <code>Account</code> class. Then, implement these methods to <code>AccountService</code> class in my Spring Boot apps. Is there any problem with this approach?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677220675,"post_id":75553186,"comment_id":133298534,"body_markdown":"@时间只会一直走 I did not use UML, it is generally shown like that. The example is on https://www.sartiano.it/marco/diigo/System%20Design/Grokking%20the%20Object%20Oriented%20Design%20Interview.html","body":"@时间只会一直走 I did not use UML, it is generally shown like that. The example is on <a href=\"https://www.sartiano.it/marco/diigo/System%20Design/Grokking%20the%20Object%20Oriented%20Design%20Interview.html\" rel=\"nofollow noreferrer\">sartiano.it/marco/diigo/System%20Design/&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677222212,"post_id":75553186,"comment_id":133298792,"body_markdown":"@JohnBollinger Do you have an idea about my questions #1 and #2 ?","body":"@JohnBollinger Do you have an idea about my questions #1 and #2 ?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677222587,"post_id":75553186,"comment_id":133298849,"body_markdown":"@时间只会一直走 CanCinCon, are you there amigo?","body":"@时间只会一直走 CanCinCon, are you there amigo?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1677222809,"post_id":75553186,"comment_id":133298889,"body_markdown":"@fredrick: (1) No. Where earlier I said it&#39;s &quot;idiosyncratic&quot;, that means it&#39;s specific to your tool.  (2) If you want there to be an `AccountService` class bearing those methods, then it&#39;s odd that you did not model it that way in your UML.  If you&#39;re asking about Spring conventions then I can&#39;t help you, but others around here can.","body":"@fredrick: (1) No. Where earlier I said it&#39;s &quot;idiosyncratic&quot;, that means it&#39;s specific to your tool.  (2) If you want there to be an <code>AccountService</code> class bearing those methods, then it&#39;s odd that you did not model it that way in your UML.  If you&#39;re asking about Spring conventions then I can&#39;t help you, but others around here can."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677223515,"post_id":75553186,"comment_id":133299019,"body_markdown":"@JohnBollinger Would you please post a proper Class Diagram with just one field and one method and its proper implementation example?","body":"@JohnBollinger Would you please post a proper Class Diagram with just one field and one method and its proper implementation example?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677229735,"post_id":75553186,"comment_id":133300511,"body_markdown":"Take a look at this   https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html   and take a look at this   https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application   , if you are referring to representations of the contents of a class in a tutorial, they are spurious for use in any program, they only represent contents that is for the purpose of the tutorial.  Here&#39;s what it should more appear when written finished.  https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableDemoProject/src/components/TableDemo.java","body":"Take a look at this   <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a>   and take a look at this   <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>   , if you are referring to representations of the contents of a class in a tutorial, they are spurious for use in any program, they only represent contents that is for the purpose of the tutorial.  Here&#39;s what it should more appear when written finished.  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableDemoProject/src/components/TableDemo.java\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/examples/components/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677237319,"post_id":75553186,"comment_id":133302605,"body_markdown":"Thanks for links Samuel, but I am just wondering the proper place for the implementation of methods. So, for Spring Boot apps, is it the Service or Util methods rather than entity classes?","body":"Thanks for links Samuel, but I am just wondering the proper place for the implementation of methods. So, for Spring Boot apps, is it the Service or Util methods rather than entity classes?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677530288,"post_id":75553186,"comment_id":133352601,"body_markdown":"I don&#39;t really understand your question: today UML is understood as a tool for documenting and a quick overview of (object oriented) code - the abilities to generate code from it are - improvable - to say it nicely. So do you want to know how to model your classes, or if your usual class design is OK? I really don&#39;t get it. Above code does not compile in Java. so maybe you want to know the gap to compiling code?","body":"I don&#39;t really understand your question: today UML is understood as a tool for documenting and a quick overview of (object oriented) code - the abilities to generate code from it are - improvable - to say it nicely. So do you want to know how to model your classes, or if your usual class design is OK? I really don&#39;t get it. Above code does not compile in Java. so maybe you want to know the gap to compiling code?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677530847,"post_id":75553186,"comment_id":133352732,"body_markdown":"I just want to get idea about transforming a Class Diagram to Java classes / entities. You may just give an example with 1-2 classes and 1-2 fields and methods. That&#39;s it, but would be so useful.","body":"I just want to get idea about transforming a Class Diagram to Java classes / entities. You may just give an example with 1-2 classes and 1-2 fields and methods. That&#39;s it, but would be so useful."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677531242,"post_id":75553186,"comment_id":133352819,"body_markdown":"I think that the explanation in the answer from @Christophe together with the code you posted, everything is said: a class diagram contains multiple classes and describes their members: fields and methods. And sometimes also relations between the classes. Nothing about behaviour.","body":"I think that the explanation in the answer from @Christophe together with the code you posted, everything is said: a class diagram contains multiple classes and describes their members: fields and methods. And sometimes also relations between the classes. Nothing about behaviour."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677411148,"creation_date":1677411148,"answer_id":75571681,"question_id":75553186,"body_markdown":"UML is design agnostic.  If you define a class like: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt is understood like the code you&#39;ve shown, and any decent code generator would generate the code you have. \r\n\r\nIf you want to keep your domain class `Account`  with only data and separate the domain logic into an `AccountService` class, it is your right, but you&#39;ll have to model two distinct classes in UML.  This design approach is by the way called the [anemic domain model][2] (see also [here][3]), and,  like it or not, it is considered as an anti-pattern.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dki3S.png\r\n  [2]: https://martinfowler.com/bliki/AnemicDomainModel.html\r\n  [3]: https://en.wikipedia.org/wiki/Anemic_domain_model","title":"Why Class Diagram methods are defined in the same class?","body":"<p>UML is design agnostic.  If you define a class like:</p>\n<p><a href=\"https://i.stack.imgur.com/dki3S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dki3S.png\" alt=\"enter image description here\" /></a></p>\n<p>It is understood like the code you've shown, and any decent code generator would generate the code you have.</p>\n<p>If you want to keep your domain class <code>Account</code>  with only data and separate the domain logic into an <code>AccountService</code> class, it is your right, but you'll have to model two distinct classes in UML.  This design approach is by the way called the <a href=\"https://martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"nofollow noreferrer\">anemic domain model</a> (see also <a href=\"https://en.wikipedia.org/wiki/Anemic_domain_model\" rel=\"nofollow noreferrer\">here</a>), and,  like it or not, it is considered as an anti-pattern.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75571681,"answer_count":1,"score":1,"last_activity_date":1677532351,"creation_date":1677219542,"question_id":75553186,"body_markdown":"In class diagram representation, the fields and the class related methods are shown on the diagram. However, when converting the diagram to a class, I see that these methods are shown like an interface method as shown:\r\n\r\n\r\n```\r\npublic class Account {\r\n\r\n    private String userName;\r\n    private String password;\r\n    private String name;\r\n    private String email;\r\n    private String phone;\r\n    private List&lt;CreditCard&gt; creditCards;\r\n\r\n    public boolean addProduct(Product product);\r\n    public boolean addProductReview(ProductReview review);\r\n    public boolean resetPassword();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nIs it the class implementation that is normally used? Or just an higher level implementation? Because normally, I would implement `addProduct(Product product)` and the other methods in the service of this class (`AccountService`). Is it wrong? ","title":"Why Class Diagram methods are defined in the same class?","body":"<p>In class diagram representation, the fields and the class related methods are shown on the diagram. However, when converting the diagram to a class, I see that these methods are shown like an interface method as shown:</p>\n<pre><code>public class Account {\n\n    private String userName;\n    private String password;\n    private String name;\n    private String email;\n    private String phone;\n    private List&lt;CreditCard&gt; creditCards;\n\n    public boolean addProduct(Product product);\n    public boolean addProductReview(ProductReview review);\n    public boolean resetPassword();\n}\n</code></pre>\n<p>Is it the class implementation that is normally used? Or just an higher level implementation? Because normally, I would implement <code>addProduct(Product product)</code> and the other methods in the service of this class (<code>AccountService</code>). Is it wrong?</p>\n"},{"tags":["java","scala","generics"],"owner":{"account_id":2074407,"reputation":1209,"user_id":1848172,"accept_rate":70,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1677530895,"creation_date":1644779682,"question_id":71104036,"body_markdown":"Suppose we have following Java interface defined in some external library (so we have no control over it):\r\n```java\r\npublic interface JavaTest&lt;R extends Something&gt; { }\r\n\r\npublic class JavaTestImpl implements JavaTest&lt;SomethingSpecific&gt; {\r\n  public static final JavaTestImpl INSTANCE = ...\r\n}\r\n```\r\n\r\nNow we want to write Scala function which will take arbitrary instance of `JavaTest` as argument and extract both type of instance itself and `R` generic argument (e.g. we want to do implicit typeclass lookup on instance class):\r\n\r\n```scala \r\ndef test[A &lt;: Something, X &lt;: JavaTest[A]](x: X)(implicit tc: TypeClass[X]): A = {}\r\n\r\ntest(JavaTestImpl.INSTANCE) // should be [SomethingSpecific, JavaTestImpl]\r\n```\r\n\r\nunfortunately, it does not work straightforward way: compiler infers `test` invocation as `[Nothing, JavaTestImpl]` and then immediately fails because inferred types are wrong and don&#39;t satisfy the constraints. \r\n\r\nIs there a way to make Scala compiler infer corresponding type arguments without changing Java part and without writing a lot of boilerplate every time? Or, to put question another way, is there a way to extract generic type (`SomethingSpecific`) given that we know type of instance (`JavaTestImpl`)?","title":"Scala generics type inference for Java classes","body":"<p>Suppose we have following Java interface defined in some external library (so we have no control over it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface JavaTest&lt;R extends Something&gt; { }\n\npublic class JavaTestImpl implements JavaTest&lt;SomethingSpecific&gt; {\n  public static final JavaTestImpl INSTANCE = ...\n}\n</code></pre>\n<p>Now we want to write Scala function which will take arbitrary instance of <code>JavaTest</code> as argument and extract both type of instance itself and <code>R</code> generic argument (e.g. we want to do implicit typeclass lookup on instance class):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def test[A &lt;: Something, X &lt;: JavaTest[A]](x: X)(implicit tc: TypeClass[X]): A = {}\n\ntest(JavaTestImpl.INSTANCE) // should be [SomethingSpecific, JavaTestImpl]\n</code></pre>\n<p>unfortunately, it does not work straightforward way: compiler infers <code>test</code> invocation as <code>[Nothing, JavaTestImpl]</code> and then immediately fails because inferred types are wrong and don't satisfy the constraints.</p>\n<p>Is there a way to make Scala compiler infer corresponding type arguments without changing Java part and without writing a lot of boilerplate every time? Or, to put question another way, is there a way to extract generic type (<code>SomethingSpecific</code>) given that we know type of instance (<code>JavaTestImpl</code>)?</p>\n"},{"tags":["java","multithreading","thread-sleep"],"answers":[{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1402266230,"creation_date":1402266230,"answer_id":24111502,"question_id":24111441,"body_markdown":"`Thread.sleep` throws `InterruptedException` if the thread is interrupted during the sleep. Catch that, and check your flag.","title":"Java Wake Sleeping Thread","body":"<p><code>Thread.sleep</code> throws <code>InterruptedException</code> if the thread is interrupted during the sleep. Catch that, and check your flag.</p>\n"},{"tags":[],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1402266553,"creation_date":1402266251,"answer_id":24111504,"question_id":24111441,"body_markdown":"You can call the `interrupt()` method on your thread and will make your Thread go to `running state` from `block state`, but it will throw an exception which is `InterruptedException` which by then you can shutdown your thread in the `catch` block\r\n\r\nAlso other solution is that you can use the Timer Task that will call the run method on a certain time you specified without putting your Thread to the `block state`\r\n\r\n**example:**\r\n\r\n    public class TimerBomb {\r\n      Toolkit toolkit;\r\n    \r\n      Timer timer;\r\n      int count = 0;\r\n      \r\n      public TimerBomb(int seconds) {\r\n        toolkit = Toolkit.getDefaultToolkit();\r\n        timer = new Timer();\r\n        timer.schedule(new RemindTask(), seconds * 1000, seconds*1000);\r\n      }\r\n    \r\n      class RemindTask extends TimerTask {\r\n        public void run() {\r\n    \r\n        \t//do stuff here\t\r\n            \r\n        }\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        System.out.println(&quot;About to schedule task.&quot;);\r\n    \r\n        Thread t = new Thread(new Runnable() {\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t    new TimerBomb(5);\r\n    \r\n    \t\t\t\r\n    \t\t}\r\n    \t});\r\n        t.start();\r\n        System.out.println(&quot;Task scheduled.&quot;);\r\n      }\r\n    }\r\n\r\nIt will run every 5 second forever.","title":"Java Wake Sleeping Thread","body":"<p>You can call the <code>interrupt()</code> method on your thread and will make your Thread go to <code>running state</code> from <code>block state</code>, but it will throw an exception which is <code>InterruptedException</code> which by then you can shutdown your thread in the <code>catch</code> block</p>\n\n<p>Also other solution is that you can use the Timer Task that will call the run method on a certain time you specified without putting your Thread to the <code>block state</code></p>\n\n<p><strong>example:</strong></p>\n\n<pre><code>public class TimerBomb {\n  Toolkit toolkit;\n\n  Timer timer;\n  int count = 0;\n\n  public TimerBomb(int seconds) {\n    toolkit = Toolkit.getDefaultToolkit();\n    timer = new Timer();\n    timer.schedule(new RemindTask(), seconds * 1000, seconds*1000);\n  }\n\n  class RemindTask extends TimerTask {\n    public void run() {\n\n        //do stuff here \n\n    }\n  }\n\n  public static void main(String args[]) {\n    System.out.println(\"About to schedule task.\");\n\n    Thread t = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            new TimerBomb(5);\n\n\n        }\n    });\n    t.start();\n    System.out.println(\"Task scheduled.\");\n  }\n}\n</code></pre>\n\n<p>It will run every 5 second forever.</p>\n"},{"tags":[],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1402266280,"creation_date":1402266280,"answer_id":24111508,"question_id":24111441,"body_markdown":"If the threads are sleeping with `Thread.sleep(...)`, you can wake them up with `Thread.interrupt()`.  Make sure you&#39;re handling the `InterruptedException` and testing `Thread.currentThread().isInterrupted()` in your loops.","title":"Java Wake Sleeping Thread","body":"<p>If the threads are sleeping with <code>Thread.sleep(...)</code>, you can wake them up with <code>Thread.interrupt()</code>.  Make sure you're handling the <code>InterruptedException</code> and testing <code>Thread.currentThread().isInterrupted()</code> in your loops.</p>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402267306,"creation_date":1402267306,"answer_id":24111620,"question_id":24111441,"body_markdown":"You should look into ExecutorService and its shutdownNow() method (which generally interrupts all the active threads). You sense reinventing the scheduling wheel.","title":"Java Wake Sleeping Thread","body":"<p>You should look into ExecutorService and its shutdownNow() method (which generally interrupts all the active threads). You sense reinventing the scheduling wheel.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402320685,"creation_date":1402320685,"answer_id":24121386,"question_id":24111441,"body_markdown":"All of the other answers are good answers to the question that you actually asked, but none of them gives the best answer to the question that you _should_ have asked.  The question is, what&#39;s the best way to schedule several periodic tasks that must recur with different periods?  The answer is, use a java.util.concurrent.ScheduledExecutorService.\r\n\r\nLike all ExeuctorServices, it provides methods, shutdown() and shutdownNow(), for when you want the tasks to stop.","title":"Java Wake Sleeping Thread","body":"<p>All of the other answers are good answers to the question that you actually asked, but none of them gives the best answer to the question that you <em>should</em> have asked.  The question is, what's the best way to schedule several periodic tasks that must recur with different periods?  The answer is, use a java.util.concurrent.ScheduledExecutorService.</p>\n\n<p>Like all ExeuctorServices, it provides methods, shutdown() and shutdownNow(), for when you want the tasks to stop.</p>\n"},{"tags":[],"owner":{"account_id":21513721,"reputation":49,"user_id":15855970,"display_name":"Attila Hejja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677530275,"creation_date":1677530275,"answer_id":75585328,"question_id":24111441,"body_markdown":"How will you make a difference between do an action or shutdown the thread? Set an action code into the thread and interrupt the thread is not atomic. Between this two action may raise an additional interrupt from a system for instance and this info will be lost, because the thread see only the action code after an interrupt, but don&#39;t care about how many interrupt happened.\r\n\r\nSo, I think the thread interrupt shall be used only for gracefully finish a thread.\r\n","title":"Java Wake Sleeping Thread","body":"<p>How will you make a difference between do an action or shutdown the thread? Set an action code into the thread and interrupt the thread is not atomic. Between this two action may raise an additional interrupt from a system for instance and this info will be lost, because the thread see only the action code after an interrupt, but don't care about how many interrupt happened.</p>\n<p>So, I think the thread interrupt shall be used only for gracefully finish a thread.</p>\n"}],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26354,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":24111502,"answer_count":6,"score":8,"last_activity_date":1677530275,"creation_date":1402265831,"question_id":24111441,"body_markdown":"I did some reading of other post but didn&#39;t find an exact answer to what I&#39;m looking for, so I hope someone can give some some clarification.\r\n\r\nI have a program that will run for some time. I have some threads that run in the back ground that perform various tasks, to keep things simple let think of 3 threads. `ThreadA` performs a task every 10 seconds, where `ThreadB` does something every 30 seconds and `ThreadC` does something every 5 mintues.\r\n\r\nI don&#39;t use busy waiting, and put the threads to sleep for the designated times.\r\n\r\nMy question is regarding a clean shut down. I have a variable that each of the threads have read access too, so they can see when the user initiates the exit of the program. The next time the threads are active, they exit their loops and join and all is good. But you can see that ThreadC only wakes up every 5 minutes.\r\n\r\nThe question I have is can I signal the sleeping threads to wake up and exit before their sleep time is over? If this is not possible, do I need to rework the code to use `wait()` and `notify()` or is there a better way?\r\n\r\n","title":"Java Wake Sleeping Thread","body":"<p>I did some reading of other post but didn't find an exact answer to what I'm looking for, so I hope someone can give some some clarification.</p>\n\n<p>I have a program that will run for some time. I have some threads that run in the back ground that perform various tasks, to keep things simple let think of 3 threads. <code>ThreadA</code> performs a task every 10 seconds, where <code>ThreadB</code> does something every 30 seconds and <code>ThreadC</code> does something every 5 mintues.</p>\n\n<p>I don't use busy waiting, and put the threads to sleep for the designated times.</p>\n\n<p>My question is regarding a clean shut down. I have a variable that each of the threads have read access too, so they can see when the user initiates the exit of the program. The next time the threads are active, they exit their loops and join and all is good. But you can see that ThreadC only wakes up every 5 minutes.</p>\n\n<p>The question I have is can I signal the sleeping threads to wake up and exit before their sleep time is over? If this is not possible, do I need to rework the code to use <code>wait()</code> and <code>notify()</code> or is there a better way?</p>\n"},{"tags":["java","docker","playwright-java"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1676589749,"post_id":75478872,"comment_id":133173213,"body_markdown":"The first `FROM` sets up a multi-stage build; that image&#39;s contents are discarded when you get to the second `FROM` line.  Assuming the final image is based on some sort of Debian-based distribution, you need to `RUN apt-get ...` after that final `FROM` line and not in an earlier build stage.  (Also look up the correct package names on https://packages.debian.org.)","body":"The first <code>FROM</code> sets up a multi-stage build; that image&#39;s contents are discarded when you get to the second <code>FROM</code> line.  Assuming the final image is based on some sort of Debian-based distribution, you need to <code>RUN apt-get ...</code> after that final <code>FROM</code> line and not in an earlier build stage.  (Also look up the correct package names on <a href=\"https://packages.debian.org.\" rel=\"nofollow noreferrer\">packages.debian.org.</a>)"}],"answers":[{"tags":[],"owner":{"account_id":21224730,"reputation":1,"user_id":15610622,"display_name":"Krishna Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677530107,"creation_date":1677529722,"answer_id":75585256,"question_id":75478872,"body_markdown":"You must use `mcr.microsoft.com/playwright/java:v1.30.0-focal` provided by Microsoft Playwright team. It has jdk17, maven3 &amp; required browsers to execute your test.\r\n\r\nYou can use the below snippet as `Dockerfile` to build your own container to run your test.\r\n\r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    COPY . /e2e\r\n    WORKDIR /e2e\r\n    ENTRYPOINT /bin/bash\r\n\r\nBuild your own image using `docker build -t=&lt;DESIRED_IMAGE_NAME&gt;`\r\n\r\nCreate the container using `docker run -v $PWD/&lt;report_folder&gt;:/e2e/&lt;report_folder&gt; -it --rm &lt;DESIRED_IMAGE_NAME&gt;`\r\n\r\nNow, you can run your maven command in the container bash - `mvn clean verify`","title":"Run Spring Boot application using Playwright Java in Docker container","body":"<p>You must use <code>mcr.microsoft.com/playwright/java:v1.30.0-focal</code> provided by Microsoft Playwright team. It has jdk17, maven3 &amp; required browsers to execute your test.</p>\n<p>You can use the below snippet as <code>Dockerfile</code> to build your own container to run your test.</p>\n<pre><code>FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nCOPY . /e2e\nWORKDIR /e2e\nENTRYPOINT /bin/bash\n</code></pre>\n<p>Build your own image using <code>docker build -t=&lt;DESIRED_IMAGE_NAME&gt;</code></p>\n<p>Create the container using <code>docker run -v $PWD/&lt;report_folder&gt;:/e2e/&lt;report_folder&gt; -it --rm &lt;DESIRED_IMAGE_NAME&gt;</code></p>\n<p>Now, you can run your maven command in the container bash - <code>mvn clean verify</code></p>\n"}],"owner":{"account_id":10030252,"reputation":11,"user_id":19767912,"display_name":"user982455"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677530107,"creation_date":1676589418,"question_id":75478872,"body_markdown":"I have a Spring Boot application where I use Playwright Java in.\r\nI can get it to work when I running it locally on my Windows machine but when I try to run in a docker container I get the following error:\r\n\r\n    Host system is missing dependencies to run browsers. ║\r\n    2023-02-16 23:30:37 ║ Missing libraries:                                   ║\r\n    2023-02-16 23:30:37 ║     libnss3.so                                       ║\r\n    2023-02-16 23:30:37 ║     libnssutil3.so\r\n\r\nI try to run:\r\n\r\n    RUN apt-get install -y libnss3.so \\ \r\n    libnssutil3.so         \\ \r\n    libsmime3.so           \\ \r\n    libnspr4.so            \\ \r\n    libatk-1.0.so.0        \\ \r\n\r\nbut it only comes back with the same error.\r\nMy Dockerfile looks like this:\r\n\r\n    FROM ubuntu:22.04\r\n    \r\n    RUN apt-get install -y libnss3.so \\ \r\n    libnssutil3.so         \\ \r\n    libsmime3.so           \\ \r\n    libnspr4.so            \\ \r\n    &amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    \r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    FROM maven:3.8.3-openjdk-17\r\n    RUN mkdir /project\r\n    COPY . /project\r\n    WORKDIR /project\r\n    RUN mvn clean package -DskipTests\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\r\n\r\nI have alos tried this Dockerfile\r\n\r\n    FROM ubuntu:22.04    \r\n    RUN apt-get update &amp;&amp; playwright install-deps    \r\n    FROM mcr.microsoft.com/playwright/java:v1.30.0-focal\r\n    FROM maven:3.8.3-openjdk-17\r\n    RUN mkdir /project\r\n    COPY . /project\r\n    WORKDIR /project\r\n    RUN mvn clean package -DskipTests\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\r\n\r\nwith the same error.\r\n\r\nCurrently I just doing some test to see if I can get it to work so the class in the project where I use Playwright looks like this:\r\n\r\n    @Service\r\n    public class PlaywrightTest {\r\n    \r\n    \tPlaywright playwright;\r\n    \r\n    \tpublic void testPlaywright() {\r\n    \r\n    \t\tplaywright = Playwright.create();\r\n    \r\n    \t\tBrowser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(true));\r\n    \t\tBrowserContext context = browser.newContext();\r\n    \r\n    \t\tPage page = context.newPage();\r\n    \r\n    \t\tpage.navigate(&quot;https://www.google.com/&quot;);\r\n    \r\n    \t\tSystem.out.println(page.title());\r\n    \r\n    \t}\r\n    }\r\n\r\nWhen the application starts in docker it looks like this\r\n\r\n    2023-02-17 00:07:51 2023-02-16T23:07:51.131Z  INFO 1 --- [           main] s.g.a.ControllerApplication           : Started ControllerApplication in 2.693 seconds (process running for 3.142)\r\n    2023-02-17 00:07:52 BEWARE: your OS is not officially supported by Playwright; downloading fallback build.\r\n    2023-02-17 00:07:52 Downloading Chromium 110.0.5481.38 (playwright build v1045) from https://playwright.azureedge.net/builds/chromium/1045/chromium-linux.zip\r\n    \r\n    .....downloading....\r\n    \r\n    2023-02-17 00:08:35 Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-17 00:08:35 2023-02-16T23:08:35.032Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    2023-02-17 00:08:35 \r\n    2023-02-17 00:08:35 java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar!/:3.0.2]\r\n    2023-02-17 00:08:35     at se.demo.controller.controllerApplication.main(controllerApplication.java:15) ~[classes!/:1]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    2023-02-17 00:08:35     at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[controller-1.jar:1]\r\n    2023-02-17 00:08:35 Caused by: com.microsoft.playwright.PlaywrightException: Error {\r\n    2023-02-17 00:08:35   message=&#39;\r\n    2023-02-17 00:08:35 ╔══════════════════════════════════════════════════════╗\r\n    2023-02-17 00:08:35 ║ Host system is missing dependencies to run browsers. ║\r\n    2023-02-17 00:08:35 ║ Missing libraries:                                   ║\r\n    2023-02-17 00:08:35 ║     libnss3.so                                       ║\r\n    2023-02-17 00:08:35 ║     libnssutil3.so                                   ║\r\n    2023-02-17 00:08:35 ║     libsmime3.so                                     ║\r\n    2023-02-17 00:08:35 ║     libnspr4.so                                      ║\r\n    2023-02-17 00:08:35 ║     libatk-1.0.so.0                                  ║\r\n    2023-02-17 00:08:35 ║     libatk-bridge-2.0.so.0                           ║\r\n    2023-02-17 00:08:35 ║     libcups.so.2                                     ║\r\n    2023-02-17 00:08:35 ║     libdrm.so.2                                      ║\r\n    2023-02-17 00:08:35 ║     libdbus-1.so.3                                   ║\r\n    2023-02-17 00:08:35 ║     libatspi.so.0                                    ║\r\n    2023-02-17 00:08:35 ║     libX11.so.6                                      ║\r\n    2023-02-17 00:08:35 ║     libXcomposite.so.1                               ║\r\n    2023-02-17 00:08:35 ║     libXdamage.so.1                                  ║\r\n    2023-02-17 00:08:35 ║     libXext.so.6                                     ║\r\n    2023-02-17 00:08:35 ║     libXfixes.so.3                                   ║\r\n    2023-02-17 00:08:35 ║     libXrandr.so.2                                   ║\r\n    2023-02-17 00:08:35 ║     libgbm.so.1                                      ║\r\n    2023-02-17 00:08:35 ║     libxcb.so.1                                      ║\r\n    2023-02-17 00:08:35 ║     libxkbcommon.so.0                                ║\r\n    2023-02-17 00:08:35 ║     libpango-1.0.so.0                                ║\r\n    2023-02-17 00:08:35 ║     libcairo.so.2                                    ║\r\n    2023-02-17 00:08:35 ║     libasound.so.2                                   ║\r\n    2023-02-17 00:08:35 ╚══════════════════════════════════════════════════════╝\r\n    2023-02-17 00:08:35   name=&#39;Error\r\n    2023-02-17 00:08:35   stack=&#39;Error:\r\n","title":"Run Spring Boot application using Playwright Java in Docker container","body":"<p>I have a Spring Boot application where I use Playwright Java in.\nI can get it to work when I running it locally on my Windows machine but when I try to run in a docker container I get the following error:</p>\n<pre><code>Host system is missing dependencies to run browsers. ║\n2023-02-16 23:30:37 ║ Missing libraries:                                   ║\n2023-02-16 23:30:37 ║     libnss3.so                                       ║\n2023-02-16 23:30:37 ║     libnssutil3.so\n</code></pre>\n<p>I try to run:</p>\n<pre><code>RUN apt-get install -y libnss3.so \\ \nlibnssutil3.so         \\ \nlibsmime3.so           \\ \nlibnspr4.so            \\ \nlibatk-1.0.so.0        \\ \n</code></pre>\n<p>but it only comes back with the same error.\nMy Dockerfile looks like this:</p>\n<pre><code>FROM ubuntu:22.04\n\nRUN apt-get install -y libnss3.so \\ \nlibnssutil3.so         \\ \nlibsmime3.so           \\ \nlibnspr4.so            \\ \n&amp;&amp; apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nFROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nFROM maven:3.8.3-openjdk-17\nRUN mkdir /project\nCOPY . /project\nWORKDIR /project\nRUN mvn clean package -DskipTests\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\n</code></pre>\n<p>I have alos tried this Dockerfile</p>\n<pre><code>FROM ubuntu:22.04    \nRUN apt-get update &amp;&amp; playwright install-deps    \nFROM mcr.microsoft.com/playwright/java:v1.30.0-focal\nFROM maven:3.8.3-openjdk-17\nRUN mkdir /project\nCOPY . /project\nWORKDIR /project\nRUN mvn clean package -DskipTests\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/controller-1.jar&quot;]\n</code></pre>\n<p>with the same error.</p>\n<p>Currently I just doing some test to see if I can get it to work so the class in the project where I use Playwright looks like this:</p>\n<pre><code>@Service\npublic class PlaywrightTest {\n\n    Playwright playwright;\n\n    public void testPlaywright() {\n\n        playwright = Playwright.create();\n\n        Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setHeadless(true));\n        BrowserContext context = browser.newContext();\n\n        Page page = context.newPage();\n\n        page.navigate(&quot;https://www.google.com/&quot;);\n\n        System.out.println(page.title());\n\n    }\n}\n</code></pre>\n<p>When the application starts in docker it looks like this</p>\n<pre><code>2023-02-17 00:07:51 2023-02-16T23:07:51.131Z  INFO 1 --- [           main] s.g.a.ControllerApplication           : Started ControllerApplication in 2.693 seconds (process running for 3.142)\n2023-02-17 00:07:52 BEWARE: your OS is not officially supported by Playwright; downloading fallback build.\n2023-02-17 00:07:52 Downloading Chromium 110.0.5481.38 (playwright build v1045) from https://playwright.azureedge.net/builds/chromium/1045/chromium-linux.zip\n\n.....downloading....\n\n2023-02-17 00:08:35 Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-17 00:08:35 2023-02-16T23:08:35.032Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2023-02-17 00:08:35 \n2023-02-17 00:08:35 java.lang.IllegalStateException: Failed to execute ApplicationRunner\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar!/:3.0.2]\n2023-02-17 00:08:35     at se.demo.controller.controllerApplication.main(controllerApplication.java:15) ~[classes!/:1]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n2023-02-17 00:08:35     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n2023-02-17 00:08:35     at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n2023-02-17 00:08:35     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[controller-1.jar:1]\n2023-02-17 00:08:35     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[controller-1.jar:1]\n2023-02-17 00:08:35 Caused by: com.microsoft.playwright.PlaywrightException: Error {\n2023-02-17 00:08:35   message='\n2023-02-17 00:08:35 ╔══════════════════════════════════════════════════════╗\n2023-02-17 00:08:35 ║ Host system is missing dependencies to run browsers. ║\n2023-02-17 00:08:35 ║ Missing libraries:                                   ║\n2023-02-17 00:08:35 ║     libnss3.so                                       ║\n2023-02-17 00:08:35 ║     libnssutil3.so                                   ║\n2023-02-17 00:08:35 ║     libsmime3.so                                     ║\n2023-02-17 00:08:35 ║     libnspr4.so                                      ║\n2023-02-17 00:08:35 ║     libatk-1.0.so.0                                  ║\n2023-02-17 00:08:35 ║     libatk-bridge-2.0.so.0                           ║\n2023-02-17 00:08:35 ║     libcups.so.2                                     ║\n2023-02-17 00:08:35 ║     libdrm.so.2                                      ║\n2023-02-17 00:08:35 ║     libdbus-1.so.3                                   ║\n2023-02-17 00:08:35 ║     libatspi.so.0                                    ║\n2023-02-17 00:08:35 ║     libX11.so.6                                      ║\n2023-02-17 00:08:35 ║     libXcomposite.so.1                               ║\n2023-02-17 00:08:35 ║     libXdamage.so.1                                  ║\n2023-02-17 00:08:35 ║     libXext.so.6                                     ║\n2023-02-17 00:08:35 ║     libXfixes.so.3                                   ║\n2023-02-17 00:08:35 ║     libXrandr.so.2                                   ║\n2023-02-17 00:08:35 ║     libgbm.so.1                                      ║\n2023-02-17 00:08:35 ║     libxcb.so.1                                      ║\n2023-02-17 00:08:35 ║     libxkbcommon.so.0                                ║\n2023-02-17 00:08:35 ║     libpango-1.0.so.0                                ║\n2023-02-17 00:08:35 ║     libcairo.so.2                                    ║\n2023-02-17 00:08:35 ║     libasound.so.2                                   ║\n2023-02-17 00:08:35 ╚══════════════════════════════════════════════════════╝\n2023-02-17 00:08:35   name='Error\n2023-02-17 00:08:35   stack='Error:\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677529847,"creation_date":1677529847,"answer_id":75585277,"question_id":75583421,"body_markdown":"Category having multiple subcategories using UUIDs should look something more like:\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n      private List&lt;SubCategory&gt; subCategories;\r\n      ..\r\n    }\r\n\r\n    @Entity\r\n    public class SubCategory {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;//UUIDs are unique, so no need for a composite ID!\r\n      \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;category_id&quot;)\r\n      private Category category;\r\n      ..\r\n    }\r\n\r\nI don&#39;t know why you have a roomie_categories with an ID, subcategory_id AND category_id UUIDs, but I suspect this isn&#39;t a Category-&gt;Subcategory relationship; Categories should have many subcategories, so cannot have only a single subcategory_id within the data. \r\n\r\nAssuming that is what you really have; that a subcategory is assigned some &#39;other&#39; category_id UUID that you need to have mapped as a separate FK within the category table with a subcategory_id value too, you might map it like this:\r\n\r\n\r\n    @Entity\r\n    public class SubCategory {\r\n      @EmbeddedId \r\n      private CategoryCompositeKey compositeKey;\r\n      ..\r\n    }\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @OneToOne(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;category_id&quot;)\r\n      @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategory_id&quot;\r\n      private SubCategory subCategory;\r\n      ..\r\n    }\r\n\r\nIf you just want access to the foreign key values in your entity, you might have confused @JoinColumn with @Override:\r\n\r\n    @Entity\r\n    public class Category {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.UUID)\r\n      private UUID id;\r\n    \r\n      @Embedded\r\n      @AttributeOverrides({\r\n      @AttributeOverride(name = &quot;categoryId&quot;, column = @Column(name = &quot;category_id&quot;)),\r\n      @AttributeOverride(name = &quot;subcategoryId&quot;, column = @Column(name = &quot;subcategory_id&quot;))\r\n    })\r\n      private SubCategory subCategory;\r\n      ..\r\n    }\r\n\r\nNote though that you will have to maintain this yourself and ensure that Subcategory is persisted/merged first before Categories can reference that data: if there are foreign key constraints in the database, JPA knows nothing about this category-&gt;subcategory reference so cannot order it for you.","title":"@ManyToOne mapping with only one field from the entity","body":"<p>Category having multiple subcategories using UUIDs should look something more like:</p>\n<pre><code>@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  private List&lt;SubCategory&gt; subCategories;\n  ..\n}\n\n@Entity\npublic class SubCategory {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;//UUIDs are unique, so no need for a composite ID!\n  \n  @ManyToOne\n  @JoinColumn(name = &quot;category_id&quot;)\n  private Category category;\n  ..\n}\n</code></pre>\n<p>I don't know why you have a roomie_categories with an ID, subcategory_id AND category_id UUIDs, but I suspect this isn't a Category-&gt;Subcategory relationship; Categories should have many subcategories, so cannot have only a single subcategory_id within the data.</p>\n<p>Assuming that is what you really have; that a subcategory is assigned some 'other' category_id UUID that you need to have mapped as a separate FK within the category table with a subcategory_id value too, you might map it like this:</p>\n<pre><code>@Entity\npublic class SubCategory {\n  @EmbeddedId \n  private CategoryCompositeKey compositeKey;\n  ..\n}\n\n@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @OneToOne(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;category_id&quot;)\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategory_id&quot;\n  private SubCategory subCategory;\n  ..\n}\n</code></pre>\n<p>If you just want access to the foreign key values in your entity, you might have confused @JoinColumn with @Override:</p>\n<pre><code>@Entity\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  @Embedded\n  @AttributeOverrides({\n  @AttributeOverride(name = &quot;categoryId&quot;, column = @Column(name = &quot;category_id&quot;)),\n  @AttributeOverride(name = &quot;subcategoryId&quot;, column = @Column(name = &quot;subcategory_id&quot;))\n})\n  private SubCategory subCategory;\n  ..\n}\n</code></pre>\n<p>Note though that you will have to maintain this yourself and ensure that Subcategory is persisted/merged first before Categories can reference that data: if there are foreign key constraints in the database, JPA knows nothing about this category-&gt;subcategory reference so cannot order it for you.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75585277,"answer_count":1,"score":1,"last_activity_date":1677529847,"creation_date":1677517307,"question_id":75583421,"body_markdown":"[![roomie_categories][1]][1]\r\n\r\nWe have this `roomie_categories` table which has composite primary keys and is mapped in the application as follows:\r\n```java\r\n@Data\r\n@Embeddable\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CategoryCompositeKey {\r\n  private UUID subcategoryId;\r\n  private UUID categoryId;\r\n}\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;roomie_categories&quot;)\r\npublic class SubCategory {\r\n  @EmbeddedId private CategoryCompositeKey compositeKey;\r\n\r\n  @Column(name = &quot;subcategory&quot;)\r\n  private String subCategory;\r\n\r\n  private String category;\r\n  private String thumbnail;\r\n}\r\n```\r\n[![product_catalog][2]][2]\r\n\r\nI have this `product_catalog` table with two columns, `category_id` and `subcategory_id` which should reference the composite keys from the previous table. I didn&#39;t know how to map those so I did it this way:\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;product_catalog&quot;)\r\npublic class Catalog {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.UUID)\r\n  private UUID id;\r\n\r\n  private String description;\r\n  private String blurb;\r\n  private String type;\r\n  private String surfaceType;\r\n\r\n  @Embedded\r\n  @ManyToOne(fetch = FetchType.LAZY, targetEntity = SubCategory.class)\r\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;categoryId&quot;)\r\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategoryId&quot;)\r\n  private CategoryCompositeKey categoryCompositeKey;\r\n\r\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\r\n  private List&lt;Selection&gt; selections;\r\n}\r\n```\r\nThis worked and didn&#39;t throw any error on start-up but, as I was retrieving records, I got the following error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Can not set com...entities.CategoryCompositeKey field com...entities.Catalog.categoryCompositeKey to com...entities.SubCategory$HibernateProxy$uJfoGgxH\r\n\r\nI tried adding a setter but that didn&#39;t work either:\r\n```java\r\n  public void setCategoryCompositeKey(SubCategory subCategory) {\r\n    this.categoryCompositeKey = subCategory.getCompositeKey();\r\n  }\r\n```\r\nHow do I resolve this issue? Any suggestion will be appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/yvKQU.png\r\n  [2]: https://i.stack.imgur.com/8Pz9y.png","title":"@ManyToOne mapping with only one field from the entity","body":"<p><a href=\"https://i.stack.imgur.com/yvKQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yvKQU.png\" alt=\"roomie_categories\" /></a></p>\n<p>We have this <code>roomie_categories</code> table which has composite primary keys and is mapped in the application as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Embeddable\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CategoryCompositeKey {\n  private UUID subcategoryId;\n  private UUID categoryId;\n}\n\n@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;roomie_categories&quot;)\npublic class SubCategory {\n  @EmbeddedId private CategoryCompositeKey compositeKey;\n\n  @Column(name = &quot;subcategory&quot;)\n  private String subCategory;\n\n  private String category;\n  private String thumbnail;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8Pz9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Pz9y.png\" alt=\"product_catalog\" /></a></p>\n<p>I have this <code>product_catalog</code> table with two columns, <code>category_id</code> and <code>subcategory_id</code> which should reference the composite keys from the previous table. I didn't know how to map those so I did it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;product_catalog&quot;)\npublic class Catalog {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.UUID)\n  private UUID id;\n\n  private String description;\n  private String blurb;\n  private String type;\n  private String surfaceType;\n\n  @Embedded\n  @ManyToOne(fetch = FetchType.LAZY, targetEntity = SubCategory.class)\n  @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;categoryId&quot;)\n  @JoinColumn(name = &quot;subcategory_id&quot;, referencedColumnName = &quot;subcategoryId&quot;)\n  private CategoryCompositeKey categoryCompositeKey;\n\n  @OneToMany(mappedBy = &quot;catalog&quot;, fetch = FetchType.LAZY)\n  private List&lt;Selection&gt; selections;\n}\n</code></pre>\n<p>This worked and didn't throw any error on start-up but, as I was retrieving records, I got the following error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Can not set com...entities.CategoryCompositeKey field com...entities.Catalog.categoryCompositeKey to com...entities.SubCategory$HibernateProxy$uJfoGgxH</p>\n</blockquote>\n<p>I tried adding a setter but that didn't work either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void setCategoryCompositeKey(SubCategory subCategory) {\n    this.categoryCompositeKey = subCategory.getCompositeKey();\n  }\n</code></pre>\n<p>How do I resolve this issue? Any suggestion will be appreciated.</p>\n"},{"tags":["java","security","io","nio","communication"],"comments":[{"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"score":0,"creation_date":1677597625,"post_id":75585271,"comment_id":133367223,"body_markdown":"If you want to have a &#39;quick&#39; result you can go with separate threads but I would use NIO since it&#39;s standardized and more efficient","body":"If you want to have a &#39;quick&#39; result you can go with separate threads but I would use NIO since it&#39;s standardized and more efficient"}],"owner":{"account_id":26169178,"reputation":21,"user_id":21033616,"display_name":"Theodore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677529811,"creation_date":1677529811,"question_id":75585271,"body_markdown":"I am creating a javafx application that can communicate with a server over the internet and I need some clarification on how things should work. \r\n\r\nI am using an SSLSocket between the client and server (to ensure some level of security). \r\n\r\nIn both the client and the server, I&#39;m running an infinite while loop so that they are both in constant communication with one another. ie:\r\n\r\n```\r\n SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n            this.socket = (SSLSocket) socketFactory.createSocket(this.host, this.port);\r\n            this.socket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;});\r\n            this.socket.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;});\r\n            this.writer = new PrintWriter(new OutputStreamWriter(this.socket.getOutputStream()));\r\n            this.reader = new BufferedReader(new InputStreamReader(this.socket.getInputStream()));\r\n...\r\n\r\npublic void run() {\r\n        this.setSocket(); // creates the connection in another thread\r\n        try{\r\n            while(true){\r\n                this.input = this.reader.readLine(); /* problem 2 */ \r\n                if(this.reader.ready()) { /* problem 1 */ \r\n                    this.input = this.reader.readLine();\r\n                    System.out.println(this.input +&quot;\\n------------------------------------&quot;);\r\n                }\r\n\r\n                if(this.output != null) {\r\n                    // If the writer has a message that is ready to send send it.\r\n                    System.out.println(&quot;writing to server: &quot; + this.output);\r\n                    this.writer.println(this.output);\r\n                    this.writer.flush();\r\n                    this.setOutput(null); \r\n                }\r\n            }\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n            System.out.println(&quot;broke&quot;);\r\n        }\r\n    }\r\n``` \r\n\r\nNow I noticed a couple problems with this implementation that I have a few proposed solutions to. \r\n\r\n1) I noticed that the BufferedReader.ready() method doesn&#39;t return true until BufferedReader.readLine() is called and there is data to be read. So I moved the this.reader.readLine() method call to right before the this.reader.ready() line.\r\n\r\n2) This resulted in the while loop to halt and wait for the this.reader.readLine() method to finish reading (which it never does since the server isn&#39;t sending any data to the client (at least not continuously - the server sends data to the client after it recieves a request from the client). By halting the while loop, the code doesn&#39;t ever update the output value, and therefore is unable to send a response to the server (effectively locking out the client from communicating with the server even though a secure connection has been made. \r\n\r\n3) After some light reading on this issue, I determined that I could solve it by using an NIO (non-blocking input output) communication as my example is currently using blocking input output communication. But after looking through some examples, the setup looks rather complicated and I&#39;m not sure if I want to spend the time to learn it unless absolutely necessary.\r\n\r\n4) Which leads me to an alternate approach. If I pushed the bufferedReader and PrintWriter onto seperate threads, then the reader can be in a halting infinite while loop without blocking the writer thus effectively solving the problem while allowing continuous communication in a blocking io setting. \r\n\r\nNow before I go implementing any of these solutions, I wanted to know if there are any reason(s) against either implementing NIO or just pushing blocking io operations onto seperate threads.\r\n\r\nIs there another approach I did not consider? Which is more standard in a professional setting?   ","title":"Java desktop application with continuous communication between many clients and one server. How to properly set communication between devices?","body":"<p>I am creating a javafx application that can communicate with a server over the internet and I need some clarification on how things should work.</p>\n<p>I am using an SSLSocket between the client and server (to ensure some level of security).</p>\n<p>In both the client and the server, I'm running an infinite while loop so that they are both in constant communication with one another. ie:</p>\n<pre><code> SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n            this.socket = (SSLSocket) socketFactory.createSocket(this.host, this.port);\n            this.socket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;});\n            this.socket.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;});\n            this.writer = new PrintWriter(new OutputStreamWriter(this.socket.getOutputStream()));\n            this.reader = new BufferedReader(new InputStreamReader(this.socket.getInputStream()));\n...\n\npublic void run() {\n        this.setSocket(); // creates the connection in another thread\n        try{\n            while(true){\n                this.input = this.reader.readLine(); /* problem 2 */ \n                if(this.reader.ready()) { /* problem 1 */ \n                    this.input = this.reader.readLine();\n                    System.out.println(this.input +&quot;\\n------------------------------------&quot;);\n                }\n\n                if(this.output != null) {\n                    // If the writer has a message that is ready to send send it.\n                    System.out.println(&quot;writing to server: &quot; + this.output);\n                    this.writer.println(this.output);\n                    this.writer.flush();\n                    this.setOutput(null); \n                }\n            }\n        } catch (IOException e){\n            e.printStackTrace();\n            System.out.println(&quot;broke&quot;);\n        }\n    }\n</code></pre>\n<p>Now I noticed a couple problems with this implementation that I have a few proposed solutions to.</p>\n<ol>\n<li><p>I noticed that the BufferedReader.ready() method doesn't return true until BufferedReader.readLine() is called and there is data to be read. So I moved the this.reader.readLine() method call to right before the this.reader.ready() line.</p>\n</li>\n<li><p>This resulted in the while loop to halt and wait for the this.reader.readLine() method to finish reading (which it never does since the server isn't sending any data to the client (at least not continuously - the server sends data to the client after it recieves a request from the client). By halting the while loop, the code doesn't ever update the output value, and therefore is unable to send a response to the server (effectively locking out the client from communicating with the server even though a secure connection has been made.</p>\n</li>\n<li><p>After some light reading on this issue, I determined that I could solve it by using an NIO (non-blocking input output) communication as my example is currently using blocking input output communication. But after looking through some examples, the setup looks rather complicated and I'm not sure if I want to spend the time to learn it unless absolutely necessary.</p>\n</li>\n<li><p>Which leads me to an alternate approach. If I pushed the bufferedReader and PrintWriter onto seperate threads, then the reader can be in a halting infinite while loop without blocking the writer thus effectively solving the problem while allowing continuous communication in a blocking io setting.</p>\n</li>\n</ol>\n<p>Now before I go implementing any of these solutions, I wanted to know if there are any reason(s) against either implementing NIO or just pushing blocking io operations onto seperate threads.</p>\n<p>Is there another approach I did not consider? Which is more standard in a professional setting?</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":63318,"reputation":1115,"user_id":187484,"accept_rate":86,"display_name":"John Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677529765,"creation_date":1677529765,"answer_id":75585263,"question_id":75533700,"body_markdown":"This issue is resolved by using this drop-in fork of JSch -&gt; https://github.com/mwiede/jsch\r\n\r\nAs described in the project:\r\n\r\n&gt; OpenSSH has disabled ssh-rsa in release 8.8 per default and a library\r\n&gt; is needed which supports rsa-sha2-256 and rsa-sha2-512.","title":"JSch Algorithm Negotation Fail","body":"<p>This issue is resolved by using this drop-in fork of JSch -&gt; <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">https://github.com/mwiede/jsch</a></p>\n<p>As described in the project:</p>\n<blockquote>\n<p>OpenSSH has disabled ssh-rsa in release 8.8 per default and a library\nis needed which supports rsa-sha2-256 and rsa-sha2-512.</p>\n</blockquote>\n"}],"owner":{"account_id":63318,"reputation":1115,"user_id":187484,"accept_rate":86,"display_name":"John Russell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1677565767,"answer_count":1,"score":1,"last_activity_date":1677529765,"creation_date":1677074030,"question_id":75533700,"body_markdown":"I am trying to connect to an SFTP server but I am receiving the following exception:\r\n\r\n&gt; com.jcraft.jsch.JSchException: Algorithm negotiation fail\r\n\r\nWhen using the following connection code:\r\n\r\n        final JSch jsch = new JSch();\r\n        jsch.addIdentity(\r\n                username,\r\n                privateKey.getBytes(),\r\n                publicKey.getBytes(),\r\n                null\r\n        );\r\n\r\n        Session jschSession = jsch.getSession(&quot;username&quot;, &quot;server.com&quot;);\r\n        jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.connect();\r\n\r\n        Channel channel = jschSession.openChannel(&quot;sftp&quot;);\r\n        channel.connect();\r\n\r\n        return (ChannelSftp) channel;\r\n\r\nI am getting the following error:\r\n\r\n```\r\nConnecting to server.com port 22\r\nConnection established\r\nRemote version string: SSH-2.0-AWS_SFTP_1.1\r\nLocal version string: SSH-2.0-JSCH-0.1.54\r\nCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nSSH_MSG_KEXINIT sent\r\nSSH_MSG_KEXINIT received\r\nkex: server: curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\r\nkex: server: rsa-sha2-512,rsa-sha2-256\r\nkex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\r\nkex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\r\nkex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256\r\nkex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256\r\nkex: server: none,zlib@openssh.com\r\nkex: server: none,zlib@openssh.com\r\nkex: server: \r\nkex: server: \r\nkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\nkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nkex: client: none\r\nkex: client: none\r\nkex: client: \r\nkex: client: \r\nDisconnecting from server.com port 22\r\n\r\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\r\n```\r\n\r\nI believe the server is an AWS Transfer Family SFTP box using `TransferSecurityPolicy-2022-03` as defined here -&gt; https://docs.aws.amazon.com/transfer/latest/userguide/security-policies.html#cryptographic-algorithms\r\n\r\nIt appears this library is too old to connect?  I am using the latest version JSch (0.1.55) and using Corretto v17 which already has Java Unlimited Strength Cryptography enabled by default. \r\n\r\nThoughts?","title":"JSch Algorithm Negotation Fail","body":"<p>I am trying to connect to an SFTP server but I am receiving the following exception:</p>\n<blockquote>\n<p>com.jcraft.jsch.JSchException: Algorithm negotiation fail</p>\n</blockquote>\n<p>When using the following connection code:</p>\n<pre><code>    final JSch jsch = new JSch();\n    jsch.addIdentity(\n            username,\n            privateKey.getBytes(),\n            publicKey.getBytes(),\n            null\n    );\n\n    Session jschSession = jsch.getSession(&quot;username&quot;, &quot;server.com&quot;);\n    jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    jschSession.connect();\n\n    Channel channel = jschSession.openChannel(&quot;sftp&quot;);\n    channel.connect();\n\n    return (ChannelSftp) channel;\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>Connecting to server.com port 22\nConnection established\nRemote version string: SSH-2.0-AWS_SFTP_1.1\nLocal version string: SSH-2.0-JSCH-0.1.54\nCheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nCheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nCheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nSSH_MSG_KEXINIT sent\nSSH_MSG_KEXINIT received\nkex: server: curve25519-sha256,curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha256\nkex: server: rsa-sha2-512,rsa-sha2-256\nkex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\nkex: server: aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr\nkex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256\nkex: server: hmac-sha2-512-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512,hmac-sha2-256\nkex: server: none,zlib@openssh.com\nkex: server: none,zlib@openssh.com\nkex: server: \nkex: server: \nkex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nkex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nkex: client: none\nkex: client: none\nkex: client: \nkex: client: \nDisconnecting from server.com port 22\n\ncom.jcraft.jsch.JSchException: Algorithm negotiation fail\n</code></pre>\n<p>I believe the server is an AWS Transfer Family SFTP box using <code>TransferSecurityPolicy-2022-03</code> as defined here -&gt; <a href=\"https://docs.aws.amazon.com/transfer/latest/userguide/security-policies.html#cryptographic-algorithms\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/transfer/latest/userguide/security-policies.html#cryptographic-algorithms</a></p>\n<p>It appears this library is too old to connect?  I am using the latest version JSch (0.1.55) and using Corretto v17 which already has Java Unlimited Strength Cryptography enabled by default.</p>\n<p>Thoughts?</p>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":11668735,"reputation":23,"user_id":8544589,"display_name":"Tom C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677528291,"creation_date":1677528291,"answer_id":75585073,"question_id":75581064,"body_markdown":"I fixed that section of my code with a previous example on the old forum: \r\n\r\nI will make another post in a few days if i can&#39;t figure why I&#39;m going wrong with the next step.\r\n\r\n[https://answers.opencv.org/question/224079/java-dnn-help/](https://answers.opencv.org/question/224079/java-dnn-help/)\r\n\r\n```\r\n            float[] data = new float[7];\r\n            \r\n            for (int i = 0; i &lt; detections.rows(); i++) {\r\n                detections.get(i, 0, data);\r\n                double confidence = data[2];\r\n               \r\n                if (confidence &gt; CONFIDENCE_THRESHOLD){\r\n                    //frame.width //frame.height //frame.cols //frame.rows\r\n                    int x1 = (int)(data[3] * frame.cols());\r\n                    int y1 = (int)(data[4] * frame.rows());\r\n                    int x2 = (int)(data[5] * frame.cols());\r\n                    int y2 = (int)(data[6] * frame.rows());\r\n                    bboxes.add(new Rect(x1, y1, x2 - x1, y2 - y1));\r\n                    Imgproc.rectangle(frameFace, new org.opencv.core.Point(x1, y1), new org.opencv.core.Point(x2, y2), new org.opencv.core.Scalar(0, 255, 0), (int) Math.round(frame.rows() / 150), 8, 0);                   \r\n                }\r\n```","title":"Java Opencv DNN get(i, 2)[0]","body":"<p>I fixed that section of my code with a previous example on the old forum:</p>\n<p>I will make another post in a few days if i can't figure why I'm going wrong with the next step.</p>\n<p><a href=\"https://answers.opencv.org/question/224079/java-dnn-help/\" rel=\"nofollow noreferrer\">https://answers.opencv.org/question/224079/java-dnn-help/</a></p>\n<pre><code>            float[] data = new float[7];\n            \n            for (int i = 0; i &lt; detections.rows(); i++) {\n                detections.get(i, 0, data);\n                double confidence = data[2];\n               \n                if (confidence &gt; CONFIDENCE_THRESHOLD){\n                    //frame.width //frame.height //frame.cols //frame.rows\n                    int x1 = (int)(data[3] * frame.cols());\n                    int y1 = (int)(data[4] * frame.rows());\n                    int x2 = (int)(data[5] * frame.cols());\n                    int y2 = (int)(data[6] * frame.rows());\n                    bboxes.add(new Rect(x1, y1, x2 - x1, y2 - y1));\n                    Imgproc.rectangle(frameFace, new org.opencv.core.Point(x1, y1), new org.opencv.core.Point(x2, y2), new org.opencv.core.Scalar(0, 255, 0), (int) Math.round(frame.rows() / 150), 8, 0);                   \n                }\n</code></pre>\n"}],"owner":{"account_id":11668735,"reputation":23,"user_id":8544589,"display_name":"Tom C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677528291,"creation_date":1677504286,"question_id":75581064,"body_markdown":"I&#39;ve been trying various ways to extract the confidence value from the detections.\r\nI either get this: Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot load from double array because the return value of &quot;org.opencv.core.Mat.get(int, int)&quot; is null\r\n\r\nIf I use this:\r\n```\r\n                double confidence;\r\n                confidence = detections.get(i, 2)[0];\r\n```\r\n\r\nor if I change my code below get a null value!\r\n```\r\n                double[] detection;\r\n                detection = detections.get(i, 2);\r\n                //System.out.println(&quot;c : &quot;+confidence);\r\n                \r\n                if (detection != null) {\r\n                    confidence = detection[0];\r\n                    System.out.println(&quot;i : &quot; + i + &quot; Confidence : &quot; + confidence);\r\n                }\r\n```\r\n\r\nIf I dump detections I get:\r\n\r\n```\r\ndump : [1.6463306;\r\n 0.39511931;\r\n 0.59267896;\r\n 1.778037;\r\n 0.52682579;\r\n 0.46097255;\r\n 1.8438902;\r\netc...\r\n```\r\n\r\nI need someone to point out where I&#39;m going wrong, as I can&#39;t figure it out!\r\n\r\n&lt;https://forum.opencv.org/t/cant-get-a-confidence-value-from/12151&gt;","title":"Java Opencv DNN get(i, 2)[0]","body":"<p>I've been trying various ways to extract the confidence value from the detections.\nI either get this: Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot load from double array because the return value of &quot;org.opencv.core.Mat.get(int, int)&quot; is null</p>\n<p>If I use this:</p>\n<pre><code>                double confidence;\n                confidence = detections.get(i, 2)[0];\n</code></pre>\n<p>or if I change my code below get a null value!</p>\n<pre><code>                double[] detection;\n                detection = detections.get(i, 2);\n                //System.out.println(&quot;c : &quot;+confidence);\n                \n                if (detection != null) {\n                    confidence = detection[0];\n                    System.out.println(&quot;i : &quot; + i + &quot; Confidence : &quot; + confidence);\n                }\n</code></pre>\n<p>If I dump detections I get:</p>\n<pre><code>dump : [1.6463306;\n 0.39511931;\n 0.59267896;\n 1.778037;\n 0.52682579;\n 0.46097255;\n 1.8438902;\netc...\n</code></pre>\n<p>I need someone to point out where I'm going wrong, as I can't figure it out!</p>\n<p><a href=\"https://forum.opencv.org/t/cant-get-a-confidence-value-from/12151\" rel=\"nofollow noreferrer\">https://forum.opencv.org/t/cant-get-a-confidence-value-from/12151</a></p>\n"},{"tags":["java","spring-boot","kotlin","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":26823230,"reputation":15,"user_id":20412247,"display_name":"zer"},"score":0,"creation_date":1677614190,"post_id":75585025,"comment_id":133371979,"body_markdown":"I fixed this issue. The problem was the cascade in the User entity, I removed that and got the Delete method working","body":"I fixed this issue. The problem was the cascade in the User entity, I removed that and got the Delete method working"}],"owner":{"account_id":26823230,"reputation":15,"user_id":20412247,"display_name":"zer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677527913,"creation_date":1677527913,"question_id":75585025,"body_markdown":"I&#39;m still quite new to Kotlin and Springboot as well and I&#39;m making a backend for Discgolf app and having an issue with the Delete method where the Game column should be deleted by id using deleteGame function.\r\n\r\nThis one is from GameController:\r\n\r\n```\r\n@DeleteMapping(value = [&quot;/games/{id}&quot;])\r\n    fun deleteGame(@PathVariable(&quot;id&quot;) gameId: Long) = gameService.deleteGame(gameId)\r\n\r\n```\r\nAnd this one from GameService:\r\n\r\n```\r\nfun deleteGame(gameId: Long) {\r\n        return if (gameRepository.existsById(gameId)) {\r\n            gameRepository.deleteById(gameId)\r\n        } else throw NotFoundException()\r\n    }\r\n\r\n```\r\n\r\nJpaRepository:\r\n\r\n```\r\ninterface GameRepository : JpaRepository&lt;Game, Long&gt; {}\r\n\r\n```\r\nUser and Game entity classes:\r\n```\r\n\r\n@Entity\r\nclass Game(\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(nullable = false, updatable = false)\r\n    var gameId: Long = -1L,\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    var user: User? = null,\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;courseId&quot;)\r\n    @JsonIgnore\r\n    var course: Course? = null,\r\n\r\n    @OneToMany(mappedBy = &quot;game&quot;, fetch = FetchType.EAGER, cascade = [CascadeType.ALL])\r\n    var strokes: List&lt;Stroke&gt; = emptyList(),\r\n\r\n```\r\n\r\n```\r\n@Entity(name = &quot;users&quot;)\r\nclass User(\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(nullable = false, updatable = false)\r\n    var userId: Long = -1,\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = [CascadeType.ALL])\r\n    @JsonIgnore\r\n    var games: List&lt;Game&gt; = emptyList(),\r\n\r\n```\r\n\r\nAlso, this one is from Stroke entity class:\r\n\r\n```\r\n@ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;gameId&quot;)\r\n    @JsonIgnore\r\n    var game: Game? = null,\r\n```\r\nConsole logs\r\n```\r\n\r\nHibernate: select count(*) from game g1_0 where g1_0.game_id=?\r\nHibernate: select g1_0.game_id,g1_0.course_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,s1_0.game_id,s1_0.stroke_id,s1_0.hole_id,s1_0.score,g1_0.user_id from game g1_0 left join stroke s1_0 on g1_0.game_id=s1_0.game_id where g1_0.game_id=?\r\nHibernate: select u1_0.user_id,u1_0.email,g1_0.user_id,g1_0.game_id,g1_0.course_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,u1_0.password,u1_0.role,u1_0.username from users u1_0 left join game g1_0 on u1_0.user_id=g1_0.user_id where u1_0.user_id=?\r\nHibernate: select c1_0.course_id,c1_0.course_name,c1_0.course_postalcode,c1_0.course_streetaddress,c1_0.course_town,g1_0.course_id,g1_0.game_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,g1_0.user_id from course c1_0 left join game g1_0 on c1_0.course_id=g1_0.course_id where c1_0.course_id=?\r\nHibernate: select h1_0.course_id,h1_0.hole_id,h1_0.hole_length,h1_0.hole_number,h1_0.hole_par from hole h1_0 where h1_0.course_id=?\r\nHibernate: select s1_0.game_id,s1_0.stroke_id,s1_0.hole_id,s1_0.score from stroke s1_0 where s1_0.game_id=?\r\n```\r\n\r\nCannot understand this problem. I don&#39;t find the logs very useful in this case. Could the problem possibly be in the entity classes or relations?","title":"Delete method for JpaRepository doesn&#39;t work, Kotlin Springboot","body":"<p>I'm still quite new to Kotlin and Springboot as well and I'm making a backend for Discgolf app and having an issue with the Delete method where the Game column should be deleted by id using deleteGame function.</p>\n<p>This one is from GameController:</p>\n<pre><code>@DeleteMapping(value = [&quot;/games/{id}&quot;])\n    fun deleteGame(@PathVariable(&quot;id&quot;) gameId: Long) = gameService.deleteGame(gameId)\n\n</code></pre>\n<p>And this one from GameService:</p>\n<pre><code>fun deleteGame(gameId: Long) {\n        return if (gameRepository.existsById(gameId)) {\n            gameRepository.deleteById(gameId)\n        } else throw NotFoundException()\n    }\n\n</code></pre>\n<p>JpaRepository:</p>\n<pre><code>interface GameRepository : JpaRepository&lt;Game, Long&gt; {}\n\n</code></pre>\n<p>User and Game entity classes:</p>\n<pre><code>\n@Entity\nclass Game(\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    var gameId: Long = -1L,\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;userId&quot;)\n    var user: User? = null,\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;courseId&quot;)\n    @JsonIgnore\n    var course: Course? = null,\n\n    @OneToMany(mappedBy = &quot;game&quot;, fetch = FetchType.EAGER, cascade = [CascadeType.ALL])\n    var strokes: List&lt;Stroke&gt; = emptyList(),\n\n</code></pre>\n<pre><code>@Entity(name = &quot;users&quot;)\nclass User(\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(nullable = false, updatable = false)\n    var userId: Long = -1,\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = [CascadeType.ALL])\n    @JsonIgnore\n    var games: List&lt;Game&gt; = emptyList(),\n\n</code></pre>\n<p>Also, this one is from Stroke entity class:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;gameId&quot;)\n    @JsonIgnore\n    var game: Game? = null,\n</code></pre>\n<p>Console logs</p>\n<pre><code>\nHibernate: select count(*) from game g1_0 where g1_0.game_id=?\nHibernate: select g1_0.game_id,g1_0.course_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,s1_0.game_id,s1_0.stroke_id,s1_0.hole_id,s1_0.score,g1_0.user_id from game g1_0 left join stroke s1_0 on g1_0.game_id=s1_0.game_id where g1_0.game_id=?\nHibernate: select u1_0.user_id,u1_0.email,g1_0.user_id,g1_0.game_id,g1_0.course_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,u1_0.password,u1_0.role,u1_0.username from users u1_0 left join game g1_0 on u1_0.user_id=g1_0.user_id where u1_0.user_id=?\nHibernate: select c1_0.course_id,c1_0.course_name,c1_0.course_postalcode,c1_0.course_streetaddress,c1_0.course_town,g1_0.course_id,g1_0.game_id,g1_0.ending_datetime,g1_0.starting_datetime,g1_0.steps,g1_0.user_id from course c1_0 left join game g1_0 on c1_0.course_id=g1_0.course_id where c1_0.course_id=?\nHibernate: select h1_0.course_id,h1_0.hole_id,h1_0.hole_length,h1_0.hole_number,h1_0.hole_par from hole h1_0 where h1_0.course_id=?\nHibernate: select s1_0.game_id,s1_0.stroke_id,s1_0.hole_id,s1_0.score from stroke s1_0 where s1_0.game_id=?\n</code></pre>\n<p>Cannot understand this problem. I don't find the logs very useful in this case. Could the problem possibly be in the entity classes or relations?</p>\n"},{"tags":["java","maven-2","properties","classpath"],"answers":[{"tags":[],"owner":{"account_id":27150,"reputation":11971,"user_id":71343,"display_name":"Dominic Mitchell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1240401251,"creation_date":1240401251,"answer_id":776842,"question_id":773855,"body_markdown":"I don&#39;t think that there&#39;s a way of doing this without writing your own maven plugin.  That said, you can get at the classpath using [dependency:build-classpath][1].  Is that of use?\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>I don't think that there's a way of doing this without writing your own maven plugin.  That said, you can get at the classpath using <a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html\" rel=\"noreferrer\">dependency:build-classpath</a>.  Is that of use?</p>\n"},{"tags":[],"owner":{"account_id":28876,"reputation":6802,"user_id":77489,"display_name":"Brian Fox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1240694636,"creation_date":1240694636,"answer_id":789757,"question_id":773855,"body_markdown":"I second the dependency:build-classpath suggestion. It won&#39;t put it into a property currently but could easily be modified to do so. (patches accepted)","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>I second the dependency:build-classpath suggestion. It won't put it into a property currently but could easily be modified to do so. (patches accepted)</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366893089,"creation_date":1345224467,"answer_id":12010365,"question_id":773855,"body_markdown":"This is how it works:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;define-classpath&lt;/id&gt;\r\n          &lt;phase&gt;process-resources&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n            &lt;target&gt;\r\n              &lt;property name=&quot;maven.classpath&quot; refid=&quot;maven.runtime.classpath&quot;/&gt;\r\n            &lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter it&#39;s executed you can use `${maven.classpath}` property.","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>This is how it works:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.7&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;define-classpath&lt;/id&gt;\n      &lt;phase&gt;process-resources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n        &lt;target&gt;\n          &lt;property name=\"maven.classpath\" refid=\"maven.runtime.classpath\"/&gt;\n        &lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After it's executed you can use <code>${maven.classpath}</code> property.</p>\n"},{"tags":[],"owner":{"account_id":76898,"reputation":2279,"user_id":219843,"accept_rate":93,"display_name":"Ring"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1677527663,"creation_date":1376948387,"answer_id":18323593,"question_id":773855,"body_markdown":"Since version 2.7 the maven-dependency-plugin can now [set a property to the classpath][1]. Here&#39;s an example:\r\n\r\n      &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8&lt;/version&gt;\r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;build-classpath&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;outputProperty&gt;maven.compile.classpath&lt;/outputProperty&gt;\r\n                    &lt;pathSeparator&gt;;&lt;/pathSeparator&gt;\r\n                  &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nIf you want Eclipse support here&#39;s my update site:\r\n\r\nhttp://terraframe.github.io/m2e-maven-dependency-plugin/snapshots/\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html#outputProperty","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>Since version 2.7 the maven-dependency-plugin can now <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/build-classpath-mojo.html#outputProperty\" rel=\"nofollow noreferrer\">set a property to the classpath</a>. Here's an example:</p>\n<pre><code>  &lt;plugin&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.8&lt;/version&gt;\n      &lt;executions&gt;\n          &lt;execution&gt;\n              &lt;phase&gt;generate-sources&lt;/phase&gt;\n              &lt;goals&gt;\n                  &lt;goal&gt;build-classpath&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;outputProperty&gt;maven.compile.classpath&lt;/outputProperty&gt;\n                &lt;pathSeparator&gt;;&lt;/pathSeparator&gt;\n              &lt;/configuration&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>If you want Eclipse support here's my update site:</p>\n<p><a href=\"http://terraframe.github.io/m2e-maven-dependency-plugin/snapshots/\" rel=\"nofollow noreferrer\">http://terraframe.github.io/m2e-maven-dependency-plugin/snapshots/</a></p>\n"},{"tags":[],"owner":{"account_id":4079333,"reputation":457,"user_id":3350164,"accept_rate":25,"display_name":"Claudio Tasso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403854199,"creation_date":1403854199,"answer_id":24446312,"question_id":773855,"body_markdown":"If you need to generate the classpath as a simple list of jars (without the full path), you can implement a plugin like the one in the example below. My need is to add the classpath in the Manifest using a property other than &quot;Class-Path&quot; because I&#39;m using a tool like Eclipse &quot;JarRsrcLoader&quot; (it&#39;s similar to [One-JAR][1]) and I want to create a Manifest.MF like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Rsrc-Class-Path: ./ ssm-core-0.0.1-SNAPSHOT.jar commons-codec-1.9.jar \r\n     commons-io-2.4.jar ehcache-2.8.3.jar spring-beans-4.0.5.RELEASE.jar s\r\n     sm-standalone-cryptlayer-0.0.1-SNAPSHOT.jar shiro-core-1.2.3.jar comm\r\n     ons-beanutils-1.8.3.jar bcprov-jdk15on-1.50.jar javacsv-2.0.jar ssm-f\r\n     ile-persistence-0.0.1-SNAPSHOT.jar spring-context-4.0.5.RELEASE.jar s\r\n     pring-aop-4.0.5.RELEASE.jar aopalliance-1.0.jar spring-core-4.0.5.REL\r\n     EASE.jar commons-logging-1.1.3.jar spring-expression-4.0.5.RELEASE.ja\r\n     r slf4j-log4j12-1.7.7.jar slf4j-api-1.7.7.jar log4j-1.2.17.jar\r\n    Built-By: ctasso\r\n    Build-Jdk: 1.7.0_10\r\n    Class-Path: .\r\n\r\nSo, I defined a Maven plugin like this:\r\n\r\n    public void execute() throws MojoExecutionException, MojoFailureException {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tMavenArchiver mavenArchiver = new MavenArchiver();\r\n    \t\t\t\r\n    \t\t\tManifestConfiguration config = new ManifestConfiguration();\r\n    \t\t\tconfig.setAddClasspath(true);\r\n    \t\t\tManifest manifest = mavenArchiver.getManifest(project, config);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tString classPath = manifest.getMainAttributes().getValue(&quot;Class-Path&quot;);\r\n    \t\t\t\r\n    \t\t\tgetLog().debug(String.format(&quot;Setting the classpath property %s to %s&quot;,classpathVarName,classPath));\r\n    \t\t\t\r\n    \t\t\tproject.getProperties().put(classpathVarName, classPath);\r\n    \t\t\t\r\n    \t\t} catch (DependencyResolutionRequiredException e) {\r\n    \t\t\tthrow new MojoFailureException(e.getMessage());\r\n    \t\t} catch (ManifestException e) {\r\n    \t\t\tthrow new MojoFailureException(e.getMessage());\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n\r\nUsing this plugin, you can define a property which  contains the list of jars of the classpath:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;it.cineca.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;classpath-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;set-classpath&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;setcp&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;classpathVarName&gt;cineca.classpath&lt;/classpathVarName&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\t\r\n    &lt;/plugin&gt;\r\n\r\n                \r\nand use this property wherever you want, for example for creating your custom Manifest.MF:\r\n\r\n    &lt;archive&gt;\r\n    \t &lt;manifestEntries&gt;\r\n    \t\t&lt;Rsrc-Class-Path&gt;./ ${cineca.classpath}&lt;/Rsrc-Class-Path&gt;\r\n    \t\t&lt;Class-Path&gt;.&lt;/Class-Path&gt;\r\n    \t\t&lt;Rsrc-Main-Class&gt;it.cineca.cpd.starter.TestStarter&lt;/Rsrc-Main-Class&gt;\r\n    \t\t&lt;Main-Class&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/Main-Class&gt;\r\n    \t &lt;/manifestEntries&gt;\r\n    &lt;/archive&gt;\r\n\r\n  [1]: http://one-jar.sourceforge.net/","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>If you need to generate the classpath as a simple list of jars (without the full path), you can implement a plugin like the one in the example below. My need is to add the classpath in the Manifest using a property other than \"Class-Path\" because I'm using a tool like Eclipse \"JarRsrcLoader\" (it's similar to <a href=\"http://one-jar.sourceforge.net/\" rel=\"nofollow\">One-JAR</a>) and I want to create a Manifest.MF like this:</p>\n\n<pre><code>Manifest-Version: 1.0\nRsrc-Class-Path: ./ ssm-core-0.0.1-SNAPSHOT.jar commons-codec-1.9.jar \n commons-io-2.4.jar ehcache-2.8.3.jar spring-beans-4.0.5.RELEASE.jar s\n sm-standalone-cryptlayer-0.0.1-SNAPSHOT.jar shiro-core-1.2.3.jar comm\n ons-beanutils-1.8.3.jar bcprov-jdk15on-1.50.jar javacsv-2.0.jar ssm-f\n ile-persistence-0.0.1-SNAPSHOT.jar spring-context-4.0.5.RELEASE.jar s\n pring-aop-4.0.5.RELEASE.jar aopalliance-1.0.jar spring-core-4.0.5.REL\n EASE.jar commons-logging-1.1.3.jar spring-expression-4.0.5.RELEASE.ja\n r slf4j-log4j12-1.7.7.jar slf4j-api-1.7.7.jar log4j-1.2.17.jar\nBuilt-By: ctasso\nBuild-Jdk: 1.7.0_10\nClass-Path: .\n</code></pre>\n\n<p>So, I defined a Maven plugin like this:</p>\n\n<pre><code>public void execute() throws MojoExecutionException, MojoFailureException {\n        try {\n\n\n            MavenArchiver mavenArchiver = new MavenArchiver();\n\n            ManifestConfiguration config = new ManifestConfiguration();\n            config.setAddClasspath(true);\n            Manifest manifest = mavenArchiver.getManifest(project, config);\n\n\n            String classPath = manifest.getMainAttributes().getValue(\"Class-Path\");\n\n            getLog().debug(String.format(\"Setting the classpath property %s to %s\",classpathVarName,classPath));\n\n            project.getProperties().put(classpathVarName, classPath);\n\n        } catch (DependencyResolutionRequiredException e) {\n            throw new MojoFailureException(e.getMessage());\n        } catch (ManifestException e) {\n            throw new MojoFailureException(e.getMessage());\n        }\n\n    }\n</code></pre>\n\n<p>Using this plugin, you can define a property which  contains the list of jars of the classpath:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;it.cineca.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;classpath-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;set-classpath&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;setcp&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;classpathVarName&gt;cineca.classpath&lt;/classpathVarName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;   \n&lt;/plugin&gt;\n</code></pre>\n\n<p>and use this property wherever you want, for example for creating your custom Manifest.MF:</p>\n\n<pre><code>&lt;archive&gt;\n     &lt;manifestEntries&gt;\n        &lt;Rsrc-Class-Path&gt;./ ${cineca.classpath}&lt;/Rsrc-Class-Path&gt;\n        &lt;Class-Path&gt;.&lt;/Class-Path&gt;\n        &lt;Rsrc-Main-Class&gt;it.cineca.cpd.starter.TestStarter&lt;/Rsrc-Main-Class&gt;\n        &lt;Main-Class&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/Main-Class&gt;\n     &lt;/manifestEntries&gt;\n&lt;/archive&gt;\n</code></pre>\n"}],"owner":{"display_name":"Nicholas White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17400,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":776842,"answer_count":5,"score":14,"last_activity_date":1677527663,"creation_date":1240337280,"question_id":773855,"body_markdown":"I&#39;d like to set a property in my pom to a classpath containing all the project&#39;s dependencies. The ant plugin does something like this, so I know it&#39;s definitely possible.\r\n\r\nI basically want to use ${maven.compile.classpath} wherever I like in my pom and have it &#39;just work&#39;. I don&#39;t mind using plugins or anything else to achieve this.\r\n\r\nMany thanks,\r\n\r\nNick","title":"Setting the a Property to what maven.compile.classpath Contains WITHOUT Ant","body":"<p>I'd like to set a property in my pom to a classpath containing all the project's dependencies. The ant plugin does something like this, so I know it's definitely possible.</p>\n\n<p>I basically want to use ${maven.compile.classpath} wherever I like in my pom and have it 'just work'. I don't mind using plugins or anything else to achieve this.</p>\n\n<p>Many thanks,</p>\n\n<p>Nick</p>\n"},{"tags":["java","transactions","token","transfer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677559929,"post_id":75584819,"comment_id":133357367,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27877949,"reputation":1,"user_id":21287070,"display_name":"arspivas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677527223,"creation_date":1677526511,"question_id":75584819,"body_markdown":"after running the code appears - transaction hash: null\r\n\r\n\r\n\r\n\r\n\r\n    RawTransactionManager manager = new RawTransactionManager(web3, credentials);\r\n        BigInteger sum = BigInteger.valueOf(100000);\r\n        String data = encodeTransferData(toAddress, sum);\r\n        BigInteger gasPrice = web3.ethGasPrice().send().getGasPrice();\r\n        BigInteger gasLimit = BigInteger.valueOf(120000);\r\n\r\n        ERC20 javaToken = ERC20.load(contract, web3, manager, new DefaultGasProvider());\r\n        EthSendTransaction transaction = manager.sendTransaction(gasPrice, gasLimit, contract, data, null);\r\n        System.out.println(&quot;Transaction hash: &quot;+transaction.getTransactionHash());\r\n\r\n  }\r\n\r\n    public static String encodeTransferData(String toAddress, BigInteger sum) {\r\n        Function function = new Function(\r\n                &quot;transfer&quot;,  // function we&#39;re calling\r\n                Arrays.asList(new Address(toAddress), new Uint256(sum)),  // Parameters to pass as Solidity Types\r\n                Arrays.asList(new org.web3j.abi.TypeReference&lt;Bool&gt;() {}));\r\n        return FunctionEncoder.encode(function);\r\n    }\r\n\r\nI&#39;ve searched for information from various sources but haven&#39;t found anything helpful.","title":"How to fix &quot;transaction hash: null&quot; in my java code?","body":"<p>after running the code appears - transaction hash: null</p>\n<pre><code>RawTransactionManager manager = new RawTransactionManager(web3, credentials);\n    BigInteger sum = BigInteger.valueOf(100000);\n    String data = encodeTransferData(toAddress, sum);\n    BigInteger gasPrice = web3.ethGasPrice().send().getGasPrice();\n    BigInteger gasLimit = BigInteger.valueOf(120000);\n\n    ERC20 javaToken = ERC20.load(contract, web3, manager, new DefaultGasProvider());\n    EthSendTransaction transaction = manager.sendTransaction(gasPrice, gasLimit, contract, data, null);\n    System.out.println(&quot;Transaction hash: &quot;+transaction.getTransactionHash());\n</code></pre>\n<p>}</p>\n<pre><code>public static String encodeTransferData(String toAddress, BigInteger sum) {\n    Function function = new Function(\n            &quot;transfer&quot;,  // function we're calling\n            Arrays.asList(new Address(toAddress), new Uint256(sum)),  // Parameters to pass as Solidity Types\n            Arrays.asList(new org.web3j.abi.TypeReference&lt;Bool&gt;() {}));\n    return FunctionEncoder.encode(function);\n}\n</code></pre>\n<p>I've searched for information from various sources but haven't found anything helpful.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage","spring-cloud"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1677315807,"post_id":75560914,"comment_id":133316758,"body_markdown":"Firstly, from where your code run? or will run? (on your workstation? on Google Cloud? Elsewhere)","body":"Firstly, from where your code run? or will run? (on your workstation? on Google Cloud? Elsewhere)"},{"owner":{"account_id":27872060,"reputation":3,"user_id":21282350,"display_name":"Mariano"},"score":0,"creation_date":1677499724,"post_id":75560914,"comment_id":133343328,"body_markdown":"Hi, at the moment im runing from local, later on will be runing on kubernetes","body":"Hi, at the moment im runing from local, later on will be runing on kubernetes"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1677500878,"post_id":75560914,"comment_id":133343651,"body_markdown":"Kubernetes on Google Cloud (GKE)?","body":"Kubernetes on Google Cloud (GKE)?"},{"owner":{"account_id":27872060,"reputation":3,"user_id":21282350,"display_name":"Mariano"},"score":0,"creation_date":1677502357,"post_id":75560914,"comment_id":133344067,"body_markdown":"yes, on GKE, now im looking on authenticate with Workload Identity, but if im not mistaken, this method will not work when i run the application on local, right?","body":"yes, on GKE, now im looking on authenticate with Workload Identity, but if im not mistaken, this method will not work when i run the application on local, right?"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677527150,"creation_date":1677527150,"answer_id":75584914,"question_id":75560914,"body_markdown":"That&#39;s my point. Both locally and on GCP you never need a service account key file. *In addition to being a bad practice and that creates security breaches, I strongly fight against their usage and advocacy (even up to Google Cloud dev advocates, and different videos and tutorials)*\r\n\r\nThat being said, you should use [ADC][1]. On your local environment, use `gcloud` to be authenticated, either with your own user account (and therefore with your own permissions/roles) or with service account impersonation (on behalf a service account, with its roles/permissions)\r\n\r\n```\r\n# With your own account\r\ngcloud auth application-default login\r\n\r\n# With your own account that impersonate a service account\r\ngcloud auth application-default login --impersonate-service-account=&lt;service account email&gt;\r\n#Note that your user account must have the &#39;service account token creator&#39; role on your service account (or on the project containing it)\r\n```\r\n\r\nIf you are on GCP, the metadata server (or workload identity) can provide the same credentials automatically without gcloud configuration.\r\n\r\nThen, in your code, remove all references to a specific files, environment variable or whatever. Let the Google Cloud client libraries leverage ADC to detect automatically the credentials loaded on the current runtime environment.\r\n\r\nThus, with that method, you can write the exact same code on your computer and on the cloud, you don&#39;t have a hook if you are local or not. It&#39;s safer and cleaner in your code, more portable.\r\n\r\n\r\n  [1]: https://cloud.google.com/docs/authentication/provide-credentials-adc","title":"GCP Credential null when configured on yml","body":"<p>That's my point. Both locally and on GCP you never need a service account key file. <em>In addition to being a bad practice and that creates security breaches, I strongly fight against their usage and advocacy (even up to Google Cloud dev advocates, and different videos and tutorials)</em></p>\n<p>That being said, you should use <a href=\"https://cloud.google.com/docs/authentication/provide-credentials-adc\" rel=\"nofollow noreferrer\">ADC</a>. On your local environment, use <code>gcloud</code> to be authenticated, either with your own user account (and therefore with your own permissions/roles) or with service account impersonation (on behalf a service account, with its roles/permissions)</p>\n<pre><code># With your own account\ngcloud auth application-default login\n\n# With your own account that impersonate a service account\ngcloud auth application-default login --impersonate-service-account=&lt;service account email&gt;\n#Note that your user account must have the 'service account token creator' role on your service account (or on the project containing it)\n</code></pre>\n<p>If you are on GCP, the metadata server (or workload identity) can provide the same credentials automatically without gcloud configuration.</p>\n<p>Then, in your code, remove all references to a specific files, environment variable or whatever. Let the Google Cloud client libraries leverage ADC to detect automatically the credentials loaded on the current runtime environment.</p>\n<p>Thus, with that method, you can write the exact same code on your computer and on the cloud, you don't have a hook if you are local or not. It's safer and cleaner in your code, more portable.</p>\n"}],"owner":{"account_id":27872060,"reputation":3,"user_id":21282350,"display_name":"Mariano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75584914,"answer_count":1,"score":0,"last_activity_date":1677527150,"creation_date":1677269082,"question_id":75560914,"body_markdown":"i&#39;m trying to access a gcp bucket on cloud storage using spring cloud...\r\nThe thing is when i run my app with the env GOOGLE_APPLICATION_CREDENTIALS=/User/Downloads/key.json\r\nthe storage object loads the credential correctly \r\n\r\n[enter image description here](https://i.stack.imgur.com/2GBRm.png)\r\n\r\nBut if i copy the json key file to the resource folder and i want pass the credential by application.yml as i&#39;ve seen on [documentation](https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html), the property &quot;credentials&quot; for the storage object is null even do the application seems to load it on startup\r\n\r\naplication.yml:\r\n\r\n    spring:\r\n      cloud:\r\n        gcp:\r\n          credentials:\r\n            location: classpath:key.json\r\n\r\n[enter image description here](https://i.stack.imgur.com/2PKSI.png)\r\n[enter image description here](https://i.stack.imgur.com/acCMW.png)\r\n\r\nam i missing somthing?, do i have to specify credentials some other way?\r\nThanks in advance for the help!\r\n\r\nIm trying to add credential key json file to resource folder and autenticate on gcp.","title":"GCP Credential null when configured on yml","body":"<p>i'm trying to access a gcp bucket on cloud storage using spring cloud...\nThe thing is when i run my app with the env GOOGLE_APPLICATION_CREDENTIALS=/User/Downloads/key.json\nthe storage object loads the credential correctly</p>\n<p><a href=\"https://i.stack.imgur.com/2GBRm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But if i copy the json key file to the resource folder and i want pass the credential by application.yml as i've seen on <a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/reference/html/index.html\" rel=\"nofollow noreferrer\">documentation</a>, the property &quot;credentials&quot; for the storage object is null even do the application seems to load it on startup</p>\n<p>aplication.yml:</p>\n<pre><code>spring:\n  cloud:\n    gcp:\n      credentials:\n        location: classpath:key.json\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2PKSI.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/acCMW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>am i missing somthing?, do i have to specify credentials some other way?\nThanks in advance for the help!</p>\n<p>Im trying to add credential key json file to resource folder and autenticate on gcp.</p>\n"},{"tags":["java","arrays","list","deque","arraydeque"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1548290828,"post_id":54337808,"comment_id":95492650,"body_markdown":"There were plans to retrofit `ArrayDeque` to implement the `List` interface (or just to implement some `List`-related methods), but I&#39;m not sure if it&#39;s being discussed actively: https://markmail.org/message/tdp2hjhsuknfthrf?q=net.java.openjdk&amp;utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+MarkmailNetjavaopenjdk+%28Follow+OpenJDK+development+e-mail+traffic%29#query:net.java.openjdk+page:1+mid:ao3xupqbbafdoax6+state:results","body":"There were plans to retrofit <code>ArrayDeque</code> to implement the <code>List</code> interface (or just to implement some <code>List</code>-related methods), but I&#39;m not sure if it&#39;s being discussed actively: <a href=\"https://markmail.org/message/tdp2hjhsuknfthrf?q=net.java.openjdk&amp;utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+MarkmailNetjavaopenjdk+%28Follow+OpenJDK+development+e-mail+traffic%29#query:net.java.openjdk+page:1+mid:ao3xupqbbafdoax6+state:results\" rel=\"nofollow noreferrer\">markmail.org/message/&hellip;</a>"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1548291659,"post_id":54337808,"comment_id":95492814,"body_markdown":"Do I need to point out that you&#39;re intended to program against the interface (in this case, `Deque`) rather than the implementation?  As for performance, `ArrayDeque` is faster at some operations while `LinkedList` is faster at others.... and `ConcurrentLinkedDeque` is the only one that&#39;s thread-safe out of the box.","body":"Do I need to point out that you&#39;re intended to program against the interface (in this case, <code>Deque</code>) rather than the implementation?  As for performance, <code>ArrayDeque</code> is faster at some operations while <code>LinkedList</code> is faster at others.... and <code>ConcurrentLinkedDeque</code> is the only one that&#39;s thread-safe out of the box."}],"answers":[{"tags":[],"owner":{"account_id":1021693,"reputation":5170,"user_id":1031863,"accept_rate":50,"display_name":"Tarun Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548291165,"creation_date":1548291165,"answer_id":54337897,"question_id":54337808,"body_markdown":"As mentioned in [here][1], ArrayDeque is resizable-array implementation of the Deque interface. Underlining data-structure is Array. However, it doesn&#39;t support random access because it exposes double-ended queue interface. If you want to access a random element of Deque, you can invoke `toArray()` and then access elements by index.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayDeque.html","title":"ArrayDeque is implemented as an array, why is it not Random Access?","body":"<p>As mentioned in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">here</a>, ArrayDeque is resizable-array implementation of the Deque interface. Underlining data-structure is Array. However, it doesn't support random access because it exposes double-ended queue interface. If you want to access a random element of Deque, you can invoke <code>toArray()</code> and then access elements by index.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1548296987,"creation_date":1548296987,"answer_id":54338553,"question_id":54337808,"body_markdown":"The answer is that there&#39;s no good reason.  It would be easy to add a constant-time `get(int)` and `set(int,E)` to `ArrayDeque`.   More than once I&#39;ve had to implement the algorithms of `ArrayDeque` within an `ArrayList` to make up for that lack.","title":"ArrayDeque is implemented as an array, why is it not Random Access?","body":"<p>The answer is that there's no good reason.  It would be easy to add a constant-time <code>get(int)</code> and <code>set(int,E)</code> to <code>ArrayDeque</code>.   More than once I've had to implement the algorithms of <code>ArrayDeque</code> within an <code>ArrayList</code> to make up for that lack.</p>\n"},{"tags":[],"owner":{"account_id":2127246,"reputation":109,"user_id":1889018,"display_name":"ciobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677526774,"creation_date":1677526774,"answer_id":75584860,"question_id":54337808,"body_markdown":"I think the short answer to *&quot;why there is no random access&quot;* is that it didn&#39;t seem necessary when the class was created, and also it sort of doesn&#39;t make sense: `ArrayDeque` is firstly a kind of `Deque`, which is something mainly allowing access at both ends and that&#39;s about it. So I sort of agree that a random access function shouldn&#39;t be in `Deque` (though, by the same logic, it shouldn&#39;t be in `List` either). You can also have `ArrayDeque` implementing `List`, as others pointed out, but it&#39;s hard to retrofit and perhaps there are other issues. I personally think the collection interfaces in Java are a big mess, but I&#39;ll leave it at this.\r\n\r\nNow, if you want a solution to the drawback of `ArrayDeque` not having random access, there are some options:\r\n* First of all, do you really need random access? Perhaps `iterator()` or `descendingIterator()` are good enough.\r\n* For truly random access, this is probably not very fast, but it should be O(1): `deque.stream().skip(index).findFirst().get()`","title":"ArrayDeque is implemented as an array, why is it not Random Access?","body":"<p>I think the short answer to <em>&quot;why there is no random access&quot;</em> is that it didn't seem necessary when the class was created, and also it sort of doesn't make sense: <code>ArrayDeque</code> is firstly a kind of <code>Deque</code>, which is something mainly allowing access at both ends and that's about it. So I sort of agree that a random access function shouldn't be in <code>Deque</code> (though, by the same logic, it shouldn't be in <code>List</code> either). You can also have <code>ArrayDeque</code> implementing <code>List</code>, as others pointed out, but it's hard to retrofit and perhaps there are other issues. I personally think the collection interfaces in Java are a big mess, but I'll leave it at this.</p>\n<p>Now, if you want a solution to the drawback of <code>ArrayDeque</code> not having random access, there are some options:</p>\n<ul>\n<li>First of all, do you really need random access? Perhaps <code>iterator()</code> or <code>descendingIterator()</code> are good enough.</li>\n<li>For truly random access, this is probably not very fast, but it should be O(1): <code>deque.stream().skip(index).findFirst().get()</code></li>\n</ul>\n"}],"owner":{"account_id":15148806,"reputation":252,"user_id":10931647,"display_name":"Taylous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54337897,"answer_count":3,"score":9,"last_activity_date":1677526774,"creation_date":1548290429,"question_id":54337808,"body_markdown":"I know that **ArrayDeque** is fast when adding and removing simple lists.\r\nI tested it, it was quicker to add and delete than LinkedList.\r\nBecause I know that it is implemented as an Array, so why not Random Access?\r\n\r\nI read the ArrayDeque.java file in the Java src. But I do not understand it well with my English level. I&#39;ve seen a lot of articles from Google and Stack Overflow, but I did not get the answers I wanted.\r\n\r\nIn conclusion, what I&#39;m looking for is:\r\n\r\n1. **Why is ArrayDeque not Random Access?** (I am most curious)\r\n2. In what situations is ArrayDeque used?\r\n3. Is ArrayDeque not implemented as an Array? (Did I misunderstand this?)\r\n\r\nThank you very much for your reply!\r\n\r\n","title":"ArrayDeque is implemented as an array, why is it not Random Access?","body":"<p>I know that <strong>ArrayDeque</strong> is fast when adding and removing simple lists.\nI tested it, it was quicker to add and delete than LinkedList.\nBecause I know that it is implemented as an Array, so why not Random Access?</p>\n<p>I read the ArrayDeque.java file in the Java src. But I do not understand it well with my English level. I've seen a lot of articles from Google and Stack Overflow, but I did not get the answers I wanted.</p>\n<p>In conclusion, what I'm looking for is:</p>\n<ol>\n<li><strong>Why is ArrayDeque not Random Access?</strong> (I am most curious)</li>\n<li>In what situations is ArrayDeque used?</li>\n<li>Is ArrayDeque not implemented as an Array? (Did I misunderstand this?)</li>\n</ol>\n<p>Thank you very much for your reply!</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677524270,"post_id":75584435,"comment_id":133351170,"body_markdown":"In my opinion, there should be more details in the question. It might (or might not) help to start with an explanation of the relationships between `Car` and `Company`, and `Car` and `Citizen`, along with example views.","body":"In my opinion, there should be more details in the question. It might (or might not) help to start with an explanation of the relationships between <code>Car</code> and <code>Company</code>, and <code>Car</code> and <code>Citizen</code>, along with example views."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1677524401,"post_id":75584435,"comment_id":133351215,"body_markdown":"My guess is using inheritance to create a `CitizenCar` and `CompanyCar` is poor design. It might be better to have an additional table, possibly representing the role the car will  have.","body":"My guess is using inheritance to create a <code>CitizenCar</code> and <code>CompanyCar</code> is poor design. It might be better to have an additional table, possibly representing the role the car will  have."},{"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"score":0,"creation_date":1677525956,"post_id":75584435,"comment_id":133351541,"body_markdown":"I&#39;ve added more information","body":"I&#39;ve added more information"}],"answers":[{"tags":[],"owner":{"account_id":21509638,"reputation":79,"user_id":15852541,"display_name":"iamflubin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677526438,"creation_date":1677526438,"answer_id":75584808,"question_id":75584435,"body_markdown":"You could try something like this:\r\n\r\n    @Entity\r\n    @Inheritance\r\n    @DiscriminatorColumn(name = &quot;owner_type&quot;)\r\n    @Table(name = &quot;car_owner&quot;)\r\n    public class CarOwner {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @OneToMany(mappedBy = &quot;owner&quot;)\r\n        private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;company&quot;)\r\n    public class Company extends CarOwner {\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @DiscriminatorValue(&quot;citizen&quot;)\r\n    public class Citizen extends CarOwner {\r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;car&quot;)\r\n    public class Car {\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;owner_id&quot;)\r\n        private CarOwner owner;\r\n    }","title":"Designing relationship between entities to avoid additional (join) table","body":"<p>You could try something like this:</p>\n<pre><code>@Entity\n@Inheritance\n@DiscriminatorColumn(name = &quot;owner_type&quot;)\n@Table(name = &quot;car_owner&quot;)\npublic class CarOwner {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;owner&quot;)\n    private Set&lt;Car&gt; cars = new HashSet&lt;&gt;();\n\n}\n\n@Entity\n@DiscriminatorValue(&quot;company&quot;)\npublic class Company extends CarOwner {\n\n}\n\n@Entity\n@DiscriminatorValue(&quot;citizen&quot;)\npublic class Citizen extends CarOwner {\n\n}\n\n@Entity\n@Table(name = &quot;car&quot;)\npublic class Car {\n    @ManyToOne\n    @JoinColumn(name = &quot;owner_id&quot;)\n    private CarOwner owner;\n}\n</code></pre>\n"}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677526438,"creation_date":1677523744,"question_id":75584435,"body_markdown":"I have 2 classes `Citizen` and `Company`. Both of them have a collection of `Car`. Specific `Car` may be assigned to either `Citizen` or `Company` (only one at the time) and is owned by it. `Car` has no knowledge about it&#39;s owner. `Citizen` and `Company` are not related witch each other.\r\n\r\n```\r\npublic class Citizen {\r\n\r\n    List&lt;Car&gt; cars;\r\n}\r\n```\r\n\r\n```\r\npublic class Company {\r\n    List&lt;Car&gt; cars;\r\n}\r\n```\r\n```\r\npublic class Car {\r\n    //some fields\r\n}\r\n```\r\n\r\nI would like to achieve something like this:\r\n[db tables desing][1]\r\n\r\nI know it&#39;s not possible so I am wondering how to model it to be clean from both JPA &amp; DB side.\r\n\r\nI thought of using `inheritance` provided by Hibernate and creating additional classes like `CitzenCar` and `CompanyCar`. However, each inheritance strategy seems to introduce unnecessary performance drops.\r\n\r\nWhat is the best way to deal with that kind of a problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CEmHS.png","title":"Designing relationship between entities to avoid additional (join) table","body":"<p>I have 2 classes <code>Citizen</code> and <code>Company</code>. Both of them have a collection of <code>Car</code>. Specific <code>Car</code> may be assigned to either <code>Citizen</code> or <code>Company</code> (only one at the time) and is owned by it. <code>Car</code> has no knowledge about it's owner. <code>Citizen</code> and <code>Company</code> are not related witch each other.</p>\n<pre><code>public class Citizen {\n\n    List&lt;Car&gt; cars;\n}\n</code></pre>\n<pre><code>public class Company {\n    List&lt;Car&gt; cars;\n}\n</code></pre>\n<pre><code>public class Car {\n    //some fields\n}\n</code></pre>\n<p>I would like to achieve something like this:\n<a href=\"https://i.stack.imgur.com/CEmHS.png\" rel=\"nofollow noreferrer\">db tables desing</a></p>\n<p>I know it's not possible so I am wondering how to model it to be clean from both JPA &amp; DB side.</p>\n<p>I thought of using <code>inheritance</code> provided by Hibernate and creating additional classes like <code>CitzenCar</code> and <code>CompanyCar</code>. However, each inheritance strategy seems to introduce unnecessary performance drops.</p>\n<p>What is the best way to deal with that kind of a problem?</p>\n"},{"tags":["java","keystore","private-key","public-key"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1677535598,"post_id":75584617,"comment_id":133353778,"body_markdown":"You can use [keytool](https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html), which is in every JDK, to examine the contents of your keystore file.","body":"You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html\" rel=\"nofollow noreferrer\">keytool</a>, which is in every JDK, to examine the contents of your keystore file."}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677525815,"creation_date":1677524902,"question_id":75584617,"body_markdown":"I downloaded the p12 file(PKCS12 all-in-one-file format- Certificate password: test) from here \r\nhttps://itv.mit-xperts.com/clientssl/issue/dload/index.php?id=1693731657\r\n\r\nI read this .p12 in, and can get the private key out. But the cert is null and I can&#39;t get public key from it.\r\n\r\nI use java.security.cert.Certifcate\r\n\r\n    String pfxFileName = &quot;C:\\\\1693731657_pkcs12_all_ine_one.p12&quot;;       \r\n     try (InputStream keyFile = new FileInputStream(pfxFileName)) {\r\n                KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                ks.load(keyFile, null);                        //pwd to the file\r\n                Enumeration&lt;String&gt; aliasesIterator =  ks.aliases();\r\n                keyAlias = aliasesIterator.nextElement();\r\n                Key key = ks.getKey(keyAlias, &quot;test&quot;.toCharArray());//pwd to the key inside the original p12 file\r\n    \r\n                String b64 = new BASE64Encoder().encode(key.getEncoded());\r\n                System.out.println(&quot;-----BEGIN PRIVATE KEY-----&quot;);\r\n                System.out.println(b64);\r\n                System.out.println(&quot;-----END PRIVATE KEY-----&quot;);\r\n    \r\n                if (key instanceof PrivateKey) {\r\n                    // Get certificate of public key\r\n                    Certificate cert = (Certificate) ks.getCertificate(keyAlias); //cert is null\r\n                    // Get public key\r\n                    PublicKey publicKey = cert.getPublicKey();\r\n                }\r\n\r\nI create a jks file to import this p12 file. Then I read this jks(containing p12 file) and get public key using almost same code. \r\n\r\n    String jksFileName = &quot;C:\\\\1693731657_pfx.jks&quot;;\r\n\r\nSomething was missing in my above code when reading it from .p12 directly not via jks file.","title":"cert is null when retrieving from p12 file","body":"<p>I downloaded the p12 file(PKCS12 all-in-one-file format- Certificate password: test) from here\n<a href=\"https://itv.mit-xperts.com/clientssl/issue/dload/index.php?id=1693731657\" rel=\"nofollow noreferrer\">https://itv.mit-xperts.com/clientssl/issue/dload/index.php?id=1693731657</a></p>\n<p>I read this .p12 in, and can get the private key out. But the cert is null and I can't get public key from it.</p>\n<p>I use java.security.cert.Certifcate</p>\n<pre><code>String pfxFileName = &quot;C:\\\\1693731657_pkcs12_all_ine_one.p12&quot;;       \n try (InputStream keyFile = new FileInputStream(pfxFileName)) {\n            KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);\n            ks.load(keyFile, null);                        //pwd to the file\n            Enumeration&lt;String&gt; aliasesIterator =  ks.aliases();\n            keyAlias = aliasesIterator.nextElement();\n            Key key = ks.getKey(keyAlias, &quot;test&quot;.toCharArray());//pwd to the key inside the original p12 file\n\n            String b64 = new BASE64Encoder().encode(key.getEncoded());\n            System.out.println(&quot;-----BEGIN PRIVATE KEY-----&quot;);\n            System.out.println(b64);\n            System.out.println(&quot;-----END PRIVATE KEY-----&quot;);\n\n            if (key instanceof PrivateKey) {\n                // Get certificate of public key\n                Certificate cert = (Certificate) ks.getCertificate(keyAlias); //cert is null\n                // Get public key\n                PublicKey publicKey = cert.getPublicKey();\n            }\n</code></pre>\n<p>I create a jks file to import this p12 file. Then I read this jks(containing p12 file) and get public key using almost same code.</p>\n<pre><code>String jksFileName = &quot;C:\\\\1693731657_pfx.jks&quot;;\n</code></pre>\n<p>Something was missing in my above code when reading it from .p12 directly not via jks file.</p>\n"},{"tags":["java","spring-boot","csv","opencsv"],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677525642,"creation_date":1677523824,"question_id":75584449,"body_markdown":"I am using CsvToBean to parse a csv to bean. I am trying to  get the headers of the csv. This is the current setup I have:\r\n\r\n    CsvToBean&lt;T&gt; beans =\r\n              new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\r\n                  .withType(targetClazz)\r\n                  .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n                  .withThrowExceptions(false)\r\n                  .build();\r\n\r\nTo get the headers I did the following change:\r\n\r\n \r\n\r\n    public &lt;T&gt; CsvParserResult&lt;T&gt; parseFile(File file, Class&lt;? extends T&gt; targetClazz) {\r\n    \r\n    HeaderColumnNameMappingStrategy&lt;T&gt; strategy = new HeaderColumnNameMappingStrategy&lt;T&gt;();\r\n        strategy.setType(targetClazz);\r\n    CsvToBean&lt;T&gt; beans =\r\n              new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\r\n                  .withType(targetClazz)\r\n                  .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n                  .withThrowExceptions(false)\r\n                  .withMappingStrategy(strategy)\r\n                  .build();\r\n    \r\n    \r\n          String[] headers = strategy.generateHeader((T) targetClazz);\r\n\r\nThe problem is the headers retrieved is not in the order coming from csv but more in alphabetical order(which is not desired). Upon debugging I see this structure,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aqzDl.png\r\n\r\nQuestions:\r\n1. is there a way to extract positionToHeader, present in the screenshot.\r\n2. Is there a clean way to get the headers. I have tried the following, but no result:\r\nhttps://stackoverflow.com/questions/56056890/how-to-fetch-and-validate-csv-header-in-open-csv and\r\nhttps://stackoverflow.com/questions/69012019/opencsv-validating-csv-header-with-bean-headers\r\n\r\nThanks!","title":"fetch csv header using opencsv","body":"<p>I am using CsvToBean to parse a csv to bean. I am trying to  get the headers of the csv. This is the current setup I have:</p>\n<pre><code>CsvToBean&lt;T&gt; beans =\n          new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\n              .withType(targetClazz)\n              .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n              .withThrowExceptions(false)\n              .build();\n</code></pre>\n<p>To get the headers I did the following change:</p>\n<pre><code>public &lt;T&gt; CsvParserResult&lt;T&gt; parseFile(File file, Class&lt;? extends T&gt; targetClazz) {\n\nHeaderColumnNameMappingStrategy&lt;T&gt; strategy = new HeaderColumnNameMappingStrategy&lt;T&gt;();\n    strategy.setType(targetClazz);\nCsvToBean&lt;T&gt; beans =\n          new CsvToBeanBuilder&lt;T&gt;(new FileReader(file))\n              .withType(targetClazz)\n              .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n              .withThrowExceptions(false)\n              .withMappingStrategy(strategy)\n              .build();\n\n\n      String[] headers = strategy.generateHeader((T) targetClazz);\n</code></pre>\n<p>The problem is the headers retrieved is not in the order coming from csv but more in alphabetical order(which is not desired). Upon debugging I see this structure,\n<a href=\"https://i.stack.imgur.com/aqzDl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aqzDl.png\" alt=\"enter image description here\" /></a></p>\n<p>Questions:</p>\n<ol>\n<li>is there a way to extract positionToHeader, present in the screenshot.</li>\n<li>Is there a clean way to get the headers. I have tried the following, but no result:\n<a href=\"https://stackoverflow.com/questions/56056890/how-to-fetch-and-validate-csv-header-in-open-csv\">how to fetch and validate csv header in open csv?</a> and\n<a href=\"https://stackoverflow.com/questions/69012019/opencsv-validating-csv-header-with-bean-headers\">Opencsv validating CSV header with bean headers</a></li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-boot-actuator"],"owner":{"account_id":12822065,"reputation":17,"user_id":10250453,"display_name":"krown_loki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677525136,"creation_date":1677525136,"question_id":75584655,"body_markdown":"I have multiple services on Spring Boot. One of them is gateway for another services. Gateway has web implementation with controller and endpoints. When client makes request to a gateway, the gateway push message with data to rabbitmq so another services have rabbit listener to get and process a message. So I can run as many services as I want without port and web implementations.  \r\nNow I need to monitor services. For this I implement to gateway ```micrometer-registry-prometheus``` library. But I can&#39;t monitor another services with rabbit listeners because they don&#39;t have web implementation.  \r\nHow can I monitor services without web functions? I guess that implementing web starter only for actuator endpoints is a bad idea.","title":"How to setup monitoring for Spring Boot application without web endpoints","body":"<p>I have multiple services on Spring Boot. One of them is gateway for another services. Gateway has web implementation with controller and endpoints. When client makes request to a gateway, the gateway push message with data to rabbitmq so another services have rabbit listener to get and process a message. So I can run as many services as I want without port and web implementations.<br />\nNow I need to monitor services. For this I implement to gateway <code>micrometer-registry-prometheus</code> library. But I can't monitor another services with rabbit listeners because they don't have web implementation.<br />\nHow can I monitor services without web functions? I guess that implementing web starter only for actuator endpoints is a bad idea.</p>\n"},{"tags":["java","sorting","arraylist","comparator","greedy"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1677523794,"post_id":75584374,"comment_id":133351051,"body_markdown":"[Do not show pictures of text](/help/how-to-ask), just put the actual text in your post, in [code fences](/markdown). Also, look at your post after submitting: you have things in your code that are guaranteed not in your actual code.","body":"<a href=\"/help/how-to-ask\">Do not show pictures of text</a>, just put the actual text in your post, in <a href=\"/markdown\">code fences</a>. Also, look at your post after submitting: you have things in your code that are guaranteed not in your actual code."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677524078,"creation_date":1677524078,"answer_id":75584488,"question_id":75584374,"body_markdown":"&gt; I tried using simple array instead of arraylist and it worked correctly\r\n\r\nI find that hard to believe.  The `Comparator` you created is deficient, whether used with an array or with a `List`.\r\n\r\nYou are sorting based on `Item.ppw`, which is a `float`.  There&#39;s nothing inherently wrong with that, but consider your specific implementation:\r\n```\r\n        return (int) (o2.ppw) - (int) (o1.ppw);  \r\n```\r\nIf `o1.ppw` and `o2.ppw` are different, but `(int) o1.ppw` and `(int) o2.ppw` are the same, then the wrong result (`0`) will be returned.\r\n\r\nI&#39;m inclined to guess that you tried to adapt a more subtly flawed yet relatively common implementation for `int`-based comparisons.  Using a difference of two `int`s as the return value of a comparator is more right than your code, but it will still produce the wrong answer if the subtraction overflows.\r\n\r\nDon&#39;t try to be so clever.  A `Comparator` of this general form is perfectly good for comparing objects by any single field of primitive type:\r\n```\r\nclass CompareByPPW implements Comparator&lt;Item&gt; {\r\n    public int compare(Item o1, Item o2) {\r\n        if (o1.ppw &lt; o2.ppw) {\r\n            return -1;\r\n        } else if (o2.ppw &lt; o1.ppw) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n```","title":"error in arraylist sorting using collections.sort()","body":"<blockquote>\n<p>I tried using simple array instead of arraylist and it worked correctly</p>\n</blockquote>\n<p>I find that hard to believe.  The <code>Comparator</code> you created is deficient, whether used with an array or with a <code>List</code>.</p>\n<p>You are sorting based on <code>Item.ppw</code>, which is a <code>float</code>.  There's nothing inherently wrong with that, but consider your specific implementation:</p>\n<pre><code>        return (int) (o2.ppw) - (int) (o1.ppw);  \n</code></pre>\n<p>If <code>o1.ppw</code> and <code>o2.ppw</code> are different, but <code>(int) o1.ppw</code> and <code>(int) o2.ppw</code> are the same, then the wrong result (<code>0</code>) will be returned.</p>\n<p>I'm inclined to guess that you tried to adapt a more subtly flawed yet relatively common implementation for <code>int</code>-based comparisons.  Using a difference of two <code>int</code>s as the return value of a comparator is more right than your code, but it will still produce the wrong answer if the subtraction overflows.</p>\n<p>Don't try to be so clever.  A <code>Comparator</code> of this general form is perfectly good for comparing objects by any single field of primitive type:</p>\n<pre><code>class CompareByPPW implements Comparator&lt;Item&gt; {\n    public int compare(Item o1, Item o2) {\n        if (o1.ppw &lt; o2.ppw) {\n            return -1;\n        } else if (o2.ppw &lt; o1.ppw) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27893557,"reputation":9,"user_id":21299372,"display_name":"Saransh Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677528848,"answer_count":1,"score":-1,"last_activity_date":1677524078,"creation_date":1677523393,"question_id":75584374,"body_markdown":"I am writing a code on fractional knapsack. But, the sorting algorithm is not working well. And hence my code is not working correctly.\r\n\r\nThis is my code:\r\n\r\n    import java.util.*;\r\n    class Item {\r\n        int profit, weight;\r\n        float ppw;\r\n        //ppw is profit per weight\r\n        public Item(int profit, int weight) {\r\n            this.profit = profit;\r\n            this.weight = weight;\r\n            this.ppw= (float)profit / (float)weight;\r\n        }\r\n    }\r\n    \r\n    class SortbyPPW implements Comparator\\&lt;Item\\&gt; {\r\n        public int compare(Item o1, Item o2) {\r\n            return (int) (o2.ppw) - (int) (o1.ppw);  \r\n        }\r\n    }\r\n    \r\n    public class FractionalKnapSack {\r\n        public static void main(String args\\[\\]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of elements: &quot;);\r\n        int n = sc.nextInt();\r\n        System.out.print(&quot;Enter maximum capacity: &quot;);\r\n        int capacity = sc.nextInt();\r\n        System.out.println(&quot;\\\\nEnter the items with their profit and weight separated by a space&quot;);\r\n    \r\n        ArrayList&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int profit = sc.nextInt();\r\n            int weight = sc.nextInt();\r\n            items.add(new Item(profit, weight));\r\n        }\r\n    \r\n        System.out.println(&quot;\\n&quot;);\r\n        for (Item item : items)\r\n            System.out.print(item.ppw+&quot; &quot;);\r\n        System.out.println(&quot;\\n&quot;);\r\n    \r\n    \r\n        System.out.println(Arrays.toString(items.toArray()));\r\n        double[] maxValue = getMaxValue(items, capacity);\r\n        System.out.println(&quot;\\nMaximum profit we can obtain = &quot; + maxValue[0]);\r\n        System.out.println(&quot;Capacity Used = &quot; + (capacity-maxValue[1]));\r\n        System.out.println(&quot;\\n&quot;);\r\n        System.out.println(Arrays.toString(items.toArray()));\r\n    \r\n        System.out.println(&quot;\\n&quot;);\r\n        for (Item item : items)\r\n            System.out.print(item.ppw+&quot; &quot;);\r\n        System.out.println(&quot;\\n&quot;);\r\n    }\r\n    \r\n    public static double[] getMaxValue(ArrayList&lt;Item&gt; items, int capacity) {\r\n        double maxValue = 0;\r\n        Collections.sort(items, new SortbyPPW());\r\n    \r\n        for (Item item : items) {\r\n            int currWeight = item.weight;\r\n            int currValue = item.profit;\r\n    \r\n            if (capacity - currWeight &gt;= 0) {\r\n                capacity -= currWeight;\r\n                maxValue += currValue;\r\n            } else {\r\n                double fraction = ((double) capacity / (double) currWeight);\r\n                maxValue += (currValue * fraction);\r\n                capacity = (int) (capacity - (currWeight * fraction));\r\n                break;\r\n            }\r\n        }\r\n        double[] arr1={maxValue, (double)capacity} ;\r\n        return arr1;\r\n    }\r\n\r\n}\r\n\r\nI tried using simple array instead of arraylist and it worked correctly but my teacher wants to code to have collections.sort() and comparator class implemented.\r\nThis is the input\r\n8\r\n40\r\n20 10\r\n30 15\r\n18 5\r\n25 12\r\n14 6\r\n24 8\r\n15 7\r\n10 3\r\n\r\nExpected Output\r\n103\\.91\r\nActual Output\r\n100\\.0\r\n\r\n[Input and Output on my laptop][1]\r\n\r\nBut, my code here got close only upto 100 and thus it&#39;s not correct completely.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BqKO6.png","title":"error in arraylist sorting using collections.sort()","body":"<p>I am writing a code on fractional knapsack. But, the sorting algorithm is not working well. And hence my code is not working correctly.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.*;\nclass Item {\n    int profit, weight;\n    float ppw;\n    //ppw is profit per weight\n    public Item(int profit, int weight) {\n        this.profit = profit;\n        this.weight = weight;\n        this.ppw= (float)profit / (float)weight;\n    }\n}\n\nclass SortbyPPW implements Comparator\\&lt;Item\\&gt; {\n    public int compare(Item o1, Item o2) {\n        return (int) (o2.ppw) - (int) (o1.ppw);  \n    }\n}\n\npublic class FractionalKnapSack {\n    public static void main(String args\\[\\]) {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of elements: &quot;);\n    int n = sc.nextInt();\n    System.out.print(&quot;Enter maximum capacity: &quot;);\n    int capacity = sc.nextInt();\n    System.out.println(&quot;\\\\nEnter the items with their profit and weight separated by a space&quot;);\n\n    ArrayList&lt;Item&gt; items = new ArrayList&lt;Item&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        int profit = sc.nextInt();\n        int weight = sc.nextInt();\n        items.add(new Item(profit, weight));\n    }\n\n    System.out.println(&quot;\\n&quot;);\n    for (Item item : items)\n        System.out.print(item.ppw+&quot; &quot;);\n    System.out.println(&quot;\\n&quot;);\n\n\n    System.out.println(Arrays.toString(items.toArray()));\n    double[] maxValue = getMaxValue(items, capacity);\n    System.out.println(&quot;\\nMaximum profit we can obtain = &quot; + maxValue[0]);\n    System.out.println(&quot;Capacity Used = &quot; + (capacity-maxValue[1]));\n    System.out.println(&quot;\\n&quot;);\n    System.out.println(Arrays.toString(items.toArray()));\n\n    System.out.println(&quot;\\n&quot;);\n    for (Item item : items)\n        System.out.print(item.ppw+&quot; &quot;);\n    System.out.println(&quot;\\n&quot;);\n}\n\npublic static double[] getMaxValue(ArrayList&lt;Item&gt; items, int capacity) {\n    double maxValue = 0;\n    Collections.sort(items, new SortbyPPW());\n\n    for (Item item : items) {\n        int currWeight = item.weight;\n        int currValue = item.profit;\n\n        if (capacity - currWeight &gt;= 0) {\n            capacity -= currWeight;\n            maxValue += currValue;\n        } else {\n            double fraction = ((double) capacity / (double) currWeight);\n            maxValue += (currValue * fraction);\n            capacity = (int) (capacity - (currWeight * fraction));\n            break;\n        }\n    }\n    double[] arr1={maxValue, (double)capacity} ;\n    return arr1;\n}\n</code></pre>\n<p>}</p>\n<p>I tried using simple array instead of arraylist and it worked correctly but my teacher wants to code to have collections.sort() and comparator class implemented.\nThis is the input\n8\n40\n20 10\n30 15\n18 5\n25 12\n14 6\n24 8\n15 7\n10 3</p>\n<p>Expected Output\n103.91\nActual Output\n100.0</p>\n<p><a href=\"https://i.stack.imgur.com/BqKO6.png\" rel=\"nofollow noreferrer\">Input and Output on my laptop</a></p>\n<p>But, my code here got close only upto 100 and thus it's not correct completely.</p>\n"},{"tags":["java","spring","maven","unit-testing"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1465725693,"post_id":37772538,"comment_id":63013711,"body_markdown":"There are several opinions on how to call such a test correctly. I call them integration tests (as also the annotation `@WebIntegrationTest` suggests), because even if you test only a specific method, you run the whole application context. Instead write real unit tests and mock the class dependencies. Then your test runs in a few milliseconds.","body":"There are several opinions on how to call such a test correctly. I call them integration tests (as also the annotation <code>@WebIntegrationTest</code> suggests), because even if you test only a specific method, you run the whole application context. Instead write real unit tests and mock the class dependencies. Then your test runs in a few milliseconds."}],"answers":[{"tags":[],"owner":{"account_id":8616058,"reputation":736,"user_id":6452852,"display_name":"Andrei Bardyshev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465734134,"creation_date":1465726087,"answer_id":37773001,"question_id":37772538,"body_markdown":"One of the ways to make spring mvc tests much faster is to use `MockMvcBuilders.standaloneSetup` With this setup you use not a real but a mocked application context. This setup has a very [reach configuration options](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/StandaloneMockMvcBuilder.html) and in my experience, it is sufficient for most of controller tests. \r\n\r\nThat way you need to create your controller instances and inject them with mocked dependencies by hand. Here is an example of MockMvc unit test with standalone setup.\r\n\r\n    // setup beans and mockMvc\r\n    UserDAO userDAO = mock(UserDAO.class);\r\n    UserController userController = new UserController(userDAO);\r\n    MockMvc mockMvc = standaloneSetup(userController)\r\n                 .setViewResolvers(new WebConfig().viewResolver())\r\n                 .build();\r\n    ...\r\n\r\n    // do test\r\n    mockMvc.perform(get(USERS))\r\n                .andExpect(view().name(USERS_VIEW_NAME))\r\n                .andExpect(model().attribute(TOTAL, 20))","title":"Slow unit testing in spring-boot application","body":"<p>One of the ways to make spring mvc tests much faster is to use <code>MockMvcBuilders.standaloneSetup</code> With this setup you use not a real but a mocked application context. This setup has a very <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/web/servlet/setup/StandaloneMockMvcBuilder.html\" rel=\"nofollow\">reach configuration options</a> and in my experience, it is sufficient for most of controller tests. </p>\n\n<p>That way you need to create your controller instances and inject them with mocked dependencies by hand. Here is an example of MockMvc unit test with standalone setup.</p>\n\n<pre><code>// setup beans and mockMvc\nUserDAO userDAO = mock(UserDAO.class);\nUserController userController = new UserController(userDAO);\nMockMvc mockMvc = standaloneSetup(userController)\n             .setViewResolvers(new WebConfig().viewResolver())\n             .build();\n...\n\n// do test\nmockMvc.perform(get(USERS))\n            .andExpect(view().name(USERS_VIEW_NAME))\n            .andExpect(model().attribute(TOTAL, 20))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1530553731,"creation_date":1465732775,"answer_id":37773971,"question_id":37772538,"body_markdown":"I&#39;ll refer your sentence:\r\n\r\n&gt; So let&#39;s say I introduce a new feature and want to test for bugs. I\r\n&gt; use mvn test form the command line. Then all the test are run but i\r\n&gt; think it will take ages for a real application with a lot of tests.\r\n\r\nThis question you raise here is very important, so I&#39;ll try to provide an architectural point of view here without delving into technical implementation.\r\n\r\nThere are many different kinds of tests. What you&#39;re referring to is called an integration test, and not a unit test. The difference between those two that in unit tests you&#39;re testing one class and all the rest should be mocked (there are frameworks like EasyMock or Mockito for this).\r\n\r\nUnit test has a lot of restrictions:\r\n\r\n - You cannot access any external components (web servers, db and so forth)\r\n - Unit tests run only in memory \r\n - They are extremely fast (particle of second).\r\n\r\nThese tests are very helpful when it comes to testing the functionality of your classes\r\n\r\nNow when the development of the feature is done, its time to test that the feature works in &quot;semi-real&quot; environment. Usually when running those, there is a database available as well as spring container. For running this kind of tests you can use spring tests extensions and use different techniques (for example, substitute one the whole application spring context with a &quot;partial&quot; context or override some beans with stubs or something.\r\n\r\nNow, this difference is interesting in the context of your question because there should be many unit tests and substantially less integration tests in the application. So if you can cover something you&#39;ve written with unit tests - write unit tests. It&#39;s incredibly fast by nature and you can run a lot of those (thousands) in no-time. Only if you (rarely) cannot cover your functionality in unit tests - write the integration test. This will typically relevant for code that runs against the DB for example and you would like to test whether the queries produced by the component are really valid. \r\n\r\nSo generally if you have both types of tests you should be covered and there should be not so many integration tests, so running those shouldn&#39;t be a real hassle.\r\n","title":"Slow unit testing in spring-boot application","body":"<p>I'll refer your sentence:</p>\n\n<blockquote>\n  <p>So let's say I introduce a new feature and want to test for bugs. I\n  use mvn test form the command line. Then all the test are run but i\n  think it will take ages for a real application with a lot of tests.</p>\n</blockquote>\n\n<p>This question you raise here is very important, so I'll try to provide an architectural point of view here without delving into technical implementation.</p>\n\n<p>There are many different kinds of tests. What you're referring to is called an integration test, and not a unit test. The difference between those two that in unit tests you're testing one class and all the rest should be mocked (there are frameworks like EasyMock or Mockito for this).</p>\n\n<p>Unit test has a lot of restrictions:</p>\n\n<ul>\n<li>You cannot access any external components (web servers, db and so forth)</li>\n<li>Unit tests run only in memory </li>\n<li>They are extremely fast (particle of second).</li>\n</ul>\n\n<p>These tests are very helpful when it comes to testing the functionality of your classes</p>\n\n<p>Now when the development of the feature is done, its time to test that the feature works in \"semi-real\" environment. Usually when running those, there is a database available as well as spring container. For running this kind of tests you can use spring tests extensions and use different techniques (for example, substitute one the whole application spring context with a \"partial\" context or override some beans with stubs or something.</p>\n\n<p>Now, this difference is interesting in the context of your question because there should be many unit tests and substantially less integration tests in the application. So if you can cover something you've written with unit tests - write unit tests. It's incredibly fast by nature and you can run a lot of those (thousands) in no-time. Only if you (rarely) cannot cover your functionality in unit tests - write the integration test. This will typically relevant for code that runs against the DB for example and you would like to test whether the queries produced by the component are really valid. </p>\n\n<p>So generally if you have both types of tests you should be covered and there should be not so many integration tests, so running those shouldn't be a real hassle.</p>\n"}],"owner":{"account_id":4247506,"reputation":1690,"user_id":3475722,"accept_rate":83,"display_name":"Greg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13067,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":37773971,"answer_count":2,"score":13,"last_activity_date":1677523559,"creation_date":1465722749,"question_id":37772538,"body_markdown":"I&#39;m still new to unit testing. I started to read a book about it. But one of the most important thing is that a test hast to be FIRST (Fast, Isolated, Repeatable, Self-validating, Timely).\r\n\r\nOkay, now I was ready for a bit of practice. But when I was building unit test in spring boot. I like to keep them separated.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = UnitTestApplication.class, loader = SpringApplicationContextLoader.class)\r\n    @WebIntegrationTest(&quot;server.port:9000&quot;)\r\n    public class FirstTestClassTest{\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = UnitTestApplication.class, loader = SpringApplicationContextLoader.class)\r\n    @WebIntegrationTest(&quot;server.port:9001&quot;)\r\n    public class SecondTestClassTest{\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n\r\nThis gives me the problem that for every test class there is a new instance started of the application. \r\n\r\nSo let&#39;s say I introduce a new feature and want to test for bugs. I use `mvn test` from the command line. Then all the test are run but i think it will take ages for a real application with a lot of tests.\r\n\r\n\r\nI there a way that there is only one instance started and keep the test fast but where i can keep the test in separate classes? ","title":"Slow unit testing in spring-boot application","body":"<p>I'm still new to unit testing. I started to read a book about it. But one of the most important thing is that a test hast to be FIRST (Fast, Isolated, Repeatable, Self-validating, Timely).</p>\n<p>Okay, now I was ready for a bit of practice. But when I was building unit test in spring boot. I like to keep them separated.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = UnitTestApplication.class, loader = SpringApplicationContextLoader.class)\n@WebIntegrationTest(&quot;server.port:9000&quot;)\npublic class FirstTestClassTest{\n\n    ...\n\n}\n\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = UnitTestApplication.class, loader = SpringApplicationContextLoader.class)\n@WebIntegrationTest(&quot;server.port:9001&quot;)\npublic class SecondTestClassTest{\n\n    ...\n\n}\n</code></pre>\n<p>This gives me the problem that for every test class there is a new instance started of the application.</p>\n<p>So let's say I introduce a new feature and want to test for bugs. I use <code>mvn test</code> from the command line. Then all the test are run but i think it will take ages for a real application with a lot of tests.</p>\n<p>I there a way that there is only one instance started and keep the test fast but where i can keep the test in separate classes?</p>\n"},{"tags":["java","eclipse","intellij-idea","markdown","javadoc"],"comments":[{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1474208998,"post_id":39556829,"comment_id":66428035,"body_markdown":"I am not pretty much clear what you question is? Are you asking an md option for eclipse??","body":"I am not pretty much clear what you question is? Are you asking an md option for eclipse??"},{"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"score":0,"creation_date":1474210292,"post_id":39556829,"comment_id":66428449,"body_markdown":"I updated the description of the question","body":"I updated the description of the question"},{"owner":{"account_id":2824905,"reputation":3525,"user_id":2427750,"display_name":"Mickael"},"score":0,"creation_date":1474277602,"post_id":39556829,"comment_id":66449431,"body_markdown":"Javadoc is really HTML by specification, and most IDEs stick to specification rather than to the myriad of alternatives. What you&#39;re asking for is very likely to not be available, so I would recommend that rather than introducing complexity by using alternatives that aren&#39;t well supported by most standard tools, you consider sticking to good old Javadoc which works like a charm.","body":"Javadoc is really HTML by specification, and most IDEs stick to specification rather than to the myriad of alternatives. What you&#39;re asking for is very likely to not be available, so I would recommend that rather than introducing complexity by using alternatives that aren&#39;t well supported by most standard tools, you consider sticking to good old Javadoc which works like a charm."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":6,"creation_date":1554031537,"post_id":39556829,"comment_id":97597128,"body_markdown":"&quot;Javadoc is really HTML by specification&quot; - then it is a very poor and outdated specification. MD is the way most and any same programmer would prefer writing javadoc. And your recommendation is ill-advised, rather than pushing and pressing for the needed change. Javadoc as you like it IRREFUTABLY is an annoyance to vast majority and CERTAINLY does not &quot;work like a charm&quot;.","body":"&quot;Javadoc is really HTML by specification&quot; - then it is a very poor and outdated specification. MD is the way most and any same programmer would prefer writing javadoc. And your recommendation is ill-advised, rather than pushing and pressing for the needed change. Javadoc as you like it IRREFUTABLY is an annoyance to vast majority and CERTAINLY does not &quot;work like a charm&quot;."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1564404624,"post_id":39556829,"comment_id":101008151,"body_markdown":"@BlessedGeek At the risk of igniting a flamewar here: What you are reading here is (rendered) HTML. Even Markdown is converted into HTML to be displayed. And JavaDoc *does* work like a charm, and I never heard of it to be an &quot;annoyance&quot;. (But maybe I&#39;m just hadened by using Doxygen...)","body":"@BlessedGeek At the risk of igniting a flamewar here: What you are reading here is (rendered) HTML. Even Markdown is converted into HTML to be displayed. And JavaDoc <i>does</i> work like a charm, and I never heard of it to be an &quot;annoyance&quot;. (But maybe I&#39;m just hadened by using Doxygen...)"},{"owner":{"account_id":3001208,"reputation":577,"user_id":2546679,"display_name":"haui"},"score":2,"creation_date":1590163866,"post_id":39556829,"comment_id":109585926,"body_markdown":"@Marco13 Reading **rendered** HTML is great, but **writing** HTML with a text editor is pita.","body":"@Marco13 Reading <b>rendered</b> HTML is great, but <b>writing</b> HTML with a text editor is pita."},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1615952636,"post_id":39556829,"comment_id":117849233,"body_markdown":"Linking to https://stackoverflow.com/questions/54738479/add-example-usage-markdown-to-javadocs and https://stackoverflow.com/questions/28954774/how-to-enable-markdown-in-intellij","body":"Linking to <a href=\"https://stackoverflow.com/questions/54738479/add-example-usage-markdown-to-javadocs\" title=\"add example usage markdown to javadocs\">stackoverflow.com/questions/54738479/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/28954774/how-to-enable-markdown-in-intellij\" title=\"how to enable markdown in intellij\">stackoverflow.com/questions/28954774/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1631303890,"post_id":39556829,"comment_id":122195142,"body_markdown":"To add to @haui&#39;s point, reading **unrendered** HTML is also a PITA.  It can be a pain to read through the HTML tag noise.  And for me at least, given my IDE&#39;s auto-completion of HTML, it&#39;s almost more annoying to read unrendered HTML than to edit it in a Javadoc.","body":"To add to @haui&#39;s point, reading <b>unrendered</b> HTML is also a PITA.  It can be a pain to read through the HTML tag noise.  And for me at least, given my IDE&#39;s auto-completion of HTML, it&#39;s almost more annoying to read unrendered HTML than to edit it in a Javadoc."},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":1,"creation_date":1659009315,"post_id":39556829,"comment_id":129196584,"body_markdown":"&quot;Javadoc works like a charm&quot;? If I&#39;d have been drinking coffee when I read that it would probably have shot out of my nose. Next you&#39;ll be telling us that type-erased generics &quot;work like a charm&quot;... or that Spring and Hibernate &quot;work like a charm&quot;.","body":"&quot;Javadoc works like a charm&quot;? If I&#39;d have been drinking coffee when I read that it would probably have shot out of my nose. Next you&#39;ll be telling us that type-erased generics &quot;work like a charm&quot;... or that Spring and Hibernate &quot;work like a charm&quot;."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1690916267,"post_id":39556829,"comment_id":135418852,"body_markdown":"JavaDoc is *not* HTML by specification. HTML is part of the [StandardDoclet &quot;specification&quot;;](https://docs.oracle.com/en/java/javase/20/docs/specs/javadoc/doc-comment-spec.html) it&#39;s a convention or de facto standard, but not a requirement. JavaDoc from the get-go provided support for alternative doclets to generate different formats *or* interpret different inputs.","body":"JavaDoc is <i>not</i> HTML by specification. HTML is part of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/javadoc/doc-comment-spec.html\" rel=\"nofollow noreferrer\">StandardDoclet &quot;specification&quot;;</a> it&#39;s a convention or de facto standard, but not a requirement. JavaDoc from the get-go provided support for alternative doclets to generate different formats <i>or</i> interpret different inputs."}],"answers":[{"tags":[],"owner":{"account_id":1069912,"reputation":5754,"user_id":1069454,"display_name":"Sebastien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615952291,"creation_date":1574156518,"answer_id":58930892,"question_id":39556829,"body_markdown":"IntelliJ has a plugin to support markdow javadoc\r\nhttps://plugins.jetbrains.com/plugin/9840-markdown-doclet-for-idea\r\n\r\n**Note** that the plugin has not been updated since 2017\r\nand the maven plugin has not been updated since 2016, see https://mvnrepository.com/artifact/ch.raffael.pegdown-doclet/pegdown-doclet","title":"markdown replacement for javadoc, also for IDEs","body":"<p>IntelliJ has a plugin to support markdow javadoc\n<a href=\"https://plugins.jetbrains.com/plugin/9840-markdown-doclet-for-idea\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9840-markdown-doclet-for-idea</a></p>\n<p><strong>Note</strong> that the plugin has not been updated since 2017\nand the maven plugin has not been updated since 2016, see <a href=\"https://mvnrepository.com/artifact/ch.raffael.pegdown-doclet/pegdown-doclet\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/ch.raffael.pegdown-doclet/pegdown-doclet</a></p>\n"},{"tags":[],"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677523188,"creation_date":1677496219,"answer_id":75579702,"question_id":39556829,"body_markdown":"In Java 13 the legacy doclet API (`com.sun.javadoc`) is removed and only the new doclet API (`jdk.javadoc.doclet`), introduced in Java 9 can be used.\r\n\r\n[jdrupes-mdoclet](https://github.com/mnlipp/jdrupes-mdoclet) is an alternative for the `abnaxos/pegdown-doclet` and support the new doclet API and modern JVM&#39;s (Java 17 for version 3).\r\n\r\nAlso note that there exists a [JEP draft](https://openjdk.org/jeps/8299906), for adding this functionality to the standard `javadoc` tool. However, this JEP is [withdrawn](https://bugs.openjdk.org/browse/JDK-8299906) for now, &quot;pending additional design discussions&quot;.\r\n\r\n**UPDATE**: For using `jdrupes-mdoclet` with maven, see https://github.com/mnlipp/jdrupes-mdoclet/issues/11","title":"markdown replacement for javadoc, also for IDEs","body":"<p>In Java 13 the legacy doclet API (<code>com.sun.javadoc</code>) is removed and only the new doclet API (<code>jdk.javadoc.doclet</code>), introduced in Java 9 can be used.</p>\n<p><a href=\"https://github.com/mnlipp/jdrupes-mdoclet\" rel=\"nofollow noreferrer\">jdrupes-mdoclet</a> is an alternative for the <code>abnaxos/pegdown-doclet</code> and support the new doclet API and modern JVM's (Java 17 for version 3).</p>\n<p>Also note that there exists a <a href=\"https://openjdk.org/jeps/8299906\" rel=\"nofollow noreferrer\">JEP draft</a>, for adding this functionality to the standard <code>javadoc</code> tool. However, this JEP is <a href=\"https://bugs.openjdk.org/browse/JDK-8299906\" rel=\"nofollow noreferrer\">withdrawn</a> for now, &quot;pending additional design discussions&quot;.</p>\n<p><strong>UPDATE</strong>: For using <code>jdrupes-mdoclet</code> with maven, see <a href=\"https://github.com/mnlipp/jdrupes-mdoclet/issues/11\" rel=\"nofollow noreferrer\">https://github.com/mnlipp/jdrupes-mdoclet/issues/11</a></p>\n"}],"owner":{"account_id":1817178,"reputation":4027,"user_id":1654284,"accept_rate":67,"display_name":"mchlfchr"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4404,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1677523188,"creation_date":1474195796,"question_id":39556829,"body_markdown":"I found already a possible solution, described at https://dzone.com/articles/using-markdown-syntax-javadoc, which is based upon https://github.com/Abnaxos/pegdown-doclet.\r\nThis enables markdown support as a replacement for writing the ugly HTML tags in Javadoc.\r\n\r\nOn the GitHub page, there is also a &quot;markdown-compatible-tooltip&quot; solution as plugin for using the CTRL+Q tooltip in IntelliJ, which is 50% good.\r\n\r\nJust to give an example, how the Javadoc is currently looking:\r\n\r\n```java\r\n/**\r\n * This enum gives you insight for various person characteristics.\r\n * &lt;p&gt;\r\n * This could be the following:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;introvert&lt;/li&gt;\r\n * &lt;li&gt;extrovert&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n */\r\npublic enum PersonTypes {\r\n...\r\n}\r\n```\r\n\r\nSo, it&#39;s ok, if you tooltipping/mouse-hovering over the class in an IDE.\r\nNevertheless, it&#39;s hard to read if you are directly in the concerned class, caused by the HTML tags and other macros. And this is only a very simple example without any Javadoc specific macros.\r\n\r\nSo, as described on the website above, I&#39;d like to replace the Javadoc stuff with the Markdown syntax in the source code directly. Applied to the example, this would look like:\r\n\r\n```java\r\n/**\r\n * This enum gives you insight for various person characteristics.\r\n * \r\n * This could be the following:\r\n *\r\n * - introvert\r\n * - extrovert\r\n * \r\n */\r\npublic enum PersonTypes {\r\n...\r\n}\r\n```\r\n\r\nWhen hovering over `PersonTypes` enum in Eclipse, the Markdown syntax is getting lost, because Eclipse interprets it as Javadoc and not as Markdown by default.\r\n\r\nUnfortunately I currently have no solution found for enable that Markdown tooltip parsing for Eclipse.\r\nDoes anyone else have a solution or other ideas?","title":"markdown replacement for javadoc, also for IDEs","body":"<p>I found already a possible solution, described at <a href=\"https://dzone.com/articles/using-markdown-syntax-javadoc\" rel=\"noreferrer\">https://dzone.com/articles/using-markdown-syntax-javadoc</a>, which is based upon <a href=\"https://github.com/Abnaxos/pegdown-doclet\" rel=\"noreferrer\">https://github.com/Abnaxos/pegdown-doclet</a>.\nThis enables markdown support as a replacement for writing the ugly HTML tags in Javadoc.</p>\n\n<p>On the GitHub page, there is also a \"markdown-compatible-tooltip\" solution as plugin for using the CTRL+Q tooltip in IntelliJ, which is 50% good.</p>\n\n<p>Just to give an example, how the Javadoc is currently looking:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This enum gives you insight for various person characteristics.\n * &lt;p&gt;\n * This could be the following:\n * &lt;ul&gt;\n * &lt;li&gt;introvert&lt;/li&gt;\n * &lt;li&gt;extrovert&lt;/li&gt;\n * &lt;/ul&gt;\n */\npublic enum PersonTypes {\n...\n}\n</code></pre>\n\n<p>So, it's ok, if you tooltipping/mouse-hovering over the class in an IDE.\nNevertheless, it's hard to read if you are directly in the concerned class, caused by the HTML tags and other macros. And this is only a very simple example without any Javadoc specific macros.</p>\n\n<p>So, as described on the website above, I'd like to replace the Javadoc stuff with the Markdown syntax in the source code directly. Applied to the example, this would look like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This enum gives you insight for various person characteristics.\n * \n * This could be the following:\n *\n * - introvert\n * - extrovert\n * \n */\npublic enum PersonTypes {\n...\n}\n</code></pre>\n\n<p>When hovering over <code>PersonTypes</code> enum in Eclipse, the Markdown syntax is getting lost, because Eclipse interprets it as Javadoc and not as Markdown by default.</p>\n\n<p>Unfortunately I currently have no solution found for enable that Markdown tooltip parsing for Eclipse.\nDoes anyone else have a solution or other ideas?</p>\n"},{"tags":["java","hadoop","pyspark","delta-lake","java.library.path"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677458788,"post_id":75563134,"comment_id":133336432,"body_markdown":"Does your code work? You can ignore that warning","body":"Does your code work? You can ignore that warning"},{"owner":{"account_id":913727,"reputation":2574,"user_id":947012,"accept_rate":60,"display_name":"greatvovan"},"score":0,"creation_date":1677484474,"post_id":75563134,"comment_id":133339499,"body_markdown":"@OneCricketeer, yes, as mentioned in the question, the code works. If I understand correctly, there is a performance benefit of using native libraries, isn&#39;t it?","body":"@OneCricketeer, yes, as mentioned in the question, the code works. If I understand correctly, there is a performance benefit of using native libraries, isn&#39;t it?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677510022,"post_id":75563134,"comment_id":133346604,"body_markdown":"Sure, but the included ones are built for 32bit - https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/NativeLibraries.html","body":"Sure, but the included ones are built for 32bit - <a href=\"https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/NativeLibraries.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/current/hadoop-project-dist/&hellip;</a>"},{"owner":{"account_id":913727,"reputation":2574,"user_id":947012,"accept_rate":60,"display_name":"greatvovan"},"score":0,"creation_date":1677522338,"post_id":75563134,"comment_id":133350626,"body_markdown":"@OneCricketeer `file libhadoop.so.1.0.0:`\n`libhadoop.so.1.0.0: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV)...`","body":"@OneCricketeer <code>file libhadoop.so.1.0.0:</code> <code>libhadoop.so.1.0.0: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV)...</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677532374,"post_id":75563134,"comment_id":133353083,"body_markdown":"Yes, I see that from your post... I have not done any of this in Docker, so I am really sure. You may need to modify `spark-env.sh` file","body":"Yes, I see that from your post... I have not done any of this in Docker, so I am really sure. You may need to modify <code>spark-env.sh</code> file"}],"owner":{"account_id":913727,"reputation":2574,"user_id":947012,"accept_rate":60,"display_name":"greatvovan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677522944,"creation_date":1677296233,"question_id":75563134,"body_markdown":"I checked [this question][1] and tried every single answer except rebuilding Hadoop (which is failing with endless errors so far). My hope is that the binaries from the official Hadoop [distribution][2] will do, but I can&#39;t make it work.\r\n\r\nDockerfile:\r\n```docker\r\nFROM python:3.10\r\nRUN apt update\r\nRUN apt install -y default-jdk\r\nRUN pip install pyspark==3.3.2 delta-spark==2.2.0\r\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nENV HADOOP_HOME /app/hadoop-3.3.4\r\nENV HADOOP_OPTS -Djava.library.path=/app/hadoop-3.3.4/lib/native\r\nENV HADOOP_PREFIX /app/hadoop-3.3.4\r\nENV HADOOP_COMMON_HOME /app/hadoop-3.3.4\r\nENV HADOOP_COMMON_LIB_NATIVE_DIR /app/hadoop-3.3.4/lib/native\r\nENV HADOOP_CONF_DIR /app/hadoop-3.3.4/etc/hadoop\r\nENV HADOOP_HDFS_HOME /app/hadoop-3.3.4\r\nENV LD_LIBRARY_PATH /usr/lib/hadoop/lib/native\r\nENV JAVA_LIBRARY_PATH /app/hadoop-3.3.4/lib/native\r\nWORKDIR /app\r\n```\r\n\r\nmain.py:\r\n```python\r\nfrom pyspark.sql.session import SparkSession\r\nfrom delta import configure_spark_with_delta_pip\r\n\r\nbuilder = SparkSession.builder.appName(&quot;my&quot;) \\\r\n    .config(&#39;spark.sql.extensions&#39;, &#39;io.delta.sql.DeltaSparkSessionExtension&#39;) \\\r\n    .config(&#39;spark.sql.catalog.spark_catalog&#39;, &#39;org.apache.spark.sql.delta.catalog.DeltaCatalog&#39;)\r\n\r\nspark = configure_spark_with_delta_pip(builder) \\\r\n    .getOrCreate()\r\n```\r\n\r\n```cmd\r\n% tar -zxf hadoop-3.3.4.tar.gz\r\n% docker build . -t mydelta\r\n% docker run -it --rm -v `pwd`:/app mydelta bash\r\n\r\n% python main.py\r\n...\r\n23/02/25 02:13:34 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n...\r\n```\r\n\r\nFunctionally it works well, but I would like to get rid of the warning.\r\n\r\n```\r\n% printenv | grep &quot;HADOOP\\|JAVA&quot;\r\nHADOOP_OPTS=/app/hadoop-3.3.4/lib/native\r\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\nHADOOP_COMMON_HOME=/app/hadoop-3.3.4\r\nHADOOP_CONF_DIR=/app/hadoop-3.3.4/etc/hadoop\r\nHADOOP_HOME=/app/hadoop-3.3.4\r\nHADOOP_HDFS_HOME=/app/hadoop-3.3.4\r\nJAVA_LIBRARY_PATH=/app/hadoop-3.3.4/lib/native\r\nHADOOP_COMMON_LIB_NATIVE_DIR=/app/hadoop-3.3.4/lib/native\r\nHADOOP_PREFIX=/app/hadoop-3.3.4\r\n\r\n% ls -l $HADOOP_COMMON_LIB_NATIVE_DIR\r\ntotal 166800\r\ndrwxr-xr-x 6 root root       192 Jul 29  2022 examples\r\n-rw-r--r-- 1 root root   1507316 Jul 29  2022 libhadoop.a\r\nlrwxr-xr-x 1 root root        18 Jul 29  2022 libhadoop.so -&gt; libhadoop.so.1.0.0\r\n-rwxr-xr-x 1 root root    803040 Jul 29  2022 libhadoop.so.1.0.0\r\n-rw-r--r-- 1 root root   1741256 Jul 29  2022 libhadooppipes.a\r\n-rw-r--r-- 1 root root    754382 Jul 29  2022 libhadooputils.a\r\n-rw-r--r-- 1 root root    551572 Jul 29  2022 libhdfs.a\r\nlrwxr-xr-x 1 root root        16 Jul 29  2022 libhdfs.so -&gt; libhdfs.so.0.0.0\r\n-rwxr-xr-x 1 root root    333656 Jul 29  2022 libhdfs.so.0.0.0\r\n-rw-r--r-- 1 root root 106649802 Jul 29  2022 libhdfspp.a\r\nlrwxr-xr-x 1 root root        18 Jul 29  2022 libhdfspp.so -&gt; libhdfspp.so.0.1.0\r\n-rwxr-xr-x 1 root root  44450288 Jul 29  2022 libhdfspp.so.0.1.0\r\n-rw-r--r-- 1 root root  10010090 Jul 29  2022 libnativetask.a\r\nlrwxr-xr-x 1 root root        22 Jul 29  2022 libnativetask.so -&gt; libnativetask.so.1.0.0\r\n-rwxr-xr-x 1 root root   3980832 Jul 29  2022 libnativetask.so.1.0.0\r\n\r\n% ldd --version\r\nldd (Debian GLIBC 2.31-13+deb11u5) 2.31\r\n\r\n% ldd $HADOOP_COMMON_LIB_NATIVE_DIR/libhadoop.so.1.0.0\r\n\tlinux-vdso.so.1 (0x00007ffd405a5000)\r\n\tlibdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f36012ea000)\r\n\tlibpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f36012c8000)\r\n\tlibc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f36010f3000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f360151b000)\r\n\r\n% file libhadoop.so.1.0.0\r\nlibhadoop.so.1.0.0: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=30ce002bb1ee648ac42090156300dbf4f5f9c1c4, with debug_info, not stripped\r\n\r\n% objdump -f libhadoop.so.1.0.0\r\nlibhadoop.so.1.0.0:     file format elf64-x86-64\r\narchitecture: i386:x86-64, flags 0x00000150:\r\nHAS_SYMS, DYNAMIC, D_PAGED\r\nstart address 0x0000000000006bd0\r\n```\r\n\r\nCan you spot if anything is wrong with my libhadoop.so.1.0.0?\r\nWhat else can I try?\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/19943766/947012\r\n  [2]: https://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz","title":"Hot to get rid of &#39;Unable to load native-hadoop library for your platform&#39; with local Spark and Delta Lake","body":"<p>I checked <a href=\"https://stackoverflow.com/q/19943766/947012\">this question</a> and tried every single answer except rebuilding Hadoop (which is failing with endless errors so far). My hope is that the binaries from the official Hadoop <a href=\"https://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-3.3.4/hadoop-3.3.4.tar.gz\" rel=\"nofollow noreferrer\">distribution</a> will do, but I can't make it work.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM python:3.10\nRUN apt update\nRUN apt install -y default-jdk\nRUN pip install pyspark==3.3.2 delta-spark==2.2.0\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nENV HADOOP_HOME /app/hadoop-3.3.4\nENV HADOOP_OPTS -Djava.library.path=/app/hadoop-3.3.4/lib/native\nENV HADOOP_PREFIX /app/hadoop-3.3.4\nENV HADOOP_COMMON_HOME /app/hadoop-3.3.4\nENV HADOOP_COMMON_LIB_NATIVE_DIR /app/hadoop-3.3.4/lib/native\nENV HADOOP_CONF_DIR /app/hadoop-3.3.4/etc/hadoop\nENV HADOOP_HDFS_HOME /app/hadoop-3.3.4\nENV LD_LIBRARY_PATH /usr/lib/hadoop/lib/native\nENV JAVA_LIBRARY_PATH /app/hadoop-3.3.4/lib/native\nWORKDIR /app\n</code></pre>\n<p>main.py:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql.session import SparkSession\nfrom delta import configure_spark_with_delta_pip\n\nbuilder = SparkSession.builder.appName(&quot;my&quot;) \\\n    .config('spark.sql.extensions', 'io.delta.sql.DeltaSparkSessionExtension') \\\n    .config('spark.sql.catalog.spark_catalog', 'org.apache.spark.sql.delta.catalog.DeltaCatalog')\n\nspark = configure_spark_with_delta_pip(builder) \\\n    .getOrCreate()\n</code></pre>\n<pre><code>% tar -zxf hadoop-3.3.4.tar.gz\n% docker build . -t mydelta\n% docker run -it --rm -v `pwd`:/app mydelta bash\n\n% python main.py\n...\n23/02/25 02:13:34 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n...\n</code></pre>\n<p>Functionally it works well, but I would like to get rid of the warning.</p>\n<pre><code>% printenv | grep &quot;HADOOP\\|JAVA&quot;\nHADOOP_OPTS=/app/hadoop-3.3.4/lib/native\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nHADOOP_COMMON_HOME=/app/hadoop-3.3.4\nHADOOP_CONF_DIR=/app/hadoop-3.3.4/etc/hadoop\nHADOOP_HOME=/app/hadoop-3.3.4\nHADOOP_HDFS_HOME=/app/hadoop-3.3.4\nJAVA_LIBRARY_PATH=/app/hadoop-3.3.4/lib/native\nHADOOP_COMMON_LIB_NATIVE_DIR=/app/hadoop-3.3.4/lib/native\nHADOOP_PREFIX=/app/hadoop-3.3.4\n\n% ls -l $HADOOP_COMMON_LIB_NATIVE_DIR\ntotal 166800\ndrwxr-xr-x 6 root root       192 Jul 29  2022 examples\n-rw-r--r-- 1 root root   1507316 Jul 29  2022 libhadoop.a\nlrwxr-xr-x 1 root root        18 Jul 29  2022 libhadoop.so -&gt; libhadoop.so.1.0.0\n-rwxr-xr-x 1 root root    803040 Jul 29  2022 libhadoop.so.1.0.0\n-rw-r--r-- 1 root root   1741256 Jul 29  2022 libhadooppipes.a\n-rw-r--r-- 1 root root    754382 Jul 29  2022 libhadooputils.a\n-rw-r--r-- 1 root root    551572 Jul 29  2022 libhdfs.a\nlrwxr-xr-x 1 root root        16 Jul 29  2022 libhdfs.so -&gt; libhdfs.so.0.0.0\n-rwxr-xr-x 1 root root    333656 Jul 29  2022 libhdfs.so.0.0.0\n-rw-r--r-- 1 root root 106649802 Jul 29  2022 libhdfspp.a\nlrwxr-xr-x 1 root root        18 Jul 29  2022 libhdfspp.so -&gt; libhdfspp.so.0.1.0\n-rwxr-xr-x 1 root root  44450288 Jul 29  2022 libhdfspp.so.0.1.0\n-rw-r--r-- 1 root root  10010090 Jul 29  2022 libnativetask.a\nlrwxr-xr-x 1 root root        22 Jul 29  2022 libnativetask.so -&gt; libnativetask.so.1.0.0\n-rwxr-xr-x 1 root root   3980832 Jul 29  2022 libnativetask.so.1.0.0\n\n% ldd --version\nldd (Debian GLIBC 2.31-13+deb11u5) 2.31\n\n% ldd $HADOOP_COMMON_LIB_NATIVE_DIR/libhadoop.so.1.0.0\n    linux-vdso.so.1 (0x00007ffd405a5000)\n    libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f36012ea000)\n    libpthread.so.0 =&gt; /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f36012c8000)\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f36010f3000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f360151b000)\n\n% file libhadoop.so.1.0.0\nlibhadoop.so.1.0.0: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=30ce002bb1ee648ac42090156300dbf4f5f9c1c4, with debug_info, not stripped\n\n% objdump -f libhadoop.so.1.0.0\nlibhadoop.so.1.0.0:     file format elf64-x86-64\narchitecture: i386:x86-64, flags 0x00000150:\nHAS_SYMS, DYNAMIC, D_PAGED\nstart address 0x0000000000006bd0\n</code></pre>\n<p>Can you spot if anything is wrong with my libhadoop.so.1.0.0?\nWhat else can I try?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1677519282,"post_id":75583628,"comment_id":133349820,"body_markdown":"It depends on the cardinality of the relation: If it is 0..1 or 0..* then a FK is not required, but if it is 1..1 or 1..* then the FK is required.","body":"It depends on the cardinality of the relation: If it is 0..1 or 0..* then a FK is not required, but if it is 1..1 or 1..* then the FK is required."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677521709,"post_id":75583628,"comment_id":133350466,"body_markdown":"Wonderful explanation in a short clause... Many thanks.","body":"Wonderful explanation in a short clause... Many thanks."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677521743,"post_id":75583628,"comment_id":133350476,"body_markdown":"@cyberbrain You may probably have good ideas on https://stackoverflow.com/questions/75553186/why-class-diagram-methods-are-defined-in-the-same-class/75571681?noredirect=1#comment133350134_75571681 I would be happy if you share your opinions. regards","body":"@cyberbrain You may probably have good ideas on <a href=\"https://stackoverflow.com/questions/75553186/why-class-diagram-methods-are-defined-in-the-same-class/75571681?noredirect=1#comment133350134_75571681\" title=\"why class diagram methods are defined in the same class\">stackoverflow.com/questions/75553186/&hellip;</a> I would be happy if you share your opinions. regards"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677527659,"post_id":75583628,"comment_id":133351969,"body_markdown":"Nothing in JPA is &#39;mandatory&#39; so I don&#39;t know what you mean; make it required if and only if you require it. Same as not-null on a basic. Better is subjective and not ideal for stack overflow questions - it entirely depends on application usage which you have not and likely cannot detail here. As for a basic mapping: Apps I&#39;ve seen that don&#39;t know what is best can do both - a basic mapping and the reference mapping, allowing them to have the best of both worlds. As long as they understand the drawbacks, they can avoid the pitfalls of both (ie use lazy fetching and respect it).","body":"Nothing in JPA is &#39;mandatory&#39; so I don&#39;t know what you mean; make it required if and only if you require it. Same as not-null on a basic. Better is subjective and not ideal for stack overflow questions - it entirely depends on application usage which you have not and likely cannot detail here. As for a basic mapping: Apps I&#39;ve seen that don&#39;t know what is best can do both - a basic mapping and the reference mapping, allowing them to have the best of both worlds. As long as they understand the drawbacks, they can avoid the pitfalls of both (ie use lazy fetching and respect it)."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677527958,"post_id":75583628,"comment_id":133352038,"body_markdown":"As for why you might perform a CityId look up or some other id reference lookup and require the reference - it depends on if you trust and need to validate that ID value. If it is user provided, you may want to make sure they aren&#39;t inadvertently putting in a city ID of Detroit when they mean Chicago - or that they even gave a valid ID value that refers to a city instead of say a city name. If you trust the data, it is unnecessary overhead that affects performance. So it all depends on your app and what you actually need. Easiest is to start with a model that matches the data and tweak later.","body":"As for why you might perform a CityId look up or some other id reference lookup and require the reference - it depends on if you trust and need to validate that ID value. If it is user provided, you may want to make sure they aren&#39;t inadvertently putting in a city ID of Detroit when they mean Chicago - or that they even gave a valid ID value that refers to a city instead of say a city name. If you trust the data, it is unnecessary overhead that affects performance. So it all depends on your app and what you actually need. Easiest is to start with a model that matches the data and tweak later."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677530733,"post_id":75583628,"comment_id":133352707,"body_markdown":"@Chris Yes, you absolutely right and especially when the user select these data from a dropdown list probably no need to check. On the other hand, as far as I know, I should have add extra field to the entity to save these fields easily. For example, in order to make something e.g. employee.setCityId(), I need to add cityId field besides city to my Employee entity, right? If there is a better way, could you add an example to your answer pls?","body":"@Chris Yes, you absolutely right and especially when the user select these data from a dropdown list probably no need to check. On the other hand, as far as I know, I should have add extra field to the entity to save these fields easily. For example, in order to make something e.g. employee.setCityId(), I need to add cityId field besides city to my Employee entity, right? If there is a better way, could you add an example to your answer pls?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677522772,"creation_date":1677522772,"answer_id":75584278,"question_id":75583628,"body_markdown":"1. It depends on your business rules. If a comment can exist without any user , then you can configure `@ManyToOne` as optional (i.e. default value). Otherwise you can consider to configure it as mandatory by `@ManyToOne(fetch = FetchType.LAZY, optional=false)` . Hibernate will help to validate a comment instance must have an user even though you do not define the related foreign key constraint in DB. \r\n\r\n2. It is perfectly valid to do it especially you have some non-trivial business logic which need to check on the user before adding a comment. \r\n\r\n","title":"Setting FK column as &quot;required&quot; in Hibernate / JPA relations?","body":"<ol>\n<li><p>It depends on your business rules. If a comment can exist without any user , then you can configure <code>@ManyToOne</code> as optional (i.e. default value). Otherwise you can consider to configure it as mandatory by <code>@ManyToOne(fetch = FetchType.LAZY, optional=false)</code> . Hibernate will help to validate a comment instance must have an user even though you do not define the related foreign key constraint in DB.</p>\n</li>\n<li><p>It is perfectly valid to do it especially you have some non-trivial business logic which need to check on the user before adding a comment.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75584278,"answer_count":1,"score":0,"last_activity_date":1677522772,"creation_date":1677518521,"question_id":75583628,"body_markdown":"I use Hibernate to create relations as shown below. As far as I remember, there was no need to set FK fields as required, but I am not sure if it is the case for Hibernate or JPA. \r\n\r\n```\r\n@Entity\r\npublic class Comment {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @EqualsAndHashCode.Exclude\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private String firstName;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private String lastName;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n\r\n    public void addComment(Comment comment) {\r\n        comments.add(comment);\r\n        comment.setUser(this);\r\n    }\r\n\r\n    public void removeComment(Comment comment) {\r\n        comments.remove(comment);\r\n        comment.setUser(null);\r\n    }\r\n}\r\n```\r\n\r\n**1-** So, should I make userId field required? \r\n\r\n**2-** For this kind of scenarios, I retrieve the entity using its id and then add this entity to the related entity before persist. For example, when I create a Comment, I check if the user by the given id exists and then add the returned user to the Comment entity before save. Is it a bad approach? Because we can also set `comment.userId` field before persist without retrieving from database. Which one is better? ","title":"Setting FK column as &quot;required&quot; in Hibernate / JPA relations?","body":"<p>I use Hibernate to create relations as shown below. As far as I remember, there was no need to set FK fields as required, but I am not sure if it is the case for Hibernate or JPA.</p>\n<pre><code>@Entity\npublic class Comment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @EqualsAndHashCode.Exclude\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 20)\n    private String firstName;\n\n    @Column(nullable = false, length = 20)\n    private String lastName;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n\n    public void addComment(Comment comment) {\n        comments.add(comment);\n        comment.setUser(this);\n    }\n\n    public void removeComment(Comment comment) {\n        comments.remove(comment);\n        comment.setUser(null);\n    }\n}\n</code></pre>\n<p><strong>1-</strong> So, should I make userId field required?</p>\n<p><strong>2-</strong> For this kind of scenarios, I retrieve the entity using its id and then add this entity to the related entity before persist. For example, when I create a Comment, I check if the user by the given id exists and then add the returned user to the Comment entity before save. Is it a bad approach? Because we can also set <code>comment.userId</code> field before persist without retrieving from database. Which one is better?</p>\n"},{"tags":["java","testng","powermock","powermockito","linkageerror"],"comments":[{"owner":{"account_id":5307294,"reputation":5670,"user_id":4234729,"display_name":"juherr"},"score":0,"creation_date":1444145253,"post_id":32973292,"comment_id":53772703,"body_markdown":"Which testng version do you use? Did you try the latest?","body":"Which testng version do you use? Did you try the latest?"},{"owner":{"account_id":5307294,"reputation":5670,"user_id":4234729,"display_name":"juherr"},"score":1,"creation_date":1444145479,"post_id":32973292,"comment_id":53772870,"body_markdown":"Which powermock version do you use? 1.6.3 was released few days ago and powermock has some classpath issues. ie: https://github.com/jayway/powermock/issues/579","body":"Which powermock version do you use? 1.6.3 was released few days ago and powermock has some classpath issues. ie: <a href=\"https://github.com/jayway/powermock/issues/579\" rel=\"nofollow noreferrer\">github.com/jayway/powermock/issues/579</a>"},{"owner":{"account_id":2923529,"reputation":309,"user_id":2784821,"display_name":"Seba Cervantes"},"score":0,"creation_date":1444150619,"post_id":32973292,"comment_id":53776064,"body_markdown":"Hi, I am using TestNG 6.9.6 with powermock 1.6.3. As far as I know they are the latests ones.","body":"Hi, I am using TestNG 6.9.6 with powermock 1.6.3. As far as I know they are the latests ones."},{"owner":{"account_id":2923529,"reputation":309,"user_id":2784821,"display_name":"Seba Cervantes"},"score":0,"creation_date":1444151015,"post_id":32973292,"comment_id":53776278,"body_markdown":"@juherr Thanks for the reference. I found quite interesting this part of a comment: &quot;The problem really is that the MockClassLoader does not provide a reference to the mock class it loaded.&quot;. Maybe here is the root of the problem, but at the moment I am not sure if I could find a workaround, or even if a workaround is the best solution for this.","body":"@juherr Thanks for the reference. I found quite interesting this part of a comment: &quot;The problem really is that the MockClassLoader does not provide a reference to the mock class it loaded.&quot;. Maybe here is the root of the problem, but at the moment I am not sure if I could find a workaround, or even if a workaround is the best solution for this."},{"owner":{"account_id":5538109,"reputation":624,"user_id":4395727,"display_name":"Mohammad Alavi"},"score":0,"creation_date":1545594469,"post_id":32973292,"comment_id":94657807,"body_markdown":"As a workaround you can also prepare the exception class (annotate it with @PrepareForTest) to make MockClassLoader loads the exception class, also you need to use try and catch instead of expectedExceptions.","body":"As a workaround you can also prepare the exception class (annotate it with @PrepareForTest) to make MockClassLoader loads the exception class, also you need to use try and catch instead of expectedExceptions."}],"answers":[{"tags":[],"owner":{"account_id":9060130,"reputation":1,"user_id":6746898,"display_name":"Amitabh Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677522511,"creation_date":1677522511,"answer_id":75584230,"question_id":32973292,"body_markdown":"Removing from the expected exception and refactoring to [assertThrows][1] syntax worked for me. You would need to do it for all tests which have the expected exception as your conflicting class. It prevents the powermock class loader to load the class and fixes the linkage error.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html#assertThrows(java.lang.Class,org.testng.Assert.ThrowingRunnable)","title":"Linkage error when performing TestNG with expected exceptions and Powermock","body":"<p>Removing from the expected exception and refactoring to <a href=\"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html#assertThrows(java.lang.Class,org.testng.Assert.ThrowingRunnable)\" rel=\"nofollow noreferrer\">assertThrows</a> syntax worked for me. You would need to do it for all tests which have the expected exception as your conflicting class. It prevents the powermock class loader to load the class and fixes the linkage error.</p>\n"}],"owner":{"account_id":2923529,"reputation":309,"user_id":2784821,"display_name":"Seba Cervantes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677522511,"creation_date":1444143713,"question_id":32973292,"body_markdown":"I am working on a Maven project, and I am trying to perform a TestNG unit test with the following structure:\r\n\r\n    import org.testng.*;\r\n\r\n    @PrepareForTest(GeneralDAO.class)\r\n    @PowerMockIgnore({&quot;javax.management.*&quot;})\r\n    public class TestClass extends PowerMockTestCase {\r\n    \r\n        @Test(expectedExceptions = BusinessException.class) // custom exception from another project\r\n        public void testFailToGetBusiness() {\r\n        \r\n            // method that shoud throw a BusinessException\r\n\r\n        }\r\n    }\r\n\r\nBut when I am running the test, I find out the following exception:\r\n\r\n    java.lang.LinkageError: loader constraint violation: when resolving method &quot;com.company.exception.BusinessException.&lt;init&gt;(Ljava/lang/Exception;Lcom/company/exception/EExceptionCodes;)V&quot;\r\n    the class loader (instance of org/powermock/core/classloader/MockClassLoader)\r\n    of the current class, com/company/core/BusinessHandler, \r\n    and the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method&#39;s defining class, com/company/exception/BusinessException, \r\n    have different Class objects for the type com/company/exception/EExceptionCodes used in the signature\r\n\r\nAs far as I understand, powermock loads the Object with MockClassLoader for the testing environment, and Sun uses his AppClassLoader to load the same Object. As the classloaders are different, in runtime the objects also are (beyond they have the same name), and that implies a LinkageError.\r\n\r\nAnyway, I have tried several ways to avoid that, for example by removing the expectedExceptions tag and adding a try and catch clause, but with no success.\r\n\r\nHow could I set an unique class loader for that Exception? Is that the correct approach to solve it? Or should I try with something else? Could be something wrong with my Maven configuration? Any ideas or comments are welcome :)","title":"Linkage error when performing TestNG with expected exceptions and Powermock","body":"<p>I am working on a Maven project, and I am trying to perform a TestNG unit test with the following structure:</p>\n\n<pre><code>import org.testng.*;\n\n@PrepareForTest(GeneralDAO.class)\n@PowerMockIgnore({\"javax.management.*\"})\npublic class TestClass extends PowerMockTestCase {\n\n    @Test(expectedExceptions = BusinessException.class) // custom exception from another project\n    public void testFailToGetBusiness() {\n\n        // method that shoud throw a BusinessException\n\n    }\n}\n</code></pre>\n\n<p>But when I am running the test, I find out the following exception:</p>\n\n<pre><code>java.lang.LinkageError: loader constraint violation: when resolving method \"com.company.exception.BusinessException.&lt;init&gt;(Ljava/lang/Exception;Lcom/company/exception/EExceptionCodes;)V\"\nthe class loader (instance of org/powermock/core/classloader/MockClassLoader)\nof the current class, com/company/core/BusinessHandler, \nand the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method's defining class, com/company/exception/BusinessException, \nhave different Class objects for the type com/company/exception/EExceptionCodes used in the signature\n</code></pre>\n\n<p>As far as I understand, powermock loads the Object with MockClassLoader for the testing environment, and Sun uses his AppClassLoader to load the same Object. As the classloaders are different, in runtime the objects also are (beyond they have the same name), and that implies a LinkageError.</p>\n\n<p>Anyway, I have tried several ways to avoid that, for example by removing the expectedExceptions tag and adding a try and catch clause, but with no success.</p>\n\n<p>How could I set an unique class loader for that Exception? Is that the correct approach to solve it? Or should I try with something else? Could be something wrong with my Maven configuration? Any ideas or comments are welcome :)</p>\n"},{"tags":["java","php","mysql","database","connection"],"comments":[{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1426703846,"post_id":29130082,"comment_id":46485925,"body_markdown":"is there a firewall in between?","body":"is there a firewall in between?"},{"owner":{"account_id":1115500,"reputation":917,"user_id":1104934,"accept_rate":78,"display_name":"Duffydake"},"score":0,"creation_date":1426704846,"post_id":29130082,"comment_id":46486511,"body_markdown":"There is a firewall : `3306/tcp filtered mysql` . Maybe there is a different port than default or you can&#39;t access it from outside","body":"There is a firewall : <code>3306&#47;tcp filtered mysql</code> . Maybe there is a different port than default or you can&#39;t access it from outside"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1426706996,"post_id":29130082,"comment_id":46487735,"body_markdown":"It is Very unusual that hosts allow remote access to a mysql database. It is occasionally possible but you have to setup a user account that is allowed to login from a remote address.","body":"It is Very unusual that hosts allow remote access to a mysql database. It is occasionally possible but you have to setup a user account that is allowed to login from a remote address."},{"owner":{"account_id":4538554,"reputation":49,"user_id":3687080,"accept_rate":33,"display_name":"Uchiha Madara"},"score":0,"creation_date":1426745803,"post_id":29130082,"comment_id":46500793,"body_markdown":"I think this answers my question....\r\n\r\nhttp://stackoverflow.com/questions/10831915/connecting-mysql-remotely-via-free-host","body":"I think this answers my question....    <a href=\"http://stackoverflow.com/questions/10831915/connecting-mysql-remotely-via-free-host\" title=\"connecting mysql remotely via free host\">stackoverflow.com/questions/10831915/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6973698,"reputation":1196,"user_id":5349104,"display_name":"SRIDHARAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506794729,"creation_date":1506794729,"answer_id":46505610,"question_id":29130082,"body_markdown":"MySQL from 000webhost doesn&#39;t allow you to connect from external applications(remote connections). It allows only connections from the same domain where it is hosted. If you want to establish remote connections then you have to upgrade to special tier. \r\n\r\nPlease check: &lt;a href=&quot;https://www.000webhost.com/website-faq/how-can-i-connect-to-mysql-from-my-computer-27&quot;&gt;000webhost remote connections&lt;/a&gt;","title":"Can not connect to Mysql database of 000webhost.com","body":"<p>MySQL from 000webhost doesn't allow you to connect from external applications(remote connections). It allows only connections from the same domain where it is hosted. If you want to establish remote connections then you have to upgrade to special tier. </p>\n\n<p>Please check: <a href=\"https://www.000webhost.com/website-faq/how-can-i-connect-to-mysql-from-my-computer-27\" rel=\"nofollow noreferrer\">000webhost remote connections</a></p>\n"},{"tags":[],"owner":{"account_id":7318473,"reputation":106,"user_id":5575221,"display_name":"omkar ugale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677521799,"creation_date":1677521799,"answer_id":75584125,"question_id":29130082,"body_markdown":"Remote MySQL connections are disabled for security and server performance reasons.\r\n\r\nHowever remote MySQL connections will be enabled if you upgrade your account to our premium hosting service at [https://www.hostinger.com/special/000webhost][1]\r\n\r\n\r\n  [1]: https://www.hostinger.com/special/000webhost","title":"Can not connect to Mysql database of 000webhost.com","body":"<p>Remote MySQL connections are disabled for security and server performance reasons.</p>\n<p>However remote MySQL connections will be enabled if you upgrade your account to our premium hosting service at <a href=\"https://www.hostinger.com/special/000webhost\" rel=\"nofollow noreferrer\">https://www.hostinger.com/special/000webhost</a></p>\n"}],"owner":{"account_id":4538554,"reputation":49,"user_id":3687080,"accept_rate":33,"display_name":"Uchiha Madara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46505610,"answer_count":2,"score":1,"last_activity_date":1677521799,"creation_date":1426703747,"question_id":29130082,"body_markdown":"    $mysql_host = &quot;mysql12.000webhost.com&quot;;\r\n    $mysql_database = &quot;a1819767_ramen&quot;;\r\n    $mysql_user = &quot;a1819767_naruto&quot;;\r\n    $mysql_password = &quot;naruto1234&quot;;\r\n\r\nI am trying to connect to mysql database using java. But it&#39;s not working. However I can access the database from phpMyAdmin of the webhost cpanel.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n        static final String DB_URL = &quot;jdbc:mysql://mysql12.000webhost.com/a1819767_ramen&quot;;\r\n\r\n        //  Database credentials\r\n        static final String USER = &quot;a1819767_naruto&quot;;\r\n        static final String PASS = &quot;naruto1234&quot;;\r\n\r\n        public static void main(String args[]) {\r\n            Connection conn = null;\r\n            Statement stmt = null;\r\n            try {\r\n                //STEP 2: Register JDBC driver\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n                //STEP 3: Open a connection\r\n                System.out.println(&quot;Connecting to database...&quot;);\r\n                conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut I get the following error...\r\n\r\n    Connecting to database...\r\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    \r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:355)\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2461)\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2498)\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2283)\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:822)\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\r\n    \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:404)\r\n    \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:317)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:215)\r\n    \tat FoodBank.main(FoodBank.java:24)\r\n    Caused by: java.net.ConnectException: Connection timed out: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:579)\r\n    \tat java.net.Socket.connect(Socket.java:528)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:425)\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:241)\r\n    \tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:259)\r\n    \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:305)\r\n    \t... 15 more\r\n\r\nBUILD SUCCESSFUL (total time: 27 seconds)\r\n\r\n![Ping Screen Shot][1]\r\n\r\n![Web host credentials][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zNc7F.png\r\n  [2]: http://i.stack.imgur.com/kTwIy.png\r\n","title":"Can not connect to Mysql database of 000webhost.com","body":"<pre><code>$mysql_host = \"mysql12.000webhost.com\";\n$mysql_database = \"a1819767_ramen\";\n$mysql_user = \"a1819767_naruto\";\n$mysql_password = \"naruto1234\";\n</code></pre>\n\n<p>I am trying to connect to mysql database using java. But it's not working. However I can access the database from phpMyAdmin of the webhost cpanel.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>static final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";\r\n    static final String DB_URL = \"jdbc:mysql://mysql12.000webhost.com/a1819767_ramen\";\r\n\r\n    //  Database credentials\r\n    static final String USER = \"a1819767_naruto\";\r\n    static final String PASS = \"naruto1234\";\r\n\r\n    public static void main(String args[]) {\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n        try {\r\n            //STEP 2: Register JDBC driver\r\n            Class.forName(\"com.mysql.jdbc.Driver\");\r\n\r\n            //STEP 3: Open a connection\r\n            System.out.println(\"Connecting to database...\");\r\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But I get the following error...</p>\n\n<pre><code>Connecting to database...\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1117)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:355)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2461)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2498)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2283)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:822)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:404)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:317)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:215)\n    at FoodBank.main(FoodBank.java:24)\nCaused by: java.net.ConnectException: Connection timed out: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:579)\n    at java.net.Socket.connect(Socket.java:528)\n    at java.net.Socket.&lt;init&gt;(Socket.java:425)\n    at java.net.Socket.&lt;init&gt;(Socket.java:241)\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:259)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:305)\n    ... 15 more\n</code></pre>\n\n<p>BUILD SUCCESSFUL (total time: 27 seconds)</p>\n\n<p><img src=\"https://i.stack.imgur.com/zNc7F.png\" alt=\"Ping Screen Shot\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/kTwIy.png\" alt=\"Web host credentials\"></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":13,"creation_date":1362991902,"post_id":15334394,"comment_id":21655322,"body_markdown":"Are you behind the proxy?","body":"Are you behind the proxy?"},{"owner":{"account_id":456808,"reputation":749,"user_id":855757,"accept_rate":50,"display_name":"Derek"},"score":0,"creation_date":1362991906,"post_id":15334394,"comment_id":21655324,"body_markdown":"Do you need to set a proxy?","body":"Do you need to set a proxy?"},{"owner":{"account_id":1742178,"reputation":1756,"user_id":1593272,"accept_rate":56,"display_name":"Anubhab"},"score":2,"creation_date":1362992384,"post_id":15334394,"comment_id":21655542,"body_markdown":"Are you sure you are not behind a proxy?","body":"Are you sure you are not behind a proxy?"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1362993282,"post_id":15334394,"comment_id":21655947,"body_markdown":"Show us the output of `mvn help:effective-settings` as well as your `pom.xml`.","body":"Show us the output of <code>mvn help:effective-settings</code> as well as your <code>pom.xml</code>."},{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":0,"creation_date":1362993347,"post_id":15334394,"comment_id":21655982,"body_markdown":"It seems its not an issue with settings , since I have other maven projects in my system and that all works fine.this is happens when I try to create a new application.","body":"It seems its not an issue with settings , since I have other maven projects in my system and that all works fine.this is happens when I try to create a new application."},{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":0,"creation_date":1362993547,"post_id":15334394,"comment_id":21656076,"body_markdown":"@carlspring added pom.xml into the question","body":"@carlspring added pom.xml into the question"},{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1362993653,"post_id":15334394,"comment_id":21656129,"body_markdown":"Have you created your previous projects _(working ones)_ using the same system/IDE/Maven?","body":"Have you created your previous projects <i>(working ones)</i> using the same system/IDE/Maven?"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1362993780,"post_id":15334394,"comment_id":21656177,"body_markdown":"Post your `settings.xml`.","body":"Post your <code>settings.xml</code>."},{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":0,"creation_date":1362993802,"post_id":15334394,"comment_id":21656189,"body_markdown":"Not created new ones.But imported existing projects.","body":"Not created new ones.But imported existing projects."},{"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"score":0,"creation_date":1362993943,"post_id":15334394,"comment_id":21656251,"body_markdown":"If your `settings.xml` is OK then I suspect that it&#39;s a [bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=377534).","body":"If your <code>settings.xml</code> is OK then I suspect that it&#39;s a <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=377534\" rel=\"nofollow noreferrer\">bug</a>."},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1362994060,"post_id":15334394,"comment_id":21656320,"body_markdown":"Are you running it from a console or and IDE?","body":"Are you running it from a console or and IDE?"},{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":1,"creation_date":1362994202,"post_id":15334394,"comment_id":21656382,"body_markdown":"running it from IDE(STS)","body":"running it from IDE(STS)"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1362994854,"post_id":15334394,"comment_id":21656714,"body_markdown":"Like I said, post your `settings.xml`.","body":"Like I said, post your <code>settings.xml</code>."},{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":0,"creation_date":1362995766,"post_id":15334394,"comment_id":21657206,"body_markdown":"@carlspring added settings.xml.IP(  &lt;host&gt;ip&lt;/host&gt;) is removed.","body":"@carlspring added settings.xml.IP(  &lt;host&gt;ip&lt;/host&gt;) is removed."},{"owner":{"account_id":9575089,"reputation":639,"user_id":7119931,"display_name":"Mauricio Toledo"},"score":0,"creation_date":1643049545,"post_id":15334394,"comment_id":125231906,"body_markdown":"Try with another version of java. Right click on project &gt; Open Module settings &gt; Project &gt; Select version 8 of java","body":"Try with another version of java. Right click on project &gt; Open Module settings &gt; Project &gt; Select version 8 of java"}],"answers":[{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1362992364,"creation_date":1362992024,"answer_id":15334451,"question_id":15334394,"body_markdown":"It seems me there was a network issue. On your side, or on Maven side, or anywhere in the middle. Just try again later.\r\n\r\nIf the error is permanent, check your network settings. If you are behind a proxy, you need the following in you ~/.m2/settings.xml:\r\n\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n            &lt;id&gt;optional&lt;/id&gt;\r\n            &lt;active&gt;true&lt;/active&gt;\r\n            &lt;protocol&gt;http&lt;/protocol&gt;\r\n            &lt;username&gt;proxyuser&lt;/username&gt;\r\n            &lt;password&gt;proxypass&lt;/password&gt;\r\n            &lt;host&gt;proxy.host.net&lt;/host&gt;\r\n            &lt;port&gt;80&lt;/port&gt;\r\n            &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n    &lt;/proxies&gt;\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>It seems me there was a network issue. On your side, or on Maven side, or anywhere in the middle. Just try again later.</p>\n\n<p>If the error is permanent, check your network settings. If you are behind a proxy, you need the following in you ~/.m2/settings.xml:</p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n        &lt;id&gt;optional&lt;/id&gt;\n        &lt;active&gt;true&lt;/active&gt;\n        &lt;protocol&gt;http&lt;/protocol&gt;\n        &lt;username&gt;proxyuser&lt;/username&gt;\n        &lt;password&gt;proxypass&lt;/password&gt;\n        &lt;host&gt;proxy.host.net&lt;/host&gt;\n        &lt;port&gt;80&lt;/port&gt;\n        &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n&lt;/proxies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1871804,"reputation":16143,"user_id":1693859,"display_name":"Sam R."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362992202,"creation_date":1362992202,"answer_id":15334504,"question_id":15334394,"body_markdown":"For the first error you can simply clear your local repository cache to force it download from main repository rather than checking the local one. \r\n\r\nFor second error, if you are behind proxy you should configure it this way [Configuring a  proxy](http://maven.apache.org/guides/mini/guide-proxies.html) otherwise you have a network problem now. ","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>For the first error you can simply clear your local repository cache to force it download from main repository rather than checking the local one. </p>\n\n<p>For second error, if you are behind proxy you should configure it this way <a href=\"http://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"noreferrer\">Configuring a  proxy</a> otherwise you have a network problem now. </p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362993202,"creation_date":1362992603,"answer_id":15334592,"question_id":15334394,"body_markdown":"I strongly recommend to use a Maven Repository Manager such as Nexus. It will help you to get stable and reproducible builds with Maven. As the Repository Manager is usually in your LAN, you don&#39;t have to configure the proxy settings, but you need to define some other configurations:\r\n\r\nhttp://www.sonatype.com/books/nexus-book/reference/maven-sect-single-group.html\r\n\r\nhttp://maven.apache.org/repository-management.html\r\n\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>I strongly recommend to use a Maven Repository Manager such as Nexus. It will help you to get stable and reproducible builds with Maven. As the Repository Manager is usually in your LAN, you don't have to configure the proxy settings, but you need to define some other configurations:</p>\n\n<p><a href=\"http://www.sonatype.com/books/nexus-book/reference/maven-sect-single-group.html\" rel=\"nofollow\">http://www.sonatype.com/books/nexus-book/reference/maven-sect-single-group.html</a></p>\n\n<p><a href=\"http://maven.apache.org/repository-management.html\" rel=\"nofollow\">http://maven.apache.org/repository-management.html</a></p>\n"},{"tags":[],"owner":{"account_id":2310941,"reputation":844,"user_id":2029079,"display_name":"Uday Shankar"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1523015922,"creation_date":1362992712,"answer_id":15334627,"question_id":15334394,"body_markdown":"It seems like your Maven is unable to connect to Maven repository at http://repo1.maven.org/maven2.\r\n\r\nIf you are using proxy and can access the link with browser the same settings need to be applied to Spring Source Tool Suite (if you are running within suite) or Maven.\r\n\r\nFor Maven proxy setting create a `settings.xml` in the `.m2` directory with following details\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                          http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;host&gt;PROXY&lt;/host&gt;\r\n          &lt;port&gt;3120&lt;/port&gt;\r\n          &lt;nonProxyHosts&gt;maven&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n      &lt;/proxies&gt;\r\n    &lt;/settings&gt;\r\n\r\nIf you are not using proxy and can access the link with browser, remove any proxy settings described above.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>It seems like your Maven is unable to connect to Maven repository at <a href=\"http://repo1.maven.org/maven2\" rel=\"noreferrer\">http://repo1.maven.org/maven2</a>.</p>\n\n<p>If you are using proxy and can access the link with browser the same settings need to be applied to Spring Source Tool Suite (if you are running within suite) or Maven.</p>\n\n<p>For Maven proxy setting create a <code>settings.xml</code> in the <code>.m2</code> directory with following details</p>\n\n<pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n  &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;host&gt;PROXY&lt;/host&gt;\n      &lt;port&gt;3120&lt;/port&gt;\n      &lt;nonProxyHosts&gt;maven&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n  &lt;/proxies&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>If you are not using proxy and can access the link with browser, remove any proxy settings described above.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1362996360,"creation_date":1362996360,"answer_id":15335792,"question_id":15334394,"body_markdown":"\r\nSimplify things by using the following `settings.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                                  http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n\r\n     &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;myproxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;username&gt;user&lt;/username&gt;  &lt;!-- Put your username here --&gt;\r\n          &lt;password&gt;pass&lt;/password&gt;  &lt;!-- Put your password here --&gt;\r\n          &lt;host&gt;123.45.6.78&lt;/host&gt;   &lt;!-- Put the IP address of your proxy server here --&gt;\r\n          &lt;port&gt;80&lt;/port&gt;            &lt;!-- Put your proxy server&#39;s port number here --&gt;\r\n          &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;!-- Do not use this setting unless you know what you&#39;re doing. --&gt;\r\n        &lt;/proxy&gt;    \r\n      &lt;/proxies&gt; \r\n    &lt;/settings&gt;\r\n\r\nUnder Linux/Unix, place it under `~/.m2/settings.xml`. Under Windows place it under `c:\\documents and settings\\youruser\\.m2\\settings.xml` or `c:\\users\\youruser\\.m2\\settings.xml`.\r\n\r\nYou don&#39;t need the `&lt;mirrors/&gt;`, `&lt;profiles/&gt;` and `&lt;settings/&gt;` sections, unless you really know what they&#39;re for.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>Simplify things by using the following <code>settings.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\" \n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                              http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n\n &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;myproxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;user&lt;/username&gt;  &lt;!-- Put your username here --&gt;\n      &lt;password&gt;pass&lt;/password&gt;  &lt;!-- Put your password here --&gt;\n      &lt;host&gt;123.45.6.78&lt;/host&gt;   &lt;!-- Put the IP address of your proxy server here --&gt;\n      &lt;port&gt;80&lt;/port&gt;            &lt;!-- Put your proxy server's port number here --&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;!-- Do not use this setting unless you know what you're doing. --&gt;\n    &lt;/proxy&gt;    \n  &lt;/proxies&gt; \n&lt;/settings&gt;\n</code></pre>\n\n<p>Under Linux/Unix, place it under <code>~/.m2/settings.xml</code>. Under Windows place it under <code>c:\\documents and settings\\youruser\\.m2\\settings.xml</code> or <code>c:\\users\\youruser\\.m2\\settings.xml</code>.</p>\n\n<p>You don't need the <code>&lt;mirrors/&gt;</code>, <code>&lt;profiles/&gt;</code> and <code>&lt;settings/&gt;</code> sections, unless you really know what they're for.</p>\n"},{"tags":[],"owner":{"account_id":1916933,"reputation":8906,"user_id":1729347,"display_name":"Peter Tadros"},"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1620870500,"creation_date":1401186990,"answer_id":23887221,"question_id":15334394,"body_markdown":"This is solved for me when I update maven and check the option &quot;**Force update of Snapshots/Releases**&quot; in Eclipse. this clears all errors. \r\nSo **right click on project** -&gt; **Maven** -&gt; **update project**, **then check the above option** -&gt; **Ok**.\r\nHope this helps you.\r\n\r\nAddition : uncheck &quot;Refresh workspace resources from local filesystem&quot;, it&#39;s working for me.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>This is solved for me when I update maven and check the option &quot;<strong>Force update of Snapshots/Releases</strong>&quot; in Eclipse. this clears all errors.\nSo <strong>right click on project</strong> -&gt; <strong>Maven</strong> -&gt; <strong>update project</strong>, <strong>then check the above option</strong> -&gt; <strong>Ok</strong>.\nHope this helps you.</p>\n<p>Addition : uncheck &quot;Refresh workspace resources from local filesystem&quot;, it's working for me.</p>\n"},{"tags":[],"owner":{"account_id":4152649,"reputation":4697,"user_id":3404637,"accept_rate":56,"display_name":"smali"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440503207,"creation_date":1440503207,"answer_id":32203158,"question_id":15334394,"body_markdown":"To me the solution was just deleted the specific folder which is giving the error from `~/.m2/repository/org/hsqldb/`\r\n\r\nAfter deleting the `hsqldb` folder I have build the project and everything is fine.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>To me the solution was just deleted the specific folder which is giving the error from <code>~/.m2/repository/org/hsqldb/</code></p>\n\n<p>After deleting the <code>hsqldb</code> folder I have build the project and everything is fine.</p>\n"},{"tags":[],"owner":{"account_id":2320615,"reputation":147,"user_id":2635481,"display_name":"vsm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460503748,"creation_date":1460503748,"answer_id":36585885,"question_id":15334394,"body_markdown":"What helped me were the suggestions by @carlspring (create a settings.xml to configure your http proxy):\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                                  http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n    \r\n     &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;myproxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;username&gt;user&lt;/username&gt;  &lt;!-- Put your username here --&gt;\r\n          &lt;password&gt;pass&lt;/password&gt;  &lt;!-- Put your password here --&gt;\r\n          &lt;host&gt;123.45.6.78&lt;/host&gt;   &lt;!-- Put the IP address of your proxy server here --&gt;\r\n          &lt;port&gt;80&lt;/port&gt;            &lt;!-- Put your proxy server&#39;s port number here --&gt;\r\n          &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;!-- Do not use this setting unless you know what you&#39;re doing. --&gt;\r\n        &lt;/proxy&gt;    \r\n      &lt;/proxies&gt; \r\n    &lt;/settings&gt;\r\n\r\nAND then refreshing eclipse project maven as suggested by @Peter T :\r\n\r\n&quot;Force update of Snapshots/Releases&quot; in Eclipse. this clears all errors. So right click on project -&gt; Maven -&gt; update project, then check the above option -&gt; Ok. Hope this helps you.\r\n\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>What helped me were the suggestions by @carlspring (create a settings.xml to configure your http proxy):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\" \n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                              http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n\n &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;myproxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;user&lt;/username&gt;  &lt;!-- Put your username here --&gt;\n      &lt;password&gt;pass&lt;/password&gt;  &lt;!-- Put your password here --&gt;\n      &lt;host&gt;123.45.6.78&lt;/host&gt;   &lt;!-- Put the IP address of your proxy server here --&gt;\n      &lt;port&gt;80&lt;/port&gt;            &lt;!-- Put your proxy server's port number here --&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt; &lt;!-- Do not use this setting unless you know what you're doing. --&gt;\n    &lt;/proxy&gt;    \n  &lt;/proxies&gt; \n&lt;/settings&gt;\n</code></pre>\n\n<p>AND then refreshing eclipse project maven as suggested by @Peter T :</p>\n\n<p>\"Force update of Snapshots/Releases\" in Eclipse. this clears all errors. So right click on project -> Maven -> update project, then check the above option -> Ok. Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":3757293,"reputation":724,"user_id":3123372,"accept_rate":22,"display_name":"user3123372"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462902520,"creation_date":1462902520,"answer_id":37145608,"question_id":15334394,"body_markdown":"If you are in windows os and dont need any proxy \r\nthen delete the whole proxy setting \r\n\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n       ..................\r\n        &lt;/proxy&gt;    \r\n      &lt;/proxies&gt; \r\n\r\nand replace with \r\n\r\n    &lt;proxies/&gt; \r\n\r\nand then do a maven clean build","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>If you are in windows os and dont need any proxy \nthen delete the whole proxy setting </p>\n\n<pre><code>&lt;proxies&gt;\n    &lt;proxy&gt;\n   ..................\n    &lt;/proxy&gt;    \n  &lt;/proxies&gt; \n</code></pre>\n\n<p>and replace with </p>\n\n<pre><code>&lt;proxies/&gt; \n</code></pre>\n\n<p>and then do a maven clean build</p>\n"},{"tags":[],"owner":{"account_id":3613080,"reputation":2890,"user_id":3013633,"accept_rate":93,"display_name":"iaforek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464172565,"creation_date":1464172565,"answer_id":37434580,"question_id":15334394,"body_markdown":"If none of the above works then try and go this question and answer:\r\nhttps://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer\r\n\r\nand delete your `.lastUpdated` files.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>If none of the above works then try and go this question and answer:\n<a href=\"https://stackoverflow.com/questions/5074063/maven-error-failure-to-transfer\">Maven error &quot;Failure to transfer...&quot;</a></p>\n\n<p>and delete your <code>.lastUpdated</code> files.</p>\n"},{"tags":[],"owner":{"account_id":4968690,"reputation":1254,"user_id":3997195,"accept_rate":62,"display_name":"thepolina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474518698,"creation_date":1474518698,"answer_id":39630312,"question_id":15334394,"body_markdown":"I started using maven on my machine first time in while. Got this error: `Could not transfer artifact from/to central (https://repo.maven.apache.org/maven2) No such file or directory`\r\nCleaned up ~/.m2/repository directory. Don&#39;t experience this problem again","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>I started using maven on my machine first time in while. Got this error: <code>Could not transfer artifact from/to central (https://repo.maven.apache.org/maven2) No such file or directory</code>\nCleaned up ~/.m2/repository directory. Don't experience this problem again</p>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490181615,"creation_date":1490181615,"answer_id":42950180,"question_id":15334394,"body_markdown":"1. Update Maven Project and check the option &quot;Force update of Snapshots/Releases&quot;, it will remove errors.\r\n2. If not, Maven clean and install the Project.\r\n3. Still the error isn&#39;t removed, repeat step 1.\r\n\r\nIt worked for me :)","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<ol>\n<li>Update Maven Project and check the option \"Force update of Snapshots/Releases\", it will remove errors.</li>\n<li>If not, Maven clean and install the Project.</li>\n<li>Still the error isn't removed, repeat step 1.</li>\n</ol>\n\n<p>It worked for me :)</p>\n"},{"tags":[],"owner":{"account_id":10575521,"reputation":11,"user_id":7790949,"display_name":"user7790949"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525808967,"creation_date":1490865996,"answer_id":43113690,"question_id":15334394,"body_markdown":"This problem was solved by following steps - \r\n\r\n 1. Go to the local m2 repository and find the directory\r\n    org/apache/maven/plugins/maven-surefire-plugin. \r\n 2. Delete the problematic version.\r\n 3. maven update the project, then download it again.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>This problem was solved by following steps - </p>\n\n<ol>\n<li>Go to the local m2 repository and find the directory\norg/apache/maven/plugins/maven-surefire-plugin. </li>\n<li>Delete the problematic version.</li>\n<li>maven update the project, then download it again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":224230,"reputation":409,"user_id":483899,"display_name":"Shuvankar Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495958312,"creation_date":1495958312,"answer_id":44225039,"question_id":15334394,"body_markdown":"If you are not behind any proxy and still getting connection timeout error, please check firewall settings/ antivirus. Sometimes firewall may block the connectivity from any tool (like Eclipse/STS etc..)","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>If you are not behind any proxy and still getting connection timeout error, please check firewall settings/ antivirus. Sometimes firewall may block the connectivity from any tool (like Eclipse/STS etc..)</p>\n"},{"tags":[],"owner":{"account_id":99342,"reputation":565,"user_id":268387,"accept_rate":44,"display_name":"reg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501237136,"creation_date":1501237136,"answer_id":45370891,"question_id":15334394,"body_markdown":"We have the Proxy set on company level.\r\n\r\nAfter disabling proxy in Internet Explorer this issue was solved (looks like it is then disabled on &#39;system&#39; level), so all other browsers will pick this change too.\r\n\r\nNow I can issue MVN commands from CMD prompt and I have no problem while e.g.\r\n\r\n&quot;Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/1.0/maven-archetype-webapp-1.0.pom&quot;\r\n\r\n...that was causing &#39;Build failure&#39;\r\n\r\nDisabling proxy in IE needs to be done on daily basis in our case, because on each system start it gets set\r\n\r\n\r\n\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>We have the Proxy set on company level.</p>\n\n<p>After disabling proxy in Internet Explorer this issue was solved (looks like it is then disabled on 'system' level), so all other browsers will pick this change too.</p>\n\n<p>Now I can issue MVN commands from CMD prompt and I have no problem while e.g.</p>\n\n<p>\"Downloading: <a href=\"https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/1.0/maven-archetype-webapp-1.0.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/apache/maven/archetypes/maven-archetype-webapp/1.0/maven-archetype-webapp-1.0.pom</a>\"</p>\n\n<p>...that was causing 'Build failure'</p>\n\n<p>Disabling proxy in IE needs to be done on daily basis in our case, because on each system start it gets set</p>\n"},{"tags":[],"owner":{"account_id":1100703,"reputation":2901,"user_id":1325621,"accept_rate":100,"display_name":"Goddard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565018025,"creation_date":1565018025,"answer_id":57361483,"question_id":15334394,"body_markdown":"This can also happen when using an old version of Java that isn&#39;t capable of communicating properly with the HTTPS protocol that is now required.  Version 8 and above should work as of the time writing this.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>This can also happen when using an old version of Java that isn't capable of communicating properly with the HTTPS protocol that is now required.  Version 8 and above should work as of the time writing this.</p>\n"},{"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583997750,"creation_date":1583997750,"answer_id":60649310,"question_id":15334394,"body_markdown":"For me it was `File` **&gt;** `Settings` **&gt;** `...` **&gt;** `BuildTools` **&gt;** `Maven` **&gt;** `Work Offline[■]`","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>For me it was <code>File</code> <strong>></strong> <code>Settings</code> <strong>></strong> <code>...</code> <strong>></strong> <code>BuildTools</code> <strong>></strong> <code>Maven</code> <strong>></strong> <code>Work Offline[■]</code></p>\n"},{"tags":[],"owner":{"account_id":7279659,"reputation":248,"user_id":5549834,"display_name":"Meg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585637307,"creation_date":1585637307,"answer_id":60944858,"question_id":15334394,"body_markdown":"On IntelliJ go to Preference -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven. Turn on the checkbox for &quot;Always update snapshots&quot; apply and save changes then do mvn clean install","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>On IntelliJ go to Preference -> Build, Execution, Deployment -> Build Tools -> Maven. Turn on the checkbox for \"Always update snapshots\" apply and save changes then do mvn clean install</p>\n"},{"tags":[],"owner":{"account_id":4727705,"reputation":309,"user_id":3824135,"accept_rate":50,"display_name":"iQuestProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596789930,"creation_date":1596789930,"answer_id":63298366,"question_id":15334394,"body_markdown":"You can try to set the proxy settings:\r\n\r\n&gt; File -&gt; Settings -&gt; Appearance -&gt; System Settings -&gt; Http proxy -&gt;\r\n&gt; Auto Detect\r\n\r\nAnd then provide the proxy URL.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>You can try to set the proxy settings:</p>\n<blockquote>\n<p>File -&gt; Settings -&gt; Appearance -&gt; System Settings -&gt; Http proxy -&gt;\nAuto Detect</p>\n</blockquote>\n<p>And then provide the proxy URL.</p>\n"},{"tags":[],"owner":{"account_id":5903357,"reputation":61,"user_id":4646041,"display_name":"Glaucio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604028936,"creation_date":1604002605,"answer_id":64598629,"question_id":15334394,"body_markdown":"Try to use https in repo url: &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt; \r\n\r\nIf you use jdk1.7 or above and your network restrict protocols to newer TLS version then enable TLS1.2: `-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2`\r\n\r\n\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>Try to use https in repo url: https://repo1.maven.org/maven2</p>\n<p>If you use jdk1.7 or above and your network restrict protocols to newer TLS version then enable TLS1.2: <code>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2</code></p>\n"},{"tags":[],"owner":{"account_id":5191590,"reputation":11,"user_id":4154363,"display_name":"JuanCarlos Romero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645029432,"creation_date":1645029432,"answer_id":71145739,"question_id":15334394,"body_markdown":"I changed the java version from 1.7 to 1.8 and it worked","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>I changed the java version from 1.7 to 1.8 and it worked</p>\n"},{"tags":[],"owner":{"account_id":21448368,"reputation":515,"user_id":15801356,"display_name":"Hassan Shahzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650533737,"creation_date":1650533737,"answer_id":71952161,"question_id":15334394,"body_markdown":"The issue is that since `maven 3.8.1`, they stopped tranferring via HTTP.\r\nThe simplest solution that worked for me is to simply go to the pom.xml file and under the repository that you are importing, **simply replace** `HTTP` with `HTTPS`. It should work for you.","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>The issue is that since <code>maven 3.8.1</code>, they stopped tranferring via HTTP.\nThe simplest solution that worked for me is to simply go to the pom.xml file and under the repository that you are importing, <strong>simply replace</strong> <code>HTTP</code> with <code>HTTPS</code>. It should work for you.</p>\n"},{"tags":[],"owner":{"account_id":5805773,"reputation":391,"user_id":4578434,"display_name":"Purva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654673851,"creation_date":1654673851,"answer_id":72541762,"question_id":15334394,"body_markdown":"Right-click on the project.\r\nGo to Maven\r\nUpdate project, then check the above option “Force update of Snapshot/Releases“","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>Right-click on the project.\nGo to Maven\nUpdate project, then check the above option “Force update of Snapshot/Releases“</p>\n"},{"tags":[],"owner":{"account_id":20019142,"reputation":41,"user_id":14674440,"display_name":"wei_elsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661329214,"creation_date":1661329214,"answer_id":73469742,"question_id":15334394,"body_markdown":"First, you can do `mvn clean` and clear the caches of project. Then reload maven package, and force to update maven snapshot can be final attempt. ","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>First, you can do <code>mvn clean</code> and clear the caches of project. Then reload maven package, and force to update maven snapshot can be final attempt.</p>\n"},{"tags":[],"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677521454,"creation_date":1677521454,"answer_id":75584072,"question_id":15334394,"body_markdown":"I have tested all provided solutions, nothing worked for me.\r\n\r\nI&#39;m using a company&#39;s network with a proxy, but since I don&#39;t have the proxy&#39;s credentials, I cannot setup it up in the **settings.xml** file.\r\n\r\nAfter doing some analysis, I found out that one of my project&#39;s dependencies needs to be downloaded from an internal repository.\r\n\r\nSo I need to add it to the settings.xml file (it&#39;s also possible to configure it in the pom.xml)\r\n\r\n\r\nI have tested 2 solutions that worked for me:\r\n\r\n***The first one***: add the missing repository in the **settings.xml** file.\r\n\r\nHere I ensured that I have all internal repositories that I need to download from.\r\n\r\n`central-all` is a grouped repository that groups central-releases and central-snapshots and the public maven repo (https://repo.maven.apache.org/maven2)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings\r\n    \txmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n    \thttp://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;DEFAULT-PROFILE&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t\t&lt;repositories&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-all&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped repository (that contains hosted and proxied repositories)&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-releases&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped central-releases repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-releases/&lt;/url&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t\t&lt;repository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-snapshots&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped central-snapshots repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-snapshots/&lt;/url&gt;\r\n    \t\t\t\t&lt;/repository&gt;\r\n    \t\t\t&lt;/repositories&gt;\r\n\r\n    \t\t\t&lt;pluginRepositories&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-all&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped repository (that contains hosted and proxied repositories)&lt;/name&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-releases&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped central-releases repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-releases/&lt;/url&gt;\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t\t&lt;pluginRepository&gt;\r\n    \t\t\t\t\t&lt;id&gt;central-snapshots&lt;/id&gt;\r\n    \t\t\t\t\t&lt;name&gt;Grouped central-snapshots repository&lt;/name&gt;\r\n    \t\t\t\t\t&lt;releases&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/releases&gt;\r\n    \t\t\t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t\t\t&lt;/snapshots&gt;\r\n    \t\t\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-snapshots/&lt;/url&gt;\r\n    \t\t\t\t&lt;/pluginRepository&gt;\r\n    \t\t\t&lt;/pluginRepositories&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\n**The second solution:**\r\n\r\nSince `central-all` is a also a proxy to `&quot;https://repo.maven.apache.org/maven2&quot;`, I could have use it in the **mirror** block defined in **settings.xml** \r\n\r\n\t\t&lt;mirror&gt;\r\n\t\t\t&lt;id&gt;central-all&lt;/id&gt;\r\n\t\t\t&lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\r\n\t\t\t&lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\r\n\t\t&lt;/mirror&gt;\r\n\r\n**Note:** by default, the the main Maven Central repository ID is `central`\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>I have tested all provided solutions, nothing worked for me.</p>\n<p>I'm using a company's network with a proxy, but since I don't have the proxy's credentials, I cannot setup it up in the <strong>settings.xml</strong> file.</p>\n<p>After doing some analysis, I found out that one of my project's dependencies needs to be downloaded from an internal repository.</p>\n<p>So I need to add it to the settings.xml file (it's also possible to configure it in the pom.xml)</p>\n<p>I have tested 2 solutions that worked for me:</p>\n<p><em><strong>The first one</strong></em>: add the missing repository in the <strong>settings.xml</strong> file.</p>\n<p>Here I ensured that I have all internal repositories that I need to download from.</p>\n<p><code>central-all</code> is a grouped repository that groups central-releases and central-snapshots and the public maven repo (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings\n    xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n    http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;DEFAULT-PROFILE&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;/properties&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;central-all&lt;/id&gt;\n                    &lt;name&gt;Grouped repository (that contains hosted and proxied repositories)&lt;/name&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;central-releases&lt;/id&gt;\n                    &lt;name&gt;Grouped central-releases repository&lt;/name&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-releases/&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;central-snapshots&lt;/id&gt;\n                    &lt;name&gt;Grouped central-snapshots repository&lt;/name&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-snapshots/&lt;/url&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central-all&lt;/id&gt;\n                    &lt;name&gt;Grouped repository (that contains hosted and proxied repositories)&lt;/name&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central-releases&lt;/id&gt;\n                    &lt;name&gt;Grouped central-releases repository&lt;/name&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-releases/&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central-snapshots&lt;/id&gt;\n                    &lt;name&gt;Grouped central-snapshots repository&lt;/name&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-snapshots/&lt;/url&gt;\n                &lt;/pluginRepository&gt;\n            &lt;/pluginRepositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p><strong>The second solution:</strong></p>\n<p>Since <code>central-all</code> is a also a proxy to <code>&quot;https://repo.maven.apache.org/maven2&quot;</code>, I could have use it in the <strong>mirror</strong> block defined in <strong>settings.xml</strong></p>\n<pre><code>    &lt;mirror&gt;\n        &lt;id&gt;central-all&lt;/id&gt;\n        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;\n        &lt;url&gt;https://company-internal-nexus/nexus/content/groups/central-all&lt;/url&gt;\n    &lt;/mirror&gt;\n</code></pre>\n<p><strong>Note:</strong> by default, the the main Maven Central repository ID is <code>central</code></p>\n"}],"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581932,"favorite_count":0,"down_vote_count":1,"up_vote_count":115,"accepted_answer_id":15335792,"answer_count":25,"score":114,"last_activity_date":1677521454,"creation_date":1362991839,"question_id":15334394,"body_markdown":"I have created a new maven project in SpringSource Tool Suite. I am getting this error in my new maven project.\r\n\r\n&gt; Failure to transfer\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from\r\n&gt; http://repo1.maven.org/maven2 was cached in the local repository,\r\n&gt; resolution will not be reattempted until the update interval of\r\n&gt; central has elapsed or updates are forced. Original error: Could not\r\n&gt; transfer artifact\r\n&gt; org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to\r\n&gt; central (http://repo1.maven.org/maven2): Connect times out\r\n\r\n**pom.xml:**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                                 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.test.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;TestApp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;TestApp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nSettings.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; \r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n              xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;pluginGroups&gt;\r\n      &lt;/pluginGroups&gt;\r\n     &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;optional&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;username&gt;user&lt;/username&gt;\r\n          &lt;password&gt;pass&lt;/password&gt;\r\n          &lt;host&gt;ip&lt;/host&gt;\r\n          &lt;port&gt;80&lt;/port&gt;\r\n          &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;    \r\n      &lt;/proxies&gt; \r\n      &lt;servers&gt;  \r\n      &lt;/servers&gt;\r\n        &lt;mirrors&gt;   \r\n        &lt;mirror&gt;\r\n          &lt;id&gt;mirrorId&lt;/id&gt;\r\n          &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\r\n          &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\r\n          &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\r\n        &lt;/mirror&gt;    \r\n      &lt;/mirrors&gt;  \r\n    &lt;profiles&gt;\r\n     &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\nPlease note that I am able to build it.Error is showing in pom.xml inside IDE .Any solutions?\r\n","title":"Could not transfer artifact org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to central (http://repo1.maven.org/maven2)","body":"<p>I have created a new maven project in SpringSource Tool Suite. I am getting this error in my new maven project.</p>\n\n<blockquote>\n  <p>Failure to transfer\n  org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from\n  <a href=\"http://repo1.maven.org/maven2\" rel=\"noreferrer\">http://repo1.maven.org/maven2</a> was cached in the local repository,\n  resolution will not be reattempted until the update interval of\n  central has elapsed or updates are forced. Original error: Could not\n  transfer artifact\n  org.apache.maven.plugins:maven-surefire-plugin:pom:2.7.1 from/to\n  central (<a href=\"http://repo1.maven.org/maven2\" rel=\"noreferrer\">http://repo1.maven.org/maven2</a>): Connect times out</p>\n</blockquote>\n\n<p><strong>pom.xml:</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                             http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.test.app&lt;/groupId&gt;\n  &lt;artifactId&gt;TestApp&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;TestApp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Settings.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\" \n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n  &lt;pluginGroups&gt;\n  &lt;/pluginGroups&gt;\n &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;optional&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;username&gt;user&lt;/username&gt;\n      &lt;password&gt;pass&lt;/password&gt;\n      &lt;host&gt;ip&lt;/host&gt;\n      &lt;port&gt;80&lt;/port&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;    \n  &lt;/proxies&gt; \n  &lt;servers&gt;  \n  &lt;/servers&gt;\n    &lt;mirrors&gt;   \n    &lt;mirror&gt;\n      &lt;id&gt;mirrorId&lt;/id&gt;\n      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\n      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\n      &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\n    &lt;/mirror&gt;    \n  &lt;/mirrors&gt;  \n&lt;profiles&gt;\n &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>Please note that I am able to build it.Error is showing in pom.xml inside IDE .Any solutions?</p>\n"},{"tags":["java","unit-testing","code-generation"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1677504884,"post_id":75581067,"comment_id":133344874,"body_markdown":"What&#39;s wrong with what you have? What do you mean &quot;generate java code&quot;? Generate it when? To do what?","body":"What&#39;s wrong with what you have? What do you mean &quot;generate java code&quot;? Generate it when? To do what?"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677504958,"post_id":75581067,"comment_id":133344905,"body_markdown":"@ElliottFrisch I wrote the Java code sample by hand. I&#39;m looking for a way to generate it automatically from toString output","body":"@ElliottFrisch I wrote the Java code sample by hand. I&#39;m looking for a way to generate it automatically from toString output"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1677505056,"post_id":75581067,"comment_id":133344932,"body_markdown":"Still not making any sense... you want to generate a `record` based on `toString` output of some **existing** Java object? Why? To what end? It already exists. And if you *could* generate such code, you would need to **compile** it.","body":"Still not making any sense... you want to generate a <code>record</code> based on <code>toString</code> output of some <b>existing</b> Java object? Why? To what end? It already exists. And if you <i>could</i> generate such code, you would need to <b>compile</b> it."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677505137,"post_id":75581067,"comment_id":133344959,"body_markdown":"@ElliottFrisch As I said - i want to write an assertion. I need a copy of the object generated by production code in my test sources code","body":"@ElliottFrisch As I said - i want to write an assertion. I need a copy of the object generated by production code in my test sources code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1677505143,"post_id":75581067,"comment_id":133344962,"body_markdown":"Unclear. If you want some sort of &#39;generator&#39; what would be the input and what would be the output? I often generate Java code from shell scripts","body":"Unclear. If you want some sort of &#39;generator&#39; what would be the input and what would be the output? I often generate Java code from shell scripts"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677505220,"post_id":75581067,"comment_id":133344992,"body_markdown":"@g00se Input - toString string value. Output - Java source code that builds an object represented by that value","body":"@g00se Input - toString string value. Output - Java source code that builds an object represented by that value"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677505251,"post_id":75581067,"comment_id":133345010,"body_markdown":"One reason why this kind of code (probably) doesn&#39;t exist in library form is that it can&#39;t be done reliably. As a trivial example `List.of(&quot;foo&quot;, &quot;bar&quot;)` and `List.of(&quot;foo, bar&quot;)` produce the exact same `toString()` output: there&#39;s no way for a parser to distinguish the two and identify which one it &quot;really&quot; was. Similar problems also occur with individual fields. This might be solvable for a tightly defined subset of features, but that restriction makes it less interesting to implement &quot;generally&quot;. I suspect hundreds of in-house implementations of this exist throught the world, though.","body":"One reason why this kind of code (probably) doesn&#39;t exist in library form is that it can&#39;t be done reliably. As a trivial example <code>List.of(&quot;foo&quot;, &quot;bar&quot;)</code> and <code>List.of(&quot;foo, bar&quot;)</code> produce the exact same <code>toString()</code> output: there&#39;s no way for a parser to distinguish the two and identify which one it &quot;really&quot; was. Similar problems also occur with individual fields. This might be solvable for a tightly defined subset of features, but that restriction makes it less interesting to implement &quot;generally&quot;. I suspect hundreds of in-house implementations of this exist throught the world, though."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677505359,"post_id":75581067,"comment_id":133345048,"body_markdown":"@JoachimSauer Unreliability is OK, I can change the results by hand","body":"@JoachimSauer Unreliability is OK, I can change the results by hand"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677505378,"post_id":75581067,"comment_id":133345057,"body_markdown":"Write yourself a little app that takes *[User[firstName=John, lastName=Smith]]* as input and writes `u = new User(&quot;John&quot;, &quot;Smith&quot;)` to stdout","body":"Write yourself a little app that takes <i>[User[firstName=John, lastName=Smith]]</i> as input and writes <code>u = new User(&quot;John&quot;, &quot;Smith&quot;)</code> to stdout"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1677505454,"post_id":75581067,"comment_id":133345083,"body_markdown":"@g00se I was hoping someone has the solution already","body":"@g00se I was hoping someone has the solution already"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1677505558,"post_id":75581067,"comment_id":133345113,"body_markdown":"Nothing like this exists in the JDK, so the question is then &quot;*is there a library that can do it?*&quot;. Those questions are off-topic here, but FWIW, I&#39;m not aware of anything. You&#39;ll have to write something yourself. It will probably be a lot easier starting from the in-memory version of the object (i.e. have the object print itself as &quot;java source&quot;), rather than starting from the toString you&#39;ve shown, where you&#39;ve already lost a bunch of useful information.","body":"Nothing like this exists in the JDK, so the question is then &quot;<i>is there a library that can do it?</i>&quot;. Those questions are off-topic here, but FWIW, I&#39;m not aware of anything. You&#39;ll have to write something yourself. It will probably be a lot easier starting from the in-memory version of the object (i.e. have the object print itself as &quot;java source&quot;), rather than starting from the toString you&#39;ve shown, where you&#39;ve already lost a bunch of useful information."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1677508356,"post_id":75581067,"comment_id":133346020,"body_markdown":"There are a number of Java classes which do this, but they do it by guaranteeing a specific format in their toString method, and having a static parse method which can ‘reverse’ that string.  An example of this is [AWTKeyStroke](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/AWTKeyStroke.html#toString()).","body":"There are a number of Java classes which do this, but they do it by guaranteeing a specific format in their toString method, and having a static parse method which can ‘reverse’ that string.  An example of this is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/AWTKeyStroke.html#toString()\" rel=\"nofollow noreferrer\">AWTKeyStroke</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1677511314,"post_id":75581067,"comment_id":133347092,"body_markdown":"You could use reflection to inspect the class fields, and then parse your string to match the resulting tokens against the class you have inspected. In your example, in the string `User[firstName=John, lastName=Smith]`, `User` is the class, `firstname` is the first field, `John` is its value, `lastname` is the second field, and `Smith` is its value. A `record` always has a *canonical constructor*, so you could easily use a `Constructor` instance with the given parsed values. Requirement: no `,`, `=`, `[` or `]` in all of your record fields, or the parsing will be challenging.","body":"You could use reflection to inspect the class fields, and then parse your string to match the resulting tokens against the class you have inspected. In your example, in the string <code>User[firstName=John, lastName=Smith]</code>, <code>User</code> is the class, <code>firstname</code> is the first field, <code>John</code> is its value, <code>lastname</code> is the second field, and <code>Smith</code> is its value. A <code>record</code> always has a <i>canonical constructor</i>, so you could easily use a <code>Constructor</code> instance with the given parsed values. Requirement: no <code>,</code>, <code>=</code>, <code>[</code> or <code>]</code> in all of your record fields, or the parsing will be challenging."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677520972,"creation_date":1677520575,"answer_id":75583966,"question_id":75581067,"body_markdown":"Out of curiosity I took a stab at this and it turns out to be reasonably simple, if you can live with some restrictions. Some of those are fundamental, others just require a bit more code to work around\r\n\r\n- this handles exactly only:\r\n  - record classes\r\n  - lists of those record classes\r\n  - strings, primitives and their wrappers\r\n- it assumes the input is actually generated by the default `toString` and is not forgiving (extra/missing whitespace at the wrong place breaks it).\r\n- the top-level class(es) that can occur have to be handed to the parser\r\n- records are assumed to not override their `toString`\r\n- the canonical constructor of each record is used\r\n- some inputs are simple ambiguous, they will be resolved to *something*, but there&#39;s no guarantee which interpretation\r\n- there is limited error checking\r\n- there is no validation for the primitive/wrapper types: non-sensical inputs will be quietly translated. Your compiler will tell you, &#39;though.\r\n- I&#39;m using the new switch features, but that&#39;s trivial to change, if needed\r\n- I&#39;ve not hand-written a parser in quite some while. Don&#39;t look at this for best practices.\r\n- there are definitely bugs\r\n\r\nAdding support for `Map` would be fairly straightforward. And due to the nature of these parsers, modifying it to actually build the objects instead of the object construction code would be reasonably simple as well. Both of these are left as an exercise for the reader.\r\n\r\nThe full tests are below, but as an example, here&#39;s how to use it:\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic class Foo {\r\n  public static void main(String[] args) {\r\n    var parser = new RecordToStringParser(List.of(User.class, UserContainer.class));\r\n    System.out.println(parser.convert(&quot;User[firstName=John, lastName=Smith]&quot;));\r\n    System.out.println(parser.convert(&quot;User[firstName=John, Doe, lastName=Smith]&quot;));\r\n    System.out.println(parser.convert(&quot;UserContainer[user=User[firstName=John, lastName=Smith], flags=13]&quot;));\r\n    System.out.println(parser.convert(&quot;UserContainer[user=null, flags=42]&quot;));\r\n    System.out.println(parser.convert(&quot;[User[firstName=John, lastName=Smith], UserContainer[user=null, flags=1]]&quot;));\r\n    System.out.println(parser.convert(&quot;UserContainer[user=null, flags=what are you talking about]&quot;));\r\n  }\r\n}\r\n\r\nrecord User(String firstName, String lastName) {}\r\nrecord UserContainer(User user, int flags) {}\r\n```\r\nThis prints\r\n\r\n```none\r\nnew User(&quot;John&quot;, &quot;Smith&quot;)\r\nnew User(&quot;John, Doe&quot;, &quot;Smith&quot;)\r\nnew UserContainer(new User(&quot;John&quot;, &quot;Smith&quot;), 13)\r\nnew UserContainer(null, 42)\r\nList.of(new User(&quot;John&quot;, &quot;Smith&quot;), new UserContainer(null, 1))\r\nnew UserContainer(null, what are you talking about)\r\n```\r\n\r\nNote how the last one just blindly dumps the value without verifying the type? &#129335;\r\n```\r\nimport java.lang.reflect.RecordComponent;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.function.Function;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class RecordToStringParser {\r\n\r\n  private static final Pattern RECORD_NAME = Pattern.compile(&quot;^[A-Z][A-Za-z0-9]+&quot;);\r\n  private static final Set&lt;Class&lt;?&gt;&gt; WRAPPER_CLASSES = Set.of(\r\n      Boolean.class, Byte.class, Character.class, Short.class, Integer.class, Long.class, Float.class, Double.class);\r\n\r\n  private final Map&lt;String, Class&lt;? extends Record&gt;&gt; classes;\r\n\r\n  public RecordToStringParser(Class&lt;? extends Record&gt; c1) {\r\n    this(List.of(c1));\r\n  }\r\n\r\n  public RecordToStringParser(List&lt;Class&lt;? extends Record&gt;&gt; inputClasses) {\r\n    if (inputClasses.isEmpty()) {\r\n      throw new IllegalArgumentException(&quot;No record classes specified!&quot;);\r\n    }\r\n    try {\r\n      classes = inputClasses.stream()\r\n          .collect(Collectors.toMap(Class::getSimpleName, Function.identity()));\r\n    } catch (IllegalStateException e) {\r\n      // this happens when simple names are not unique!\r\n      throw new IllegalArgumentException(&quot;Colliding class names detected!&quot;, e);\r\n    }\r\n    for (String name : classes.keySet()) {\r\n      if (!RECORD_NAME.matcher(name).matches()) {\r\n        throw new IllegalArgumentException(&quot;Nonconforming class name found: &quot; + name);\r\n      }\r\n    }\r\n  }\r\n\r\n  public String convert(String input) {\r\n    return new Parse(input).parse();\r\n  }\r\n\r\n  private class Parse {\r\n    String in;\r\n    int pos = 0;\r\n    StringBuilder out = new StringBuilder();\r\n\r\n    Parse(String input) {\r\n      this.in = input;\r\n    }\r\n\r\n    String parse() {\r\n      parseNext();\r\n      if (pos != in.length()) {\r\n        throw err(&quot;Unexpected content after successful parse&quot;);\r\n      }\r\n      return out.toString();\r\n    }\r\n\r\n    private void parseNext() {\r\n      if (isNext(&#39;[&#39;)) {\r\n        parseList();\r\n      } else {\r\n        parseRecord();\r\n      }\r\n    }\r\n\r\n\r\n    private void parseRecord() {\r\n      if (maybeConsume(&quot;null&quot;)) {\r\n        out.append(&quot;null&quot;);\r\n        return;\r\n      }\r\n      Matcher matcher = RECORD_NAME.matcher(in);\r\n      matcher.region(pos, in.length());\r\n      if (!matcher.find()) {\r\n        throw err(&quot;Record expected.&quot;);\r\n      }\r\n      pos = matcher.end();\r\n      consume(&#39;[&#39;);\r\n      String className = matcher.group();\r\n      out.append(&quot;new &quot;).append(className).append(&quot;(&quot;);\r\n      Class&lt;? extends Record&gt; recordClass = classes.get(className);\r\n      if (recordClass == null) {\r\n        throw err(&quot;Unknown record class &quot; + className);\r\n      }\r\n      parseMembers(recordClass);\r\n      out.append(&quot;)&quot;);\r\n      consume(&#39;]&#39;);\r\n    }\r\n\r\n    private void parseRecord(Class&lt;? extends Record&gt; type) {\r\n      if (maybeConsume(&quot;null&quot;)) {\r\n        out.append(&quot;null&quot;);\r\n        return;\r\n      }\r\n      consume(type.getSimpleName());\r\n      consume(&#39;[&#39;);\r\n      out.append(&quot;new &quot;).append(type.getSimpleName()).append(&quot;(&quot;);\r\n      parseMembers(type);\r\n      out.append(&quot;)&quot;);\r\n      consume(&#39;]&#39;);\r\n    }\r\n\r\n    private void parseMembers(Class&lt;? extends Record&gt; recordClass) {\r\n      RecordComponent[] components = recordClass.getRecordComponents();\r\n      for (int i = 0; i &lt; components.length; i++) {\r\n        RecordComponent component = components[i];\r\n        boolean isLastComponent = i == components.length - 1;\r\n        consume(component.getName());\r\n        consume(&#39;=&#39;);\r\n        Class&lt;?&gt; type = component.getType();\r\n        if (type.isRecord()) {\r\n          parseRecord(type.asSubclass(Record.class));\r\n        } else if (List.class == type) {\r\n          parseList();\r\n        } else if (type == String.class || type.isPrimitive() || WRAPPER_CLASSES.contains(type)) {\r\n          parseSimpleValues(components, i, isLastComponent, type);\r\n        } else {\r\n          throw err(&quot;Unsupported component type &quot; + type);\r\n        }\r\n        if (!isLastComponent) {\r\n          consume(&quot;, &quot;);\r\n          out.append(&quot;, &quot;);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    private void parseSimpleValues(RecordComponent[] components, int i, boolean isLastComponent, Class&lt;?&gt; type) {\r\n      String expectedSuffix = isLastComponent ? &quot;]&quot; : &quot;, &quot; + components[i + 1].getName() + &quot;=&quot;;\r\n      isNext(&#39;\\0&#39;); // ensure we throw the right exception when we&#39;re at the end.\r\n      int valueEnd = in.indexOf(expectedSuffix, pos);\r\n      if (valueEnd == -1) {\r\n        throw err(&quot;Failed to find end of value!&quot;);\r\n      }\r\n      String value = in.substring(pos, valueEnd);\r\n      if (type == String.class &amp;&amp; !value.equals(&quot;null&quot;)) {\r\n        // interpret string values null as the value null and not the string &quot;null&quot;\r\n        out.append(&#39;&quot;&#39;);\r\n        for (char c : value.toCharArray()) {\r\n          switch (c) {\r\n            case &#39;&quot;&#39;, &#39;\\\\&#39; -&gt; out.append(&#39;\\\\&#39;).append(c);\r\n            case &#39;\\n&#39; -&gt; out.append(&quot;\\\\n&quot;);\r\n            case &#39;\\t&#39; -&gt; out.append(&quot;\\\\t&quot;);\r\n            // maybe add some more?\r\n            default -&gt; out.append(c);\r\n          }\r\n        }\r\n        out.append(&#39;&quot;&#39;);\r\n      } else {\r\n        // maybe add verification?\r\n        out.append(value);\r\n      }\r\n      pos = valueEnd;\r\n    }\r\n\r\n    private void parseList() {\r\n      if (maybeConsume(&quot;null&quot;)) {\r\n        out.append(&quot;null&quot;);\r\n        return;\r\n      }\r\n      consume(&#39;[&#39;);\r\n      out.append(&quot;List.of(&quot;);\r\n      if (!isNext(&#39;]&#39;)) {\r\n        parseNext();\r\n        while (maybeConsume(&quot;, &quot;)) {\r\n          out.append(&quot;, &quot;);\r\n          parseRecord();\r\n        }\r\n      }\r\n      consume(&#39;]&#39;);\r\n      out.append(&quot;)&quot;);\r\n    }\r\n\r\n    private boolean isNext(char expected) {\r\n      if (pos &gt;= in.length()) {\r\n        throw err(&quot;Unexpected end of string.&quot;);\r\n      }\r\n      return in.charAt(pos) == expected;\r\n    }\r\n\r\n    private boolean maybeConsume(String expected) {\r\n      boolean matches = in.regionMatches(pos, expected, 0, expected.length());\r\n      if (matches) {\r\n        pos += expected.length();\r\n      }\r\n      return matches;\r\n    }\r\n\r\n    private void consume(char expected) {\r\n      if (pos &gt;= in.length()) {\r\n        throw err(&quot;Unexpected end of string, expected &quot; + expected);\r\n      }\r\n      if (in.charAt(pos) != expected) {\r\n        throw err(&quot;Expected &quot; + expected);\r\n      }\r\n      pos++;\r\n    }\r\n\r\n    private void consume(String expected) {\r\n      if (!in.regionMatches(pos, expected, 0, expected.length())) {\r\n        throw err(&quot;Expected &quot; + expected);\r\n      }\r\n      pos += expected.length();\r\n    }\r\n\r\n    private IllegalArgumentException err(String msg) {\r\n      return new IllegalArgumentException(String.format(&quot;Unexpected input at pos %d (%s): %s&quot;, pos, this, msg));\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n      // simple way to see parser state in the debugger ;-)\r\n      return in.substring(0, pos) + &quot;&lt;|&gt;&quot; + in.substring(pos);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nTest class:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.MethodSource;\r\n\r\npublic class RecordToStringParserTest {\r\n  private List&lt;Class&lt;? extends Record&gt;&gt; BASE_RECORD_CLASSES = List.of(\r\n      Empty.class, Simple.class, WithNumber.class, NestingSimple.class, NestingListOfSimple.class, Recursive.class,\r\n      TwoStrings.class, NestingRecord.class);\r\n\r\n  @Test\r\n  void mustProvideClasses() {\r\n    final List&lt;Class&lt;? extends Record&gt;&gt; noClasses = List.of();\r\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(noClasses));\r\n  }\r\n\r\n  @Test\r\n  void classNamesMustStartWithUpperCase() {\r\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(lowerRecordName.class));\r\n  }\r\n\r\n  @Test\r\n  void classNamesMustBeAlphaNumeric() {\r\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(NonAlphaNum_.class));\r\n  }\r\n\r\n  @Test\r\n  void simpleClassNamesMustBeUnique() {\r\n    List&lt;Class&lt;? extends Record&gt;&gt; collidingClasses = List.of(NS1.Collision.class, NS2.Collision.class);\r\n    assertThrows(IllegalArgumentException.class,\r\n        () -&gt; new RecordToStringParser(collidingClasses));\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public static Object[][] realToStringSources() {\r\n    return new Object[][] {\r\n        {new Empty(), &quot;new Empty()&quot;},\r\n        {new Simple(&quot;bar&quot;), &quot;new Simple(\\&quot;bar\\&quot;)&quot;},\r\n        {new Simple(&quot;&quot;), &quot;new Simple(\\&quot;\\&quot;)&quot;},\r\n        {new Simple(null), &quot;new Simple(null)&quot;},\r\n        {new Simple(&quot;\\n&quot;), &quot;new Simple(\\&quot;\\\\n\\&quot;)&quot;},\r\n        {new Simple(&quot;\\\\&quot;), &quot;new Simple(\\&quot;\\\\\\\\\\&quot;)&quot;},\r\n        {new Simple(&quot;\\&quot;\\\\\\&quot;&quot;), &quot;new Simple(\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\&quot;)&quot;}, // thanks, I hate it\r\n        {new WithNumber(1), &quot;new WithNumber(1)&quot;},\r\n        {new NestingSimple(new Simple(&quot;bar&quot;)), &quot;new NestingSimple(new Simple(\\&quot;bar\\&quot;))&quot;},\r\n        {new NestingSimple(null), &quot;new NestingSimple(null)&quot;},\r\n        {new Recursive(null), &quot;new Recursive(null)&quot;},\r\n        {new Recursive(new Recursive(null)), &quot;new Recursive(new Recursive(null))&quot;},\r\n        {List.of(), &quot;List.of()&quot;},\r\n        {List.of(new Empty()), &quot;List.of(new Empty())&quot;},\r\n        {List.of(new Empty(), new Empty()), &quot;List.of(new Empty(), new Empty())&quot;},\r\n        {List.of(List.of(new Empty())), &quot;List.of(List.of(new Empty()))&quot;},\r\n        {new NestingListOfSimple(List.of(new Simple(&quot;bar&quot;))), &quot;new NestingListOfSimple(List.of(new Simple(\\&quot;bar\\&quot;)))&quot;},\r\n        {new TwoStrings(&quot;foo&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo\\&quot;, \\&quot;bar\\&quot;)&quot;},\r\n        {new TwoStrings(&quot;foo, bar&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo, bar\\&quot;, \\&quot;bar\\&quot;)&quot;},\r\n        {new TwoStrings(&quot;John&quot;, &quot;Smith&quot;), &quot;new TwoStrings(\\&quot;John\\&quot;, \\&quot;Smith\\&quot;)&quot;},\r\n        // &quot;WRONG&quot; results start here\r\n        // List.of() can&#39;t contain null values, but we don&#39;t check for that, so we tolerate it\r\n        {new ArrayList&lt;&gt;(Arrays.asList(null, new Empty())), &quot;List.of(null, new Empty())&quot;},\r\n        // Simple[foo=null] is ambiguous, we decided to interpret it as null and not the string value &quot;null&quot;\r\n        {new Simple(&quot;null&quot;), &quot;new Simple(null)&quot;},\r\n        // We don&#39;t check for insanity/generics breakage\r\n        {new NestingListOfSimple((List&lt;Simple&gt;) ((List&lt;?&gt;) List.of(new WithNumber(1)))),\r\n            &quot;new NestingListOfSimple(List.of(new WithNumber(1)))&quot;},\r\n        // Well, that&#39;s just ambiguous!\r\n        {new TwoStrings(&quot;foo, bar=&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo\\&quot;, \\&quot;, bar=bar\\&quot;)&quot;},\r\n        // We don&#39;t verify simple types, so it&#39;ll blindly output nonsense\r\n        {&quot;WithNumber[foo=bar]&quot;, &quot;new WithNumber(bar)&quot;},\r\n    };\r\n  }\r\n\r\n  @ParameterizedTest\r\n  @MethodSource(&quot;realToStringSources&quot;)\r\n  void parseRealToString(Object record, String expectedOutput) {\r\n    String input = record.toString();\r\n    RecordToStringParser parser = new RecordToStringParser(BASE_RECORD_CLASSES);\r\n    String output = parser.convert(input);\r\n    assertEquals(expectedOutput, output);\r\n  }\r\n\r\n  public static String[] unparseableStrings() {\r\n    return new String[] {\r\n        &quot;&quot;,\r\n        &quot;]&quot;,\r\n        &quot;[&quot;,\r\n        &quot;Empty&quot;,\r\n        &quot;Empty[&quot;,\r\n        &quot;Simple[foo=&quot;,\r\n        &quot;NestingSimple[foo=10]&quot;,\r\n        &quot;UnknownClass[]&quot;,\r\n        // &quot;WithNumber[foo=bar]&quot;, // this isn&#39;t validated\r\n        &quot;[]]&quot;,\r\n        &quot;[bar]&quot;, // non-record values in lists are not supported\r\n        &quot;{}&quot;, // maps are not supported, but wouldn&#39;t be too hard\r\n        &quot;NestingRecord[r=Empty[]]&quot;, // this could easily be supported, but why?\r\n    };\r\n  }\r\n\r\n  @ParameterizedTest\r\n  @MethodSource(&quot;unparseableStrings&quot;)\r\n  void failToParse(String input) {\r\n    RecordToStringParser parser = new RecordToStringParser(BASE_RECORD_CLASSES);\r\n    assertThrows(IllegalArgumentException.class, () -&gt; parser.convert(input));\r\n  }\r\n\r\n  record lowerRecordName(String foo) {}\r\n\r\n  record NonAlphaNum_(String foo) {}\r\n\r\n  record Empty() {}\r\n\r\n  record Simple(String foo) {}\r\n\r\n  record NestingSimple(Simple foo) {}\r\n\r\n  record NestingListOfSimple(List&lt;Simple&gt; foo) {}\r\n\r\n  record Recursive(Recursive foo) {}\r\n\r\n  record WithNumber(int foo) {}\r\n\r\n  record TwoStrings(String foo, String bar) {}\r\n\r\n  record NestingRecord(Record r) {}\r\n\r\n  static class NS1 {\r\n    record Collision(String foo) {}\r\n  }\r\n\r\n  static class NS2 {\r\n    record Collision(String foo) {}\r\n  }\r\n}\r\n```","title":"Representing Java toString results as Java source code","body":"<p>Out of curiosity I took a stab at this and it turns out to be reasonably simple, if you can live with some restrictions. Some of those are fundamental, others just require a bit more code to work around</p>\n<ul>\n<li>this handles exactly only:\n<ul>\n<li>record classes</li>\n<li>lists of those record classes</li>\n<li>strings, primitives and their wrappers</li>\n</ul>\n</li>\n<li>it assumes the input is actually generated by the default <code>toString</code> and is not forgiving (extra/missing whitespace at the wrong place breaks it).</li>\n<li>the top-level class(es) that can occur have to be handed to the parser</li>\n<li>records are assumed to not override their <code>toString</code></li>\n<li>the canonical constructor of each record is used</li>\n<li>some inputs are simple ambiguous, they will be resolved to <em>something</em>, but there's no guarantee which interpretation</li>\n<li>there is limited error checking</li>\n<li>there is no validation for the primitive/wrapper types: non-sensical inputs will be quietly translated. Your compiler will tell you, 'though.</li>\n<li>I'm using the new switch features, but that's trivial to change, if needed</li>\n<li>I've not hand-written a parser in quite some while. Don't look at this for best practices.</li>\n<li>there are definitely bugs</li>\n</ul>\n<p>Adding support for <code>Map</code> would be fairly straightforward. And due to the nature of these parsers, modifying it to actually build the objects instead of the object construction code would be reasonably simple as well. Both of these are left as an exercise for the reader.</p>\n<p>The full tests are below, but as an example, here's how to use it:</p>\n<pre><code>import java.util.List;\n\npublic class Foo {\n  public static void main(String[] args) {\n    var parser = new RecordToStringParser(List.of(User.class, UserContainer.class));\n    System.out.println(parser.convert(&quot;User[firstName=John, lastName=Smith]&quot;));\n    System.out.println(parser.convert(&quot;User[firstName=John, Doe, lastName=Smith]&quot;));\n    System.out.println(parser.convert(&quot;UserContainer[user=User[firstName=John, lastName=Smith], flags=13]&quot;));\n    System.out.println(parser.convert(&quot;UserContainer[user=null, flags=42]&quot;));\n    System.out.println(parser.convert(&quot;[User[firstName=John, lastName=Smith], UserContainer[user=null, flags=1]]&quot;));\n    System.out.println(parser.convert(&quot;UserContainer[user=null, flags=what are you talking about]&quot;));\n  }\n}\n\nrecord User(String firstName, String lastName) {}\nrecord UserContainer(User user, int flags) {}\n</code></pre>\n<p>This prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>new User(&quot;John&quot;, &quot;Smith&quot;)\nnew User(&quot;John, Doe&quot;, &quot;Smith&quot;)\nnew UserContainer(new User(&quot;John&quot;, &quot;Smith&quot;), 13)\nnew UserContainer(null, 42)\nList.of(new User(&quot;John&quot;, &quot;Smith&quot;), new UserContainer(null, 1))\nnew UserContainer(null, what are you talking about)\n</code></pre>\n<p>Note how the last one just blindly dumps the value without verifying the type? 🤷</p>\n<pre><code>import java.lang.reflect.RecordComponent;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.function.Function;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\npublic class RecordToStringParser {\n\n  private static final Pattern RECORD_NAME = Pattern.compile(&quot;^[A-Z][A-Za-z0-9]+&quot;);\n  private static final Set&lt;Class&lt;?&gt;&gt; WRAPPER_CLASSES = Set.of(\n      Boolean.class, Byte.class, Character.class, Short.class, Integer.class, Long.class, Float.class, Double.class);\n\n  private final Map&lt;String, Class&lt;? extends Record&gt;&gt; classes;\n\n  public RecordToStringParser(Class&lt;? extends Record&gt; c1) {\n    this(List.of(c1));\n  }\n\n  public RecordToStringParser(List&lt;Class&lt;? extends Record&gt;&gt; inputClasses) {\n    if (inputClasses.isEmpty()) {\n      throw new IllegalArgumentException(&quot;No record classes specified!&quot;);\n    }\n    try {\n      classes = inputClasses.stream()\n          .collect(Collectors.toMap(Class::getSimpleName, Function.identity()));\n    } catch (IllegalStateException e) {\n      // this happens when simple names are not unique!\n      throw new IllegalArgumentException(&quot;Colliding class names detected!&quot;, e);\n    }\n    for (String name : classes.keySet()) {\n      if (!RECORD_NAME.matcher(name).matches()) {\n        throw new IllegalArgumentException(&quot;Nonconforming class name found: &quot; + name);\n      }\n    }\n  }\n\n  public String convert(String input) {\n    return new Parse(input).parse();\n  }\n\n  private class Parse {\n    String in;\n    int pos = 0;\n    StringBuilder out = new StringBuilder();\n\n    Parse(String input) {\n      this.in = input;\n    }\n\n    String parse() {\n      parseNext();\n      if (pos != in.length()) {\n        throw err(&quot;Unexpected content after successful parse&quot;);\n      }\n      return out.toString();\n    }\n\n    private void parseNext() {\n      if (isNext('[')) {\n        parseList();\n      } else {\n        parseRecord();\n      }\n    }\n\n\n    private void parseRecord() {\n      if (maybeConsume(&quot;null&quot;)) {\n        out.append(&quot;null&quot;);\n        return;\n      }\n      Matcher matcher = RECORD_NAME.matcher(in);\n      matcher.region(pos, in.length());\n      if (!matcher.find()) {\n        throw err(&quot;Record expected.&quot;);\n      }\n      pos = matcher.end();\n      consume('[');\n      String className = matcher.group();\n      out.append(&quot;new &quot;).append(className).append(&quot;(&quot;);\n      Class&lt;? extends Record&gt; recordClass = classes.get(className);\n      if (recordClass == null) {\n        throw err(&quot;Unknown record class &quot; + className);\n      }\n      parseMembers(recordClass);\n      out.append(&quot;)&quot;);\n      consume(']');\n    }\n\n    private void parseRecord(Class&lt;? extends Record&gt; type) {\n      if (maybeConsume(&quot;null&quot;)) {\n        out.append(&quot;null&quot;);\n        return;\n      }\n      consume(type.getSimpleName());\n      consume('[');\n      out.append(&quot;new &quot;).append(type.getSimpleName()).append(&quot;(&quot;);\n      parseMembers(type);\n      out.append(&quot;)&quot;);\n      consume(']');\n    }\n\n    private void parseMembers(Class&lt;? extends Record&gt; recordClass) {\n      RecordComponent[] components = recordClass.getRecordComponents();\n      for (int i = 0; i &lt; components.length; i++) {\n        RecordComponent component = components[i];\n        boolean isLastComponent = i == components.length - 1;\n        consume(component.getName());\n        consume('=');\n        Class&lt;?&gt; type = component.getType();\n        if (type.isRecord()) {\n          parseRecord(type.asSubclass(Record.class));\n        } else if (List.class == type) {\n          parseList();\n        } else if (type == String.class || type.isPrimitive() || WRAPPER_CLASSES.contains(type)) {\n          parseSimpleValues(components, i, isLastComponent, type);\n        } else {\n          throw err(&quot;Unsupported component type &quot; + type);\n        }\n        if (!isLastComponent) {\n          consume(&quot;, &quot;);\n          out.append(&quot;, &quot;);\n        }\n      }\n\n    }\n\n    private void parseSimpleValues(RecordComponent[] components, int i, boolean isLastComponent, Class&lt;?&gt; type) {\n      String expectedSuffix = isLastComponent ? &quot;]&quot; : &quot;, &quot; + components[i + 1].getName() + &quot;=&quot;;\n      isNext('\\0'); // ensure we throw the right exception when we're at the end.\n      int valueEnd = in.indexOf(expectedSuffix, pos);\n      if (valueEnd == -1) {\n        throw err(&quot;Failed to find end of value!&quot;);\n      }\n      String value = in.substring(pos, valueEnd);\n      if (type == String.class &amp;&amp; !value.equals(&quot;null&quot;)) {\n        // interpret string values null as the value null and not the string &quot;null&quot;\n        out.append('&quot;');\n        for (char c : value.toCharArray()) {\n          switch (c) {\n            case '&quot;', '\\\\' -&gt; out.append('\\\\').append(c);\n            case '\\n' -&gt; out.append(&quot;\\\\n&quot;);\n            case '\\t' -&gt; out.append(&quot;\\\\t&quot;);\n            // maybe add some more?\n            default -&gt; out.append(c);\n          }\n        }\n        out.append('&quot;');\n      } else {\n        // maybe add verification?\n        out.append(value);\n      }\n      pos = valueEnd;\n    }\n\n    private void parseList() {\n      if (maybeConsume(&quot;null&quot;)) {\n        out.append(&quot;null&quot;);\n        return;\n      }\n      consume('[');\n      out.append(&quot;List.of(&quot;);\n      if (!isNext(']')) {\n        parseNext();\n        while (maybeConsume(&quot;, &quot;)) {\n          out.append(&quot;, &quot;);\n          parseRecord();\n        }\n      }\n      consume(']');\n      out.append(&quot;)&quot;);\n    }\n\n    private boolean isNext(char expected) {\n      if (pos &gt;= in.length()) {\n        throw err(&quot;Unexpected end of string.&quot;);\n      }\n      return in.charAt(pos) == expected;\n    }\n\n    private boolean maybeConsume(String expected) {\n      boolean matches = in.regionMatches(pos, expected, 0, expected.length());\n      if (matches) {\n        pos += expected.length();\n      }\n      return matches;\n    }\n\n    private void consume(char expected) {\n      if (pos &gt;= in.length()) {\n        throw err(&quot;Unexpected end of string, expected &quot; + expected);\n      }\n      if (in.charAt(pos) != expected) {\n        throw err(&quot;Expected &quot; + expected);\n      }\n      pos++;\n    }\n\n    private void consume(String expected) {\n      if (!in.regionMatches(pos, expected, 0, expected.length())) {\n        throw err(&quot;Expected &quot; + expected);\n      }\n      pos += expected.length();\n    }\n\n    private IllegalArgumentException err(String msg) {\n      return new IllegalArgumentException(String.format(&quot;Unexpected input at pos %d (%s): %s&quot;, pos, this, msg));\n    }\n\n    @Override\n    public String toString() {\n      // simple way to see parser state in the debugger ;-)\n      return in.substring(0, pos) + &quot;&lt;|&gt;&quot; + in.substring(pos);\n    }\n  }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.MethodSource;\n\npublic class RecordToStringParserTest {\n  private List&lt;Class&lt;? extends Record&gt;&gt; BASE_RECORD_CLASSES = List.of(\n      Empty.class, Simple.class, WithNumber.class, NestingSimple.class, NestingListOfSimple.class, Recursive.class,\n      TwoStrings.class, NestingRecord.class);\n\n  @Test\n  void mustProvideClasses() {\n    final List&lt;Class&lt;? extends Record&gt;&gt; noClasses = List.of();\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(noClasses));\n  }\n\n  @Test\n  void classNamesMustStartWithUpperCase() {\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(lowerRecordName.class));\n  }\n\n  @Test\n  void classNamesMustBeAlphaNumeric() {\n    assertThrows(IllegalArgumentException.class, () -&gt; new RecordToStringParser(NonAlphaNum_.class));\n  }\n\n  @Test\n  void simpleClassNamesMustBeUnique() {\n    List&lt;Class&lt;? extends Record&gt;&gt; collidingClasses = List.of(NS1.Collision.class, NS2.Collision.class);\n    assertThrows(IllegalArgumentException.class,\n        () -&gt; new RecordToStringParser(collidingClasses));\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public static Object[][] realToStringSources() {\n    return new Object[][] {\n        {new Empty(), &quot;new Empty()&quot;},\n        {new Simple(&quot;bar&quot;), &quot;new Simple(\\&quot;bar\\&quot;)&quot;},\n        {new Simple(&quot;&quot;), &quot;new Simple(\\&quot;\\&quot;)&quot;},\n        {new Simple(null), &quot;new Simple(null)&quot;},\n        {new Simple(&quot;\\n&quot;), &quot;new Simple(\\&quot;\\\\n\\&quot;)&quot;},\n        {new Simple(&quot;\\\\&quot;), &quot;new Simple(\\&quot;\\\\\\\\\\&quot;)&quot;},\n        {new Simple(&quot;\\&quot;\\\\\\&quot;&quot;), &quot;new Simple(\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\&quot;)&quot;}, // thanks, I hate it\n        {new WithNumber(1), &quot;new WithNumber(1)&quot;},\n        {new NestingSimple(new Simple(&quot;bar&quot;)), &quot;new NestingSimple(new Simple(\\&quot;bar\\&quot;))&quot;},\n        {new NestingSimple(null), &quot;new NestingSimple(null)&quot;},\n        {new Recursive(null), &quot;new Recursive(null)&quot;},\n        {new Recursive(new Recursive(null)), &quot;new Recursive(new Recursive(null))&quot;},\n        {List.of(), &quot;List.of()&quot;},\n        {List.of(new Empty()), &quot;List.of(new Empty())&quot;},\n        {List.of(new Empty(), new Empty()), &quot;List.of(new Empty(), new Empty())&quot;},\n        {List.of(List.of(new Empty())), &quot;List.of(List.of(new Empty()))&quot;},\n        {new NestingListOfSimple(List.of(new Simple(&quot;bar&quot;))), &quot;new NestingListOfSimple(List.of(new Simple(\\&quot;bar\\&quot;)))&quot;},\n        {new TwoStrings(&quot;foo&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo\\&quot;, \\&quot;bar\\&quot;)&quot;},\n        {new TwoStrings(&quot;foo, bar&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo, bar\\&quot;, \\&quot;bar\\&quot;)&quot;},\n        {new TwoStrings(&quot;John&quot;, &quot;Smith&quot;), &quot;new TwoStrings(\\&quot;John\\&quot;, \\&quot;Smith\\&quot;)&quot;},\n        // &quot;WRONG&quot; results start here\n        // List.of() can't contain null values, but we don't check for that, so we tolerate it\n        {new ArrayList&lt;&gt;(Arrays.asList(null, new Empty())), &quot;List.of(null, new Empty())&quot;},\n        // Simple[foo=null] is ambiguous, we decided to interpret it as null and not the string value &quot;null&quot;\n        {new Simple(&quot;null&quot;), &quot;new Simple(null)&quot;},\n        // We don't check for insanity/generics breakage\n        {new NestingListOfSimple((List&lt;Simple&gt;) ((List&lt;?&gt;) List.of(new WithNumber(1)))),\n            &quot;new NestingListOfSimple(List.of(new WithNumber(1)))&quot;},\n        // Well, that's just ambiguous!\n        {new TwoStrings(&quot;foo, bar=&quot;, &quot;bar&quot;), &quot;new TwoStrings(\\&quot;foo\\&quot;, \\&quot;, bar=bar\\&quot;)&quot;},\n        // We don't verify simple types, so it'll blindly output nonsense\n        {&quot;WithNumber[foo=bar]&quot;, &quot;new WithNumber(bar)&quot;},\n    };\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;realToStringSources&quot;)\n  void parseRealToString(Object record, String expectedOutput) {\n    String input = record.toString();\n    RecordToStringParser parser = new RecordToStringParser(BASE_RECORD_CLASSES);\n    String output = parser.convert(input);\n    assertEquals(expectedOutput, output);\n  }\n\n  public static String[] unparseableStrings() {\n    return new String[] {\n        &quot;&quot;,\n        &quot;]&quot;,\n        &quot;[&quot;,\n        &quot;Empty&quot;,\n        &quot;Empty[&quot;,\n        &quot;Simple[foo=&quot;,\n        &quot;NestingSimple[foo=10]&quot;,\n        &quot;UnknownClass[]&quot;,\n        // &quot;WithNumber[foo=bar]&quot;, // this isn't validated\n        &quot;[]]&quot;,\n        &quot;[bar]&quot;, // non-record values in lists are not supported\n        &quot;{}&quot;, // maps are not supported, but wouldn't be too hard\n        &quot;NestingRecord[r=Empty[]]&quot;, // this could easily be supported, but why?\n    };\n  }\n\n  @ParameterizedTest\n  @MethodSource(&quot;unparseableStrings&quot;)\n  void failToParse(String input) {\n    RecordToStringParser parser = new RecordToStringParser(BASE_RECORD_CLASSES);\n    assertThrows(IllegalArgumentException.class, () -&gt; parser.convert(input));\n  }\n\n  record lowerRecordName(String foo) {}\n\n  record NonAlphaNum_(String foo) {}\n\n  record Empty() {}\n\n  record Simple(String foo) {}\n\n  record NestingSimple(Simple foo) {}\n\n  record NestingListOfSimple(List&lt;Simple&gt; foo) {}\n\n  record Recursive(Recursive foo) {}\n\n  record WithNumber(int foo) {}\n\n  record TwoStrings(String foo, String bar) {}\n\n  record NestingRecord(Record r) {}\n\n  static class NS1 {\n    record Collision(String foo) {}\n  }\n\n  static class NS2 {\n    record Collision(String foo) {}\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75583966,"answer_count":1,"score":1,"last_activity_date":1677520972,"creation_date":1677504302,"question_id":75581067,"body_markdown":"I have a `String` value of a `User` list object generated at runtime using `toString` method:\r\n```\r\n[User[firstName=John, lastName=Smith]]\r\n```\r\nIs there a fast way to generate Java source code that would create such an object? Ideally it would generate the following source code:\r\n```java\r\nArrays.asList(new User(&quot;John&quot;, &quot;Smith&quot;)); // might also use getters-setters\r\n```\r\nThis will make writing of test code assertions faster for me.\r\n\r\nMy object is defined as follows:\r\n```java\r\npublic record User (String firstName, String lastName) {}\r\n```","title":"Representing Java toString results as Java source code","body":"<p>I have a <code>String</code> value of a <code>User</code> list object generated at runtime using <code>toString</code> method:</p>\n<pre><code>[User[firstName=John, lastName=Smith]]\n</code></pre>\n<p>Is there a fast way to generate Java source code that would create such an object? Ideally it would generate the following source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(new User(&quot;John&quot;, &quot;Smith&quot;)); // might also use getters-setters\n</code></pre>\n<p>This will make writing of test code assertions faster for me.</p>\n<p>My object is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record User (String firstName, String lastName) {}\n</code></pre>\n"},{"tags":["java","android","parsing","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677520829,"creation_date":1675432272,"answer_id":75336643,"question_id":75270691,"body_markdown":"- For the &quot;Current Liabilities&quot; extraction, the issue is that the data is available in the web page only after clicking on the arrow next to the &quot;**Total Liabilities Net Minority Interest**&quot; text (an empty div element is then populated with all data). Which means you cannot get data simply with jsoup. It seems it&#39;s possible to activate the button click with **HtmlUnit** (https://htmlunit.sourceforge.io/), then you get a string with the generated html containing the Current Liabilities, that you can parse with jsoup using the parse() method. Source of the info on stackoverflow: https://stackoverflow.com/questions/7508813/can-jsoup-simulate-a-button-press\r\n\r\n- Here is the code to access and display the Dates:\r\n\r\n        List&lt;String&gt; dateValues = new ArrayList&lt;&gt;();\r\n        Element breakdown = doc.select(&quot;span:contains(Breakdown)&quot;).first();\r\n        Elements datesData = breakdown.parent().siblingElements();\r\n        for (Element e : datesData) {\r\n          System.out.println(&quot;date- &quot;+ e.text()); // for test purpose\r\n          dateValues.add(e.text());\r\n        }\r\n        System.out.println(&quot;dates = &quot;+dateValues);\r\n\r\nResult in the console: **dates = [9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019]**\r\n\r\nHope this helps.\r\n\r\n\r\nEDIT : here is a code example of HtmlUnit, though it doesn&#39;t manage to retrieve the Current Liabilities data:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t    String url = &quot;https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL&amp;guccounter=2&quot;;\r\n\r\n\t    try (final WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\r\n\t        webClient.waitForBackgroundJavaScript(5000*2);\r\n\t        HtmlPage page = webClient.getPage(url); // load the page\r\n\t        List&lt;DomElement&gt; totalLiabilityButton = page.getByXPath(&quot;//button[@aria-label=&#39;Total Liabilities Net Minority Interest&#39;]&quot;); // Get the arrow button to expand the liabilities\r\n\t        HtmlPage page2 = totalLiabilityButton.get(0).click(); // click on the arrow button, to trigger the Javascript click event and populate the div element with the current liabilities data. Normally it should load the new page content into &#39;page&#39; variable, but it doesn&#39;t work, I don&#39;t understand why.\r\n\t        totalLiabilityButton = page2.getByXPath(&quot;//button[@aria-label=&#39;Total Liabilities Net Minority Interest&#39;]&quot;); // reload the button\r\n\t\t\tDomNodeList&lt;DomNode&gt; children = totalLiabilityButton.get(0).getParentNode().getParentNode().getParentNode().getParentNode().getNextSibling().getChildNodes(); // Here you should have all 3 Current Liabilities data\r\n\t    }\r\n\t}","title":"On Android Java, how to extract data from an expandable row in a website table&#39;s page source?","body":"<ul>\n<li><p>For the &quot;Current Liabilities&quot; extraction, the issue is that the data is available in the web page only after clicking on the arrow next to the &quot;<strong>Total Liabilities Net Minority Interest</strong>&quot; text (an empty div element is then populated with all data). Which means you cannot get data simply with jsoup. It seems it's possible to activate the button click with <strong>HtmlUnit</strong> (<a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/</a>), then you get a string with the generated html containing the Current Liabilities, that you can parse with jsoup using the parse() method. Source of the info on stackoverflow: <a href=\"https://stackoverflow.com/questions/7508813/can-jsoup-simulate-a-button-press\">Can Jsoup simulate a button press?</a></p>\n</li>\n<li><p>Here is the code to access and display the Dates:</p>\n<pre><code>  List&lt;String&gt; dateValues = new ArrayList&lt;&gt;();\n  Element breakdown = doc.select(&quot;span:contains(Breakdown)&quot;).first();\n  Elements datesData = breakdown.parent().siblingElements();\n  for (Element e : datesData) {\n    System.out.println(&quot;date- &quot;+ e.text()); // for test purpose\n    dateValues.add(e.text());\n  }\n  System.out.println(&quot;dates = &quot;+dateValues);\n</code></pre>\n</li>\n</ul>\n<p>Result in the console: <strong>dates = [9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019]</strong></p>\n<p>Hope this helps.</p>\n<p>EDIT : here is a code example of HtmlUnit, though it doesn't manage to retrieve the Current Liabilities data:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String url = &quot;https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL&amp;guccounter=2&quot;;\n\n    try (final WebClient webClient = new WebClient(BrowserVersion.CHROME)) {\n        webClient.waitForBackgroundJavaScript(5000*2);\n        HtmlPage page = webClient.getPage(url); // load the page\n        List&lt;DomElement&gt; totalLiabilityButton = page.getByXPath(&quot;//button[@aria-label='Total Liabilities Net Minority Interest']&quot;); // Get the arrow button to expand the liabilities\n        HtmlPage page2 = totalLiabilityButton.get(0).click(); // click on the arrow button, to trigger the Javascript click event and populate the div element with the current liabilities data. Normally it should load the new page content into 'page' variable, but it doesn't work, I don't understand why.\n        totalLiabilityButton = page2.getByXPath(&quot;//button[@aria-label='Total Liabilities Net Minority Interest']&quot;); // reload the button\n        DomNodeList&lt;DomNode&gt; children = totalLiabilityButton.get(0).getParentNode().getParentNode().getParentNode().getParentNode().getNextSibling().getChildNodes(); // Here you should have all 3 Current Liabilities data\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677520829,"creation_date":1674938008,"question_id":75270691,"body_markdown":"I want to write a function that takes a URL as input, in our case: https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL&amp;guccounter=2 and extracts a number within a Div and a Span tag using JSOUP, using pattern matching.\r\n\r\nInput: Looking to get values 153,982,000, 125,481,000, 105,392,000, 105,718,000 on the Current Liabilities row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019.\r\n\r\nOn Inspect, these values are under the following &lt;div&gt; tags.\r\n\r\n`Current Liabilities 1: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;153,982,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\n`Current Liabilities 2: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;125,481,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\n`Current Liabilities 3: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;105,392,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\n`Current Liabilities 4: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;105,718,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nPlease fix my current code shown below, but also extract the row and column data instead of a string list:\r\n\r\n    private static List&lt;String&gt; balancefetch(String url) throws IOException {\r\n        String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\r\n        Document doc = Jsoup.connect(url).userAgent(userAgent1).get();\r\n        List&lt;String&gt; balanceValues = new ArrayList&lt;&gt;();\r\n\r\n        Element totalAssets = doc.select(&quot;[title=Total Assets]&quot;).first();\r\n        Elements totalAssetsData = totalAssets.parent().siblingElements();\r\n        for (Element e : totalAssetsData) {\r\n            Log.d(&quot;totalAssetsData&quot;, e.text());\r\n            balanceValues.add(e.text());\r\n        } //It works so far.\r\n\r\nThe lines below don&#39;t work because there isn&#39;t a `title=Current Liabilities`, on the website.\r\n    \r\n    Element currentLiabilities = doc.select(&quot;[title=Current Liabilities]&quot;).first();\r\n            Elements currentLiabilitiesData = totalLiabilities.parent().siblingElements();\r\n            for (Element e : currentLiabilitiesData) {\r\n                Log.d(&quot;currentLiabilitiesData&quot;, e.text());\r\n                balanceValues.add(e.text());\r\n            }\r\n            return balanceValues;\r\n        }\r\n\r\nPleas help me get the output in the following format: \r\n\r\n - dates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019}\r\n\r\n - CurrentLiabilities = {153,982,000, 125,481,000, 105,392,000, 105,718,000 }\r\n\r\n\r\n\r\nEDIT:\r\n\r\nThe `Date` values are under;\r\n\r\nPlease fix my code to extract the date values which are under: \r\n\r\nDate1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;` ","title":"On Android Java, how to extract data from an expandable row in a website table&#39;s page source?","body":"<p>I want to write a function that takes a URL as input, in our case: <a href=\"https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL&amp;guccounter=2\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL&amp;guccounter=2</a> and extracts a number within a Div and a Span tag using JSOUP, using pattern matching.</p>\n<p>Input: Looking to get values 153,982,000, 125,481,000, 105,392,000, 105,718,000 on the Current Liabilities row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019.</p>\n<p>On Inspect, these values are under the following  tags.</p>\n<p><code>Current Liabilities 1: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;153,982,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p><code>Current Liabilities 2: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;125,481,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p><code>Current Liabilities 3: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;105,392,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p><code>Current Liabilities 4: &lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;105,718,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Please fix my current code shown below, but also extract the row and column data instead of a string list:</p>\n<pre><code>private static List&lt;String&gt; balancefetch(String url) throws IOException {\n    String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\n    Document doc = Jsoup.connect(url).userAgent(userAgent1).get();\n    List&lt;String&gt; balanceValues = new ArrayList&lt;&gt;();\n\n    Element totalAssets = doc.select(&quot;[title=Total Assets]&quot;).first();\n    Elements totalAssetsData = totalAssets.parent().siblingElements();\n    for (Element e : totalAssetsData) {\n        Log.d(&quot;totalAssetsData&quot;, e.text());\n        balanceValues.add(e.text());\n    } //It works so far.\n</code></pre>\n<p>The lines below don't work because there isn't a <code>title=Current Liabilities</code>, on the website.</p>\n<pre><code>Element currentLiabilities = doc.select(&quot;[title=Current Liabilities]&quot;).first();\n        Elements currentLiabilitiesData = totalLiabilities.parent().siblingElements();\n        for (Element e : currentLiabilitiesData) {\n            Log.d(&quot;currentLiabilitiesData&quot;, e.text());\n            balanceValues.add(e.text());\n        }\n        return balanceValues;\n    }\n</code></pre>\n<p>Pleas help me get the output in the following format:</p>\n<ul>\n<li><p>dates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019}</p>\n</li>\n<li><p>CurrentLiabilities = {153,982,000, 125,481,000, 105,392,000, 105,718,000 }</p>\n</li>\n</ul>\n<p>EDIT:</p>\n<p>The <code>Date</code> values are under;</p>\n<p>Please fix my code to extract the date values which are under:</p>\n<p>Date1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;</code></p>\n"},{"tags":["java","spring","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677516597,"post_id":75581486,"comment_id":133348983,"body_markdown":"Does anybody else have ever used messages.properties ? Or get field name while validation?","body":"Does anybody else have ever used messages.properties ? Or get field name while validation?"}],"answers":[{"tags":[],"owner":{"account_id":18202963,"reputation":41,"user_id":13246790,"display_name":"Paul_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677520361,"creation_date":1677520361,"answer_id":75583933,"question_id":75581486,"body_markdown":"You can implement custom validator class for your behaviour. \r\ne.g.\r\n\r\nField annotation\r\n```\r\n@Target({ FIELD })\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy = StringSizeValidator.class)\r\n@Documented\r\npublic @interface SizeValid {\r\n\r\n    long min() default 0;\r\n\r\n    long max() default Long.MAX_VALUE;\r\n\r\n    String fieldName() default &quot;&quot;;\r\n\r\n    String message() default &quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\n\r\n\r\nValidator\r\n```\r\n\r\npublic class StringSizeValidator implements ConstraintValidator&lt;SizeValid, String&gt; {\r\n\r\n    private static final String DEFAULT_MESSAGE = &quot;Size of field %s should be between %s and %s&quot;;\r\n\r\n    @Autowired\r\n    private ConfigurableListableBeanFactory factory;\r\n\r\n    private long max;\r\n    private long min;\r\n    private String fieldName;\r\n    private String message;\r\n\r\n    @Override\r\n    public void initialize(SizeValid constraintAnnotation) {\r\n        this.max = constraintAnnotation.max();\r\n        this.min = constraintAnnotation.min();\r\n        this.fieldName = constraintAnnotation.fieldName();\r\n        this.message = constraintAnnotation.message();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        if (value.length() &gt;= min) {\r\n            if (value.length() &lt;= max) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        String formattedMessage;\r\n\r\n        if (StringUtils.hasText(message)) {\r\n            String messageStr = factory.resolveEmbeddedValue(message); //here we are trying to get message from props\r\n\r\n            if (messageStr == null) {\r\n                throw new UnknownFormatConversionException(String.format(&quot;Property %s not found&quot;, message));\r\n            }\r\n\r\n            formattedMessage = messageStr.formatted(min, max);\r\n        } else {\r\n            formattedMessage = DEFAULT_MESSAGE.formatted(fieldName, max, min);\r\n        }\r\n\r\n        throw new IllegalArgumentException(formattedMessage);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nYour dto\r\n\r\n```\r\npublic class LoginForm {\r\n\r\n    @NotEmpty(message = &quot;${email.notempty}&quot;)\r\n    @Email\r\n    private String email;\r\n\r\n    @SizeValid(min = 8, max = 50, message = &quot;${password.size}&quot;)\r\n    @NotNull\r\n    private String password;\r\n\r\n}\r\n```\r\n\r\nAnd then annotate your dto with &lt;code&gt;@Valid&lt;/code&gt; annotation in controller method.\r\n\r\nIn another way you can create some Validatable interface with &lt;code&gt;validate()&lt;/code&gt; method, implement this interface with dto, override &lt;code&gt;validate()&lt;/code&gt; method by creating your custom exception instances, aggregate and return an array of this exceptions from &lt;code&gt;validate()&lt;/code&gt;. On the next step create validator bean which should be triggered by some custom annotation on method argument. Validator should call interface &lt;code&gt;validate()&lt;/code&gt; method. From the array of your exceptions it could choose proper messages from props depending on exception type. Collect all the messages into one response.","title":"Request validation: Get field name in messages.properties using MessageSource?","body":"<p>You can implement custom validator class for your behaviour.\ne.g.</p>\n<p>Field annotation</p>\n<pre><code>@Target({ FIELD })\n@Retention(RUNTIME)\n@Constraint(validatedBy = StringSizeValidator.class)\n@Documented\npublic @interface SizeValid {\n\n    long min() default 0;\n\n    long max() default Long.MAX_VALUE;\n\n    String fieldName() default &quot;&quot;;\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>Validator</p>\n<pre><code>\npublic class StringSizeValidator implements ConstraintValidator&lt;SizeValid, String&gt; {\n\n    private static final String DEFAULT_MESSAGE = &quot;Size of field %s should be between %s and %s&quot;;\n\n    @Autowired\n    private ConfigurableListableBeanFactory factory;\n\n    private long max;\n    private long min;\n    private String fieldName;\n    private String message;\n\n    @Override\n    public void initialize(SizeValid constraintAnnotation) {\n        this.max = constraintAnnotation.max();\n        this.min = constraintAnnotation.min();\n        this.fieldName = constraintAnnotation.fieldName();\n        this.message = constraintAnnotation.message();\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        if (value.length() &gt;= min) {\n            if (value.length() &lt;= max) {\n                return true;\n            }\n        }\n\n        String formattedMessage;\n\n        if (StringUtils.hasText(message)) {\n            String messageStr = factory.resolveEmbeddedValue(message); //here we are trying to get message from props\n\n            if (messageStr == null) {\n                throw new UnknownFormatConversionException(String.format(&quot;Property %s not found&quot;, message));\n            }\n\n            formattedMessage = messageStr.formatted(min, max);\n        } else {\n            formattedMessage = DEFAULT_MESSAGE.formatted(fieldName, max, min);\n        }\n\n        throw new IllegalArgumentException(formattedMessage);\n    }\n}\n\n\n</code></pre>\n<p>Your dto</p>\n<pre><code>public class LoginForm {\n\n    @NotEmpty(message = &quot;${email.notempty}&quot;)\n    @Email\n    private String email;\n\n    @SizeValid(min = 8, max = 50, message = &quot;${password.size}&quot;)\n    @NotNull\n    private String password;\n\n}\n</code></pre>\n<p>And then annotate your dto with <code>@Valid</code> annotation in controller method.</p>\n<p>In another way you can create some Validatable interface with <code>validate()</code> method, implement this interface with dto, override <code>validate()</code> method by creating your custom exception instances, aggregate and return an array of this exceptions from <code>validate()</code>. On the next step create validator bean which should be triggered by some custom annotation on method argument. Validator should call interface <code>validate()</code> method. From the array of your exceptions it could choose proper messages from props depending on exception type. Collect all the messages into one response.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75583933,"answer_count":1,"score":0,"last_activity_date":1677520361,"creation_date":1677506712,"question_id":75581486,"body_markdown":"I use a custom validation `MessageSource` as shown below in a Spring Boot app:\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n***MessageSourceConfig:***\r\n\r\n```\r\n@Configuration\r\npublic class MessageSourceConfig {\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n        ReloadableResourceBundleMessageSource messageSource = \r\n            new ReloadableResourceBundleMessageSource();\r\n        messageSource.setBasename(&quot;classpath:messages&quot;);\r\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        return messageSource;\r\n    }\r\n\r\n    @Bean\r\n    public LocalValidatorFactoryBean getValidator() {\r\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n        bean.setValidationMessageSource(messageSource());\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***RequestClass:***\r\n\r\n```\r\npublic class LoginForm {\r\n\r\n    @NotEmpty(message = &quot;{email.notempty}&quot;)\r\n    @Email\r\n    private String email;\r\n\r\n    @Size(min = 8, max = 50, message = &quot;{password.size}&quot;)\r\n    @NotNull\r\n    private String password;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***messages.properties:***\r\n\r\n```\r\nemail.notempty=email is not valid. Please provide valid email.\r\npassword.size=password size must be between 8 and 50.\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\nI just want to get `field name` and some annotation parameters e.g. `min` / `max` and use them in my message. With the help of this, I can reduce the message definitions and re-use the same message with different parameters. \r\n\r\nSo, how can I do this? I tried something e.g. `{0}` in the messages, but did not work :( ","title":"Request validation: Get field name in messages.properties using MessageSource?","body":"<p>I use a custom validation <code>MessageSource</code> as shown below in a Spring Boot app:</p>\n<br/>\n<p><em><strong>MessageSourceConfig:</strong></em></p>\n<pre><code>@Configuration\npublic class MessageSourceConfig {\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource = \n            new ReloadableResourceBundleMessageSource();\n        messageSource.setBasename(&quot;classpath:messages&quot;);\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        return messageSource;\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean getValidator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n}\n</code></pre>\n<br/>\n<p><em><strong>RequestClass:</strong></em></p>\n<pre><code>public class LoginForm {\n\n    @NotEmpty(message = &quot;{email.notempty}&quot;)\n    @Email\n    private String email;\n\n    @Size(min = 8, max = 50, message = &quot;{password.size}&quot;)\n    @NotNull\n    private String password;\n}\n</code></pre>\n<br/>\n<p><em><strong>messages.properties:</strong></em></p>\n<pre><code>email.notempty=email is not valid. Please provide valid email.\npassword.size=password size must be between 8 and 50.\n</code></pre>\n<br/>\n<p>I just want to get <code>field name</code> and some annotation parameters e.g. <code>min</code> / <code>max</code> and use them in my message. With the help of this, I can reduce the message definitions and re-use the same message with different parameters.</p>\n<p>So, how can I do this? I tried something e.g. <code>{0}</code> in the messages, but did not work :(</p>\n"},{"tags":["java","android","date","zoneddatetime"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1550844741,"post_id":54828832,"comment_id":96432516,"body_markdown":"How are you constructing your ZonedDateTime instance? Why can&#39;t you just replace it with the code in your question?","body":"How are you constructing your ZonedDateTime instance? Why can&#39;t you just replace it with the code in your question?"},{"owner":{"account_id":11054636,"reputation":2676,"user_id":8117793,"display_name":"Tomin B Azhakathu"},"score":1,"creation_date":1550845921,"post_id":54828832,"comment_id":96433341,"body_markdown":"Possible duplicate of [Difference in days between two dates in Java?](https://stackoverflow.com/questions/3299972/difference-in-days-between-two-dates-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3299972/difference-in-days-between-two-dates-in-java\">Difference in days between two dates in Java?</a>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1550852122,"post_id":54828832,"comment_id":96437027,"body_markdown":"Can&#39;t you use Joda Time or the ThreeTen Backport?","body":"Can&#39;t you use Joda Time or the ThreeTen Backport?"},{"owner":{"account_id":3284171,"reputation":551,"user_id":2764039,"accept_rate":82,"display_name":"manuelwaldner"},"score":1,"creation_date":1550860029,"post_id":54828832,"comment_id":96441058,"body_markdown":"@TheWanderer im getting a string from a json which is then passed to ZonedDateTime.parse(). I will try the ThreeTen Backport and will give an update.","body":"@TheWanderer im getting a string from a json which is then passed to ZonedDateTime.parse(). I will try the ThreeTen Backport and will give an update."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550913811,"post_id":54828832,"comment_id":96453822,"body_markdown":"What does the string from JSON look like? Asking because if it’s like `2019-02-23T10:21:04.791797+01:00`, then `OffsetDateTime` is a still better match for parsing. The question is whether the string has a time zone in it (like Pacific/Pitcairn or ACWST) or only an offset (like `+01:00`).","body":"What does the string from JSON look like? Asking because if it’s like <code>2019-02-23T10:21:04.791797+01:00</code>, then <code>OffsetDateTime</code> is a still better match for parsing. The question is whether the string has a time zone in it (like Pacific/Pitcairn or ACWST) or only an offset (like <code>+01:00</code>)."},{"owner":{"account_id":3284171,"reputation":551,"user_id":2764039,"accept_rate":82,"display_name":"manuelwaldner"},"score":1,"creation_date":1550946156,"post_id":54828832,"comment_id":96462493,"body_markdown":"The date string is e.g. &quot;2019-02-23T16:50:21Z&quot;, so it&#39;s UTC.","body":"The date string is e.g. &quot;2019-02-23T16:50:21Z&quot;, so it&#39;s UTC."},{"owner":{"account_id":3284171,"reputation":551,"user_id":2764039,"accept_rate":82,"display_name":"manuelwaldner"},"score":0,"creation_date":1551105392,"post_id":54828832,"comment_id":96507492,"body_markdown":"I added a solution taking the String instead of a ZonedDateTime. Before that i had to adjust my API library to return the original String instead of the already parsed ZonedDateTime, but it is working! Thank you.","body":"I added a solution taking the String instead of a ZonedDateTime. Before that i had to adjust my API library to return the original String instead of the already parsed ZonedDateTime, but it is working! Thank you."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1569877692,"creation_date":1550852966,"answer_id":54831329,"question_id":54828832,"body_markdown":"# tl;dr\r\n\r\nFor Android before 26, use the [*ThreeTen-ABP*](https://github.com/JakeWharton/ThreeTenABP) library. \r\n\r\n\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe old date-time classes such as `Calendar` and `Date` are *terrible*, really, awful wretched classes. They are laden with bad design decisions and hacks, built by people who did not understand date-time handling. Avoid them. They were entirely supplanted by the *java.time* classes with the adoption of JSR 310 for a reason – actually, *many* reasons. \r\n\r\nAvoid these legacy classes. Use only *java.time* classes. \r\n\r\n\r\n\r\n# *ThreeTen-Backport* library\r\n\r\nFor Java 6 and Java 7, most of the *java.time* functionality is back-ported in the *ThreeTen-Backport* project. \r\n\r\n# *ThreeTen-ABP*\r\n\r\nThat back-port is further adapted to earlier Android (&lt;26) in the *ThreeTen-ABP* project. \r\n\r\nI urge you to add this library to your project so you can avoid ever using the tragic legacy classes. \r\n\r\n# Conversion\r\n\r\nWhere you need to interface with old code not yet updated to *java.time*, convert back-and-forth between legacy and modern. \r\n\r\nIn Java 8 and later, convert by calling the new `to…` and `from…` methods found on the old classes. \r\n\r\n\r\nIn the back-port, convert using the `to…` conversion methods found on the [`org.threeten.bp.DateTimeUtils`](https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/DateTimeUtils.html) class. \r\n\r\n# Elapsed time\r\n\r\nYour Question talks about calculating elapsed time. \r\n\r\nTo count years, months, and days, use [`Period`](https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/Period.html). \r\n\r\nTo count days (24-hour chunks of time unrelated to the calendar), hours, minutes, seconds, and fractional second, use [`Duration`](https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/Duration.html). \r\n\r\nSearch Stack Overflow for more info. These classes have been covered many time already. \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MQBBt.png","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<h1>tl;dr</h1>\n\n<p>For Android before 26, use the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em>ThreeTen-ABP</em></a> library. </p>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>The old date-time classes such as <code>Calendar</code> and <code>Date</code> are <em>terrible</em>, really, awful wretched classes. They are laden with bad design decisions and hacks, built by people who did not understand date-time handling. Avoid them. They were entirely supplanted by the <em>java.time</em> classes with the adoption of JSR 310 for a reason – actually, <em>many</em> reasons. </p>\n\n<p>Avoid these legacy classes. Use only <em>java.time</em> classes. </p>\n\n<h1><em>ThreeTen-Backport</em> library</h1>\n\n<p>For Java 6 and Java 7, most of the <em>java.time</em> functionality is back-ported in the <em>ThreeTen-Backport</em> project. </p>\n\n<h1><em>ThreeTen-ABP</em></h1>\n\n<p>That back-port is further adapted to earlier Android (&lt;26) in the <em>ThreeTen-ABP</em> project. </p>\n\n<p>I urge you to add this library to your project so you can avoid ever using the tragic legacy classes. </p>\n\n<h1>Conversion</h1>\n\n<p>Where you need to interface with old code not yet updated to <em>java.time</em>, convert back-and-forth between legacy and modern. </p>\n\n<p>In Java 8 and later, convert by calling the new <code>to…</code> and <code>from…</code> methods found on the old classes. </p>\n\n<p>In the back-port, convert using the <code>to…</code> conversion methods found on the <a href=\"https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/DateTimeUtils.html\" rel=\"noreferrer\"><code>org.threeten.bp.DateTimeUtils</code></a> class. </p>\n\n<h1>Elapsed time</h1>\n\n<p>Your Question talks about calculating elapsed time. </p>\n\n<p>To count years, months, and days, use <a href=\"https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/Period.html\" rel=\"noreferrer\"><code>Period</code></a>. </p>\n\n<p>To count days (24-hour chunks of time unrelated to the calendar), hours, minutes, seconds, and fractional second, use <a href=\"https://www.threeten.org/threetenbp/apidocs/org/threeten/bp/Duration.html\" rel=\"noreferrer\"><code>Duration</code></a>. </p>\n\n<p>Search Stack Overflow for more info. These classes have been covered many time already. </p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/MQBBt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MQBBt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550992526,"creation_date":1550953140,"answer_id":54845815,"question_id":54828832,"body_markdown":"There’s already a good answer by Basil Bourque. After your comments I thought I could be just a little more specific:\r\n\r\n\tpublic static String diff(String thenStr) {\r\n\t\tInstant now = Instant.now();\r\n\t\tInstant then = Instant.parse(thenStr);\r\n\t\tChronoUnit[] units = ChronoUnit.values();\r\n\t\t// try longest units first, they are in the far end of the array\r\n\t\tfor (int i = units.length - 1; i &gt;= 0; i--) {\r\n\t\t\tif (then.isSupported(units[i])) {\r\n\t\t\t\tlong diffInCurrentUnit = units[i].between(then, now);\r\n\t\t\t\tif (diffInCurrentUnit != 0) {\r\n\t\t\t\t\treturn &quot;&quot; + diffInCurrentUnit + &#39; &#39; + units[i].toString().toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;0&quot;;\r\n\t}\r\n\r\nLet’s try it out:\r\n\r\n\t\tSystem.out.println(diff(&quot;2019-02-23T16:50:21Z&quot;));\r\n\t\tSystem.out.println(diff(&quot;2019-02-23T20:15:21Z&quot;));\r\n\r\nOutput when running just now:\r\n\r\n&gt;     3 hours\r\n&gt;     36 seconds\r\n\r\nImports I used:\r\n\r\n    import org.threeten.bp.Instant;\r\n    import org.threeten.bp.temporal.ChronoUnit;\r\n    import org.threeten.bp.temporal.UnsupportedTemporalTypeException;\r\n\r\n`Instant` doesn’t support coarser units than days (at 24 hours). If you need to be able to return weeks, months or years, just use `OffsetDateTime` instead of `Instant`.\r\n\r\n## Question: Can I use java.time on my Android API level?\r\n\r\nYes, java.time works nicely on older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in. In this case import from `java.time` with subpackages.\r\n - In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## A stream?\r\n\r\n**EDIT:** @Basil Bourque asked in a comment:\r\n\r\n&gt; I wonder if this could be crunched down into a stream, perhaps a one-liner?\r\n\r\nIt can, but I don’t think it will be an advantage in this case:\r\n\r\n\t\treturn IntStream.range(0, units.length)\r\n\t\t\t\t.map(i -&gt; units.length - i - 1)\r\n\t\t\t\t.mapToObj(i -&gt; units[i])\r\n\t\t\t\t.filter(then::isSupported)\r\n\t\t\t\t.filter(unit -&gt; unit.between(then, now) != 0)\r\n\t\t\t\t.map(unit -&gt; &quot;&quot; + unit.between(then, now) + &#39; &#39; + unit.toString().toLowerCase())\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(&quot;0&quot;);\r\n\r\nI find the code for taking the array elements backward, `.map(i -&gt; units.length - i - 1)`, a bit hard to read. We need to calculate the difference twice, first for filtering and then for assembling the string result. But it works, and you may go with it if you like.\r\n\r\nThe double calculation can be avoided with an inner stream pipeline, again harder to read, though:\r\n\r\n\t\t\t\t.flatMap(unit -&gt; LongStream.of(unit.between(then, now))\r\n\t\t\t\t\t\t.filter(diff -&gt; diff != 0)\r\n\t\t\t\t\t\t.mapToObj(diff -&gt; &quot;&quot; + diff + &#39; &#39; + unit.toString().toLowerCase()))\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310), where `java.time` was first described.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7 (ThreeTen for JSR-310).\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<p>There’s already a good answer by Basil Bourque. After your comments I thought I could be just a little more specific:</p>\n\n<pre><code>public static String diff(String thenStr) {\n    Instant now = Instant.now();\n    Instant then = Instant.parse(thenStr);\n    ChronoUnit[] units = ChronoUnit.values();\n    // try longest units first, they are in the far end of the array\n    for (int i = units.length - 1; i &gt;= 0; i--) {\n        if (then.isSupported(units[i])) {\n            long diffInCurrentUnit = units[i].between(then, now);\n            if (diffInCurrentUnit != 0) {\n                return \"\" + diffInCurrentUnit + ' ' + units[i].toString().toLowerCase();\n            }\n        }\n    }\n    return \"0\";\n}\n</code></pre>\n\n<p>Let’s try it out:</p>\n\n<pre><code>    System.out.println(diff(\"2019-02-23T16:50:21Z\"));\n    System.out.println(diff(\"2019-02-23T20:15:21Z\"));\n</code></pre>\n\n<p>Output when running just now:</p>\n\n<blockquote>\n<pre><code>3 hours\n36 seconds\n</code></pre>\n</blockquote>\n\n<p>Imports I used:</p>\n\n<pre><code>import org.threeten.bp.Instant;\nimport org.threeten.bp.temporal.ChronoUnit;\nimport org.threeten.bp.temporal.UnsupportedTemporalTypeException;\n</code></pre>\n\n<p><code>Instant</code> doesn’t support coarser units than days (at 24 hours). If you need to be able to return weeks, months or years, just use <code>OffsetDateTime</code> instead of <code>Instant</code>.</p>\n\n<h2>Question: Can I use java.time on my Android API level?</h2>\n\n<p>Yes, java.time works nicely on older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in. In this case import from <code>java.time</code> with subpackages.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>A stream?</h2>\n\n<p><strong>EDIT:</strong> @Basil Bourque asked in a comment:</p>\n\n<blockquote>\n  <p>I wonder if this could be crunched down into a stream, perhaps a one-liner?</p>\n</blockquote>\n\n<p>It can, but I don’t think it will be an advantage in this case:</p>\n\n<pre><code>    return IntStream.range(0, units.length)\n            .map(i -&gt; units.length - i - 1)\n            .mapToObj(i -&gt; units[i])\n            .filter(then::isSupported)\n            .filter(unit -&gt; unit.between(then, now) != 0)\n            .map(unit -&gt; \"\" + unit.between(then, now) + ' ' + unit.toString().toLowerCase())\n            .findFirst()\n            .orElse(\"0\");\n</code></pre>\n\n<p>I find the code for taking the array elements backward, <code>.map(i -&gt; units.length - i - 1)</code>, a bit hard to read. We need to calculate the difference twice, first for filtering and then for assembling the string result. But it works, and you may go with it if you like.</p>\n\n<p>The double calculation can be avoided with an inner stream pipeline, again harder to read, though:</p>\n\n<pre><code>            .flatMap(unit -&gt; LongStream.of(unit.between(then, now))\n                    .filter(diff -&gt; diff != 0)\n                    .mapToObj(diff -&gt; \"\" + diff + ' ' + unit.toString().toLowerCase()))\n</code></pre>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3284171,"reputation":551,"user_id":2764039,"accept_rate":82,"display_name":"manuelwaldner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551162100,"creation_date":1551162100,"answer_id":54879517,"question_id":54828832,"body_markdown":"**Solution (ThreeTen-Backport Library):**&lt;br&gt;\r\nIt&#39;s working perfectly, i already tried it out on an KitKat emulator.\r\n\r\n    private static final ChronoUnit[] chronoUnits = {ChronoUnit.YEARS, ChronoUnit.MONTHS, ChronoUnit.DAYS, ChronoUnit.HOURS, ChronoUnit.MINUTES, ChronoUnit.SECONDS};\r\n    private static final Map&lt;ChronoUnit, Integer&gt; chronoUnitPluralIdMap = new HashMap&lt;ChronoUnit, Integer&gt;() {{\r\n        put(ChronoUnit.YEARS, R.plurals.chrono_unit_years_ago);\r\n        put(ChronoUnit.MONTHS, R.plurals.chrono_unit_months_ago);\r\n        put(ChronoUnit.DAYS, R.plurals.chrono_unit_days_ago);\r\n        put(ChronoUnit.HOURS, R.plurals.chrono_unit_hours_ago);\r\n        put(ChronoUnit.MINUTES, R.plurals.chrono_unit_minutes_ago);\r\n        put(ChronoUnit.SECONDS, R.plurals.chrono_unit_seconds_ago);\r\n    }};\r\n\r\n    public static String getTimeStringUntilNowFromUTC(Context context, String utcDate) {\r\n        Instant now = Instant.now(Clock.systemUTC());\r\n        Instant then = Instant.parse(utcDate);\r\n        for (ChronoUnit chronoUnit : chronoUnits) {\r\n            if (then.isSupported(chronoUnit)) {\r\n                long units = chronoUnit.between(then, now);\r\n                if (units &gt; 0) {\r\n                    //noinspection ConstantConditions\r\n                    return context.getResources().getQuantityString(chronoUnitPluralIdMap.get(chronoUnit), (int)units, (int)units);\r\n                }\r\n            }\r\n        }\r\n        return &quot;-&quot;;\r\n    }\r\n\r\n    public static String getTimeBetweenTwoDates(Context context, String date1, String date2) {\r\n        Instant date1Instant = Instant.parse(date1);\r\n        Instant date2Instant = Instant.parse(date2);\r\n        final long seconds = ChronoUnit.SECONDS.between(date1Instant, date2Instant);\r\n        return getMinutesSecondsString(context, seconds);\r\n    }","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<p><strong>Solution (ThreeTen-Backport Library):</strong><br>\nIt's working perfectly, i already tried it out on an KitKat emulator.</p>\n\n<pre><code>private static final ChronoUnit[] chronoUnits = {ChronoUnit.YEARS, ChronoUnit.MONTHS, ChronoUnit.DAYS, ChronoUnit.HOURS, ChronoUnit.MINUTES, ChronoUnit.SECONDS};\nprivate static final Map&lt;ChronoUnit, Integer&gt; chronoUnitPluralIdMap = new HashMap&lt;ChronoUnit, Integer&gt;() {{\n    put(ChronoUnit.YEARS, R.plurals.chrono_unit_years_ago);\n    put(ChronoUnit.MONTHS, R.plurals.chrono_unit_months_ago);\n    put(ChronoUnit.DAYS, R.plurals.chrono_unit_days_ago);\n    put(ChronoUnit.HOURS, R.plurals.chrono_unit_hours_ago);\n    put(ChronoUnit.MINUTES, R.plurals.chrono_unit_minutes_ago);\n    put(ChronoUnit.SECONDS, R.plurals.chrono_unit_seconds_ago);\n}};\n\npublic static String getTimeStringUntilNowFromUTC(Context context, String utcDate) {\n    Instant now = Instant.now(Clock.systemUTC());\n    Instant then = Instant.parse(utcDate);\n    for (ChronoUnit chronoUnit : chronoUnits) {\n        if (then.isSupported(chronoUnit)) {\n            long units = chronoUnit.between(then, now);\n            if (units &gt; 0) {\n                //noinspection ConstantConditions\n                return context.getResources().getQuantityString(chronoUnitPluralIdMap.get(chronoUnit), (int)units, (int)units);\n            }\n        }\n    }\n    return \"-\";\n}\n\npublic static String getTimeBetweenTwoDates(Context context, String date1, String date2) {\n    Instant date1Instant = Instant.parse(date1);\n    Instant date2Instant = Instant.parse(date2);\n    final long seconds = ChronoUnit.SECONDS.between(date1Instant, date2Instant);\n    return getMinutesSecondsString(context, seconds);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6180212,"reputation":329,"user_id":4815953,"display_name":"Roman Droppa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1605024450,"creation_date":1605024450,"answer_id":64772472,"question_id":54828832,"body_markdown":"You can enable &quot;Support for newer Java language APIs&quot; simply by this gradle configuration:\r\n```\r\n&lt;!-- Copyright 2019 Google LLC.\r\nSPDX-License-Identifier: Apache-2.0 --&gt;\r\n\r\nandroid {\r\n  defaultConfig {\r\n    //Only required when setting minSdkVersion to 20 or lower\r\n    multiDexEnabled true\r\n  }\r\n\r\n  compileOptions {\r\n    // Flag to enable support for the new language APIs\r\n    coreLibraryDesugaringEnabled true\r\n    // Sets Java compatibility to Java 8\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n  }\r\n}\r\n\r\ndependencies {\r\n  // Dependency with the implementation code for the APIs\r\n  coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.0.5&#39;\r\n}\r\n```\r\nSource: https://medium.com/androiddevelopers/support-for-newer-java-language-apis-bca79fc8ef65\r\n","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<p>You can enable &quot;Support for newer Java language APIs&quot; simply by this gradle configuration:</p>\n<pre><code>&lt;!-- Copyright 2019 Google LLC.\nSPDX-License-Identifier: Apache-2.0 --&gt;\n\nandroid {\n  defaultConfig {\n    //Only required when setting minSdkVersion to 20 or lower\n    multiDexEnabled true\n  }\n\n  compileOptions {\n    // Flag to enable support for the new language APIs\n    coreLibraryDesugaringEnabled true\n    // Sets Java compatibility to Java 8\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n\ndependencies {\n  // Dependency with the implementation code for the APIs\n  coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.0.5'\n}\n</code></pre>\n<p>Source: <a href=\"https://medium.com/androiddevelopers/support-for-newer-java-language-apis-bca79fc8ef65\" rel=\"noreferrer\">https://medium.com/androiddevelopers/support-for-newer-java-language-apis-bca79fc8ef65</a></p>\n"},{"tags":[],"owner":{"account_id":20423618,"reputation":57,"user_id":14984111,"display_name":"jlsogorb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677519537,"creation_date":1677519537,"answer_id":75583805,"question_id":54828832,"body_markdown":"Answer by Roman Droppa works fine but today (2023) you must change version of library:\r\n\r\n     compileOptions {\r\n            coreLibraryDesugaringEnabled true\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        // Dependency with the implementation code for the APIs\r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.0.9&#39;","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<p>Answer by Roman Droppa works fine but today (2023) you must change version of library:</p>\n<pre><code> compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    // Dependency with the implementation code for the APIs\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.0.9'\n</code></pre>\n"}],"owner":{"account_id":3284171,"reputation":551,"user_id":2764039,"accept_rate":82,"display_name":"manuelwaldner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4807,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":54879517,"answer_count":5,"score":10,"last_activity_date":1677519537,"creation_date":1550844350,"question_id":54828832,"body_markdown":"I am trying to replace the `ZonedDateTime.toInstant` method because it is only available since API 26 for Android.&lt;br&gt;\r\nBut my app is supposed to support API 19.&lt;br&gt;\r\nI want to convert the ZonedDateTime to a Date so i can do something like this:&lt;br&gt;\r\n\r\n    final Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date());\r\n    final long millis = calendar.getTimeInMillis();\r\n\r\nWhat i want to achieve is the following:&lt;br&gt;\r\nI want to calculate the difference between the current date and another date in Seconds, Minutes, Hours, ... the highest possible unit wins, so i would get e.g. `5 days ago` as result.","title":"ZonedDateTime to Date before Java 8 in early Android","body":"<p>I am trying to replace the <code>ZonedDateTime.toInstant</code> method because it is only available since API 26 for Android.<br>\nBut my app is supposed to support API 19.<br>\nI want to convert the ZonedDateTime to a Date so i can do something like this:<br></p>\n\n<pre><code>final Calendar calendar = Calendar.getInstance();\ncalendar.setTime(new Date());\nfinal long millis = calendar.getTimeInMillis();\n</code></pre>\n\n<p>What i want to achieve is the following:<br>\nI want to calculate the difference between the current date and another date in Seconds, Minutes, Hours, ... the highest possible unit wins, so i would get e.g. <code>5 days ago</code> as result.</p>\n"},{"tags":["java","spring","inversion-of-control","autowired"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1677506879,"post_id":75581080,"comment_id":133345534,"body_markdown":"Where should that value come from? A system property? From application.properties? From a repository?","body":"Where should that value come from? A system property? From application.properties? From a repository?"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677519467,"creation_date":1677517784,"answer_id":75583503,"question_id":75581080,"body_markdown":"You can use @Value annotation to set initial value for `totalRevenue`.\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n    private Long totalRevenue;\r\n\r\n    private final CarRepository carRepository;\r\n\r\n    public DealershipService(\r\n            @Value(&quot;${initialRevenue:20000}&quot;) Long initialRevenue, \r\n            CarRepository carRepository) {\r\n        this.totalRevenue = initialRevenue;\r\n        this.carRepository = carRepository;\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nAnd put this property in application.properties (or application.yml):\r\n\r\n```\r\ninitialRevenue = 100000\r\n```\r\nAlso if you will not add this property, the default (20000) would be applied.\r\n\r\nP.S. @Value annotation from package `org.springframework.beans.factory.annotation`. Do not confuse with similar Lombok annotation\r\n\r\nHope it will helps you ;)","title":"Autowiring a Long in my @Service class&#39;s constructor","body":"<p>You can use @Value annotation to set initial value for <code>totalRevenue</code>.</p>\n<pre><code>@Slf4j\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n    private Long totalRevenue;\n\n    private final CarRepository carRepository;\n\n    public DealershipService(\n            @Value(&quot;${initialRevenue:20000}&quot;) Long initialRevenue, \n            CarRepository carRepository) {\n        this.totalRevenue = initialRevenue;\n        this.carRepository = carRepository;\n    }\n\n    ...\n}\n</code></pre>\n<p>And put this property in application.properties (or application.yml):</p>\n<pre><code>initialRevenue = 100000\n</code></pre>\n<p>Also if you will not add this property, the default (20000) would be applied.</p>\n<p>P.S. @Value annotation from package <code>org.springframework.beans.factory.annotation</code>. Do not confuse with similar Lombok annotation</p>\n<p>Hope it will helps you ;)</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677519388,"creation_date":1677519294,"answer_id":75583759,"question_id":75581080,"body_markdown":"It does not necessary to define the `initialRevenue` in the `application.properties`. Just directly specify the value in `@Value` without `#{}` , it will automatically convert it to the correct data type : \r\n\r\n``` java\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  private long totalRevenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(@Value(&quot;1000000&quot;)Long initialRevenue, CarRepository carRepository) {\r\n    this.totalRevenue = initialRevenue;\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"Autowiring a Long in my @Service class&#39;s constructor","body":"<p>It does not necessary to define the <code>initialRevenue</code> in the <code>application.properties</code>. Just directly specify the value in <code>@Value</code> without <code>#{}</code> , it will automatically convert it to the correct data type :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  private long totalRevenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(@Value(&quot;1000000&quot;)Long initialRevenue, CarRepository carRepository) {\n    this.totalRevenue = initialRevenue;\n    this.carRepository = carRepository;\n  }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75583503,"answer_count":2,"score":0,"last_activity_date":1677519467,"creation_date":1677504398,"question_id":75581080,"body_markdown":"Very new to Spring. I want to create a service class that represents a car dealership. Among others, car dealerships have revenue. For that reason, I have a `long` field called `totalRevenue` that I&#39;d like to be instantiating my dealerships with. I have a separate `@Repository`- annotated class for my repository. This is a snippet of what I have so far:\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  private long totalRevenue;\r\n  private final CarRepository carRepository;\r\n\r\n  public DealershipServiceImpl(@Value(&quot;#{ 1000000L }&quot;)Long initialRevenue, CarRepository carRepository) {\r\n    this.totalRevenue = initialRevenue;\r\n    this.carRepository = carRepository;\r\n  }\r\n.\r\n.\r\n.\r\n```\r\n\r\nI am using the `@Value` annotation based on the information of `[this (rather old) post][1]`. However, IntelliJ seems to not like it. Hovering over the variable reads &quot;Could not autowire...&quot; as you can see:\r\n\r\n[![Hovering over the argument.][1]][1]\r\n\r\n\r\nwhereas it seems to also not like my use of `@Value`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I inject a default value in my constructor? I would like for that `Long` field to be provided at the constructor so that I can effectively test the class from a Junit test.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F3SFd.png\r\n  [2]: https://i.stack.imgur.com/P1EAQ.png","title":"Autowiring a Long in my @Service class&#39;s constructor","body":"<p>Very new to Spring. I want to create a service class that represents a car dealership. Among others, car dealerships have revenue. For that reason, I have a <code>long</code> field called <code>totalRevenue</code> that I'd like to be instantiating my dealerships with. I have a separate <code>@Repository</code>- annotated class for my repository. This is a snippet of what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  private long totalRevenue;\n  private final CarRepository carRepository;\n\n  public DealershipServiceImpl(@Value(&quot;#{ 1000000L }&quot;)Long initialRevenue, CarRepository carRepository) {\n    this.totalRevenue = initialRevenue;\n    this.carRepository = carRepository;\n  }\n.\n.\n.\n</code></pre>\n<p>I am using the <code>@Value</code> annotation based on the information of <code>[this (rather old) post][1]</code>. However, IntelliJ seems to not like it. Hovering over the variable reads &quot;Could not autowire...&quot; as you can see:</p>\n<p><a href=\"https://i.stack.imgur.com/F3SFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3SFd.png\" alt=\"Hovering over the argument.\" /></a></p>\n<p>whereas it seems to also not like my use of <code>@Value</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/P1EAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1EAQ.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I inject a default value in my constructor? I would like for that <code>Long</code> field to be provided at the constructor so that I can effectively test the class from a Junit test.</p>\n"},{"tags":["java","java-11","javaagents"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1561647267,"post_id":56787777,"comment_id":100142056,"body_markdown":"Where does that linked discussion say that `-Djdk.attach.allowAttachSelf=true` will not work anymore under JDK11?","body":"Where does that linked discussion say that <code>-Djdk.attach.allowAttachSelf=true</code> will not work anymore under JDK11?"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1561708652,"post_id":56787777,"comment_id":100160373,"body_markdown":"You need to setup the property on VM startup, not during runtime, otherwise it is ignored. Otherwise, have a look at byte-buddy-agent which can work around the restriction.","body":"You need to setup the property on VM startup, not during runtime, otherwise it is ignored. Otherwise, have a look at byte-buddy-agent which can work around the restriction."},{"owner":{"account_id":7656771,"reputation":780,"user_id":5874459,"accept_rate":69,"display_name":"Vivek Shankar"},"score":0,"creation_date":1561813118,"post_id":56787777,"comment_id":100188673,"body_markdown":"@Holger It doesn&#39;t. But how can I set the parameter during one of the test cases run which is trying to attach the agent to a JVM, IIUC, which was created by Maven.","body":"@Holger It doesn&#39;t. But how can I set the parameter during one of the test cases run which is trying to attach the agent to a JVM, IIUC, which was created by Maven."},{"owner":{"account_id":7656771,"reputation":780,"user_id":5874459,"accept_rate":69,"display_name":"Vivek Shankar"},"score":0,"creation_date":1561813282,"post_id":56787777,"comment_id":100188708,"body_markdown":"@RafaelWinterhalter I&#39;m not sure I follow, how can I set the property from a test case before the VM startup?\nAnd yes, I am looking at byte-buddy-agent code and trying to do the attach from a helper process. Being the rookie that I am, haven&#39;t managed to get it working yet.","body":"@RafaelWinterhalter I&#39;m not sure I follow, how can I set the property from a test case before the VM startup? And yes, I am looking at byte-buddy-agent code and trying to do the attach from a helper process. Being the rookie that I am, haven&#39;t managed to get it working yet."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":2,"creation_date":1561833390,"post_id":56787777,"comment_id":100192898,"body_markdown":"You cannot, you need to boot up the VM with that property set, otherwise, the restriction would be pointless. byte-buddy-agent only requires you to call install to get hold of the instrumentation instance. If it&#39;s not working, let me know where you are stuck.","body":"You cannot, you need to boot up the VM with that property set, otherwise, the restriction would be pointless. byte-buddy-agent only requires you to call install to get hold of the instrumentation instance. If it&#39;s not working, let me know where you are stuck."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1595073342,"post_id":56787777,"comment_id":111352038,"body_markdown":"Also an option: Start a new process that does the attach to the current VM.","body":"Also an option: Start a new process that does the attach to the current VM."},{"owner":{"account_id":7656771,"reputation":780,"user_id":5874459,"accept_rate":69,"display_name":"Vivek Shankar"},"score":0,"creation_date":1596682785,"post_id":56787777,"comment_id":111891438,"body_markdown":"@JohannesKuhn yeah, you&#39;re right that&#39;s how bytebuddy did it.","body":"@JohannesKuhn yeah, you&#39;re right that&#39;s how bytebuddy did it."}],"answers":[{"tags":[],"owner":{"account_id":7656771,"reputation":780,"user_id":5874459,"accept_rate":69,"display_name":"Vivek Shankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1578033999,"creation_date":1578033999,"answer_id":59574298,"question_id":56787777,"body_markdown":"I&#39;m not sure if this would help everyone, but in my case, it was a test case that tested whether the agent attaches to the JDK correctly(it won&#39;t be a self attach when the agent actually attaches to a JDK, i.e., actual runtime not a testcase).\r\n\r\nBased on the suggestion by @Holger, in the comments, I modified my maven-failsafe-plugin to allow self attach.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;argLine&gt;-Djdk.attach.allowAttachSelf=true&lt;/argLine&gt;\r\n                            &lt;forkMode&gt;once&lt;/forkMode&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>I'm not sure if this would help everyone, but in my case, it was a test case that tested whether the agent attaches to the JDK correctly(it won't be a self attach when the agent actually attaches to a JDK, i.e., actual runtime not a testcase).</p>\n\n<p>Based on the suggestion by @Holger, in the comments, I modified my maven-failsafe-plugin to allow self attach.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;-Djdk.attach.allowAttachSelf=true&lt;/argLine&gt;\n                        &lt;forkMode&gt;once&lt;/forkMode&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595038721,"creation_date":1595038721,"answer_id":62963960,"question_id":56787777,"body_markdown":"See [JDK-8180425 : Release Note: Attach API cannot be used to attach to the current VM by default][jdk]:\r\n\r\n&gt; The implementation of Attach API has changed in JDK 9 to disallow attaching to the current VM by default. This change should have no impact on tools that use the Attach API to attach to a running VM. It may impact libraries that mis-use this API as a way to get at the `java.lang.instrument` API. The system property `jdk.attach.allowAttachSelf` may be set on the command line to mitigate any compatibility with this change.\r\n\r\n[jdk]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8180425","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>See <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8180425\" rel=\"noreferrer\">JDK-8180425 : Release Note: Attach API cannot be used to attach to the current VM by default</a>:</p>\n<blockquote>\n<p>The implementation of Attach API has changed in JDK 9 to disallow attaching to the current VM by default. This change should have no impact on tools that use the Attach API to attach to a running VM. It may impact libraries that mis-use this API as a way to get at the <code>java.lang.instrument</code> API. The system property <code>jdk.attach.allowAttachSelf</code> may be set on the command line to mitigate any compatibility with this change.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9462062,"reputation":87,"user_id":7035536,"display_name":"Mansingh Kachhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599128903,"creation_date":1599128903,"answer_id":63721745,"question_id":56787777,"body_markdown":"This worked for me by adding javaagent in maven-surefire-plugin\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;!-- Centralize test reports in parent project --&gt;\r\n              &lt;reportsDirectory&gt;${basedir}/../target/surefire-reports&lt;/reportsDirectory&gt;\r\n              &lt;!-- Sets the VM argument line used for Jacoco when unit tests are run. --&gt;\r\n              &lt;argLine&gt;\r\n                 -javaagent:${settings.localRepository}/org/jmockit/jmockit/${jmockit.version}/jmockit-${jmockit.version}.jar ${surefireArgLine}\r\n              &lt;/argLine&gt;\r\n            &lt;/configuration&gt; \r\n    &lt;/plugin&gt;","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>This worked for me by adding javaagent in maven-surefire-plugin</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;!-- Centralize test reports in parent project --&gt;\n          &lt;reportsDirectory&gt;${basedir}/../target/surefire-reports&lt;/reportsDirectory&gt;\n          &lt;!-- Sets the VM argument line used for Jacoco when unit tests are run. --&gt;\n          &lt;argLine&gt;\n             -javaagent:${settings.localRepository}/org/jmockit/jmockit/${jmockit.version}/jmockit-${jmockit.version}.jar ${surefireArgLine}\n          &lt;/argLine&gt;\n        &lt;/configuration&gt; \n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21036436,"reputation":21,"user_id":15459787,"display_name":"SolarisNeko"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668095479,"creation_date":1668095479,"answer_id":74391795,"question_id":56787777,"body_markdown":"@SolarisNeko\r\n\r\nuse JVM args: \r\n-Djdk.attach.allowAttachSelf=true\r\n\r\nyou can resolve it.","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>@SolarisNeko</p>\n<p>use JVM args:\n-Djdk.attach.allowAttachSelf=true</p>\n<p>you can resolve it.</p>\n"},{"tags":[],"owner":{"account_id":1946027,"reputation":617,"user_id":1751166,"display_name":"PravyNandas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677519449,"creation_date":1677519449,"answer_id":75583788,"question_id":56787777,"body_markdown":"In my case, I was compiling my android project with below setting while the compiler is set to Jdk11 (azul zulu). Changing the JDK to jdk1.8 fixed the issue.\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ceGTH.png","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>In my case, I was compiling my android project with below setting while the compiler is set to Jdk11 (azul zulu). Changing the JDK to jdk1.8 fixed the issue.</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ceGTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ceGTH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7656771,"reputation":780,"user_id":5874459,"accept_rate":69,"display_name":"Vivek Shankar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18183,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":59574298,"answer_count":5,"score":11,"last_activity_date":1677519449,"creation_date":1561626980,"question_id":56787777,"body_markdown":"After going through [this](http://jigsaw-dev.1059479.n5.nabble.com/Disallowing-the-dynamic-loading-of-agents-by-default-revised-td5716181i20.html) discussion, I&#39;m led to believe the option to attach to the same VM, by default has been disabled in OpenJDK11.\r\n\r\nI&#39;m trying to upgrade a java agent to OpenJDK11, during the test cases when `VirtualMachine.attach(pid)` is called I see it failing with below error. What is the correct way to deal with this situation?\r\n\r\nComplete stack trace:\r\n\r\n    java.io.IOException: Can not attach to current VM\r\n\r\n\tat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.&lt;init&gt;(HotSpotVirtualMachine.java:75)\r\n\tat jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:48)\r\n\tat jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:69)\r\n\tat jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\r\n\tat org.kantega.notsoserial.WithAgentIT.attachAgent(WithAgentIT.java:76)\r\n\tat org.kantega.notsoserial.WithAgentIT.attackShouldBePreventedWithAgent(WithAgentIT.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n","title":"VirtualMachine.attach(pid) fails with java.io.IOException: Can not attach to current VM","body":"<p>After going through <a href=\"http://jigsaw-dev.1059479.n5.nabble.com/Disallowing-the-dynamic-loading-of-agents-by-default-revised-td5716181i20.html\" rel=\"noreferrer\">this</a> discussion, I'm led to believe the option to attach to the same VM, by default has been disabled in OpenJDK11.</p>\n\n<p>I'm trying to upgrade a java agent to OpenJDK11, during the test cases when <code>VirtualMachine.attach(pid)</code> is called I see it failing with below error. What is the correct way to deal with this situation?</p>\n\n<p>Complete stack trace:</p>\n\n<pre><code>java.io.IOException: Can not attach to current VM\n\nat jdk.attach/sun.tools.attach.HotSpotVirtualMachine.&lt;init&gt;(HotSpotVirtualMachine.java:75)\nat jdk.attach/sun.tools.attach.VirtualMachineImpl.&lt;init&gt;(VirtualMachineImpl.java:48)\nat jdk.attach/sun.tools.attach.AttachProviderImpl.attachVirtualMachine(AttachProviderImpl.java:69)\nat jdk.attach/com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:207)\nat org.kantega.notsoserial.WithAgentIT.attachAgent(WithAgentIT.java:76)\nat org.kantega.notsoserial.WithAgentIT.attackShouldBePreventedWithAgent(WithAgentIT.java:47)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"},{"tags":["java","maven","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"score":0,"creation_date":1597071641,"post_id":63342233,"comment_id":112006802,"body_markdown":"Does it work if you run `mvn package verify`?","body":"Does it work if you run <code>mvn package verify</code>?"},{"owner":{"account_id":17060772,"reputation":33,"user_id":12344265,"display_name":"Lucas Hagen"},"score":0,"creation_date":1597073736,"post_id":63342233,"comment_id":112007866,"body_markdown":"Also doesn&#39;t work :(","body":"Also doesn&#39;t work :("},{"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"score":0,"creation_date":1597074475,"post_id":63342233,"comment_id":112008196,"body_markdown":"I suggested that to make sure `generate-sources` and `dependency:resolve` were being run.  I&#39;m sorry it wasn&#39;t any help.","body":"I suggested that to make sure <code>generate-sources</code> and <code>dependency:resolve</code> were being run.  I&#39;m sorry it wasn&#39;t any help."},{"owner":{"account_id":1686882,"reputation":1183,"user_id":1549977,"accept_rate":86,"display_name":"Benjamin Marwell"},"score":0,"creation_date":1632639764,"post_id":63342233,"comment_id":122543577,"body_markdown":"Did you set up your organisation&#39;s repository in either your pom.xml or settings.xml? Have you tried running Maven with `mvn -X verify`?","body":"Did you set up your organisation&#39;s repository in either your pom.xml or settings.xml? Have you tried running Maven with <code>mvn -X verify</code>?"}],"answers":[{"tags":[],"owner":{"account_id":27893165,"reputation":1,"user_id":21299078,"display_name":"konstantinben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677519128,"creation_date":1677519128,"answer_id":75583738,"question_id":63342233,"body_markdown":"It is necessary to add in the your pom file pluginRepositories block with your repository of the checkstyle-config artifact. f.e.\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;myorganization-repo&lt;/id&gt;\r\n            &lt;url&gt;https://nexus.myorganization.local/repository/myorganization-repo/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;","title":"Plugin&#39;s dependency not found in maven","body":"<p>It is necessary to add in the your pom file pluginRepositories block with your repository of the checkstyle-config artifact. f.e.</p>\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;myorganization-repo&lt;/id&gt;\n        &lt;url&gt;https://nexus.myorganization.local/repository/myorganization-repo/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n"}],"owner":{"account_id":17060772,"reputation":33,"user_id":12344265,"display_name":"Lucas Hagen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677519128,"creation_date":1597069849,"question_id":63342233,"body_markdown":"I&#39;m trying to centralize my Java&#39;s Checkstyle configuration by using the following plugin configuration in my pom.xml:\r\n\r\n```xml\r\n&lt;!-- Checkstyle Plugin --&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.myorganization&lt;/groupId&gt;\r\n            &lt;artifactId&gt;checkstyle-config&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;configuration&gt;\r\n        &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n        &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n        &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;verify&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe checkstyle-config dependency is a simple maven project with the checkstyle.xml config as a resource, but the problem is that this project is in a custom/private repository, and if it is not locally cached, it doesn&#39;t work. If I go to my checkstyle-config project and run `mvn install`, it works as it should, but if I clear the cache and run `mvn verify` in my main project, the config dependency is not resolved.\r\n\r\nAny ideas?\r\n\r\nObs1: I created another test project and added my config project as a dependency (without using the checkstyle plugin) and it is resolved and downloaded.\r\n\r\nObs2: me.myorganization is just a placeholder to protect the original one.\r\n\r\nObs3: I have already tried adding the dependency in both places, in the plugin&#39;s dependencies and in the normal pom dependencies, and it still doesn&#39;t work.\r\n\r\nThank you\r\n","title":"Plugin&#39;s dependency not found in maven","body":"<p>I'm trying to centralize my Java's Checkstyle configuration by using the following plugin configuration in my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Checkstyle Plugin --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.myorganization&lt;/groupId&gt;\n            &lt;artifactId&gt;checkstyle-config&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n        &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n        &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;verify&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The checkstyle-config dependency is a simple maven project with the checkstyle.xml config as a resource, but the problem is that this project is in a custom/private repository, and if it is not locally cached, it doesn't work. If I go to my checkstyle-config project and run <code>mvn install</code>, it works as it should, but if I clear the cache and run <code>mvn verify</code> in my main project, the config dependency is not resolved.</p>\n<p>Any ideas?</p>\n<p>Obs1: I created another test project and added my config project as a dependency (without using the checkstyle plugin) and it is resolved and downloaded.</p>\n<p>Obs2: me.myorganization is just a placeholder to protect the original one.</p>\n<p>Obs3: I have already tried adding the dependency in both places, in the plugin's dependencies and in the normal pom dependencies, and it still doesn't work.</p>\n<p>Thank you</p>\n"},{"tags":["java","php"],"answers":[{"tags":[],"owner":{"account_id":488448,"reputation":4117,"user_id":1147744,"accept_rate":53,"display_name":"Letharion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1380799578,"creation_date":1380799578,"answer_id":19158004,"question_id":19157823,"body_markdown":"PHP has a (badly documented) [statistics extension][1]. There&#39;s a large number of functions in there that ought to be helpful, but I don&#39;t know enough about neither statistics in general or the specific extension to say anything more helpful about it. \r\n\r\n   [1]: http://www.php.net/manual/en/book.stats.php","title":"Percentile to Z-score in PHP or JAVA","body":"<p>PHP has a (badly documented) <a href=\"http://www.php.net/manual/en/book.stats.php\" rel=\"nofollow\">statistics extension</a>. There's a large number of functions in there that ought to be helpful, but I don't know enough about neither statistics in general or the specific extension to say anything more helpful about it. </p>\n"},{"tags":[],"owner":{"account_id":15473157,"reputation":36,"user_id":11162567,"display_name":"Joshua Faulkenberry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677518996,"creation_date":1660175783,"answer_id":73313908,"question_id":19157823,"body_markdown":"In case anyone is still looking for this (like I was)...   I translated this function from a JavaScript z-score calculator I found and it does the trick. Simply pass it a value between 0 and 1.\r\n\r\n\r\n    \r\n    function percentile_z($p) {\r\n       $a0 = 2.5066282;\r\n       $a1 = -18.6150006;\r\n       $a2 = 41.3911977;\r\n       $a3 = -25.4410605;\r\n       $b1 = -8.4735109;\r\n       $b2 = 23.0833674;\r\n       $b3 = -21.0622410;\r\n       $b4 = 3.1308291;\r\n       $c0 = -2.7871893;\r\n       $c1 = -2.2979648;\r\n       $c2 = 4.8501413;\r\n       $c3 = 2.3212128;\r\n       $d1 = 3.5438892;\r\n       $d2 = 1.6370678;\r\n          \r\n       $p = abs($p - 0.5);\r\n          \r\n       if($p &gt; 0.42) {\r\n          $r=sqrt(-log(0.5 - $p));\r\n          $z=((($c3 * $r + $c2) * $r + $c1) * $r + $c0) / (($d2 * $r + $d1) * $r + 1);\r\n       }\r\n       else {\r\n          $r = $p * $p;\r\n          $z = $p * ((($a3 * $r + $a2) * $r + $a1) * $r + $a0) / (((($b4 * $r + $b3) * $r + $b2) * $r + $b1) * $r + 1);\r\n       }\r\n       if($p &lt; 0.5) $z = -$z;\r\n       return $z;\r\n    }","title":"Percentile to Z-score in PHP or JAVA","body":"<p>In case anyone is still looking for this (like I was)...   I translated this function from a JavaScript z-score calculator I found and it does the trick. Simply pass it a value between 0 and 1.</p>\n<pre><code>function percentile_z($p) {\n   $a0 = 2.5066282;\n   $a1 = -18.6150006;\n   $a2 = 41.3911977;\n   $a3 = -25.4410605;\n   $b1 = -8.4735109;\n   $b2 = 23.0833674;\n   $b3 = -21.0622410;\n   $b4 = 3.1308291;\n   $c0 = -2.7871893;\n   $c1 = -2.2979648;\n   $c2 = 4.8501413;\n   $c3 = 2.3212128;\n   $d1 = 3.5438892;\n   $d2 = 1.6370678;\n      \n   $p = abs($p - 0.5);\n      \n   if($p &gt; 0.42) {\n      $r=sqrt(-log(0.5 - $p));\n      $z=((($c3 * $r + $c2) * $r + $c1) * $r + $c0) / (($d2 * $r + $d1) * $r + 1);\n   }\n   else {\n      $r = $p * $p;\n      $z = $p * ((($a3 * $r + $a2) * $r + $a1) * $r + $a0) / (((($b4 * $r + $b3) * $r + $b2) * $r + $b1) * $r + 1);\n   }\n   if($p &lt; 0.5) $z = -$z;\n   return $z;\n}\n</code></pre>\n"}],"owner":{"account_id":3386472,"reputation":4990,"user_id":2842342,"accept_rate":52,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":19158004,"answer_count":2,"score":-1,"last_activity_date":1677518996,"creation_date":1380799087,"question_id":19157823,"body_markdown":"I am searching for a way to calculate Z score(z) for a given percentile(p). I found &lt;a href=&quot;http://www.fourmilab.ch/rpkp/experiments/analysis/zCalc.html&quot;&gt; this &lt;/a&gt; site doing such a calculation. They have given a formula for calculating P(Z&lt;=z). \r\n\r\n&lt;a href=&quot;http://www.fourmilab.ch/rpkp/experiments/figures/cumnorm.png&quot;&gt;equation&lt;/a&gt; (sorry, could not post the image due to low repution)\r\n\r\n\r\n\r\nNow i have the value of P(Z&lt;=z) and i tried solving it to find out z, but it was really complex to solve for z.\r\n\r\nIs there any function in JAVA or PHP which can do this?? or is there any mathematical way in which we can solve for Z.\r\n(I am considering hard-coding the Z table as my last choice because i have to make some approximations in that case.)","title":"Percentile to Z-score in PHP or JAVA","body":"<p>I am searching for a way to calculate Z score(z) for a given percentile(p). I found <a href=\"http://www.fourmilab.ch/rpkp/experiments/analysis/zCalc.html\" rel=\"nofollow\"> this </a> site doing such a calculation. They have given a formula for calculating P(Z&lt;=z). </p>\n\n<p><a href=\"http://www.fourmilab.ch/rpkp/experiments/figures/cumnorm.png\" rel=\"nofollow\">equation</a> (sorry, could not post the image due to low repution)</p>\n\n<p>Now i have the value of P(Z&lt;=z) and i tried solving it to find out z, but it was really complex to solve for z.</p>\n\n<p>Is there any function in JAVA or PHP which can do this?? or is there any mathematical way in which we can solve for Z.\n(I am considering hard-coding the Z table as my last choice because i have to make some approximations in that case.)</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1677518277,"post_id":75583551,"comment_id":133349519,"body_markdown":"Can you share the error trace?","body":"Can you share the error trace?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":1,"creation_date":1677518551,"post_id":75583551,"comment_id":133349584,"body_markdown":"You need to provide [mcve]. From the information you provided it is not possible to suggest an answer.","body":"You need to provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. From the information you provided it is not possible to suggest an answer."},{"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"score":1,"creation_date":1677520605,"post_id":75583551,"comment_id":133350186,"body_markdown":"Why do you have semicolon in the end of the IF statement?","body":"Why do you have semicolon in the end of the IF statement?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1677530208,"post_id":75583551,"comment_id":133352582,"body_markdown":"_But code is not working_: At which line are you exactly stuck? Do you see any error?","body":"<i>But code is not working</i>: At which line are you exactly stuck? Do you see any error?"},{"owner":{"account_id":27892982,"reputation":11,"user_id":21298942,"display_name":"Krrish"},"score":0,"creation_date":1677664954,"post_id":75583551,"comment_id":133380954,"body_markdown":"no any error in this code","body":"no any error in this code"},{"owner":{"account_id":27892982,"reputation":11,"user_id":21298942,"display_name":"Krrish"},"score":0,"creation_date":1677664992,"post_id":75583551,"comment_id":133380965,"body_markdown":"removed the semicolon but still not working.","body":"removed the semicolon but still not working."}],"owner":{"account_id":27892982,"reputation":11,"user_id":21298942,"display_name":"Krrish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677518817,"creation_date":1677518143,"question_id":75583551,"body_markdown":"\tList&lt;WebElement&gt; options =driver.findElements(By.xpath(&quot;//header/div/div&quot;));\r\n\t\tfor(WebElement option :options)\r\n\t\t{\r\n\t\t\tSystem.out.println(option.getText());\r\n\t\t\tThread.sleep(2000);\r\n\t\t\t//if(((WebElement) option).getText().equalsIgnoreCase(&quot;Software course&quot;))\r\n\t\t\tif( option.getText().contentEquals(&quot;Software Testing Course in Bangla&quot;));\r\n\t\t\t{\r\n\t\t\t\t//driver.findElement(By.xpath(&quot;(//p[@class=&#39;mb-0 search-item-title&#39;])[3]&quot;)).click();\r\n\t\t\t\toption.click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\nI am trying to click on particular option. But code is not working.","title":"Selected option is not getting click by selenium code","body":"<pre><code>List&lt;WebElement&gt; options =driver.findElements(By.xpath(&quot;//header/div/div&quot;));\n    for(WebElement option :options)\n    {\n        System.out.println(option.getText());\n        Thread.sleep(2000);\n        //if(((WebElement) option).getText().equalsIgnoreCase(&quot;Software course&quot;))\n        if( option.getText().contentEquals(&quot;Software Testing Course in Bangla&quot;));\n        {\n            //driver.findElement(By.xpath(&quot;(//p[@class='mb-0 search-item-title'])[3]&quot;)).click();\n            option.click();\n            break;\n        }\n</code></pre>\n<p>I am trying to click on particular option. But code is not working.</p>\n"},{"tags":["java","hibernate","jpa","spring-boot","flyway"],"comments":[{"owner":{"account_id":389224,"reputation":1742,"user_id":748560,"display_name":"JamieB"},"score":0,"creation_date":1459929518,"post_id":35984401,"comment_id":60503261,"body_markdown":"Some relevant discussions here; http://stackoverflow.com/questions/18536256/combine-hibernates-automatic-schema-creation-and-database-versioning","body":"Some relevant discussions here; <a href=\"http://stackoverflow.com/questions/18536256/combine-hibernates-automatic-schema-creation-and-database-versioning\" title=\"combine hibernates automatic schema creation and database versioning\">stackoverflow.com/questions/18536256/&hellip;</a>"},{"owner":{"account_id":119737,"reputation":29617,"user_id":311660,"accept_rate":92,"display_name":"ocodo"},"score":0,"creation_date":1459929913,"post_id":35984401,"comment_id":60503503,"body_markdown":"Thank you @JamieB, we ended up just dealing with it as a chore.  Crafting the SQL for each migration by hand.  Still evaluation between flyway and maybe Liquibase.","body":"Thank you @JamieB, we ended up just dealing with it as a chore.  Crafting the SQL for each migration by hand.  Still evaluation between flyway and maybe Liquibase."}],"answers":[{"tags":[],"owner":{"account_id":7960065,"reputation":281,"user_id":6008156,"display_name":"danzdoran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1541527793,"creation_date":1541527793,"answer_id":53177587,"question_id":35984401,"body_markdown":"Flyway doesn&#39;t have built-in support for diff, I use liquidbase within a maven spring boot project and changelogs can be created from JPA/hibernate changes by using:\r\n\r\n    mvn liquibase:diff\r\n\r\nAll of the options for liquibase diff are located here: \r\nhttp://www.liquibase.org/documentation/maven/maven_diff.html","title":"Automatic generation of migration SQL for Flyway","body":"<p>Flyway doesn't have built-in support for diff, I use liquidbase within a maven spring boot project and changelogs can be created from JPA/hibernate changes by using:</p>\n\n<pre><code>mvn liquibase:diff\n</code></pre>\n\n<p>All of the options for liquibase diff are located here: \n<a href=\"http://www.liquibase.org/documentation/maven/maven_diff.html\" rel=\"noreferrer\">http://www.liquibase.org/documentation/maven/maven_diff.html</a></p>\n"},{"tags":[],"owner":{"account_id":15676706,"reputation":535,"user_id":12273952,"display_name":"Andrey Oganesyan"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1623408455,"creation_date":1623408455,"answer_id":67935661,"question_id":35984401,"body_markdown":"If your IDE of choice is IntelliJ IDEA, I&#39;d recommend using the [JPA Buddy][1] plugin to do this. It can generate Flyway migrations by comparing your Java model to the target DB.\r\n\r\nYou can use it to keep your evolving model and your SQL scripts in sync.\r\nAlso, it can create the init script if your DB is empty.\r\n\r\nOnce you have it installed and have Flyway as your Maven/Gradle dependency, you can generate a migration like this: \r\n[![Generating Flyway migration with JPA Buddy][2]][2]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/15075-jpa-buddy\r\n  [2]: https://i.stack.imgur.com/suJ2m.gif","title":"Automatic generation of migration SQL for Flyway","body":"<p>If your IDE of choice is IntelliJ IDEA, I'd recommend using the <a href=\"https://plugins.jetbrains.com/plugin/15075-jpa-buddy\" rel=\"noreferrer\">JPA Buddy</a> plugin to do this. It can generate Flyway migrations by comparing your Java model to the target DB.</p>\n<p>You can use it to keep your evolving model and your SQL scripts in sync.\nAlso, it can create the init script if your DB is empty.</p>\n<p>Once you have it installed and have Flyway as your Maven/Gradle dependency, you can generate a migration like this:\n<a href=\"https://i.stack.imgur.com/suJ2m.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/suJ2m.gif\" alt=\"Generating Flyway migration with JPA Buddy\" /></a></p>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664201812,"creation_date":1664200195,"answer_id":73855162,"question_id":35984401,"body_markdown":"If you want to generate the update SQL automatically, you can ask Hibernate to do so; just add the lines below to your Spring Boot configuration:\r\n\r\n```ini\r\nspring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\r\nspring.jpa.properties.javax.persistence.schema-generation.scripts.action=update\r\nspring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=update.sql\r\n```\r\n\r\nWhen you execute the application, this will generate a file named `update.sql` on the root of your project. Now, you can just copy and paste them into your Flyway migration.\r\n\r\nThis was adapted from this other answer: https://stackoverflow.com/a/36966419/679240 ; it is basically the same logic, except that one wants to generate a database creation script, while I needed an update script, instead.\r\n\r\nBTW, if you want to replace the names of the foreign keys on the script with more readable ones, you could use this regex: `^(alter table .*?)(\\w+)(\\s+add constraint )\\w+( foreign key \\()(.*?)(\\).*)` with this replacement: `$1$2$3fk_$2__$5$4$5$6`; this will change the names of the FKs in the script to `fk_name_of_the_table__name_of_the_field`.","title":"Automatic generation of migration SQL for Flyway","body":"<p>If you want to generate the update SQL automatically, you can ask Hibernate to do so; just add the lines below to your Spring Boot configuration:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.jpa.properties.javax.persistence.schema-generation.create-source=metadata\nspring.jpa.properties.javax.persistence.schema-generation.scripts.action=update\nspring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=update.sql\n</code></pre>\n<p>When you execute the application, this will generate a file named <code>update.sql</code> on the root of your project. Now, you can just copy and paste them into your Flyway migration.</p>\n<p>This was adapted from this other answer: <a href=\"https://stackoverflow.com/a/36966419/679240\">https://stackoverflow.com/a/36966419/679240</a> ; it is basically the same logic, except that one wants to generate a database creation script, while I needed an update script, instead.</p>\n<p>BTW, if you want to replace the names of the foreign keys on the script with more readable ones, you could use this regex: <code>^(alter table .*?)(\\w+)(\\s+add constraint )\\w+( foreign key \\()(.*?)(\\).*)</code> with this replacement: <code>$1$2$3fk_$2__$5$4$5$6</code>; this will change the names of the FKs in the script to <code>fk_name_of_the_table__name_of_the_field</code>.</p>\n"}],"owner":{"account_id":119737,"reputation":29617,"user_id":311660,"accept_rate":92,"display_name":"ocodo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14549,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":53177587,"answer_count":3,"score":27,"last_activity_date":1677518627,"creation_date":1457949574,"question_id":35984401,"body_markdown":"Is it possible for new Flyway migrations to be generated by JPA/Hibernate&#39;s automatic schema generation when a new model / field etc. are added via Java code.\r\n\r\nIt would be useful to capture the auto-generated SQL and save it directly to a new Flyway migration, for review / editing / committing to a project repository.\r\n\r\nThank you in advance for any assistance or enlightenment you can offer.","title":"Automatic generation of migration SQL for Flyway","body":"<p>Is it possible for new Flyway migrations to be generated by JPA/Hibernate's automatic schema generation when a new model / field etc. are added via Java code.</p>\n\n<p>It would be useful to capture the auto-generated SQL and save it directly to a new Flyway migration, for review / editing / committing to a project repository.</p>\n\n<p>Thank you in advance for any assistance or enlightenment you can offer.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"owner":{"account_id":96971,"reputation":1709,"user_id":263306,"accept_rate":46,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677518488,"creation_date":1677518488,"question_id":75583623,"body_markdown":"Given a handle to a kafka consumer object, is there anyway to check if a LeaveGroup message has been sent due to poll timeout?\r\n\r\nI&#39;d like to check this in a kubernetes health check.","title":"Detect LeaveGroup sent by kafka consumer","body":"<p>Given a handle to a kafka consumer object, is there anyway to check if a LeaveGroup message has been sent due to poll timeout?</p>\n<p>I'd like to check this in a kubernetes health check.</p>\n"},{"tags":["java","debugging","jboss","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1265233760,"creation_date":1265233760,"answer_id":2195731,"question_id":2195720,"body_markdown":"&gt; Some CPU intensive routines get dramatically slower when run through a debugger. Why is this?\r\n\r\nBecause the JITter won&#39;t optimize code as much (often, not at all) when debugging is enabled.","title":"Why does Java code slow down in debugger?","body":"<blockquote>\n  <p>Some CPU intensive routines get dramatically slower when run through a debugger. Why is this?</p>\n</blockquote>\n\n<p>Because the JITter won't optimize code as much (often, not at all) when debugging is enabled.</p>\n"},{"tags":[],"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265234603,"creation_date":1265234603,"answer_id":2195825,"question_id":2195720,"body_markdown":"It also depends on the &quot;breakpoints-style&quot;. E.g. having watchpoints on variables or putting breakpoints on interface level (debugger will stop on all method-implementations when they&#39;re executed) often dramatically slows down the process time.","title":"Why does Java code slow down in debugger?","body":"<p>It also depends on the \"breakpoints-style\". E.g. having watchpoints on variables or putting breakpoints on interface level (debugger will stop on all method-implementations when they're executed) often dramatically slows down the process time.</p>\n"},{"tags":[],"owner":{"account_id":88224,"reputation":1101,"user_id":244168,"display_name":"Abboq"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1265293394,"creation_date":1265234740,"answer_id":2195838,"question_id":2195720,"body_markdown":"When debugging, in addition to running your application, you are also running a debugger.\r\n\r\nThe code is compiled in **debug mode** with metadata symbols about local variables and other source-level information.  The debugger reads to know which line of source code corresponds with the current instruction.  The process is called **symbolic debugging**.  The stored symbols increase code size and interpreting them increases execution time.\r\n\r\nSome debuggers actually interpret the code on the fly, which is almost always a major performance hit.\r\n\r\nMore information about Java&#39;s debug compilation mode, which is performed by `javac` and **includes debug information in class files**: [Java Language Compiler Options][1].\r\nFor example: `-g` generates all debugging information, including local variables.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.3/docs/tooldocs/win32/javac.html#options","title":"Why does Java code slow down in debugger?","body":"<p>When debugging, in addition to running your application, you are also running a debugger.</p>\n\n<p>The code is compiled in <strong>debug mode</strong> with metadata symbols about local variables and other source-level information.  The debugger reads to know which line of source code corresponds with the current instruction.  The process is called <strong>symbolic debugging</strong>.  The stored symbols increase code size and interpreting them increases execution time.</p>\n\n<p>Some debuggers actually interpret the code on the fly, which is almost always a major performance hit.</p>\n\n<p>More information about Java's debug compilation mode, which is performed by <code>javac</code> and <strong>includes debug information in class files</strong>: <a href=\"http://java.sun.com/j2se/1.3/docs/tooldocs/win32/javac.html#options\" rel=\"nofollow noreferrer\">Java Language Compiler Options</a>.\nFor example: <code>-g</code> generates all debugging information, including local variables.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265234814,"creation_date":1265234814,"answer_id":2195844,"question_id":2195720,"body_markdown":"Top Tip: *in IDEA you can use ALT+F9 to run to where you have the cursor placed rather than set an extra breakpoint.*\r\n\r\nI have found anecdotally that debugging becomes *very* slow in IDEA if you are walking through code where there is a lot of data accessible from the stack. Don&#39;t forget, IDEA collects this data (anything currently in the lexical scope) and presents it up to you as a tree of objects to browse whether you are &quot;watching&quot; or not and does this at **every subsequent step** (maybe it re-creates the tree each time?).\r\n\r\nThis is especially apparent when, for example, there is a large collection as an instance variable of the &quot;current&quot; object.","title":"Why does Java code slow down in debugger?","body":"<p>Top Tip: <em>in IDEA you can use ALT+F9 to run to where you have the cursor placed rather than set an extra breakpoint.</em></p>\n\n<p>I have found anecdotally that debugging becomes <em>very</em> slow in IDEA if you are walking through code where there is a lot of data accessible from the stack. Don't forget, IDEA collects this data (anything currently in the lexical scope) and presents it up to you as a tree of objects to browse whether you are \"watching\" or not and does this at <strong>every subsequent step</strong> (maybe it re-creates the tree each time?).</p>\n\n<p>This is especially apparent when, for example, there is a large collection as an instance variable of the \"current\" object.</p>\n"},{"tags":[],"owner":{"account_id":9780,"reputation":25221,"user_id":18196,"accept_rate":95,"display_name":"Frank V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429554127,"creation_date":1265234819,"answer_id":2195846,"question_id":2195720,"body_markdown":"You do need to consider that another program -- the debugger -- is *hooked* into your program and is watching it for things like exceptions. It&#39;s also monitoring the current line in order to react to breakpoints or user requested interruptions (like a pause request or watch condition). \r\n\r\n","title":"Why does Java code slow down in debugger?","body":"<p>You do need to consider that another program -- the debugger -- is <em>hooked</em> into your program and is watching it for things like exceptions. It's also monitoring the current line in order to react to breakpoints or user requested interruptions (like a pause request or watch condition). </p>\n"},{"tags":[],"owner":{"account_id":22589,"reputation":7074,"user_id":55870,"accept_rate":88,"display_name":"Dan Berindei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265235724,"creation_date":1265235724,"answer_id":2195916,"question_id":2195720,"body_markdown":"Debugging the optimized code produced by the JIT would be very hard, because there isn&#39;t a direct relationship between a range of native instructions and a line of Java code like there is a relationship between a range of Java bytecode and a line of Java code.\r\n\r\nSo breaking into a function in the debugger forces the JVM to deoptimize the method you are stepping through. Hotspot doesn&#39;t generate native code at all and just interprets the bytecode of the method.\r\n\r\nPrior to JDK 1.4.1 starting with debugging enabled forced the JVM to only use the interpreter: http://java.sun.com/products/hotspot/docs/whitepaper/Java_Hotspot_v1.4.1/Java_HSpot_WP_v1.4.1_1002_3.html#full","title":"Why does Java code slow down in debugger?","body":"<p>Debugging the optimized code produced by the JIT would be very hard, because there isn't a direct relationship between a range of native instructions and a line of Java code like there is a relationship between a range of Java bytecode and a line of Java code.</p>\n\n<p>So breaking into a function in the debugger forces the JVM to deoptimize the method you are stepping through. Hotspot doesn't generate native code at all and just interprets the bytecode of the method.</p>\n\n<p>Prior to JDK 1.4.1 starting with debugging enabled forced the JVM to only use the interpreter: <a href=\"http://java.sun.com/products/hotspot/docs/whitepaper/Java_Hotspot_v1.4.1/Java_HSpot_WP_v1.4.1_1002_3.html#full\" rel=\"nofollow noreferrer\">http://java.sun.com/products/hotspot/docs/whitepaper/Java_Hotspot_v1.4.1/Java_HSpot_WP_v1.4.1_1002_3.html#full</a></p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14184,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2195731,"answer_count":6,"score":23,"last_activity_date":1677518308,"creation_date":1265233672,"question_id":2195720,"body_markdown":"Some CPU intensive routines get dramatically slower when run through a debugger.  Why is this?  \r\n\r\nCurrently I&#39;m just using IntelliJ to step through code running in JBoss.  When I start JBoss, I use these options: \r\n\r\n    set JAVA_OPTS=-Xms512m -Xmx1024m -XX:MaxPermSize=256m -Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=n %JAVA_OPTS%\r\n\r\nIs there a way to speed up the execution?  Or to speed up certain method executions that I don&#39;t need to step through?\r\n\r\n----\r\n\r\n**Update**: Seems if I don&#39;t step over/into the CPU intensive routines (ie: Just run til a breakpoint set right after the routine), then the execution time is as if not in a debugger.\r\n","title":"Why does Java code slow down in debugger?","body":"<p>Some CPU intensive routines get dramatically slower when run through a debugger.  Why is this?  </p>\n\n<p>Currently I'm just using IntelliJ to step through code running in JBoss.  When I start JBoss, I use these options: </p>\n\n<pre><code>set JAVA_OPTS=-Xms512m -Xmx1024m -XX:MaxPermSize=256m -Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=n %JAVA_OPTS%\n</code></pre>\n\n<p>Is there a way to speed up the execution?  Or to speed up certain method executions that I don't need to step through?</p>\n\n<hr>\n\n<p><strong>Update</strong>: Seems if I don't step over/into the CPU intensive routines (ie: Just run til a breakpoint set right after the routine), then the execution time is as if not in a debugger.</p>\n"},{"tags":["javascript","java","json"],"owner":{"account_id":27892945,"reputation":1,"user_id":21298917,"display_name":"rolando garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677518207,"creation_date":1677517897,"question_id":75583522,"body_markdown":"I have a field tester, and that device use a payload to read the data it sends but my payload have an error with the distance and i cant get the real distance in the moment and I get a default 250 maxdistance and mixdistance ,but the others things work very well \r\n\r\nthis is the code\r\n\r\n\r\n```\r\nfunction distance(lat1, lon1, lat2, lon2) {\r\n\tif ((lat1 == lat2) &amp;&amp; (lon1 == lon2)) {\r\n\t\treturn 0;\r\n\t}\r\n\telse {\r\n\t\tvar radlat1 = Math.PI * lat1 / 180;\r\n\t\tvar radlat2 = Math.PI * lat2 / 180;\r\n\t\tvar theta = lon1 - lon2;\r\n\t\tvar radtheta = Math.PI * theta / 180;\r\n\t\tvar dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\r\n\t\tif (dist &gt; 1) {\r\n\t\t\tdist = 1;\r\n\t\t}\r\n\t\tdist = Math.acos(dist);\r\n\t\tdist = dist * 180 / Math.PI;\r\n\t\tdist = dist * 60 * 1.1515;\r\n\t\tdist = dist * 1.609344;\r\n\t\treturn dist;\r\n\t}\r\n}\r\n\r\nfunction Decoder(bytes, fPort) {\r\n\tvar decoded = {};\r\n\t// avoid sending Downlink ACK to integration (Cargo)\r\n\tif (fPort === 1) {\r\n\t\tvar lonSign = (bytes[0] &gt;&gt; 7) &amp; 0x01 ? -1 : 1;\r\n\t\tvar latSign = (bytes[0] &gt;&gt; 6) &amp; 0x01 ? -1 : 1;\r\n\r\n\t\tvar encLat = ((bytes[0] &amp; 0x3f) &lt;&lt; 17) +\r\n\t\t\t(bytes[1] &lt;&lt; 9) +\r\n\t\t\t(bytes[2] &lt;&lt; 1) +\r\n\t\t\t(bytes[3] &gt;&gt; 7);\r\n\r\n\t\tvar encLon = ((bytes[3] &amp; 0x7f) &lt;&lt; 16) +\r\n\t\t\t(bytes[4] &lt;&lt; 8) +\r\n\t\t\tbytes[5];\r\n\r\n\t\tvar hdop = bytes[8] / 10;\r\n\t\tvar sats = bytes[9];\r\n\r\n\t\tvar maxHdop = 2;\r\n\t\tvar minSats = 5;\r\n\r\n\t\tif ((hdop &lt; maxHdop) &amp;&amp; (sats &gt;= minSats)) {\r\n\t\t\t// Send only acceptable quality of position to mappers\r\n\t\t\tdecoded.latitude = latSign * (encLat * 108 + 53) / 10000000;\r\n\t\t\tdecoded.longitude = lonSign * (encLon * 215 + 107) / 10000000;\r\n\t\t\tdecoded.altitude = ((bytes[6] &lt;&lt; 8) + bytes[7]) - 1000;\r\n\t\t\tdecoded.accuracy = (hdop * 5 + 5) / 10\r\n\t\t\tdecoded.hdop = hdop;\r\n\t\t\tdecoded.sats = sats;\r\n\t\t} else {\r\n\t\t\tdecoded.error = &quot;Need more GPS precision (hdop must be &lt;&quot; + maxHdop +\r\n\t\t\t\t&quot; &amp; sats must be &gt;= &quot; + minSats + &quot;) current hdop: &quot; + hdop + &quot; &amp; sats:&quot; + sats;\r\n\t\t}\r\n\t\t\r\n\t\t// \t\tdecoded.raw = rawPayload.uplink_message.rx_metadata[0].location;\r\n\t\tdecoded.num_gw = normalizedPayload.gateways.length;\r\n\t\tdecoded.minRSSI = 0;\r\n\t\tdecoded.maxRSSI = 0;\r\n\t\tdecoded.minSNR = 0;\r\n\t\tdecoded.maxSNR = 0;\r\n\t\tdecoded.minDistance = 0;\r\n\t\tdecoded.maxDistance = 0;\r\n\r\n\r\n\t\t\r\n\r\n\t\tvar gw_lat = {};\r\n\t\tvar gw_long = {};\r\n\r\n\t\tdecoded.num_gw = 0;\r\n\t\tfor (idx_tst = 0; idx_tst &lt; 10; idx_tst++)\r\n\t\t{\r\n\t\t\tif (typeof (normalizedPayload.gateways[idx_tst]) != &quot;undefined&quot;)\r\n\t\t\t{\r\n\t\t\t\tconsole.log(&quot;Found gateway with IDX &quot; + idx_tst);\r\n\t\t\t\tdecoded.num_gw += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (idx = 0; idx &lt; decoded.num_gw; idx++) {\r\n\t\t\tvar new_rssi = (!!normalizedPayload.gateways &amp;&amp; !!normalizedPayload.gateways[idx] &amp;&amp; normalizedPayload.gateways[idx].rssi) || 0;\r\n\t\t\tvar new_snr = (!!normalizedPayload.gateways &amp;&amp; !!normalizedPayload.gateways[idx] &amp;&amp; normalizedPayload.gateways[idx].snr) || 0;\r\n\t\t\tif ((new_rssi &lt; decoded.minRSSI) || (decoded.minRSSI == 0)) {\r\n\t\t\t\tdecoded.minRSSI = new_rssi;\r\n\t\t\t}\r\n\t\t\tif ((new_rssi &gt; decoded.maxRSSI) || (decoded.maxRSSI == 0)) {\r\n\t\t\t\tdecoded.maxRSSI = new_rssi;\r\n\t\t\t}\r\n\t\t\tif ((new_snr &lt; decoded.minSNR) || (decoded.minSNR == 0)) {\r\n\t\t\t\tdecoded.minSNR = new_snr;\r\n\t\t\t}\r\n\t\t\tif ((new_snr &gt; decoded.maxSNR) || (decoded.maxSNR == 0)) {\r\n\t\t\t\tdecoded.maxSNR = new_snr;\r\n\t\t\t}\r\n\r\n\t\t\t// var gw_lat = 0.0;\r\n\t\t\t// var gw_long = 0.0;\r\n\t\t\t\r\n\r\n\t\t\ttry {\r\n                \r\n                gw_lat[idx] = rawPayload.uplink_message.rx_metadata[idx].location.latitude;\r\n                gw_long[idx] = rawPayload.uplink_message.rx_metadata[idx].location.longitude;\r\n                \r\n                console.log(&quot;IDX &quot; + idx + &quot; lat &quot; + gw_lat[idx] + &quot; long &quot; + gw_long[idx]);\r\n                // decoded.gw_lat[idx] = gw_lat;\r\n                // decoded.gw_long[idx] = gw_long;\r\n                \r\n                // Calculate distance\r\n                var new_distance = distance(gw_lat[idx], gw_long[idx], decoded.latitude, decoded.longitude);\r\n                if ((new_distance &lt; decoded.minDistance) || (decoded.minDistance == 0)) {\r\n                    decoded.minDistance = new_distance * 1000;\r\n                }\r\n                if ((new_distance &gt; decoded.maxDistance) || (decoded.maxDistance == 0)) {\r\n                    decoded.maxDistance = new_distance * 1000;\r\n                }\r\n            } catch (e) {\r\n                console.log(&quot;Error fetching location. Probably gateway data missing.&quot;);\r\n            }\r\n\t\t}\r\n\r\n\t\r\n\r\n\t\tdecoded.maxMod = parseInt((decoded.maxDistance / 250), 10);\r\n\t\tdecoded.minMod = parseInt((decoded.minDistance / 250), 10);\r\n\t\tdecoded.maxDistance = parseInt((decoded.maxMod * 250), 10);\r\n\t\tdecoded.minDistance = parseInt((decoded.minMod * 250), 10);\r\n\t\tif (decoded.maxDistance &lt;= 1) {\r\n\t\t\tdecoded.maxDistance = parseInt(250, 10);\r\n\t\t}\r\n\t\tif (decoded.minDistance &lt;= 1) {\r\n\t\t\tdecoded.minDistance = parseInt(250, 10);\r\n\t\t}\r\n\t\treturn decoded;\r\n\t}\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/ldyD4.jpg)\r\n\r\n\r\nas you see the image reflect everything less the distance\r\n\r\n\r\n\r\n\r\ni try to talk with the forum of the app , and payloads from internet and the manual but is not working","title":"code of datacake for the device rak10701-L","body":"<p>I have a field tester, and that device use a payload to read the data it sends but my payload have an error with the distance and i cant get the real distance in the moment and I get a default 250 maxdistance and mixdistance ,but the others things work very well</p>\n<p>this is the code</p>\n<pre><code>function distance(lat1, lon1, lat2, lon2) {\n    if ((lat1 == lat2) &amp;&amp; (lon1 == lon2)) {\n        return 0;\n    }\n    else {\n        var radlat1 = Math.PI * lat1 / 180;\n        var radlat2 = Math.PI * lat2 / 180;\n        var theta = lon1 - lon2;\n        var radtheta = Math.PI * theta / 180;\n        var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist &gt; 1) {\n            dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = dist * 180 / Math.PI;\n        dist = dist * 60 * 1.1515;\n        dist = dist * 1.609344;\n        return dist;\n    }\n}\n\nfunction Decoder(bytes, fPort) {\n    var decoded = {};\n    // avoid sending Downlink ACK to integration (Cargo)\n    if (fPort === 1) {\n        var lonSign = (bytes[0] &gt;&gt; 7) &amp; 0x01 ? -1 : 1;\n        var latSign = (bytes[0] &gt;&gt; 6) &amp; 0x01 ? -1 : 1;\n\n        var encLat = ((bytes[0] &amp; 0x3f) &lt;&lt; 17) +\n            (bytes[1] &lt;&lt; 9) +\n            (bytes[2] &lt;&lt; 1) +\n            (bytes[3] &gt;&gt; 7);\n\n        var encLon = ((bytes[3] &amp; 0x7f) &lt;&lt; 16) +\n            (bytes[4] &lt;&lt; 8) +\n            bytes[5];\n\n        var hdop = bytes[8] / 10;\n        var sats = bytes[9];\n\n        var maxHdop = 2;\n        var minSats = 5;\n\n        if ((hdop &lt; maxHdop) &amp;&amp; (sats &gt;= minSats)) {\n            // Send only acceptable quality of position to mappers\n            decoded.latitude = latSign * (encLat * 108 + 53) / 10000000;\n            decoded.longitude = lonSign * (encLon * 215 + 107) / 10000000;\n            decoded.altitude = ((bytes[6] &lt;&lt; 8) + bytes[7]) - 1000;\n            decoded.accuracy = (hdop * 5 + 5) / 10\n            decoded.hdop = hdop;\n            decoded.sats = sats;\n        } else {\n            decoded.error = &quot;Need more GPS precision (hdop must be &lt;&quot; + maxHdop +\n                &quot; &amp; sats must be &gt;= &quot; + minSats + &quot;) current hdop: &quot; + hdop + &quot; &amp; sats:&quot; + sats;\n        }\n        \n        //      decoded.raw = rawPayload.uplink_message.rx_metadata[0].location;\n        decoded.num_gw = normalizedPayload.gateways.length;\n        decoded.minRSSI = 0;\n        decoded.maxRSSI = 0;\n        decoded.minSNR = 0;\n        decoded.maxSNR = 0;\n        decoded.minDistance = 0;\n        decoded.maxDistance = 0;\n\n\n        \n\n        var gw_lat = {};\n        var gw_long = {};\n\n        decoded.num_gw = 0;\n        for (idx_tst = 0; idx_tst &lt; 10; idx_tst++)\n        {\n            if (typeof (normalizedPayload.gateways[idx_tst]) != &quot;undefined&quot;)\n            {\n                console.log(&quot;Found gateway with IDX &quot; + idx_tst);\n                decoded.num_gw += 1;\n            }\n        }\n\n        for (idx = 0; idx &lt; decoded.num_gw; idx++) {\n            var new_rssi = (!!normalizedPayload.gateways &amp;&amp; !!normalizedPayload.gateways[idx] &amp;&amp; normalizedPayload.gateways[idx].rssi) || 0;\n            var new_snr = (!!normalizedPayload.gateways &amp;&amp; !!normalizedPayload.gateways[idx] &amp;&amp; normalizedPayload.gateways[idx].snr) || 0;\n            if ((new_rssi &lt; decoded.minRSSI) || (decoded.minRSSI == 0)) {\n                decoded.minRSSI = new_rssi;\n            }\n            if ((new_rssi &gt; decoded.maxRSSI) || (decoded.maxRSSI == 0)) {\n                decoded.maxRSSI = new_rssi;\n            }\n            if ((new_snr &lt; decoded.minSNR) || (decoded.minSNR == 0)) {\n                decoded.minSNR = new_snr;\n            }\n            if ((new_snr &gt; decoded.maxSNR) || (decoded.maxSNR == 0)) {\n                decoded.maxSNR = new_snr;\n            }\n\n            // var gw_lat = 0.0;\n            // var gw_long = 0.0;\n            \n\n            try {\n                \n                gw_lat[idx] = rawPayload.uplink_message.rx_metadata[idx].location.latitude;\n                gw_long[idx] = rawPayload.uplink_message.rx_metadata[idx].location.longitude;\n                \n                console.log(&quot;IDX &quot; + idx + &quot; lat &quot; + gw_lat[idx] + &quot; long &quot; + gw_long[idx]);\n                // decoded.gw_lat[idx] = gw_lat;\n                // decoded.gw_long[idx] = gw_long;\n                \n                // Calculate distance\n                var new_distance = distance(gw_lat[idx], gw_long[idx], decoded.latitude, decoded.longitude);\n                if ((new_distance &lt; decoded.minDistance) || (decoded.minDistance == 0)) {\n                    decoded.minDistance = new_distance * 1000;\n                }\n                if ((new_distance &gt; decoded.maxDistance) || (decoded.maxDistance == 0)) {\n                    decoded.maxDistance = new_distance * 1000;\n                }\n            } catch (e) {\n                console.log(&quot;Error fetching location. Probably gateway data missing.&quot;);\n            }\n        }\n\n    \n\n        decoded.maxMod = parseInt((decoded.maxDistance / 250), 10);\n        decoded.minMod = parseInt((decoded.minDistance / 250), 10);\n        decoded.maxDistance = parseInt((decoded.maxMod * 250), 10);\n        decoded.minDistance = parseInt((decoded.minMod * 250), 10);\n        if (decoded.maxDistance &lt;= 1) {\n            decoded.maxDistance = parseInt(250, 10);\n        }\n        if (decoded.minDistance &lt;= 1) {\n            decoded.minDistance = parseInt(250, 10);\n        }\n        return decoded;\n    }\n\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ldyD4.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>as you see the image reflect everything less the distance</p>\n<p>i try to talk with the forum of the app , and payloads from internet and the manual but is not working</p>\n"},{"tags":["java","apache-poi","jsoup","spire.doc"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1677537745,"post_id":75583519,"comment_id":133354170,"body_markdown":"&quot;So I have a program that can create a docx file...&quot; So, make a copy of that program and modify it to create an HTML file.","body":"&quot;So I have a program that can create a docx file...&quot; So, make a copy of that program and modify it to create an HTML file."},{"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"score":0,"creation_date":1677575856,"post_id":75583519,"comment_id":133360453,"body_markdown":"I dont wan&#39;t to just create a html file. But I want to be able to read a docx file and from there convert it to a html file. Cause if I copied the other program I wouldn&#39;t really convert anything but rather just create the html file.","body":"I dont wan&#39;t to just create a html file. But I want to be able to read a docx file and from there convert it to a html file. Cause if I copied the other program I wouldn&#39;t really convert anything but rather just create the html file."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1677581976,"post_id":75583519,"comment_id":133362206,"body_markdown":"Did you try with Apache Tika? Tika will output `&lt;h1&gt;` etc tags if the right styles were set in Word","body":"Did you try with Apache Tika? Tika will output <code>&lt;h1&gt;</code> etc tags if the right styles were set in Word"}],"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677517879,"creation_date":1677517879,"question_id":75583519,"body_markdown":"So I have a program that can create a docx file and now I want to implement a code that takes the docx file and converts it into html. \r\n\r\nI have somewhat made it functional but the problem I&#39;m having is that the converter does not detect the headers/title or a list. I&#39;ve tried to make it detect headers but the if condition is never met and I&#39;m not sure why.\r\n\r\nSo this is our input where the first C++ is supposed to be the heading:\r\n```\r\nC++ &lt;-- header\r\nC++ is a general purpose, high-level programming language developed by Sun Microsystems. \r\nThe C++ programming language was developed by a small team of engineers, \r\nknown as the Green Team, who initiated the language in 1991.\r\n- Chapter 1\r\n- Chapter 2\r\n- Chapter 3\r\n```\r\nand here is the converter code:\r\n\r\n```\r\npackage lab2.converter;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport org.apache.poi.xwpf.usermodel.*;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\n\r\npublic class HtmlConverter implements Converter{\r\n\r\n    @Override\r\n    public void convert() throws IOException {\r\n        try {\r\n            // 1. Read in the Word document using Apache POI\r\n            FileInputStream fis = new FileInputStream(&quot;output/Find&amp;Replace.docx&quot;);\r\n            XWPFDocument document = new XWPFDocument(fis);\r\n\r\n            // 2. Convert the document to HTML using jsoup\r\n            Document htmlDoc = new Document(&quot;&quot;);\r\n            Element html = htmlDoc.appendElement(&quot;html&quot;);\r\n            Element body = html.appendElement(&quot;body&quot;);\r\n\r\n            List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n            for (XWPFParagraph paragraph : paragraphs) {\r\n                Element p = body.appendElement(&quot;p&quot;);\r\n                String text = paragraph.getText();\r\n\r\n                //if condition to detect header and list\r\n                //not implemented\r\n\r\n                // Add the text content to the paragraph\r\n                p.appendText(text);\r\n            }\r\n\r\n            // 3. Write the HTML to a file\r\n            try (PrintWriter out = new PrintWriter(&quot;output/Find&amp;Replace.html&quot;)) {\r\n                out.println(htmlDoc.html());\r\n            }\r\n\r\n            System.out.println(&quot;Conversion complete.&quot;);\r\n            document.close();\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error converting Word document to HTML: &quot; + e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nAfter running the docx file into the converter we get this:\r\n\r\n```\r\n&lt;html&gt;\r\n &lt;body&gt;\r\n  &lt;p&gt;Evaluation Warning: The document was created with Spire.Doc for JAVA.&lt;/p&gt;\r\n  &lt;p&gt;Evaluation Warning: The document was created with Spire.Doc for C++.&lt;/p&gt;\r\n  &lt;p&gt;C++&lt;/p&gt;\r\n  &lt;p&gt;C++ is a general purpose, high-level programming language developed by Sun Microsystems. The C++ programming language was developed by a small team of engineers, known as the Green Team, who initiated the language in 1991.&lt;/p&gt;\r\n  &lt;p&gt;Chapter 1&lt;/p&gt;\r\n  &lt;p&gt;Chapter 2&lt;/p&gt;\r\n  &lt;p&gt;Chapter 3&lt;/p&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\n\r\nLike I said earlier I&#39;ve tried conditionts to be met if they detect a header and lists but the problem I&#39;m having is that I&#39;m not sure how to detect a header with the libraries I&#39;m using.\r\n\r\nThe libraries im using to make the docx file uses the com.spire.doc library.\r\n\r\nThe converter is using org.apache.poi and org.jsoup.nodes. So I&#39;m not sure if It&#39;s that i can&#39;t mix libraries or the fact that I don&#39;t have the knowledge to find a header and lists in the docx file.","title":"how to convert a docx into html","body":"<p>So I have a program that can create a docx file and now I want to implement a code that takes the docx file and converts it into html.</p>\n<p>I have somewhat made it functional but the problem I'm having is that the converter does not detect the headers/title or a list. I've tried to make it detect headers but the if condition is never met and I'm not sure why.</p>\n<p>So this is our input where the first C++ is supposed to be the heading:</p>\n<pre><code>C++ &lt;-- header\nC++ is a general purpose, high-level programming language developed by Sun Microsystems. \nThe C++ programming language was developed by a small team of engineers, \nknown as the Green Team, who initiated the language in 1991.\n- Chapter 1\n- Chapter 2\n- Chapter 3\n</code></pre>\n<p>and here is the converter code:</p>\n<pre><code>package lab2.converter;\n\nimport java.io.*;\nimport java.util.*;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\n\npublic class HtmlConverter implements Converter{\n\n    @Override\n    public void convert() throws IOException {\n        try {\n            // 1. Read in the Word document using Apache POI\n            FileInputStream fis = new FileInputStream(&quot;output/Find&amp;Replace.docx&quot;);\n            XWPFDocument document = new XWPFDocument(fis);\n\n            // 2. Convert the document to HTML using jsoup\n            Document htmlDoc = new Document(&quot;&quot;);\n            Element html = htmlDoc.appendElement(&quot;html&quot;);\n            Element body = html.appendElement(&quot;body&quot;);\n\n            List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n            for (XWPFParagraph paragraph : paragraphs) {\n                Element p = body.appendElement(&quot;p&quot;);\n                String text = paragraph.getText();\n\n                //if condition to detect header and list\n                //not implemented\n\n                // Add the text content to the paragraph\n                p.appendText(text);\n            }\n\n            // 3. Write the HTML to a file\n            try (PrintWriter out = new PrintWriter(&quot;output/Find&amp;Replace.html&quot;)) {\n                out.println(htmlDoc.html());\n            }\n\n            System.out.println(&quot;Conversion complete.&quot;);\n            document.close();\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error converting Word document to HTML: &quot; + e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n<p>After running the docx file into the converter we get this:</p>\n<pre><code>&lt;html&gt;\n &lt;body&gt;\n  &lt;p&gt;Evaluation Warning: The document was created with Spire.Doc for JAVA.&lt;/p&gt;\n  &lt;p&gt;Evaluation Warning: The document was created with Spire.Doc for C++.&lt;/p&gt;\n  &lt;p&gt;C++&lt;/p&gt;\n  &lt;p&gt;C++ is a general purpose, high-level programming language developed by Sun Microsystems. The C++ programming language was developed by a small team of engineers, known as the Green Team, who initiated the language in 1991.&lt;/p&gt;\n  &lt;p&gt;Chapter 1&lt;/p&gt;\n  &lt;p&gt;Chapter 2&lt;/p&gt;\n  &lt;p&gt;Chapter 3&lt;/p&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Like I said earlier I've tried conditionts to be met if they detect a header and lists but the problem I'm having is that I'm not sure how to detect a header with the libraries I'm using.</p>\n<p>The libraries im using to make the docx file uses the com.spire.doc library.</p>\n<p>The converter is using org.apache.poi and org.jsoup.nodes. So I'm not sure if It's that i can't mix libraries or the fact that I don't have the knowledge to find a header and lists in the docx file.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1677511217,"post_id":75582282,"comment_id":133347055,"body_markdown":"You set the branch information on `ac`, not `s` or `fd`. They are completely separate instances, you need to set the branch information on whichever ones you want to call `displayInfo` on. (BTW, don&#39;t call a method which sets things on an account &quot;get&quot; something).","body":"You set the branch information on <code>ac</code>, not <code>s</code> or <code>fd</code>. They are completely separate instances, you need to set the branch information on whichever ones you want to call <code>displayInfo</code> on. (BTW, don&#39;t call a method which sets things on an account &quot;get&quot; something)."}],"answers":[{"tags":[],"owner":{"account_id":27809367,"reputation":616,"user_id":21232051,"display_name":"Raghu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677517840,"creation_date":1677517706,"answer_id":75583485,"question_id":75582282,"body_markdown":"First things first, you should always name your method as &quot;setXXX&quot; if all you are doing in the method is to set the values for instance variables. \r\n\r\nSo Set methods &quot;set&quot; values and Get methods &quot;get&quot;(return) instance variable values\r\n\r\nIn your code, you are creating two different objects, \r\n\r\n    Account ac = new Account();\r\n    ac.getCustInfo(n, nm, t, br);\r\n\r\nhere you are setting \r\n\r\n    Acno = n;\r\n    CustName = nm;\r\n    type = ty;\r\n    Branch = br;\r\n\r\nin object &quot;ac&quot;. \r\n\r\nThen you are creating a totally different Savings object \r\n\r\n    Savings s = new Savings();\r\n    s.getSavingsInfo(y, a);\r\n    s.calIntAmt();\r\n    s.displayInfo();\r\n\r\nwhere you are setting only the year, amount and interest. This object never calls the method which initializes Account, customer name, branch and type. That is why those values are null.\r\n\r\nThe clean way to do this is as follows, I have cleaned up your example\r\n\r\n    import java.util.Scanner;\r\n    \r\n    abstract class Account {\r\n        int accountNumber;\r\n        String customerName, accountType, branch;\r\n    \r\n        public Account(int accountNumber, String customerName, String accountType, String branch) {\r\n            this.accountNumber = accountNumber;\r\n            this.customerName = customerName;\r\n            this.accountType = accountType;\r\n            this.branch = branch;\r\n        }\r\n    \r\n        void displayAccountInfo() {\r\n            System.out.println(&quot;Account No: &quot; + accountNumber + &quot;\\nCustomer Name: &quot; + customerName + &quot;\\nAccount Type: &quot; + accountType\r\n                    + &quot;\\nBranch: &quot; + branch);\r\n        }\r\n    \r\n        abstract void calculateInterest();\r\n    }\r\n    \r\n    class Savings extends Account {\r\n        int year;\r\n        double amount, rate = 3.5, interest;\r\n    \r\n        public Savings(int accountNumber, String customerName, String accountType, String branch, int year, int amount) {\r\n            super(accountNumber, customerName, accountType, branch);\r\n            this.year = year;\r\n            this.amount = amount;\r\n    \r\n            calculateInterest();\r\n        }\r\n    \r\n        void calculateInterest() {\r\n            interest = (amount * rate * year) / 100;\r\n        }\r\n    \r\n        void displayAccountInfo() {\r\n            super.displayAccountInfo();\r\n            System.out.println(&quot;Interest: &quot; + interest);\r\n        }\r\n    }\r\n    \r\n    class FixedDeposit extends Account {\r\n        int year;\r\n        double amount, rate, interest;\r\n    \r\n        public FixedDeposit(int accountNumber, String customerName, String accountType, String branch, int year, int amount) {\r\n            super(accountNumber, customerName, accountType, branch);\r\n            this.year = year;\r\n            this.amount = amount;\r\n    \r\n            calculateInterest();\r\n        }\r\n    \r\n        void calculateInterest() {\r\n            if (year &lt;= 2) {\r\n                rate = 6.5;\r\n                interest = (amount * rate * year) / 100;\r\n            } else if (year &gt;= 2 &amp;&amp; year &lt;= 5) {\r\n                rate = 7.5;\r\n                interest = (amount * rate * year) / 100;\r\n            } else if (year &gt;= 5 &amp;&amp; year &lt;= 10) {\r\n                rate = 8.5;\r\n                interest = (amount * rate * year) / 100;\r\n            } else if (year &gt;= 10) {\r\n                rate = 9.0;\r\n                interest = (amount * rate * year) / 100;\r\n            } else {\r\n                System.out.println(&quot;Invalid Year&quot;);\r\n            }\r\n        }\r\n    \r\n        void displayAccountInfo() {\r\n            super.displayAccountInfo();\r\n            System.out.println(&quot;Interest: &quot; + interest);\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.print(&quot;Account Number: &quot;);\r\n            int accountNumber = sc.nextInt();\r\n    \r\n            System.out.print(&quot;Customer Name: &quot;);\r\n            String customerName = sc.next();\r\n    \r\n            System.out.print(&quot;Account Type: &quot;);\r\n            String accountType = sc.next();\r\n    \r\n            System.out.print(&quot;Branch Name: &quot;);\r\n            String branch = sc.next();\r\n    \r\n            System.out.print(&quot;Amount: &quot;);\r\n            int amount = sc.nextInt();\r\n    \r\n            System.out.print(&quot;Year: &quot;);\r\n            int year = sc.nextInt();\r\n    \r\n            Account account = null;\r\n    \r\n            if (accountType.equals(&quot;Saving&quot;)) {\r\n                account = new Savings(accountNumber, customerName, accountType, branch, year, amount);\r\n                account.displayAccountInfo();\r\n            } else if (accountType.equals(&quot;FixedDeposit&quot;)) {\r\n                account = new FixedDeposit(accountNumber, customerName, accountType, branch, year, amount);\r\n                account.displayAccountInfo();\r\n            } else {\r\n                System.out.println(&quot;Invalid Account Type&quot;);\r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\n\r\nIt is better to have Account class as abstract so that you can implement the calculateInterest in the sub classes.\r\n\r\nI think you need to read more about Java inheritance to grasp these concepts\r\n\r\nhttps://www.geeksforgeeks.org/inheritance-in-java/ ","title":"When i call Method of Parent Class Using Super.displayInfo Values are not printing","body":"<p>First things first, you should always name your method as &quot;setXXX&quot; if all you are doing in the method is to set the values for instance variables.</p>\n<p>So Set methods &quot;set&quot; values and Get methods &quot;get&quot;(return) instance variable values</p>\n<p>In your code, you are creating two different objects,</p>\n<pre><code>Account ac = new Account();\nac.getCustInfo(n, nm, t, br);\n</code></pre>\n<p>here you are setting</p>\n<pre><code>Acno = n;\nCustName = nm;\ntype = ty;\nBranch = br;\n</code></pre>\n<p>in object &quot;ac&quot;.</p>\n<p>Then you are creating a totally different Savings object</p>\n<pre><code>Savings s = new Savings();\ns.getSavingsInfo(y, a);\ns.calIntAmt();\ns.displayInfo();\n</code></pre>\n<p>where you are setting only the year, amount and interest. This object never calls the method which initializes Account, customer name, branch and type. That is why those values are null.</p>\n<p>The clean way to do this is as follows, I have cleaned up your example</p>\n<pre><code>import java.util.Scanner;\n\nabstract class Account {\n    int accountNumber;\n    String customerName, accountType, branch;\n\n    public Account(int accountNumber, String customerName, String accountType, String branch) {\n        this.accountNumber = accountNumber;\n        this.customerName = customerName;\n        this.accountType = accountType;\n        this.branch = branch;\n    }\n\n    void displayAccountInfo() {\n        System.out.println(&quot;Account No: &quot; + accountNumber + &quot;\\nCustomer Name: &quot; + customerName + &quot;\\nAccount Type: &quot; + accountType\n                + &quot;\\nBranch: &quot; + branch);\n    }\n\n    abstract void calculateInterest();\n}\n\nclass Savings extends Account {\n    int year;\n    double amount, rate = 3.5, interest;\n\n    public Savings(int accountNumber, String customerName, String accountType, String branch, int year, int amount) {\n        super(accountNumber, customerName, accountType, branch);\n        this.year = year;\n        this.amount = amount;\n\n        calculateInterest();\n    }\n\n    void calculateInterest() {\n        interest = (amount * rate * year) / 100;\n    }\n\n    void displayAccountInfo() {\n        super.displayAccountInfo();\n        System.out.println(&quot;Interest: &quot; + interest);\n    }\n}\n\nclass FixedDeposit extends Account {\n    int year;\n    double amount, rate, interest;\n\n    public FixedDeposit(int accountNumber, String customerName, String accountType, String branch, int year, int amount) {\n        super(accountNumber, customerName, accountType, branch);\n        this.year = year;\n        this.amount = amount;\n\n        calculateInterest();\n    }\n\n    void calculateInterest() {\n        if (year &lt;= 2) {\n            rate = 6.5;\n            interest = (amount * rate * year) / 100;\n        } else if (year &gt;= 2 &amp;&amp; year &lt;= 5) {\n            rate = 7.5;\n            interest = (amount * rate * year) / 100;\n        } else if (year &gt;= 5 &amp;&amp; year &lt;= 10) {\n            rate = 8.5;\n            interest = (amount * rate * year) / 100;\n        } else if (year &gt;= 10) {\n            rate = 9.0;\n            interest = (amount * rate * year) / 100;\n        } else {\n            System.out.println(&quot;Invalid Year&quot;);\n        }\n    }\n\n    void displayAccountInfo() {\n        super.displayAccountInfo();\n        System.out.println(&quot;Interest: &quot; + interest);\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(&quot;Account Number: &quot;);\n        int accountNumber = sc.nextInt();\n\n        System.out.print(&quot;Customer Name: &quot;);\n        String customerName = sc.next();\n\n        System.out.print(&quot;Account Type: &quot;);\n        String accountType = sc.next();\n\n        System.out.print(&quot;Branch Name: &quot;);\n        String branch = sc.next();\n\n        System.out.print(&quot;Amount: &quot;);\n        int amount = sc.nextInt();\n\n        System.out.print(&quot;Year: &quot;);\n        int year = sc.nextInt();\n\n        Account account = null;\n\n        if (accountType.equals(&quot;Saving&quot;)) {\n            account = new Savings(accountNumber, customerName, accountType, branch, year, amount);\n            account.displayAccountInfo();\n        } else if (accountType.equals(&quot;FixedDeposit&quot;)) {\n            account = new FixedDeposit(accountNumber, customerName, accountType, branch, year, amount);\n            account.displayAccountInfo();\n        } else {\n            System.out.println(&quot;Invalid Account Type&quot;);\n        }\n        sc.close();\n    }\n}\n</code></pre>\n<p>It is better to have Account class as abstract so that you can implement the calculateInterest in the sub classes.</p>\n<p>I think you need to read more about Java inheritance to grasp these concepts</p>\n<p><a href=\"https://www.geeksforgeeks.org/inheritance-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/inheritance-in-java/</a></p>\n"}],"owner":{"account_id":23844218,"reputation":39,"user_id":17848908,"display_name":"Dharmik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75583485,"answer_count":1,"score":0,"last_activity_date":1677517840,"creation_date":1677511030,"question_id":75582282,"body_markdown":"**Question**\r\n[![][2]][2]\r\n\r\n\\*Here is My Code \\*\r\n*I need to Override displayInfo Method. so i have used super.displayInfo and than printing interest calculated by the respective class savings or fixed deposit. the interest is getting printed but other details account no , customer name , type and branch name are getting printed as default values like 0 and null.\r\n*\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Account {\r\n\tint Acno;\r\n\tString CustName, type, Branch;\r\n\r\n\tvoid getCustInfo(int n, String nm, String ty, String br) {\r\n\t\tAcno = n;\r\n\t\tCustName = nm;\r\n\t\ttype = ty;\r\n\t\tBranch = br;\r\n\t}\r\n\r\n\tvoid displayInfo() {\r\n\t\tSystem.out.println(&quot;Account No: &quot; + Acno + &quot;\\nCustomer Name: &quot; + CustName + &quot;\\nAccount Type: &quot; + type\r\n\t\t\t\t+ &quot;\\nBranch: &quot; + Branch);\r\n\t}\r\n}\r\n\r\nclass Savings extends Account {\r\n\tint Year;\r\n\tdouble Amount, Rate = 3.5, Interest;\r\n\r\n\tvoid getSavingsInfo(int y, double am) {\r\n\t\tYear = y;\r\n\t\tAmount = am;\r\n\t}\r\n\r\n\tvoid calIntAmt() {\r\n\t\tInterest = (Amount * Rate * Year) / 100;\r\n\t}\r\n\r\n\tvoid displayInfo() {\r\n\t\tsuper.displayInfo();\r\n\t\tSystem.out.println(&quot;Interest: &quot; + Interest);\r\n\t}\r\n}\r\n\r\nclass FixedDeposit extends Account {\r\n\tint Year;\r\n\tdouble Amount, Rate, Interest;\r\n\r\n\tvoid getFDInfo(int y, double am) {\r\n\t\tYear = y;\r\n\t\tAmount = am;\r\n\t}\r\n\r\n\tvoid calIntAmt() {\r\n\t\tif (Year &lt;= 2) {\r\n\t\t\tRate = 6.5;\r\n\t\t\tInterest = (Amount * Rate * Year) / 100;\r\n\t\t} else if (Year &gt;= 2 &amp;&amp; Year &lt;= 5) {\r\n\t\t\tRate = 7.5;\r\n\t\t\tInterest = (Amount * Rate * Year) / 100;\r\n\t\t} else if (Year &gt;= 5 &amp;&amp; Year &lt;= 10) {\r\n\t\t\tRate = 8.5;\r\n\t\t\tInterest = (Amount * Rate * Year) / 100;\r\n\t\t} else if (Year &gt;= 10) {\r\n\t\t\tRate = 9.0;\r\n\t\t\tInterest = (Amount * Rate * Year) / 100;\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid Year&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tvoid displayInfo() {\r\n\t\tsuper.displayInfo();\r\n\t\tSystem.out.println(&quot;Interest&quot;);\r\n\t}\r\n}\r\n\r\npublic class Program {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\r\n\t\tSystem.out.print(&quot;Account Number: &quot;);\r\n\t\tint n = sc.nextInt();\r\n\r\n\t\tSystem.out.print(&quot;Customer Name: &quot;);\r\n\t\tString nm = sc.next();\r\n\r\n\t\tSystem.out.print(&quot;Account Type: &quot;);\r\n\t\tString t = sc.next();\r\n\r\n\t\tSystem.out.print(&quot;Btanch Name: &quot;);\r\n\t\tString br = sc.next();\r\n\r\n\t\tSystem.out.print(&quot;Amount: &quot;);\r\n\t\tint a = sc.nextInt();\r\n\r\n\t\tSystem.out.print(&quot;Year: &quot;);\r\n\t\tint y = sc.nextInt();\r\n\r\n\t\tAccount ac = new Account();\r\n\t\tac.getCustInfo(n, nm, t, br);\r\n\r\n\t\tif (t.equals(&quot;Saving&quot;)) {\r\n\t\t\tSavings s = new Savings();\r\n\t\t\ts.getSavingsInfo(y, a);\r\n\t\t\ts.calIntAmt();\r\n\t\t\ts.displayInfo();\r\n\t\t} else if (t.endsWith(&quot;FixedDeposit&quot;)) {\r\n\t\t\tFixedDeposit fd = new FixedDeposit();\r\n\t\t\tfd.getFDInfo(y, a);\r\n\t\t\tfd.calIntAmt();\r\n\t\t\tfd.displayInfo();\r\n\t\t}\r\n\t\tsc.close();\r\n\t}\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI was expecting result as\r\nAccount No: 1\r\nCustomer Name: abc\r\nAccount Type: Saving\r\nBranch: aaa\r\nInterest: 1750.0\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqwkk.png\r\n  [2]: https://i.stack.imgur.com/UxqCW.png","title":"When i call Method of Parent Class Using Super.displayInfo Values are not printing","body":"<p><strong>Question</strong>\n<a href=\"https://i.stack.imgur.com/UxqCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UxqCW.png\" alt=\"\" /></a></p>\n<p>*Here is My Code *\n*I need to Override displayInfo Method. so i have used super.displayInfo and than printing interest calculated by the respective class savings or fixed deposit. the interest is getting printed but other details account no , customer name , type and branch name are getting printed as default values like 0 and null.\n*</p>\n<pre><code>import java.util.*;\n\nclass Account {\n    int Acno;\n    String CustName, type, Branch;\n\n    void getCustInfo(int n, String nm, String ty, String br) {\n        Acno = n;\n        CustName = nm;\n        type = ty;\n        Branch = br;\n    }\n\n    void displayInfo() {\n        System.out.println(&quot;Account No: &quot; + Acno + &quot;\\nCustomer Name: &quot; + CustName + &quot;\\nAccount Type: &quot; + type\n                + &quot;\\nBranch: &quot; + Branch);\n    }\n}\n\nclass Savings extends Account {\n    int Year;\n    double Amount, Rate = 3.5, Interest;\n\n    void getSavingsInfo(int y, double am) {\n        Year = y;\n        Amount = am;\n    }\n\n    void calIntAmt() {\n        Interest = (Amount * Rate * Year) / 100;\n    }\n\n    void displayInfo() {\n        super.displayInfo();\n        System.out.println(&quot;Interest: &quot; + Interest);\n    }\n}\n\nclass FixedDeposit extends Account {\n    int Year;\n    double Amount, Rate, Interest;\n\n    void getFDInfo(int y, double am) {\n        Year = y;\n        Amount = am;\n    }\n\n    void calIntAmt() {\n        if (Year &lt;= 2) {\n            Rate = 6.5;\n            Interest = (Amount * Rate * Year) / 100;\n        } else if (Year &gt;= 2 &amp;&amp; Year &lt;= 5) {\n            Rate = 7.5;\n            Interest = (Amount * Rate * Year) / 100;\n        } else if (Year &gt;= 5 &amp;&amp; Year &lt;= 10) {\n            Rate = 8.5;\n            Interest = (Amount * Rate * Year) / 100;\n        } else if (Year &gt;= 10) {\n            Rate = 9.0;\n            Interest = (Amount * Rate * Year) / 100;\n        } else {\n            System.out.println(&quot;Invalid Year&quot;);\n        }\n    }\n\n    void displayInfo() {\n        super.displayInfo();\n        System.out.println(&quot;Interest&quot;);\n    }\n}\n\npublic class Program {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.print(&quot;Account Number: &quot;);\n        int n = sc.nextInt();\n\n        System.out.print(&quot;Customer Name: &quot;);\n        String nm = sc.next();\n\n        System.out.print(&quot;Account Type: &quot;);\n        String t = sc.next();\n\n        System.out.print(&quot;Btanch Name: &quot;);\n        String br = sc.next();\n\n        System.out.print(&quot;Amount: &quot;);\n        int a = sc.nextInt();\n\n        System.out.print(&quot;Year: &quot;);\n        int y = sc.nextInt();\n\n        Account ac = new Account();\n        ac.getCustInfo(n, nm, t, br);\n\n        if (t.equals(&quot;Saving&quot;)) {\n            Savings s = new Savings();\n            s.getSavingsInfo(y, a);\n            s.calIntAmt();\n            s.displayInfo();\n        } else if (t.endsWith(&quot;FixedDeposit&quot;)) {\n            FixedDeposit fd = new FixedDeposit();\n            fd.getFDInfo(y, a);\n            fd.calIntAmt();\n            fd.displayInfo();\n        }\n        sc.close();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lqwkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqwkk.png\" alt=\"enter image description here\" /></a></p>\n<p>I was expecting result as\nAccount No: 1\nCustomer Name: abc\nAccount Type: Saving\nBranch: aaa\nInterest: 1750.0</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1610462973,"post_id":65686175,"comment_id":116137062,"body_markdown":"You seem to be mixing JUnit 4 (`org.junit.*`) with JUnit 5 (`org.junit.jupiter.*`). For instance, the `@RunWith` annotation is for JUnit 4, but the `@SpringBootTest` annotation applies a JUnit 5 extension.","body":"You seem to be mixing JUnit 4 (<code>org.junit.*</code>) with JUnit 5 (<code>org.junit.jupiter.*</code>). For instance, the <code>@RunWith</code> annotation is for JUnit 4, but the <code>@SpringBootTest</code> annotation applies a JUnit 5 extension."}],"answers":[{"tags":[],"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1657631124,"creation_date":1614291375,"answer_id":66377278,"question_id":65686175,"body_markdown":"I have got the same issue with `org.junit.jupiter:junit-jupiter:5.5.2`.\r\nIt works like a charm by upgrading the version to 5.6.2. (and also the others junit-jupiter-engine, junit-jupiter-api)","title":"Junit Test error : org/junit/jupiter/api/extension/ScriptEvaluationException","body":"<p>I have got the same issue with <code>org.junit.jupiter:junit-jupiter:5.5.2</code>.\nIt works like a charm by upgrading the version to 5.6.2. (and also the others junit-jupiter-engine, junit-jupiter-api)</p>\n"}],"owner":{"account_id":20197894,"reputation":111,"user_id":14814384,"display_name":"JOONWOO LEE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16613,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1677517738,"creation_date":1610462587,"question_id":65686175,"body_markdown":"I&#39;m trying to run test code in springboot and it shows the error like below. I cannot understand what NoClassDefFoundError means in this case. I made a PostsRepository class for JPA usage and also wrote @Repository annotation there.\r\n\r\n\r\n    `org/junit/jupiter/api/extension/ScriptEvaluationException\r\n    java.lang.NoClassDefFoundError: org/junit/jupiter/api/extension/ScriptEvaluationException\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat org.junit.jupiter.engine.extension.ScriptExecutionCondition$Evaluator.forName(ScriptExecutionCondition.java:153)\r\n    \tat org.junit.jupiter.engine.extension.ScriptExecutionCondition$Evaluator.forName(ScriptExecutionCondition.java:133)\r\n    \tat org.junit.jupiter.engine.extension.ScriptExecutionCondition.&lt;init&gt;(ScriptExecutionCondition.java:55)\r\n    \tat org.junit.jupiter.engine.extension.ScriptExecutionCondition.&lt;init&gt;(ScriptExecutionCondition.java:50)\r\n    \tat org.junit.jupiter.engine.extension.ExtensionRegistry.&lt;clinit&gt;(ExtensionRegistry.java:55)\r\n    \tat org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.prepare(JupiterEngineDescriptor.java:37)\r\n    \tat org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.prepare(JupiterEngineDescriptor.java:28)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.extension.ScriptEvaluationException\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 50 more\r\n    \r\n    \r\n    UnknownClass &gt; initializationError FAILED\r\n        java.lang.NoClassDefFoundError at Class.java:-2\r\n            Caused by: java.lang.ClassNotFoundException at URLClassLoader.java:382\r\n    1 test completed, 1 failed\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:test&#39;.\r\n    &gt; There were failing tests. See the report at: file:///C:/BackendWorkspace/java-practice/Spring�ǽ�/CRUD/build/reports/tests/test/index.html\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/6.7/userguide/command_line_interface.html#sec:command_line_warnings\r\n    BUILD FAILED in 2s\r\n    3 actionable tasks: 2 executed, 1 up-to-date\r\n    \r\n    `\r\n\r\nthis is the test code I wrote and I cannot figure out what went wrong. I already set everything in build.gradle and other test codes just ran all good yesterday.\r\n\r\n   \r\n\r\n     package com.junu.springboot.domain.posts;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class PostsRepositoryTest {\r\n        @Autowired \r\n        PostsRepository postsRepository;\r\n    \r\n        @After \r\n        public void cleanup(){\r\n            postsRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        public void selectList(){\r\n            postsRepository.save(Posts.builder()\r\n                                    .title(title)\r\n                                    .content(content)\r\n                                    .author(&quot;junu0516@yonsei.ac.kr&quot;)\r\n                                    .build());\r\n            //when\r\n            List&lt;Posts&gt; postsList = postsRepository.findAll();\r\n    \r\n            //then\r\n            Posts posts = postsList.get(0);\r\n            assertThat(posts.getTitle()).isEqualTo(title);\r\n            assertThat(posts.getContent()).isEqualTo(content);\r\n        }\r\n    }\r\n\r\n\r\nI just guess that the annotaion @Autowired might be the reason because in my Intellij it shows a red line.\r\n\r\nAnyone please help me :)\r\n\r\n","title":"Junit Test error : org/junit/jupiter/api/extension/ScriptEvaluationException","body":"<p>I'm trying to run test code in springboot and it shows the error like below. I cannot understand what NoClassDefFoundError means in this case. I made a PostsRepository class for JPA usage and also wrote @Repository annotation there.</p>\n<pre><code>`org/junit/jupiter/api/extension/ScriptEvaluationException\njava.lang.NoClassDefFoundError: org/junit/jupiter/api/extension/ScriptEvaluationException\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.junit.jupiter.engine.extension.ScriptExecutionCondition$Evaluator.forName(ScriptExecutionCondition.java:153)\n    at org.junit.jupiter.engine.extension.ScriptExecutionCondition$Evaluator.forName(ScriptExecutionCondition.java:133)\n    at org.junit.jupiter.engine.extension.ScriptExecutionCondition.&lt;init&gt;(ScriptExecutionCondition.java:55)\n    at org.junit.jupiter.engine.extension.ScriptExecutionCondition.&lt;init&gt;(ScriptExecutionCondition.java:50)\n    at org.junit.jupiter.engine.extension.ExtensionRegistry.&lt;clinit&gt;(ExtensionRegistry.java:55)\n    at org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.prepare(JupiterEngineDescriptor.java:37)\n    at org.junit.jupiter.engine.descriptor.JupiterEngineDescriptor.prepare(JupiterEngineDescriptor.java:28)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.junit.jupiter.api.extension.ScriptEvaluationException\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 50 more\n\n\nUnknownClass &gt; initializationError FAILED\n    java.lang.NoClassDefFoundError at Class.java:-2\n        Caused by: java.lang.ClassNotFoundException at URLClassLoader.java:382\n1 test completed, 1 failed\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///C:/BackendWorkspace/java-practice/Spring�ǽ�/CRUD/build/reports/tests/test/index.html\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.7/userguide/command_line_interface.html#sec:command_line_warnings\nBUILD FAILED in 2s\n3 actionable tasks: 2 executed, 1 up-to-date\n\n`\n</code></pre>\n<p>this is the test code I wrote and I cannot figure out what went wrong. I already set everything in build.gradle and other test codes just ran all good yesterday.</p>\n<pre><code> package com.junu.springboot.domain.posts;\n\nimport org.junit.After;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class PostsRepositoryTest {\n    @Autowired \n    PostsRepository postsRepository;\n\n    @After \n    public void cleanup(){\n        postsRepository.deleteAll();\n    }\n\n    @Test\n    public void selectList(){\n        postsRepository.save(Posts.builder()\n                                .title(title)\n                                .content(content)\n                                .author(&quot;junu0516@yonsei.ac.kr&quot;)\n                                .build());\n        //when\n        List&lt;Posts&gt; postsList = postsRepository.findAll();\n\n        //then\n        Posts posts = postsList.get(0);\n        assertThat(posts.getTitle()).isEqualTo(title);\n        assertThat(posts.getContent()).isEqualTo(content);\n    }\n}\n</code></pre>\n<p>I just guess that the annotaion @Autowired might be the reason because in my Intellij it shows a red line.</p>\n<p>Anyone please help me :)</p>\n"},{"tags":["java","jdbc","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677517713,"creation_date":1677517713,"answer_id":75583487,"question_id":75583305,"body_markdown":"You&#39;re misinterpreting the meaning of `idleTimeout` in HikariCP: _&quot;This property controls the maximum amount of time that a connection is allowed to sit idle in the pool.&quot;_. Your connection is not idle in the pool: your code has it checked out, so it&#39;s in use. Same with `maxLifeTime`: _&quot; An in-use connection will never be retired, only when it is closed will it then be removed.&quot;_ (quoted text from [HikariCP, Configuration (knobs, baby!)](https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby))\r\n\r\nHikariCP doesn&#39;t have a way to forcibly close connections after a timeout. The only thing it has is `leakDetectionThreshold`, but that will just log that there is a potential connection leak, it will not revoke the connection.\r\n","title":"Why HikariCP connection works after idle timeout","body":"<p>You're misinterpreting the meaning of <code>idleTimeout</code> in HikariCP: <em>&quot;This property controls the maximum amount of time that a connection is allowed to sit idle in the pool.&quot;</em>. Your connection is not idle in the pool: your code has it checked out, so it's in use. Same with <code>maxLifeTime</code>: <em>&quot; An in-use connection will never be retired, only when it is closed will it then be removed.&quot;</em> (quoted text from <a href=\"https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby\" rel=\"nofollow noreferrer\">HikariCP, Configuration (knobs, baby!)</a>)</p>\n<p>HikariCP doesn't have a way to forcibly close connections after a timeout. The only thing it has is <code>leakDetectionThreshold</code>, but that will just log that there is a potential connection leak, it will not revoke the connection.</p>\n"}],"owner":{"account_id":425342,"reputation":4878,"user_id":805896,"accept_rate":76,"display_name":"rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75583487,"answer_count":1,"score":0,"last_activity_date":1677517713,"creation_date":1677516534,"question_id":75583305,"body_markdown":"I am trying to test idle connections behavior. I am expecting my code to run into an exception here, but it doesn&#39;t:\r\n\r\n    static public void testConnectionDS() throws SQLException {\r\n    \tHikariDataSource ds = new HikariDataSource();\r\n    \tds.setJdbcUrl(Jdbc_URL);\r\n    \tds.setUsername(Username);\r\n    \tds.setPassword(Password);\r\n    \r\n    \tds.setMaxLifetime(1000 * 60 * 3);\r\n    \tds.setMinimumIdle(2);\r\n    \tds.setIdleTimeout(1000 * 60 * 2);\r\n    \r\n    \tConnection connection = ds.getConnection();   \t\r\n    \t\r\n    \tsetupTable(connection);\r\n    \ttry {\r\n    \t\tTimeUnit.MILLISECONDS.sleep(ds.getMaxLifetime() + ds.getIdleTimeout() + 1000 * 35); // around 6 miutes\r\n    \t\texecuteQuery(connection);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(java.time.LocalTime.now() + &quot; : executeQuery Exception: &quot; + e.getMessage());\r\n    \t\te.printStackTrace(System.out);\r\n    \t}\r\n    }\r\n\r\nPriniting various setting, the seetings are:\r\n\r\n    KeepaliveTime:0\r\n    MaxLifetime:180,000\r\n    IdleTimeout:120,000\r\n    minimumIdle:2\r\n    maximumPoolSize:10\r\n    LeakDetectionThreshold:0\r\n\r\nand my system settings is:\r\n\r\n    % sysctl -a |grep tcp |grep keep\r\n    net.inet.tcp.keepidle: 7200000\r\n    net.inet.tcp.keepintvl: 75000\r\n    net.inet.tcp.keepinit: 75000\r\n    net.inet.tcp.keepcnt: 8\r\n    net.inet.tcp.always_keepalive: 0\r\n    net.inet.mptcp.keepalive: 840\r\n\r\nWith `MaxLifetime` of 3 minutes, `IdleTimeout` of 2 minutes, `minimumIdle` &lt; `maximumPoolSize` and disabled keepalive and leakdetection threshold, this connection should have not been able to execute `executeQuery ` function (which is a simple select query). But it does run into completion successfully.\r\n\r\nWhat am I missing please?\r\n","title":"Why HikariCP connection works after idle timeout","body":"<p>I am trying to test idle connections behavior. I am expecting my code to run into an exception here, but it doesn't:</p>\n<pre><code>static public void testConnectionDS() throws SQLException {\n    HikariDataSource ds = new HikariDataSource();\n    ds.setJdbcUrl(Jdbc_URL);\n    ds.setUsername(Username);\n    ds.setPassword(Password);\n\n    ds.setMaxLifetime(1000 * 60 * 3);\n    ds.setMinimumIdle(2);\n    ds.setIdleTimeout(1000 * 60 * 2);\n\n    Connection connection = ds.getConnection();     \n    \n    setupTable(connection);\n    try {\n        TimeUnit.MILLISECONDS.sleep(ds.getMaxLifetime() + ds.getIdleTimeout() + 1000 * 35); // around 6 miutes\n        executeQuery(connection);\n    } catch (Exception e) {\n        System.out.println(java.time.LocalTime.now() + &quot; : executeQuery Exception: &quot; + e.getMessage());\n        e.printStackTrace(System.out);\n    }\n}\n</code></pre>\n<p>Priniting various setting, the seetings are:</p>\n<pre><code>KeepaliveTime:0\nMaxLifetime:180,000\nIdleTimeout:120,000\nminimumIdle:2\nmaximumPoolSize:10\nLeakDetectionThreshold:0\n</code></pre>\n<p>and my system settings is:</p>\n<pre><code>% sysctl -a |grep tcp |grep keep\nnet.inet.tcp.keepidle: 7200000\nnet.inet.tcp.keepintvl: 75000\nnet.inet.tcp.keepinit: 75000\nnet.inet.tcp.keepcnt: 8\nnet.inet.tcp.always_keepalive: 0\nnet.inet.mptcp.keepalive: 840\n</code></pre>\n<p>With <code>MaxLifetime</code> of 3 minutes, <code>IdleTimeout</code> of 2 minutes, <code>minimumIdle</code> &lt; <code>maximumPoolSize</code> and disabled keepalive and leakdetection threshold, this connection should have not been able to execute <code>executeQuery </code> function (which is a simple select query). But it does run into completion successfully.</p>\n<p>What am I missing please?</p>\n"},{"tags":["java","android","view","android-linearlayout","touch-event"],"answers":[{"tags":[],"owner":{"account_id":5621305,"reputation":255,"user_id":4451052,"display_name":"Keith Kirk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569228472,"creation_date":1568982823,"answer_id":58028503,"question_id":58028175,"body_markdown":"Try this:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/parentLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnTest&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAndroid xml views are created like a stack where views lower in the xml file are rendered on top of those earlier in the file.\r\n\r\nIt sounds like your linear layout is intercepting touch events preventing them from being propagated to the button underneath it.\r\n\r\nA way to check this is to set a background on the linear layout, you&#39;ll see that when it has a coloured background the button is not visible.\r\n\r\n**Update:**\r\n\r\nSince there is a requirement to allow touch events for both the button and the layout I&#39;ll extend my solution.\r\n\r\nOnClickListeners are the standard method for receiving tap events on android views. However lower down there are [OnTouchListeners][1] which handle raw touches on a view rather than click events.\r\n\r\nWhen the android screen is touched in any way the event is recorded and android will send an on touch event to the first view that touch event would encounter. OnTouchListeners return a boolean indicating whetehr they consumed the event. If they did not consume the event then it is propagated to the next view down in the hierarchy which the touch event would encounter.\r\n\r\nThis is why your button&#39;s on click was originally never being registered as the layout was consuming the touch event and preventing it from being propagated to the button.\r\n\r\nThis is the standard android behaviour, only one view will handle any single touch event.\r\n\r\nA decision to do otherwise is a sign that you should consider the design for your application and decide if this behaviour is definitely necessary.\r\n\r\nHowever, in case your circumstances are one of the rare ocassions I&#39;ll provide and example on touch listener.\r\n\r\n*Please note, this on touch listener assumes that you are using the xml I posted above as well as he on click listener attached to the button in the original question.*\r\n\r\n    getActivity()\r\n        .findViewById(R.id.parentLayout)\r\n        .setOnTouchListener(new OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    Log.e(TAG, &quot;onTouch: &quot;);\r\n                    return false;\r\n                }\r\n            });\r\n\r\nThis however will trigger both when user touches the layout and again when they release as those are two seperate motion events.\r\n\r\nTo trigger only on one type of motion event you will need to examine the passed event.\r\n\r\n    getActivity()\r\n            .findViewById(R.id.parentLayout)\r\n            .setOnTouchListener(new OnTouchListener() {\r\n                    @Override\r\n                    public boolean onTouch(View v, MotionEvent event) {\r\n                        if (event.getAction() == MotionEvent.ACTION_UP) {\r\n                           Log.e(TAG, &quot;onTouch: &quot;);\r\n                        }\r\n                        return false;\r\n                    }\r\n                });\r\n\r\nIn this code the log will only occur when the user lifts their finger from the view as [ACTION_UP][2] is the event action for a user lifting their finger.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View.OnTouchListener\r\n  [2]: https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>Try this:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/parentLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:id=\"@+id/btnTest\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Android xml views are created like a stack where views lower in the xml file are rendered on top of those earlier in the file.</p>\n\n<p>It sounds like your linear layout is intercepting touch events preventing them from being propagated to the button underneath it.</p>\n\n<p>A way to check this is to set a background on the linear layout, you'll see that when it has a coloured background the button is not visible.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Since there is a requirement to allow touch events for both the button and the layout I'll extend my solution.</p>\n\n<p>OnClickListeners are the standard method for receiving tap events on android views. However lower down there are <a href=\"https://developer.android.com/reference/android/view/View.OnTouchListener\" rel=\"nofollow noreferrer\">OnTouchListeners</a> which handle raw touches on a view rather than click events.</p>\n\n<p>When the android screen is touched in any way the event is recorded and android will send an on touch event to the first view that touch event would encounter. OnTouchListeners return a boolean indicating whetehr they consumed the event. If they did not consume the event then it is propagated to the next view down in the hierarchy which the touch event would encounter.</p>\n\n<p>This is why your button's on click was originally never being registered as the layout was consuming the touch event and preventing it from being propagated to the button.</p>\n\n<p>This is the standard android behaviour, only one view will handle any single touch event.</p>\n\n<p>A decision to do otherwise is a sign that you should consider the design for your application and decide if this behaviour is definitely necessary.</p>\n\n<p>However, in case your circumstances are one of the rare ocassions I'll provide and example on touch listener.</p>\n\n<p><em>Please note, this on touch listener assumes that you are using the xml I posted above as well as he on click listener attached to the button in the original question.</em></p>\n\n<pre><code>getActivity()\n    .findViewById(R.id.parentLayout)\n    .setOnTouchListener(new OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                Log.e(TAG, \"onTouch: \");\n                return false;\n            }\n        });\n</code></pre>\n\n<p>This however will trigger both when user touches the layout and again when they release as those are two seperate motion events.</p>\n\n<p>To trigger only on one type of motion event you will need to examine the passed event.</p>\n\n<pre><code>getActivity()\n        .findViewById(R.id.parentLayout)\n        .setOnTouchListener(new OnTouchListener() {\n                @Override\n                public boolean onTouch(View v, MotionEvent event) {\n                    if (event.getAction() == MotionEvent.ACTION_UP) {\n                       Log.e(TAG, \"onTouch: \");\n                    }\n                    return false;\n                }\n            });\n</code></pre>\n\n<p>In this code the log will only occur when the user lifts their finger from the view as <a href=\"https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_UP\" rel=\"nofollow noreferrer\">ACTION_UP</a> is the event action for a user lifting their finger.</p>\n"},{"tags":[],"owner":{"account_id":15307538,"reputation":3,"user_id":11043754,"display_name":"Aarushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568983044,"creation_date":1568983044,"answer_id":58028547,"question_id":58028175,"body_markdown":"The relative layout is same as Linear Layout which preserves the order of elements added inside it. \r\nyou added Button first and Linear Layout second thats why button has gone below the linear layout hence you are not able to click on it. \r\ntale the linear layout above the button view and you will see the button and do the remaing part by java coding\r\n","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>The relative layout is same as Linear Layout which preserves the order of elements added inside it. \nyou added Button first and Linear Layout second thats why button has gone below the linear layout hence you are not able to click on it. \ntale the linear layout above the button view and you will see the button and do the remaing part by java coding</p>\n"},{"tags":[],"owner":{"account_id":27842140,"reputation":1,"user_id":21258415,"display_name":"Wail Smk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677517478,"creation_date":1677094745,"answer_id":75537432,"question_id":58028175,"body_markdown":"Add these lines to you linear layout:\r\n\r\n```\r\nandroid:clickable=&quot;false&quot;\r\nandroid:focusableInTouchMode=&quot;false&quot;\r\nandroid:focusable=&quot;false&quot;\r\n```","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>Add these lines to you linear layout:</p>\n<pre><code>android:clickable=&quot;false&quot;\nandroid:focusableInTouchMode=&quot;false&quot;\nandroid:focusable=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":10641898,"reputation":182,"user_id":7836625,"display_name":"Ashish Virani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677517478,"creation_date":1568981567,"question_id":58028175,"body_markdown":"i have one android activity xml and his xml inside make main RelativeLayout .that RelativeLayout inside add one Button and one linearlayout and i have clicking on button but not click ,because of that button overly linear layout\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnTest&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/parentLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\n``` \r\ngetActivity().findViewById(R.id.btnTest).setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.e(TAG, &quot;onClick: &quot;);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nclick to print log.","title":"I have LinearLayout over a button. Is there any way to handle underneath button click event?","body":"<p>i have one android activity xml and his xml inside make main RelativeLayout .that RelativeLayout inside add one Button and one linearlayout and i have clicking on button but not click ,because of that button overly linear layout</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/btnTest\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/parentLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n\n<pre><code>getActivity().findViewById(R.id.btnTest).setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.e(TAG, \"onClick: \");\n            }\n        });\n</code></pre>\n\n<p>click to print log.</p>\n"},{"tags":["java","mysql-connector"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1677514474,"post_id":75582832,"comment_id":133348269,"body_markdown":"Please post code instead of images of code.","body":"Please post code instead of images of code."},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":1,"creation_date":1677516846,"post_id":75582832,"comment_id":133349061,"body_markdown":"*jbdc*:mysql://localhost - jdbc not jbdc","body":"<i>jbdc</i>:mysql://localhost - jdbc not jbdc"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1677519332,"post_id":75582832,"comment_id":133349830,"body_markdown":"I wonder why people still do that `Class.forName(...)`, its obsolete for 10 or 15 years or so.","body":"I wonder why people still do that <code>Class.forName(...)</code>, its obsolete for 10 or 15 years or so."},{"owner":{"account_id":27892325,"reputation":1,"user_id":21298421,"display_name":"kadir cali"},"score":0,"creation_date":1677519489,"post_id":75582832,"comment_id":133349883,"body_markdown":"Actually, I didn&#39;t do it in the first place. But when I saw people doing it, I wanted to try it.","body":"Actually, I didn&#39;t do it in the first place. But when I saw people doing it, I wanted to try it."}],"answers":[{"tags":[],"owner":{"account_id":27892529,"reputation":21,"user_id":21298588,"display_name":"user21298588"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677517020,"creation_date":1677514319,"answer_id":75582894,"question_id":75582832,"body_markdown":"I think the double slashes `//world` before your database name might be the issue. Change it to `/world`.","title":"No suitable driver found for JDBC Netbeans","body":"<p>I think the double slashes <code>//world</code> before your database name might be the issue. Change it to <code>/world</code>.</p>\n"}],"owner":{"account_id":27892325,"reputation":1,"user_id":21298421,"display_name":"kadir cali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677517020,"creation_date":1677513957,"question_id":75582832,"body_markdown":"\r\n\r\nI just started learning java. I&#39;m trying to make a MySql connection with JDBC, but I get the error &quot;No suitable driver found&quot; even though I add the Connector file to the library.\r\n[here it is the image](https://i.stack.imgur.com/DZVXO.png)\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n\r\n    public class Main {\r\n    static String user =&quot;root&quot;;\r\n    static String password=&quot;12345&quot;;\r\n    static String url = &quot;jbdc:mysql://localhost:3306/world&quot;;\r\n        public static void main(String[] args) throws \r\n    ClassNotFoundException  {\r\n \r\n            Connection connection=null;\r\n        \r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                connection=DriverManager.getConnection(url, user, \r\n    password);\r\n                System.out.println(&quot;baglanti basarili&quot;);\r\n            } catch (SQLException e) {\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }","title":"No suitable driver found for JDBC Netbeans","body":"<p>I just started learning java. I'm trying to make a MySql connection with JDBC, but I get the error &quot;No suitable driver found&quot; even though I add the Connector file to the library.\n<a href=\"https://i.stack.imgur.com/DZVXO.png\" rel=\"nofollow noreferrer\">here it is the image</a></p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n\npublic class Main {\nstatic String user =&quot;root&quot;;\nstatic String password=&quot;12345&quot;;\nstatic String url = &quot;jbdc:mysql://localhost:3306/world&quot;;\n    public static void main(String[] args) throws \nClassNotFoundException  {\n\n        Connection connection=null;\n    \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            connection=DriverManager.getConnection(url, user, \npassword);\n            System.out.println(&quot;baglanti basarili&quot;);\n        } catch (SQLException e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"owner":{"account_id":24280390,"reputation":39,"user_id":18227003,"display_name":"Ponta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677517308,"answer_count":0,"score":0,"last_activity_date":1677516970,"creation_date":1677516970,"question_id":75583364,"body_markdown":"When I first create a new project using IntelliJ with JavaFX, I&#39;m given two prebuilt classes, `HelloApplication` and `HelloController`, stored inside a package named `com.example.demo`. Aswell as a fxml file named, `hello-view.fxml`, which is stored inside a directory named `com.example.demo` inside `recources` I can run those without a problem. But as I finished playing around with those,I then decided to delete the classes and the fxml file I was given to begin creating my own fxml files and classes. However, as soon as I did and then tried loading the fxml file /run the program I get this long error message. So I went back, let IntelliJ create another project for me. What I found was that I could always add new fxml files in the same directory as the one IntelliJ created for me. But as soon as I create a new directory inside the resoruce folder, add a `fxml` file, copy the code inside the `fxml` file which works and paste it inside the new `fxml` file inside the new directory, I get the same long error message. \r\n\r\n\r\nHere is the class from where I run to program:\r\n\r\n   \r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;testing.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nand here is the fxml file which IntelliJ creates for me:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n                xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n                fx:controller=&quot;com.example.demo.HelloController&quot;\r\n                prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n    \r\n    &lt;/AnchorPane&gt;\r\n\r\nhere is the long error message:\r\n\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.lang.IllegalStateException: Location is not set.\r\n    \tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\r\n    \tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n    \tat com.example.demo/com.example.demo.HelloApplication.start(HelloApplication.java:14)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    Exception running application com.example.demo.HelloApplication\r\n\r\nPlease let me know if any further information is needed in order to figure out the problem. I don&#39;t know what else to show, considering that I&#39;ve tried to keep everything the same between the different `fxml` files, to narrow down what could be wrong.","title":"JavaFX load fxml file issues","body":"<p>When I first create a new project using IntelliJ with JavaFX, I'm given two prebuilt classes, <code>HelloApplication</code> and <code>HelloController</code>, stored inside a package named <code>com.example.demo</code>. Aswell as a fxml file named, <code>hello-view.fxml</code>, which is stored inside a directory named <code>com.example.demo</code> inside <code>recources</code> I can run those without a problem. But as I finished playing around with those,I then decided to delete the classes and the fxml file I was given to begin creating my own fxml files and classes. However, as soon as I did and then tried loading the fxml file /run the program I get this long error message. So I went back, let IntelliJ create another project for me. What I found was that I could always add new fxml files in the same directory as the one IntelliJ created for me. But as soon as I create a new directory inside the resoruce folder, add a <code>fxml</code> file, copy the code inside the <code>fxml</code> file which works and paste it inside the new <code>fxml</code> file inside the new directory, I get the same long error message.</p>\n<p>Here is the class from where I run to program:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;testing.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>and here is the fxml file which IntelliJ creates for me:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;com.example.demo.HelloController&quot;\n            prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\n\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>here is the long error message:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at com.example.demo/com.example.demo.HelloApplication.start(HelloApplication.java:14)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nException running application com.example.demo.HelloApplication\n</code></pre>\n<p>Please let me know if any further information is needed in order to figure out the problem. I don't know what else to show, considering that I've tried to keep everything the same between the different <code>fxml</code> files, to narrow down what could be wrong.</p>\n"},{"tags":["java","tomcat8"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1527229371,"post_id":50522683,"comment_id":88057411,"body_markdown":"The first thing to ask is what changes have you made lately which would cause this error to appear?  Tomcat typically doesn&#39;t just &quot;break&quot; on its own; you did something to it (or to your project), and we need to know what that is.","body":"The first thing to ask is what changes have you made lately which would cause this error to appear?  Tomcat typically doesn&#39;t just &quot;break&quot; on its own; you did something to it (or to your project), and we need to know what that is."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1527229527,"post_id":50522683,"comment_id":88057484,"body_markdown":"*invalid LOC header (bad signature)*  Looks like you have a corrupted zip/jar/war in your tomcat directory","body":"<i>invalid LOC header (bad signature)</i>  Looks like you have a corrupted zip/jar/war in your tomcat directory"},{"owner":{"account_id":6712687,"reputation":171,"user_id":5175557,"accept_rate":60,"display_name":"Shubham Khare"},"score":0,"creation_date":1527229678,"post_id":50522683,"comment_id":88057542,"body_markdown":"I didn&#39;t modify any tomcat files. I was running the project as usual and I got this error. Finally I made fresh download but still I am getting this error. However If I do not deploy the project I am able to run tomcat independently. Also I am able to maven build the project without any errors.","body":"I didn&#39;t modify any tomcat files. I was running the project as usual and I got this error. Finally I made fresh download but still I am getting this error. However If I do not deploy the project I am able to run tomcat independently. Also I am able to maven build the project without any errors."}],"answers":[{"tags":[],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1527244125,"creation_date":1527244125,"answer_id":50527122,"question_id":50522683,"body_markdown":"Somewhere in your project there is a corrupted library (jar), at least that&#39;s how it was with me. I deleted my local ***.m2/repository*** folder and downloaded all dependencies again. If you know exactly which jar is the problem then delete only that one from your local repository. Then build your project again and if dependencies are downloaded correctly your tomcat should be able to run again. \r\n\r\nAlso just to be sure nothing is cached, delete everything that is inside the ***/tomcat8/work/Catalina/localhost*** path. It&#39;s the working directory of tomcat and files that tomcat needs during run time are written there. I don&#39;t think it&#39;s affected, but it doesn&#39;t hurt either.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>Somewhere in your project there is a corrupted library (jar), at least that's how it was with me. I deleted my local <strong><em>.m2/repository</em></strong> folder and downloaded all dependencies again. If you know exactly which jar is the problem then delete only that one from your local repository. Then build your project again and if dependencies are downloaded correctly your tomcat should be able to run again. </p>\n\n<p>Also just to be sure nothing is cached, delete everything that is inside the <strong><em>/tomcat8/work/Catalina/localhost</em></strong> path. It's the working directory of tomcat and files that tomcat needs during run time are written there. I don't think it's affected, but it doesn't hurt either.</p>\n"},{"tags":[],"owner":{"account_id":15214588,"reputation":325,"user_id":10978300,"display_name":"Ankit Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571222755,"creation_date":1571220477,"answer_id":58410787,"question_id":50522683,"body_markdown":"One or two projects which you are adding to the tomcat may be corrupted. In order to fix it all you need to do is.\r\n\r\n1. deleted the project from eclipse\r\n2. go the project folder of your&#39;s and deleted .settings and .classpath file from the project.\r\n3. Re-import the project in eclipse and then build\r\n\r\nThis will definitely solve your problem","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>One or two projects which you are adding to the tomcat may be corrupted. In order to fix it all you need to do is.</p>\n\n<ol>\n<li>deleted the project from eclipse</li>\n<li>go the project folder of your's and deleted .settings and .classpath file from the project.</li>\n<li>Re-import the project in eclipse and then build</li>\n</ol>\n\n<p>This will definitely solve your problem</p>\n"},{"tags":[],"owner":{"account_id":4457148,"reputation":861,"user_id":3627023,"accept_rate":43,"display_name":"dozer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628663085,"creation_date":1628663085,"answer_id":68736953,"question_id":50522683,"body_markdown":"I had this issue on Eclipse\r\n\r\nRight click on project, select Maven --&gt; Update Project --&gt; \r\nCheck Update project configurations, refresh workspace resources, clean projects and also &quot;Forced Update of Snapshots/Releases&quot;. The last bit was also important for tomcat to work.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>I had this issue on Eclipse</p>\n<p>Right click on project, select Maven --&gt; Update Project --&gt;\nCheck Update project configurations, refresh workspace resources, clean projects and also &quot;Forced Update of Snapshots/Releases&quot;. The last bit was also important for tomcat to work.</p>\n"},{"tags":[],"owner":{"account_id":27892848,"reputation":1,"user_id":21298838,"display_name":"user21298838"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677516717,"creation_date":1677516717,"answer_id":75583323,"question_id":50522683,"body_markdown":"Actually for my case it is working if I maintain the folder structure as below. initially I was missing with Java Resources and then I have created and put my package under Java Resources. then it worked fine for me.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kp5f7.png","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>Actually for my case it is working if I maintain the folder structure as below. initially I was missing with Java Resources and then I have created and put my package under Java Resources. then it worked fine for me.\n<a href=\"https://i.stack.imgur.com/kp5f7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":6712687,"reputation":171,"user_id":5175557,"accept_rate":60,"display_name":"Shubham Khare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21875,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":50527122,"answer_count":4,"score":3,"last_activity_date":1677516717,"creation_date":1527229172,"question_id":50522683,"body_markdown":"The project was smoothly running suddenly I got this error in console log. I am using Tomcat version 8.0.35. I have tried everything from clean build to updating the project. I know there are already problems that are solved but none of the solutions worked for me.\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \t... 6 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@4ee2dba7]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4907)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5042)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.JarResourceSet@ba0af7c]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\r\n    \tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:724)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: java.lang.IllegalArgumentException: java.util.zip.ZipException: invalid LOC header (bad signature)\r\n    \tat org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:142)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\r\n    \t... 12 more\r\n    Caused by: java.util.zip.ZipException: invalid LOC header (bad signature)\r\n    \tat java.util.zip.ZipFile.read(Native Method)\r\n    \tat java.util.zip.ZipFile.access$1400(Unknown Source)\r\n    \tat java.util.zip.ZipFile$ZipFileInputStream.read(Unknown Source)\r\n    \tat java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(Unknown Source)\r\n    \tat java.util.zip.InflaterInputStream.read(Unknown Source)\r\n    \tat sun.misc.IOUtils.readFully(Unknown Source)\r\n    \tat java.util.jar.JarFile.getBytes(Unknown Source)\r\n    \tat java.util.jar.JarFile.getManifestFromReference(Unknown Source)\r\n    \tat java.util.jar.JarFile.getManifest(Unknown Source)\r\n    \tat org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:140)\r\n    \t... 13 more\r\n    \r\n    May 25, 2018 11:02:04 AM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    \r\n    May 25, 2018 11:02:04 AM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:681)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 11 more\r\n\r\nPlease advice me what to do? Also I have searched everywhere in the pom file and other dependencies are also been generated.","title":"org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]","body":"<p>The project was smoothly running suddenly I got this error in console log. I am using Tomcat version 8.0.35. I have tried everything from clean build to updating the project. I know there are already problems that are solved but none of the solutions worked for me.</p>\n\n<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/eASI]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    ... 6 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@4ee2dba7]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4907)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5042)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\nCaused by: org.apache.catalina.LifecycleException: Failed to initialize component [org.apache.catalina.webresources.JarResourceSet@ba0af7c]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140)\n    at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:724)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: java.lang.IllegalArgumentException: java.util.zip.ZipException: invalid LOC header (bad signature)\n    at org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:142)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n    ... 12 more\nCaused by: java.util.zip.ZipException: invalid LOC header (bad signature)\n    at java.util.zip.ZipFile.read(Native Method)\n    at java.util.zip.ZipFile.access$1400(Unknown Source)\n    at java.util.zip.ZipFile$ZipFileInputStream.read(Unknown Source)\n    at java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(Unknown Source)\n    at java.util.zip.InflaterInputStream.read(Unknown Source)\n    at sun.misc.IOUtils.readFully(Unknown Source)\n    at java.util.jar.JarFile.getBytes(Unknown Source)\n    at java.util.jar.JarFile.getManifestFromReference(Unknown Source)\n    at java.util.jar.JarFile.getManifest(Unknown Source)\n    at org.apache.catalina.webresources.AbstractSingleArchiveResourceSet.initInternal(AbstractSingleArchiveResourceSet.java:140)\n    ... 13 more\n\nMay 25, 2018 11:02:04 AM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:941)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1421)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1411)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n\nMay 25, 2018 11:02:04 AM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:681)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:949)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more\n</code></pre>\n\n<p>Please advice me what to do? Also I have searched everywhere in the pom file and other dependencies are also been generated.</p>\n"},{"tags":["java","lib"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1677515755,"post_id":75583128,"comment_id":133348698,"body_markdown":"Your `java` version not compatible to project gradle file I guess.","body":"Your <code>java</code> version not compatible to project gradle file I guess."},{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1677516604,"post_id":75583128,"comment_id":133348986,"body_markdown":"From [List of Java class file format major version](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers) 63 is for Java 19 and according to [Gradle Compatibility Matrix](https://docs.gradle.org/current/userguide/compatibility.html) the 19th is supported from Gradle 7.6, but your version is 7.5.1","body":"From <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">List of Java class file format major version</a> 63 is for Java 19 and according to <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle Compatibility Matrix</a> the 19th is supported from Gradle 7.6, but your version is 7.5.1"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1677517918,"post_id":75583128,"comment_id":133349403,"body_markdown":"Be aware that you will get warnings (and potential runtime issues) about unsupported JNI if you use Java 19 with libGDX 1.11.","body":"Be aware that you will get warnings (and potential runtime issues) about unsupported JNI if you use Java 19 with libGDX 1.11."}],"owner":{"account_id":23198917,"reputation":17,"user_id":18440644,"display_name":"Richard Coterie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677515599,"creation_date":1677515599,"question_id":75583128,"body_markdown":"```\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users / richard / Desktop/Eclipse_WorkSpace/settings.\r\ngradle&#39; (/Users / richard / gradle/ caches / 7.5.1/scripts /dn611r5pg3bcsc902xue6326v).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit BuildScript_&#39; Unsupported class file major version 63\r\n```\r\nI also try deleting the error file and rebuild itself but it still doesn&#39;t work\r\n\r\n","title":"libGDX cannot successfully generate project for java project","body":"<pre><code>* What went wrong:\nCould not open settings generic class cache for settings file '/Users / richard / Desktop/Eclipse_WorkSpace/settings.\ngradle' (/Users / richard / gradle/ caches / 7.5.1/scripts /dn611r5pg3bcsc902xue6326v).\n&gt; BUG! exception in phase 'semantic analysis' in source unit BuildScript_' Unsupported class file major version 63\n</code></pre>\n<p>I also try deleting the error file and rebuild itself but it still doesn't work</p>\n"},{"tags":["java","spring","spring-boot","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1677495593,"post_id":75579569,"comment_id":133342298,"body_markdown":"life hack - dont start your transactions in controllers but rather in services.","body":"life hack - dont start your transactions in controllers but rather in services."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677496108,"creation_date":1677495669,"answer_id":75579611,"question_id":75579569,"body_markdown":"`HttpMessageConversionException` happens outside of your controller method (inside spring MVC guts but after handler method) as whatever your method returns, cannot be serialized to a requested form. Therfore, transaction is started, commited and then exception is thrown.\r\n\r\nWhen you throw exception &quot;manually&quot; it is done from withing the method causing TX to be rolled back as expected. ","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p><code>HttpMessageConversionException</code> happens outside of your controller method (inside spring MVC guts but after handler method) as whatever your method returns, cannot be serialized to a requested form. Therfore, transaction is started, commited and then exception is thrown.</p>\n<p>When you throw exception &quot;manually&quot; it is done from withing the method causing TX to be rolled back as expected.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677498469,"creation_date":1677498469,"answer_id":75580084,"question_id":75579569,"body_markdown":"The transaction is not rolled back because *createUser()* is executed successfully and the exception is thrown later when Jackson tries to serialize your Response to json. You can double-check this by creating a unit-test and directly call the *createUser* method from the controller, without the web layer.\r\n\r\n\r\nThe exception is thrown because your Response does not expose any data (or it does not contain any). For instance, if you run this simple unit test you will get the same exception:\r\n\r\n    @Test\r\n\tvoid test() throws Exception {\r\n\t\tvar bean = new MyObject(123);\r\n\t\tvar mapper = new ObjectMapper();\r\n        // will throw the same exception\r\n        System.out.println(mapper.writeValueAsString(bean)); \r\n    }\r\n\r\n\tclass MyObject {\r\n\t\tprivate int value;\r\n\r\n\t\tpublic MyObject(int value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\t}\r\n\r\nThough, if you add a getter to the MyObject class and re-run the test, this time it will pass.","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p>The transaction is not rolled back because <em>createUser()</em> is executed successfully and the exception is thrown later when Jackson tries to serialize your Response to json. You can double-check this by creating a unit-test and directly call the <em>createUser</em> method from the controller, without the web layer.</p>\n<p>The exception is thrown because your Response does not expose any data (or it does not contain any). For instance, if you run this simple unit test you will get the same exception:</p>\n<pre><code>@Test\nvoid test() throws Exception {\n    var bean = new MyObject(123);\n    var mapper = new ObjectMapper();\n    // will throw the same exception\n    System.out.println(mapper.writeValueAsString(bean)); \n}\n\nclass MyObject {\n    private int value;\n\n    public MyObject(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>Though, if you add a getter to the MyObject class and re-run the test, this time it will pass.</p>\n"}],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75579611,"answer_count":2,"score":0,"last_activity_date":1677515483,"creation_date":1677495464,"question_id":75579569,"body_markdown":"I have a rest controller, it will insert 1 record per request,like:\r\n\r\n```lang-java\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\n@PostMapping(&quot;/create_user&quot;)\r\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\r\n    String openId = body.getData().getOpenId();\r\n    String phoneNumber = body.getData().getPhoneNumber();\r\n    weChatMapper.createWechatUser(WechatUser.builder()\r\n            .openId(openId)\r\n            .phoneNumber(phoneNumber)\r\n            .build());\r\n    return Response.of();\r\n}\r\n```\r\n\r\nThen when i call it , throws ```org.springframework.http.converter.HttpMessageConversionException```, seems that somthing goes wrong when serializing the response.Then i check database, i find that 1 record has been inserted, not rolling back.\r\nThen i add a exception throwing code before returning, like:\r\n```lang-java\r\n@Transactional(rollbackFor = Exception.class)\r\n@PostMapping(&quot;/create_user&quot;)\r\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\r\n    String openId = body.getData().getOpenId();\r\n    String phoneNumber = body.getData().getPhoneNumber();\r\n    weChatMapper.createWechatUser(WechatUser.builder()\r\n            .openId(openId)\r\n            .phoneNumber(phoneNumber)\r\n            .build());\r\n    if (true) {\r\n        throw new IllegalArgumentException(&quot;my test exception&quot;);\r\n    }\r\n    return Response.of();\r\n }\r\n```\r\n\r\nCall again, the record is not inserted, roll back as expected.But why...? It&#39;s very strange.How to make it roll back at this kind of situation?\r\n\r\nThe complete trace:\r\n&lt;pre&gt;\r\n2023-02-27 18:42:36.100 ERROR 36244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digiwin.vssmp_backend.entity.Empty]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[&quot;data&quot;])] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[&quot;data&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_332]\r\n\r\n&lt;/pre&gt;\r\n","title":"Spring boot @Transactional does not work when org.springframework.http.converter.HttpMessageConversionException is thrown?","body":"<p>I have a rest controller, it will insert 1 record per request,like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Transactional(rollbackFor = Exception.class)\n@PostMapping(&quot;/create_user&quot;)\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\n    String openId = body.getData().getOpenId();\n    String phoneNumber = body.getData().getPhoneNumber();\n    weChatMapper.createWechatUser(WechatUser.builder()\n            .openId(openId)\n            .phoneNumber(phoneNumber)\n            .build());\n    return Response.of();\n}\n</code></pre>\n<p>Then when i call it , throws <code>org.springframework.http.converter.HttpMessageConversionException</code>, seems that somthing goes wrong when serializing the response.Then i check database, i find that 1 record has been inserted, not rolling back.\nThen i add a exception throwing code before returning, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(rollbackFor = Exception.class)\n@PostMapping(&quot;/create_user&quot;)\npublic Response&lt;Empty&gt; createUser(@RequestBody Request&lt;CreateUserRequest&gt; body) {\n    String openId = body.getData().getOpenId();\n    String phoneNumber = body.getData().getPhoneNumber();\n    weChatMapper.createWechatUser(WechatUser.builder()\n            .openId(openId)\n            .phoneNumber(phoneNumber)\n            .build());\n    if (true) {\n        throw new IllegalArgumentException(&quot;my test exception&quot;);\n    }\n    return Response.of();\n }\n</code></pre>\n<p>Call again, the record is not inserted, roll back as expected.But why...? It's very strange.How to make it roll back at this kind of situation?</p>\n<p>The complete trace:</p>\n<pre>\n2023-02-27 18:42:36.100 ERROR 36244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.digiwin.vssmp_backend.entity.Empty]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[\"data\"])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.digiwin.vssmp_backend.entity.Empty and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.digiwin.vssmp_backend.dto.response.Response[\"data\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.71.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_332]\n\n</pre>\n"},{"tags":["java","android","webp","vp8","riff"],"answers":[{"tags":[],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672859578,"creation_date":1672859578,"answer_id":75010193,"question_id":74993962,"body_markdown":"Found out the solution by examining more.\r\nreading ALPH:\r\nWe need to store the alpha data (Alpha BitStream) somewhere so that we can use that while writing the frames.\r\nwriting ANMF:\r\nwhile writing ANMF, after writing ANMF metadata we need to write the ALPH header &gt; BitStream length &gt; BitStream respectively. Also we must add this length to ANMF chunk size. The ALPH chunk must be written before VP8/VP8L chunk.\r\n\r\n```java\r\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\r\n\t\twrite(new byte[] { &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39; });\r\n\r\n\t\tint alphSize = 0;\r\n\t\tif(chunk.alphaData != null){\r\n\t\t\talphSize = 8+chunk.alphaData.length;\r\n\t\t}\r\n\r\n\t\twriteUInt32(chunk.payload.length + 24 + alphSize);\r\n\r\n\t\twriteUInt24(chunk.x); // 3 bytes (3)\r\n\t\twriteUInt24(chunk.y); // 3 bytes (6)\r\n\t\twriteUInt24(chunk.width); // 3 bytes (9)\r\n\t\twriteUInt24(chunk.height); // 3 bytes (12)\r\n\t\twriteUInt24(chunk.duration); // 3 bytes (15)\r\n\r\n\t\tBitSet bs = new BitSet(8);\r\n\t\tbs.set(0, true);\r\n\t\tbs.set(1, chunk.disposeToBackgroundColor);\r\n\t\twrite(bitSetToBytes(bs, 1)); // 1 byte (16)\r\n\r\n\t\tif (chunk.alphaData != null){\r\n\t\t\twrite(new byte[] { &#39;A&#39;, &#39;L&#39;, &#39;P&#39;, &#39;H&#39; }); // 4\r\n\t\t\twriteUInt32(chunk.alphaData.length); // 4\r\n\t\t\twrite(chunk.alphaData);\r\n\t\t\tLog.e(&quot;WebpDemo&quot;,&quot;ALPH &quot;);\r\n\t\t}\r\n\r\n\r\n\t\tif (chunk.isLossless)\r\n\t\t\twrite(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39; }); // 4 bytes (20)\r\n\t\telse\r\n\t\t\twrite(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39; });\r\n\r\n\t\twriteUInt32(chunk.payload.length); // 4 bytes (24)\r\n\t\twrite(chunk.payload);\r\n\r\n\r\n\t}\r\n```","title":"How to read and write VP8L and ALPH chunks of Webp images","body":"<p>Found out the solution by examining more.\nreading ALPH:\nWe need to store the alpha data (Alpha BitStream) somewhere so that we can use that while writing the frames.\nwriting ANMF:\nwhile writing ANMF, after writing ANMF metadata we need to write the ALPH header &gt; BitStream length &gt; BitStream respectively. Also we must add this length to ANMF chunk size. The ALPH chunk must be written before VP8/VP8L chunk.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void writeAnmf(WebpChunk chunk) throws IOException {\n        write(new byte[] { 'A', 'N', 'M', 'F' });\n\n        int alphSize = 0;\n        if(chunk.alphaData != null){\n            alphSize = 8+chunk.alphaData.length;\n        }\n\n        writeUInt32(chunk.payload.length + 24 + alphSize);\n\n        writeUInt24(chunk.x); // 3 bytes (3)\n        writeUInt24(chunk.y); // 3 bytes (6)\n        writeUInt24(chunk.width); // 3 bytes (9)\n        writeUInt24(chunk.height); // 3 bytes (12)\n        writeUInt24(chunk.duration); // 3 bytes (15)\n\n        BitSet bs = new BitSet(8);\n        bs.set(0, true);\n        bs.set(1, chunk.disposeToBackgroundColor);\n        write(bitSetToBytes(bs, 1)); // 1 byte (16)\n\n        if (chunk.alphaData != null){\n            write(new byte[] { 'A', 'L', 'P', 'H' }); // 4\n            writeUInt32(chunk.alphaData.length); // 4\n            write(chunk.alphaData);\n            Log.e(&quot;WebpDemo&quot;,&quot;ALPH &quot;);\n        }\n\n\n        if (chunk.isLossless)\n            write(new byte[] { 'V', 'P', '8', 'L' }); // 4 bytes (20)\n        else\n            write(new byte[] { 'V', 'P', '8', ' ' });\n\n        writeUInt32(chunk.payload.length); // 4 bytes (24)\n        write(chunk.payload);\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12869869,"reputation":1426,"user_id":9308731,"display_name":"CrackerKSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75010193,"answer_count":1,"score":1,"last_activity_date":1677515293,"creation_date":1672752231,"question_id":74993962,"body_markdown":"I am trying [these classes][1] written in pure java code which used for encode the animated WEBP from list of static images. It is based on [Google&#39;s Webp container specification][2].\r\nI tried to modify the codes to fix some errors. Now \r\n\r\nProblem: If image contains VP8L then encoder does not produce valid animated WEBP image (its blank image with 2.5MB size, Supplying 2 images with size of input images).\r\nIf I set the quality while compressing WEBP to below 100 and then it read chunks as RIFF-WEBP-VP8X-ICCP-ALPH-VP8 in sequence. It creates an animated images with solid black background. It drops the transparent background data maybe, but it animates through each frame.\r\n\r\nCode for writing ANMF chunk:\r\n```java\r\n// ANMF chunk\r\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\r\n\r\n   write(new byte[] { &#39;A&#39;, &#39;N&#39;, &#39;M&#39;, &#39;F&#39; });\r\n   writeUInt32(chunk.payload.length + 24);\r\n\r\n   writeUInt24(chunk.x); // 3 bytes (3)\r\n   writeUInt24(chunk.y); // 3 bytes (6)\r\n   writeUInt24(chunk.width); // 3 bytes (9)\r\n   writeUInt24(chunk.height); // 3 bytes (12)\r\n   writeUInt24(chunk.duration); // 3 bytes (15)\r\n\r\n   BitSet bs = new BitSet(6);\r\n   bs.set(1, chunk.useAlphaBlending);\r\n   bs.set(0, chunk.disposeToBackgroundColor);\r\n   write(bitSetToBytes(bs, 1)); // 1 byte (16)\r\n\r\n\r\n   if (chunk.isLossless) {\r\n      write(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39;L&#39; }); // 4 bytes (20)\r\n      Log.d(Tag,&quot;writting vp8l ; isLossLess&quot;);\r\n   } else {\r\n      Log.d(Tag,&quot;writting vp8 ; Lossy&quot;);\r\n      write(new byte[] { &#39;V&#39;, &#39;P&#39;, &#39;8&#39;, &#39; &#39; });\r\n   }\r\n   writeUInt32(chunk.payload.length-16h); // 4 bytes (24)\r\n   write(chunk.payload);\r\n\r\n}\r\n// ANIM chunk\r\nprivate WebpChunk readVp8x() throws IOException {\r\n\t\tint chunkSize = readUInt32();\r\n\t\tif (chunkSize != 10)\r\n\t\t\tthrow new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\r\n\r\n\t\tbyte[] flags = new byte[4];\r\n\t\tread(flags, 4);\r\n\t\tBitSet bs = BitSet.valueOf(flags);\r\n\r\n\t\tchunk.hasIccp = bs.get(0);\r\n\t\tchunk.hasAnim = bs.get(1);\r\n\t\tchunk.hasExif = bs.get(2);\r\n\t\tchunk.hasXmp = bs.get(3);\r\n\t\tchunk.hasAlpha = bs.get(4);\r\n\r\n\t\tchunk.width = readUInt24();\r\n\t\tchunk.height = readUInt24();\r\n\r\n\t\tdebug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\r\n\t\treturn chunk;\r\n\t}\r\n```\r\n\r\nCode for reading VP8L chunk:\r\n```java\r\n\tprivate WebpChunk readVp8l() throws IOException {\r\n\t\tLog.d(Tag,&quot;readVp8l() body &quot;);\r\n\t\tint chunkSize = readUInt32();\r\n\r\n\t\tWebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\r\n\t\tchunk.isLossless = true;\r\n\t\tchunk.payload = readPayload(chunkSize);\r\n\r\n\t\tdebug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\r\n\t\treturn chunk;\r\n\t}\r\n```\r\nfunction for writing bytes to output stream \r\n```java\r\n\tprivate void write(byte[] bytes, int length) throws IOException {\r\n\t\t_outputStream.write(bytes, length);\r\n\t\t_offset += length;\r\n\t}\r\n```\r\nIt read chunks as \r\nRIFF[size]WEBP -&gt; VP8X - ICCP - ALPH - VP8L and writing as \r\nRIFF[size]WEBP -&gt; VP8X - ANIM - ANMF (for first frame) and then ANMF for rest of frames.\r\nwhat is going wrong with these codes? \r\n\r\n  [1]: https://github.com/b4rtaz/android-webp-encoder/tree/master/app/src/main/java/com/n4no/webpencoder/webp\r\n  [2]: https://developers.google.com/speed/webp/docs/riff_container","title":"How to read and write VP8L and ALPH chunks of Webp images","body":"<p>I am trying <a href=\"https://github.com/b4rtaz/android-webp-encoder/tree/master/app/src/main/java/com/n4no/webpencoder/webp\" rel=\"nofollow noreferrer\">these classes</a> written in pure java code which used for encode the animated WEBP from list of static images. It is based on <a href=\"https://developers.google.com/speed/webp/docs/riff_container\" rel=\"nofollow noreferrer\">Google's Webp container specification</a>.\nI tried to modify the codes to fix some errors. Now</p>\n<p>Problem: If image contains VP8L then encoder does not produce valid animated WEBP image (its blank image with 2.5MB size, Supplying 2 images with size of input images).\nIf I set the quality while compressing WEBP to below 100 and then it read chunks as RIFF-WEBP-VP8X-ICCP-ALPH-VP8 in sequence. It creates an animated images with solid black background. It drops the transparent background data maybe, but it animates through each frame.</p>\n<p>Code for writing ANMF chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ANMF chunk\nprivate void writeAnmf(WebpChunk chunk) throws IOException {\n\n   write(new byte[] { 'A', 'N', 'M', 'F' });\n   writeUInt32(chunk.payload.length + 24);\n\n   writeUInt24(chunk.x); // 3 bytes (3)\n   writeUInt24(chunk.y); // 3 bytes (6)\n   writeUInt24(chunk.width); // 3 bytes (9)\n   writeUInt24(chunk.height); // 3 bytes (12)\n   writeUInt24(chunk.duration); // 3 bytes (15)\n\n   BitSet bs = new BitSet(6);\n   bs.set(1, chunk.useAlphaBlending);\n   bs.set(0, chunk.disposeToBackgroundColor);\n   write(bitSetToBytes(bs, 1)); // 1 byte (16)\n\n\n   if (chunk.isLossless) {\n      write(new byte[] { 'V', 'P', '8', 'L' }); // 4 bytes (20)\n      Log.d(Tag,&quot;writting vp8l ; isLossLess&quot;);\n   } else {\n      Log.d(Tag,&quot;writting vp8 ; Lossy&quot;);\n      write(new byte[] { 'V', 'P', '8', ' ' });\n   }\n   writeUInt32(chunk.payload.length-16h); // 4 bytes (24)\n   write(chunk.payload);\n\n}\n// ANIM chunk\nprivate WebpChunk readVp8x() throws IOException {\n        int chunkSize = readUInt32();\n        if (chunkSize != 10)\n            throw new IOException(&quot;Expected 10 bytes for VP8X.&quot;);\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8X);\n\n        byte[] flags = new byte[4];\n        read(flags, 4);\n        BitSet bs = BitSet.valueOf(flags);\n\n        chunk.hasIccp = bs.get(0);\n        chunk.hasAnim = bs.get(1);\n        chunk.hasExif = bs.get(2);\n        chunk.hasXmp = bs.get(3);\n        chunk.hasAlpha = bs.get(4);\n\n        chunk.width = readUInt24();\n        chunk.height = readUInt24();\n\n        debug(String.format(&quot;VP8X: size = %dx%d&quot;, chunk.width, chunk.height));\n        return chunk;\n    }\n</code></pre>\n<p>Code for reading VP8L chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private WebpChunk readVp8l() throws IOException {\n        Log.d(Tag,&quot;readVp8l() body &quot;);\n        int chunkSize = readUInt32();\n\n        WebpChunk chunk = new WebpChunk(WebpChunkType.VP8L);\n        chunk.isLossless = true;\n        chunk.payload = readPayload(chunkSize);\n\n        debug(String.format(&quot;VP8L: bytes = %d&quot;, chunkSize));\n        return chunk;\n    }\n</code></pre>\n<p>function for writing bytes to output stream</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void write(byte[] bytes, int length) throws IOException {\n        _outputStream.write(bytes, length);\n        _offset += length;\n    }\n</code></pre>\n<p>It read chunks as\nRIFF[size]WEBP -&gt; VP8X - ICCP - ALPH - VP8L and writing as\nRIFF[size]WEBP -&gt; VP8X - ANIM - ANMF (for first frame) and then ANMF for rest of frames.\nwhat is going wrong with these codes?</p>\n"},{"tags":["java","postgresql","java-time","java-15"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":7,"creation_date":1609932669,"post_id":65594874,"comment_id":115973586,"body_markdown":"As is, the best possible answer is &quot;your tests are flawed, fix &#39;em&quot; - maybe share some snippets of code to explain what you want to test","body":"As is, the best possible answer is &quot;your tests are flawed, fix &#39;em&quot; - maybe share some snippets of code to explain what you want to test"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":25,"creation_date":1609932709,"post_id":65594874,"comment_id":115973604,"body_markdown":"Truncating `Instant` using `Instant.truncatedTo` *is* the elegant solution. Making assumptions about precision that are not guaranteed by the documentation is the wrong approach.","body":"Truncating <code>Instant</code> using <code>Instant.truncatedTo</code> <i>is</i> the elegant solution. Making assumptions about precision that are not guaranteed by the documentation is the wrong approach."},{"owner":{"account_id":8180577,"reputation":1584,"user_id":6157949,"accept_rate":85,"display_name":"catch22"},"score":2,"creation_date":1609999256,"post_id":65594874,"comment_id":115996134,"body_markdown":"@ErwinBolwidt , you might be right but for a grown project this solution is painful and doesn&#39;t seem to marry with the &quot;backwards compatibility&quot; motto by Java.","body":"@ErwinBolwidt , you might be right but for a grown project this solution is painful and doesn&#39;t seem to marry with the &quot;backwards compatibility&quot; motto by Java."},{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":4,"creation_date":1610228734,"post_id":65594874,"comment_id":116068329,"body_markdown":"@catch22 I disagree with you. &quot;backwards compatibility&quot; refers only to things which are guaranteed by the documentation. There was no guaraantee about that before. Any improvement has the risk to break someone&#39;s code.","body":"@catch22 I disagree with you. &quot;backwards compatibility&quot; refers only to things which are guaranteed by the documentation. There was no guaraantee about that before. Any improvement has the risk to break someone&#39;s code."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1611083334,"post_id":65594874,"comment_id":116334915,"body_markdown":"[Obligatory XKCD](https://xkcd.com/1172/). Otherwise I agree wit @DorianGray - truncating `Instant` appears to be the correct solution. Maybe you can find a good way (with something like [IntelliJ structural search and replace](https://www.jetbrains.com/help/idea/structural-search-and-replace.html) to automatically put the `truncateTo` call into your assertions.","body":"<a href=\"https://xkcd.com/1172/\" rel=\"nofollow noreferrer\">Obligatory XKCD</a>. Otherwise I agree wit @DorianGray - truncating <code>Instant</code> appears to be the correct solution. Maybe you can find a good way (with something like <a href=\"https://www.jetbrains.com/help/idea/structural-search-and-replace.html\" rel=\"nofollow noreferrer\">IntelliJ structural search and replace</a> to automatically put the <code>truncateTo</code> call into your assertions."},{"owner":{"account_id":262115,"reputation":712,"user_id":546757,"accept_rate":40,"display_name":"Alan Cabrera"},"score":1,"creation_date":1677426200,"post_id":65594874,"comment_id":133331293,"body_markdown":"Truncating `Instant` using `Instant.truncatedTo()` is one solution, although not a robust one since it relies on the earnest effort of every engineer.  For us, nanoseconds sneak in when using `Instant.now()` or `Clock.instant()`.  We have no need for nanoseconds and intend to standardize on using a custom `Clock` that truncates to microseconds and we have a CI quality gate that prohibits the use of `Instant.now()`.","body":"Truncating <code>Instant</code> using <code>Instant.truncatedTo()</code> is one solution, although not a robust one since it relies on the earnest effort of every engineer.  For us, nanoseconds sneak in when using <code>Instant.now()</code> or <code>Clock.instant()</code>.  We have no need for nanoseconds and intend to standardize on using a custom <code>Clock</code> that truncates to microseconds and we have a CI quality gate that prohibits the use of <code>Instant.now()</code>."}],"owner":{"account_id":8180577,"reputation":1584,"user_id":6157949,"accept_rate":85,"display_name":"catch22"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2170,"favorite_count":0,"down_vote_count":4,"up_vote_count":19,"closed_date":1611810534,"answer_count":0,"score":15,"last_activity_date":1677514703,"creation_date":1609932213,"question_id":65594874,"body_markdown":"I have a best practices question with regards to mapping `Instant` to PostgreSQL `TIMESTAMP`.\r\n\r\nWe&#39;ve updated our app to Java 15 and the new enhancement of the system clock to nanosecond precision ( https://bugs.openjdk.java.net/browse/JDK-8242504 ) is incompatible with the TIMESTAMP limitations in Postgres. Time is different depending on the underlying OS, and Instant in Mac (Big Sur) does not give time in nanoseconds but in Linux does.\r\n\r\nWe use Instant types across our codebase. Our tests are comparing objects of type Instant in memory vs fetched so they fail depending on the OS they&#39;re running in.\r\n\r\nIn Linux, the Instant object in memory has a precision of nanoseconds, whilst the Postgres stored Instant (TIMESTAMP) has a precision of microseconds. The assertions fail:\r\n```\r\njava.lang.AssertionError: expected [2021-01-04T19:32:23.726475249Z] but found [2021-01-04T19:32:23.726475Z]\r\n```\r\n\r\nIn Mac, the Instant object has a precision of microseconds which aligns adequately with the Timestamp precision of Postgres, so the tests pass as they&#39;ve always done so far.\r\n\r\nWe would like to avoid truncating Instant or adding plugins to PG to support nanoseconds.\r\n\r\nHow do others deal with this issue in a robust comprehensive manner?","title":"java 15 Nanoseconds precision causing issues on Linux environment","body":"<p>I have a best practices question with regards to mapping <code>Instant</code> to PostgreSQL <code>TIMESTAMP</code>.</p>\n<p>We've updated our app to Java 15 and the new enhancement of the system clock to nanosecond precision ( <a href=\"https://bugs.openjdk.java.net/browse/JDK-8242504\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242504</a> ) is incompatible with the TIMESTAMP limitations in Postgres. Time is different depending on the underlying OS, and Instant in Mac (Big Sur) does not give time in nanoseconds but in Linux does.</p>\n<p>We use Instant types across our codebase. Our tests are comparing objects of type Instant in memory vs fetched so they fail depending on the OS they're running in.</p>\n<p>In Linux, the Instant object in memory has a precision of nanoseconds, whilst the Postgres stored Instant (TIMESTAMP) has a precision of microseconds. The assertions fail:</p>\n<pre><code>java.lang.AssertionError: expected [2021-01-04T19:32:23.726475249Z] but found [2021-01-04T19:32:23.726475Z]\n</code></pre>\n<p>In Mac, the Instant object has a precision of microseconds which aligns adequately with the Timestamp precision of Postgres, so the tests pass as they've always done so far.</p>\n<p>We would like to avoid truncating Instant or adding plugins to PG to support nanoseconds.</p>\n<p>How do others deal with this issue in a robust comprehensive manner?</p>\n"},{"tags":["java","arrays","list","performance"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":6,"creation_date":1238824898,"post_id":716597,"comment_id":528669,"body_markdown":"&quot;Since arrays keep all the data in a contiguous chunk of memory&quot; do you have any sort of citation to back this up for Java?","body":"&quot;Since arrays keep all the data in a contiguous chunk of memory&quot; do you have any sort of citation to back this up for Java?"},{"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"score":2,"creation_date":1238825132,"post_id":716597,"comment_id":528670,"body_markdown":"No matt. I know this for C. I am guessing Java would use the same method.","body":"No matt. I know this for C. I am guessing Java would use the same method."},{"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"score":1,"creation_date":1238825700,"post_id":716597,"comment_id":528676,"body_markdown":"I doubt that it would keep them in a single chunk of memory.","body":"I doubt that it would keep them in a single chunk of memory."},{"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"score":4,"creation_date":1238825872,"post_id":716597,"comment_id":528680,"body_markdown":"Even if it&#39;s a single block of memory, it&#39;d still only be around 1000 * 4 = 4kb worth, which is not a lot of memory.","body":"Even if it&#39;s a single block of memory, it&#39;d still only be around 1000 * 4 = 4kb worth, which is not a lot of memory."},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":1,"creation_date":1382606000,"post_id":716597,"comment_id":29027999,"body_markdown":"Is this a case of premature optimization?\n\nThe correct answer is &quot;It depends&quot;. It depends on what JVM you are running, it depends on how your JIT compiler is optimizing the code, it depends on which platform you&#39;re running on. Arrays may be faster in JET or Avian , but lists might be faster on HotSpot or IcedTea.\n\nIn short, if this is the degree of control you need over performance, you need to use a much lower level language like assembly or C. Java is not suitable.","body":"Is this a case of premature optimization?  The correct answer is &quot;It depends&quot;. It depends on what JVM you are running, it depends on how your JIT compiler is optimizing the code, it depends on which platform you&#39;re running on. Arrays may be faster in JET or Avian , but lists might be faster on HotSpot or IcedTea.  In short, if this is the degree of control you need over performance, you need to use a much lower level language like assembly or C. Java is not suitable."},{"owner":{"account_id":471679,"reputation":411,"user_id":879619,"display_name":"Vectorjohn"},"score":0,"creation_date":1463099890,"post_id":716597,"comment_id":61931400,"body_markdown":"The question (in the comments about memory) can&#39;t be answered because List is an interface not an implementation. ArrayList will always keep the data in a contiguous block of memory (it stores an array, hence the name). Other implementations will do other things.","body":"The question (in the comments about memory) can&#39;t be answered because List is an interface not an implementation. ArrayList will always keep the data in a contiguous block of memory (it stores an array, hence the name). Other implementations will do other things."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1465504185,"post_id":716597,"comment_id":62942447,"body_markdown":"@mattb That&#39;s what &#39;array&#39; means throughout CS. No citation necessary. The numerous references in the [JLS](https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html) and [JVM Spec]() to array lengths are only comprehensible if arrays are contiguous.","body":"@mattb That&#39;s what &#39;array&#39; means throughout CS. No citation necessary. The numerous references in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html\" rel=\"nofollow noreferrer\">JLS</a> and [JVM Spec]() to array lengths are only comprehensible if arrays are contiguous."},{"owner":{"account_id":1713988,"reputation":1651,"user_id":1571480,"accept_rate":70,"display_name":"Pavlus"},"score":2,"creation_date":1486047920,"post_id":716597,"comment_id":71187132,"body_markdown":"They are surely not stored in continuous chunk of memory. Java object variables are pointers to the actual objects (unless they are local and put on the stack by JVM), so the array of String is, actually, an array of _pointers_ to String objects which can be placed anywhere in the heap.","body":"They are surely not stored in continuous chunk of memory. Java object variables are pointers to the actual objects (unless they are local and put on the stack by JVM), so the array of String is, actually, an array of <i>pointers</i> to String objects which can be placed anywhere in the heap."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1238824850,"creation_date":1238824850,"answer_id":716602,"question_id":716597,"body_markdown":"If you know in advance how large the data is then an array will be faster.\r\n\r\nA List is more flexible.  You can use an ArrayList which is backed by an array.\r\n\r\n","title":"Array or List in Java. Which is faster?","body":"<p>If you know in advance how large the data is then an array will be faster.</p>\n\n<p>A List is more flexible.  You can use an ArrayList which is backed by an array.</p>\n"},{"tags":[],"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1238824920,"creation_date":1238824920,"answer_id":716603,"question_id":716597,"body_markdown":"No, because technically, the array only stores the reference to the strings. The strings themselves are allocated in a different location. For a thousand items, I would say a list would be better, it is slower, but it offers more flexibility and it&#39;s easier to use, especially if you are going to resize them.","title":"Array or List in Java. Which is faster?","body":"<p>No, because technically, the array only stores the reference to the strings. The strings themselves are allocated in a different location. For a thousand items, I would say a list would be better, it is slower, but it offers more flexibility and it's easier to use, especially if you are going to resize them.</p>\n"},{"tags":[],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1238825055,"creation_date":1238825055,"answer_id":716605,"question_id":716597,"body_markdown":"list is slower than arrays.If you need efficiency use arrays.If you need flexibility use list.","title":"Array or List in Java. Which is faster?","body":"<p>list is slower than arrays.If you need efficiency use arrays.If you need flexibility use list.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":2,"up_vote_count":406,"is_accepted":true,"score":404,"last_activity_date":1238825894,"creation_date":1238825894,"answer_id":716619,"question_id":716597,"body_markdown":"I suggest that you use a profiler to test which is faster.\r\n\r\nMy personal opinion is that you should use Lists.\r\n\r\nI work on a large codebase and a previous group of developers used arrays **everywhere**. It made the code very inflexible. After changing large chunks of it to Lists we noticed no difference in speed.","title":"Array or List in Java. Which is faster?","body":"<p>I suggest that you use a profiler to test which is faster.</p>\n\n<p>My personal opinion is that you should use Lists.</p>\n\n<p>I work on a large codebase and a previous group of developers used arrays <strong>everywhere</strong>. It made the code very inflexible. After changing large chunks of it to Lists we noticed no difference in speed.</p>\n"},{"tags":[],"owner":{"account_id":24774,"reputation":2802,"user_id":63213,"accept_rate":49,"display_name":"RV."},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1238826533,"creation_date":1238826533,"answer_id":716632,"question_id":716597,"body_markdown":"A List is more flexible.... so better to List than array","title":"Array or List in Java. Which is faster?","body":"<p>A List is more flexible.... so better to List than array</p>\n"},{"tags":[],"owner":{"account_id":18380,"reputation":3634,"user_id":42076,"display_name":"cygil"},"down_vote_count":1,"up_vote_count":183,"is_accepted":false,"score":182,"last_activity_date":1238890794,"creation_date":1238826872,"answer_id":716641,"question_id":716597,"body_markdown":"The Java way is that you should consider what data *abstraction* most suits your needs.  Remember that in Java a List is an abstract, not a concrete data type.  You should declare the strings as a List, and then initialize it using the ArrayList implementation.\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\r\nThis separation of Abstract Data Type and specific implementation is one the key aspects of object oriented programming.\r\n\r\nAn ArrayList implements the List Abstract Data Type using an array as its underlying implementation.  Access speed is virtually identical to an array, with the additional advantages of being able to add and subtract elements to a List (although this is an O(n) operation with an ArrayList) and that if you decide to change the underlying implementation later on you can.  For example, if you realize you need synchronized access, you can change the implementation to a Vector&lt;String&gt; without rewriting all your code.\r\n\r\nIn fact, the ArrayList was specifically designed to replace the low-level array construct in most contexts.  If Java was being designed today, it&#39;s entirely possible that arrays would have been left out altogether in favor of the ArrayList construct.\r\n\r\n&gt; Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?\r\n\r\nIn Java, all collections store only references to objects, not the objects themselves.   Both arrays and ArrayList will store a few thousand references in a contiguous array, so they are essentially identical.  You can consider that a contiguous block of a few thousand 32-bit references will always be readily available on modern hardware.  This does not guarantee that you will not run out of memory altogether, of course, just that the contiguous block of memory requirement is not difficult to fufil.","title":"Array or List in Java. Which is faster?","body":"<p>The Java way is that you should consider what data <em>abstraction</em> most suits your needs.  Remember that in Java a List is an abstract, not a concrete data type.  You should declare the strings as a List, and then initialize it using the ArrayList implementation.</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>This separation of Abstract Data Type and specific implementation is one the key aspects of object oriented programming.</p>\n\n<p>An ArrayList implements the List Abstract Data Type using an array as its underlying implementation.  Access speed is virtually identical to an array, with the additional advantages of being able to add and subtract elements to a List (although this is an O(n) operation with an ArrayList) and that if you decide to change the underlying implementation later on you can.  For example, if you realize you need synchronized access, you can change the implementation to a Vector without rewriting all your code.</p>\n\n<p>In fact, the ArrayList was specifically designed to replace the low-level array construct in most contexts.  If Java was being designed today, it's entirely possible that arrays would have been left out altogether in favor of the ArrayList construct.</p>\n\n<blockquote>\n  <p>Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?</p>\n</blockquote>\n\n<p>In Java, all collections store only references to objects, not the objects themselves.   Both arrays and ArrayList will store a few thousand references in a contiguous array, so they are essentially identical.  You can consider that a contiguous block of a few thousand 32-bit references will always be readily available on modern hardware.  This does not guarantee that you will not run out of memory altogether, of course, just that the contiguous block of memory requirement is not difficult to fufil.</p>\n"},{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"down_vote_count":1,"up_vote_count":109,"is_accepted":false,"score":108,"last_activity_date":1430876151,"creation_date":1238826974,"answer_id":716645,"question_id":716597,"body_markdown":"You should prefer generic types over arrays. As mentioned by others, arrays are inflexible and do not have the expressive power of generic types. (They do however support runtime typechecking, but that mixes badly with generic types.)\r\n\r\nBut, as always, when optimizing you should always follow these steps:\r\n\r\n* Don&#39;t optimize until you have a nice, clean, and **working** version of your code. Changing to generic types could very well be motivated at this step already.\r\n* When you have a version that is nice and clean, decide if it is fast enough.\r\n* If it isn&#39;t fast enough, **measure its performance**. This step is important for two reasons. If you don&#39;t measure you won&#39;t (1) know the impact of any optimizations you make and (2) know where to optimize.\r\n* Optimize the hottest part of your code.\r\n* **Measure again.** This is just as important as measuring before. If the optimization didn&#39;t improve things, **revert it**. Remember, the code *without* the optimization was **clean, nice, and working.**","title":"Array or List in Java. Which is faster?","body":"<p>You should prefer generic types over arrays. As mentioned by others, arrays are inflexible and do not have the expressive power of generic types. (They do however support runtime typechecking, but that mixes badly with generic types.)</p>\n\n<p>But, as always, when optimizing you should always follow these steps:</p>\n\n<ul>\n<li>Don't optimize until you have a nice, clean, and <strong>working</strong> version of your code. Changing to generic types could very well be motivated at this step already.</li>\n<li>When you have a version that is nice and clean, decide if it is fast enough.</li>\n<li>If it isn't fast enough, <strong>measure its performance</strong>. This step is important for two reasons. If you don't measure you won't (1) know the impact of any optimizations you make and (2) know where to optimize.</li>\n<li>Optimize the hottest part of your code.</li>\n<li><strong>Measure again.</strong> This is just as important as measuring before. If the optimization didn't improve things, <strong>revert it</strong>. Remember, the code <em>without</em> the optimization was <strong>clean, nice, and working.</strong></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23596,"reputation":1584,"user_id":59223,"display_name":"Emmanuel Rodriguez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238827186,"creation_date":1238827186,"answer_id":716648,"question_id":716597,"body_markdown":"Don&#39;t get into the trap of optimizing without proper benchmarking. As others have suggested use a profiler before making any assumption.\r\n\r\nThe different data structures that you have enumerated have different purposes. A list is very efficient at inserting elements in the beginning and at the end but suffers a lot when accessing random elements. An array has fixed storage but provides fast random access. Finally an ArrayList improves the interface to an array by allowing it to grow. Normally the data structure to be used should be dictated by how the data stored will be access or added.\r\n\r\nAbout memory consumption. You seem to be mixing some things. An array will only give you a continuous chunk of memory for the type of data that you have. Don&#39;t forget that java has a fixed data types: boolean, char, int, long, float and Object (this include all objects, even an array is an Object). It means that if you declare an array of String strings [1000] or MyObject myObjects [1000] you only get a 1000 memory boxes big enough to store the location (references or pointers) of the objects. You don&#39;t get a 1000 memory boxes big enough to fit the size of the objects. Don&#39;t forget that your objects are first created with &quot;new&quot;. This is when the memory allocation is done and later a reference (their memory address) is stored in the array. The object doesn&#39;t get copied into the array only it&#39;s reference.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>Don't get into the trap of optimizing without proper benchmarking. As others have suggested use a profiler before making any assumption.</p>\n\n<p>The different data structures that you have enumerated have different purposes. A list is very efficient at inserting elements in the beginning and at the end but suffers a lot when accessing random elements. An array has fixed storage but provides fast random access. Finally an ArrayList improves the interface to an array by allowing it to grow. Normally the data structure to be used should be dictated by how the data stored will be access or added.</p>\n\n<p>About memory consumption. You seem to be mixing some things. An array will only give you a continuous chunk of memory for the type of data that you have. Don't forget that java has a fixed data types: boolean, char, int, long, float and Object (this include all objects, even an array is an Object). It means that if you declare an array of String strings [1000] or MyObject myObjects [1000] you only get a 1000 memory boxes big enough to store the location (references or pointers) of the objects. You don't get a 1000 memory boxes big enough to fit the size of the objects. Don't forget that your objects are first created with \"new\". This is when the memory allocation is done and later a reference (their memory address) is stored in the array. The object doesn't get copied into the array only it's reference.</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1465577985,"creation_date":1238827278,"answer_id":716652,"question_id":716597,"body_markdown":"&quot;Thousands&quot; is not a large number. A few thousand paragraph-length strings are on the order of a couple of megabytes in size. If all you want to do is access these serially, use [an immutable singly-linked List][1].\r\n\r\n  [1]: http://www.functionaljava.org/javadoc/4.5/functionaljava/fj/data/List.html","title":"Array or List in Java. Which is faster?","body":"<p>\"Thousands\" is not a large number. A few thousand paragraph-length strings are on the order of a couple of megabytes in size. If all you want to do is access these serially, use <a href=\"http://www.functionaljava.org/javadoc/4.5/functionaljava/fj/data/List.html\" rel=\"nofollow noreferrer\">an immutable singly-linked List</a>.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238834987,"creation_date":1238834987,"answer_id":716787,"question_id":716597,"body_markdown":"I don&#39;t think it makes a real difference for Strings. What is contiguous in an array of strings is the references to the strings, the strings themselves are stored at random places in memory.\r\n\r\nArrays vs. Lists can make a difference for primitive types, not for objects. *IF* you know in advance the number of elements, and don&#39;t need flexibility, an array of millions of integers or doubles will be more efficient in memory and marginally in speed than a list, because indeed they will be stored contiguously and accessed instantly. That&#39;s why Java still uses arrays of chars for strings, arrays of ints for image data, etc.","title":"Array or List in Java. Which is faster?","body":"<p>I don't think it makes a real difference for Strings. What is contiguous in an array of strings is the references to the strings, the strings themselves are stored at random places in memory.</p>\n\n<p>Arrays vs. Lists can make a difference for primitive types, not for objects. <em>IF</em> you know in advance the number of elements, and don't need flexibility, an array of millions of integers or doubles will be more efficient in memory and marginally in speed than a list, because indeed they will be stored contiguously and accessed instantly. That's why Java still uses arrays of chars for strings, arrays of ints for image data, etc.</p>\n"},{"tags":[],"owner":{"account_id":31309,"reputation":3438,"user_id":85868,"accept_rate":89,"display_name":"Nuoji"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1238845345,"creation_date":1238845345,"answer_id":716942,"question_id":716597,"body_markdown":"Remember that an ArrayList encapsulates an array, so there is little difference compared to using a primitive array (except for the fact that a List is much easier to work with in java).\r\n\r\nThe pretty much the only time it makes sense to prefer an array to an ArrayList is when you are storing primitives, i.e. byte, int, etc and you need the particular space-efficiency you get by using primitive arrays.","title":"Array or List in Java. Which is faster?","body":"<p>Remember that an ArrayList encapsulates an array, so there is little difference compared to using a primitive array (except for the fact that a List is much easier to work with in java).</p>\n\n<p>The pretty much the only time it makes sense to prefer an array to an ArrayList is when you are storing primitives, i.e. byte, int, etc and you need the particular space-efficiency you get by using primitive arrays.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1444219674,"creation_date":1238850714,"answer_id":717051,"question_id":716597,"body_markdown":"I&#39;m guessing the original poster is coming from a C++/STL background which is causing some confusion. In C++ `std::list` is a doubly linked list.\r\n\r\nIn Java `[java.util.]List` is an implementation-free interface (pure abstract class in C++ terms). `List` can be a doubly linked list - `java.util.LinkedList` is provided. However, 99 times out of 100 when you want a make a new `List`, you want to use `java.util.ArrayList` instead, which is the rough equivalent of C++ `std::vector`. There are other standard implementations, such as those returned by `java.util.Collections.emptyList()` and `java.util.Arrays.asList()`.\r\n\r\nFrom a performance standpoint there is a very small hit from having to go through an interface and an extra object, however runtime inlining means this rarely has any significance. Also remember that `String` are typically an object plus array. So for each entry, you probably have two other objects. In C++ `std::vector&lt;std::string&gt;`, although copying by value without a pointer as such, the character arrays will form an object for string (and these will not usually be shared).\r\n\r\nIf this particular code is really performance-sensitive, you could create a single `char[]` array (or even `byte[]`) for all the characters of all the strings, and then an array of offsets. IIRC, this is how javac is implemented.","title":"Array or List in Java. Which is faster?","body":"<p>I'm guessing the original poster is coming from a C++/STL background which is causing some confusion. In C++ <code>std::list</code> is a doubly linked list.</p>\n\n<p>In Java <code>[java.util.]List</code> is an implementation-free interface (pure abstract class in C++ terms). <code>List</code> can be a doubly linked list - <code>java.util.LinkedList</code> is provided. However, 99 times out of 100 when you want a make a new <code>List</code>, you want to use <code>java.util.ArrayList</code> instead, which is the rough equivalent of C++ <code>std::vector</code>. There are other standard implementations, such as those returned by <code>java.util.Collections.emptyList()</code> and <code>java.util.Arrays.asList()</code>.</p>\n\n<p>From a performance standpoint there is a very small hit from having to go through an interface and an extra object, however runtime inlining means this rarely has any significance. Also remember that <code>String</code> are typically an object plus array. So for each entry, you probably have two other objects. In C++ <code>std::vector&lt;std::string&gt;</code>, although copying by value without a pointer as such, the character arrays will form an object for string (and these will not usually be shared).</p>\n\n<p>If this particular code is really performance-sensitive, you could create a single <code>char[]</code> array (or even <code>byte[]</code>) for all the characters of all the strings, and then an array of offsets. IIRC, this is how javac is implemented.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1238852771,"creation_date":1238852771,"answer_id":717112,"question_id":716597,"body_markdown":"Well firstly it&#39;s worth clarifying do you mean &quot;list&quot; in the classical comp sci data structures sense (ie a linked list) or do you mean java.util.List? If you mean a java.util.List, it&#39;s an interface. If you want to use an array just use the ArrayList implementation and you&#39;ll get array-like behaviour and semantics. Problem solved.\r\n\r\nIf you mean an array vs a linked list, it&#39;s a slightly different argument for which we go back to Big O (here is a [plain English explanation][1] if this is an unfamiliar term.\r\n\r\nArray;\r\n\r\n - Random Access: O(1);\r\n - Insert: O(n);\r\n - Delete: O(n).\r\n\r\nLinked List:\r\n\r\n - Random Access: O(n);\r\n - Insert: O(1);\r\n - Delete: O(1).\r\n\r\nSo you choose whichever one best suits how you resize your array. If you resize, insert and delete a lot then maybe a linked list is a better choice. Same goes for if random access is rare. You mention serial access. If you&#39;re mainly doing serial access with very little modification then it probably doesn&#39;t matter which you choose.\r\n\r\nLinked lists have a slightly higher overhead since, like you say, you&#39;re dealing with potentially non-contiguous blocks of memory and (effectively) pointers to the next element. That&#39;s probably not an important factor unless you&#39;re dealing with millions of entries however.\r\n\r\n  [1]: https://stackoverflow.com/questions/487258/plain-english-explanation-of-big-o/487278#487278","title":"Array or List in Java. Which is faster?","body":"<p>Well firstly it's worth clarifying do you mean \"list\" in the classical comp sci data structures sense (ie a linked list) or do you mean java.util.List? If you mean a java.util.List, it's an interface. If you want to use an array just use the ArrayList implementation and you'll get array-like behaviour and semantics. Problem solved.</p>\n\n<p>If you mean an array vs a linked list, it's a slightly different argument for which we go back to Big O (here is a <a href=\"https://stackoverflow.com/questions/487258/plain-english-explanation-of-big-o/487278#487278\">plain English explanation</a> if this is an unfamiliar term.</p>\n\n<p>Array;</p>\n\n<ul>\n<li>Random Access: O(1);</li>\n<li>Insert: O(n);</li>\n<li>Delete: O(n).</li>\n</ul>\n\n<p>Linked List:</p>\n\n<ul>\n<li>Random Access: O(n);</li>\n<li>Insert: O(1);</li>\n<li>Delete: O(1).</li>\n</ul>\n\n<p>So you choose whichever one best suits how you resize your array. If you resize, insert and delete a lot then maybe a linked list is a better choice. Same goes for if random access is rare. You mention serial access. If you're mainly doing serial access with very little modification then it probably doesn't matter which you choose.</p>\n\n<p>Linked lists have a slightly higher overhead since, like you say, you're dealing with potentially non-contiguous blocks of memory and (effectively) pointers to the next element. That's probably not an important factor unless you're dealing with millions of entries however.</p>\n"},{"tags":[],"owner":{"account_id":17401,"reputation":653,"user_id":38918,"display_name":"Emre K&#246;se"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1238855385,"creation_date":1238855385,"answer_id":717186,"question_id":716597,"body_markdown":"Array vs. List choice is not so important (considering performance) in the case of storing string objects. Because both array and list will store string object references, not the actual objects.\r\n\r\n1. If the number of strings is almost constant then use an array (or ArrayList). But if the number varies too much then you&#39;d better use LinkedList.\r\n2. If there is (or will be) a need for adding or deleting elements in the middle, then you certainly have to use LinkedList.","title":"Array or List in Java. Which is faster?","body":"<p>Array vs. List choice is not so important (considering performance) in the case of storing string objects. Because both array and list will store string object references, not the actual objects.</p>\n\n<ol>\n<li>If the number of strings is almost constant then use an array (or ArrayList). But if the number varies too much then you'd better use LinkedList.</li>\n<li>If there is (or will be) a need for adding or deleting elements in the middle, then you certainly have to use LinkedList.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31640,"reputation":12044,"user_id":87056,"accept_rate":75,"display_name":"Yakov Fain"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1238855712,"creation_date":1238855712,"answer_id":717191,"question_id":716597,"body_markdown":"Array is faster - all memory is pre-allocated in advance.","title":"Array or List in Java. Which is faster?","body":"<p>Array is faster - all memory is pre-allocated in advance.</p>\n"},{"tags":[],"owner":{"account_id":31651,"reputation":670,"user_id":87097,"display_name":"Chris May"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1238856273,"creation_date":1238856273,"answer_id":717205,"question_id":716597,"body_markdown":"I wrote a little benchmark to compare ArrayLists with Arrays. On my old-ish laptop, the time to traverse through a 5000-element arraylist, 1000 times, was about 10 milliseconds slower than the equivalent array code. \r\n\r\nSo, if you&#39;re doing nothing but iterating the list, and you&#39;re doing it a lot, then _maybe_ it&#39;s worth the optimisation. Otherwise I&#39;d use the List, because it&#39;ll make it easier when you _do_ need to optimise the code.\r\n\r\nn.b. I _did_ notice that using `for String s: stringsList` was about 50% slower than using an old-style for-loop to access the list. Go figure... Here&#39;s the two functions I timed; the array and list were filled with 5000 random (different) strings.\r\n\r\n    private static void readArray(String[] strings) {\r\n\t\tlong totalchars = 0;\r\n\t\tfor (int j = 0; j &lt; ITERATIONS; j++) {\r\n\t\t\ttotalchars = 0;\r\n\t\t\tfor (int i = 0; i &lt; strings.length; i++) {\r\n\t\t\t\ttotalchars += strings[i].length();\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void readArrayList(List&lt;String&gt; stringsList) {\r\n\t\tlong totalchars = 0;\r\n\t\tfor (int j = 0; j &lt; ITERATIONS; j++) {\r\n\t\t\ttotalchars = 0;\r\n\t\t\tfor (int i = 0; i &lt; stringsList.size(); i++) {\r\n\t\t\t\ttotalchars += stringsList.get(i).length();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Array or List in Java. Which is faster?","body":"<p>I wrote a little benchmark to compare ArrayLists with Arrays. On my old-ish laptop, the time to traverse through a 5000-element arraylist, 1000 times, was about 10 milliseconds slower than the equivalent array code. </p>\n\n<p>So, if you're doing nothing but iterating the list, and you're doing it a lot, then <em>maybe</em> it's worth the optimisation. Otherwise I'd use the List, because it'll make it easier when you <em>do</em> need to optimise the code.</p>\n\n<p>n.b. I <em>did</em> notice that using <code>for String s: stringsList</code> was about 50% slower than using an old-style for-loop to access the list. Go figure... Here's the two functions I timed; the array and list were filled with 5000 random (different) strings.</p>\n\n<pre><code>private static void readArray(String[] strings) {\n    long totalchars = 0;\n    for (int j = 0; j &lt; ITERATIONS; j++) {\n        totalchars = 0;\n        for (int i = 0; i &lt; strings.length; i++) {\n            totalchars += strings[i].length();\n\n        }\n    }\n}\n\nprivate static void readArrayList(List&lt;String&gt; stringsList) {\n    long totalchars = 0;\n    for (int j = 0; j &lt; ITERATIONS; j++) {\n        totalchars = 0;\n        for (int i = 0; i &lt; stringsList.size(); i++) {\n            totalchars += stringsList.get(i).length();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1238892914,"creation_date":1238892914,"answer_id":718145,"question_id":716597,"body_markdown":"If you have thousands, consider using a trie. A trie is a tree-like structure that merges the common prefixes of the stored string.\r\n\r\nFor example, if the strings were \r\n\r\n    intern\r\n    international\r\n    internationalize\r\n    internet\r\n    internets\r\n\r\nThe trie would store:\r\n\r\n    intern\r\n     -&gt; \\0\r\n     international\r\n     -&gt; \\0\r\n     -&gt; ize\\0\r\n     net\r\n     -&gt;\\0\r\n     -&gt;s\\0\r\n\r\nThe strings requires 57 characters (including the null terminator, &#39;\\0&#39;) for storage, plus whatever the size of the String object that holds them. (In truth, we should  probably round all sizes up to multiples of 16, but...) Call it 57 + 5 = 62 bytes, roughly.\r\n\r\n\r\nThe trie requires 29 (including the null terminator, &#39;\\0&#39;) for storage, plus sizeof the trie nodes, which are a ref to an array and a list of child trie nodes.\r\n\r\nFor this example, that probably comes out about the same; for thousands, it probably comes out less as long as you do have common prefixes.\r\n\r\nNow, when using the trie in other code, you&#39;ll have to convert to String, probably using a StringBuffer as an intermediary. If many of the strings are in use at once as Strings, outside the trie, it&#39;s a loss.\r\n\r\nBut if you&#39;re only using a few at the time -- say, to look up things in a dictionary -- the trie can save you a lot of space. Definitely less space than storing them in a HashSet.\r\n\r\nYou say you&#39;re accessing them &quot;serially&quot; -- if that means sequentially an alphabetically, the trie also obviously gives you alphabetical order for free, if you iterate it depth-first.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>If you have thousands, consider using a trie. A trie is a tree-like structure that merges the common prefixes of the stored string.</p>\n\n<p>For example, if the strings were </p>\n\n<pre><code>intern\ninternational\ninternationalize\ninternet\ninternets\n</code></pre>\n\n<p>The trie would store:</p>\n\n<pre><code>intern\n -&gt; \\0\n international\n -&gt; \\0\n -&gt; ize\\0\n net\n -&gt;\\0\n -&gt;s\\0\n</code></pre>\n\n<p>The strings requires 57 characters (including the null terminator, '\\0') for storage, plus whatever the size of the String object that holds them. (In truth, we should  probably round all sizes up to multiples of 16, but...) Call it 57 + 5 = 62 bytes, roughly.</p>\n\n<p>The trie requires 29 (including the null terminator, '\\0') for storage, plus sizeof the trie nodes, which are a ref to an array and a list of child trie nodes.</p>\n\n<p>For this example, that probably comes out about the same; for thousands, it probably comes out less as long as you do have common prefixes.</p>\n\n<p>Now, when using the trie in other code, you'll have to convert to String, probably using a StringBuffer as an intermediary. If many of the strings are in use at once as Strings, outside the trie, it's a loss.</p>\n\n<p>But if you're only using a few at the time -- say, to look up things in a dictionary -- the trie can save you a lot of space. Definitely less space than storing them in a HashSet.</p>\n\n<p>You say you're accessing them \"serially\" -- if that means sequentially an alphabetically, the trie also obviously gives you alphabetical order for free, if you iterate it depth-first.</p>\n"},{"tags":[],"owner":{"account_id":199672,"reputation":349,"user_id":445133,"display_name":"JRalph"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1284217035,"creation_date":1284217035,"answer_id":3691444,"question_id":716597,"body_markdown":"Depending on the implementation. it&#39;s possible that an array of primitive types will be smaller and more efficient than ArrayList. This is because the array will store the values directly in a contiguous block of memory, while the simplest ArrayList implementation will store pointers to each value. On a 64-bit platform especially, this can make a huge difference.\r\n\r\nOf course, it&#39;s possible for the jvm implementation to have a special case for this situation, in which case the performance will be the same. ","title":"Array or List in Java. Which is faster?","body":"<p>Depending on the implementation. it's possible that an array of primitive types will be smaller and more efficient than ArrayList. This is because the array will store the values directly in a contiguous block of memory, while the simplest ArrayList implementation will store pointers to each value. On a 64-bit platform especially, this can make a huge difference.</p>\n\n<p>Of course, it's possible for the jvm implementation to have a special case for this situation, in which case the performance will be the same. </p>\n"},{"tags":[],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1343253221,"creation_date":1343253221,"answer_id":11659220,"question_id":716597,"body_markdown":"It depends on how you have to access it.\r\n \r\nAfter storing, if you mainly want to do search operation, with little or no insert/delete, then go for Array (as search is done in O(1) in arrays, whereas add/delete may need re-ordering of the elements).\r\n \r\nAfter storing, if your main purpose is to add/delete strings, with little or no search operation, then go for List. ","title":"Array or List in Java. Which is faster?","body":"<p>It depends on how you have to access it.</p>\n\n<p>After storing, if you mainly want to do search operation, with little or no insert/delete, then go for Array (as search is done in O(1) in arrays, whereas add/delete may need re-ordering of the elements).</p>\n\n<p>After storing, if your main purpose is to add/delete strings, with little or no search operation, then go for List. </p>\n"},{"tags":[],"owner":{"account_id":46006,"reputation":952,"user_id":135791,"display_name":"AbePralle"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1490121989,"creation_date":1347760256,"answer_id":12443858,"question_id":716597,"body_markdown":"I agree that in most cases you should choose the flexibility and elegance of ArrayLists over arrays - and in most cases the impact to program performance will be negligible.\r\n\r\nHowever, if you&#39;re doing constant, heavy iteration with little structural change (no adds and removes) for, say, software graphics rendering or a custom virtual machine, my sequential access benchmarking tests show that **ArrayLists are 1.5x slower than arrays** on my system (Java 1.6 on my one year-old iMac).\r\n\r\nSome code:\r\n\r\n    import java.util.*;\r\n\r\n    public class ArrayVsArrayList {\r\n        static public void main( String[] args ) {\r\n\r\n            String[] array = new String[300];\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(300);\r\n\r\n            for (int i=0; i&lt;300; ++i) {\r\n                if (Math.random() &gt; 0.5) {\r\n                    array[i] = &quot;abc&quot;;\r\n                } else {\r\n                    array[i] = &quot;xyz&quot;;\r\n                }\r\n\r\n                list.add( array[i] );\r\n            }\r\n\r\n            int iterations = 100000000;\r\n            long start_ms;\r\n            int sum;\r\n\r\n            start_ms = System.currentTimeMillis();\r\n            sum = 0;\r\n\r\n            for (int i=0; i&lt;iterations; ++i) {\r\n              for (int j=0; j&lt;300; ++j) sum += array[j].length();\r\n            }\r\n            \r\n            System.out.println( (System.currentTimeMillis() - start_ms) + &quot; ms (array)&quot; );\r\n            // Prints ~13,500 ms on my system\r\n\r\n            start_ms = System.currentTimeMillis();\r\n            sum = 0;\r\n\r\n            for (int i=0; i&lt;iterations; ++i) {\r\n              for (int j=0; j&lt;300; ++j) sum += list.get(j).length();\r\n            }\r\n            \r\n            System.out.println( (System.currentTimeMillis() - start_ms) + &quot; ms (ArrayList)&quot; );\r\n            // Prints ~20,800 ms on my system - about 1.5x slower than direct array access\r\n        }\r\n    }\r\n\r\n","title":"Array or List in Java. Which is faster?","body":"<p>I agree that in most cases you should choose the flexibility and elegance of ArrayLists over arrays - and in most cases the impact to program performance will be negligible.</p>\n\n<p>However, if you're doing constant, heavy iteration with little structural change (no adds and removes) for, say, software graphics rendering or a custom virtual machine, my sequential access benchmarking tests show that <strong>ArrayLists are 1.5x slower than arrays</strong> on my system (Java 1.6 on my one year-old iMac).</p>\n\n<p>Some code:</p>\n\n<pre><code>import java.util.*;\n\npublic class ArrayVsArrayList {\n    static public void main( String[] args ) {\n\n        String[] array = new String[300];\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(300);\n\n        for (int i=0; i&lt;300; ++i) {\n            if (Math.random() &gt; 0.5) {\n                array[i] = \"abc\";\n            } else {\n                array[i] = \"xyz\";\n            }\n\n            list.add( array[i] );\n        }\n\n        int iterations = 100000000;\n        long start_ms;\n        int sum;\n\n        start_ms = System.currentTimeMillis();\n        sum = 0;\n\n        for (int i=0; i&lt;iterations; ++i) {\n          for (int j=0; j&lt;300; ++j) sum += array[j].length();\n        }\n\n        System.out.println( (System.currentTimeMillis() - start_ms) + \" ms (array)\" );\n        // Prints ~13,500 ms on my system\n\n        start_ms = System.currentTimeMillis();\n        sum = 0;\n\n        for (int i=0; i&lt;iterations; ++i) {\n          for (int j=0; j&lt;300; ++j) sum += list.get(j).length();\n        }\n\n        System.out.println( (System.currentTimeMillis() - start_ms) + \" ms (ArrayList)\" );\n        // Prints ~20,800 ms on my system - about 1.5x slower than direct array access\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1952298,"reputation":91,"user_id":1756134,"display_name":"Thomas Mauch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677514697,"creation_date":1350645024,"answer_id":12972979,"question_id":716597,"body_markdown":"If you can live with a fixed size, arrays will be faster and need less memory.\r\n\r\nIf you need the flexibility of the List interface with adding and removing elements, the question remains which implementation you should choose. Often ArrayList is recommended and used for any case, but also ArrayList has its performance problems if elements at the beginning or in the middle of the list must be removed or inserted.\r\n\r\nYou therefore may want to have a look at https://dzone.com/articles/gaplist-lightning-fast-list which introduces GapList. This new list implementation combines the strengths of both ArrayList and LinkedList resulting in very good performance for nearly all operations. Get it at https://github.com/magicwerk/brownies-collections.","title":"Array or List in Java. Which is faster?","body":"<p>If you can live with a fixed size, arrays will be faster and need less memory.</p>\n<p>If you need the flexibility of the List interface with adding and removing elements, the question remains which implementation you should choose. Often ArrayList is recommended and used for any case, but also ArrayList has its performance problems if elements at the beginning or in the middle of the list must be removed or inserted.</p>\n<p>You therefore may want to have a look at <a href=\"https://dzone.com/articles/gaplist-lightning-fast-list\" rel=\"nofollow noreferrer\">https://dzone.com/articles/gaplist-lightning-fast-list</a> which introduces GapList. This new list implementation combines the strengths of both ArrayList and LinkedList resulting in very good performance for nearly all operations. Get it at <a href=\"https://github.com/magicwerk/brownies-collections\" rel=\"nofollow noreferrer\">https://github.com/magicwerk/brownies-collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1369031291,"creation_date":1368621928,"answer_id":16565376,"question_id":716597,"body_markdown":"Although the answers proposing to use ArrayList do make sense in most scenario, the actual question of relative performance has not really been answered.\n\nThere are a few things you can do with an array:\n\n- create it\n- set an item\n- get an item\n- clone/copy it\n\n## General conclusion\n\n**Although get and set operations are somewhat slower on an ArrayList** (resp. 1 and 3 nanosecond per call on my machine), **there is very little overhead of using an ArrayList vs. an array for any non-intensive use.** There are however a few things to keep in mind:\n\n- resizing operations on a list (when calling `list.add(...)`) are costly and one should try to set the initial capacity at an adequate level when possible (note that the same issue arises when using an array)\n- when dealing with primitives, arrays can be significantly faster as they will allow one to avoid many boxing/unboxing conversions\n- an application that only gets/sets values in an ArrayList (not very common!) could see a performance gain of more than 25% by switching to an array\n\n## Detailed results\n\nHere are the results I measured for those three operations using the [jmh benchmarking library][0] (times in nanoseconds) with JDK 7 on a standard x86 desktop machine. Note that ArrayList are never resized in the tests to make sure results are comparable. [Benchmark code available here][3].\n\n## Array/ArrayList Creation\n\nI ran 4 tests, executing the following statements:\n\n- createArray1: `Integer[] array = new Integer[1];`\n- createList1: `List&lt;Integer&gt; list = new ArrayList&lt;&gt; (1);`\n- createArray10000: `Integer[] array = new Integer[10000];`\n- createList10000: `List&lt;Integer&gt; list = new ArrayList&lt;&gt; (10000);`\n\nResults (in nanoseconds per call, 95% confidence):\n\n    a.p.g.a.ArrayVsList.CreateArray1         [10.933, 11.097]\n    a.p.g.a.ArrayVsList.CreateList1          [10.799, 11.046]\n    a.p.g.a.ArrayVsList.CreateArray10000    [394.899, 404.034]\n    a.p.g.a.ArrayVsList.CreateList10000     [396.706, 401.266]\n\n**Conclusion: no noticeable difference**.\n\n## get operations\n\nI ran 2 tests, executing the following statements:\n\n- getList: `return list.get(0);`\n- getArray: `return array[0];`\n\nResults (in nanoseconds per call, 95% confidence):\n\n    a.p.g.a.ArrayVsList.getArray   [2.958, 2.984]\n    a.p.g.a.ArrayVsList.getList    [3.841, 3.874]\n\n**Conclusion: getting from an array is about 25% faster** than getting from an ArrayList, although the difference is only on the order of one nanosecond.\n\n## set operations\n\nI ran 2 tests, executing the following statements:\n\n- setList: `list.set(0, value);`\n- setArray: `array[0] = value;`\n\nResults (in nanoseconds per call):\n\n    a.p.g.a.ArrayVsList.setArray   [4.201, 4.236]\n    a.p.g.a.ArrayVsList.setList    [6.783, 6.877]\n\n**Conclusion: set operations on arrays are about 40% faster** than on lists, but, as for get, each set operation takes a few nanoseconds - so for the difference to reach 1 second, one would need to set items in the list/array hundreds of millions of times!\n\n# clone/copy\n\nArrayList&#39;s copy constructor delegates to `Arrays.copyOf` so performance is identical to array copy (copying an array via `clone`, `Arrays.copyOf` or `System.arrayCopy` [makes no material difference performance-wise][1]).\n\n [0]: http://openjdk.java.net/projects/code-tools/jmh/\n [1]: https://stackoverflow.com/questions/12157300/clone-or-arrays-copyof\n [3]: https://bitbucket.org/assylias/performance/src/06d31f92c240/src/main/java/com/assylias/performance/ArrayVsList.java?at=master","title":"Array or List in Java. Which is faster?","body":"<p>Although the answers proposing to use ArrayList do make sense in most scenario, the actual question of relative performance has not really been answered.</p>\n<p>There are a few things you can do with an array:</p>\n<ul>\n<li>create it</li>\n<li>set an item</li>\n<li>get an item</li>\n<li>clone/copy it</li>\n</ul>\n<h2>General conclusion</h2>\n<p><strong>Although get and set operations are somewhat slower on an ArrayList</strong> (resp. 1 and 3 nanosecond per call on my machine), <strong>there is very little overhead of using an ArrayList vs. an array for any non-intensive use.</strong> There are however a few things to keep in mind:</p>\n<ul>\n<li>resizing operations on a list (when calling <code>list.add(...)</code>) are costly and one should try to set the initial capacity at an adequate level when possible (note that the same issue arises when using an array)</li>\n<li>when dealing with primitives, arrays can be significantly faster as they will allow one to avoid many boxing/unboxing conversions</li>\n<li>an application that only gets/sets values in an ArrayList (not very common!) could see a performance gain of more than 25% by switching to an array</li>\n</ul>\n<h2>Detailed results</h2>\n<p>Here are the results I measured for those three operations using the <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">jmh benchmarking library</a> (times in nanoseconds) with JDK 7 on a standard x86 desktop machine. Note that ArrayList are never resized in the tests to make sure results are comparable. <a href=\"https://bitbucket.org/assylias/performance/src/06d31f92c240/src/main/java/com/assylias/performance/ArrayVsList.java?at=master\" rel=\"noreferrer\">Benchmark code available here</a>.</p>\n<h2>Array/ArrayList Creation</h2>\n<p>I ran 4 tests, executing the following statements:</p>\n<ul>\n<li>createArray1: <code>Integer[] array = new Integer[1];</code></li>\n<li>createList1: <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt; (1);</code></li>\n<li>createArray10000: <code>Integer[] array = new Integer[10000];</code></li>\n<li>createList10000: <code>List&lt;Integer&gt; list = new ArrayList&lt;&gt; (10000);</code></li>\n</ul>\n<p>Results (in nanoseconds per call, 95% confidence):</p>\n<pre><code>a.p.g.a.ArrayVsList.CreateArray1         [10.933, 11.097]\na.p.g.a.ArrayVsList.CreateList1          [10.799, 11.046]\na.p.g.a.ArrayVsList.CreateArray10000    [394.899, 404.034]\na.p.g.a.ArrayVsList.CreateList10000     [396.706, 401.266]\n</code></pre>\n<p><strong>Conclusion: no noticeable difference</strong>.</p>\n<h2>get operations</h2>\n<p>I ran 2 tests, executing the following statements:</p>\n<ul>\n<li>getList: <code>return list.get(0);</code></li>\n<li>getArray: <code>return array[0];</code></li>\n</ul>\n<p>Results (in nanoseconds per call, 95% confidence):</p>\n<pre><code>a.p.g.a.ArrayVsList.getArray   [2.958, 2.984]\na.p.g.a.ArrayVsList.getList    [3.841, 3.874]\n</code></pre>\n<p><strong>Conclusion: getting from an array is about 25% faster</strong> than getting from an ArrayList, although the difference is only on the order of one nanosecond.</p>\n<h2>set operations</h2>\n<p>I ran 2 tests, executing the following statements:</p>\n<ul>\n<li>setList: <code>list.set(0, value);</code></li>\n<li>setArray: <code>array[0] = value;</code></li>\n</ul>\n<p>Results (in nanoseconds per call):</p>\n<pre><code>a.p.g.a.ArrayVsList.setArray   [4.201, 4.236]\na.p.g.a.ArrayVsList.setList    [6.783, 6.877]\n</code></pre>\n<p><strong>Conclusion: set operations on arrays are about 40% faster</strong> than on lists, but, as for get, each set operation takes a few nanoseconds - so for the difference to reach 1 second, one would need to set items in the list/array hundreds of millions of times!</p>\n<h1>clone/copy</h1>\n<p>ArrayList's copy constructor delegates to <code>Arrays.copyOf</code> so performance is identical to array copy (copying an array via <code>clone</code>, <code>Arrays.copyOf</code> or <code>System.arrayCopy</code> <a href=\"https://stackoverflow.com/questions/12157300/clone-or-arrays-copyof\">makes no material difference performance-wise</a>).</p>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382605332,"creation_date":1369384504,"answer_id":16730763,"question_id":716597,"body_markdown":"UPDATE:\r\n\r\nAs Mark noted there is no significant difference after JVM warm up (several test passes). Checked with re-created array or even new pass starting with new row of matrix. With great probability this signs simple array with index access is not to be used in favor of collections.\r\n\r\nStill first 1-2 passes simple array is 2-3 times faster.\r\n\r\nORIGINAL POST:\r\n\r\nToo much words for the subject too simple to check. **Without any question array is several times faster than any class container**. I run on this question looking for alternatives for my performance critical section. Here is the prototype code I built to check real situation:\r\n\r\n    import java.util.List;\r\n    import java.util.Arrays;\r\n    \r\n    public class IterationTest {\r\n    \r\n        private static final long MAX_ITERATIONS = 1000000000;\r\n    \r\n        public static void main(String [] args) {\r\n    \r\n            Integer [] array = {1, 5, 3, 5};\r\n            List&lt;Integer&gt; list = Arrays.asList(array);\r\n    \r\n            long start = System.currentTimeMillis();\r\n            int test_sum = 0;\r\n            for (int i = 0; i &lt; MAX_ITERATIONS; ++i) {\r\n    //            for (int e : array) {\r\n                for (int e : list) {\r\n                    test_sum += e;\r\n                }\r\n            }\r\n            long stop = System.currentTimeMillis();\r\n    \r\n            long ms = (stop - start);\r\n            System.out.println(&quot;Time: &quot; + ms);\r\n        }\r\n    }\r\n\r\nAnd here is the answer:\r\n\r\nBased on array (line 16 is active):\r\n\r\n    Time: 7064\r\n\r\nBased on list (line 17 is active):\r\n\r\n    Time: 20950\r\n\r\nAny more comment on &#39;faster&#39;? This is quite understood. The question is when about 3 time faster is better for you than flexibility of List. But this is another question.\r\nBy the way I checked this too based on manually constructed `ArrayList`. Almost the same result.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>UPDATE:</p>\n\n<p>As Mark noted there is no significant difference after JVM warm up (several test passes). Checked with re-created array or even new pass starting with new row of matrix. With great probability this signs simple array with index access is not to be used in favor of collections.</p>\n\n<p>Still first 1-2 passes simple array is 2-3 times faster.</p>\n\n<p>ORIGINAL POST:</p>\n\n<p>Too much words for the subject too simple to check. <strong>Without any question array is several times faster than any class container</strong>. I run on this question looking for alternatives for my performance critical section. Here is the prototype code I built to check real situation:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Arrays;\n\npublic class IterationTest {\n\n    private static final long MAX_ITERATIONS = 1000000000;\n\n    public static void main(String [] args) {\n\n        Integer [] array = {1, 5, 3, 5};\n        List&lt;Integer&gt; list = Arrays.asList(array);\n\n        long start = System.currentTimeMillis();\n        int test_sum = 0;\n        for (int i = 0; i &lt; MAX_ITERATIONS; ++i) {\n//            for (int e : array) {\n            for (int e : list) {\n                test_sum += e;\n            }\n        }\n        long stop = System.currentTimeMillis();\n\n        long ms = (stop - start);\n        System.out.println(\"Time: \" + ms);\n    }\n}\n</code></pre>\n\n<p>And here is the answer:</p>\n\n<p>Based on array (line 16 is active):</p>\n\n<pre><code>Time: 7064\n</code></pre>\n\n<p>Based on list (line 17 is active):</p>\n\n<pre><code>Time: 20950\n</code></pre>\n\n<p>Any more comment on 'faster'? This is quite understood. The question is when about 3 time faster is better for you than flexibility of List. But this is another question.\nBy the way I checked this too based on manually constructed <code>ArrayList</code>. Almost the same result.</p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386197665,"creation_date":1386197665,"answer_id":20387851,"question_id":716597,"body_markdown":"List is the preferred way in java 1.5 and beyond as it can use generics. Arrays cannot have generics. Also Arrays have a pre defined length, which cannot grow dynamically. Initializing an array with a large size is not a good idea.\r\nArrayList is the the way to declare an array with generics and it can dynamically grow.\r\nBut if delete and insert is used more frequently, then linked list is the fastest data structure to be used.","title":"Array or List in Java. Which is faster?","body":"<p>List is the preferred way in java 1.5 and beyond as it can use generics. Arrays cannot have generics. Also Arrays have a pre defined length, which cannot grow dynamically. Initializing an array with a large size is not a good idea.\nArrayList is the the way to declare an array with generics and it can dynamically grow.\nBut if delete and insert is used more frequently, then linked list is the fastest data structure to be used.</p>\n"},{"tags":[],"owner":{"account_id":1212010,"reputation":7154,"user_id":1180387,"accept_rate":67,"display_name":"Nik"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1392791820,"creation_date":1392791820,"answer_id":21872909,"question_id":716597,"body_markdown":"Arrays recommended everywhere you may use them instead of list, especially in case if you know items count and size would not be changing. \r\n\r\nSee Oracle Java best practice: http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056\r\n\r\nOf course, if you need add and remove objects from collection many times easy use lists.","title":"Array or List in Java. Which is faster?","body":"<p>Arrays recommended everywhere you may use them instead of list, especially in case if you know items count and size would not be changing. </p>\n\n<p>See Oracle Java best practice: <a href=\"http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056\" rel=\"nofollow\">http://docs.oracle.com/cd/A97688_16/generic.903/bp/java.htm#1007056</a></p>\n\n<p>Of course, if you need add and remove objects from collection many times easy use lists.</p>\n"},{"tags":[],"owner":{"account_id":3270638,"reputation":216,"user_id":2754099,"display_name":"Alex Hayward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414749574,"creation_date":1414685657,"answer_id":26658046,"question_id":716597,"body_markdown":"A lot of microbenchmarks given here have found numbers of a few nanoseconds for things like array/ArrayList reads. This is quite reasonable if everything is in your L1 cache.\r\n\r\nA higher level cache or main memory access can have order of magnitude times of something like 10nS-100nS, vs more like 1nS for L1 cache. Accessing an ArrayList has an extra memory indirection, and in a real application you could pay this cost anything from almost never to every time, depending on what your code is doing between accesses. And, of course, if you have a lot of small ArrayLists this might add to your memory use and make it more likely you&#39;ll have cache misses.\r\n\r\nThe original poster appears to be using just one and accessing a lot of contents in a short time, so it should be no great hardship. But it might be different for other people, and you should watch out when interpreting microbenchmarks.\r\n\r\nJava Strings, however, are appallingly wasteful, especially if you store lots of small ones (just look at them with a memory analyzer, it seems to be &gt; 60 bytes for a string of a few characters). An array of strings has an indirection to the String object, and another from the String object to a char[] which contains the string itself. If anything&#39;s going to blow your L1 cache it&#39;s this, combined with thousands or tens of thousands of Strings. So, if you&#39;re serious - really serious - about scraping out as much performance as possible then you could look at doing it differently. You could, say, hold two arrays, a char[] with all the strings in it, one after another, and an int[] with offsets to the starts. This will be a PITA to do anything with, and you almost certainly don&#39;t need it. And if you do, you&#39;ve chosen the wrong language.\r\n","title":"Array or List in Java. Which is faster?","body":"<p>A lot of microbenchmarks given here have found numbers of a few nanoseconds for things like array/ArrayList reads. This is quite reasonable if everything is in your L1 cache.</p>\n\n<p>A higher level cache or main memory access can have order of magnitude times of something like 10nS-100nS, vs more like 1nS for L1 cache. Accessing an ArrayList has an extra memory indirection, and in a real application you could pay this cost anything from almost never to every time, depending on what your code is doing between accesses. And, of course, if you have a lot of small ArrayLists this might add to your memory use and make it more likely you'll have cache misses.</p>\n\n<p>The original poster appears to be using just one and accessing a lot of contents in a short time, so it should be no great hardship. But it might be different for other people, and you should watch out when interpreting microbenchmarks.</p>\n\n<p>Java Strings, however, are appallingly wasteful, especially if you store lots of small ones (just look at them with a memory analyzer, it seems to be > 60 bytes for a string of a few characters). An array of strings has an indirection to the String object, and another from the String object to a char[] which contains the string itself. If anything's going to blow your L1 cache it's this, combined with thousands or tens of thousands of Strings. So, if you're serious - really serious - about scraping out as much performance as possible then you could look at doing it differently. You could, say, hold two arrays, a char[] with all the strings in it, one after another, and an int[] with offsets to the starts. This will be a PITA to do anything with, and you almost certainly don't need it. And if you do, you've chosen the wrong language.</p>\n"},{"tags":[],"owner":{"account_id":2472300,"reputation":3706,"user_id":2153834,"accept_rate":67,"display_name":"Vipin Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598853035,"creation_date":1456122289,"answer_id":35547033,"question_id":716597,"body_markdown":"&gt; ArrayList internally uses  array  object to add(or store) the\r\n&gt; elements. In other words, ArrayList is backed by Array data\r\n&gt; -structure.The array of ArrayList is resizable (or dynamic).\r\n\r\n  \r\n\r\n**Array is faster than ArrayList** because ArrayList internally uses an array. if we can directly add elements in Array and indirectly add an element in \r\nArray through ArrayList always directly mechanism is faster than an indirect mechanism.\r\n\r\nThere is two overloaded add() methods in ArrayList class:  \r\n1.  `add(Object)`: adds an object to the end of the list.  \r\n2.  `add(int index, Object )`: inserts the specified object at the specified position in the list.\r\n\r\n**How the size of ArrayList grows dynamically?** \r\n  \r\n\r\n    public boolean add(E e)        \r\n    {       \r\n         ensureCapacity(size+1);\r\n         elementData[size++] = e;         \r\n         return true;\r\n    }\r\nAn important point to note from the above code is that we are checking the capacity of the ArrayList, before adding the element. ensureCapacity()  determines what is the current size of occupied elements and what is the maximum size of the array. If the size of the filled elements (including the new element to be added to the ArrayList class) is greater than the maximum size of the array then increase the size of the array. But the size of the array can not be increased dynamically. So what happens internally is new Array is created with the capacity\r\n\r\nTill Java 6\r\n\r\n   \r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\n\r\n(Update) From Java 7\r\n\r\n     int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\r\n\r\n\r\nalso, data from the old array is copied into the new array.\r\n\r\nHaving overhead methods in ArrayList that&#39;s why Array is faster than `ArrayList`.","title":"Array or List in Java. Which is faster?","body":"<blockquote>\n<p>ArrayList internally uses  array  object to add(or store) the\nelements. In other words, ArrayList is backed by Array data\n-structure.The array of ArrayList is resizable (or dynamic).</p>\n</blockquote>\n<p><strong>Array is faster than ArrayList</strong> because ArrayList internally uses an array. if we can directly add elements in Array and indirectly add an element in\nArray through ArrayList always directly mechanism is faster than an indirect mechanism.</p>\n<p>There is two overloaded add() methods in ArrayList class:</p>\n<ol>\n<li><code>add(Object)</code>: adds an object to the end of the list.</li>\n<li><code>add(int index, Object )</code>: inserts the specified object at the specified position in the list.</li>\n</ol>\n<p><strong>How the size of ArrayList grows dynamically?</strong></p>\n<pre><code>public boolean add(E e)        \n{       \n     ensureCapacity(size+1);\n     elementData[size++] = e;         \n     return true;\n}\n</code></pre>\n<p>An important point to note from the above code is that we are checking the capacity of the ArrayList, before adding the element. ensureCapacity()  determines what is the current size of occupied elements and what is the maximum size of the array. If the size of the filled elements (including the new element to be added to the ArrayList class) is greater than the maximum size of the array then increase the size of the array. But the size of the array can not be increased dynamically. So what happens internally is new Array is created with the capacity</p>\n<p>Till Java 6</p>\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n<p>(Update) From Java 7</p>\n<pre><code> int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);\n</code></pre>\n<p>also, data from the old array is copied into the new array.</p>\n<p>Having overhead methods in ArrayList that's why Array is faster than <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464811214,"creation_date":1464811214,"answer_id":37577736,"question_id":716597,"body_markdown":"None of the answers had information that I was interested in - repetitive scan of the same array many many times. Had to create a JMH test for this.\r\n\r\n**Results** (Java 1.8.0_66 x32, iterating plain array is at least 5 times quicker than ArrayList):\r\n\r\n\tBenchmark                    Mode  Cnt   Score   Error  Units\r\n\tMyBenchmark.testArrayForGet  avgt   10   8.121 ? 0.233  ms/op\r\n\tMyBenchmark.testListForGet   avgt   10  37.416 ? 0.094  ms/op\r\n\tMyBenchmark.testListForEach  avgt   10  75.674 ? 1.897  ms/op\r\n\r\n**Test**\r\n\r\n    package my.jmh.test;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Fork;\r\n    import org.openjdk.jmh.annotations.Measurement;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    import org.openjdk.jmh.annotations.Scope;\r\n    import org.openjdk.jmh.annotations.State;\r\n    import org.openjdk.jmh.annotations.Warmup;\r\n\r\n    @State(Scope.Benchmark)\r\n    @Fork(1)\r\n    @Warmup(iterations = 5, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 10)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public class MyBenchmark {\r\n\r\n        public final static int ARR_SIZE = 100;\r\n        public final static int ITER_COUNT = 100000;\r\n\r\n        String arr[] = new String[ARR_SIZE];\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(ARR_SIZE);\r\n\r\n        public MyBenchmark() {\r\n            for( int i = 0; i &lt; ARR_SIZE; i++ ) {\r\n                list.add(null);\r\n            }\r\n        }\r\n\r\n        @Benchmark\r\n        public void testListForEach() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( String str : list ) {\r\n                    if( str != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n        @Benchmark\r\n        public void testListForGet() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( int j = 0; j &lt; ARR_SIZE; j++ ) {\r\n                    if( list.get(j) != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n        @Benchmark\r\n        public void testArrayForGet() {\r\n            int count = 0;\r\n            for( int i = 0; i &lt; ITER_COUNT; i++ ) {\r\n                for( int j = 0; j &lt; ARR_SIZE; j++ ) {\r\n                    if( arr[j] != null )\r\n                        count++;\r\n                }\r\n            }\r\n            if( count &gt; 0 )\r\n                System.out.print(count);\r\n        }\r\n\r\n    }\r\n","title":"Array or List in Java. Which is faster?","body":"<p>None of the answers had information that I was interested in - repetitive scan of the same array many many times. Had to create a JMH test for this.</p>\n\n<p><strong>Results</strong> (Java 1.8.0_66 x32, iterating plain array is at least 5 times quicker than ArrayList):</p>\n\n<pre><code>Benchmark                    Mode  Cnt   Score   Error  Units\nMyBenchmark.testArrayForGet  avgt   10   8.121 ? 0.233  ms/op\nMyBenchmark.testListForGet   avgt   10  37.416 ? 0.094  ms/op\nMyBenchmark.testListForEach  avgt   10  75.674 ? 1.897  ms/op\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>package my.jmh.test;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Fork;\nimport org.openjdk.jmh.annotations.Measurement;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\nimport org.openjdk.jmh.annotations.Scope;\nimport org.openjdk.jmh.annotations.State;\nimport org.openjdk.jmh.annotations.Warmup;\n\n@State(Scope.Benchmark)\n@Fork(1)\n@Warmup(iterations = 5, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 10)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\npublic class MyBenchmark {\n\n    public final static int ARR_SIZE = 100;\n    public final static int ITER_COUNT = 100000;\n\n    String arr[] = new String[ARR_SIZE];\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(ARR_SIZE);\n\n    public MyBenchmark() {\n        for( int i = 0; i &lt; ARR_SIZE; i++ ) {\n            list.add(null);\n        }\n    }\n\n    @Benchmark\n    public void testListForEach() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( String str : list ) {\n                if( str != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n    @Benchmark\n    public void testListForGet() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( int j = 0; j &lt; ARR_SIZE; j++ ) {\n                if( list.get(j) != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n    @Benchmark\n    public void testArrayForGet() {\n        int count = 0;\n        for( int i = 0; i &lt; ITER_COUNT; i++ ) {\n            for( int j = 0; j &lt; ARR_SIZE; j++ ) {\n                if( arr[j] != null )\n                    count++;\n            }\n        }\n        if( count &gt; 0 )\n            System.out.print(count);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465503473,"creation_date":1465503152,"answer_id":37735321,"question_id":716597,"body_markdown":"Arrays - It would always be better when we have to achieve faster fetching of results\r\n\r\nLists- Performs results on insertion and deletion since they can be done in O(1) and this also provides methods to add, fetch and delete data easily. Much easier to use.\r\n\r\nBut always remember that the fetching of data would be fast when the index position in array where the data is stored - is known. \r\n\r\nThis could be achieved well by sorting the array. Hence this increases the time to fetch the data (ie; storing the data + sorting the data + seek for the position where the data is found). Hence this increases additional latency to fetch the data from the array even they may be good at fetching the data sooner.\r\n\r\nHence this could be solved with trie data structure or ternary data structure. As discussed above the trie data structure would be very efficient in searching for the data the search for a particularly word can be done in O(1) magnitude. When time matters ie; if you have to search and retrieve data quickly you may go with trie data structure. \r\n\r\nIf you want your memory space to be consumed less and you wish to have a better performance then go with ternary data structure. Both these are suitable for storing huge number of strings (eg; like words contained in dictionary).\r\n","title":"Array or List in Java. Which is faster?","body":"<p>Arrays - It would always be better when we have to achieve faster fetching of results</p>\n\n<p>Lists- Performs results on insertion and deletion since they can be done in O(1) and this also provides methods to add, fetch and delete data easily. Much easier to use.</p>\n\n<p>But always remember that the fetching of data would be fast when the index position in array where the data is stored - is known. </p>\n\n<p>This could be achieved well by sorting the array. Hence this increases the time to fetch the data (ie; storing the data + sorting the data + seek for the position where the data is found). Hence this increases additional latency to fetch the data from the array even they may be good at fetching the data sooner.</p>\n\n<p>Hence this could be solved with trie data structure or ternary data structure. As discussed above the trie data structure would be very efficient in searching for the data the search for a particularly word can be done in O(1) magnitude. When time matters ie; if you have to search and retrieve data quickly you may go with trie data structure. </p>\n\n<p>If you want your memory space to be consumed less and you wish to have a better performance then go with ternary data structure. Both these are suitable for storing huge number of strings (eg; like words contained in dictionary).</p>\n"},{"tags":[],"owner":{"account_id":4181024,"reputation":2325,"user_id":3426053,"display_name":"boraseoksoon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482347431,"creation_date":1478199097,"answer_id":40409168,"question_id":716597,"body_markdown":"Since there are already a lot of good answers here, I would like to give you some other information of practical view, which is **insertion and iteration performance comparison : primitive array vs Linked-list in Java.**\r\n\r\nThis is actual simple performance check.&lt;br&gt; So, the result will depend on the machine performance.\r\n\r\nSource code used for this is below : \r\n\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n \r\n    public class Array_vs_LinkedList {\r\n \r\n\t    private final static int MAX_SIZE = 40000000;\r\n\r\n\t    public static void main(String[] args) {\r\n   \r\n\t\t    LinkedList lList = new LinkedList(); \r\n\r\n\t\t    /* insertion performance check */\r\n\r\n\t\t    long startTime = System.currentTimeMillis();\r\n\r\n    \t\tfor (int i=0; i&lt;MAX_SIZE; i++) {\r\n\t\t\t    lList.add(i);\r\n    \t\t}\r\n\r\n\t      \tlong stopTime = System.currentTimeMillis();\r\n      \t\tlong elapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Insert]LinkedList insert operation with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n \r\n    \t\tint[] arr = new int[MAX_SIZE];\r\n\r\n\t\t    startTime = System.currentTimeMillis();\r\n    \t\tfor(int i=0; i&lt;MAX_SIZE; i++){\r\n       \t\t\tarr[i] = i; \r\n    \t\t}\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Insert]Array Insert operation with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\r\n\r\n\t\t    /* iteration performance check */\r\n\t\t\r\n\t\t    startTime = System.currentTimeMillis();\r\n\r\n\t\t    Iterator itr = lList.iterator();\r\n\r\n    \t\twhile(itr.hasNext()) {\r\n\t\t\t    itr.next();\r\n      \t\t\t// System.out.println(&quot;Linked list running : &quot; + itr.next());\r\n    \t\t}\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Loop]LinkedList iteration with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\r\n\r\n\t\t    startTime = System.currentTimeMillis();\r\n\r\n            int t = 0;\r\n            for (int i=0; i &lt; MAX_SIZE; i++) {\r\n                t = arr[i];\r\n                // System.out.println(&quot;array running : &quot; + i);\r\n            }\r\n\r\n\t      \tstopTime = System.currentTimeMillis();\r\n      \t\telapsedTime = stopTime - startTime;\r\n      \t\tSystem.out.println(&quot;[Loop]Array iteration with &quot; + MAX_SIZE + &quot; number of integer elapsed time is &quot; + elapsedTime + &quot; millisecond.&quot;);\r\n\t    }\r\n    }\r\n\r\n\r\n\r\nPerformance Result is below :\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V8ALj.png","title":"Array or List in Java. Which is faster?","body":"<p>Since there are already a lot of good answers here, I would like to give you some other information of practical view, which is <strong>insertion and iteration performance comparison : primitive array vs Linked-list in Java.</strong></p>\n\n<p>This is actual simple performance check.<br> So, the result will depend on the machine performance.</p>\n\n<p>Source code used for this is below : </p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.LinkedList;\n\npublic class Array_vs_LinkedList {\n\n    private final static int MAX_SIZE = 40000000;\n\n    public static void main(String[] args) {\n\n        LinkedList lList = new LinkedList(); \n\n        /* insertion performance check */\n\n        long startTime = System.currentTimeMillis();\n\n        for (int i=0; i&lt;MAX_SIZE; i++) {\n            lList.add(i);\n        }\n\n        long stopTime = System.currentTimeMillis();\n        long elapsedTime = stopTime - startTime;\n        System.out.println(\"[Insert]LinkedList insert operation with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n        int[] arr = new int[MAX_SIZE];\n\n        startTime = System.currentTimeMillis();\n        for(int i=0; i&lt;MAX_SIZE; i++){\n            arr[i] = i; \n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Insert]Array Insert operation with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n\n        /* iteration performance check */\n\n        startTime = System.currentTimeMillis();\n\n        Iterator itr = lList.iterator();\n\n        while(itr.hasNext()) {\n            itr.next();\n            // System.out.println(\"Linked list running : \" + itr.next());\n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Loop]LinkedList iteration with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n\n\n        startTime = System.currentTimeMillis();\n\n        int t = 0;\n        for (int i=0; i &lt; MAX_SIZE; i++) {\n            t = arr[i];\n            // System.out.println(\"array running : \" + i);\n        }\n\n        stopTime = System.currentTimeMillis();\n        elapsedTime = stopTime - startTime;\n        System.out.println(\"[Loop]Array iteration with \" + MAX_SIZE + \" number of integer elapsed time is \" + elapsedTime + \" millisecond.\");\n    }\n}\n</code></pre>\n\n<p>Performance Result is below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/V8ALj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8ALj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":104202,"reputation":61,"user_id":278726,"display_name":"Xult"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1530627230,"creation_date":1530624545,"answer_id":51155879,"question_id":716597,"body_markdown":"I came here to get a better feeling for the performance impact of using lists over arrays. I had to adapt code here for my scenario: array/list of ~1000 ints using mostly getters, meaning array[j] vs. list.get(j)\r\n\r\nTaking the best of 7 to be unscientific about it (first few with list where 2.5x slower) I get this:\r\n\r\n    array Integer[] best 643ms iterator\r\n    ArrayList&lt;Integer&gt; best 1014ms iterator\r\n            \r\n    array Integer[] best 635ms getter\r\n    ArrayList&lt;Integer&gt; best 891ms getter (strange though)\r\n- so, very roughly 30% faster with array \r\n\r\nThe second reason for posting now is that no-one mentions the impact if you do math/matrix/simulation/optimization code with _nested_ loops.\r\n\r\nSay you have three nested levels and the inner loop is twice as slow you are looking at 8 times performance hit. Something that would run in a day now takes a week.\r\n\r\n*EDIT\r\nQuite shocked here, for kicks I tried declaring int[1000] rather than Integer[1000]\r\n\r\n    array int[] best 299ms iterator\r\n    array int[] best 296ms getter\r\n\r\nUsing Integer[] vs. int[] represents a double performance hit, ListArray&lt;Integer&gt; with iterator is 3x slower than int[]. Really thought Java&#39;s list implementations were similar to native arrays...\r\n\r\nCode for reference (call multiple times):\r\n\r\n        public static void testArray()\r\n        {\r\n        \tfinal long MAX_ITERATIONS = 1000000;\r\n        \tfinal int MAX_LENGTH = 1000;\r\n        \t    \t\r\n        \tRandom r = new Random();\r\n        \t\r\n            //Integer[] array = new Integer[MAX_LENGTH];\r\n        \tint[] array = new int[MAX_LENGTH];\r\n        \t\r\n        \tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()\r\n    \t\t{{\r\n    \t\t\tfor (int i = 0; i &lt; MAX_LENGTH; ++i)\r\n    \t\t\t{\r\n    \t\t\t\tint val = r.nextInt();\r\n    \t\t\t\tadd(val);\r\n    \t\t\t\tarray[i] = val;\r\n    \t\t\t}\r\n    \t\t}};\r\n    \r\n            long start = System.currentTimeMillis();\r\n            int test_sum = 0;\r\n            for (int i = 0; i &lt; MAX_ITERATIONS; ++i)\r\n            {\r\n    //\t\t\tfor (int e : array)\r\n    //\t\t\tfor (int e : list)        \t\r\n            \tfor (int j = 0; j &lt; MAX_LENGTH; ++j)\r\n            \t{\r\n            \t\tint e = array[j];\r\n    //        \t\tint e = list.get(j);\r\n                    test_sum += e;\r\n        \t\t}\r\n            }\r\n            \r\n            long stop = System.currentTimeMillis();\r\n    \r\n            long ms = (stop - start);\r\n            System.out.println(&quot;Time: &quot; + ms);\r\n        }","title":"Array or List in Java. Which is faster?","body":"<p>I came here to get a better feeling for the performance impact of using lists over arrays. I had to adapt code here for my scenario: array/list of ~1000 ints using mostly getters, meaning array[j] vs. list.get(j)</p>\n\n<p>Taking the best of 7 to be unscientific about it (first few with list where 2.5x slower) I get this:</p>\n\n<pre><code>array Integer[] best 643ms iterator\nArrayList&lt;Integer&gt; best 1014ms iterator\n\narray Integer[] best 635ms getter\nArrayList&lt;Integer&gt; best 891ms getter (strange though)\n</code></pre>\n\n<p>- so, very roughly 30% faster with array </p>\n\n<p>The second reason for posting now is that no-one mentions the impact if you do math/matrix/simulation/optimization code with <em>nested</em> loops.</p>\n\n<p>Say you have three nested levels and the inner loop is twice as slow you are looking at 8 times performance hit. Something that would run in a day now takes a week.</p>\n\n<p>*EDIT\nQuite shocked here, for kicks I tried declaring int[1000] rather than Integer[1000]</p>\n\n<pre><code>array int[] best 299ms iterator\narray int[] best 296ms getter\n</code></pre>\n\n<p>Using Integer[] vs. int[] represents a double performance hit, ListArray with iterator is 3x slower than int[]. Really thought Java's list implementations were similar to native arrays...</p>\n\n<p>Code for reference (call multiple times):</p>\n\n<pre><code>    public static void testArray()\n    {\n        final long MAX_ITERATIONS = 1000000;\n        final int MAX_LENGTH = 1000;\n\n        Random r = new Random();\n\n        //Integer[] array = new Integer[MAX_LENGTH];\n        int[] array = new int[MAX_LENGTH];\n\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;()\n        {{\n            for (int i = 0; i &lt; MAX_LENGTH; ++i)\n            {\n                int val = r.nextInt();\n                add(val);\n                array[i] = val;\n            }\n        }};\n\n        long start = System.currentTimeMillis();\n        int test_sum = 0;\n        for (int i = 0; i &lt; MAX_ITERATIONS; ++i)\n        {\n//          for (int e : array)\n//          for (int e : list)          \n            for (int j = 0; j &lt; MAX_LENGTH; ++j)\n            {\n                int e = array[j];\n//              int e = list.get(j);\n                test_sum += e;\n            }\n        }\n\n        long stop = System.currentTimeMillis();\n\n        long ms = (stop - start);\n        System.out.println(\"Time: \" + ms);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1604478070,"creation_date":1604478070,"answer_id":64676363,"question_id":716597,"body_markdown":"Which one to use depends on the problem. We need to look at the Big O.\r\n\r\n[![Big O Values of List and Array][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kQ9c5.png\r\n\r\n\r\nimage source: https://github.com/egonSchiele/grokking_algorithms","title":"Array or List in Java. Which is faster?","body":"<p>Which one to use depends on the problem. We need to look at the Big O.</p>\n<p><a href=\"https://i.stack.imgur.com/kQ9c5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kQ9c5.png\" alt=\"Big O Values of List and Array\" /></a></p>\n<p>image source: <a href=\"https://github.com/egonSchiele/grokking_algorithms\" rel=\"nofollow noreferrer\">https://github.com/egonSchiele/grokking_algorithms</a></p>\n"}],"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342415,"favorite_count":0,"down_vote_count":2,"up_vote_count":401,"accepted_answer_id":716619,"answer_count":32,"score":399,"last_activity_date":1677514697,"creation_date":1238824648,"question_id":716597,"body_markdown":"I have to keep thousands of strings in memory to be accessed serially in Java. Should I store them in an array or should I use some kind of List ?\r\n\r\nSince arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?","title":"Array or List in Java. Which is faster?","body":"<p>I have to keep thousands of strings in memory to be accessed serially in Java. Should I store them in an array or should I use some kind of List ?</p>\n\n<p>Since arrays keep all the data in a contiguous chunk of memory (unlike Lists), would the use of an array to store thousands of strings cause problems ?</p>\n"},{"tags":["java","exception","rmi"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1588124261,"creation_date":1330737058,"answer_id":9542464,"question_id":9531158,"body_markdown":"There are four cases of this exception.\r\n\r\n1. When exporting: you didn&#39;t run &#39;rmic&#39; and you didn&#39;t take the steps described in the preamble to the Javadoc for `UnicastRemoteObject` to make it unnecessary.\r\n\r\n2. When binding: the Registry doesn&#39;t have the stub or the remote interface or something they depend on on its classpath.\r\n\r\n3. when looking up: the client does&#39;t have these things on its classpath.\r\n\r\n4. When calling a remote method: you either sent something to the server of a class not present on its CLASSPATH, or received something from the server (including an exception) of a class not on your CLASSPATH: in both cases possibly a derived class or interface implementation of a class or interface mentioned in the remote interface&#39;s method signature.\r\n\r\nThis is case 2. The Registry can&#39;t find the named class.\r\n\r\nThere are several solutions:\r\n\r\n1. Start the Registry with a CLASSPATH that includes the relevant JARs or directories.\r\n\r\n2. Start the Registry in your server JVM, via `LocateRegistry.createRegistry().`\r\n\r\n3. Use dynamic stubs, as described in the preamble to the Javadoc of `UnicastRemoteObject.` However you may then still run into the same problem with the remote interface itself or a class that it depends on, in which case 1-3 above still apply to that class/those classes.\r\n\r\n4. Ensure that case (4) above doesn&#39;t occur.\r\n\r\n5. Use the codebase feature. This is really a deployment option and IMO something to be avoided at the initial development stage.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>There are four cases of this exception.</p>\n\n<ol>\n<li><p>When exporting: you didn't run 'rmic' and you didn't take the steps described in the preamble to the Javadoc for <code>UnicastRemoteObject</code> to make it unnecessary.</p></li>\n<li><p>When binding: the Registry doesn't have the stub or the remote interface or something they depend on on its classpath.</p></li>\n<li><p>when looking up: the client does't have these things on its classpath.</p></li>\n<li><p>When calling a remote method: you either sent something to the server of a class not present on its CLASSPATH, or received something from the server (including an exception) of a class not on your CLASSPATH: in both cases possibly a derived class or interface implementation of a class or interface mentioned in the remote interface's method signature.</p></li>\n</ol>\n\n<p>This is case 2. The Registry can't find the named class.</p>\n\n<p>There are several solutions:</p>\n\n<ol>\n<li><p>Start the Registry with a CLASSPATH that includes the relevant JARs or directories.</p></li>\n<li><p>Start the Registry in your server JVM, via <code>LocateRegistry.createRegistry().</code></p></li>\n<li><p>Use dynamic stubs, as described in the preamble to the Javadoc of <code>UnicastRemoteObject.</code> However you may then still run into the same problem with the remote interface itself or a class that it depends on, in which case 1-3 above still apply to that class/those classes.</p></li>\n<li><p>Ensure that case (4) above doesn't occur.</p></li>\n<li><p>Use the codebase feature. This is really a deployment option and IMO something to be avoided at the initial development stage.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1836147,"reputation":59,"user_id":1666493,"display_name":"MUNIRAJ"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1348515794,"creation_date":1347468546,"answer_id":12392894,"question_id":9531158,"body_markdown":"\r\n    Remote Server Error:RemoteException occurred in server thread; nested exception is:\r\n    java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\r\n    java.lang.ClassNotFoundException: mathInterface\r\n\r\nThe error very simple to solve to be perform following steps:\r\n\r\n- For example your java file consider D drive\r\n- Start rmiregistry D drive( example D:\\start rmiregistry)then don&#39;t start rmiregistry on the other drives, it will yield the above error\r\n\r\n(Wherever your file is, start `rmiregistry`)\r\n\r\n\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<pre><code>Remote Server Error:RemoteException occurred in server thread; nested exception is:\njava.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\njava.lang.ClassNotFoundException: mathInterface\n</code></pre>\n\n<p>The error very simple to solve to be perform following steps:</p>\n\n<ul>\n<li>For example your java file consider D drive</li>\n<li>Start rmiregistry D drive( example D:\\start rmiregistry)then don't start rmiregistry on the other drives, it will yield the above error</li>\n</ul>\n\n<p>(Wherever your file is, start <code>rmiregistry</code>)</p>\n"},{"tags":[],"owner":{"account_id":1037758,"reputation":96,"user_id":1044515,"display_name":"kkjava"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427760555,"creation_date":1401709616,"answer_id":23993791,"question_id":9531158,"body_markdown":"You can launch rmiregistry from anywhere but you have to make sure that the compiled classes are already in your classpath. For example:-\r\n\r\n    E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;set classpath=%classpath%;E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes &lt;ENTER&gt;\r\n\r\n    E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;c: &lt;ENTER&gt;\r\n\r\n    C:\\&gt;rmiregistry\r\n\r\nAnd the above should work fine.\r\n\r\nIn general, if you launch rmiregistry from the root location of the compiled classes (above example it is E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes), that will work because . (dot - current directory) is already set in your classpath.\r\n\r\nBut as soon as you remove . (dot - current directory) from your classpath, the above working condition will also fail.\r\n\r\nHope I have explained in details.\r\n\r\n\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>You can launch rmiregistry from anywhere but you have to make sure that the compiled classes are already in your classpath. For example:-</p>\n\n<pre><code>E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;set classpath=%classpath%;E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes &lt;ENTER&gt;\n\nE:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes&gt;c: &lt;ENTER&gt;\n\nC:\\&gt;rmiregistry\n</code></pre>\n\n<p>And the above should work fine.</p>\n\n<p>In general, if you launch rmiregistry from the root location of the compiled classes (above example it is E:\\ARMSRemoteUpdater\\WebContent\\WEB-INF\\classes), that will work because . (dot - current directory) is already set in your classpath.</p>\n\n<p>But as soon as you remove . (dot - current directory) from your classpath, the above working condition will also fail.</p>\n\n<p>Hope I have explained in details.</p>\n"},{"tags":[],"owner":{"account_id":12594071,"reputation":148,"user_id":9159474,"display_name":"star8163264"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550174114,"creation_date":1550174114,"answer_id":54698129,"question_id":9531158,"body_markdown":"I got this same issue, and a different solution worked for me. I was running two different IntelliJ projects, with a copy of the interface in each project. One of them was in a package, and the other one wasn&#39;t, and that was what was causing this error. \r\n\r\nSolutions:\r\n\r\n - Make sure the interface copies aren&#39;t in a package. \r\n - Make sure the interface copies have the exact same package name.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>I got this same issue, and a different solution worked for me. I was running two different IntelliJ projects, with a copy of the interface in each project. One of them was in a package, and the other one wasn't, and that was what was causing this error. </p>\n\n<p>Solutions:</p>\n\n<ul>\n<li>Make sure the interface copies aren't in a package. </li>\n<li>Make sure the interface copies have the exact same package name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18474093,"reputation":19,"user_id":13458130,"display_name":"VMFH"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1594319763,"creation_date":1594259923,"answer_id":62806214,"question_id":9531158,"body_markdown":"I will try to explain it as better as possible what I did:\r\n1st. I declared the classpath variable like follow:\r\n1. `set classpath=%classpath%`\r\n2. `set classpath=C:\\compiler`\r\n3. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java`\r\n4. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java`\r\n5. `set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java`\r\n\r\n- (All in one lineset:\r\n\r\n`set classpath=%classpath%;C:\\compiler;C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java)`\r\n\r\n- (I&#39;m not sure if the .java files were nesesary, but I also wrote them for doubts).\r\n\r\n2nd. I compilered with the line `javac -d C:\\compiler Hello.java Server.java Client.java`. Where `C:\\compiler` is the root directory like src on Eclipse IDE.\r\n\r\n3rd. I ran the `start rmiregistry` line. (and don&#180;t matter where you run it, it&#39;s the same).\r\n\r\n4th. I ran:\r\n\r\n`start java -classpath C:\\compiler -Djava.rmi.server.codebase=file:C:\\compiler/ libro.cap07.rmi.hello.Server`\r\n\r\nYou already know `C:\\compiler`, but you need define packages address on the last to that the command can find the .class files. Open any .java file and copy the package address without packages sentense. You will see when you open the src directory (in my case C:\\compiler), you find all directory sequence created. When this command line is created correctly, no matter where you will run it, C:\\, D:\\, src, anywhere it wil run.\r\n\r\n5th. And finally, I ran the Client class with:\r\n\r\n`java -classpath C:\\compiler libro.cap07.rmi.hello.Client`\r\n\r\nIn conclusion, if the classpath variable won&#39;t created or it&#39;s to created wrong or the sentence of 4th point is not addressed well the JVM throws the same or similar error. Search there!\r\n\r\n(Sorry my english).\r\n","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>I will try to explain it as better as possible what I did:\n1st. I declared the classpath variable like follow:</p>\n<ol>\n<li><code>set classpath=%classpath%</code></li>\n<li><code>set classpath=C:\\compiler</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java</code></li>\n<li><code>set classpath=C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java</code></li>\n</ol>\n<ul>\n<li>(All in one lineset:</li>\n</ul>\n<p><code>set classpath=%classpath%;C:\\compiler;C:\\compiler\\libro\\cap07\\rmi\\hello\\Hello.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Server.java;C:\\compiler\\libro\\cap07\\rmi\\hello\\Client.java)</code></p>\n<ul>\n<li>(I'm not sure if the .java files were nesesary, but I also wrote them for doubts).</li>\n</ul>\n<p>2nd. I compilered with the line <code>javac -d C:\\compiler Hello.java Server.java Client.java</code>. Where <code>C:\\compiler</code> is the root directory like src on Eclipse IDE.</p>\n<p>3rd. I ran the <code>start rmiregistry</code> line. (and don´t matter where you run it, it's the same).</p>\n<p>4th. I ran:</p>\n<p><code>start java -classpath C:\\compiler -Djava.rmi.server.codebase=file:C:\\compiler/ libro.cap07.rmi.hello.Server</code></p>\n<p>You already know <code>C:\\compiler</code>, but you need define packages address on the last to that the command can find the .class files. Open any .java file and copy the package address without packages sentense. You will see when you open the src directory (in my case C:\\compiler), you find all directory sequence created. When this command line is created correctly, no matter where you will run it, C:, D:, src, anywhere it wil run.</p>\n<p>5th. And finally, I ran the Client class with:</p>\n<p><code>java -classpath C:\\compiler libro.cap07.rmi.hello.Client</code></p>\n<p>In conclusion, if the classpath variable won't created or it's to created wrong or the sentence of 4th point is not addressed well the JVM throws the same or similar error. Search there!</p>\n<p>(Sorry my english).</p>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66415,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9542464,"answer_count":5,"score":13,"last_activity_date":1677514689,"creation_date":1330681962,"question_id":9531158,"body_markdown":"The following method:\r\n```java\r\n    private void startServer() { // snippet that starts the server on the local machine\r\n        try {\r\n             RemoteMethodImpl impl = new RemoteMethodImpl();\r\n             Naming.rebind( &quot;Illusive-Server&quot; , impl );\r\n        } catch(Exception exc) {\r\n            JOptionPane.showMessageDialog(this, &quot;Problem starting the server&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n```\r\n\r\nthrows this exception:\r\n```java\r\njava.rmi.ServerException: RemoteException occurred in server thread; nested exception is:\r\n        java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\r\n        java.lang.ClassNotFoundException: Interfaces.RemoteMethodIntf\r\n```\r\n\r\nWhen i start my project, i am greeted with the message in JOptionPane saying _problem starting the server and then the above exception._ What could be the reason for this?\r\n\r\nI don&#39;t understand why does the last statement of exception says _class not found exc when i have imported the right packages_.","title":"java.rmi.ServerException: RemoteException occurred in server thread (ClassNotFoundException)","body":"<p>The following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void startServer() { // snippet that starts the server on the local machine\n        try {\n             RemoteMethodImpl impl = new RemoteMethodImpl();\n             Naming.rebind( &quot;Illusive-Server&quot; , impl );\n        } catch(Exception exc) {\n            JOptionPane.showMessageDialog(this, &quot;Problem starting the server&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n            System.out.println(exc);\n        }\n    }\n</code></pre>\n<p>throws this exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.rmi.ServerException: RemoteException occurred in server thread; nested exception is:\n        java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is:\n        java.lang.ClassNotFoundException: Interfaces.RemoteMethodIntf\n</code></pre>\n<p>When i start my project, i am greeted with the message in JOptionPane saying <em>problem starting the server and then the above exception.</em> What could be the reason for this?</p>\n<p>I don't understand why does the last statement of exception says <em>class not found exc when i have imported the right packages</em>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9378,"page":614,"page_size":100}
