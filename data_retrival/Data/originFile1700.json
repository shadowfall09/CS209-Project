{"items":[{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1515067982,"creation_date":1457088873,"answer_id":35794220,"question_id":35791383,"body_markdown":"Make sure to configure Hibernate batch-related properties properly:\r\n\r\n    &lt;property name=&quot;hibernate.jdbc.batch_size&quot;&gt;100&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.order_inserts&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.order_updates&quot;&gt;true&lt;/property&gt;\r\n\r\nThe point is that successive statements can be batched if they manipulate the same table. If there comes the statement doing insert to another table, the previous batch construction must be interrupted and executed before that statement. With the `hibernate.order_inserts` property you are giving permission to Hibernate to reorder inserts before constructing batch statements (`hibernate.order_updates` has the same effect for update statements).\r\n\r\n`jdbc.batch_size` is the maximum batch size that Hibernate will use. Try and analyze different values and pick one that shows best performance in your use cases.\r\n\r\nNote that batching of insert statements is [disabled][1] if `IDENTITY` id generator is used.\r\n\r\nSpecific to MySQL, you have to specify `rewriteBatchedStatements=true` as part of the connection URL. To make sure that batching is working as expected, add `profileSQL=true` to inspect the SQL the driver sends to the database. More details [here][2].\r\n\r\nIf your entities are versioned (for optimistic locking purposes), then in order to utilize batch updates (doesn&#39;t impact inserts) you will have to turn on also:\r\n\r\n    &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot;&gt;true&lt;/property&gt;\r\n\r\nWith this property you tell Hibernate that the JDBC driver is capable to return the correct count of affected rows when executing batch update (needed to perform the version check). You have to check whether this works properly for your database/jdbc driver. For example, it [does not work][3] in Oracle 11 and older Oracle versions.\r\n\r\nYou may also want to flush and clear the persistence context [after each batch][4] to release memory, otherwise all of the managed objects remain in the persistence context until it is closed.\r\n\r\nAlso, you may find [this blog][5] useful as it nicely explains the details of Hibernate batching mechanism.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html\r\n  [2]: https://stackoverflow.com/a/21587949/4754790\r\n  [3]: https://stackoverflow.com/questions/30519308/hibernate-saves-stale-data-with-hibernate-jdbc-batch-versioned-data\r\n  [4]: https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html#d0e1893\r\n  [5]: http://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/","title":"Spring Data JPA: Batch insert for nested entities","body":"<p>Make sure to configure Hibernate batch-related properties properly:</p>\n\n<pre><code>&lt;property name=\"hibernate.jdbc.batch_size\"&gt;100&lt;/property&gt;\n&lt;property name=\"hibernate.order_inserts\"&gt;true&lt;/property&gt;\n&lt;property name=\"hibernate.order_updates\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>The point is that successive statements can be batched if they manipulate the same table. If there comes the statement doing insert to another table, the previous batch construction must be interrupted and executed before that statement. With the <code>hibernate.order_inserts</code> property you are giving permission to Hibernate to reorder inserts before constructing batch statements (<code>hibernate.order_updates</code> has the same effect for update statements).</p>\n\n<p><code>jdbc.batch_size</code> is the maximum batch size that Hibernate will use. Try and analyze different values and pick one that shows best performance in your use cases.</p>\n\n<p>Note that batching of insert statements is <a href=\"https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html\" rel=\"noreferrer\">disabled</a> if <code>IDENTITY</code> id generator is used.</p>\n\n<p>Specific to MySQL, you have to specify <code>rewriteBatchedStatements=true</code> as part of the connection URL. To make sure that batching is working as expected, add <code>profileSQL=true</code> to inspect the SQL the driver sends to the database. More details <a href=\"https://stackoverflow.com/a/21587949/4754790\">here</a>.</p>\n\n<p>If your entities are versioned (for optimistic locking purposes), then in order to utilize batch updates (doesn't impact inserts) you will have to turn on also:</p>\n\n<pre><code>&lt;property name=\"hibernate.jdbc.batch_versioned_data\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>With this property you tell Hibernate that the JDBC driver is capable to return the correct count of affected rows when executing batch update (needed to perform the version check). You have to check whether this works properly for your database/jdbc driver. For example, it <a href=\"https://stackoverflow.com/questions/30519308/hibernate-saves-stale-data-with-hibernate-jdbc-batch-versioned-data\">does not work</a> in Oracle 11 and older Oracle versions.</p>\n\n<p>You may also want to flush and clear the persistence context <a href=\"https://docs.jboss.org/hibernate/orm/4.0/devguide/en-US/html/ch04.html#d0e1893\" rel=\"noreferrer\">after each batch</a> to release memory, otherwise all of the managed objects remain in the persistence context until it is closed.</p>\n\n<p>Also, you may find <a href=\"http://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/\" rel=\"noreferrer\">this blog</a> useful as it nicely explains the details of Hibernate batching mechanism.</p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641630539,"creation_date":1641630539,"answer_id":70630725,"question_id":35791383,"body_markdown":"To complete the previous answer of Dragan Bozanovic. Hibernate sometimes silently deactivates the order of execution of the batches if for example it encounters cyclic relations between the entities when it builds the graph of dependencies between the batches (see InsertActionSorter.sort(..) method). It would have been interesting for hibernate to trace this behavior when this happens.","title":"Spring Data JPA: Batch insert for nested entities","body":"<p>To complete the previous answer of Dragan Bozanovic. Hibernate sometimes silently deactivates the order of execution of the batches if for example it encounters cyclic relations between the entities when it builds the graph of dependencies between the batches (see InsertActionSorter.sort(..) method). It would have been interesting for hibernate to trace this behavior when this happens.</p>\n"}],"owner":{"account_id":1414722,"reputation":4785,"user_id":1340599,"accept_rate":88,"display_name":"Ahatius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17172,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":35794220,"answer_count":2,"score":12,"last_activity_date":1641630539,"creation_date":1457080544,"question_id":35791383,"body_markdown":"I have a test case where I need to persist 100&#39;000 entity instances into the database. The code I&#39;m currently using does this, but it takes up to 40 seconds until all the data is persisted in the database. The data is read from a JSON file which is about 15 MB in size.\r\n\r\nNow I had already implemented a batch insert method in a custom repository before for another project. However, in that case I had a lot of top level entities to persist, with only a few nested entities.\r\n\r\nIn my current case I have 5 `Job` entities that contain a List of about ~30 `JobDetail` entities. One `JobDetail` contains between 850 and 1100 `JobEnvelope` entities.\r\n\r\nWhen writing to the database I commit the List of `Job` entities with the default `save(Iterable&lt;Job&gt; jobs)` interface method. All nested entities have the CascadeType `PERSIST`. Each entity has it&#39;s own table.\r\n\r\nThe usual way to enable batch inserts would be to implement a custom method like `saveBatch` that flushes every once in a while. But my problem in this case are the `JobEnvelope` entities. I don&#39;t persist them with a `JobEnvelope` repository, instead I let the repository of the `Job`entity handle it. I&#39;m using MariaDB as database server.\r\n\r\nSo my question boils down to the following: How can I make the `JobRepository` insert it&#39;s nested entities in batches?\r\n\r\nThese are my 3 entites in question:\r\n## Job ##\r\n\r\n    @Entity\r\n    public class Job {\r\n      @Id\r\n      @GeneratedValue\r\n      private int jobId;\r\n    \r\n      @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, mappedBy = &quot;job&quot;)\r\n      @JsonManagedReference\r\n      private Collection&lt;JobDetail&gt; jobDetails;\r\n    }\r\n\r\n## JobDetail ##\r\n\r\n    @Entity\r\n    public class JobDetail {\r\n      @Id\r\n      @GeneratedValue\r\n      private int jobDetailId;\r\n      \r\n      @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n      @JoinColumn(name = &quot;jobId&quot;)\r\n      @JsonBackReference\r\n      private Job job;\r\n      \r\n      @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, mappedBy = &quot;jobDetail&quot;)\r\n      @JsonManagedReference\r\n      private List&lt;JobEnvelope&gt; jobEnvelopes;\r\n    }\r\n\r\n## JobEnvelope ##\r\n\r\n    @Entity\r\n    public class JobEnvelope {\r\n      @Id\r\n      @GeneratedValue\r\n      private int jobEnvelopeId;\r\n      \r\n      @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n      @JoinColumn(name = &quot;jobDetailId&quot;)\r\n      private JobDetail jobDetail;\r\n      \r\n      private double weight;\r\n    }\r\n\r\n","title":"Spring Data JPA: Batch insert for nested entities","body":"<p>I have a test case where I need to persist 100'000 entity instances into the database. The code I'm currently using does this, but it takes up to 40 seconds until all the data is persisted in the database. The data is read from a JSON file which is about 15 MB in size.</p>\n\n<p>Now I had already implemented a batch insert method in a custom repository before for another project. However, in that case I had a lot of top level entities to persist, with only a few nested entities.</p>\n\n<p>In my current case I have 5 <code>Job</code> entities that contain a List of about ~30 <code>JobDetail</code> entities. One <code>JobDetail</code> contains between 850 and 1100 <code>JobEnvelope</code> entities.</p>\n\n<p>When writing to the database I commit the List of <code>Job</code> entities with the default <code>save(Iterable&lt;Job&gt; jobs)</code> interface method. All nested entities have the CascadeType <code>PERSIST</code>. Each entity has it's own table.</p>\n\n<p>The usual way to enable batch inserts would be to implement a custom method like <code>saveBatch</code> that flushes every once in a while. But my problem in this case are the <code>JobEnvelope</code> entities. I don't persist them with a <code>JobEnvelope</code> repository, instead I let the repository of the <code>Job</code>entity handle it. I'm using MariaDB as database server.</p>\n\n<p>So my question boils down to the following: How can I make the <code>JobRepository</code> insert it's nested entities in batches?</p>\n\n<p>These are my 3 entites in question:</p>\n\n<h2>Job</h2>\n\n<pre><code>@Entity\npublic class Job {\n  @Id\n  @GeneratedValue\n  private int jobId;\n\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, mappedBy = \"job\")\n  @JsonManagedReference\n  private Collection&lt;JobDetail&gt; jobDetails;\n}\n</code></pre>\n\n<h2>JobDetail</h2>\n\n<pre><code>@Entity\npublic class JobDetail {\n  @Id\n  @GeneratedValue\n  private int jobDetailId;\n\n  @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n  @JoinColumn(name = \"jobId\")\n  @JsonBackReference\n  private Job job;\n\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST, mappedBy = \"jobDetail\")\n  @JsonManagedReference\n  private List&lt;JobEnvelope&gt; jobEnvelopes;\n}\n</code></pre>\n\n<h2>JobEnvelope</h2>\n\n<pre><code>@Entity\npublic class JobEnvelope {\n  @Id\n  @GeneratedValue\n  private int jobEnvelopeId;\n\n  @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n  @JoinColumn(name = \"jobDetailId\")\n  private JobDetail jobDetail;\n\n  private double weight;\n}\n</code></pre>\n"},{"tags":["java","collections","linked-list"],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641628785,"creation_date":1641628785,"answer_id":70630584,"question_id":70630503,"body_markdown":"The method `LinkedList::listIterator(int index)` returns an iterator into the `List` starting at the specified index. The returned `ListIterator` is an `Iterator` so you can call `next` to get the next element, plus it has additional methods such as `previous` and methods to enable modification of the list such as `add` to insert into the list at the current position.\r\n\r\nHere is the [Javadoc][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html#listIterator-int-","title":"Is it possible to get a hard reference to an object in a linkedlist?","body":"<p>The method <code>LinkedList::listIterator(int index)</code> returns an iterator into the <code>List</code> starting at the specified index. The returned <code>ListIterator</code> is an <code>Iterator</code> so you can call <code>next</code> to get the next element, plus it has additional methods such as <code>previous</code> and methods to enable modification of the list such as <code>add</code> to insert into the list at the current position.</p>\n<p>Here is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html#listIterator-int-\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n"}],"owner":{"account_id":2009173,"reputation":627,"user_id":1798118,"accept_rate":36,"display_name":"10101010"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641629602,"creation_date":1641627989,"question_id":70630503,"body_markdown":"Is it possible to store a &quot;list item&quot; in a java linkedlist? I know we can fetch a genric &quot;element&quot; but what I really want is some object where I can use next to view and manage linked list. For example:\r\n\r\n    LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n    // add some data\r\n    Integer thirdInt = list.get(3);\r\n    ListItem third = list.getListItem(3);\r\n\r\n// now I want to store this third, and maybe access its &#39;next&#39; etc.\r\nI know it will not be third always, but I care about the relative references. As in third, fifth, seventh, tenth etc. As long as they come in an order, it is ok. \r\n\r\nIs this possible, or perhaps any other way to achieve this ..? ","title":"Is it possible to get a hard reference to an object in a linkedlist?","body":"<p>Is it possible to store a &quot;list item&quot; in a java linkedlist? I know we can fetch a genric &quot;element&quot; but what I really want is some object where I can use next to view and manage linked list. For example:</p>\n<pre><code>LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n// add some data\nInteger thirdInt = list.get(3);\nListItem third = list.getListItem(3);\n</code></pre>\n<p>// now I want to store this third, and maybe access its 'next' etc.\nI know it will not be third always, but I care about the relative references. As in third, fifth, seventh, tenth etc. As long as they come in an order, it is ok.</p>\n<p>Is this possible, or perhaps any other way to achieve this ..?</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1641385230,"post_id":70592474,"comment_id":124789913,"body_markdown":"to add AllArgs Constructor to AllergyDtoListValidator and @Autowired if you use Spring version less than 5","body":"to add AllArgs Constructor to AllergyDtoListValidator and @Autowired if you use Spring version less than 5"},{"owner":{"account_id":21176438,"reputation":239,"user_id":15571652,"display_name":"Yu Tian Toby"},"score":0,"creation_date":1641386430,"post_id":70592474,"comment_id":124790361,"body_markdown":"tried but same exception persists @DmitriiBykov","body":"tried but same exception persists @DmitriiBykov"}],"answers":[{"tags":[],"owner":{"account_id":21176438,"reputation":239,"user_id":15571652,"display_name":"Yu Tian Toby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641629133,"creation_date":1641629133,"answer_id":70630616,"question_id":70592474,"body_markdown":"`org.springframework.validation.Validator` cannot validate `List&lt;Object&gt;` as a `target`. You must wrap the List&lt;Object&gt; in a single Object with getter to let validator to find a path to access sub objects.\r\n\r\n\r\n    public class AllergyDtoListValidator implements Validator {\r\n    \r\n      private AllergyDtoValidator allergyDtoValidator;\r\n    \r\n      @Override\r\n      public boolean supports(Class&lt;?&gt; clazz) {\r\n        return AllergyDtoList.class.isAssignableFrom(clazz);\r\n      }\r\n    \r\n      @Override\r\n      public void validate(Object target, Errors errors) {\r\n        allergyDtoValidator = new AllergyDtoValidator();\r\n        AllergyDtoList request = (AllergyDtoList) target;\r\n        for (int i = 0; i &lt; request.size(); i++) {\r\n          // sub path name must be same as property name to enable Validator to use \r\n          // getter in the object AllergyDtoList\r\n          errors.pushNestedPath(&quot;allergies[&quot;+i+&quot;]&quot;);\r\n          ValidationUtils.invokeValidator(this.allergyDtoValidator, request.get(i), errors);\r\n          errors.popNestedPath();\r\n        }\r\n      }\r\n    }\r\n    \r\n    // new wrapping object to be validated \r\n    class AllergyDtoList {\r\n    \r\n        List&lt;AllergyDto&gt; allergies;\r\n    }","title":"Validate List&lt;Object&gt; using Spring validator","body":"<p><code>org.springframework.validation.Validator</code> cannot validate <code>List&lt;Object&gt;</code> as a <code>target</code>. You must wrap the List in a single Object with getter to let validator to find a path to access sub objects.</p>\n<pre><code>public class AllergyDtoListValidator implements Validator {\n\n  private AllergyDtoValidator allergyDtoValidator;\n\n  @Override\n  public boolean supports(Class&lt;?&gt; clazz) {\n    return AllergyDtoList.class.isAssignableFrom(clazz);\n  }\n\n  @Override\n  public void validate(Object target, Errors errors) {\n    allergyDtoValidator = new AllergyDtoValidator();\n    AllergyDtoList request = (AllergyDtoList) target;\n    for (int i = 0; i &lt; request.size(); i++) {\n      // sub path name must be same as property name to enable Validator to use \n      // getter in the object AllergyDtoList\n      errors.pushNestedPath(&quot;allergies[&quot;+i+&quot;]&quot;);\n      ValidationUtils.invokeValidator(this.allergyDtoValidator, request.get(i), errors);\n      errors.popNestedPath();\n    }\n  }\n}\n\n// new wrapping object to be validated \nclass AllergyDtoList {\n\n    List&lt;AllergyDto&gt; allergies;\n}\n</code></pre>\n"}],"owner":{"account_id":21176438,"reputation":239,"user_id":15571652,"display_name":"Yu Tian Toby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70630616,"answer_count":1,"score":0,"last_activity_date":1641629133,"creation_date":1641383785,"question_id":70592474,"body_markdown":"Question: how to set proper nested path for Errors for List&lt;Object&gt; target in validator to invoke other validator ?\r\n\r\nCode reference: [nested spring validator for nested object][1]\r\n\r\n    public class AllergyDtoListValidator implements Validator {\r\n    \r\n      private AllergyDtoValidator allergyDtoValidator;\r\n    \r\n      @Override\r\n      public boolean supports(Class&lt;?&gt; clazz) {\r\n        return new TypeToken&lt;List&lt;AllergyDto&gt;&gt;() {\r\n        }.getType().equals(clazz);\r\n      }\r\n    \r\n      @Override\r\n      public void validate(Object target, Errors errors) {\r\n        allergyDtoValidator = new AllergyDtoValidator();\r\n        List&lt;AllergyDto&gt; request = (List&lt;AllergyDto&gt;) target;\r\n        for (int i = 0; i &lt; request.size(); i++) {\r\n          // below line causes the exception\r\n          errors.pushNestedPath(String.valueOf(i));\r\n          ValidationUtils.invokeValidator(this.allergyDtoValidator, request.get(i), errors);\r\n          errors.popNestedPath();\r\n        }\r\n      }\r\n    }\r\n    \r\n    public class AllergyDtoValidator implements Validator {\r\n    \r\n      @Override\r\n      public boolean supports(Class&lt;?&gt; clazz) {\r\n        return AllergyDto.class.isAssignableFrom(clazz);\r\n      }\r\n    \r\n      @Override\r\n      public void validate(Object target, Errors errors) {\r\n    \r\n        AllergyDto request = (AllergyDto) target;\r\n        log.info(&quot;Enter allergy validator {}&quot;, request.toString());\r\n        try {\r\n          // field allergyTypeCode\r\n          if (request.getAllergyTypeCode() == null || request.getAllergyTypeCode().isEmpty()) {\r\n            errors.rejectValue(&quot;allergyTypeCode&quot;, &quot;Cannot be null nor whitespace&quot;);\r\n          } else if (request.getAllergyTypeCode().length() &gt; 8) {\r\n            errors.rejectValue(&quot;allergyTypeCode&quot;, &quot;Exceed max length&quot;);\r\n          }\r\n          // field allergyCode\r\n          ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;allergyCode&quot;, &quot;Cannot be null nor &quot;\r\n              + &quot;whitespace&quot;);\r\n          if (request.getAllergyCode() != null &amp;&amp; request.getAllergyCode().length() &gt; 8) {\r\n            errors.rejectValue(&quot;allergyCode&quot;, &quot;Exceed max length&quot;);\r\n          }\r\n          // field allergyName\r\n          if (request.getAllergyName() != null &amp;&amp; request.getAllergyName().length() &gt; 66) {\r\n            errors.rejectValue(&quot;allergyName&quot;, &quot;Exceed max length&quot;);\r\n          }\r\n          // field remarks\r\n          ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;remarks&quot;, &quot;Cannot be null nor whitespace&quot;);\r\n          if (request.getRemarks() != null &amp;&amp; request.getRemarks().length() &gt; 255) {\r\n            errors.rejectValue(&quot;remarks&quot;, &quot;Exceed max length&quot;);\r\n          }\r\n        } catch (Exception e) {\r\n          log.info(&quot;Exception {}&quot;, e);\r\n        }\r\n        log.info(&quot;allergy errors {}&quot;, errors.toString());\r\n    \r\n      }\r\n    \r\n    }\r\n    \r\n    public class AllergyDto implements Serializable {\r\n      private static final long serialVersionUID = 2319040437020676767L;\r\n      @JsonProperty(&quot;allergy_type_code&quot;)\r\n      private String allergyTypeCode;\r\n      @JsonProperty(&quot;allergy_code&quot;)\r\n      private String allergyCode;\r\n      @JsonProperty(&quot;allergy_name&quot;)\r\n      private String allergyName;\r\n      @JsonProperty(&quot;remarks&quot;)\r\n      private String remarks;\r\n      // getters and setters\r\n    \r\n    }\r\n\r\n\r\nwhen I run \r\n\r\n    // req is List&lt;AllergyDto&gt;\r\n    allergyDtoListValidator.validate(req, bindingResult);\r\n\r\nI got exception \r\n\r\n&gt; org.springframework.beans.NotReadablePropertyException: Invalid\r\n&gt; property &#39;0&#39; of bean class [java.util.ArrayList]: Bean property &#39;0&#39; is\r\n&gt; not readable or has an invalid getter method: Does the return type of\r\n&gt; the getter match the parameter type of the setter? \tat\r\n&gt; org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:627)\r\n&gt; \tat\r\n&gt; org.springframework.beans.AbstractNestablePropertyAccessor.getNestedPropertyAccessor(AbstractNestablePropertyAccessor.java:843)\r\n&gt; \tat\r\n&gt; org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyAccessorForPropertyPath(AbstractNestablePropertyAccessor.java:820)\r\n&gt; \tat\r\n&gt; org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:615)\r\n&gt; \tat\r\n&gt; org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\r\n&gt; \tat\r\n&gt; org.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228)\r\n&gt; \tat\r\n&gt; org.springframework.validation.ValidationUtils.rejectIfEmptyOrWhitespace(ValidationUtils.java:252)\r\n&gt; \tat\r\n&gt; org.springframework.validation.ValidationUtils.rejectIfEmptyOrWhitespace(ValidationUtils.java:191)\r\n&gt; \tat\r\n&gt; sg.gov.hpb.yhms.medical_service.validators.AllergyDtoValidator.validate(AllergyDtoValidator.java:32)\r\n&gt; \tat\r\n&gt; org.springframework.validation.ValidationUtils.invokeValidator(ValidationUtils.java:89)\r\n&gt; \tat\r\n&gt; org.springframework.validation.ValidationUtils.invokeValidator(ValidationUtils.java:56)\r\n&gt; \tat\r\n&gt; sg.gov.hpb.yhms.medical_service.validators.AllergyDtoListValidator.validate(AllergyDtoListValidator.java:32)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12680730/validate-a-list-of-nested-objects-with-spring-validator/25317726","title":"Validate List&lt;Object&gt; using Spring validator","body":"<p>Question: how to set proper nested path for Errors for List target in validator to invoke other validator ?</p>\n<p>Code reference: <a href=\"https://stackoverflow.com/questions/12680730/validate-a-list-of-nested-objects-with-spring-validator/25317726\">nested spring validator for nested object</a></p>\n<pre><code>public class AllergyDtoListValidator implements Validator {\n\n  private AllergyDtoValidator allergyDtoValidator;\n\n  @Override\n  public boolean supports(Class&lt;?&gt; clazz) {\n    return new TypeToken&lt;List&lt;AllergyDto&gt;&gt;() {\n    }.getType().equals(clazz);\n  }\n\n  @Override\n  public void validate(Object target, Errors errors) {\n    allergyDtoValidator = new AllergyDtoValidator();\n    List&lt;AllergyDto&gt; request = (List&lt;AllergyDto&gt;) target;\n    for (int i = 0; i &lt; request.size(); i++) {\n      // below line causes the exception\n      errors.pushNestedPath(String.valueOf(i));\n      ValidationUtils.invokeValidator(this.allergyDtoValidator, request.get(i), errors);\n      errors.popNestedPath();\n    }\n  }\n}\n\npublic class AllergyDtoValidator implements Validator {\n\n  @Override\n  public boolean supports(Class&lt;?&gt; clazz) {\n    return AllergyDto.class.isAssignableFrom(clazz);\n  }\n\n  @Override\n  public void validate(Object target, Errors errors) {\n\n    AllergyDto request = (AllergyDto) target;\n    log.info(&quot;Enter allergy validator {}&quot;, request.toString());\n    try {\n      // field allergyTypeCode\n      if (request.getAllergyTypeCode() == null || request.getAllergyTypeCode().isEmpty()) {\n        errors.rejectValue(&quot;allergyTypeCode&quot;, &quot;Cannot be null nor whitespace&quot;);\n      } else if (request.getAllergyTypeCode().length() &gt; 8) {\n        errors.rejectValue(&quot;allergyTypeCode&quot;, &quot;Exceed max length&quot;);\n      }\n      // field allergyCode\n      ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;allergyCode&quot;, &quot;Cannot be null nor &quot;\n          + &quot;whitespace&quot;);\n      if (request.getAllergyCode() != null &amp;&amp; request.getAllergyCode().length() &gt; 8) {\n        errors.rejectValue(&quot;allergyCode&quot;, &quot;Exceed max length&quot;);\n      }\n      // field allergyName\n      if (request.getAllergyName() != null &amp;&amp; request.getAllergyName().length() &gt; 66) {\n        errors.rejectValue(&quot;allergyName&quot;, &quot;Exceed max length&quot;);\n      }\n      // field remarks\n      ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;remarks&quot;, &quot;Cannot be null nor whitespace&quot;);\n      if (request.getRemarks() != null &amp;&amp; request.getRemarks().length() &gt; 255) {\n        errors.rejectValue(&quot;remarks&quot;, &quot;Exceed max length&quot;);\n      }\n    } catch (Exception e) {\n      log.info(&quot;Exception {}&quot;, e);\n    }\n    log.info(&quot;allergy errors {}&quot;, errors.toString());\n\n  }\n\n}\n\npublic class AllergyDto implements Serializable {\n  private static final long serialVersionUID = 2319040437020676767L;\n  @JsonProperty(&quot;allergy_type_code&quot;)\n  private String allergyTypeCode;\n  @JsonProperty(&quot;allergy_code&quot;)\n  private String allergyCode;\n  @JsonProperty(&quot;allergy_name&quot;)\n  private String allergyName;\n  @JsonProperty(&quot;remarks&quot;)\n  private String remarks;\n  // getters and setters\n\n}\n</code></pre>\n<p>when I run</p>\n<pre><code>// req is List&lt;AllergyDto&gt;\nallergyDtoListValidator.validate(req, bindingResult);\n</code></pre>\n<p>I got exception</p>\n<blockquote>\n<p>org.springframework.beans.NotReadablePropertyException: Invalid\nproperty '0' of bean class [java.util.ArrayList]: Bean property '0' is\nnot readable or has an invalid getter method: Does the return type of\nthe getter match the parameter type of the setter?    at\norg.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:627)\nat\norg.springframework.beans.AbstractNestablePropertyAccessor.getNestedPropertyAccessor(AbstractNestablePropertyAccessor.java:843)\nat\norg.springframework.beans.AbstractNestablePropertyAccessor.getPropertyAccessorForPropertyPath(AbstractNestablePropertyAccessor.java:820)\nat\norg.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:615)\nat\norg.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104)\nat\norg.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228)\nat\norg.springframework.validation.ValidationUtils.rejectIfEmptyOrWhitespace(ValidationUtils.java:252)\nat\norg.springframework.validation.ValidationUtils.rejectIfEmptyOrWhitespace(ValidationUtils.java:191)\nat\nsg.gov.hpb.yhms.medical_service.validators.AllergyDtoValidator.validate(AllergyDtoValidator.java:32)\nat\norg.springframework.validation.ValidationUtils.invokeValidator(ValidationUtils.java:89)\nat\norg.springframework.validation.ValidationUtils.invokeValidator(ValidationUtils.java:56)\nat\nsg.gov.hpb.yhms.medical_service.validators.AllergyDtoListValidator.validate(AllergyDtoListValidator.java:32)</p>\n</blockquote>\n"},{"tags":["java","file-upload","mime-types","multipart","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1641643737,"post_id":70630244,"comment_id":124861100,"body_markdown":"Assuming you have both the uploaded contents and the suggested filename, try a Tika facade detect method that takes both eg https://tika.apache.org/2.2.1/api/org/apache/tika/Tika.html#detect-java.io.InputStream-java.lang.String-","body":"Assuming you have both the uploaded contents and the suggested filename, try a Tika facade detect method that takes both eg <a href=\"https://tika.apache.org/2.2.1/api/org/apache/tika/Tika.html#detect-java.io.InputStream-java.lang.String-\" rel=\"nofollow noreferrer\">tika.apache.org/2.2.1/api/org/apache/tika/&hellip;</a>"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1641645227,"post_id":70630244,"comment_id":124861405,"body_markdown":"@Gagravarr Can u show an example","body":"@Gagravarr Can u show an example"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1641657926,"post_id":70630244,"comment_id":124864451,"body_markdown":"I have no idea what your `File` object is, but just try one of the methods which takes both contents and a filename string, whatever seems closest to your actual data","body":"I have no idea what your <code>File</code> object is, but just try one of the methods which takes both contents and a filename string, whatever seems closest to your actual data"}],"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641628839,"creation_date":1641625147,"question_id":70630244,"body_markdown":"In my application I have file upload facility where users can upload any type of files. On the server I have to find the mime type and extension for the uploaded file. I have used different method for finding the mime type but each have some kind of limitation.\r\n\r\nCase 1 :\r\n\r\n    public @ResponseBody String uploadActvityFile(@RequestParam(&quot;file&quot;) MultipartFile file){\r\n        try{\r\n\t\tString mimeType = Files.probeContentType(new File(file.getOriginalFilename()).toPath());\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n            jsonDept = &quot;Failed&quot;;\r\n        }\r\n}\r\n\r\nThe above method finds mime type in most of the cases but return Null pointer exception when I upload an audio file with &#39;.m4a&#39; as extension.\r\n\r\nCase 2 :\r\n\r\n    Tika tika = new Tika();\r\n    String mimeType = tika.detect(file.getBytes());\r\n\r\nAbove method returns a mime type in all cases, but it returns wrong mime type in most of the cases.\r\n\r\nFor eg :\r\n\r\nReturns &#39;application/ogg&#39; for &#39;.opus&#39; audio file.\r\n\r\nReturns &#39;audio/mpeg&#39; for &#39;.mp3&#39; audio file.\r\n\r\nReturns &#39;video/3gpp&#39; for &#39;.m4a&#39; audio file\r\n\r\nCase 3 :\r\n\r\n    Tika tika = new Tika();\r\n    String mimeType = tika.detect(new File(file.getOriginalFilename()));\r\n\r\nCase 4 :\r\n\r\n    Magic magic = new Magic();\r\n    MagicMatch match = magic.getMagicMatch(new File(file.getOriginalFilename()), false);\r\n    String mimeType = match.getMimeType();\r\n\r\nCase 3 &amp; 4 returns exception for all files of any kind as below :\r\n\r\n    java.io.FileNotFoundException: Voice 002.m4a (The system cannot find the file specified)\r\n\r\nWhat is wrong with all these methods. How can I extract the mime type correctly?\r\n\r\n","title":"org.apache.tika.Tika return wrong or null mime type for multipart file","body":"<p>In my application I have file upload facility where users can upload any type of files. On the server I have to find the mime type and extension for the uploaded file. I have used different method for finding the mime type but each have some kind of limitation.</p>\n<p>Case 1 :</p>\n<pre><code>public @ResponseBody String uploadActvityFile(@RequestParam(&quot;file&quot;) MultipartFile file){\n    try{\n    String mimeType = Files.probeContentType(new File(file.getOriginalFilename()).toPath());\n    }catch(Exception e){\n        e.printStackTrace();\n        jsonDept = &quot;Failed&quot;;\n    }\n</code></pre>\n<p>}</p>\n<p>The above method finds mime type in most of the cases but return Null pointer exception when I upload an audio file with '.m4a' as extension.</p>\n<p>Case 2 :</p>\n<pre><code>Tika tika = new Tika();\nString mimeType = tika.detect(file.getBytes());\n</code></pre>\n<p>Above method returns a mime type in all cases, but it returns wrong mime type in most of the cases.</p>\n<p>For eg :</p>\n<p>Returns 'application/ogg' for '.opus' audio file.</p>\n<p>Returns 'audio/mpeg' for '.mp3' audio file.</p>\n<p>Returns 'video/3gpp' for '.m4a' audio file</p>\n<p>Case 3 :</p>\n<pre><code>Tika tika = new Tika();\nString mimeType = tika.detect(new File(file.getOriginalFilename()));\n</code></pre>\n<p>Case 4 :</p>\n<pre><code>Magic magic = new Magic();\nMagicMatch match = magic.getMagicMatch(new File(file.getOriginalFilename()), false);\nString mimeType = match.getMimeType();\n</code></pre>\n<p>Case 3 &amp; 4 returns exception for all files of any kind as below :</p>\n<pre><code>java.io.FileNotFoundException: Voice 002.m4a (The system cannot find the file specified)\n</code></pre>\n<p>What is wrong with all these methods. How can I extract the mime type correctly?</p>\n"},{"tags":["java","eclipse","image","file"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1419119815,"post_id":27585437,"comment_id":43595481,"body_markdown":"Where does the `NullPointerException` actually occur?","body":"Where does the <code>NullPointerException</code> actually occur?"},{"owner":{"account_id":5517497,"reputation":33,"user_id":4381703,"accept_rate":40,"display_name":"ElDoggo"},"score":0,"creation_date":1419120625,"post_id":27585437,"comment_id":43595623,"body_markdown":"When the thread is run","body":"When the thread is run"}],"answers":[{"tags":[],"owner":{"account_id":538604,"reputation":6852,"user_id":906523,"accept_rate":78,"display_name":"Walery Strauch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419120679,"creation_date":1419119191,"answer_id":27585446,"question_id":27585437,"body_markdown":"You put your resource folder inside of source folder. This is bad practice. Put you resource folder outside of source folder.\r\n\r\n    -src\r\n    --com\r\n    ---m14x\r\n    ----game\r\n    -----BufferedImageLoader.java\r\n    -----Game.java\r\n    -----SpriteSheet.java\r\n    -res\r\n    ---sprite_sheet.png\r\n\r\nAdd resource folder to classpath. Then you can use this line:\r\n\r\n    spriteSheet = loader.loadImage(&quot;/sprite_sheet.png&quot;);\r\n\r\nDon&#39;t forget to add `/` on begin.","title":"Java, Accessing a image in a resource folder in eclipse","body":"<p>You put your resource folder inside of source folder. This is bad practice. Put you resource folder outside of source folder.</p>\n\n<pre><code>-src\n--com\n---m14x\n----game\n-----BufferedImageLoader.java\n-----Game.java\n-----SpriteSheet.java\n-res\n---sprite_sheet.png\n</code></pre>\n\n<p>Add resource folder to classpath. Then you can use this line:</p>\n\n<pre><code>spriteSheet = loader.loadImage(\"/sprite_sheet.png\");\n</code></pre>\n\n<p>Don't forget to add <code>/</code> on begin.</p>\n"},{"tags":[],"owner":{"account_id":161216,"reputation":5296,"user_id":381802,"accept_rate":100,"display_name":"erikvimz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419120242,"creation_date":1419119441,"answer_id":27585473,"question_id":27585437,"body_markdown":"You must provide the absolute path to your file within the jar file (must start with `/`), e.g.:\r\n\r\n&gt; /packageInsideResources/sprite_sheet.png\r\n\r\nAlso try using `getResourceAsStream()`:\r\n\r\n    InputStream is = getClass.getResourceAsStream(&quot;/packageInsideResources/sprite_sheet.png&quot;);\r\n    BufferedImage image = ImageIO.read(is);\r\n\r\nI&#39;ve had problems with `getResource()` a few times.","title":"Java, Accessing a image in a resource folder in eclipse","body":"<p>You must provide the absolute path to your file within the jar file (must start with <code>/</code>), e.g.:</p>\n\n<blockquote>\n  <p>/packageInsideResources/sprite_sheet.png</p>\n</blockquote>\n\n<p>Also try using <code>getResourceAsStream()</code>:</p>\n\n<pre><code>InputStream is = getClass.getResourceAsStream(\"/packageInsideResources/sprite_sheet.png\");\nBufferedImage image = ImageIO.read(is);\n</code></pre>\n\n<p>I've had problems with <code>getResource()</code> a few times.</p>\n"},{"tags":[],"owner":{"account_id":23867561,"reputation":1,"user_id":17869711,"display_name":"David Southam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641628227,"creation_date":1641628227,"answer_id":70630531,"question_id":27585437,"body_markdown":"I guess this may have been answered by now on a different thread but as I am new to Java and Eclipse (2 weeks) I thought that I&#39;d be kind-spirited and give a de facto answer.\r\n\r\nUnlike other IDEs, Eclipse likes to control everything so you have to tell it what directory you want to use as a resource and then place all the files in the resource directory individually. This is all done through Project Explorer. First, create the folder resource (New -&gt; Folder) then in that folder create each File resource. Luckily, for both the Folder and File, they can be linked to external locations.\r\n\r\n","title":"Java, Accessing a image in a resource folder in eclipse","body":"<p>I guess this may have been answered by now on a different thread but as I am new to Java and Eclipse (2 weeks) I thought that I'd be kind-spirited and give a de facto answer.</p>\n<p>Unlike other IDEs, Eclipse likes to control everything so you have to tell it what directory you want to use as a resource and then place all the files in the resource directory individually. This is all done through Project Explorer. First, create the folder resource (New -&gt; Folder) then in that folder create each File resource. Luckily, for both the Folder and File, they can be linked to external locations.</p>\n"}],"owner":{"account_id":5517497,"reputation":33,"user_id":4381703,"accept_rate":40,"display_name":"ElDoggo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641628227,"creation_date":1419119085,"question_id":27585437,"body_markdown":"I have a class that is supposed to load buffered images but no matter where i save the image in Eclipse or on my computer i cannot access it. Here is the class \r\n\r\n    package com.m14x.game;\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class BufferedImageLoader {\r\n\t\r\n\t    private BufferedImage image;\r\n\t\r\n\t    public BufferedImage loadImage(String path) throws IOException{\r\n\t\r\n\t    \tSystem.out.println(getClass());\r\n\t\t\r\n\t\t    image = ImageIO.read(getClass().getResource(path));\r\n\t\t    return image;``\r\n\t    }\r\n    }\r\nHere is my main class where I get the error\r\n\r\n    package com.m14x.game;\r\n    \r\n    import java.awt.Canvas;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferStrategy;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.JFrame;\r\n    import com.m14x.game.BufferedImageLoader;\r\n    import com.m14x.game.SpriteSheet;\r\n    \r\n    public class Game extends Canvas implements Runnable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic static final int WIDTH = 320;\r\n    \tpublic static final int HEIGHT = WIDTH / 12 * 9;\r\n    \tpublic static final int SCALE = 3;\r\n    \tpublic static String TITLE = &quot;2D Space Game&quot;;\r\n    \r\n    \tprivate boolean running = false;\r\n    \tprivate Thread thread;\r\n    \r\n    \tprivate BufferedImage image = new BufferedImage(WIDTH, HEIGHT,BufferedImage.TYPE_INT_RGB);\r\n    \tprivate BufferedImage spriteSheet = null;\r\n    \r\n    \t// temp\r\n    \tprivate BufferedImage player;\r\n    \r\n    \tpublic void init() {\r\n    \t\t\r\n    \t\tBufferedImageLoader loader = new BufferedImageLoader();\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tspriteSheet = loader.loadImage(&quot;/sprite_sheet.png&quot;);\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;7&quot;);\r\n    \t\tSpriteSheet ss = new SpriteSheet(spriteSheet);\r\n    \t\tplayer = ss.grabImage(1, 1, 32, 32);\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\tinit();\r\n    \t\t\r\n    \t\tlong lastTime = System.nanoTime();\r\n    \t\tfinal double AMOUNT_OF_TICKS = 60.0;\r\n    \t\tdouble ns = 1000000000 / AMOUNT_OF_TICKS;\r\n    \t\tdouble delta = 0;\r\n    \t\tint updates = 0;\r\n    \t\tint frames = 0;\r\n    \t\tlong timer = System.currentTimeMillis();\t\t\r\n    \t\twhile (running) {\r\n    \r\n    \t\t\tlong now = System.nanoTime();\r\n    \t\t\tdelta += (now - lastTime) / ns;\r\n    \t\t\tlastTime = now;\r\n    \r\n    \t\t\tif (delta &gt;= 1) {\r\n    \t\t\t\ttick();\r\n    \t\t\t\tupdates++;\r\n    \t\t\t\tdelta -= 1;\r\n    \t\t\t}\r\n    \t\t\trender();\r\n    \t\t\tframes++;\r\n    \r\n    \t\t\tif (System.currentTimeMillis() - timer &gt; 1000) {\r\n    \t\t\t\ttimer += 1000;\r\n    \t\t\t\tSystem.out.println(&quot;Frames: &quot; + frames + &quot;, Ticks: &quot; + updates);\r\n    \t\t\t\tupdates = 0;\r\n    \t\t\t\tframes = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tstop();\r\n    \t}\r\n    \r\n    \tprivate void tick() {\r\n    \t}\r\n    \r\n    \tprivate void render() {\r\n    \r\n    \t\tBufferStrategy bs = this.getBufferStrategy();\r\n    \r\n    \t\tif (bs == null) {\r\n    \t\t\tcreateBufferStrategy(3);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tGraphics g = bs.getDrawGraphics();\r\n    \t\t// //////// DRAW THINGS BELOW ///////////\r\n    \r\n    \t\tg.drawImage(image, 0, 0, getWidth(), getHeight(), this);\r\n    \r\n    \t\tg.drawImage(player, 100, 100, this);\r\n    \r\n    \t\t// //////// DRAW THINGS ABOVE ///////////\r\n    \t\tg.dispose();\r\n    \t\tbs.show();\r\n    \t}\r\n    \r\n    \tprivate synchronized void start() {\r\n    \t\tif (running) {\r\n    \t\t\tSystem.out.println(&quot;Did not start, already running!&quot;);\r\n    \t\t\treturn;\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Now running the thread!&quot;);\r\n    \t\t\trunning = true;\r\n    \t\t\tthread = new Thread(this);\r\n    \t\t\tthread.start();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate synchronized void stop() {\r\n    \t\tif (!running) {\r\n    \t\t\treturn;\r\n    \t\t} else {\r\n    \t\t\trunning = false;\r\n    \t\t\ttry {\r\n    \t\t\t\tthread.join();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tGame game = new Game();\r\n    \r\n    \t\tgame.setPreferredSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n    \t\tgame.setMaximumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n    \t\tgame.setMinimumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n    \r\n    \t\tJFrame frame = new JFrame(Game.TITLE);\r\n    \t\tframe.add(game);\r\n    \t\tframe.pack();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t\tgame.start();\r\n    \t}\r\n    }\r\n\r\nBut when I try to use it  &gt; `spriteSheet = loader.loadImage(&quot;sprite_sheet.png&quot;);`\r\n\r\nI get a nullPointer exception. \r\nI have searched for an answer but none of the ones I found worked. \r\n\r\nHere is the exact Error i get;\r\n\r\n    java.lang.IllegalArgumentException: input == null!\r\n    \tat javax.imageio.ImageIO.read(Unknown Source)\r\n    \tat com.m14x.game.BufferedImageLoader.loadImage(BufferedImageLoader.java:19)\r\n    \tat com.m14x.game.Game.init(Game.java:34)\r\n    \tat com.m14x.game.Game.run(Game.java:46)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Exception in thread &quot;Thread-2&quot; java.lang.NullPointerException\r\n    \tat com.m14x.game.SpriteSheet.grabImage(SpriteSheet.java:15)\r\n    \tat com.m14x.game.Game.init(Game.java:42)\r\n    \tat com.m14x.game.Game.run(Game.java:46)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nAlso here is my project structure;\r\n\r\n    -src\r\n    --com\r\n    ---m14x\r\n    ----game\r\n    -----BufferedImageLoader.java\r\n    -----Game.java\r\n    -----SpriteSheet.java\r\n    --res\r\n    ---sprite_sheet.png\r\n","title":"Java, Accessing a image in a resource folder in eclipse","body":"<p>I have a class that is supposed to load buffered images but no matter where i save the image in Eclipse or on my computer i cannot access it. Here is the class </p>\n\n<pre><code>package com.m14x.game;\n\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class BufferedImageLoader {\n\n    private BufferedImage image;\n\n    public BufferedImage loadImage(String path) throws IOException{\n\n        System.out.println(getClass());\n\n        image = ImageIO.read(getClass().getResource(path));\n        return image;``\n    }\n}\n</code></pre>\n\n<p>Here is my main class where I get the error</p>\n\n<pre><code>package com.m14x.game;\n\nimport java.awt.Canvas;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.image.BufferStrategy;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JFrame;\nimport com.m14x.game.BufferedImageLoader;\nimport com.m14x.game.SpriteSheet;\n\npublic class Game extends Canvas implements Runnable {\n\n    private static final long serialVersionUID = 1L;\n    public static final int WIDTH = 320;\n    public static final int HEIGHT = WIDTH / 12 * 9;\n    public static final int SCALE = 3;\n    public static String TITLE = \"2D Space Game\";\n\n    private boolean running = false;\n    private Thread thread;\n\n    private BufferedImage image = new BufferedImage(WIDTH, HEIGHT,BufferedImage.TYPE_INT_RGB);\n    private BufferedImage spriteSheet = null;\n\n    // temp\n    private BufferedImage player;\n\n    public void init() {\n\n        BufferedImageLoader loader = new BufferedImageLoader();\n        try {\n\n            spriteSheet = loader.loadImage(\"/sprite_sheet.png\");\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(\"7\");\n        SpriteSheet ss = new SpriteSheet(spriteSheet);\n        player = ss.grabImage(1, 1, 32, 32);\n    }\n\n    public void run() {\n        init();\n\n        long lastTime = System.nanoTime();\n        final double AMOUNT_OF_TICKS = 60.0;\n        double ns = 1000000000 / AMOUNT_OF_TICKS;\n        double delta = 0;\n        int updates = 0;\n        int frames = 0;\n        long timer = System.currentTimeMillis();        \n        while (running) {\n\n            long now = System.nanoTime();\n            delta += (now - lastTime) / ns;\n            lastTime = now;\n\n            if (delta &gt;= 1) {\n                tick();\n                updates++;\n                delta -= 1;\n            }\n            render();\n            frames++;\n\n            if (System.currentTimeMillis() - timer &gt; 1000) {\n                timer += 1000;\n                System.out.println(\"Frames: \" + frames + \", Ticks: \" + updates);\n                updates = 0;\n                frames = 0;\n            }\n        }\n        stop();\n    }\n\n    private void tick() {\n    }\n\n    private void render() {\n\n        BufferStrategy bs = this.getBufferStrategy();\n\n        if (bs == null) {\n            createBufferStrategy(3);\n            return;\n        }\n\n        Graphics g = bs.getDrawGraphics();\n        // //////// DRAW THINGS BELOW ///////////\n\n        g.drawImage(image, 0, 0, getWidth(), getHeight(), this);\n\n        g.drawImage(player, 100, 100, this);\n\n        // //////// DRAW THINGS ABOVE ///////////\n        g.dispose();\n        bs.show();\n    }\n\n    private synchronized void start() {\n        if (running) {\n            System.out.println(\"Did not start, already running!\");\n            return;\n        } else {\n            System.out.println(\"Now running the thread!\");\n            running = true;\n            thread = new Thread(this);\n            thread.start();\n        }\n    }\n\n    private synchronized void stop() {\n        if (!running) {\n            return;\n        } else {\n            running = false;\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.exit(1);\n        }\n    }\n\n    public static void main(String[] args) {\n\n        Game game = new Game();\n\n        game.setPreferredSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n        game.setMaximumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n        game.setMinimumSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n\n        JFrame frame = new JFrame(Game.TITLE);\n        frame.add(game);\n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n        game.start();\n    }\n}\n</code></pre>\n\n<p>But when I try to use it  > <code>spriteSheet = loader.loadImage(\"sprite_sheet.png\");</code></p>\n\n<p>I get a nullPointer exception. \nI have searched for an answer but none of the ones I found worked. </p>\n\n<p>Here is the exact Error i get;</p>\n\n<pre><code>java.lang.IllegalArgumentException: input == null!\n    at javax.imageio.ImageIO.read(Unknown Source)\n    at com.m14x.game.BufferedImageLoader.loadImage(BufferedImageLoader.java:19)\n    at com.m14x.game.Game.init(Game.java:34)\n    at com.m14x.game.Game.run(Game.java:46)\n    at java.lang.Thread.run(Unknown Source)\nException in thread \"Thread-2\" java.lang.NullPointerException\n    at com.m14x.game.SpriteSheet.grabImage(SpriteSheet.java:15)\n    at com.m14x.game.Game.init(Game.java:42)\n    at com.m14x.game.Game.run(Game.java:46)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Also here is my project structure;</p>\n\n<pre><code>-src\n--com\n---m14x\n----game\n-----BufferedImageLoader.java\n-----Game.java\n-----SpriteSheet.java\n--res\n---sprite_sheet.png\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11929040,"reputation":1,"user_id":17869185,"display_name":"LeavesAreTheBest"},"score":0,"creation_date":1641626918,"post_id":70630064,"comment_id":124858121,"body_markdown":"Are you referring to the backdrop.render(g) part of my code or the imageio part? If it&#39;s the backdrop.render(g) part, I&#39;ve initialized it by creating a new instance of the class. If it&#39;s the imageio part, I think I&#39;ve initialized the Buffered image array at the start of class, and I&#39;ve initialized the file and fileinputstream in the constructor. After initializing the array, I tried to add values to the array, but that part of code, I think, breaks down and sends the npe","body":"Are you referring to the backdrop.render(g) part of my code or the imageio part? If it&#39;s the backdrop.render(g) part, I&#39;ve initialized it by creating a new instance of the class. If it&#39;s the imageio part, I think I&#39;ve initialized the Buffered image array at the start of class, and I&#39;ve initialized the file and fileinputstream in the constructor. After initializing the array, I tried to add values to the array, but that part of code, I think, breaks down and sends the npe"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1641634028,"post_id":70630064,"comment_id":124859228,"body_markdown":"First you need to figure out which reference is `null`. The stack trace tells you that it&#39;s happening at line 137 of Game.java, in the render function.","body":"First you need to figure out which reference is <code>null</code>. The stack trace tells you that it&#39;s happening at line 137 of Game.java, in the render function."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1641634134,"post_id":70630064,"comment_id":124859241,"body_markdown":"Don&#39;t do `} catch (IOException e) {  e.printStackTrace();  }`, let the exception be thrown to the top level. You are masking the real problem.","body":"Don&#39;t do <code>} catch (IOException e) {  e.printStackTrace();  }</code>, let the exception be thrown to the top level. You are masking the real problem."},{"owner":{"account_id":11929040,"reputation":1,"user_id":17869185,"display_name":"LeavesAreTheBest"},"score":0,"creation_date":1641703456,"post_id":70630064,"comment_id":124872679,"body_markdown":"I think I just did that. That&#39;s when you have the throw line in the constructor right? Nothing changed","body":"I think I just did that. That&#39;s when you have the throw line in the constructor right? Nothing changed"}],"answers":[{"tags":[],"owner":{"account_id":261242,"reputation":1126,"user_id":545298,"accept_rate":86,"display_name":"Vladimir Korenev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641628157,"creation_date":1641628157,"answer_id":70630524,"question_id":70630064,"body_markdown":"If you have `backdrop.render(g)` at Game.java:137, the aforementioned stack trace indicates that `backdrop` is `null`.","title":"ImageIO.read(fileinputstream/imageinputstream/bufferedinputstream) causing entire class to show null pointer error (java)","body":"<p>If you have <code>backdrop.render(g)</code> at Game.java:137, the aforementioned stack trace indicates that <code>backdrop</code> is <code>null</code>.</p>\n"}],"owner":{"account_id":11929040,"reputation":1,"user_id":17869185,"display_name":"LeavesAreTheBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641639004,"answer_count":1,"score":0,"last_activity_date":1641628157,"creation_date":1641622783,"question_id":70630064,"body_markdown":"So I was attempting to upload some images to a buffered image array in a class, but when I run the code, the class that I have the code in returns an npe. The image is a png file. Here&#39;s the code:\r\n\r\n```\r\n...\r\n\r\nprivate BufferedImage[] img = new BufferedImage[2];\r\n\r\npublic Backdrop(String args[]) {\r\n    for (int i = 1; i &lt;= 2; i++) {\r\n        String path = &quot;resources/Map1&quot;+i+&quot;.png&quot;;\r\n        File file = new File(path);\r\n\r\n        if (file.length() &lt;= 0 || !file.isFile() || !file.exists()) {\r\n            System.out.println(&quot;Image &quot; + i + &quot; failed first test&quot;);\r\n        }\r\n\r\n        try {\r\n            FileInputStream fis = new FileInputStream(file);\r\n            img[i-1] = ImageIO.read(fis);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (img[i-1] == null) {\r\n            System.out.println(&quot;Failed to upload Map1&quot; + i + &quot;.png to array&quot;);\r\n        }\r\n    }\r\n}\r\n\r\npublic void render(Graphics g){\r\n    switch(currentBackdrop) {\r\n        case Map11:\r\n            /*//upload map image\r\n            g.drawImage(img, 0, 0, null);*/\r\n            break;\r\n        case Menu:\r\n            g.setColor(Color.black);\r\n            g.fillRect(0, 0, WIDTH, HEIGHT);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs the title says, I&#39;ve already tried using a fileinputstream, a imageinputstream, a bufferedinputstream. I&#39;ve also tried using new File(...). Same thing happens. I&#39;m thinking it&#39;s the img[i-1] = ImageIO.read(fis); because when I comment it out everything works fine (obviously the image doesn&#39;t display because I&#39;ve commented the g.drawImage code out and the array is empty). Before anything is said about the fact that there&#39;s only a small number inside the for loop thing, I am going to increase it later on, I&#39;m just trying to get this to work first. I&#39;m pretty sure the path is in the correct location because if I change the path to something like fdilsjah.png, the error would be a filenotfoundexception. Also, the first println code doesn&#39;t run, so I think that also shows that file exists.\r\n\r\nHere&#39;s the error messages:\r\n\r\n```\r\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException\r\n\tat com.CASGame.InsomniacCheese.Game.render(Game.java:137)\r\n\tat com.CASGame.InsomniacCheese.Game.run(Game.java:85)\r\n```\r\n\r\nso Game.java:137 is just backdrop.render(g) (which is just a private instance of the Backdrop class)","title":"ImageIO.read(fileinputstream/imageinputstream/bufferedinputstream) causing entire class to show null pointer error (java)","body":"<p>So I was attempting to upload some images to a buffered image array in a class, but when I run the code, the class that I have the code in returns an npe. The image is a png file. Here's the code:</p>\n<pre><code>...\n\nprivate BufferedImage[] img = new BufferedImage[2];\n\npublic Backdrop(String args[]) {\n    for (int i = 1; i &lt;= 2; i++) {\n        String path = &quot;resources/Map1&quot;+i+&quot;.png&quot;;\n        File file = new File(path);\n\n        if (file.length() &lt;= 0 || !file.isFile() || !file.exists()) {\n            System.out.println(&quot;Image &quot; + i + &quot; failed first test&quot;);\n        }\n\n        try {\n            FileInputStream fis = new FileInputStream(file);\n            img[i-1] = ImageIO.read(fis);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        if (img[i-1] == null) {\n            System.out.println(&quot;Failed to upload Map1&quot; + i + &quot;.png to array&quot;);\n        }\n    }\n}\n\npublic void render(Graphics g){\n    switch(currentBackdrop) {\n        case Map11:\n            /*//upload map image\n            g.drawImage(img, 0, 0, null);*/\n            break;\n        case Menu:\n            g.setColor(Color.black);\n            g.fillRect(0, 0, WIDTH, HEIGHT);\n            break;\n        default:\n            break;\n    }\n}\n\n</code></pre>\n<p>As the title says, I've already tried using a fileinputstream, a imageinputstream, a bufferedinputstream. I've also tried using new File(...). Same thing happens. I'm thinking it's the img[i-1] = ImageIO.read(fis); because when I comment it out everything works fine (obviously the image doesn't display because I've commented the g.drawImage code out and the array is empty). Before anything is said about the fact that there's only a small number inside the for loop thing, I am going to increase it later on, I'm just trying to get this to work first. I'm pretty sure the path is in the correct location because if I change the path to something like fdilsjah.png, the error would be a filenotfoundexception. Also, the first println code doesn't run, so I think that also shows that file exists.</p>\n<p>Here's the error messages:</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.NullPointerException\n    at com.CASGame.InsomniacCheese.Game.render(Game.java:137)\n    at com.CASGame.InsomniacCheese.Game.run(Game.java:85)\n</code></pre>\n<p>so Game.java:137 is just backdrop.render(g) (which is just a private instance of the Backdrop class)</p>\n"},{"tags":["java","maven","unit-testing","testng","multi-module"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641553319,"post_id":70617793,"comment_id":124839192,"body_markdown":"Please make an example project and show what you have tried so far..and what does not work...","body":"Please make an example project and show what you have tried so far..and what does not work..."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641627350,"creation_date":1641625481,"answer_id":70630285,"question_id":70617793,"body_markdown":"This should run tests for modules A and B both.\r\n\r\n```\r\nmvn test -pl A,B\r\n```\r\n___\r\n**References**\r\nhttps://maven.apache.org/guides/mini/guide-multiple-modules-4.html\r\nhttps://blog.akquinet.de/2010/05/26/mastering-the-maven-command-line-reactor-options/\r\nhttps://blog.sonatype.com/2009/10/maven-tips-and-tricks-advanced-reactor-options/","title":"Running test from different modules using a testng suite in maven multi module project?","body":"<p>This should run tests for modules A and B both.</p>\n<pre><code>mvn test -pl A,B\n</code></pre>\n<hr />\n<p><strong>References</strong>\n<a href=\"https://maven.apache.org/guides/mini/guide-multiple-modules-4.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-multiple-modules-4.html</a>\n<a href=\"https://blog.akquinet.de/2010/05/26/mastering-the-maven-command-line-reactor-options/\" rel=\"nofollow noreferrer\">https://blog.akquinet.de/2010/05/26/mastering-the-maven-command-line-reactor-options/</a>\n<a href=\"https://blog.sonatype.com/2009/10/maven-tips-and-tricks-advanced-reactor-options/\" rel=\"nofollow noreferrer\">https://blog.sonatype.com/2009/10/maven-tips-and-tricks-advanced-reactor-options/</a></p>\n"}],"owner":{"account_id":19081656,"reputation":1,"user_id":13933718,"display_name":"kanika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641627350,"creation_date":1641539994,"question_id":70617793,"body_markdown":"I want to run unit test present in different modules of my maven project from a testng suite that contains specific test classes.\r\nOne method that i have tried is to make another module and add dependencies of the different modules that i require test from as a test-jar but this method requires me to add all the dependencies that the modules i have added for test dependencies.\r\n\r\n\r\nproject is structure like \r\n\r\n```\r\nProject \r\n|\r\n|- Module A\r\n   |- src\r\n   |- suitefiles\r\n   |- pom.xml\r\n|- Module B\r\n   |- src\r\n   |- suitefiles\r\n   |- pom.xml\r\n|-pom.xml(Parent pom)\r\n```\r\nI have tried to add a third module like\r\n\r\n```\r\nProject \r\n|\r\n|- Module A\r\n   |- src\r\n   |- suitefiles\r\n   |- pom.xml\r\n|- Module B\r\n   |- src\r\n   |- suitefiles\r\n   |- pom.xml\r\n|- Module C\r\n   |- src\r\n   |- suitefiles\r\n   |- pom.xml &lt;-(A and B as dependencies here)\r\n|-pom.xml(Parent pom)\r\n```\r\nI want to omit making a separate module every time to run combine test from 2 modules. Is there a simpler way?\r\n","title":"Running test from different modules using a testng suite in maven multi module project?","body":"<p>I want to run unit test present in different modules of my maven project from a testng suite that contains specific test classes.\nOne method that i have tried is to make another module and add dependencies of the different modules that i require test from as a test-jar but this method requires me to add all the dependencies that the modules i have added for test dependencies.</p>\n<p>project is structure like</p>\n<pre><code>Project \n|\n|- Module A\n   |- src\n   |- suitefiles\n   |- pom.xml\n|- Module B\n   |- src\n   |- suitefiles\n   |- pom.xml\n|-pom.xml(Parent pom)\n</code></pre>\n<p>I have tried to add a third module like</p>\n<pre><code>Project \n|\n|- Module A\n   |- src\n   |- suitefiles\n   |- pom.xml\n|- Module B\n   |- src\n   |- suitefiles\n   |- pom.xml\n|- Module C\n   |- src\n   |- suitefiles\n   |- pom.xml &lt;-(A and B as dependencies here)\n|-pom.xml(Parent pom)\n</code></pre>\n<p>I want to omit making a separate module every time to run combine test from 2 modules. Is there a simpler way?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641627318,"creation_date":1641627318,"answer_id":70630439,"question_id":70630255,"body_markdown":"No, spring-boot is not affected &quot;per se&quot;, neither `springboot-starter-logging: 1.5.6`.\r\n\r\n- Proof#1: https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot\r\n\r\n- Proof#2:\r\n\r\n```\r\n&gt;mvn dependency:tree\r\n\r\n---------------------&lt; com.example:mavenproject1 &gt;----------------------\r\nBuilding mavenproject1 1.0.0-SNAPSHOT\r\n--------------------------------[ jar ]---------------------------------\r\n\r\n--- maven-dependency-plugin:2.10:tree (default-cli) @ mavenproject1 ---\r\ncom.example:mavenproject1:jar:1.0.0-SNAPSHOT\r\n+- org.springframework.boot:spring-boot-starter-logging:jar:1.5.6.RELEASE:compile\r\n|  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\r\n|  |  +- ch.qos.logback:logback-core:jar:1.1.11:compile\r\n|  |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n|  +- org.slf4j:jcl-over-slf4j:jar:1.7.25:compile\r\n|  +- org.slf4j:jul-to-slf4j:jar:1.7.25:compile\r\n|  \\- org.slf4j:log4j-over-slf4j:jar:1.7.25:compile\r\n+- junit:junit:jar:4.12:test\r\n|  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n+- org.assertj:assertj-core:jar:2.6.0:test\r\n+- org.mockito:mockito-core:jar:1.10.19:test\r\n|  \\- org.objenesis:objenesis:jar:2.1:test\r\n+- org.hamcrest:hamcrest-library:jar:1.3:test\r\n\\- org.springframework:spring-test:jar:4.3.10.RELEASE:test\r\n   \\- org.springframework:spring-core:jar:4.3.10.RELEASE:test\r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n------------------------------------------------------------------------\r\nTotal time:  1.179 s\r\nFinished at: 2022-01-08T08:32:43+01:00\r\n------------------------------------------------------------------------\r\n```\r\n\r\nWe *have/had/will become* a problem, when we have:\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```    ","title":"Is the log4j vulnerability issue affect springboot 1.5.6 starter logging?","body":"<p>No, spring-boot is not affected &quot;per se&quot;, neither <code>springboot-starter-logging: 1.5.6</code>.</p>\n<ul>\n<li><p>Proof#1: <a href=\"https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot\" rel=\"nofollow noreferrer\">https://spring.io/blog/2021/12/10/log4j2-vulnerability-and-spring-boot</a></p>\n</li>\n<li><p>Proof#2:</p>\n</li>\n</ul>\n<pre><code>&gt;mvn dependency:tree\n\n---------------------&lt; com.example:mavenproject1 &gt;----------------------\nBuilding mavenproject1 1.0.0-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\n\n--- maven-dependency-plugin:2.10:tree (default-cli) @ mavenproject1 ---\ncom.example:mavenproject1:jar:1.0.0-SNAPSHOT\n+- org.springframework.boot:spring-boot-starter-logging:jar:1.5.6.RELEASE:compile\n|  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\n|  |  +- ch.qos.logback:logback-core:jar:1.1.11:compile\n|  |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\n|  +- org.slf4j:jcl-over-slf4j:jar:1.7.25:compile\n|  +- org.slf4j:jul-to-slf4j:jar:1.7.25:compile\n|  \\- org.slf4j:log4j-over-slf4j:jar:1.7.25:compile\n+- junit:junit:jar:4.12:test\n|  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n+- org.assertj:assertj-core:jar:2.6.0:test\n+- org.mockito:mockito-core:jar:1.10.19:test\n|  \\- org.objenesis:objenesis:jar:2.1:test\n+- org.hamcrest:hamcrest-library:jar:1.3:test\n\\- org.springframework:spring-test:jar:4.3.10.RELEASE:test\n   \\- org.springframework:spring-core:jar:4.3.10.RELEASE:test\n------------------------------------------------------------------------\nBUILD SUCCESS\n------------------------------------------------------------------------\nTotal time:  1.179 s\nFinished at: 2022-01-08T08:32:43+01:00\n------------------------------------------------------------------------\n</code></pre>\n<p>We <em>have/had/will become</em> a problem, when we have:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23844580,"reputation":31,"user_id":17849232,"display_name":"abel saju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641627318,"creation_date":1641625262,"question_id":70630255,"body_markdown":"Currently my project is running in springboot 1.5.6.Is the log4j vulnerability issue affect springboot 1.5.6 starter logging?","title":"Is the log4j vulnerability issue affect springboot 1.5.6 starter logging?","body":"<p>Currently my project is running in springboot 1.5.6.Is the log4j vulnerability issue affect springboot 1.5.6 starter logging?</p>\n"},{"tags":["java","variables","recursion","compiler-errors","operators"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1641624313,"post_id":70630130,"comment_id":124857821,"body_markdown":"What are you trying to do with `n:1`? It looks as though you need to study basic Java syntax.","body":"What are you trying to do with <code>n:1</code>? It looks as though you need to study basic Java syntax."},{"owner":{"account_id":2658982,"reputation":2506,"user_id":2299087,"display_name":"James McPherson"},"score":0,"creation_date":1641624473,"post_id":70630130,"comment_id":124857836,"body_markdown":"The `:` is not an assignment operator, so all those `(n:..)` arguments are invalid. If you want to pass a bare number, just pass the number `1`, `2` etc.","body":"The <code>:</code> is not an assignment operator, so all those <code>(n:..)</code> arguments are invalid. If you want to pass a bare number, just pass the number <code>1</code>, <code>2</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":8408747,"reputation":71,"user_id":6311418,"display_name":"Fahim Fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641624458,"creation_date":1641624458,"answer_id":70630179,"question_id":70630130,"body_markdown":"May be you are trying to do something like this:\r\n\r\n    public static void main(String[] args) {\r\n            // write a function that takes in a num. and prints it\r\n            //  print first 5 nums. 1 2 3 4 5\r\n            int n = 1;\r\n            print1(n);\r\n        }","title":"I am getting type if errors Invalid Assignment operator and &#39;n&#39; cannot be resolved as variable","body":"<p>May be you are trying to do something like this:</p>\n<pre><code>public static void main(String[] args) {\n        // write a function that takes in a num. and prints it\n        //  print first 5 nums. 1 2 3 4 5\n        int n = 1;\n        print1(n);\n    }\n</code></pre>\n"}],"owner":{"account_id":23867157,"reputation":1,"user_id":17869348,"display_name":"Jay Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641641338,"answer_count":1,"score":0,"last_activity_date":1641626206,"creation_date":1641623749,"question_id":70630130,"body_markdown":"I am getting 2 type of errors &#39;n&#39; cannot be resolved as var. and         (Syntax error on token &quot;:&quot;, invalid AssignmentOperator)\r\nI am currently learning java so if anyone can help me out with this errors it would be a great\r\nThank you\r\nHere is the code (java)\r\n\r\n```\r\n  public class NumbersEg {\r\n    public static void main(String[] args) {\r\n        // write a function that takes in a num. and prints it\r\n        //  print first 5 nums. 1 2 3 4 5\r\n        print1(n:1);\r\n    }\r\n\r\n    static void print1(int n) {\r\n        System.out.println(n);\r\n        print2(n:2);\r\n    }\r\n\r\n    static void print2(int n) {\r\n        System.out.println(n);\r\n        print3(n:3);\r\n    }\r\n\r\n    static void print3(int n) {\r\n        System.out.println(n);\r\n        print4(n:4);\r\n        \r\n    }\r\n\r\n    static void print4(int n) {\r\n        System.out.println(n);\r\n        print5(n:5);\r\n    }\r\n\r\n    static void print5(int n) {\r\n        System.out.println(n);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n","title":"I am getting type if errors Invalid Assignment operator and &#39;n&#39; cannot be resolved as variable","body":"<p>I am getting 2 type of errors 'n' cannot be resolved as var. and         (Syntax error on token &quot;:&quot;, invalid AssignmentOperator)\nI am currently learning java so if anyone can help me out with this errors it would be a great\nThank you\nHere is the code (java)</p>\n<pre><code>  public class NumbersEg {\n    public static void main(String[] args) {\n        // write a function that takes in a num. and prints it\n        //  print first 5 nums. 1 2 3 4 5\n        print1(n:1);\n    }\n\n    static void print1(int n) {\n        System.out.println(n);\n        print2(n:2);\n    }\n\n    static void print2(int n) {\n        System.out.println(n);\n        print3(n:3);\n    }\n\n    static void print3(int n) {\n        System.out.println(n);\n        print4(n:4);\n        \n    }\n\n    static void print4(int n) {\n        System.out.println(n);\n        print5(n:5);\n    }\n\n    static void print5(int n) {\n        System.out.println(n);\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":2254066,"reputation":5324,"user_id":1985648,"accept_rate":59,"display_name":"Don Cheadle"},"score":0,"creation_date":1443554797,"post_id":7161638,"comment_id":53537874,"body_markdown":"how / where did you get Jackson to use your custom Serializer for the `Item`? I&#39;m having an issue where my controller method returns a standard serialized object `TypeA`, but for another specific controller method, I want to serialize it differently. What would that look like?","body":"how / where did you get Jackson to use your custom Serializer for the <code>Item</code>? I&#39;m having an issue where my controller method returns a standard serialized object <code>TypeA</code>, but for another specific controller method, I want to serialize it differently. What would that look like?"},{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1467385061,"post_id":7161638,"comment_id":63726635,"body_markdown":"I wrote a post about [How to Write a Custom Serializer with Jackson](https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson) that may be helpful to some.","body":"I wrote a post about <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson\" rel=\"nofollow noreferrer\">How to Write a Custom Serializer with Jackson</a> that may be helpful to some."}],"answers":[{"tags":[],"owner":{"account_id":41764,"reputation":4743,"user_id":121459,"accept_rate":83,"display_name":"Mike G"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1314106158,"creation_date":1314105848,"answer_id":7161702,"question_id":7161638,"body_markdown":"If your only requirement in your custom serializer is to skip serializing the `name` field of `User`, mark it as **transient**. Jackson will not serialize or deserialize **transient** fields.\r\n\r\n[ see also: https://stackoverflow.com/questions/910374/why-does-java-have-transient-variables/910522#910522 ]","title":"How do I use a custom Serializer with Jackson?","body":"<p>If your only requirement in your custom serializer is to skip serializing the <code>name</code> field of <code>User</code>, mark it as <strong>transient</strong>. Jackson will not serialize or deserialize <strong>transient</strong> fields.</p>\n\n<p>[ see also: <a href=\"https://stackoverflow.com/questions/910374/why-does-java-have-transient-variables/910522#910522\">Why does Java have transient fields?</a> ]</p>\n"},{"tags":[],"owner":{"account_id":190753,"reputation":357,"user_id":430904,"display_name":"Paul M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1370438359,"creation_date":1314107220,"answer_id":7162003,"question_id":7161638,"body_markdown":"[Jackson&#39;s JSON Views][1] might be a simpler way of achieving your requirements, especially if you have some flexibility in your JSON format.\r\n\r\nIf `{&quot;id&quot;:7, &quot;itemNr&quot;:&quot;TEST&quot;, &quot;createdBy&quot;:{id:3}}` is an acceptable representation then this will be very easy to achieve with very little code.\r\n\r\nYou would just annotate the name field of User as being part of a view, and specify a different view in your serialisation request (the un-annotated fields would be included by default)\r\n\r\nFor example:\r\nDefine the views:\r\n\r\n    public class Views {\r\n        public static class BasicView{}\r\n    \tpublic static class CompleteUserView{}\r\n    }\r\n\r\nAnnotate the User:\r\n\r\n    public class User {\r\n        public final int id;\r\n        \r\n        @JsonView(Views.CompleteUserView.class)\r\n        public final String name;\r\n\r\n        public User(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd serialise requesting a view which doesn&#39;t contain the field you want to hide (non-annotated fields are serialised by default):\r\n\r\n    objectMapper.getSerializationConfig().withView(Views.BasicView.class);\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonJsonViews","title":"How do I use a custom Serializer with Jackson?","body":"<p><a href=\"http://wiki.fasterxml.com/JacksonJsonViews\" rel=\"noreferrer\">Jackson's JSON Views</a> might be a simpler way of achieving your requirements, especially if you have some flexibility in your JSON format.</p>\n\n<p>If <code>{\"id\":7, \"itemNr\":\"TEST\", \"createdBy\":{id:3}}</code> is an acceptable representation then this will be very easy to achieve with very little code.</p>\n\n<p>You would just annotate the name field of User as being part of a view, and specify a different view in your serialisation request (the un-annotated fields would be included by default)</p>\n\n<p>For example:\nDefine the views:</p>\n\n<pre><code>public class Views {\n    public static class BasicView{}\n    public static class CompleteUserView{}\n}\n</code></pre>\n\n<p>Annotate the User:</p>\n\n<pre><code>public class User {\n    public final int id;\n\n    @JsonView(Views.CompleteUserView.class)\n    public final String name;\n\n    public User(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>And serialise requesting a view which doesn't contain the field you want to hide (non-annotated fields are serialised by default):</p>\n\n<pre><code>objectMapper.getSerializationConfig().withView(Views.BasicView.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92720,"reputation":5654,"user_id":253994,"accept_rate":100,"display_name":"Henrik Barratt Due"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1314111520,"creation_date":1314111520,"answer_id":7163105,"question_id":7161638,"body_markdown":"Use @JsonValue:\r\n\r\n    public class User {\r\n        int id;\r\n        String name;\r\n\r\n        @JsonValue\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    }\r\n\r\n@JsonValue only works on methods so you must add the getId method.\r\nYou should be able to skip your custom serializer altogether.","title":"How do I use a custom Serializer with Jackson?","body":"<p>Use @JsonValue:</p>\n\n<pre><code>public class User {\n    int id;\n    String name;\n\n    @JsonValue\n    public int getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>@JsonValue only works on methods so you must add the getId method.\nYou should be able to skip your custom serializer altogether.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1314139187,"creation_date":1314139187,"answer_id":7168386,"question_id":7161638,"body_markdown":"As mentioned, @JsonValue is a good way. But if you don&#39;t mind a custom serializer, there&#39;s no need to write one for Item but rather one for User -- if so, it&#39;d be as simple as:\r\n\r\n    public void serialize(Item value, JsonGenerator jgen,\r\n        SerializerProvider provider) throws IOException,\r\n        JsonProcessingException {\r\n      jgen.writeNumber(id);\r\n    }\r\n\r\nYet another possibility is to implement `JsonSerializable`, in which case no registration is needed.\r\n\r\nAs to error; that is weird -- you probably want to upgrade to a later version. But it is also safer to extend `org.codehaus.jackson.map.ser.SerializerBase` as it will have standard implementations of non-essential methods (i.e. everything but actual serialization call).\r\n","title":"How do I use a custom Serializer with Jackson?","body":"<p>As mentioned, @JsonValue is a good way. But if you don't mind a custom serializer, there's no need to write one for Item but rather one for User -- if so, it'd be as simple as:</p>\n\n<pre><code>public void serialize(Item value, JsonGenerator jgen,\n    SerializerProvider provider) throws IOException,\n    JsonProcessingException {\n  jgen.writeNumber(id);\n}\n</code></pre>\n\n<p>Yet another possibility is to implement <code>JsonSerializable</code>, in which case no registration is needed.</p>\n\n<p>As to error; that is weird -- you probably want to upgrade to a later version. But it is also safer to extend <code>org.codehaus.jackson.map.ser.SerializerBase</code> as it will have standard implementations of non-essential methods (i.e. everything but actual serialization call).</p>\n"},{"tags":[],"owner":{"account_id":1126287,"reputation":3130,"user_id":1113510,"display_name":"Moesio"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1485885150,"creation_date":1338474100,"answer_id":10835504,"question_id":7161638,"body_markdown":"You can put `@JsonSerialize(using = CustomDateSerializer.class)` over any date field of object to be serialized.\r\n\r\n    public class CustomDateSerializer extends SerializerBase&lt;Date&gt; {\r\n\r\n\t    public CustomDateSerializer() {\r\n\t\t    super(Date.class, true);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void serialize(Date value, JsonGenerator jgen, SerializerProvider provider)\r\n\t\t\tthrows IOException, JsonProcessingException {\r\n\t\t    SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &#39;GMT&#39;ZZZ (z)&quot;);\r\n\t\t    String format = formatter.format(value);\r\n\t\t    jgen.writeString(format);\r\n\t    }\r\n\r\n    }\r\n","title":"How do I use a custom Serializer with Jackson?","body":"<p>You can put <code>@JsonSerialize(using = CustomDateSerializer.class)</code> over any date field of object to be serialized.</p>\n\n<pre><code>public class CustomDateSerializer extends SerializerBase&lt;Date&gt; {\n\n    public CustomDateSerializer() {\n        super(Date.class, true);\n    }\n\n    @Override\n    public void serialize(Date value, JsonGenerator jgen, SerializerProvider provider)\n        throws IOException, JsonProcessingException {\n        SimpleDateFormat formatter = new SimpleDateFormat(\"EEE MMM dd yyyy HH:mm:ss 'GMT'ZZZ (z)\");\n        String format = formatter.format(value);\n        jgen.writeString(format);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859091,"reputation":11,"user_id":2454685,"display_name":"Sergey Kukurudzyak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371555000,"creation_date":1371555000,"answer_id":17167730,"question_id":7161638,"body_markdown":"You have to override method **handledType** and everything will work\r\n  \r\n\r\n    @Override\r\n    public Class&lt;Item&gt; handledType()\r\n    {\r\n      return Item.class;\r\n    }","title":"How do I use a custom Serializer with Jackson?","body":"<p>You have to override method <strong>handledType</strong> and everything will work</p>\n\n<pre><code>@Override\npublic Class&lt;Item&gt; handledType()\n{\n  return Item.class;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2389562,"reputation":723,"user_id":2089685,"display_name":"pmhargis"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1573043373,"creation_date":1386797440,"answer_id":20530302,"question_id":7161638,"body_markdown":"I tried doing this too, and there is a mistake in the example code on the Jackson web page that fails to include the type (`.class`) in the call to `addSerializer()` method, which should read like this:\r\n\r\n    simpleModule.addSerializer(Item.class, new ItemSerializer());\r\n\r\nIn other words, these are the lines that instantiate the `simpleModule` and add the serializer (with the prior incorrect line commented out):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule simpleModule = new SimpleModule(&quot;SimpleModule&quot;, \r\n                                              new Version(1,0,0,null));\r\n    // simpleModule.addSerializer(new ItemSerializer());\r\n    simpleModule.addSerializer(Item.class, new ItemSerializer());\r\n    mapper.registerModule(simpleModule);\r\n\r\nFYI: Here is the reference for the correct example code: http://wiki.fasterxml.com/JacksonFeatureModules","title":"How do I use a custom Serializer with Jackson?","body":"<p>I tried doing this too, and there is a mistake in the example code on the Jackson web page that fails to include the type (<code>.class</code>) in the call to <code>addSerializer()</code> method, which should read like this:</p>\n\n<pre><code>simpleModule.addSerializer(Item.class, new ItemSerializer());\n</code></pre>\n\n<p>In other words, these are the lines that instantiate the <code>simpleModule</code> and add the serializer (with the prior incorrect line commented out):</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule(\"SimpleModule\", \n                                          new Version(1,0,0,null));\n// simpleModule.addSerializer(new ItemSerializer());\nsimpleModule.addSerializer(Item.class, new ItemSerializer());\nmapper.registerModule(simpleModule);\n</code></pre>\n\n<p>FYI: Here is the reference for the correct example code: <a href=\"http://wiki.fasterxml.com/JacksonFeatureModules\" rel=\"noreferrer\">http://wiki.fasterxml.com/JacksonFeatureModules</a></p>\n"},{"tags":[],"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392203326,"creation_date":1392203326,"answer_id":21726210,"question_id":7161638,"body_markdown":"In my case (Spring 3.2.4 and Jackson 2.3.1), XML configuration for custom serializer:\r\n\r\n&lt;!-- language: lang-xml--&gt;\r\n\r\n\t&lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:message-converters register-defaults=&quot;false&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;objectMapper&quot;&gt;\r\n\t\t\t\t\t&lt;bean class=&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;serializers&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;array&gt;\r\n\t\t\t\t\t\t\t\t&lt;bean class=&quot;com.example.business.serializer.json.CustomObjectSerializer&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/array&gt;\r\n\t\t\t\t\t\t&lt;/property&gt;\r\n\t\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/mvc:message-converters&gt;\r\n\t&lt;/mvc:annotation-driven&gt;\r\n\r\nwas in unexplained way overwritten back to default by something.\r\n\r\nThis worked for me:\r\n\r\nCustomObject.java\r\n---\r\n&lt;!-- language: lang-java--&gt;\r\n\r\n\t@JsonSerialize(using = CustomObjectSerializer.class)\r\n\tpublic class CustomObject {\r\n\r\n\t\tprivate Long value;\r\n\r\n\t\tpublic Long getValue() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tpublic void setValue(Long value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\t}\r\n\r\nCustomObjectSerializer.java\r\n---\r\n&lt;!-- language: lang-java--&gt;\r\n\r\n\tpublic class CustomObjectSerializer extends JsonSerializer&lt;CustomObject&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void serialize(CustomObject value, JsonGenerator jgen,\r\n\t\t\tSerializerProvider provider) throws IOException,JsonProcessingException {\r\n\t\t\tjgen.writeStartObject();\r\n\t\t\tjgen.writeNumberField(&quot;y&quot;, value.getValue());\r\n\t\t\tjgen.writeEndObject();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Class&lt;CustomObject&gt; handledType() {\r\n\t\t\treturn CustomObject.class;\r\n\t\t}\r\n\t}\r\n\r\nNo XML configuration (`&lt;mvc:message-converters&gt;(...)&lt;/mvc:message-converters&gt;`) is needed in my solution.","title":"How do I use a custom Serializer with Jackson?","body":"<p>In my case (Spring 3.2.4 and Jackson 2.3.1), XML configuration for custom serializer:</p>\n\n\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters register-defaults=\"false\"&gt;\n        &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n            &lt;property name=\"objectMapper\"&gt;\n                &lt;bean class=\"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean\"&gt;\n                    &lt;property name=\"serializers\"&gt;\n                        &lt;array&gt;\n                            &lt;bean class=\"com.example.business.serializer.json.CustomObjectSerializer\"/&gt;\n                        &lt;/array&gt;\n                    &lt;/property&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>was in unexplained way overwritten back to default by something.</p>\n\n<p>This worked for me:</p>\n\n<h2>CustomObject.java</h2>\n\n\n\n<pre><code>@JsonSerialize(using = CustomObjectSerializer.class)\npublic class CustomObject {\n\n    private Long value;\n\n    public Long getValue() {\n        return value;\n    }\n\n    public void setValue(Long value) {\n        this.value = value;\n    }\n}\n</code></pre>\n\n<h2>CustomObjectSerializer.java</h2>\n\n\n\n<pre><code>public class CustomObjectSerializer extends JsonSerializer&lt;CustomObject&gt; {\n\n    @Override\n    public void serialize(CustomObject value, JsonGenerator jgen,\n        SerializerProvider provider) throws IOException,JsonProcessingException {\n        jgen.writeStartObject();\n        jgen.writeNumberField(\"y\", value.getValue());\n        jgen.writeEndObject();\n    }\n\n    @Override\n    public Class&lt;CustomObject&gt; handledType() {\n        return CustomObject.class;\n    }\n}\n</code></pre>\n\n<p>No XML configuration (<code>&lt;mvc:message-converters&gt;(...)&lt;/mvc:message-converters&gt;</code>) is needed in my solution.</p>\n"},{"tags":[],"owner":{"account_id":2699530,"reputation":3756,"user_id":2487927,"display_name":"laughing_man"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1393634571,"creation_date":1393634571,"answer_id":22108535,"question_id":7161638,"body_markdown":"These are behavior patterns I have noticed while trying to understand Jackson serialization.\r\n\r\n1) Assume there is an object Classroom and a class Student. I&#39;ve made everything public and final for ease. \r\n\r\n    public class Classroom {\r\n        public final double double1 = 1234.5678;\r\n        public final Double Double1 = 91011.1213;\r\n        public final Student student1 = new Student();\r\n    }\r\n\r\n    public class Student {\r\n        public final double double2 = 1920.2122;\r\n        public final Double Double2 = 2324.2526;\r\n    }\r\n\r\n2) Assume that these are the serializers we use for serializing the objects into JSON. The writeObjectField uses the object&#39;s own serializer if it is registered with the object mapper; if not, then it serializes it as a POJO. The writeNumberField exclusively only accepts primitives as arguments.\r\n\r\n    public class ClassroomSerializer extends StdSerializer&lt;Classroom&gt; {\r\n        public ClassroomSerializer(Class&lt;Classroom&gt; t) {\r\n            super(t);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(Classroom value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\r\n            jgen.writeStartObject();\r\n            jgen.writeObjectField(&quot;double1-Object&quot;, value.double1);\r\n            jgen.writeNumberField(&quot;double1-Number&quot;, value.double1);\r\n            jgen.writeObjectField(&quot;Double1-Object&quot;, value.Double1);\r\n            jgen.writeNumberField(&quot;Double1-Number&quot;, value.Double1);\r\n            jgen.writeObjectField(&quot;student1&quot;, value.student1);\r\n            jgen.writeEndObject();\r\n        }\r\n    }\r\n\r\n    public class StudentSerializer extends StdSerializer&lt;Student&gt; {\r\n        public StudentSerializer(Class&lt;Student&gt; t) {\r\n            super(t);\r\n        }\r\n\r\n        @Override\r\n        public void serialize(Student value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\r\n            jgen.writeStartObject();\r\n            jgen.writeObjectField(&quot;double2-Object&quot;, value.double2);\r\n            jgen.writeNumberField(&quot;double2-Number&quot;, value.double2);\r\n            jgen.writeObjectField(&quot;Double2-Object&quot;, value.Double2);\r\n            jgen.writeNumberField(&quot;Double2-Number&quot;, value.Double2);\r\n            jgen.writeEndObject();\r\n        }\r\n    }\r\n\r\n3) Register only a DoubleSerializer with DecimalFormat output pattern `###,##0.000`, in SimpleModule and the output is:\r\n\r\n    {\r\n      &quot;double1&quot; : 1234.5678,\r\n      &quot;Double1&quot; : {\r\n        &quot;value&quot; : &quot;91,011.121&quot;\r\n      },\r\n      &quot;student1&quot; : {\r\n        &quot;double2&quot; : 1920.2122,\r\n        &quot;Double2&quot; : {\r\n          &quot;value&quot; : &quot;2,324.253&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nYou can see that the POJO serialization differentiates between double and Double, using the DoubleSerialzer for Doubles and using a regular String format for doubles.\r\n\r\n4) Register DoubleSerializer and ClassroomSerializer, without the StudentSerializer. We expect that the output is such that if we write a double as an object, it behaves like a Double, and if we write a Double as a number, it behaves like a double. The Student instance variable should be written as a POJO and follow the pattern above since it does not register.\r\n\r\n    {\r\n      &quot;double1-Object&quot; : {\r\n        &quot;value&quot; : &quot;1,234.568&quot;\r\n      },\r\n      &quot;double1-Number&quot; : 1234.5678,\r\n      &quot;Double1-Object&quot; : {\r\n        &quot;value&quot; : &quot;91,011.121&quot;\r\n      },\r\n      &quot;Double1-Number&quot; : 91011.1213,\r\n      &quot;student1&quot; : {\r\n        &quot;double2&quot; : 1920.2122,\r\n        &quot;Double2&quot; : {\r\n          &quot;value&quot; : &quot;2,324.253&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n5) Register all serializers. The output is:\r\n\r\n    {\r\n      &quot;double1-Object&quot; : {\r\n        &quot;value&quot; : &quot;1,234.568&quot;\r\n      },\r\n      &quot;double1-Number&quot; : 1234.5678,\r\n      &quot;Double1-Object&quot; : {\r\n        &quot;value&quot; : &quot;91,011.121&quot;\r\n      },\r\n      &quot;Double1-Number&quot; : 91011.1213,\r\n      &quot;student1&quot; : {\r\n        &quot;double2-Object&quot; : {\r\n          &quot;value&quot; : &quot;1,920.212&quot;\r\n        },\r\n        &quot;double2-Number&quot; : 1920.2122,\r\n        &quot;Double2-Object&quot; : {\r\n          &quot;value&quot; : &quot;2,324.253&quot;\r\n        },\r\n        &quot;Double2-Number&quot; : 2324.2526\r\n      }\r\n    }\r\nexactly as expected.\r\n\r\nAnother important note: If you have multiple serializers for the same class registered with the same Module, then the Module will select the serializer for that class that is most recently added to the list. This should not be used - it&#39;s confusing and I am not sure how consistent this is\r\n\r\nMoral: if you want to customize serialization of primitives in your object, you must write your own serializer for the object. You cannot rely on the POJO Jackson serialization.\r\n","title":"How do I use a custom Serializer with Jackson?","body":"<p>These are behavior patterns I have noticed while trying to understand Jackson serialization.</p>\n\n<p>1) Assume there is an object Classroom and a class Student. I've made everything public and final for ease. </p>\n\n<pre><code>public class Classroom {\n    public final double double1 = 1234.5678;\n    public final Double Double1 = 91011.1213;\n    public final Student student1 = new Student();\n}\n\npublic class Student {\n    public final double double2 = 1920.2122;\n    public final Double Double2 = 2324.2526;\n}\n</code></pre>\n\n<p>2) Assume that these are the serializers we use for serializing the objects into JSON. The writeObjectField uses the object's own serializer if it is registered with the object mapper; if not, then it serializes it as a POJO. The writeNumberField exclusively only accepts primitives as arguments.</p>\n\n<pre><code>public class ClassroomSerializer extends StdSerializer&lt;Classroom&gt; {\n    public ClassroomSerializer(Class&lt;Classroom&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Classroom value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\n        jgen.writeStartObject();\n        jgen.writeObjectField(\"double1-Object\", value.double1);\n        jgen.writeNumberField(\"double1-Number\", value.double1);\n        jgen.writeObjectField(\"Double1-Object\", value.Double1);\n        jgen.writeNumberField(\"Double1-Number\", value.Double1);\n        jgen.writeObjectField(\"student1\", value.student1);\n        jgen.writeEndObject();\n    }\n}\n\npublic class StudentSerializer extends StdSerializer&lt;Student&gt; {\n    public StudentSerializer(Class&lt;Student&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Student value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonGenerationException {\n        jgen.writeStartObject();\n        jgen.writeObjectField(\"double2-Object\", value.double2);\n        jgen.writeNumberField(\"double2-Number\", value.double2);\n        jgen.writeObjectField(\"Double2-Object\", value.Double2);\n        jgen.writeNumberField(\"Double2-Number\", value.Double2);\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n\n<p>3) Register only a DoubleSerializer with DecimalFormat output pattern <code>###,##0.000</code>, in SimpleModule and the output is:</p>\n\n<pre><code>{\n  \"double1\" : 1234.5678,\n  \"Double1\" : {\n    \"value\" : \"91,011.121\"\n  },\n  \"student1\" : {\n    \"double2\" : 1920.2122,\n    \"Double2\" : {\n      \"value\" : \"2,324.253\"\n    }\n  }\n}\n</code></pre>\n\n<p>You can see that the POJO serialization differentiates between double and Double, using the DoubleSerialzer for Doubles and using a regular String format for doubles.</p>\n\n<p>4) Register DoubleSerializer and ClassroomSerializer, without the StudentSerializer. We expect that the output is such that if we write a double as an object, it behaves like a Double, and if we write a Double as a number, it behaves like a double. The Student instance variable should be written as a POJO and follow the pattern above since it does not register.</p>\n\n<pre><code>{\n  \"double1-Object\" : {\n    \"value\" : \"1,234.568\"\n  },\n  \"double1-Number\" : 1234.5678,\n  \"Double1-Object\" : {\n    \"value\" : \"91,011.121\"\n  },\n  \"Double1-Number\" : 91011.1213,\n  \"student1\" : {\n    \"double2\" : 1920.2122,\n    \"Double2\" : {\n      \"value\" : \"2,324.253\"\n    }\n  }\n}\n</code></pre>\n\n<p>5) Register all serializers. The output is:</p>\n\n<pre><code>{\n  \"double1-Object\" : {\n    \"value\" : \"1,234.568\"\n  },\n  \"double1-Number\" : 1234.5678,\n  \"Double1-Object\" : {\n    \"value\" : \"91,011.121\"\n  },\n  \"Double1-Number\" : 91011.1213,\n  \"student1\" : {\n    \"double2-Object\" : {\n      \"value\" : \"1,920.212\"\n    },\n    \"double2-Number\" : 1920.2122,\n    \"Double2-Object\" : {\n      \"value\" : \"2,324.253\"\n    },\n    \"Double2-Number\" : 2324.2526\n  }\n}\n</code></pre>\n\n<p>exactly as expected.</p>\n\n<p>Another important note: If you have multiple serializers for the same class registered with the same Module, then the Module will select the serializer for that class that is most recently added to the list. This should not be used - it's confusing and I am not sure how consistent this is</p>\n\n<p>Moral: if you want to customize serialization of primitives in your object, you must write your own serializer for the object. You cannot rely on the POJO Jackson serialization.</p>\n"},{"tags":[],"owner":{"account_id":3778003,"reputation":6793,"user_id":3138238,"accept_rate":74,"display_name":"madx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1465802095,"creation_date":1465466534,"answer_id":37722790,"question_id":7161638,"body_markdown":"I wrote an example for a custom `Timestamp.class` serialization/deserialization, but you could use it for what ever you want.\r\n\r\nWhen creating the object mapper do something like this:\r\n\r\n    public class JsonUtils {\r\n    \r\n    \tpublic static ObjectMapper objectMapper = null;\r\n    \r\n    \tstatic {\r\n    \t\tobjectMapper = new ObjectMapper();\r\n    \t\tSimpleModule s = new SimpleModule();\r\n    \t\ts.addSerializer(Timestamp.class, new TimestampSerializerTypeHandler());\r\n    \t\ts.addDeserializer(Timestamp.class, new TimestampDeserializerTypeHandler());\r\n    \t\tobjectMapper.registerModule(s);\r\n    \t};\r\n    }\r\nfor example in `java ee` you could initialize it with this:\r\n\r\n    import java.time.LocalDateTime;\r\n    \r\n    import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    \r\n    @Provider\r\n    public class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n    \tprivate final ObjectMapper objectMapper;\r\n    \r\n    \tpublic JacksonConfig() {\r\n    \t\tobjectMapper = new ObjectMapper();\r\n    \t\tSimpleModule s = new SimpleModule();\r\n    \t\ts.addSerializer(Timestamp.class, new TimestampSerializerTypeHandler());\r\n    \t\ts.addDeserializer(Timestamp.class, new TimestampDeserializerTypeHandler());\r\n    \t\tobjectMapper.registerModule(s);\r\n    \t};\r\n    \r\n    \t@Override\r\n    \tpublic ObjectMapper getContext(Class&lt;?&gt; type) {\r\n    \t\treturn objectMapper;\r\n    \t}\r\n    }\r\n\r\nwhere the serializer should be something like this:\r\n\r\n    import java.io.IOException;\r\n    import java.sql.Timestamp;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    \r\n    public class TimestampSerializerTypeHandler extends JsonSerializer&lt;Timestamp&gt; {\r\n    \r\n        @Override\r\n        public void serialize(Timestamp value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n            String stringValue = value.toString();\r\n            if(stringValue != null &amp;&amp; !stringValue.isEmpty() &amp;&amp; !stringValue.equals(&quot;null&quot;)) {\r\n            \tjgen.writeString(stringValue);\r\n            } else {\r\n            \tjgen.writeNull();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;Timestamp&gt; handledType() {\r\n            return Timestamp.class;\r\n        }\r\n    }\r\n\r\nand deserializer something like this:\r\n\r\n    import java.io.IOException;\r\n    import java.sql.Timestamp;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    \r\n    public class TimestampDeserializerTypeHandler extends JsonDeserializer&lt;Timestamp&gt; {\r\n        \r\n        @Override\r\n    \tpublic Timestamp deserialize(JsonParser jp, DeserializationContext ds) throws IOException, JsonProcessingException {\r\n        \tSqlTimestampConverter s = new SqlTimestampConverter();\r\n        \tString value = jp.getValueAsString();\r\n        \tif(value != null &amp;&amp; !value.isEmpty() &amp;&amp; !value.equals(&quot;null&quot;))\r\n        \t\treturn (Timestamp) s.convert(Timestamp.class, value);\r\n        \treturn null;\r\n    \t}\r\n    \r\n        @Override\r\n        public Class&lt;Timestamp&gt; handledType() {\r\n            return Timestamp.class;\r\n        }\r\n    }","title":"How do I use a custom Serializer with Jackson?","body":"<p>I wrote an example for a custom <code>Timestamp.class</code> serialization/deserialization, but you could use it for what ever you want.</p>\n\n<p>When creating the object mapper do something like this:</p>\n\n<pre><code>public class JsonUtils {\n\n    public static ObjectMapper objectMapper = null;\n\n    static {\n        objectMapper = new ObjectMapper();\n        SimpleModule s = new SimpleModule();\n        s.addSerializer(Timestamp.class, new TimestampSerializerTypeHandler());\n        s.addDeserializer(Timestamp.class, new TimestampDeserializerTypeHandler());\n        objectMapper.registerModule(s);\n    };\n}\n</code></pre>\n\n<p>for example in <code>java ee</code> you could initialize it with this:</p>\n\n<pre><code>import java.time.LocalDateTime;\n\nimport javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\n@Provider\npublic class JacksonConfig implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    public JacksonConfig() {\n        objectMapper = new ObjectMapper();\n        SimpleModule s = new SimpleModule();\n        s.addSerializer(Timestamp.class, new TimestampSerializerTypeHandler());\n        s.addDeserializer(Timestamp.class, new TimestampDeserializerTypeHandler());\n        objectMapper.registerModule(s);\n    };\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\n        return objectMapper;\n    }\n}\n</code></pre>\n\n<p>where the serializer should be something like this:</p>\n\n<pre><code>import java.io.IOException;\nimport java.sql.Timestamp;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\npublic class TimestampSerializerTypeHandler extends JsonSerializer&lt;Timestamp&gt; {\n\n    @Override\n    public void serialize(Timestamp value, JsonGenerator jgen, SerializerProvider provider) throws IOException, JsonProcessingException {\n        String stringValue = value.toString();\n        if(stringValue != null &amp;&amp; !stringValue.isEmpty() &amp;&amp; !stringValue.equals(\"null\")) {\n            jgen.writeString(stringValue);\n        } else {\n            jgen.writeNull();\n        }\n    }\n\n    @Override\n    public Class&lt;Timestamp&gt; handledType() {\n        return Timestamp.class;\n    }\n}\n</code></pre>\n\n<p>and deserializer something like this:</p>\n\n<pre><code>import java.io.IOException;\nimport java.sql.Timestamp;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\npublic class TimestampDeserializerTypeHandler extends JsonDeserializer&lt;Timestamp&gt; {\n\n    @Override\n    public Timestamp deserialize(JsonParser jp, DeserializationContext ds) throws IOException, JsonProcessingException {\n        SqlTimestampConverter s = new SqlTimestampConverter();\n        String value = jp.getValueAsString();\n        if(value != null &amp;&amp; !value.isEmpty() &amp;&amp; !value.equals(\"null\"))\n            return (Timestamp) s.convert(Timestamp.class, value);\n        return null;\n    }\n\n    @Override\n    public Class&lt;Timestamp&gt; handledType() {\n        return Timestamp.class;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641626194,"creation_date":1589537589,"answer_id":61816830,"question_id":7161638,"body_markdown":"The problem in your case is the ItemSerializer is missing the method handledType() which needs to be overridden from JsonSerializer\r\n\r\n  \r\n\r\n    public class ItemSerializer extends JsonSerializer&lt;Item&gt; {\r\n        \r\n        @Override\r\n        public void serialize(Item value, JsonGenerator jgen,\r\n                SerializerProvider provider) throws IOException,\r\n                JsonProcessingException {\r\n            jgen.writeStartObject();\r\n            jgen.writeNumberField(&quot;id&quot;, value.id);\r\n            jgen.writeNumberField(&quot;itemNr&quot;, value.itemNr);\r\n            jgen.writeNumberField(&quot;createdBy&quot;, value.user.id);\r\n            jgen.writeEndObject();\r\n        }\r\n    \r\n       @Override\r\n       public Class&lt;Item&gt; handledType()\r\n       {\r\n        return Item.class;\r\n       }\r\n    }\r\n\r\nHence you are getting the explicit error that **handledType()** is not defined\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: JsonSerializer of type com.example.ItemSerializer does not define valid handledType() \r\n\r\nHope it helps someone. Thanks for reading my answer.","title":"How do I use a custom Serializer with Jackson?","body":"<p>The problem in your case is the ItemSerializer is missing the method handledType() which needs to be overridden from JsonSerializer</p>\n<pre><code>public class ItemSerializer extends JsonSerializer&lt;Item&gt; {\n    \n    @Override\n    public void serialize(Item value, JsonGenerator jgen,\n            SerializerProvider provider) throws IOException,\n            JsonProcessingException {\n        jgen.writeStartObject();\n        jgen.writeNumberField(&quot;id&quot;, value.id);\n        jgen.writeNumberField(&quot;itemNr&quot;, value.itemNr);\n        jgen.writeNumberField(&quot;createdBy&quot;, value.user.id);\n        jgen.writeEndObject();\n    }\n\n   @Override\n   public Class&lt;Item&gt; handledType()\n   {\n    return Item.class;\n   }\n}\n</code></pre>\n<p>Hence you are getting the explicit error that <strong>handledType()</strong> is not defined</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: JsonSerializer of type com.example.ItemSerializer does not define valid handledType() \n</code></pre>\n<p>Hope it helps someone. Thanks for reading my answer.</p>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321281,"favorite_count":0,"down_vote_count":1,"up_vote_count":130,"accepted_answer_id":7168386,"answer_count":11,"score":129,"last_activity_date":1641626194,"creation_date":1314105558,"question_id":7161638,"body_markdown":"I have two Java classes that I want to serialize to JSON using Jackson:\r\n\r\n    public class User {\r\n        public final int id;\r\n        public final String name;\r\n    \r\n        public User(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n    }\r\n    \r\n    public class Item {\r\n        public final int id;\r\n        public final String itemNr;\r\n        public final User createdBy;\r\n\r\n        public Item(int id, String itemNr, User createdBy) {\r\n            this.id = id;\r\n            this.itemNr = itemNr;\r\n            this.createdBy = createdBy;\r\n        }\r\n    }\r\n\r\nI want to serialize an Item to this JSON:\r\n\r\n    {&quot;id&quot;:7, &quot;itemNr&quot;:&quot;TEST&quot;, &quot;createdBy&quot;:3}\r\nwith User serialized to only include the `id`. I will also be able to serilize all user objects to JSON like:\r\n \r\n    {&quot;id&quot;:3, &quot;name&quot;: &quot;Jonas&quot;, &quot;email&quot;: &quot;jonas@example.com&quot;}\r\n\r\nSo I guess that I need to write a custom serializer for `Item` and tried with this:\r\n \r\n    public class ItemSerializer extends JsonSerializer&lt;Item&gt; {\r\n\r\n\t@Override\r\n\tpublic void serialize(Item value, JsonGenerator jgen,\r\n\t\t\tSerializerProvider provider) throws IOException,\r\n\t\t\tJsonProcessingException {\r\n\t\tjgen.writeStartObject();\r\n\t\tjgen.writeNumberField(&quot;id&quot;, value.id);\r\n\t\tjgen.writeNumberField(&quot;itemNr&quot;, value.itemNr);\r\n\t\tjgen.writeNumberField(&quot;createdBy&quot;, value.user.id);\r\n\t\tjgen.writeEndObject();\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\nI serialize the JSON with this code from [Jackson How-to: Custom Serializers][1]:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule simpleModule = new SimpleModule(&quot;SimpleModule&quot;, \r\n                                                  new Version(1,0,0,null));\r\n    simpleModule.addSerializer(new ItemSerializer());\r\n    mapper.registerModule(simpleModule);\r\n    StringWriter writer = new StringWriter();\r\n    try {\r\n    \tmapper.writeValue(writer, myItem);\r\n    } catch (JsonGenerationException e) {\r\n    \te.printStackTrace();\r\n    } catch (JsonMappingException e) {\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nBut I get this error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: JsonSerializer of type com.example.ItemSerializer does not define valid handledType() (use alternative registration method?)\r\n    \tat org.codehaus.jackson.map.module.SimpleSerializers.addSerializer(SimpleSerializers.java:62)\r\n    \tat org.codehaus.jackson.map.module.SimpleModule.addSerializer(SimpleModule.java:54)\r\n    \tat com.example.JsonTest.main(JsonTest.java:54)\r\n\r\n**How can I use a custom Serializer with Jackson?**\r\n\r\n-----\r\n\r\nThis is how I would do it with Gson:\r\n\r\n\tpublic class UserAdapter implements JsonSerializer&lt;User&gt; {\r\n\t\t\r\n\t\t@Override \r\n\t\tpublic JsonElement serialize(User src, java.lang.reflect.Type typeOfSrc,\r\n\t\t\t\tJsonSerializationContext context) {\r\n\t\t\treturn new JsonPrimitive(src.id);\r\n\t\t}\r\n\t}\r\n\r\n\t\tGsonBuilder builder = new GsonBuilder();\r\n\t\tbuilder.registerTypeAdapter(User.class, new UserAdapter());\r\n\t\tGson gson = builder.create();\r\n\t\tString json = gson.toJson(myItem);\r\n\t\tSystem.out.println(&quot;JSON: &quot;+json);\r\n\r\nBut I need to do it with Jackson now, since Gson doesn&#39;t have support for interfaces.\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers","title":"How do I use a custom Serializer with Jackson?","body":"<p>I have two Java classes that I want to serialize to JSON using Jackson:</p>\n\n<pre><code>public class User {\n    public final int id;\n    public final String name;\n\n    public User(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n\npublic class Item {\n    public final int id;\n    public final String itemNr;\n    public final User createdBy;\n\n    public Item(int id, String itemNr, User createdBy) {\n        this.id = id;\n        this.itemNr = itemNr;\n        this.createdBy = createdBy;\n    }\n}\n</code></pre>\n\n<p>I want to serialize an Item to this JSON:</p>\n\n<pre><code>{\"id\":7, \"itemNr\":\"TEST\", \"createdBy\":3}\n</code></pre>\n\n<p>with User serialized to only include the <code>id</code>. I will also be able to serilize all user objects to JSON like:</p>\n\n<pre><code>{\"id\":3, \"name\": \"Jonas\", \"email\": \"jonas@example.com\"}\n</code></pre>\n\n<p>So I guess that I need to write a custom serializer for <code>Item</code> and tried with this:</p>\n\n<pre><code>public class ItemSerializer extends JsonSerializer&lt;Item&gt; {\n\n@Override\npublic void serialize(Item value, JsonGenerator jgen,\n        SerializerProvider provider) throws IOException,\n        JsonProcessingException {\n    jgen.writeStartObject();\n    jgen.writeNumberField(\"id\", value.id);\n    jgen.writeNumberField(\"itemNr\", value.itemNr);\n    jgen.writeNumberField(\"createdBy\", value.user.id);\n    jgen.writeEndObject();\n}\n\n}\n</code></pre>\n\n<p>I serialize the JSON with this code from <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonHowToCustomSerializers\" rel=\"noreferrer\">Jackson How-to: Custom Serializers</a>:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule simpleModule = new SimpleModule(\"SimpleModule\", \n                                              new Version(1,0,0,null));\nsimpleModule.addSerializer(new ItemSerializer());\nmapper.registerModule(simpleModule);\nStringWriter writer = new StringWriter();\ntry {\n    mapper.writeValue(writer, myItem);\n} catch (JsonGenerationException e) {\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: JsonSerializer of type com.example.ItemSerializer does not define valid handledType() (use alternative registration method?)\n    at org.codehaus.jackson.map.module.SimpleSerializers.addSerializer(SimpleSerializers.java:62)\n    at org.codehaus.jackson.map.module.SimpleModule.addSerializer(SimpleModule.java:54)\n    at com.example.JsonTest.main(JsonTest.java:54)\n</code></pre>\n\n<p><strong>How can I use a custom Serializer with Jackson?</strong></p>\n\n<hr>\n\n<p>This is how I would do it with Gson:</p>\n\n<pre><code>public class UserAdapter implements JsonSerializer&lt;User&gt; {\n\n    @Override \n    public JsonElement serialize(User src, java.lang.reflect.Type typeOfSrc,\n            JsonSerializationContext context) {\n        return new JsonPrimitive(src.id);\n    }\n}\n\n    GsonBuilder builder = new GsonBuilder();\n    builder.registerTypeAdapter(User.class, new UserAdapter());\n    Gson gson = builder.create();\n    String json = gson.toJson(myItem);\n    System.out.println(\"JSON: \"+json);\n</code></pre>\n\n<p>But I need to do it with Jackson now, since Gson doesn't have support for interfaces.</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641626916,"post_id":70630310,"comment_id":124858120,"body_markdown":"What version of Log4J are you using?","body":"What version of Log4J are you using?"},{"owner":{"account_id":23754979,"reputation":63,"user_id":17771205,"display_name":"Pradeep Kumar"},"score":0,"creation_date":1641627463,"post_id":70630310,"comment_id":124858195,"body_markdown":"@hfontanez I am using log4j2.x version along with 3 jars log4j-api-2.17.0, log4j-core-2.17.0, and log4j-1.2-api-2.17.0.","body":"@hfontanez I am using log4j2.x version along with 3 jars log4j-api-2.17.0, log4j-core-2.17.0, and log4j-1.2-api-2.17.0."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641627771,"post_id":70630310,"comment_id":124858238,"body_markdown":"I have used Log4J2 with custom logging levels and I don&#39;t remember this being this complicated. I am not sure what you are trying to accomplish but I am sure there is a much simpler way to accomplish this.","body":"I have used Log4J2 with custom logging levels and I don&#39;t remember this being this complicated. I am not sure what you are trying to accomplish but I am sure there is a much simpler way to accomplish this."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641628395,"post_id":70630310,"comment_id":124858320,"body_markdown":"It seems you are following [this example](https://crunchify.com/java-how-to-create-your-own-logging-level-in-log4j-configuring-log4j/). I have never done it this way. I used the recommended way in Log4J2 website. However, it seems all you need to do is add the custom logger class to your classes. There is a logger test in the link I provided. I suggest you try that first, then edit your post with specific information as to what is not working.","body":"It seems you are following <a href=\"https://crunchify.com/java-how-to-create-your-own-logging-level-in-log4j-configuring-log4j/\" rel=\"nofollow noreferrer\">this example</a>. I have never done it this way. I used the recommended way in Log4J2 website. However, it seems all you need to do is add the custom logger class to your classes. There is a logger test in the link I provided. I suggest you try that first, then edit your post with specific information as to what is not working."},{"owner":{"account_id":23754979,"reputation":63,"user_id":17771205,"display_name":"Pradeep Kumar"},"score":0,"creation_date":1641629193,"post_id":70630310,"comment_id":124858439,"body_markdown":"I have a requirement to print the logs in this hierarchy EVENT, WARN, ERROR, FATAL, where EVNET is the custom level logs.\nI checked my prod server, earlier EVENT logs is printing look like below.\n\n[2022-01-06 22:32:46,558] EVENT [Thread-68] com.test.saml.SAMLLoggingLevel.xyz.FormatNumbersFetch run - Format number fetch thread retrying to check switch value after sleeping for 300000 seconds","body":"I have a requirement to print the logs in this hierarchy EVENT, WARN, ERROR, FATAL, where EVNET is the custom level logs. I checked my prod server, earlier EVENT logs is printing look like below.  [2022-01-06 22:32:46,558] EVENT [Thread-68] com.test.saml.SAMLLoggingLevel.xyz.FormatNumbersFetch run - Format number fetch thread retrying to check switch value after sleeping for 300000 seconds"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1641630168,"post_id":70630310,"comment_id":124858570,"body_markdown":"You are trying to use a Log4j 1.x custom level in Log4j 2.x.  `log4j-1.2-api` almost certainly does not support that: it is meant as a **basic** replacement for Log4j 1.x and does not support advanced features. See [Custom Log Levels](https://logging.apache.org/log4j/2.x/manual/customloglevels.html) on how to define new log levels in Log4j 2.x.","body":"You are trying to use a Log4j 1.x custom level in Log4j 2.x.  <code>log4j-1.2-api</code> almost certainly does not support that: it is meant as a <b>basic</b> replacement for Log4j 1.x and does not support advanced features. See <a href=\"https://logging.apache.org/log4j/2.x/manual/customloglevels.html\" rel=\"nofollow noreferrer\">Custom Log Levels</a> on how to define new log levels in Log4j 2.x."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641630996,"post_id":70630310,"comment_id":124858715,"body_markdown":"@PiotrP.Karwasz I knew something was funky because I personally migrated an application logging from 1.2.14 (I think) to Log4J2 about 4 years ago and I remember the struggle. But, once I read all the documentation on Log4J2 website, I was able to complete the migration without any issues. I said all that to reiterate my initial point: &quot;_I have used Log4J2 with custom logging levels and I don&#39;t remember this being this complicated. I am not sure what you are trying to accomplish but I am sure there is a much simpler way to accomplish this._&quot;","body":"@PiotrP.Karwasz I knew something was funky because I personally migrated an application logging from 1.2.14 (I think) to Log4J2 about 4 years ago and I remember the struggle. But, once I read all the documentation on Log4J2 website, I was able to complete the migration without any issues. I said all that to reiterate my initial point: &quot;<i>I have used Log4J2 with custom logging levels and I don&#39;t remember this being this complicated. I am not sure what you are trying to accomplish but I am sure there is a much simpler way to accomplish this.</i>&quot;"}],"owner":{"account_id":23754979,"reputation":63,"user_id":17771205,"display_name":"Pradeep Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641625781,"creation_date":1641625781,"question_id":70630310,"body_markdown":"I have written class for custom logging level i.e. EVENT\r\n    \r\n    import org.apache.log4j.Level;\r\n    public class SAMLLoggingLevel extends Level {\r\n\r\n    public static final int TRACE_INT = Level.DEBUG_INT - 1;\r\n    public static final int EVENT_INT = Level.INFO_INT + 2;\r\n    private static String TRACE_STR = &quot;TRACE&quot;;\r\n    private static String EVENT_STR = &quot;EVENT&quot;;\r\n\r\n    public static final SAMLLoggingLevel TRACE = new SAMLLoggingLevel(TRACE_INT, TRACE_STR, 7);\r\n    public static final SAMLLoggingLevel EVENT = new SAMLLoggingLevel(EVENT_INT, EVENT_STR, 0);\r\n\r\n    protected SAMLLoggingLevel(int level, String strLevel, int syslogEquiv) {\r\n        super(level, strLevel, syslogEquiv);\r\n    }\r\n    public static Level toLevel(String sArg) {\r\n        return (Level) toLevel(sArg, SAMLLoggingLevel.TRACE);\r\n    }\r\n    public static Level toLevel(String sArg, Level defaultValue) {\r\n        if (sArg == null) {\r\n            return defaultValue;\r\n        }\r\n        String stringVal = sArg.toUpperCase();\r\n\r\n        if (stringVal.equals(TRACE_STR)) {\r\n            return SAMLLoggingLevel.TRACE;\r\n        } else if (stringVal.equals(EVENT_STR)) {\r\n            return SAMLLoggingLevel.EVENT;\r\n        }\r\n        return Level.toLevel(sArg, (Level) defaultValue);\r\n    }\r\n    public static Level toLevel(int i) throws IllegalArgumentException {\r\n        switch (i) {\r\n            case TRACE_INT:\r\n                return SAMLLoggingLevel.TRACE;\r\n            case EVENT_INT:\r\n                return SAMLLoggingLevel.EVENT;\r\n        }\r\n        return Level.toLevel(i);\r\n    }}\r\n\r\nmy log4j.properteis file looks like this\r\n\r\n    \r\n    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.STDOUT.Threshold=ERROR\r\n    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.STDOUT.layout.ConversionPattern=[%d] %-5p [%t] %C %M - %m%n\r\n\r\n    log4j.appender.SAML_ROOT_APPENDER=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.SAML_ROOT_APPENDER.Threshold=EVENT#com.test.saml.control.log.SAMLLoggingLevel\r\n    log4j.appender.SAML_ROOT_APPENDER.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.SAML_ROOT_APPENDER.layout.ConversionPattern=[%d] %-5p [%t] %c %C %M - %m%n\r\n    log4j.appender.SAML_ROOT_APPENDER.append=true\t\r\n    log4j.appender.SAML_ROOT_APPENDER.File=${jboss.server.log.dir}/samlLog/samlRoot.log\r\n\r\n    log4j.rootLogger=DEBUG,STDOUT\r\n    log4j.logger.saml.events=EVENT#com.test.saml.control.log.SAMLLoggingLevel, SAML_ROOT_APPENDER\r\n\r\nNow what are changes I need to make in log4j.properties to print this custom Event logs in my log file.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n   \r\n\r\n    \r\n    \r\n\r\n\t\t\r\n    \r\n","title":"Log4j Logging for custom Log levels and Properties files in Java","body":"<p>I have written class for custom logging level i.e. EVENT</p>\n<pre><code>import org.apache.log4j.Level;\npublic class SAMLLoggingLevel extends Level {\n\npublic static final int TRACE_INT = Level.DEBUG_INT - 1;\npublic static final int EVENT_INT = Level.INFO_INT + 2;\nprivate static String TRACE_STR = &quot;TRACE&quot;;\nprivate static String EVENT_STR = &quot;EVENT&quot;;\n\npublic static final SAMLLoggingLevel TRACE = new SAMLLoggingLevel(TRACE_INT, TRACE_STR, 7);\npublic static final SAMLLoggingLevel EVENT = new SAMLLoggingLevel(EVENT_INT, EVENT_STR, 0);\n\nprotected SAMLLoggingLevel(int level, String strLevel, int syslogEquiv) {\n    super(level, strLevel, syslogEquiv);\n}\npublic static Level toLevel(String sArg) {\n    return (Level) toLevel(sArg, SAMLLoggingLevel.TRACE);\n}\npublic static Level toLevel(String sArg, Level defaultValue) {\n    if (sArg == null) {\n        return defaultValue;\n    }\n    String stringVal = sArg.toUpperCase();\n\n    if (stringVal.equals(TRACE_STR)) {\n        return SAMLLoggingLevel.TRACE;\n    } else if (stringVal.equals(EVENT_STR)) {\n        return SAMLLoggingLevel.EVENT;\n    }\n    return Level.toLevel(sArg, (Level) defaultValue);\n}\npublic static Level toLevel(int i) throws IllegalArgumentException {\n    switch (i) {\n        case TRACE_INT:\n            return SAMLLoggingLevel.TRACE;\n        case EVENT_INT:\n            return SAMLLoggingLevel.EVENT;\n    }\n    return Level.toLevel(i);\n}}\n</code></pre>\n<p>my log4j.properteis file looks like this</p>\n<pre><code>log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\nlog4j.appender.STDOUT.Threshold=ERROR\nlog4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.STDOUT.layout.ConversionPattern=[%d] %-5p [%t] %C %M - %m%n\n\nlog4j.appender.SAML_ROOT_APPENDER=org.apache.log4j.RollingFileAppender\nlog4j.appender.SAML_ROOT_APPENDER.Threshold=EVENT#com.test.saml.control.log.SAMLLoggingLevel\nlog4j.appender.SAML_ROOT_APPENDER.layout=org.apache.log4j.PatternLayout\nlog4j.appender.SAML_ROOT_APPENDER.layout.ConversionPattern=[%d] %-5p [%t] %c %C %M - %m%n\nlog4j.appender.SAML_ROOT_APPENDER.append=true   \nlog4j.appender.SAML_ROOT_APPENDER.File=${jboss.server.log.dir}/samlLog/samlRoot.log\n\nlog4j.rootLogger=DEBUG,STDOUT\nlog4j.logger.saml.events=EVENT#com.test.saml.control.log.SAMLLoggingLevel, SAML_ROOT_APPENDER\n</code></pre>\n<p>Now what are changes I need to make in log4j.properties to print this custom Event logs in my log file.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","docker","ffmpeg","docker-java"],"answers":[{"tags":[],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497597954,"creation_date":1497597954,"answer_id":44583283,"question_id":44502516,"body_markdown":"Well, if anyone needs a solution, here what we implemented at the end:\r\n\r\n    CountDownLatch latch = new CountDownLatch(1);\r\n    MyResultCallback callback = new MyResultCallback(latch);\r\n    dockerClient.waitContainerCmd(container.getId()).exec(callback);\r\n    return latch.await(5, TimeUnits.MINUTES);\r\n\r\nand the `MyResultCallback.onComplete` looks like\r\n\r\n    public void onComplete()\r\n    {\r\n        latch.countDown();\r\n    }\r\n\r\n Seems a nice enough way to handle the waiting from the main thread.","title":"How to wait a ResultCallback from DockerClient.waitContainerCmd()?","body":"<p>Well, if anyone needs a solution, here what we implemented at the end:</p>\n\n<pre><code>CountDownLatch latch = new CountDownLatch(1);\nMyResultCallback callback = new MyResultCallback(latch);\ndockerClient.waitContainerCmd(container.getId()).exec(callback);\nreturn latch.await(5, TimeUnits.MINUTES);\n</code></pre>\n\n<p>and the <code>MyResultCallback.onComplete</code> looks like</p>\n\n<pre><code>public void onComplete()\n{\n    latch.countDown();\n}\n</code></pre>\n\n<p>Seems a nice enough way to handle the waiting from the main thread.</p>\n"},{"tags":[],"owner":{"account_id":77514,"reputation":1290,"user_id":221177,"display_name":"Samuel Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641625220,"creation_date":1641625220,"answer_id":70630252,"question_id":44502516,"body_markdown":"There is a built-in solution today:\r\n\r\n    var callback = new WaitContainerResultCallback();\r\n    docker.waitContainerCmd(container.getId()).exec(callback);\r\n    callback.awaitStarted();\r\n\r\nThe thread will be blocked until the contain is started.","title":"How to wait a ResultCallback from DockerClient.waitContainerCmd()?","body":"<p>There is a built-in solution today:</p>\n<pre><code>var callback = new WaitContainerResultCallback();\ndocker.waitContainerCmd(container.getId()).exec(callback);\ncallback.awaitStarted();\n</code></pre>\n<p>The thread will be blocked until the contain is started.</p>\n"}],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1641625220,"creation_date":1497279313,"question_id":44502516,"body_markdown":"In our J2EE project, we&#39;re doing some video conversion by calling [sjourdan/ffmpeg][1] docker from our java code, relying on [docker-java][2].\r\n\r\nFor now, it looks something like this (quite simplified for brevity):\r\n\r\n    CreateContainerCmd createCommand = dockerClient.createContainerCmd(&quot;sjourdan/ffmpeg&quot;)\r\n        .withVolumes(aVolume)\r\n        .withBinds(aBind)\r\n        .withCmd(&quot;a lot of options about the conversion itself, codec, ratio, …&quot;);\r\n    CreateContainerResponse container = createCommand.exec();\r\n\r\n    dockerClient.startContainerCmd(container.getId()).exec();\r\n\r\n    // vanilla implementation of ResultCallback\r\n    MyResultCallback callback = new MyResultCallback();\r\n    dockerClient.waitContainerCmd(container.getId()).exec(callback);\r\n\r\nFact is, of course, the thread keeps going after that without waiting the callback to be called back.\r\n\r\nHow should we do to force the thread to wait until the callback is called, informing us the docker command is fully ended?\r\n\r\n----------\r\n\r\nOn another note, if someone knows how to add a `--rm` parameter to the played `docker run` command using docker-java, I&#39;m interested.\r\n\r\n\r\n  [1]: https://hub.docker.com/r/sjourdan/ffmpeg/\r\n  [2]: https://github.com/docker-java/docker-java","title":"How to wait a ResultCallback from DockerClient.waitContainerCmd()?","body":"<p>In our J2EE project, we're doing some video conversion by calling <a href=\"https://hub.docker.com/r/sjourdan/ffmpeg/\" rel=\"nofollow noreferrer\">sjourdan/ffmpeg</a> docker from our java code, relying on <a href=\"https://github.com/docker-java/docker-java\" rel=\"nofollow noreferrer\">docker-java</a>.</p>\n\n<p>For now, it looks something like this (quite simplified for brevity):</p>\n\n<pre><code>CreateContainerCmd createCommand = dockerClient.createContainerCmd(\"sjourdan/ffmpeg\")\n    .withVolumes(aVolume)\n    .withBinds(aBind)\n    .withCmd(\"a lot of options about the conversion itself, codec, ratio, …\");\nCreateContainerResponse container = createCommand.exec();\n\ndockerClient.startContainerCmd(container.getId()).exec();\n\n// vanilla implementation of ResultCallback\nMyResultCallback callback = new MyResultCallback();\ndockerClient.waitContainerCmd(container.getId()).exec(callback);\n</code></pre>\n\n<p>Fact is, of course, the thread keeps going after that without waiting the callback to be called back.</p>\n\n<p>How should we do to force the thread to wait until the callback is called, informing us the docker command is fully ended?</p>\n\n<hr>\n\n<p>On another note, if someone knows how to add a <code>--rm</code> parameter to the played <code>docker run</code> command using docker-java, I'm interested.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1562875411,"post_id":56996401,"comment_id":100527130,"body_markdown":"Another reason why Eclipse is rubbish.   Should still be part of your JDK 8 install, but not for newer JDKs.  You should reconsider JavaFX - not much support.  https://stackoverflow.com/questions/35974003/javafx-comes-with-jdk-8","body":"Another reason why Eclipse is rubbish.   Should still be part of your JDK 8 install, but not for newer JDKs.  You should reconsider JavaFX - not much support.  <a href=\"https://stackoverflow.com/questions/35974003/javafx-comes-with-jdk-8\" title=\"javafx comes with jdk 8\">stackoverflow.com/questions/35974003/javafx-comes-with-jdk-8</a>"},{"owner":{"account_id":1550615,"reputation":6757,"user_id":1443098,"accept_rate":2,"display_name":"user1443098"},"score":0,"creation_date":1562876064,"post_id":56996401,"comment_id":100527363,"body_markdown":"Could be but then I&#39;m using VS Code, not Eclipse.","body":"Could be but then I&#39;m using VS Code, not Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1563256014,"creation_date":1563256014,"answer_id":57050750,"question_id":56996401,"body_markdown":"try this:\r\n  \r\n1.find `.settings\\org.eclipse.jdt.core.prefs` file in your project\r\n\r\n2.change `org.eclipse.jdt.core.compiler.problem.forbiddenReference=warning`\r\n\r\nto   `org.eclipse.jdt.core.compiler.problem.forbiddenReference = ignore`","title":"Compiling Java with VS Code, getting &quot;restriction on required library&quot; error message","body":"<p>try this:</p>\n\n<p>1.find <code>.settings\\org.eclipse.jdt.core.prefs</code> file in your project</p>\n\n<p>2.change <code>org.eclipse.jdt.core.compiler.problem.forbiddenReference=warning</code></p>\n\n<p>to   <code>org.eclipse.jdt.core.compiler.problem.forbiddenReference = ignore</code></p>\n"},{"tags":[],"owner":{"account_id":9142177,"reputation":73,"user_id":6799699,"display_name":"Steven Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641625036,"creation_date":1641304074,"answer_id":70579782,"question_id":56996401,"body_markdown":"change file `./.settings/org.eclipse.jdt.core.prefs` with \r\n```txt\r\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\r\n```\r\n\r\nrun the command\r\n```sh\r\nmvn eclipse:eclipse\r\n```\r\n","title":"Compiling Java with VS Code, getting &quot;restriction on required library&quot; error message","body":"<p>change file <code>./.settings/org.eclipse.jdt.core.prefs</code> with</p>\n<pre><code>org.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\n</code></pre>\n<p>run the command</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn eclipse:eclipse\n</code></pre>\n"}],"owner":{"account_id":1550615,"reputation":6757,"user_id":1443098,"accept_rate":2,"display_name":"user1443098"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57050750,"answer_count":2,"score":2,"last_activity_date":1641625036,"creation_date":1562874775,"question_id":56996401,"body_markdown":"I have seen this question asked and answered a few times for Java being compiled in Eclipse.  In my case, I don&#39;t have Eclipse.  I want to get my project compiled using VS Code.  I&#39;m hoping there is a file I can create or edit to override this error message:\r\n\r\n&gt; Access restriction: The type &#39;Pair&lt;K,V&gt;&#39; is not API (restriction on\r\n&gt; required library &#39;C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_201\\jre\\lib\\ext\\jfxrt.jar&#39;)Java(16777523)\r\n\r\nAny help appreciated.\r\n\r\nIn my project the .settings\\org.eclipse.buildship.core.prefs contains\r\n\r\n    connection.project.dir=../..\r\n    eclipse.preferences.version=1\r\n    org.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\r\n\r\nPS My project uses gradle.","title":"Compiling Java with VS Code, getting &quot;restriction on required library&quot; error message","body":"<p>I have seen this question asked and answered a few times for Java being compiled in Eclipse.  In my case, I don't have Eclipse.  I want to get my project compiled using VS Code.  I'm hoping there is a file I can create or edit to override this error message:</p>\n\n<blockquote>\n  <p>Access restriction: The type 'Pair' is not API (restriction on\n  required library 'C:\\Program\n  Files\\Java\\jdk1.8.0_201\\jre\\lib\\ext\\jfxrt.jar')Java(16777523)</p>\n</blockquote>\n\n<p>Any help appreciated.</p>\n\n<p>In my project the .settings\\org.eclipse.buildship.core.prefs contains</p>\n\n<pre><code>connection.project.dir=../..\neclipse.preferences.version=1\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=ignore\n</code></pre>\n\n<p>PS My project uses gradle.</p>\n"},{"tags":["java","android","android-intent","textview","onclicklistener"],"comments":[{"owner":{"account_id":2063229,"reputation":29168,"user_id":1839336,"accept_rate":68,"display_name":"GrIsHu"},"score":0,"creation_date":1382689656,"post_id":19584750,"comment_id":29066729,"body_markdown":"Try out with `onTouchListener` on `TextView`. @Wesley Egbertsen","body":"Try out with <code>onTouchListener</code> on <code>TextView</code>. @Wesley Egbertsen"},{"owner":{"account_id":2063229,"reputation":29168,"user_id":1839336,"accept_rate":68,"display_name":"GrIsHu"},"score":0,"creation_date":1382689973,"post_id":19584750,"comment_id":29066887,"body_markdown":"And besides setting the `TextIsSelectable=&quot;true&quot;` set the `android:clickable=&quot;true&quot;` for your TextView.","body":"And besides setting the <code>TextIsSelectable=&quot;true&quot;</code> set the <code>android:clickable=&quot;true&quot;</code> for your TextView."},{"owner":{"account_id":3346038,"reputation":720,"user_id":2811166,"accept_rate":72,"display_name":"Wesley Egbertsen"},"score":0,"creation_date":1382690185,"post_id":19584750,"comment_id":29066995,"body_markdown":"If I make them onTouchListeners, you cant select the text anymore because the onTouch get priority I think.","body":"If I make them onTouchListeners, you cant select the text anymore because the onTouch get priority I think."},{"owner":{"account_id":253370,"reputation":274,"user_id":532013,"accept_rate":80,"display_name":"henry74918"},"score":0,"creation_date":1388987998,"post_id":19584750,"comment_id":31454319,"body_markdown":"Did you find a solution yet?","body":"Did you find a solution yet?"},{"owner":{"account_id":3346038,"reputation":720,"user_id":2811166,"accept_rate":72,"display_name":"Wesley Egbertsen"},"score":0,"creation_date":1388994965,"post_id":19584750,"comment_id":31456807,"body_markdown":"I still have not found a solution.","body":"I still have not found a solution."}],"answers":[{"tags":[],"owner":{"account_id":3296019,"reputation":375,"user_id":2773264,"display_name":"Smile"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1382689683,"creation_date":1382689683,"answer_id":19584852,"question_id":19584750,"body_markdown":"set this ...\r\n\r\n    TextisSelectable = &quot;false&quot;\r\n\r\ni think it will be work correctly","title":"Onclick event on textview(that has TextIsSelectable=&quot;true&quot;) is ony called on second click","body":"<p>set this ...</p>\n\n<pre><code>TextisSelectable = \"false\"\n</code></pre>\n\n<p>i think it will be work correctly</p>\n"},{"tags":[],"owner":{"account_id":5474578,"reputation":500,"user_id":4352883,"display_name":"Frosty"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1499913112,"creation_date":1454668387,"answer_id":35221862,"question_id":19584750,"body_markdown":"I faced this issue as well. Whenever  text view is touched firstly `onTouch`, then `OnSelection` and at last `OnClick` is called.\r\nIf i understand your problem clearly you want to select text in text view when user `double taps` or `long presses` like the usual text selection but when user simply clicks it once u want the `onClick` to function. I think the following might help you.\r\n\r\nAdd a `gestureDetector` to your text View. \r\n\r\n   \r\n\r\n    GestureDetectorCompat mDetector;\r\n    mDetector = new GestureDetectorCompat(this, new GestureDetector.SimpleOnGestureListener());\r\n\r\n    mDetector.setOnDoubleTapListener(new GestureDetector.OnDoubleTapListener() {\r\n        @Override\r\n        public boolean onSingleTapConfirmed(MotionEvent e) {\r\n            // This is where u add your OnClick event\r\n            startTelIntent();\r\n            return false;\r\n        }\r\n            \r\n        @Override\r\n        public boolean onDoubleTap(MotionEvent e) {\r\n            Log.d(&quot;dtttt&quot;, &quot;double tap&quot;);\r\n            return false;\r\n        }\r\n            \r\n        @Override\r\n        public boolean onDoubleTapEvent(MotionEvent e) {\r\n            return false;\r\n        }\r\n    });\r\n    \r\n    telefoonTXT.setOnTouchListener(new View.OnTouchListener() {\r\n         @Override\r\n         public boolean onTouch(View v, MotionEvent event) {\r\n              mDetector.onTouchEvent(event);\r\n              return false;\r\n         }\r\n    });","title":"Onclick event on textview(that has TextIsSelectable=&quot;true&quot;) is ony called on second click","body":"<p>I faced this issue as well. Whenever  text view is touched firstly <code>onTouch</code>, then <code>OnSelection</code> and at last <code>OnClick</code> is called.\nIf i understand your problem clearly you want to select text in text view when user <code>double taps</code> or <code>long presses</code> like the usual text selection but when user simply clicks it once u want the <code>onClick</code> to function. I think the following might help you.</p>\n\n<p>Add a <code>gestureDetector</code> to your text View. </p>\n\n<pre><code>GestureDetectorCompat mDetector;\nmDetector = new GestureDetectorCompat(this, new GestureDetector.SimpleOnGestureListener());\n\nmDetector.setOnDoubleTapListener(new GestureDetector.OnDoubleTapListener() {\n    @Override\n    public boolean onSingleTapConfirmed(MotionEvent e) {\n        // This is where u add your OnClick event\n        startTelIntent();\n        return false;\n    }\n\n    @Override\n    public boolean onDoubleTap(MotionEvent e) {\n        Log.d(\"dtttt\", \"double tap\");\n        return false;\n    }\n\n    @Override\n    public boolean onDoubleTapEvent(MotionEvent e) {\n        return false;\n    }\n});\n\ntelefoonTXT.setOnTouchListener(new View.OnTouchListener() {\n     @Override\n     public boolean onTouch(View v, MotionEvent event) {\n          mDetector.onTouchEvent(event);\n          return false;\n     }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3243794,"reputation":4776,"user_id":2736039,"accept_rate":93,"display_name":"Ultimo_m"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623688054,"creation_date":1623688054,"answer_id":67973958,"question_id":19584750,"body_markdown":"In my case focus change listener works, but be aware for cases when you use it in androidTv that you move with D-pad\r\n\r\n    textView.setOnFocusChangeListener { v, hasFocus -&gt;\r\n        if (hasFocus &amp;&amp; textView.measuredHeight &gt; textView.lineHeight * textView.lineCount) {\r\n        //your click event               \r\n        }\r\n    }\r\n\r\nI check if text can be scrolled then don&#39;t take the click event","title":"Onclick event on textview(that has TextIsSelectable=&quot;true&quot;) is ony called on second click","body":"<p>In my case focus change listener works, but be aware for cases when you use it in androidTv that you move with D-pad</p>\n<pre><code>textView.setOnFocusChangeListener { v, hasFocus -&gt;\n    if (hasFocus &amp;&amp; textView.measuredHeight &gt; textView.lineHeight * textView.lineCount) {\n    //your click event               \n    }\n}\n</code></pre>\n<p>I check if text can be scrolled then don't take the click event</p>\n"},{"tags":[],"owner":{"account_id":13461714,"reputation":334,"user_id":10501582,"display_name":"Vitaly"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641624991,"creation_date":1641624991,"answer_id":70630228,"question_id":19584750,"body_markdown":"The accepted answer is good. But I had one additional issue with it: When I have some selection text in textview, I want to tap on textview to only deselecting the text - without perfoming on click listener. And perform on click only with no text selection.\r\nSo below is my solution:\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    public static void setOnClickGestureDetectorListener(TextView textView, Context context, View.OnClickListener onClickListener){\r\n        if (textView == null || context == null || onClickListener == null)){\r\n            return;\r\n        }\r\n        final GestureDetectorCompat detector = new GestureDetectorCompat(context, new GestureDetector.SimpleOnGestureListener());\r\n        detector.setOnDoubleTapListener(new GestureDetector.OnDoubleTapListener() {\r\n            @Override\r\n            public boolean onSingleTapConfirmed(MotionEvent e) {\r\n                onClickListener.onClick(textView);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onDoubleTap(MotionEvent e) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onDoubleTapEvent(MotionEvent e) {\r\n                return false;\r\n            }\r\n        });\r\n        textView.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                if ( v instanceof TextView ) {\r\n                    TextView textView = (TextView)v;\r\n                    if (textView.getSelectionStart() &gt;= 0 &amp;&amp; textView.getSelectionEnd() &gt; textView.getSelectionStart()){\r\n                        return false;\r\n                    }\r\n                    detector.onTouchEvent(event);\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\nAnd calling example is below:\r\n\r\n    setOnClickGestureDetectorListener(textView, getContext(), new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            //  This is where u add your OnClick event     \r\n                        }\r\n                    });","title":"Onclick event on textview(that has TextIsSelectable=&quot;true&quot;) is ony called on second click","body":"<p>The accepted answer is good. But I had one additional issue with it: When I have some selection text in textview, I want to tap on textview to only deselecting the text - without perfoming on click listener. And perform on click only with no text selection.\nSo below is my solution:</p>\n<pre><code>@SuppressLint(&quot;ClickableViewAccessibility&quot;)\npublic static void setOnClickGestureDetectorListener(TextView textView, Context context, View.OnClickListener onClickListener){\n    if (textView == null || context == null || onClickListener == null)){\n        return;\n    }\n    final GestureDetectorCompat detector = new GestureDetectorCompat(context, new GestureDetector.SimpleOnGestureListener());\n    detector.setOnDoubleTapListener(new GestureDetector.OnDoubleTapListener() {\n        @Override\n        public boolean onSingleTapConfirmed(MotionEvent e) {\n            onClickListener.onClick(textView);\n            return false;\n        }\n\n        @Override\n        public boolean onDoubleTap(MotionEvent e) {\n            return false;\n        }\n\n        @Override\n        public boolean onDoubleTapEvent(MotionEvent e) {\n            return false;\n        }\n    });\n    textView.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            if ( v instanceof TextView ) {\n                TextView textView = (TextView)v;\n                if (textView.getSelectionStart() &gt;= 0 &amp;&amp; textView.getSelectionEnd() &gt; textView.getSelectionStart()){\n                    return false;\n                }\n                detector.onTouchEvent(event);\n            }\n            return false;\n        }\n    });\n}\n</code></pre>\n<p>And calling example is below:</p>\n<pre><code>setOnClickGestureDetectorListener(textView, getContext(), new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        //  This is where u add your OnClick event     \n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":3346038,"reputation":720,"user_id":2811166,"accept_rate":72,"display_name":"Wesley Egbertsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3569,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":35221862,"answer_count":4,"score":20,"last_activity_date":1641624991,"creation_date":1382689412,"question_id":19584750,"body_markdown":"I have a `onClickListener` on a `textview` and the textview has the flag that it&#39;s `selectable`.\r\nBut the `onclick` event I specified is only called when the `textview` is clicked a second time.\r\nAfter the second time it calles the onclick right, but if a other `textview` that also is `selectable` with a `onclicklistener` it also is only called the second time, then it works fine, but then the other one works only the second time again. I can&#39;t find the source of these weird events.\r\n\r\n    telefoonTXT.setOnClickListener(new OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View v) {startTelIntent();}}\r\n\t);\r\n\r\n    urlTXT.setOnClickListener(new OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View v) {startWebIntent();}\r\n\t});","title":"Onclick event on textview(that has TextIsSelectable=&quot;true&quot;) is ony called on second click","body":"<p>I have a <code>onClickListener</code> on a <code>textview</code> and the textview has the flag that it's <code>selectable</code>.\nBut the <code>onclick</code> event I specified is only called when the <code>textview</code> is clicked a second time.\nAfter the second time it calles the onclick right, but if a other <code>textview</code> that also is <code>selectable</code> with a <code>onclicklistener</code> it also is only called the second time, then it works fine, but then the other one works only the second time again. I can't find the source of these weird events.</p>\n<pre><code>telefoonTXT.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {startTelIntent();}}\n);\n\nurlTXT.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {startWebIntent();}\n});\n</code></pre>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1641576119,"post_id":70624891,"comment_id":124848430,"body_markdown":"Are you sure that the docker container is using MST? It may not use the same timezone as the server...","body":"Are you sure that the docker container is using MST? It may not use the same timezone as the server..."},{"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"score":0,"creation_date":1641576156,"post_id":70624891,"comment_id":124848447,"body_markdown":"I checked the server timezone it was MST not dockers","body":"I checked the server timezone it was MST not dockers"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1641576216,"post_id":70624891,"comment_id":124848477,"body_markdown":"Just to be clear - you entered the docker container and checked that it used MST? If not, try.","body":"Just to be clear - you entered the docker container and checked that it used MST? If not, try."},{"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"score":0,"creation_date":1641576373,"post_id":70624891,"comment_id":124848540,"body_markdown":"yes, you are correct, its using MST timezone @ewramner","body":"yes, you are correct, its using MST timezone @ewramner"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641624169,"creation_date":1641623846,"answer_id":70630137,"question_id":70624891,"body_markdown":"# Avoid legacy date-time classes\r\n\r\nNever use the terrible legacy classes `Timestamp`, `Date`, `Calendar`, etc. These were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n# Use *java.time*\r\n\r\nIf handed an object of that class, immediately convert to `Instant`. The `Instant` class represents a moment as seen in in UTC, with an offset of zero hours-minutes-seconds. \r\n\r\n    Instant instant = myTimestamp.toInstant() ;\r\n\r\nAdjust to your desired time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Phoenix&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nExtract the date portion. \r\n\r\n    LocalDate ld = zdt.toLocalDate() ;\r\n\r\nGenerate text representing the value of that `LocalDate` object.\r\n\r\n    String iso8601 = ld.toString() ;\r\n\r\nOr automatically localize.\r\n\r\n    Locale locale = Locale.US ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.SHORT ).\r\n    String localized = ld.format( f ) ;\r\n\r\nYou said:\r\n\r\n&gt; My server is in MST\r\n\r\nFirst, servers should generally be kept to a default time zone of UTC, that is no zone, just an offset of zero hours-minutes-seconds. \r\n\r\nSecondly, as a Java programmer, write your code without depending on the default time zone. Specify explicitly the desired time zone by passing the otherwise optional time zone argument to the various date-time methods. \r\n\r\nThirdly, `MST` is not a real time zone. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting different Date time locally and remotely","body":"<h1>Avoid legacy date-time classes</h1>\n<p>Never use the terrible legacy classes <code>Timestamp</code>, <code>Date</code>, <code>Calendar</code>, etc. These were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1>Use <em>java.time</em></h1>\n<p>If handed an object of that class, immediately convert to <code>Instant</code>. The <code>Instant</code> class represents a moment as seen in in UTC, with an offset of zero hours-minutes-seconds.</p>\n<pre><code>Instant instant = myTimestamp.toInstant() ;\n</code></pre>\n<p>Adjust to your desired time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Phoenix&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate ld = zdt.toLocalDate() ;\n</code></pre>\n<p>Generate text representing the value of that <code>LocalDate</code> object.</p>\n<pre><code>String iso8601 = ld.toString() ;\n</code></pre>\n<p>Or automatically localize.</p>\n<pre><code>Locale locale = Locale.US ;\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDate( FormatStyle.SHORT ).\nString localized = ld.format( f ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>My server is in MST</p>\n</blockquote>\n<p>First, servers should generally be kept to a default time zone of UTC, that is no zone, just an offset of zero hours-minutes-seconds.</p>\n<p>Secondly, as a Java programmer, write your code without depending on the default time zone. Specify explicitly the desired time zone by passing the otherwise optional time zone argument to the various date-time methods.</p>\n<p>Thirdly, <code>MST</code> is not a real time zone.</p>\n"}],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641624169,"creation_date":1641575806,"question_id":70624891,"body_markdown":"I am using `ZonedDateTime` to convert `GMT` timestamp to `America/Phoenix` timestamp, \r\n\r\nHere is my implementation\r\n\r\n     public static ZonedDateTime convertGMTTimestampToLocalTime(Timestamp gmtTime, String timeZone) throws Exception\r\n        {\r\n    \r\n            ZonedDateTime atZone =Instant\r\n                    .ofEpochMilli(                       // Parse a count of milliseconds since 1970-01-01T00:00Z.\r\n                            gmtTime.getTime()\r\n                    )                                    // Returns a `Instant` object.\r\n                    .atZone(                            \r\n                            ZoneId.of( timeZone )\r\n                    );                                    // Returns a `ZonedDateTime` object.\r\n    \r\n    \r\n            return atZone;\r\n        }\r\n\r\n\r\nThis gives proper result when I test in local but when I test it remotely (`server` with `docker container`) it gives wrong result.\r\n\r\nIf I do a transaction at `6-Jan-2021 8:00PM (America/Phoenix)` it should give 6-Jan-2021 instead it display 7-Jan-2021. My server is in `MST`\r\n\r\nWhat am I missing, isn&#39;t the server supposed to print the date according to the specified time zone. Any help would be appreciated. Thanks. \r\n\r\n  ","title":"Getting different Date time locally and remotely","body":"<p>I am using <code>ZonedDateTime</code> to convert <code>GMT</code> timestamp to <code>America/Phoenix</code> timestamp,</p>\n<p>Here is my implementation</p>\n<pre><code> public static ZonedDateTime convertGMTTimestampToLocalTime(Timestamp gmtTime, String timeZone) throws Exception\n    {\n\n        ZonedDateTime atZone =Instant\n                .ofEpochMilli(                       // Parse a count of milliseconds since 1970-01-01T00:00Z.\n                        gmtTime.getTime()\n                )                                    // Returns a `Instant` object.\n                .atZone(                            \n                        ZoneId.of( timeZone )\n                );                                    // Returns a `ZonedDateTime` object.\n\n\n        return atZone;\n    }\n</code></pre>\n<p>This gives proper result when I test in local but when I test it remotely (<code>server</code> with <code>docker container</code>) it gives wrong result.</p>\n<p>If I do a transaction at <code>6-Jan-2021 8:00PM (America/Phoenix)</code> it should give 6-Jan-2021 instead it display 7-Jan-2021. My server is in <code>MST</code></p>\n<p>What am I missing, isn't the server supposed to print the date according to the specified time zone. Any help would be appreciated. Thanks.</p>\n"},{"tags":["java","windows","selenium","htmlunit","htmlunit-driver"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641623823,"creation_date":1641623823,"answer_id":70630135,"question_id":70629993,"body_markdown":"Based on HtmlUnit (2.56.0) api docs:\r\n\r\n```\r\nWebClient webClient = ...\r\nList&lt;WebWindow&gt; windows = webClient.getWebWindows();\r\nwebClient.setCurrentWindow(windows.get(1));\r\n```\r\n___\r\n\r\n**Maven dependency**\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n    &lt;version&gt;2.56.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n___\r\n**Reference**\r\n\r\nhttps://htmlunit.sourceforge.io/apidocs/index.html\r\n\r\nhttps://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#getWebWindows--\r\n\r\nhttps://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#setCurrentWindow-com.gargoylesoftware.htmlunit.WebWindow-","title":"How to switch window on HtmlUnit","body":"<p>Based on HtmlUnit (2.56.0) api docs:</p>\n<pre><code>WebClient webClient = ...\nList&lt;WebWindow&gt; windows = webClient.getWebWindows();\nwebClient.setCurrentWindow(windows.get(1));\n</code></pre>\n<hr />\n<p><strong>Maven dependency</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n    &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n    &lt;version&gt;2.56.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p><strong>Reference</strong></p>\n<p><a href=\"https://htmlunit.sourceforge.io/apidocs/index.html\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/apidocs/index.html</a></p>\n<p><a href=\"https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#getWebWindows--\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#getWebWindows--</a></p>\n<p><a href=\"https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#setCurrentWindow-com.gargoylesoftware.htmlunit.WebWindow-\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClient.html#setCurrentWindow-com.gargoylesoftware.htmlunit.WebWindow-</a></p>\n"}],"owner":{"account_id":11979939,"reputation":19,"user_id":8766073,"display_name":"buraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70630135,"answer_count":1,"score":0,"last_activity_date":1641623823,"creation_date":1641621835,"question_id":70629993,"body_markdown":"I have a selenium code below which switch window to another window. How do I do the same thing with HtmlUnit not HtmlUnitDriver.\r\n\r\n```\r\nSet windows = driver.getWindowHandles();&#160; List windowsH = new ArrayList&lt;&gt;(windows); driver.switchTo().window(windowsH.get(1));\r\n\r\n```\r\n\r\nCan someone give me a sample code. Thank you.","title":"How to switch window on HtmlUnit","body":"<p>I have a selenium code below which switch window to another window. How do I do the same thing with HtmlUnit not HtmlUnitDriver.</p>\n<pre><code>Set windows = driver.getWindowHandles();  List windowsH = new ArrayList&lt;&gt;(windows); driver.switchTo().window(windowsH.get(1));\n\n</code></pre>\n<p>Can someone give me a sample code. Thank you.</p>\n"},{"tags":["java","string","reference","string-pool"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1641620571,"post_id":70629869,"comment_id":124857400,"body_markdown":"`s1` and `s2` are both references, certainly.  Lines 3 and 4 don&#39;t do exactly the same thing.  Normally a string literal like &quot;Java&quot; would be comparable with `==` for all other literals in a program.  But calling `new String` forces a new object and the two references are no longer equal with `==`.","body":"<code>s1</code> and <code>s2</code> are both references, certainly.  Lines 3 and 4 don&#39;t do exactly the same thing.  Normally a string literal like &quot;Java&quot; would be comparable with <code>==</code> for all other literals in a program.  But calling <code>new String</code> forces a new object and the two references are no longer equal with <code>==</code>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1641620961,"post_id":70629869,"comment_id":124857444,"body_markdown":"Welcome to Stack Overflow. Please read [ask]. I tried to edit your question to ask the question directly, and [avoid conversational language](https://meta.stackoverflow.com/questions/343721/kind-reminder-to-remove-noise) - this is *not a discussion forum*, thus anything to do with you as a programmer - i.e., not about *the code* - is off topic.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. I tried to edit your question to ask the question directly, and <a href=\"https://meta.stackoverflow.com/questions/343721/kind-reminder-to-remove-noise\">avoid conversational language</a> - this is <i>not a discussion forum</i>, thus anything to do with you as a programmer - i.e., not about <i>the code</i> - is off topic."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1641621011,"post_id":70629869,"comment_id":124857452,"body_markdown":"However, I&#39;m not clear what you mean by &quot;reference variables of an object&quot;. They are variables that have an object type (specifically, `java.lang.String`), which (under the hood) store object references. However, we normally just call these &quot;objects&quot;, because Java does not let you work with the references &quot;as references&quot; - you only get the objects themselves whenever you interact with the variable. See e.g. https://javaranch.com/campfire/StoryPassBy.jsp.","body":"However, I&#39;m not clear what you mean by &quot;reference variables of an object&quot;. They are variables that have an object type (specifically, <code>java.lang.String</code>), which (under the hood) store object references. However, we normally just call these &quot;objects&quot;, because Java does not let you work with the references &quot;as references&quot; - you only get the objects themselves whenever you interact with the variable. See e.g. <a href=\"https://javaranch.com/campfire/StoryPassBy.jsp\" rel=\"nofollow noreferrer\">javaranch.com/campfire/StoryPassBy.jsp</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user3980558"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641622018,"creation_date":1641620472,"answer_id":70629891,"question_id":70629869,"body_markdown":"Lines 3, 4 don&#39;t do the same thing, as:\r\n\r\n`String s1 = &quot;Java&quot;;` may reuse an instance from the [string constant pool][1] if one is available, whereas `new String(&quot;Java&quot;);` creates a new and referentially distinct instance of a String object.\r\n\r\nTherefore, Lines 3 and 4 don&#39;t do the same thing.\r\n\r\nNow, lets have a look at the following code:\r\n\r\n    String s1 = &quot;Java&quot;;\r\n    String s2 = &quot;Java&quot;;\r\n\r\n    System.out.println(s1 == s2);      // true\r\n\r\n    s2 = new String(&quot;Java&quot;);\r\n    System.out.println(s1 == s2);      // false\r\n    System.out.println(s1.equals(s2)); // true\r\n\r\n`==` on two reference types is a reference identity comparison. Two objects that are equals are not necessarily `==`. Usually, it is wrong to use `==` on reference types, and most of the time `equals` need to be used instead.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/string-constant-pool-in-java/","title":"Java Strings - What is the difference between &quot;Java&quot; and new String(&quot;Java&quot;)?","body":"<p>Lines 3, 4 don't do the same thing, as:</p>\n<p><code>String s1 = &quot;Java&quot;;</code> may reuse an instance from the <a href=\"https://www.geeksforgeeks.org/string-constant-pool-in-java/\" rel=\"nofollow noreferrer\">string constant pool</a> if one is available, whereas <code>new String(&quot;Java&quot;);</code> creates a new and referentially distinct instance of a String object.</p>\n<p>Therefore, Lines 3 and 4 don't do the same thing.</p>\n<p>Now, lets have a look at the following code:</p>\n<pre><code>String s1 = &quot;Java&quot;;\nString s2 = &quot;Java&quot;;\n\nSystem.out.println(s1 == s2);      // true\n\ns2 = new String(&quot;Java&quot;);\nSystem.out.println(s1 == s2);      // false\nSystem.out.println(s1.equals(s2)); // true\n</code></pre>\n<p><code>==</code> on two reference types is a reference identity comparison. Two objects that are equals are not necessarily <code>==</code>. Usually, it is wrong to use <code>==</code> on reference types, and most of the time <code>equals</code> need to be used instead.</p>\n"},{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641620629,"creation_date":1641620629,"answer_id":70629900,"question_id":70629869,"body_markdown":"Initializing String using a new keyword `String s2 = new String(&quot;Java&quot;);` creates a new object in the heap of memory. String initialized through this method is mutable means to say the value of the string can be reassigned after initialization.\\\r\nWhereas, `String s1 = &quot;Java&quot;` direct String initialization using the Literal creates an object in the pooled area of memory. String created through Literal doesn’t create a new object. It just passed the reference to the earlier created object.","title":"Java Strings - What is the difference between &quot;Java&quot; and new String(&quot;Java&quot;)?","body":"<p>Initializing String using a new keyword <code>String s2 = new String(&quot;Java&quot;);</code> creates a new object in the heap of memory. String initialized through this method is mutable means to say the value of the string can be reassigned after initialization.<br />\nWhereas, <code>String s1 = &quot;Java&quot;</code> direct String initialization using the Literal creates an object in the pooled area of memory. String created through Literal doesn’t create a new object. It just passed the reference to the earlier created object.</p>\n"}],"owner":{"account_id":23866822,"reputation":11,"user_id":17869050,"display_name":"Andrew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1641622482,"accepted_answer_id":70629891,"answer_count":2,"score":0,"last_activity_date":1641622018,"creation_date":1641620024,"question_id":70629869,"body_markdown":"Given this example code:\r\n\r\n```Java\r\nclass basic {\r\n     public static void main(String[] args) {\r\n        String s1 = &quot;Java&quot;;\r\n        String s2 = new String(&quot;Java&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAre `s1` and `s2` both reference variables of an object?\r\nDo those two lines of code do the same thing?","title":"Java Strings - What is the difference between &quot;Java&quot; and new String(&quot;Java&quot;)?","body":"<p>Given this example code:</p>\n<pre><code>class basic {\n     public static void main(String[] args) {\n        String s1 = &quot;Java&quot;;\n        String s2 = new String(&quot;Java&quot;);\n    }\n}\n</code></pre>\n<p>Are <code>s1</code> and <code>s2</code> both reference variables of an object?\nDo those two lines of code do the same thing?</p>\n"},{"tags":["java","json","escaping","java-17","messageformat"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641620353,"creation_date":1641619439,"answer_id":70629826,"question_id":70629200,"body_markdown":"Sure, no problem! But:\r\n- `Locale.setDefault` is harsh! (for test it can be tolerable.... but i don&#39;t want to look up that bug..)\r\n- (I &quot;don&#39;t like&quot; `MessageFormat`... it uses `StringBuffer`  internally(Mr. performance killer &amp; memory dumper).)\r\n\r\nAs long as you can handle the &quot;complexity&quot;, it can be done like:\r\n```lang-scala\r\nimport java.math.BigDecimal;\r\nimport java.text.MessageFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class MainSimple {\r\n\r\n  // Brazilian Locale:\r\n  private static final Locale LOCALE_PT_BR = new Locale.Builder().\r\n      setLanguage(&quot;pt&quot;).\r\n      setRegion(&quot;BR&quot;).\r\n      build();\r\n  // US number format:\r\n  private static final NumberFormat DEFAULT_NUMBER_FMT = NumberFormat.getNumberInstance(Locale.US);\r\n\r\n  public static void main(String[] args) {\r\n    // MessageFormat instance, with format (with 2! parameters) and Locale:\r\n    MessageFormat mainFmt = new MessageFormat(&quot;&quot;&quot;\r\n                      &#39;{&#39;\r\n                          &quot;value&quot;: {0},\r\n                          &quot;description&quot;: &quot;O valor &#233; {1,number,currency}. &lt;-- trick 1 &quot;\r\n                      &#39;}&#39;\r\n                      &quot;&quot;&quot;, LOCALE_PT_BR);\r\n    \r\n    final BigDecimal num = new BigDecimal(946.2);\r\n    // trick 2:\r\n    Object[] params = {DEFAULT_NUMBER_FMT.format(num), num};\r\n    // do it:\r\n    System.out.println(mainFmt.format(params));\r\n  }\r\n}\r\n```\r\nOutline:\r\n- Constants for:\r\n  - Brazilian (outer format) locale.\r\n  - US/Standard (inner) number format for custom (non brazilian) formatting/this particular number.\r\n- [`MessageFormat` has a constructor with locale parameter][1]! (*we use that*, and call it outer format/locale(`mainFmt`))\r\n- Int the format we &quot;trick a little&quot; and use 2 parameters: `{0}` and `{1,number,currency}`\r\n- We trick on: Pass the first parameter as a (US-formatted number) ***`String`***, the second as had. (`Object[] params = {DEFAULT_NUMBER_FMT.format(num), num}`)\r\n- finally format (&amp; print to out).\r\n\r\nPrints:\r\n```lang-json\r\n{\r\n    &quot;value&quot;: 946.2,\r\n    &quot;description&quot;: &quot;O valor &#233; R$&#160;946,20.&quot;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/MessageFormat.html#%3Cinit%3E(java.lang.String,java.util.Locale)","title":"It it possible to have multiple Locales in one same MessageFormat?","body":"<p>Sure, no problem! But:</p>\n<ul>\n<li><code>Locale.setDefault</code> is harsh! (for test it can be tolerable.... but i don't want to look up that bug..)</li>\n<li>(I &quot;don't like&quot; <code>MessageFormat</code>... it uses <code>StringBuffer</code>  internally(Mr. performance killer &amp; memory dumper).)</li>\n</ul>\n<p>As long as you can handle the &quot;complexity&quot;, it can be done like:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.text.MessageFormat;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class MainSimple {\n\n  // Brazilian Locale:\n  private static final Locale LOCALE_PT_BR = new Locale.Builder().\n      setLanguage(&quot;pt&quot;).\n      setRegion(&quot;BR&quot;).\n      build();\n  // US number format:\n  private static final NumberFormat DEFAULT_NUMBER_FMT = NumberFormat.getNumberInstance(Locale.US);\n\n  public static void main(String[] args) {\n    // MessageFormat instance, with format (with 2! parameters) and Locale:\n    MessageFormat mainFmt = new MessageFormat(&quot;&quot;&quot;\n                      '{'\n                          &quot;value&quot;: {0},\n                          &quot;description&quot;: &quot;O valor é {1,number,currency}. &lt;-- trick 1 &quot;\n                      '}'\n                      &quot;&quot;&quot;, LOCALE_PT_BR);\n    \n    final BigDecimal num = new BigDecimal(946.2);\n    // trick 2:\n    Object[] params = {DEFAULT_NUMBER_FMT.format(num), num};\n    // do it:\n    System.out.println(mainFmt.format(params));\n  }\n}\n</code></pre>\n<p>Outline:</p>\n<ul>\n<li>Constants for:\n<ul>\n<li>Brazilian (outer format) locale.</li>\n<li>US/Standard (inner) number format for custom (non brazilian) formatting/this particular number.</li>\n</ul>\n</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/MessageFormat.html#%3Cinit%3E(java.lang.String,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>MessageFormat</code> has a constructor with locale parameter</a>! (<em>we use that</em>, and call it outer format/locale(<code>mainFmt</code>))</li>\n<li>Int the format we &quot;trick a little&quot; and use 2 parameters: <code>{0}</code> and <code>{1,number,currency}</code></li>\n<li>We trick on: Pass the first parameter as a (US-formatted number) <em><strong><code>String</code></strong></em>, the second as had. (<code>Object[] params = {DEFAULT_NUMBER_FMT.format(num), num}</code>)</li>\n<li>finally format (&amp; print to out).</li>\n</ul>\n<p>Prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;value&quot;: 946.2,\n    &quot;description&quot;: &quot;O valor é R$ 946,20.&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641621558,"creation_date":1641621221,"answer_id":70629947,"question_id":70629200,"body_markdown":"This is a `String.format` solution with two inner (localized, customized) `NumberFormat`ters:\r\n```lang-java\r\nimport java.math.BigDecimal;\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class OtherMain {\r\n\r\n  private static final Locale LOCALE_PT_BR = new Locale.Builder().\r\n      setLanguage(&quot;pt&quot;).\r\n      setRegion(&quot;BR&quot;).\r\n      build();\r\n  \r\n  private static final NumberFormat DEFAULT_NUMBER_FMT\r\n      = NumberFormat.getNumberInstance(Locale.US);\r\n  private static final NumberFormat MY_SPECIAL_NUMBER_FMT\r\n      = NumberFormat.getCurrencyInstance(LOCALE_PT_BR);\r\n\r\n  static {\r\n    // this disables &quot;thousands sperarator&quot;, we can adjust DEFAULT_NUMBER_FMT as well...\r\n    MY_SPECIAL_NUMBER_FMT.setGroupingUsed(false);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    final BigDecimal num = new BigDecimal(99946.2);\r\n    System.out.format(&quot;&quot;&quot;\r\n                      {\r\n                        &quot;value&quot;: %s,\r\n                        &quot;description&quot;: &quot;O valor &#233; %s.&quot;\r\n                      }\r\n                      &quot;&quot;&quot;,\r\n        DEFAULT_NUMBER_FMT.format(num),\r\n        MY_SPECIAL_NUMBER_FMT.format(num)\r\n    );\r\n  }\r\n}\r\n```\r\nPrints:\r\n```lang-json\r\n{\r\n  &quot;value&quot;: 99,946.2,\r\n  &quot;description&quot;: &quot;O valor &#233; R$&#160;99946,20.&quot;\r\n}\r\n```","title":"It it possible to have multiple Locales in one same MessageFormat?","body":"<p>This is a <code>String.format</code> solution with two inner (localized, customized) <code>NumberFormat</code>ters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class OtherMain {\n\n  private static final Locale LOCALE_PT_BR = new Locale.Builder().\n      setLanguage(&quot;pt&quot;).\n      setRegion(&quot;BR&quot;).\n      build();\n  \n  private static final NumberFormat DEFAULT_NUMBER_FMT\n      = NumberFormat.getNumberInstance(Locale.US);\n  private static final NumberFormat MY_SPECIAL_NUMBER_FMT\n      = NumberFormat.getCurrencyInstance(LOCALE_PT_BR);\n\n  static {\n    // this disables &quot;thousands sperarator&quot;, we can adjust DEFAULT_NUMBER_FMT as well...\n    MY_SPECIAL_NUMBER_FMT.setGroupingUsed(false);\n  }\n\n  public static void main(String[] args) {\n    final BigDecimal num = new BigDecimal(99946.2);\n    System.out.format(&quot;&quot;&quot;\n                      {\n                        &quot;value&quot;: %s,\n                        &quot;description&quot;: &quot;O valor é %s.&quot;\n                      }\n                      &quot;&quot;&quot;,\n        DEFAULT_NUMBER_FMT.format(num),\n        MY_SPECIAL_NUMBER_FMT.format(num)\n    );\n  }\n}\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;value&quot;: 99,946.2,\n  &quot;description&quot;: &quot;O valor é R$ 99946,20.&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70629947,"answer_count":2,"score":4,"last_activity_date":1641621558,"creation_date":1641609146,"question_id":70629200,"body_markdown":"I have the following JSON example below:\r\n\r\n    {\r\n        &quot;value&quot;: 946.2,\r\n        &quot;description&quot;: &quot;O valor &#233; R$ 946,20.&quot;\r\n    }\r\n\r\nI need to use MessageFormat to JUnit test this JSON example, but I get an invalid value because my Locale is not in english. If I change my Locale to english instead of brazilian portuguese I get an invalid description because the currency value is displayed in English.\r\n\r\nHere&#39;s my code:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.MessageFormat;\r\n    import java.util.Locale;\r\n    \r\n    Locale.setDefault(Locale.ENGLISH);\r\n    \r\n    System.out.println(MessageFormat.format(&quot;&quot;&quot;\r\n    &#39;{&#39;\r\n        &quot;value&quot;: {0},\r\n        &quot;description&quot;: &quot;O valor &#233; {0,number,currency}.&quot;\r\n    &#39;}&#39;\r\n    &quot;&quot;&quot;, new BigDecimal(946.2)));\r\n\r\nHow can I format the value or the description in order to get the JSON as displayed above?","title":"It it possible to have multiple Locales in one same MessageFormat?","body":"<p>I have the following JSON example below:</p>\n<pre><code>{\n    &quot;value&quot;: 946.2,\n    &quot;description&quot;: &quot;O valor é R$ 946,20.&quot;\n}\n</code></pre>\n<p>I need to use MessageFormat to JUnit test this JSON example, but I get an invalid value because my Locale is not in english. If I change my Locale to english instead of brazilian portuguese I get an invalid description because the currency value is displayed in English.</p>\n<p>Here's my code:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.MessageFormat;\nimport java.util.Locale;\n\nLocale.setDefault(Locale.ENGLISH);\n\nSystem.out.println(MessageFormat.format(&quot;&quot;&quot;\n'{'\n    &quot;value&quot;: {0},\n    &quot;description&quot;: &quot;O valor é {0,number,currency}.&quot;\n'}'\n&quot;&quot;&quot;, new BigDecimal(946.2)));\n</code></pre>\n<p>How can I format the value or the description in order to get the JSON as displayed above?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1641604538,"post_id":70628867,"comment_id":124855774,"body_markdown":"Answer, because this will get boring fast: create a method `toString(): String` in your `Item` class, otherwise it will print out a reference to the object instance. Use `String.format(formatString, fields...)` to do so.","body":"Answer, because this will get boring fast: create a method <code>toString(): String</code> in your <code>Item</code> class, otherwise it will print out a reference to the object instance. Use <code>String.format(formatString, fields...)</code> to do so."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1641604586,"post_id":70628867,"comment_id":124855783,"body_markdown":"&quot;*trying to save a list of data as Strings*&quot; how (and why - what are you trying to achieve)? What do you mean by [&quot;doesn&#39;t work&quot;](https://web.archive.org/web/20180124130721/http://importblogkit.com/2015/07/does-not-work/)?","body":"&quot;<i>trying to save a list of data as Strings</i>&quot; how (and why - what are you trying to achieve)? What do you mean by <a href=\"https://web.archive.org/web/20180124130721/http://importblogkit.com/2015/07/does-not-work/\" rel=\"nofollow noreferrer\">&quot;doesn&#39;t work&quot;</a>?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1641604671,"post_id":70628867,"comment_id":124855795,"body_markdown":"&quot;Boxed&quot; classes should arguably not be used for fields, unless they can remain uninitialized. Use `int` and `boolean` instead.","body":"&quot;Boxed&quot; classes should arguably not be used for fields, unless they can remain uninitialized. Use <code>int</code> and <code>boolean</code> instead."},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1641607346,"post_id":70628867,"comment_id":124856086,"body_markdown":"See Object.toString(). All IDEs can generate a toString(). Start there please.","body":"See Object.toString(). All IDEs can generate a toString(). Start there please."}],"answers":[{"tags":[],"owner":{"account_id":10228035,"reputation":51,"user_id":7549856,"display_name":"rofeo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641619593,"creation_date":1641606232,"answer_id":70629023,"question_id":70628867,"body_markdown":"You need to override `toString` function in your `Item` class. Add the following snippet into your `Item` class:\r\n\r\n```\r\n@Override\r\npublic String toString() {\r\n    return &quot;Item{&quot; +\r\n            &quot;price=&quot; + price +\r\n            &quot;, modelNumber=&quot; + modelNumber +\r\n            &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n            &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n            &quot;, wasBought=&quot; + wasBought +\r\n            &#39;}&#39;;\r\n}\r\n```\r\nOutput:\r\n```\r\n[Item{price=20, modelNumber=100, description=&#39;Description&#39;, title=&#39;Title&#39;, wasBought=true}]\r\n```\r\n","title":"Saving List&lt;T&gt; as String","body":"<p>You need to override <code>toString</code> function in your <code>Item</code> class. Add the following snippet into your <code>Item</code> class:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Item{&quot; +\n            &quot;price=&quot; + price +\n            &quot;, modelNumber=&quot; + modelNumber +\n            &quot;, description='&quot; + description + '\\'' +\n            &quot;, title='&quot; + title + '\\'' +\n            &quot;, wasBought=&quot; + wasBought +\n            '}';\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[Item{price=20, modelNumber=100, description='Description', title='Title', wasBought=true}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1222742,"reputation":44,"user_id":1189042,"display_name":"william0754"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641607245,"creation_date":1641607245,"answer_id":70629100,"question_id":70628867,"body_markdown":"You can convert List&lt;Item&gt; to json format string by json utils, e.g. jackson or fastjson, in case you may need to convert it to Objects later.","title":"Saving List&lt;T&gt; as String","body":"<p>You can convert List to json format string by json utils, e.g. jackson or fastjson, in case you may need to convert it to Objects later.</p>\n"},{"tags":[],"owner":{"account_id":2507795,"reputation":11,"user_id":2180948,"display_name":"Saman Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641621408,"creation_date":1641620609,"answer_id":70629898,"question_id":70628867,"body_markdown":"Simply use Lombok  (Add Lombok jar into classpath)  @ToString annotate for Item class, it will do the needful output  https://projectlombok.org/features/ToString ","title":"Saving List&lt;T&gt; as String","body":"<p>Simply use Lombok  (Add Lombok jar into classpath)  @ToString annotate for Item class, it will do the needful output  <a href=\"https://projectlombok.org/features/ToString\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/ToString</a></p>\n"}],"owner":{"account_id":23479452,"reputation":15,"user_id":17531805,"display_name":"Mąka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70629100,"answer_count":3,"score":-1,"last_activity_date":1641621408,"creation_date":1641604172,"question_id":70628867,"body_markdown":"I&#39;ve been trying to save a list of data as Strings, but when I try a method `.toString` on List, it returns address in memory instead of data.\r\n\r\n\r\n```\r\npublic class Item {\r\n\r\n    Integer price = 20;\r\n    Integer modelNumber = 100;\r\n    String description = &quot;Description&quot;;\r\n    String title = &quot;Title&quot;;\r\n    Boolean wasBought = true;\r\n}\r\npublic static void main(String[] args) {\r\n    List&lt;Item&gt; data = new ArrayList&lt;&gt;();\r\n    data.add(new Item());\r\n    System.out.println(data.toString());\r\n}\r\n```","title":"Saving List&lt;T&gt; as String","body":"<p>I've been trying to save a list of data as Strings, but when I try a method <code>.toString</code> on List, it returns address in memory instead of data.</p>\n<pre><code>public class Item {\n\n    Integer price = 20;\n    Integer modelNumber = 100;\n    String description = &quot;Description&quot;;\n    String title = &quot;Title&quot;;\n    Boolean wasBought = true;\n}\npublic static void main(String[] args) {\n    List&lt;Item&gt; data = new ArrayList&lt;&gt;();\n    data.add(new Item());\n    System.out.println(data.toString());\n}\n</code></pre>\n"},{"tags":["java","opengl","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":7189015,"reputation":21,"user_id":5490039,"display_name":"Yanthir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460238036,"creation_date":1460238036,"answer_id":36523047,"question_id":36522862,"body_markdown":"Of course as soon as I post a question I find the answer. As it turns out the ByteBuffers need to be direct, so I had to use the `ByteBuffer.allocateDirect(n)` method. As soon as I changed all of my ByteBuffers to direct everything ran smoothly.","title":"Crash on calling glGenTextures","body":"<p>Of course as soon as I post a question I find the answer. As it turns out the ByteBuffers need to be direct, so I had to use the <code>ByteBuffer.allocateDirect(n)</code> method. As soon as I changed all of my ByteBuffers to direct everything ran smoothly.</p>\n"}],"owner":{"account_id":7189015,"reputation":21,"user_id":5490039,"display_name":"Yanthir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641621387,"creation_date":1460236907,"question_id":36522862,"body_markdown":"I&#39;ve been trying to create a program that would turn on a window and be able to display images (I want to make a game). As I&#39;ve worked with OGL before in C++, this time I decided to learn some Java and got myself LWJGL. I set up the window with help of the official tutorial and everything was fine. But as soon as I tried loading textures I came up across crashes. The program keeps crashing on calling glGenTextures. I&#39;ve seen many similar questions and most answers were that the thread was lacking a context, but I set that up as well. Here is the code I use to load the image:\r\n\r\n\tpublic Image(String path) {\r\n\t\tthis();\r\n\t\ttry {\r\n\t\t\tInputStream in = new FileInputStream(path);\r\n\t\t\ttry {\r\n\t\t\t    PNGDecoder decoder = new PNGDecoder(in);\r\n\t\t\t    ByteBuffer buf = ByteBuffer.allocateDirect(4*decoder.getWidth()*decoder.getHeight());\r\n\t\t\t    \r\n\t\t\t    decoder.decode(buf, decoder.getWidth()*4, Format.RGBA);\r\n\t\t\t    buf.flip();\r\n\t\t\t    \r\n\t\t\t\tByteBuffer TextureNameGen = ByteBuffer.allocate(8);\r\n\t\t\t    \r\n\t\t\t    glGenTextures(1, TextureNameGen); //&lt;-- This is where the program crashes\r\n\t\t\t    \r\n\t\t\t    TextureID = TextureNameGen.getInt();\r\n\t\r\n\t\t\t    ByteBuffer boundTexture = ByteBuffer.allocate(8);\r\n\t\t\t    glGetIntegerv(GL_TEXTURE_BINDING_2D, boundTexture);\r\n\t\r\n\t\t\t    glBindTexture(GL_TEXTURE_2D, TextureID);\r\n\t\r\n\t\t\t    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL_RGBA, GL_UNSIGNED_BYTE, buf);\r\n\t\t\t    \r\n\t\t\t    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\r\n\t\t\t    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\r\n\t\r\n\t\t\t    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\r\n\t\t\t    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\r\n\t\r\n\t\t\t    glBindTexture(GL_TEXTURE_2D, boundTexture.getInt());\r\n\t\t\t    \r\n\t\t\t    Width   = decoder.getWidth();\r\n\t\t\t    Height  = decoder.getHeight();\r\n\t\t\t    \r\n\t\t\t} finally {\r\n\t\t\t   in.close();\r\n\t\t\t}\r\n\t\t    \r\n\t\t\tlist.add(this);\r\n\t\t} catch (Exception e) {\r\n\t\t\t//Do nothing\r\n\t\t}\r\n\t}\r\n\r\nAnd here is how I set up the window and the context:\r\n\r\n\tprivate void init() {\r\n\t\t//Setup an error callback\r\n\t\tglfwSetErrorCallback(errorCallback = GLFWErrorCallback.createPrint(System.err));\r\n\r\n\t\t//Initialize GLFW\r\n\t\tif ( glfwInit() != GLFW_TRUE )\r\n\t\t\tthrow new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n\r\n\t\t//Create the window\r\n\t\twindow = glfwCreateWindow(WIDTH, HEIGHT, &quot;RopeProject&quot;, NULL, NULL);\r\n\t\tif ( window == NULL )\r\n\t\t\tthrow new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n\r\n\t\t//Setup a key callback\r\n\t\tglfwSetKeyCallback(window, keyCallback = new GLFWKeyCallback() {\r\n\t\t\t@Override\r\n\t\t\tpublic void invoke(long window, int key, int scancode, int action, int mods) {\r\n\t\t\t\tControls.instance.pushCommand(key, action);\r\n\t\t\t}\r\n\t\t}\r\n\t\t);\r\n\r\n\t\t//Get the resolution of the primary monitor\r\n\t\tGLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n\t\t//Center our window\r\n\t\tglfwSetWindowPos(window, (vidmode.width() - WIDTH) / 2, (vidmode.height() - HEIGHT) / 2);\r\n\r\n\t\t//Make the OpenGL context current\r\n\t\tglfwMakeContextCurrent(window);\r\n\t\t// Enable v-sync\r\n\t\tglfwSwapInterval(1);\r\n\t\t\r\n\t\t//Essential\r\n\t\tGL.createCapabilities();\r\n\r\n\t\t//GL Attributes\r\n\t    glViewport(0, 0, WIDTH, HEIGHT);\r\n\t\t\r\n\t\tglClearColor(1.0f, 1.0f, 1.0f, 1.0f);\r\n\r\n\t    glEnable(GL_BLEND);\r\n\t    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\n\r\n\t    glMatrixMode(GL_PROJECTION);\r\n\t    glLoadIdentity();\r\n\t    glOrtho(0, WIDTH, HEIGHT, 0, 1, -1);\r\n\t    glMatrixMode(GL_MODELVIEW);\r\n\r\n\t    glEnable(GL_TEXTURE_2D);\r\n\t    glLoadIdentity();\r\n\r\n\t\tnew Image(&quot;./gfx/Test.png&quot;); //&lt;-- Here is where I try to load up the texture.\r\n\t\t\r\n\t\tPhysicsThread.instance.start();\r\n\t}\r\n\r\nAm I missing something obvious? Am I doing something wrong? I&#39;ve been at it for the past 6 hours and I can&#39;t seem to find the answer. I can provide a crash log if it were to help. They are all saying this: \r\n    `EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff9e87ebf60, pid=15984, tid=17180`","title":"Crash on calling glGenTextures","body":"<p>I've been trying to create a program that would turn on a window and be able to display images (I want to make a game). As I've worked with OGL before in C++, this time I decided to learn some Java and got myself LWJGL. I set up the window with help of the official tutorial and everything was fine. But as soon as I tried loading textures I came up across crashes. The program keeps crashing on calling glGenTextures. I've seen many similar questions and most answers were that the thread was lacking a context, but I set that up as well. Here is the code I use to load the image:</p>\n\n<pre><code>public Image(String path) {\n    this();\n    try {\n        InputStream in = new FileInputStream(path);\n        try {\n            PNGDecoder decoder = new PNGDecoder(in);\n            ByteBuffer buf = ByteBuffer.allocateDirect(4*decoder.getWidth()*decoder.getHeight());\n\n            decoder.decode(buf, decoder.getWidth()*4, Format.RGBA);\n            buf.flip();\n\n            ByteBuffer TextureNameGen = ByteBuffer.allocate(8);\n\n            glGenTextures(1, TextureNameGen); //&lt;-- This is where the program crashes\n\n            TextureID = TextureNameGen.getInt();\n\n            ByteBuffer boundTexture = ByteBuffer.allocate(8);\n            glGetIntegerv(GL_TEXTURE_BINDING_2D, boundTexture);\n\n            glBindTexture(GL_TEXTURE_2D, TextureID);\n\n            glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, decoder.getWidth(), decoder.getHeight(), 0, GL_RGBA, GL_UNSIGNED_BYTE, buf);\n\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n\n            glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);\n            glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);\n\n            glBindTexture(GL_TEXTURE_2D, boundTexture.getInt());\n\n            Width   = decoder.getWidth();\n            Height  = decoder.getHeight();\n\n        } finally {\n           in.close();\n        }\n\n        list.add(this);\n    } catch (Exception e) {\n        //Do nothing\n    }\n}\n</code></pre>\n\n<p>And here is how I set up the window and the context:</p>\n\n<pre><code>private void init() {\n    //Setup an error callback\n    glfwSetErrorCallback(errorCallback = GLFWErrorCallback.createPrint(System.err));\n\n    //Initialize GLFW\n    if ( glfwInit() != GLFW_TRUE )\n        throw new IllegalStateException(\"Unable to initialize GLFW\");\n\n    //Create the window\n    window = glfwCreateWindow(WIDTH, HEIGHT, \"RopeProject\", NULL, NULL);\n    if ( window == NULL )\n        throw new RuntimeException(\"Failed to create the GLFW window\");\n\n    //Setup a key callback\n    glfwSetKeyCallback(window, keyCallback = new GLFWKeyCallback() {\n        @Override\n        public void invoke(long window, int key, int scancode, int action, int mods) {\n            Controls.instance.pushCommand(key, action);\n        }\n    }\n    );\n\n    //Get the resolution of the primary monitor\n    GLFWVidMode vidmode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n    //Center our window\n    glfwSetWindowPos(window, (vidmode.width() - WIDTH) / 2, (vidmode.height() - HEIGHT) / 2);\n\n    //Make the OpenGL context current\n    glfwMakeContextCurrent(window);\n    // Enable v-sync\n    glfwSwapInterval(1);\n\n    //Essential\n    GL.createCapabilities();\n\n    //GL Attributes\n    glViewport(0, 0, WIDTH, HEIGHT);\n\n    glClearColor(1.0f, 1.0f, 1.0f, 1.0f);\n\n    glEnable(GL_BLEND);\n    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n    glOrtho(0, WIDTH, HEIGHT, 0, 1, -1);\n    glMatrixMode(GL_MODELVIEW);\n\n    glEnable(GL_TEXTURE_2D);\n    glLoadIdentity();\n\n    new Image(\"./gfx/Test.png\"); //&lt;-- Here is where I try to load up the texture.\n\n    PhysicsThread.instance.start();\n}\n</code></pre>\n\n<p>Am I missing something obvious? Am I doing something wrong? I've been at it for the past 6 hours and I can't seem to find the answer. I can provide a crash log if it were to help. They are all saying this: \n    <code>EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff9e87ebf60, pid=15984, tid=17180</code></p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1472039384,"post_id":39122437,"comment_id":65590428,"body_markdown":"Is the JAR file (or whatever) containing the on the &gt;&gt;runtime&lt;&lt; classpath?","body":"Is the JAR file (or whatever) containing the on the &gt;&gt;runtime&lt;&lt; classpath?"},{"owner":{"account_id":8219436,"reputation":1499,"user_id":6184533,"accept_rate":71,"display_name":"Augustus"},"score":0,"creation_date":1472039986,"post_id":39122437,"comment_id":65590863,"body_markdown":"@StephenC yes no problems in that part.","body":"@StephenC yes no problems in that part."}],"answers":[{"tags":[],"owner":{"account_id":8219436,"reputation":1499,"user_id":6184533,"accept_rate":71,"display_name":"Augustus"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1472186124,"creation_date":1472186124,"answer_id":39158366,"question_id":39122437,"body_markdown":"I resolved this issue by specifying the fully qualified name of the constructor. \r\n\r\n    public List&lt;JunctionManagementListDto&gt; getJunctionManagementList(String zoneName, Integer customerId) {     \r\n    String hql =    &quot;SELECT new (packagename).JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) &quot;\r\n            +&quot;FROM Controllers c, ZoneControllerMapping zm &quot;\r\n            +&quot;WHERE c.siteId = zm.controller.siteId  &quot;;\r\n\r\n    if(zoneName != &quot;&quot;)\r\n        hql += &quot;  and zm.zone.name=&#39;&quot;+zoneName+&quot;&#39; &quot;;\r\n     if (customerId!=null)\r\n        hql += &quot;  and zm.controller.customer.id=&#39;&quot;+customerId+&quot;&#39; &quot;;\r\n    return super.readListByHql(hql);        \r\n    }","title":"QuerySyntaxException: Unable to locate class","body":"<p>I resolved this issue by specifying the fully qualified name of the constructor. </p>\n\n<pre><code>public List&lt;JunctionManagementListDto&gt; getJunctionManagementList(String zoneName, Integer customerId) {     \nString hql =    \"SELECT new (packagename).JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) \"\n        +\"FROM Controllers c, ZoneControllerMapping zm \"\n        +\"WHERE c.siteId = zm.controller.siteId  \";\n\nif(zoneName != \"\")\n    hql += \"  and zm.zone.name='\"+zoneName+\"' \";\n if (customerId!=null)\n    hql += \"  and zm.controller.customer.id='\"+customerId+\"' \";\nreturn super.readListByHql(hql);        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19417,"reputation":37980,"user_id":45525,"accept_rate":83,"display_name":"Synesso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641621375,"creation_date":1641621375,"answer_id":70629957,"question_id":39122437,"body_markdown":"This error also occurs when attempting to construct an inner class. The class must be declared in its own file.\r\n\r\ne.g. \r\n\r\n```\r\npackage a.b.c;\r\n\r\npublic class Foo {\r\n\r\n  public static final class Bar {\r\n      public final int x;\r\n      public Bar(int x) { this.x = x; }\r\n  }\r\n\r\n  public void baz() {\r\n      // some HQL involving `new a.b.c.Foo.Bar(x)`\r\n  }\r\n}\r\n```\r\n\r\nwill result in `QuerySyntaxException: Unable to locate class` at runtime. `Bar` must be defined as a standalone class before HQL can resolve it.","title":"QuerySyntaxException: Unable to locate class","body":"<p>This error also occurs when attempting to construct an inner class. The class must be declared in its own file.</p>\n<p>e.g.</p>\n<pre><code>package a.b.c;\n\npublic class Foo {\n\n  public static final class Bar {\n      public final int x;\n      public Bar(int x) { this.x = x; }\n  }\n\n  public void baz() {\n      // some HQL involving `new a.b.c.Foo.Bar(x)`\n  }\n}\n</code></pre>\n<p>will result in <code>QuerySyntaxException: Unable to locate class</code> at runtime. <code>Bar</code> must be defined as a standalone class before HQL can resolve it.</p>\n"}],"owner":{"account_id":8219436,"reputation":1499,"user_id":6184533,"accept_rate":71,"display_name":"Augustus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14858,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":39158366,"answer_count":2,"score":11,"last_activity_date":1641621375,"creation_date":1472039119,"question_id":39122437,"body_markdown":"I am using hql to generate an actual Java object of class JunctionManagementListDto. But I end up with the following exception on my console\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class [JunctionManagementListDto] [SELECT new JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) FROM com.traff.hibernate.model.Controllers c, com.traff.hibernate.model.ZoneControllerMapping zm WHERE c.siteId = zm.controller.siteId  ]\r\n\tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:54)\r\n\tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:47)\r\n\tat org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:79)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:255)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:105)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:168)\r\n\tat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:221)\r\n\tat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:199)\r\n\tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1735)\r\n\tat com.traff.hibernate.generic.GenericDAOImpl.readListByHql(GenericDAOImpl.java:107)\r\n\tat com.traff.hibernate.daoImpl.JnMgmtLogDaoImpl.getJunctionManagementList(JnMgmtLogDaoImpl.java:29)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tat com.sun.proxy.$Proxy175.getJunctionManagementList(Unknown Source)\r\n\tat com.traff.service.report.JunctionManagementReportService.prepareStatusList(JunctionManagementReportService.java:37)\r\n\tat com.traff.service.report.JunctionManagementReportService$$FastClassBySpringCGLIB$$472093e1.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)\r\n    ......\r\n\r\nMy hql query is written inside JnMgmtLogDaoImpl class with all necessary imports as\r\n\r\n    public List&lt;JunctionManagementListDto&gt; getJunctionManagementList(String zoneName, Integer customerId) {\t\t\r\n\t\tString hql = \t&quot;SELECT new JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) &quot;\r\n\t\t\t\t+&quot;FROM Controllers c, ZoneControllerMapping zm &quot;\r\n\t\t\t\t+&quot;WHERE c.siteId = zm.controller.siteId  &quot;;\r\n\t\t\t\t\t\t\r\n\t\tif(zoneName != &quot;&quot;)\r\n\t\t\thql += &quot;  and zm.zone.name=&#39;&quot;+zoneName+&quot;&#39; &quot;;\r\n\t\t if (customerId!=null)\r\n\t\t\thql += &quot;  and zm.controller.customer.id=&#39;&quot;+customerId+&quot;&#39; &quot;;\r\n\t\treturn super.readListByHql(hql);\t\t\r\n\t}\r\n\r\nand JunctionManagementListDto is declared as\r\n\r\npublic class JunctionManagementListDto {\r\n\t\r\n\tprivate String zoneName;\r\n\tprivate Integer siteId;\r\n\tprivate String name;\r\n\tprivate String ip;\r\n\tprivate Integer customerId;\r\n\tpublic String getZoneName() {\r\n\t\treturn zoneName;\r\n\t}\r\n\tpublic void setZoneName(String zoneName) {\r\n\t\tthis.zoneName = zoneName;\r\n\t}\r\n\tpublic Integer getSiteId() {\r\n\t\treturn siteId;\r\n\t}\r\n\tpublic void setSiteId(Integer siteId) {\r\n\t\tthis.siteId = siteId;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getIp() {\r\n\t\treturn ip;\r\n\t}\r\n\tpublic void setIp(String ip) {\r\n\t\tthis.ip = ip;\r\n\t}\r\n\tpublic Integer getCustomerName() {\r\n\t\treturn customerId;\r\n\t}\r\n\tpublic void setCustomerName(Integer customerId) {\r\n\t\tthis.customerId = customerId;\r\n\t}\r\n\t\r\n\tpublic JunctionManagementListDto(Integer siteId, String zoneName, String ip, Integer customerId, String junctionName) {\r\n\t\tsuper();\r\n\t\tthis.siteId = siteId;\r\n\t\tthis.customerId = customerId;\r\n\t\tthis.ip = ip;\r\n\t\tthis.zoneName = zoneName;\r\n\t\tname = junctionName;\r\n\t}\r\n\r\n\tpublic JunctionManagementListDto(){\r\n\t\t\r\n\t}\r\n    }\r\n\r\nWhat is causing this exception and how can I solve it?","title":"QuerySyntaxException: Unable to locate class","body":"<p>I am using hql to generate an actual Java object of class JunctionManagementListDto. But I end up with the following exception on my console</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate class [JunctionManagementListDto] [SELECT new JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) FROM com.traff.hibernate.model.Controllers c, com.traff.hibernate.model.ZoneControllerMapping zm WHERE c.siteId = zm.controller.siteId  ]\nat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:54)\nat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:47)\nat org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:79)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:255)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\nat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:105)\nat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80)\nat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:168)\nat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:221)\nat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:199)\nat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1735)\nat com.traff.hibernate.generic.GenericDAOImpl.readListByHql(GenericDAOImpl.java:107)\nat com.traff.hibernate.daoImpl.JnMgmtLogDaoImpl.getJunctionManagementList(JnMgmtLogDaoImpl.java:29)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\nat com.sun.proxy.$Proxy175.getJunctionManagementList(Unknown Source)\nat com.traff.service.report.JunctionManagementReportService.prepareStatusList(JunctionManagementReportService.java:37)\nat com.traff.service.report.JunctionManagementReportService$$FastClassBySpringCGLIB$$472093e1.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)\n......\n</code></pre>\n\n<p>My hql query is written inside JnMgmtLogDaoImpl class with all necessary imports as</p>\n\n<pre><code>public List&lt;JunctionManagementListDto&gt; getJunctionManagementList(String zoneName, Integer customerId) {     \n    String hql =    \"SELECT new JunctionManagementListDto(c.siteId, c.name, c.ip, c.customer.id, zm.zone.name) \"\n            +\"FROM Controllers c, ZoneControllerMapping zm \"\n            +\"WHERE c.siteId = zm.controller.siteId  \";\n\n    if(zoneName != \"\")\n        hql += \"  and zm.zone.name='\"+zoneName+\"' \";\n     if (customerId!=null)\n        hql += \"  and zm.controller.customer.id='\"+customerId+\"' \";\n    return super.readListByHql(hql);        \n}\n</code></pre>\n\n<p>and JunctionManagementListDto is declared as</p>\n\n<p>public class JunctionManagementListDto {</p>\n\n<pre><code>private String zoneName;\nprivate Integer siteId;\nprivate String name;\nprivate String ip;\nprivate Integer customerId;\npublic String getZoneName() {\n    return zoneName;\n}\npublic void setZoneName(String zoneName) {\n    this.zoneName = zoneName;\n}\npublic Integer getSiteId() {\n    return siteId;\n}\npublic void setSiteId(Integer siteId) {\n    this.siteId = siteId;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic String getIp() {\n    return ip;\n}\npublic void setIp(String ip) {\n    this.ip = ip;\n}\npublic Integer getCustomerName() {\n    return customerId;\n}\npublic void setCustomerName(Integer customerId) {\n    this.customerId = customerId;\n}\n\npublic JunctionManagementListDto(Integer siteId, String zoneName, String ip, Integer customerId, String junctionName) {\n    super();\n    this.siteId = siteId;\n    this.customerId = customerId;\n    this.ip = ip;\n    this.zoneName = zoneName;\n    name = junctionName;\n}\n\npublic JunctionManagementListDto(){\n\n}\n}\n</code></pre>\n\n<p>What is causing this exception and how can I solve it?</p>\n"},{"tags":["java","input","netbeans","printing","println"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640322224,"post_id":70469616,"comment_id":124569517,"body_markdown":"I can&#39;t get your issue, but, putting `System.out.flush();` after the `print` statement might help","body":"I can&#39;t get your issue, but, putting <code>System.out.flush();</code> after the <code>print</code> statement might help"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1640322623,"post_id":70469616,"comment_id":124569558,"body_markdown":"I can&#39;t reproduce your problem.  It works fine for me.","body":"I can&#39;t reproduce your problem.  It works fine for me."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1640326569,"post_id":70469616,"comment_id":124570122,"body_markdown":"[1] I am also unable to reproduce your problem. [2] Update your question (rather than posting a comment) to detail the version of Java you are using, and how you created your project (Project type, Maven vs. Ant. vs. Gradle, etc.) That will help those who attempt to reproduce your problem. [3] What happens if you run your application from the command line rather than running within NetBeans (using **java -jar &quot;{jar file}&quot;**)? Do you still get the problem? [4] Not relevant for your issue, but FYI it&#39;s a very strong convention that you provide package a for your Java application.","body":"[1] I am also unable to reproduce your problem. [2] Update your question (rather than posting a comment) to detail the version of Java you are using, and how you created your project (Project type, Maven vs. Ant. vs. Gradle, etc.) That will help those who attempt to reproduce your problem. [3] What happens if you run your application from the command line rather than running within NetBeans (using <b>java -jar &quot;{jar file}&quot;</b>)? Do you still get the problem? [4] Not relevant for your issue, but FYI it&#39;s a very strong convention that you provide package a for your Java application."},{"owner":{"account_id":23734092,"reputation":21,"user_id":17752972,"display_name":"Ryan"},"score":0,"creation_date":1640666116,"post_id":70469616,"comment_id":124627777,"body_markdown":"Thanks @MadProgrammer, but System.out.flush() isn&#39;t working.","body":"Thanks @MadProgrammer, but System.out.flush() isn&#39;t working."}],"answers":[{"tags":[],"owner":{"account_id":23866929,"reputation":1,"user_id":17869148,"display_name":"Xu Wenzhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641620825,"creation_date":1641620825,"answer_id":70629911,"question_id":70469616,"body_markdown":"I had the same issue when I was using &quot;Java with Maven&quot;. \r\nAnd then I use &quot;Java with Ant&quot;, instead of &quot;Java with Maven &quot;, when creating a project.\r\nit solved the problem.","title":"Java - Not displaying print statement before getting user input with scanner (NetBeans issue?)","body":"<p>I had the same issue when I was using &quot;Java with Maven&quot;.\nAnd then I use &quot;Java with Ant&quot;, instead of &quot;Java with Maven &quot;, when creating a project.\nit solved the problem.</p>\n"}],"owner":{"account_id":23734092,"reputation":21,"user_id":17752972,"display_name":"Ryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641620825,"creation_date":1640320882,"question_id":70469616,"body_markdown":"I&#39;m trying to do a very simple user input in NetBeans 12.6 where I ask a question and have the user respond to it. Everything works fine when I use System.out.println(&quot;QUESTION&quot;) to display the question, but the code does not behave properly when I switch to System.out.print(&quot;QUESTION&quot;). Full code below.\r\n\r\n    import java.util.Scanner;\r\n    public class SimpleInput {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your name: &quot;); \r\n            String userName = scan.nextLine();\r\n            System.out.println(&quot;Your name is &quot; + userName);\r\n        }\r\n    }\r\n\r\nExpected behaviour (and actual behaviour):\r\n\r\n    Enter your name: \r\n    Ryan\r\n    Your name is Ryan\r\n\r\nHOWEVER - when I switch to print instead of println, it waits for the user input BEFORE asking the question! Full code below.\r\n\r\n    import java.util.Scanner;\r\n    public class SimpleInput {\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Enter your name: &quot;); \r\n            String userName = scan.nextLine();\r\n            System.out.println(&quot;Your name is &quot; + userName);\r\n        }\r\n    }\r\n\r\nDesired behaviour:\r\n\r\n    Enter your name: Ryan\r\n    Your name is Ryan\r\n\r\nActual behaviour:\r\n\r\n    Ryan\r\n    Enter your name: Your name is Ryan\r\n\r\n\r\nI&#39;m supposed to be re-creating something for a university course in which the user input is gathered on the same line as the question, so simply using println instead of print isn&#39;t an option here. Based on other searches around SO, this might be an issue with NetBeans, rather than a problem in my code. However, this seems...crazy...that NetBeans would really not be able to correctly do something so simple, doesn&#39;t it?","title":"Java - Not displaying print statement before getting user input with scanner (NetBeans issue?)","body":"<p>I'm trying to do a very simple user input in NetBeans 12.6 where I ask a question and have the user respond to it. Everything works fine when I use System.out.println(&quot;QUESTION&quot;) to display the question, but the code does not behave properly when I switch to System.out.print(&quot;QUESTION&quot;). Full code below.</p>\n<pre><code>import java.util.Scanner;\npublic class SimpleInput {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter your name: &quot;); \n        String userName = scan.nextLine();\n        System.out.println(&quot;Your name is &quot; + userName);\n    }\n}\n</code></pre>\n<p>Expected behaviour (and actual behaviour):</p>\n<pre><code>Enter your name: \nRyan\nYour name is Ryan\n</code></pre>\n<p>HOWEVER - when I switch to print instead of println, it waits for the user input BEFORE asking the question! Full code below.</p>\n<pre><code>import java.util.Scanner;\npublic class SimpleInput {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.print(&quot;Enter your name: &quot;); \n        String userName = scan.nextLine();\n        System.out.println(&quot;Your name is &quot; + userName);\n    }\n}\n</code></pre>\n<p>Desired behaviour:</p>\n<pre><code>Enter your name: Ryan\nYour name is Ryan\n</code></pre>\n<p>Actual behaviour:</p>\n<pre><code>Ryan\nEnter your name: Your name is Ryan\n</code></pre>\n<p>I'm supposed to be re-creating something for a university course in which the user input is gathered on the same line as the question, so simply using println instead of print isn't an option here. Based on other searches around SO, this might be an issue with NetBeans, rather than a problem in my code. However, this seems...crazy...that NetBeans would really not be able to correctly do something so simple, doesn't it?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":1,"creation_date":1609351034,"post_id":65510690,"comment_id":115821712,"body_markdown":"https://stackoverflow.com/questions/2109476/how-to-handle-dataintegrityviolationexception-in-spring","body":"<a href=\"https://stackoverflow.com/questions/2109476/how-to-handle-dataintegrityviolationexception-in-spring\" title=\"how to handle dataintegrityviolationexception in spring\">stackoverflow.com/questions/2109476/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7861285,"reputation":181,"user_id":5941624,"display_name":"fatemeakbari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641620463,"creation_date":1641620463,"answer_id":70629889,"question_id":65510690,"body_markdown":"I guess you should search for the exception message, e.g\r\n\r\n```\r\n      try{\r\n            userRepository.save(user);\r\n        }\r\n        catch (DataIntegrityViolationException ex){\r\n\r\n            if(ex.getMessage().contains(&quot;unique_username&quot;)){\r\n                throw new DataIntegrityViolationException(&quot;The username: &quot;+user.getUsername()+&quot; is duplicated&quot;);\r\n            }\r\n            else if(ex.getMessage().contains(&quot;unique_email&quot;)){\r\n                throw new DataIntegrityViolationException(&quot;The email: &quot;+user.getEmail()+&quot; is duplicated&quot;);\r\n            }\r\n\r\n            else {\r\n                throw new DataIntegrityViolationException(ex.getMessage());\r\n            }\r\n\r\n        }\r\n```\r\n\r\nfor better searching the constraint you can specify constraint name e.g\r\n```\r\n@Entity\r\n@Table(name = &quot;user_tbl&quot;,\r\nuniqueConstraints = {@UniqueConstraint(columnNames =&quot;username&quot;, name = &quot;unique_username&quot;),\r\n               \r\n                    @UniqueConstraint(columnNames =&quot;email&quot;, name = &quot;unique_email&quot;)})\r\n\r\n\r\npublic class User {\r\n\r\n\tString username;\r\n\tString email;\r\n\t.\r\n\t.\r\n\t.\r\n\t\r\n}\r\n```","title":"How to get the name of the key while handling DataIntegrityViolationException?","body":"<p>I guess you should search for the exception message, e.g</p>\n<pre><code>      try{\n            userRepository.save(user);\n        }\n        catch (DataIntegrityViolationException ex){\n\n            if(ex.getMessage().contains(&quot;unique_username&quot;)){\n                throw new DataIntegrityViolationException(&quot;The username: &quot;+user.getUsername()+&quot; is duplicated&quot;);\n            }\n            else if(ex.getMessage().contains(&quot;unique_email&quot;)){\n                throw new DataIntegrityViolationException(&quot;The email: &quot;+user.getEmail()+&quot; is duplicated&quot;);\n            }\n\n            else {\n                throw new DataIntegrityViolationException(ex.getMessage());\n            }\n\n        }\n</code></pre>\n<p>for better searching the constraint you can specify constraint name e.g</p>\n<pre><code>@Entity\n@Table(name = &quot;user_tbl&quot;,\nuniqueConstraints = {@UniqueConstraint(columnNames =&quot;username&quot;, name = &quot;unique_username&quot;),\n               \n                    @UniqueConstraint(columnNames =&quot;email&quot;, name = &quot;unique_email&quot;)})\n\n\npublic class User {\n\n    String username;\n    String email;\n    .\n    .\n    .\n    \n}\n</code></pre>\n"}],"owner":{"account_id":15422598,"reputation":108,"user_id":11126255,"display_name":"Karan Talwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641620463,"creation_date":1609347562,"question_id":65510690,"body_markdown":"I&#39;m using `GenericExceptionHandling` on the application level\r\n```\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n\t\r\n\t// Handle the DataIntegrityViolationException\r\n\t@ExceptionHandler(DataIntegrityViolationException.class)\r\n\tpublic ResponseEntity&lt;?&gt; customDataIntegrityViolationException\r\n\t\t\t\t\t\t\t\t(DataIntegrityViolationException exception) {\r\n\t    String message = &quot;This {key} is already exist&quot;;\r\n\t    ErrorDetails errorDetals = new ErrorDetails(new Date(), message, exception.getCause().getMessage());\r\n\t    return new ResponseEntity&lt;Object&gt;(errorDetals, HttpStatus.UNPROCESSABLE_ENTITY);\r\n\t}\r\n}\r\n```\r\nI want to get the name of the key that&#39;s causing the error. I.e. {key}. I googled but didn&#39;t get any answer that solves my problem. If anyone has done this kind of work please suggest a way.","title":"How to get the name of the key while handling DataIntegrityViolationException?","body":"<p>I'm using <code>GenericExceptionHandling</code> on the application level</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n    \n    // Handle the DataIntegrityViolationException\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity&lt;?&gt; customDataIntegrityViolationException\n                                (DataIntegrityViolationException exception) {\n        String message = &quot;This {key} is already exist&quot;;\n        ErrorDetails errorDetals = new ErrorDetails(new Date(), message, exception.getCause().getMessage());\n        return new ResponseEntity&lt;Object&gt;(errorDetals, HttpStatus.UNPROCESSABLE_ENTITY);\n    }\n}\n</code></pre>\n<p>I want to get the name of the key that's causing the error. I.e. {key}. I googled but didn't get any answer that solves my problem. If anyone has done this kind of work please suggest a way.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641620016,"creation_date":1641620016,"answer_id":70629868,"question_id":70628221,"body_markdown":"One possible solution would be to have a nested `flatmap`, like this:\r\n```java\r\nFlux&lt;String&gt; flux = Flux.just(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\r\nflux.flatMap(item -&gt; flux.flatMap(item2 -&gt; \r\n    doSomethingAsync(item, item2).doOnNext(e -&gt; log.info(&quot;doSomethingAsync({}, {});&quot;, item, item2))))\r\n```\r\n\r\nPrints:\r\n```\r\n doSomethingAsync(a, a);\r\n doSomethingAsync(a, b);\r\n doSomethingAsync(a, c);\r\n doSomethingAsync(b, a);\r\n doSomethingAsync(b, b);\r\n doSomethingAsync(b, c);\r\n doSomethingAsync(c, a);\r\n doSomethingAsync(c, b);\r\n doSomethingAsync(c, c);\r\n```","title":"Iterate over items from a Recator Flux in another Reactor Flux","body":"<p>One possible solution would be to have a nested <code>flatmap</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;String&gt; flux = Flux.just(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n\nflux.flatMap(item -&gt; flux.flatMap(item2 -&gt; \n    doSomethingAsync(item, item2).doOnNext(e -&gt; log.info(&quot;doSomethingAsync({}, {});&quot;, item, item2))))\n</code></pre>\n<p>Prints:</p>\n<pre><code> doSomethingAsync(a, a);\n doSomethingAsync(a, b);\n doSomethingAsync(a, c);\n doSomethingAsync(b, a);\n doSomethingAsync(b, b);\n doSomethingAsync(b, c);\n doSomethingAsync(c, a);\n doSomethingAsync(c, b);\n doSomethingAsync(c, c);\n</code></pre>\n"}],"owner":{"account_id":15827664,"reputation":77,"user_id":11420043,"display_name":"Lana James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70629868,"answer_count":1,"score":0,"last_activity_date":1641620016,"creation_date":1641597624,"question_id":70628221,"body_markdown":"I have my Flux&lt;Object&gt; flux1 and when I iterate over it, I also want to start this Flux again inside of it so I can access all of my items from flux1 while iterating over the items from flux1. Basically doing this but with Flux:\r\n\r\n    for(item in flux1){\r\n      for(item2 in flux1){\r\n      //xxxxx\r\n          }\r\n        }\r\n\r\nThank you\r\n","title":"Iterate over items from a Recator Flux in another Reactor Flux","body":"<p>I have my Flux flux1 and when I iterate over it, I also want to start this Flux again inside of it so I can access all of my items from flux1 while iterating over the items from flux1. Basically doing this but with Flux:</p>\n<pre><code>for(item in flux1){\n  for(item2 in flux1){\n  //xxxxx\n      }\n    }\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1574755354,"post_id":59046181,"comment_id":104333550,"body_markdown":"&quot;// Correct&quot; but unnecessary: the loop already handles the empty string case, and `s` is not null by that point in the method.","body":"&quot;// Correct&quot; but unnecessary: the loop already handles the empty string case, and <code>s</code> is not null by that point in the method."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1574885188,"post_id":59046181,"comment_id":104392551,"body_markdown":"You&#39;re using the bitwise and operator `&amp;` in your conditionals, where you probably should be using the logical and operator, `&amp;&amp;`. In this particular case it doesn&#39;t really matter, but there are cases when it will. In addition, using the `&amp;&amp;` allows short-circuiting of evaluation. In the statement `if (A &amp;&amp; B)` if `A` evaluates to false, then there&#39;s no need to evaluate `B`. But `if (A &amp; B)` will require full evaluation of both `A` and `B`.","body":"You&#39;re using the bitwise and operator <code>&amp;</code> in your conditionals, where you probably should be using the logical and operator, <code>&amp;&amp;</code>. In this particular case it doesn&#39;t really matter, but there are cases when it will. In addition, using the <code>&amp;&amp;</code> allows short-circuiting of evaluation. In the statement <code>if (A &amp;&amp; B)</code> if <code>A</code> evaluates to false, then there&#39;s no need to evaluate <code>B</code>. But <code>if (A &amp; B)</code> will require full evaluation of both <code>A</code> and <code>B</code>."}],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574755365,"creation_date":1574755365,"answer_id":59046248,"question_id":59046181,"body_markdown":"The problem is that you are not adding the closure brackets to the stack, so your check of the stack size at the end returns false results.  \r\nYou could change your ifs to already return false when a open bracket is missing i.e.  \r\n\r\n    else if (s.charAt(i) == &#39;}&#39;) {\r\n        if(c.peek() == &#39;{&#39;){\r\n            c.pop();\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\nThe others would need to be changed similarly.","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>The problem is that you are not adding the closure brackets to the stack, so your check of the stack size at the end returns false results.<br>\nYou could change your ifs to already return false when a open bracket is missing i.e.  </p>\n\n<pre><code>else if (s.charAt(i) == '}') {\n    if(c.peek() == '{'){\n        c.pop();\n    }\n    else{\n        return false;\n    }\n}\n</code></pre>\n\n<p>The others would need to be changed similarly.</p>\n"},{"tags":[],"owner":{"account_id":10393942,"reputation":61,"user_id":7664254,"display_name":"Van Quyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1574763961,"creation_date":1574763961,"answer_id":59048755,"question_id":59046181,"body_markdown":"I think you should check stack&#39;s size before process these conditions.\r\n\r\n    else if (s.charAt(i) == &#39;}&#39; &amp; c.peek() == &#39;{&#39;) {\r\n            c.pop();\r\n        } else if (s.charAt(i) == &#39;]&#39; &amp; c.peek() == &#39;[&#39;) {\r\n            c.pop();\r\n        } else if (s.charAt(i) == &#39;)&#39; &amp; c.peek() == &#39;(&#39;) {\r\n            c.pop();\r\n        } ","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>I think you should check stack's size before process these conditions.</p>\n\n<pre><code>else if (s.charAt(i) == '}' &amp; c.peek() == '{') {\n        c.pop();\n    } else if (s.charAt(i) == ']' &amp; c.peek() == '[') {\n        c.pop();\n    } else if (s.charAt(i) == ')' &amp; c.peek() == '(') {\n        c.pop();\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6841179,"reputation":3,"user_id":5261513,"display_name":"Ankit Nimje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574765953,"creation_date":1574765953,"answer_id":59049425,"question_id":59046181,"body_markdown":"Thank you all for your suggestions. \r\nI figured out that I should check whether the stack is empty or not before using peek().\r\n\r\n    else if (s.charAt(i) == &#39;}&#39;) {\r\n                   if (!c.isEmpty() &amp;&amp; c.peek() == &#39;{&#39;) {\r\n                       c.pop();\r\n            \t   }\r\n            \t   else {\r\n            \t       return false;\r\n                   }\r\n","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>Thank you all for your suggestions. \nI figured out that I should check whether the stack is empty or not before using peek().</p>\n\n<pre><code>else if (s.charAt(i) == '}') {\n               if (!c.isEmpty() &amp;&amp; c.peek() == '{') {\n                   c.pop();\n               }\n               else {\n                   return false;\n               }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6311180,"reputation":1121,"user_id":4902660,"accept_rate":100,"display_name":"Tal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631276501,"creation_date":1631276501,"answer_id":69132127,"question_id":59046181,"body_markdown":"In case someone is looking for the javascript solution.\r\n\r\n```\r\nvar isValid = function (s) {\r\n    // Stack to store left symbols\r\n    const leftSymbols = [];\r\n    // Loop for each character of the string\r\n    for (let i = 0; i &lt; s.length; i++) {\r\n        // If left symbol is encountered\r\n        if (s[i] === &#39;(&#39; || s[i] === &#39;{&#39; || s[i] === &#39;[&#39;) {\r\n            leftSymbols.push(s[i]);\r\n        }\r\n        // If right symbol is encountered\r\n        else if (s[i] === &#39;)&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;(&#39;) {\r\n            leftSymbols.pop();\r\n        } else if (s[i] === &#39;}&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;{&#39;) {\r\n            leftSymbols.pop();\r\n        } else if (s[i] === &#39;]&#39; &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === &#39;[&#39;) {\r\n            leftSymbols.pop();\r\n        }\r\n        // If none of the valid symbols is encountered\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    return leftSymbols.length === 0;\r\n};\r\n```","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>In case someone is looking for the javascript solution.</p>\n<pre><code>var isValid = function (s) {\n    // Stack to store left symbols\n    const leftSymbols = [];\n    // Loop for each character of the string\n    for (let i = 0; i &lt; s.length; i++) {\n        // If left symbol is encountered\n        if (s[i] === '(' || s[i] === '{' || s[i] === '[') {\n            leftSymbols.push(s[i]);\n        }\n        // If right symbol is encountered\n        else if (s[i] === ')' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '(') {\n            leftSymbols.pop();\n        } else if (s[i] === '}' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '{') {\n            leftSymbols.pop();\n        } else if (s[i] === ']' &amp;&amp; leftSymbols.length !== 0 &amp;&amp; leftSymbols[leftSymbols.length - 1] === '[') {\n            leftSymbols.pop();\n        }\n        // If none of the valid symbols is encountered\n        else {\n            return false;\n        }\n    }\n    return leftSymbols.length === 0;\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19301640,"reputation":572,"user_id":14109394,"display_name":"Niket Tongare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634370945,"creation_date":1634370945,"answer_id":69593742,"question_id":59046181,"body_markdown":"Try this once-&gt; \r\n\r\n    var isValid = function (s = &quot;{[]}&quot;) {\r\n      const leftSymbols = [];\r\n      for (let i = 0; i &lt; s.length; i++) {\r\n        if (s[i] === &quot;(&quot; || s[i] === &quot;{&quot; || s[i] === &quot;[&quot;) {\r\n          leftSymbols.push(s[i]);\r\n        } else if (\r\n          s[i] === &quot;)&quot; &amp;&amp;\r\n          leftSymbols.length !== 0 &amp;&amp;\r\n          leftSymbols[leftSymbols.length - 1] === &quot;(&quot;\r\n        ) {\r\n          leftSymbols.pop();\r\n        } else if (\r\n          s[i] === &quot;}&quot; &amp;&amp;\r\n          leftSymbols.length !== 0 &amp;&amp;\r\n          leftSymbols[leftSymbols.length - 1] === &quot;{&quot;\r\n        ) {\r\n          leftSymbols.pop();\r\n        } else if (\r\n          s[i] === &quot;]&quot; &amp;&amp;\r\n          leftSymbols.length !== 0 &amp;&amp;\r\n          leftSymbols[leftSymbols.length - 1] === &quot;[&quot;\r\n        ) {\r\n          leftSymbols.pop();\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n      return leftSymbols.length === 0;\r\n    };\r\n    \r\n    console.log(isValid());","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>Try this once-&gt;</p>\n<pre><code>var isValid = function (s = &quot;{[]}&quot;) {\n  const leftSymbols = [];\n  for (let i = 0; i &lt; s.length; i++) {\n    if (s[i] === &quot;(&quot; || s[i] === &quot;{&quot; || s[i] === &quot;[&quot;) {\n      leftSymbols.push(s[i]);\n    } else if (\n      s[i] === &quot;)&quot; &amp;&amp;\n      leftSymbols.length !== 0 &amp;&amp;\n      leftSymbols[leftSymbols.length - 1] === &quot;(&quot;\n    ) {\n      leftSymbols.pop();\n    } else if (\n      s[i] === &quot;}&quot; &amp;&amp;\n      leftSymbols.length !== 0 &amp;&amp;\n      leftSymbols[leftSymbols.length - 1] === &quot;{&quot;\n    ) {\n      leftSymbols.pop();\n    } else if (\n      s[i] === &quot;]&quot; &amp;&amp;\n      leftSymbols.length !== 0 &amp;&amp;\n      leftSymbols[leftSymbols.length - 1] === &quot;[&quot;\n    ) {\n      leftSymbols.pop();\n    } else {\n      return false;\n    }\n  }\n  return leftSymbols.length === 0;\n};\n\nconsole.log(isValid());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22123285,"reputation":11,"user_id":16376119,"display_name":"Nawaz Habib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641618948,"creation_date":1641618948,"answer_id":70629786,"question_id":59046181,"body_markdown":"In case someone is looking for the java solution:\r\n\r\n     public boolean isValid(String s) {\r\n\r\n            Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n    \r\n            for(int i=0; i&lt;s.length(); i++){\r\n                char strChar = s.charAt(i);\r\n                if(stack.empty()){\r\n                    stack.push(strChar);\r\n                } else{\r\n                    char stkChar = (char) stack.peek();\r\n                    if(stkChar == &#39;(&#39; &amp;&amp; strChar ==&#39;)&#39; ){\r\n                        stack.pop();\r\n                    } else if(stkChar == &#39;{&#39; &amp;&amp; strChar==&#39;}&#39;){\r\n                        stack.pop();\r\n                    } else if(stkChar == &#39;[&#39; &amp;&amp; strChar == &#39;]&#39;){\r\n                        stack.pop();\r\n                    } else{\r\n                        stack.push(strChar);\r\n                    }\r\n                }\r\n            }\r\n           return (stack.empty() ? &quot;true&quot; : &quot;false&quot;);\r\n        }\r\n\r\n","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>In case someone is looking for the java solution:</p>\n<pre><code> public boolean isValid(String s) {\n\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n\n        for(int i=0; i&lt;s.length(); i++){\n            char strChar = s.charAt(i);\n            if(stack.empty()){\n                stack.push(strChar);\n            } else{\n                char stkChar = (char) stack.peek();\n                if(stkChar == '(' &amp;&amp; strChar ==')' ){\n                    stack.pop();\n                } else if(stkChar == '{' &amp;&amp; strChar=='}'){\n                    stack.pop();\n                } else if(stkChar == '[' &amp;&amp; strChar == ']'){\n                    stack.pop();\n                } else{\n                    stack.push(strChar);\n                }\n            }\n        }\n       return (stack.empty() ? &quot;true&quot; : &quot;false&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":6841179,"reputation":3,"user_id":5261513,"display_name":"Ankit Nimje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59048755,"answer_count":6,"score":0,"last_activity_date":1641618948,"creation_date":1574755086,"question_id":59046181,"body_markdown":"I am trying to solve this leetcode problem:\r\nGiven a string containing just the characters &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39; and &#39;]&#39;, determine if the input string is valid.\r\n\r\nAn input string is valid if:\r\n\r\nOpen brackets must be closed by the same type of brackets.\r\nOpen brackets must be closed in the correct order.\r\nNote that an empty string is also considered valid.\r\n\r\nI think I am almost correct and have been working on this problem for a long time but couldn&#39;t get the correct output especially a case where input is &quot;())&quot;.\r\n\r\n\r\nclass Solution {\r\n\r\n    public boolean isValid(String s) {\r\n        \r\n        Stack&lt;Character&gt; c = new Stack&lt;&gt;();\r\n        int n = s.length();\r\n        boolean bool = false;\r\n        \r\n        if (s.isEmpty() | s == null) {   // Correct\r\n            return true;\r\n        } \r\n            \r\n        for (int i=0 ; i&lt;n ; i++) {\r\n            if (s.charAt(i) == &#39;{&#39;) {\r\n                c.push(&#39;{&#39;);\r\n            } else if (s.charAt(i) == &#39;[&#39;) {\r\n                c.push(&#39;[&#39;);\r\n            } else if (s.charAt(i) == &#39;(&#39;) {\r\n                c.push(&#39;(&#39;);\r\n\r\n            } else if (s.charAt(i) == &#39;}&#39; &amp; c.peek() == &#39;{&#39;) {\r\n                c.pop();\r\n            } else if (s.charAt(i) == &#39;]&#39; &amp; c.peek() == &#39;[&#39;) {\r\n                c.pop();\r\n            } else if (s.charAt(i) == &#39;)&#39; &amp; c.peek() == &#39;(&#39;) {\r\n                c.pop();\r\n            } else {\r\n                break;\r\n            }\r\n        }  \r\n        if (c.isEmpty()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}","title":"Leetcode Proble - 20. Valid Parentheses","body":"<p>I am trying to solve this leetcode problem:\nGiven a string containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.</p>\n\n<p>An input string is valid if:</p>\n\n<p>Open brackets must be closed by the same type of brackets.\nOpen brackets must be closed in the correct order.\nNote that an empty string is also considered valid.</p>\n\n<p>I think I am almost correct and have been working on this problem for a long time but couldn't get the correct output especially a case where input is \"())\".</p>\n\n<p>class Solution {</p>\n\n<pre><code>public boolean isValid(String s) {\n\n    Stack&lt;Character&gt; c = new Stack&lt;&gt;();\n    int n = s.length();\n    boolean bool = false;\n\n    if (s.isEmpty() | s == null) {   // Correct\n        return true;\n    } \n\n    for (int i=0 ; i&lt;n ; i++) {\n        if (s.charAt(i) == '{') {\n            c.push('{');\n        } else if (s.charAt(i) == '[') {\n            c.push('[');\n        } else if (s.charAt(i) == '(') {\n            c.push('(');\n\n        } else if (s.charAt(i) == '}' &amp; c.peek() == '{') {\n            c.pop();\n        } else if (s.charAt(i) == ']' &amp; c.peek() == '[') {\n            c.pop();\n        } else if (s.charAt(i) == ')' &amp; c.peek() == '(') {\n            c.pop();\n        } else {\n            break;\n        }\n    }  \n    if (c.isEmpty()) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","swing","user-interface","fade","adventure"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641541177,"post_id":70617866,"comment_id":124835208,"body_markdown":"The foreground (text) color of a label can be set to a translucent color. Try cycling that down to transparent, changing the text then bringing it back to fully opaque. If that does not work for you, post a [mre] of the attempt.","body":"The foreground (text) color of a label can be set to a translucent color. Try cycling that down to transparent, changing the text then bringing it back to fully opaque. If that does not work for you, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the attempt."},{"owner":{"account_id":23767436,"reputation":31,"user_id":17782010,"display_name":"Benjamin Keninger"},"score":0,"creation_date":1641543141,"post_id":70617866,"comment_id":124835758,"body_markdown":"My apologies, my pictures didn&#39;t reveal the whole screen but just the text area, as they were some images I already had on hand. The whole screen consists of more than just a textarea so im not sure if this would work","body":"My apologies, my pictures didn&#39;t reveal the whole screen but just the text area, as they were some images I already had on hand. The whole screen consists of more than just a textarea so im not sure if this would work"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641543782,"post_id":70617866,"comment_id":124835949,"body_markdown":"*&quot;my pictures didn&#39;t reveal the whole screen&quot;* Post a [mre]. Hotlink to images as might be found in [this answer](https://stackoverflow.com/a/19209651/418556).","body":"<i>&quot;my pictures didn&#39;t reveal the whole screen&quot;</i> Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Hotlink to images as might be found in <a href=\"https://stackoverflow.com/a/19209651/418556\">this answer</a>."},{"owner":{"account_id":23767436,"reputation":31,"user_id":17782010,"display_name":"Benjamin Keninger"},"score":0,"creation_date":1641547405,"post_id":70617866,"comment_id":124837182,"body_markdown":"Sorry, I&#39;m still a beginner on this site. I have posted a minimal reproducible example that demonstrates the fade-out method semi-working and the fade-in not working at all.","body":"Sorry, I&#39;m still a beginner on this site. I have posted a minimal reproducible example that demonstrates the fade-out method semi-working and the fade-in not working at all."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641565714,"creation_date":1641565351,"answer_id":70622613,"question_id":70617866,"body_markdown":"I would try these things:\r\n\r\n* Use the GlassPane of the top-level window and make a section of it darker where you want to cover things up, using a Swing Timer.\r\n* Use a CardLayout to swap the underlying components, and make the swap when the covering JPanel is darkest.\r\n* Then undarken the covering panel after the swap. \r\n\r\nFor example (to write more code explanation later):\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.Point;\r\nimport java.awt.Window;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Test2 extends JPanel {\r\n\tpublic static final String PANEL_1 = &quot;panel 1&quot;;\r\n\tpublic static final String PANEL_2 = &quot;panel 2&quot;;\r\n\tprivate CardLayout cardLayout = new CardLayout();\r\n\tprivate JPanel cardPanel = new JPanel(cardLayout);\r\n\tprivate JPanel panel1 = new JPanel();\r\n\tprivate JPanel panel2 = new JPanel();\r\n\tprivate Action fadeAction = new FadeAction(cardPanel);\r\n\t\r\n\tpublic Test2() {\r\n\t\tJLabel label = new JLabel(&quot;Panel 1&quot;);\r\n\t\tlabel.setFont(label.getFont().deriveFont(Font.BOLD, 100f));\r\n\t\tpanel1.setLayout(new GridBagLayout());\r\n\t\tint gap = 40;\r\n\t\tpanel1.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\t\tpanel1.add(label);\r\n\t\tpanel1.setBackground(Color.PINK);\r\n\t\t\r\n\t\tlabel = new JLabel(&quot;Panel 2&quot;);\r\n\t\tlabel.setFont(label.getFont().deriveFont(Font.BOLD, 100f));\r\n\t\tpanel2.setLayout(new GridBagLayout());\r\n\t\tpanel2.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n\t\tpanel2.add(label);\r\n\t\tpanel2.setBackground(new Color(131, 238, 255));\r\n\t\t\r\n\t\t\r\n\t\tcardPanel.add(panel1, PANEL_1);\r\n\t\tcardPanel.add(panel2, PANEL_2);\r\n\t\t\r\n\t\tJButton startFadeBtn = new JButton(fadeAction);\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\tbuttonPanel.add(startFadeBtn);\r\n\t\t\r\n\t\tsetLayout(new BorderLayout(5, 5));\r\n\t\tadd(cardPanel, BorderLayout.CENTER);\r\n\t\tadd(buttonPanel, BorderLayout.PAGE_END);\r\n\t}\r\n\t\r\n\tprivate static class FadeAction extends AbstractAction {\r\n\t\tprivate static final int FADE_DELAY = 20;\r\n\t\tprivate static final int UNFADE_VALUE = 255;\r\n\t\tprivate JPanel cardPanel;\r\n\t\tprivate JComponent glassPane;\r\n\t\tprivate JPanel coverPanel = new JPanel();\r\n\t\tprivate Timer fadeTimer;\r\n\t\tprivate int counter = 0;\r\n\t\tprivate boolean fade = true;\r\n\r\n\t\tpublic FadeAction(JPanel cardPanel) {\r\n\t\t\tsuper(&quot;Start Fade&quot;);\r\n\t\t\tputValue(MNEMONIC_KEY, KeyEvent.VK_S);\r\n\t\t\tthis.cardPanel = cardPanel;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tcounter = 0;\r\n\t\t\tfade = true;\r\n\t\t\tsetEnabled(false);\r\n\t\t\tCardLayout cl = (CardLayout) cardPanel.getLayout();\r\n\t\t\tcl.show(cardPanel, PANEL_1);\r\n\t\t\tWindow topLevelWindow = SwingUtilities.getWindowAncestor(cardPanel);\r\n\t\t\tglassPane = (JComponent) ((RootPaneContainer) topLevelWindow).getRootPane().getGlassPane();\r\n\t\t\tglassPane.setVisible(true);\r\n\t\t\tglassPane.setLayout(null);\r\n\t\t\tcoverPanel.setSize(cardPanel.getSize());\r\n\t\t\tint x = cardPanel.getLocationOnScreen().x - glassPane.getLocationOnScreen().x;\r\n\t\t\tint y = cardPanel.getLocationOnScreen().y - glassPane.getLocationOnScreen().y;\r\n\t\t\tPoint coverPanelPoint = new Point(x, y);\r\n\t\t\tcoverPanel.setLocation(coverPanelPoint);\r\n\t\t\tglassPane.add(coverPanel);\r\n\t\t\tfadeTimer = new Timer(FADE_DELAY, e2 -&gt; fadeTimerActionPerformed(e2));\r\n\t\t\tfadeTimer.start();\r\n\t\t}\r\n\t\t\r\n\t\tprivate void fadeTimerActionPerformed(ActionEvent e) {\r\n\t\t\tcoverPanel.setBackground(new Color(0, 0, 0, counter));\r\n\t\t\tglassPane.repaint();\r\n\t\t\tif (fade) {\r\n\t\t\t\tcounter++;\r\n\t\t\t} else if (counter &gt; 0) {\r\n\t\t\t\tcounter--;\r\n\t\t\t} else {\r\n\t\t\t\tglassPane.remove(coverPanel);\r\n\t\t\t\tglassPane.setVisible(false);\r\n\t\t\t\tsetEnabled(true);\r\n\t\t\t\t((Timer) e.getSource()).stop();\r\n\t\t\t}\r\n\t\t\tif (counter &gt;= UNFADE_VALUE) {\r\n\t\t\t\tfade = false;\r\n\t\t\t\tCardLayout cl = (CardLayout) cardPanel.getLayout();\r\n\t\t\t\tcl.show(cardPanel, PANEL_2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tJFrame frame = new JFrame(&quot;Test&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(new Test2());\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n}\r\n```","title":"Java swing Fade in/out Effect as a UI transition buffer?","body":"<p>I would try these things:</p>\n<ul>\n<li>Use the GlassPane of the top-level window and make a section of it darker where you want to cover things up, using a Swing Timer.</li>\n<li>Use a CardLayout to swap the underlying components, and make the swap when the covering JPanel is darkest.</li>\n<li>Then undarken the covering panel after the swap.</li>\n</ul>\n<p>For example (to write more code explanation later):</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.*;\n\npublic class Test2 extends JPanel {\n    public static final String PANEL_1 = &quot;panel 1&quot;;\n    public static final String PANEL_2 = &quot;panel 2&quot;;\n    private CardLayout cardLayout = new CardLayout();\n    private JPanel cardPanel = new JPanel(cardLayout);\n    private JPanel panel1 = new JPanel();\n    private JPanel panel2 = new JPanel();\n    private Action fadeAction = new FadeAction(cardPanel);\n    \n    public Test2() {\n        JLabel label = new JLabel(&quot;Panel 1&quot;);\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 100f));\n        panel1.setLayout(new GridBagLayout());\n        int gap = 40;\n        panel1.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n        panel1.add(label);\n        panel1.setBackground(Color.PINK);\n        \n        label = new JLabel(&quot;Panel 2&quot;);\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 100f));\n        panel2.setLayout(new GridBagLayout());\n        panel2.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n        panel2.add(label);\n        panel2.setBackground(new Color(131, 238, 255));\n        \n        \n        cardPanel.add(panel1, PANEL_1);\n        cardPanel.add(panel2, PANEL_2);\n        \n        JButton startFadeBtn = new JButton(fadeAction);\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.add(startFadeBtn);\n        \n        setLayout(new BorderLayout(5, 5));\n        add(cardPanel, BorderLayout.CENTER);\n        add(buttonPanel, BorderLayout.PAGE_END);\n    }\n    \n    private static class FadeAction extends AbstractAction {\n        private static final int FADE_DELAY = 20;\n        private static final int UNFADE_VALUE = 255;\n        private JPanel cardPanel;\n        private JComponent glassPane;\n        private JPanel coverPanel = new JPanel();\n        private Timer fadeTimer;\n        private int counter = 0;\n        private boolean fade = true;\n\n        public FadeAction(JPanel cardPanel) {\n            super(&quot;Start Fade&quot;);\n            putValue(MNEMONIC_KEY, KeyEvent.VK_S);\n            this.cardPanel = cardPanel;\n        }\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            counter = 0;\n            fade = true;\n            setEnabled(false);\n            CardLayout cl = (CardLayout) cardPanel.getLayout();\n            cl.show(cardPanel, PANEL_1);\n            Window topLevelWindow = SwingUtilities.getWindowAncestor(cardPanel);\n            glassPane = (JComponent) ((RootPaneContainer) topLevelWindow).getRootPane().getGlassPane();\n            glassPane.setVisible(true);\n            glassPane.setLayout(null);\n            coverPanel.setSize(cardPanel.getSize());\n            int x = cardPanel.getLocationOnScreen().x - glassPane.getLocationOnScreen().x;\n            int y = cardPanel.getLocationOnScreen().y - glassPane.getLocationOnScreen().y;\n            Point coverPanelPoint = new Point(x, y);\n            coverPanel.setLocation(coverPanelPoint);\n            glassPane.add(coverPanel);\n            fadeTimer = new Timer(FADE_DELAY, e2 -&gt; fadeTimerActionPerformed(e2));\n            fadeTimer.start();\n        }\n        \n        private void fadeTimerActionPerformed(ActionEvent e) {\n            coverPanel.setBackground(new Color(0, 0, 0, counter));\n            glassPane.repaint();\n            if (fade) {\n                counter++;\n            } else if (counter &gt; 0) {\n                counter--;\n            } else {\n                glassPane.remove(coverPanel);\n                glassPane.setVisible(false);\n                setEnabled(true);\n                ((Timer) e.getSource()).stop();\n            }\n            if (counter &gt;= UNFADE_VALUE) {\n                fade = false;\n                CardLayout cl = (CardLayout) cardPanel.getLayout();\n                cl.show(cardPanel, PANEL_2);\n            }\n        }\n    }\n    \n    public static void main(String[] args) {        \n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;Test&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(new Test2());\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641618102,"creation_date":1641584085,"answer_id":70626298,"question_id":70617866,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) sections.\r\n\r\nThis is Hovercraft Full Of Eels&#39; answer.  All I did was clean up the GUI creation and demonstrate how this would work with more than two `JPanels`.\r\n\r\nI created five `JPanels` and displayed them in order with the fade-out/fade-in effect. \r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.CardLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.RootPaneContainer;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class FadeEffectsTesting {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \t\t\tJFrame frame = new JFrame(&quot;Fade Effects Testing&quot;);\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\t\tframe.add(new FadeEffectsTesting().getMainPanel());\r\n    \r\n    \t\t\tframe.pack();\r\n    \t\t\tframe.setLocationByPlatform(true);\r\n    \t\t\tframe.setVisible(true);\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static final String[] PANEL_SEQUENCE = { &quot;Panel 1&quot;, &quot;Panel 2&quot;, &quot;Panel 3&quot;, &quot;Panel 4&quot;,\r\n    \t\t\t&quot;Panel 5&quot; };\r\n    \t\r\n    \tprivate int sequence = 0;\r\n    \r\n    \tprivate CardLayout cardLayout;\r\n    \t\r\n    \tprivate FadeAction action;\r\n    \r\n    \tprivate JPanel cardPanel, mainPanel;\r\n    \r\n    \tpublic FadeEffectsTesting() {\r\n    \t\tthis.mainPanel = new JPanel(new BorderLayout(5, 5));\r\n    \t\tthis.cardPanel = createCardPanel();\r\n    \t\tthis.action = new FadeAction(cardPanel);\r\n    \r\n    \t\tmainPanel.add(cardPanel, BorderLayout.CENTER);\r\n    \t\tmainPanel.add(createButtonPanel(), BorderLayout.PAGE_END);\r\n    \t}\r\n    \r\n    \tprivate JPanel createCardPanel() {\r\n    \t\tcardLayout = new CardLayout();\r\n    \t\tJPanel panel = new JPanel(cardLayout);\r\n    \r\n    \t\tpanel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[0]), \r\n    \t\t\t\tPANEL_SEQUENCE[0]);\r\n    \t\tpanel.add(createTextPanel(new Color(131, 238, 255), \r\n    \t\t\t\tPANEL_SEQUENCE[1]), PANEL_SEQUENCE[1]);\r\n    \t\tpanel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[2]), \r\n    \t\t\t\tPANEL_SEQUENCE[2]);\r\n    \t\tpanel.add(createTextPanel(new Color(131, 238, 255), \r\n    \t\t\t\tPANEL_SEQUENCE[3]), PANEL_SEQUENCE[3]);\r\n    \t\tpanel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[4]), \r\n    \t\t\t\tPANEL_SEQUENCE[4]);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createTextPanel(Color color, String text) {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBackground(color);\r\n    \t\tint gap = 40;\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n    \r\n    \t\tJLabel label = new JLabel(text);\r\n    \t\tlabel.setFont(label.getFont().deriveFont(Font.BOLD, 72f));\r\n    \t\tpanel.add(label);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\t\r\n    \t\tsetFadeAction();\r\n    \t\tJButton startFadeBtn = new JButton(action);\r\n    \t\tpanel.add(startFadeBtn);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic void setFadeAction() {\r\n    \t\taction.setFromPanel(PANEL_SEQUENCE[sequence]);\r\n    \t\taction.setToPanel(PANEL_SEQUENCE[sequence + 1]);\r\n    \t}\r\n    \r\n    \tpublic JPanel getMainPanel() {\r\n    \t\treturn mainPanel;\r\n    \t}\r\n    \r\n    \tpublic class FadeAction extends AbstractAction {\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate static final int FADE_DELAY = 20;\r\n    \t\tprivate static final int UNFADE_VALUE = 255;\r\n    \r\n    \t\tprivate JPanel cardPanel;\r\n    \t\tprivate JComponent glassPane;\r\n    \t\tprivate JPanel coverPanel;\r\n    \t\tprivate Timer fadeTimer;\r\n    \t\tprivate int alphaValue;\r\n    \t\tprivate boolean fadeOut;\r\n    \t\tprivate String fromPanel, toPanel;\r\n    \r\n    \t\tpublic FadeAction(JPanel cardPanel) {\r\n    \t\t\tsuper(&quot;Start Fade&quot;);\r\n    \t\t\tthis.putValue(MNEMONIC_KEY, KeyEvent.VK_S);\r\n    \t\t\tthis.cardPanel = cardPanel;\r\n    \t\t\tthis.alphaValue = 0;\r\n    \t\t\tthis.fadeOut = true;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setFromPanel(String fromPanel) {\r\n    \t\t\tthis.fromPanel = fromPanel;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setToPanel(String toPanel) {\r\n    \t\t\tthis.toPanel = toPanel;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\talphaValue = 0;\r\n    \t\t\tfadeOut = true;\r\n    \t\t\tsetEnabled(false);\r\n    \r\n    \t\t\tCardLayout cl = (CardLayout) cardPanel.getLayout();\r\n    \t\t\tcl.show(cardPanel, fromPanel);\r\n    \t\t\tWindow topLevelWindow = SwingUtilities.getWindowAncestor(cardPanel);\r\n    \t\t\tglassPane = (JComponent) ((RootPaneContainer) topLevelWindow).getRootPane()\r\n    \t\t\t\t\t.getGlassPane();\r\n    \t\t\tglassPane.setLayout(null);\r\n    \t\t\tcoverPanel = new JPanel();\r\n    \t\t\tcoverPanel.setSize(cardPanel.getSize());\r\n    \t\t\tglassPane.add(coverPanel);\r\n    \t\t\tglassPane.setVisible(true);\r\n    \r\n    \t\t\tfadeTimer = new Timer(FADE_DELAY, e2 -&gt; fadeTimerActionPerformed(e2));\r\n    \t\t\tfadeTimer.start();\r\n    \t\t}\r\n    \r\n    \t\tprivate void fadeTimerActionPerformed(ActionEvent event) {\r\n    \t\t\tcoverPanel.setBackground(new Color(0, 0, 0, alphaValue));\r\n    \t\t\tglassPane.repaint();\r\n    \r\n    \t\t\tif (fadeOut) {\r\n    \t\t\t\talphaValue += 3;\r\n    \t\t\t} else if (alphaValue &gt; 0) {\r\n    \t\t\t\talphaValue -= 3;\r\n    \t\t\t} else {\r\n    \t\t\t\tglassPane.remove(coverPanel);\r\n    \t\t\t\tglassPane.setVisible(false);\r\n    \t\t\t\t((Timer) event.getSource()).stop();\r\n    \t\t\t\tif (++sequence &lt; (PANEL_SEQUENCE.length - 1)) {\r\n    \t\t\t\t\tsetFadeAction();\r\n    \t\t\t\t\tsetEnabled(true);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (alphaValue &gt;= UNFADE_VALUE) {\r\n    \t\t\t\tfadeOut = false;\r\n    \t\t\t\tCardLayout cl = (CardLayout) cardPanel.getLayout();\r\n    \t\t\t\tcl.show(cardPanel, toPanel);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java swing Fade in/out Effect as a UI transition buffer?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> sections.</p>\n<p>This is Hovercraft Full Of Eels' answer.  All I did was clean up the GUI creation and demonstrate how this would work with more than two <code>JPanels</code>.</p>\n<p>I created five <code>JPanels</code> and displayed them in order with the fade-out/fade-in effect.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.RootPaneContainer;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class FadeEffectsTesting {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;Fade Effects Testing&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            frame.add(new FadeEffectsTesting().getMainPanel());\n\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        });\n    }\n\n    public static final String[] PANEL_SEQUENCE = { &quot;Panel 1&quot;, &quot;Panel 2&quot;, &quot;Panel 3&quot;, &quot;Panel 4&quot;,\n            &quot;Panel 5&quot; };\n    \n    private int sequence = 0;\n\n    private CardLayout cardLayout;\n    \n    private FadeAction action;\n\n    private JPanel cardPanel, mainPanel;\n\n    public FadeEffectsTesting() {\n        this.mainPanel = new JPanel(new BorderLayout(5, 5));\n        this.cardPanel = createCardPanel();\n        this.action = new FadeAction(cardPanel);\n\n        mainPanel.add(cardPanel, BorderLayout.CENTER);\n        mainPanel.add(createButtonPanel(), BorderLayout.PAGE_END);\n    }\n\n    private JPanel createCardPanel() {\n        cardLayout = new CardLayout();\n        JPanel panel = new JPanel(cardLayout);\n\n        panel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[0]), \n                PANEL_SEQUENCE[0]);\n        panel.add(createTextPanel(new Color(131, 238, 255), \n                PANEL_SEQUENCE[1]), PANEL_SEQUENCE[1]);\n        panel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[2]), \n                PANEL_SEQUENCE[2]);\n        panel.add(createTextPanel(new Color(131, 238, 255), \n                PANEL_SEQUENCE[3]), PANEL_SEQUENCE[3]);\n        panel.add(createTextPanel(Color.PINK, PANEL_SEQUENCE[4]), \n                PANEL_SEQUENCE[4]);\n\n        return panel;\n    }\n\n    private JPanel createTextPanel(Color color, String text) {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBackground(color);\n        int gap = 40;\n        panel.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n\n        JLabel label = new JLabel(text);\n        label.setFont(label.getFont().deriveFont(Font.BOLD, 72f));\n        panel.add(label);\n\n        return panel;\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        \n        setFadeAction();\n        JButton startFadeBtn = new JButton(action);\n        panel.add(startFadeBtn);\n\n        return panel;\n    }\n    \n    public void setFadeAction() {\n        action.setFromPanel(PANEL_SEQUENCE[sequence]);\n        action.setToPanel(PANEL_SEQUENCE[sequence + 1]);\n    }\n\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    public class FadeAction extends AbstractAction {\n        private static final long serialVersionUID = 1L;\n\n        private static final int FADE_DELAY = 20;\n        private static final int UNFADE_VALUE = 255;\n\n        private JPanel cardPanel;\n        private JComponent glassPane;\n        private JPanel coverPanel;\n        private Timer fadeTimer;\n        private int alphaValue;\n        private boolean fadeOut;\n        private String fromPanel, toPanel;\n\n        public FadeAction(JPanel cardPanel) {\n            super(&quot;Start Fade&quot;);\n            this.putValue(MNEMONIC_KEY, KeyEvent.VK_S);\n            this.cardPanel = cardPanel;\n            this.alphaValue = 0;\n            this.fadeOut = true;\n        }\n\n        public void setFromPanel(String fromPanel) {\n            this.fromPanel = fromPanel;\n        }\n\n        public void setToPanel(String toPanel) {\n            this.toPanel = toPanel;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            alphaValue = 0;\n            fadeOut = true;\n            setEnabled(false);\n\n            CardLayout cl = (CardLayout) cardPanel.getLayout();\n            cl.show(cardPanel, fromPanel);\n            Window topLevelWindow = SwingUtilities.getWindowAncestor(cardPanel);\n            glassPane = (JComponent) ((RootPaneContainer) topLevelWindow).getRootPane()\n                    .getGlassPane();\n            glassPane.setLayout(null);\n            coverPanel = new JPanel();\n            coverPanel.setSize(cardPanel.getSize());\n            glassPane.add(coverPanel);\n            glassPane.setVisible(true);\n\n            fadeTimer = new Timer(FADE_DELAY, e2 -&gt; fadeTimerActionPerformed(e2));\n            fadeTimer.start();\n        }\n\n        private void fadeTimerActionPerformed(ActionEvent event) {\n            coverPanel.setBackground(new Color(0, 0, 0, alphaValue));\n            glassPane.repaint();\n\n            if (fadeOut) {\n                alphaValue += 3;\n            } else if (alphaValue &gt; 0) {\n                alphaValue -= 3;\n            } else {\n                glassPane.remove(coverPanel);\n                glassPane.setVisible(false);\n                ((Timer) event.getSource()).stop();\n                if (++sequence &lt; (PANEL_SEQUENCE.length - 1)) {\n                    setFadeAction();\n                    setEnabled(true);\n                }\n            }\n\n            if (alphaValue &gt;= UNFADE_VALUE) {\n                fadeOut = false;\n                CardLayout cl = (CardLayout) cardPanel.getLayout();\n                cl.show(cardPanel, toPanel);\n            }\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23767436,"reputation":31,"user_id":17782010,"display_name":"Benjamin Keninger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1641618102,"creation_date":1641540374,"question_id":70617866,"body_markdown":"I am a noob in java and am trying to make a kind of text adventure game. I want to be able to have the program have some kind of fade ability as it transitions from one layout of the UI to another. \r\n\r\nI really have no idea what the best approach to this problem would be or if its really even feasible, but I have so far been trying to have a Jpanel that covers the entire window and uses a timer to fade in to cover everything else in black, or fades out from black to transparency thereby revealing everything underneath. \r\n\r\nI have been testing this idea by trying to fade in/out the program at the start just to get the logic for the fade system working before trying to have it as a transition effect. The fade-out kind of works, but I have the program output the alpha level and the screen is turning black at around alpha 50 out of 255 which is confusing me. The fade-in does not work at all.\r\n\r\nHere is the code for the fade method:\r\n\r\n    static int opacityCounter = 0;\r\n\r\n    public void fadeOut(JPanel frame){\r\n        System.out.println(opacityCounter);\r\n        opacityCounter = 0;\r\n        fadeTimer = new Timer(50, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.setBackground(new Color(0,0,0,opacityCounter));\r\n                opacityCounter++;\r\n                gui.window.add(frame);\r\n\r\n                if(opacityCounter &gt;= 255){\r\n                    opacityCounter = 255;\r\n                    fadeTimer.stop();\r\n                }\r\n                System.out.println(opacityCounter);\r\n            }\r\n        });\r\n        fadeTimer.start();\r\n    }\r\nThis is the code where the &quot;fadePanel&quot; that covers the window is created and deployed in the method.\r\n\r\n        fadeScreen = new JPanel();\r\n        fadeScreen.setBounds(0,0,800,600);\r\n        fadeScreen.setBackground(Color.black);\r\n        window.add(fadeScreen);\r\n\r\n        game.visibilityManager.fadeOut(this.fadeScreen);\r\n\r\n\r\nTo clarify I want something that goes from a UI layout like this:[![enter image description here][1]][1]\r\n\r\nfades to black, before fading back to a UI that looks like this [![enter image description here][2]][2]\r\n\r\n\r\nThis is a minimal reproducible example:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class Test {\r\n    JFrame window;\r\n    JPanel fadeScreen, screen1, screen2;\r\n    JLabel text1, text2;\r\n    Timer fadeTimer;\r\n\r\n    public Test(){\r\n\r\n        //Frame Window\r\n        window = new JFrame();\r\n        window.setSize(800,600);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.getContentPane().setBackground(Color.blue);\r\n\r\n        //Screen 1\r\n        screen1 = new JPanel();\r\n        screen1.setBounds(100, 100, 600, 125);\r\n        screen1.setBackground(Color.white);\r\n        text1 = new JLabel(&quot;Text1&quot;);\r\n        screen1.add(text1);\r\n        window.add(screen1);\r\n\r\n        //Screen 2\r\n        screen2 = new JPanel();\r\n        screen2.setBounds(100, 400, 600, 125);\r\n        screen2.setBackground(Color.white);\r\n        text2 = new JLabel(&quot;Text2&quot;);\r\n        screen2.add(text2);\r\n        window.add(screen2);\r\n\r\n        //Cover Panel\r\n        fadeScreen = new JPanel();\r\n        fadeScreen.setBounds(0,0,800,600);\r\n        fadeScreen.setBackground(Color.black);\r\n        window.add(fadeScreen);\r\n\r\n        window.setVisible(true);\r\n\r\n\r\n        //Comment out which method you don&#39;t want to use\r\n        fadeOut(this.fadeScreen);\r\n        //fadeIn(this.fadeScreen);\r\n    }\r\n\r\n\r\n    //Fade methods\r\n    int opacityCounter = 0;\r\n\r\n    public void fadeOut(JPanel frame){\r\n        System.out.println(opacityCounter);\r\n        opacityCounter = 0;\r\n        fadeTimer = new Timer(50, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.setBackground(new Color(0,0,0,opacityCounter));\r\n                opacityCounter++;\r\n                window.add(frame);\r\n\r\n                if(opacityCounter &gt;= 255){\r\n                    opacityCounter = 255;\r\n                    fadeTimer.stop();\r\n                }\r\n                System.out.println(opacityCounter);\r\n            }\r\n        });\r\n        fadeTimer.start();\r\n    }\r\n\r\n    public void fadeIn(JPanel frame){\r\n        System.out.println(opacityCounter);\r\n        opacityCounter = 255;\r\n        fadeTimer = new Timer(50, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                frame.setBackground(new Color(0,0,0,opacityCounter));\r\n                opacityCounter--;\r\n                window.add(frame);\r\n\r\n                if(opacityCounter &lt;= 0){\r\n                    opacityCounter = 0;\r\n                    fadeTimer.stop();\r\n                }\r\n                System.out.println(opacityCounter);\r\n            }\r\n        });\r\n        fadeTimer.start();\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        new Test();\r\n    }\r\n    }\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rJP97.png\r\n  [2]: https://i.stack.imgur.com/6iBf9.png","title":"Java swing Fade in/out Effect as a UI transition buffer?","body":"<p>I am a noob in java and am trying to make a kind of text adventure game. I want to be able to have the program have some kind of fade ability as it transitions from one layout of the UI to another.</p>\n<p>I really have no idea what the best approach to this problem would be or if its really even feasible, but I have so far been trying to have a Jpanel that covers the entire window and uses a timer to fade in to cover everything else in black, or fades out from black to transparency thereby revealing everything underneath.</p>\n<p>I have been testing this idea by trying to fade in/out the program at the start just to get the logic for the fade system working before trying to have it as a transition effect. The fade-out kind of works, but I have the program output the alpha level and the screen is turning black at around alpha 50 out of 255 which is confusing me. The fade-in does not work at all.</p>\n<p>Here is the code for the fade method:</p>\n<pre><code>static int opacityCounter = 0;\n\npublic void fadeOut(JPanel frame){\n    System.out.println(opacityCounter);\n    opacityCounter = 0;\n    fadeTimer = new Timer(50, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            frame.setBackground(new Color(0,0,0,opacityCounter));\n            opacityCounter++;\n            gui.window.add(frame);\n\n            if(opacityCounter &gt;= 255){\n                opacityCounter = 255;\n                fadeTimer.stop();\n            }\n            System.out.println(opacityCounter);\n        }\n    });\n    fadeTimer.start();\n}\n</code></pre>\n<p>This is the code where the &quot;fadePanel&quot; that covers the window is created and deployed in the method.</p>\n<pre><code>    fadeScreen = new JPanel();\n    fadeScreen.setBounds(0,0,800,600);\n    fadeScreen.setBackground(Color.black);\n    window.add(fadeScreen);\n\n    game.visibilityManager.fadeOut(this.fadeScreen);\n</code></pre>\n<p>To clarify I want something that goes from a UI layout like this:<a href=\"https://i.stack.imgur.com/rJP97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rJP97.png\" alt=\"enter image description here\" /></a></p>\n<p>fades to black, before fading back to a UI that looks like this <a href=\"https://i.stack.imgur.com/6iBf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6iBf9.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a minimal reproducible example:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Test {\nJFrame window;\nJPanel fadeScreen, screen1, screen2;\nJLabel text1, text2;\nTimer fadeTimer;\n\npublic Test(){\n\n    //Frame Window\n    window = new JFrame();\n    window.setSize(800,600);\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    window.getContentPane().setBackground(Color.blue);\n\n    //Screen 1\n    screen1 = new JPanel();\n    screen1.setBounds(100, 100, 600, 125);\n    screen1.setBackground(Color.white);\n    text1 = new JLabel(&quot;Text1&quot;);\n    screen1.add(text1);\n    window.add(screen1);\n\n    //Screen 2\n    screen2 = new JPanel();\n    screen2.setBounds(100, 400, 600, 125);\n    screen2.setBackground(Color.white);\n    text2 = new JLabel(&quot;Text2&quot;);\n    screen2.add(text2);\n    window.add(screen2);\n\n    //Cover Panel\n    fadeScreen = new JPanel();\n    fadeScreen.setBounds(0,0,800,600);\n    fadeScreen.setBackground(Color.black);\n    window.add(fadeScreen);\n\n    window.setVisible(true);\n\n\n    //Comment out which method you don't want to use\n    fadeOut(this.fadeScreen);\n    //fadeIn(this.fadeScreen);\n}\n\n\n//Fade methods\nint opacityCounter = 0;\n\npublic void fadeOut(JPanel frame){\n    System.out.println(opacityCounter);\n    opacityCounter = 0;\n    fadeTimer = new Timer(50, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            frame.setBackground(new Color(0,0,0,opacityCounter));\n            opacityCounter++;\n            window.add(frame);\n\n            if(opacityCounter &gt;= 255){\n                opacityCounter = 255;\n                fadeTimer.stop();\n            }\n            System.out.println(opacityCounter);\n        }\n    });\n    fadeTimer.start();\n}\n\npublic void fadeIn(JPanel frame){\n    System.out.println(opacityCounter);\n    opacityCounter = 255;\n    fadeTimer = new Timer(50, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            frame.setBackground(new Color(0,0,0,opacityCounter));\n            opacityCounter--;\n            window.add(frame);\n\n            if(opacityCounter &lt;= 0){\n                opacityCounter = 0;\n                fadeTimer.stop();\n            }\n            System.out.println(opacityCounter);\n        }\n    });\n    fadeTimer.start();\n}\n\npublic static void main(String[] args){\n    new Test();\n}\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","xml","gradle","android-recyclerview"],"comments":[{"owner":{"account_id":186527,"reputation":5781,"user_id":423980,"accept_rate":74,"display_name":"mt0s"},"score":0,"creation_date":1415552861,"post_id":26830686,"comment_id":42228298,"body_markdown":"add also your code from onCreate(). You might missing something there.","body":"add also your code from onCreate(). You might missing something there."},{"owner":{"account_id":3929506,"reputation":547,"user_id":3248708,"accept_rate":17,"display_name":"Tak3r07"},"score":0,"creation_date":1415552960,"post_id":26830686,"comment_id":42228331,"body_markdown":"@mt0s added - but i didnt change anything yet, since its a complete new project.","body":"@mt0s added - but i didnt change anything yet, since its a complete new project."}],"answers":[{"tags":[],"owner":{"account_id":186527,"reputation":5781,"user_id":423980,"accept_rate":74,"display_name":"mt0s"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502455180,"creation_date":1415553660,"answer_id":26830923,"question_id":26830686,"body_markdown":"I think that with RecyclerView you have at least to set the layout manager. \r\n\r\nIf you read the docs [here][1] :\r\n\r\n&gt; In contrast to other adapter-backed views such as ListView or GridView, RecyclerView allows client code to provide custom layout\r\n&gt; arrangements for child views. These arrangements are controlled by the\r\n&gt; RecyclerView.LayoutManager. **A LayoutManager must be provided for\r\n&gt; RecyclerView to function.**\r\n\r\n\r\nYou can try after instantiating the **RecyclerView** to set the LayoutManager like that :\r\n\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n( later change it to a `LayoutManager` that fits better your needs )\r\n\r\n  [1]: http://developer.android.com/reference/android/support/v7/widget/RecyclerView.html#setLayoutManager(android.support.v7.widget.RecyclerView.LayoutManager)","title":"Android RecyclerView Error","body":"<p>I think that with RecyclerView you have at least to set the layout manager. </p>\n\n<p>If you read the docs <a href=\"http://developer.android.com/reference/android/support/v7/widget/RecyclerView.html#setLayoutManager(android.support.v7.widget.RecyclerView.LayoutManager)\" rel=\"nofollow noreferrer\">here</a> :</p>\n\n<blockquote>\n  <p>In contrast to other adapter-backed views such as ListView or GridView, RecyclerView allows client code to provide custom layout\n  arrangements for child views. These arrangements are controlled by the\n  RecyclerView.LayoutManager. <strong>A LayoutManager must be provided for\n  RecyclerView to function.</strong></p>\n</blockquote>\n\n<p>You can try after instantiating the <strong>RecyclerView</strong> to set the LayoutManager like that :</p>\n\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n\n<p>( later change it to a <code>LayoutManager</code> that fits better your needs )</p>\n"},{"tags":[],"owner":{"account_id":2857407,"reputation":1182,"user_id":2453383,"display_name":"imbalind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427407133,"creation_date":1427407133,"answer_id":29289673,"question_id":26830686,"body_markdown":"I know the topic is a bit old, but the problem still persists and it&#39;s a known bug.\r\n\r\nAnyhow the bug seems to be close to get a patch:\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=72117","title":"Android RecyclerView Error","body":"<p>I know the topic is a bit old, but the problem still persists and it's a known bug.</p>\n\n<p>Anyhow the bug seems to be close to get a patch:</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=72117\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=72117</a></p>\n"},{"tags":[],"owner":{"account_id":106271,"reputation":5348,"user_id":283153,"accept_rate":89,"display_name":"Olof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429110349,"creation_date":1429106266,"answer_id":29652270,"question_id":26830686,"body_markdown":"This seems to be a bug in Android SDK 21. If you upgrade to SDK 22 the problem should disappear.","title":"Android RecyclerView Error","body":"<p>This seems to be a bug in Android SDK 21. If you upgrade to SDK 22 the problem should disappear.</p>\n"},{"tags":[],"owner":{"account_id":6148440,"reputation":11,"user_id":4793652,"display_name":"Omar Ceron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429213126,"creation_date":1429212143,"answer_id":29684134,"question_id":26830686,"body_markdown":"Just upgrade to SDK 22 and the problem is fixed","title":"Android RecyclerView Error","body":"<p>Just upgrade to SDK 22 and the problem is fixed</p>\n"},{"tags":[],"owner":{"account_id":7261093,"reputation":11,"user_id":5537800,"display_name":"Milind Vyas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446931077,"creation_date":1446931077,"answer_id":33587883,"question_id":26830686,"body_markdown":"Just change Api level on the top of the screen in your xml viewer and make it 21 api level it will be work . hope it will help you.","title":"Android RecyclerView Error","body":"<p>Just change Api level on the top of the screen in your xml viewer and make it 21 api level it will be work . hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":9303469,"reputation":763,"user_id":6908100,"display_name":"dara"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489598245,"creation_date":1489598245,"answer_id":42816535,"question_id":26830686,"body_markdown":"Hi hope this will help you\r\nYou have to remove scrollbars attribute from your view","title":"Android RecyclerView Error","body":"<p>Hi hope this will help you\nYou have to remove scrollbars attribute from your view</p>\n"},{"tags":[],"owner":{"account_id":13725477,"reputation":553,"user_id":9904344,"display_name":"arpit1714"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536934610,"creation_date":1536934610,"answer_id":52333845,"question_id":26830686,"body_markdown":"Add this line in your build.gradle file under dependencies block\r\n\r\n\r\n    implementation &#39;com.android.support:recyclerview-v7:25.1.0&#39;","title":"Android RecyclerView Error","body":"<p>Add this line in your build.gradle file under dependencies block</p>\n\n<pre><code>implementation 'com.android.support:recyclerview-v7:25.1.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23866552,"reputation":1,"user_id":17868805,"display_name":"Dinesh Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641617128,"creation_date":1641617128,"answer_id":70629668,"question_id":26830686,"body_markdown":"Everything looks good, Try to make a Invalidate chache/restart. I that will work for you. There may be a chache problem.","title":"Android RecyclerView Error","body":"<p>Everything looks good, Try to make a Invalidate chache/restart. I that will work for you. There may be a chache problem.</p>\n"}],"owner":{"account_id":3929506,"reputation":547,"user_id":3248708,"accept_rate":17,"display_name":"Tak3r07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10433,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":8,"score":8,"last_activity_date":1641617128,"creation_date":1415552279,"question_id":26830686,"body_markdown":"today I was trying to use the new android RecyclerView.\r\nI have created a new Project with a blank activity and added the following to its layout:\r\n\r\n    \r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:id=&quot;@+id/my_recycler_view&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nIn gradle build dependencies I have added:\r\n\r\n    compile &#39;com.android.support:support-v4:21.0.0&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:21.+&#39;\r\n    compile &#39;com.android.support:cardview-v7:21.+&#39;\r\n\r\nBut the activity_main.xml rendering still shows me the following error:\r\n\r\n    Rendering Problems The following classes could not be instantiated:\r\n    -&#160;android.support.v7.widget.RecyclerView (Open Class, Show Exception)\r\n    Tip: Use View.isInEditMode() in your custom views to skip code or show sample data when shown in the IDE  Exception Details java.lang.UnsupportedOperationException: Unsupported Service: accessibility &#160;&#160;at com.android.layoutlib.bridge.android.BridgeContext.getSystemService(BridgeContext.java:465\r\n\r\nI don&#39;t seem to find a solution myself in the web since everyone says &quot;implement the following dependencies in your gradle build: ...&quot; which i have already added.\r\n\r\nCan anyone provide a solution?\r\n\r\nRegards \r\nTak3r07\r\n\r\nEdit:\r\nonCreate: \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n","title":"Android RecyclerView Error","body":"<p>today I was trying to use the new android RecyclerView.\nI have created a new Project with a blank activity and added the following to its layout:</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/my_recycler_view\"\n    android:scrollbars=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n\n<p>In gradle build dependencies I have added:</p>\n\n<pre><code>compile 'com.android.support:support-v4:21.0.0'\ncompile 'com.android.support:recyclerview-v7:21.+'\ncompile 'com.android.support:cardview-v7:21.+'\n</code></pre>\n\n<p>But the activity_main.xml rendering still shows me the following error:</p>\n\n<pre><code>Rendering Problems The following classes could not be instantiated:\n- android.support.v7.widget.RecyclerView (Open Class, Show Exception)\nTip: Use View.isInEditMode() in your custom views to skip code or show sample data when shown in the IDE  Exception Details java.lang.UnsupportedOperationException: Unsupported Service: accessibility   at com.android.layoutlib.bridge.android.BridgeContext.getSystemService(BridgeContext.java:465\n</code></pre>\n\n<p>I don't seem to find a solution myself in the web since everyone says \"implement the following dependencies in your gradle build: ...\" which i have already added.</p>\n\n<p>Can anyone provide a solution?</p>\n\n<p>Regards \nTak3r07</p>\n\n<p>Edit:\nonCreate: </p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n</code></pre>\n"},{"tags":["java","android","google-play-console"],"comments":[{"owner":{"account_id":4298033,"reputation":115,"user_id":3512528,"display_name":"Tas"},"score":0,"creation_date":1642797455,"post_id":70629643,"comment_id":125176409,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":16493436,"reputation":561,"user_id":11916584,"display_name":"Pentagura"},"score":1,"creation_date":1646814170,"post_id":70629643,"comment_id":126214304,"body_markdown":"Did you find a solution ? I&#39;ve the same problem here","body":"Did you find a solution ? I&#39;ve the same problem here"}],"owner":{"account_id":21763719,"reputation":31,"user_id":16067914,"display_name":"StackApp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641616798,"creation_date":1641616798,"question_id":70629643,"body_markdown":"I have uploaded our apk to google play console but they have rejected our apk and mentioned using Media Store Api for camera and gallery.\r\nMy App has already implemented and used WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permission and work fine on all android version.\r\n\r\n    \r\n     File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + getResources().getString(R.string.app_name) + &quot;/QRCode/&quot;);\r\n            if (!file.exists() &amp;&amp; !file.mkdirs()) {\r\n                file.mkdir();\r\n            }\r\n \r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;!-- START - Storage Permission --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n        &lt;!-- END - Storage Permission --&gt;\r\n    \r\n    \r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.flash&quot; /&gt;\r\n    \r\n\r\nIssue: Need to use Media Store API or No Access to Files\r\n\r\nYou have requested access to All Files Access permission but it appears that your app&#39;s core feature requires access to only Media Files or does not need access to any Files. In case your app needs access to Media Files, with the [MediaStore API](https://developer.android.com/training/data-storage/shared/media), apps can contribute and access media that&#39;s available on an external storage volume without the need for the access all files permission.\r\n\r\nPlease update your app so that the feature uses Media Store APIs and remove All Files Access (MANAGE_EXTERNAL_STORAGE) permission.\r\n\r\nPolicy: [All Files Access Permission](https://support.google.com/googleplay/android-developer/answer/9888170#all-file-access)\r\n\r\nFiles and directory attributes on a user&#39;s device are regarded as personal and sensitive user data subject to the [Personal and Sensitive Information](https://support.google.com/googleplay/android-developer/answer/10144311?visit_id=637767900227040833-1594880481&amp;rd=1) policy and the following requirements:\r\n\r\nApps should only request access to device storage which is critical for the app to function, and may not request access to device storage on behalf of any third-party for any purpose that is unrelated to critical user-facing app functionality.\r\nAndroid devices running Android &quot;R&quot; (Android 11) or later, will require the [MANAGE_EXTERNAL_STORAGE](https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE) permission in order to manage access in shared storage. All apps that target R or later and request broad access to shared storage (&quot;All files access&quot;) must successfully pass an appropriate access review prior to publishing. Apps allowed to use this permission must clearly prompt users to enable &quot;All files access&quot; for their app under &quot;Special app access&quot; settings. For more information on the R requirements, please see this [help article](https://support.google.com/googleplay/android-developer/answer/10467955?visit_id=637767900227040833-1594880481&amp;rd=1).","title":"Issue: Need to use Media Store API or No Access to Files java","body":"<p>I have uploaded our apk to google play console but they have rejected our apk and mentioned using Media Store Api for camera and gallery.\nMy App has already implemented and used WRITE_EXTERNAL_STORAGE and READ_EXTERNAL_STORAGE permission and work fine on all android version.</p>\n<pre><code> File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS) + File.separator + getResources().getString(R.string.app_name) + &quot;/QRCode/&quot;);\n        if (!file.exists() &amp;&amp; !file.mkdirs()) {\n            file.mkdir();\n        }\n\n\n &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;!-- START - Storage Permission --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;!-- END - Storage Permission --&gt;\n\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.flash&quot; /&gt;\n</code></pre>\n<p>Issue: Need to use Media Store API or No Access to Files</p>\n<p>You have requested access to All Files Access permission but it appears that your app's core feature requires access to only Media Files or does not need access to any Files. In case your app needs access to Media Files, with the <a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">MediaStore API</a>, apps can contribute and access media that's available on an external storage volume without the need for the access all files permission.</p>\n<p>Please update your app so that the feature uses Media Store APIs and remove All Files Access (MANAGE_EXTERNAL_STORAGE) permission.</p>\n<p>Policy: <a href=\"https://support.google.com/googleplay/android-developer/answer/9888170#all-file-access\" rel=\"nofollow noreferrer\">All Files Access Permission</a></p>\n<p>Files and directory attributes on a user's device are regarded as personal and sensitive user data subject to the <a href=\"https://support.google.com/googleplay/android-developer/answer/10144311?visit_id=637767900227040833-1594880481&amp;rd=1\" rel=\"nofollow noreferrer\">Personal and Sensitive Information</a> policy and the following requirements:</p>\n<p>Apps should only request access to device storage which is critical for the app to function, and may not request access to device storage on behalf of any third-party for any purpose that is unrelated to critical user-facing app functionality.\nAndroid devices running Android &quot;R&quot; (Android 11) or later, will require the <a href=\"https://developer.android.com/reference/android/Manifest.permission#MANAGE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">MANAGE_EXTERNAL_STORAGE</a> permission in order to manage access in shared storage. All apps that target R or later and request broad access to shared storage (&quot;All files access&quot;) must successfully pass an appropriate access review prior to publishing. Apps allowed to use this permission must clearly prompt users to enable &quot;All files access&quot; for their app under &quot;Special app access&quot; settings. For more information on the R requirements, please see this <a href=\"https://support.google.com/googleplay/android-developer/answer/10467955?visit_id=637767900227040833-1594880481&amp;rd=1\" rel=\"nofollow noreferrer\">help article</a>.</p>\n"},{"tags":["java","android","notifications"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1641475518,"post_id":70607676,"comment_id":124816810,"body_markdown":"Can you share some code?","body":"Can you share some code?"}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641476052,"creation_date":1641476052,"answer_id":70607908,"question_id":70607676,"body_markdown":"You can use Broadcast receiver in order to be notified when Boot Completes. And again start the required services of your app. \r\n\r\nFor reference, have a look [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5290164","title":"my app doesn&#39;t send any notifications when it&#39;s not running (killed)","body":"<p>You can use Broadcast receiver in order to be notified when Boot Completes. And again start the required services of your app.</p>\n<p>For reference, have a look <a href=\"https://stackoverflow.com/a/5290164\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641615535,"creation_date":1641478663,"answer_id":70608512,"question_id":70607676,"body_markdown":"This is because when you are killing the app, the `onDestroy` method gets called. When it&#39;s killed, you app is not doing anything. For this you would need a broadcast receiver.\r\n\r\n# How to implement broadcast receiver?\r\n\r\n1. Create a java class named `TimeBradcastReceiver.java`.\r\n\r\n2. Paste this code in the class\r\n\r\n       public class TimeBradcastReceiver extends BroadcastReceiver {\r\n           @Override\r\n           public void onReceive(Context context, Intent intent) {\r\n               String dateString = Calendar.getInstance().get(Calendar.HOUR) + &quot;:&quot; + Calendar.getInstance().get(Calendar.MINUTE);\r\n               String hourString = Calendar.getInstance().get(Calendar.HOUR);\r\n               String minutesString = Calendar.getInstance().get(Calendar.MINUTE;\r\n               Log.d(&quot;MyBradcastReceiver&quot;,&quot;i have recieved - &quot; + dateString);\r\n           }\r\n       }\r\n\r\n3. Once you have implemented this code, you need to add this to you manifest inside the `application` tag.\r\n\r\n       &lt;receiver android:name=&quot;com.chatverse.free.TimeBroadcastReceiver&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.TIME_TICK&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n       &lt;/receiver&gt;\r\n\r\n4. Add this code to your activity which opens the first.\r\n\r\n       IntentFilter mTime = new IntentFilter(Intent.ACTION_TIME_TICK);\r\n       registerReceiver(new TimeBradcastReceiver(), mTime);\r\n\r\n5. Now you can do the comparison of the dates and hours and show the notification.\r\n\r\n##### Note - This receiver will update only when a minute has changed.","title":"my app doesn&#39;t send any notifications when it&#39;s not running (killed)","body":"<p>This is because when you are killing the app, the <code>onDestroy</code> method gets called. When it's killed, you app is not doing anything. For this you would need a broadcast receiver.</p>\n<h1>How to implement broadcast receiver?</h1>\n<ol>\n<li><p>Create a java class named <code>TimeBradcastReceiver.java</code>.</p>\n</li>\n<li><p>Paste this code in the class</p>\n<pre><code>public class TimeBradcastReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String dateString = Calendar.getInstance().get(Calendar.HOUR) + &quot;:&quot; + Calendar.getInstance().get(Calendar.MINUTE);\n        String hourString = Calendar.getInstance().get(Calendar.HOUR);\n        String minutesString = Calendar.getInstance().get(Calendar.MINUTE;\n        Log.d(&quot;MyBradcastReceiver&quot;,&quot;i have recieved - &quot; + dateString);\n    }\n}\n</code></pre>\n</li>\n<li><p>Once you have implemented this code, you need to add this to you manifest inside the <code>application</code> tag.</p>\n<pre><code>&lt;receiver android:name=&quot;com.chatverse.free.TimeBroadcastReceiver&quot;\n     android:exported=&quot;true&quot;&gt;\n     &lt;intent-filter&gt;\n         &lt;action android:name=&quot;android.intent.action.TIME_TICK&quot;/&gt;\n     &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n</li>\n<li><p>Add this code to your activity which opens the first.</p>\n<pre><code>IntentFilter mTime = new IntentFilter(Intent.ACTION_TIME_TICK);\nregisterReceiver(new TimeBradcastReceiver(), mTime);\n</code></pre>\n</li>\n<li><p>Now you can do the comparison of the dates and hours and show the notification.</p>\n</li>\n</ol>\n<h5>Note - This receiver will update only when a minute has changed.</h5>\n"}],"owner":{"account_id":21430714,"reputation":349,"user_id":15787187,"display_name":"JustBeginner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641615535,"creation_date":1641474888,"question_id":70607676,"body_markdown":"&lt;br/&gt;&lt;br/&gt;\r\nI have a reminder app that sends a notification according to the time of the item in the listview, the problem is that whenever my phone is rebooted or the app is killed, the app doesn&#39;t send any notification.\r\n&lt;br/&gt;&lt;br/&gt;\r\n&lt;strong&gt;Note: The app is offline and local, it doesn&#39;t use internet connection, I don&#39;t use FCM or and online services for this app.&lt;/strong&gt;\r\n&lt;br&gt;&lt;br&gt;\r\nThank you so much for your time.\r\n&lt;br&gt;&lt;br&gt;\r\n**Update:**\r\nI&#39;m using a thread that searches for data in the local database, If there are any changes in time in the database compared to the current time, the notification should show, but the notification only shows when the app is running, but when the app is killed it doesn&#39;t show.\r\n&lt;br&gt;The app needs to run on android 5+,\r\n","title":"my app doesn&#39;t send any notifications when it&#39;s not running (killed)","body":"<p><br/><br/>\nI have a reminder app that sends a notification according to the time of the item in the listview, the problem is that whenever my phone is rebooted or the app is killed, the app doesn't send any notification.\n<br/><br/>\n<strong>Note: The app is offline and local, it doesn't use internet connection, I don't use FCM or and online services for this app.</strong>\n<br><br>\nThank you so much for your time.\n<br><br>\n<strong>Update:</strong>\nI'm using a thread that searches for data in the local database, If there are any changes in time in the database compared to the current time, the notification should show, but the notification only shows when the app is running, but when the app is killed it doesn't show.\n<br>The app needs to run on android 5+,</p>\n"},{"tags":["java","android","admob","gdprconsentform","user-messaging-platform"],"comments":[{"owner":{"account_id":2690097,"reputation":2368,"user_id":2323607,"accept_rate":78,"display_name":"Amod Gokhale"},"score":0,"creation_date":1607058596,"post_id":65134891,"comment_id":115158683,"body_markdown":"is Funding Choices account linked to your AdMob account.?","body":"is Funding Choices account linked to your AdMob account.?"},{"owner":{"account_id":15345790,"reputation":71,"user_id":11071242,"display_name":"HamzaSamir"},"score":0,"creation_date":1607080003,"post_id":65134891,"comment_id":115165668,"body_markdown":"@AmodGokhale Yes, I already link it and set up the Blocking Control in Admob.","body":"@AmodGokhale Yes, I already link it and set up the Blocking Control in Admob."},{"owner":{"account_id":8114830,"reputation":940,"user_id":6113678,"accept_rate":56,"display_name":"Alexey Subbota"},"score":0,"creation_date":1642277152,"post_id":65134891,"comment_id":125029909,"body_markdown":"Have you settled the problem?","body":"Have you settled the problem?"}],"answers":[{"tags":[],"owner":{"account_id":2970001,"reputation":1940,"user_id":2522264,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641615181,"creation_date":1641615181,"answer_id":70629548,"question_id":65134891,"body_markdown":"The TestDeviceHashedId is not the same thing as the Admob Device Id.\r\nSo remove this line:\r\n\r\n    .addTestDeviceHashedId(getString(R.string.ADMOB_REAL_DEVICE_HASH_ID_FOR_TESTING))\r\n\r\nThen run your code and check for the log. The TestDeviceHashedId you should use will appear.","title":"Android Consent Information publisher misconfiguration","body":"<p>The TestDeviceHashedId is not the same thing as the Admob Device Id.\nSo remove this line:</p>\n<pre><code>.addTestDeviceHashedId(getString(R.string.ADMOB_REAL_DEVICE_HASH_ID_FOR_TESTING))\n</code></pre>\n<p>Then run your code and check for the log. The TestDeviceHashedId you should use will appear.</p>\n"}],"owner":{"account_id":15345790,"reputation":71,"user_id":11071242,"display_name":"HamzaSamir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1641615181,"creation_date":1607033283,"question_id":65134891,"body_markdown":"I try to use Google Consent with the User Messaging Platform to show in Android app consent form. I follow this documentation https://developers.google.com/admob/ump/android/quick-start.\r\n\r\nI get this error:\r\n\r\n    onConsentInfoUpdateFailure: Publisher misconfiguration: Failed to read publisher&#39;s account configuration; please check your configured app ID. Received app ID: `ca-app-pub-XXXXXXXXXXXXXXXX~XXXXXXXXXX`.\r\n\r\nMy Code:\r\n\r\n    ConsentRequestParameters params;\r\n\r\n        if (testingGDPR) {\r\n\r\n            ConsentDebugSettings debugSettings = new ConsentDebugSettings.Builder(this)\r\n                    .setDebugGeography(ConsentDebugSettings.DebugGeography.DEBUG_GEOGRAPHY_EEA)\r\n                    .addTestDeviceHashedId(getString(R.string.ADMOB_REAL_DEVICE_HASH_ID_FOR_TESTING))\r\n                    .build();\r\n\r\n            params = new ConsentRequestParameters.Builder().setConsentDebugSettings(debugSettings).build();\r\n        } else {\r\n            params = new ConsentRequestParameters.Builder().build();\r\n        }\r\n\r\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n\r\n        if (testingGDPR) {\r\n            consentInformation.reset();\r\n        }\r\n\r\n        consentInformation.requestConsentInfoUpdate(\r\n                this,\r\n                params,\r\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateSuccess() {\r\n                        \r\n                        if (consentInformation.isConsentFormAvailable() &amp;&amp; consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n                            loadForm();\r\n                        } else {\r\n                            setupAds();\r\n                        }\r\n                    }\r\n                },\r\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                    @Override\r\n                    public void onConsentInfoUpdateFailure(FormError formError) {\r\n                        Log.d(&quot;gdpr&quot;, &quot;onConsentInfoUpdateFailure, code:&quot; + formError.getErrorCode() + &quot;, &quot; + formError.getMessage());\r\n                    }\r\n                });","title":"Android Consent Information publisher misconfiguration","body":"<p>I try to use Google Consent with the User Messaging Platform to show in Android app consent form. I follow this documentation <a href=\"https://developers.google.com/admob/ump/android/quick-start\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/ump/android/quick-start</a>.</p>\n<p>I get this error:</p>\n<pre><code>onConsentInfoUpdateFailure: Publisher misconfiguration: Failed to read publisher's account configuration; please check your configured app ID. Received app ID: `ca-app-pub-XXXXXXXXXXXXXXXX~XXXXXXXXXX`.\n</code></pre>\n<p>My Code:</p>\n<pre><code>ConsentRequestParameters params;\n\n    if (testingGDPR) {\n\n        ConsentDebugSettings debugSettings = new ConsentDebugSettings.Builder(this)\n                .setDebugGeography(ConsentDebugSettings.DebugGeography.DEBUG_GEOGRAPHY_EEA)\n                .addTestDeviceHashedId(getString(R.string.ADMOB_REAL_DEVICE_HASH_ID_FOR_TESTING))\n                .build();\n\n        params = new ConsentRequestParameters.Builder().setConsentDebugSettings(debugSettings).build();\n    } else {\n        params = new ConsentRequestParameters.Builder().build();\n    }\n\n    consentInformation = UserMessagingPlatform.getConsentInformation(this);\n\n    if (testingGDPR) {\n        consentInformation.reset();\n    }\n\n    consentInformation.requestConsentInfoUpdate(\n            this,\n            params,\n            new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                @Override\n                public void onConsentInfoUpdateSuccess() {\n                    \n                    if (consentInformation.isConsentFormAvailable() &amp;&amp; consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                        loadForm();\n                    } else {\n                        setupAds();\n                    }\n                }\n            },\n            new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                @Override\n                public void onConsentInfoUpdateFailure(FormError formError) {\n                    Log.d(&quot;gdpr&quot;, &quot;onConsentInfoUpdateFailure, code:&quot; + formError.getErrorCode() + &quot;, &quot; + formError.getMessage());\n                }\n            });\n</code></pre>\n"},{"tags":["java","stack"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641614869,"creation_date":1641614869,"answer_id":70629529,"question_id":70629513,"body_markdown":"The only difference between these two methods is the class of the exception that gets thrown in the case where the stack is empty.  Use whichever one you prefer.  The standard implementations in JDK 8 are more-or-less identical, so there will be no measurable performance difference.\r\n\r\nPossibly the reason why `Stack` provides a second version of the same method is that the words `peek`, `pop` and `push` are traditionally associated with programming a stack.\r\n\r\nFrom **java/util/Stack.java**\r\n\r\n     public synchronized E peek() {\r\n        int len = size();\r\n\r\n        if (len == 0)\r\n            throw new EmptyStackException();\r\n        return elementAt(len - 1);\r\n    }\r\n\r\nand from **java/util/Vector.java**\r\n\r\n     public synchronized E lastElement() {\r\n        if (elementCount == 0) {\r\n            throw new NoSuchElementException();\r\n        }\r\n        return elementData(elementCount - 1);\r\n    }\r\n","title":"Java | what is the difference between peek() and lastElement() method in Stack","body":"<p>The only difference between these two methods is the class of the exception that gets thrown in the case where the stack is empty.  Use whichever one you prefer.  The standard implementations in JDK 8 are more-or-less identical, so there will be no measurable performance difference.</p>\n<p>Possibly the reason why <code>Stack</code> provides a second version of the same method is that the words <code>peek</code>, <code>pop</code> and <code>push</code> are traditionally associated with programming a stack.</p>\n<p>From <strong>java/util/Stack.java</strong></p>\n<pre><code> public synchronized E peek() {\n    int len = size();\n\n    if (len == 0)\n        throw new EmptyStackException();\n    return elementAt(len - 1);\n}\n</code></pre>\n<p>and from <strong>java/util/Vector.java</strong></p>\n<pre><code> public synchronized E lastElement() {\n    if (elementCount == 0) {\n        throw new NoSuchElementException();\n    }\n    return elementData(elementCount - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":23509382,"reputation":3,"user_id":17558123,"display_name":"Br33z3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70629529,"answer_count":1,"score":0,"last_activity_date":1641614869,"creation_date":1641614557,"question_id":70629513,"body_markdown":"Java | \r\nwhat is the difference between peek() and lastElement() method in Stack.\r\nThey both can return the element of top of stack, is there have performance difference or something else?","title":"Java | what is the difference between peek() and lastElement() method in Stack","body":"<p>Java |\nwhat is the difference between peek() and lastElement() method in Stack.\nThey both can return the element of top of stack, is there have performance difference or something else?</p>\n"},{"tags":["java","json","escaping","java-17","messageformat"],"comments":[{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1641614110,"post_id":70628877,"comment_id":124856790,"body_markdown":"@Naman, yes it does. I will close the question.","body":"@Naman, yes it does. I will close the question."}],"answers":[{"tags":[],"owner":{"account_id":18045704,"reputation":123,"user_id":17867255,"display_name":"Dmitry Kravtsov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641605207,"creation_date":1641605207,"answer_id":70628947,"question_id":70628877,"body_markdown":"Nothing should change in that syntax in Java 17 since the MessageFormat is [known][1] from Java 7.\r\nAs cited here in the past:\r\n[Accepted answer for Question #1187093][2]\r\n\r\n&gt; Within a String, a pair of single quotes can be used to quote any arbitrary characters except single quotes. For example, pattern string &quot;&#39;{0}&#39;&quot; represents string &quot;{0}&quot;, not a FormatElement. \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\r\n  [2]: https://stackoverflow.com/questions/1187093/can-i-escape-braces-in-a-java-messageformat","title":"How to escape json-stylished String to work with MessageFormat?","body":"<p>Nothing should change in that syntax in Java 17 since the MessageFormat is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">known</a> from Java 7.\nAs cited here in the past:\n<a href=\"https://stackoverflow.com/questions/1187093/can-i-escape-braces-in-a-java-messageformat\">Accepted answer for Question #1187093</a></p>\n<blockquote>\n<p>Within a String, a pair of single quotes can be used to quote any arbitrary characters except single quotes. For example, pattern string &quot;'{0}'&quot; represents string &quot;{0}&quot;, not a FormatElement.</p>\n</blockquote>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641614183,"accepted_answer_id":70628947,"answer_count":1,"score":1,"last_activity_date":1641614819,"creation_date":1641604293,"question_id":70628877,"body_markdown":"I&#39;m using [tag:java-17] and the following code snippet breaks because MessageFormat gets JSON symbols such as `{` and `}` and interprets them as its own formatters preventing the String to be formatted:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.text.MessageFormat;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(final String[] args) {\r\n            System.out.println(MessageFormat.format(&quot;&quot;&quot;\r\n                    {\r\n                        &quot;a&quot;: &quot;{0}&quot;,\r\n                     {\r\n                      &quot;b&quot;: &quot;{0}&quot;\r\n                      &quot;c&quot;: &quot;{0}&quot;\r\n                      &quot;d&quot;: {1,number,#.##}\r\n                     }\r\n                    }&quot;&quot;&quot;, &quot;Test&quot;, new BigDecimal(&quot;10.123&quot;)));\r\n        }\r\n    }\r\n\r\nHere&#39;s the stack trace:\r\n\r\n\tException in thread &quot;main&quot; java.lang.IllegalArgumentException: can&#39;t parse argument number: \r\n\t\t&quot;a&quot;: &quot;{0}&quot;\r\n\t\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\r\n\t\tat java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\r\n\t\tat java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\r\n\t\tat java.base/java.text.MessageFormat.format(MessageFormat.java:860)\r\n\t\tat Test.main(Test.java:9)\r\n\tCaused by: java.lang.NumberFormatException: For input string: &quot;\r\n\t\t&quot;a&quot;: &quot;{0}&quot;&quot;\r\n\t\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\t\tat java.base/java.lang.Integer.parseInt(Integer.java:654)\r\n\t\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\t\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\r\n\t\t... 4 more\r\n\r\nWhat&#39;s the correct way to escape these symbols in order to MessageFormat actually formats the String?","title":"How to escape json-stylished String to work with MessageFormat?","body":"<p>I'm using <a href=\"/questions/tagged/java-17\" class=\"post-tag\" title=\"show questions tagged &#39;java-17&#39;\" rel=\"tag\">java-17</a> and the following code snippet breaks because MessageFormat gets JSON symbols such as <code>{</code> and <code>}</code> and interprets them as its own formatters preventing the String to be formatted:</p>\n<pre><code>import java.math.BigDecimal;\nimport java.text.MessageFormat;\n\npublic class Test {\n\n    public static void main(final String[] args) {\n        System.out.println(MessageFormat.format(&quot;&quot;&quot;\n                {\n                    &quot;a&quot;: &quot;{0}&quot;,\n                 {\n                  &quot;b&quot;: &quot;{0}&quot;\n                  &quot;c&quot;: &quot;{0}&quot;\n                  &quot;d&quot;: {1,number,#.##}\n                 }\n                }&quot;&quot;&quot;, &quot;Test&quot;, new BigDecimal(&quot;10.123&quot;)));\n    }\n}\n</code></pre>\n<p>Here's the stack trace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: can't parse argument number: \n    &quot;a&quot;: &quot;{0}&quot;\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1454)\n    at java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:492)\n    at java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:371)\n    at java.base/java.text.MessageFormat.format(MessageFormat.java:860)\n    at Test.main(Test.java:9)\nCaused by: java.lang.NumberFormatException: For input string: &quot;\n    &quot;a&quot;: &quot;{0}&quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:654)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1452)\n    ... 4 more\n</code></pre>\n<p>What's the correct way to escape these symbols in order to MessageFormat actually formats the String?</p>\n"},{"tags":["java","selenium","autocomplete","dropdown"],"answers":[{"tags":[],"owner":{"account_id":23832164,"reputation":1,"user_id":17838312,"display_name":"Kassa The Magnificent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641367253,"creation_date":1641367253,"answer_id":70589117,"question_id":70588737,"body_markdown":"If you are know the option just type the complete option value using send keys. Then use sendKeys(Keys.RETURN) to the same object and try.","title":"Now able to handle autocomplete dropdown","body":"<p>If you are know the option just type the complete option value using send keys. Then use sendKeys(Keys.RETURN) to the same object and try.</p>\n"},{"tags":[],"owner":{"account_id":13919235,"reputation":113,"user_id":10050131,"display_name":"Pramod Kajla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641613222,"creation_date":1641577921,"answer_id":70625284,"question_id":70588737,"body_markdown":"I was also facing same issue. While entering text manually using keyboard, it shows the auto-complete suggestions but with Selenium it doesn&#39;t. So in case of selenium, Firstly you need to enter the required text in the input field and then use **down arrow** in send keys. e.g.:\r\n\r\n    element.sendKeys(&quot;Required Text&quot;);    \r\n    element.sendKeys(Keys.ARROW_DOWN);\r\n\r\nMake sure that locator for element is exactly pointing to the input field (not it&#39;s parent elements or some other elements). You might need to give a small wait after entering text and after clicking on down arrow, So that field loads it&#39;s content. You can also try using some other arrow functions or different keys like **Keys.ENTER**.","title":"Now able to handle autocomplete dropdown","body":"<p>I was also facing same issue. While entering text manually using keyboard, it shows the auto-complete suggestions but with Selenium it doesn't. So in case of selenium, Firstly you need to enter the required text in the input field and then use <strong>down arrow</strong> in send keys. e.g.:</p>\n<pre><code>element.sendKeys(&quot;Required Text&quot;);    \nelement.sendKeys(Keys.ARROW_DOWN);\n</code></pre>\n<p>Make sure that locator for element is exactly pointing to the input field (not it's parent elements or some other elements). You might need to give a small wait after entering text and after clicking on down arrow, So that field loads it's content. You can also try using some other arrow functions or different keys like <strong>Keys.ENTER</strong>.</p>\n"}],"owner":{"account_id":23831873,"reputation":1,"user_id":17838049,"display_name":"sarthak deshpande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641613222,"creation_date":1641364852,"question_id":70588737,"body_markdown":"**Handle Autocorrect Dropdown in Java Selenium**\r\n I am facing one issue when handling autocorrect dropdown, when testing manually the dropdown is working fine but when i execute the test ,and sendkeys some text the dropdown gives no suggestion, i triesby adding some wait but still not working, please help me out with this","title":"Now able to handle autocomplete dropdown","body":"<p><strong>Handle Autocorrect Dropdown in Java Selenium</strong>\nI am facing one issue when handling autocorrect dropdown, when testing manually the dropdown is working fine but when i execute the test ,and sendkeys some text the dropdown gives no suggestion, i triesby adding some wait but still not working, please help me out with this</p>\n"},{"tags":["javascript","java","c#","reactjs","jquery-ui"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641614694,"post_id":70629432,"comment_id":124856844,"body_markdown":"Simple solution: Use other protocol than http(s)/don&#39;t use browser!;)","body":"Simple solution: Use other protocol than http(s)/don&#39;t use browser!;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1641614826,"post_id":70629432,"comment_id":124856856,"body_markdown":"Just &quot;don&#39;t worry&quot;! The server can/*will* decode it back. (If it is conform with http;)","body":"Just &quot;don&#39;t worry&quot;! The server can/*will* decode it back. (If it is conform with http;)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641641669,"post_id":70629432,"comment_id":124860673,"body_markdown":"The `#` has a special meaning in URLs, so it has to be encoded.","body":"The <code>#</code> has a special meaning in URLs, so it has to be encoded."}],"owner":{"account_id":23866272,"reputation":1,"user_id":17868550,"display_name":"kalyan s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641613164,"creation_date":1641613164,"question_id":70629432,"body_markdown":"I wanted to stop URL encoding for reactjs form password filed, when I entered the &#39;#&quot; in password browser automatically converts it into URL encoding format like &#39;%23&#39;, want to stop that or any other solution for this issue.\r\n\r\nform is like:\r\n                    \r\n\r\n                  labels={{\r\n                            passwordInputLabel: &#39;Password&#39;,\r\n                            passwordPlaceHolder: &#39;Enter password&#39;,\r\n                            loginButtonMessage: &#39;Logging In&#39;\r\n","title":"How can I stop the browser from url-encoding for react js form for POST data values with password field value included with #","body":"<p>I wanted to stop URL encoding for reactjs form password filed, when I entered the '#&quot; in password browser automatically converts it into URL encoding format like '%23', want to stop that or any other solution for this issue.</p>\n<p>form is like:</p>\n<pre><code>              labels={{\n                        passwordInputLabel: 'Password',\n                        passwordPlaceHolder: 'Enter password',\n                        loginButtonMessage: 'Logging In'\n</code></pre>\n"},{"tags":["java","groovy","intellij-idea"],"comments":[{"owner":{"account_id":75292,"reputation":60810,"user_id":216021,"accept_rate":82,"display_name":"kostja"},"score":0,"creation_date":1383135942,"post_id":3166883,"comment_id":29232817,"body_markdown":"update: the issue in question (http://youtrack.jetbrains.com/issue/IDEA-13030) has been fixed in build 104.127","body":"update: the issue in question (<a href=\"http://youtrack.jetbrains.com/issue/IDEA-13030\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-13030</a>) has been fixed in build 104.127"}],"answers":[{"tags":[],"owner":{"account_id":160574,"reputation":15892,"user_id":380734,"accept_rate":81,"display_name":"Noel M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438264352,"creation_date":1278084879,"answer_id":3167110,"question_id":3166883,"body_markdown":"You should have a look in Settings &gt; Editor &gt; Code Completion\r\n\r\nOptions are limited but this seems to be place you could find what you need","title":"Hiding base class methods in code completion in Intellij?","body":"<p>You should have a look in Settings > Editor > Code Completion</p>\n\n<p>Options are limited but this seems to be place you could find what you need</p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1278090171,"creation_date":1278090171,"answer_id":3167694,"question_id":3166883,"body_markdown":"There is an [open issue][1] for this. Feel free to vote.\r\n\r\n\r\n  [1]: http://youtrack.jetbrains.net/issue/IDEA-13030","title":"Hiding base class methods in code completion in Intellij?","body":"<p>There is an <a href=\"http://youtrack.jetbrains.net/issue/IDEA-13030\" rel=\"noreferrer\">open issue</a> for this. Feel free to vote.</p>\n"},{"tags":[],"owner":{"account_id":12525855,"reputation":320,"user_id":9115712,"display_name":"SMMH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641613036,"creation_date":1641613036,"answer_id":70629421,"question_id":3166883,"body_markdown":"I was having the same problem, and looks like they&#39;ve added this. Just go to here:\r\n\r\n- Settings &gt; Editor &gt; General &gt; Auto Import &gt; **Exclude from auto-import and completion**\r\n\r\nClick on + and add your class or member name and then configure its scope (IDE or Project).","title":"Hiding base class methods in code completion in Intellij?","body":"<p>I was having the same problem, and looks like they've added this. Just go to here:</p>\n<ul>\n<li>Settings &gt; Editor &gt; General &gt; Auto Import &gt; <strong>Exclude from auto-import and completion</strong></li>\n</ul>\n<p>Click on + and add your class or member name and then configure its scope (IDE or Project).</p>\n"}],"owner":{"account_id":67421,"reputation":5571,"user_id":197319,"accept_rate":73,"display_name":"Eric Hauser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3167694,"answer_count":3,"score":7,"last_activity_date":1641613036,"creation_date":1278082983,"question_id":3166883,"body_markdown":"Does Intellij have any way of customizing the filtering the methods that are displayed for code completion?  For instance, if I have a class that implements a Collection, there are a large number of methods that will be displayed when hitting Ctrl-Space or Ctrl-Shift-Space.  I would like to be able to code complete only have the methods of the current object displayed.  Being able to configure the filtering of methods of certain classes would work as well.\r\n\r\nThis is particularly annoying in Groovy due to the large amount of methods for Collections.  I am rarely looking to code complete on them since I know them, but they add a lot of noise to the code complete dropdown.","title":"Hiding base class methods in code completion in Intellij?","body":"<p>Does Intellij have any way of customizing the filtering the methods that are displayed for code completion?  For instance, if I have a class that implements a Collection, there are a large number of methods that will be displayed when hitting Ctrl-Space or Ctrl-Shift-Space.  I would like to be able to code complete only have the methods of the current object displayed.  Being able to configure the filtering of methods of certain classes would work as well.</p>\n\n<p>This is particularly annoying in Groovy due to the large amount of methods for Collections.  I am rarely looking to code complete on them since I know them, but they add a lot of noise to the code complete dropdown.</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1641598688,"post_id":70628321,"comment_id":124854863,"body_markdown":"It depends on the class design. SonarQube complains because we leak internal fields (i.e. `myList`) to the outside, permitting the calling side to modify this list. Depending on the design, this may be desired, or it may not.","body":"It depends on the class design. SonarQube complains because we leak internal fields (i.e. <code>myList</code>) to the outside, permitting the calling side to modify this list. Depending on the design, this may be desired, or it may not."},{"owner":{"account_id":1196041,"reputation":711,"user_id":1167753,"accept_rate":50,"display_name":"user1167753"},"score":0,"creation_date":1641672302,"post_id":70628321,"comment_id":124867850,"body_markdown":"hmm I tried to create new list and return it but in this case sonarqube says that there is no need to create new object or something like this :)","body":"hmm I tried to create new list and return it but in this case sonarqube says that there is no need to create new object or something like this :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641693385,"post_id":70628321,"comment_id":124871572,"body_markdown":"everytime when &quot;sonarcube says something..or so&quot;, it has also a description as non-/compliant examples! ;)","body":"everytime when &quot;sonarcube says something..or so&quot;, it has also a description as non-/compliant examples! ;)"}],"owner":{"account_id":1196041,"reputation":711,"user_id":1167753,"accept_rate":50,"display_name":"user1167753"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641612908,"creation_date":1641598509,"question_id":70628321,"body_markdown":"I have the following code:\r\n\r\n    private List&lt;String&gt; myList ;\r\n    private void init() {\r\n        myList = new ArrayList();\r\n    }\r\n\r\n    public List&lt;String&gt; getmyList() {\r\n        return myList ;\r\n    }\r\n\r\nSonarqube gives me the folloing msg:\r\n\r\n    Return a copy of &quot;myList&quot;\r\n\r\nQuestion: Do I really need to create a copy of myList or how to deal with this? Should I close it like false positive?","title":"Sonarqube Return a copy of &quot;myList&quot;","body":"<p>I have the following code:</p>\n<pre><code>private List&lt;String&gt; myList ;\nprivate void init() {\n    myList = new ArrayList();\n}\n\npublic List&lt;String&gt; getmyList() {\n    return myList ;\n}\n</code></pre>\n<p>Sonarqube gives me the folloing msg:</p>\n<pre><code>Return a copy of &quot;myList&quot;\n</code></pre>\n<p>Question: Do I really need to create a copy of myList or how to deal with this? Should I close it like false positive?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1641611655,"post_id":70629260,"comment_id":124856543,"body_markdown":"is it the player can have only 7 items in the rack ? \nIn the question class, please include the setting of the player before calling the swap so that people can copy to their ides and assist you","body":"is it the player can have only 7 items in the rack ?  In the question class, please include the setting of the player before calling the swap so that people can copy to their ides and assist you"},{"owner":{"account_id":23866009,"reputation":1,"user_id":17868336,"display_name":"Edvin"},"score":0,"creation_date":1641611929,"post_id":70629260,"comment_id":124856572,"body_markdown":"Yes Player has a Rack which always has a 7 items(Fields) inside.","body":"Yes Player has a Rack which always has a 7 items(Fields) inside."},{"owner":{"account_id":23866009,"reputation":1,"user_id":17868336,"display_name":"Edvin"},"score":0,"creation_date":1641612342,"post_id":70629260,"comment_id":124856611,"body_markdown":"just did a small adjustment so you could run the main of the class Question to see. In my original project the method swap() is in the class named Game, just pointing out for logical pattern, doesnt make difference for a bugg","body":"just did a small adjustment so you could run the main of the class Question to see. In my original project the method swap() is in the class named Game, just pointing out for logical pattern, doesnt make difference for a bugg"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1641612682,"post_id":70629260,"comment_id":124856658,"body_markdown":"i can&#39;t see the changes in the Question class.","body":"i can&#39;t see the changes in the Question class."},{"owner":{"account_id":23866009,"reputation":1,"user_id":17868336,"display_name":"Edvin"},"score":0,"creation_date":1641642588,"post_id":70629260,"comment_id":124860841,"body_markdown":"I added main and Player object now you can literally use main to see how it works","body":"I added main and Player object now you can literally use main to see how it works"}],"owner":{"account_id":23866009,"reputation":1,"user_id":17868336,"display_name":"Edvin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641612271,"creation_date":1641610309,"question_id":70629260,"body_markdown":"Currently I am working on the code in Java where each Player has a Rack object, and a method where I am encoutering a bug is a methos swap() , which should delete Fields(enumeration) from the requested indexes in the rack, and replace it with a random Field instead.\r\nI attach all the code with irrelevant code deleted:\r\nI have created a separate class called question where I have copied the buggy method called swap()\r\n```\r\npublic class Question {\r\n\t\r\n\t\r\n\tprivate Player player;\r\n\t\r\n\t\r\n\tQuestion(Player p){\r\n\t\tplayer=p;\r\n\t}\r\n\t\r\n\tLetterBag lb = new LetterBag();\r\n\t\r\n\tpublic LetterBag getLetterBag() {\r\n\t\treturn lb;\r\n\t}\r\n\t\r\n\tpublic void swap(Player p) {\r\n\t\tSystem.out.println(&quot;Your rack is &quot;+p.getRack().getRack().toString());\r\n\t\tSystem.out.println(&quot;Please input which indexes of tiles you want to change, and separate them by a space please&quot;);\r\n\t\tString input = TextIO.getln();\r\n\t\tString[] indexes;\r\n\t\tindexes = input.split(&quot; &quot;);\r\n\t\tArrayList&lt;Integer&gt; id = new ArrayList&lt;&gt;();\r\n\t\tfor (String s : indexes) {\r\n\t\t\tid.add(Integer.parseInt(s));\r\n\t\t}\r\n\t\t//until here works, id has all the indexes correctly passed\r\n\t\t\r\n\t\tSystem.out.println(&quot;the size of the array is &quot;+p.getRack().getRack().size());\r\n\t\tfor(int i=0;i&lt;p.getRack().getRack().size();i++) {\r\n\t\t\tSystem.out.println(&quot;the current index is &quot; +i);\r\n\t\t\tSystem.out.println( &quot;the current rack field is&quot;+p.getRack().getRack().get(i));\r\n\t\t}\r\n\t\t//correctly goes through the rack before this\r\n\t\t\r\n\t\tfor (Integer i : id) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(i);\r\n\t\t\t\r\n\t\t\tSystem.out.println(p.getRack().getRack().get(i));\r\n\t\t\tField temporary = p.getRack().getRack().get(i); //???? wrong here!\r\n\t\t\tp.getRack().getRack().remove(temporary);\r\n\t\t\tSystem.out.println(&quot;Here we removed the requested fields in the rack,the rack is:&quot;);\r\n\t\t\tSystem.out.println(p.getRack().getRack().toString());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;after this here is a while loop to put elements back&quot;);\r\n\t\tSystem.out.println(&quot;here is the rack size now &quot;+ p.getRack().getRack().size());\r\n\t\twhile (p.getRack().getRack().size() &lt; 7 ) {\r\n\t\t\tSystem.out.println(&quot;we get to this part of the code&quot;);\r\n\t\t\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\t\t\tSystem.out.println(&quot;We get here as well&quot;);\r\n\t\t\t\t   Field tp = this.getLetterBag().getRandom();\r\n\t\t\t\t\tp.getRack().getRack().add(tp);\r\n\t\t\t\t\tSystem.out.println(&quot;The length of the bag of letters is &quot;+getLetterBag().getBagOfLetters().size());\r\n\t\t\t\t\tthis.getLetterBag().getBagOfLetters().remove(tp);\r\n\t\t\t\t\tSystem.out.println(&quot;The length of the bag of letters is after remove &quot;+getLetterBag().getBagOfLetters().size());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t}\r\npublic static void main(String[] args) {\r\n\tPlayer player = new Player();\r\n\tQuestion q = new Question(player);\r\n\tq.swap(player);\r\n\t\r\n\t\r\n}\r\n```\r\nThere is a lot of prints in order to track where the problem occurs.\r\nWhen I start to iterate through the integers in the id array, it prints the correct indexes but accesses the wrong fields from the rack.\r\nIn addition, later in the While loop, it iterates about 6 times, while it should only until the rack is of size 7.\r\n\r\nI will add all other relevant classes with minimum relevant info:\r\n```\r\npublic enum Field {\r\n\t\r\n\tSTAR,TW,DW,TL,DL,EMPTY,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,BLANK;\r\n\r\n}\r\n\r\n```\r\nenumeration which is used in the rack,\r\n\r\n```\r\n\tpublic class LetterBag {\r\n\r\n\t\tprivate ArrayList&lt;Field&gt; bagOfLetters;\r\n\t\tprivate Random random = new Random();\r\n\r\n//\t\tprivate ArrayList&lt;Field&gt; rack;\r\n\r\n\t\tprivate Field[] bw = { Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A,\r\n\t\t\t\tField.B, Field.B, Field.C, Field.C, Field.D, Field.D, Field.D, Field.D, Field.E, Field.E, Field.E, Field.E,\r\n\t\t\t\tField.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.F, Field.F, Field.G, Field.G,\r\n\t\t\t\tField.H, Field.H, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.J, Field.J,\r\n\t\t\t\tField.K, Field.K, Field.L, Field.L, Field.L, Field.L, Field.M, Field.M, Field.N, Field.N, Field.N, Field.N,\r\n\t\t\t\tField.N, Field.N, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.P, Field.P,\r\n\t\t\t\tField.Q, Field.R, Field.R, Field.R, Field.R, Field.R, Field.R, Field.S, Field.S, Field.S, Field.S, Field.T,\r\n\t\t\t\tField.T, Field.T, Field.T, Field.T, Field.T, Field.U, Field.U, Field.U, Field.U, Field.V, Field.V, Field.W,\r\n\t\t\t\tField.W, Field.X, Field.Y, Field.Y, Field.Z, Field.Z, Field.BLANK, Field.BLANK };\r\n\r\n\t\tpublic LetterBag() {\r\n\r\n\t\t\tbagOfLetters = new ArrayList&lt;Field&gt;();\r\n\t\t\tfor (int i = 0; i &lt; bw.length; i++) {\r\n\t\t\t\tbagOfLetters.add(bw[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\t\tpublic ArrayList&lt;Field&gt; reset(){\r\n\t\t\tbagOfLetters = new ArrayList&lt;Field&gt;();\r\n\t\t\tfor (int i = 0; i &lt; bw.length; i++) {\r\n\t\t\t\tbagOfLetters.add(bw[i]);\r\n\t\t\t}\r\n\t\t\treturn bagOfLetters;\r\n\t\t}\r\n\t\t\r\n\t\tpublic ArrayList&lt;Field&gt; getBagOfLetters() {\r\n\t\t\treturn bagOfLetters;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Field getRandom() {\r\n\t\t\treturn this.getBagOfLetters().get(random.nextInt(this.getBagOfLetters().size()));\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n}\r\n```\r\nthis is the bag from where I access new Fields when I remove and add new one in the swap() method.\r\n\r\n```\r\npublic class Player {\r\n\r\n\tprivate Rack rack;\r\n\t// -- Constructors -----------------------------------------------\r\n\r\n\tpublic Player() {\r\n\t\tthis.rack = new Rack();\r\n\t}\r\n\r\n\r\n\tpublic Rack getRack() {\r\n\t\treturn this.rack;\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class Rack {\r\n\t\t\r\n\t\tprivate ArrayList&lt;Field&gt; rack;\r\n\t\t/*\r\n\t\t *a new bag of letters is initialized to create a rack since it is not said in the rules \r\n\t\t * that a rack should be initialized from the general one.\r\n\t\t * Later the general one is used to progress with the game, the one both players use to derive the new tiles.\r\n\t\t */\r\n\t\tprivate LetterBag lb = new LetterBag(); \r\n\t\t\r\n\t\tpublic Rack() {\r\n\t\t\track = new ArrayList&lt;Field&gt;();\r\n\t\t\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\t\t\tField tp = lb.getRandom();\r\n\t\t\t\t\track.add(tp);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\tpublic ArrayList&lt;Field&gt; getRack() {\r\n\t\t\treturn rack;\r\n\r\n\t\t}\r\n}\r\n```\r\nand a rack itself.\r\n\r\nIt does iterate through it before in the swap() method correctly as is commented in the method.\r\nWhy could this happed?\r\nCan it be because it iterates throgh Integer not int? However it should not be a problem as much as i am aware. \r\nI will also attach the output of the console:\r\n```\r\nYou rack is :[L, E, A, U, V, W, O]\r\nPlease input which indexes of tiles you want to change, and separate them by a space please\r\n1 2 3\r\nthe size of the array is 7\r\nthe current index is 0\r\nthe current rack field isL\r\nthe current index is 1\r\nthe current rack field isE\r\nthe current index is 2\r\nthe current rack field isA\r\nthe current index is 3\r\nthe current rack field isU\r\nthe current index is 4\r\nthe current rack field isV\r\nthe current index is 5\r\nthe current rack field isW\r\nthe current index is 6\r\nthe current rack field isO\r\n1\r\nE\r\nHere we removed the requested fields in the rack,the rack is:\r\n[L, A, U, V, W, O]\r\n2\r\nU\r\nHere we removed the requested fields in the rack,the rack is:\r\n[L, A, V, W, O]\r\n3\r\nW\r\nHere we removed the requested fields in the rack,the rack is:\r\n[L, A, V, O]\r\nafter this here is a while loop to put elements back\r\nhere is the rack size now 4\r\nwe get to this part of the code\r\nWe get here as well\r\nThe length of the bag of letters is 102\r\nThe length of the bag of letters is after remove 101\r\nWe get here as well\r\nThe length of the bag of letters is 101\r\nThe length of the bag of letters is after remove 100\r\nWe get here as well\r\nThe length of the bag of letters is 100\r\nThe length of the bag of letters is after remove 99\r\nWe get here as well\r\nThe length of the bag of letters is 99\r\nThe length of the bag of letters is after remove 98\r\nWe get here as well\r\nThe length of the bag of letters is 98\r\nThe length of the bag of letters is after remove 97\r\nWe get here as well\r\nThe length of the bag of letters is 97\r\nThe length of the bag of letters is after remove 96\r\nWe get here as well\r\nThe length of the bag of letters is 96\r\nThe length of the bag of letters is after remove 95\r\n\r\n```\r\n","title":"The array indexes arent correctly accessed within my code, also the iteration within while loop is wrong","body":"<p>Currently I am working on the code in Java where each Player has a Rack object, and a method where I am encoutering a bug is a methos swap() , which should delete Fields(enumeration) from the requested indexes in the rack, and replace it with a random Field instead.\nI attach all the code with irrelevant code deleted:\nI have created a separate class called question where I have copied the buggy method called swap()</p>\n<pre><code>public class Question {\n    \n    \n    private Player player;\n    \n    \n    Question(Player p){\n        player=p;\n    }\n    \n    LetterBag lb = new LetterBag();\n    \n    public LetterBag getLetterBag() {\n        return lb;\n    }\n    \n    public void swap(Player p) {\n        System.out.println(&quot;Your rack is &quot;+p.getRack().getRack().toString());\n        System.out.println(&quot;Please input which indexes of tiles you want to change, and separate them by a space please&quot;);\n        String input = TextIO.getln();\n        String[] indexes;\n        indexes = input.split(&quot; &quot;);\n        ArrayList&lt;Integer&gt; id = new ArrayList&lt;&gt;();\n        for (String s : indexes) {\n            id.add(Integer.parseInt(s));\n        }\n        //until here works, id has all the indexes correctly passed\n        \n        System.out.println(&quot;the size of the array is &quot;+p.getRack().getRack().size());\n        for(int i=0;i&lt;p.getRack().getRack().size();i++) {\n            System.out.println(&quot;the current index is &quot; +i);\n            System.out.println( &quot;the current rack field is&quot;+p.getRack().getRack().get(i));\n        }\n        //correctly goes through the rack before this\n        \n        for (Integer i : id) {\n            \n            System.out.println(i);\n            \n            System.out.println(p.getRack().getRack().get(i));\n            Field temporary = p.getRack().getRack().get(i); //???? wrong here!\n            p.getRack().getRack().remove(temporary);\n            System.out.println(&quot;Here we removed the requested fields in the rack,the rack is:&quot;);\n            System.out.println(p.getRack().getRack().toString());\n        }\n        System.out.println(&quot;after this here is a while loop to put elements back&quot;);\n        System.out.println(&quot;here is the rack size now &quot;+ p.getRack().getRack().size());\n        while (p.getRack().getRack().size() &lt; 7 ) {\n            System.out.println(&quot;we get to this part of the code&quot;);\n            for (int i = 0; i &lt; 7; i++) {\n                System.out.println(&quot;We get here as well&quot;);\n                   Field tp = this.getLetterBag().getRandom();\n                    p.getRack().getRack().add(tp);\n                    System.out.println(&quot;The length of the bag of letters is &quot;+getLetterBag().getBagOfLetters().size());\n                    this.getLetterBag().getBagOfLetters().remove(tp);\n                    System.out.println(&quot;The length of the bag of letters is after remove &quot;+getLetterBag().getBagOfLetters().size());\n                }\n            }\n\n    }\npublic static void main(String[] args) {\n    Player player = new Player();\n    Question q = new Question(player);\n    q.swap(player);\n    \n    \n}\n</code></pre>\n<p>There is a lot of prints in order to track where the problem occurs.\nWhen I start to iterate through the integers in the id array, it prints the correct indexes but accesses the wrong fields from the rack.\nIn addition, later in the While loop, it iterates about 6 times, while it should only until the rack is of size 7.</p>\n<p>I will add all other relevant classes with minimum relevant info:</p>\n<pre><code>public enum Field {\n    \n    STAR,TW,DW,TL,DL,EMPTY,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,BLANK;\n\n}\n\n</code></pre>\n<p>enumeration which is used in the rack,</p>\n<pre><code>    public class LetterBag {\n\n        private ArrayList&lt;Field&gt; bagOfLetters;\n        private Random random = new Random();\n\n//      private ArrayList&lt;Field&gt; rack;\n\n        private Field[] bw = { Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A, Field.A,\n                Field.B, Field.B, Field.C, Field.C, Field.D, Field.D, Field.D, Field.D, Field.E, Field.E, Field.E, Field.E,\n                Field.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.E, Field.F, Field.F, Field.G, Field.G,\n                Field.H, Field.H, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.I, Field.J, Field.J,\n                Field.K, Field.K, Field.L, Field.L, Field.L, Field.L, Field.M, Field.M, Field.N, Field.N, Field.N, Field.N,\n                Field.N, Field.N, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.O, Field.P, Field.P,\n                Field.Q, Field.R, Field.R, Field.R, Field.R, Field.R, Field.R, Field.S, Field.S, Field.S, Field.S, Field.T,\n                Field.T, Field.T, Field.T, Field.T, Field.T, Field.U, Field.U, Field.U, Field.U, Field.V, Field.V, Field.W,\n                Field.W, Field.X, Field.Y, Field.Y, Field.Z, Field.Z, Field.BLANK, Field.BLANK };\n\n        public LetterBag() {\n\n            bagOfLetters = new ArrayList&lt;Field&gt;();\n            for (int i = 0; i &lt; bw.length; i++) {\n                bagOfLetters.add(bw[i]);\n            }\n\n        }\n\n\n        public ArrayList&lt;Field&gt; reset(){\n            bagOfLetters = new ArrayList&lt;Field&gt;();\n            for (int i = 0; i &lt; bw.length; i++) {\n                bagOfLetters.add(bw[i]);\n            }\n            return bagOfLetters;\n        }\n        \n        public ArrayList&lt;Field&gt; getBagOfLetters() {\n            return bagOfLetters;\n        }\n        \n        public Field getRandom() {\n            return this.getBagOfLetters().get(random.nextInt(this.getBagOfLetters().size()));\n            \n        }\n\n\n}\n</code></pre>\n<p>this is the bag from where I access new Fields when I remove and add new one in the swap() method.</p>\n<pre><code>public class Player {\n\n    private Rack rack;\n    // -- Constructors -----------------------------------------------\n\n    public Player() {\n        this.rack = new Rack();\n    }\n\n\n    public Rack getRack() {\n        return this.rack;\n    }\n\n\n}\n</code></pre>\n<pre><code>public class Rack {\n        \n        private ArrayList&lt;Field&gt; rack;\n        /*\n         *a new bag of letters is initialized to create a rack since it is not said in the rules \n         * that a rack should be initialized from the general one.\n         * Later the general one is used to progress with the game, the one both players use to derive the new tiles.\n         */\n        private LetterBag lb = new LetterBag(); \n        \n        public Rack() {\n            rack = new ArrayList&lt;Field&gt;();\n            for (int i = 0; i &lt; 7; i++) {\n                Field tp = lb.getRandom();\n                    rack.add(tp);\n                    \n                }\n            }\n        \n        public ArrayList&lt;Field&gt; getRack() {\n            return rack;\n\n        }\n}\n</code></pre>\n<p>and a rack itself.</p>\n<p>It does iterate through it before in the swap() method correctly as is commented in the method.\nWhy could this happed?\nCan it be because it iterates throgh Integer not int? However it should not be a problem as much as i am aware.\nI will also attach the output of the console:</p>\n<pre><code>You rack is :[L, E, A, U, V, W, O]\nPlease input which indexes of tiles you want to change, and separate them by a space please\n1 2 3\nthe size of the array is 7\nthe current index is 0\nthe current rack field isL\nthe current index is 1\nthe current rack field isE\nthe current index is 2\nthe current rack field isA\nthe current index is 3\nthe current rack field isU\nthe current index is 4\nthe current rack field isV\nthe current index is 5\nthe current rack field isW\nthe current index is 6\nthe current rack field isO\n1\nE\nHere we removed the requested fields in the rack,the rack is:\n[L, A, U, V, W, O]\n2\nU\nHere we removed the requested fields in the rack,the rack is:\n[L, A, V, W, O]\n3\nW\nHere we removed the requested fields in the rack,the rack is:\n[L, A, V, O]\nafter this here is a while loop to put elements back\nhere is the rack size now 4\nwe get to this part of the code\nWe get here as well\nThe length of the bag of letters is 102\nThe length of the bag of letters is after remove 101\nWe get here as well\nThe length of the bag of letters is 101\nThe length of the bag of letters is after remove 100\nWe get here as well\nThe length of the bag of letters is 100\nThe length of the bag of letters is after remove 99\nWe get here as well\nThe length of the bag of letters is 99\nThe length of the bag of letters is after remove 98\nWe get here as well\nThe length of the bag of letters is 98\nThe length of the bag of letters is after remove 97\nWe get here as well\nThe length of the bag of letters is 97\nThe length of the bag of letters is after remove 96\nWe get here as well\nThe length of the bag of letters is 96\nThe length of the bag of letters is after remove 95\n\n</code></pre>\n"},{"tags":["java","swing","random","jbutton"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":5,"creation_date":1496383443,"post_id":44321811,"comment_id":75648705,"body_markdown":"changing the text of the buttons instead of its positions in layout will be 100 times better.... can be that a solution?","body":"changing the text of the buttons instead of its positions in layout will be 100 times better.... can be that a solution?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1496383600,"post_id":44321811,"comment_id":75648785,"body_markdown":"Add them to some kind of `List`, use `Collections.shuffle` to randomise the `List` and then add the buttons","body":"Add them to some kind of <code>List</code>, use <code>Collections.shuffle</code> to randomise the <code>List</code> and then add the buttons"}],"answers":[{"tags":[],"owner":{"account_id":11943073,"reputation":11,"user_id":8739189,"display_name":"Mike Mendizabal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641611927,"creation_date":1641611927,"answer_id":70629364,"question_id":44321811,"body_markdown":"JPanel does have an overloaded add method that takes a Component and an int: add(Component,int). By using Math.random(), multiplying it, then converting it to an integer, you can use that overload to randomize the position to insert the component. For jButton1, it can stay the way it is. Starting with jButton2, code:\r\n```\r\njpanel1.add(jButton2, (int)(Math.random() * 2));\r\n```\r\nThis will insert jButton2 at either before or after jButton1. For jButton3, code:\r\n```\r\njpanel1.add(jButton3, (int)(Math.random() * 3));\r\n```\r\nAnd so forth. Make sure that all (Math.random() * int) are in parentheses after (int) or it will not evaluate correctly.\r\n","title":"Shuffle JButton position inside JPanel","body":"<p>JPanel does have an overloaded add method that takes a Component and an int: add(Component,int). By using Math.random(), multiplying it, then converting it to an integer, you can use that overload to randomize the position to insert the component. For jButton1, it can stay the way it is. Starting with jButton2, code:</p>\n<pre><code>jpanel1.add(jButton2, (int)(Math.random() * 2));\n</code></pre>\n<p>This will insert jButton2 at either before or after jButton1. For jButton3, code:</p>\n<pre><code>jpanel1.add(jButton3, (int)(Math.random() * 3));\n</code></pre>\n<p>And so forth. Make sure that all (Math.random() * int) are in parentheses after (int) or it will not evaluate correctly.</p>\n"}],"owner":{"account_id":11029648,"reputation":33,"user_id":8101351,"display_name":"Eren_Jaeger_Snk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641611927,"creation_date":1496383164,"question_id":44321811,"body_markdown":"I&#39;ve made 9 buttons inside `JPanel` using netbeans IDE 8.2, but I am confused how to make the position of 9 buttons to be random.\r\n\r\nThis is my code:\r\n\r\n   \r\n\r\n        /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package projetu;\r\n    \r\n    /**\r\n     *\r\n     * @author USER\r\n     */\r\n    public class shuffle extends javax.swing.JFrame {\r\n    \r\n        /**\r\n         * Creates new form shuffle\r\n         */\r\n        public shuffle() {\r\n            initComponents();\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jPanel1 = new javax.swing.JPanel();\r\n            jButton1 = new javax.swing.JButton();\r\n            jButton2 = new javax.swing.JButton();\r\n            jButton3 = new javax.swing.JButton();\r\n            jButton4 = new javax.swing.JButton();\r\n            jButton5 = new javax.swing.JButton();\r\n            jButton6 = new javax.swing.JButton();\r\n            jButton7 = new javax.swing.JButton();\r\n            jButton8 = new javax.swing.JButton();\r\n            jButton9 = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            jPanel1.setLayout(new java.awt.GridLayout(3, 3));\r\n    \r\n            jButton1.setText(&quot;jButton1&quot;);\r\n            jPanel1.add(jButton1);\r\n    \r\n            jButton2.setText(&quot;jButton2&quot;);\r\n            jPanel1.add(jButton2);\r\n    \r\n            jButton3.setText(&quot;jButton3&quot;);\r\n            jPanel1.add(jButton3);\r\n    \r\n            jButton4.setText(&quot;jButton4&quot;);\r\n            jPanel1.add(jButton4);\r\n    \r\n            jButton5.setText(&quot;jButton5&quot;);\r\n            jPanel1.add(jButton5);\r\n    \r\n            jButton6.setText(&quot;jButton6&quot;);\r\n            jPanel1.add(jButton6);\r\n    \r\n            jButton7.setText(&quot;jButton7&quot;);\r\n            jPanel1.add(jButton7);\r\n    \r\n            jButton8.setText(&quot;jButton8&quot;);\r\n            jPanel1.add(jButton8);\r\n    \r\n            jButton9.setText(&quot;jButton9&quot;);\r\n            jPanel1.add(jButton9);\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addContainerGap())\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new shuffle().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JButton jButton2;\r\n        private javax.swing.JButton jButton3;\r\n        private javax.swing.JButton jButton4;\r\n        private javax.swing.JButton jButton5;\r\n        private javax.swing.JButton jButton6;\r\n        private javax.swing.JButton jButton7;\r\n        private javax.swing.JButton jButton8;\r\n        private javax.swing.JButton jButton9;\r\n        private javax.swing.JPanel jPanel1;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n","title":"Shuffle JButton position inside JPanel","body":"<p>I've made 9 buttons inside <code>JPanel</code> using netbeans IDE 8.2, but I am confused how to make the position of 9 buttons to be random.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    /*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage projetu;\n\n/**\n *\n * @author USER\n */\npublic class shuffle extends javax.swing.JFrame {\n\n    /**\n     * Creates new form shuffle\n     */\n    public shuffle() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n        jButton3 = new javax.swing.JButton();\n        jButton4 = new javax.swing.JButton();\n        jButton5 = new javax.swing.JButton();\n        jButton6 = new javax.swing.JButton();\n        jButton7 = new javax.swing.JButton();\n        jButton8 = new javax.swing.JButton();\n        jButton9 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jPanel1.setLayout(new java.awt.GridLayout(3, 3));\n\n        jButton1.setText(\"jButton1\");\n        jPanel1.add(jButton1);\n\n        jButton2.setText(\"jButton2\");\n        jPanel1.add(jButton2);\n\n        jButton3.setText(\"jButton3\");\n        jPanel1.add(jButton3);\n\n        jButton4.setText(\"jButton4\");\n        jPanel1.add(jButton4);\n\n        jButton5.setText(\"jButton5\");\n        jPanel1.add(jButton5);\n\n        jButton6.setText(\"jButton6\");\n        jPanel1.add(jButton6);\n\n        jButton7.setText(\"jButton7\");\n        jPanel1.add(jButton7);\n\n        jButton8.setText(\"jButton8\");\n        jPanel1.add(jButton8);\n\n        jButton9.setText(\"jButton9\");\n        jPanel1.add(jButton9);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=\"collapsed\" desc=\" Look and feel setting code (optional) \"&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (\"Nimbus\".equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(shuffle.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new shuffle().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JButton jButton3;\n    private javax.swing.JButton jButton4;\n    private javax.swing.JButton jButton5;\n    private javax.swing.JButton jButton6;\n    private javax.swing.JButton jButton7;\n    private javax.swing.JButton jButton8;\n    private javax.swing.JButton jButton9;\n    private javax.swing.JPanel jPanel1;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","xml","android-constraintlayout"],"comments":[{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1640010795,"post_id":70423360,"comment_id":124486896,"body_markdown":"Can the code shared be more relevant? What are your custom views doing?","body":"Can the code shared be more relevant? What are your custom views doing?"},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1640011459,"post_id":70423360,"comment_id":124487160,"body_markdown":"Well. I can share more code sure. But this is the minimal example of what I assume is causing issues. I post a picture of the custom view","body":"Well. I can share more code sure. But this is the minimal example of what I assume is causing issues. I post a picture of the custom view"},{"owner":{"account_id":21316656,"reputation":2206,"user_id":15690398,"display_name":"che10"},"score":0,"creation_date":1640011878,"post_id":70423360,"comment_id":124487316,"body_markdown":"Maybe you can perhaps have them as `&lt;include&gt;` layouts, that might help. Currently there is less information to go upon. Having two nested constraint layouts or even three should not be that big a thing, especially since something like `CardView` or `ScrollView` can only have one child layout.","body":"Maybe you can perhaps have them as <code>&lt;include&gt;</code> layouts, that might help. Currently there is less information to go upon. Having two nested constraint layouts or even three should not be that big a thing, especially since something like <code>CardView</code> or <code>ScrollView</code> can only have one child layout."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1640012594,"post_id":70423360,"comment_id":124487600,"body_markdown":"Okay but this generally already solves the big question: Is this a bad design. So if it is not, I need to further investigate. Is there any possibility to see WHAT part of the inflation exactly takes this amount of time?","body":"Okay but this generally already solves the big question: Is this a bad design. So if it is not, I need to further investigate. Is there any possibility to see WHAT part of the inflation exactly takes this amount of time?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1641507802,"post_id":70423360,"comment_id":124829057,"body_markdown":"Have you measured the actual inflation time? Is it 500ms for just the line ` b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true)`? In the 500ms, are you inflating your custom view just once or multiple times?","body":"Have you measured the actual inflation time? Is it 500ms for just the line ` b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true)`? In the 500ms, are you inflating your custom view just once or multiple times?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1641507988,"post_id":70423360,"comment_id":124829117,"body_markdown":"You might consider [AsyncLayoutInflator](https://developer.android.com/reference/androidx/asynclayoutinflater/view/AsyncLayoutInflater) if you can&#39;t get the time down otherwise. There are restriction on its usage, but it may be worth a try.","body":"You might consider <a href=\"https://developer.android.com/reference/androidx/asynclayoutinflater/view/AsyncLayoutInflater\" rel=\"nofollow noreferrer\">AsyncLayoutInflator</a> if you can&#39;t get the time down otherwise. There are restriction on its usage, but it may be worth a try."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1641569202,"post_id":70423360,"comment_id":124845349,"body_markdown":"@Cheticamp I am inflating my view multiple times. The fragment in question has at least 8 of those custom views. Loading only a single one is not that bad. I meassured inflation time on the CustomEditText which is 30ms - 50 ms each. Never heared of AsyncLayoutInflator. I will have a look","body":"@Cheticamp I am inflating my view multiple times. The fragment in question has at least 8 of those custom views. Loading only a single one is not that bad. I meassured inflation time on the CustomEditText which is 30ms - 50 ms each. Never heared of AsyncLayoutInflator. I will have a look"}],"answers":[{"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640017025,"creation_date":1640016227,"answer_id":70424624,"question_id":70423360,"body_markdown":"I can suggest you some methods to analyze your layout :\r\n\r\n - You can use [Lint][1] tool . Select Analyze (from the top bar) -&gt; Inspect code -&gt; select your layout file or the whole project if you want. this will automatically detect problems in your layout and will suggests fixes for it.\r\n\r\n[![Lint tool ss][2]][2]\r\n - You can also use [Profile GPU rendering][3] in the developers option in your device. This tool allows you to see how long the layout-and-measurestage is taking for each frame of rendering. This data can help you diagnose runtime performance issues, and help you determine what, if any layout-and-measure issues you need to address.\r\n\r\n[![Profile GPU rendering][4]][4]\r\n\r\n - Or enable [Debug GPU Overdraw][5] option from the developer options to show which area of your ui is overdrawn. \r\n\r\n[![enter image description here][6]][6]  \r\n\r\n\r\nFor your help : [Inspect GPU rendering speed and overdraw][7]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/rendering/optimizing-view-hierarchies#lint\r\n  [2]: https://i.stack.imgur.com/MseCq.png\r\n  [3]: https://developer.android.com/topic/performance/rendering/optimizing-view-hierarchies#profile\r\n  [4]: https://i.stack.imgur.com/FYy8g.jpg\r\n  [5]: https://developer.android.com/topic/performance/rendering/overdraw#dgot\r\n  [6]: https://i.stack.imgur.com/h67bU.jpg\r\n  [7]: https://developer.android.com/topic/performance/rendering/inspect-gpu-rendering#debug_overdraw","title":"Nested Constraint layouts and huge layout inflation times","body":"<p>I can suggest you some methods to analyze your layout :</p>\n<ul>\n<li>You can use <a href=\"https://developer.android.com/topic/performance/rendering/optimizing-view-hierarchies#lint\" rel=\"nofollow noreferrer\">Lint</a> tool . Select Analyze (from the top bar) -&gt; Inspect code -&gt; select your layout file or the whole project if you want. this will automatically detect problems in your layout and will suggests fixes for it.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/MseCq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MseCq.png\" alt=\"Lint tool ss\" /></a></p>\n<ul>\n<li>You can also use <a href=\"https://developer.android.com/topic/performance/rendering/optimizing-view-hierarchies#profile\" rel=\"nofollow noreferrer\">Profile GPU rendering</a> in the developers option in your device. This tool allows you to see how long the layout-and-measurestage is taking for each frame of rendering. This data can help you diagnose runtime performance issues, and help you determine what, if any layout-and-measure issues you need to address.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/FYy8g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYy8g.jpg\" alt=\"Profile GPU rendering\" /></a></p>\n<ul>\n<li>Or enable <a href=\"https://developer.android.com/topic/performance/rendering/overdraw#dgot\" rel=\"nofollow noreferrer\">Debug GPU Overdraw</a> option from the developer options to show which area of your ui is overdrawn.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/h67bU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h67bU.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For your help : <a href=\"https://developer.android.com/topic/performance/rendering/inspect-gpu-rendering#debug_overdraw\" rel=\"nofollow noreferrer\">Inspect GPU rendering speed and overdraw</a></p>\n"},{"tags":[],"owner":{"account_id":5306534,"reputation":1353,"user_id":5076051,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641408719,"creation_date":1641408351,"answer_id":70598079,"question_id":70423360,"body_markdown":"I would suggest using ViewStubs for all of the optional parts of the layout, that is items with gone visibility by default. Then these parts won&#39;t be inflated until they become visible or are needed, which should save you some initial inflation time. \r\n\r\nAnd maybe you could eliminate the MaterialCardView and then combine the constraint layouts once there&#39;s no MaterialCardView between them, less layouts means less inflation time. It looks like you&#39;re using MaterialCardView for curved corners and shadows, but you could try to make your own background with curved corners and shadows and then apply it directly to the constraint layout to get the same effect with less layouts. \r\n\r\nIs there any reason why your custom view extends LinearLayoutCompat? Could make it a constraint layout and use merge as a root tag to eliminate one layout. \r\n\r\nAlso, you have a huge amount of code in your constructor which might be the biggest culprit, could you try putting timers in your constructor and logging how much time it takes for `b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true);\r\n` vs how much time it takes for everything else in there to complete. That will tell you if the problem is really layout related or if you&#39;re doing too many things in the constructor. ","title":"Nested Constraint layouts and huge layout inflation times","body":"<p>I would suggest using ViewStubs for all of the optional parts of the layout, that is items with gone visibility by default. Then these parts won't be inflated until they become visible or are needed, which should save you some initial inflation time.</p>\n<p>And maybe you could eliminate the MaterialCardView and then combine the constraint layouts once there's no MaterialCardView between them, less layouts means less inflation time. It looks like you're using MaterialCardView for curved corners and shadows, but you could try to make your own background with curved corners and shadows and then apply it directly to the constraint layout to get the same effect with less layouts.</p>\n<p>Is there any reason why your custom view extends LinearLayoutCompat? Could make it a constraint layout and use merge as a root tag to eliminate one layout.</p>\n<p>Also, you have a huge amount of code in your constructor which might be the biggest culprit, could you try putting timers in your constructor and logging how much time it takes for <code>b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true); </code> vs how much time it takes for everything else in there to complete. That will tell you if the problem is really layout related or if you're doing too many things in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":2492943,"reputation":3111,"user_id":2170074,"display_name":"dgngulcan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641611890,"creation_date":1641611890,"answer_id":70629358,"question_id":70423360,"body_markdown":"`ConstraintLayout` was added to flatten the view hierarchies and is not a light `View` to inflate. They are not design to be nested, so I would suggest you not to use them if you can avoid using them. In most cases `FrameLayout` or `LinearLayout` is sufficient. ","title":"Nested Constraint layouts and huge layout inflation times","body":"<p><code>ConstraintLayout</code> was added to flatten the view hierarchies and is not a light <code>View</code> to inflate. They are not design to be nested, so I would suggest you not to use them if you can avoid using them. In most cases <code>FrameLayout</code> or <code>LinearLayout</code> is sufficient.</p>\n"}],"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70598079,"answer_count":3,"score":0,"last_activity_date":1641611890,"creation_date":1640010677,"question_id":70423360,"body_markdown":"I have a lot of layouts like below. Also the same with NestedScrollView instead of the CardView.\r\n\r\nBut in all cases this leads to nested constraint layouts. Particuallary in one screen I use the following a lot as a custom view type. But this leads to HUGE inflation times. I meassured 500 ms and more. This is of course unaccaptable. \r\n\r\nWhat can I do to improve the layout performance. The custom view is an EditText that looks like\r\n[![Custom EditText][1]][1]\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;!--Some layout code --&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**EDIT: As per request. Here comes the complete xml, java, and how I use it in another xml**\r\n\r\nCustomEditText.xml:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:clipChildren=&quot;false&quot;\r\n    android:clipToPadding=&quot;false&quot;\r\n    android:paddingStart=&quot;8dp&quot;\r\n    android:paddingTop=&quot;9dp&quot;\r\n    android:paddingEnd=&quot;8dp&quot;&gt;\r\n\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        app:cardCornerRadius=&quot;12dp&quot;\r\n        app:cardElevation=&quot;3dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_goneMarginBottom=&quot;10dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:id=&quot;@+id/iv_startIcon&quot;\r\n                android:layout_width=&quot;19dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginStart=&quot;19dp&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                android:layout_marginBottom=&quot;15dp&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:tint=&quot;?attr/colorPrimary&quot;\r\n                tools:srcCompat=&quot;@drawable/icon_phone&quot;\r\n                tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_prefix_text&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;19dp&quot;\r\n                android:textColor=&quot;?attr/colorPrimary&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                tools:visibility=&quot;visible&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;ABC&quot; /&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.Barrier\r\n                android:id=&quot;@+id/barrier_start&quot;\r\n                android:layout_width=&quot;1dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:barrierDirection=&quot;end&quot;\r\n                app:constraint_referenced_ids=&quot;tv_prefix_text,iv_startIcon&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatEditText\r\n                android:id=&quot;@+id/et_text&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginStart=&quot;13dp&quot;\r\n                android:layout_marginEnd=&quot;19dp&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/barrier_end&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/barrier_start&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n             /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_hint&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginStart=&quot;13dp&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:layout_marginEnd=&quot;57dp&quot;\r\n                android:ellipsize=&quot;end&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/barrier_start&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:hint=&quot;Hint text&quot; /&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.Barrier\r\n                android:id=&quot;@+id/barrier_end&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:barrierDirection=&quot;left&quot;\r\n                app:constraint_referenced_ids=&quot;iv_endIcon,tv_optional&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tv_optional&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginEnd=&quot;19dp&quot;\r\n                android:alpha=&quot;0.44&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:text=&quot;@string/edit_text_optional&quot;\r\n                android:textSize=&quot;10sp&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:id=&quot;@+id/iv_endIcon&quot;\r\n                android:layout_width=&quot;39dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginEnd=&quot;9dp&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:paddingStart=&quot;10dp&quot;\r\n                android:paddingTop=&quot;18dp&quot;\r\n                android:paddingEnd=&quot;10dp&quot;\r\n                android:paddingBottom=&quot;18dp&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;1&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/barrier_end&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:srcCompat=&quot;@drawable/icon_alert&quot;\r\n                tools:tint=&quot;?colorError&quot;\r\n                tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n            &lt;androidx.core.widget.ContentLoadingProgressBar\r\n                android:id=&quot;@+id/pb_loading&quot;\r\n                style=&quot;?android:attr/progressBarStyle&quot;\r\n                android:layout_width=&quot;25dp&quot;\r\n                android:layout_height=&quot;25dp&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                android:layout_marginBottom=&quot;15dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n              /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/tv_count&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;7dp&quot;\r\n        android:layout_marginEnd=&quot;14dp&quot;\r\n        android:alpha=&quot;0.44&quot;\r\n        android:textSize=&quot;9sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:fontFamily=&quot;@font/nunito2&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;\r\n        tools:text=&quot;0/30&quot;\r\n        tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n        android:id=&quot;@+id/tv_helper&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;14dp&quot;\r\n        android:layout_marginTop=&quot;7dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:alpha=&quot;0.44&quot;\r\n        android:textSize=&quot;9sp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/tv_count&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;\r\n        app:layout_goneMarginEnd=&quot;19dp&quot;\r\n        tools:text=&quot;Helper text&quot;\r\n        tools:visibility=&quot;visible&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nand the CustomEditText.java (Sorry, this is a lot of code. But as I do not know what is important I could not reduce):\r\n\r\n    public class CustomEditText extends LinearLayoutCompat {\r\n    private static final String TAG = &quot;CustomEditText&quot;;\r\n    private static final String ANDROID_NS = &quot;http://schemas.android.com/apk/res/android&quot;;\r\n    private static final String APP_NS = &quot;http://schemas.android.com/apk/res-auto&quot;;\r\n    private static final String COUNTER_SEPARATOR = &quot;/&quot;;\r\n    private static final int TRANSLATION_Y_DP = 21;\r\n    private final int translationY;\r\n    private static final float HELPER_ALPHA = 0.44f;\r\n    private final String counterErrorText;\r\n    private final List&lt;TextWatcher&gt; textWatcherList = new ArrayList&lt;&gt;();\r\n\r\n    private final Drawable alertIcon;\r\n    private final Drawable clearIcon;\r\n\r\n\r\n    private final CustomEditTextBinding b;\r\n\r\n    private String errorText;\r\n\r\n    private String helperText;\r\n\r\n    private String hintText;\r\n\r\n    private Drawable startIcon;\r\n    private int iconTint;\r\n\r\n    private int counterMaxLength;\r\n\r\n    private boolean isCounterEnabled;\r\n\r\n    private boolean isOptional;\r\n\r\n    private boolean isProgressBarVisible = false;\r\n\r\n    private boolean isClearEnabled;\r\n\r\n    private boolean hasFocus;\r\n\r\n    private boolean isError = false;\r\n\r\n    private boolean isCounterError = false;\r\n\r\n    private String prefixText;\r\n\r\n    private final boolean initialized;\r\n\r\n    private final boolean hasBorder;\r\n\r\n\r\n    public CustomEditText(@NonNull Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true);\r\n        b.tvHint.setPivotX(0);\r\n        b.pbLoading.hide();\r\n        translationY = GuiUtils.dpToPx(context, TRANSLATION_Y_DP);\r\n        alertIcon = AppCompatResources.getDrawable(context, R.drawable.icon_alert);\r\n        clearIcon = AppCompatResources.getDrawable(context, R.drawable.icon_clear);\r\n\r\n\r\n        counterErrorText = context.getString(R.string.counter_max_length_error);\r\n\r\n        TypedArray attributes = context.obtainStyledAttributes(attrs, R.styleable.CustomEditText);\r\n\r\n        //Start icon\r\n        startIcon = attributes.getDrawable(R.styleable.CustomEditText_startIcon);\r\n        iconTint = attributes.getColor(R.styleable.CustomEditText_iconTint, ColorUtils.getAttrColor(context, R.attr.colorPrimary));\r\n        refreshStartIcon();\r\n\r\n        //Hint text\r\n        hintText = attributes.getString(R.styleable.CustomEditText_hint);\r\n        refreshHintText();\r\n\r\n        //Helper text\r\n        helperText = attributes.getString(R.styleable.CustomEditText_helperText);\r\n        refreshHelperText();\r\n\r\n        //Error text\r\n        errorText = attributes.getString(R.styleable.CustomEditText_errorText);\r\n\r\n        //Prefix text\r\n        prefixText = attributes.getString(R.styleable.CustomEditText_prefixText);\r\n        refreshPrefixText();\r\n\r\n        isClearEnabled = attributes.getBoolean(R.styleable.CustomEditText_clearEnabled, false);\r\n        refreshClearEnabled();\r\n\r\n        //Optional text\r\n        isOptional = attributes.getBoolean(R.styleable.CustomEditText_optional, false);\r\n        refreshOptional();\r\n\r\n        b.ivEndIcon.setVisibility(GONE);\r\n        refreshEndIcon();\r\n\r\n        //Counter\r\n        isCounterEnabled = attributes.getBoolean(R.styleable.CustomEditText_counterEnabled, false);\r\n        counterMaxLength = attributes.getInt(R.styleable.CustomEditText_counterMaxLength, 0);\r\n        refreshCounter();\r\n\r\n        //Elevation\r\n        int elevation = attributes.getDimensionPixelSize(R.styleable.CustomEditText_elevation, -1);\r\n        if (elevation != -1) b.cardView.setCardElevation(elevation);\r\n\r\n        //Border\r\n        hasBorder = attributes.getBoolean(R.styleable.CustomEditText_hasBorder, false);\r\n        refreshStroke();\r\n\r\n        if (attrs != null) {\r\n            //Pass through to edit text\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                int importantForAutofill = attrs.getAttributeIntValue(ANDROID_NS, &quot;importantForAutofill&quot;, 0);\r\n                b.etText.setImportantForAutofill(importantForAutofill);\r\n                String autofillHints = attrs.getAttributeValue(ANDROID_NS, &quot;autofillHints&quot;);\r\n                b.etText.setAutofillHints(autofillHints);\r\n            }\r\n\r\n            //Focusable\r\n            boolean isFocusable = attrs.getAttributeBooleanValue(ANDROID_NS, &quot;focusable&quot;, true);\r\n            b.etText.setFocusable(isFocusable);\r\n\r\n            //CursorVisible\r\n            boolean isCursorVisible = attrs.getAttributeBooleanValue(ANDROID_NS, &quot;cursorVisible&quot;, true);\r\n            b.etText.setCursorVisible(isCursorVisible);\r\n\r\n            //InputType\r\n            int inputType = attrs.getAttributeIntValue(ANDROID_NS, &quot;inputType&quot;, InputType.TYPE_CLASS_TEXT);\r\n            b.etText.setInputType(inputType);\r\n\r\n            //ImeOption\r\n            int imeOptions = attrs.getAttributeIntValue(ANDROID_NS, &quot;imeOptions&quot;, EditorInfo.IME_ACTION_UNSPECIFIED);\r\n            b.etText.setImeOptions(imeOptions);\r\n\r\n            //MaxLines\r\n            int maxLines = attrs.getAttributeIntValue(ANDROID_NS, &quot;maxLines&quot;, 1);\r\n            b.etText.setMaxLines(maxLines);\r\n\r\n        }\r\n        attributes.recycle();\r\n        initListeners();\r\n        initialized = true;\r\n    }\r\n\r\n    private void refreshClearEnabled() {\r\n        refreshEndIcon();\r\n    }\r\n\r\n\r\n    private void refreshOptional() {\r\n        if (isProgressBarVisible || !isOptional || isError || isCounterError || !isEmpty() &amp;&amp; isClearEnabled)\r\n            b.tvOptional.setVisibility(GONE);\r\n        else b.tvOptional.setVisibility(VISIBLE);\r\n    }\r\n\r\n    private void refreshStartIcon() {\r\n        if (startIcon != null) {\r\n            b.ivStartIcon.setImageDrawable(startIcon);\r\n            b.ivStartIcon.setVisibility(VISIBLE);\r\n            b.tvPrefixText.setVisibility(GONE);\r\n            b.ivStartIcon.setImageTintList(ColorStateList.valueOf(iconTint));\r\n        } else {\r\n            b.ivStartIcon.setVisibility(GONE);\r\n        }\r\n    }\r\n\r\n    private void refreshPrefixText() {\r\n        if (prefixText != null) {\r\n            b.ivStartIcon.setVisibility(GONE);\r\n            b.tvPrefixText.setVisibility(VISIBLE);\r\n            b.tvPrefixText.setText(prefixText);\r\n        } else {\r\n            b.tvPrefixText.setVisibility(GONE);\r\n        }\r\n    }\r\n\r\n    private void refreshEndIcon() {\r\n        if (!isProgressBarVisible &amp;&amp; (isError || isCounterError)) {\r\n            b.ivEndIcon.setVisibility(VISIBLE);\r\n            b.ivEndIcon.setImageDrawable(alertIcon);\r\n            b.ivEndIcon.setImageTintList(ColorUtils.getAttrColorList(getContext(), R.attr.colorError));\r\n            b.ivEndIcon.setAlpha(1f);\r\n        } else if (!isProgressBarVisible &amp;&amp; isClearEnabled &amp;&amp; !isEmpty()) {\r\n            b.ivEndIcon.setImageDrawable(clearIcon);\r\n            b.ivEndIcon.setImageTintList(ColorUtils.getAttrColorList(getContext(), R.attr.colorOnBackground));\r\n            b.ivEndIcon.setVisibility(VISIBLE);\r\n            b.ivEndIcon.setAlpha(0.42f);\r\n        } else {\r\n            b.ivEndIcon.setVisibility(GONE);\r\n        }\r\n    }\r\n\r\n    private void refreshHelperText() {\r\n        if (isError || isCounterError) {\r\n            if (isCounterError) b.tvHelper.setText(counterErrorText);\r\n            else b.tvHelper.setText(errorText);\r\n            b.tvHelper.setVisibility(VISIBLE);\r\n            b.tvHelper.setAlpha(1f);\r\n            b.tvHelper.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorError));\r\n        } else if (helperText == null) {\r\n            b.tvHelper.setVisibility(INVISIBLE);\r\n        } else {\r\n            b.tvHelper.setAlpha(HELPER_ALPHA);\r\n            b.tvHelper.setVisibility(VISIBLE);\r\n            b.tvHelper.setText(helperText);\r\n            b.tvHelper.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorOnBackground));\r\n        }\r\n    }\r\n\r\n    private void refreshCounter() {\r\n        if (isCounterEnabled) {\r\n            b.tvCount.setVisibility(VISIBLE);\r\n            refreshCounterText();\r\n        } else {\r\n            b.tvCount.setVisibility(GONE);\r\n        }\r\n    }\r\n\r\n    private void refreshStroke() {\r\n        if (isError || isCounterError) {\r\n            setStroke(StrokeType.ERROR);\r\n        } else if (hasFocus) {\r\n            setStroke(StrokeType.FOCUS);\r\n        } else if (hasBorder) {\r\n            setStroke(StrokeType.DEFAULT);\r\n        } else {\r\n            setStroke(StrokeType.NONE);\r\n        }\r\n    }\r\n\r\n    private void refreshProgressBar() {\r\n        refreshOptional();\r\n        refreshClearEnabled();\r\n        if (isProgressBarVisible) b.pbLoading.show();\r\n        else b.pbLoading.hide();\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    private void refreshCounterText() {\r\n        if (!isCounterEnabled) return;\r\n        int countChars = getText().length();\r\n        String counterText = countChars + COUNTER_SEPARATOR + counterMaxLength;\r\n        isCounterError = countChars &gt; counterMaxLength;\r\n        if(initialized &amp;&amp; isCounterError) setError();\r\n        b.tvCount.setText(counterText);\r\n    }\r\n\r\n    private void refreshHintText() {\r\n        b.tvHint.setHint(hintText);\r\n    }\r\n\r\n\r\n    private void initListeners() {\r\n        b.etText.addTextChangedListener((TextWatcherAdapter) (s, start, before, count) -&gt; {\r\n            //Do not trigger on init, only on user interaction\r\n            if (!initialized) return;\r\n            if (s.length() == 1) triggerAnimation(true);\r\n            else if (s.length() == 0) triggerAnimation(false);\r\n\r\n        });\r\n\r\n        b.etText.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            this.hasFocus = hasFocus;\r\n            refreshError();\r\n            refreshStroke();\r\n\r\n        });\r\n        b.etText.addTextChangedListener((TextWatcherAdapter) (s, start, before, count) -&gt; {\r\n            clearError();\r\n            refreshCounterText();\r\n            refreshEndIcon();\r\n            refreshOptional();\r\n            //Trigger all other TextWatchers, add them here instead of the text itself to trigger all internal ones first\r\n            for (TextWatcher textWatcher : textWatcherList) textWatcher.onTextChanged(s,start,before,count);\r\n        });\r\n\r\n        b.etText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n                //Trigger all other TextWatchers, add them here instead of the text itself to trigger all internal ones first\r\n                for (TextWatcher textWatcher : textWatcherList) textWatcher.afterTextChanged(s);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        b.etText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                b.etText.clearFocus();\r\n            }\r\n            return false;\r\n        });\r\n        b.ivEndIcon.setOnClickListener(v -&gt; {\r\n            if (isClearEnabled) b.etText.setText(null);\r\n        });\r\n    }\r\n\r\n    private void triggerAnimation(boolean fadeOut) {\r\n        if (fadeOut) {\r\n            b.tvHint.animate().translationY(-translationY * 0.32f).scaleX(0.7f).scaleY(0.7f);\r\n            //This works but not with setText because getHeight return 0. The reason for that: i do not know\r\n            //b.tvHint.animate().translationY(-b.tvHint.getHeight() * 0.32f).scaleX(0.7f).scaleY(0.7f);\r\n        } else {\r\n            b.tvHint.animate().translationY(0).translationX(0).scaleX(1f).scaleY(1f);\r\n        }\r\n    }\r\n\r\n    public void setText(String text) {\r\n        b.etText.setText(text);\r\n        if (text != null &amp;&amp; !text.isEmpty()) triggerAnimation(true);\r\n    }\r\n\r\n    private void refreshError() {\r\n        refreshOptional();\r\n        refreshEndIcon();\r\n        refreshHelperText();\r\n        refreshStroke();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void setEnabled(boolean enabled) {\r\n        super.setEnabled(enabled);\r\n        b.etText.setEnabled(enabled);\r\n\r\n        if (enabled) {\r\n            PictureUtils.saturatePicture(b.ivStartIcon, 1);\r\n            PictureUtils.saturatePicture(b.ivEndIcon, 1);\r\n            b.tvPrefixText.setTextColor(ColorUtils.getPrimary(getContext()));\r\n            if (isError) setStroke(StrokeType.ERROR);\r\n            else if (hasFocus) setStroke(StrokeType.FOCUS);\r\n            else setStroke(StrokeType.DEFAULT);\r\n            b.cardView.setCardBackgroundColor(ColorUtils.getAttrColor(getContext(), R.attr.cardColorOnPrimary));\r\n        } else {\r\n            PictureUtils.saturatePicture(b.ivStartIcon, 0);\r\n            PictureUtils.saturatePicture(b.ivEndIcon, 0);\r\n            b.tvPrefixText.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorItemDisabled));\r\n            setStroke(StrokeType.DISABLED);\r\n            b.cardView.setCardBackgroundColor(ColorUtils.getAttrColor(getContext(), R.attr.colorDisabled));\r\n        }\r\n    }\r\n\r\n    public void setError() {\r\n        isError = true;\r\n        refreshError();\r\n    }\r\n\r\n    public void setError(String errorText) {\r\n        if (errorText == null) {\r\n            clearError();\r\n        } else {\r\n            isError = true;\r\n            this.errorText = errorText;\r\n            refreshError();\r\n        }\r\n    }\r\n\r\n    public void clearError() {\r\n        isError = false;\r\n        //Its up to the user to decide that this will not be an error! So reset no matter if more is entered\r\n        isCounterError = false;\r\n        refreshError();\r\n    }\r\n\r\n    public boolean isValid() {\r\n        if (isOptional) return !isError;\r\n        else return !getText().isEmpty() &amp;&amp; !isError;\r\n    }\r\n\r\n    private void setStroke(StrokeType strokeType) {\r\n        switch (strokeType) {\r\n            case ERROR:\r\n                b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorError));\r\n                b.cardView.setStrokeWidth(4);\r\n                break;\r\n            case FOCUS:\r\n                b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorPrimary));\r\n                b.cardView.setStrokeWidth(4);\r\n                break;\r\n            case DEFAULT:\r\n                int color = ColorUtils.getAttrColor(getContext(), R.attr.colorOnBackground);\r\n                ColorDrawable cd = new ColorDrawable(color);\r\n                cd.setAlpha(54);\r\n                b.cardView.setStrokeColor(cd.getColor());\r\n                b.cardView.setStrokeWidth(2);\r\n                break;\r\n            case DISABLED:\r\n                b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorItemDisabled));\r\n                b.cardView.setStrokeWidth(2);\r\n                break;\r\n            case NONE:\r\n                b.cardView.setStrokeColor(null);\r\n                b.cardView.setStrokeWidth(0);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public String getText() {\r\n        return b.etText.getEditableText().toString().trim();\r\n    }\r\n\r\n    public void addTextChangedListener(TextWatcher textWatcher) {\r\n        //b.etText.addTextChangedListener(textWatcher);\r\n        textWatcherList.add(textWatcher);\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return StringUtils.checkNull(getText());\r\n    }\r\n\r\n    @Override\r\n    public void setOnClickListener(@Nullable OnClickListener listener) {\r\n        b.etText.setOnClickListener(listener);\r\n    }\r\n\r\n    public void setErrorText(String errorText) {\r\n        this.errorText = errorText;\r\n    }\r\n\r\n    public void setHelperText(String helperText) {\r\n        this.helperText = helperText;\r\n        refreshHelperText();\r\n    }\r\n\r\n    public void setHintText(String hintText) {\r\n        this.hintText = hintText;\r\n        refreshHintText();\r\n    }\r\n\r\n    public void setStartIcon(Drawable startIcon) {\r\n        this.startIcon = startIcon;\r\n        refreshStartIcon();\r\n    }\r\n\r\n    public void setPrefixText(String prefix) {\r\n        this.prefixText = prefix;\r\n        refreshPrefixText();\r\n    }\r\n\r\n    public void setLoading(boolean active) {\r\n        this.isProgressBarVisible = active;\r\n        refreshProgressBar();\r\n    }\r\n\r\n    public void setCounterMaxLength(int counterMaxLength) {\r\n        this.counterMaxLength = counterMaxLength;\r\n        refreshCounter();\r\n    }\r\n\r\n    public void setCounterEnabled(boolean counterEnabled) {\r\n        isCounterEnabled = counterEnabled;\r\n        refreshCounter();\r\n    }\r\n\r\n    public void setOptional(boolean optional) {\r\n        isOptional = optional;\r\n        refreshOptional();\r\n    }\r\n\r\n    public void setClearEnabled(boolean clearEnabled) {\r\n        isClearEnabled = clearEnabled;\r\n        refreshClearEnabled();\r\n    }\r\n\r\n    public boolean isCounterError() {\r\n        return isCounterError;\r\n    }\r\n\r\n    @Override\r\n    public void setFocusable(boolean focusable) {\r\n        b.etText.setFocusable(focusable);\r\n    }\r\n\r\n    public void setCursorVisible(boolean cursorVisible) {\r\n        b.etText.setCursorVisible(cursorVisible);\r\n    }\r\n\r\n    public boolean isError() {\r\n        return isError || isCounterError;\r\n    }\r\n\r\n    private enum StrokeType {ERROR, FOCUS, DEFAULT, DISABLED, NONE}\r\n\r\n    // TODO: 13.10.2021 Text drawable needs to get bigger\r\n    public void scalePictureForText() {\r\n        LayoutParams params = new LayoutParams(30, 0);\r\n        params.setMargins(19, 5, 0, 5);\r\n        b.ivStartIcon.setLayoutParams(params);\r\n    }\r\n    }\r\n\r\n\r\nAnd this is how I use it in another layout (I removed the constraints):\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:overScrollMode=&quot;never&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;&gt;\r\n    \r\n            &lt;com.company.app.views.CustomEditText\r\n                android:id=&quot;@+id/et_number_primary&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:imeOptions=&quot;actionDone&quot;\r\n                android:inputType=&quot;numberDecimal&quot;/&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;!--Button that should not scroll--&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T3x88.png","title":"Nested Constraint layouts and huge layout inflation times","body":"<p>I have a lot of layouts like below. Also the same with NestedScrollView instead of the CardView.</p>\n<p>But in all cases this leads to nested constraint layouts. Particuallary in one screen I use the following a lot as a custom view type. But this leads to HUGE inflation times. I meassured 500 ms and more. This is of course unaccaptable.</p>\n<p>What can I do to improve the layout performance. The custom view is an EditText that looks like\n<a href=\"https://i.stack.imgur.com/T3x88.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T3x88.png\" alt=\"Custom EditText\" /></a></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n\n\n&lt;com.google.android.material.card.MaterialCardView\n    android:id=&quot;@+id/cardView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;!--Some layout code --&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toStartOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>EDIT: As per request. Here comes the complete xml, java, and how I use it in another xml</strong></p>\n<p>CustomEditText.xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:clipChildren=&quot;false&quot;\nandroid:clipToPadding=&quot;false&quot;\nandroid:paddingStart=&quot;8dp&quot;\nandroid:paddingTop=&quot;9dp&quot;\nandroid:paddingEnd=&quot;8dp&quot;&gt;\n\n\n&lt;com.google.android.material.card.MaterialCardView\n    android:id=&quot;@+id/cardView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    app:cardCornerRadius=&quot;12dp&quot;\n    app:cardElevation=&quot;3dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_goneMarginBottom=&quot;10dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:id=&quot;@+id/iv_startIcon&quot;\n            android:layout_width=&quot;19dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginStart=&quot;19dp&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:tint=&quot;?attr/colorPrimary&quot;\n            tools:srcCompat=&quot;@drawable/icon_phone&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_prefix_text&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;19dp&quot;\n            android:textColor=&quot;?attr/colorPrimary&quot;\n            android:visibility=&quot;gone&quot;\n            android:textSize=&quot;13sp&quot;\n            tools:visibility=&quot;visible&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:text=&quot;ABC&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.Barrier\n            android:id=&quot;@+id/barrier_start&quot;\n            android:layout_width=&quot;1dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:barrierDirection=&quot;end&quot;\n            app:constraint_referenced_ids=&quot;tv_prefix_text,iv_startIcon&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatEditText\n            android:id=&quot;@+id/et_text&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginStart=&quot;13dp&quot;\n            android:layout_marginEnd=&quot;19dp&quot;\n            android:background=&quot;@null&quot;\n            android:textSize=&quot;13sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/barrier_end&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/barrier_start&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n         /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_hint&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginStart=&quot;13dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:textSize=&quot;13sp&quot;\n            android:maxLines=&quot;1&quot;\n            android:layout_marginEnd=&quot;57dp&quot;\n            android:ellipsize=&quot;end&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/barrier_start&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:hint=&quot;Hint text&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.Barrier\n            android:id=&quot;@+id/barrier_end&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:barrierDirection=&quot;left&quot;\n            app:constraint_referenced_ids=&quot;iv_endIcon,tv_optional&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tv_optional&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginEnd=&quot;19dp&quot;\n            android:alpha=&quot;0.44&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:text=&quot;@string/edit_text_optional&quot;\n            android:textSize=&quot;10sp&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:id=&quot;@+id/iv_endIcon&quot;\n            android:layout_width=&quot;39dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_marginEnd=&quot;9dp&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:paddingStart=&quot;10dp&quot;\n            android:paddingTop=&quot;18dp&quot;\n            android:paddingEnd=&quot;10dp&quot;\n            android:paddingBottom=&quot;18dp&quot;\n            android:visibility=&quot;invisible&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;1&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/barrier_end&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:srcCompat=&quot;@drawable/icon_alert&quot;\n            tools:tint=&quot;?colorError&quot;\n            tools:visibility=&quot;visible&quot; /&gt;\n\n        &lt;androidx.core.widget.ContentLoadingProgressBar\n            android:id=&quot;@+id/pb_loading&quot;\n            style=&quot;?android:attr/progressBarStyle&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            android:layout_marginEnd=&quot;16dp&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n          /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tv_count&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;7dp&quot;\n    android:layout_marginEnd=&quot;14dp&quot;\n    android:alpha=&quot;0.44&quot;\n    android:textSize=&quot;9sp&quot;\n    android:textStyle=&quot;bold&quot;\n    android:fontFamily=&quot;@font/nunito2&quot;\n    android:visibility=&quot;gone&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;\n    tools:text=&quot;0/30&quot;\n    tools:visibility=&quot;visible&quot; /&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tv_helper&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;14dp&quot;\n    android:layout_marginTop=&quot;7dp&quot;\n    android:layout_marginEnd=&quot;16dp&quot;\n    android:alpha=&quot;0.44&quot;\n    android:textSize=&quot;9sp&quot;\n    android:visibility=&quot;visible&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/tv_count&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;\n    app:layout_goneMarginEnd=&quot;19dp&quot;\n    tools:text=&quot;Helper text&quot;\n    tools:visibility=&quot;visible&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and the CustomEditText.java (Sorry, this is a lot of code. But as I do not know what is important I could not reduce):</p>\n<pre><code>public class CustomEditText extends LinearLayoutCompat {\nprivate static final String TAG = &quot;CustomEditText&quot;;\nprivate static final String ANDROID_NS = &quot;http://schemas.android.com/apk/res/android&quot;;\nprivate static final String APP_NS = &quot;http://schemas.android.com/apk/res-auto&quot;;\nprivate static final String COUNTER_SEPARATOR = &quot;/&quot;;\nprivate static final int TRANSLATION_Y_DP = 21;\nprivate final int translationY;\nprivate static final float HELPER_ALPHA = 0.44f;\nprivate final String counterErrorText;\nprivate final List&lt;TextWatcher&gt; textWatcherList = new ArrayList&lt;&gt;();\n\nprivate final Drawable alertIcon;\nprivate final Drawable clearIcon;\n\n\nprivate final CustomEditTextBinding b;\n\nprivate String errorText;\n\nprivate String helperText;\n\nprivate String hintText;\n\nprivate Drawable startIcon;\nprivate int iconTint;\n\nprivate int counterMaxLength;\n\nprivate boolean isCounterEnabled;\n\nprivate boolean isOptional;\n\nprivate boolean isProgressBarVisible = false;\n\nprivate boolean isClearEnabled;\n\nprivate boolean hasFocus;\n\nprivate boolean isError = false;\n\nprivate boolean isCounterError = false;\n\nprivate String prefixText;\n\nprivate final boolean initialized;\n\nprivate final boolean hasBorder;\n\n\npublic CustomEditText(@NonNull Context context, @Nullable AttributeSet attrs) {\n    super(context, attrs);\n    b = CustomEditTextBinding.inflate(LayoutInflater.from(context), this, true);\n    b.tvHint.setPivotX(0);\n    b.pbLoading.hide();\n    translationY = GuiUtils.dpToPx(context, TRANSLATION_Y_DP);\n    alertIcon = AppCompatResources.getDrawable(context, R.drawable.icon_alert);\n    clearIcon = AppCompatResources.getDrawable(context, R.drawable.icon_clear);\n\n\n    counterErrorText = context.getString(R.string.counter_max_length_error);\n\n    TypedArray attributes = context.obtainStyledAttributes(attrs, R.styleable.CustomEditText);\n\n    //Start icon\n    startIcon = attributes.getDrawable(R.styleable.CustomEditText_startIcon);\n    iconTint = attributes.getColor(R.styleable.CustomEditText_iconTint, ColorUtils.getAttrColor(context, R.attr.colorPrimary));\n    refreshStartIcon();\n\n    //Hint text\n    hintText = attributes.getString(R.styleable.CustomEditText_hint);\n    refreshHintText();\n\n    //Helper text\n    helperText = attributes.getString(R.styleable.CustomEditText_helperText);\n    refreshHelperText();\n\n    //Error text\n    errorText = attributes.getString(R.styleable.CustomEditText_errorText);\n\n    //Prefix text\n    prefixText = attributes.getString(R.styleable.CustomEditText_prefixText);\n    refreshPrefixText();\n\n    isClearEnabled = attributes.getBoolean(R.styleable.CustomEditText_clearEnabled, false);\n    refreshClearEnabled();\n\n    //Optional text\n    isOptional = attributes.getBoolean(R.styleable.CustomEditText_optional, false);\n    refreshOptional();\n\n    b.ivEndIcon.setVisibility(GONE);\n    refreshEndIcon();\n\n    //Counter\n    isCounterEnabled = attributes.getBoolean(R.styleable.CustomEditText_counterEnabled, false);\n    counterMaxLength = attributes.getInt(R.styleable.CustomEditText_counterMaxLength, 0);\n    refreshCounter();\n\n    //Elevation\n    int elevation = attributes.getDimensionPixelSize(R.styleable.CustomEditText_elevation, -1);\n    if (elevation != -1) b.cardView.setCardElevation(elevation);\n\n    //Border\n    hasBorder = attributes.getBoolean(R.styleable.CustomEditText_hasBorder, false);\n    refreshStroke();\n\n    if (attrs != null) {\n        //Pass through to edit text\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            int importantForAutofill = attrs.getAttributeIntValue(ANDROID_NS, &quot;importantForAutofill&quot;, 0);\n            b.etText.setImportantForAutofill(importantForAutofill);\n            String autofillHints = attrs.getAttributeValue(ANDROID_NS, &quot;autofillHints&quot;);\n            b.etText.setAutofillHints(autofillHints);\n        }\n\n        //Focusable\n        boolean isFocusable = attrs.getAttributeBooleanValue(ANDROID_NS, &quot;focusable&quot;, true);\n        b.etText.setFocusable(isFocusable);\n\n        //CursorVisible\n        boolean isCursorVisible = attrs.getAttributeBooleanValue(ANDROID_NS, &quot;cursorVisible&quot;, true);\n        b.etText.setCursorVisible(isCursorVisible);\n\n        //InputType\n        int inputType = attrs.getAttributeIntValue(ANDROID_NS, &quot;inputType&quot;, InputType.TYPE_CLASS_TEXT);\n        b.etText.setInputType(inputType);\n\n        //ImeOption\n        int imeOptions = attrs.getAttributeIntValue(ANDROID_NS, &quot;imeOptions&quot;, EditorInfo.IME_ACTION_UNSPECIFIED);\n        b.etText.setImeOptions(imeOptions);\n\n        //MaxLines\n        int maxLines = attrs.getAttributeIntValue(ANDROID_NS, &quot;maxLines&quot;, 1);\n        b.etText.setMaxLines(maxLines);\n\n    }\n    attributes.recycle();\n    initListeners();\n    initialized = true;\n}\n\nprivate void refreshClearEnabled() {\n    refreshEndIcon();\n}\n\n\nprivate void refreshOptional() {\n    if (isProgressBarVisible || !isOptional || isError || isCounterError || !isEmpty() &amp;&amp; isClearEnabled)\n        b.tvOptional.setVisibility(GONE);\n    else b.tvOptional.setVisibility(VISIBLE);\n}\n\nprivate void refreshStartIcon() {\n    if (startIcon != null) {\n        b.ivStartIcon.setImageDrawable(startIcon);\n        b.ivStartIcon.setVisibility(VISIBLE);\n        b.tvPrefixText.setVisibility(GONE);\n        b.ivStartIcon.setImageTintList(ColorStateList.valueOf(iconTint));\n    } else {\n        b.ivStartIcon.setVisibility(GONE);\n    }\n}\n\nprivate void refreshPrefixText() {\n    if (prefixText != null) {\n        b.ivStartIcon.setVisibility(GONE);\n        b.tvPrefixText.setVisibility(VISIBLE);\n        b.tvPrefixText.setText(prefixText);\n    } else {\n        b.tvPrefixText.setVisibility(GONE);\n    }\n}\n\nprivate void refreshEndIcon() {\n    if (!isProgressBarVisible &amp;&amp; (isError || isCounterError)) {\n        b.ivEndIcon.setVisibility(VISIBLE);\n        b.ivEndIcon.setImageDrawable(alertIcon);\n        b.ivEndIcon.setImageTintList(ColorUtils.getAttrColorList(getContext(), R.attr.colorError));\n        b.ivEndIcon.setAlpha(1f);\n    } else if (!isProgressBarVisible &amp;&amp; isClearEnabled &amp;&amp; !isEmpty()) {\n        b.ivEndIcon.setImageDrawable(clearIcon);\n        b.ivEndIcon.setImageTintList(ColorUtils.getAttrColorList(getContext(), R.attr.colorOnBackground));\n        b.ivEndIcon.setVisibility(VISIBLE);\n        b.ivEndIcon.setAlpha(0.42f);\n    } else {\n        b.ivEndIcon.setVisibility(GONE);\n    }\n}\n\nprivate void refreshHelperText() {\n    if (isError || isCounterError) {\n        if (isCounterError) b.tvHelper.setText(counterErrorText);\n        else b.tvHelper.setText(errorText);\n        b.tvHelper.setVisibility(VISIBLE);\n        b.tvHelper.setAlpha(1f);\n        b.tvHelper.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorError));\n    } else if (helperText == null) {\n        b.tvHelper.setVisibility(INVISIBLE);\n    } else {\n        b.tvHelper.setAlpha(HELPER_ALPHA);\n        b.tvHelper.setVisibility(VISIBLE);\n        b.tvHelper.setText(helperText);\n        b.tvHelper.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorOnBackground));\n    }\n}\n\nprivate void refreshCounter() {\n    if (isCounterEnabled) {\n        b.tvCount.setVisibility(VISIBLE);\n        refreshCounterText();\n    } else {\n        b.tvCount.setVisibility(GONE);\n    }\n}\n\nprivate void refreshStroke() {\n    if (isError || isCounterError) {\n        setStroke(StrokeType.ERROR);\n    } else if (hasFocus) {\n        setStroke(StrokeType.FOCUS);\n    } else if (hasBorder) {\n        setStroke(StrokeType.DEFAULT);\n    } else {\n        setStroke(StrokeType.NONE);\n    }\n}\n\nprivate void refreshProgressBar() {\n    refreshOptional();\n    refreshClearEnabled();\n    if (isProgressBarVisible) b.pbLoading.show();\n    else b.pbLoading.hide();\n}\n\n@SuppressLint(&quot;SetTextI18n&quot;)\nprivate void refreshCounterText() {\n    if (!isCounterEnabled) return;\n    int countChars = getText().length();\n    String counterText = countChars + COUNTER_SEPARATOR + counterMaxLength;\n    isCounterError = countChars &gt; counterMaxLength;\n    if(initialized &amp;&amp; isCounterError) setError();\n    b.tvCount.setText(counterText);\n}\n\nprivate void refreshHintText() {\n    b.tvHint.setHint(hintText);\n}\n\n\nprivate void initListeners() {\n    b.etText.addTextChangedListener((TextWatcherAdapter) (s, start, before, count) -&gt; {\n        //Do not trigger on init, only on user interaction\n        if (!initialized) return;\n        if (s.length() == 1) triggerAnimation(true);\n        else if (s.length() == 0) triggerAnimation(false);\n\n    });\n\n    b.etText.setOnFocusChangeListener((v, hasFocus) -&gt; {\n        this.hasFocus = hasFocus;\n        refreshError();\n        refreshStroke();\n\n    });\n    b.etText.addTextChangedListener((TextWatcherAdapter) (s, start, before, count) -&gt; {\n        clearError();\n        refreshCounterText();\n        refreshEndIcon();\n        refreshOptional();\n        //Trigger all other TextWatchers, add them here instead of the text itself to trigger all internal ones first\n        for (TextWatcher textWatcher : textWatcherList) textWatcher.onTextChanged(s,start,before,count);\n    });\n\n    b.etText.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            //Trigger all other TextWatchers, add them here instead of the text itself to trigger all internal ones first\n            for (TextWatcher textWatcher : textWatcherList) textWatcher.afterTextChanged(s);\n\n        }\n    });\n\n\n    b.etText.setOnEditorActionListener((v, actionId, event) -&gt; {\n        if (actionId == EditorInfo.IME_ACTION_DONE) {\n            b.etText.clearFocus();\n        }\n        return false;\n    });\n    b.ivEndIcon.setOnClickListener(v -&gt; {\n        if (isClearEnabled) b.etText.setText(null);\n    });\n}\n\nprivate void triggerAnimation(boolean fadeOut) {\n    if (fadeOut) {\n        b.tvHint.animate().translationY(-translationY * 0.32f).scaleX(0.7f).scaleY(0.7f);\n        //This works but not with setText because getHeight return 0. The reason for that: i do not know\n        //b.tvHint.animate().translationY(-b.tvHint.getHeight() * 0.32f).scaleX(0.7f).scaleY(0.7f);\n    } else {\n        b.tvHint.animate().translationY(0).translationX(0).scaleX(1f).scaleY(1f);\n    }\n}\n\npublic void setText(String text) {\n    b.etText.setText(text);\n    if (text != null &amp;&amp; !text.isEmpty()) triggerAnimation(true);\n}\n\nprivate void refreshError() {\n    refreshOptional();\n    refreshEndIcon();\n    refreshHelperText();\n    refreshStroke();\n\n}\n\n@Override\npublic void setEnabled(boolean enabled) {\n    super.setEnabled(enabled);\n    b.etText.setEnabled(enabled);\n\n    if (enabled) {\n        PictureUtils.saturatePicture(b.ivStartIcon, 1);\n        PictureUtils.saturatePicture(b.ivEndIcon, 1);\n        b.tvPrefixText.setTextColor(ColorUtils.getPrimary(getContext()));\n        if (isError) setStroke(StrokeType.ERROR);\n        else if (hasFocus) setStroke(StrokeType.FOCUS);\n        else setStroke(StrokeType.DEFAULT);\n        b.cardView.setCardBackgroundColor(ColorUtils.getAttrColor(getContext(), R.attr.cardColorOnPrimary));\n    } else {\n        PictureUtils.saturatePicture(b.ivStartIcon, 0);\n        PictureUtils.saturatePicture(b.ivEndIcon, 0);\n        b.tvPrefixText.setTextColor(ColorUtils.getAttrColor(getContext(), R.attr.colorItemDisabled));\n        setStroke(StrokeType.DISABLED);\n        b.cardView.setCardBackgroundColor(ColorUtils.getAttrColor(getContext(), R.attr.colorDisabled));\n    }\n}\n\npublic void setError() {\n    isError = true;\n    refreshError();\n}\n\npublic void setError(String errorText) {\n    if (errorText == null) {\n        clearError();\n    } else {\n        isError = true;\n        this.errorText = errorText;\n        refreshError();\n    }\n}\n\npublic void clearError() {\n    isError = false;\n    //Its up to the user to decide that this will not be an error! So reset no matter if more is entered\n    isCounterError = false;\n    refreshError();\n}\n\npublic boolean isValid() {\n    if (isOptional) return !isError;\n    else return !getText().isEmpty() &amp;&amp; !isError;\n}\n\nprivate void setStroke(StrokeType strokeType) {\n    switch (strokeType) {\n        case ERROR:\n            b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorError));\n            b.cardView.setStrokeWidth(4);\n            break;\n        case FOCUS:\n            b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorPrimary));\n            b.cardView.setStrokeWidth(4);\n            break;\n        case DEFAULT:\n            int color = ColorUtils.getAttrColor(getContext(), R.attr.colorOnBackground);\n            ColorDrawable cd = new ColorDrawable(color);\n            cd.setAlpha(54);\n            b.cardView.setStrokeColor(cd.getColor());\n            b.cardView.setStrokeWidth(2);\n            break;\n        case DISABLED:\n            b.cardView.setStrokeColor(ColorUtils.getAttrColor(getContext(), R.attr.colorItemDisabled));\n            b.cardView.setStrokeWidth(2);\n            break;\n        case NONE:\n            b.cardView.setStrokeColor(null);\n            b.cardView.setStrokeWidth(0);\n            break;\n    }\n}\n\npublic String getText() {\n    return b.etText.getEditableText().toString().trim();\n}\n\npublic void addTextChangedListener(TextWatcher textWatcher) {\n    //b.etText.addTextChangedListener(textWatcher);\n    textWatcherList.add(textWatcher);\n}\n\npublic boolean isEmpty() {\n    return StringUtils.checkNull(getText());\n}\n\n@Override\npublic void setOnClickListener(@Nullable OnClickListener listener) {\n    b.etText.setOnClickListener(listener);\n}\n\npublic void setErrorText(String errorText) {\n    this.errorText = errorText;\n}\n\npublic void setHelperText(String helperText) {\n    this.helperText = helperText;\n    refreshHelperText();\n}\n\npublic void setHintText(String hintText) {\n    this.hintText = hintText;\n    refreshHintText();\n}\n\npublic void setStartIcon(Drawable startIcon) {\n    this.startIcon = startIcon;\n    refreshStartIcon();\n}\n\npublic void setPrefixText(String prefix) {\n    this.prefixText = prefix;\n    refreshPrefixText();\n}\n\npublic void setLoading(boolean active) {\n    this.isProgressBarVisible = active;\n    refreshProgressBar();\n}\n\npublic void setCounterMaxLength(int counterMaxLength) {\n    this.counterMaxLength = counterMaxLength;\n    refreshCounter();\n}\n\npublic void setCounterEnabled(boolean counterEnabled) {\n    isCounterEnabled = counterEnabled;\n    refreshCounter();\n}\n\npublic void setOptional(boolean optional) {\n    isOptional = optional;\n    refreshOptional();\n}\n\npublic void setClearEnabled(boolean clearEnabled) {\n    isClearEnabled = clearEnabled;\n    refreshClearEnabled();\n}\n\npublic boolean isCounterError() {\n    return isCounterError;\n}\n\n@Override\npublic void setFocusable(boolean focusable) {\n    b.etText.setFocusable(focusable);\n}\n\npublic void setCursorVisible(boolean cursorVisible) {\n    b.etText.setCursorVisible(cursorVisible);\n}\n\npublic boolean isError() {\n    return isError || isCounterError;\n}\n\nprivate enum StrokeType {ERROR, FOCUS, DEFAULT, DISABLED, NONE}\n\n// TODO: 13.10.2021 Text drawable needs to get bigger\npublic void scalePictureForText() {\n    LayoutParams params = new LayoutParams(30, 0);\n    params.setMargins(19, 5, 0, 5);\n    b.ivStartIcon.setLayoutParams(params);\n}\n}\n</code></pre>\n<p>And this is how I use it in another layout (I removed the constraints):</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:fitsSystemWindows=&quot;true&quot;&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:fillViewport=&quot;true&quot;\n    android:overScrollMode=&quot;never&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;&gt;\n\n        &lt;com.company.app.views.CustomEditText\n            android:id=&quot;@+id/et_number_primary&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:imeOptions=&quot;actionDone&quot;\n            android:inputType=&quot;numberDecimal&quot;/&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;!--Button that should not scroll--&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":9542215,"reputation":784,"user_id":7089884,"accept_rate":45,"display_name":"DaveCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641249815,"creation_date":1641249815,"answer_id":70572228,"question_id":70547020,"body_markdown":"Short version, the arguments you&#39;re passing into routes().route aren&#39;t correct.  \r\n\r\nYou should try something like this: \r\n\r\n\r\n```\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(p -&gt; p.path(&quot; /api/management/home/clients/summary **&quot;)\r\n                        .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                                .rewritePath(&quot;/management/home/clients/summary/(?&lt;remaining&gt;.*)&quot;\r\n                                , &quot;/home/clients//${remaining}&quot;))\r\n                        .uri(&quot;lb:///home/clients/summary/&quot;))\r\n                .build();\r\n    }\r\n```\r\n\r\n","title":"Configure Spring Gateway to forward web requests to internal url","body":"<p>Short version, the arguments you're passing into routes().route aren't correct.</p>\n<p>You should try something like this:</p>\n<pre><code>    @Bean\n    public RouteLocator routes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(p -&gt; p.path(&quot; /api/management/home/clients/summary **&quot;)\n                        .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\n                                .rewritePath(&quot;/management/home/clients/summary/(?&lt;remaining&gt;.*)&quot;\n                                , &quot;/home/clients//${remaining}&quot;))\n                        .uri(&quot;lb:///home/clients/summary/&quot;))\n                .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14986135,"reputation":61,"user_id":10818641,"display_name":"Vrubal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641400727,"creation_date":1641400727,"answer_id":70596446,"question_id":70547020,"body_markdown":"You can add filter expression which will trim the url as per your requirement.\r\n\r\nBelow config will make url as /api/management ==&gt; /management\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: rewritepath_route\r\n        uri: https://example.org\r\n        predicates:\r\n        - Path=/api/**\r\n        filters:\r\n        - RewritePath=/api(?&lt;segment&gt;/?.*), /$\\{segment}\r\n\r\n```","title":"Configure Spring Gateway to forward web requests to internal url","body":"<p>You can add filter expression which will trim the url as per your requirement.</p>\n<p>Below config will make url as /api/management ==&gt; /management</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: rewritepath_route\n        uri: https://example.org\n        predicates:\n        - Path=/api/**\n        filters:\n        - RewritePath=/api(?&lt;segment&gt;/?.*), /$\\{segment}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2869610,"reputation":1140,"user_id":2463234,"display_name":"Dhananjay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641611448,"creation_date":1641603436,"answer_id":70628798,"question_id":70547020,"body_markdown":"For Eureka discovery you could do something like this:\r\n```\r\nspring:\r\n  application:\r\n    name: gateway\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          lowerCaseServiceId: true\r\n          enabled: true\r\n          predicates:\r\n            - name: Path\r\n              args:\r\n                pattern: &quot;&#39;/api/&#39;+serviceId.toLowerCase()+&#39;/**&#39;&quot;\r\n          filters:\r\n            - name: RewritePath\r\n              args:\r\n                regexp: &quot;&#39;/api/&#39; + serviceId.toLowerCase() + &#39;/(?&lt;remaining&gt;.*)&#39;&quot;\r\n                replacement: &quot;&#39;/${remaining}&#39;&quot;\r\n```\r\n\r\nOfcourse you will need `@EnableDiscoveryClient` in your main class.\r\nIf interested, could look into one of my [test repos][1].\r\n\r\nIn eureka check /eureka/app and see metadata for your service. You will see if the service has a context path or not. If it does not, above configuration will work. \r\n\r\nIf the service do have a contextPath, you need to use folowwing in `replacement` key:\r\n\r\n```\r\nreplacement: &quot;{metadata.get(&#39;contextPath&#39;) != null ? metadata.get(&#39;contextPath&#39;) : &#39;&#39;} + &#39;/${remaining}&#39;&quot;\r\n```\r\n\r\n\r\n  [1]: https://github.com/dhananjay12/spring-microservice-demo","title":"Configure Spring Gateway to forward web requests to internal url","body":"<p>For Eureka discovery you could do something like this:</p>\n<pre><code>spring:\n  application:\n    name: gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          lowerCaseServiceId: true\n          enabled: true\n          predicates:\n            - name: Path\n              args:\n                pattern: &quot;'/api/'+serviceId.toLowerCase()+'/**'&quot;\n          filters:\n            - name: RewritePath\n              args:\n                regexp: &quot;'/api/' + serviceId.toLowerCase() + '/(?&lt;remaining&gt;.*)'&quot;\n                replacement: &quot;'/${remaining}'&quot;\n</code></pre>\n<p>Ofcourse you will need <code>@EnableDiscoveryClient</code> in your main class.\nIf interested, could look into one of my <a href=\"https://github.com/dhananjay12/spring-microservice-demo\" rel=\"nofollow noreferrer\">test repos</a>.</p>\n<p>In eureka check /eureka/app and see metadata for your service. You will see if the service has a context path or not. If it does not, above configuration will work.</p>\n<p>If the service do have a contextPath, you need to use folowwing in <code>replacement</code> key:</p>\n<pre><code>replacement: &quot;{metadata.get('contextPath') != null ? metadata.get('contextPath') : ''} + '/${remaining}'&quot;\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70628798,"answer_count":3,"score":0,"last_activity_date":1641611448,"creation_date":1641012736,"question_id":70547020,"body_markdown":"I have Spring Gateway application with the following Gradle dependencies:\r\n\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-gateway&#39;\r\n    implementation &#39;com.netflix.eureka:eureka-core&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\n Route configuration:\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder, LoggingGatewayFilterFactory loggingFactory) {\r\n    \r\n        return builder.routes()\r\n                .route(&quot;service_route_clients_summary&quot;, r -&gt; r.path(&quot;c&quot;)\r\n                        .filters(f -&gt; f.rewritePath(&quot;/api/management/home/clients/summary&quot;, &quot;/management/home/clients/summary&quot;)\r\n                                .filter(loggingFactory.apply(new LoggingGatewayFilterFactory.Config(&quot;My Custom Message&quot;, true, true))))\r\n                        .uri(&quot;lb://merchant-hub-admin-service:8000/management/home/clients/summary&quot;))\r\n                .build();\r\n    }\r\n\r\n\r\nI want to forward `/api/management/home/clients/summary` to internal link `/management/home/clients/summary` but using Eureka client to find the internal service.\r\n\r\nWhen I rung the code nothing happened - path is not found.\r\nAny idea what can be wrong?\r\n","title":"Configure Spring Gateway to forward web requests to internal url","body":"<p>I have Spring Gateway application with the following Gradle dependencies:</p>\n<pre><code>implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-gateway'\nimplementation 'com.netflix.eureka:eureka-core'\nimplementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'\nimplementation 'org.springframework.boot:spring-boot-starter-actuator'\n</code></pre>\n<p>Route configuration:</p>\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder builder, LoggingGatewayFilterFactory loggingFactory) {\n\n    return builder.routes()\n            .route(&quot;service_route_clients_summary&quot;, r -&gt; r.path(&quot;c&quot;)\n                    .filters(f -&gt; f.rewritePath(&quot;/api/management/home/clients/summary&quot;, &quot;/management/home/clients/summary&quot;)\n                            .filter(loggingFactory.apply(new LoggingGatewayFilterFactory.Config(&quot;My Custom Message&quot;, true, true))))\n                    .uri(&quot;lb://merchant-hub-admin-service:8000/management/home/clients/summary&quot;))\n            .build();\n}\n</code></pre>\n<p>I want to forward <code>/api/management/home/clients/summary</code> to internal link <code>/management/home/clients/summary</code> but using Eureka client to find the internal service.</p>\n<p>When I rung the code nothing happened - path is not found.\nAny idea what can be wrong?</p>\n"},{"tags":["java","arraylist","integer"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1369148008,"post_id":16673039,"comment_id":23989989,"body_markdown":"Why don&#39;t use `Collections.reverse(list);` ?","body":"Why don&#39;t use <code>Collections.reverse(list);</code> ?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1369148074,"post_id":16673039,"comment_id":23990031,"body_markdown":"@ZouZou and exercise maybe?","body":"@ZouZou and exercise maybe?"},{"owner":{"account_id":240600,"reputation":99351,"user_id":510937,"accept_rate":80,"display_name":"Bakuriu"},"score":0,"creation_date":1369148075,"post_id":16673039,"comment_id":23990032,"body_markdown":"`(int i=list.size()-1; i &lt;= -1; i--)` something is wrong here...","body":"<code>(int i=list.size()-1; i &lt;= -1; i--)</code> something is wrong here..."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1369148158,"post_id":16673039,"comment_id":23990083,"body_markdown":"Hint: you can do it by traversing half of the list only O(N) instead of traversing the list several times O(N^2).","body":"Hint: you can do it by traversing half of the list only O(N) instead of traversing the list several times O(N^2)."},{"owner":{"account_id":2363040,"reputation":71,"user_id":2069328,"accept_rate":50,"display_name":"user2069328"},"score":0,"creation_date":1369148282,"post_id":16673039,"comment_id":23990162,"body_markdown":"Yes I&#39;m doing this purely for practice","body":"Yes I&#39;m doing this purely for practice"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1369148331,"post_id":16673039,"comment_id":23990199,"body_markdown":"&#39;i &lt;= -1&#39; is an obvious mistake. You have to write &#39;i &gt; -1&#39;","body":"&#39;i &lt;= -1&#39; is an obvious mistake. You have to write &#39;i &gt; -1&#39;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1641609619,"post_id":16673039,"comment_id":124856304,"body_markdown":"Do it manually on paper; make notes and then you know how to do it.","body":"Do it manually on paper; make notes and then you know how to do it."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369148650,"creation_date":1369148650,"answer_id":16673299,"question_id":16673039,"body_markdown":"You can take the extremities of the list at each iteration and swap them :\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\r\n    \tfor (int i = 0; i &lt; list.size()/2; i++){\r\n    \t            int temp = list.get(i);\r\n    \t            int temp2 = list.get(list.size()-1-i);\r\n    \t            list.set(i, temp2);\r\n    \t            list.set(list.size()-1-i, temp);\r\n    \t  }\r\n    \t    for(Integer i : list)\r\n    \t    \tSystem.out.print(i+&quot;-&quot;);\r\n\r\nGives the output :\r\n\r\n&gt; 10-9-8-7-6-5-4-3-2-1-\r\n\r\nAt the first iteration : `temp = 1 / temp2 = 10` : we swap them&lt;br/&gt;\r\nAt the second iteration : `temp = 2 / temp2 = 9` : we swap them\r\n\r\nAnd we loop until we go through all the elem of the list which is the size of the list divided by 2.","title":"Invert Elements in ArrayList&lt;Integer&gt; Java","body":"<p>You can take the extremities of the list at each iteration and swap them :</p>\n\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,4,5,6,7,8,9,10));\n    for (int i = 0; i &lt; list.size()/2; i++){\n                int temp = list.get(i);\n                int temp2 = list.get(list.size()-1-i);\n                list.set(i, temp2);\n                list.set(list.size()-1-i, temp);\n      }\n        for(Integer i : list)\n            System.out.print(i+\"-\");\n</code></pre>\n\n<p>Gives the output :</p>\n\n<blockquote>\n  <p>10-9-8-7-6-5-4-3-2-1-</p>\n</blockquote>\n\n<p>At the first iteration : <code>temp = 1 / temp2 = 10</code> : we swap them<br/>\nAt the second iteration : <code>temp = 2 / temp2 = 9</code> : we swap them</p>\n\n<p>And we loop until we go through all the elem of the list which is the size of the list divided by 2.</p>\n"},{"tags":[],"owner":{"account_id":2934509,"reputation":785,"user_id":2513816,"accept_rate":44,"display_name":"Piotrek Hryciuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402564048,"creation_date":1395752164,"answer_id":22635313,"question_id":16673039,"body_markdown":"Solution is \r\n\r\n    public void invertElems(List&lt;Integer&gt; list) {\r\n      for (int i = 0; i &lt; list.size() / 2; ++i) { // we only need iterating half of the size of list\r\n        int elem = list.get(i); // we store element in additional variable\r\n        list.set(i, list.get(list.size() - i - 1)); // we set i-th elementh with i-th element from the back\r\n        list.set(list.size() - i - 1, elem);\r\n      }\r\n    }\r\n\r\nLinear time. Feel free to ask questions.","title":"Invert Elements in ArrayList&lt;Integer&gt; Java","body":"<p>Solution is </p>\n\n<pre><code>public void invertElems(List&lt;Integer&gt; list) {\n  for (int i = 0; i &lt; list.size() / 2; ++i) { // we only need iterating half of the size of list\n    int elem = list.get(i); // we store element in additional variable\n    list.set(i, list.get(list.size() - i - 1)); // we set i-th elementh with i-th element from the back\n    list.set(list.size() - i - 1, elem);\n  }\n}\n</code></pre>\n\n<p>Linear time. Feel free to ask questions.</p>\n"}],"owner":{"account_id":2363040,"reputation":71,"user_id":2069328,"accept_rate":50,"display_name":"user2069328"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641609381,"creation_date":1369147920,"question_id":16673039,"body_markdown":"Ok so the point of this method is the invert the elements in an ArrayList of type `&lt;Integer&gt;`. So if I have the elements:\r\n\r\n```\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n```\r\nonce I call the method, the position of the elements should be Inverted as such:\r\n```\r\n10\r\n9\r\n8\r\n7\r\n6\r\n5\r\n```\r\nThis is the method, any advice would be greatly appreciated :).\r\n\r\n    public void invertElements()\r\n\t{\r\n\t\tfor (int i = list.size()-1; i &lt;= -1; i--)\r\n\t\t{\r\n\t\t\tint temp = list.get(i);\r\n\t\t\tfor(int j = 0; j &lt; list.size()-1; j++)\r\n\t\t\t{\r\n\t\t\tlist.set(j, temp);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nlist is the name of my `ArrayList&lt;Integer&gt;`.\r\n\r\nUpdate: Just tried this way:\r\n\r\n    public void invertElements()\r\n\t{\r\n\t\tint index = 0;\r\n\t\tfor (int i = list.size()-1; i &gt; -1; i--)\r\n\t\t{\r\n\t\t\tint temp = list.get(i);\r\n\t\t\tlist.set(index, temp);\r\n\t\t\tindex++;\r\n\t\t\tif(index == list.size()-1)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\r\nwhich gives the output: 10, 9, 8, 9, 10\r\nCould someone explain to me why?","title":"Invert Elements in ArrayList&lt;Integer&gt; Java","body":"<p>Ok so the point of this method is the invert the elements in an ArrayList of type <code>&lt;Integer&gt;</code>. So if I have the elements:</p>\n<pre><code>5\n6\n7\n8\n9\n10\n</code></pre>\n<p>once I call the method, the position of the elements should be Inverted as such:</p>\n<pre><code>10\n9\n8\n7\n6\n5\n</code></pre>\n<p>This is the method, any advice would be greatly appreciated :).</p>\n<pre><code>public void invertElements()\n{\n    for (int i = list.size()-1; i &lt;= -1; i--)\n    {\n        int temp = list.get(i);\n        for(int j = 0; j &lt; list.size()-1; j++)\n        {\n        list.set(j, temp);\n        }\n        \n    }\n}\n</code></pre>\n<p>list is the name of my <code>ArrayList&lt;Integer&gt;</code>.</p>\n<p>Update: Just tried this way:</p>\n<pre><code>public void invertElements()\n{\n    int index = 0;\n    for (int i = list.size()-1; i &gt; -1; i--)\n    {\n        int temp = list.get(i);\n        list.set(index, temp);\n        index++;\n        if(index == list.size()-1)\n        {\n            break;\n        }           \n    }\n}\n</code></pre>\n<p>which gives the output: 10, 9, 8, 9, 10\nCould someone explain to me why?</p>\n"},{"tags":["java","chronicle-queue","chronicle-map"],"answers":[{"tags":[],"owner":{"account_id":2417248,"reputation":1196,"user_id":2111039,"display_name":"Dmitry Pisklov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641608404,"creation_date":1641608404,"answer_id":70629162,"question_id":68680659,"body_markdown":"Chronicle&#39;s products all use mapped files. Mapped files are not part of JVM heap, instead they are using off-heap memory. Chronicle Queue and Map are used in microservices with 256M heap and with a lot of queues.\r\n\r\nRegarding the memory usage, Chronicle&#39;s products allocate memory in chunks, you won&#39;t have the whole map or queue file mapped into RAM in normal usage scenarios. The good idea of current memory usage is RSS.","title":"Chronicle maps and queues is part of application JVM heap or not","body":"<p>Chronicle's products all use mapped files. Mapped files are not part of JVM heap, instead they are using off-heap memory. Chronicle Queue and Map are used in microservices with 256M heap and with a lot of queues.</p>\n<p>Regarding the memory usage, Chronicle's products allocate memory in chunks, you won't have the whole map or queue file mapped into RAM in normal usage scenarios. The good idea of current memory usage is RSS.</p>\n"}],"owner":{"account_id":7096662,"reputation":2188,"user_id":5889530,"accept_rate":86,"display_name":"The Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70629162,"answer_count":1,"score":0,"last_activity_date":1641608404,"creation_date":1628248421,"question_id":68680659,"body_markdown":"In case anyone is using Chronicle Map, can you tell if Chronicle maps and queues sizes are part of application JVM heap or not.\r\n\r\nI have an application which listens on Chronicle Queue and then has multiple Chronicle maps. I have allocated 16GB as max heap size for my application. Individual maps have their entry sizes, key and value sizes defined. And say I have four maps each growing up to 5 GB each. \r\n\r\nWhat I don&#39;t know is where can I see the memory utilised by queues and maps. Also, if my application having 16GB is sufficient.","title":"Chronicle maps and queues is part of application JVM heap or not","body":"<p>In case anyone is using Chronicle Map, can you tell if Chronicle maps and queues sizes are part of application JVM heap or not.</p>\n<p>I have an application which listens on Chronicle Queue and then has multiple Chronicle maps. I have allocated 16GB as max heap size for my application. Individual maps have their entry sizes, key and value sizes defined. And say I have four maps each growing up to 5 GB each.</p>\n<p>What I don't know is where can I see the memory utilised by queues and maps. Also, if my application having 16GB is sufficient.</p>\n"},{"tags":["java","azure","gradle","azure-eventhub"],"answers":[{"tags":[],"owner":{"account_id":5287173,"reputation":670,"user_id":4220757,"display_name":"Connie Yau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626110898,"creation_date":1626110898,"answer_id":68351609,"question_id":68337162,"body_markdown":"I believe this may be related to the bug here where we do not dispose of a resource to allow this to close properly. Your repro looks like this: https://github.com/Azure/azure-sdk-for-java/issues/22305\r\n\r\nFor the asynchronous code, the `.subscribe()` call just sets up the subscription and invokes the call before moving to the next line of code. (It&#39;s a non-blocking call.) If your main method looked like the one below, the program would have probably ended before it had time to create an AMQP connection/session/link to the Event Hub. So that would be why the program ended gracefully.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    EventHubProducerAsyncClient producer = new EventHubClientBuilder()\r\n            .connectionString(connectionString)\r\n            .buildAsyncProducerClient();\r\n\r\n    // Create a batch and add a sample log to it\r\n    producer.createBatch().flatMap(batch -&gt; {\r\n        batch.tryAdd(new EventData(event));\r\n        return producer.send(batch);\r\n    }).subscribe(unused -&gt; {\r\n        },\r\n        error -&gt; System.err.println(&quot;Couldn&#39;t send logs, there&#39;s an error: &quot; + error.getStackTrace()),\r\n        () -&gt; {\r\n            System.out.println(&quot;Send complete!&quot;);\r\n            // Close the connection\r\n            producer.close();\r\n        });\r\n}\r\n```","title":"Java send to EventHub (not shutting down gracefully)","body":"<p>I believe this may be related to the bug here where we do not dispose of a resource to allow this to close properly. Your repro looks like this: <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/22305\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/issues/22305</a></p>\n<p>For the asynchronous code, the <code>.subscribe()</code> call just sets up the subscription and invokes the call before moving to the next line of code. (It's a non-blocking call.) If your main method looked like the one below, the program would have probably ended before it had time to create an AMQP connection/session/link to the Event Hub. So that would be why the program ended gracefully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    EventHubProducerAsyncClient producer = new EventHubClientBuilder()\n            .connectionString(connectionString)\n            .buildAsyncProducerClient();\n\n    // Create a batch and add a sample log to it\n    producer.createBatch().flatMap(batch -&gt; {\n        batch.tryAdd(new EventData(event));\n        return producer.send(batch);\n    }).subscribe(unused -&gt; {\n        },\n        error -&gt; System.err.println(&quot;Couldn't send logs, there's an error: &quot; + error.getStackTrace()),\n        () -&gt; {\n            System.out.println(&quot;Send complete!&quot;);\n            // Close the connection\n            producer.close();\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":9118597,"reputation":81,"user_id":6784880,"display_name":"B&#246;rje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641608264,"creation_date":1626014059,"question_id":68337162,"body_markdown":"I am trying to send alot of data from a server over to my event hub, however when I try to use the example code from microsoft doc the data is being sent but the application never stop running. I fill up my arraylist with 100 data at a time then I run the method.\r\n\r\n```\r\n    public static void publishEvents(List&lt;EventData&gt; allEvents) {\r\n        // create a producer client\r\n        EventHubProducerClient producer = new EventHubClientBuilder()\r\n            .connectionString(connectionString, eventHubName)\r\n            .buildProducerClient();\r\n\r\n       \r\n\r\n        // create a batch\r\n        EventDataBatch eventDataBatch = producer.createBatch();\r\n\r\n        for (EventData eventData : allEvents) {\r\n            // try to add the event from the array to the batch\r\n            if (!eventDataBatch.tryAdd(eventData)) {\r\n                // if the batch is full, send it and then create a new batch\r\n                producer.send(eventDataBatch);\r\n                eventDataBatch = producer.createBatch();\r\n\r\n                // Try to add that event that couldn&#39;t fit before.\r\n                if (!eventDataBatch.tryAdd(eventData)) {\r\n                    throw new IllegalArgumentException(&quot;Event is too large for an empty batch. Max size: &quot;\r\n                        + eventDataBatch.getMaxSizeInBytes());\r\n                }\r\n            }\r\n        }\r\n        // send the last batch of remaining events\r\n        if (eventDataBatch.getCount() &gt; 0) {\r\n            producer.send(eventDataBatch);\r\n        }\r\n        producer.close();\r\n    }\r\n```\r\nI tried using an async approach which seems to work fine but creating a new connection for each data to be sent seems like a bad idea and when using this for sending alot of data.\r\n\r\n```\r\n        EventHubProducerAsyncClient producer = new EventHubClientBuilder()\r\n                .connectionString(connectionString)\r\n                .buildAsyncProducerClient();\r\n\r\n        // Create a batch and add a sample log to it\r\n        producer.createBatch().flatMap(batch -&gt;\r\n        {\r\n            batch.tryAdd(new EventData(event));\r\n\r\n\r\n            return producer.send(batch);\r\n        }).subscribe(unused -&gt; {\r\n                },\r\n                error -&gt; System.err.println(&quot;Couldn&#39;t send logs, there&#39;s an error: &quot; + error.getStackTrace()),\r\n                () -&gt;\r\n                {\r\n                    System.out.println(&quot;Send complete!&quot;);\r\n                    // Close the connection\r\n                    producer.close();\r\n                });\r\n\r\n    }\r\n```\r\nWould need some help to fix the problem where the application never exiting.","title":"Java send to EventHub (not shutting down gracefully)","body":"<p>I am trying to send alot of data from a server over to my event hub, however when I try to use the example code from microsoft doc the data is being sent but the application never stop running. I fill up my arraylist with 100 data at a time then I run the method.</p>\n<pre><code>    public static void publishEvents(List&lt;EventData&gt; allEvents) {\n        // create a producer client\n        EventHubProducerClient producer = new EventHubClientBuilder()\n            .connectionString(connectionString, eventHubName)\n            .buildProducerClient();\n\n       \n\n        // create a batch\n        EventDataBatch eventDataBatch = producer.createBatch();\n\n        for (EventData eventData : allEvents) {\n            // try to add the event from the array to the batch\n            if (!eventDataBatch.tryAdd(eventData)) {\n                // if the batch is full, send it and then create a new batch\n                producer.send(eventDataBatch);\n                eventDataBatch = producer.createBatch();\n\n                // Try to add that event that couldn't fit before.\n                if (!eventDataBatch.tryAdd(eventData)) {\n                    throw new IllegalArgumentException(&quot;Event is too large for an empty batch. Max size: &quot;\n                        + eventDataBatch.getMaxSizeInBytes());\n                }\n            }\n        }\n        // send the last batch of remaining events\n        if (eventDataBatch.getCount() &gt; 0) {\n            producer.send(eventDataBatch);\n        }\n        producer.close();\n    }\n</code></pre>\n<p>I tried using an async approach which seems to work fine but creating a new connection for each data to be sent seems like a bad idea and when using this for sending alot of data.</p>\n<pre><code>        EventHubProducerAsyncClient producer = new EventHubClientBuilder()\n                .connectionString(connectionString)\n                .buildAsyncProducerClient();\n\n        // Create a batch and add a sample log to it\n        producer.createBatch().flatMap(batch -&gt;\n        {\n            batch.tryAdd(new EventData(event));\n\n\n            return producer.send(batch);\n        }).subscribe(unused -&gt; {\n                },\n                error -&gt; System.err.println(&quot;Couldn't send logs, there's an error: &quot; + error.getStackTrace()),\n                () -&gt;\n                {\n                    System.out.println(&quot;Send complete!&quot;);\n                    // Close the connection\n                    producer.close();\n                });\n\n    }\n</code></pre>\n<p>Would need some help to fix the problem where the application never exiting.</p>\n"},{"tags":["java","arraylist","integer","minimum"],"answers":[{"tags":[],"owner":{"account_id":20105829,"reputation":1074,"user_id":14743390,"display_name":"Zinc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1610472196,"creation_date":1610471129,"answer_id":65688579,"question_id":65688334,"body_markdown":"Your example is not so good in the way that you should not use recursivity in this case.\r\nBut anyway, you can avoid to copy your array each time, by using a method with a start and end parameters to analyze only a part of your initial array.\r\n\r\nSomething like that:\r\n```java\r\n\r\n\tpublic static int findMin(ArrayList&lt;Integer&gt; numbers) {\r\n\t\treturn findMin(numbers, 0, numbers.size() - 1);\r\n\t}\r\n\r\n\tpublic static int findMin(ArrayList&lt;Integer&gt; numbers, int start, int end) {\r\n\t\tif (end == start)\r\n\t\t\treturn numbers.get(start);\r\n\t\tint middle = start + (end - start) / 2;\r\n\t\treturn Math.min(findMin(numbers, start, middle), findMin(numbers, middle + 1, end));\r\n\t}\r\n```\r\n\r\nAnd add a check in case the array is empty if needed.\r\n\r\nThe reason why I&#39;m using the &quot;middle&quot; method is that each time it divides the array by 2, meaning at the end it limits the risk of stack overflow because it will divide by 2 the maximum number of recursivity compare to recurse on every element.","title":"Recursive function that finds the minimum value in an ArrayList of Integers in Java","body":"<p>Your example is not so good in the way that you should not use recursivity in this case.\nBut anyway, you can avoid to copy your array each time, by using a method with a start and end parameters to analyze only a part of your initial array.</p>\n<p>Something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public static int findMin(ArrayList&lt;Integer&gt; numbers) {\n        return findMin(numbers, 0, numbers.size() - 1);\n    }\n\n    public static int findMin(ArrayList&lt;Integer&gt; numbers, int start, int end) {\n        if (end == start)\n            return numbers.get(start);\n        int middle = start + (end - start) / 2;\n        return Math.min(findMin(numbers, start, middle), findMin(numbers, middle + 1, end));\n    }\n</code></pre>\n<p>And add a check in case the array is empty if needed.</p>\n<p>The reason why I'm using the &quot;middle&quot; method is that each time it divides the array by 2, meaning at the end it limits the risk of stack overflow because it will divide by 2 the maximum number of recursivity compare to recurse on every element.</p>\n"},{"tags":[],"owner":{"account_id":8531952,"reputation":131,"user_id":6395262,"display_name":"Jalaj Varshney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610471733,"creation_date":1610471733,"answer_id":65688739,"question_id":65688334,"body_markdown":"You may want to avoid creating a new ArrayList object every time you call the method. This may seem non consequential for smaller inputs, but for really large inputs it may lead to `StackOverflowError`.\r\n\r\nA cleaner solution with similar time complexity can be:\r\n```\r\npublic static int findMin(ArrayList&lt;Integer&gt; numbers) {\r\n        return findMin(numbers, numbers.size());\r\n    }\r\n\r\npublic static int findMin(ArrayList&lt;Integer&gt; numbers, int len) {\r\n    // Base Case\r\n    if (len == 1) {\r\n        return numbers.get(0);\r\n    }\r\n    \r\n    return Math.min(numbers.get(len-1), findMin(numbers, len-1));\r\n}\r\n```\r\nReference to garbage collector and recursion: https://stackoverflow.com/q/27781116/6395262","title":"Recursive function that finds the minimum value in an ArrayList of Integers in Java","body":"<p>You may want to avoid creating a new ArrayList object every time you call the method. This may seem non consequential for smaller inputs, but for really large inputs it may lead to <code>StackOverflowError</code>.</p>\n<p>A cleaner solution with similar time complexity can be:</p>\n<pre><code>public static int findMin(ArrayList&lt;Integer&gt; numbers) {\n        return findMin(numbers, numbers.size());\n    }\n\npublic static int findMin(ArrayList&lt;Integer&gt; numbers, int len) {\n    // Base Case\n    if (len == 1) {\n        return numbers.get(0);\n    }\n    \n    return Math.min(numbers.get(len-1), findMin(numbers, len-1));\n}\n</code></pre>\n<p>Reference to garbage collector and recursion: <a href=\"https://stackoverflow.com/q/27781116/6395262\">Garbage Collection in Java with Recursive Function</a></p>\n"},{"tags":[],"owner":{"account_id":23865727,"reputation":1,"user_id":17868084,"display_name":"A.Wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641607050,"creation_date":1641607050,"answer_id":70629089,"question_id":65688334,"body_markdown":"Keeping the original method signature and formal parameters - the code can be simplified by eliminating the need to create a new temporary array each time. \r\n```\r\npublic static int findMin(ArrayList&lt;Integer&gt; numbers){\r\n        if (numbers.size() == 1) return numbers.get(0);\r\n        return Math.min(numbers.remove(0), findMinimum(numbers));\r\n    }\r\n\r\n```\r\n\r\nnumbers.remove(0) will simultaneously remove the first element and return the value of the removed element, eliminating the need to create a temporary array. \r\n\r\n","title":"Recursive function that finds the minimum value in an ArrayList of Integers in Java","body":"<p>Keeping the original method signature and formal parameters - the code can be simplified by eliminating the need to create a new temporary array each time.</p>\n<pre><code>public static int findMin(ArrayList&lt;Integer&gt; numbers){\n        if (numbers.size() == 1) return numbers.get(0);\n        return Math.min(numbers.remove(0), findMinimum(numbers));\n    }\n\n</code></pre>\n<p>numbers.remove(0) will simultaneously remove the first element and return the value of the removed element, eliminating the need to create a temporary array.</p>\n"}],"owner":{"account_id":10984424,"reputation":23,"user_id":8070604,"display_name":"jllanes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65688579,"answer_count":3,"score":2,"last_activity_date":1641607050,"creation_date":1610470312,"question_id":65688334,"body_markdown":"This is a problem that I have been thinking about as part of self-learning java. The problem consists of **writing a recursive function that finds the minimum value in an ArrayList of Integers**. Below you will find my attempt. I believe that it is working as intended, but I wonder if there are better ways to get this done. Any comments are appreciated.\r\n```\r\npublic static int findMin(ArrayList&lt;Integer&gt; numbers){\r\n        // Base Case\r\n        if(numbers.size()==1){\r\n            return numbers.get(0).intValue();\r\n        }\r\n    \r\n  \r\n        ArrayList&lt;Integer&gt; numbers_short = new ArrayList&lt;Integer&gt;(numbers);\r\n        numbers.remove(numbers.size()-1);\r\n\r\n        return Math.min(numbers_short.get(numbers_short.size()-1).intValue(), findMin(numbers));\r\n    }\r\n```","title":"Recursive function that finds the minimum value in an ArrayList of Integers in Java","body":"<p>This is a problem that I have been thinking about as part of self-learning java. The problem consists of <strong>writing a recursive function that finds the minimum value in an ArrayList of Integers</strong>. Below you will find my attempt. I believe that it is working as intended, but I wonder if there are better ways to get this done. Any comments are appreciated.</p>\n<pre><code>public static int findMin(ArrayList&lt;Integer&gt; numbers){\n        // Base Case\n        if(numbers.size()==1){\n            return numbers.get(0).intValue();\n        }\n    \n  \n        ArrayList&lt;Integer&gt; numbers_short = new ArrayList&lt;Integer&gt;(numbers);\n        numbers.remove(numbers.size()-1);\n\n        return Math.min(numbers_short.get(numbers_short.size()-1).intValue(), findMin(numbers));\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","docker","amazon-ecs","chronicle-queue"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1629843421,"post_id":68913989,"comment_id":121792903,"body_markdown":"Could you use a different queueing solution (RabbitMQ is a popular open-source option) that doesn&#39;t depend on shared files?","body":"Could you use a different queueing solution (RabbitMQ is a popular open-source option) that doesn&#39;t depend on shared files?"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1629845826,"post_id":68913989,"comment_id":121793408,"body_markdown":"Yes I could and we already created POCs with solace and IBM MQ and is quite performant too. However Chronicle has an advantage that does nor require any infrastructure setup other than a jar in the class path. This said no decision taken to go away from Kafka as yet.","body":"Yes I could and we already created POCs with solace and IBM MQ and is quite performant too. However Chronicle has an advantage that does nor require any infrastructure setup other than a jar in the class path. This said no decision taken to go away from Kafka as yet."},{"owner":{"account_id":3789852,"reputation":5634,"user_id":3146741,"accept_rate":47,"display_name":"mreferre"},"score":0,"creation_date":1629876199,"post_id":68913989,"comment_id":121799179,"body_markdown":"I am trying to wrap my head around this and I am wondering if the problem is with trying to bind mount the same folder in different tasks. It looks like for a [single task you are doing the right thing](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/bind-mounts.html).","body":"I am trying to wrap my head around this and I am wondering if the problem is with trying to bind mount the same folder in different tasks. It looks like for a <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/bind-mounts.html\" rel=\"nofollow noreferrer\">single task you are doing the right thing</a>."},{"owner":{"account_id":3789852,"reputation":5634,"user_id":3146741,"accept_rate":47,"display_name":"mreferre"},"score":0,"creation_date":1629876474,"post_id":68913989,"comment_id":121799282,"body_markdown":"Having that said, have you considered using EFS in your design to host your queue files? I see a few advantages: it allows to decouple the ephemerality of EC2 from the persistence of a queue, it allows to use more than 1 EC2 (for HA and scale in case it&#39;s needed) and it also can bypass completed the POSIX mess by just assigning r/w permissions through IAM to the EC2 via task roles. If you want to dive deeper on this have a look at part 1 and part 2 of [this blog series](https://aws.amazon.com/blogs/containers/developers-guide-to-using-amazon-efs-with-amazon-ecs-and-aws-fargate-part-1/)","body":"Having that said, have you considered using EFS in your design to host your queue files? I see a few advantages: it allows to decouple the ephemerality of EC2 from the persistence of a queue, it allows to use more than 1 EC2 (for HA and scale in case it&#39;s needed) and it also can bypass completed the POSIX mess by just assigning r/w permissions through IAM to the EC2 via task roles. If you want to dive deeper on this have a look at part 1 and part 2 of <a href=\"https://aws.amazon.com/blogs/containers/developers-guide-to-using-amazon-efs-with-amazon-ecs-and-aws-fargate-part-1/\" rel=\"nofollow noreferrer\">this blog series</a>"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1629883852,"post_id":68913989,"comment_id":121802397,"body_markdown":"EFS was the very first thing I tried. Unfortunately Chronicle-queue open source does not support moving data between different hosts. It works just fine as long as all the data is moved on the same hard disk without involving any networking. Looks like for this you need chronicle-queue-enterprise, all good for us, just for a POC I wanted to make it work on a single EC2","body":"EFS was the very first thing I tried. Unfortunately Chronicle-queue open source does not support moving data between different hosts. It works just fine as long as all the data is moved on the same hard disk without involving any networking. Looks like for this you need chronicle-queue-enterprise, all good for us, just for a POC I wanted to make it work on a single EC2"}],"answers":[{"tags":[],"owner":{"account_id":2417248,"reputation":1196,"user_id":2111039,"display_name":"Dmitry Pisklov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641606657,"creation_date":1641606657,"answer_id":70629061,"question_id":68913989,"body_markdown":"How to set up Chronicle Queue to work with Docker is documented in Chronicle [FAQ][1]. You need to ensure that:\r\n\r\n- containers share IPC namespace (run with --ipc=&quot;host&quot;)\r\n\r\n- queues are mounted on bind-mounted folders from the host (i.e. -v /host/dir/1/:/container/dir)\r\n\r\n\r\n  [1]: https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/FAQ.adoc#does-chronicle-queue-work-in-linux-containers","title":"How to map docker volume to EC2 host file system","body":"<p>How to set up Chronicle Queue to work with Docker is documented in Chronicle <a href=\"https://github.com/OpenHFT/Chronicle-Queue/blob/ea/docs/FAQ.adoc#does-chronicle-queue-work-in-linux-containers\" rel=\"nofollow noreferrer\">FAQ</a>. You need to ensure that:</p>\n<ul>\n<li><p>containers share IPC namespace (run with --ipc=&quot;host&quot;)</p>\n</li>\n<li><p>queues are mounted on bind-mounted folders from the host (i.e. -v /host/dir/1/:/container/dir)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70629061,"answer_count":1,"score":0,"last_activity_date":1641606657,"creation_date":1629838609,"question_id":68913989,"body_markdown":"We have a bunch of micro services running each in its own Docker container in a shared AWS EC2 instance.\r\nGiving the excellent results obtained when running locally now we are trying to use Chronicle queues as a way to communicate between our micro services in AWS.\r\n\r\nMS1 receives an API request does some internal processing and emits an event to CH2 Chronicle queue. MS2 is listening to CH2 chronicle queue and when an events arrives in there it picks it up does some internal processing and emits an event to CH3 Chronicle queue.\r\n\r\n    API --&gt; MS1 --&gt; CH2 --&gt; MS2 --&gt; CH3 --&gt; ...\r\n\r\nInside each container we have `/tmp/my_app_data` an application root folder and a subfolder for each Chronicle queue that micro service interacts with.\r\nFor example in MS1 container we have `/tmp/my_app_data/ch2` and inside MS2 container we have `/tmp/my_app_data/ch2` and `/tmp/my_app_data/ch3`\r\n\r\nAll these folders are mapped to the EC2 host machine under a similar structure:\r\n\r\n    /tmp/my_app_data\r\n        |_ch2\r\n        |_ch3\r\n        |_...\r\n\r\nNow when trying to run our system we encountered all kind of issues to accessing data which was written by one micro service intended for the next one in the work flow. In the above example the further we could get was to have MS2 read data from ch2 that was sent thee by MS1 but we still could not mark the data as processed which means MS2 writing into files under the ch2 folder.\r\n\r\nI cannot list the full set of permutations we have tried even trying to hack file permissions inside the containers and on the EC2 host; it seems I am missing some basic setup specific to Docker/AWS.\r\n\r\nThis is our Docker configuration from MS1 Dockerfile:\r\n\r\n     RUN mkdir -p /tmp/my_app_data &amp;&amp; chown nobody:nobody /tmp/my_app_data\r\n     RUN mkdir -p /tmp/my_app_data/ch2 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch2\r\n     USER nobody\r\n     VOLUME [&quot;/tmp/my_app_data&quot;]\r\n\r\nSimilar we have the same ur Docker configuration from MS1 Dockerfile:\r\n\r\n     RUN mkdir -p /tmp/my_app_data &amp;&amp; chown nobody:nobody /tmp/my_app_data\r\n     RUN mkdir -p /tmp/my_app_data/ch2 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch2\r\n     RUN mkdir -p /tmp/my_app_data/ch3 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch3\r\n     USER nobody\r\n     VOLUME [&quot;/tmp/my_app_data&quot;]\r\n\r\nAnd on the AWS side part of both MS1 and MS2 tasks definitions we have:\r\n\r\n        &quot;mountPoints&quot;: [\r\n          {\r\n            &quot;readOnly&quot;: null,\r\n            &quot;containerPath&quot;: &quot;/tmp/my_app_data&quot;,\r\n            &quot;sourceVolume&quot;: &quot;chronicle&quot;\r\n          }\r\n        ],\r\n        ....\r\n        &quot;volumes&quot;: [\r\n          {\r\n            &quot;fsxWindowsFileServerVolumeConfiguration&quot;: null,\r\n            &quot;efsVolumeConfiguration&quot;: null,\r\n            &quot;name&quot;: &quot;chronicle&quot;,\r\n            &quot;host&quot;: {\r\n              &quot;sourcePath&quot;: &quot;/tmp/my_app_data&quot;\r\n             },\r\n            &quot;dockerVolumeConfiguration&quot;: null\r\n          }\r\n        ]\r\n\r\nSo here is my question: What I am doing wrong and how could I fix it?\r\nIdeally for us this should work when running as user `nobody` but because this is a POC I would be thankful to get it running anyway, including `root`. For us the purpose of this POC is to confirm whether we get the same good results with Chronicle in the cloud as we got when running locally.\r\n\r\nThank you in advance for your inputs.","title":"How to map docker volume to EC2 host file system","body":"<p>We have a bunch of micro services running each in its own Docker container in a shared AWS EC2 instance.\nGiving the excellent results obtained when running locally now we are trying to use Chronicle queues as a way to communicate between our micro services in AWS.</p>\n<p>MS1 receives an API request does some internal processing and emits an event to CH2 Chronicle queue. MS2 is listening to CH2 chronicle queue and when an events arrives in there it picks it up does some internal processing and emits an event to CH3 Chronicle queue.</p>\n<pre><code>API --&gt; MS1 --&gt; CH2 --&gt; MS2 --&gt; CH3 --&gt; ...\n</code></pre>\n<p>Inside each container we have <code>/tmp/my_app_data</code> an application root folder and a subfolder for each Chronicle queue that micro service interacts with.\nFor example in MS1 container we have <code>/tmp/my_app_data/ch2</code> and inside MS2 container we have <code>/tmp/my_app_data/ch2</code> and <code>/tmp/my_app_data/ch3</code></p>\n<p>All these folders are mapped to the EC2 host machine under a similar structure:</p>\n<pre><code>/tmp/my_app_data\n    |_ch2\n    |_ch3\n    |_...\n</code></pre>\n<p>Now when trying to run our system we encountered all kind of issues to accessing data which was written by one micro service intended for the next one in the work flow. In the above example the further we could get was to have MS2 read data from ch2 that was sent thee by MS1 but we still could not mark the data as processed which means MS2 writing into files under the ch2 folder.</p>\n<p>I cannot list the full set of permutations we have tried even trying to hack file permissions inside the containers and on the EC2 host; it seems I am missing some basic setup specific to Docker/AWS.</p>\n<p>This is our Docker configuration from MS1 Dockerfile:</p>\n<pre><code> RUN mkdir -p /tmp/my_app_data &amp;&amp; chown nobody:nobody /tmp/my_app_data\n RUN mkdir -p /tmp/my_app_data/ch2 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch2\n USER nobody\n VOLUME [&quot;/tmp/my_app_data&quot;]\n</code></pre>\n<p>Similar we have the same ur Docker configuration from MS1 Dockerfile:</p>\n<pre><code> RUN mkdir -p /tmp/my_app_data &amp;&amp; chown nobody:nobody /tmp/my_app_data\n RUN mkdir -p /tmp/my_app_data/ch2 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch2\n RUN mkdir -p /tmp/my_app_data/ch3 &amp;&amp; chown nobody:nobody /tmp/my_app_data/ch3\n USER nobody\n VOLUME [&quot;/tmp/my_app_data&quot;]\n</code></pre>\n<p>And on the AWS side part of both MS1 and MS2 tasks definitions we have:</p>\n<pre><code>    &quot;mountPoints&quot;: [\n      {\n        &quot;readOnly&quot;: null,\n        &quot;containerPath&quot;: &quot;/tmp/my_app_data&quot;,\n        &quot;sourceVolume&quot;: &quot;chronicle&quot;\n      }\n    ],\n    ....\n    &quot;volumes&quot;: [\n      {\n        &quot;fsxWindowsFileServerVolumeConfiguration&quot;: null,\n        &quot;efsVolumeConfiguration&quot;: null,\n        &quot;name&quot;: &quot;chronicle&quot;,\n        &quot;host&quot;: {\n          &quot;sourcePath&quot;: &quot;/tmp/my_app_data&quot;\n         },\n        &quot;dockerVolumeConfiguration&quot;: null\n      }\n    ]\n</code></pre>\n<p>So here is my question: What I am doing wrong and how could I fix it?\nIdeally for us this should work when running as user <code>nobody</code> but because this is a POC I would be thankful to get it running anyway, including <code>root</code>. For us the purpose of this POC is to confirm whether we get the same good results with Chronicle in the cloud as we got when running locally.</p>\n<p>Thank you in advance for your inputs.</p>\n"},{"tags":["java","string","expression"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1641603591,"post_id":70628694,"comment_id":124855646,"body_markdown":"Aside from reason mentioned in duplicate (linked at top of your question, you may need to refresh this page to see it) you can also improve your code a little since currently you are validating same data twice: once in `if(invalidChoice)` and once in `while(invalidChoice)`. So instead of `do { choice = ...; if (invalidChoice){ problem info;} } while (invalidChoice);` you could rewrite it into something IMO more readable like `choice = ...; while(invalidChoice){problem info; choice = ...:}`.","body":"Aside from reason mentioned in duplicate (linked at top of your question, you may need to refresh this page to see it) you can also improve your code a little since currently you are validating same data twice: once in <code>if(invalidChoice)</code> and once in <code>while(invalidChoice)</code>. So instead of <code>do { choice = ...; if (invalidChoice){ problem info;} } while (invalidChoice);</code> you could rewrite it into something IMO more readable like <code>choice = ...; while(invalidChoice){problem info; choice = ...:}</code>."}],"answers":[{"tags":[],"owner":{"account_id":19699289,"reputation":83,"user_id":14422459,"display_name":"Leonardo Dimarchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641605116,"creation_date":1641602496,"answer_id":70628709,"question_id":70628694,"body_markdown":"It can be resolved by changing those OR statements (||) and adding AND (&amp;&amp;) statements in the place\r\n\r\n```java\r\ndo {\r\n    understood = input.next();\r\n\r\n    if (!understood.equalsIgnoreCase(&quot;yes&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;y&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;no&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;n&quot;)) {\r\n      System.out.print(&quot;\\nHey, man. Answer the question. Yes or no? &quot;);\r\n    }\r\n} while (!understood.equalsIgnoreCase(&quot;yes&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;y&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;no&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;n&quot;));\r\n```","title":"How can I check if two strings are NOT equal to each other?","body":"<p>It can be resolved by changing those OR statements (||) and adding AND (&amp;&amp;) statements in the place</p>\n<pre class=\"lang-java prettyprint-override\"><code>do {\n    understood = input.next();\n\n    if (!understood.equalsIgnoreCase(&quot;yes&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;y&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;no&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;n&quot;)) {\n      System.out.print(&quot;\\nHey, man. Answer the question. Yes or no? &quot;);\n    }\n} while (!understood.equalsIgnoreCase(&quot;yes&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;y&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;no&quot;) &amp;&amp; !understood.equalsIgnoreCase(&quot;n&quot;));\n</code></pre>\n"}],"owner":{"account_id":23865412,"reputation":1,"user_id":17867811,"display_name":"beebs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641602885,"answer_count":1,"score":0,"last_activity_date":1641605116,"creation_date":1641602337,"question_id":70628694,"body_markdown":"I was completing a high school java project, but I stumbled across this issue that I can&#39;t seem to fix no matter what I do. \r\n\r\n```\r\ndo\t//runs until user enters a valid option\r\n\t\t\t{\r\n\t\t\t\tunderstood = input.next();\t//collects user input \r\n\t\t\t\tif (!understood.equalsIgnoreCase(&quot;yes&quot;) || !understood.equalsIgnoreCase(&quot;y&quot;) || !understood.equalsIgnoreCase(&quot;no&quot;) || !understood.equalsIgnoreCase(&quot;n&quot;))\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\tSystem.out.print(&quot;\\nHey, man. Answer the question. Yes or no? &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twhile (!understood.equalsIgnoreCase(&quot;yes&quot;) || !understood.equalsIgnoreCase(&quot;y&quot;) || !understood.equalsIgnoreCase(&quot;no&quot;) || !understood.equalsIgnoreCase(&quot;n&quot;));\r\n```\r\n\r\nWhat I&#39;m trying to do is check for invalid input for a string in a yes or no question, but when I run it, no matter what I enter, it is treated as invalid input. I&#39;d really appreciate any help on this, thank you so much! :)","title":"How can I check if two strings are NOT equal to each other?","body":"<p>I was completing a high school java project, but I stumbled across this issue that I can't seem to fix no matter what I do.</p>\n<pre><code>do  //runs until user enters a valid option\n            {\n                understood = input.next();  //collects user input \n                if (!understood.equalsIgnoreCase(&quot;yes&quot;) || !understood.equalsIgnoreCase(&quot;y&quot;) || !understood.equalsIgnoreCase(&quot;no&quot;) || !understood.equalsIgnoreCase(&quot;n&quot;))\n                                {\n                    System.out.print(&quot;\\nHey, man. Answer the question. Yes or no? &quot;);\n                }\n            }\n            while (!understood.equalsIgnoreCase(&quot;yes&quot;) || !understood.equalsIgnoreCase(&quot;y&quot;) || !understood.equalsIgnoreCase(&quot;no&quot;) || !understood.equalsIgnoreCase(&quot;n&quot;));\n</code></pre>\n<p>What I'm trying to do is check for invalid input for a string in a yes or no question, but when I run it, no matter what I enter, it is treated as invalid input. I'd really appreciate any help on this, thank you so much! :)</p>\n"},{"tags":["java","android","reactjs","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":23865288,"reputation":1,"user_id":17867702,"display_name":"M. Bagas Pradana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641604672,"creation_date":1641604672,"answer_id":70628905,"question_id":70628411,"body_markdown":"based on reference from Tomerikoo developer. Here is the explanation:\r\n\r\n1. Switch your Java version to a compatible Version. Major version 61 refers to Java Version 16.0.2 ([Java SE Development Kit 16.0.2][1])\r\n\r\n2. Then change your java jdk with the latest java jdk. To switch it you have to set your PATH. example on windows : [set JAVA_HOME in Windows 10][2] on MacOS : [Set $JAVA_HOME environment variable on macOS][3]\r\n\r\n3. Check your Gradle Version and update the gradle to make it compatible.\r\nIn **android/build.gradle** you have to edit this line :\r\n\r\n      classpath &#39;com.android.tools.build:gradle:x.y.z&#39;\r\n\r\n  Change x.y.z with the version you want like 7.0.0 and then click Sync now\r\n\r\n4. if the 3rd stage still shows an error message, you can use this 4th method. forget the 3rd way (restore as before) &gt; Change the distributionUrl=https://services.gradle.org/distributions/gradle-7.2-all.zip inside the **android/gradle/wrapper/gradle-wrapper.properties** file and then click Sync now.\r\n\r\n\r\nI hope this method can solve your problem\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/jdk16-archive-downloads.html\r\n  [2]: https://javatutorial.net/set-java-home-windows-10\r\n  [3]: https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#switch-between-different-jdk-versions","title":"Error building React Native app on Android with react-native-multiple-image-picker","body":"<p>based on reference from Tomerikoo developer. Here is the explanation:</p>\n<ol>\n<li><p>Switch your Java version to a compatible Version. Major version 61 refers to Java Version 16.0.2 (<a href=\"https://www.oracle.com/java/technologies/javase/jdk16-archive-downloads.html\" rel=\"nofollow noreferrer\">Java SE Development Kit 16.0.2</a>)</p>\n</li>\n<li><p>Then change your java jdk with the latest java jdk. To switch it you have to set your PATH. example on windows : <a href=\"https://javatutorial.net/set-java-home-windows-10\" rel=\"nofollow noreferrer\">set JAVA_HOME in Windows 10</a> on MacOS : <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/#switch-between-different-jdk-versions\" rel=\"nofollow noreferrer\">Set $JAVA_HOME environment variable on macOS</a></p>\n</li>\n<li><p>Check your Gradle Version and update the gradle to make it compatible.\nIn <strong>android/build.gradle</strong> you have to edit this line :</p>\n<p>classpath 'com.android.tools.build:gradle:x.y.z'</p>\n</li>\n</ol>\n<p>Change x.y.z with the version you want like 7.0.0 and then click Sync now</p>\n<ol start=\"4\">\n<li>if the 3rd stage still shows an error message, you can use this 4th method. forget the 3rd way (restore as before) &gt; Change the distributionUrl=https://services.gradle.org/distributions/gradle-7.2-all.zip inside the <strong>android/gradle/wrapper/gradle-wrapper.properties</strong> file and then click Sync now.</li>\n</ol>\n<p>I hope this method can solve your problem</p>\n"}],"owner":{"account_id":22145156,"reputation":1,"user_id":16394562,"display_name":"caleb garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641604672,"creation_date":1641599397,"question_id":70628411,"body_markdown":"I was trying to implement an image gallery system in a app that i am building in React Native but when I installed the react-native-multiple-image-picker package and tried to run it it gave me this error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/Users/calebgarcia/Dev/Tibeo/node_modules/@baronha/react-native-multiple-image-picker/android/build.gradle&#39;\r\n\r\n* What went wrong:\r\nCould not compile build file &#39;/Users/calebgarcia/Dev/Tibeo/node_modules/@baronha/react-native-multiple-image-picker/android/build.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during semantic analysis: Unsupported class file major version 61\r\n  \r\n  java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \r\n \r\n```\r\nDo you have any idea how i can fix it?\r\nP.S.\r\nWhen I run it on ios, it works perfectly\r\nThanks.","title":"Error building React Native app on Android with react-native-multiple-image-picker","body":"<p>I was trying to implement an image gallery system in a app that i am building in React Native but when I installed the react-native-multiple-image-picker package and tried to run it it gave me this error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/calebgarcia/Dev/Tibeo/node_modules/@baronha/react-native-multiple-image-picker/android/build.gradle'\n\n* What went wrong:\nCould not compile build file '/Users/calebgarcia/Dev/Tibeo/node_modules/@baronha/react-native-multiple-image-picker/android/build.gradle'.\n&gt; startup failed:\n  General error during semantic analysis: Unsupported class file major version 61\n  \n  java.lang.IllegalArgumentException: Unsupported class file major version 61\n        \n \n</code></pre>\n<p>Do you have any idea how i can fix it?\nP.S.\nWhen I run it on ios, it works perfectly\nThanks.</p>\n"},{"tags":["java","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":1,"creation_date":1461759999,"post_id":36889768,"comment_id":61343831,"body_markdown":"Do not silence the `Exception` !! try out output them on the console.","body":"Do not silence the <code>Exception</code> !! try out output them on the console."},{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":5,"creation_date":1461760043,"post_id":36889768,"comment_id":61343858,"body_markdown":"You are not writing to `bw` anywhere","body":"You are not writing to <code>bw</code> anywhere"},{"owner":{"account_id":5269959,"reputation":640,"user_id":4208554,"accept_rate":75,"display_name":"Jake Psimos"},"score":0,"creation_date":1461760138,"post_id":36889768,"comment_id":61343940,"body_markdown":"instead of reading and processing the file line by line,  why not just read one byte at a time whilst keeping track of the bytes consumed and once the count reaches 100 append a new line.","body":"instead of reading and processing the file line by line,  why not just read one byte at a time whilst keeping track of the bytes consumed and once the count reaches 100 append a new line."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1461760360,"post_id":36889768,"comment_id":61344094,"body_markdown":"Final note: read about try-with-resources. With recent versions of java, you don&#39;t need all that manual closing of writers/readers/...","body":"Final note: read about try-with-resources. With recent versions of java, you don&#39;t need all that manual closing of writers/readers/..."}],"answers":[{"tags":[],"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1461760354,"creation_date":1461760354,"answer_id":36889938,"question_id":36889768,"body_markdown":"    while ((line = br.readLine()) != null) {       \r\n        line.replaceAll(&quot;(.{100})&quot;, &quot;$1\\n&quot;);       \r\n    }\r\n\r\nFirst off, `line.replaceAll` does not replace your line variable with the result. Because `Strings` are immutable, this method returns the new string, so your line should be `line = line.replaceAll(...`.\r\n\r\nSecond, you&#39;re never writing the new `String` back into the file. Using `replaceAll` doesn&#39;t change the file itself in any way. Instead, try using your `bw` object to write the new `String` to the same line.","title":"Read and edit the file from Java","body":"<pre><code>while ((line = br.readLine()) != null) {       \n    line.replaceAll(\"(.{100})\", \"$1\\n\");       \n}\n</code></pre>\n\n<p>First off, <code>line.replaceAll</code> does not replace your line variable with the result. Because <code>Strings</code> are immutable, this method returns the new string, so your line should be <code>line = line.replaceAll(...</code>.</p>\n\n<p>Second, you're never writing the new <code>String</code> back into the file. Using <code>replaceAll</code> doesn't change the file itself in any way. Instead, try using your <code>bw</code> object to write the new <code>String</code> to the same line.</p>\n"},{"tags":[],"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461760593,"creation_date":1461760593,"answer_id":36890029,"question_id":36889768,"body_markdown":"From what you&#39;ve published here, you never try to write `line` back to `bw`. Try this:\r\n\r\n    package hello;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test().replace();\r\n        }\r\n    \r\n        public void replace() {\r\n            String oldFileName = &quot;d:\\\\1.txt&quot;;\r\n            String tmpFileName = &quot;d:\\\\2.txt&quot;;\r\n    \r\n            BufferedReader br = null;\r\n            BufferedWriter bw = null;\r\n            try {\r\n                br = new BufferedReader(new FileReader(oldFileName));\r\n                bw = new BufferedWriter(new FileWriter(tmpFileName));\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    line = line.replaceAll(&quot;(.{100})&quot;, &quot;$1\\n&quot;);\r\n                    bw.write(line);\r\n                }\r\n            } catch (Exception e) {\r\n                return;\r\n            } finally {\r\n                try {\r\n                    if(br != null)\r\n                        br.close();\r\n                } catch (IOException e) {\r\n                    //\r\n                }\r\n                try {\r\n                    if(bw != null)\r\n                        bw.close();\r\n                } catch (IOException e) {\r\n                    //\r\n                }\r\n            }\r\n            // Once everything is complete, delete old file..\r\n            File oldFile = new File(oldFileName);\r\n            oldFile.delete();\r\n    \r\n            // And rename tmp file&#39;s name to old file name\r\n            File newFile = new File(tmpFileName);\r\n            newFile.renameTo(oldFile);\r\n    \r\n        }\r\n    }\r\n\r\n1. You never try to write line back to `bw`;\r\n2. `String#replaceAll` will return the copy of the source not the original `String`;","title":"Read and edit the file from Java","body":"<p>From what you've published here, you never try to write <code>line</code> back to <code>bw</code>. Try this:</p>\n\n<pre><code>package hello;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test().replace();\n    }\n\n    public void replace() {\n        String oldFileName = \"d:\\\\1.txt\";\n        String tmpFileName = \"d:\\\\2.txt\";\n\n        BufferedReader br = null;\n        BufferedWriter bw = null;\n        try {\n            br = new BufferedReader(new FileReader(oldFileName));\n            bw = new BufferedWriter(new FileWriter(tmpFileName));\n            String line;\n            while ((line = br.readLine()) != null) {\n                line = line.replaceAll(\"(.{100})\", \"$1\\n\");\n                bw.write(line);\n            }\n        } catch (Exception e) {\n            return;\n        } finally {\n            try {\n                if(br != null)\n                    br.close();\n            } catch (IOException e) {\n                //\n            }\n            try {\n                if(bw != null)\n                    bw.close();\n            } catch (IOException e) {\n                //\n            }\n        }\n        // Once everything is complete, delete old file..\n        File oldFile = new File(oldFileName);\n        oldFile.delete();\n\n        // And rename tmp file's name to old file name\n        File newFile = new File(tmpFileName);\n        newFile.renameTo(oldFile);\n\n    }\n}\n</code></pre>\n\n<ol>\n<li>You never try to write line back to <code>bw</code>;</li>\n<li><code>String#replaceAll</code> will return the copy of the source not the original <code>String</code>;</li>\n</ol>\n"}],"owner":{"account_id":1815751,"reputation":396,"user_id":1650864,"accept_rate":77,"display_name":"eshaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36889938,"answer_count":2,"score":2,"last_activity_date":1641604324,"creation_date":1461759867,"question_id":36889768,"body_markdown":"I&#39;m trying to introduce a line break at every 100th character of the line from the existing file.But it doesn&#39;t write anything to it. below is the code written in java to read the existing file and write to it with a temporary file.\r\n\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class ReplaceFileContents {\r\n       public static void main(String[] args) {\r\n         new ReplaceFileContents().replace();\r\n       }\r\n    \r\n       public void replace() {\r\n          String oldFileName = &quot;Changed1.ldif&quot;;\r\n          String tmpFileName = &quot;Changed2.ldif&quot;;\r\n    \r\n          BufferedReader br = null;\r\n          BufferedWriter bw = null;\r\n          try {\r\n             br = new BufferedReader(new FileReader(oldFileName));\r\n             bw = new BufferedWriter(new FileWriter(tmpFileName));\r\n             String line;\r\n             while ((line = br.readLine()) != null) {       \r\n                    line.replaceAll(&quot;(.{100})&quot;, &quot;$1\\n&quot;);       \r\n             }\r\n          } catch (Exception e) {\r\n             return;\r\n          } finally {\r\n             try {\r\n                if(br != null)\r\n                   br.close();\r\n             } catch (IOException e) {\r\n                //\r\n             }\r\n             try {\r\n                if(bw != null)\r\n                   bw.close();\r\n             } catch (IOException e) {\r\n                //\r\n             }\r\n          }\r\n          // Once everything is complete, delete old file..\r\n          File oldFile = new File(oldFileName);\r\n          oldFile.delete();\r\n    \r\n          // And rename tmp file&#39;s name to old file name\r\n          File newFile = new File(tmpFileName);\r\n          newFile.renameTo(oldFile);\r\n    \r\n       }\r\n    }\r\n\r\n\r\n","title":"Read and edit the file from Java","body":"<p>I'm trying to introduce a line break at every 100th character of the line from the existing file.But it doesn't write anything to it. below is the code written in java to read the existing file and write to it with a temporary file.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class ReplaceFileContents {\n   public static void main(String[] args) {\n     new ReplaceFileContents().replace();\n   }\n\n   public void replace() {\n      String oldFileName = \"Changed1.ldif\";\n      String tmpFileName = \"Changed2.ldif\";\n\n      BufferedReader br = null;\n      BufferedWriter bw = null;\n      try {\n         br = new BufferedReader(new FileReader(oldFileName));\n         bw = new BufferedWriter(new FileWriter(tmpFileName));\n         String line;\n         while ((line = br.readLine()) != null) {       \n                line.replaceAll(\"(.{100})\", \"$1\\n\");       \n         }\n      } catch (Exception e) {\n         return;\n      } finally {\n         try {\n            if(br != null)\n               br.close();\n         } catch (IOException e) {\n            //\n         }\n         try {\n            if(bw != null)\n               bw.close();\n         } catch (IOException e) {\n            //\n         }\n      }\n      // Once everything is complete, delete old file..\n      File oldFile = new File(oldFileName);\n      oldFile.delete();\n\n      // And rename tmp file's name to old file name\n      File newFile = new File(tmpFileName);\n      newFile.renameTo(oldFile);\n\n   }\n}\n</code></pre>\n"},{"tags":["java","artificial-intelligence","minimax"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1641608681,"post_id":35564058,"comment_id":124856212,"body_markdown":"the link is incorrect","body":"the link is incorrect"}],"answers":[{"tags":[],"owner":{"account_id":59521,"reputation":18723,"user_id":178082,"accept_rate":87,"display_name":"Nick Larsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641604192,"creation_date":1457646550,"answer_id":35927998,"question_id":35564058,"body_markdown":"This game has chance nodes (attacks involve randomized outcomes decided by the game controller, not the AI) and so you&#39;ll want to start with the minimax variant called ExpectiMax.  The main difference between these is that expect max assigns a likelihood to each node of the outcome, and the value for the node is a weighted combination of ending up in any of the possible states beyond that branch.\r\n\r\nIn the real game, all players move at the same time whereas it looks like it&#39;s just one after another for the competition.  Regardless, you have to be able to calculate all possible moves which is an enormous task (all conceivable combinations of attacks).  Since the game is so huge, it&#39;s intractable and as such, you&#39;ll have to find a way to cut off search before reaching the leaf nodes.  At the point where you cut off the search, you&#39;ll run an evaluation function which is something you have to craft by hand.  You can get crazy, but a simple example might be something like calculating the % of your territories which you can capture neighboring territories on your next turn minus the number of your territories that can be captured on the next turn.  The quality of your gameplay will be almost entirely reliant on this evaluation function since you probably won&#39;t get more than 4 or 5 levels deep in the expected max evaluation.\r\n\r\nFor the first phase of the game, I wouldn&#39;t worry about trying to use any kind of minimax, just pre-assign a static strategy unless you know some information about the players you&#39;ll be against beforehand.","title":"Warlight Game AI - MiniMax Approach","body":"<p>This game has chance nodes (attacks involve randomized outcomes decided by the game controller, not the AI) and so you'll want to start with the minimax variant called ExpectiMax.  The main difference between these is that expect max assigns a likelihood to each node of the outcome, and the value for the node is a weighted combination of ending up in any of the possible states beyond that branch.</p>\n<p>In the real game, all players move at the same time whereas it looks like it's just one after another for the competition.  Regardless, you have to be able to calculate all possible moves which is an enormous task (all conceivable combinations of attacks).  Since the game is so huge, it's intractable and as such, you'll have to find a way to cut off search before reaching the leaf nodes.  At the point where you cut off the search, you'll run an evaluation function which is something you have to craft by hand.  You can get crazy, but a simple example might be something like calculating the % of your territories which you can capture neighboring territories on your next turn minus the number of your territories that can be captured on the next turn.  The quality of your gameplay will be almost entirely reliant on this evaluation function since you probably won't get more than 4 or 5 levels deep in the expected max evaluation.</p>\n<p>For the first phase of the game, I wouldn't worry about trying to use any kind of minimax, just pre-assign a static strategy unless you know some information about the players you'll be against beforehand.</p>\n"}],"owner":{"display_name":"user2337191"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641604192,"creation_date":1456175901,"question_id":35564058,"body_markdown":"I want to code an `AI` for the [`Warlight Game`][1]. I read about the `MiniMax algorithm` for the TicTacToe game but I suppose this situation is different. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor the TicTacToe game we have states in the nodes. But I can&#39;t imagine how to store a state of the Warlight game in a node. I have precomputed probability values which is created by using the theory here. [https://stats.stackexchange.com/questions/91814/probability-enemy-territory-captured-in-x-turns][3]\r\n\r\nCould you help me to understand what the most reasonable way to use MiniMax search in Warlight AI game is? \r\n\r\n**Notes:** \r\nI&#39;m using Java codebase but it is different than the actual Warlight AI competition. This is not for competition. \r\n\r\nThis is not complete but here is an example usage of precomputed probabilities just to give an idea;\r\n\r\n    aRes = FightAttackersResults.loadFromFile(new File(&quot;FightSimulation-Attackers-A200-D200.obj&quot;));\r\n    dRes = FightDefendersResults.loadFromFile(new File(&quot;FightSimulation-Defenders-A200-D200.obj&quot;));\r\n    \r\n    for (int a = defenders; a &lt;= attackers; ++a) {\r\n    \t\t\tdouble chance = aRes.getAttackersWinChance(a, defenders);\r\n    \t\t\tif (chance &gt;= winProbability) {\r\n    \t\t\t\treturn a;\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n\r\n  [1]: http://theaigames.com/competitions/warlight-ai-challenge\r\n  [2]: http://i.stack.imgur.com/C5Dv5.jpg\r\n  [3]: https://stats.stackexchange.com/questions/91814/probability-enemy-territory-captured-in-x-turns","title":"Warlight Game AI - MiniMax Approach","body":"<p>I want to code an <code>AI</code> for the <a href=\"http://theaigames.com/competitions/warlight-ai-challenge\" rel=\"nofollow noreferrer\"><code>Warlight Game</code></a>. I read about the <code>MiniMax algorithm</code> for the TicTacToe game but I suppose this situation is different. </p>\n\n<p><a href=\"https://i.stack.imgur.com/C5Dv5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5Dv5.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>For the TicTacToe game we have states in the nodes. But I can't imagine how to store a state of the Warlight game in a node. I have precomputed probability values which is created by using the theory here. <a href=\"https://stats.stackexchange.com/questions/91814/probability-enemy-territory-captured-in-x-turns\">https://stats.stackexchange.com/questions/91814/probability-enemy-territory-captured-in-x-turns</a></p>\n\n<p>Could you help me to understand what the most reasonable way to use MiniMax search in Warlight AI game is? </p>\n\n<p><strong>Notes:</strong> \nI'm using Java codebase but it is different than the actual Warlight AI competition. This is not for competition. </p>\n\n<p>This is not complete but here is an example usage of precomputed probabilities just to give an idea;</p>\n\n<pre><code>aRes = FightAttackersResults.loadFromFile(new File(\"FightSimulation-Attackers-A200-D200.obj\"));\ndRes = FightDefendersResults.loadFromFile(new File(\"FightSimulation-Defenders-A200-D200.obj\"));\n\nfor (int a = defenders; a &lt;= attackers; ++a) {\n            double chance = aRes.getAttackersWinChance(a, defenders);\n            if (chance &gt;= winProbability) {\n                return a;\n            }\n        }\n</code></pre>\n"},{"tags":["java","performance","message-digest"],"answers":[{"tags":[],"owner":{"account_id":3025647,"reputation":811,"user_id":2565730,"display_name":"parsifal"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1641604032,"creation_date":1373394566,"answer_id":17555580,"question_id":17554998,"body_markdown":"Create a new`MessageDigest` instance each time you need one.\r\n\r\nAll of the instances returned from `getInstance()` are distinct. They need to be, as they maintain separate digests (and if that&#39;s not enough for you, [here&#39;s][1] a link to the source).\r\n\r\n`ThreadLocal` *can* provide a performance benefit when used with a threadpool, to maintain expensive-to-construct objects. `MessageDigest` isn&#39;t particularly expensive to construct (again, look at the source).\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/35c4702055ccf11975391df01f62a70e06ecae83/src/java.base/share/classes/java/security/MessageDigest.java#L179","title":"Need thread safe MessageDigest in Java","body":"<p>Create a new<code>MessageDigest</code> instance each time you need one.</p>\n<p>All of the instances returned from <code>getInstance()</code> are distinct. They need to be, as they maintain separate digests (and if that's not enough for you, <a href=\"https://github.com/openjdk/jdk/blob/35c4702055ccf11975391df01f62a70e06ecae83/src/java.base/share/classes/java/security/MessageDigest.java#L179\" rel=\"noreferrer\">here's</a> a link to the source).</p>\n<p><code>ThreadLocal</code> <em>can</em> provide a performance benefit when used with a threadpool, to maintain expensive-to-construct objects. <code>MessageDigest</code> isn't particularly expensive to construct (again, look at the source).</p>\n"},{"tags":[],"owner":{"account_id":3469325,"reputation":186,"user_id":2904142,"display_name":"fishyfriend"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1418945463,"creation_date":1418945463,"answer_id":27557553,"question_id":17554998,"body_markdown":"As an alternative, use [DigestUtils](https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html), Apache Commons&#39; thread-safe wrapper for MessageDigest.\r\n\r\n[sha1()](https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha1(java.lang.String)) does what you need:\r\n\r\n`byte[] bytes = sha1(key)`","title":"Need thread safe MessageDigest in Java","body":"<p>As an alternative, use <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"noreferrer\">DigestUtils</a>, Apache Commons' thread-safe wrapper for MessageDigest.</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html#sha1(java.lang.String)\" rel=\"noreferrer\">sha1()</a> does what you need:</p>\n\n<p><code>byte[] bytes = sha1(key)</code></p>\n"},{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597846178,"creation_date":1597846178,"answer_id":63488867,"question_id":17554998,"body_markdown":"You could use [`ImmutableMessageDigest`](https://javadoc.io/doc/com.github.glusk/caesar/latest/com.github.glusk.caesar/com/github/glusk/caesar/hashing/ImmutableMessageDigest.html) from [Caesar](https://github.com/Glusk/caesar), an open source library I wrote.\r\n\r\nIt essentially wraps a `MessageDigest` instance and clones it before every `digest()` or `update()` call.","title":"Need thread safe MessageDigest in Java","body":"<p>You could use <a href=\"https://javadoc.io/doc/com.github.glusk/caesar/latest/com.github.glusk.caesar/com/github/glusk/caesar/hashing/ImmutableMessageDigest.html\" rel=\"nofollow noreferrer\"><code>ImmutableMessageDigest</code></a> from <a href=\"https://github.com/Glusk/caesar\" rel=\"nofollow noreferrer\">Caesar</a>, an open source library I wrote.</p>\n<p>It essentially wraps a <code>MessageDigest</code> instance and clones it before every <code>digest()</code> or <code>update()</code> call.</p>\n"}],"owner":{"account_id":415003,"reputation":513,"user_id":789555,"accept_rate":38,"display_name":"Anil Padia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30252,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":17555580,"answer_count":3,"score":44,"last_activity_date":1641604032,"creation_date":1373392456,"question_id":17554998,"body_markdown":"I need to hash multiple keys from multiple threads using MessageDigest in a performance critical environment. I came to know that MessageDigest is not thread safe as it stores its state in it&#39;s object. What can be the best possible way to achieve thread safe hashing of keys? \r\n\r\nUse case:\r\n \r\n\r\n    MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    \r\n    //somewhere later, just need to hash a key, nothing else\r\n    messageDigest.update(key);\r\n    byte[] bytes = messageDigest.digest(); \r\n\r\nSpecifically:\r\n\r\n 1. Will ThreadLocal guaranteed to work? Will it have performance\r\n    penalty? \r\n 2. Are the objects returned by getInstance different and they\r\n    do not interfere with each other? The documentation says &#39;new&#39;\r\n    object, but I am not sure whether it is just a wrapper on (shared)\r\n    shared concrete class? \r\n 3. If getInstance() returns &#39;real&#39; new objects,\r\n    is it advisable to create a new instance each time I need to\r\n    calculate the hash? In terms of performance penalty - how costly is\r\n    it?\r\n\r\nMy use case is very simple - just hash a simple key. I cannot afford to use synchronization.\r\n\r\nThanks,\r\n\r\n ","title":"Need thread safe MessageDigest in Java","body":"<p>I need to hash multiple keys from multiple threads using MessageDigest in a performance critical environment. I came to know that MessageDigest is not thread safe as it stores its state in it's object. What can be the best possible way to achieve thread safe hashing of keys? </p>\n\n<p>Use case:</p>\n\n<pre><code>MessageDigest messageDigest = MessageDigest.getInstance(\"SHA-1\");\n\n//somewhere later, just need to hash a key, nothing else\nmessageDigest.update(key);\nbyte[] bytes = messageDigest.digest(); \n</code></pre>\n\n<p>Specifically:</p>\n\n<ol>\n<li>Will ThreadLocal guaranteed to work? Will it have performance\npenalty? </li>\n<li>Are the objects returned by getInstance different and they\ndo not interfere with each other? The documentation says 'new'\nobject, but I am not sure whether it is just a wrapper on (shared)\nshared concrete class? </li>\n<li>If getInstance() returns 'real' new objects,\nis it advisable to create a new instance each time I need to\ncalculate the hash? In terms of performance penalty - how costly is\nit?</li>\n</ol>\n\n<p>My use case is very simple - just hash a simple key. I cannot afford to use synchronization.</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":425684,"reputation":2594,"user_id":806430,"display_name":"twalthr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640854228,"creation_date":1640854228,"answer_id":70529353,"question_id":70528758,"body_markdown":"It depends for what you would like to declare a schema: a catalog table, a connector, a DataStream API conversion?\r\n\r\nAll locations above offer a `Schema` parameter. As a user, you usually only need to use `Schema`. However, the `Schema.Builder` offers methods to inherit components from a `ResolvedSchema` that comes out of the framework.","title":"The type TableSchema.Builder is deprecated","body":"<p>It depends for what you would like to declare a schema: a catalog table, a connector, a DataStream API conversion?</p>\n<p>All locations above offer a <code>Schema</code> parameter. As a user, you usually only need to use <code>Schema</code>. However, the <code>Schema.Builder</code> offers methods to inherit components from a <code>ResolvedSchema</code> that comes out of the framework.</p>\n"}],"owner":{"account_id":23662418,"reputation":3,"user_id":17690309,"display_name":"yinyin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70529353,"answer_count":1,"score":0,"last_activity_date":1641603944,"creation_date":1640850272,"question_id":70528758,"body_markdown":"According to the title, the type **TableSchema.Builder** is deprecated and the advise of VScode is that: `This class has been deprecated as part of FLIP-164. It has been replaced by two more dedicated classes **Schema and ResolvedSchema**. Use Schema for declaration in APIs. ResolvedSchema is offered by the framework after resolution and validation.`\r\n\r\n\r\n\r\nMy problem : **how to replaced** the tableSchema by two more dedicated classes Schema and **ResolvedSchema**?\r\n\r\nBy the way, I am searching for a long time on internet. But i could not find anything. Need some ideas how to achieve this, thanks in advance.\r\n\r\n    TableSchema.Builder tableBuilder = new TableSchema.Builder().fields(names, types);\r\n                        primaryKey.ifPresent(\r\n                        pk -&gt; tableBuilder.primaryKey(\r\n                        pk.getName(), pk.getColumns().toArray(new String[0])));\r\n                TableSchema tableSchema = tableBuilder.build();\r\n\r\n","title":"The type TableSchema.Builder is deprecated","body":"<p>According to the title, the type <strong>TableSchema.Builder</strong> is deprecated and the advise of VScode is that: <code>This class has been deprecated as part of FLIP-164. It has been replaced by two more dedicated classes **Schema and ResolvedSchema**. Use Schema for declaration in APIs. ResolvedSchema is offered by the framework after resolution and validation.</code></p>\n<p>My problem : <strong>how to replaced</strong> the tableSchema by two more dedicated classes Schema and <strong>ResolvedSchema</strong>?</p>\n<p>By the way, I am searching for a long time on internet. But i could not find anything. Need some ideas how to achieve this, thanks in advance.</p>\n<pre><code>TableSchema.Builder tableBuilder = new TableSchema.Builder().fields(names, types);\n                    primaryKey.ifPresent(\n                    pk -&gt; tableBuilder.primaryKey(\n                    pk.getName(), pk.getColumns().toArray(new String[0])));\n            TableSchema tableSchema = tableBuilder.build();\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641572180,"post_id":70624079,"comment_id":124846696,"body_markdown":"The first and simplest is to use: `mvn --version` will print out the information...If you like to check within the build your should check maven-enforcer-plugin like https://maven.apache.org/enforcer/enforcer-rules/requireJavaVersion.html","body":"The first and simplest is to use: <code>mvn --version</code> will print out the information...If you like to check within the build your should check maven-enforcer-plugin like <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireJavaVersion.html\" rel=\"nofollow noreferrer\">maven.apache.org/enforcer/enforcer-rules/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1641572619,"post_id":70624079,"comment_id":124846905,"body_markdown":"Furthermore I would suggest to use `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` instead of the given properties...","body":"Furthermore I would suggest to use <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code> instead of the given properties..."},{"owner":{"account_id":16468566,"reputation":681,"user_id":11898172,"display_name":"Fabio Ribeiro de Carvalho"},"score":1,"creation_date":1641573513,"post_id":70624079,"comment_id":124847335,"body_markdown":"Thanks khmarbaise","body":"Thanks khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641572260,"creation_date":1641572260,"answer_id":70624201,"question_id":70624079,"body_markdown":"In your command line if you run `mvn -v` it shows something like\r\n\r\n    Maven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\r\n    Java version: 15.0.1, vendor: Oracle Corporation, runtime: C:\\java\\jdk-15.0.1\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n","title":"How to know which java version the Maven is using when build the project","body":"<p>In your command line if you run <code>mvn -v</code> it shows something like</p>\n<pre><code>Maven home: C:\\maven\\apache-maven-3.6.3\\bin\\..\nJava version: 15.0.1, vendor: Oracle Corporation, runtime: C:\\java\\jdk-15.0.1\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1222742,"reputation":44,"user_id":1189042,"display_name":"william0754"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641602820,"creation_date":1641602820,"answer_id":70628740,"question_id":70624079,"body_markdown":"Depending on where you build the project, in command line it would use the JAVA_HOME setting, in IDE it would use IDE settings for the project, e.g. in IDEA, go to Project Settings page (File -&gt; Project Structure), you can check the Project SDK &amp; Project language level settings on &quot;Project&quot; &amp; &quot;Modules&quot; page, that shows which SDK &amp; language level the current project used.","title":"How to know which java version the Maven is using when build the project","body":"<p>Depending on where you build the project, in command line it would use the JAVA_HOME setting, in IDE it would use IDE settings for the project, e.g. in IDEA, go to Project Settings page (File -&gt; Project Structure), you can check the Project SDK &amp; Project language level settings on &quot;Project&quot; &amp; &quot;Modules&quot; page, that shows which SDK &amp; language level the current project used.</p>\n"}],"owner":{"account_id":16468566,"reputation":681,"user_id":11898172,"display_name":"Fabio Ribeiro de Carvalho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641602820,"creation_date":1641571750,"question_id":70624079,"body_markdown":"I would like to know if it&#39;s possible check which Java version my Maven is using to build the project.\r\n\r\n1. The ```JAVA_HOME``` was set to JDK 1.8.\r\n\r\n2. In pom.xml I have this properties configured:\r\n``` xml\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\nI try figured out a way to **check it in mvn logs**, but I can&#39;t find whitch version was used.\r\n\r\nHow to know the Java version throught some kind of mvn logs.\r\n\r\nI appretiate any support.\r\n","title":"How to know which java version the Maven is using when build the project","body":"<p>I would like to know if it's possible check which Java version my Maven is using to build the project.</p>\n<ol>\n<li><p>The <code>JAVA_HOME</code> was set to JDK 1.8.</p>\n</li>\n<li><p>In pom.xml I have this properties configured:</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I try figured out a way to <strong>check it in mvn logs</strong>, but I can't find whitch version was used.</p>\n<p>How to know the Java version throught some kind of mvn logs.</p>\n<p>I appretiate any support.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":4159,"reputation":27282,"user_id":6161,"accept_rate":81,"display_name":"ctrlShiftBryan"},"score":1,"creation_date":1267191783,"post_id":2341943,"comment_id":56195912,"body_markdown":"Your are really violating the idea of TDD if your code if doing something different for the Test. Why do you only need to change it inside the test?","body":"Your are really violating the idea of TDD if your code if doing something different for the Test. Why do you only need to change it inside the test?"},{"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"score":19,"creation_date":1267192153,"post_id":2341943,"comment_id":2313803,"body_markdown":"This is a terrible idea","body":"This is a terrible idea"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1267200706,"post_id":2341943,"comment_id":2314897,"body_markdown":"of course, still better than not testing at all. Maybe...","body":"of course, still better than not testing at all. Maybe..."},{"owner":{"account_id":16042,"reputation":4792,"user_id":34540,"accept_rate":83,"display_name":"Sophistifunk"},"score":2,"creation_date":1361834937,"post_id":2341943,"comment_id":21206773,"body_markdown":"FWIW, I often find it&#39;s useful to do *while developing*. Put a check for jUnit in the outer-most method of an API, that throws a run-time exception at the end when being run in-container. This way you can run unit tests and get a valid result, and also test the full stack easily from the UI, but your transaction gets thrown out due to the RTE.","body":"FWIW, I often find it&#39;s useful to do <i>while developing</i>. Put a check for jUnit in the outer-most method of an API, that throws a run-time exception at the end when being run in-container. This way you can run unit tests and get a valid result, and also test the full stack easily from the UI, but your transaction gets thrown out due to the RTE."},{"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"score":18,"creation_date":1381259952,"post_id":2341943,"comment_id":28506953,"body_markdown":"I think I have a pretty valid use case for this:  I want to send an email in production if something goes seriously wrong, and I don&#39;t want that email if it&#39;s inside of a test case (the developer, as opposed to the production support staff, will see the failed results on his own).  We have over a hundred JUnit tests and I don&#39;t want to go modify each one to call something like EmailService.dontSendEmailsToProductionTeam()","body":"I think I have a pretty valid use case for this:  I want to send an email in production if something goes seriously wrong, and I don&#39;t want that email if it&#39;s inside of a test case (the developer, as opposed to the production support staff, will see the failed results on his own).  We have over a hundred JUnit tests and I don&#39;t want to go modify each one to call something like EmailService.dontSendEmailsToProductionTeam()"},{"owner":{"account_id":13133,"reputation":22190,"user_id":26197,"accept_rate":89,"display_name":"Aaron Silverman"},"score":3,"creation_date":1404858867,"post_id":2341943,"comment_id":38196077,"body_markdown":"I like to know if code is running within a unit test so I can do things like tell it to use a different S3 bucket. That way I can still test everything is wired up without having to mock out S3 entirely.","body":"I like to know if code is running within a unit test so I can do things like tell it to use a different S3 bucket. That way I can still test everything is wired up without having to mock out S3 entirely."},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"score":0,"creation_date":1409734697,"post_id":2341943,"comment_id":40061743,"body_markdown":"I think it is useful as a safety constraint. Safety constraints seldom do any harm even if &quot;should never happen&quot;.","body":"I think it is useful as a safety constraint. Safety constraints seldom do any harm even if &quot;should never happen&quot;."},{"owner":{"account_id":2111849,"reputation":1037,"user_id":1876980,"accept_rate":86,"display_name":"Stephen M -on strike-"},"score":1,"creation_date":1560455666,"post_id":2341943,"comment_id":99753321,"body_markdown":"Another use case: Loading a Mocked instance for a singleton.  I&#39;d never want the singleton replaced when running in Production or even in most Development situations, but for some unit tests where the singleton is out of the test&#39;s scope, then I do want to replace it!","body":"Another use case: Loading a Mocked instance for a singleton.  I&#39;d never want the singleton replaced when running in Production or even in most Development situations, but for some unit tests where the singleton is out of the test&#39;s scope, then I do want to replace it!"},{"owner":{"account_id":3174084,"reputation":636,"user_id":2682381,"accept_rate":50,"display_name":"Marco Freudenberger"},"score":0,"creation_date":1698832317,"post_id":2341943,"comment_id":136453910,"body_markdown":"Even another valid use case that just brought me here: Higher level unit tests of a complex piece of software, that behaves differently at different configuration settings. In the code to be tested, a state is determined based on configuration settings and presence of some software modules. This determination takes a while, so the state depending on the configuration is evaluated once and cached for the whole production run lifetime cycle. Unit tests override the configuration settings to test the code for multiple configurations, so the state must not be cached for JUnit tests.","body":"Even another valid use case that just brought me here: Higher level unit tests of a complex piece of software, that behaves differently at different configuration settings. In the code to be tested, a state is determined based on configuration settings and presence of some software modules. This determination takes a while, so the state depending on the configuration is evaluated once and cached for the whole production run lifetime cycle. Unit tests override the configuration settings to test the code for multiple configurations, so the state must not be cached for JUnit tests."}],"answers":[{"tags":[],"owner":{"account_id":91406,"reputation":943,"user_id":250978,"display_name":"SOA Nerd"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1267191849,"creation_date":1267191849,"answer_id":2341990,"question_id":2341943,"body_markdown":"If you&#39;re doing things differently because you&#39;re doing a unit test you&#39;re defeating the purpose of a unit test.   A unit test is supposed to perform exactly like production would (except for the setup and teardown of any necessary data and such you need....but that is included in the JUnit test itself and not your code).\r\n\r\nHowever, if you truly do have a good reason for this I&#39;d look at the stack and see if JUnit is there.","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>If you're doing things differently because you're doing a unit test you're defeating the purpose of a unit test.   A unit test is supposed to perform exactly like production would (except for the setup and teardown of any necessary data and such you need....but that is included in the JUnit test itself and not your code).</p>\n\n<p>However, if you truly do have a good reason for this I'd look at the stack and see if JUnit is there.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1267192043,"creation_date":1267192043,"answer_id":2342013,"question_id":2341943,"body_markdown":"First of all, this a probably not a good idea. You should be unit testing the actual production code, not slightly different code. \r\n\r\nIf you really want to do this, you could look at the stacktrace, but since you are changing your program for this anyway, you might just as well introduce a new static boolean field `isUnitTesting` in your code, and have JUnit set this to true. Keep it simple.","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>First of all, this a probably not a good idea. You should be unit testing the actual production code, not slightly different code. </p>\n\n<p>If you really want to do this, you could look at the stacktrace, but since you are changing your program for this anyway, you might just as well introduce a new static boolean field <code>isUnitTesting</code> in your code, and have JUnit set this to true. Keep it simple.</p>\n"},{"tags":[],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"down_vote_count":2,"up_vote_count":104,"is_accepted":true,"score":102,"last_activity_date":1641601719,"creation_date":1349300793,"answer_id":12717377,"question_id":2341943,"body_markdown":"It might be a good idea if you want to programmatically decide which &quot;profile&quot; to run. Think of Spring Profiles for configuration. Inside an integration tests you might want to test against a different database. \r\n\r\nHere is the tested code that works\r\n\r\n \r\n    public static boolean isJUnitTest() {  \r\n      for (StackTraceElement element : Thread.currentThread().getStackTrace()) {\r\n\t    if (element.getClassName().startsWith(&quot;org.junit.&quot;)) {\r\n\t\t  return true;\r\n\t\t}\t\t\t\r\n\t  }\r\n\t  return false;\r\n\t}","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>It might be a good idea if you want to programmatically decide which &quot;profile&quot; to run. Think of Spring Profiles for configuration. Inside an integration tests you might want to test against a different database.</p>\n<p>Here is the tested code that works</p>\n<pre><code>public static boolean isJUnitTest() {  \n  for (StackTraceElement element : Thread.currentThread().getStackTrace()) {\n    if (element.getClassName().startsWith(&quot;org.junit.&quot;)) {\n      return true;\n    }           \n  }\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1469190269,"creation_date":1398341213,"answer_id":23268433,"question_id":2341943,"body_markdown":"Lots of people on this thread say that it&#39;s a bad idea for code to run slightly differently while under JUnit. I generally agree, but I think there are some exceptions.\r\n\r\nFor example, I am currently writing INTEGRATION (as opposed to Unit) tests for an app that connects to a DB.\r\n\r\nThese acceptance tests often need to completely reinitialize the DB with specific test data.\r\n\r\nObviously, I don&#39;t want this EVER, EVER to be done on an actual production DB, because that might completely erase valuable production data.\r\n\r\nThe easiest way to guarantee that this will never happen, is to make it impossible for the code to connect to a production DB when it is running under JUnit. This in turn can be done if, for example, the Factory that generates a connection can tell that it&#39;s running under JUnit, and in that case, will return a null connection unless the database we are trying to connect to has a name that is known to be a test database (ex: &quot;testdatabase&quot;).\r\n","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>Lots of people on this thread say that it's a bad idea for code to run slightly differently while under JUnit. I generally agree, but I think there are some exceptions.</p>\n\n<p>For example, I am currently writing INTEGRATION (as opposed to Unit) tests for an app that connects to a DB.</p>\n\n<p>These acceptance tests often need to completely reinitialize the DB with specific test data.</p>\n\n<p>Obviously, I don't want this EVER, EVER to be done on an actual production DB, because that might completely erase valuable production data.</p>\n\n<p>The easiest way to guarantee that this will never happen, is to make it impossible for the code to connect to a production DB when it is running under JUnit. This in turn can be done if, for example, the Factory that generates a connection can tell that it's running under JUnit, and in that case, will return a null connection unless the database we are trying to connect to has a name that is known to be a test database (ex: \"testdatabase\").</p>\n"},{"tags":[],"owner":{"account_id":149142,"reputation":1772,"user_id":361414,"display_name":"Milanka"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429784250,"creation_date":1429784250,"answer_id":29820474,"question_id":2341943,"body_markdown":"When using Spring one can define a bean which holds this value.\r\n\r\nIn application context:\r\n\r\n    @Bean\r\n    public boolean isRunningTests() {\r\n        return false;\r\n    }\r\nIn test application context:\r\n\r\n    @Bean\r\n    public boolean isRunningTests() {\r\n        return true;\r\n    }\r\nInject the value to a Spring component:\r\n\r\n    @Resource\r\n    private boolean isRunningTests;\r\n\r\n    private void someMethod() {\r\n        if (isRunningTests()) {\r\n            ....\r\n","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>When using Spring one can define a bean which holds this value.</p>\n\n<p>In application context:</p>\n\n<pre><code>@Bean\npublic boolean isRunningTests() {\n    return false;\n}\n</code></pre>\n\n<p>In test application context:</p>\n\n<pre><code>@Bean\npublic boolean isRunningTests() {\n    return true;\n}\n</code></pre>\n\n<p>Inject the value to a Spring component:</p>\n\n<pre><code>@Resource\nprivate boolean isRunningTests;\n\nprivate void someMethod() {\n    if (isRunningTests()) {\n        ....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1225518,"reputation":306,"user_id":1191127,"accept_rate":38,"display_name":"tux_mind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1434880524,"creation_date":1434879191,"answer_id":30963086,"question_id":2341943,"body_markdown":"this is not strictly related to the user question, but I&#39;m pretty sure that someone that get there may find it useful.\r\n\r\nI use the following approach: expose a package-local constructor that will be used from tests.\r\n\r\ne.g.\r\n\r\n&gt; src/main/java/ApplicationService.java\r\n\r\n    public class ApplicationService {\r\n      private final Integer someInternalObject;\r\n      \r\n      public ApplicationService(String somePublicArgument) throws NumberFormatException {\r\n        someInternalObject = Integer.valueOf(somePublicArgument, 16);\r\n      }\r\n\r\n      ApplicationService(Integer someInternalObject) {\r\n         this.someInternalObject = someInternalObject;\r\n      }\r\n    }\r\n\r\n&gt; src/test/ApplicationServiceTest.Java\r\n\r\n    public class ApplicationServiceTest {\r\n      @Test\r\n      public void testSomething() throws Exception {\r\n        ApplicationService applicationService = new ApplicationService(0);\r\n      }\r\n    }\r\n\r\n\r\n## expose it to all tests\r\n\r\n### not final classes\r\nExtend it in the tests and provide a public constructor for the package-local or protected one.\r\n\r\n### final classes\r\nMake a public [Factory Method][1] in the same package ( within tests ) that will create it using the package-local constructor.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>this is not strictly related to the user question, but I'm pretty sure that someone that get there may find it useful.</p>\n\n<p>I use the following approach: expose a package-local constructor that will be used from tests.</p>\n\n<p>e.g.</p>\n\n<blockquote>\n  <p>src/main/java/ApplicationService.java</p>\n</blockquote>\n\n<pre><code>public class ApplicationService {\n  private final Integer someInternalObject;\n\n  public ApplicationService(String somePublicArgument) throws NumberFormatException {\n    someInternalObject = Integer.valueOf(somePublicArgument, 16);\n  }\n\n  ApplicationService(Integer someInternalObject) {\n     this.someInternalObject = someInternalObject;\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>src/test/ApplicationServiceTest.Java</p>\n</blockquote>\n\n<pre><code>public class ApplicationServiceTest {\n  @Test\n  public void testSomething() throws Exception {\n    ApplicationService applicationService = new ApplicationService(0);\n  }\n}\n</code></pre>\n\n<h2>expose it to all tests</h2>\n\n<h3>not final classes</h3>\n\n<p>Extend it in the tests and provide a public constructor for the package-local or protected one.</p>\n\n<h3>final classes</h3>\n\n<p>Make a public <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">Factory Method</a> in the same package ( within tests ) that will create it using the package-local constructor.</p>\n"},{"tags":[],"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440677438,"creation_date":1440677438,"answer_id":32249020,"question_id":2341943,"body_markdown":"How about checking if the junit jar is in the classpath?","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>How about checking if the junit jar is in the classpath?</p>\n"},{"tags":[],"owner":{"account_id":7181784,"reputation":46,"user_id":5485427,"display_name":"Meir G."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499895606,"creation_date":1499895606,"answer_id":45067942,"question_id":2341943,"body_markdown":"In order to distinguish between test and no test you can always define special property or value in application-test.properties. ","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>In order to distinguish between test and no test you can always define special property or value in application-test.properties. </p>\n"},{"tags":[],"owner":{"account_id":2248456,"reputation":3409,"user_id":1981276,"accept_rate":75,"display_name":"Robert Važan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506102777,"creation_date":1506102777,"answer_id":46370568,"question_id":2341943,"body_markdown":"The shortest (least code) solution is to have a global flag that is set when tests are **not** running. You can then set it once in your `main()` (or similar entry point) instead of setting it repeatedly in setup methods of all test classes. This will work as long as there is no other way to enter the code (no alternate `main`).\r\n\r\nThe second shortest solution is to scan the call stack for junit package like in [Janning&#39;s answer][1]. This will work as far as junit doesn&#39;t hide itself behind another library and an executor.\r\n\r\nDependency injection will work too, but in this case it&#39;s just a fancy way to set what&#39;s essentially a global flag.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12717377/1981276","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>The shortest (least code) solution is to have a global flag that is set when tests are <strong>not</strong> running. You can then set it once in your <code>main()</code> (or similar entry point) instead of setting it repeatedly in setup methods of all test classes. This will work as long as there is no other way to enter the code (no alternate <code>main</code>).</p>\n\n<p>The second shortest solution is to scan the call stack for junit package like in <a href=\"https://stackoverflow.com/a/12717377/1981276\">Janning's answer</a>. This will work as far as junit doesn't hide itself behind another library and an executor.</p>\n\n<p>Dependency injection will work too, but in this case it's just a fancy way to set what's essentially a global flag.</p>\n"},{"tags":[],"owner":{"account_id":16122064,"reputation":101,"user_id":11637806,"display_name":"Andrea M"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1560356957,"creation_date":1560356957,"answer_id":56566718,"question_id":2341943,"body_markdown":"This has worked for me:\r\n\r\n```\r\nprivate Boolean isRunningTest = null;\r\n\r\nprivate boolean isRunningTest() {\r\n\tif (isRunningTest == null) {\r\n\t\tisRunningTest = true;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.junit.Test&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\tisRunningTest = false;\r\n\t\t}\r\n\t}\r\n\treturn isRunningTest;\r\n}\r\n```\r\n\r\nIt can be used in Maven tests, as well as inside the Eclipse IDE, as long as junit is included as a dependency with scope &quot;test&quot;, eg:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>This has worked for me:</p>\n\n<pre><code>private Boolean isRunningTest = null;\n\nprivate boolean isRunningTest() {\n    if (isRunningTest == null) {\n        isRunningTest = true;\n        try {\n            Class.forName(\"org.junit.Test\");\n        } catch (ClassNotFoundException e) {\n            isRunningTest = false;\n        }\n    }\n    return isRunningTest;\n}\n</code></pre>\n\n<p>It can be used in Maven tests, as well as inside the Eclipse IDE, as long as junit is included as a dependency with scope \"test\", eg:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":42326,"reputation":1810,"user_id":123280,"accept_rate":71,"display_name":"Dr. Max V&#246;lkel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51974,"favorite_count":0,"down_vote_count":2,"up_vote_count":109,"accepted_answer_id":12717377,"answer_count":10,"score":107,"last_activity_date":1641601719,"creation_date":1267191459,"question_id":2341943,"body_markdown":"In my code I need to do certain fixes only when it is run inside a JUnit test. How can I find out if code is running inside a JUnit test or not? Is there something like JUnit.isRunning() == true ? ","title":"How can I find out if code is running inside a JUnit test or not?","body":"<p>In my code I need to do certain fixes only when it is run inside a JUnit test. How can I find out if code is running inside a JUnit test or not? Is there something like JUnit.isRunning() == true ? </p>\n"},{"tags":["java","android","android-layout","android-graphics"],"answers":[{"tags":[],"owner":{"account_id":135551,"reputation":10091,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641601153,"creation_date":1455637562,"answer_id":35436902,"question_id":35414749,"body_markdown":"Since you&#39;re only looking to detect touches inside an arc segment, it should&#39;t be too complicated.\r\n\r\nEach of your arc segments is defined as the space between two concentric circles and between start and end angles. So all you really want to do is do a little trig to determine the distance from the center of the circles to your touch point and the angle from the center to your touch point.\r\n\r\n\r\n    float x = touchevent.getX();\r\n    float y = touchevent.getY();\r\n\r\n    // Transform relative to arc centers\r\n    x -= circle1.x;\r\n    y -= circle1.y;\r\n\r\n    double dist = Math.sqrt(x*x + y*y);\r\n    double angle = Math.atan2(y,x) * 180 / Math.PI;\r\n\r\n    // Given an arc segment defined by circle1, circle2, angle1, angle2:\r\n    boolean touch = dist &gt; circle1.radius &amp;&amp; dist &lt; circle2.radius &amp;&amp;\r\n                    angle &gt; angle1 &amp;&amp; angle &lt; angle2;\r\n\r\nYou&#39;ll probably have to play around a bit depending on whether angle1 &gt; angle2 or vice versa. If there&#39;s any chance that any of the angles cross the zero-degree angle, it gets a little trickier.\r\n\r\n----\r\n\r\nMeta: For clarity, I used `sqrt()` to compute distance, but you can optimize this code by skipping the `sqrt()` and compare distance&#178; instead:\r\n\r\n    double dist2 = x*x + y*y;\r\n    if (dist2 &gt; circle1.radius * circle1.radius &amp;&amp;\r\n        dist2 &lt; circle2.radius * circle2.radius &amp;&amp;\r\n        ...\r\n\r\n----\r\n\r\nOne more edit: computing trig functions can be expensive; certainly a lot more expensive than computing distance&#178;.\r\n\r\nIn the interest of optimization, you should check the distance against the circle radii before bothering with the trig:\r\n\r\n    boolean touch = dist &gt; circle1.radius &amp;&amp; dist &lt; circle2.radius;\r\n    if (touch) {\r\n        // This is only a *possible* touch, check the angles now\r\n        double angle = Math.atan2(y,x) * 180 / Math.PI;\r\n        touch = angle &gt; angle1 &amp;&amp; angle &lt; angle2;\r\n    }","title":"Android contains method on arcs not working properly","body":"<p>Since you're only looking to detect touches inside an arc segment, it should't be too complicated.</p>\n<p>Each of your arc segments is defined as the space between two concentric circles and between start and end angles. So all you really want to do is do a little trig to determine the distance from the center of the circles to your touch point and the angle from the center to your touch point.</p>\n<pre><code>float x = touchevent.getX();\nfloat y = touchevent.getY();\n\n// Transform relative to arc centers\nx -= circle1.x;\ny -= circle1.y;\n\ndouble dist = Math.sqrt(x*x + y*y);\ndouble angle = Math.atan2(y,x) * 180 / Math.PI;\n\n// Given an arc segment defined by circle1, circle2, angle1, angle2:\nboolean touch = dist &gt; circle1.radius &amp;&amp; dist &lt; circle2.radius &amp;&amp;\n                angle &gt; angle1 &amp;&amp; angle &lt; angle2;\n</code></pre>\n<p>You'll probably have to play around a bit depending on whether angle1 &gt; angle2 or vice versa. If there's any chance that any of the angles cross the zero-degree angle, it gets a little trickier.</p>\n<hr />\n<p>Meta: For clarity, I used <code>sqrt()</code> to compute distance, but you can optimize this code by skipping the <code>sqrt()</code> and compare distance² instead:</p>\n<pre><code>double dist2 = x*x + y*y;\nif (dist2 &gt; circle1.radius * circle1.radius &amp;&amp;\n    dist2 &lt; circle2.radius * circle2.radius &amp;&amp;\n    ...\n</code></pre>\n<hr />\n<p>One more edit: computing trig functions can be expensive; certainly a lot more expensive than computing distance².</p>\n<p>In the interest of optimization, you should check the distance against the circle radii before bothering with the trig:</p>\n<pre><code>boolean touch = dist &gt; circle1.radius &amp;&amp; dist &lt; circle2.radius;\nif (touch) {\n    // This is only a *possible* touch, check the angles now\n    double angle = Math.atan2(y,x) * 180 / Math.PI;\n    touch = angle &gt; angle1 &amp;&amp; angle &lt; angle2;\n}\n</code></pre>\n"}],"owner":{"account_id":462804,"reputation":1143,"user_id":865316,"accept_rate":64,"display_name":"ShP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35436902,"answer_count":1,"score":1,"last_activity_date":1641601153,"creation_date":1455554987,"question_id":35414749,"body_markdown":"\r\nI have custom view control, which looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xooWF.png\r\n\r\nInside my activity I want to be able to move this view around the screen by dragging it on green Arcs (left or right does not matter).\r\n\r\nAlso want to be able to detect if yellow arc at top is tapped, middle circle or bottom arc.\r\n\r\nI&#39;m having trouble to detect where the tap is in which area. This is the code that I&#39;m using inside of my activity:\r\n\r\n    \r\n\r\n\r\n    float dX, dY;\r\n    final MyCustomView myCustomView = (MyCustomView)findViewById(R.id.test);\r\n    final Boolean[] movable = {false};\r\n\r\n    myCustomView.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent event) {\r\n\r\n                    switch (event.getActionMasked()) {\r\n\r\n                        case MotionEvent.ACTION_DOWN:\r\n                            movable[0] = false;\r\n\r\n                            dX = view.getX() - event.getRawX();\r\n                            dY = view.getY() - event.getRawY();\r\n\r\n                            int x = (int) event.getX();\r\n                            int y = (int) event.getY();\r\n\r\n                            if (myCustomView.leftArcRegion.contains(x,y) || myCustomView.rightArcRegion.contains(x,y)){\r\n                                movable[0] = true;\r\n                            } else if (myCustomView.topArcRegion.contains(x,y)){\r\n                                //todo: do something if top arc area is selected\r\n                            } else if (myCustomView.midRoundedBitmapRegion.contains(x,y)){\r\n                                //todo: do something if mid bitmap area is selected\r\n                            } else if (myCustomView.bottomArcRegion.contains(x,y)){\r\n                                //todo: do something if bottom arc area is selected\r\n                            }\r\n                        break;\r\n\r\n                        case MotionEvent.ACTION_MOVE:\r\n                            if (movable[0]) {\r\n                                view.animate()\r\n                                        .x(event.getRawX() + dX)\r\n                                        .y(event.getRawY() + dY)\r\n                                        .setDuration(0)\r\n                                        .start();\r\n                            }\r\n                            break;\r\n\r\n                        case MotionEvent.ACTION_UP:\r\n                        case MotionEvent.ACTION_CANCEL:\r\n\r\n\r\n                            break;\r\n                        default:\r\n                            return false;\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n\r\nAnd these are public fields from my custom view control:\r\n\r\n\tpublic Region topArcRegion;\r\n\tprivate Path topArc;\r\n\r\n\t//topArc is my top arc path\r\n\tRectF rectFTop = new RectF();\r\n\ttopArc.computeBounds(rectFTop, true);\r\n\ttopArcRegion = new Region();\r\n\ttopArcRegion.setPath(topArc, new Region((int) rectFTop.left, (int) rectFTop.top, \r\n\t   (int) rectFTop.right, (int) rectFTop.bottom));\r\n\r\nBut it looks like it uses rectangular shapes for these regions, not arcs when checking with this &quot;contains&quot; method. And because of that I&#39;m not getting expected results.\r\n\r\nSo, how can I detect where is initial tap (top arc, bottom arc, side arcs or middle bitmap) in order to apply my app logic?","title":"Android contains method on arcs not working properly","body":"<p>I have custom view control, which looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xooWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xooWF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Inside my activity I want to be able to move this view around the screen by dragging it on green Arcs (left or right does not matter).</p>\n\n<p>Also want to be able to detect if yellow arc at top is tapped, middle circle or bottom arc.</p>\n\n<p>I'm having trouble to detect where the tap is in which area. This is the code that I'm using inside of my activity:</p>\n\n<pre><code>float dX, dY;\nfinal MyCustomView myCustomView = (MyCustomView)findViewById(R.id.test);\nfinal Boolean[] movable = {false};\n\nmyCustomView.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent event) {\n\n                switch (event.getActionMasked()) {\n\n                    case MotionEvent.ACTION_DOWN:\n                        movable[0] = false;\n\n                        dX = view.getX() - event.getRawX();\n                        dY = view.getY() - event.getRawY();\n\n                        int x = (int) event.getX();\n                        int y = (int) event.getY();\n\n                        if (myCustomView.leftArcRegion.contains(x,y) || myCustomView.rightArcRegion.contains(x,y)){\n                            movable[0] = true;\n                        } else if (myCustomView.topArcRegion.contains(x,y)){\n                            //todo: do something if top arc area is selected\n                        } else if (myCustomView.midRoundedBitmapRegion.contains(x,y)){\n                            //todo: do something if mid bitmap area is selected\n                        } else if (myCustomView.bottomArcRegion.contains(x,y)){\n                            //todo: do something if bottom arc area is selected\n                        }\n                    break;\n\n                    case MotionEvent.ACTION_MOVE:\n                        if (movable[0]) {\n                            view.animate()\n                                    .x(event.getRawX() + dX)\n                                    .y(event.getRawY() + dY)\n                                    .setDuration(0)\n                                    .start();\n                        }\n                        break;\n\n                    case MotionEvent.ACTION_UP:\n                    case MotionEvent.ACTION_CANCEL:\n\n\n                        break;\n                    default:\n                        return false;\n                }\n                return true;\n            }\n        });\n</code></pre>\n\n<p>And these are public fields from my custom view control:</p>\n\n<pre><code>public Region topArcRegion;\nprivate Path topArc;\n\n//topArc is my top arc path\nRectF rectFTop = new RectF();\ntopArc.computeBounds(rectFTop, true);\ntopArcRegion = new Region();\ntopArcRegion.setPath(topArc, new Region((int) rectFTop.left, (int) rectFTop.top, \n   (int) rectFTop.right, (int) rectFTop.bottom));\n</code></pre>\n\n<p>But it looks like it uses rectangular shapes for these regions, not arcs when checking with this \"contains\" method. And because of that I'm not getting expected results.</p>\n\n<p>So, how can I detect where is initial tap (top arc, bottom arc, side arcs or middle bitmap) in order to apply my app logic?</p>\n"},{"tags":["java","android","cordova","gradle","build.gradle"],"comments":[{"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"score":1,"creation_date":1641559533,"post_id":70615127,"comment_id":124841407,"body_markdown":"What are you JDK &amp; Gradle versions ?","body":"What are you JDK &amp; Gradle versions ?"},{"owner":{"account_id":23852905,"reputation":1,"user_id":17856652,"display_name":"Bogdan Jovanovic"},"score":0,"creation_date":1641584483,"post_id":70615127,"comment_id":124851288,"body_markdown":"JDK-17.0.1 and Gradle 7.3.3","body":"JDK-17.0.1 and Gradle 7.3.3"}],"owner":{"account_id":23852905,"reputation":1,"user_id":17856652,"display_name":"Bogdan Jovanovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641600380,"creation_date":1641514222,"question_id":70615127,"body_markdown":"I&#39;ve been trying to install and run my first app via Apache Cordova, I&#39;ve seen multiple tutorials on how to install it properly, I&#39;ve done every single step as I should&#39;ve but I still run into the same problem every single time. I&#39;ve installed everything properly (when I check versions of node, cordova, java, adb and gradle, it all shows exactly as it should. Now when I type **cordova build** I get the next error every time: \r\n\r\nFirst: FAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\cdv-gradle-name.gradle&#39;\r\n\r\n* What went wrong:\r\nCould not compile script &#39;C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\cdv-gradle-name.gradle&#39;.\r\n&gt; startup failed:\r\n  General error during conversion: Unsupported class file major version 61\r\n\r\n\r\nSecond:   1 error\r\n\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.1.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 948ms\r\nCommand failed with exit code 1: C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\gradlew cdvBuildDebug -b C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\build.gradle\r\n\r\nI&#39;ve searched for an answer for quite a while, tried all of the solutions but I really can&#39;t figure it out.","title":"Apache Cordova Problem: $ cordova build can&#39;t complete. How to solve error with build.gradle?","body":"<p>I've been trying to install and run my first app via Apache Cordova, I've seen multiple tutorials on how to install it properly, I've done every single step as I should've but I still run into the same problem every single time. I've installed everything properly (when I check versions of node, cordova, java, adb and gradle, it all shows exactly as it should. Now when I type <strong>cordova build</strong> I get the next error every time:</p>\n<p>First: FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nScript 'C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\cdv-gradle-name.gradle'</p>\n</li>\n<li><p>What went wrong:\nCould not compile script 'C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\cdv-gradle-name.gradle'.</p>\n</li>\n</ul>\n<blockquote>\n<p>startup failed:\nGeneral error during conversion: Unsupported class file major version 61</p>\n</blockquote>\n<p>Second:   1 error</p>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.</p>\n<p>You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.</p>\n<p>See <a href=\"https://docs.gradle.org/7.1.1/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.1.1/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD FAILED in 948ms\nCommand failed with exit code 1: C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\gradlew cdvBuildDebug -b C:\\Users\\User\\Desktop\\myapp\\platforms\\android\\build.gradle</p>\n<p>I've searched for an answer for quite a while, tried all of the solutions but I really can't figure it out.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641306238,"post_id":70580117,"comment_id":124767204,"body_markdown":"Why are you using FetchType.EAGER?","body":"Why are you using FetchType.EAGER?"},{"owner":{"account_id":21685253,"reputation":65,"user_id":16000820,"display_name":"dev-marko"},"score":0,"creation_date":1641306452,"post_id":70580117,"comment_id":124767302,"body_markdown":"@SimonMartinelli I access the grades and students in others parts of the application and I needed them to be EAGER for that (otherwise I got the LazyLoading error).","body":"@SimonMartinelli I access the grades and students in others parts of the application and I needed them to be EAGER for that (otherwise I got the LazyLoading error)."},{"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"score":1,"creation_date":1641306579,"post_id":70580117,"comment_id":124767369,"body_markdown":"I see the m2m mapping between course and student without a `joinTable` definition. Also, your join table in DB is with name `course_students` note `student*s*` I don&#39;t know how it works there without the `jointable` definition. Can you please try to add joinTable and test?","body":"I see the m2m mapping between course and student without a <code>joinTable</code> definition. Also, your join table in DB is with name <code>course_students</code> note <code>student*s*</code> I don&#39;t know how it works there without the <code>jointable</code> definition. Can you please try to add joinTable and test?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1641306873,"post_id":70580117,"comment_id":124767531,"body_markdown":"Also please turn on SQL logging an check the generated SQL statements","body":"Also please turn on SQL logging an check the generated SQL statements"},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":1,"creation_date":1641310217,"post_id":70580117,"comment_id":124769108,"body_markdown":"Have your tried `@JoinTable(...)` before defining `@ManyToMany` with `(mappedBy=...)`?","body":"Have your tried <code>@JoinTable(...)</code> before defining <code>@ManyToMany</code> with <code>(mappedBy=...)</code>?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1641330256,"post_id":70580117,"comment_id":124776545,"body_markdown":"course_students is duplicating the data in the grade table, representing pretty  One student, one course, but the student could have taken that course a hundred times - check the number of entries in your two tables. Note that addStudentInCourse isn&#39;t synchronized, so nothing prevents it from adding the same relationship concurrently if hit twice before the first completes.  Is addStudentInCourse getting called in this chain of events? Could be that !c.getStudents().contains(s) isn&#39;t working the way you think it should - it depends on the student instance(s) and your hash/equals implementation","body":"course_students is duplicating the data in the grade table, representing pretty  One student, one course, but the student could have taken that course a hundred times - check the number of entries in your two tables. Note that addStudentInCourse isn&#39;t synchronized, so nothing prevents it from adding the same relationship concurrently if hit twice before the first completes.  Is addStudentInCourse getting called in this chain of events? Could be that !c.getStudents().contains(s) isn&#39;t working the way you think it should - it depends on the student instance(s) and your hash/equals implementation"},{"owner":{"account_id":21685253,"reputation":65,"user_id":16000820,"display_name":"dev-marko"},"score":0,"creation_date":1641420038,"post_id":70580117,"comment_id":124803482,"body_markdown":"@Chris I mended the .contains(s) check and now I explicitly check by the username (which is my primary key), but I realized the problem is not with the addition of students, it&#39;s when I try to fetch a course that it takes students that don&#39;t belong there. Please check my second edit","body":"@Chris I mended the .contains(s) check and now I explicitly check by the username (which is my primary key), but I realized the problem is not with the addition of students, it&#39;s when I try to fetch a course that it takes students that don&#39;t belong there. Please check my second edit"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1641420423,"post_id":70580117,"comment_id":124803586,"body_markdown":"Turn on logging and see the SQL that is generated - and when - for each step while debugging. The query that reads that join table might indicate what is going wrong and help point out why. My guess is that Hibernate is joining things and getting confused with the course-&gt;student-&gt;Grade-&gt;Course relationship. You might try making the grade-&gt;course lazy, or a different JPA provider.","body":"Turn on logging and see the SQL that is generated - and when - for each step while debugging. The query that reads that join table might indicate what is going wrong and help point out why. My guess is that Hibernate is joining things and getting confused with the course-&gt;student-&gt;Grade-&gt;Course relationship. You might try making the grade-&gt;course lazy, or a different JPA provider."}],"answers":[{"tags":[],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641312241,"creation_date":1641311659,"answer_id":70581547,"question_id":70580117,"body_markdown":"Your entity Course relationship with entity Student is Many-to-Many. That means rows of Course that have same id can hold many Students. I suspected that when you call `findById()` the generated SQL doesn&#39;t distinctively select the student given the courseId.\r\n\r\nThere&#39;s a catch in your schemas, which is the `course_students` that is not yet implemented in your code. This is a try suggestion, add `@JoinTable(...)` in your Course entity:\r\n\r\n```\r\n@Entity\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long course_id;\r\n.\r\n.\r\n   // your course fields\r\n.\r\n.\r\n    /*** Here you add the many to many table ***/\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;course_students&quot;,\r\n            joinColumns = {\r\n                    @JoinColumn(name = &quot;course_course_id&quot;, referencedColumnName = &quot;course_id&quot;)},\r\n            inverseJoinColumns = {\r\n                    @JoinColumn(name = &quot;students_username&quot;, referencedColumnName = &quot;username&quot;)})\r\n    private List&lt;Student&gt; students;\r\n \r\n... //more fields\r\n}\r\n```\r\n\r\nAnd then in your Student entity, specify your mapped attribute from the join table:\r\n```\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    private String username;\r\n\r\n.. // student fields\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    List&lt;Course&gt; courses;\r\n\r\n.. //more..\r\n}\r\n```","title":"Spring Data JPA Query Method returns double data when it&#39;s not present in the database","body":"<p>Your entity Course relationship with entity Student is Many-to-Many. That means rows of Course that have same id can hold many Students. I suspected that when you call <code>findById()</code> the generated SQL doesn't distinctively select the student given the courseId.</p>\n<p>There's a catch in your schemas, which is the <code>course_students</code> that is not yet implemented in your code. This is a try suggestion, add <code>@JoinTable(...)</code> in your Course entity:</p>\n<pre><code>@Entity\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long course_id;\n.\n.\n   // your course fields\n.\n.\n    /*** Here you add the many to many table ***/\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;course_students&quot;,\n            joinColumns = {\n                    @JoinColumn(name = &quot;course_course_id&quot;, referencedColumnName = &quot;course_id&quot;)},\n            inverseJoinColumns = {\n                    @JoinColumn(name = &quot;students_username&quot;, referencedColumnName = &quot;username&quot;)})\n    private List&lt;Student&gt; students;\n \n... //more fields\n}\n</code></pre>\n<p>And then in your Student entity, specify your mapped attribute from the join table:</p>\n<pre><code>@Entity\npublic class Student {\n    @Id\n    private String username;\n\n.. // student fields\n\n    @ManyToMany(mappedBy = &quot;students&quot;)\n    List&lt;Course&gt; courses;\n\n.. //more..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21685253,"reputation":65,"user_id":16000820,"display_name":"dev-marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641599306,"creation_date":1641599306,"answer_id":70628402,"question_id":70580117,"body_markdown":"Thank you all for your suggestions, I managed to figure it out.\r\n\r\nIt was the way I mapped my relationships all along. When I mapped the courses in my ```Grade``` entity as a ManyToOne, I had forgotten to map the grades in my ```Course``` entity with a OneToMany annotation. This resulted in Hibernate getting confused and fetching the same student for the course from two tables.\r\n\r\nThis is a lesson to always map your relationships correctly and don&#39;t lean on Hibernate to &quot;figure it out&quot;.","title":"Spring Data JPA Query Method returns double data when it&#39;s not present in the database","body":"<p>Thank you all for your suggestions, I managed to figure it out.</p>\n<p>It was the way I mapped my relationships all along. When I mapped the courses in my <code>Grade</code> entity as a ManyToOne, I had forgotten to map the grades in my <code>Course</code> entity with a OneToMany annotation. This resulted in Hibernate getting confused and fetching the same student for the course from two tables.</p>\n<p>This is a lesson to always map your relationships correctly and don't lean on Hibernate to &quot;figure it out&quot;.</p>\n"}],"owner":{"account_id":21685253,"reputation":65,"user_id":16000820,"display_name":"dev-marko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70628402,"answer_count":2,"score":0,"last_activity_date":1641599306,"creation_date":1641305639,"question_id":70580117,"body_markdown":"I have a web application that stores information about students, teachers, courses and grades. I have run into a problem while adding/editing students grades. For some reason the built in `findById()` method by the JPA Repository is returning a course with double the students (even though there is clearly only one student in that class in the database). I have attached images of my models and method also my attempt at debugging the problem.\r\n\r\nHere is where the method is being called, my `listStudentsByCourse` method just returns a list of students:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the `listStudentsByCourse` methods body:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere are my models:\r\n\r\n**Student:**\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    private String username;\r\n    private String password;\r\n    private String name;\r\n    private String surname;\r\n\r\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER)\r\n    private List&lt;Grade&gt; grades;\r\n\r\n\r\n    public Student(String username, String password, String name, String surname) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.grades = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public Character getGradeForCourse (Course c) {\r\n        return this.grades.stream()\r\n                .filter(i -&gt; i.getCourse().getCourseId().equals(c.getCourseId()))\r\n                .findFirst().orElse(new Grade()).getGrade();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Course:**\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long courseId;\r\n\r\n    private String name;\r\n    private String description;\r\n\r\n    @ManyToOne\r\n    private Teacher teacher;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private List&lt;Student&gt; students;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private Type type;\r\n\r\n    public Course(String name, String description, Teacher teacher, Type type) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.teacher = teacher;\r\n        this.type = type;\r\n        this.students = new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\n**Grade:**\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Grade {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Character grade;\r\n\r\n    @ManyToOne\r\n    private Course course;\r\n\r\n    @ManyToOne\r\n    private Student student;\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n    private LocalDateTime timestamp;\r\n\r\n    public Grade(Character grade, Course course, Student student, LocalDateTime timestamp) {\r\n        this.grade = grade;\r\n        this.course = course;\r\n        this.student = student;\r\n        this.timestamp = timestamp;\r\n    }\r\n}\r\n```\r\n\r\n**My database schema:**\r\n[![enter image description here][3]][3]\r\n\r\n**Image of the problem:**\r\n[![enter image description here][4]][4]\r\n\r\nThis is the `course` that is returned by `courseRepository.findById()`\r\n\r\nI have the same student added in one other course and I wonder if they are getting mixed up somehow, but that shouldn&#39;t be possible because the course is different (and so is the ID).\r\n[![enter image description here][5]][5]\r\n\r\nThis problem is really giving me a hard time and I really don&#39;t understand how this is happening. Any info would be helpful, thanks!\r\n\r\n**Edit 1:**\r\nI read all of the comments and added them to my code, but the problem persists. I have now noticed that the data doubles when I have one student with a grade already in the course, and if I add another new student without a grade the data doubles not only on the front-end but also in the database.\r\n\r\nHere is how I add new students to an existing course, is there anything wrong in the code?:\r\n```\r\n@Override\r\n    public Course addStudentInCourse(String username, Long courseId) {\r\n\r\n        if (this.studentRepository.findByUsername(username).isEmpty()) {\r\n            throw new StudentNotFoundException();\r\n        }\r\n\r\n        if (this.courseRepository.findById(courseId).isEmpty()) {\r\n            throw new CourseNotFoundException();\r\n        }\r\n\r\n        Student s = this.studentRepository.findByUsername(username).get();\r\n        Course c = this.courseRepository.findById(courseId).get();\r\n\r\n        if (!c.getStudents().contains(s)){\r\n            c.getStudents().add(s);\r\n            return this.courseRepository.save(c);\r\n        } else {\r\n            return c;\r\n        }\r\n    }\r\n```\r\n\r\n**Edit 2:** \r\nI have come to a breakthrough, sort of. \r\n\r\nFirst of all, here is a picture of my ```course_student``` table:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nI realized that ```courseService.findById(courseId)```, if I have the same student in different courses, it retrieves that student as well (when it shouldn&#39;t). For example I have ```markos``` in course 5 and course 7.\r\n\r\nIf I use the following query method to return a list of the students in a certain course, it retrieves the students correctly.\r\n```studentRepository.findAllByCourses(c);```\r\n\r\nHere is a picture from my debugging:\r\n\r\n[![enter image description here][7]][7]\r\n\r\nI should probably note that the courses for a ```Student``` are Lazy Loaded.\r\n\r\n[![enter image description here][8]][8]\r\n\r\n**Why is the query method ```findById``` returning a ```Course``` with students that are not related to that course?**\r\n\r\n**Edit 3:** All of the tables and code is the same from edit number 2 (I just kept refreshing the page where I fetch the data). I logged the SQL as many of you suggested. The following SQL queries are from the ```courseService.findById(courseId)``` method. I understand the first part, it fetches the course with the correct id (7) from the ```Course``` table. Then it selects a student from the ```course_student``` table where the id is 5. Where did this 5 come from?\r\n\r\n```\r\nHibernate: \r\n    select\r\n        course0_.course_id as course_i1_0_0_,\r\n        course0_.description as descript2_0_0_,\r\n        course0_.name as name3_0_0_,\r\n        course0_.teacher_id as teacher_5_0_0_,\r\n        course0_.type as type4_0_0_,\r\n        students1_.fk_course as fk_cours1_1_1_,\r\n        student2_.username as fk_stude2_1_1_,\r\n        student2_.username as username1_3_2_,\r\n        student2_.name as name2_3_2_,\r\n        student2_.password as password3_3_2_,\r\n        student2_.surname as surname4_3_2_,\r\n        grades3_.fk_student as fk_stude5_2_3_,\r\n        grades3_.id as id1_2_3_,\r\n        grades3_.id as id1_2_4_,\r\n        grades3_.fk_course as fk_cours4_2_4_,\r\n        grades3_.grade as grade2_2_4_,\r\n        grades3_.fk_student as fk_stude5_2_4_,\r\n        grades3_.timestamp as timestam3_2_4_,\r\n        course4_.course_id as course_i1_0_5_,\r\n        course4_.description as descript2_0_5_,\r\n        course4_.name as name3_0_5_,\r\n        course4_.teacher_id as teacher_5_0_5_,\r\n        course4_.type as type4_0_5_,\r\n        teacher5_.id as id1_4_6_,\r\n        teacher5_.date_of_employment as date_of_2_4_6_,\r\n        teacher5_.name as name3_4_6_,\r\n        teacher5_.surname as surname4_4_6_ \r\n    from\r\n        course course0_ \r\n    left outer join\r\n        course_student students1_ \r\n            on course0_.course_id=students1_.fk_course \r\n    left outer join\r\n        student student2_ \r\n            on students1_.fk_student=student2_.username \r\n    left outer join\r\n        grade grades3_ \r\n            on student2_.username=grades3_.fk_student \r\n    left outer join\r\n        course course4_ \r\n            on grades3_.fk_course=course4_.course_id \r\n    left outer join\r\n        teacher teacher5_ \r\n            on course4_.teacher_id=teacher5_.id \r\n    where\r\n        course0_.course_id=?\r\n2022-01-06 00:56:38.869 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [7]\r\nHibernate: \r\n    select\r\n        students0_.fk_course as fk_cours1_1_0_,\r\n        students0_.fk_student as fk_stude2_1_0_,\r\n        student1_.username as username1_3_1_,\r\n        student1_.name as name2_3_1_,\r\n        student1_.password as password3_3_1_,\r\n        student1_.surname as surname4_3_1_ \r\n    from\r\n        course_student students0_ \r\n    inner join\r\n        student student1_ \r\n            on students0_.fk_student=student1_.username \r\n    where\r\n        students0_.fk_course=?\r\n2022-01-06 00:56:38.881 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [5]\r\nHibernate: \r\n    select\r\n        course0_.course_id as course_i1_0_0_,\r\n        course0_.description as descript2_0_0_,\r\n        course0_.name as name3_0_0_,\r\n        course0_.teacher_id as teacher_5_0_0_,\r\n        course0_.type as type4_0_0_,\r\n        students1_.fk_course as fk_cours1_1_1_,\r\n        student2_.username as fk_stude2_1_1_,\r\n        student2_.username as username1_3_2_,\r\n        student2_.name as name2_3_2_,\r\n        student2_.password as password3_3_2_,\r\n        student2_.surname as surname4_3_2_,\r\n        grades3_.fk_student as fk_stude5_2_3_,\r\n        grades3_.id as id1_2_3_,\r\n        grades3_.id as id1_2_4_,\r\n        grades3_.fk_course as fk_cours4_2_4_,\r\n        grades3_.grade as grade2_2_4_,\r\n        grades3_.fk_student as fk_stude5_2_4_,\r\n        grades3_.timestamp as timestam3_2_4_,\r\n        course4_.course_id as course_i1_0_5_,\r\n        course4_.description as descript2_0_5_,\r\n        course4_.name as name3_0_5_,\r\n        course4_.teacher_id as teacher_5_0_5_,\r\n        course4_.type as type4_0_5_,\r\n        teacher5_.id as id1_4_6_,\r\n        teacher5_.date_of_employment as date_of_2_4_6_,\r\n        teacher5_.name as name3_4_6_,\r\n        teacher5_.surname as surname4_4_6_ \r\n    from\r\n        course course0_ \r\n    left outer join\r\n        course_student students1_ \r\n            on course0_.course_id=students1_.fk_course \r\n    left outer join\r\n        student student2_ \r\n            on students1_.fk_student=student2_.username \r\n    left outer join\r\n        grade grades3_ \r\n            on student2_.username=grades3_.fk_student \r\n    left outer join\r\n        course course4_ \r\n            on grades3_.fk_course=course4_.course_id \r\n    left outer join\r\n        teacher teacher5_ \r\n            on course4_.teacher_id=teacher5_.id \r\n    where\r\n        course0_.course_id=?\r\n2022-01-06 00:56:38.893 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [7]\r\nHibernate: \r\n    select\r\n        students0_.fk_course as fk_cours1_1_0_,\r\n        students0_.fk_student as fk_stude2_1_0_,\r\n        student1_.username as username1_3_1_,\r\n        student1_.name as name2_3_1_,\r\n        student1_.password as password3_3_1_,\r\n        student1_.surname as surname4_3_1_ \r\n    from\r\n        course_student students0_ \r\n    inner join\r\n        student student1_ \r\n            on students0_.fk_student=student1_.username \r\n    where\r\n        students0_.fk_course=?\r\n2022-01-06 00:56:38.909 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [5]\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/TcNnC.png\r\n  [2]: https://i.stack.imgur.com/JwO0O.png\r\n  [3]: https://i.stack.imgur.com/wDwiF.png\r\n  [4]: https://i.stack.imgur.com/QvgcX.png\r\n  [5]: https://i.stack.imgur.com/l2sVN.png\r\n  [6]: https://i.stack.imgur.com/sUv3A.png\r\n  [7]: https://i.stack.imgur.com/9sO6R.png\r\n  [8]: https://i.stack.imgur.com/rD7NU.png","title":"Spring Data JPA Query Method returns double data when it&#39;s not present in the database","body":"<p>I have a web application that stores information about students, teachers, courses and grades. I have run into a problem while adding/editing students grades. For some reason the built in <code>findById()</code> method by the JPA Repository is returning a course with double the students (even though there is clearly only one student in that class in the database). I have attached images of my models and method also my attempt at debugging the problem.</p>\n<p>Here is where the method is being called, my <code>listStudentsByCourse</code> method just returns a list of students:</p>\n<p><a href=\"https://i.stack.imgur.com/TcNnC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TcNnC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the <code>listStudentsByCourse</code> methods body:</p>\n<p><a href=\"https://i.stack.imgur.com/JwO0O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JwO0O.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are my models:</p>\n<p><strong>Student:</strong></p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@Entity\npublic class Student {\n    @Id\n    private String username;\n    private String password;\n    private String name;\n    private String surname;\n\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER)\n    private List&lt;Grade&gt; grades;\n\n\n    public Student(String username, String password, String name, String surname) {\n        this.username = username;\n        this.password = password;\n        this.name = name;\n        this.surname = surname;\n        this.grades = new ArrayList&lt;&gt;();\n    }\n\n    public Character getGradeForCourse (Course c) {\n        return this.grades.stream()\n                .filter(i -&gt; i.getCourse().getCourseId().equals(c.getCourseId()))\n                .findFirst().orElse(new Grade()).getGrade();\n    }\n\n}\n</code></pre>\n<p><strong>Course:</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long courseId;\n\n    private String name;\n    private String description;\n\n    @ManyToOne\n    private Teacher teacher;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    private List&lt;Student&gt; students;\n\n    @Enumerated(value = EnumType.STRING)\n    private Type type;\n\n    public Course(String name, String description, Teacher teacher, Type type) {\n        this.name = name;\n        this.description = description;\n        this.teacher = teacher;\n        this.type = type;\n        this.students = new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p><strong>Grade:</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\npublic class Grade {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Character grade;\n\n    @ManyToOne\n    private Course course;\n\n    @ManyToOne\n    private Student student;\n\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private LocalDateTime timestamp;\n\n    public Grade(Character grade, Course course, Student student, LocalDateTime timestamp) {\n        this.grade = grade;\n        this.course = course;\n        this.student = student;\n        this.timestamp = timestamp;\n    }\n}\n</code></pre>\n<p><strong>My database schema:</strong>\n<a href=\"https://i.stack.imgur.com/wDwiF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDwiF.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Image of the problem:</strong>\n<a href=\"https://i.stack.imgur.com/QvgcX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QvgcX.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the <code>course</code> that is returned by <code>courseRepository.findById()</code></p>\n<p>I have the same student added in one other course and I wonder if they are getting mixed up somehow, but that shouldn't be possible because the course is different (and so is the ID).\n<a href=\"https://i.stack.imgur.com/l2sVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2sVN.png\" alt=\"enter image description here\" /></a></p>\n<p>This problem is really giving me a hard time and I really don't understand how this is happening. Any info would be helpful, thanks!</p>\n<p><strong>Edit 1:</strong>\nI read all of the comments and added them to my code, but the problem persists. I have now noticed that the data doubles when I have one student with a grade already in the course, and if I add another new student without a grade the data doubles not only on the front-end but also in the database.</p>\n<p>Here is how I add new students to an existing course, is there anything wrong in the code?:</p>\n<pre><code>@Override\n    public Course addStudentInCourse(String username, Long courseId) {\n\n        if (this.studentRepository.findByUsername(username).isEmpty()) {\n            throw new StudentNotFoundException();\n        }\n\n        if (this.courseRepository.findById(courseId).isEmpty()) {\n            throw new CourseNotFoundException();\n        }\n\n        Student s = this.studentRepository.findByUsername(username).get();\n        Course c = this.courseRepository.findById(courseId).get();\n\n        if (!c.getStudents().contains(s)){\n            c.getStudents().add(s);\n            return this.courseRepository.save(c);\n        } else {\n            return c;\n        }\n    }\n</code></pre>\n<p><strong>Edit 2:</strong>\nI have come to a breakthrough, sort of.</p>\n<p>First of all, here is a picture of my <code>course_student</code> table:</p>\n<p><a href=\"https://i.stack.imgur.com/sUv3A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUv3A.png\" alt=\"enter image description here\" /></a></p>\n<p>I realized that <code>courseService.findById(courseId)</code>, if I have the same student in different courses, it retrieves that student as well (when it shouldn't). For example I have <code>markos</code> in course 5 and course 7.</p>\n<p>If I use the following query method to return a list of the students in a certain course, it retrieves the students correctly.\n<code>studentRepository.findAllByCourses(c);</code></p>\n<p>Here is a picture from my debugging:</p>\n<p><a href=\"https://i.stack.imgur.com/9sO6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sO6R.png\" alt=\"enter image description here\" /></a></p>\n<p>I should probably note that the courses for a <code>Student</code> are Lazy Loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/rD7NU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rD7NU.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Why is the query method <code>findById</code> returning a <code>Course</code> with students that are not related to that course?</strong></p>\n<p><strong>Edit 3:</strong> All of the tables and code is the same from edit number 2 (I just kept refreshing the page where I fetch the data). I logged the SQL as many of you suggested. The following SQL queries are from the <code>courseService.findById(courseId)</code> method. I understand the first part, it fetches the course with the correct id (7) from the <code>Course</code> table. Then it selects a student from the <code>course_student</code> table where the id is 5. Where did this 5 come from?</p>\n<pre><code>Hibernate: \n    select\n        course0_.course_id as course_i1_0_0_,\n        course0_.description as descript2_0_0_,\n        course0_.name as name3_0_0_,\n        course0_.teacher_id as teacher_5_0_0_,\n        course0_.type as type4_0_0_,\n        students1_.fk_course as fk_cours1_1_1_,\n        student2_.username as fk_stude2_1_1_,\n        student2_.username as username1_3_2_,\n        student2_.name as name2_3_2_,\n        student2_.password as password3_3_2_,\n        student2_.surname as surname4_3_2_,\n        grades3_.fk_student as fk_stude5_2_3_,\n        grades3_.id as id1_2_3_,\n        grades3_.id as id1_2_4_,\n        grades3_.fk_course as fk_cours4_2_4_,\n        grades3_.grade as grade2_2_4_,\n        grades3_.fk_student as fk_stude5_2_4_,\n        grades3_.timestamp as timestam3_2_4_,\n        course4_.course_id as course_i1_0_5_,\n        course4_.description as descript2_0_5_,\n        course4_.name as name3_0_5_,\n        course4_.teacher_id as teacher_5_0_5_,\n        course4_.type as type4_0_5_,\n        teacher5_.id as id1_4_6_,\n        teacher5_.date_of_employment as date_of_2_4_6_,\n        teacher5_.name as name3_4_6_,\n        teacher5_.surname as surname4_4_6_ \n    from\n        course course0_ \n    left outer join\n        course_student students1_ \n            on course0_.course_id=students1_.fk_course \n    left outer join\n        student student2_ \n            on students1_.fk_student=student2_.username \n    left outer join\n        grade grades3_ \n            on student2_.username=grades3_.fk_student \n    left outer join\n        course course4_ \n            on grades3_.fk_course=course4_.course_id \n    left outer join\n        teacher teacher5_ \n            on course4_.teacher_id=teacher5_.id \n    where\n        course0_.course_id=?\n2022-01-06 00:56:38.869 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [7]\nHibernate: \n    select\n        students0_.fk_course as fk_cours1_1_0_,\n        students0_.fk_student as fk_stude2_1_0_,\n        student1_.username as username1_3_1_,\n        student1_.name as name2_3_1_,\n        student1_.password as password3_3_1_,\n        student1_.surname as surname4_3_1_ \n    from\n        course_student students0_ \n    inner join\n        student student1_ \n            on students0_.fk_student=student1_.username \n    where\n        students0_.fk_course=?\n2022-01-06 00:56:38.881 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [5]\nHibernate: \n    select\n        course0_.course_id as course_i1_0_0_,\n        course0_.description as descript2_0_0_,\n        course0_.name as name3_0_0_,\n        course0_.teacher_id as teacher_5_0_0_,\n        course0_.type as type4_0_0_,\n        students1_.fk_course as fk_cours1_1_1_,\n        student2_.username as fk_stude2_1_1_,\n        student2_.username as username1_3_2_,\n        student2_.name as name2_3_2_,\n        student2_.password as password3_3_2_,\n        student2_.surname as surname4_3_2_,\n        grades3_.fk_student as fk_stude5_2_3_,\n        grades3_.id as id1_2_3_,\n        grades3_.id as id1_2_4_,\n        grades3_.fk_course as fk_cours4_2_4_,\n        grades3_.grade as grade2_2_4_,\n        grades3_.fk_student as fk_stude5_2_4_,\n        grades3_.timestamp as timestam3_2_4_,\n        course4_.course_id as course_i1_0_5_,\n        course4_.description as descript2_0_5_,\n        course4_.name as name3_0_5_,\n        course4_.teacher_id as teacher_5_0_5_,\n        course4_.type as type4_0_5_,\n        teacher5_.id as id1_4_6_,\n        teacher5_.date_of_employment as date_of_2_4_6_,\n        teacher5_.name as name3_4_6_,\n        teacher5_.surname as surname4_4_6_ \n    from\n        course course0_ \n    left outer join\n        course_student students1_ \n            on course0_.course_id=students1_.fk_course \n    left outer join\n        student student2_ \n            on students1_.fk_student=student2_.username \n    left outer join\n        grade grades3_ \n            on student2_.username=grades3_.fk_student \n    left outer join\n        course course4_ \n            on grades3_.fk_course=course4_.course_id \n    left outer join\n        teacher teacher5_ \n            on course4_.teacher_id=teacher5_.id \n    where\n        course0_.course_id=?\n2022-01-06 00:56:38.893 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [7]\nHibernate: \n    select\n        students0_.fk_course as fk_cours1_1_0_,\n        students0_.fk_student as fk_stude2_1_0_,\n        student1_.username as username1_3_1_,\n        student1_.name as name2_3_1_,\n        student1_.password as password3_3_1_,\n        student1_.surname as surname4_3_1_ \n    from\n        course_student students0_ \n    inner join\n        student student1_ \n            on students0_.fk_student=student1_.username \n    where\n        students0_.fk_course=?\n2022-01-06 00:56:38.909 TRACE 15804 --- [nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [5]\n</code></pre>\n"},{"tags":["java","logging","java.util.logging"],"comments":[{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":0,"creation_date":1399455056,"post_id":23513193,"comment_id":36064361,"body_markdown":"Implementing your own formatter is not a workaround. It is the proper way to implement the format you want.","body":"Implementing your own formatter is not a workaround. It is the proper way to implement the format you want."},{"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"score":2,"creation_date":1399459246,"post_id":23513193,"comment_id":36067085,"body_markdown":"Yes, but I can specify the format I want with the SimpleFormatter. So why should I develop an own formatter which basically does the same just to be able to configure the logger properly? That sound like a workaround to me.","body":"Yes, but I can specify the format I want with the SimpleFormatter. So why should I develop an own formatter which basically does the same just to be able to configure the logger properly? That sound like a workaround to me."},{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":1,"creation_date":1399460924,"post_id":23513193,"comment_id":36068220,"body_markdown":"If you specify a format for the SimpleFormatter, it will be taken by all instances of the SimpleFormatter. That is not what you want, right? You want a different one per handler. So, you can implement a formatter per format you require.","body":"If you specify a format for the SimpleFormatter, it will be taken by all instances of the SimpleFormatter. That is not what you want, right? You want a different one per handler. So, you can implement a formatter per format you require."},{"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"score":0,"creation_date":1399461623,"post_id":23513193,"comment_id":36068671,"body_markdown":"Basically I want the same (but not the identical) formatter - with different configurations. So I guess this is not possible?","body":"Basically I want the same (but not the identical) formatter - with different configurations. So I guess this is not possible?"},{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":1,"creation_date":1399461719,"post_id":23513193,"comment_id":36068745,"body_markdown":"No, it is not possible.","body":"No, it is not possible."},{"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"score":0,"creation_date":1399462001,"post_id":23513193,"comment_id":36068939,"body_markdown":"I see. Nevertheless: Thank you very much.","body":"I see. Nevertheless: Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641596554,"creation_date":1399949129,"answer_id":23622011,"question_id":23513193,"body_markdown":"The java.util.logging.SimpleFormatter only supports one JVM wide format.  If your project includes [JavaMail][1] 1.5.2 or later you can use the [CompactFormatter][2] on your ConsoleHandler and the SimpleFormatter on your FileHandler.\r\n\r\n    ##logging.properties#\r\n    handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n    java.util.logging.ConsoleHandler.formatter=com.sun.mail.util.logging.CompactFormatter\r\n    com.sun.mail.util.logging.CompactFormatter.format=%4$s: %5$s [%1$tc]%n\r\n    java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\r\n    java.util.logging.SimpleFormatter.format=%1$tc %2$s%n%4$s: %5$s%6$s%n\r\n\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/\r\n  [2]: https://javaee.github.io/javamail/docs/api/com/sun/mail/util/logging/CompactFormatter.html#format-java.util.logging.LogRecord-","title":"Multiple formats in logging.properties","body":"<p>The java.util.logging.SimpleFormatter only supports one JVM wide format.  If your project includes <a href=\"https://javaee.github.io/javamail/\" rel=\"nofollow noreferrer\">JavaMail</a> 1.5.2 or later you can use the <a href=\"https://javaee.github.io/javamail/docs/api/com/sun/mail/util/logging/CompactFormatter.html#format-java.util.logging.LogRecord-\" rel=\"nofollow noreferrer\">CompactFormatter</a> on your ConsoleHandler and the SimpleFormatter on your FileHandler.</p>\n<pre><code>##logging.properties#\nhandlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\njava.util.logging.ConsoleHandler.formatter=com.sun.mail.util.logging.CompactFormatter\ncom.sun.mail.util.logging.CompactFormatter.format=%4$s: %5$s [%1$tc]%n\njava.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter\njava.util.logging.SimpleFormatter.format=%1$tc %2$s%n%4$s: %5$s%6$s%n\n</code></pre>\n"}],"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1641596554,"creation_date":1399452934,"question_id":23513193,"body_markdown":"I have two handlers in my logging.properties:\r\n\r\n    handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\r\n\r\nBoth use the `SimpleFormatter`: \r\n\r\n    java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n    java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\r\n\r\nBut now I want two different formats for these handlers. The console handler should print only a short message. The file handler on the other hand should print a more detailed message.\r\nBut how to use different formats for both formatters? The following did not work:\r\n\r\n    java.util.logging.FileHandler.formatter.format = ...\r\n\r\nAnd using \r\n\r\n    java.util.logging.SimpleFormatter.format\r\n\r\nbelow the corresonding formatters did not work either. Any ideas? I don&#39;t want to implement own formatters just as a workaround...","title":"Multiple formats in logging.properties","body":"<p>I have two handlers in my logging.properties:</p>\n\n<pre><code>handlers = java.util.logging.FileHandler, java.util.logging.ConsoleHandler\n</code></pre>\n\n<p>Both use the <code>SimpleFormatter</code>: </p>\n\n<pre><code>java.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n</code></pre>\n\n<p>But now I want two different formats for these handlers. The console handler should print only a short message. The file handler on the other hand should print a more detailed message.\nBut how to use different formats for both formatters? The following did not work:</p>\n\n<pre><code>java.util.logging.FileHandler.formatter.format = ...\n</code></pre>\n\n<p>And using </p>\n\n<pre><code>java.util.logging.SimpleFormatter.format\n</code></pre>\n\n<p>below the corresonding formatters did not work either. Any ideas? I don't want to implement own formatters just as a workaround...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1641591818,"post_id":70627445,"comment_id":124853263,"body_markdown":"`cards.forEach(c -&gt; System.out.println(c.name()));`","body":"<code>cards.forEach(c -&gt; System.out.println(c.name()));</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641591906,"post_id":70627445,"comment_id":124853289,"body_markdown":"Or `cards.stream().map(Card::name).forEach(System.out::println);`","body":"Or <code>cards.stream().map(Card::name).forEach(System.out::println);</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1641591993,"post_id":70627445,"comment_id":124853312,"body_markdown":"You might want to check https://stackoverflow.com/questions/23628631/how-to-make-a-lambda-expression-define-tostring-in-java-8","body":"You might want to check <a href=\"https://stackoverflow.com/questions/23628631/how-to-make-a-lambda-expression-define-tostring-in-java-8\" title=\"how to make a lambda expression define tostring in java 8\">stackoverflow.com/questions/23628631/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641596504,"creation_date":1641592141,"answer_id":70627534,"question_id":70627445,"body_markdown":"Try this.\r\n\r\n    public interface Card {\r\n        String name();\r\n\r\n        static Card of(Supplier&lt;String&gt; supplier) {\r\n            return new Card() {\r\n                @Override public String name() { return supplier.get(); }\r\n                @Override public String toString() { return name(); }\r\n            };\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n        cards.add(Card.of(() -&gt; &quot;2&quot;));\r\n        cards.add(Card.of(() -&gt; &quot;4&quot;));\r\n        System.out.println(cards);\r\n    }\r\n\r\noutput:\r\n\r\n    [2, 4]\r\n\r\nNote: You can&#39;t override `toString()` method.\r\n\r\n    public interface Card {\r\n        String name();\r\n\r\n        public default String toString() {  // compile error\r\n                                            // &quot;A default method cannot override a method from java.lang.Object &quot;\r\n            return name();\r\n        }\r\n    }\r\n\r\n","title":"How to print out an object if it&#39;s created with lambda?","body":"<p>Try this.</p>\n<pre><code>public interface Card {\n    String name();\n\n    static Card of(Supplier&lt;String&gt; supplier) {\n        return new Card() {\n            @Override public String name() { return supplier.get(); }\n            @Override public String toString() { return name(); }\n        };\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n    cards.add(Card.of(() -&gt; &quot;2&quot;));\n    cards.add(Card.of(() -&gt; &quot;4&quot;));\n    System.out.println(cards);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[2, 4]\n</code></pre>\n<p>Note: You can't override <code>toString()</code> method.</p>\n<pre><code>public interface Card {\n    String name();\n\n    public default String toString() {  // compile error\n                                        // &quot;A default method cannot override a method from java.lang.Object &quot;\n        return name();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user15599360"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70627534,"answer_count":1,"score":3,"last_activity_date":1641596504,"creation_date":1641591460,"question_id":70627445,"body_markdown":"Here is my interface example\r\n\r\n    public interface Card {\r\n        String name();\r\n    }\r\n\r\nI use it in ArrayList and create objects like this.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n        cards.add(() -&gt; &quot;2&quot;);\r\n      cards.add(() -&gt; &quot;4&quot;);\r\n        System.out.println(cards);\r\n    }\r\n\r\nHow can I print a number to console if I create an object like this?\r\nHere is the example of the printed text.\r\n\r\n    [d$$Lambda$14/0x0000000800bb1438@2d98a335]\r\n\r\nBut I want 2 and 4 to be printed out.","title":"How to print out an object if it&#39;s created with lambda?","body":"<p>Here is my interface example</p>\n<pre><code>public interface Card {\n    String name();\n}\n</code></pre>\n<p>I use it in ArrayList and create objects like this.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n    cards.add(() -&gt; &quot;2&quot;);\n  cards.add(() -&gt; &quot;4&quot;);\n    System.out.println(cards);\n}\n</code></pre>\n<p>How can I print a number to console if I create an object like this?\nHere is the example of the printed text.</p>\n<pre><code>[d$$Lambda$14/0x0000000800bb1438@2d98a335]\n</code></pre>\n<p>But I want 2 and 4 to be printed out.</p>\n"},{"tags":["java","rest","http","microservices","cqrs"],"comments":[{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1640453930,"post_id":70479401,"comment_id":124590118,"body_markdown":"I think reading each event and updating the microservices data is a good idea that is currently implemented. Implementing a new approach will be overhead in this process.","body":"I think reading each event and updating the microservices data is a good idea that is currently implemented. Implementing a new approach will be overhead in this process."},{"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"score":0,"creation_date":1640460485,"post_id":70479401,"comment_id":124591234,"body_markdown":"Thank you @Vaibs can you please suggest me any citation that agrees with my idea? I&#39;m asking this because I need to develop this in a university project so it may be good to add a citation.","body":"Thank you @Vaibs can you please suggest me any citation that agrees with my idea? I&#39;m asking this because I need to develop this in a university project so it may be good to add a citation."}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640461727,"creation_date":1640461727,"answer_id":70482379,"question_id":70479401,"body_markdown":"In a CQRS spproach, it&#39;s important to remember that the _C_ stands for Command.  Every request to your &quot;write-side&quot; is thus a command.  A generic &quot;here is the new value for this resource&quot; request (which is what REST tends to lead to) can be interpreted as a &quot;use this value henceforth&quot; command, but it is a bit of an impedance mismatch with CQRS, because it&#39;s a fairly anemic command.  There are definitely cases where having that in an API can be called for (and if it&#39;s an exceptionally rare request, you may even be able to get away with modeling it as a single &quot;new beginning&quot; event rather than teasing out finer-grained events; this has the cost of shifting some complexity out to consumers of the events).\r\n\r\nWith that in mind, an alternative approach that updates parts of an object is a little more of a fit with CQRS (though in this case, you are shifting some complexity to requestor, at least if that requestor wants to do wholesale updates).  HTTP `PUT`sounds proper to me: the command is &quot;use this value for this field/component of the entity&quot;.\r\n\r\nThat said, an even more CQRSy API would instead focus on the higher-level activities which motivate a change to the entity.  For instance if you&#39;re tracking the current owner of the artwork as of when it was sold, you might have a `currentOwner` and a `currentOwnerAcquired` field in your artwork entity.  When recording a sale, you would want to update both, so a `POST /artworks/{artworkId}/transferOwnership` endpoint taking something like\r\n\r\n```json\r\n{\r\n  &quot;transferor&quot;: &quot;Joe Bloggs&quot;,\r\n  &quot;transferee&quot;: &quot;Jack Schmoe&quot;,\r\n  &quot;date&quot;: &quot;2021-12-24T00:00:01Z&quot;\r\n}\r\n```\r\n\r\nwould allow the update to be a single transaction and allow you to encode the &quot;why&quot; as well as the &quot;what&quot; in your events (which is an advantage of event sourcing).","title":"CQRS + Event Sourcing handling update of entity using requests","body":"<p>In a CQRS spproach, it's important to remember that the <em>C</em> stands for Command.  Every request to your &quot;write-side&quot; is thus a command.  A generic &quot;here is the new value for this resource&quot; request (which is what REST tends to lead to) can be interpreted as a &quot;use this value henceforth&quot; command, but it is a bit of an impedance mismatch with CQRS, because it's a fairly anemic command.  There are definitely cases where having that in an API can be called for (and if it's an exceptionally rare request, you may even be able to get away with modeling it as a single &quot;new beginning&quot; event rather than teasing out finer-grained events; this has the cost of shifting some complexity out to consumers of the events).</p>\n<p>With that in mind, an alternative approach that updates parts of an object is a little more of a fit with CQRS (though in this case, you are shifting some complexity to requestor, at least if that requestor wants to do wholesale updates).  HTTP <code>PUT</code>sounds proper to me: the command is &quot;use this value for this field/component of the entity&quot;.</p>\n<p>That said, an even more CQRSy API would instead focus on the higher-level activities which motivate a change to the entity.  For instance if you're tracking the current owner of the artwork as of when it was sold, you might have a <code>currentOwner</code> and a <code>currentOwnerAcquired</code> field in your artwork entity.  When recording a sale, you would want to update both, so a <code>POST /artworks/{artworkId}/transferOwnership</code> endpoint taking something like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;transferor&quot;: &quot;Joe Bloggs&quot;,\n  &quot;transferee&quot;: &quot;Jack Schmoe&quot;,\n  &quot;date&quot;: &quot;2021-12-24T00:00:01Z&quot;\n}\n</code></pre>\n<p>would allow the update to be a single transaction and allow you to encode the &quot;why&quot; as well as the &quot;what&quot; in your events (which is an advantage of event sourcing).</p>\n"},{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640618567,"creation_date":1640618567,"answer_id":70497331,"question_id":70479401,"body_markdown":"&gt; So in the controller class i have a PUT http://...//updatefield1 method that accepts field1UpdateRequest objects.\r\n&gt; Is this right to do?\r\n\r\nIt might be, but it probably isn&#39;t.\r\n\r\nHere&#39;s the key idea: your REST API is a _facade_; it supports the illusion that your server is stores and produces _documents_.  In other words, your providing an interface to your data that makes it look like every other site on the web.\r\n\r\nThe good news: when you do that, you get (for free!) the benefits of a bunch of general purpose work that has already been done for you.\r\n\r\nBut the cost (of these things that you get for free) is that - for everything to &quot;just work&quot;, you need to handle the impedance mismatch between HTTP (which is based on an idiom of documents) and your domain model.\r\n\r\nSo I send to you messages to &quot;edit your documents&quot;, and you in turn figure out how to translate those messages into commands for your domain model.\r\n\r\nIn HTTP, both PUT and PATCH have remote authoring semantics.  Both of those messages mean &quot;make your copy of the document look like my copy&quot;.  They are the flavor of HTTP messages you would use to (for example) edit the title of an HTML document on your web server.\r\n\r\nThe semantics are fundamentally anemic.  My message tells you how I want your copy of the document to look, your server is responsible for figuring out how to achieve that.\r\n\r\nAnd that&#39;s fine when you are working with documents, or using documents as a facade in front of a _data_ model.  But matching remote authoring requests with a _domain model_ are a lot harder.\r\n\r\n(Recommended reading: [Greg Young 2010][1] on task based user interfaces).\r\n\r\nIn the case of a domain model, you normally want to send to the server a representation of a command message.  HTTP really wants you to deal with command messages in one of two ways:\r\n\r\n * treat the command message as a document/resource of its own, to be stored on the server (the changes to the domain model are a side effect of storing a new command message)\r\n * POST the command message to the resource most directly impacted by the change.\r\n\r\n(See [Fielding, 2009][2]; it is okay to use POST).\r\n\r\nIn both cases, the HTTP application itself knows nothing about what&#39;s going on at the domain level, it is only concerned with the [transfer of documents over the network][3].\r\n\r\n----\r\n\r\nHTTP doesn&#39;t really place any constraints on your resource model - if you want to publish all of your information in one document, that&#39;s fine.  If you want to distribute your information across many documents, that&#39;s also fine.\r\n\r\nSo taking a single entity in your domain, and distributing its information across many resources is fine.\r\n\r\nBUT: remember caching.  HTTP has simple rules for automatically invalidating previously cached responses; separating the resource you use for _reading_ information from the resource that you use for _editing_ information makes caching harder (caution: caching is already one of the two hard problems).\r\n\r\nIn other words: trade offs.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20211124134459/codebetter.com/gregyoung/2010/02/16/cqrs-task-based-uis-event-sourcing-agh/\r\n  [2]: https://roy.gbiv.com/untangled/2009/it-is-okay-to-use-post\r\n  [3]: https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m08s","title":"CQRS + Event Sourcing handling update of entity using requests","body":"<blockquote>\n<p>So in the controller class i have a PUT http://...//updatefield1 method that accepts field1UpdateRequest objects.\nIs this right to do?</p>\n</blockquote>\n<p>It might be, but it probably isn't.</p>\n<p>Here's the key idea: your REST API is a <em>facade</em>; it supports the illusion that your server is stores and produces <em>documents</em>.  In other words, your providing an interface to your data that makes it look like every other site on the web.</p>\n<p>The good news: when you do that, you get (for free!) the benefits of a bunch of general purpose work that has already been done for you.</p>\n<p>But the cost (of these things that you get for free) is that - for everything to &quot;just work&quot;, you need to handle the impedance mismatch between HTTP (which is based on an idiom of documents) and your domain model.</p>\n<p>So I send to you messages to &quot;edit your documents&quot;, and you in turn figure out how to translate those messages into commands for your domain model.</p>\n<p>In HTTP, both PUT and PATCH have remote authoring semantics.  Both of those messages mean &quot;make your copy of the document look like my copy&quot;.  They are the flavor of HTTP messages you would use to (for example) edit the title of an HTML document on your web server.</p>\n<p>The semantics are fundamentally anemic.  My message tells you how I want your copy of the document to look, your server is responsible for figuring out how to achieve that.</p>\n<p>And that's fine when you are working with documents, or using documents as a facade in front of a <em>data</em> model.  But matching remote authoring requests with a <em>domain model</em> are a lot harder.</p>\n<p>(Recommended reading: <a href=\"https://web.archive.org/web/20211124134459/codebetter.com/gregyoung/2010/02/16/cqrs-task-based-uis-event-sourcing-agh/\" rel=\"nofollow noreferrer\">Greg Young 2010</a> on task based user interfaces).</p>\n<p>In the case of a domain model, you normally want to send to the server a representation of a command message.  HTTP really wants you to deal with command messages in one of two ways:</p>\n<ul>\n<li>treat the command message as a document/resource of its own, to be stored on the server (the changes to the domain model are a side effect of storing a new command message)</li>\n<li>POST the command message to the resource most directly impacted by the change.</li>\n</ul>\n<p>(See <a href=\"https://roy.gbiv.com/untangled/2009/it-is-okay-to-use-post\" rel=\"nofollow noreferrer\">Fielding, 2009</a>; it is okay to use POST).</p>\n<p>In both cases, the HTTP application itself knows nothing about what's going on at the domain level, it is only concerned with the <a href=\"https://www.youtube.com/watch?v=aQVSzMV8DWc&amp;t=3m08s\" rel=\"nofollow noreferrer\">transfer of documents over the network</a>.</p>\n<hr />\n<p>HTTP doesn't really place any constraints on your resource model - if you want to publish all of your information in one document, that's fine.  If you want to distribute your information across many documents, that's also fine.</p>\n<p>So taking a single entity in your domain, and distributing its information across many resources is fine.</p>\n<p>BUT: remember caching.  HTTP has simple rules for automatically invalidating previously cached responses; separating the resource you use for <em>reading</em> information from the resource that you use for <em>editing</em> information makes caching harder (caution: caching is already one of the two hard problems).</p>\n<p>In other words: trade offs.</p>\n"}],"owner":{"account_id":23512643,"reputation":111,"user_id":17561037,"display_name":"Ray09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641596098,"creation_date":1640428406,"question_id":70479401,"body_markdown":"I&#39;m developing this JavaEE REST microservice oriented CQRS + EventSourcing app, I have this entity (Artwork) with many fields and I have to record each update to this entity according to EventSourcing pattern (basically each update creates a new event, the artwork is then rebuild using these events).\r\n\r\nMy approach basically works, but I&#39;m stuck with a &quot;compliance&quot; towards HTTP standards, basically I want to avoid a &quot;generic&quot; update in which you update the whole entity because it will be a mess to handle each single field update (and consequent event generation).\r\n\r\nSo this is what I did.\r\n\r\nLet&#39;s say that I have this entity:\r\n\r\n    public entity{\r\n           int id;\r\n           String field1;\r\n           String field2;\r\n           ...\r\nThen I created as many requests as many fields I have to update (not all fields can be updated, such as the ID)\r\n\r\n    public field1UpdateRequest{\r\n          field1 newvalue;\r\n    }\r\nand the same for field 2.\r\n\r\nThese updated are handled using a PUT request, when such a request arrives, it is handled by something like this:\r\n\r\nHTTP → Controller→ Service → (DAOS etc.)\r\n\r\nSo in the controller class I have a PUT http://...//updatefield1 method that accepts field1UpdateRequest objects.\r\n\r\nMy question is:\r\n\r\nIs this right to do? How can I explain that this is right (if it is)? should these requests be PATCH more than PUT? Should  a generic PUT request also be included? (Even if I&#39;m scared that this will make the event sourcing part more difficult)?\r\n","title":"CQRS + Event Sourcing handling update of entity using requests","body":"<p>I'm developing this JavaEE REST microservice oriented CQRS + EventSourcing app, I have this entity (Artwork) with many fields and I have to record each update to this entity according to EventSourcing pattern (basically each update creates a new event, the artwork is then rebuild using these events).</p>\n<p>My approach basically works, but I'm stuck with a &quot;compliance&quot; towards HTTP standards, basically I want to avoid a &quot;generic&quot; update in which you update the whole entity because it will be a mess to handle each single field update (and consequent event generation).</p>\n<p>So this is what I did.</p>\n<p>Let's say that I have this entity:</p>\n<pre><code>public entity{\n       int id;\n       String field1;\n       String field2;\n       ...\n</code></pre>\n<p>Then I created as many requests as many fields I have to update (not all fields can be updated, such as the ID)</p>\n<pre><code>public field1UpdateRequest{\n      field1 newvalue;\n}\n</code></pre>\n<p>and the same for field 2.</p>\n<p>These updated are handled using a PUT request, when such a request arrives, it is handled by something like this:</p>\n<p>HTTP → Controller→ Service → (DAOS etc.)</p>\n<p>So in the controller class I have a PUT http://...//updatefield1 method that accepts field1UpdateRequest objects.</p>\n<p>My question is:</p>\n<p>Is this right to do? How can I explain that this is right (if it is)? should these requests be PATCH more than PUT? Should  a generic PUT request also be included? (Even if I'm scared that this will make the event sourcing part more difficult)?</p>\n"},{"tags":["java","multithreading","recursion","completable-future"],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641593067,"creation_date":1641593067,"answer_id":70627654,"question_id":70619446,"body_markdown":"There are indeed some issues with your code:\r\n\r\nLogic issue: the result can only be an empty list!\r\n-\r\nThe result of `fetch()` will be either:\r\n* an empty list if `items` is empty\r\n* the result of recursively applying `fetch(randomData(item))` on each item in the `items` list\r\nSince there is no recursion leaf that returns a non-empty list, and parent calls don’t add anything to the list either, it can only return an empty result.\r\n\r\nMaybe you wanted to include the `randomData()` in the result as well? \r\n\r\nTechnical issue: using `CompletableFuture.join()` inside a Fixed Thread Pool\r\n-\r\nYou are using `Executors.newFixedThreadPool(4)`. As the name indicates, the number of threads will be fixed, so when all threads are exhausted, new tasks are queued.\r\n\r\nThe problem is that you are using `join()` to wait for some of those new tasks. So on one hand you are blocking one of the threads, and on the other hand you are waiting for something you just put on the queue.\r\n\r\nAs it is recursive, if it reaches a depth of 4, it will deadlock.\r\n\r\nThe simplest way to prevent this would be to use a `ForkJoinPool`. This kind of pool will spawn new threads when one of its threads gets blocked.\r\n\r\nAs a side note, a `ForkJoinPool` uses daemon threads, so they don’t prevent the JVM from terminating. If you want to use a Fixed Thread Pool, you have to call `shutdown()` on it to make sure it allows termination – or configure it to use daemon threads.\r\n\r\nOther possible improvements\r\n-\r\nYour code is building a lot of intermediate collections and blocking on a lot of `join()` calls. `CompletableFuture` is designed to chain related stages of computation thanks to its implementation of `CompletionStage`, and not just merely using it as a `Future` that can be completed.\r\n\r\nWithout changing your current logic, first you could make `fetch()` return a `Stream`, which removes a lot of `collect()`/`stream()` calls:\r\n\r\n    private static Stream&lt;String&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\r\n        if (items == null || items.isEmpty())\r\n            return Stream.empty();\r\n        List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt; list =\r\n                items.stream()\r\n                        .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\r\n                        .map(item -&gt; item.thenApplyAsync(strings -&gt; fetch(es, dataProvider, strings), es))\r\n                        .collect(Collectors.toList());\r\n        return list.stream().flatMap(CompletableFuture::join);\r\n    }\r\n\r\nTo reach this, here is what was changed:\r\n* replace the `forEach()` / `list.add()` with just a `collect.stream(…).map(…).collect(toList())`\r\n* inline the `collect` variable\r\n* remove the resulting `.collect(toList()).stream()` as it is redundant\r\n* change the return type to `Stream&lt;String&gt;`, the main changes being:\r\n** change the type of `list` to `List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt;` (as the inner `Stream` comes from the second `map(… -&gt; fetch())` call\r\n** remove the `collect()` and `stream()` from the return statement\r\n\r\nNote that you need to keep the intermediate `list` to make sure that all tasks are supplied before the first call to `CompletableFuture::join`.\r\n\r\nThis is better, but the call is still synchronous and requires a `ForkJoinPool` to work. Since the logic inside `fetch()` is mostly asynchronous, why not make the whole method asynchronous?\r\n\r\nThis mainly requires to change the return type to `CompletableFuture&lt;Stream&lt;String&gt;&gt;` and use `allOf()` to create a future that will complete when all intermediate futures are completed:\r\n\r\n    private static CompletableFuture&lt;Stream&lt;String&gt;&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\r\n        if (items == null || items.isEmpty())\r\n            return CompletableFuture.completedFuture(Stream.empty());\r\n        List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt; list =\r\n                items.stream()\r\n                        .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\r\n                        .map(item -&gt; item.thenComposeAsync(strings -&gt; fetch(es, dataProvider, strings), es))\r\n                        .collect(Collectors.toList());\r\n        return CompletableFuture.allOf(list.toArray(new CompletableFuture[0]))\r\n                .thenApply(dummy -&gt; list.stream().flatMap(CompletableFuture::join));\r\n    }\r\n\r\nThis is now 100% asynchronous because `join()` will only be called on futures that are known to be completed (thanks to `allOf()`), and thus will never block.\r\n\r\nIt does not need a `ForkJoinPool` anymore. In fact, it can even run on a `newFixedThreadPool(1)`! Well, as long as you call `shutdown()` on it at the end…","title":"Get all results from Recursive CompletableFuture","body":"<p>There are indeed some issues with your code:</p>\n<h2>Logic issue: the result can only be an empty list!</h2>\n<p>The result of <code>fetch()</code> will be either:</p>\n<ul>\n<li>an empty list if <code>items</code> is empty</li>\n<li>the result of recursively applying <code>fetch(randomData(item))</code> on each item in the <code>items</code> list\nSince there is no recursion leaf that returns a non-empty list, and parent calls don’t add anything to the list either, it can only return an empty result.</li>\n</ul>\n<p>Maybe you wanted to include the <code>randomData()</code> in the result as well?</p>\n<h2>Technical issue: using <code>CompletableFuture.join()</code> inside a Fixed Thread Pool</h2>\n<p>You are using <code>Executors.newFixedThreadPool(4)</code>. As the name indicates, the number of threads will be fixed, so when all threads are exhausted, new tasks are queued.</p>\n<p>The problem is that you are using <code>join()</code> to wait for some of those new tasks. So on one hand you are blocking one of the threads, and on the other hand you are waiting for something you just put on the queue.</p>\n<p>As it is recursive, if it reaches a depth of 4, it will deadlock.</p>\n<p>The simplest way to prevent this would be to use a <code>ForkJoinPool</code>. This kind of pool will spawn new threads when one of its threads gets blocked.</p>\n<p>As a side note, a <code>ForkJoinPool</code> uses daemon threads, so they don’t prevent the JVM from terminating. If you want to use a Fixed Thread Pool, you have to call <code>shutdown()</code> on it to make sure it allows termination – or configure it to use daemon threads.</p>\n<h2>Other possible improvements</h2>\n<p>Your code is building a lot of intermediate collections and blocking on a lot of <code>join()</code> calls. <code>CompletableFuture</code> is designed to chain related stages of computation thanks to its implementation of <code>CompletionStage</code>, and not just merely using it as a <code>Future</code> that can be completed.</p>\n<p>Without changing your current logic, first you could make <code>fetch()</code> return a <code>Stream</code>, which removes a lot of <code>collect()</code>/<code>stream()</code> calls:</p>\n<pre><code>private static Stream&lt;String&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\n    if (items == null || items.isEmpty())\n        return Stream.empty();\n    List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt; list =\n            items.stream()\n                    .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\n                    .map(item -&gt; item.thenApplyAsync(strings -&gt; fetch(es, dataProvider, strings), es))\n                    .collect(Collectors.toList());\n    return list.stream().flatMap(CompletableFuture::join);\n}\n</code></pre>\n<p>To reach this, here is what was changed:</p>\n<ul>\n<li>replace the <code>forEach()</code> / <code>list.add()</code> with just a <code>collect.stream(…).map(…).collect(toList())</code></li>\n<li>inline the <code>collect</code> variable</li>\n<li>remove the resulting <code>.collect(toList()).stream()</code> as it is redundant</li>\n<li>change the return type to <code>Stream&lt;String&gt;</code>, the main changes being:\n** change the type of <code>list</code> to <code>List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt;</code> (as the inner <code>Stream</code> comes from the second <code>map(… -&gt; fetch())</code> call\n** remove the <code>collect()</code> and <code>stream()</code> from the return statement</li>\n</ul>\n<p>Note that you need to keep the intermediate <code>list</code> to make sure that all tasks are supplied before the first call to <code>CompletableFuture::join</code>.</p>\n<p>This is better, but the call is still synchronous and requires a <code>ForkJoinPool</code> to work. Since the logic inside <code>fetch()</code> is mostly asynchronous, why not make the whole method asynchronous?</p>\n<p>This mainly requires to change the return type to <code>CompletableFuture&lt;Stream&lt;String&gt;&gt;</code> and use <code>allOf()</code> to create a future that will complete when all intermediate futures are completed:</p>\n<pre><code>private static CompletableFuture&lt;Stream&lt;String&gt;&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\n    if (items == null || items.isEmpty())\n        return CompletableFuture.completedFuture(Stream.empty());\n    List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt; list =\n            items.stream()\n                    .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\n                    .map(item -&gt; item.thenComposeAsync(strings -&gt; fetch(es, dataProvider, strings), es))\n                    .collect(Collectors.toList());\n    return CompletableFuture.allOf(list.toArray(new CompletableFuture[0]))\n            .thenApply(dummy -&gt; list.stream().flatMap(CompletableFuture::join));\n}\n</code></pre>\n<p>This is now 100% asynchronous because <code>join()</code> will only be called on futures that are known to be completed (thanks to <code>allOf()</code>), and thus will never block.</p>\n<p>It does not need a <code>ForkJoinPool</code> anymore. In fact, it can even run on a <code>newFixedThreadPool(1)</code>! Well, as long as you call <code>shutdown()</code> on it at the end…</p>\n"}],"owner":{"account_id":17840072,"reputation":107,"user_id":12958132,"display_name":"woxihuanxiayua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70627654,"answer_count":1,"score":1,"last_activity_date":1641595894,"creation_date":1641549265,"question_id":70619446,"body_markdown":"Here&#39;s the scenario: it might randomly generate some data, and if it does, then the data needs to be recursively retrieved, finally I need get all the generated data.\r\n\r\n\r\n    interface DataProvider {\r\n      List&lt;String&gt; randomData(String url);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; strings = fetch(Executors.newFixedThreadPool(4), new DataProvider() {\r\n            final Random random = new Random();\r\n            @Override\r\n            public List&lt;String&gt; randomData(String url) {\r\n                if (random.nextBoolean()) {\r\n                    System.out.println(&quot;provide some data&quot;);\r\n                    return List.of(UUID.randomUUID().toString());\r\n                }\r\n                return null;\r\n            }\r\n        }, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n        System.out.println(&quot;results are: &quot;);\r\n        System.out.println(strings);\r\n    }\r\n\r\n    private static List&lt;String&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\r\n        if (items == null || items.isEmpty())\r\n            return new ArrayList&lt;&gt;();\r\n        List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; collect =\r\n                items.stream()\r\n                        .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\r\n                        .collect(Collectors.toList());\r\n        List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\r\n        collect.forEach(item -&gt; {\r\n            CompletableFuture&lt;List&lt;String&gt;&gt; listCompletableFuture = item.thenApplyAsync(strings -&gt; fetch(es, dataProvider, strings), es);\r\n            list.add(listCompletableFuture);\r\n        });\r\n        return list.stream().flatMap(item -&gt; item.join().stream()).collect(Collectors.toList());\r\n    }\r\n\r\n\r\nSometimes the program freezes, and sometimes it prints an empty collection. (`provide some data` is printed). \r\n\r\nWhere did I go wrong? I&#39;m not at all familiar with `CompletableFuture`, so maybe the whole recursive invocation is wrong. (Or the code could be simpler, because `CompletableFuture` has a lot of methods).","title":"Get all results from Recursive CompletableFuture","body":"<p>Here's the scenario: it might randomly generate some data, and if it does, then the data needs to be recursively retrieved, finally I need get all the generated data.</p>\n<pre><code>interface DataProvider {\n  List&lt;String&gt; randomData(String url);\n}\n\npublic static void main(String[] args) {\n    List&lt;String&gt; strings = fetch(Executors.newFixedThreadPool(4), new DataProvider() {\n        final Random random = new Random();\n        @Override\n        public List&lt;String&gt; randomData(String url) {\n            if (random.nextBoolean()) {\n                System.out.println(&quot;provide some data&quot;);\n                return List.of(UUID.randomUUID().toString());\n            }\n            return null;\n        }\n    }, List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\n    System.out.println(&quot;results are: &quot;);\n    System.out.println(strings);\n}\n\nprivate static List&lt;String&gt; fetch(ExecutorService es, DataProvider dataProvider, List&lt;String&gt; items) {\n    if (items == null || items.isEmpty())\n        return new ArrayList&lt;&gt;();\n    List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; collect =\n            items.stream()\n                    .map(item -&gt; CompletableFuture.supplyAsync(() -&gt; dataProvider.randomData(item), es))\n                    .collect(Collectors.toList());\n    List&lt;CompletableFuture&lt;List&lt;String&gt;&gt;&gt; list = new ArrayList&lt;&gt;();\n    collect.forEach(item -&gt; {\n        CompletableFuture&lt;List&lt;String&gt;&gt; listCompletableFuture = item.thenApplyAsync(strings -&gt; fetch(es, dataProvider, strings), es);\n        list.add(listCompletableFuture);\n    });\n    return list.stream().flatMap(item -&gt; item.join().stream()).collect(Collectors.toList());\n}\n</code></pre>\n<p>Sometimes the program freezes, and sometimes it prints an empty collection. (<code>provide some data</code> is printed).</p>\n<p>Where did I go wrong? I'm not at all familiar with <code>CompletableFuture</code>, so maybe the whole recursive invocation is wrong. (Or the code could be simpler, because <code>CompletableFuture</code> has a lot of methods).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23846727,"reputation":722,"user_id":17851130,"display_name":"DrummerMann"},"score":0,"creation_date":1641590519,"post_id":70627281,"comment_id":124852924,"body_markdown":"I supppose that keyboard is your Java.util.Scanner? The method nextInt() returns an &#180;int&#180; value. That is what probably gives the error. You can cast it to an Integer object `new Integer(playerAnswer)`","body":"I supppose that keyboard is your Java.util.Scanner? The method nextInt() returns an &#180;int&#180; value. That is what probably gives the error. You can cast it to an Integer object <code>new Integer(playerAnswer)</code>"},{"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"score":3,"creation_date":1641590662,"post_id":70627281,"comment_id":124852965,"body_markdown":"`abc` parameter type is not fully specified and so it defaults to `ArrayList&lt;Object&gt;`. Change `FindWinner(ArrayList abc)` to `FindWinner(List&lt;Integer&gt; abc)`","body":"<code>abc</code> parameter type is not fully specified and so it defaults to <code>ArrayList&lt;Object&gt;</code>. Change <code>FindWinner(ArrayList abc)</code> to <code>FindWinner(List&lt;Integer&gt; abc)</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1641591514,"post_id":70627281,"comment_id":124853188,"body_markdown":"You can also do something like. `usrScores.addAll( abc);` or since this is a constructor. `usrScores = new ArrayList( abc);`","body":"You can also do something like. <code>usrScores.addAll( abc);</code> or since this is a constructor. <code>usrScores = new ArrayList( abc);</code>"},{"owner":{"account_id":22127439,"reputation":25,"user_id":16379557,"display_name":"TobyTuck"},"score":0,"creation_date":1641592823,"post_id":70627281,"comment_id":124853530,"body_markdown":"@MartinBG this does not seem to fix the problem. Instead, I&#39;m getting the &quot;error: cannot find symbol&quot; for the keyword &quot;List&lt;Integer&gt;.&quot; Is there anything I need to import to use this class above the ArrayList import statement?","body":"@MartinBG this does not seem to fix the problem. Instead, I&#39;m getting the &quot;error: cannot find symbol&quot; for the keyword &quot;List&lt;Integer&gt;.&quot; Is there anything I need to import to use this class above the ArrayList import statement?"},{"owner":{"account_id":22127439,"reputation":25,"user_id":16379557,"display_name":"TobyTuck"},"score":0,"creation_date":1641593110,"post_id":70627281,"comment_id":124853593,"body_markdown":"@ Tim Moore, I did read the linked article, but I am still a little confused about why my program would be using a raw type. From what I understand, a raw type would be considered an &quot;reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.&quot; But I did declare both the &quot;answers&quot; and &quot;usrScores&quot; as containing Integer objects- so I&#39;m not quite sure where my program is using a raw type.","body":"@ Tim Moore, I did read the linked article, but I am still a little confused about why my program would be using a raw type. From what I understand, a raw type would be considered an &quot;reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.&quot; But I did declare both the &quot;answers&quot; and &quot;usrScores&quot; as containing Integer objects- so I&#39;m not quite sure where my program is using a raw type."},{"owner":{"account_id":22127439,"reputation":25,"user_id":16379557,"display_name":"TobyTuck"},"score":0,"creation_date":1641593336,"post_id":70627281,"comment_id":124853655,"body_markdown":"Thanks @matt, I did not know that there was an available method for the ArrayList class that allowed me to add the entire list at once, instead of using a loop. That&#39;s pretty handy.","body":"Thanks @matt, I did not know that there was an available method for the ArrayList class that allowed me to add the entire list at once, instead of using a loop. That&#39;s pretty handy."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1641593629,"post_id":70627281,"comment_id":124853718,"body_markdown":"The problem is here: `public FindWinner(ArrayList abc)`. `ArrayList` is a raw type. Use `ArrayList&lt;Integer&gt;` (or, preferably `List&lt;Integer&gt;`).","body":"The problem is here: <code>public FindWinner(ArrayList abc)</code>. <code>ArrayList</code> is a raw type. Use <code>ArrayList&lt;Integer&gt;</code> (or, preferably <code>List&lt;Integer&gt;</code>)."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1641595179,"post_id":70627281,"comment_id":124854141,"body_markdown":"In java you have inheritance. So an `ArrayList` is an implementation of a `List`. Your method really only needs a `List` because all it is doing is getting the objects out of it to add them to your ArrayList. To use a list you have `import java.util.List`. This is not related to your problem.","body":"In java you have inheritance. So an <code>ArrayList</code> is an implementation of a <code>List</code>. Your method really only needs a <code>List</code> because all it is doing is getting the objects out of it to add them to your ArrayList. To use a list you have <code>import java.util.List</code>. This is not related to your problem."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641595694,"creation_date":1641595221,"answer_id":70627944,"question_id":70627281,"body_markdown":"Your program is using a &quot;raw type&quot; simply because you omit the generic parameters.\r\n\r\n    public FindWinner(ArrayList abc)\r\n\r\nThat means your array list is just full of objects, and you would need to cast. \r\n\r\n    Integer value = (Integer)abc.get(0);\r\n\r\nThen you can add the Integer to your `usrScores`\r\n\r\n    usrScores.add(value);\r\n\r\nJava &quot;fixed&quot; this issue by adding generics. \r\n\r\n    public FindWinner(ArrayList&lt;Integer&gt; abc)\r\n\r\nThen you can get items without casting.\r\n\r\n    Integer value = abc.get(0);\r\n\r\nAnother thing that came up in the comments is the idea of `List` vs `ArrayList`. An `ArrayList` implements the interface `List`. That means you can provide an `ArrayList` to any method or constructor that takes a `List`. The advantage of using \r\n\r\n    public FindWinner(List&lt;Integer&gt; abc)\r\n\r\nIs that you can provide **any** List implementation. \r\n\r\nThe main point. **Always use your parameters with generic classes** ie. It is `List&lt;Integer&gt;` or `ArrayList&lt;Integer&gt;` and not `List` or `ArrayList`.","title":"Trouble copying the contents of one ArrayList holding Integers into another","body":"<p>Your program is using a &quot;raw type&quot; simply because you omit the generic parameters.</p>\n<pre><code>public FindWinner(ArrayList abc)\n</code></pre>\n<p>That means your array list is just full of objects, and you would need to cast.</p>\n<pre><code>Integer value = (Integer)abc.get(0);\n</code></pre>\n<p>Then you can add the Integer to your <code>usrScores</code></p>\n<pre><code>usrScores.add(value);\n</code></pre>\n<p>Java &quot;fixed&quot; this issue by adding generics.</p>\n<pre><code>public FindWinner(ArrayList&lt;Integer&gt; abc)\n</code></pre>\n<p>Then you can get items without casting.</p>\n<pre><code>Integer value = abc.get(0);\n</code></pre>\n<p>Another thing that came up in the comments is the idea of <code>List</code> vs <code>ArrayList</code>. An <code>ArrayList</code> implements the interface <code>List</code>. That means you can provide an <code>ArrayList</code> to any method or constructor that takes a <code>List</code>. The advantage of using</p>\n<pre><code>public FindWinner(List&lt;Integer&gt; abc)\n</code></pre>\n<p>Is that you can provide <strong>any</strong> List implementation.</p>\n<p>The main point. <strong>Always use your parameters with generic classes</strong> ie. It is <code>List&lt;Integer&gt;</code> or <code>ArrayList&lt;Integer&gt;</code> and not <code>List</code> or <code>ArrayList</code>.</p>\n"}],"owner":{"account_id":22127439,"reputation":25,"user_id":16379557,"display_name":"TobyTuck"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641595163,"accepted_answer_id":70627944,"answer_count":1,"score":0,"last_activity_date":1641595694,"creation_date":1641590174,"question_id":70627281,"body_markdown":"Hello :) I&#39;m having a problem coping the elements of one ArrayList in my actual program to a class. In the main method of my program is the following (note that this entry is simplified; all these variables have already been declared and there is a value stored in the numPlayers variable):\r\n\r\n    ArrayList&lt;Integer&gt; answers = new ArrayList&lt;&gt;();\r\n    for(int counter = 0; counter &lt; numPlayers; counter++)\r\n    {\r\n        System.out.print(&quot;Enter the number you think answers the question best: &quot;);\r\n        playerAnswer = keyboard.nextInt();\r\n        answers.add(playerAnswer);\r\n    }\r\n        FindWinner survey = new FindWinner(answers);\r\n\r\nSo, as you can see, I&#39;m using the Integer &quot;wrapper class&quot; to store integer entries into an ArrayList. Then, I&#39;m passing this Integer ArrayList as an argument to the &quot;FindWinner&quot; constructor. This is what the constructor code looks like in the FindWinner class:\r\n\r\n    private ArrayList&lt;Integer&gt; usrScores = new ArrayList&lt;&gt;();\r\n\r\n    public FindWinner(ArrayList abc)\r\n    {\r\n        for(int counter = 0; counter &lt; abc.size(); counter++)\r\n        usrScores.add(abc.get(counter));\r\n    }\r\n\r\nI&#39;m trying to copy the contents of the &quot;answers&quot; ArrayList into the &quot;usrScores&quot; field in the FindWinner class. The following error is returned:\r\n\r\n    error: no suitable method found for add(Object)\r\n        usrScores.add(abc.get(counter));\r\n    method ArrayList.add(Integer) is not applicable\r\n        (argument mismatch; Object cannot be converted to Integer)\r\n\r\nI found something on a different Stack question on how this error is often the result of a &quot;conversion error&quot; between int and Integer- one is a primitive data type and the other an object. But I&#39;m not sure why this is relevant here because I&#39;m working with two ArrayLists that both hold Integers. Any help/contribution is much appreciated!","title":"Trouble copying the contents of one ArrayList holding Integers into another","body":"<p>Hello :) I'm having a problem coping the elements of one ArrayList in my actual program to a class. In the main method of my program is the following (note that this entry is simplified; all these variables have already been declared and there is a value stored in the numPlayers variable):</p>\n<pre><code>ArrayList&lt;Integer&gt; answers = new ArrayList&lt;&gt;();\nfor(int counter = 0; counter &lt; numPlayers; counter++)\n{\n    System.out.print(&quot;Enter the number you think answers the question best: &quot;);\n    playerAnswer = keyboard.nextInt();\n    answers.add(playerAnswer);\n}\n    FindWinner survey = new FindWinner(answers);\n</code></pre>\n<p>So, as you can see, I'm using the Integer &quot;wrapper class&quot; to store integer entries into an ArrayList. Then, I'm passing this Integer ArrayList as an argument to the &quot;FindWinner&quot; constructor. This is what the constructor code looks like in the FindWinner class:</p>\n<pre><code>private ArrayList&lt;Integer&gt; usrScores = new ArrayList&lt;&gt;();\n\npublic FindWinner(ArrayList abc)\n{\n    for(int counter = 0; counter &lt; abc.size(); counter++)\n    usrScores.add(abc.get(counter));\n}\n</code></pre>\n<p>I'm trying to copy the contents of the &quot;answers&quot; ArrayList into the &quot;usrScores&quot; field in the FindWinner class. The following error is returned:</p>\n<pre><code>error: no suitable method found for add(Object)\n    usrScores.add(abc.get(counter));\nmethod ArrayList.add(Integer) is not applicable\n    (argument mismatch; Object cannot be converted to Integer)\n</code></pre>\n<p>I found something on a different Stack question on how this error is often the result of a &quot;conversion error&quot; between int and Integer- one is a primitive data type and the other an object. But I'm not sure why this is relevant here because I'm working with two ArrayLists that both hold Integers. Any help/contribution is much appreciated!</p>\n"},{"tags":["java","spring","selenium","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1641587267,"post_id":70625892,"comment_id":124852075,"body_markdown":"Just collect them both in a single xpath. &quot;//span[text()=&#39; Quick Login &#39;] and //xpath&quot; and pass that.","body":"Just collect them both in a single xpath. &quot;//span[text()=&#39; Quick Login &#39;] and //xpath&quot; and pass that."},{"owner":{"display_name":"user5167985"},"score":0,"creation_date":1641666195,"post_id":70625892,"comment_id":124866536,"body_markdown":"But I need to use &quot;People&quot; string on element NAV_MENU_ITEMS_LIST and &quot;Salary&quot; string on NAV_SUB_MENU_ITEMS_LIST","body":"But I need to use &quot;People&quot; string on element NAV_MENU_ITEMS_LIST and &quot;Salary&quot; string on NAV_SUB_MENU_ITEMS_LIST"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641594922,"creation_date":1641582361,"answer_id":70626002,"question_id":70625892,"body_markdown":"If you have two or more methods with identical method body and only internal value changes, you could simply pass the variable data as parameters to the method. In your case,\r\n\r\n    private void commonizedMethod(String menuItemName, WebElement element) {\r\n        element.findBy(text(menuItemName)).click();\r\n        log.info(&quot;Navigating to: &quot; + menuItemName);\r\n    }\r\n\r\nAlternatively, you could resolve for the element internally by passing the Xpath to the method\r\n\r\n    private void commonizedMethod(String menuItemName, WebDriver driver, String xpath) {\r\n        WebElement element = driver.findElement(By.xpath(xpath));\r\n        element.findBy(text(menuItemName)).click();\r\n        log.info(&quot;Navigating to: &quot; + menuItemName);\r\n    }\r\n\r\nIf the driver is a global parameter, you don&#39;t need to pass it in the method.\r\n\r\n**UPDATE**: Based on the update the OP just posted, I am adding additional information to address the issue.\r\n\r\nOne &quot;trick&quot; I have done over the years is take advantage of overriding methods to support legacy code and expand functionality at the same time. For example, in this case, legacy code has two similar methods that new functionality merged into one.\r\n\r\n----------\r\n\r\n## Legacy Code ##\r\n\r\n    public DashboardPage goDashboardManagement() {\r\n        methodOne(&quot;People&quot;);\r\n        methodTwo(&quot;Salary&quot;);\r\n    \r\n        return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\r\n    }\r\n----------\r\n\r\n## Added functionality (overridden method) ##\r\n\r\n    public DashboardPage goDashboardManagement(String[] args, WebElement[] elements) {\r\n        // check to make sure both arrays are of the same length\r\n        for (for int i = 0; i &lt; arr.length, i++) {\r\n            commonizedMethod(args[i], elements[i]);\r\n        }\r\n        return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\r\n    }\r\n\r\nSince the old legacy `goDashboardManagement()` method have hard-coded values AND follows this pattern, and assuming that \r\n`NAV_MENU_ITEMS_LIST` and `NAV_SUB_MENU_ITEMS_LIST` are global constants, I could simply update the method body as follows:\r\n\r\n    public DashboardPage goDashboardManagement() {\r\n        String[] arr = {&quot;People&quot;, &quot;Salary&quot;};\r\n        WebElement elements = {NAV_MENU_ITEMS_LIST, NAV_SUB_MENU_ITEMS_LIST};\r\n        commonizedMethod(arr, elements);\r\n    \r\n        return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\r\n    }\r\n\r\nThis will allow you to remove `methodOne(String)` and `methodTwo(String)` safely and still keep `goDashboardManagement()` to support legacy code. Your unit tests for that method should continue to work because the new version of `goDashboardManagement()` and the old version are basically the same even though it has changed internally.\r\n\r\nLastly, you obviously have the burden of creating the needed arrays.","title":"How to simplify two methods to one method in java","body":"<p>If you have two or more methods with identical method body and only internal value changes, you could simply pass the variable data as parameters to the method. In your case,</p>\n<pre><code>private void commonizedMethod(String menuItemName, WebElement element) {\n    element.findBy(text(menuItemName)).click();\n    log.info(&quot;Navigating to: &quot; + menuItemName);\n}\n</code></pre>\n<p>Alternatively, you could resolve for the element internally by passing the Xpath to the method</p>\n<pre><code>private void commonizedMethod(String menuItemName, WebDriver driver, String xpath) {\n    WebElement element = driver.findElement(By.xpath(xpath));\n    element.findBy(text(menuItemName)).click();\n    log.info(&quot;Navigating to: &quot; + menuItemName);\n}\n</code></pre>\n<p>If the driver is a global parameter, you don't need to pass it in the method.</p>\n<p><strong>UPDATE</strong>: Based on the update the OP just posted, I am adding additional information to address the issue.</p>\n<p>One &quot;trick&quot; I have done over the years is take advantage of overriding methods to support legacy code and expand functionality at the same time. For example, in this case, legacy code has two similar methods that new functionality merged into one.</p>\n<hr />\n<h2>Legacy Code</h2>\n<pre><code>public DashboardPage goDashboardManagement() {\n    methodOne(&quot;People&quot;);\n    methodTwo(&quot;Salary&quot;);\n\n    return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\n}\n</code></pre>\n<hr />\n<h2>Added functionality (overridden method)</h2>\n<pre><code>public DashboardPage goDashboardManagement(String[] args, WebElement[] elements) {\n    // check to make sure both arrays are of the same length\n    for (for int i = 0; i &lt; arr.length, i++) {\n        commonizedMethod(args[i], elements[i]);\n    }\n    return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\n}\n</code></pre>\n<p>Since the old legacy <code>goDashboardManagement()</code> method have hard-coded values AND follows this pattern, and assuming that\n<code>NAV_MENU_ITEMS_LIST</code> and <code>NAV_SUB_MENU_ITEMS_LIST</code> are global constants, I could simply update the method body as follows:</p>\n<pre><code>public DashboardPage goDashboardManagement() {\n    String[] arr = {&quot;People&quot;, &quot;Salary&quot;};\n    WebElement elements = {NAV_MENU_ITEMS_LIST, NAV_SUB_MENU_ITEMS_LIST};\n    commonizedMethod(arr, elements);\n\n    return new PplPage(); // not sure what this does or relevancy to the two method calls that preceded\n}\n</code></pre>\n<p>This will allow you to remove <code>methodOne(String)</code> and <code>methodTwo(String)</code> safely and still keep <code>goDashboardManagement()</code> to support legacy code. Your unit tests for that method should continue to work because the new version of <code>goDashboardManagement()</code> and the old version are basically the same even though it has changed internally.</p>\n<p>Lastly, you obviously have the burden of creating the needed arrays.</p>\n"}],"owner":{"display_name":"user5167985"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70626002,"answer_count":1,"score":-1,"last_activity_date":1641594922,"creation_date":1641581729,"question_id":70625892,"body_markdown":"I need to combine two methods into one method(two methods only xpath values are changing, rest of the functions are same). Two methods are performing same function except xpath value. How I can use this two xpath value in one method and make it two method into one method.\r\n\r\n    NAV_MENU_ITEMS_LIST= driver.findElement(By.xpath(mat-input-0))\r\n    NAV_SUB_MENU_ITEMS_LIST= driver.findElement(By.xpath(//span[text()=&#39; Quick Login &#39;]))\r\n    \r\n    private void methodOne(String menuItemName) {\r\n            NAV_MENU_ITEMS_LIST.findBy(text(menuItemName))\r\n                    .click();\r\n            log.info(&quot;Navigating to &quot; + menuItemName);\r\n        }\r\n    \r\n    \r\n    private void methodTwo(String subMenuItemName) {\r\n            NAV_SUB_MENU_ITEMS_LIST.findBy(text(subMenuItemName))\r\n                               .click();\r\n            log.info(&quot;Navigating to &quot; + subMenuItemName);\r\n        }\r\n\r\n \r\n\r\nMain Calling method:\r\n  \r\n\r\n    public DashboardPage goDashboardManagement() {\r\n            methodOne(&quot;People&quot;);\r\n            methodTwo(&quot;Salary&quot;);\r\n    \r\n            return new PplPage();\r\n        }\r\n\r\n","title":"How to simplify two methods to one method in java","body":"<p>I need to combine two methods into one method(two methods only xpath values are changing, rest of the functions are same). Two methods are performing same function except xpath value. How I can use this two xpath value in one method and make it two method into one method.</p>\n<pre><code>NAV_MENU_ITEMS_LIST= driver.findElement(By.xpath(mat-input-0))\nNAV_SUB_MENU_ITEMS_LIST= driver.findElement(By.xpath(//span[text()=' Quick Login ']))\n\nprivate void methodOne(String menuItemName) {\n        NAV_MENU_ITEMS_LIST.findBy(text(menuItemName))\n                .click();\n        log.info(&quot;Navigating to &quot; + menuItemName);\n    }\n\n\nprivate void methodTwo(String subMenuItemName) {\n        NAV_SUB_MENU_ITEMS_LIST.findBy(text(subMenuItemName))\n                           .click();\n        log.info(&quot;Navigating to &quot; + subMenuItemName);\n    }\n</code></pre>\n<p>Main Calling method:</p>\n<pre><code>public DashboardPage goDashboardManagement() {\n        methodOne(&quot;People&quot;);\n        methodTwo(&quot;Salary&quot;);\n\n        return new PplPage();\n    }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1486056749,"post_id":42007405,"comment_id":71193027,"body_markdown":"Welcome to Stack Overflow, please take the [tour] and go through the [help], then learn [ask] and once you&#39;ve done that, come back with a proper [mcve] or [Short, Self Contained, Correct Example](http://sscce.org/) that demonstrates your issue.","body":"Welcome to Stack Overflow, please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and go through the <a href=\"https://stackoverflow.com/help\">help center</a>, then learn <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and once you&#39;ve done that, come back with a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a> that demonstrates your issue."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641594602,"creation_date":1486056388,"answer_id":42008577,"question_id":42007405,"body_markdown":"The order that a Shape such as a Rectangle2D are drawn is determined by the order that they are held in whatever collection holds them as this collection is iterated through in your JComponent&#39;s (such as a JPanel&#39;s) painting method. Thus the last items in the collection, be it an array or ArrayList or LinkedList, is drawn on *top*.\r\n\r\nSo if you want to get the top Shape on mouse press or click, then the key will be to iterate through the same collection ***backwards***, getting the first Shape that `contains(Point p)` the mouse Point location. That&#39;s it.\r\n\r\nFor example, please look at my code [here](https://stackoverflow.com/a/5601099/522444) which does just his in this method which is called from the MouseListener (actually MouseAdapater):\r\n\r\n    public Shape getShapeAtPoint(Point p) {\r\n        Shape shapeAtPoint = null;\r\n        for (int i = shapeList.size() - 1; i &gt;= 0; i--) {\r\n            if (shapeList.get(i).contains(p)) {\r\n                return shapeList.get(i);\r\n            }\r\n        }\r\n        return shapeAtPoint;\r\n    }\r\n\r\nFor example:\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.Stroke;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Path2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.geom.RoundRectangle2D;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Random;\r\n    import javax.swing.*;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class RandomShapes extends JPanel {\r\n        private static final Stroke STROKE = new BasicStroke(4f);\r\n        private static final int PREF_W = 800;\r\n        private static final int PREF_H = 650;\r\n        private static final int SHAPE_COUNT = 30;\r\n        private static final int SHAPE_WIDTH = 100;\r\n        private static final int SHAPE_HEIGHT = SHAPE_WIDTH;\r\n        private List&lt;Path2D&gt; paths = new ArrayList&lt;&gt;();\r\n        private Map&lt;Path2D, Color&gt; colorMap = new HashMap&lt;&gt;();\r\n        private Random random = new Random();\r\n    \r\n        public RandomShapes() {\r\n            for (int i = 0; i &lt; SHAPE_COUNT; i++) {\r\n                Shape shape = createRandomShape(i);\r\n                Path2D path = new Path2D.Double(shape);\r\n                paths.add(path);\r\n                colorMap.put(path, createRandomColor());\r\n            }\r\n            MyMouse myMouse = new MyMouse();\r\n            addMouseListener(myMouse);\r\n            addMouseMotionListener(myMouse);\r\n        }\r\n    \r\n        private class MyMouse extends MouseAdapter {\r\n            private Path2D selectedPath = null;\r\n            private Point p1;\r\n    \r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                if (e.getButton() != MouseEvent.BUTTON1) {\r\n                    return;\r\n                }\r\n                for (int i = paths.size() - 1; i &gt;= 0; i--) {\r\n                    Path2D path = paths.get(i);\r\n                    if (path.contains(e.getPoint())) {\r\n                        selectedPath = path;\r\n                        p1 = e.getPoint();\r\n                        paths.remove(selectedPath);\r\n                        paths.add(selectedPath);\r\n                        repaint();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            private void movePath(MouseEvent e) {\r\n                Point p2 = e.getPoint();\r\n                int tx = p2.x - p1.x;\r\n                int ty = p2.y - p1.y;\r\n                p1 = p2;\r\n                AffineTransform at = AffineTransform.getTranslateInstance(tx, ty);\r\n                selectedPath.transform(at);\r\n                repaint();\r\n            }\r\n    \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                if (selectedPath != null) {\r\n                    movePath(e);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                if (selectedPath != null) {\r\n                    movePath(e);\r\n                }\r\n                selectedPath = null;\r\n            }\r\n        }\r\n    \r\n        private Color createRandomColor() {\r\n            float min = 0.2f;\r\n            float h = random.nextFloat();\r\n            float s = min * random.nextFloat() + (1f - min);\r\n            float b = min * random.nextFloat() + (1f - min);\r\n            return Color.getHSBColor(h, s, b);\r\n        }\r\n    \r\n        private Shape createRandomShape(int i) {\r\n            Dimension size = getPreferredSize();\r\n            int x = random.nextInt(size.width - SHAPE_WIDTH);\r\n            int y = random.nextInt(size.height - SHAPE_HEIGHT);\r\n            switch (i % 3) {\r\n            case 0:\r\n                return new Ellipse2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT);\r\n            case 1:\r\n                return new Rectangle2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT);\r\n            case 2:\r\n                return new RoundRectangle2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT, 15, 15);\r\n            default:\r\n                break;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setStroke(STROKE);\r\n            for (Path2D path : paths) {\r\n                g2.setColor(colorMap.get(path));\r\n                g2.fill(path);\r\n                g2.setColor(colorMap.get(path).darker());\r\n                g2.draw(path);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            if (isPreferredSizeSet()) {\r\n                return super.getPreferredSize();\r\n            }\r\n            return new Dimension(PREF_W, PREF_H);\r\n        }\r\n    \r\n        private static void createAndShowGui() {\r\n            JFrame frame = new JFrame(&quot;RandomShapes&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(new RandomShapes());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; createAndShowGui());\r\n        }\r\n    }\r\n\r\n_________________________\r\n\r\nNote that if you want to delete a shape on right mouse click (MouseEvent.BUTTON3), this edit to the MyMouse MouseAdapter class can make this happen (see comments in code):\r\n\r\n```\r\nprivate class MyMouse extends MouseAdapter {\r\n\tprivate Path2D selectedPath = null;\r\n\tprivate Point p1;\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\tint button = e.getButton();\r\n\t\t\r\n\t\t// if the *middle* mouse button is pushed, ignore it\r\n\t\tif (button == MouseEvent.BUTTON2) {\r\n\t\t\treturn;\r\n\t\t} \r\n\t\t\r\n\t\t// iterate through all the shapes, \r\n\t\t// starting at the top of the list (last drawn shapes)\r\n\t\tfor (int i = paths.size() - 1; i &gt;= 0; i--) {\r\n\t\t\t\r\n\t\t\tPath2D path = paths.get(i); \r\n\t\t\tif (path.contains(e.getPoint())) {\r\n\t\t\t\t\r\n\t\t\t\t// if the mouse presses on one of the shapes\r\n\t\t\t\tselectedPath = path;\r\n\t\t\t\tp1 = e.getPoint();\r\n\t\t\t\t\r\n\t\t\t\t// remove the shape from the collection\r\n\t\t\t\tpaths.remove(selectedPath);\r\n\t\t\t\tif (button == MouseEvent.BUTTON1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// re-add it back in at the end of the collection \r\n\t\t\t\t\t// only if the left mouse button has been pressed\r\n\t\t\t\t\tpaths.add(selectedPath);\r\n\t\t\t\t}\r\n\t\t\t\trepaint();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ....\r\n\t\r\n}\r\n```","title":"Java Swing Rectangel2D: how to select the one on the top","body":"<p>The order that a Shape such as a Rectangle2D are drawn is determined by the order that they are held in whatever collection holds them as this collection is iterated through in your JComponent's (such as a JPanel's) painting method. Thus the last items in the collection, be it an array or ArrayList or LinkedList, is drawn on <em>top</em>.</p>\n<p>So if you want to get the top Shape on mouse press or click, then the key will be to iterate through the same collection <em><strong>backwards</strong></em>, getting the first Shape that <code>contains(Point p)</code> the mouse Point location. That's it.</p>\n<p>For example, please look at my code <a href=\"https://stackoverflow.com/a/5601099/522444\">here</a> which does just his in this method which is called from the MouseListener (actually MouseAdapater):</p>\n<pre><code>public Shape getShapeAtPoint(Point p) {\n    Shape shapeAtPoint = null;\n    for (int i = shapeList.size() - 1; i &gt;= 0; i--) {\n        if (shapeList.get(i).contains(p)) {\n            return shapeList.get(i);\n        }\n    }\n    return shapeAtPoint;\n}\n</code></pre>\n<p>For example:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.Stroke;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Path2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.geom.RoundRectangle2D;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Random;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class RandomShapes extends JPanel {\n    private static final Stroke STROKE = new BasicStroke(4f);\n    private static final int PREF_W = 800;\n    private static final int PREF_H = 650;\n    private static final int SHAPE_COUNT = 30;\n    private static final int SHAPE_WIDTH = 100;\n    private static final int SHAPE_HEIGHT = SHAPE_WIDTH;\n    private List&lt;Path2D&gt; paths = new ArrayList&lt;&gt;();\n    private Map&lt;Path2D, Color&gt; colorMap = new HashMap&lt;&gt;();\n    private Random random = new Random();\n\n    public RandomShapes() {\n        for (int i = 0; i &lt; SHAPE_COUNT; i++) {\n            Shape shape = createRandomShape(i);\n            Path2D path = new Path2D.Double(shape);\n            paths.add(path);\n            colorMap.put(path, createRandomColor());\n        }\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);\n        addMouseMotionListener(myMouse);\n    }\n\n    private class MyMouse extends MouseAdapter {\n        private Path2D selectedPath = null;\n        private Point p1;\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            if (e.getButton() != MouseEvent.BUTTON1) {\n                return;\n            }\n            for (int i = paths.size() - 1; i &gt;= 0; i--) {\n                Path2D path = paths.get(i);\n                if (path.contains(e.getPoint())) {\n                    selectedPath = path;\n                    p1 = e.getPoint();\n                    paths.remove(selectedPath);\n                    paths.add(selectedPath);\n                    repaint();\n                    break;\n                }\n            }\n        }\n\n        private void movePath(MouseEvent e) {\n            Point p2 = e.getPoint();\n            int tx = p2.x - p1.x;\n            int ty = p2.y - p1.y;\n            p1 = p2;\n            AffineTransform at = AffineTransform.getTranslateInstance(tx, ty);\n            selectedPath.transform(at);\n            repaint();\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            if (selectedPath != null) {\n                movePath(e);\n            }\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            if (selectedPath != null) {\n                movePath(e);\n            }\n            selectedPath = null;\n        }\n    }\n\n    private Color createRandomColor() {\n        float min = 0.2f;\n        float h = random.nextFloat();\n        float s = min * random.nextFloat() + (1f - min);\n        float b = min * random.nextFloat() + (1f - min);\n        return Color.getHSBColor(h, s, b);\n    }\n\n    private Shape createRandomShape(int i) {\n        Dimension size = getPreferredSize();\n        int x = random.nextInt(size.width - SHAPE_WIDTH);\n        int y = random.nextInt(size.height - SHAPE_HEIGHT);\n        switch (i % 3) {\n        case 0:\n            return new Ellipse2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT);\n        case 1:\n            return new Rectangle2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT);\n        case 2:\n            return new RoundRectangle2D.Double(x, y, SHAPE_WIDTH, SHAPE_HEIGHT, 15, 15);\n        default:\n            break;\n        }\n        return null;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setStroke(STROKE);\n        for (Path2D path : paths) {\n            g2.setColor(colorMap.get(path));\n            g2.fill(path);\n            g2.setColor(colorMap.get(path).darker());\n            g2.draw(path);\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (isPreferredSizeSet()) {\n            return super.getPreferredSize();\n        }\n        return new Dimension(PREF_W, PREF_H);\n    }\n\n    private static void createAndShowGui() {\n        JFrame frame = new JFrame(&quot;RandomShapes&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new RandomShapes());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }\n}\n</code></pre>\n<hr />\n<p>Note that if you want to delete a shape on right mouse click (MouseEvent.BUTTON3), this edit to the MyMouse MouseAdapter class can make this happen (see comments in code):</p>\n<pre><code>private class MyMouse extends MouseAdapter {\n    private Path2D selectedPath = null;\n    private Point p1;\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        int button = e.getButton();\n        \n        // if the *middle* mouse button is pushed, ignore it\n        if (button == MouseEvent.BUTTON2) {\n            return;\n        } \n        \n        // iterate through all the shapes, \n        // starting at the top of the list (last drawn shapes)\n        for (int i = paths.size() - 1; i &gt;= 0; i--) {\n            \n            Path2D path = paths.get(i); \n            if (path.contains(e.getPoint())) {\n                \n                // if the mouse presses on one of the shapes\n                selectedPath = path;\n                p1 = e.getPoint();\n                \n                // remove the shape from the collection\n                paths.remove(selectedPath);\n                if (button == MouseEvent.BUTTON1) {\n                    \n                    // re-add it back in at the end of the collection \n                    // only if the left mouse button has been pressed\n                    paths.add(selectedPath);\n                }\n                repaint();\n                break;\n            }\n        }\n    }\n    \n    // ....\n    \n}\n</code></pre>\n"}],"owner":{"account_id":5424738,"reputation":61,"user_id":4317395,"display_name":"Excessstone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1486073078,"answer_count":1,"score":0,"last_activity_date":1641594602,"creation_date":1486052969,"question_id":42007405,"body_markdown":"easy question:\r\n\r\nI draw more than one Rectangel2D （or other shapes） in one JPane with overlapping.\r\nI want to select the one on the top by click the overlapping area and do something， e.g. change color or drag.\r\n\r\nBut I can&#39;t select the one which I want.\r\n\r\nThe order of the Shapes is not under control.\r\n\r\nI find a method setComponentZOrder, but that is for component not for Rectangel2D.\r\n\r\nI think this is a typical question, but I can&#39;t find the answer.\r\n","title":"Java Swing Rectangel2D: how to select the one on the top","body":"<p>easy question:</p>\n\n<p>I draw more than one Rectangel2D （or other shapes） in one JPane with overlapping.\nI want to select the one on the top by click the overlapping area and do something， e.g. change color or drag.</p>\n\n<p>But I can't select the one which I want.</p>\n\n<p>The order of the Shapes is not under control.</p>\n\n<p>I find a method setComponentZOrder, but that is for component not for Rectangel2D.</p>\n\n<p>I think this is a typical question, but I can't find the answer.</p>\n"},{"tags":["java","windows","visual-studio-code","vscode-extensions"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1641595653,"post_id":70627782,"comment_id":124854283,"body_markdown":"You can report to the authors or check if anyone posted it already, https://github.com/redhat-developer/vscode-java/issues","body":"You can report to the authors or check if anyone posted it already, <a href=\"https://github.com/redhat-developer/vscode-java/issues\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues</a>"},{"owner":{"account_id":2814271,"reputation":333,"user_id":2419789,"accept_rate":50,"display_name":"CamelCamelius"},"score":0,"creation_date":1641953647,"post_id":70627782,"comment_id":124941219,"body_markdown":"Thank you @LexLi. I moved a few configs, restarted, and eventually, I gave up. Later, out of nowhere, the issue was gone. Don&#39;t know what happened or how to reproduce it","body":"Thank you @LexLi. I moved a few configs, restarted, and eventually, I gave up. Later, out of nowhere, the issue was gone. Don&#39;t know what happened or how to reproduce it"}],"owner":{"account_id":2814271,"reputation":333,"user_id":2419789,"accept_rate":50,"display_name":"CamelCamelius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641594072,"creation_date":1641594072,"question_id":70627782,"body_markdown":"While editing my Java code, I am not getting the Javadocs from JDK&#39;s source code whenever I hover an element or do a [`&lt;CTRL&gt;+&lt;LEFT CLICK&gt;`][1]. Instead, I am getting code generated by a disassembler.\r\n\r\n    // Failed to get sources. Instead, stub sources have been generated by the disassembler.\r\n    // Implementation of methods is unavailable.\r\n[![auto-generated code by disassembler][2]][2]\r\n\r\n\r\n\r\nI know that IntelliJ gets the source code from:\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.1\\lib\\src.zip&quot;\r\n\r\nBut in the case of VS Code, I don&#39;t know how to make it point to the appropriate place.\r\nTo work with java in VS Code I installed the [Extension Pack for Java][3].\r\n\r\nSome installed extensions with the following IDs:\r\n\r\n - vscjava.vscode-java-pack\r\n - vscjava.vscode-java-dependency\r\n - vscjava.vscode-maven\r\n - redhat.java\r\n - vscjava.vscode-java-debug\r\n - vscjava.vscode-java-test\r\n\r\n**What configuration or plugin am I missing?**\r\n\r\n\r\n  [1]: https://4.bp.blogspot.com/_Cb4VGgCESEA/SoEPt_O5XoI/AAAAAAAAUtw/7gi_6oRhwr4/s1600-h/File-1.png\r\n  [2]: https://i.stack.imgur.com/LOmlz.png\r\n  [3]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"How to configure VS Code to point to the Java source code from window&#39;s JDK installation?","body":"<p>While editing my Java code, I am not getting the Javadocs from JDK's source code whenever I hover an element or do a <a href=\"https://4.bp.blogspot.com/_Cb4VGgCESEA/SoEPt_O5XoI/AAAAAAAAUtw/7gi_6oRhwr4/s1600-h/File-1.png\" rel=\"nofollow noreferrer\"><code>&lt;CTRL&gt;+&lt;LEFT CLICK&gt;</code></a>. Instead, I am getting code generated by a disassembler.</p>\n<pre><code>// Failed to get sources. Instead, stub sources have been generated by the disassembler.\n// Implementation of methods is unavailable.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LOmlz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOmlz.png\" alt=\"auto-generated code by disassembler\" /></a></p>\n<p>I know that IntelliJ gets the source code from:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.1\\lib\\src.zip&quot;\n</code></pre>\n<p>But in the case of VS Code, I don't know how to make it point to the appropriate place.\nTo work with java in VS Code I installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a>.</p>\n<p>Some installed extensions with the following IDs:</p>\n<ul>\n<li>vscjava.vscode-java-pack</li>\n<li>vscjava.vscode-java-dependency</li>\n<li>vscjava.vscode-maven</li>\n<li>redhat.java</li>\n<li>vscjava.vscode-java-debug</li>\n<li>vscjava.vscode-java-test</li>\n</ul>\n<p><strong>What configuration or plugin am I missing?</strong></p>\n"},{"tags":["java","maven","kotlin","gradle","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641593079,"creation_date":1641593079,"answer_id":70627657,"question_id":70627073,"body_markdown":"This URL is not a fair maven repository (it returns 400: Invalid request after 301: Permanent redirect), so you need to give Gradle a hint, where to look for artifacts metadata - in this case, there is [pom.xml](https://raw.github.com/repeats/SimpleNativeHooks/maven-export/pom.xml) in the root :\r\n\r\n```lang-kotlin\r\nmaven {\r\n    url = uri(&quot;https://raw.github.com/repeats/SimpleNativeHooks/maven-export/&quot;)\r\n    metadataSources {\r\n        mavenPom()\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://repo.maven.apache.org/maven2/","title":"How to include maven repository with id in gradle?","body":"<p>This URL is not a fair maven repository (it returns 400: Invalid request after 301: Permanent redirect), so you need to give Gradle a hint, where to look for artifacts metadata - in this case, there is <a href=\"https://raw.github.com/repeats/SimpleNativeHooks/maven-export/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> in the root :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>maven {\n    url = uri(&quot;https://raw.github.com/repeats/SimpleNativeHooks/maven-export/&quot;)\n    metadataSources {\n        mavenPom()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7140374,"reputation":527,"user_id":6596010,"accept_rate":62,"display_name":"Matt Groth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70627657,"answer_count":1,"score":2,"last_activity_date":1641593918,"creation_date":1641588930,"question_id":70627073,"body_markdown":"I am trying to use [SimpleNativeHooks][1] in my kotlin gradle project. I use the kotlin gradle dsl, but SimpleNativeHooks can not be found and downloaded. The error I get is:\r\n```text\r\n\r\n    :KJ:launch:test: Could not find org.repeats.simplenativehooks:simplenativehooks:0.0.1.\r\n    Required by:\r\n        project :KJ:launch\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n```\r\n\r\nThe code I am currently using for the repo is:\r\n\r\n```kotlin\r\ndependencyResolutionManagement {\r\n  repositories{\r\n\tmaven {\r\n\t  url = java.net.URI(&quot;https://raw.github.com/repeats/SimpleNativeHooks/maven-export/&quot;)\r\n\t}\r\n  }\r\n}\r\n\r\n```\r\n\r\nBut on the github README, the maven example includes a few others as well. I&#39;m wondering if the reason I&#39;m getting an error in my gradle build is because I haven&#39;t properly converted that maven code into gradle, maybe because I missed some of those fields (like the repo id, which I don&#39;t know how to include in gradle).\r\n\r\n\r\n  [1]: https://github.com/repeats/SimpleNativeHooks","title":"How to include maven repository with id in gradle?","body":"<p>I am trying to use <a href=\"https://github.com/repeats/SimpleNativeHooks\" rel=\"nofollow noreferrer\">SimpleNativeHooks</a> in my kotlin gradle project. I use the kotlin gradle dsl, but SimpleNativeHooks can not be found and downloaded. The error I get is:</p>\n<pre><code>\n    :KJ:launch:test: Could not find org.repeats.simplenativehooks:simplenativehooks:0.0.1.\n    Required by:\n        project :KJ:launch\n    \n    Possible solution:\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n<p>The code I am currently using for the repo is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencyResolutionManagement {\n  repositories{\n    maven {\n      url = java.net.URI(&quot;https://raw.github.com/repeats/SimpleNativeHooks/maven-export/&quot;)\n    }\n  }\n}\n\n</code></pre>\n<p>But on the github README, the maven example includes a few others as well. I'm wondering if the reason I'm getting an error in my gradle build is because I haven't properly converted that maven code into gradle, maybe because I missed some of those fields (like the repo id, which I don't know how to include in gradle).</p>\n"},{"tags":["java","unit-testing","junit","user-input"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641588851,"post_id":70626913,"comment_id":124852477,"body_markdown":"Doesn’t work in what way?","body":"Doesn’t work in what way?"},{"owner":{"account_id":11224408,"reputation":21,"user_id":8234501,"display_name":"HAMMAMI MOHAMED"},"score":0,"creation_date":1641589084,"post_id":70626913,"comment_id":124852537,"body_markdown":"the test still run in infinite loop","body":"the test still run in infinite loop"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641590089,"post_id":70626913,"comment_id":124852809,"body_markdown":"I think we’ll need to see the code under test to help","body":"I think we’ll need to see the code under test to help"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641590206,"post_id":70626913,"comment_id":124852837,"body_markdown":"Shouldn’t it call `System.setIn(savedStandardInputStream)` _after_ `Demo.main(args)`?","body":"Shouldn’t it call <code>System.setIn(savedStandardInputStream)</code> <i>after</i> <code>Demo.main(args)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641593170,"creation_date":1641593170,"answer_id":70627670,"question_id":70626913,"body_markdown":"You may wrap the `System.in` using [term4j](https://github.com/dgroup/term4j):\r\n```java\r\npublic static void main(String[] args) {\r\n   new YourApp(\r\n      new Stdin(),   // Stdin is a wrapper for Scanner.in\r\n      new Stdout()   // Stdout is a wrapper for System.out\r\n   ).start(args);\r\n}\r\n```\r\nThis is the [unit test](https://github.com/dgroup/term4j#stdin) for `Stdin`\r\n```java\r\n    @Test\r\n    public void readFromStdin() {\r\n        /**\r\n         * The standard system input (stdin) which keeps the expected input lines in-memory\r\n         *  instead of direct manipulations with {@link System#in} or {@link Console}.\r\n         */\r\n        final Input stdin = new Stdin(\r\n            new InputOf(String.format(&quot;line1%nline2&quot;))\r\n        );\r\n        MatcherAssert.assertThat(\r\n            &quot;The 1st line was read from console&quot;,\r\n            stdin.value(),\r\n            new IsEqual(&quot;line1&quot;)\r\n        );\r\n        MatcherAssert.assertThat(\r\n            &quot;The 2nd line was read from console&quot;,\r\n            stdin.value(),\r\n            new IsEqual(&quot;line2&quot;)\r\n        );\r\n    }\r\n```\r\nThis is the [unit test](https://github.com/dgroup/term4j#stdout) for `Stdout`\r\n```java\r\n    /**\r\n     * Simulate the STD print procedure using {@link StringWriter}.\r\n     */\r\n    @Test\r\n    public void printToWriter() {\r\n        // Write 4 lines delimited by `\\n` or `\\r\\n` to the StringWriter\r\n        final StringWriter swter = new StringWriter();\r\n        final Output std = new Stdout(swter);\r\n        std.print(&quot;line1&quot;, &quot;line2&quot;);\r\n        std.print(&quot;line3&quot;, &quot;line4&quot;);\r\n        // Check that the result string has 4 lines\r\n        MatcherAssert.assertThat(\r\n            &quot;4 lines of text were printed to the output&quot;,\r\n            swter.toString(),\r\n            new HasLines(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;, &quot;line4&quot;)\r\n        );\r\n    }\r\n```\r\n\r\nFor your case, you may simulate the `System.in` and `System.out` in your test using following code:\r\n```java\r\npublic class YourAppTest {\r\n\r\n   @Test\r\n   public void skeleton(){\r\n      Input stdin = new Stdin(  \r\n         new InputOf(String.format(&quot;line1%nline2&quot;))  // expected multiple user input from terminal\r\n      );\r\n      StringWriter stdout = new StringWriter();  // the app output to terminal\r\n      new YourApp(stdin, new Stdout(stdout))\r\n          .start(...);\r\n      MatcherAssert.assertThat(\r\n          &quot;4 lines of text were printed to the output&quot;,\r\n          out.toString(),\r\n          new HasLines(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;, &quot;line4&quot;)\r\n      );\r\n   }\r\n}\r\n```\r\n","title":"How to simulate multiple user input for JUnit4","body":"<p>You may wrap the <code>System.in</code> using <a href=\"https://github.com/dgroup/term4j\" rel=\"nofollow noreferrer\">term4j</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n   new YourApp(\n      new Stdin(),   // Stdin is a wrapper for Scanner.in\n      new Stdout()   // Stdout is a wrapper for System.out\n   ).start(args);\n}\n</code></pre>\n<p>This is the <a href=\"https://github.com/dgroup/term4j#stdin\" rel=\"nofollow noreferrer\">unit test</a> for <code>Stdin</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void readFromStdin() {\n        /**\n         * The standard system input (stdin) which keeps the expected input lines in-memory\n         *  instead of direct manipulations with {@link System#in} or {@link Console}.\n         */\n        final Input stdin = new Stdin(\n            new InputOf(String.format(&quot;line1%nline2&quot;))\n        );\n        MatcherAssert.assertThat(\n            &quot;The 1st line was read from console&quot;,\n            stdin.value(),\n            new IsEqual(&quot;line1&quot;)\n        );\n        MatcherAssert.assertThat(\n            &quot;The 2nd line was read from console&quot;,\n            stdin.value(),\n            new IsEqual(&quot;line2&quot;)\n        );\n    }\n</code></pre>\n<p>This is the <a href=\"https://github.com/dgroup/term4j#stdout\" rel=\"nofollow noreferrer\">unit test</a> for <code>Stdout</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Simulate the STD print procedure using {@link StringWriter}.\n     */\n    @Test\n    public void printToWriter() {\n        // Write 4 lines delimited by `\\n` or `\\r\\n` to the StringWriter\n        final StringWriter swter = new StringWriter();\n        final Output std = new Stdout(swter);\n        std.print(&quot;line1&quot;, &quot;line2&quot;);\n        std.print(&quot;line3&quot;, &quot;line4&quot;);\n        // Check that the result string has 4 lines\n        MatcherAssert.assertThat(\n            &quot;4 lines of text were printed to the output&quot;,\n            swter.toString(),\n            new HasLines(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;, &quot;line4&quot;)\n        );\n    }\n</code></pre>\n<p>For your case, you may simulate the <code>System.in</code> and <code>System.out</code> in your test using following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourAppTest {\n\n   @Test\n   public void skeleton(){\n      Input stdin = new Stdin(  \n         new InputOf(String.format(&quot;line1%nline2&quot;))  // expected multiple user input from terminal\n      );\n      StringWriter stdout = new StringWriter();  // the app output to terminal\n      new YourApp(stdin, new Stdout(stdout))\n          .start(...);\n      MatcherAssert.assertThat(\n          &quot;4 lines of text were printed to the output&quot;,\n          out.toString(),\n          new HasLines(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;, &quot;line4&quot;)\n      );\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":11224408,"reputation":21,"user_id":8234501,"display_name":"HAMMAMI MOHAMED"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641593170,"creation_date":1641587930,"question_id":70626913,"body_markdown":"\r\n&#39; I have multiple user input prompts, is it possible to form a list of the user input and have it pick up the corresponding input when the time comes?\r\n&#39;\r\n\t\r\n    @Test\r\n\tpublic void test1() {\r\n\t\t\r\n\t\t\r\n\t\tString simulatedUserInput = &quot;1\\n&quot;+&quot;2\\n&quot;+&quot;3\\n&quot; ;\r\n         \r\n\t\tInputStream savedStandardInputStream = System.in;\r\n\t\tSystem.setIn(new ByteArrayInputStream(simulatedUserInput.getBytes()));\r\n\r\n\t\t// code that needs multiple user inputs\r\n\r\n\t\tSystem.setIn(savedStandardInputStream);\r\n\t\r\n\t\t\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream(); \r\n\t\tSystem.setOut(new PrintStream(out));\r\n\t\t\r\n\t\tString[] args = {} ;\r\n\t\tDemo.main(args);\r\n\t\t\r\n\t\tString consoleOutPutString =&quot;Enter side 1: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;1&quot;+ System.getProperty(&quot;line.separator&quot;); \r\n\t\t       consoleOutPutString +=&quot;Enter side 2: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;2&quot;+ System.getProperty(&quot;line.separator&quot;); \r\n\t\t       consoleOutPutString +=&quot;Enter side 3: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;3&quot;+ System.getProperty(&quot;line.separator&quot;); \r\n\t\t       consoleOutPutString +=&quot;This is not a triangle.&quot;+ System.getProperty(&quot;line.separator&quot;); \r\n\r\n\t\tassertEquals(consoleOutPutString, out.toString());\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n&#39;this code dosen&#39;t work&#39;\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZyW8.png","title":"How to simulate multiple user input for JUnit4","body":"<p>' I have multiple user input prompts, is it possible to form a list of the user input and have it pick up the corresponding input when the time comes?\n'</p>\n<pre><code>@Test\npublic void test1() {\n    \n    \n    String simulatedUserInput = &quot;1\\n&quot;+&quot;2\\n&quot;+&quot;3\\n&quot; ;\n     \n    InputStream savedStandardInputStream = System.in;\n    System.setIn(new ByteArrayInputStream(simulatedUserInput.getBytes()));\n\n    // code that needs multiple user inputs\n\n    System.setIn(savedStandardInputStream);\n\n    \n    ByteArrayOutputStream out = new ByteArrayOutputStream(); \n    System.setOut(new PrintStream(out));\n    \n    String[] args = {} ;\n    Demo.main(args);\n    \n    String consoleOutPutString =&quot;Enter side 1: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;1&quot;+ System.getProperty(&quot;line.separator&quot;); \n           consoleOutPutString +=&quot;Enter side 2: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;2&quot;+ System.getProperty(&quot;line.separator&quot;); \n           consoleOutPutString +=&quot;Enter side 3: &quot;+ System.getProperty(&quot;line.separator&quot;)+&quot;3&quot;+ System.getProperty(&quot;line.separator&quot;); \n           consoleOutPutString +=&quot;This is not a triangle.&quot;+ System.getProperty(&quot;line.separator&quot;); \n\n    assertEquals(consoleOutPutString, out.toString());\n    \n    \n}\n</code></pre>\n<p>}</p>\n<p>'this code dosen't work'</p>\n<p><a href=\"https://i.stack.imgur.com/MZyW8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","aop","aspectj","bytecode"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400878955,"creation_date":1400690088,"answer_id":23789067,"question_id":23787068,"body_markdown":"Some questions:\r\n\r\n* Do you use full-blown AspectJ or just Spring AOP with @AspectJ syntax?\r\n* Do you compile with source/target level 1.8 or maybe still 1.7?\r\n* Does the exact same code work with Java 7 and AspectJ 1.8.0?\r\n* If not, does it work with Java 7 and AspectJ 1.7.4?\r\n* Can you please provide a stand-alone minimal code sample reproducing the problem? Maybe even on GitHub with a Maven build?) Many of your referenced classes are invisible to me, so I cannot reproducte it.\r\n\r\nAJ 1.8.0 is brandnew and some of its problems are actually caused by ECJ (Eclipse Java compiler). Some have already been fixed, so you could try a current [developer build](http://www.eclipse.org/aspectj/downloads.php) (select &quot;Last Known Good developer build&quot;.\r\n\r\n**Update:**\r\n\r\nI was able to reproduce the problem with a small code sample, independent of any other classes. The problem is not annotations or simple `forEach` lambdas, but obviously nested `forEach` lambdas. \r\n\r\nI filed an AspectJ bug on http://bugs.eclipse.org/bugs/show_bug.cgi?id=435446.\r\n\r\n**Update 2:**\r\n\r\nThe bug ticket also describes how to work around the problem by excluding lambda calls from the pointcut.\r\n\r\nAnother workaround I just found is to run the JVM with parameter `-noverify`.\r\n\r\n**Update 3:**\r\n\r\nThe bugfix is done and available as a development build. It will be part of the upcoming AspectJ 1.8.1.","title":"Aspect breaking bytecode on specific class","body":"<p>Some questions:</p>\n\n<ul>\n<li>Do you use full-blown AspectJ or just Spring AOP with @AspectJ syntax?</li>\n<li>Do you compile with source/target level 1.8 or maybe still 1.7?</li>\n<li>Does the exact same code work with Java 7 and AspectJ 1.8.0?</li>\n<li>If not, does it work with Java 7 and AspectJ 1.7.4?</li>\n<li>Can you please provide a stand-alone minimal code sample reproducing the problem? Maybe even on GitHub with a Maven build?) Many of your referenced classes are invisible to me, so I cannot reproducte it.</li>\n</ul>\n\n<p>AJ 1.8.0 is brandnew and some of its problems are actually caused by ECJ (Eclipse Java compiler). Some have already been fixed, so you could try a current <a href=\"http://www.eclipse.org/aspectj/downloads.php\" rel=\"nofollow\">developer build</a> (select \"Last Known Good developer build\".</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I was able to reproduce the problem with a small code sample, independent of any other classes. The problem is not annotations or simple <code>forEach</code> lambdas, but obviously nested <code>forEach</code> lambdas. </p>\n\n<p>I filed an AspectJ bug on <a href=\"http://bugs.eclipse.org/bugs/show_bug.cgi?id=435446\" rel=\"nofollow\">http://bugs.eclipse.org/bugs/show_bug.cgi?id=435446</a>.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>The bug ticket also describes how to work around the problem by excluding lambda calls from the pointcut.</p>\n\n<p>Another workaround I just found is to run the JVM with parameter <code>-noverify</code>.</p>\n\n<p><strong>Update 3:</strong></p>\n\n<p>The bugfix is done and available as a development build. It will be part of the upcoming AspectJ 1.8.1.</p>\n"},{"tags":[],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499154165,"creation_date":1400691118,"answer_id":23789393,"question_id":23787068,"body_markdown":"I&#39;ve found that the problem comes from lambda expression usage :(\r\n\r\nreplacing all lambdas with regular for fixes the problem\r\n\r\n    exchangeCurrencyToCurrency.entrySet().stream().forEach((entry) -&gt; {\r\n        String cryptsyCurrencyCode = entry.getKey();\r\n        String currencySymbol = entry.getValue();\r\n\r\n        com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\r\n        if (notNull(currency)) {\r\n            associateCurrency(currency, cryptsyCurrencyCode);\r\n        } else {\r\n            LOGGER.debug(&quot;associated currency [&quot; + currencySymbol + &quot;] does not exist in database, removing from configuration&quot;);\r\n            markedForRemoval.add(cryptsyCurrencyCode);\r\n        }\r\n    });\r\n\r\nresult\r\n\r\n    for(Map.Entry&lt;String, String&gt; entry : exchangeCurrencyToCurrency.entrySet()){\r\n                String cryptsyCurrencyCode = entry.getKey();\r\n                String currencySymbol = entry.getValue();\r\n    \r\n                com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\r\n                if (notNull(currency)) {\r\n                    associateCurrency(currency, cryptsyCurrencyCode);\r\n                } else {\r\n                    LOGGER.debug(&quot;associated currency [&quot; + currencySymbol + &quot;] does not exist in database, removing from configuration&quot;);\r\n                    markedForRemoval.add(cryptsyCurrencyCode);\r\n                }\r\n            }","title":"Aspect breaking bytecode on specific class","body":"<p>I've found that the problem comes from lambda expression usage :(</p>\n\n<p>replacing all lambdas with regular for fixes the problem</p>\n\n<pre><code>exchangeCurrencyToCurrency.entrySet().stream().forEach((entry) -&gt; {\n    String cryptsyCurrencyCode = entry.getKey();\n    String currencySymbol = entry.getValue();\n\n    com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\n    if (notNull(currency)) {\n        associateCurrency(currency, cryptsyCurrencyCode);\n    } else {\n        LOGGER.debug(\"associated currency [\" + currencySymbol + \"] does not exist in database, removing from configuration\");\n        markedForRemoval.add(cryptsyCurrencyCode);\n    }\n});\n</code></pre>\n\n<p>result</p>\n\n<pre><code>for(Map.Entry&lt;String, String&gt; entry : exchangeCurrencyToCurrency.entrySet()){\n            String cryptsyCurrencyCode = entry.getKey();\n            String currencySymbol = entry.getValue();\n\n            com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\n            if (notNull(currency)) {\n                associateCurrency(currency, cryptsyCurrencyCode);\n            } else {\n                LOGGER.debug(\"associated currency [\" + currencySymbol + \"] does not exist in database, removing from configuration\");\n                markedForRemoval.add(cryptsyCurrencyCode);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23789067,"answer_count":2,"score":1,"last_activity_date":1641592841,"creation_date":1400684676,"question_id":23787068,"body_markdown":"I&#39;m new to AOP, I&#39;ve created an aspect to trace all methods or classes marked with @Trace annotation. I&#39;m using compile time weaving. (Java 8, Aspectj 1.8, Spring 4)\r\n\r\nTraceAspect.java\r\n\r\n    @Aspect\r\n    public class TraceAspect {\r\n        private static Map&lt;String, Integer&gt; threadMap = new HashMap&lt;&gt;();\r\n    \r\n        @Pointcut(&quot;@within(Trace) || @annotation(Trace)&quot;)\r\n        void annotated(){}\r\n        \r\n        @Around(&quot;annotated() &amp;&amp; execution(* *(..))&quot;)\r\n        public Object trace(final ProceedingJoinPoint joinPoint) throws Throwable {\r\n            String  threadName = Thread.currentThread().getName();\r\n    \r\n            String indent = indent(inThread(threadName));\r\n    \r\n            System.out.println(threadName + &quot; : &quot; + indent + &quot;-&gt;  &quot; + joinPoint.getSignature().toString());\r\n    \r\n            long start = System.nanoTime();\r\n            Object ret = joinPoint.proceed();\r\n            long end = System.nanoTime();\r\n    \r\n            System.out.println(threadName + &quot; : &quot; + indent + &quot;&lt;-  &quot; + joinPoint.getSignature().toString() + &quot; ended (took &quot; + (end - start) + &quot; nanoseconds)&quot;);\r\n    \r\n            outThread(threadName);\r\n            return ret;\r\n        }\r\n    \r\n        private String indent(int depth) {\r\n            String result = &quot;&quot;;\r\n            for (int index = 0; index &lt; depth; index++) {\r\n                result += &quot;   &quot;;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        private int inThread(String threadName) {\r\n            if (threadMap.get(threadName) == null) {\r\n                threadMap.put(threadName, 0);\r\n            }\r\n    \r\n            int stackDepth = threadMap.get(threadName) + 1;\r\n            threadMap.put(threadName, stackDepth);\r\n            return stackDepth;\r\n        }\r\n    \r\n        private void outThread(String threadName) {\r\n            int stackDepth = threadMap.get(threadName) - 1;\r\n            threadMap.put(threadName, stackDepth);\r\n        }\r\n    }\r\n\r\nThe CryptsyExchange.java (which is a Spring Bean) when marked with @Trace, classloader throws ClassFormat error on build(..) method while initializing that bean in application context...\r\n\r\nCryptsyExchange.java\r\n\r\n    @Trace\r\n    public class CryptsyExchange {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CryptsyExchange.class);\r\n    \r\n        private DataService dataService;\r\n        private Configuration config;\r\n    \r\n        private Converter converter;\r\n        private Exchange exchange;\r\n        private List&lt;CryptsyAccount&gt; accounts = Collections.synchronizedList(new LinkedList&lt;&gt;());\r\n        private CryptsyAccount defaultAccount;\r\n    \r\n        public static CryptsyExchange build(String name, DataService dataService, ConfigPathBuilder pathBuilder) {\r\n            condition(notNullOrEmpty(name) &amp;&amp; notNull(dataService, pathBuilder));\r\n    \r\n            CryptsyExchange cryptsyExchange = new CryptsyExchange();\r\n            cryptsyExchange.dataService = dataService;\r\n    \r\n    \r\n            // Loading configuration\r\n            final Configuration configuration = Configuration.load(pathBuilder.getExchangeConfigPath(name));\r\n            cryptsyExchange.config = configuration;\r\n    \r\n            // Retrieve corresponding exchange from datastore\r\n            cryptsyExchange.exchange = dataService.registerExchange(cryptsyExchange.config.getString(&quot;exchange&quot;));\r\n    \r\n            // Get accounts from configuration\r\n    \r\n            Map&lt;String, Map&lt;String, String&gt;&gt; accounts = configuration.getMap(&quot;accounts&quot;);\r\n    \r\n            // Initialize accounts\r\n            accounts.entrySet().stream().forEach((entry) -&gt; {\r\n                String key = entry.getKey();\r\n                Map&lt;String, String&gt; accountMap = entry.getValue();\r\n    \r\n                // Retrieve corresponding datastore account\r\n                Account account = dataService.registerAccount(cryptsyExchange.exchange, key);\r\n    \r\n                // Initialize cryptsy specific account\r\n                CryptsyAccount cryptsyAccount = new CryptsyAccount(account, accountMap.get(&quot;key&quot;), accountMap.get(&quot;secret&quot;));\r\n    \r\n                cryptsyExchange.accounts.add(cryptsyAccount);\r\n    \r\n                if (notNull(accountMap.get(&quot;isDefault&quot;)) &amp;&amp; Boolean.valueOf(accountMap.get(&quot;isDefault&quot;))) {\r\n                    cryptsyExchange.defaultAccount = cryptsyAccount;\r\n                }\r\n            });\r\n    \r\n            // Initializing Converter\r\n            cryptsyExchange.converter = cryptsyExchange.new Converter();\r\n    \r\n            // Recover associations from configuration\r\n            Map&lt;String, String&gt; exchangeCurrencyToCurrency = configuration.getMap(&quot;exchangeCurrencyToCurrency&quot;);\r\n            Set&lt;String&gt; markedForRemoval = new HashSet&lt;&gt;();\r\n    \r\n            exchangeCurrencyToCurrency.entrySet().stream().forEach((entry) -&gt; {\r\n                String cryptsyCurrencyCode = entry.getKey();\r\n                String currencySymbol = entry.getValue();\r\n    \r\n                com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\r\n                if (notNull(currency)) {\r\n                    cryptsyExchange.converter.associateCurrency(currency, cryptsyCurrencyCode);\r\n                } else {\r\n                    LOGGER.debug(&quot;associated currency [&quot; + currencySymbol + &quot;] does not exist in database, removing from configuration&quot;);\r\n                    markedForRemoval.add(cryptsyCurrencyCode);\r\n                }\r\n            });\r\n    \r\n            // Removing currency associations missing from database\r\n            if (!markedForRemoval.isEmpty()) {\r\n                markedForRemoval.forEach((currency) -&gt; configuration.remove(&quot;exchangeCurrencyToCurrency&quot;, currency));\r\n            }\r\n    \r\n            Map&lt;String, String&gt; exchangeMarketToMarket = configuration.getMap(&quot;exchangeMarketToMarket&quot;);\r\n            markedForRemoval.clear();\r\n    \r\n            exchangeMarketToMarket.entrySet().stream().forEach((entry) -&gt; {\r\n                String cryptsyMarketId = entry.getKey();\r\n                String marketName = entry.getValue();\r\n    \r\n                Market market = dataService.getMarket(marketName);\r\n                if (notNull(market)) {\r\n                    cryptsyExchange.converter.associateMarket(market, Integer.valueOf(cryptsyMarketId));\r\n                } else {\r\n                    LOGGER.debug(&quot;associated market [+&quot; + marketName + &quot;] does not exist, removing from configuration&quot;);\r\n                    markedForRemoval.add(cryptsyMarketId);\r\n                }\r\n            });\r\n    \r\n            // Removing market associations missing from database\r\n            if (!markedForRemoval.isEmpty()) {\r\n                markedForRemoval.forEach((market) -&gt; configuration.remove(&quot;exchangeMarketToMarket&quot;, market));\r\n            }\r\n    \r\n            // Update configuration\r\n            configuration.save();\r\n    \r\n            return cryptsyExchange;\r\n        }\r\n    \r\n        // Lot of other code there\r\n    }\r\n\r\n\r\nAnd of course the stackTrace:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassFormatError: Illegal local variable table length 288 in method com.jarvis.exchange.cryptsy.CryptsyExchange.build_aroundBody0(Ljava/lang/String;Lcom/jarvis/data/service/DataService;Lcom/jarvis/util/ConfigPathBuilder;Lorg/aspectj/lang/JoinPoint;)Lcom/jarvis/exchange/cryptsy/CryptsyExchange;\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Class.java:2688)\r\n    \tat java.lang.Class.getDeclaredMethods(Class.java:1962)\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:467)\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:451)\r\n    \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:512)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:663)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:593)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1396)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:382)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:353)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:82)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \tat com.jarvis.Jarvis.&lt;clinit&gt;(Jarvis.java:10)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:259)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:116)\r\n\r\nI&#39;ve tried this on any other class on my project (annotation can be applied on Type or method) and it worked, but exactly with this bean build method I&#39;m facing issues and can&#39;t find any workaround. Maybe current support for Java 8 by Aspectj is buggy and it actually corrupts bytecode. Or perhaps there is something wrong I&#39;ve done there?\r\n","title":"Aspect breaking bytecode on specific class","body":"<p>I'm new to AOP, I've created an aspect to trace all methods or classes marked with @Trace annotation. I'm using compile time weaving. (Java 8, Aspectj 1.8, Spring 4)</p>\n<p>TraceAspect.java</p>\n<pre><code>@Aspect\npublic class TraceAspect {\n    private static Map&lt;String, Integer&gt; threadMap = new HashMap&lt;&gt;();\n\n    @Pointcut(&quot;@within(Trace) || @annotation(Trace)&quot;)\n    void annotated(){}\n    \n    @Around(&quot;annotated() &amp;&amp; execution(* *(..))&quot;)\n    public Object trace(final ProceedingJoinPoint joinPoint) throws Throwable {\n        String  threadName = Thread.currentThread().getName();\n\n        String indent = indent(inThread(threadName));\n\n        System.out.println(threadName + &quot; : &quot; + indent + &quot;-&gt;  &quot; + joinPoint.getSignature().toString());\n\n        long start = System.nanoTime();\n        Object ret = joinPoint.proceed();\n        long end = System.nanoTime();\n\n        System.out.println(threadName + &quot; : &quot; + indent + &quot;&lt;-  &quot; + joinPoint.getSignature().toString() + &quot; ended (took &quot; + (end - start) + &quot; nanoseconds)&quot;);\n\n        outThread(threadName);\n        return ret;\n    }\n\n    private String indent(int depth) {\n        String result = &quot;&quot;;\n        for (int index = 0; index &lt; depth; index++) {\n            result += &quot;   &quot;;\n        }\n        return result;\n    }\n\n    private int inThread(String threadName) {\n        if (threadMap.get(threadName) == null) {\n            threadMap.put(threadName, 0);\n        }\n\n        int stackDepth = threadMap.get(threadName) + 1;\n        threadMap.put(threadName, stackDepth);\n        return stackDepth;\n    }\n\n    private void outThread(String threadName) {\n        int stackDepth = threadMap.get(threadName) - 1;\n        threadMap.put(threadName, stackDepth);\n    }\n}\n</code></pre>\n<p>The CryptsyExchange.java (which is a Spring Bean) when marked with @Trace, classloader throws ClassFormat error on build(..) method while initializing that bean in application context...</p>\n<p>CryptsyExchange.java</p>\n<pre><code>@Trace\npublic class CryptsyExchange {\n    private static final Logger LOGGER = LoggerFactory.getLogger(CryptsyExchange.class);\n\n    private DataService dataService;\n    private Configuration config;\n\n    private Converter converter;\n    private Exchange exchange;\n    private List&lt;CryptsyAccount&gt; accounts = Collections.synchronizedList(new LinkedList&lt;&gt;());\n    private CryptsyAccount defaultAccount;\n\n    public static CryptsyExchange build(String name, DataService dataService, ConfigPathBuilder pathBuilder) {\n        condition(notNullOrEmpty(name) &amp;&amp; notNull(dataService, pathBuilder));\n\n        CryptsyExchange cryptsyExchange = new CryptsyExchange();\n        cryptsyExchange.dataService = dataService;\n\n\n        // Loading configuration\n        final Configuration configuration = Configuration.load(pathBuilder.getExchangeConfigPath(name));\n        cryptsyExchange.config = configuration;\n\n        // Retrieve corresponding exchange from datastore\n        cryptsyExchange.exchange = dataService.registerExchange(cryptsyExchange.config.getString(&quot;exchange&quot;));\n\n        // Get accounts from configuration\n\n        Map&lt;String, Map&lt;String, String&gt;&gt; accounts = configuration.getMap(&quot;accounts&quot;);\n\n        // Initialize accounts\n        accounts.entrySet().stream().forEach((entry) -&gt; {\n            String key = entry.getKey();\n            Map&lt;String, String&gt; accountMap = entry.getValue();\n\n            // Retrieve corresponding datastore account\n            Account account = dataService.registerAccount(cryptsyExchange.exchange, key);\n\n            // Initialize cryptsy specific account\n            CryptsyAccount cryptsyAccount = new CryptsyAccount(account, accountMap.get(&quot;key&quot;), accountMap.get(&quot;secret&quot;));\n\n            cryptsyExchange.accounts.add(cryptsyAccount);\n\n            if (notNull(accountMap.get(&quot;isDefault&quot;)) &amp;&amp; Boolean.valueOf(accountMap.get(&quot;isDefault&quot;))) {\n                cryptsyExchange.defaultAccount = cryptsyAccount;\n            }\n        });\n\n        // Initializing Converter\n        cryptsyExchange.converter = cryptsyExchange.new Converter();\n\n        // Recover associations from configuration\n        Map&lt;String, String&gt; exchangeCurrencyToCurrency = configuration.getMap(&quot;exchangeCurrencyToCurrency&quot;);\n        Set&lt;String&gt; markedForRemoval = new HashSet&lt;&gt;();\n\n        exchangeCurrencyToCurrency.entrySet().stream().forEach((entry) -&gt; {\n            String cryptsyCurrencyCode = entry.getKey();\n            String currencySymbol = entry.getValue();\n\n            com.jarvis.data.entity.Currency currency = dataService.getCurrency(currencySymbol);\n            if (notNull(currency)) {\n                cryptsyExchange.converter.associateCurrency(currency, cryptsyCurrencyCode);\n            } else {\n                LOGGER.debug(&quot;associated currency [&quot; + currencySymbol + &quot;] does not exist in database, removing from configuration&quot;);\n                markedForRemoval.add(cryptsyCurrencyCode);\n            }\n        });\n\n        // Removing currency associations missing from database\n        if (!markedForRemoval.isEmpty()) {\n            markedForRemoval.forEach((currency) -&gt; configuration.remove(&quot;exchangeCurrencyToCurrency&quot;, currency));\n        }\n\n        Map&lt;String, String&gt; exchangeMarketToMarket = configuration.getMap(&quot;exchangeMarketToMarket&quot;);\n        markedForRemoval.clear();\n\n        exchangeMarketToMarket.entrySet().stream().forEach((entry) -&gt; {\n            String cryptsyMarketId = entry.getKey();\n            String marketName = entry.getValue();\n\n            Market market = dataService.getMarket(marketName);\n            if (notNull(market)) {\n                cryptsyExchange.converter.associateMarket(market, Integer.valueOf(cryptsyMarketId));\n            } else {\n                LOGGER.debug(&quot;associated market [+&quot; + marketName + &quot;] does not exist, removing from configuration&quot;);\n                markedForRemoval.add(cryptsyMarketId);\n            }\n        });\n\n        // Removing market associations missing from database\n        if (!markedForRemoval.isEmpty()) {\n            markedForRemoval.forEach((market) -&gt; configuration.remove(&quot;exchangeMarketToMarket&quot;, market));\n        }\n\n        // Update configuration\n        configuration.save();\n\n        return cryptsyExchange;\n    }\n\n    // Lot of other code there\n}\n</code></pre>\n<p>And of course the stackTrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassFormatError: Illegal local variable table length 288 in method com.jarvis.exchange.cryptsy.CryptsyExchange.build_aroundBody0(Ljava/lang/String;Lcom/jarvis/data/service/DataService;Lcom/jarvis/util/ConfigPathBuilder;Lorg/aspectj/lang/JoinPoint;)Lcom/jarvis/exchange/cryptsy/CryptsyExchange;\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2688)\n    at java.lang.Class.getDeclaredMethods(Class.java:1962)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:467)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:451)\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:512)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:663)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:593)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1396)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:382)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:353)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:82)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:609)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n    at com.jarvis.Jarvis.&lt;clinit&gt;(Jarvis.java:10)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:259)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:116)\n</code></pre>\n<p>I've tried this on any other class on my project (annotation can be applied on Type or method) and it worked, but exactly with this bean build method I'm facing issues and can't find any workaround. Maybe current support for Java 8 by Aspectj is buggy and it actually corrupts bytecode. Or perhaps there is something wrong I've done there?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641591668,"creation_date":1641591325,"answer_id":70627424,"question_id":70626760,"body_markdown":"&gt; An instance of my application should only have 1 MySocketHandler, so I\r\n&gt; annotated MySocketHandler with\r\n&gt; @Scope(ConfigurableBeanFactory.SCOPE_SINGLETON).\r\n\r\nFirst of all , singleton is applied in the bean level but not the type level. It can&#39;t ensure your application will only has the single bean of a particular type. You can still define multiple singleton bean for the same type.\r\n\r\nIn most general cases , a bean can be defined by the following ways: \r\n\r\n - Annotating the class with `@Component` (or its specialisation version such as `@Repository` , `@Service` , `@Controller` , `@Configuration` etc.)\r\n\r\n - Using `@Bean` method in the `@Configuration` class\r\n\r\nNow you are doing :\r\n\r\n``` java\r\n@Component\r\n@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\r\npublic class MySocketHandler extends BinaryWebSocketHandler \r\n\r\n}\r\n```\r\n\r\n``` java\r\n@SpringBootApplication\r\npublic class MyApplication implements WebSocketConfigurer {\r\n\r\n\t @Bean\r\n\t public MySocketHandler getSocketHandler() {\r\n\t        return new MySocketHandler();\r\n\t }\r\n}\r\n```\r\n\r\n&lt;sup&gt; *Note: `@SpringBootApplication` is a composed annotation which contain `@Configuration`* &lt;/sup&gt;\r\n\r\n\r\nwhich means you are now defining two `MySocketHandler` beans . One with the name `mySocketHandler` (defined via `@Component`) and the other has the name `getSocketHandler` (defined via `@Bean`)\r\n\r\n\r\nSo to ensure there is only one `MySocketHandler` bean , either remove `@Component` from `MySocketHandler` or remove this `@Bean` method.\r\n\r\n\r\n","title":"How to enforce 1 Bean instance and avoid NoUniqueBeanDefinitionException?","body":"<blockquote>\n<p>An instance of my application should only have 1 MySocketHandler, so I\nannotated MySocketHandler with\n@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON).</p>\n</blockquote>\n<p>First of all , singleton is applied in the bean level but not the type level. It can't ensure your application will only has the single bean of a particular type. You can still define multiple singleton bean for the same type.</p>\n<p>In most general cases , a bean can be defined by the following ways:</p>\n<ul>\n<li><p>Annotating the class with <code>@Component</code> (or its specialisation version such as <code>@Repository</code> , <code>@Service</code> , <code>@Controller</code> , <code>@Configuration</code> etc.)</p>\n</li>\n<li><p>Using <code>@Bean</code> method in the <code>@Configuration</code> class</p>\n</li>\n</ul>\n<p>Now you are doing :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\npublic class MySocketHandler extends BinaryWebSocketHandler \n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication implements WebSocketConfigurer {\n\n     @Bean\n     public MySocketHandler getSocketHandler() {\n            return new MySocketHandler();\n     }\n}\n</code></pre>\n<p><sup> <em>Note: <code>@SpringBootApplication</code> is a composed annotation which contain <code>@Configuration</code></em> </sup></p>\n<p>which means you are now defining two <code>MySocketHandler</code> beans . One with the name <code>mySocketHandler</code> (defined via <code>@Component</code>) and the other has the name <code>getSocketHandler</code> (defined via <code>@Bean</code>)</p>\n<p>So to ensure there is only one <code>MySocketHandler</code> bean , either remove <code>@Component</code> from <code>MySocketHandler</code> or remove this <code>@Bean</code> method.</p>\n"}],"owner":{"account_id":6473869,"reputation":4718,"user_id":5013141,"accept_rate":75,"display_name":"Michael Fulton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641592749,"creation_date":1641586740,"question_id":70626760,"body_markdown":"I&#39;m implementing a websocket service where incoming messages are passed to controllers and the controllers can then broadcast response messages to another websocket session(s).\r\n\r\nWhen they broadcast the message back, there is either 1 of 2 issues. Either `MySocketHandler` is a different instance than the one that handled `afterConnectionEstablished` (using Autowired annotation on `MySocketHandler` in `MessageRouter` seems to create a new instance) or I get `NoUniqueBeanDefinitionException` (if I use ApplicationContext to specifically get the bean by class type). \r\n\r\nAn instance of my application should only have 1 `MySocketHandler`, so I annotated `MySocketHandler` with `@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)`.\r\n\r\nI suspect this has something to do with asynchronous event publishing and listening. I&#39;ve refactored this code a few times to try to implement this the &quot;Spring&quot; way but there&#39;s some fundamental error each time.\r\n\r\nI want to know how I can enforce the Spring container to create and reuse only 1 instance of MySocketHandler.\r\n\r\nHere is my a minimalized version of `MySocketHandler.java` to exemplify the problem:\r\n\r\n```\r\n@Component\r\n@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\r\npublic class MySocketHandler extends BinaryWebSocketHandler {\r\n\r\n    @Autowired private ApplicationContext applicationContext\r\n    @Autowired private MessageRouter messageRouter;\r\n\r\n    private final HashMap&lt;String, WebSocketSession&gt; sessions = new HashMap&lt;&gt;();\r\n\r\n    @EventListener\r\n    public void onOutgoingBinaryMessageEvent(OutgoingBinaryMessageEvent event) {\r\n        // ERROR: NoUniqueBeanDefinitionException\r\n    applicationContext.getBean(MySocketHandler.class).broadcast(event.getBytes(), event.getConnectionIds());\r\n    }\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) {\r\n        sessions.put(session.getId(), session);\r\n    }\r\n\r\n    @Override\r\n    public void handleBinaryMessage(WebSocketSession session, BinaryMessage message) {\r\n        eventPublisher.publishEvent(new IncomingBinaryMessageEvent(\r\n                this,\r\n                message.getPayload().array(),\r\n                session.getId()));\r\n    }\r\n\r\n    private void broadcast(byte[] bytes, Set&lt;String&gt; playerIds) {\r\n        BinaryMessage binaryMessage = new BinaryMessage(bytes);\r\n    // this.sessions is null because its a different instance of MySocketHandler than the one that actually managing the connections\r\n        for (WebSocketSession session : sessions.values()) {\r\n            try {\r\n                webSocketSession.sendMessage(binaryMessage);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd an example of the `MessageRouter.java`:\r\n\r\n```\r\n@Component\r\npublic class MessageRouter {\r\n    @Autowired private ApplicationEventPublisher eventPublisher;\r\n\r\n    public void send(Message message) {\r\n        eventPublisher.publishEvent(message);\r\n    }\r\n\r\n    @EventListener\r\n    private void routeMessageToController(SomeMessageEvent any, String connectionId) {\r\n        .....\r\n        // Parse message and route it to a controller class.\r\n        .....\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nApplication entry point:\r\n\r\n```\r\npublic class MyApplication implements WebSocketConfigurer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n\t\tregistry.addHandler(getSocketHandler(), &quot;/&quot;).setAllowedOriginPatterns(&quot;*&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MySocketHandler getSocketHandler() {\r\n\t\treturn new MySocketHandler();\r\n\t}\r\n}\r\n```\r\n","title":"How to enforce 1 Bean instance and avoid NoUniqueBeanDefinitionException?","body":"<p>I'm implementing a websocket service where incoming messages are passed to controllers and the controllers can then broadcast response messages to another websocket session(s).</p>\n<p>When they broadcast the message back, there is either 1 of 2 issues. Either <code>MySocketHandler</code> is a different instance than the one that handled <code>afterConnectionEstablished</code> (using Autowired annotation on <code>MySocketHandler</code> in <code>MessageRouter</code> seems to create a new instance) or I get <code>NoUniqueBeanDefinitionException</code> (if I use ApplicationContext to specifically get the bean by class type).</p>\n<p>An instance of my application should only have 1 <code>MySocketHandler</code>, so I annotated <code>MySocketHandler</code> with <code>@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)</code>.</p>\n<p>I suspect this has something to do with asynchronous event publishing and listening. I've refactored this code a few times to try to implement this the &quot;Spring&quot; way but there's some fundamental error each time.</p>\n<p>I want to know how I can enforce the Spring container to create and reuse only 1 instance of MySocketHandler.</p>\n<p>Here is my a minimalized version of <code>MySocketHandler.java</code> to exemplify the problem:</p>\n<pre><code>@Component\n@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)\npublic class MySocketHandler extends BinaryWebSocketHandler {\n\n    @Autowired private ApplicationContext applicationContext\n    @Autowired private MessageRouter messageRouter;\n\n    private final HashMap&lt;String, WebSocketSession&gt; sessions = new HashMap&lt;&gt;();\n\n    @EventListener\n    public void onOutgoingBinaryMessageEvent(OutgoingBinaryMessageEvent event) {\n        // ERROR: NoUniqueBeanDefinitionException\n    applicationContext.getBean(MySocketHandler.class).broadcast(event.getBytes(), event.getConnectionIds());\n    }\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) {\n        sessions.put(session.getId(), session);\n    }\n\n    @Override\n    public void handleBinaryMessage(WebSocketSession session, BinaryMessage message) {\n        eventPublisher.publishEvent(new IncomingBinaryMessageEvent(\n                this,\n                message.getPayload().array(),\n                session.getId()));\n    }\n\n    private void broadcast(byte[] bytes, Set&lt;String&gt; playerIds) {\n        BinaryMessage binaryMessage = new BinaryMessage(bytes);\n    // this.sessions is null because its a different instance of MySocketHandler than the one that actually managing the connections\n        for (WebSocketSession session : sessions.values()) {\n            try {\n                webSocketSession.sendMessage(binaryMessage);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }            \n        }\n    }\n}\n</code></pre>\n<p>And an example of the <code>MessageRouter.java</code>:</p>\n<pre><code>@Component\npublic class MessageRouter {\n    @Autowired private ApplicationEventPublisher eventPublisher;\n\n    public void send(Message message) {\n        eventPublisher.publishEvent(message);\n    }\n\n    @EventListener\n    private void routeMessageToController(SomeMessageEvent any, String connectionId) {\n        .....\n        // Parse message and route it to a controller class.\n        .....\n        }\n    }\n}\n</code></pre>\n<p>Application entry point:</p>\n<pre><code>public class MyApplication implements WebSocketConfigurer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(getSocketHandler(), &quot;/&quot;).setAllowedOriginPatterns(&quot;*&quot;);\n    }\n\n    @Bean\n    public MySocketHandler getSocketHandler() {\n        return new MySocketHandler();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641592704,"creation_date":1641592311,"answer_id":70627562,"question_id":70627499,"body_markdown":"If you don&#39;t want to add the same number multiple times, just `break` out of the `while` loop as soon as you add it the first time.\r\n\r\n```\r\nwhile (num &gt; 0) {\r\n\r\n    System.out.println(num % 10);\r\n    if (num%2!=0)\r\n    {\r\n        sum = sum+arr[i];\r\n        System.out.println(&quot;SUM IS: &quot;+sum);\r\n        break; // add this line\r\n    }\r\n\r\n    num = num / 10;\r\n\r\n}\r\n```\r\n\r\nThe `break` statement **immediately ends the loop** it is inside of (regardless if it is a `for`, `while` or a `do ... while` loop).\r\n\r\nThere is also a `continue` statement (which you don&#39;t need here), that **immediately continues to the next loop iteration**, skipping the execution of any code after the `continue` statement that is part of the loop.","title":"How can I count odd digits in java, but if that number has more then one odd digit count the first one only","body":"<p>If you don't want to add the same number multiple times, just <code>break</code> out of the <code>while</code> loop as soon as you add it the first time.</p>\n<pre><code>while (num &gt; 0) {\n\n    System.out.println(num % 10);\n    if (num%2!=0)\n    {\n        sum = sum+arr[i];\n        System.out.println(&quot;SUM IS: &quot;+sum);\n        break; // add this line\n    }\n\n    num = num / 10;\n\n}\n</code></pre>\n<p>The <code>break</code> statement <strong>immediately ends the loop</strong> it is inside of (regardless if it is a <code>for</code>, <code>while</code> or a <code>do ... while</code> loop).</p>\n<p>There is also a <code>continue</code> statement (which you don't need here), that <strong>immediately continues to the next loop iteration</strong>, skipping the execution of any code after the <code>continue</code> statement that is part of the loop.</p>\n"}],"owner":{"account_id":23864625,"reputation":45,"user_id":17867147,"display_name":"iSoulFeed1g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70627562,"answer_count":1,"score":2,"last_activity_date":1641592704,"creation_date":1641591836,"question_id":70627499,"body_markdown":"I want to make a program that implements an array of numbers and if that array has an odd digit in it add it to the sum. For example 123(has 1 and 3 as odd digits) 222(no odd digits) and 434(has 3 as a odd digit). The end sum should be 123+434. This is what I came up with but the sum would be 123+123+434(Sice 123 has 2 odd numbers it counts it two times)\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Ex4 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint sum = 0;\r\n\t\tSystem.out.print(&quot;Number of numbers: &quot;);\r\n\t\tint j = sc.nextInt();\r\n\t\tSystem.out.println(&quot;List of numbers: &quot;);\r\n\t\tint arr[] = new int[j];\r\n\t\tfor(int i = 0; i &lt; j; i++){\r\n\t\t\tarr[i] = sc.nextInt();\r\n\t\t}\r\n\t\tfor(int i = 0; i &lt; j; i++)\r\n\t\t{\r\n\t\t\tint num = arr[i];\r\n\r\n\t\t\t   while (num &gt; 0) {\r\n\r\n\t\t\t      System.out.println(num % 10);\r\n\t\t\t      if (num%2!=0)\r\n\t\t\t      {\r\n\t\t\t    \t sum= sum+arr[i];\r\n\t\t\t    \t System.out.println(&quot;SUM IS: &quot;+sum);\r\n\t\t\t      }\r\n\t\t\t      \r\n\t\t\t      num = num / 10;\r\n\r\n\t\t\t   }\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":"How can I count odd digits in java, but if that number has more then one odd digit count the first one only","body":"<p>I want to make a program that implements an array of numbers and if that array has an odd digit in it add it to the sum. For example 123(has 1 and 3 as odd digits) 222(no odd digits) and 434(has 3 as a odd digit). The end sum should be 123+434. This is what I came up with but the sum would be 123+123+434(Sice 123 has 2 odd numbers it counts it two times)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Ex4 {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int sum = 0;\n        System.out.print(&quot;Number of numbers: &quot;);\n        int j = sc.nextInt();\n        System.out.println(&quot;List of numbers: &quot;);\n        int arr[] = new int[j];\n        for(int i = 0; i &lt; j; i++){\n            arr[i] = sc.nextInt();\n        }\n        for(int i = 0; i &lt; j; i++)\n        {\n            int num = arr[i];\n\n               while (num &gt; 0) {\n\n                  System.out.println(num % 10);\n                  if (num%2!=0)\n                  {\n                     sum= sum+arr[i];\n                     System.out.println(&quot;SUM IS: &quot;+sum);\n                  }\n                  \n                  num = num / 10;\n\n               }\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","manifest","pom.xml","maven-jar-plugin"],"comments":[{"owner":{"account_id":10826177,"reputation":16,"user_id":7962014,"display_name":"BlackHat"},"score":1,"creation_date":1494016336,"post_id":43813163,"comment_id":74666098,"body_markdown":"Please refer to this answer: [http://stackoverflow.com/questions/2514429/creating-a-zip-archive-of-the-maven-target-directory](http://stackoverflow.com/questions/2514429/creating-a-zip-archive-of-the-maven-target-directory)","body":"Please refer to this answer: <a href=\"http://stackoverflow.com/questions/2514429/creating-a-zip-archive-of-the-maven-target-directory\">http://stackoverflow.com/questions/2514429/creating-a-zip-ar&zwnj;&#8203;chive-of-the-maven-t&zwnj;&#8203;arget-directory</a>"}],"answers":[{"tags":[],"owner":{"account_id":4779947,"reputation":3849,"user_id":3862022,"display_name":"csenga"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1550071649,"creation_date":1494030755,"answer_id":43815477,"question_id":43813163,"body_markdown":"In your case maven must be called like:\r\n\r\n    mvn clean package assembly:single\r\n\r\nThe other way to achive same result is to modify your pom:\r\n\r\n      &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt; \r\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n\r\nthen run:\r\n\r\n    mvn clean package\r\n\r\nref:\r\nhttps://maven.apache.org/plugins/maven-assembly-plugin/usage.html\r\n","title":"Maven does not generate a MANIFEST file with maven jar plugin","body":"<p>In your case maven must be called like:</p>\n\n<pre><code>mvn clean package assembly:single\n</code></pre>\n\n<p>The other way to achive same result is to modify your pom:</p>\n\n<pre><code>  &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt; \n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n &lt;/plugin&gt;\n</code></pre>\n\n<p>then run:</p>\n\n<pre><code>mvn clean package\n</code></pre>\n\n<p>ref:\n<a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/usage.html</a></p>\n"},{"tags":[],"owner":{"account_id":23724276,"reputation":1,"user_id":17744396,"display_name":"SideWinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640216359,"creation_date":1640216359,"answer_id":70456248,"question_id":43813163,"body_markdown":"I had the same issue where I was suddenly unable to run jars from CLI, removing the `&lt;pluginManagement&gt;` tag created the manifest for me.","title":"Maven does not generate a MANIFEST file with maven jar plugin","body":"<p>I had the same issue where I was suddenly unable to run jars from CLI, removing the <code>&lt;pluginManagement&gt;</code> tag created the manifest for me.</p>\n"},{"tags":[],"owner":{"account_id":7632676,"reputation":1,"user_id":5787208,"display_name":"Mallesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641592430,"creation_date":1641592430,"answer_id":70627579,"question_id":43813163,"body_markdown":"I had the same issue, removing the &lt;pluginManagement&gt; tag from pom file helped me","title":"Maven does not generate a MANIFEST file with maven jar plugin","body":"<p>I had the same issue, removing the  tag from pom file helped me</p>\n"}],"owner":{"account_id":7109659,"reputation":113,"user_id":5438083,"display_name":"Lua Mia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15252,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":43815477,"answer_count":3,"score":11,"last_activity_date":1641592430,"creation_date":1494015553,"question_id":43813163,"body_markdown":"I try to generate a .zip file with maven (mvn package) and want to have a MANIFEST file in the zip too. The jar file itself does work.\r\nI tried to generate a MANIFEST file with maven jar plugin, but it did not work.\r\nDo I Have to do something else to get a MANIFEST file, or is it enough to use this plugin? The parent pom (parent of the parent I showed) has maven assembly plugin. (I&#180;m completely new to maven)\r\n\r\npom.xml file of the parent pom:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\npom.xml file of the module:\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n","title":"Maven does not generate a MANIFEST file with maven jar plugin","body":"<p>I try to generate a .zip file with maven (mvn package) and want to have a MANIFEST file in the zip too. The jar file itself does work.\nI tried to generate a MANIFEST file with maven jar plugin, but it did not work.\nDo I Have to do something else to get a MANIFEST file, or is it enough to use this plugin? The parent pom (parent of the parent I showed) has maven assembly plugin. (I´m completely new to maven)</p>\n\n<p>pom.xml file of the parent pom:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>pom.xml file of the module:</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;org.jis.Main&lt;/mainClass&gt;\n          &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1641591183,"post_id":70627367,"comment_id":124853098,"body_markdown":"Are you allowed to change the source code of `getNumericGrade()`?","body":"Are you allowed to change the source code of <code>getNumericGrade()</code>?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1641591232,"post_id":70627367,"comment_id":124853115,"body_markdown":"Why do you have javadocs *inside* the method? They are supposed to be &quot;above&quot; the method.","body":"Why do you have javadocs <i>inside</i> the method? They are supposed to be &quot;above&quot; the method."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1641591766,"post_id":70627367,"comment_id":124853252,"body_markdown":"State what you mean by &quot;not able to&quot;. Are you unable to think of a test for this code or do you need a guide on [how to get started with junit](https://www.javatpoint.com/junit-tutorial)?","body":"State what you mean by &quot;not able to&quot;. Are you unable to think of a test for this code or do you need a guide on <a href=\"https://www.javatpoint.com/junit-tutorial\" rel=\"nofollow noreferrer\">how to get started with junit</a>?"},{"owner":{"account_id":18624444,"reputation":23,"user_id":13573886,"display_name":"robloxcoder"},"score":0,"creation_date":1641625407,"post_id":70627367,"comment_id":124857937,"body_markdown":"yes i can change the getNumericGrade()","body":"yes i can change the getNumericGrade()"},{"owner":{"account_id":18624444,"reputation":23,"user_id":13573886,"display_name":"robloxcoder"},"score":0,"creation_date":1641625446,"post_id":70627367,"comment_id":124857941,"body_markdown":"I am unable to think of test for this code and need some help to make one","body":"I am unable to think of test for this code and need some help to make one"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641591600,"creation_date":1641591600,"answer_id":70627469,"question_id":70627367,"body_markdown":"Change the function `getNumericGrade()` to take a parameter instead of reading the input from the scanner, as well as to return the output instead of printing it on console:\r\n\r\n    static String getNumericGrade(double numGrade) {\r\n        double numGrade = input.nextDouble();\r\n        String letterGrade;\r\n        /**\r\n         *  Method creation to convert numeric grade or GPA to letter grade\r\n         * @param numGrade is GPA\r\n         */\r\n\r\n        if (numGrade &gt; 4.00 || numGrade &lt; 0) {\r\n            letterGrade = &quot;N&quot;;\r\n        }\r\n        ...\r\n        return letterGrade;\r\n    }\r\n\r\nChange your `main` so that it&#39;s in there that you get the input from the scanner and print it on the screen: \r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter numeric grade: &quot;);\r\n    double numGrade = input.nextDouble();\r\n    String letterName = getNumericGrade(numGrade);\r\n    if (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\r\n\r\n        System.out.println(numGrade + &quot; is not a valid grade&quot; + letterGrade);\r\n    }\r\n    else{\r\n        System.out.println(&quot;Your grade is &quot;  +  letterGrade);\r\n    }\r\n\r\n... and then test the method containing the logic easily like this:\r\n\r\n    @Test\r\n    public void exampleTest() {\r\n        double testInput = 4.5;\r\n        String grade = Grade.getNumericGrade(testInput); \r\n        assertEquals(&quot;expected grade&quot;, grade);\r\n    }\r\n    \r\n    //more test with more inputs\r\n\r\nNote: since the function really takes a double and returns a String all the time, you can probably write a single unit test and parametrize it.\r\n\r\nYou can check [parameterized tests (available from Junit5)](https://www.baeldung.com/parameterized-tests-junit-5)","title":"How to write Junit test for this java code?","body":"<p>Change the function <code>getNumericGrade()</code> to take a parameter instead of reading the input from the scanner, as well as to return the output instead of printing it on console:</p>\n<pre><code>static String getNumericGrade(double numGrade) {\n    double numGrade = input.nextDouble();\n    String letterGrade;\n    /**\n     *  Method creation to convert numeric grade or GPA to letter grade\n     * @param numGrade is GPA\n     */\n\n    if (numGrade &gt; 4.00 || numGrade &lt; 0) {\n        letterGrade = &quot;N&quot;;\n    }\n    ...\n    return letterGrade;\n}\n</code></pre>\n<p>Change your <code>main</code> so that it's in there that you get the input from the scanner and print it on the screen:</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter numeric grade: &quot;);\ndouble numGrade = input.nextDouble();\nString letterName = getNumericGrade(numGrade);\nif (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\n\n    System.out.println(numGrade + &quot; is not a valid grade&quot; + letterGrade);\n}\nelse{\n    System.out.println(&quot;Your grade is &quot;  +  letterGrade);\n}\n</code></pre>\n<p>... and then test the method containing the logic easily like this:</p>\n<pre><code>@Test\npublic void exampleTest() {\n    double testInput = 4.5;\n    String grade = Grade.getNumericGrade(testInput); \n    assertEquals(&quot;expected grade&quot;, grade);\n}\n\n//more test with more inputs\n</code></pre>\n<p>Note: since the function really takes a double and returns a String all the time, you can probably write a single unit test and parametrize it.</p>\n<p>You can check <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">parameterized tests (available from Junit5)</a></p>\n"},{"tags":[],"owner":{"account_id":1806707,"reputation":25437,"user_id":1643676,"accept_rate":67,"display_name":"Athanasios Kataras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641592201,"creation_date":1641591752,"answer_id":70627486,"question_id":70627367,"body_markdown":"Check this excellent article [here][1] about testing `Println()` or even better the accepted answer here: https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println\r\n\r\nI would go another way though. I would rewrite the function\r\n\r\n```\r\n    static string getNumericGrade(){\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter numeric grade: &quot;);\r\n        double numGrade = input.nextDouble();\r\n        String letterGrade;\r\n        /**\r\n         *  Method creation to convert numeric grade or GPA to letter grade\r\n         * @param numGrade is GPA\r\n         */\r\n\r\n        if (numGrade &gt; 4.00 || numGrade &lt; 0) {\r\n            letterGrade = &quot;N&quot;;\r\n        }\r\n        else if (numGrade &gt;= 3.85 &amp;&amp; numGrade &lt;= 4.0 )\r\n        {\r\n            letterGrade = &quot;A+&quot;;\r\n        }\r\n        else if (numGrade &gt;= 3.5 &amp;&amp; numGrade &lt; 3.85 )\r\n        {\r\n            letterGrade = &quot;A&quot;;\r\n        }\r\n        else if (numGrade  &gt;= 3.333 &amp;&amp; numGrade &lt; 3.5 )\r\n        {\r\n            letterGrade = &quot;A-&quot;;\r\n        }\r\n        else if (numGrade &gt;= 3.0 &amp;&amp; numGrade &lt; 3.333 )\r\n        {\r\n            letterGrade = &quot;B+&quot;;\r\n        }\r\n        else if (numGrade &gt;= 2.667 &amp;&amp; numGrade &lt; 3.0 )\r\n        {\r\n            letterGrade = &quot;B&quot;;\r\n        }\r\n        else if (numGrade &gt;= 2.333 &amp;&amp; numGrade &lt; 2.667 )\r\n        {\r\n            letterGrade = &quot;B-&quot;;\r\n        }\r\n        else if (numGrade &gt;= 2.0 &amp;&amp; numGrade &lt; 2.333 )\r\n        {\r\n            letterGrade = &quot;C+&quot;;\r\n        }\r\n        else if (numGrade &gt;= 1.667 &amp;&amp; numGrade &lt; 2.0 )\r\n        {\r\n            letterGrade = &quot;C&quot;;\r\n        }\r\n        else if (numGrade &gt;= 1.333 &amp;&amp; numGrade &lt; 1.667 )\r\n        {\r\n            letterGrade = &quot;C-&quot;;\r\n        }\r\n        else if (numGrade &gt;= 1.0 &amp;&amp; numGrade &lt; 1.333 )\r\n        {\r\n            letterGrade = &quot;D+&quot;;\r\n        }\r\n        else if (numGrade  &gt; 0 &amp;&amp; numGrade &lt; 1.0 )\r\n        {\r\n            letterGrade = &quot;D&quot;;\r\n        }\r\n        else        {\r\n            letterGrade = &quot;F&quot;;\r\n        }\r\n\r\n        if (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\r\n\r\n            return numGrade + &quot; is not a valid grade&quot; + letterGrade;\r\n        }\r\n        else{\r\n            return &quot;Your grade is &quot;  +  letterGrade;\r\n\r\n        }\r\n    }\r\n```\r\n\r\nAnd then assert the text. You could even return the grade or -1 for non-grade and handle accordingly.\r\n\r\nAlso note that you should seldom declare functions as static in an OOP world, but that is a topic for another thread.\r\n\r\n  [1]: https://www.baeldung.com/java-testing-system-out-println","title":"How to write Junit test for this java code?","body":"<p>Check this excellent article <a href=\"https://www.baeldung.com/java-testing-system-out-println\" rel=\"nofollow noreferrer\">here</a> about testing <code>Println()</code> or even better the accepted answer here: <a href=\"https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println\">JUnit test for System.out.println()</a></p>\n<p>I would go another way though. I would rewrite the function</p>\n<pre><code>    static string getNumericGrade(){\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter numeric grade: &quot;);\n        double numGrade = input.nextDouble();\n        String letterGrade;\n        /**\n         *  Method creation to convert numeric grade or GPA to letter grade\n         * @param numGrade is GPA\n         */\n\n        if (numGrade &gt; 4.00 || numGrade &lt; 0) {\n            letterGrade = &quot;N&quot;;\n        }\n        else if (numGrade &gt;= 3.85 &amp;&amp; numGrade &lt;= 4.0 )\n        {\n            letterGrade = &quot;A+&quot;;\n        }\n        else if (numGrade &gt;= 3.5 &amp;&amp; numGrade &lt; 3.85 )\n        {\n            letterGrade = &quot;A&quot;;\n        }\n        else if (numGrade  &gt;= 3.333 &amp;&amp; numGrade &lt; 3.5 )\n        {\n            letterGrade = &quot;A-&quot;;\n        }\n        else if (numGrade &gt;= 3.0 &amp;&amp; numGrade &lt; 3.333 )\n        {\n            letterGrade = &quot;B+&quot;;\n        }\n        else if (numGrade &gt;= 2.667 &amp;&amp; numGrade &lt; 3.0 )\n        {\n            letterGrade = &quot;B&quot;;\n        }\n        else if (numGrade &gt;= 2.333 &amp;&amp; numGrade &lt; 2.667 )\n        {\n            letterGrade = &quot;B-&quot;;\n        }\n        else if (numGrade &gt;= 2.0 &amp;&amp; numGrade &lt; 2.333 )\n        {\n            letterGrade = &quot;C+&quot;;\n        }\n        else if (numGrade &gt;= 1.667 &amp;&amp; numGrade &lt; 2.0 )\n        {\n            letterGrade = &quot;C&quot;;\n        }\n        else if (numGrade &gt;= 1.333 &amp;&amp; numGrade &lt; 1.667 )\n        {\n            letterGrade = &quot;C-&quot;;\n        }\n        else if (numGrade &gt;= 1.0 &amp;&amp; numGrade &lt; 1.333 )\n        {\n            letterGrade = &quot;D+&quot;;\n        }\n        else if (numGrade  &gt; 0 &amp;&amp; numGrade &lt; 1.0 )\n        {\n            letterGrade = &quot;D&quot;;\n        }\n        else        {\n            letterGrade = &quot;F&quot;;\n        }\n\n        if (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\n\n            return numGrade + &quot; is not a valid grade&quot; + letterGrade;\n        }\n        else{\n            return &quot;Your grade is &quot;  +  letterGrade;\n\n        }\n    }\n</code></pre>\n<p>And then assert the text. You could even return the grade or -1 for non-grade and handle accordingly.</p>\n<p>Also note that you should seldom declare functions as static in an OOP world, but that is a topic for another thread.</p>\n"}],"owner":{"account_id":18624444,"reputation":23,"user_id":13573886,"display_name":"robloxcoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70627469,"answer_count":2,"score":2,"last_activity_date":1641592315,"creation_date":1641590878,"question_id":70627367,"body_markdown":"So my problem is that i need to write a junit test for this code and I&#39;m not able to. What the code does is, depending on the input it will give a grade.\r\n\r\n\r\n\r\n         \r\n    import java.util.Scanner;\r\n    \r\n    public class Grade{\r\n    \r\n        static void getNumericGrade(){\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Enter numeric grade: &quot;);\r\n            double numGrade = input.nextDouble();\r\n            String letterGrade;\r\n            /**\r\n             *  Method creation to convert numeric grade or GPA to letter grade\r\n             * @param numGrade is GPA\r\n             */\r\n    \r\n            if (numGrade &gt; 4.00 || numGrade &lt; 0) {\r\n                letterGrade = &quot;N&quot;;\r\n            }\r\n            else if (numGrade &gt;= 3.85 &amp;&amp; numGrade &lt;= 4.0 )\r\n            {\r\n                letterGrade = &quot;A+&quot;;\r\n            }\r\n            else if (numGrade &gt;= 3.5 &amp;&amp; numGrade &lt; 3.85 )\r\n            {\r\n                letterGrade = &quot;A&quot;;\r\n            }\r\n            else if (numGrade  &gt;= 3.333 &amp;&amp; numGrade &lt; 3.5 )\r\n            {\r\n                letterGrade = &quot;A-&quot;;\r\n            }\r\n            else if (numGrade &gt;= 3.0 &amp;&amp; numGrade &lt; 3.333 )\r\n            {\r\n                letterGrade = &quot;B+&quot;;\r\n            }\r\n            else if (numGrade &gt;= 2.667 &amp;&amp; numGrade &lt; 3.0 )\r\n            {\r\n                letterGrade = &quot;B&quot;;\r\n            }\r\n            else if (numGrade &gt;= 2.333 &amp;&amp; numGrade &lt; 2.667 )\r\n            {\r\n                letterGrade = &quot;B-&quot;;\r\n            }\r\n            else if (numGrade &gt;= 2.0 &amp;&amp; numGrade &lt; 2.333 )\r\n            {\r\n                letterGrade = &quot;C+&quot;;\r\n            }\r\n            else if (numGrade &gt;= 1.667 &amp;&amp; numGrade &lt; 2.0 )\r\n            {\r\n                letterGrade = &quot;C&quot;;\r\n            }\r\n            else if (numGrade &gt;= 1.333 &amp;&amp; numGrade &lt; 1.667 )\r\n            {\r\n                letterGrade = &quot;C-&quot;;\r\n            }\r\n            else if (numGrade &gt;= 1.0 &amp;&amp; numGrade &lt; 1.333 )\r\n            {\r\n                letterGrade = &quot;D+&quot;;\r\n            }\r\n            else if (numGrade  &gt; 0 &amp;&amp; numGrade &lt; 1.0 )\r\n            {\r\n                letterGrade = &quot;D&quot;;\r\n            }\r\n            else \t\t{\r\n                letterGrade = &quot;F&quot;;\r\n            }\r\n    \r\n            if (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\r\n                System.out.println(numGrade + &quot; is not a valid grade&quot; + letterGrade);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Your grade is &quot;  +  letterGrade);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            /**\r\n             * Prints letter grade from GPA\r\n             * @return letterGrade\r\n             */\r\n            getNumericGrade();\r\n        }\r\n    } \r\n\r\n","title":"How to write Junit test for this java code?","body":"<p>So my problem is that i need to write a junit test for this code and I'm not able to. What the code does is, depending on the input it will give a grade.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Grade{\n\n    static void getNumericGrade(){\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter numeric grade: &quot;);\n        double numGrade = input.nextDouble();\n        String letterGrade;\n        /**\n         *  Method creation to convert numeric grade or GPA to letter grade\n         * @param numGrade is GPA\n         */\n\n        if (numGrade &gt; 4.00 || numGrade &lt; 0) {\n            letterGrade = &quot;N&quot;;\n        }\n        else if (numGrade &gt;= 3.85 &amp;&amp; numGrade &lt;= 4.0 )\n        {\n            letterGrade = &quot;A+&quot;;\n        }\n        else if (numGrade &gt;= 3.5 &amp;&amp; numGrade &lt; 3.85 )\n        {\n            letterGrade = &quot;A&quot;;\n        }\n        else if (numGrade  &gt;= 3.333 &amp;&amp; numGrade &lt; 3.5 )\n        {\n            letterGrade = &quot;A-&quot;;\n        }\n        else if (numGrade &gt;= 3.0 &amp;&amp; numGrade &lt; 3.333 )\n        {\n            letterGrade = &quot;B+&quot;;\n        }\n        else if (numGrade &gt;= 2.667 &amp;&amp; numGrade &lt; 3.0 )\n        {\n            letterGrade = &quot;B&quot;;\n        }\n        else if (numGrade &gt;= 2.333 &amp;&amp; numGrade &lt; 2.667 )\n        {\n            letterGrade = &quot;B-&quot;;\n        }\n        else if (numGrade &gt;= 2.0 &amp;&amp; numGrade &lt; 2.333 )\n        {\n            letterGrade = &quot;C+&quot;;\n        }\n        else if (numGrade &gt;= 1.667 &amp;&amp; numGrade &lt; 2.0 )\n        {\n            letterGrade = &quot;C&quot;;\n        }\n        else if (numGrade &gt;= 1.333 &amp;&amp; numGrade &lt; 1.667 )\n        {\n            letterGrade = &quot;C-&quot;;\n        }\n        else if (numGrade &gt;= 1.0 &amp;&amp; numGrade &lt; 1.333 )\n        {\n            letterGrade = &quot;D+&quot;;\n        }\n        else if (numGrade  &gt; 0 &amp;&amp; numGrade &lt; 1.0 )\n        {\n            letterGrade = &quot;D&quot;;\n        }\n        else        {\n            letterGrade = &quot;F&quot;;\n        }\n\n        if (letterGrade.equalsIgnoreCase(&quot;N&quot;)){\n            System.out.println(numGrade + &quot; is not a valid grade&quot; + letterGrade);\n        }\n        else{\n            System.out.println(&quot;Your grade is &quot;  +  letterGrade);\n        }\n    }\n\n    public static void main(String[] args) {\n\n        /**\n         * Prints letter grade from GPA\n         * @return letterGrade\n         */\n        getNumericGrade();\n    }\n} \n</code></pre>\n"},{"tags":["java","json","string","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1428408812,"post_id":29491281,"comment_id":47141634,"body_markdown":"It would *really* help if you&#39;d show us this in a short but complete program demonstrating the problem... (Code, expected output, actual output.)","body":"It would <i>really</i> help if you&#39;d show us this in a short but complete program demonstrating the problem... (Code, expected output, actual output.)"},{"owner":{"account_id":3899650,"reputation":1514,"user_id":3227787,"display_name":"Bruno Toffolo"},"score":0,"creation_date":1428408819,"post_id":29491281,"comment_id":47141640,"body_markdown":"You can add an element `order` to each JSON object so you are able to track the string ordering after receiving and parsing the JSON.","body":"You can add an element <code>order</code> to each JSON object so you are able to track the string ordering after receiving and parsing the JSON."},{"owner":{"account_id":2361286,"reputation":3664,"user_id":2067919,"accept_rate":76,"display_name":"Karthic Rao"},"score":0,"creation_date":1428409438,"post_id":29491281,"comment_id":47142038,"body_markdown":"@JonSkeet: I have edited the question now ..Hope this is clear enough .","body":"@JonSkeet: I have edited the question now ..Hope this is clear enough ."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428409574,"post_id":29491281,"comment_id":47142135,"body_markdown":"Hmm. The output on my machine is just `{}` - but then it didn&#39;t compile to start with anyway. Please update the question with *actual* code you&#39;ve compiled and run...","body":"Hmm. The output on my machine is just <code>{}</code> - but then it didn&#39;t compile to start with anyway. Please update the question with <i>actual</i> code you&#39;ve compiled and run..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428409638,"post_id":29491281,"comment_id":47142171,"body_markdown":"@MrPolywhirl: I&#39;ve rolled back to revision 4 as although the text may not be as good, it at least includes a (flawed) example...","body":"@MrPolywhirl: I&#39;ve rolled back to revision 4 as although the text may not be as good, it at least includes a (flawed) example..."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1428409907,"post_id":29491281,"comment_id":47142368,"body_markdown":"@KarthicRao: I have heard that Gson may keep your ordering when converting to a String. Check it out, it was made by Google, so you know it works ;-)","body":"@KarthicRao: I have heard that Gson may keep your ordering when converting to a String. Check it out, it was made by Google, so you know it works ;-)"},{"owner":{"account_id":2361286,"reputation":3664,"user_id":2067919,"accept_rate":76,"display_name":"Karthic Rao"},"score":0,"creation_date":1428410655,"post_id":29491281,"comment_id":47142873,"body_markdown":"@JonSkeet: I believe my intent is clear atleast now with the edited piece of code !","body":"@JonSkeet: I believe my intent is clear atleast now with the edited piece of code !"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428410722,"post_id":29491281,"comment_id":47142911,"body_markdown":"Yes, but the code you&#39;ve given doesn&#39;t give the output you&#39;ve reported - at least for me. Will try downloading a later version of the JSON library...","body":"Yes, but the code you&#39;ve given doesn&#39;t give the output you&#39;ve reported - at least for me. Will try downloading a later version of the JSON library..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428410906,"post_id":29491281,"comment_id":47143028,"body_markdown":"Ah - if you change it to a `Map&lt;String, Object&gt;` *then* the output is right...","body":"Ah - if you change it to a <code>Map&lt;String, Object&gt;</code> <i>then</i> the output is right..."},{"owner":{"account_id":2361286,"reputation":3664,"user_id":2067919,"accept_rate":76,"display_name":"Karthic Rao"},"score":0,"creation_date":1428411067,"post_id":29491281,"comment_id":47143134,"body_markdown":"@JonSkeet: You can generalize this question to be &quot;How to obtain a JSON string from a LinkedHashMap where the order of the LinkedHashMap is maintained in the Json string &quot;","body":"@JonSkeet: You can generalize this question to be &quot;How to obtain a JSON string from a LinkedHashMap where the order of the LinkedHashMap is maintained in the Json string &quot;"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1428411107,"post_id":29491281,"comment_id":47143159,"body_markdown":"My point is that you should be providing sample code which actually produces the output you claim it does.","body":"My point is that you should be providing sample code which actually produces the output you claim it does."}],"answers":[{"tags":[],"owner":{"account_id":4991904,"reputation":1738,"user_id":4013828,"display_name":"Angad Tiwari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1428409825,"creation_date":1428409825,"answer_id":29491637,"question_id":29491281,"body_markdown":"Create JsonArray for Ordered Pair...\r\n\r\n    JSONArray orderedJson=new JSONArray();\r\n    Iterator iterator= ;\r\n        while (iterator.hasNext()) {\r\n            Map.Entry me = (Map.Entry)iteratornext();\r\n            System.out.print(me.getKey() + &quot;: &quot;);\r\n            System.out.println(me.getValue());\r\n            JSONObject tmpJson=new JSONObject ();\r\n            tmpJson.put(me.getKey(),me.getValue());//add key/value to tmpjson\r\n            orderedJson.add(tmpJson);//add tmpjson to orderedJson\r\n        }","title":"Building ordered JSON String from LinkedHashMap","body":"<p>Create JsonArray for Ordered Pair...</p>\n\n<pre><code>JSONArray orderedJson=new JSONArray();\nIterator iterator= ;\n    while (iterator.hasNext()) {\n        Map.Entry me = (Map.Entry)iteratornext();\n        System.out.print(me.getKey() + \": \");\n        System.out.println(me.getValue());\n        JSONObject tmpJson=new JSONObject ();\n        tmpJson.put(me.getKey(),me.getValue());//add key/value to tmpjson\n        orderedJson.add(tmpJson);//add tmpjson to orderedJson\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2357177,"reputation":308,"user_id":2064739,"display_name":"Subbu"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428410247,"creation_date":1428410247,"answer_id":29491789,"question_id":29491281,"body_markdown":"JSON not taking insertion order due to linkedhashmap params both are string. Is it fine to change first param as Integer like below mentioned code:\r\n\r\n    Map&lt;Integer,String &gt; myLinkedHashMap =  new LinkedHashMap&lt;&gt;();\r\n        \t\tmyLinkedHashMap.put(1,&quot;first&quot;);\r\n        \t\tmyLinkedHashMap.put(2,&quot;second&quot;);\r\n        \t\tmyLinkedHashMap.put(3,&quot;third&quot;);\r\n        \t\t\r\n        \t\tSystem.out.println(myLinkedHashMap);\r\n        \t\tJSONObject json = new JSONObject(myLinkedHashMap);\r\n        \t\tSystem.out.println(json.toString());","title":"Building ordered JSON String from LinkedHashMap","body":"<p>JSON not taking insertion order due to linkedhashmap params both are string. Is it fine to change first param as Integer like below mentioned code:</p>\n\n<pre><code>Map&lt;Integer,String &gt; myLinkedHashMap =  new LinkedHashMap&lt;&gt;();\n            myLinkedHashMap.put(1,\"first\");\n            myLinkedHashMap.put(2,\"second\");\n            myLinkedHashMap.put(3,\"third\");\n\n            System.out.println(myLinkedHashMap);\n            JSONObject json = new JSONObject(myLinkedHashMap);\n            System.out.println(json.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1552388423,"creation_date":1428410560,"answer_id":29491895,"question_id":29491281,"body_markdown":"[***Gson***][1] if your friend. This will print the ordered map into an ordered JSON string.\r\n\r\nIf you want to preserve insertion order, use a `LinkedHashMap`.\r\n\r\nI used the latest version of Gson (2.8.5), you can can download it via the following options at the bottom of this post.\r\n\r\n    import java.util.*;\r\n    import com.google.gson.Gson;\r\n    \r\n    public class OrderedJson {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create a new ordered map.\r\n    \t\tMap&lt;String,String&gt; myLinkedHashMap = new LinkedHashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \t\t// Add items, in-order, to the map.\r\n    \t\tmyLinkedHashMap.put(&quot;1&quot;, &quot;first&quot;);\r\n    \t\tmyLinkedHashMap.put(&quot;2&quot;, &quot;second&quot;);\r\n    \t\tmyLinkedHashMap.put(&quot;3&quot;, &quot;third&quot;);\r\n    \r\n    \t\t// Instantiate a new Gson instance.\r\n    \t\tGson gson = new Gson();\r\n    \t\t\r\n    \t\t// Convert the ordered map into an ordered string.\r\n    \t\tString json = gson.toJson(myLinkedHashMap, LinkedHashMap.class);\r\n    \t\t\r\n    \t\t// Print ordered string.\r\n    \t\tSystem.out.println(json); // {&quot;1&quot;:&quot;first&quot;,&quot;2&quot;:&quot;second&quot;,&quot;3&quot;:&quot;third&quot;}\r\n    \t}\r\n    }\r\n\r\nIf you want the items to always be inserted at the right place, use a `TreeMap` instead.\r\n\r\n    import java.util.*;\r\n    import com.google.gson.Gson;\r\n    \r\n    public class OrderedJson {\r\n        public static void main(String[] args) {\r\n            // Create a new ordered map.\r\n            Map&lt;String,String&gt; myTreeHashMap = new TreeMap&lt;String, String&gt;();\r\n    \r\n            // Add items, in any order, to the map.\r\n            myTreeHashMap.put(&quot;3&quot;, &quot;third&quot;);\r\n            myTreeHashMap.put(&quot;1&quot;, &quot;first&quot;);\r\n            myTreeHashMap.put(&quot;2&quot;, &quot;second&quot;);\r\n    \r\n            // Instantiate a new Gson instance.\r\n            Gson gson = new Gson();\r\n    \r\n            // Convert the ordered map into an ordered string.\r\n            String json = gson.toJson(myTreeHashMap, TreeMap.class);\r\n    \r\n            // Print ordered string.\r\n            System.out.println(json); // {&quot;1&quot;:&quot;first&quot;,&quot;2&quot;:&quot;second&quot;,&quot;3&quot;:&quot;third&quot;}\r\n        }\r\n    }\r\n\r\n## Dependency Options\r\n\r\n### Maven\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n### Gradle\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    compile &#39;com.google.code.gson:gson:2.8.5&#39;\r\n\r\nOr you can visit [Maven Central][2] for more download options.\r\n\r\n  [1]: https://code.google.com/p/google-gson/\r\n  [2]: http://search.maven.org/#artifactdetails%7Ccom.google.code.gson%7Cgson%7C2.3.1%7Cjar","title":"Building ordered JSON String from LinkedHashMap","body":"<p><a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\"><strong><em>Gson</em></strong></a> if your friend. This will print the ordered map into an ordered JSON string.</p>\n\n<p>If you want to preserve insertion order, use a <code>LinkedHashMap</code>.</p>\n\n<p>I used the latest version of Gson (2.8.5), you can can download it via the following options at the bottom of this post.</p>\n\n<pre><code>import java.util.*;\nimport com.google.gson.Gson;\n\npublic class OrderedJson {\n    public static void main(String[] args) {\n        // Create a new ordered map.\n        Map&lt;String,String&gt; myLinkedHashMap = new LinkedHashMap&lt;String, String&gt;();\n\n        // Add items, in-order, to the map.\n        myLinkedHashMap.put(\"1\", \"first\");\n        myLinkedHashMap.put(\"2\", \"second\");\n        myLinkedHashMap.put(\"3\", \"third\");\n\n        // Instantiate a new Gson instance.\n        Gson gson = new Gson();\n\n        // Convert the ordered map into an ordered string.\n        String json = gson.toJson(myLinkedHashMap, LinkedHashMap.class);\n\n        // Print ordered string.\n        System.out.println(json); // {\"1\":\"first\",\"2\":\"second\",\"3\":\"third\"}\n    }\n}\n</code></pre>\n\n<p>If you want the items to always be inserted at the right place, use a <code>TreeMap</code> instead.</p>\n\n<pre><code>import java.util.*;\nimport com.google.gson.Gson;\n\npublic class OrderedJson {\n    public static void main(String[] args) {\n        // Create a new ordered map.\n        Map&lt;String,String&gt; myTreeHashMap = new TreeMap&lt;String, String&gt;();\n\n        // Add items, in any order, to the map.\n        myTreeHashMap.put(\"3\", \"third\");\n        myTreeHashMap.put(\"1\", \"first\");\n        myTreeHashMap.put(\"2\", \"second\");\n\n        // Instantiate a new Gson instance.\n        Gson gson = new Gson();\n\n        // Convert the ordered map into an ordered string.\n        String json = gson.toJson(myTreeHashMap, TreeMap.class);\n\n        // Print ordered string.\n        System.out.println(json); // {\"1\":\"first\",\"2\":\"second\",\"3\":\"third\"}\n    }\n}\n</code></pre>\n\n<h2>Dependency Options</h2>\n\n<h3>Maven</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h3>Gradle</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>compile 'com.google.code.gson:gson:2.8.5'\n</code></pre>\n\n<p>Or you can visit <a href=\"http://search.maven.org/#artifactdetails%7Ccom.google.code.gson%7Cgson%7C2.3.1%7Cjar\" rel=\"noreferrer\">Maven Central</a> for more download options.</p>\n"},{"tags":[],"owner":{"account_id":1297830,"reputation":3399,"user_id":1248436,"accept_rate":76,"display_name":"mtyurt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428410854,"creation_date":1428410854,"answer_id":29492005,"question_id":29491281,"body_markdown":"To sort alphabetically, here is the proper way with Jackson 2.*:\r\n\r\n    Map&lt;String, String&gt; myLinkedHashMap = new LinkedHashMap&lt;String, String&gt;();\r\n    myLinkedHashMap.put(&quot;1&quot;, &quot;first&quot;);\r\n    myLinkedHashMap.put(&quot;2&quot;, &quot;second&quot;);\r\n    myLinkedHashMap.put(&quot;3&quot;, &quot;third&quot;);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\r\n\r\n    try {\r\n        System.out.println(mapper.writeValueAsString(myLinkedHashMap));\r\n        //prints {&quot;1&quot;:&quot;first&quot;,&quot;2&quot;:&quot;second&quot;,&quot;3&quot;:&quot;third&quot;}\r\n    } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n    }","title":"Building ordered JSON String from LinkedHashMap","body":"<p>To sort alphabetically, here is the proper way with Jackson 2.*:</p>\n\n<pre><code>Map&lt;String, String&gt; myLinkedHashMap = new LinkedHashMap&lt;String, String&gt;();\nmyLinkedHashMap.put(\"1\", \"first\");\nmyLinkedHashMap.put(\"2\", \"second\");\nmyLinkedHashMap.put(\"3\", \"third\");\n\nObjectMapper mapper = new ObjectMapper();\nmapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\n\ntry {\n    System.out.println(mapper.writeValueAsString(myLinkedHashMap));\n    //prints {\"1\":\"first\",\"2\":\"second\",\"3\":\"third\"}\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525719620,"creation_date":1525717903,"answer_id":50220437,"question_id":29491281,"body_markdown":"`JSONObject` implies use of `org.json` library. Don&#39;t do that; it is old prototype and there are better options like Jackson and GSON.\r\nWith Jackson you would just use:\r\n\r\n    String json = new ObjectMapper().writeValueAsString(myLinkedHashMap);\r\n\r\nand get JSON string with entries in whatever traversal order your Map uses.\r\n\r\n\r\n","title":"Building ordered JSON String from LinkedHashMap","body":"<p><code>JSONObject</code> implies use of <code>org.json</code> library. Don't do that; it is old prototype and there are better options like Jackson and GSON.\nWith Jackson you would just use:</p>\n\n<pre><code>String json = new ObjectMapper().writeValueAsString(myLinkedHashMap);\n</code></pre>\n\n<p>and get JSON string with entries in whatever traversal order your Map uses.</p>\n"},{"tags":[],"owner":{"account_id":13721891,"reputation":1,"user_id":10915298,"display_name":"Кирилл Герасимов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547532353,"creation_date":1547532353,"answer_id":54193495,"question_id":29491281,"body_markdown":"I ran into the same problem. I had to use this particular library, and the first element must be with the key &quot;$type&quot;. \r\nHere is my decision:\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    \r\n    class TypedJSONObject extends JSONObject {\r\n    \r\n        private static final String KEY = &quot;$type&quot;;\r\n    \r\n        @Override\r\n        public Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet() {\r\n            Set&lt;Map.Entry&lt;String, Object&gt;&gt; superSet = super.entrySet();\r\n            Set&lt;Map.Entry&lt;String, Object&gt;&gt; returnSet = new LinkedHashSet&lt;&gt;();\r\n    \r\n            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;String, Object&gt; entry : superSet) {\r\n                if (entry.getKey().equals(KEY)) {\r\n                    map.put(KEY, entry.getValue());\r\n                    break;\r\n                }\r\n            }\r\n            Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();\r\n    \r\n            returnSet.addAll(entries);\r\n            returnSet.addAll(superSet);\r\n    \r\n            return returnSet;\r\n        }\r\n    }\r\n\r\nAs you see I overrite method entrySet, that used in method toString\r\n","title":"Building ordered JSON String from LinkedHashMap","body":"<p>I ran into the same problem. I had to use this particular library, and the first element must be with the key \"$type\". \nHere is my decision:</p>\n\n<pre><code>import org.json.JSONObject;\n\nimport java.util.HashMap;\nimport java.util.LinkedHashSet;\nimport java.util.Map;\nimport java.util.Set;\n\n\nclass TypedJSONObject extends JSONObject {\n\n    private static final String KEY = \"$type\";\n\n    @Override\n    public Set&lt;Map.Entry&lt;String, Object&gt;&gt; entrySet() {\n        Set&lt;Map.Entry&lt;String, Object&gt;&gt; superSet = super.entrySet();\n        Set&lt;Map.Entry&lt;String, Object&gt;&gt; returnSet = new LinkedHashSet&lt;&gt;();\n\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, Object&gt; entry : superSet) {\n            if (entry.getKey().equals(KEY)) {\n                map.put(KEY, entry.getValue());\n                break;\n            }\n        }\n        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();\n\n        returnSet.addAll(entries);\n        returnSet.addAll(superSet);\n\n        return returnSet;\n    }\n}\n</code></pre>\n\n<p>As you see I overrite method entrySet, that used in method toString</p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641591976,"creation_date":1641591976,"answer_id":70627517,"question_id":29491281,"body_markdown":"i created a hacky solution, which should not be used for production, i just use it to manualy generate json files\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.LinkedHashMap;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class SortedJSONObject extends JSONObject {\r\n    \r\n    \tpublic SortedJSONObject() {\r\n    \t\tsuper();\r\n    \t\ttry {\r\n    \t\t\tField mapField = JSONObject.class.getDeclaredField(&quot;map&quot;);\r\n    \t\t\tmapField.setAccessible(true);\r\n    \t\t\tmapField.set(this, new LinkedHashMap());\r\n    \t\t\tmapField.setAccessible(false);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Building ordered JSON String from LinkedHashMap","body":"<p>i created a hacky solution, which should not be used for production, i just use it to manualy generate json files</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.util.LinkedHashMap;\n\nimport org.json.JSONObject;\n\npublic class SortedJSONObject extends JSONObject {\n\n    public SortedJSONObject() {\n        super();\n        try {\n            Field mapField = JSONObject.class.getDeclaredField(&quot;map&quot;);\n            mapField.setAccessible(true);\n            mapField.set(this, new LinkedHashMap());\n            mapField.setAccessible(false);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2361286,"reputation":3664,"user_id":2067919,"accept_rate":76,"display_name":"Karthic Rao"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48875,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":29491895,"answer_count":7,"score":13,"last_activity_date":1641591976,"creation_date":1428408686,"question_id":29491281,"body_markdown":"I had a need for having Key/Value pairs in the order of my insertion, so I opted to use `LinkedHashMap` over `HashMap`. But I need to convert the `LinkedHashMap` into a JSON String where the order in the `LinkedHashMap` is maintained in the string.\r\n\r\nBut currently I&#39;m achieving it by: \r\n\r\n1. First converting the LinkedHashMap into JSON.\r\n2. Then converting the JSON into a string.\r\n    \r\n        import java.util.LinkedHashMap;\r\n        import java.util.Map;\r\n\r\n        import org.json.JSONObject;\r\n\r\n        public class cdf {\r\n\t        public static void main(String[] args) {\r\n\t\t        Map&lt;String,String &gt; myLinkedHashMap =  new LinkedHashMap&lt;String, String&gt;();\r\n\t\t        myLinkedHashMap.put(&quot;1&quot;,&quot;first&quot;);\r\n\t\t        myLinkedHashMap.put(&quot;2&quot;,&quot;second&quot;);\r\n\t\t        myLinkedHashMap.put(&quot;3&quot;,&quot;third&quot;);\r\n\r\n\t\t        JSONObject json = new JSONObject(myLinkedHashMap);\r\n\t\t        System.out.println(json.toString());\r\n\t        }\r\n        }\r\n\r\nThe output is:\r\n    \r\n    {&quot;3&quot;:&quot;third&quot;,&quot;2&quot;:&quot;second&quot;,&quot;1&quot;:&quot;first&quot;} . \r\n\r\nBut I want it in the order of insertion of the keys, like this:\r\n\r\n    {&quot;1&quot;:&quot;first&quot;,&quot;2&quot;:&quot;second&quot;,&quot;3&quot;:&quot;third&quot;}\r\n \r\nOnce I convert the `LinkedHashMap` into a JSON it loses it order (it&#39;s obvious that JSON doesn&#39;t have the notion of order) and hence the string too is out of order. Now, how do I generate a JSON string whose order is same as the `LinkedHashMap`?","title":"Building ordered JSON String from LinkedHashMap","body":"<p>I had a need for having Key/Value pairs in the order of my insertion, so I opted to use <code>LinkedHashMap</code> over <code>HashMap</code>. But I need to convert the <code>LinkedHashMap</code> into a JSON String where the order in the <code>LinkedHashMap</code> is maintained in the string.</p>\n\n<p>But currently I'm achieving it by: </p>\n\n<ol>\n<li>First converting the LinkedHashMap into JSON.</li>\n<li><p>Then converting the JSON into a string.</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport org.json.JSONObject;\n\npublic class cdf {\n    public static void main(String[] args) {\n        Map&lt;String,String &gt; myLinkedHashMap =  new LinkedHashMap&lt;String, String&gt;();\n        myLinkedHashMap.put(\"1\",\"first\");\n        myLinkedHashMap.put(\"2\",\"second\");\n        myLinkedHashMap.put(\"3\",\"third\");\n\n        JSONObject json = new JSONObject(myLinkedHashMap);\n        System.out.println(json.toString());\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>The output is:</p>\n\n<pre><code>{\"3\":\"third\",\"2\":\"second\",\"1\":\"first\"} . \n</code></pre>\n\n<p>But I want it in the order of insertion of the keys, like this:</p>\n\n<pre><code>{\"1\":\"first\",\"2\":\"second\",\"3\":\"third\"}\n</code></pre>\n\n<p>Once I convert the <code>LinkedHashMap</code> into a JSON it loses it order (it's obvious that JSON doesn't have the notion of order) and hence the string too is out of order. Now, how do I generate a JSON string whose order is same as the <code>LinkedHashMap</code>?</p>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1641508870,"post_id":70613203,"comment_id":124829375,"body_markdown":"I would say you have no other option than using a custom deserializer (take https://github.com/FasterXML/jackson-databind/issues/374 as reference).","body":"I would say you have no other option than using a custom deserializer (take <a href=\"https://github.com/FasterXML/jackson-databind/issues/374\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/374</a> as reference)."},{"owner":{"account_id":1210677,"reputation":418,"user_id":1179274,"accept_rate":48,"display_name":"Kyore"},"score":0,"creation_date":1641584053,"post_id":70613203,"comment_id":124851145,"body_markdown":"Yeah, I imagined some like a custom deserializer, but I couldn&#39;t find a way to call the &quot;default deserializer&quot; so I could use the JsonTypes notations to find which custom Data class it would use. When I set a custom deserialize, I have access to the JsonParser and the Context, I could do a jasonParser.getvalue(&quot;org&quot;) to check if it&#39;s &quot;Company1&quot; or &quot;Company2&quot;, but I don&#39;t know how to call the `Company1Data` or `Company2Data` deserialization so it would check the JsonTypes","body":"Yeah, I imagined some like a custom deserializer, but I couldn&#39;t find a way to call the &quot;default deserializer&quot; so I could use the JsonTypes notations to find which custom Data class it would use. When I set a custom deserialize, I have access to the JsonParser and the Context, I could do a jasonParser.getvalue(&quot;org&quot;) to check if it&#39;s &quot;Company1&quot; or &quot;Company2&quot;, but I don&#39;t know how to call the <code>Company1Data</code> or <code>Company2Data</code> deserialization so it would check the JsonTypes"}],"answers":[{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641591946,"creation_date":1641591946,"answer_id":70627514,"question_id":70613203,"body_markdown":"Interesting problem. It can be solved by using two semi-separate inheritance hierarchies: one for the `Event` and one for the `EventData`.\r\n```kotlin\r\nimport com.fasterxml.jackson.annotation.JsonSubTypes\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo\r\nimport com.fasterxml.jackson.core.type.TypeReference\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\r\nimport org.assertj.core.api.Assertions\r\nimport org.junit.jupiter.api.Test\r\n\r\n@JsonTypeInfo(\r\n    use = JsonTypeInfo.Id.NAME,\r\n    include = JsonTypeInfo.As.EXISTING_PROPERTY,\r\n    property = &quot;event_type&quot;,\r\n    visible = false\r\n)\r\n@JsonSubTypes(\r\n    JsonSubTypes.Type(value = RegisterEvent::class, name = &quot;REGISTER&quot;),\r\n    JsonSubTypes.Type(value = DeleteEvent::class, name = &quot;DELETE&quot;)\r\n)\r\ninterface Event&lt;T : EventData&gt; {\r\n    val org: String\r\n    val event_type: String\r\n    val day: String\r\n    val data: T\r\n}\r\n\r\ndata class RegisterEvent(\r\n    override val org: String,\r\n    override val day: String,\r\n    @JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\r\n        property = &quot;org&quot;\r\n    )\r\n    @JsonSubTypes(\r\n        JsonSubTypes.Type(value = Cmp1RegisterEventData::class, name = &quot;Company1&quot;),\r\n        JsonSubTypes.Type(value = Cmp2RegisterEventData::class, name = &quot;Company2&quot;)\r\n    )\r\n    override val data: RegisterEventData\r\n) : Event&lt;RegisterEventData&gt; {\r\n    override val event_type = &quot;REGISTER&quot;\r\n}\r\n\r\ndata class DeleteEvent(\r\n    override val org: String,\r\n    override val day: String,\r\n    @JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\r\n        property = &quot;org&quot;\r\n    )\r\n    @JsonSubTypes(\r\n        JsonSubTypes.Type(value = Cmp2DeleteEventData::class, name = &quot;Company2&quot;)\r\n    )\r\n    override val data: DeleteEventData\r\n) : Event&lt;DeleteEventData&gt; {\r\n    override val event_type = &quot;DELETE&quot;\r\n}\r\n\r\ninterface EventData {\r\n    fun validate() {\r\n        System.out.printf(&quot;Validating %s\\n&quot;, this.javaClass)\r\n    }\r\n}\r\n\r\ninterface DeleteEventData : EventData\r\n\r\ndata class Cmp2DeleteEventData(\r\n    val id: String,\r\n    val reason: String\r\n) : DeleteEventData\r\n\r\ninterface RegisterEventData : EventData\r\n\r\ndata class Cmp1RegisterEventData(\r\n    val name: String,\r\n    val age: Int\r\n) : RegisterEventData {\r\n    override fun validate() {\r\n        System.out.printf(&quot;Custom validator for %s\\n&quot;, this.javaClass)\r\n    }\r\n}\r\n\r\ndata class Cmp2RegisterEventData(\r\n    val name: String,\r\n    val age: Int,\r\n    val lastName: String\r\n) : RegisterEventData {\r\n    override fun validate() {\r\n        System.out.printf(&quot;Another custom validator for %s\\n&quot;, this.javaClass)\r\n    }\r\n}\r\n\r\nclass EventTest {\r\n\r\n    @Test\r\n    fun test() {\r\n\r\n        val json = &quot;&quot;&quot;\r\n        [\r\n            {\r\n              &quot;org&quot;: &quot;Company1&quot;,\r\n              &quot;event_type&quot;: &quot;REGISTER&quot;,\r\n              &quot;day&quot;: &quot;2021-01-01&quot;,\r\n              &quot;data&quot;: {\r\n                &quot;name&quot;: &quot;Kyore&quot;,\r\n                &quot;age&quot;: 10\r\n              }\r\n            },\r\n            {\r\n              &quot;org&quot;: &quot;Company2&quot;,\r\n              &quot;event_type&quot;: &quot;REGISTER&quot;,\r\n              &quot;day&quot;: &quot;2021-01-01&quot;,\r\n              &quot;data&quot;: {\r\n                &quot;name&quot;: &quot;Casky&quot;,\r\n                &quot;age&quot;: 12,\r\n                &quot;lastName&quot;: &quot;Kyky&quot;\r\n              }\r\n            },\r\n            {\r\n              &quot;org&quot;: &quot;Company2&quot;,\r\n              &quot;event_type&quot;: &quot;DELETE&quot;,\r\n              &quot;day&quot;: &quot;2021-01-01&quot;,\r\n              &quot;data&quot;: {\r\n                &quot;id&quot;: &quot;1234-1234-1234&quot;,\r\n                &quot;reason&quot;: &quot;user requested&quot;\r\n              }\r\n            }\r\n        ]\r\n    &quot;&quot;&quot;.trimIndent()\r\n\r\n        val objectMapper = ObjectMapper().registerModule(KotlinModule())\r\n        val events: List&lt;Event&lt;*&gt;&gt; = objectMapper.readValue(json, object : TypeReference&lt;List&lt;Event&lt;*&gt;&gt;&gt;() {})\r\n\r\n        Assertions.assertThat(events).containsExactly(\r\n            RegisterEvent(\r\n                &quot;Company1&quot;,\r\n                &quot;2021-01-01&quot;,\r\n                Cmp1RegisterEventData(&quot;Kyore&quot;, 10)\r\n            ),\r\n            RegisterEvent(\r\n                &quot;Company2&quot;,\r\n                &quot;2021-01-01&quot;,\r\n                Cmp2RegisterEventData(&quot;Casky&quot;, 12, &quot;Kyky&quot;)\r\n            ),\r\n            DeleteEvent(\r\n                &quot;Company2&quot;,\r\n                &quot;2021-01-01&quot;,\r\n                Cmp2DeleteEventData(&quot;1234-1234-1234&quot;, &quot;user requested&quot;)\r\n            )\r\n        )\r\n\r\n        events.forEach { it.data.validate() }\r\n    }\r\n}\r\n```","title":"How to polymorphically deserialize a class based in two properties?","body":"<p>Interesting problem. It can be solved by using two semi-separate inheritance hierarchies: one for the <code>Event</code> and one for the <code>EventData</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonSubTypes\nimport com.fasterxml.jackson.annotation.JsonTypeInfo\nimport com.fasterxml.jackson.core.type.TypeReference\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\nimport org.assertj.core.api.Assertions\nimport org.junit.jupiter.api.Test\n\n@JsonTypeInfo(\n    use = JsonTypeInfo.Id.NAME,\n    include = JsonTypeInfo.As.EXISTING_PROPERTY,\n    property = &quot;event_type&quot;,\n    visible = false\n)\n@JsonSubTypes(\n    JsonSubTypes.Type(value = RegisterEvent::class, name = &quot;REGISTER&quot;),\n    JsonSubTypes.Type(value = DeleteEvent::class, name = &quot;DELETE&quot;)\n)\ninterface Event&lt;T : EventData&gt; {\n    val org: String\n    val event_type: String\n    val day: String\n    val data: T\n}\n\ndata class RegisterEvent(\n    override val org: String,\n    override val day: String,\n    @JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n        property = &quot;org&quot;\n    )\n    @JsonSubTypes(\n        JsonSubTypes.Type(value = Cmp1RegisterEventData::class, name = &quot;Company1&quot;),\n        JsonSubTypes.Type(value = Cmp2RegisterEventData::class, name = &quot;Company2&quot;)\n    )\n    override val data: RegisterEventData\n) : Event&lt;RegisterEventData&gt; {\n    override val event_type = &quot;REGISTER&quot;\n}\n\ndata class DeleteEvent(\n    override val org: String,\n    override val day: String,\n    @JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n        property = &quot;org&quot;\n    )\n    @JsonSubTypes(\n        JsonSubTypes.Type(value = Cmp2DeleteEventData::class, name = &quot;Company2&quot;)\n    )\n    override val data: DeleteEventData\n) : Event&lt;DeleteEventData&gt; {\n    override val event_type = &quot;DELETE&quot;\n}\n\ninterface EventData {\n    fun validate() {\n        System.out.printf(&quot;Validating %s\\n&quot;, this.javaClass)\n    }\n}\n\ninterface DeleteEventData : EventData\n\ndata class Cmp2DeleteEventData(\n    val id: String,\n    val reason: String\n) : DeleteEventData\n\ninterface RegisterEventData : EventData\n\ndata class Cmp1RegisterEventData(\n    val name: String,\n    val age: Int\n) : RegisterEventData {\n    override fun validate() {\n        System.out.printf(&quot;Custom validator for %s\\n&quot;, this.javaClass)\n    }\n}\n\ndata class Cmp2RegisterEventData(\n    val name: String,\n    val age: Int,\n    val lastName: String\n) : RegisterEventData {\n    override fun validate() {\n        System.out.printf(&quot;Another custom validator for %s\\n&quot;, this.javaClass)\n    }\n}\n\nclass EventTest {\n\n    @Test\n    fun test() {\n\n        val json = &quot;&quot;&quot;\n        [\n            {\n              &quot;org&quot;: &quot;Company1&quot;,\n              &quot;event_type&quot;: &quot;REGISTER&quot;,\n              &quot;day&quot;: &quot;2021-01-01&quot;,\n              &quot;data&quot;: {\n                &quot;name&quot;: &quot;Kyore&quot;,\n                &quot;age&quot;: 10\n              }\n            },\n            {\n              &quot;org&quot;: &quot;Company2&quot;,\n              &quot;event_type&quot;: &quot;REGISTER&quot;,\n              &quot;day&quot;: &quot;2021-01-01&quot;,\n              &quot;data&quot;: {\n                &quot;name&quot;: &quot;Casky&quot;,\n                &quot;age&quot;: 12,\n                &quot;lastName&quot;: &quot;Kyky&quot;\n              }\n            },\n            {\n              &quot;org&quot;: &quot;Company2&quot;,\n              &quot;event_type&quot;: &quot;DELETE&quot;,\n              &quot;day&quot;: &quot;2021-01-01&quot;,\n              &quot;data&quot;: {\n                &quot;id&quot;: &quot;1234-1234-1234&quot;,\n                &quot;reason&quot;: &quot;user requested&quot;\n              }\n            }\n        ]\n    &quot;&quot;&quot;.trimIndent()\n\n        val objectMapper = ObjectMapper().registerModule(KotlinModule())\n        val events: List&lt;Event&lt;*&gt;&gt; = objectMapper.readValue(json, object : TypeReference&lt;List&lt;Event&lt;*&gt;&gt;&gt;() {})\n\n        Assertions.assertThat(events).containsExactly(\n            RegisterEvent(\n                &quot;Company1&quot;,\n                &quot;2021-01-01&quot;,\n                Cmp1RegisterEventData(&quot;Kyore&quot;, 10)\n            ),\n            RegisterEvent(\n                &quot;Company2&quot;,\n                &quot;2021-01-01&quot;,\n                Cmp2RegisterEventData(&quot;Casky&quot;, 12, &quot;Kyky&quot;)\n            ),\n            DeleteEvent(\n                &quot;Company2&quot;,\n                &quot;2021-01-01&quot;,\n                Cmp2DeleteEventData(&quot;1234-1234-1234&quot;, &quot;user requested&quot;)\n            )\n        )\n\n        events.forEach { it.data.validate() }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1210677,"reputation":418,"user_id":1179274,"accept_rate":48,"display_name":"Kyore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641591946,"creation_date":1641500573,"question_id":70613203,"body_markdown":"I&#39;m having problems trying to deserialize from json string into the correct object since I have to check 2 properties before deserialize to the correct class, i.e.:\r\n\r\n    {\r\n      &quot;org&quot;: &quot;Company1&quot;,\r\n      &quot;event_type&quot;: &quot;REGISTER&quot;,\r\n      &quot;day&quot;: &quot;2021-01-01&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;name&quot;: &quot;Kyore&quot;,\r\n        &quot;age&quot;: 10\r\n      }\r\n    },\r\n    {\r\n      &quot;org&quot;: &quot;Company2&quot;,\r\n      &quot;event_type&quot;: &quot;REGISTER&quot;,\r\n      &quot;day&quot;: &quot;2021-01-01&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;name&quot;: &quot;Casky&quot;,\r\n        &quot;age&quot;: 12,\r\n        &quot;lastName&quot;: &quot;Kyky&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;org&quot;: &quot;Company2&quot;,\r\n      &quot;event_type&quot;: &quot;DELETE&quot;,\r\n      &quot;day&quot;: &quot;2021-01-01&quot;,\r\n      &quot;data&quot;: {\r\n        &quot;id&quot;: &quot;1234-1234-1234&quot;,\r\n        &quot;reason&quot;: &quot;user requested&quot;\r\n      }\r\n    }\r\n\r\nI could make it work with the basic polymorphic deserialization using the JsonTypes as you can see [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68363521/1179274\r\n\r\nThe problem now is that I have this &quot;org&quot; field that might give me the same &quot;event_type&quot; value, but with a different data, so I need to find a way to first check if `org` is either Company1 or Company2 to call the correct JsonSubType, ie:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;org_id&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\r\n    @JsonSubTypes(value = [\r\n        JsonSubTypes.Type(Company1Data::class, name = &quot;Company1&quot;),\r\n        JsonSubTypes.Type(Company2Data::class, name = &quot;Company2&quot;)\r\n    ])\r\n    abstract class EventData {\r\n        abstract fun validate()\r\n    }\r\n    \r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;event_type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\r\n    @JsonSubTypes(value = [\r\n        JsonSubTypes.Type(Cmp1RegisterData::class, name = &quot;REGISTER&quot;)\r\n    ])\r\n    abstract class Company1Data\r\n    \r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;event_type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\r\n    @JsonSubTypes(value = [\r\n        JsonSubTypes.Type(Cmp2RegisterData::class, name = &quot;REGISTER&quot;),\r\n        JsonSubTypes.Type(DeleteData::class, name = &quot;DELETE&quot;)\r\n    ])\r\n    abstract class Company2Data\r\n    \r\n    data class Cmp1RegisterData(\r\n        val name: String,\r\n        val age: Int\r\n    ) :Company1Data()\r\n    \r\n    data class Cmp2RegisterData(\r\n        val name: String,\r\n        val age: Int,\r\n        val lastName: String\r\n    ) :Company2Data()\r\n    \r\n    data class DeleteData(\r\n        val id: String,\r\n        val reason: String\r\n    ) :Company2Data()\r\n\r\nThe above code does not work since both `CompanyData` are abstract, so they can not be initialized, and using class won&#39;t work since I have the `validate` function in the &quot;main&quot; abstract class and I want to override it in the last class I&#39;m deserializing (i.e.: Cmp2RegisterData)","title":"How to polymorphically deserialize a class based in two properties?","body":"<p>I'm having problems trying to deserialize from json string into the correct object since I have to check 2 properties before deserialize to the correct class, i.e.:</p>\n<pre><code>{\n  &quot;org&quot;: &quot;Company1&quot;,\n  &quot;event_type&quot;: &quot;REGISTER&quot;,\n  &quot;day&quot;: &quot;2021-01-01&quot;,\n  &quot;data&quot;: {\n    &quot;name&quot;: &quot;Kyore&quot;,\n    &quot;age&quot;: 10\n  }\n},\n{\n  &quot;org&quot;: &quot;Company2&quot;,\n  &quot;event_type&quot;: &quot;REGISTER&quot;,\n  &quot;day&quot;: &quot;2021-01-01&quot;,\n  &quot;data&quot;: {\n    &quot;name&quot;: &quot;Casky&quot;,\n    &quot;age&quot;: 12,\n    &quot;lastName&quot;: &quot;Kyky&quot;\n  }\n},\n{\n  &quot;org&quot;: &quot;Company2&quot;,\n  &quot;event_type&quot;: &quot;DELETE&quot;,\n  &quot;day&quot;: &quot;2021-01-01&quot;,\n  &quot;data&quot;: {\n    &quot;id&quot;: &quot;1234-1234-1234&quot;,\n    &quot;reason&quot;: &quot;user requested&quot;\n  }\n}\n</code></pre>\n<p>I could make it work with the basic polymorphic deserialization using the JsonTypes as you can see <a href=\"https://stackoverflow.com/a/68363521/1179274\">here</a></p>\n<p>The problem now is that I have this &quot;org&quot; field that might give me the same &quot;event_type&quot; value, but with a different data, so I need to find a way to first check if <code>org</code> is either Company1 or Company2 to call the correct JsonSubType, ie:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;org_id&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\n@JsonSubTypes(value = [\n    JsonSubTypes.Type(Company1Data::class, name = &quot;Company1&quot;),\n    JsonSubTypes.Type(Company2Data::class, name = &quot;Company2&quot;)\n])\nabstract class EventData {\n    abstract fun validate()\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;event_type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\n@JsonSubTypes(value = [\n    JsonSubTypes.Type(Cmp1RegisterData::class, name = &quot;REGISTER&quot;)\n])\nabstract class Company1Data\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;event_type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY)\n@JsonSubTypes(value = [\n    JsonSubTypes.Type(Cmp2RegisterData::class, name = &quot;REGISTER&quot;),\n    JsonSubTypes.Type(DeleteData::class, name = &quot;DELETE&quot;)\n])\nabstract class Company2Data\n\ndata class Cmp1RegisterData(\n    val name: String,\n    val age: Int\n) :Company1Data()\n\ndata class Cmp2RegisterData(\n    val name: String,\n    val age: Int,\n    val lastName: String\n) :Company2Data()\n\ndata class DeleteData(\n    val id: String,\n    val reason: String\n) :Company2Data()\n</code></pre>\n<p>The above code does not work since both <code>CompanyData</code> are abstract, so they can not be initialized, and using class won't work since I have the <code>validate</code> function in the &quot;main&quot; abstract class and I want to override it in the last class I'm deserializing (i.e.: Cmp2RegisterData)</p>\n"},{"tags":["java","maven","jar","classpath"],"comments":[{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":1,"creation_date":1338335425,"post_id":10808209,"comment_id":14064705,"body_markdown":"For 1, I don&#39;t remember if double click uses javaw instead of java.exe. Also, if you have more than one jre in your system, the double click may be loading one version and the command line another one. You need to check that.","body":"For 1, I don&#39;t remember if double click uses javaw instead of java.exe. Also, if you have more than one jre in your system, the double click may be loading one version and the command line another one. You need to check that."},{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":0,"creation_date":1338335490,"post_id":10808209,"comment_id":14064719,"body_markdown":"I&#39;ve just realized that it is the mac osx version. Still, different paths may apply when launching from double click, command line, or spotlight.","body":"I&#39;ve just realized that it is the mac osx version. Still, different paths may apply when launching from double click, command line, or spotlight."},{"owner":{"account_id":56549,"reputation":8582,"user_id":169397,"accept_rate":84,"display_name":"Luciano"},"score":1,"creation_date":1338335523,"post_id":10808209,"comment_id":14064728,"body_markdown":"For 2, you may try maven assembly, which includes all dependencies in one big jar file. http://maven.apache.org/plugins/maven-assembly-plugin/","body":"For 2, you may try maven assembly, which includes all dependencies in one big jar file. <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1338338881,"post_id":10808209,"comment_id":14065315,"body_markdown":"Classpath entries in the manifest are relative, not absolute. The class that it says isn&#39;t being found is actually a JAR file. Have you used a JAR filename as a classname somewhere?","body":"Classpath entries in the manifest are relative, not absolute. The class that it says isn&#39;t being found is actually a JAR file. Have you used a JAR filename as a classname somewhere?"},{"owner":{"account_id":1094428,"reputation":1323,"user_id":1088336,"accept_rate":50,"display_name":"matthewb"},"score":0,"creation_date":1338395193,"post_id":10808209,"comment_id":14083951,"body_markdown":"Great, thanks for all the great answers. One more question, if I use the maven-assembly-plugin, do I use that in place of the maven-jar-plugin? Meaning I don&#39;t need the maven-jar-plugin anymore?","body":"Great, thanks for all the great answers. One more question, if I use the maven-assembly-plugin, do I use that in place of the maven-jar-plugin? Meaning I don&#39;t need the maven-jar-plugin anymore?"},{"owner":{"account_id":1094428,"reputation":1323,"user_id":1088336,"accept_rate":50,"display_name":"matthewb"},"score":0,"creation_date":1338395560,"post_id":10808209,"comment_id":14084105,"body_markdown":"--EDIT: I answered my own question, the answer is Yes, maven-assembly replaces maven-jar plugin (for the benefit of future readers).","body":"--EDIT: I answered my own question, the answer is Yes, maven-assembly replaces maven-jar plugin (for the benefit of future readers)."}],"answers":[{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338335953,"creation_date":1338335953,"answer_id":10808336,"question_id":10808209,"body_markdown":"That manifest says that all your dependencies are sitting in the same dir as your jar. If that&#39;s not true, no go.\r\n\r\nPersonally, I&#39;d use the appassembler plugin to make a device that has a shell script to launch it. Or the shade plugin to make an uberjar that just incorporates them. Or learn about OSX stubs to make an OSX proper .app application.\r\n","title":"Classpath is set, but still getting NoClassDefFoundError","body":"<p>That manifest says that all your dependencies are sitting in the same dir as your jar. If that's not true, no go.</p>\n\n<p>Personally, I'd use the appassembler plugin to make a device that has a shell script to launch it. Or the shade plugin to make an uberjar that just incorporates them. Or learn about OSX stubs to make an OSX proper .app application.</p>\n"}],"owner":{"account_id":1094428,"reputation":1323,"user_id":1088336,"accept_rate":50,"display_name":"matthewb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641591786,"creation_date":1338334841,"question_id":10808209,"body_markdown":"I&#39;m trying to package a very simple app into a jar to distribute to a user. I&#39;m using Eclipse Indigo with the m2e plugin on Mac OS X 10.6.8.\r\n\r\nI used the Maven build: package goal to package it as a jar. If I double click on the jar to open it, the GUI opens and appears to be working, but when I click the execute button, nothing happens. (The program works fine if I do Run As... within Eclipse). \r\n\r\nIf I try to run the jar from the command line, it won&#39;t even open the GUI, I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: str-profile-comparison-0/0/1-SNAPSHOT    /jar\r\n    Caused by: java.lang.ClassNotFoundException: str-profile-comparison-0.0.1-SNAPSHOT.jar\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:307)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:248)\r\n\r\nI extracted the manifest file from the jar, to check the classpath, and it looks like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Built-By: username\r\n    Build-Jdk: 1.6.0_24\r\n    Class-Path: poi-3.7.jar poi-ooxml-3.7.jar poi-examples-3.7.jar xmlbean\r\n    s-2.3.0.jar stax-api-1.0.1.jar dom4j-1.6.1.jar xml-apis-1.0.b2.jar po\r\n    i-ooxml-schemas-3.7.jar geronimo-stax-api_1.0_spec-1.0.jar poi-scratc\r\n    hpad-3.7.jar junit-4.8.2.jar\r\n    Created-By: Apache Maven\r\n    Main-Class: com.{companyname}.strprofilecomparison.logic.StrComparatorGUI\r\n    key: value\r\n    url:\r\n    mode: development\r\n    Archiver-Version: Plexus Archiver\r\n\r\n\r\n\r\nI have several questions about what is happening here:\r\n\r\n1. Why does the GUI open when I double-click the jar file, but not when I try to run it at the command line?\r\n\r\n2. I&#39;m guessing the classpath needs to define the absolute path to the external jars I&#39;m using, how do I set that in the POM file?\r\n","title":"Classpath is set, but still getting NoClassDefFoundError","body":"<p>I'm trying to package a very simple app into a jar to distribute to a user. I'm using Eclipse Indigo with the m2e plugin on Mac OS X 10.6.8.</p>\n<p>I used the Maven build: package goal to package it as a jar. If I double click on the jar to open it, the GUI opens and appears to be working, but when I click the execute button, nothing happens. (The program works fine if I do Run As... within Eclipse).</p>\n<p>If I try to run the jar from the command line, it won't even open the GUI, I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: str-profile-comparison-0/0/1-SNAPSHOT    /jar\nCaused by: java.lang.ClassNotFoundException: str-profile-comparison-0.0.1-SNAPSHOT.jar\nat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:307)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:248)\n</code></pre>\n<p>I extracted the manifest file from the jar, to check the classpath, and it looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nBuilt-By: username\nBuild-Jdk: 1.6.0_24\nClass-Path: poi-3.7.jar poi-ooxml-3.7.jar poi-examples-3.7.jar xmlbean\ns-2.3.0.jar stax-api-1.0.1.jar dom4j-1.6.1.jar xml-apis-1.0.b2.jar po\ni-ooxml-schemas-3.7.jar geronimo-stax-api_1.0_spec-1.0.jar poi-scratc\nhpad-3.7.jar junit-4.8.2.jar\nCreated-By: Apache Maven\nMain-Class: com.{companyname}.strprofilecomparison.logic.StrComparatorGUI\nkey: value\nurl:\nmode: development\nArchiver-Version: Plexus Archiver\n</code></pre>\n<p>I have several questions about what is happening here:</p>\n<ol>\n<li><p>Why does the GUI open when I double-click the jar file, but not when I try to run it at the command line?</p>\n</li>\n<li><p>I'm guessing the classpath needs to define the absolute path to the external jars I'm using, how do I set that in the POM file?</p>\n</li>\n</ol>\n"},{"tags":["java","sonarqube","code-standards","compiler-specific"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1555969151,"post_id":55800186,"comment_id":98271606,"body_markdown":"Does anybody even bother to do a web search before posting here? See https://docs.sonarqube.org/display/DEV/Adding+Coding+Rules then [edit] your question to clarify what&#39;s still missing.","body":"Does anybody even bother to do a web search before posting here? See <a href=\"https://docs.sonarqube.org/display/DEV/Adding+Coding+Rules\" rel=\"nofollow noreferrer\">docs.sonarqube.org/display/DEV/Adding+Coding+Rules</a> then <a href=\"https://stackoverflow.com/posts/55800186/edit\">edit</a> your question to clarify what&#39;s still missing."},{"owner":{"account_id":4196040,"reputation":1037,"user_id":3437439,"accept_rate":67,"display_name":"intechops6"},"score":0,"creation_date":1555969884,"post_id":55800186,"comment_id":98271852,"body_markdown":"The url talks about adding rules and writing plugins using Java and how to add rules. But my question is too technical, is it possible to add rules for maintaining style, comments, variable and method conventions and more of what peer reviewer will find in the code.","body":"The url talks about adding rules and writing plugins using Java and how to add rules. But my question is too technical, is it possible to add rules for maintaining style, comments, variable and method conventions and more of what peer reviewer will find in the code."},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1679451921,"post_id":55800186,"comment_id":133723777,"body_markdown":"@intechops6, did you manage to do what you wanted? I have a similar need, and i want to find all classes where developers fail to add comments. Thanks.","body":"@intechops6, did you manage to do what you wanted? I have a similar need, and i want to find all classes where developers fail to add comments. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1921540,"reputation":1030,"user_id":1732941,"display_name":"mc1arke"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641591684,"creation_date":1556090673,"answer_id":55824491,"question_id":55800186,"body_markdown":"SonarQube performs various code safety and quality checks out the box. If you&#39;re looking to assert code formatting then you&#39;ll need to use a suitable plugin to extend SonarQube&#39;s quality profiles, such as the [Checkstyle Plugin][1]\r\n\r\n\r\n  [1]: https://github.com/checkstyle/sonar-checkstyle","title":"Sonarqube supports rules to enforce coding standards or not","body":"<p>SonarQube performs various code safety and quality checks out the box. If you're looking to assert code formatting then you'll need to use a suitable plugin to extend SonarQube's quality profiles, such as the <a href=\"https://github.com/checkstyle/sonar-checkstyle\" rel=\"nofollow noreferrer\">Checkstyle Plugin</a></p>\n"}],"owner":{"account_id":4196040,"reputation":1037,"user_id":3437439,"accept_rate":67,"display_name":"intechops6"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3102,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":55824491,"answer_count":1,"score":0,"last_activity_date":1641591684,"creation_date":1555962234,"question_id":55800186,"body_markdown":"Sonarqube produces issues with the code like bugs and security-related issues as vulnerabilities and code smell that could cause issues.  Is there a way to add the coding standards to enforce conventions specific to readability and maintainability of code and more of what code reviewers perform in the code. So that automatically it can fail the quality gate if comments, variable conventions, and class and function standards are not met. But one of my Developer is saying that Sonarqube by default profile covers most of the rules and conventions that code reviewers check in the code. But I understand, rules and conventions in the coding standards document can only be reviewed by peer review and not by compilers and Sonarqube tool.\r\n\r\nI believe developers and experts in Sonarqube and compilers can confirm whether rules and conventions in coding standards like general style for source code, standards for statements, methods, naming convention, variable assignments, standards for classes, interfaces, packages, etc. Is there is a way to add rules for coding standards via Sonarqube, kindly share?\r\n\r\n[edited]","title":"Sonarqube supports rules to enforce coding standards or not","body":"<p>Sonarqube produces issues with the code like bugs and security-related issues as vulnerabilities and code smell that could cause issues.  Is there a way to add the coding standards to enforce conventions specific to readability and maintainability of code and more of what code reviewers perform in the code. So that automatically it can fail the quality gate if comments, variable conventions, and class and function standards are not met. But one of my Developer is saying that Sonarqube by default profile covers most of the rules and conventions that code reviewers check in the code. But I understand, rules and conventions in the coding standards document can only be reviewed by peer review and not by compilers and Sonarqube tool.</p>\n\n<p>I believe developers and experts in Sonarqube and compilers can confirm whether rules and conventions in coding standards like general style for source code, standards for statements, methods, naming convention, variable assignments, standards for classes, interfaces, packages, etc. Is there is a way to add rules for coding standards via Sonarqube, kindly share?</p>\n\n<p>[edited]</p>\n"},{"tags":["java","swagger","postman","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625753939,"creation_date":1625753939,"answer_id":68303428,"question_id":68297972,"body_markdown":"you can convert it by using the :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c9t2H.png\r\n\r\nread more at :\r\n\r\nhttps://praveendavidmathew.medium.com/the-hidden-gem-postman-api-and-documentation-feature-b065ab579dd\r\n","title":"How to update Postman collection from Swagger","body":"<p>you can convert it by using the :</p>\n<p><a href=\"https://i.stack.imgur.com/c9t2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c9t2H.png\" alt=\"enter image description here\" /></a></p>\n<p>read more at :</p>\n<p><a href=\"https://praveendavidmathew.medium.com/the-hidden-gem-postman-api-and-documentation-feature-b065ab579dd\" rel=\"nofollow noreferrer\">https://praveendavidmathew.medium.com/the-hidden-gem-postman-api-and-documentation-feature-b065ab579dd</a></p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634362585,"creation_date":1634362585,"answer_id":69592972,"question_id":68297972,"body_markdown":"Postman has an manual option to import open-api. But in your case you need a utility. Thankfully postman team has written a converter.\r\n\r\nPostman provides an open source project to convert [OpenAPI 3.0 specs to the Postman Collection (v2)](https://github.com/postmanlabs/openapi-to-postman). \r\n\r\nIt provides a CLI `openapi2postmanv2`\r\n\r\n```\r\n$ openapi2postmanv2 -s spec.yaml -o collection.json -p -O folderStrategy=Tags,includeAuthInfoInExample=false\r\n```\r\n\r\nAdd it to your build process, so you dont have to manually convert.","title":"How to update Postman collection from Swagger","body":"<p>Postman has an manual option to import open-api. But in your case you need a utility. Thankfully postman team has written a converter.</p>\n<p>Postman provides an open source project to convert <a href=\"https://github.com/postmanlabs/openapi-to-postman\" rel=\"nofollow noreferrer\">OpenAPI 3.0 specs to the Postman Collection (v2)</a>.</p>\n<p>It provides a CLI <code>openapi2postmanv2</code></p>\n<pre><code>$ openapi2postmanv2 -s spec.yaml -o collection.json -p -O folderStrategy=Tags,includeAuthInfoInExample=false\n</code></pre>\n<p>Add it to your build process, so you dont have to manually convert.</p>\n"},{"tags":[],"owner":{"account_id":23864640,"reputation":21,"user_id":17867156,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641591505,"creation_date":1641591505,"answer_id":70627450,"question_id":68297972,"body_markdown":"Postman offers the ability to have a 2-way API sync with your Git Repo.\r\nUpdate the Git repo with the new OpenAPI spec.\r\nPostman will see the diffs and allow you to pull in the new changes\r\nThen you can push the changes to your collections\r\n[How to Connect to Your Git Repository][1] (4min)\r\n[Using an External Git Repository][2] (Docs)\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=8jJHXLVYOh0&amp;feature=youtu.be\r\n  [2]: https://learning.postman.com/docs/designing-and-developing-your-api/versioning-an-api/#using-an-external-git-repository","title":"How to update Postman collection from Swagger","body":"<p>Postman offers the ability to have a 2-way API sync with your Git Repo.\nUpdate the Git repo with the new OpenAPI spec.\nPostman will see the diffs and allow you to pull in the new changes\nThen you can push the changes to your collections\n<a href=\"https://www.youtube.com/watch?v=8jJHXLVYOh0&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">How to Connect to Your Git Repository</a> (4min)\n<a href=\"https://learning.postman.com/docs/designing-and-developing-your-api/versioning-an-api/#using-an-external-git-repository\" rel=\"nofollow noreferrer\">Using an External Git Repository</a> (Docs)</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1641591505,"creation_date":1625732487,"question_id":68297972,"body_markdown":"I use Swagger in a Java app and have a collection that sets the parameters e.g. uuid, name on the corresponding POST requests. However,on every changes on database, the collections should be updated and I fed up with updating the Postman collections manually. I could not found a proper way except from some export approach e.g. [Convert Swagger documentation to Postman Collection](https://medium.com/c-sharp-progarmming/convert-swagger-documentation-to-postman-collection-d67fc95c7b14). \r\n\r\nIn this stage, I think I make something wrong and there is a better approach as lots of experienced developers use these tools :\r\n\r\n**1.** How should I transfer swagger requests to Postman and set the parameters while GET requests and use them while POST/PUT requests?\r\n\r\n**2.** How can I update these requests whenever the request parameters are changed on Swagger? ","title":"How to update Postman collection from Swagger","body":"<p>I use Swagger in a Java app and have a collection that sets the parameters e.g. uuid, name on the corresponding POST requests. However,on every changes on database, the collections should be updated and I fed up with updating the Postman collections manually. I could not found a proper way except from some export approach e.g. <a href=\"https://medium.com/c-sharp-progarmming/convert-swagger-documentation-to-postman-collection-d67fc95c7b14\" rel=\"nofollow noreferrer\">Convert Swagger documentation to Postman Collection</a>.</p>\n<p>In this stage, I think I make something wrong and there is a better approach as lots of experienced developers use these tools :</p>\n<p><strong>1.</strong> How should I transfer swagger requests to Postman and set the parameters while GET requests and use them while POST/PUT requests?</p>\n<p><strong>2.</strong> How can I update these requests whenever the request parameters are changed on Swagger?</p>\n"},{"tags":["java","generics","collections","type-parameter","bounded-wildcard"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1641431365,"post_id":70601178,"comment_id":124805936,"body_markdown":"In the first case, `T` is inferred to be `Integer` (with the wildcard), whereas it&#39;s inferred to be `Number` in the second case (without the wildcard). Not positive when that would make a practical difference, but there is a difference.","body":"In the first case, <code>T</code> is inferred to be <code>Integer</code> (with the wildcard), whereas it&#39;s inferred to be <code>Number</code> in the second case (without the wildcard). Not positive when that would make a practical difference, but there is a difference."},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":1,"creation_date":1641434605,"post_id":70601178,"comment_id":124806525,"body_markdown":"I suspect there&#39;s something in the type inference rules that makes the signature with a wildcard work in some cases where the signature without a wildcard fails. An example would probably need to involve type inference in the arguments to `fill`.","body":"I suspect there&#39;s something in the type inference rules that makes the signature with a wildcard work in some cases where the signature without a wildcard fails. An example would probably need to involve type inference in the arguments to <code>fill</code>."},{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1641439397,"post_id":70601178,"comment_id":124807167,"body_markdown":"My best guess is that this notation clarifies or suggests that you can use fill on superclass objects in the list with those of type T, which you might not know if you had the second method signature, even though both seem to be the same practically","body":"My best guess is that this notation clarifies or suggests that you can use fill on superclass objects in the list with those of type T, which you might not know if you had the second method signature, even though both seem to be the same practically"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1641476447,"post_id":70601178,"comment_id":124817180,"body_markdown":"I think, the author just followed the PECS rule like with other methods, without considering that for this specific method, it is unnecessary.","body":"I think, the author just followed the PECS rule like with other methods, without considering that for this specific method, it is unnecessary."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641434051,"creation_date":1641434051,"answer_id":70601600,"question_id":70601178,"body_markdown":"For your example, the reason it &#39;works&#39; with your basic `&lt;T&gt;` signature, is that an Integer is also a Number. The only &#39;T&#39; that works is `T = Number`, and then the whole thing just works out.\r\n\r\nIn this case, the expression you have for the `T obj` parameter is a reified type: You have an `Integer`. You could have a `T` instead. Perhaps you have this:\r\n\r\n```\r\nclass AtomicReference&lt;T&gt; {\r\n  // The actual impl of j.u.concurrent.AtomicReference...\r\n  // but with this one additional method:\r\n\r\n  public void fillIntoList(List&lt;? super T&gt; list) {\r\n    T currentValue = get();\r\n    Collections.fill(list, currentValue);\r\n  }\r\n}\r\n```\r\n\r\nI may perhaps want to write something like this:\r\n\r\n```\r\nAtomicReference&lt;String&gt; ref = new AtomicReference&lt;String&gt;(&quot;hello&quot;);\r\nList&lt;CharSequence&gt; texts = new ArrayList&lt;&gt;();\r\n\r\n...\r\n\r\nref.fillIntoList(texts);\r\n```\r\n\r\nIf my hypothetical `fillIntoList` method simply had `List&lt;T&gt;` in the signature that wouldn&#39;t compile. Fortunately it does, so the code does compile. Had the `Collections.fill` method not done the `&lt;? super T&gt;` thing, the invocation of the `Collections.fill` method in my `fillIntoList` method would have failed.\r\n\r\nIt&#39;s highly exotic for any of this to come up. But it can come up. `List&lt;? super T&gt;` is the strictly superior signature here - it can do everything `List&lt;T&gt;` does, and more, and it is also semantically correct: Of course I can fill a list-of-foos by writing into every slot a ref to something that I know for sure is a bar, if bar is a child of foo.\r\n","title":"Java Generics: What is the benefit of using wildcards here?","body":"<p>For your example, the reason it 'works' with your basic <code>&lt;T&gt;</code> signature, is that an Integer is also a Number. The only 'T' that works is <code>T = Number</code>, and then the whole thing just works out.</p>\n<p>In this case, the expression you have for the <code>T obj</code> parameter is a reified type: You have an <code>Integer</code>. You could have a <code>T</code> instead. Perhaps you have this:</p>\n<pre><code>class AtomicReference&lt;T&gt; {\n  // The actual impl of j.u.concurrent.AtomicReference...\n  // but with this one additional method:\n\n  public void fillIntoList(List&lt;? super T&gt; list) {\n    T currentValue = get();\n    Collections.fill(list, currentValue);\n  }\n}\n</code></pre>\n<p>I may perhaps want to write something like this:</p>\n<pre><code>AtomicReference&lt;String&gt; ref = new AtomicReference&lt;String&gt;(&quot;hello&quot;);\nList&lt;CharSequence&gt; texts = new ArrayList&lt;&gt;();\n\n...\n\nref.fillIntoList(texts);\n</code></pre>\n<p>If my hypothetical <code>fillIntoList</code> method simply had <code>List&lt;T&gt;</code> in the signature that wouldn't compile. Fortunately it does, so the code does compile. Had the <code>Collections.fill</code> method not done the <code>&lt;? super T&gt;</code> thing, the invocation of the <code>Collections.fill</code> method in my <code>fillIntoList</code> method would have failed.</p>\n<p>It's highly exotic for any of this to come up. But it can come up. <code>List&lt;? super T&gt;</code> is the strictly superior signature here - it can do everything <code>List&lt;T&gt;</code> does, and more, and it is also semantically correct: Of course I can fill a list-of-foos by writing into every slot a ref to something that I know for sure is a bar, if bar is a child of foo.</p>\n"},{"tags":[],"owner":{"account_id":7145290,"reputation":28,"user_id":5461225,"display_name":"Ty Viera"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1641437262,"creation_date":1641436686,"answer_id":70601839,"question_id":70601178,"body_markdown":"That is because the inheritance is useful is some cases.\r\n\r\nFor example, if you have the following class structure:\r\n\r\n    public class Parent {\r\n      //some code\r\n    }\r\n\r\n    public class Child extends Parent {\r\n      //some another code\r\n    }\r\n\r\nYou could use the first method writing:\r\n\r\n    List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n    Parent otherParentObject = new Parent(); //after this line, set the values for the class\r\n    List&lt;Parent&gt; outParentList = new ArrayList&lt;&gt;();\r\n    fill(children, otherParentObject); //fill method using first signature;\r\n\r\n","title":"Java Generics: What is the benefit of using wildcards here?","body":"<p>That is because the inheritance is useful is some cases.</p>\n<p>For example, if you have the following class structure:</p>\n<pre><code>public class Parent {\n  //some code\n}\n\npublic class Child extends Parent {\n  //some another code\n}\n</code></pre>\n<p>You could use the first method writing:</p>\n<pre><code>List&lt;Child&gt; children = new ArrayList&lt;&gt;();\nParent otherParentObject = new Parent(); //after this line, set the values for the class\nList&lt;Parent&gt; outParentList = new ArrayList&lt;&gt;();\nfill(children, otherParentObject); //fill method using first signature;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641590655,"creation_date":1641588839,"answer_id":70627059,"question_id":70601178,"body_markdown":"This is a really good question and the simple answer was guessed already:\r\n&gt; For the current version of the `fill(List&lt;? super T&gt; list, T obj)` there is no\r\n&gt; such input that would be rejected given the signature is changed to `fill(List&lt;T&gt; list, T obj)`, so there is no benefit and the devs are likely followed the PECS principle\r\n\r\nThe above statement derives from the principle that: if there is a such type `X` so that\r\n`X` is a supertype of `T` then `List&lt;X&gt;` is a supertype of `List&lt;? super T&gt;` because of type contravariance.\r\nSince we can always find such `X` (at the worst case it&#39;s the `Object` class) - the compiler can infer a suitable `List&lt;X&gt;` argument type given either form of `fill`.\r\n\r\nSo, knowing that fact we can interfere with the compiler and infer the type ourselves using &quot;type witness&quot; so the code breaks:  \r\n\r\n    List&lt;Object&gt; target = new ArrayList&lt;&gt;();\r\n\t//Compiles OK as we can represent List&lt;Object&gt; as List&lt;? super Integer&gt; and it fits\r\n    Collections.&lt;Integer&gt;fill(target, 1);\r\n\t\r\n\t//Compilation error as List&lt;Object&gt; is invariant to List&lt;Integer&gt; and not a valid substitute\r\n    Collections.&lt;Integer&gt;fillNew(target, 1);\r\n\t\r\nThis is all of course purely theoretical and nobody in their right mind would use the type argument there.\r\n\r\n**HOWEVER**\r\n\r\nWhile answering the question &quot;*What is the benefit of using wildcards here?*&quot; we yet considered only one side of the equation - us, consumers of the method and our experience but not library developers.\r\n\r\nHence this question is somewhat similar to why `Collections.enumeration(final Collection&lt;T&gt; c)` is declared the way it is and not `enumeration(Collection&lt;T&gt; c)` as `final` seems superfluous for the end-user.\r\n\r\nWe can speculate here about the real intention, but I can give a few subjective reasons:\r\n1. First: using `List&lt;? super T&gt;` (as well as `final` for `enumeration`) immediately disambiguates the code that tiny bit more and for the `&lt;? super T&gt;` specifically - it useful to show that only partial knowledge about the \r\ntype parameter is required and the `list` cannot be used to produce values of T, but only to consume them.\r\nQuote:\r\n&gt;Wildcards are useful in situations where only partial knowledge about the type parameter is required.\r\n*[JLS 4.5.1. Type Arguments of Parameterized Types](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5.1)*\r\n\r\n2. Second: it gives some freedom to the library owners to improve/update the method without breaking backward compatibility while conforming to the existing constraints.\r\n--------------------------------------------------------------\r\n\r\nNow let&#39;s try make up some hypothetical &quot;improvements&quot; to see what I mean (I&#39;ll call the form of `fill` that uses `List&lt;T&gt;` as `fillNew`):\r\n\r\n#1 The decision is to make method to return the `obj` value (used to fill up the list) back:\r\n\t\r\n    public static &lt;T&gt; void fill(List&lt;? super T&gt; list, T obj)\r\n    //becomes ↓↓↓\r\n\tpublic static &lt;T&gt; T fill(List&lt;? super T&gt; list, T obj)\r\n\t\r\nThe updated method would work just fine for `fill` signature, but for `fillNew` - the inferred return type now isn&#39;t that obvious:\r\n\r\n\tList&lt;Number&gt; target = new ArrayList&lt;&gt;();\r\n\tLong val = fill(target, 1L); //&lt;&lt;Here Long is the most specific type that fits both arguments\r\n\t//Compilation error\r\n\tLong val = fillNew(target, 1L); //&lt;&lt;Here Number is, so it cannot be assigned back\r\n\t\r\n\t//More exotic case:\r\n\tInteger val = fill(asList(true), 0); //val is Integer as expected\r\n\tComparable&lt;?&gt; val = fillNew(asList(true), 0); //val is now Comparable&lt;?&gt; as the most specific type \r\n\r\n#2 The decision to add an overloaded version of `fill` that is 10x more performant in cases when `T` is `Comparable&lt;T&gt;`:\r\n\r\n\t/* Extremely performant 10x version */\r\n\tpublic static &lt;T extends Comparable&lt;T&gt;&gt; void fill(List&lt;? super T&gt; list, T value)\r\n\t/* Normal version */\r\n\tpublic static void fill(List&lt;? super T&gt; list, T value)\r\n\t\r\n\tList&lt;Number&gt; target = new ArrayList&lt;&gt;();\r\n\tfill(target, 1);  //&lt;&lt;&lt; Here the more performant version is used as T inferred to Integer and it implements Comparable&lt;Integer&gt;\r\n\tfillNew(target, 1); //&lt;&lt; Still uses the slow version just because T is inferred to Number which is not Comparable\r\n\t\t\r\nTo sum up - the current signature of `fill` is more flexible/descriptive in my opinion for all parties (developers and library designers)","title":"Java Generics: What is the benefit of using wildcards here?","body":"<p>This is a really good question and the simple answer was guessed already:</p>\n<blockquote>\n<p>For the current version of the <code>fill(List&lt;? super T&gt; list, T obj)</code> there is no\nsuch input that would be rejected given the signature is changed to <code>fill(List&lt;T&gt; list, T obj)</code>, so there is no benefit and the devs are likely followed the PECS principle</p>\n</blockquote>\n<p>The above statement derives from the principle that: if there is a such type <code>X</code> so that\n<code>X</code> is a supertype of <code>T</code> then <code>List&lt;X&gt;</code> is a supertype of <code>List&lt;? super T&gt;</code> because of type contravariance.\nSince we can always find such <code>X</code> (at the worst case it's the <code>Object</code> class) - the compiler can infer a suitable <code>List&lt;X&gt;</code> argument type given either form of <code>fill</code>.</p>\n<p>So, knowing that fact we can interfere with the compiler and infer the type ourselves using &quot;type witness&quot; so the code breaks:</p>\n<pre><code>List&lt;Object&gt; target = new ArrayList&lt;&gt;();\n//Compiles OK as we can represent List&lt;Object&gt; as List&lt;? super Integer&gt; and it fits\nCollections.&lt;Integer&gt;fill(target, 1);\n\n//Compilation error as List&lt;Object&gt; is invariant to List&lt;Integer&gt; and not a valid substitute\nCollections.&lt;Integer&gt;fillNew(target, 1);\n</code></pre>\n<p>This is all of course purely theoretical and nobody in their right mind would use the type argument there.</p>\n<p><strong>HOWEVER</strong></p>\n<p>While answering the question &quot;<em>What is the benefit of using wildcards here?</em>&quot; we yet considered only one side of the equation - us, consumers of the method and our experience but not library developers.</p>\n<p>Hence this question is somewhat similar to why <code>Collections.enumeration(final Collection&lt;T&gt; c)</code> is declared the way it is and not <code>enumeration(Collection&lt;T&gt; c)</code> as <code>final</code> seems superfluous for the end-user.</p>\n<p>We can speculate here about the real intention, but I can give a few subjective reasons:</p>\n<ol>\n<li>First: using <code>List&lt;? super T&gt;</code> (as well as <code>final</code> for <code>enumeration</code>) immediately disambiguates the code that tiny bit more and for the <code>&lt;? super T&gt;</code> specifically - it useful to show that only partial knowledge about the\ntype parameter is required and the <code>list</code> cannot be used to produce values of T, but only to consume them.\nQuote:</li>\n</ol>\n<blockquote>\n<p>Wildcards are useful in situations where only partial knowledge about the type parameter is required.\n<em><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">JLS 4.5.1. Type Arguments of Parameterized Types</a></em></p>\n</blockquote>\n<ol start=\"2\">\n<li>Second: it gives some freedom to the library owners to improve/update the method without breaking backward compatibility while conforming to the existing constraints.</li>\n</ol>\n<hr />\n<p>Now let's try make up some hypothetical &quot;improvements&quot; to see what I mean (I'll call the form of <code>fill</code> that uses <code>List&lt;T&gt;</code> as <code>fillNew</code>):</p>\n<p>#1 The decision is to make method to return the <code>obj</code> value (used to fill up the list) back:</p>\n<pre><code>public static &lt;T&gt; void fill(List&lt;? super T&gt; list, T obj)\n//becomes ↓↓↓\npublic static &lt;T&gt; T fill(List&lt;? super T&gt; list, T obj)\n</code></pre>\n<p>The updated method would work just fine for <code>fill</code> signature, but for <code>fillNew</code> - the inferred return type now isn't that obvious:</p>\n<pre><code>List&lt;Number&gt; target = new ArrayList&lt;&gt;();\nLong val = fill(target, 1L); //&lt;&lt;Here Long is the most specific type that fits both arguments\n//Compilation error\nLong val = fillNew(target, 1L); //&lt;&lt;Here Number is, so it cannot be assigned back\n\n//More exotic case:\nInteger val = fill(asList(true), 0); //val is Integer as expected\nComparable&lt;?&gt; val = fillNew(asList(true), 0); //val is now Comparable&lt;?&gt; as the most specific type \n</code></pre>\n<p>#2 The decision to add an overloaded version of <code>fill</code> that is 10x more performant in cases when <code>T</code> is <code>Comparable&lt;T&gt;</code>:</p>\n<pre><code>/* Extremely performant 10x version */\npublic static &lt;T extends Comparable&lt;T&gt;&gt; void fill(List&lt;? super T&gt; list, T value)\n/* Normal version */\npublic static void fill(List&lt;? super T&gt; list, T value)\n\nList&lt;Number&gt; target = new ArrayList&lt;&gt;();\nfill(target, 1);  //&lt;&lt;&lt; Here the more performant version is used as T inferred to Integer and it implements Comparable&lt;Integer&gt;\nfillNew(target, 1); //&lt;&lt; Still uses the slow version just because T is inferred to Number which is not Comparable\n    \n</code></pre>\n<p>To sum up - the current signature of <code>fill</code> is more flexible/descriptive in my opinion for all parties (developers and library designers)</p>\n"}],"owner":{"account_id":16322615,"reputation":197,"user_id":11788023,"display_name":"Sam Hooper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70627059,"answer_count":3,"score":6,"last_activity_date":1641590655,"creation_date":1641429004,"question_id":70601178,"body_markdown":"The [Collections.fill][1] method has the following header:\r\n```\r\npublic static &lt;T&gt; void fill(List&lt;? super T&gt; list, T obj)\r\n```\r\nWhy is the wildcard necessary? The following header seems to work just as well:\r\n```\r\npublic static &lt;T&gt; void fill(List&lt;T&gt; list, T obj)\r\n```\r\nI cannot see a reason why the wildcard is needed; code such as the following works with the second header as well as the first:\r\n```\r\nList&lt;Number&gt; nums = new ArrayList&lt;&gt;();\r\nInteger i = 43;\r\nfill(nums, i); //fill method written using second header\r\n```\r\n\r\nMy question is: **For what specific call of `fill` would the first header work but not the second? And if there is no such call, why include the wildcard?** In this case, the wildcard does not make the method more concise nor add to readability (in my opinion).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#fill(java.util.List,T)","title":"Java Generics: What is the benefit of using wildcards here?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#fill(java.util.List,T)\" rel=\"noreferrer\">Collections.fill</a> method has the following header:</p>\n<pre><code>public static &lt;T&gt; void fill(List&lt;? super T&gt; list, T obj)\n</code></pre>\n<p>Why is the wildcard necessary? The following header seems to work just as well:</p>\n<pre><code>public static &lt;T&gt; void fill(List&lt;T&gt; list, T obj)\n</code></pre>\n<p>I cannot see a reason why the wildcard is needed; code such as the following works with the second header as well as the first:</p>\n<pre><code>List&lt;Number&gt; nums = new ArrayList&lt;&gt;();\nInteger i = 43;\nfill(nums, i); //fill method written using second header\n</code></pre>\n<p>My question is: <strong>For what specific call of <code>fill</code> would the first header work but not the second? And if there is no such call, why include the wildcard?</strong> In this case, the wildcard does not make the method more concise nor add to readability (in my opinion).</p>\n"},{"tags":["java","spring","hibernate","jpa","entitymanager"],"comments":[{"owner":{"display_name":"user17835087"},"score":0,"creation_date":1641588237,"post_id":70626892,"comment_id":124852334,"body_markdown":"At the moment, when deleting the driver, the driver and relation driver_car are deleted, but not deleting the car.","body":"At the moment, when deleting the driver, the driver and relation driver_car are deleted, but not deleting the car."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1641588869,"post_id":70626892,"comment_id":124852486,"body_markdown":"Why would you delete the car?  What if someone else is a driver of that car?","body":"Why would you delete the car?  What if someone else is a driver of that car?"},{"owner":{"display_name":"user17835087"},"score":0,"creation_date":1641589215,"post_id":70626892,"comment_id":124852573,"body_markdown":"@Jim Garrison, I meant if there are no drivers with this car, only then delete it","body":"@Jim Garrison, I meant if there are no drivers with this car, only then delete it"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641589819,"post_id":70626892,"comment_id":124852732,"body_markdown":"@ArtemDubenko I think Jim Garrison is point out seems to be the result of an incorrectly design relationship. If that is the case, I agree with him. A car entity should not depend on the existence of a driver entity (or vice versa). In a perfectly design system, you should be able to have drivers without cars and cars without assigned drivers. You should, however, make sure than a driver doesn&#39;t have more than one car assigned to him or her, or that a car doesn&#39;t have more than one assigned driver UNLESS there is such thing as an alternate driver. And that should be another field in the table.","body":"@ArtemDubenko I think Jim Garrison is point out seems to be the result of an incorrectly design relationship. If that is the case, I agree with him. A car entity should not depend on the existence of a driver entity (or vice versa). In a perfectly design system, you should be able to have drivers without cars and cars without assigned drivers. You should, however, make sure than a driver doesn&#39;t have more than one car assigned to him or her, or that a car doesn&#39;t have more than one assigned driver UNLESS there is such thing as an alternate driver. And that should be another field in the table."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641590181,"post_id":70626892,"comment_id":124852832,"body_markdown":"I also learned way back in the day, that a many-to-many relationship between entities is often a poor design decision. Many times, you can add a table in between( `Car` and `Driver` in this case) to create a 1-to-1 relationship between entities. Think about it. UPS has many vehicles and drivers. BUT when on-duty, a `Driver` is assigned to ONE `Car` and a `Car` has only ONE `Driver`. That means `Car` and `Driver` tables are not related to each other. However, when `OnDuty` a 1-to-1 relationship is created between them.","body":"I also learned way back in the day, that a many-to-many relationship between entities is often a poor design decision. Many times, you can add a table in between( <code>Car</code> and <code>Driver</code> in this case) to create a 1-to-1 relationship between entities. Think about it. UPS has many vehicles and drivers. BUT when on-duty, a <code>Driver</code> is assigned to ONE <code>Car</code> and a <code>Car</code> has only ONE <code>Driver</code>. That means <code>Car</code> and <code>Driver</code> tables are not related to each other. However, when <code>OnDuty</code> a 1-to-1 relationship is created between them."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641590479,"post_id":70626892,"comment_id":124852914,"body_markdown":"Later in the day, when the driver finishes his route and returns to this hub, only the `OnDuty` table is changed. The `Driver` still exist in the driver table and definitely the `Car` still exist in the car table. Creating and destroying these records is absurd in this scenario (since the driver wasn&#39;t fired and the vehicle is just parked). You will need these entities again the next day. So why destroy them?","body":"Later in the day, when the driver finishes his route and returns to this hub, only the <code>OnDuty</code> table is changed. The <code>Driver</code> still exist in the driver table and definitely the <code>Car</code> still exist in the car table. Creating and destroying these records is absurd in this scenario (since the driver wasn&#39;t fired and the vehicle is just parked). You will need these entities again the next day. So why destroy them?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641590559,"post_id":70626892,"comment_id":124852938,"body_markdown":"@JimGarrison do you agree with everything I posted here? I definitely didn&#39;t want to &quot;put words in your mouth&quot;. LOL","body":"@JimGarrison do you agree with everything I posted here? I definitely didn&#39;t want to &quot;put words in your mouth&quot;. LOL"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641603573,"post_id":70626892,"comment_id":124855643,"body_markdown":"@hfontanez You are completely correct.","body":"@hfontanez You are completely correct."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641589644,"creation_date":1641589202,"answer_id":70627122,"question_id":70626892,"body_markdown":"One should be very cautious about using `CascadeType.ALL` for `@ManyToMany` associations, since this might yield surprising results as described e.g. here:  \r\nhttps://thorben-janssen.com/best-practices-for-many-to-many-associations-with-hibernate-and-jpa/#The_CascadeType_you_should_avoid_at_all_costs\r\n\r\n&gt; In the best case, it only creates performance issues, but in the worst case, it might also remove more records than you intended.\r\n\r\nSo a better way would be e.g. to have a dedicated service logic which specifies exactly which entities are to be deleted and which of course also takes care of [synchronizing both sides of the association.](https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/)  \r\nThis way there can also be a simple check whether a previously associated `Car` has no more associated `Driver`s after one was deleted, so that the &quot;orphan&quot; `Car` can then be deleted as well.","title":"How to delete many-to-many relationship?","body":"<p>One should be very cautious about using <code>CascadeType.ALL</code> for <code>@ManyToMany</code> associations, since this might yield surprising results as described e.g. here:<br />\n<a href=\"https://thorben-janssen.com/best-practices-for-many-to-many-associations-with-hibernate-and-jpa/#The_CascadeType_you_should_avoid_at_all_costs\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/best-practices-for-many-to-many-associations-with-hibernate-and-jpa/#The_CascadeType_you_should_avoid_at_all_costs</a></p>\n<blockquote>\n<p>In the best case, it only creates performance issues, but in the worst case, it might also remove more records than you intended.</p>\n</blockquote>\n<p>So a better way would be e.g. to have a dedicated service logic which specifies exactly which entities are to be deleted and which of course also takes care of <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">synchronizing both sides of the association.</a><br />\nThis way there can also be a simple check whether a previously associated <code>Car</code> has no more associated <code>Driver</code>s after one was deleted, so that the &quot;orphan&quot; <code>Car</code> can then be deleted as well.</p>\n"}],"owner":{"display_name":"user17835087"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70627122,"answer_count":1,"score":0,"last_activity_date":1641589644,"creation_date":1641587806,"question_id":70626892,"body_markdown":"\r\nI have a many-to-many relationship (Car &amp; driver) How, when deleting a Driver, delete a link in the driver_car table and delete cars that were bound to this driver, and vice versa, when deleting a car, simply delete a car and links in the driver_car table that are not associated with this by car?\r\n\r\nMy BaseEntity:\r\n   \r\n\r\n     @MappedSuperclass\r\n        public abstract class BaseEntity {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            private Long id;\r\n        \r\n            @Temporal(TemporalType.TIMESTAMP)\r\n            private Date created;\r\n        \r\n            @Temporal(TemporalType.TIMESTAMP)\r\n            private Date updated;\r\n        \r\n        \r\n            private Boolean visible;\r\n        \r\n            @Column(name = &quot;image_url&quot;)\r\n            private String imageUrl;\r\n        \r\n            public BaseEntity() {\r\n                this.created = new Date();\r\n                this.updated = new Date();\r\n                this.visible = true;\r\n            }\r\n        \r\n            @PreUpdate\r\n            public void preUpdate() {\r\n                this.updated = new Date();\r\n            }\r\n        \r\n            public Long getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(Long id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            public Date getCreated() {\r\n                return created;\r\n            }\r\n        \r\n            public void setCreated(Date created) {\r\n                this.created = created;\r\n            }\r\n        \r\n            public Date getUpdated() {\r\n                return updated;\r\n            }\r\n        \r\n            public void setUpdated(Date updated) {\r\n                this.updated = updated;\r\n            }\r\n        \r\n            public Boolean getVisible() {\r\n                return visible;\r\n            }\r\n        \r\n            public void setVisible(Boolean visible) {\r\n                this.visible = visible;\r\n            }\r\n        \r\n            public String getImageUrl() {\r\n                return imageUrl;\r\n            }\r\n        \r\n            public void setImageUrl(String imageUrl) {\r\n                this.imageUrl = imageUrl;\r\n            }\r\n        }\r\n\r\nMy Driver:\r\n\r\n    @Entity\r\n    @Table(name = &quot;drivers&quot;)\r\n    public class Driver extends BaseEntity {\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        private String notes;\r\n        private double balance;\r\n    \r\n        @ManyToMany(cascade = CascadeType.ALL)\r\n        @JoinTable(\r\n                name = &quot;driver_car&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;driver_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;car_id&quot;))\r\n        private Set&lt;Car&gt; cars;\r\n    \r\n        public Driver() {\r\n            super();\r\n            this.cars = new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        public Set&lt;Car&gt; getCars() {\r\n            return cars;\r\n        }\r\n    \r\n        public void setCars(Set&lt;Car&gt; cars) {\r\n            this.cars = cars;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getNotes() {\r\n            return notes;\r\n        }\r\n    \r\n        public void setNotes(String notes) {\r\n            this.notes = notes;\r\n        }\r\n    \r\n        public double getBalance() {\r\n            return balance;\r\n        }\r\n    \r\n        public void setBalance(double balance) {\r\n            this.balance = balance;\r\n        }\r\n    }\r\n\r\n   \r\n\r\nMy Car:\r\n\r\n    @Entity\r\n    @Transactional\r\n    public class Car extends BaseEntity {\r\n\r\n    @Column(name = &quot;cars_name&quot;)\r\n    private String carName;\r\n\r\n    private String color;\r\n\r\n    @Column(name = &quot;engine_of_capacity&quot;)\r\n    private double engineCapacity;\r\n\r\n    @Column(name = &quot;years_of_issue&quot;)\r\n    private Integer yearsOfIssue;\r\n\r\n    @Column(name = &quot;car_number&quot;)\r\n    private String carNumber;\r\n\r\n    @ManyToMany(mappedBy = &quot;cars&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Driver&gt; drivers;\r\n\r\n    public Car() {\r\n        super();\r\n        drivers = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    public Set&lt;Driver&gt; getDrivers() {\r\n        return drivers;\r\n    }\r\n\r\n    public void setDrivers(Set&lt;Driver&gt; drivers) {\r\n        this.drivers = drivers;\r\n    }\r\n\r\n    public String getCarNumber() {\r\n        return carNumber;\r\n    }\r\n\r\n    public void setCarNumber(String carNumber) {\r\n        this.carNumber = carNumber;\r\n    }\r\n\r\n    public String getCarName() {\r\n        return carName;\r\n    }\r\n\r\n    public void setCarName(String carName) {\r\n        this.carName = carName;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(String color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public double getEngineCapacity() {\r\n        return engineCapacity;\r\n    }\r\n\r\n    public void setEngineCapacity(double engineCapacity) {\r\n        this.engineCapacity = engineCapacity;\r\n    }\r\n\r\n    public Integer getYearsOfIssue() {\r\n        return yearsOfIssue;\r\n    }\r\n\r\n    public void setYearsOfIssue(Integer yearsOfIssue) {\r\n        this.yearsOfIssue = yearsOfIssue;\r\n    }\r\n    }\r\n\r\nDelete Car:\r\n\r\n    @Override\r\n    public void delete(Long id) {\r\n        entityManager.createQuery(&quot;delete from Car s where s.id = :id&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .executeUpdate();\r\n    }\r\n\r\nDelete Driver:\r\n\r\n    @Override\r\n    public void delete(Long id) {\r\n        entityManager.createQuery(&quot;delete from Driver d where d.id = :id&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .executeUpdate();\r\n    }\r\n\r\n","title":"How to delete many-to-many relationship?","body":"<p>I have a many-to-many relationship (Car &amp; driver) How, when deleting a Driver, delete a link in the driver_car table and delete cars that were bound to this driver, and vice versa, when deleting a car, simply delete a car and links in the driver_car table that are not associated with this by car?</p>\n<p>My BaseEntity:</p>\n<pre><code> @MappedSuperclass\n    public abstract class BaseEntity {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private Long id;\n    \n        @Temporal(TemporalType.TIMESTAMP)\n        private Date created;\n    \n        @Temporal(TemporalType.TIMESTAMP)\n        private Date updated;\n    \n    \n        private Boolean visible;\n    \n        @Column(name = &quot;image_url&quot;)\n        private String imageUrl;\n    \n        public BaseEntity() {\n            this.created = new Date();\n            this.updated = new Date();\n            this.visible = true;\n        }\n    \n        @PreUpdate\n        public void preUpdate() {\n            this.updated = new Date();\n        }\n    \n        public Long getId() {\n            return id;\n        }\n    \n        public void setId(Long id) {\n            this.id = id;\n        }\n    \n        public Date getCreated() {\n            return created;\n        }\n    \n        public void setCreated(Date created) {\n            this.created = created;\n        }\n    \n        public Date getUpdated() {\n            return updated;\n        }\n    \n        public void setUpdated(Date updated) {\n            this.updated = updated;\n        }\n    \n        public Boolean getVisible() {\n            return visible;\n        }\n    \n        public void setVisible(Boolean visible) {\n            this.visible = visible;\n        }\n    \n        public String getImageUrl() {\n            return imageUrl;\n        }\n    \n        public void setImageUrl(String imageUrl) {\n            this.imageUrl = imageUrl;\n        }\n    }\n</code></pre>\n<p>My Driver:</p>\n<pre><code>@Entity\n@Table(name = &quot;drivers&quot;)\npublic class Driver extends BaseEntity {\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    private String notes;\n    private double balance;\n\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;driver_car&quot;,\n            joinColumns = @JoinColumn(name = &quot;driver_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;car_id&quot;))\n    private Set&lt;Car&gt; cars;\n\n    public Driver() {\n        super();\n        this.cars = new HashSet&lt;&gt;();\n    }\n\n    public Set&lt;Car&gt; getCars() {\n        return cars;\n    }\n\n    public void setCars(Set&lt;Car&gt; cars) {\n        this.cars = cars;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getNotes() {\n        return notes;\n    }\n\n    public void setNotes(String notes) {\n        this.notes = notes;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n}\n</code></pre>\n<p>My Car:</p>\n<pre><code>@Entity\n@Transactional\npublic class Car extends BaseEntity {\n\n@Column(name = &quot;cars_name&quot;)\nprivate String carName;\n\nprivate String color;\n\n@Column(name = &quot;engine_of_capacity&quot;)\nprivate double engineCapacity;\n\n@Column(name = &quot;years_of_issue&quot;)\nprivate Integer yearsOfIssue;\n\n@Column(name = &quot;car_number&quot;)\nprivate String carNumber;\n\n@ManyToMany(mappedBy = &quot;cars&quot;, cascade = CascadeType.ALL)\nprivate Set&lt;Driver&gt; drivers;\n\npublic Car() {\n    super();\n    drivers = new HashSet&lt;&gt;();\n}\n\npublic Set&lt;Driver&gt; getDrivers() {\n    return drivers;\n}\n\npublic void setDrivers(Set&lt;Driver&gt; drivers) {\n    this.drivers = drivers;\n}\n\npublic String getCarNumber() {\n    return carNumber;\n}\n\npublic void setCarNumber(String carNumber) {\n    this.carNumber = carNumber;\n}\n\npublic String getCarName() {\n    return carName;\n}\n\npublic void setCarName(String carName) {\n    this.carName = carName;\n}\n\npublic String getColor() {\n    return color;\n}\n\npublic void setColor(String color) {\n    this.color = color;\n}\n\npublic double getEngineCapacity() {\n    return engineCapacity;\n}\n\npublic void setEngineCapacity(double engineCapacity) {\n    this.engineCapacity = engineCapacity;\n}\n\npublic Integer getYearsOfIssue() {\n    return yearsOfIssue;\n}\n\npublic void setYearsOfIssue(Integer yearsOfIssue) {\n    this.yearsOfIssue = yearsOfIssue;\n}\n}\n</code></pre>\n<p>Delete Car:</p>\n<pre><code>@Override\npublic void delete(Long id) {\n    entityManager.createQuery(&quot;delete from Car s where s.id = :id&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .executeUpdate();\n}\n</code></pre>\n<p>Delete Driver:</p>\n<pre><code>@Override\npublic void delete(Long id) {\n    entityManager.createQuery(&quot;delete from Driver d where d.id = :id&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .executeUpdate();\n}\n</code></pre>\n"},{"tags":["java","colors","graphics","composite"],"comments":[{"owner":{"account_id":3891254,"reputation":74,"user_id":3221383,"display_name":"pigi5"},"score":0,"creation_date":1410491156,"post_id":22290630,"comment_id":40355717,"body_markdown":"At least give a reason if you&#39;re going to -1. This is a perfectly valid question.","body":"At least give a reason if you&#39;re going to -1. This is a perfectly valid question."}],"answers":[{"tags":[],"owner":{"account_id":984446,"reputation":1160,"user_id":1003324,"accept_rate":91,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1401520647,"creation_date":1401520647,"answer_id":23967498,"question_id":22290630,"body_markdown":"I believe what you are looking for is an image filter. It sounds like you even have all the pieces for it built already. Your filter will be the image of the cursor, which will get drawn on top of everything else. The trick is, as you say, to draw each pixel of that cursor such that said pixel&#39;s color is a calculated &quot;opposite&quot; of the pixel color in the drawn space behind the cursor.\r\n\r\nI do not know the best way to go about this, but I know one way you might be able to improve on. Paint whatever your background is to a buffered image, then go get the color of the pixels your cursor will hover over using the `BufferedImage`&#39;s color model. This example is one I found [here][1] from another question.\r\n\r\n    BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_4BYTE_ABGR);\r\n    Graphics2D g2 = image.createGraphics();\r\n    _mainPanel.paint(g2);\r\n    image.getColorModel().getRGB(pixel);\r\n    g2.dispose();\r\n\r\nUltimately you&#39;ll use this buffered image of your background to get the pixels (and their colors) that your cursor overlaps, and then you can run some algorithm on the colors to invert them in your cursor, then redraw the cursor with the new colors.\r\n\r\n[This question][2] has a couple of solutions for that algorithm, though I have not personally tried them to see their effects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13308081/1003324\r\n  [2]: https://stackoverflow.com/questions/4672271/reverse-opposing-colors","title":"Java Graphics Invert Color Composite","body":"<p>I believe what you are looking for is an image filter. It sounds like you even have all the pieces for it built already. Your filter will be the image of the cursor, which will get drawn on top of everything else. The trick is, as you say, to draw each pixel of that cursor such that said pixel's color is a calculated \"opposite\" of the pixel color in the drawn space behind the cursor.</p>\n\n<p>I do not know the best way to go about this, but I know one way you might be able to improve on. Paint whatever your background is to a buffered image, then go get the color of the pixels your cursor will hover over using the <code>BufferedImage</code>'s color model. This example is one I found <a href=\"https://stackoverflow.com/a/13308081/1003324\">here</a> from another question.</p>\n\n<pre><code>BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_4BYTE_ABGR);\nGraphics2D g2 = image.createGraphics();\n_mainPanel.paint(g2);\nimage.getColorModel().getRGB(pixel);\ng2.dispose();\n</code></pre>\n\n<p>Ultimately you'll use this buffered image of your background to get the pixels (and their colors) that your cursor overlaps, and then you can run some algorithm on the colors to invert them in your cursor, then redraw the cursor with the new colors.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4672271/reverse-opposing-colors\">This question</a> has a couple of solutions for that algorithm, though I have not personally tried them to see their effects.</p>\n"}],"owner":{"account_id":3891254,"reputation":74,"user_id":3221383,"display_name":"pigi5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3986,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23967498,"answer_count":1,"score":0,"last_activity_date":1641589328,"creation_date":1394414796,"question_id":22290630,"body_markdown":"Basically what I want to do is make a cursor for a JComponent that&#39;s pixels appear as the inverse of the color they are over. For example, take your mouse and hover it over the letters in the url for this page. If you look closely, the pixels of the cursor that are over black pixels of a letter turn white. I know you can invert an RGB color by subtracting the current red, green, and blue colors from 255 for the each corresponding field, but I don&#39;t know how to implement this the way I want.\r\n\r\nThis is part of a basic paint program I am making. The JComponent I mentioned before is my &quot;canvas&quot; that you can draw on with various tools. I am **NOT** using java.awt.Cursor to change my cursor because I want the cursor to change dynamically according to what is under it. The &quot;cursor&quot; that I am using is defined as a .png image, and I am creating a BufferedImage from this file that I can then draw on top of the existing BufferedImage of the whole component. I redraw this image using a point defined by a MouseListener.\r\n\r\nI looked into AlphaComposite and it looks close to what I want, but there is nothing about inverting the colors underneath the cursor like I want. Please help.\r\n\r\nEDIT:\r\n\r\nSo I just had to do it the hard way with an algorithm because there&#39;s nothing built in for this purpose. Here&#39;s the code a little out of context:\r\n\r\n    /**\r\n    * Changes the color of each pixel under the cursor shape in the image \r\n    * to the complimentary color of that pixel.\r\n    *\r\n    * @param  points  an array of points relative to the cursor image that\r\n    *                 represents each black pixel of the cursor image\r\n    * @param  cP      the point relative to the cursor image that is used\r\n    *                 as the hotSpot of the cursor\r\n    */\r\n    public void drawCursorByPixel(ArrayList&lt;Point&gt; points, Point cP) {\r\n\t\tPoint mL = handler.getMouseLocation();\r\n\t\tif (mL != null) {\r\n\t\t\tfor (Point p : points) {\r\n\t\t\t\tint x = mL.x + p.x - cP.x;\r\n\t\t\t\tint y = mL.y + p.y - cP.y;\r\n\t\t\t\tif (x &gt;= 0 &amp;&amp; x &lt; image.getWidth() &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; image.getHeight()) {\r\n\t\t\t\t\timage.setRGB(x, y, getCompliment(image.getRGB(x, y)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    public int getCompliment(int c) {\r\n\t\tColor col = new Color(c);\r\n\t\tint newR = 255 - col.getRed();\r\n\t\tint newG = 255 - col.getGreen();\r\n\t\tint newB = 255 - col.getBlue();\r\n\r\n\t\treturn new Color(newR, newG, newB).getRGB();\r\n\t}","title":"Java Graphics Invert Color Composite","body":"<p>Basically what I want to do is make a cursor for a JComponent that's pixels appear as the inverse of the color they are over. For example, take your mouse and hover it over the letters in the url for this page. If you look closely, the pixels of the cursor that are over black pixels of a letter turn white. I know you can invert an RGB color by subtracting the current red, green, and blue colors from 255 for the each corresponding field, but I don't know how to implement this the way I want.</p>\n\n<p>This is part of a basic paint program I am making. The JComponent I mentioned before is my \"canvas\" that you can draw on with various tools. I am <strong>NOT</strong> using java.awt.Cursor to change my cursor because I want the cursor to change dynamically according to what is under it. The \"cursor\" that I am using is defined as a .png image, and I am creating a BufferedImage from this file that I can then draw on top of the existing BufferedImage of the whole component. I redraw this image using a point defined by a MouseListener.</p>\n\n<p>I looked into AlphaComposite and it looks close to what I want, but there is nothing about inverting the colors underneath the cursor like I want. Please help.</p>\n\n<p>EDIT:</p>\n\n<p>So I just had to do it the hard way with an algorithm because there's nothing built in for this purpose. Here's the code a little out of context:</p>\n\n<pre><code>/**\n* Changes the color of each pixel under the cursor shape in the image \n* to the complimentary color of that pixel.\n*\n* @param  points  an array of points relative to the cursor image that\n*                 represents each black pixel of the cursor image\n* @param  cP      the point relative to the cursor image that is used\n*                 as the hotSpot of the cursor\n*/\npublic void drawCursorByPixel(ArrayList&lt;Point&gt; points, Point cP) {\n    Point mL = handler.getMouseLocation();\n    if (mL != null) {\n        for (Point p : points) {\n            int x = mL.x + p.x - cP.x;\n            int y = mL.y + p.y - cP.y;\n            if (x &gt;= 0 &amp;&amp; x &lt; image.getWidth() &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; image.getHeight()) {\n                image.setRGB(x, y, getCompliment(image.getRGB(x, y)));\n            }\n        }\n    }\n}\n\npublic int getCompliment(int c) {\n    Color col = new Color(c);\n    int newR = 255 - col.getRed();\n    int newG = 255 - col.getGreen();\n    int newB = 255 - col.getBlue();\n\n    return new Color(newR, newG, newB).getRGB();\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1438965242,"post_id":31882593,"comment_id":51682769,"body_markdown":"Can you explain the role of variable x? Can you explain what you mean by filliping? please","body":"Can you explain the role of variable x? Can you explain what you mean by filliping? please"},{"owner":{"account_id":5066626,"reputation":735,"user_id":4094697,"display_name":"user"},"score":0,"creation_date":1438965669,"post_id":31882593,"comment_id":51683018,"body_markdown":"Your are overriding old values. You have to swap values. Keep in mind arrays are references so you are working on the original data.","body":"Your are overriding old values. You have to swap values. Keep in mind arrays are references so you are working on the original data."},{"owner":{"account_id":469859,"reputation":604,"user_id":876724,"accept_rate":92,"display_name":"Noli"},"score":0,"creation_date":1438966113,"post_id":31882593,"comment_id":51683247,"body_markdown":"Are you trying to invert the color of the image or are you about to rotate/mirror it?","body":"Are you trying to invert the color of the image or are you about to rotate/mirror it?"}],"answers":[{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438965801,"creation_date":1438965801,"answer_id":31882795,"question_id":31882593,"body_markdown":"After you have reversed half of them, you have lost the original values in the first half, then the rest of the loop just copies those replaced values back into themselves.","title":"Java array manipulation, invert an int[][] array","body":"<p>After you have reversed half of them, you have lost the original values in the first half, then the rest of the loop just copies those replaced values back into themselves.</p>\n"},{"tags":[],"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438965922,"creation_date":1438965922,"answer_id":31882827,"question_id":31882593,"body_markdown":"Make a method:\r\n\r\n    public static int[] reversArray(int[] array){\r\n        for(int i = 0; i &lt; Math.ceil(array.length/2); i++){\r\n            int temp = array[i];\r\n            array[i] = array[array.length - (i+1)];\r\n            array[array.length - (i+1)] = temp;\r\n        }\r\n        return array;\r\n    }\r\nThen:\r\n\r\n    for(int i = 0; i &lt; someArray.length; i++{\r\n      someArray[i] = reverseArray(someArray[i]);\r\n    }\r\n    reverseArray(someArray);","title":"Java array manipulation, invert an int[][] array","body":"<p>Make a method:</p>\n\n<pre><code>public static int[] reversArray(int[] array){\n    for(int i = 0; i &lt; Math.ceil(array.length/2); i++){\n        int temp = array[i];\n        array[i] = array[array.length - (i+1)];\n        array[array.length - (i+1)] = temp;\n    }\n    return array;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>for(int i = 0; i &lt; someArray.length; i++{\n  someArray[i] = reverseArray(someArray[i]);\n}\nreverseArray(someArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1438965940,"creation_date":1438965940,"answer_id":31882830,"question_id":31882593,"body_markdown":"The problem is because you are manipulating the same array.\r\n\r\nRemember java `arrays` are reference types. So your `tempArray` and `someArray` is referring to the same array.\r\n\r\nNow, let&#39;s say row 1 of your array is `{1,2,3}` and your output should be `{3,2,1}`.\r\n\r\nBut since it&#39;s the same array, during the first iteration, the array will become `{3,2,3}`. And in the third iteration you are reading the same array and trying to replace `3` in `col=2` with the `3` in `col=0`. So your result is `3,2,3`.\r\n\r\nYou should instead create a new array.\r\n\r\n**replace:**\r\n\r\n        int[][] tempArray= someArray;\r\n\r\nwith\r\n\r\n        int[][] tempArray = new int[someArray.length][someArray[0].length];\r\n        // If you have variable length column, you may want to intialize it inside the loop.","title":"Java array manipulation, invert an int[][] array","body":"<p>The problem is because you are manipulating the same array.</p>\n\n<p>Remember java <code>arrays</code> are reference types. So your <code>tempArray</code> and <code>someArray</code> is referring to the same array.</p>\n\n<p>Now, let's say row 1 of your array is <code>{1,2,3}</code> and your output should be <code>{3,2,1}</code>.</p>\n\n<p>But since it's the same array, during the first iteration, the array will become <code>{3,2,3}</code>. And in the third iteration you are reading the same array and trying to replace <code>3</code> in <code>col=2</code> with the <code>3</code> in <code>col=0</code>. So your result is <code>3,2,3</code>.</p>\n\n<p>You should instead create a new array.</p>\n\n<p><strong>replace:</strong></p>\n\n<pre><code>    int[][] tempArray= someArray;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    int[][] tempArray = new int[someArray.length][someArray[0].length];\n    // If you have variable length column, you may want to intialize it inside the loop.\n</code></pre>\n"}],"owner":{"account_id":6750857,"reputation":11,"user_id":5200878,"accept_rate":50,"display_name":"lexIcon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31882830,"answer_count":3,"score":0,"last_activity_date":1641588914,"creation_date":1438965071,"question_id":31882593,"body_markdown":"I am trying to flip each col in this array to invert the image. However, when I run my code, I get a mirror image of the second half of the image, for some ridiculous reason, that I cannot figure out. Can someone please tell me why this only works half-way? \r\n\r\n    public void invert() { \r\n\t\tint[][] tempArray= someArray;\r\n\r\n\t\tfor(int row = 0; row &lt; someArray.length; ++row)\r\n\t\t{\r\n\t\t\tint x = someArray[row].length - 1;\r\n\t\t\tfor(int col = 0; col &lt; someArray[i].length; ++col, --x)\r\n\t\t\t{\r\n\t\t\t\ttempArray[row][col] = someArray[row][x];\r\n\t\t\t}\r\n\t\t}\r\n\t\tsomeArray = tempArray;\r\n\t} \r\n\r\nsomeArray is an int[][] array defined elsewhere in my class of size 328x500 \r\nint x is a counter variable to decrement through the columns backwards","title":"Java array manipulation, invert an int[][] array","body":"<p>I am trying to flip each col in this array to invert the image. However, when I run my code, I get a mirror image of the second half of the image, for some ridiculous reason, that I cannot figure out. Can someone please tell me why this only works half-way? </p>\n\n<pre><code>public void invert() { \n    int[][] tempArray= someArray;\n\n    for(int row = 0; row &lt; someArray.length; ++row)\n    {\n        int x = someArray[row].length - 1;\n        for(int col = 0; col &lt; someArray[i].length; ++col, --x)\n        {\n            tempArray[row][col] = someArray[row][x];\n        }\n    }\n    someArray = tempArray;\n} \n</code></pre>\n\n<p>someArray is an int[][] array defined elsewhere in my class of size 328x500 \nint x is a counter variable to decrement through the columns backwards</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1641589057,"post_id":70625568,"comment_id":124852524,"body_markdown":"Why do you have Double.parseDouble for your first token? Why are you passing one token at a time to convert. This is really confusing. Is there a general structure to your file? Are there tabs and spaces?","body":"Why do you have Double.parseDouble for your first token? Why are you passing one token at a time to convert. This is really confusing. Is there a general structure to your file? Are there tabs and spaces?"},{"owner":{"account_id":21113884,"reputation":23,"user_id":15521338,"display_name":"kitsune"},"score":0,"creation_date":1641589698,"post_id":70625568,"comment_id":124852699,"body_markdown":"i didn&#39;t notice that at first then i noticed it thank you","body":"i didn&#39;t notice that at first then i noticed it thank you"}],"answers":[{"tags":[],"owner":{"account_id":23818499,"reputation":11,"user_id":17826421,"display_name":"3rnie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641581888,"creation_date":1641581888,"answer_id":70625924,"question_id":70625568,"body_markdown":"&quot;s&quot; is just a string that represents one line of your data\r\n\r\nIf you process it like a variable instead of a stream, you can use split.\r\n\r\nThere are several ways to do this, my preferences is as follows:\r\n\r\n    String parts_of_s = s.split(&quot; &quot;);\r\n\r\n    String s1 = s[0]; // you can in-line converting to double as you did above\r\n\tString s2 = parts_of_s[1];\r\n\r\n\tString remaining_string = s.substring(s1.length()+1 + s2.length()+1); // length indexes at zero\r\n\r\n\tString string_date = remaining_string.substring(0, 28); // since you know how many characters there are in the format\r\n\r\n\tString s3 = parts_of_s[8];\r\n\tString s4 = parts_of_s[9];\r\n\r\nIf you&#39;re dealing with super-long lines of data where efficiency matters (you probably won&#39;t), you could pursue other avenues:\r\n\r\n - read the next 28 characters\r\n - read the next 6 tokens and concatenate with a space\r\n\r\n","title":"reading a whole date and time with spaces in a file","body":"<p>&quot;s&quot; is just a string that represents one line of your data</p>\n<p>If you process it like a variable instead of a stream, you can use split.</p>\n<p>There are several ways to do this, my preferences is as follows:</p>\n<pre><code>String parts_of_s = s.split(&quot; &quot;);\n\nString s1 = s[0]; // you can in-line converting to double as you did above\nString s2 = parts_of_s[1];\n\nString remaining_string = s.substring(s1.length()+1 + s2.length()+1); // length indexes at zero\n\nString string_date = remaining_string.substring(0, 28); // since you know how many characters there are in the format\n\nString s3 = parts_of_s[8];\nString s4 = parts_of_s[9];\n</code></pre>\n<p>If you're dealing with super-long lines of data where efficiency matters (you probably won't), you could pursue other avenues:</p>\n<ul>\n<li>read the next 28 characters</li>\n<li>read the next 6 tokens and concatenate with a space</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1485868,"reputation":676,"user_id":1394172,"display_name":"hillel_guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641588550,"creation_date":1641584611,"answer_id":70626392,"question_id":70625568,"body_markdown":"In case you know the date will always start with the day of week (e.g. Sat, Sun...), you can create a method to check if the current token is a known day.\r\nIn case this is a week day, collect the following 6 tokens (or whatever tokens count you need to form a valid date) and send them together as String to your convert method.\r\n\r\n```\r\nif (isDayOfWeek(token)) {\r\n   List&lt;String&gt; dateTokens = getNextTokens(token, 6);\r\n   String dateString = String.join(&quot; &quot;, dateTokens);\r\n   Date date = convert(dateString);\r\n}\r\n\r\n\r\nprivate boolean isDayOfWeek(String dayString) {\r\n  Locale locale = Locale.getDefault();\r\n  return Arrays.stream(DayOfWeek.values())\r\n                .map(day -&gt; day.getDisplayName(TextStyle.SHORT, locale))\r\n                .anyMatch(dayString::equals);\r\n}\r\n\r\n\r\nprivate List&lt;String&gt; getNextTokens(StringTokenizer token, int tokenCount) {\r\n  return IntStream.rangeClosed(1, tokenCount)\r\n                .mapToObj(i -&gt;token.nextToken())\r\n                .collect(Collectors.toList());\r\n}","title":"reading a whole date and time with spaces in a file","body":"<p>In case you know the date will always start with the day of week (e.g. Sat, Sun...), you can create a method to check if the current token is a known day.\nIn case this is a week day, collect the following 6 tokens (or whatever tokens count you need to form a valid date) and send them together as String to your convert method.</p>\n<pre><code>if (isDayOfWeek(token)) {\n   List&lt;String&gt; dateTokens = getNextTokens(token, 6);\n   String dateString = String.join(&quot; &quot;, dateTokens);\n   Date date = convert(dateString);\n}\n\n\nprivate boolean isDayOfWeek(String dayString) {\n  Locale locale = Locale.getDefault();\n  return Arrays.stream(DayOfWeek.values())\n                .map(day -&gt; day.getDisplayName(TextStyle.SHORT, locale))\n                .anyMatch(dayString::equals);\n}\n\n\nprivate List&lt;String&gt; getNextTokens(StringTokenizer token, int tokenCount) {\n  return IntStream.rangeClosed(1, tokenCount)\n                .mapToObj(i -&gt;token.nextToken())\n                .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":21113884,"reputation":23,"user_id":15521338,"display_name":"kitsune"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70626392,"answer_count":2,"score":0,"last_activity_date":1641588550,"creation_date":1641579658,"question_id":70625568,"body_markdown":"this question may have been asked before but didn&#39;t find any clue for my problem here,\r\n\r\nhere is my problem : I have a file that is like this :\r\n\r\n&gt;  abc fg Sat Jan 08 19:06:21 IST 2022 4 4.0\r\n\r\nhere is my code that reads from the file : \r\n\r\n\t\t\t\r\n\r\n  ```java\r\n \r\n\r\n     BufferedReader read4 = new BufferedReader(new FileReader(&quot;shortDelvsFile.txt&quot;));\r\n        \r\n        while ((s = read4.readLine()) != null) {\r\n        \t\t\t\t\ttoken = new StringTokenizer(s);\r\n        \t\t\t\t\tdouble str1 = Double.parseDouble(token.nextToken());\r\n        \t\t\t\t\tInteger str2 = Integer.parseInt(token.nextToken());\r\n        \t\t\t\t\twhile (token.hasMoreTokens()) {\r\n        \t\t\t\t\t\tSystem.out.println(convert(token.nextToken()));\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\tShortDeliveries d = new ShortDeliveries(token.nextToken(), token.nextToken(),\r\n        \t\t\t\t\t\t\tconvert(token.nextToken()), str2, str1);\r\n        \t\t\t\t\tshortDelvss.add(d);\r\n        \t\t\t\t}\r\n        \t\t\t\tSystem.out.println(&quot;the short deliveries are : &quot; + shortDelvss);\r\n        \r\n        \t\t\t\tread4.close();\r\n\r\n\t// this function is to convert the string to date\r\n\tpublic static Date convert(String s) throws ParseException {\r\n\t\tDate date = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH).parse(s);\r\n\t\tSystem.out.println(date);\r\n\t\treturn date;\r\n}\r\n\r\n```\r\n\r\n\r\n now i want each ``token.nextToken();``` inside the ShortDeliveries to be like this:\r\n\r\n```token.nextToken() = abc\r\ntoken.nextToken() = fg\r\nconvert(token.nextToken()) = Sat Jan 08 19:06:21 IST 2022\r\nstr1 = 4\r\nstr2 = 4.0;```\r\n\r\nthe problem is that in convert(token.nextToken()) it doesn&#39;t take the whole date because tokenizer reads until the first space how can i fix that?\r\n\r\n\r\n","title":"reading a whole date and time with spaces in a file","body":"<p>this question may have been asked before but didn't find any clue for my problem here,</p>\n<p>here is my problem : I have a file that is like this :</p>\n<blockquote>\n<p>abc fg Sat Jan 08 19:06:21 IST 2022 4 4.0</p>\n</blockquote>\n<p>here is my code that reads from the file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n   BufferedReader read4 = new BufferedReader(new FileReader(&quot;shortDelvsFile.txt&quot;));\n      \n      while ((s = read4.readLine()) != null) {\n                          token = new StringTokenizer(s);\n                          double str1 = Double.parseDouble(token.nextToken());\n                          Integer str2 = Integer.parseInt(token.nextToken());\n                          while (token.hasMoreTokens()) {\n                              System.out.println(convert(token.nextToken()));\n                          }\n                          ShortDeliveries d = new ShortDeliveries(token.nextToken(), token.nextToken(),\n                                  convert(token.nextToken()), str2, str1);\n                          shortDelvss.add(d);\n                      }\n                      System.out.println(&quot;the short deliveries are : &quot; + shortDelvss);\n      \n                      read4.close();\n\n  // this function is to convert the string to date\n  public static Date convert(String s) throws ParseException {\n      Date date = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss z yyyy&quot;, Locale.ENGLISH).parse(s);\n      System.out.println(date);\n      return date;\n}\n\n</code></pre>\n<p>now i want each ``token.nextToken();``` inside the ShortDeliveries to be like this:</p>\n<pre><code>token.nextToken() = fg\nconvert(token.nextToken()) = Sat Jan 08 19:06:21 IST 2022\nstr1 = 4\nstr2 = 4.0;```\n\nthe problem is that in convert(token.nextToken()) it doesn't take the whole date because tokenizer reads until the first space how can i fix that?\n\n\n</code></pre>\n"},{"tags":["java","logging","log4j","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1615905013,"creation_date":1530747004,"answer_id":51181745,"question_id":50936465,"body_markdown":"So what did finally work for my project was creating a configuration for `sl4j` / logback -- I couldn&#39;t make it work for log4j etc.\r\n\r\nSo under `main/java/resources/logback.xml`\r\n\r\n\r\n    &lt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n         &lt;configuration&gt;\r\n         &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n         &lt;encoder&gt;\r\n              &lt;pattern&gt;%d{HH:mm:ss} %thread %-5level %logger{36} %msg%n&lt;/pattern&gt;\r\n         &lt;/encoder&gt;\r\n         &lt;/appender&gt;\r\n    \r\n         &lt;logger name=&quot;org.apache&quot; level=&quot;ERROR&quot;/&gt;\r\n         &lt;logger name=&quot;httpclient&quot; level=&quot;ERROR&quot;/&gt;\r\n    \r\n         &lt;root level=&quot;DEBUG&quot;&gt;\r\n              &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n         &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nin maven I simply included dependency for slf4j\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n         &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\nand its all working now.","title":"Can&#39;t turn off HttpClient Wire debug log messages","body":"<p>So what did finally work for my project was creating a configuration for <code>sl4j</code> / logback -- I couldn't make it work for log4j etc.</p>\n<p>So under <code>main/java/resources/logback.xml</code></p>\n<pre><code>&lt;xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n     &lt;configuration&gt;\n     &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n     &lt;encoder&gt;\n          &lt;pattern&gt;%d{HH:mm:ss} %thread %-5level %logger{36} %msg%n&lt;/pattern&gt;\n     &lt;/encoder&gt;\n     &lt;/appender&gt;\n\n     &lt;logger name=&quot;org.apache&quot; level=&quot;ERROR&quot;/&gt;\n     &lt;logger name=&quot;httpclient&quot; level=&quot;ERROR&quot;/&gt;\n\n     &lt;root level=&quot;DEBUG&quot;&gt;\n          &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n     &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>in maven I simply included dependency for slf4j</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n     &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>and its all working now.</p>\n"},{"tags":[],"owner":{"account_id":16106198,"reputation":21,"user_id":11625655,"display_name":"Kayden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641588162,"creation_date":1590677636,"answer_id":62067759,"question_id":50936465,"body_markdown":"Well, I was able to make my log4j properties work using deps:\r\n\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-log4j12&#39;, version: 1.7.25\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: 1.7.25\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;jcl-over-slf4j&#39;, version: 1.7.25\r\n\r\nor\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.25&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnd have a `src/java/(main|test)/resources/log4j.properties`:\r\n\r\n    log4j.rootLogger=DEBUG, stdout\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n\r\n    log4j.logger.org.apache.http=ERROR\r\n    log4j.logger.org.apache.http.wire=ERROR","title":"Can&#39;t turn off HttpClient Wire debug log messages","body":"<p>Well, I was able to make my log4j properties work using deps:</p>\n<pre><code>implementation group: 'org.slf4j', name: 'slf4j-log4j12', version: 1.7.25\nimplementation group: 'org.slf4j', name: 'slf4j-api', version: 1.7.25\nimplementation group: 'org.slf4j', name: 'jcl-over-slf4j', version: 1.7.25\n</code></pre>\n<p>or</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.25&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.7.25&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;1.7.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And have a <code>src/java/(main|test)/resources/log4j.properties</code>:</p>\n<pre><code>log4j.rootLogger=DEBUG, stdout\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n\nlog4j.logger.org.apache.http=ERROR\nlog4j.logger.org.apache.http.wire=ERROR\n</code></pre>\n"}],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8632,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":51181745,"answer_count":2,"score":7,"last_activity_date":1641588162,"creation_date":1529440161,"question_id":50936465,"body_markdown":"I have been trying to set Wire to not send DEBUG to console, but no matter what I do, it won&#39;t listen.\r\n\r\nI have log4j initialized properly:  I do not get any appender messages,  log4j is obeying my class and console levels.  \r\n\r\nIn log4j.properties I have every foreseeable way to write wire:\r\n\r\n        log4j.logger.org.httpclient=ERROR\r\n        log4j.logger.org.apache=ERROR\r\n        log4j.logger.org.apache.http=ERROR\r\n        log4j.logger.org.apache.http.wire=ERROR\r\n        log4j.logger.org.apache.http.wire.headers=ERROR\r\n        log4j.logger.httpclient.wire=ERROR\r\n        log4j.logger.httpclient.headers=ERROR\r\n        log4j.logger.httpclient.content=ERROR\r\n        log4j.logger.org.apache.hc.client5.http.wire=ERROR\r\n        log4j.logger.httpclient=ERROR\r\n        wire=ERROR\r\n        http=ERROR\r\n\r\nI then thought why not print all loggers after calling it?\r\nSo i did just that.  I get a nice printout of everything mentioned above, and my current class.  Nothing else prints from iterating through `LogManager.getCurrentLoggers()`\r\n\r\nI think I&#39;ve read every result on Google at this point.  Any guidance would be appreciated.\r\n\r\nAbout the project: Project is a maven Project - pom.xml includes the resource folder. To make this work I literally made a ControlLogging class and `PropertyConfiguratior.configure(&quot;log4j.properties&quot;)` is called first. I call this function `@Before` test runs, and in the static class that&#39;s making the API calls. Doing the printing at any point doesn&#39;t reveal the Wire logger.","title":"Can&#39;t turn off HttpClient Wire debug log messages","body":"<p>I have been trying to set Wire to not send DEBUG to console, but no matter what I do, it won't listen.</p>\n\n<p>I have log4j initialized properly:  I do not get any appender messages,  log4j is obeying my class and console levels.  </p>\n\n<p>In log4j.properties I have every foreseeable way to write wire:</p>\n\n<pre><code>    log4j.logger.org.httpclient=ERROR\n    log4j.logger.org.apache=ERROR\n    log4j.logger.org.apache.http=ERROR\n    log4j.logger.org.apache.http.wire=ERROR\n    log4j.logger.org.apache.http.wire.headers=ERROR\n    log4j.logger.httpclient.wire=ERROR\n    log4j.logger.httpclient.headers=ERROR\n    log4j.logger.httpclient.content=ERROR\n    log4j.logger.org.apache.hc.client5.http.wire=ERROR\n    log4j.logger.httpclient=ERROR\n    wire=ERROR\n    http=ERROR\n</code></pre>\n\n<p>I then thought why not print all loggers after calling it?\nSo i did just that.  I get a nice printout of everything mentioned above, and my current class.  Nothing else prints from iterating through <code>LogManager.getCurrentLoggers()</code></p>\n\n<p>I think I've read every result on Google at this point.  Any guidance would be appreciated.</p>\n\n<p>About the project: Project is a maven Project - pom.xml includes the resource folder. To make this work I literally made a ControlLogging class and <code>PropertyConfiguratior.configure(\"log4j.properties\")</code> is called first. I call this function <code>@Before</code> test runs, and in the static class that's making the API calls. Doing the printing at any point doesn't reveal the Wire logger.</p>\n"},{"tags":["java","matrix","matrix-inverse","ejml"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1437727718,"post_id":31605917,"comment_id":51162450,"body_markdown":"Seems that this is not a production quality function. You could apply it **twice** to see whether the original matrix is achieved.","body":"Seems that this is not a production quality function. You could apply it <b>twice</b> to see whether the original matrix is achieved."},{"owner":{"account_id":5783996,"reputation":192,"user_id":4563824,"display_name":"Julian"},"score":0,"creation_date":1437843238,"post_id":31605917,"comment_id":51205068,"body_markdown":"That sounds like a more solid approach than looking for Infinites/Nan; although it would take more than twice the computing. That would be an issue as this function is called very frequently and despite I&#39;ve used it for months I&#39;ve only had this unexpected behavior once, so I understand it is a corner case. Thanks for your input @JoopEggen I&#39;ll keep an eye our for a better quality function.","body":"That sounds like a more solid approach than looking for Infinites/Nan; although it would take more than twice the computing. That would be an issue as this function is called very frequently and despite I&#39;ve used it for months I&#39;ve only had this unexpected behavior once, so I understand it is a corner case. Thanks for your input @JoopEggen I&#39;ll keep an eye our for a better quality function."}],"answers":[{"tags":[],"owner":{"account_id":93599,"reputation":2732,"user_id":255985,"display_name":"lessthanoptimal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437889621,"creation_date":1437889621,"answer_id":31634081,"question_id":31605917,"body_markdown":"You should try using SVD if you have to have an inverse.  Also consider a pseudo inverse instead.  Basically any library using LU decomposition will have serious issues.   Here&#39;s the output from Octave.  Note how two of the singular values are almost zero.  Octave will give you an inverse with real numbers, but it&#39;s a poor one...\r\n\r\n    octave:7&gt; cond(B)\r\n    ans =    8.5768e+17\r\n    octave:8&gt; svd(B)\r\n    ans =\r\n    \r\n       8.6280e+01\r\n       3.7146e-15\r\n       1.0060e-16\r\n    \r\n    inv(B)*B\r\n    warning: inverse: matrix singular to machine precision, rcond = 4.97813e-19\r\n    ans =\r\n    \r\n       0.62500   0.06250   0.03125\r\n       0.00000   0.00000   0.00000\r\n       0.00000   0.00000   4.00000\r\n\r\n","title":"Java: Inverse of a matrix using EJML not working as expected","body":"<p>You should try using SVD if you have to have an inverse.  Also consider a pseudo inverse instead.  Basically any library using LU decomposition will have serious issues.   Here's the output from Octave.  Note how two of the singular values are almost zero.  Octave will give you an inverse with real numbers, but it's a poor one...</p>\n\n<pre><code>octave:7&gt; cond(B)\nans =    8.5768e+17\noctave:8&gt; svd(B)\nans =\n\n   8.6280e+01\n   3.7146e-15\n   1.0060e-16\n\ninv(B)*B\nwarning: inverse: matrix singular to machine precision, rcond = 4.97813e-19\nans =\n\n   0.62500   0.06250   0.03125\n   0.00000   0.00000   0.00000\n   0.00000   0.00000   4.00000\n</code></pre>\n"}],"owner":{"account_id":5783996,"reputation":192,"user_id":4563824,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31634081,"answer_count":1,"score":0,"last_activity_date":1641587431,"creation_date":1437727268,"question_id":31605917,"body_markdown":"Within a java project I&#39;ve developed I need to calculate the inverse of a matrix. In order to align with other projects and other developers I&#39;m using the Efficient Java Matrix Library (orj.ejml).\r\n\r\nFor inverting the Matrix I&#39;m using invert from org.ejml.ops.CommonOps, and I has worked fine until now that I&#39;m getting a unexpected result\r\n\r\nI&#39;ve isolated the case that doesn&#39;t work to be:\r\n\r\n    \tDenseMatrix64F X = new DenseMatrix64F(3, 3);\r\n\t\tX.setData(new double[]{77.44000335693366,-24.64000011444091,-8.800000190734865,\t-24.640000114440916,7.839999732971196,2.799999952316285, -8.800000190734865,2.799999952316285,1.0000000000000004});\r\n\t\tDenseMatrix64F invX = new DenseMatrix64F(3, 3);\r\n\t\tboolean completed = CommonOps.invert(X, invX);\r\n\t\tSystem.out.println(X);\r\n\t\tSystem.out.println(invX);\r\n\t\tSystem.out.println(completed);\t\r\nThe output I get from this test is:\r\n\r\n&gt; Type = dense , numRows = 3 , numCols = 3  \r\n&gt; 77.440  -24.640  -8.800  \r\n&gt; -24.640   7.840   2.800  \r\n&gt; -8.800   2.800   1.000  \r\n&gt; \r\n&gt; Type = dense , numRows = 3 , numCols = 3  \r\n&gt; NaN  -Infinity  Infinity     \r\n&gt; NaN  Infinity  -Infinity  \r\n&gt; NaN  -Infinity  Infinity  \r\n&gt; \r\n&gt; true\r\n\r\nMy first thought was that it could be a singular matrix and therefore not invertible, but after testing the same matrix with a different calculation tool I&#39;ve found that it is not singular.\r\n\r\nSo I went back to the EJML documentation and found out the following information for this particular function.\r\n\r\n&gt; If the algorithm could not invert the matrix then false is returned. If it returns true that just means the algorithm finished. The results could still be bad because the matrix is singular or nearly singular.\r\n\r\nAnd, in this particular case the matrix is not singular but we could say it is near singular.\r\n\r\nThe only solution I could think off was to search the inverted matrix for NaN or Infinites after calculating it, and if I find something funny in there I just replace the inverted matrix with the original matrix, although it doesn&#39;t seem a very clean practice it yields reasonable results.\r\n\r\nMy question is:\r\n\r\n - Could you think of any solution for this situation? Something smarter and wiser than just using the original matrix as its own inverse matrix.\r\n\r\n - In case there is no way around it, do you know of any other Java Matrix library that has some solution to this situation, I&#39;m not looking forward to introduce a new library but it may be the only solution if this becomes a real problem.\r\n\r\n\r\nRegards and thanks for your inputs!\r\n ","title":"Java: Inverse of a matrix using EJML not working as expected","body":"<p>Within a java project I've developed I need to calculate the inverse of a matrix. In order to align with other projects and other developers I'm using the Efficient Java Matrix Library (orj.ejml).</p>\n\n<p>For inverting the Matrix I'm using invert from org.ejml.ops.CommonOps, and I has worked fine until now that I'm getting a unexpected result</p>\n\n<p>I've isolated the case that doesn't work to be:</p>\n\n<pre><code>    DenseMatrix64F X = new DenseMatrix64F(3, 3);\n    X.setData(new double[]{77.44000335693366,-24.64000011444091,-8.800000190734865, -24.640000114440916,7.839999732971196,2.799999952316285, -8.800000190734865,2.799999952316285,1.0000000000000004});\n    DenseMatrix64F invX = new DenseMatrix64F(3, 3);\n    boolean completed = CommonOps.invert(X, invX);\n    System.out.println(X);\n    System.out.println(invX);\n    System.out.println(completed);  \n</code></pre>\n\n<p>The output I get from this test is:</p>\n\n<blockquote>\n  <p>Type = dense , numRows = 3 , numCols = 3<br>\n  77.440  -24.640  -8.800<br>\n  -24.640   7.840   2.800<br>\n  -8.800   2.800   1.000  </p>\n  \n  <p>Type = dense , numRows = 3 , numCols = 3<br>\n  NaN  -Infinity  Infinity<br>\n  NaN  Infinity  -Infinity<br>\n  NaN  -Infinity  Infinity  </p>\n  \n  <p>true</p>\n</blockquote>\n\n<p>My first thought was that it could be a singular matrix and therefore not invertible, but after testing the same matrix with a different calculation tool I've found that it is not singular.</p>\n\n<p>So I went back to the EJML documentation and found out the following information for this particular function.</p>\n\n<blockquote>\n  <p>If the algorithm could not invert the matrix then false is returned. If it returns true that just means the algorithm finished. The results could still be bad because the matrix is singular or nearly singular.</p>\n</blockquote>\n\n<p>And, in this particular case the matrix is not singular but we could say it is near singular.</p>\n\n<p>The only solution I could think off was to search the inverted matrix for NaN or Infinites after calculating it, and if I find something funny in there I just replace the inverted matrix with the original matrix, although it doesn't seem a very clean practice it yields reasonable results.</p>\n\n<p>My question is:</p>\n\n<ul>\n<li><p>Could you think of any solution for this situation? Something smarter and wiser than just using the original matrix as its own inverse matrix.</p></li>\n<li><p>In case there is no way around it, do you know of any other Java Matrix library that has some solution to this situation, I'm not looking forward to introduce a new library but it may be the only solution if this becomes a real problem.</p></li>\n</ul>\n\n<p>Regards and thanks for your inputs!</p>\n"},{"tags":["java","android","image","camera","registerforactivityresult"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641589027,"post_id":70626732,"comment_id":124852513,"body_markdown":"You are not checking if you can create your apps dir. Check the return value of mkdir(): `if (!tempDir.exists()) {\n            if ( !tempDir.mkdirs()) return;\n        }`. At return display a Toast() to inform the user.","body":"You are not checking if you can create your apps dir. Check the return value of mkdir(): <code>if (!tempDir.exists()) {             if ( !tempDir.mkdirs()) return;         }</code>. At return display a Toast() to inform the user."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1641593825,"post_id":70626732,"comment_id":124853770,"body_markdown":"Your `EXTRA_OUTPUT` for newer API levels is incorrect, and the other app has no access to that location. You will need to use `FileProvider`. And, you might look into using the `TakePicture` contract, rather than using `StartActivityForResult`.","body":"Your <code>EXTRA_OUTPUT</code> for newer API levels is incorrect, and the other app has no access to that location. You will need to use <code>FileProvider</code>. And, you might look into using the <code>TakePicture</code> contract, rather than using <code>StartActivityForResult</code>."}],"owner":{"account_id":23606839,"reputation":45,"user_id":17642440,"display_name":"max256"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641586629,"creation_date":1641586629,"question_id":70626732,"body_markdown":"I want to to use registerForActivityResult to take a photo. Whenever I take a picture and tap the confirm button the result code is always 0. here is my codes:&lt;br&gt;\r\n\r\n    Uri mImageUri;\r\n    \r\n    ActivityResultLauncher&lt;Intent&gt; mCameraLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n            // ---&gt; Here the result code is always 0 &lt;----\r\n            Intent data = result.getData();\r\n            if (result.getResultCode() == RESULT_OK &amp;&amp; data != null) {\r\n                Bitmap bitmap = BitmapFactory.decodeFile(mImageUri.toString());\r\n            }\r\n        });\r\n    \r\n    \r\n       public void launchCamera() {\r\n            \r\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            \r\n            File tempDir = new File(Environment.getExternalStorageDirectory().getPath(),\r\n                    APP_NAME + File.separator + &quot;Temp&quot;);\r\n    \r\n            if (!tempDir.exists()) {\r\n                tempDir.mkdirs();\r\n            }\r\n            \r\n            File file = new File(tempDir.getAbsolutePath() + File.separator + &quot;tempImage&quot;);\r\n    \r\n            if (Build.VERSION.SDK_INT &lt; 24) {\r\n                mImageUri = Uri.fromFile(file);\r\n            } else {\r\n                mImageUri = Uri.parse(file.getPath());\r\n            }\r\n           \r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\r\n           \r\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    \r\n            mCameraLauncher.launch(intent);\r\n        }\r\n&lt;b&gt;Manifest.xml&lt;/b&gt;\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n     &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;false&quot; /&gt;\r\n    \r\n     &lt;queries&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n            &lt;/intent&gt;\r\n        &lt;/queries&gt;\r\nHow can I solve this problem?","title":"Can not take a picture using registerForActivityResult","body":"<p>I want to to use registerForActivityResult to take a photo. Whenever I take a picture and tap the confirm button the result code is always 0. here is my codes:<br></p>\n<pre><code>Uri mImageUri;\n\nActivityResultLauncher&lt;Intent&gt; mCameraLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n        // ---&gt; Here the result code is always 0 &lt;----\n        Intent data = result.getData();\n        if (result.getResultCode() == RESULT_OK &amp;&amp; data != null) {\n            Bitmap bitmap = BitmapFactory.decodeFile(mImageUri.toString());\n        }\n    });\n\n\n   public void launchCamera() {\n        \n        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        \n        File tempDir = new File(Environment.getExternalStorageDirectory().getPath(),\n                APP_NAME + File.separator + &quot;Temp&quot;);\n\n        if (!tempDir.exists()) {\n            tempDir.mkdirs();\n        }\n        \n        File file = new File(tempDir.getAbsolutePath() + File.separator + &quot;tempImage&quot;);\n\n        if (Build.VERSION.SDK_INT &lt; 24) {\n            mImageUri = Uri.fromFile(file);\n        } else {\n            mImageUri = Uri.parse(file.getPath());\n        }\n       \n        intent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\n       \n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n        mCameraLauncher.launch(intent);\n    }\n</code></pre>\n<p><b>Manifest.xml</b></p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;false&quot; /&gt;\n\n &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n</code></pre>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","apache","logging"],"comments":[{"owner":{"account_id":1745683,"reputation":2172,"user_id":1595977,"accept_rate":73,"display_name":"Edwin"},"score":0,"creation_date":1499079468,"post_id":44883798,"comment_id":76745661,"body_markdown":"isn&#39;t this one: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/LoaderUtil.html -&gt; LoaderUtil?","body":"isn&#39;t this one: <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/LoaderUtil.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/&hellip;</a> -&gt; LoaderUtil?"},{"owner":{"account_id":3199447,"reputation":534,"user_id":2701807,"accept_rate":80,"display_name":"Beacze"},"score":0,"creation_date":1499081826,"post_id":44883798,"comment_id":76747139,"body_markdown":"would be possible to use directly ClassLoader class to get resource?","body":"would be possible to use directly ClassLoader class to get resource?"}],"answers":[{"tags":[],"owner":{"account_id":23858058,"reputation":1,"user_id":17861356,"display_name":"user17861338"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641586467,"creation_date":1641549662,"answer_id":70619524,"question_id":44883798,"body_markdown":"`org.apache.log4j.helpers.Loader` class is present in\r\n`log4j-core-2.17.1.jar`. (for 2.17.1/latest version, it would be same for other lower 2.x version) \r\n\r\nThis Loader class has the getResource method you are looking for. However, getResource method definition has changed in 2.x rather deprecated after 1.2, so minor code changes will be needed while implementing after importing the jar mentioned. ","title":"Replacement for org.apache.log4j.helpers.Loader during migration to log4j2","body":"<p><code>org.apache.log4j.helpers.Loader</code> class is present in\n<code>log4j-core-2.17.1.jar</code>. (for 2.17.1/latest version, it would be same for other lower 2.x version)</p>\n<p>This Loader class has the getResource method you are looking for. However, getResource method definition has changed in 2.x rather deprecated after 1.2, so minor code changes will be needed while implementing after importing the jar mentioned.</p>\n"}],"owner":{"account_id":3199447,"reputation":534,"user_id":2701807,"accept_rate":80,"display_name":"Beacze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641586467,"creation_date":1499079289,"question_id":44883798,"body_markdown":"After migration to from log4j to log4j2 I get error:\r\n\r\n    java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader\r\n\r\nI can&#39;t find out which class in log4j2 has overtaken function of this class. I need it for getting resources ([link][1]). I have in my project also bridge between 1 and 2 but it contains in helpers package only `NullEnumeration` class. Which class I could use to keep current functionality with new version?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/helpers/Loader.html#getResource(java.lang.String)","title":"Replacement for org.apache.log4j.helpers.Loader during migration to log4j2","body":"<p>After migration to from log4j to log4j2 I get error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader\n</code></pre>\n\n<p>I can't find out which class in log4j2 has overtaken function of this class. I need it for getting resources (<a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/helpers/Loader.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">link</a>). I have in my project also bridge between 1 and 2 but it contains in helpers package only <code>NullEnumeration</code> class. Which class I could use to keep current functionality with new version?</p>\n"},{"tags":["java","android","xml","kotlin","listview"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641578083,"creation_date":1641578083,"answer_id":70625308,"question_id":70625057,"body_markdown":"In this code:\r\n\r\n    lv_donedoob_ministries.adapter = customList\r\n\r\n    return LayoutInflater.from(container?.context)\r\n        .inflate(R.layout.fragment_ministeries, container, false)\r\n\r\nYou are trying to set the adapter on the `ListView` (lv_donedoob_ministries) **before** you inflate the layout. You need to inflate the layout **first** before trying to set the adapter on it.","title":"Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference :KOTLIN","body":"<p>In this code:</p>\n<pre><code>lv_donedoob_ministries.adapter = customList\n\nreturn LayoutInflater.from(container?.context)\n    .inflate(R.layout.fragment_ministeries, container, false)\n</code></pre>\n<p>You are trying to set the adapter on the <code>ListView</code> (lv_donedoob_ministries) <strong>before</strong> you inflate the layout. You need to inflate the layout <strong>first</strong> before trying to set the adapter on it.</p>\n"},{"tags":[],"owner":{"account_id":1628077,"reputation":16,"user_id":1503141,"display_name":"Patel Kalpesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641586197,"creation_date":1641578393,"answer_id":70625353,"question_id":70625057,"body_markdown":"You are trying to access ListView before inflating fragment view.\r\n\r\n```\r\nclass FragmentMinistries : Fragment() {\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?,\r\n    ): View? {\r\n\r\n        val customListData = ArrayList&lt;CList&gt;()\r\n        val customList = CListAdapter(this.requireContext(), customListData)\r\n\r\n        customListData.add(CList(R.drawable.ic_call, &quot;First&quot;))\r\n        customListData.add(CList(R.drawable.ic_call, &quot;Second&quot;))\r\n        customListData.add(CList(R.drawable.ic_call, &quot;Third&quot;))\r\n        val view = LayoutInflater.from(container?.context)\r\n            .inflate(R.layout.fragment_ministeries, container, false)\r\n\r\n        view.findViewById&lt;ListView&gt;(R.id.lv_donedoob_ministries).adapter = customList\r\n\r\n        return view\r\n    }\r\n}\r\n```","title":"Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference :KOTLIN","body":"<p>You are trying to access ListView before inflating fragment view.</p>\n<pre><code>class FragmentMinistries : Fragment() {\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?,\n    ): View? {\n\n        val customListData = ArrayList&lt;CList&gt;()\n        val customList = CListAdapter(this.requireContext(), customListData)\n\n        customListData.add(CList(R.drawable.ic_call, &quot;First&quot;))\n        customListData.add(CList(R.drawable.ic_call, &quot;Second&quot;))\n        customListData.add(CList(R.drawable.ic_call, &quot;Third&quot;))\n        val view = LayoutInflater.from(container?.context)\n            .inflate(R.layout.fragment_ministeries, container, false)\n\n        view.findViewById&lt;ListView&gt;(R.id.lv_donedoob_ministries).adapter = customList\n\n        return view\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22840787,"reputation":13,"user_id":17119358,"display_name":"No Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70625353,"answer_count":2,"score":1,"last_activity_date":1641586197,"creation_date":1641576792,"question_id":70625057,"body_markdown":"I am getting this from Logcat \r\n\r\n2022-01-07 20:27:46.539 14327-14327/com.example.donedoobnew2 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.donedoobnew2, PID: 14327\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference\r\n        at com.example.donedoobnew2.Fragments.FragmentMinistries.onCreateView(FragmentMinisteries.kt:29)\r\n\r\nFragmentMinistries.kt\r\n\r\n    class FragmentMinistries : Fragment() {\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?,\r\n    ): View? {\r\n\r\n        val customListData = ArrayList&lt;CList&gt;()\r\n        val customList = CListAdapter(this.requireContext(), customListData)\r\n\r\n        customListData.add(CList(R.drawable.ic_call, &quot;First&quot;))\r\n        customListData.add(CList(R.drawable.ic_call, &quot;Second&quot;))\r\n        customListData.add(CList(R.drawable.ic_call, &quot;Third&quot;))\r\n\r\n        lv_donedoob_ministries.adapter = customList\r\n\r\n        return LayoutInflater.from(container?.context)\r\n            .inflate(R.layout.fragment_ministeries, container, false)\r\n    }\r\n\r\n    }\r\n\r\nCListAdapter.kt\r\n\r\n    class CListAdapter(private val getContext: Context, private val customListItem: ArrayList&lt;CList&gt;) :\r\n    ArrayAdapter&lt;CList&gt;(getContext, 0, customListItem) {\r\n\r\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\r\n        var listLayout = convertView\r\n        var holder: ViewHolder\r\n\r\n        if (listLayout == null) {\r\n            val inflateList = (getContext as Activity).layoutInflater\r\n            listLayout = inflateList.inflate(R.layout.item_cardview_donedoob, parent, false)\r\n\r\n            holder = ViewHolder()\r\n            holder.mTextView = listLayout!!.findViewById(R.id.tv_card_donedoob)\r\n            holder.mImageListView = listLayout.findViewById(R.id.iv_card_donedoob)\r\n\r\n            listLayout.tag = holder\r\n        } else {\r\n            holder = listLayout.tag as ViewHolder\r\n        }\r\n\r\n        val listItem = customListItem[position]\r\n        holder.mImageListView!!.setImageResource(listItem.mCListImage)\r\n        holder.mTextView!!.text = listItem.mCListText\r\n\r\n\r\n        return listLayout\r\n    }\r\n\r\n    class ViewHolder {\r\n        internal var mImageListView: ImageView? = null\r\n        internal var mTextView: TextView? = null\r\n    }\r\n}\r\n\r\nCList.kt\r\n\r\n    class CList(\r\n    var mCListImage: Int,\r\n    var mCListText: String,\r\n    )\r\n\r\nfragment_ministries.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/gray&quot;\r\n    tools:context=&quot;.Fragments.FragmentMinistries&quot;&gt;\r\n    \r\n    &lt;ListView\r\n        android:id=&quot;@+id/lv_donedoob_ministries&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:dividerHeight=&quot;10dp&quot;\r\n        android:divider=&quot;@color/gray&quot;\r\n        android:padding=&quot;20dp&quot;&gt;\r\n\r\n    &lt;/ListView&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\nitem_listview.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_margin=&quot;10dp&quot;\r\n    android:background=&quot;@drawable/round_buttons&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/iv_card_donedoob&quot;\r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:src=&quot;@drawable/icon_my_documents&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_card_donedoob&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Ministry og edu&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference :KOTLIN","body":"<p>I am getting this from Logcat</p>\n<p>2022-01-07 20:27:46.539 14327-14327/com.example.donedoobnew2 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.donedoobnew2, PID: 14327\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ListView.setAdapter(android.widget.ListAdapter)' on a null object reference\nat com.example.donedoobnew2.Fragments.FragmentMinistries.onCreateView(FragmentMinisteries.kt:29)</p>\n<p>FragmentMinistries.kt</p>\n<pre><code>class FragmentMinistries : Fragment() {\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?,\n): View? {\n\n    val customListData = ArrayList&lt;CList&gt;()\n    val customList = CListAdapter(this.requireContext(), customListData)\n\n    customListData.add(CList(R.drawable.ic_call, &quot;First&quot;))\n    customListData.add(CList(R.drawable.ic_call, &quot;Second&quot;))\n    customListData.add(CList(R.drawable.ic_call, &quot;Third&quot;))\n\n    lv_donedoob_ministries.adapter = customList\n\n    return LayoutInflater.from(container?.context)\n        .inflate(R.layout.fragment_ministeries, container, false)\n}\n\n}\n</code></pre>\n<p>CListAdapter.kt</p>\n<pre><code>class CListAdapter(private val getContext: Context, private val customListItem: ArrayList&lt;CList&gt;) :\nArrayAdapter&lt;CList&gt;(getContext, 0, customListItem) {\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n    var listLayout = convertView\n    var holder: ViewHolder\n\n    if (listLayout == null) {\n        val inflateList = (getContext as Activity).layoutInflater\n        listLayout = inflateList.inflate(R.layout.item_cardview_donedoob, parent, false)\n\n        holder = ViewHolder()\n        holder.mTextView = listLayout!!.findViewById(R.id.tv_card_donedoob)\n        holder.mImageListView = listLayout.findViewById(R.id.iv_card_donedoob)\n\n        listLayout.tag = holder\n    } else {\n        holder = listLayout.tag as ViewHolder\n    }\n\n    val listItem = customListItem[position]\n    holder.mImageListView!!.setImageResource(listItem.mCListImage)\n    holder.mTextView!!.text = listItem.mCListText\n\n\n    return listLayout\n}\n\nclass ViewHolder {\n    internal var mImageListView: ImageView? = null\n    internal var mTextView: TextView? = null\n}\n</code></pre>\n<p>}</p>\n<p>CList.kt</p>\n<pre><code>class CList(\nvar mCListImage: Int,\nvar mCListText: String,\n)\n</code></pre>\n<p>fragment_ministries.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/gray&quot;\ntools:context=&quot;.Fragments.FragmentMinistries&quot;&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/lv_donedoob_ministries&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:dividerHeight=&quot;10dp&quot;\n    android:divider=&quot;@color/gray&quot;\n    android:padding=&quot;20dp&quot;&gt;\n\n&lt;/ListView&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>item_listview.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_margin=&quot;10dp&quot;\nandroid:background=&quot;@drawable/round_buttons&quot;\nandroid:orientation=&quot;horizontal&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/iv_card_donedoob&quot;\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:src=&quot;@drawable/icon_my_documents&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv_card_donedoob&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Ministry og edu&quot;\n            android:textSize=&quot;24sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface","interface"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1641491943,"post_id":70611491,"comment_id":124823650,"body_markdown":"Use arrays and loops.","body":"Use arrays and loops."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1641492274,"post_id":70611491,"comment_id":124823774,"body_markdown":"All the buttons perform literally the same action, and therefore could use the **same** `ActionListener`. But sure, you can explicitly write out the lambda expression 12 times.","body":"All the buttons perform literally the same action, and therefore could use the <b>same</b> <code>ActionListener</code>. But sure, you can explicitly write out the lambda expression 12 times."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641585577,"creation_date":1641492389,"answer_id":70611609,"question_id":70611491,"body_markdown":"Putting your buttons in an array can help a lot\r\n\r\n    final JButton[] buttons = new JButton[12];\r\n    final ActionListener myListener = new ActionListener() {\r\n      public void actionPerformed(ActionEvent ae) {\r\n        for (int i = 0; i &lt; buttons.length; i++) {\r\n          if (buttons[i] != ae.getSource()) {\r\n            buttons[i].setText(&quot;1&quot;);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    for (int i = 0; i &lt; 12; i++) {\r\n      buttons[i] = new JButton();\r\n      buttons[i].setName(&quot;Button &quot; + (i + 1));\r\n      buttons[i].addActionListener(myListener);\r\n    }\r\n    ","title":"Is there a faster way to create 12 buttons?","body":"<p>Putting your buttons in an array can help a lot</p>\n<pre><code>final JButton[] buttons = new JButton[12];\nfinal ActionListener myListener = new ActionListener() {\n  public void actionPerformed(ActionEvent ae) {\n    for (int i = 0; i &lt; buttons.length; i++) {\n      if (buttons[i] != ae.getSource()) {\n        buttons[i].setText(&quot;1&quot;);\n      }\n    }\n  }\n}\nfor (int i = 0; i &lt; 12; i++) {\n  buttons[i] = new JButton();\n  buttons[i].setName(&quot;Button &quot; + (i + 1));\n  buttons[i].addActionListener(myListener);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641494197,"creation_date":1641494197,"answer_id":70611992,"question_id":70611491,"body_markdown":"Sometimes it helps to use a method for this kind of situation.  Especially if it is to be used elsewhere.\r\n```\r\nfor (int i = 1; i &lt;= 12; i++) {\r\n    frame.add(createButton(i+&quot;&quot;, &quot;1&quot;));\r\n}\r\n\t\r\npublic static JButton createButton(String name,  String init) {\r\n\tJButton b = new JButton(name);\r\n\tb.addActionListener(ae-&gt;b.setText(init));\r\n\treturn b;\r\n}\r\n```\r\nOther parameters can be added or corrected but it gives you the idea.  You could also pass a lambda expression to the method if need be.","title":"Is there a faster way to create 12 buttons?","body":"<p>Sometimes it helps to use a method for this kind of situation.  Especially if it is to be used elsewhere.</p>\n<pre><code>for (int i = 1; i &lt;= 12; i++) {\n    frame.add(createButton(i+&quot;&quot;, &quot;1&quot;));\n}\n    \npublic static JButton createButton(String name,  String init) {\n    JButton b = new JButton(name);\n    b.addActionListener(ae-&gt;b.setText(init));\n    return b;\n}\n</code></pre>\n<p>Other parameters can be added or corrected but it gives you the idea.  You could also pass a lambda expression to the method if need be.</p>\n"}],"owner":{"account_id":23848127,"reputation":3,"user_id":17852380,"display_name":"Igor Heslenji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70611609,"answer_count":2,"score":0,"last_activity_date":1641585577,"creation_date":1641491807,"question_id":70611491,"body_markdown":"I am doing a task where I need to create a 3x4 GridLayout with 12 buttons. The task is when I click any of the buttons, all other buttons change the value to 1. Now, this is how I did it:\r\n\r\n    JFrame frame=new JFrame();\r\n\t\tframe.setSize(300,200);\r\n\t\tframe.setLayout(new GridLayout(3,4));\r\n\t\t\r\n\t\tJButton b1=new JButton(&quot;1&quot;);\r\n\t\tJButton b2=new JButton(&quot;2&quot;);\r\n\t\tJButton b3=new JButton(&quot;3&quot;);\r\n\t\tJButton b4=new JButton(&quot;4&quot;);\r\n\t\tJButton b5=new JButton(&quot;5&quot;);\r\n\t\tJButton b6=new JButton(&quot;6&quot;);\r\n\t\tJButton b7=new JButton(&quot;7&quot;);\r\n\t\tJButton b8=new JButton(&quot;8&quot;);\r\n\t\tJButton b9=new JButton(&quot;9&quot;);\r\n\t\tJButton b10=new JButton(&quot;10&quot;);\r\n\t\tJButton b11=new JButton(&quot;11&quot;);\r\n\t\tJButton b12=new JButton(&quot;12&quot;);\r\n\r\n\t\tb1.addActionListener(lambdaExpression -&gt; {\r\n\t\t\tb2.setText(&quot;1&quot;);\r\n\t\t\tb3.setText(&quot;1&quot;);\r\n\t\t\tb4.setText(&quot;1&quot;);\r\n\t\t\tb5.setText(&quot;1&quot;);\r\n\t\t\tb6.setText(&quot;1&quot;);\r\n\t\t\tb7.setText(&quot;1&quot;);\r\n\t\t\tb8.setText(&quot;1&quot;);\r\n\t\t\tb9.setText(&quot;1&quot;);\r\n\t\t\tb10.setText(&quot;1&quot;);\r\n\t\t\tb11.setText(&quot;1&quot;);\r\n\t\t\tb12.setText(&quot;1&quot;);\r\n\r\n\t\t});\r\n\r\n\t\tb2.addActionListener(lambdaExpression -&gt; {\r\n\t\t\tb1.setText(&quot;1&quot;);\r\n\t\t\tb3.setText(&quot;1&quot;);\r\n\t\t\tb4.setText(&quot;1&quot;);\r\n\t\t\tb5.setText(&quot;1&quot;);\r\n\t\t\tb6.setText(&quot;1&quot;);\r\n\t\t\tb7.setText(&quot;1&quot;);\r\n\t\t\tb8.setText(&quot;1&quot;);\r\n\t\t\tb9.setText(&quot;1&quot;);\r\n\t\t\tb10.setText(&quot;1&quot;);\r\n\t\t\tb11.setText(&quot;1&quot;);\r\n\t\t\tb12.setText(&quot;1&quot;);\r\n\r\n\t\t});\r\n\t\t\r\n\t\tb3.addActionListener(lambdaExpression -&gt; {\r\n\t\t\tb1.setText(&quot;1&quot;);\r\n\t\t\tb2.setText(&quot;1&quot;);\r\n\t\t\tb4.setText(&quot;1&quot;);\r\n\t\t\tb5.setText(&quot;1&quot;);\r\n\t\t\tb6.setText(&quot;1&quot;);\r\n\t\t\tb7.setText(&quot;1&quot;);\r\n\t\t\tb8.setText(&quot;1&quot;);\r\n\t\t\tb9.setText(&quot;1&quot;);\r\n\t\t\tb10.setText(&quot;1&quot;);\r\n\t\t\tb11.setText(&quot;1&quot;);\r\n\t\t\tb12.setText(&quot;1&quot;);\r\n\r\n\t\t});\r\n        .\r\n        .\r\n        .\r\n        frame.add(b1);\r\n\t\tframe.add(b2);\r\n\t\tframe.add(b3);\r\n        .\r\n        .\r\n        .\r\n        frame.pack();\r\n\t\tframe.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\r\n  My question is - is there a faster way to do this than just copying the same lines 12 times? I am fairly new at programming in Java, so any insight would be helpful, thank you!","title":"Is there a faster way to create 12 buttons?","body":"<p>I am doing a task where I need to create a 3x4 GridLayout with 12 buttons. The task is when I click any of the buttons, all other buttons change the value to 1. Now, this is how I did it:</p>\n<pre><code>JFrame frame=new JFrame();\n    frame.setSize(300,200);\n    frame.setLayout(new GridLayout(3,4));\n    \n    JButton b1=new JButton(&quot;1&quot;);\n    JButton b2=new JButton(&quot;2&quot;);\n    JButton b3=new JButton(&quot;3&quot;);\n    JButton b4=new JButton(&quot;4&quot;);\n    JButton b5=new JButton(&quot;5&quot;);\n    JButton b6=new JButton(&quot;6&quot;);\n    JButton b7=new JButton(&quot;7&quot;);\n    JButton b8=new JButton(&quot;8&quot;);\n    JButton b9=new JButton(&quot;9&quot;);\n    JButton b10=new JButton(&quot;10&quot;);\n    JButton b11=new JButton(&quot;11&quot;);\n    JButton b12=new JButton(&quot;12&quot;);\n\n    b1.addActionListener(lambdaExpression -&gt; {\n        b2.setText(&quot;1&quot;);\n        b3.setText(&quot;1&quot;);\n        b4.setText(&quot;1&quot;);\n        b5.setText(&quot;1&quot;);\n        b6.setText(&quot;1&quot;);\n        b7.setText(&quot;1&quot;);\n        b8.setText(&quot;1&quot;);\n        b9.setText(&quot;1&quot;);\n        b10.setText(&quot;1&quot;);\n        b11.setText(&quot;1&quot;);\n        b12.setText(&quot;1&quot;);\n\n    });\n\n    b2.addActionListener(lambdaExpression -&gt; {\n        b1.setText(&quot;1&quot;);\n        b3.setText(&quot;1&quot;);\n        b4.setText(&quot;1&quot;);\n        b5.setText(&quot;1&quot;);\n        b6.setText(&quot;1&quot;);\n        b7.setText(&quot;1&quot;);\n        b8.setText(&quot;1&quot;);\n        b9.setText(&quot;1&quot;);\n        b10.setText(&quot;1&quot;);\n        b11.setText(&quot;1&quot;);\n        b12.setText(&quot;1&quot;);\n\n    });\n    \n    b3.addActionListener(lambdaExpression -&gt; {\n        b1.setText(&quot;1&quot;);\n        b2.setText(&quot;1&quot;);\n        b4.setText(&quot;1&quot;);\n        b5.setText(&quot;1&quot;);\n        b6.setText(&quot;1&quot;);\n        b7.setText(&quot;1&quot;);\n        b8.setText(&quot;1&quot;);\n        b9.setText(&quot;1&quot;);\n        b10.setText(&quot;1&quot;);\n        b11.setText(&quot;1&quot;);\n        b12.setText(&quot;1&quot;);\n\n    });\n    .\n    .\n    .\n    frame.add(b1);\n    frame.add(b2);\n    frame.add(b3);\n    .\n    .\n    .\n    frame.pack();\n    frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n    \n</code></pre>\n<p>My question is - is there a faster way to do this than just copying the same lines 12 times? I am fairly new at programming in Java, so any insight would be helpful, thank you!</p>\n"},{"tags":["java","android","file","permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640855563,"post_id":70529265,"comment_id":124675021,"body_markdown":"`data / 0 / emulated /` There is no such path. And certainly not with all those spaces. Instead there is `/storage/emulated/0` as root of external storage.","body":"<code>data &#47; 0 &#47; emulated &#47;</code> There is no such path. And certainly not with all those spaces. Instead there is <code>&#47;storage&#47;emulated&#47;0</code> as root of external storage."},{"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"score":0,"creation_date":1640856551,"post_id":70529265,"comment_id":124675294,"body_markdown":"I fixed it and that how can i make a folder without manage all files permission","body":"I fixed it and that how can i make a folder without manage all files permission"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640856642,"post_id":70529265,"comment_id":124675328,"body_markdown":"You cant. Make your own folder in one of the public directories like Documents, Download, DCIM, Pictures and so on.","body":"You cant. Make your own folder in one of the public directories like Documents, Download, DCIM, Pictures and so on."},{"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"score":0,"creation_date":1640856765,"post_id":70529265,"comment_id":124675366,"body_markdown":"But there is an app that does it without asking for permission manage all files","body":"But there is an app that does it without asking for permission manage all files"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640856793,"post_id":70529265,"comment_id":124675373,"body_markdown":"`myFolder.mkdir();` Better: `if (!myFolder.exists()) if (!myFolder.mkdir()) return;` That try-catch is useless as mkdir() will not throw.","body":"<code>myFolder.mkdir();</code> Better: <code>if (!myFolder.exists()) if (!myFolder.mkdir()) return;</code> That try-catch is useless as mkdir() will not throw."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640856988,"post_id":70529265,"comment_id":124675423,"body_markdown":"And you will not tell wich app. Well ok.","body":"And you will not tell wich app. Well ok."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640857159,"post_id":70529265,"comment_id":124675471,"body_markdown":"And your app can too if you let the user create such a directory using SAF and ACTION_,OPEN_DOCUMENT_TREE.","body":"And your app can too if you let the user create such a directory using SAF and ACTION_,OPEN_DOCUMENT_TREE."},{"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"score":0,"creation_date":1640857380,"post_id":70529265,"comment_id":124675535,"body_markdown":"App name is scanpet","body":"App name is scanpet"}],"answers":[{"tags":[],"owner":{"account_id":8803169,"reputation":171,"user_id":6578666,"display_name":"Rahul Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640856838,"creation_date":1640856838,"answer_id":70529769,"question_id":70529265,"body_markdown":"From SDK 30 you can not access all file system without using MANAGE_EXTERNAL_STORAGE. \r\n\r\nIf your app is in following categories you can ask for this permission:\r\n\r\n- File management\r\n- Backup and restore apps\r\n- Anti-virus apps\r\n- Document management apps\r\n- Search (On Device)\r\n- Disk/Folder Encryption and Locking\r\n- Device Migration/Phone transfer\r\n\r\nref: https://support.google.com/googleplay/android-developer/answer/10467955?hl=en#zippy=%2Cpermitted-uses-of-the-all-files-access-permission\r\n\r\n\r\nIf your app is photo, video editing app or something like this than in that case you don&#39;t need this permission. You can simply use SAF or media directory like DCIM, Downloads, Videos etc...and create your folder there to save your images, videos etc. other way, you can use Android/ media or data folder. ","title":"Create directory without manage all files permission","body":"<p>From SDK 30 you can not access all file system without using MANAGE_EXTERNAL_STORAGE.</p>\n<p>If your app is in following categories you can ask for this permission:</p>\n<ul>\n<li>File management</li>\n<li>Backup and restore apps</li>\n<li>Anti-virus apps</li>\n<li>Document management apps</li>\n<li>Search (On Device)</li>\n<li>Disk/Folder Encryption and Locking</li>\n<li>Device Migration/Phone transfer</li>\n</ul>\n<p>ref: <a href=\"https://support.google.com/googleplay/android-developer/answer/10467955?hl=en#zippy=%2Cpermitted-uses-of-the-all-files-access-permission\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/10467955?hl=en#zippy=%2Cpermitted-uses-of-the-all-files-access-permission</a></p>\n<p>If your app is photo, video editing app or something like this than in that case you don't need this permission. You can simply use SAF or media directory like DCIM, Downloads, Videos etc...and create your folder there to save your images, videos etc. other way, you can use Android/ media or data folder.</p>\n"}],"owner":{"account_id":23778662,"reputation":3,"user_id":17791705,"display_name":"Barni156"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70529769,"answer_count":1,"score":0,"last_activity_date":1641585373,"creation_date":1640853660,"question_id":70529265,"body_markdown":"How can i create directory in `( /storage/emulated/0/ )` without manage all files permission.\r\nThis is my code :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n            File myFolder=new File(Environment.getExternalStorageDirectory(),&quot;testDir&quot;);\r\n            if(!myFolder.exists() || myFolder.isFile()){\r\n                if(myFolder.isFile()){\r\n                    Toast.makeText(getApplicationContext(), &quot;&#39;testDir&#39; exists as file&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n                try{\r\n                    myFolder.mkdir();\r\n                    Toast.makeText(getApplicationContext(), &quot;Directories created successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                } catch(Exception e){\r\n                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();\r\n                }\r\n\r\n\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOn android 11 its not working because it need manage all files permission.","title":"Create directory without manage all files permission","body":"<p>How can i create directory in <code>( /storage/emulated/0/ )</code> without manage all files permission.\nThis is my code :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>        File myFolder=new File(Environment.getExternalStorageDirectory(),\"testDir\");\n        if(!myFolder.exists() || myFolder.isFile()){\n            if(myFolder.isFile()){\n                Toast.makeText(getApplicationContext(), \"'testDir' exists as file\", Toast.LENGTH_LONG).show();\n                return;\n            }\n            try{\n                myFolder.mkdir();\n                Toast.makeText(getApplicationContext(), \"Directories created successfully\", Toast.LENGTH_SHORT).show();\n            } catch(Exception e){\n                Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_LONG).show();\n            }\n\n\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>On android 11 its not working because it need manage all files permission.</p>\n"},{"tags":["java","ipv4","network-interface"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":5,"creation_date":1484590795,"post_id":41682647,"comment_id":70562418,"body_markdown":"I&#39;m not sure about this, but as you&#39;re reading through the `addresses` enumeration, what about checking if each address `instanceof Inet4Address`?","body":"I&#39;m not sure about this, but as you&#39;re reading through the <code>addresses</code> enumeration, what about checking if each address <code>instanceof Inet4Address</code>?"},{"owner":{"account_id":6391739,"reputation":391,"user_id":4957612,"accept_rate":80,"display_name":"leviem1"},"score":0,"creation_date":1484591008,"post_id":41682647,"comment_id":70562516,"body_markdown":"I could try that, but I think the issue is that the interface is only returning its IPv6. Let me do some debugging real quick.","body":"I could try that, but I think the issue is that the interface is only returning its IPv6. Let me do some debugging real quick."},{"owner":{"account_id":6391739,"reputation":391,"user_id":4957612,"accept_rate":80,"display_name":"leviem1"},"score":0,"creation_date":1484591583,"post_id":41682647,"comment_id":70562817,"body_markdown":"It looks like I&#39;m already filtering it so that only IPv4 can be returned when I do  `if (ip.get(x + 1).contains(&quot;.&quot;))`. I rewrote some of my code to use `instanceof` instead of using `contains()`, but it won&#39;t change anything. I&#39;m going to update the question with one more detail.","body":"It looks like I&#39;m already filtering it so that only IPv4 can be returned when I do  <code>if (ip.get(x + 1).contains(&quot;.&quot;))</code>. I rewrote some of my code to use <code>instanceof</code> instead of using <code>contains()</code>, but it won&#39;t change anything. I&#39;m going to update the question with one more detail."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1484598504,"post_id":41682647,"comment_id":70566074,"body_markdown":"_Only_ IPv6 addresses contain &#39;%&#39; because IPv4 doesn&#39;t have scopeid.","body":"<i>Only</i> IPv6 addresses contain &#39;%&#39; because IPv4 doesn&#39;t have scopeid."}],"answers":[{"tags":[],"owner":{"account_id":9952358,"reputation":104,"user_id":7364461,"display_name":"ftahmed"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1484595698,"creation_date":1484595698,"answer_id":41683892,"question_id":41682647,"body_markdown":"From [InterfaceAddress][1]\r\n\r\n&gt; This class represents a Network Interface address. In short it&#39;s an IP address, a subnet mask and a broadcast address when the address is an IPv4 one. An IP address and a network prefix length in the case of IPv6 address.\r\n\r\nHere&#39;s my code:\r\n\r\n    Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\r\n    while (interfaces.hasMoreElements()) {\r\n      NetworkInterface networkInterface = interfaces.nextElement();\r\n      System.out.println(String.format(&quot;networkInterface: %s&quot;, networkInterface.toString()));\r\n\r\n      if (!networkInterface.isUp()) {\r\n        continue;\r\n      }\r\n\r\n      for (InterfaceAddress interfaceAddress : networkInterface.getInterfaceAddresses()) {\r\n        int npf = interfaceAddress.getNetworkPrefixLength();\r\n        InetAddress address = interfaceAddress.getAddress();\r\n        InetAddress broadcast = interfaceAddress.getBroadcast();\r\n        if (broadcast == null &amp;&amp; npf != 8) {\r\n          System.out.println(String.format(&quot;IPv6: %s; Network Prefix Length: %s&quot;, address, npf));\r\n        } else {\r\n          System.out.println(String.format(&quot;IPv4: %s; Subnet Mask: %s; Broadcast: %s&quot;, address, npf, broadcast));\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/InterfaceAddress.html","title":"How would I get only IPv4 addresses","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/InterfaceAddress.html\" rel=\"noreferrer\">InterfaceAddress</a></p>\n\n<blockquote>\n  <p>This class represents a Network Interface address. In short it's an IP address, a subnet mask and a broadcast address when the address is an IPv4 one. An IP address and a network prefix length in the case of IPv6 address.</p>\n</blockquote>\n\n<p>Here's my code:</p>\n\n<pre><code>Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\nwhile (interfaces.hasMoreElements()) {\n  NetworkInterface networkInterface = interfaces.nextElement();\n  System.out.println(String.format(\"networkInterface: %s\", networkInterface.toString()));\n\n  if (!networkInterface.isUp()) {\n    continue;\n  }\n\n  for (InterfaceAddress interfaceAddress : networkInterface.getInterfaceAddresses()) {\n    int npf = interfaceAddress.getNetworkPrefixLength();\n    InetAddress address = interfaceAddress.getAddress();\n    InetAddress broadcast = interfaceAddress.getBroadcast();\n    if (broadcast == null &amp;&amp; npf != 8) {\n      System.out.println(String.format(\"IPv6: %s; Network Prefix Length: %s\", address, npf));\n    } else {\n      System.out.println(String.format(\"IPv4: %s; Subnet Mask: %s; Broadcast: %s\", address, npf, broadcast));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641585116,"creation_date":1641585116,"answer_id":70626488,"question_id":41682647,"body_markdown":"My Kotlin solution:\r\n\r\n```\r\n  private suspend fun getAllActiveInterfaces(): Sequence&lt;NetworkInterface&gt; {\r\n        return withContext(Dispatchers.IO) {\r\n            NetworkInterface\r\n                .getNetworkInterfaces()\r\n                .asSequence()\r\n                .filter { !it.isLoopback &amp;&amp; it.isUp &amp;&amp; !blackListedInterfaces.contains(it.name) }\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    suspend fun getAllAddresses(): Result&lt;Collection&lt;InetAddress&gt;&gt; {\r\n        return withContextCatching(Dispatchers.IO) {\r\n            getAllActiveInterfaces()\r\n                .map { networkInterface -&gt;\r\n                    networkInterface\r\n                        .also { Timber.d(&quot;Interface: ${it.name}&quot;) }\r\n                        .interfaceAddresses\r\n                        .mapNotNull { it.address }\r\n                        .filterIsInstance&lt;Inet4Address&gt;()\r\n                }\r\n                .flatten()\r\n                .toSet()\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nprivate val blackListedInterfaces = setOf(&quot;dummy0&quot;)\r\n```","title":"How would I get only IPv4 addresses","body":"<p>My Kotlin solution:</p>\n<pre><code>  private suspend fun getAllActiveInterfaces(): Sequence&lt;NetworkInterface&gt; {\n        return withContext(Dispatchers.IO) {\n            NetworkInterface\n                .getNetworkInterfaces()\n                .asSequence()\n                .filter { !it.isLoopback &amp;&amp; it.isUp &amp;&amp; !blackListedInterfaces.contains(it.name) }\n        }\n    }\n</code></pre>\n<pre><code>    suspend fun getAllAddresses(): Result&lt;Collection&lt;InetAddress&gt;&gt; {\n        return withContextCatching(Dispatchers.IO) {\n            getAllActiveInterfaces()\n                .map { networkInterface -&gt;\n                    networkInterface\n                        .also { Timber.d(&quot;Interface: ${it.name}&quot;) }\n                        .interfaceAddresses\n                        .mapNotNull { it.address }\n                        .filterIsInstance&lt;Inet4Address&gt;()\n                }\n                .flatten()\n                .toSet()\n        }\n    }\n</code></pre>\n<pre><code>private val blackListedInterfaces = setOf(&quot;dummy0&quot;)\n</code></pre>\n"}],"owner":{"account_id":6391739,"reputation":391,"user_id":4957612,"accept_rate":80,"display_name":"leviem1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2730,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41683892,"answer_count":2,"score":5,"last_activity_date":1641585116,"creation_date":1484590610,"question_id":41682647,"body_markdown":"I have the following code which is supposed to get only the IPv4 addresses of all active interfaces, but it still returns an IPv6 address on some computers.\r\n\r\n    public static List&lt;List&gt; getIpAddress() {\r\n        List&lt;String&gt; ip = new ArrayList&lt;&gt;();\r\n        List&lt;List&gt; ipRefined = new ArrayList&lt;&gt;();\r\n        try {\r\n            Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\r\n            while (interfaces.hasMoreElements()) {\r\n                NetworkInterface iface = interfaces.nextElement();\r\n                if (iface.isLoopback() || !iface.isUp())\r\n                    continue;\r\n                Enumeration&lt;InetAddress&gt; addresses = iface.getInetAddresses();\r\n                while(addresses.hasMoreElements()) {\r\n                    ip.add(addresses.nextElement().getHostAddress());\r\n                }\r\n            }\r\n        } catch (SocketException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        for(int x = 0; x &lt; ip.size(); x++){\r\n            if(ip.get(x).contains(&quot;%&quot;)){\r\n                try {\r\n                    if (ip.get(x + 1).contains(&quot;.&quot;)) {\r\n                        List&lt;String&gt; tempList = new ArrayList&lt;&gt;();\r\n                        tempList.add(ip.get(x).substring(ip.get(x).indexOf(&quot;%&quot;) + 1));\r\n                        tempList.add(ip.get(x + 1));\r\n                        ipRefined.add(tempList);\r\n                    }\r\n                } catch (IndexOutOfBoundsException ae) {\r\n                }\r\n            }\r\n        }\r\n        return ipRefined;\r\n    }\r\n\r\nI&#39;ve tried to specify using only IPv4 by using `System.setProperty(&quot;java.net.preferIPv4Stack&quot; , &quot;true&quot;);`, but this only causes `getIpAddress()` to return an empty list. How should I be getting the IPv4 of active interfaces without the use of string manipulation?\r\n\r\n**EDIT:**\r\n\r\nUsing `System.setProperty(&quot;java.net.preferIPv4Stack&quot; , &quot;true&quot;);` always causes `getIpAddress()` to return an empty list.","title":"How would I get only IPv4 addresses","body":"<p>I have the following code which is supposed to get only the IPv4 addresses of all active interfaces, but it still returns an IPv6 address on some computers.</p>\n\n<pre><code>public static List&lt;List&gt; getIpAddress() {\n    List&lt;String&gt; ip = new ArrayList&lt;&gt;();\n    List&lt;List&gt; ipRefined = new ArrayList&lt;&gt;();\n    try {\n        Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\n        while (interfaces.hasMoreElements()) {\n            NetworkInterface iface = interfaces.nextElement();\n            if (iface.isLoopback() || !iface.isUp())\n                continue;\n            Enumeration&lt;InetAddress&gt; addresses = iface.getInetAddresses();\n            while(addresses.hasMoreElements()) {\n                ip.add(addresses.nextElement().getHostAddress());\n            }\n        }\n    } catch (SocketException e) {\n        throw new RuntimeException(e);\n    }\n    for(int x = 0; x &lt; ip.size(); x++){\n        if(ip.get(x).contains(\"%\")){\n            try {\n                if (ip.get(x + 1).contains(\".\")) {\n                    List&lt;String&gt; tempList = new ArrayList&lt;&gt;();\n                    tempList.add(ip.get(x).substring(ip.get(x).indexOf(\"%\") + 1));\n                    tempList.add(ip.get(x + 1));\n                    ipRefined.add(tempList);\n                }\n            } catch (IndexOutOfBoundsException ae) {\n            }\n        }\n    }\n    return ipRefined;\n}\n</code></pre>\n\n<p>I've tried to specify using only IPv4 by using <code>System.setProperty(\"java.net.preferIPv4Stack\" , \"true\");</code>, but this only causes <code>getIpAddress()</code> to return an empty list. How should I be getting the IPv4 of active interfaces without the use of string manipulation?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Using <code>System.setProperty(\"java.net.preferIPv4Stack\" , \"true\");</code> always causes <code>getIpAddress()</code> to return an empty list.</p>\n"},{"tags":["java","sql-server","netbeans","desktop-application","transfer"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1609353535,"post_id":65509996,"comment_id":115822691,"body_markdown":"One way is to use NetBeans to create an external runnable JAR file.  You have to install the database, create the database tables, and run the JAR file.","body":"One way is to use NetBeans to create an external runnable JAR file.  You have to install the database, create the database tables, and run the JAR file."},{"owner":{"account_id":17739371,"reputation":33,"user_id":12880085,"display_name":"youssef_tawfik11"},"score":0,"creation_date":1609365498,"post_id":65509996,"comment_id":115826806,"body_markdown":"so you mean I should install sql server manager on the other laptop with the same table names and columns and the copy the JAR file to the other PC? what about the JDBC and the db connection in the code i think the path will be different","body":"so you mean I should install sql server manager on the other laptop with the same table names and columns and the copy the JAR file to the other PC? what about the JDBC and the db connection in the code i think the path will be different"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1609365770,"post_id":65509996,"comment_id":115826886,"body_markdown":"How are you connecting to the database?","body":"How are you connecting to the database?"},{"owner":{"account_id":17739371,"reputation":33,"user_id":12880085,"display_name":"youssef_tawfik11"},"score":0,"creation_date":1609367309,"post_id":65509996,"comment_id":115827272,"body_markdown":"I downloaded JDBC and connected via netbeans","body":"I downloaded JDBC and connected via netbeans"},{"owner":{"account_id":17739371,"reputation":33,"user_id":12880085,"display_name":"youssef_tawfik11"},"score":0,"creation_date":1609367364,"post_id":65509996,"comment_id":115827292,"body_markdown":"Connection myconn= null; //To connect to database\n     Statement mystat= null; //setting the query \n     ResultSet myres= null; //preservering the result after applying the query\n     DefaultTableModel dm;\n    \n    \n        String url= &quot;jdbc:sqlserver://localhost:1;databaseName=ClinicManagment&quot;;\n        String user = &quot;sa&quot;;\n        String password=&quot;&quot;;","body":"Connection myconn= null; //To connect to database      Statement mystat= null; //setting the query       ResultSet myres= null; //preservering the result after applying the query      DefaultTableModel dm;                   String url= &quot;jdbc:sqlserver://localhost:1;databaseName=ClinicManagment&quot;;         String user = &quot;sa&quot;;         String password=&quot;&quot;;"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1609369123,"post_id":65509996,"comment_id":115827765,"body_markdown":"You&#39;re connecting using the URI &quot;localhost&quot;.  When you install the database on a different machine, it should be able to connect using the URI &quot;localhost&quot;.","body":"You&#39;re connecting using the URI &quot;localhost&quot;.  When you install the database on a different machine, it should be able to connect using the URI &quot;localhost&quot;."},{"owner":{"account_id":17739371,"reputation":33,"user_id":12880085,"display_name":"youssef_tawfik11"},"score":0,"creation_date":1609370571,"post_id":65509996,"comment_id":115828104,"body_markdown":"okay I&#39;ll give it a try and reply to you. If you have any resource I can refer to that would be great. Thanks in advance.","body":"okay I&#39;ll give it a try and reply to you. If you have any resource I can refer to that would be great. Thanks in advance."}],"answers":[{"tags":[],"owner":{"account_id":6778587,"reputation":23,"user_id":5219686,"display_name":"L&#233;once Stekendak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641585077,"creation_date":1641026621,"answer_id":70547777,"question_id":65509996,"body_markdown":"I have faced the same issued; after the project jar built, if you just copy the Jar file to others PCs, it won&#39;t work.... You have to copy also a the lib folder in the dist directory where you found the JAR file, it contains the libraries you used while programming  ","title":"How can I transfer my java NetBeans project connected to SQL management server database to another computer?","body":"<p>I have faced the same issued; after the project jar built, if you just copy the Jar file to others PCs, it won't work.... You have to copy also a the lib folder in the dist directory where you found the JAR file, it contains the libraries you used while programming</p>\n"}],"owner":{"account_id":17739371,"reputation":33,"user_id":12880085,"display_name":"youssef_tawfik11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641585077,"creation_date":1609344645,"question_id":65509996,"body_markdown":"Now I have a clinic management system I developed in NetBeans and the project is connected to the SQL server manager. Now I want to copy my project with its connection as a whole so it would work as a desktop application on the other laptop from an icon on the desktop rather than opening NetBeans and running the file. What are the procedures to take to transfer my project and the database and work as a desktop app?","title":"How can I transfer my java NetBeans project connected to SQL management server database to another computer?","body":"<p>Now I have a clinic management system I developed in NetBeans and the project is connected to the SQL server manager. Now I want to copy my project with its connection as a whole so it would work as a desktop application on the other laptop from an icon on the desktop rather than opening NetBeans and running the file. What are the procedures to take to transfer my project and the database and work as a desktop app?</p>\n"},{"tags":["java","maven","selenium"],"comments":[{"owner":{"account_id":16914462,"reputation":585,"user_id":12232795,"display_name":"Sooraj"},"score":0,"creation_date":1575973392,"post_id":59264659,"comment_id":104737873,"body_markdown":"Are you using any framework like JUnit or TestNg? To have a runnable jar file your tests should run from a main method (`public static void main(String[] args)`)","body":"Are you using any framework like JUnit or TestNg? To have a runnable jar file your tests should run from a main method (<code>public static void main(String[] args)</code>)"}],"answers":[{"tags":[],"owner":{"account_id":9515306,"reputation":21,"user_id":7071915,"display_name":"slowlert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575985454,"creation_date":1575985454,"answer_id":59268623,"question_id":59264659,"body_markdown":"Call your testclass from a main class.\r\nUse TestNG or JUNIT.\r\nI guess you use the Apache.POI.\r\nyou have to set a relative filepath to your excel-file with the testdata, so if you build a .jar you can place the file next to it.\r\n\r\na call from main-method with JUNIT can be:\r\n\r\n    public static void main Testsuite(final String args[]){\r\n    JUnitCore.main(Testclass.class.getCanonicalName());\r\n        }\r\n\r\nWith TestNG the whole thing is a bit more text i guess. I used it two years ago. Now i use JUNIT 4 again.","title":"Create a Runnable Jar for data driven project having customized excel for input data","body":"<p>Call your testclass from a main class.\nUse TestNG or JUNIT.\nI guess you use the Apache.POI.\nyou have to set a relative filepath to your excel-file with the testdata, so if you build a .jar you can place the file next to it.</p>\n\n<p>a call from main-method with JUNIT can be:</p>\n\n<pre><code>public static void main Testsuite(final String args[]){\nJUnitCore.main(Testclass.class.getCanonicalName());\n    }\n</code></pre>\n\n<p>With TestNG the whole thing is a bit more text i guess. I used it two years ago. Now i use JUNIT 4 again.</p>\n"}],"owner":{"account_id":10325502,"reputation":19,"user_id":7617089,"display_name":"Gaurav Arora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641584971,"creation_date":1575972271,"question_id":59264659,"body_markdown":"I have created a maven selenium project with data driven approach(reading input from excel files). I want to create a runnable jar file and setup the jar file to 3rd party client system who should be able to execute the jar by changing the input from excel file as per the his requirement.  ","title":"Create a Runnable Jar for data driven project having customized excel for input data","body":"<p>I have created a maven selenium project with data driven approach(reading input from excel files). I want to create a runnable jar file and setup the jar file to 3rd party client system who should be able to execute the jar by changing the input from excel file as per the his requirement.</p>\n"},{"tags":["java","android","audio"],"owner":{"account_id":3626028,"reputation":11,"user_id":3058354,"display_name":"Scootaloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641584624,"creation_date":1386005448,"question_id":20334306,"body_markdown":"I am new to Java and I want to know how to invert audio (fixed voice inversion) coming from the input through a loopback to the output after a delay. How and where would I do this, and would I be able to set a frequency of the inversion somehow. Thanks.\r\n\r\n    package net.bitplane.android.microphone;\r\n\r\n    import java.nio.ByteBuffer;\r\n\r\n    import android.app.Notification;\r\n    import android.app.NotificationManager;\r\n    import android.app.PendingIntent;\r\n    import android.app.Service;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.content.SharedPreferences;\r\n    import android.content.SharedPreferences.OnSharedPreferenceChangeListener;\r\n    import android.media.AudioFormat;\r\n    import android.media.AudioManager;\r\n    import android.media.AudioRecord;\r\n    import android.media.AudioTrack;\r\n    import android.media.MediaRecorder;\r\n    import android.net.Uri;\r\n    import android.os.IBinder;\r\n    import android.util.Log;\r\n\r\n    public class MicrophoneService extends Service implements OnSharedPreferenceChangeListener {\r\n        \r\n        private static final String APP_TAG = &quot;Microphone&quot;;\r\n        private static final int mSampleRate = 44100;\r\n        private static final int mFormat = AudioFormat.ENCODING_PCM_16BIT;\r\n        \r\n        private AudioTrack mAudioOutput;\r\n        private AudioRecord mAudioInput;\r\n        private int mInBufferSize;\r\n        private int mOutBufferSize;\r\n        SharedPreferences mSharedPreferences;\r\n        private static boolean mActive = false;\r\n        private NotificationManager mNotificationManager;\r\n        private MicrophoneReceiver mBroadcastReceiver;\r\n        \r\n        private class MicrophoneReceiver extends BroadcastReceiver {\r\n         // Turn the mic off when things get loud\r\n         @Override\r\n         public void onReceive(Context context, Intent intent) {\r\n         String action = intent.getAction();\r\n                 if (action != null &amp;&amp; action.equals(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY)) {\r\n                 \r\n                         SharedPreferences prefs = context.getSharedPreferences(APP_TAG, Context.MODE_PRIVATE);\r\n                 \r\n                         SharedPreferences.Editor e = prefs.edit();\r\n                         e.putBoolean(&quot;active&quot;, false);\r\n                         e.commit();\r\n                 }\r\n         }\r\n        }\r\n        \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n                // TODO Auto-generated method stub\r\n                return null;\r\n        }\r\n        \r\n    @Override\r\n    public void onCreate() {\r\n            \r\n            Log.d(APP_TAG, &quot;Creating mic service&quot;);\r\n            \r\n            // notification service\r\n            mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            \r\n            mBroadcastReceiver = new MicrophoneReceiver();\r\n            \r\n            // create input and output streams\r\n        mInBufferSize = AudioRecord.getMinBufferSize(mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat);\r\n        mOutBufferSize = AudioTrack.getMinBufferSize(mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat);\r\n        mAudioInput = new AudioRecord(MediaRecorder.AudioSource.MIC, mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat, mInBufferSize);\r\n        mAudioOutput = new AudioTrack(AudioManager.STREAM_MUSIC, mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat, mOutBufferSize, AudioTrack.MODE_STREAM);\r\n            \r\n            // listen for preference changes\r\n            mSharedPreferences = getSharedPreferences(APP_TAG, MODE_PRIVATE);\r\n            mSharedPreferences.registerOnSharedPreferenceChangeListener(this);\r\n            mActive = mSharedPreferences.getBoolean(&quot;active&quot;, false);\r\n                     \r\n            if (mActive)\r\n                    record();\r\n    }\r\n    \r\n    @Override\r\n    public void onDestroy() {\r\n            Log.d(APP_TAG, &quot;Stopping mic service&quot;);\r\n            \r\n            // close the service\r\n            SharedPreferences.Editor e = mSharedPreferences.edit();\r\n            e.putBoolean(&quot;active&quot;, false);\r\n            e.commit();\r\n            \r\n            // disable the listener\r\n            mSharedPreferences.unregisterOnSharedPreferenceChangeListener(this);\r\n            \r\n            mAudioInput.release();\r\n            mAudioOutput.release();\r\n    }\r\n    \r\n        @Override\r\n    public void onStart(Intent intent, int startId) {\r\n                super.onStart(intent, startId);\r\n                Log.d(APP_TAG, &quot;Service sent intent&quot;);\r\n                \r\n                // if this is a stop request, cancel the recording\r\n                if (intent != null &amp;&amp; intent.getAction() != null) {\r\n                        if (intent.getAction().equals(&quot;net.bitplane.android.microphone.STOP&quot;)) {\r\n                                Log.d(APP_TAG, &quot;Cancelling recording via notification click&quot;);\r\n                                SharedPreferences.Editor e = mSharedPreferences.edit();\r\n                 e.putBoolean(&quot;active&quot;, false);\r\n                 e.commit();\r\n                        }\r\n                }\r\n        }\r\n    \r\n        \r\n        public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\r\n                // intercept the preference change.\r\n                \r\n                if (!key.equals(&quot;active&quot;))\r\n                        return;\r\n                \r\n                boolean bActive = sharedPreferences.getBoolean(&quot;active&quot;, false);\r\n                \r\n                Log.d(APP_TAG, &quot;Mic state changing (from &quot; + mActive + &quot; to &quot; + bActive + &quot;)&quot;);\r\n                \r\n                if (bActive != mActive) {\r\n                \r\n                        mActive = bActive;\r\n                        \r\n                        if (mActive)\r\n                                record();\r\n                        \r\n                        if (!mActive)\r\n                                mNotificationManager.cancel(0);\r\n                }\r\n        }\r\n        \r\n        public void record() {\r\n                Thread t = new Thread() {\r\n                        public void run() {\r\n                                \r\n                                Context context = getApplicationContext();\r\n                                CharSequence titleText = getString(R.string.mic_active);\r\n                                CharSequence statusText = getString(R.string.cancel_mic);\r\n                 long when = System.currentTimeMillis();\r\n                 Intent cancelIntent = new Intent();\r\n                 cancelIntent.setAction(&quot;net.bitplane.android.microphone.STOP&quot;);\r\n                 cancelIntent.setData(Uri.parse(&quot;null://null&quot;));\r\n                 cancelIntent.setFlags(cancelIntent.getFlags() | Notification.FLAG_AUTO_CANCEL);\r\n                 PendingIntent pendingCancelIntent = PendingIntent.getService(context, 0, cancelIntent, 0);\r\n                 Notification notification = new Notification(R.drawable.status, titleText, when);\r\n                                notification.setLatestEventInfo(context, titleText, statusText, pendingCancelIntent);\r\n                                mNotificationManager.notify(0, notification);\r\n                                \r\n                                // allow the\r\n                                registerReceiver(mBroadcastReceiver, new IntentFilter(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY));\r\n                                \r\n                                Log.d(APP_TAG, &quot;Entered record loop&quot;);\r\n                                \r\n                                recordLoop();\r\n                                \r\n                                Log.d(APP_TAG, &quot;Record loop finished&quot;);\r\n                        }\r\n                        \r\n                        private void recordLoop() {\r\n                                if ( mAudioOutput.getState() != AudioTrack.STATE_INITIALIZED || mAudioInput.getState() != AudioTrack.STATE_INITIALIZED) {\r\n                                        Log.d(APP_TAG, &quot;Can&#39;t start. Race condition?&quot;);\r\n                                }\r\n                                else {\r\n                                        \r\n                                        try {\r\n                                        \r\n                                                try { mAudioOutput.play(); } catch (Exception e) { Log.e(APP_TAG, &quot;Failed to start playback&quot;); return; }\r\n                                                try { mAudioInput.startRecording(); } catch (Exception e) { Log.e(APP_TAG, &quot;Failed to start recording&quot;); mAudioOutput.stop(); return; }\r\n                                                \r\n                                                try {\r\n                                                        \r\n                                         ByteBuffer bytes = ByteBuffer.allocateDirect(mInBufferSize);\r\n                                         int o = 0;\r\n                                         byte b[] = new byte[mInBufferSize];\r\n                                         while(mActive) {\r\n                                                 o = mAudioInput.read(bytes, mInBufferSize);\r\n                                                 bytes.get(b);\r\n                                                 bytes.rewind();\r\n                                                 mAudioOutput.write(b, 0, o);\r\n                                         }\r\n                                        \r\n                                         Log.d(APP_TAG, &quot;Finished recording&quot;);\r\n                                                }\r\n                                                catch (Exception e) {\r\n                                                        Log.d(APP_TAG, &quot;Error while recording, aborting.&quot;);\r\n                                                }\r\n                        \r\n                                 try { mAudioOutput.stop(); } catch (Exception e) { Log.e(APP_TAG, &quot;Can&#39;t stop playback&quot;); mAudioInput.stop(); return; }\r\n                                 try { mAudioInput.stop(); } catch (Exception e) { Log.e(APP_TAG, &quot;Can&#39;t stop recording&quot;); return; }\r\n                                        }\r\n                                        catch (Exception e) {\r\n                                                Log.d(APP_TAG, &quot;Error somewhere in record loop.&quot;);                                \r\n                                        }\r\n                                }\r\n                                // cancel notification and receiver\r\n                                mNotificationManager.cancel(0);\r\n                                try {\r\n                                        unregisterReceiver(mBroadcastReceiver);\r\n                                } catch (IllegalArgumentException e) { Log.e(APP_TAG, &quot;Receiver wasn&#39;t registered: &quot; + e.toString()); }\r\n                        }\r\n                };\r\n                \r\n                t.start();\r\n                \r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n ","title":"Inverting audio in Java","body":"<p>I am new to Java and I want to know how to invert audio (fixed voice inversion) coming from the input through a loopback to the output after a delay. How and where would I do this, and would I be able to set a frequency of the inversion somehow. Thanks.</p>\n<pre><code>package net.bitplane.android.microphone;\n\nimport java.nio.ByteBuffer;\n\nimport android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.SharedPreferences;\nimport android.content.SharedPreferences.OnSharedPreferenceChangeListener;\nimport android.media.AudioFormat;\nimport android.media.AudioManager;\nimport android.media.AudioRecord;\nimport android.media.AudioTrack;\nimport android.media.MediaRecorder;\nimport android.net.Uri;\nimport android.os.IBinder;\nimport android.util.Log;\n\npublic class MicrophoneService extends Service implements OnSharedPreferenceChangeListener {\n    \n    private static final String APP_TAG = &quot;Microphone&quot;;\n    private static final int mSampleRate = 44100;\n    private static final int mFormat = AudioFormat.ENCODING_PCM_16BIT;\n    \n    private AudioTrack mAudioOutput;\n    private AudioRecord mAudioInput;\n    private int mInBufferSize;\n    private int mOutBufferSize;\n    SharedPreferences mSharedPreferences;\n    private static boolean mActive = false;\n    private NotificationManager mNotificationManager;\n    private MicrophoneReceiver mBroadcastReceiver;\n    \n    private class MicrophoneReceiver extends BroadcastReceiver {\n     // Turn the mic off when things get loud\n     @Override\n     public void onReceive(Context context, Intent intent) {\n     String action = intent.getAction();\n             if (action != null &amp;&amp; action.equals(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY)) {\n             \n                     SharedPreferences prefs = context.getSharedPreferences(APP_TAG, Context.MODE_PRIVATE);\n             \n                     SharedPreferences.Editor e = prefs.edit();\n                     e.putBoolean(&quot;active&quot;, false);\n                     e.commit();\n             }\n     }\n    }\n    \n    @Override\n    public IBinder onBind(Intent intent) {\n            // TODO Auto-generated method stub\n            return null;\n    }\n    \n@Override\npublic void onCreate() {\n        \n        Log.d(APP_TAG, &quot;Creating mic service&quot;);\n        \n        // notification service\n        mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        \n        mBroadcastReceiver = new MicrophoneReceiver();\n        \n        // create input and output streams\n    mInBufferSize = AudioRecord.getMinBufferSize(mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat);\n    mOutBufferSize = AudioTrack.getMinBufferSize(mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat);\n    mAudioInput = new AudioRecord(MediaRecorder.AudioSource.MIC, mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat, mInBufferSize);\n    mAudioOutput = new AudioTrack(AudioManager.STREAM_MUSIC, mSampleRate, AudioFormat.CHANNEL_CONFIGURATION_MONO, mFormat, mOutBufferSize, AudioTrack.MODE_STREAM);\n        \n        // listen for preference changes\n        mSharedPreferences = getSharedPreferences(APP_TAG, MODE_PRIVATE);\n        mSharedPreferences.registerOnSharedPreferenceChangeListener(this);\n        mActive = mSharedPreferences.getBoolean(&quot;active&quot;, false);\n                 \n        if (mActive)\n                record();\n}\n\n@Override\npublic void onDestroy() {\n        Log.d(APP_TAG, &quot;Stopping mic service&quot;);\n        \n        // close the service\n        SharedPreferences.Editor e = mSharedPreferences.edit();\n        e.putBoolean(&quot;active&quot;, false);\n        e.commit();\n        \n        // disable the listener\n        mSharedPreferences.unregisterOnSharedPreferenceChangeListener(this);\n        \n        mAudioInput.release();\n        mAudioOutput.release();\n}\n\n    @Override\npublic void onStart(Intent intent, int startId) {\n            super.onStart(intent, startId);\n            Log.d(APP_TAG, &quot;Service sent intent&quot;);\n            \n            // if this is a stop request, cancel the recording\n            if (intent != null &amp;&amp; intent.getAction() != null) {\n                    if (intent.getAction().equals(&quot;net.bitplane.android.microphone.STOP&quot;)) {\n                            Log.d(APP_TAG, &quot;Cancelling recording via notification click&quot;);\n                            SharedPreferences.Editor e = mSharedPreferences.edit();\n             e.putBoolean(&quot;active&quot;, false);\n             e.commit();\n                    }\n            }\n    }\n\n    \n    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\n            // intercept the preference change.\n            \n            if (!key.equals(&quot;active&quot;))\n                    return;\n            \n            boolean bActive = sharedPreferences.getBoolean(&quot;active&quot;, false);\n            \n            Log.d(APP_TAG, &quot;Mic state changing (from &quot; + mActive + &quot; to &quot; + bActive + &quot;)&quot;);\n            \n            if (bActive != mActive) {\n            \n                    mActive = bActive;\n                    \n                    if (mActive)\n                            record();\n                    \n                    if (!mActive)\n                            mNotificationManager.cancel(0);\n            }\n    }\n    \n    public void record() {\n            Thread t = new Thread() {\n                    public void run() {\n                            \n                            Context context = getApplicationContext();\n                            CharSequence titleText = getString(R.string.mic_active);\n                            CharSequence statusText = getString(R.string.cancel_mic);\n             long when = System.currentTimeMillis();\n             Intent cancelIntent = new Intent();\n             cancelIntent.setAction(&quot;net.bitplane.android.microphone.STOP&quot;);\n             cancelIntent.setData(Uri.parse(&quot;null://null&quot;));\n             cancelIntent.setFlags(cancelIntent.getFlags() | Notification.FLAG_AUTO_CANCEL);\n             PendingIntent pendingCancelIntent = PendingIntent.getService(context, 0, cancelIntent, 0);\n             Notification notification = new Notification(R.drawable.status, titleText, when);\n                            notification.setLatestEventInfo(context, titleText, statusText, pendingCancelIntent);\n                            mNotificationManager.notify(0, notification);\n                            \n                            // allow the\n                            registerReceiver(mBroadcastReceiver, new IntentFilter(android.media.AudioManager.ACTION_AUDIO_BECOMING_NOISY));\n                            \n                            Log.d(APP_TAG, &quot;Entered record loop&quot;);\n                            \n                            recordLoop();\n                            \n                            Log.d(APP_TAG, &quot;Record loop finished&quot;);\n                    }\n                    \n                    private void recordLoop() {\n                            if ( mAudioOutput.getState() != AudioTrack.STATE_INITIALIZED || mAudioInput.getState() != AudioTrack.STATE_INITIALIZED) {\n                                    Log.d(APP_TAG, &quot;Can't start. Race condition?&quot;);\n                            }\n                            else {\n                                    \n                                    try {\n                                    \n                                            try { mAudioOutput.play(); } catch (Exception e) { Log.e(APP_TAG, &quot;Failed to start playback&quot;); return; }\n                                            try { mAudioInput.startRecording(); } catch (Exception e) { Log.e(APP_TAG, &quot;Failed to start recording&quot;); mAudioOutput.stop(); return; }\n                                            \n                                            try {\n                                                    \n                                     ByteBuffer bytes = ByteBuffer.allocateDirect(mInBufferSize);\n                                     int o = 0;\n                                     byte b[] = new byte[mInBufferSize];\n                                     while(mActive) {\n                                             o = mAudioInput.read(bytes, mInBufferSize);\n                                             bytes.get(b);\n                                             bytes.rewind();\n                                             mAudioOutput.write(b, 0, o);\n                                     }\n                                    \n                                     Log.d(APP_TAG, &quot;Finished recording&quot;);\n                                            }\n                                            catch (Exception e) {\n                                                    Log.d(APP_TAG, &quot;Error while recording, aborting.&quot;);\n                                            }\n                    \n                             try { mAudioOutput.stop(); } catch (Exception e) { Log.e(APP_TAG, &quot;Can't stop playback&quot;); mAudioInput.stop(); return; }\n                             try { mAudioInput.stop(); } catch (Exception e) { Log.e(APP_TAG, &quot;Can't stop recording&quot;); return; }\n                                    }\n                                    catch (Exception e) {\n                                            Log.d(APP_TAG, &quot;Error somewhere in record loop.&quot;);                                \n                                    }\n                            }\n                            // cancel notification and receiver\n                            mNotificationManager.cancel(0);\n                            try {\n                                    unregisterReceiver(mBroadcastReceiver);\n                            } catch (IllegalArgumentException e) { Log.e(APP_TAG, &quot;Receiver wasn't registered: &quot; + e.toString()); }\n                    }\n            };\n            \n            t.start();\n            \n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","printing","console"],"answers":[{"tags":[],"owner":{"account_id":1015588,"reputation":863,"user_id":1027207,"accept_rate":100,"display_name":"Ulaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1387278745,"creation_date":1387277937,"answer_id":20632342,"question_id":20632183,"body_markdown":"Just change your for loop,\r\n\r\n\t    for(int row=0; row&lt;1; row++){\r\n\t        for(int column = 0; column&lt;x[row].length; column++){\r\n\t            System.out.println(x[row][column] + &quot;\\t&quot;+x[row+1][column] );\r\n\t        }\r\n\t        System.out.print(&quot;\\n&quot;);\r\n\t    } \r\ninto below this will work even you have 5000 rows, \r\n            \r\n         for(int row=0; row&lt;x.length-1; row++){\r\n\t        for (int column = 0; column &lt; x.length; column++) {\r\n\t        \tSystem.out.print(x[column][row] + &quot;\\t&quot; );\t\r\n\t\t       \t}\r\n\t            System.out.println();       \r\n\t      }","title":"Aligning 2d Array Print Ouput [Java]","body":"<p>Just change your for loop,</p>\n\n<pre><code>    for(int row=0; row&lt;1; row++){\n        for(int column = 0; column&lt;x[row].length; column++){\n            System.out.println(x[row][column] + \"\\t\"+x[row+1][column] );\n        }\n        System.out.print(\"\\n\");\n    } \n</code></pre>\n\n<p>into below this will work even you have 5000 rows, </p>\n\n<pre><code>     for(int row=0; row&lt;x.length-1; row++){\n        for (int column = 0; column &lt; x.length; column++) {\n            System.out.print(x[column][row] + \"\\t\" );   \n            }\n            System.out.println();       \n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3335831,"reputation":55,"user_id":2803436,"accept_rate":88,"display_name":"Xanthian23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387281695,"creation_date":1387281695,"answer_id":20633597,"question_id":20632183,"body_markdown":"You just change the limit on how many rows you&#39;re scanning through: You can create a preset number, (as I have) :\r\n\r\n    public class Print {\r\n\r\n    public static int myBigInt;\r\n\r\n    public Print() {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        myBigInt = 5000;\r\n        int myArray[][] = new int[myBigInt][myBigInt];\r\n\r\n        for (int i = 0; i &lt; myBigInt - 1; i++) {\r\n            for (int j = 0; j &lt; myBigInt - 1; j++) {\r\n                int x = (int) (Math.random() * (50));\r\n                int y = (int) (Math.random() * (30) / 2);\r\n                myArray[i][j] = (x + ((x) + (y * 4)) / 2) + (y + ((x * 7) + (y)) / 2);\r\n            }\r\n        }\r\n        System.out.println(&quot;This is the inverted array&quot;);\r\n        display(myArray);\r\n    }\r\n\r\n    public static void display(int x[][]) {\r\n        for (int row = 0; row &lt; myBigInt - 1; row++) {\r\n            for (int column = 0; column &lt; x[row].length; column++) {\r\n                System.out.println(x[row][column] + &quot;\\t&quot; + x[row + 1][column]);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nor even go so far as to generate a random number for the limit, like:\r\n\r\n    myBigInt = (int) (Math.random() * (500));\r\n\r\nThis way, you can change the size of your array, without having to change anything else.\r\n\r\nI got a little stupid on the random number generator, but this will print out 4999 sets of 5000 numbers in a side by side array.","title":"Aligning 2d Array Print Ouput [Java]","body":"<p>You just change the limit on how many rows you're scanning through: You can create a preset number, (as I have) :</p>\n\n<pre><code>public class Print {\n\npublic static int myBigInt;\n\npublic Print() {\n}\n\npublic static void main(String[] args) {\n    myBigInt = 5000;\n    int myArray[][] = new int[myBigInt][myBigInt];\n\n    for (int i = 0; i &lt; myBigInt - 1; i++) {\n        for (int j = 0; j &lt; myBigInt - 1; j++) {\n            int x = (int) (Math.random() * (50));\n            int y = (int) (Math.random() * (30) / 2);\n            myArray[i][j] = (x + ((x) + (y * 4)) / 2) + (y + ((x * 7) + (y)) / 2);\n        }\n    }\n    System.out.println(\"This is the inverted array\");\n    display(myArray);\n}\n\npublic static void display(int x[][]) {\n    for (int row = 0; row &lt; myBigInt - 1; row++) {\n        for (int column = 0; column &lt; x[row].length; column++) {\n            System.out.println(x[row][column] + \"\\t\" + x[row + 1][column]);\n        }\n        System.out.print(\"\\n\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>or even go so far as to generate a random number for the limit, like:</p>\n\n<pre><code>myBigInt = (int) (Math.random() * (500));\n</code></pre>\n\n<p>This way, you can change the size of your array, without having to change anything else.</p>\n\n<p>I got a little stupid on the random number generator, but this will print out 4999 sets of 5000 numbers in a side by side array.</p>\n"}],"owner":{"account_id":3709012,"reputation":107,"user_id":3086819,"accept_rate":80,"display_name":"user3086819"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20632342,"answer_count":2,"score":1,"last_activity_date":1641584572,"creation_date":1387277481,"question_id":20632183,"body_markdown":"I declared a 2D int Array with some values, and I need to invert rows/columns on the Console.\r\nThe first row has to be shown vertically as the first column, the 2nd row would have to be shown vertically as the 2nd column, and so on. \r\nSo for example, the values of [0][0] , [0][1] , [0][2]  should be printed vertically, and the upcoming values of the 2nd row, should be aligned also vertically just to the right.\r\n\r\nHere&#39;s my code so far!\r\n\r\n    public class Print {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint firstarray[][] = {{8,9,10,11},{12,13,14,15}};\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;This is the inverted array&quot;);\r\n    \t\tdisplay(firstarray);\r\n    \t\t\r\n    \t}\r\n    \r\n    public static void display (int x[][]){\r\n    \tfor(int row=0; row&lt;x.length; row++){\r\n    \t\tfor(int column = 0; column&lt;x[row].length; column++){\r\n    \t\t\tSystem.out.println(x[row][column] + &quot;\\t&quot;);\r\n    \t\t}\r\n    \t\tSystem.out.print(&quot;\\n&quot;);\r\n    \t}\t\r\n    }\t\r\n    }\r\n\r\n \r\nCurrent Output(Not aligned properly):\r\n\r\n    This is the inverted array\r\n    8\t\r\n    9\t\r\n    10\t\r\n    11\t\r\n    \r\n    12\t\r\n    13\t\r\n    14\t\r\n    15\t\r\n   \r\n\r\n\t\r\nCorrect output should be:\r\n    \r\n    This is the inverted array\r\n    8,12\t\r\n    9,13\t\r\n    10,14\t\r\n    11,15\t\r\n    \t\r\n    \t\r\n\r\n\r\n\r\n\r\n","title":"Aligning 2d Array Print Ouput [Java]","body":"<p>I declared a 2D int Array with some values, and I need to invert rows/columns on the Console.\nThe first row has to be shown vertically as the first column, the 2nd row would have to be shown vertically as the 2nd column, and so on. \nSo for example, the values of [0][0] , [0][1] , [0][2]  should be printed vertically, and the upcoming values of the 2nd row, should be aligned also vertically just to the right.</p>\n\n<p>Here's my code so far!</p>\n\n<pre><code>public class Print {\n    public static void main(String[] args) {\n\n        int firstarray[][] = {{8,9,10,11},{12,13,14,15}};\n\n        System.out.println(\"This is the inverted array\");\n        display(firstarray);\n\n    }\n\npublic static void display (int x[][]){\n    for(int row=0; row&lt;x.length; row++){\n        for(int column = 0; column&lt;x[row].length; column++){\n            System.out.println(x[row][column] + \"\\t\");\n        }\n        System.out.print(\"\\n\");\n    }   \n}   \n}\n</code></pre>\n\n<p>Current Output(Not aligned properly):</p>\n\n<pre><code>This is the inverted array\n8   \n9   \n10  \n11  \n\n12  \n13  \n14  \n15  \n</code></pre>\n\n<p>Correct output should be:</p>\n\n<pre><code>This is the inverted array\n8,12    \n9,13    \n10,14   \n11,15   \n</code></pre>\n"},{"tags":["java","linux"],"answers":[{"tags":[],"owner":{"account_id":4555893,"reputation":780,"user_id":3699649,"accept_rate":80,"display_name":"Fjordo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1639842111,"creation_date":1508765921,"answer_id":46890797,"question_id":46890723,"body_markdown":"Basically it says to your machine to use this alternative of Jave JDK instead of the default one, which, in Linux systems, is OpenJDK.\r\n\r\nA brief extract from the man page is better than any answer I could write:\r\n\r\n&gt; update-alternatives  creates,  removes, maintains and displays information about the symbolic links comprising the Debian alternatives system.\r\n&gt; \r\n&gt;  It is possible for several programs fulfilling the same or similar functions to be installed on a single system  at  the  same  time. For example, many systems have several text editors installed at once.  This gives choice to the users of a system, allowing each to use a different editor, if desired, but makes it difficult for a program to make a good choice for an editor to invoke if the user has not specified a particular preference.\r\n&gt;\r\n&gt; Debian&#39;s alternatives system aims to solve this problem.  A generic name in the filesystem is  shared by all files providing interchangeable functionality. The alternatives system and the system administrator together determine which actual file is referenced by this generic name.  For example, if the text  editors  ed(1)  and nvi(1) are  both installed on the system, the alternatives system will cause the generic name /usr/bin/editor to refer to /usr/bin/nvi by default. The system administrator can override this  and  cause  it  to  refer to /usr/bin/ed  instead, and the alternatives system will not alter this setting until explicitly requested to do so.\r\n\r\nWith --install you specified a link, &quot;/usr/bin/java&quot; a name &quot;java&quot; and a path &quot;/usr/lib/java/JDK....&quot; and you add  a  group of alternatives to the system.  link is the generic name for the master link, name is the name of its symlink in the alternatives directory, and path is the alternative being introduced for the master link.\r\n\r\n\r\nI hope to be clear enough, Here there is a [post regarding java alternatives][1].\r\n\r\nFor the complete usage list I suggest to look at the same manual page, typing man update-alternatives on your OS shell;\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/272187/setting-jdk-7-as-default\r\n","title":"what is update-alternatives command in linux and what is the use of it?","body":"<p>Basically it says to your machine to use this alternative of Jave JDK instead of the default one, which, in Linux systems, is OpenJDK.</p>\n<p>A brief extract from the man page is better than any answer I could write:</p>\n<blockquote>\n<p>update-alternatives  creates,  removes, maintains and displays information about the symbolic links comprising the Debian alternatives system.</p>\n<p>It is possible for several programs fulfilling the same or similar functions to be installed on a single system  at  the  same  time. For example, many systems have several text editors installed at once.  This gives choice to the users of a system, allowing each to use a different editor, if desired, but makes it difficult for a program to make a good choice for an editor to invoke if the user has not specified a particular preference.</p>\n<p>Debian's alternatives system aims to solve this problem.  A generic name in the filesystem is  shared by all files providing interchangeable functionality. The alternatives system and the system administrator together determine which actual file is referenced by this generic name.  For example, if the text  editors  ed(1)  and nvi(1) are  both installed on the system, the alternatives system will cause the generic name /usr/bin/editor to refer to /usr/bin/nvi by default. The system administrator can override this  and  cause  it  to  refer to /usr/bin/ed  instead, and the alternatives system will not alter this setting until explicitly requested to do so.</p>\n</blockquote>\n<p>With --install you specified a link, &quot;/usr/bin/java&quot; a name &quot;java&quot; and a path &quot;/usr/lib/java/JDK....&quot; and you add  a  group of alternatives to the system.  link is the generic name for the master link, name is the name of its symlink in the alternatives directory, and path is the alternative being introduced for the master link.</p>\n<p>I hope to be clear enough, Here there is a <a href=\"https://askubuntu.com/questions/272187/setting-jdk-7-as-default\">post regarding java alternatives</a>.</p>\n<p>For the complete usage list I suggest to look at the same manual page, typing man update-alternatives on your OS shell;</p>\n"},{"tags":[],"owner":{"account_id":23863413,"reputation":21,"user_id":17866065,"display_name":"Mohammadali Meschi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641584567,"creation_date":1641584567,"answer_id":70626387,"question_id":46890723,"body_markdown":"i want to explain it for you from scratch ... if you have 2 or more versions of a program that starts with a same command in linux you can use update-alternatives command for determining the default version of that program and you can also change the default version of that command easily .. assume that you have 2 version of python on your system. python 2 &amp; python 3. by default python command on linux starts the python2 interpreter on the shell . you think that python 2 is old and you want to use python 3 instead of python2 . one of the solution is that you enter python3 command on the shell and start the python interpreter that its version is more than 3 ... but you want to enter python command and shell recognize that you want to run python3 interpreter . here,update-alternatives command do it&#39;s work and determine the default version and versions of a program you want to use for a specific command .\r\n\r\ni told you that python command start python 2 interpreter by default . you want to change it . follow the example :\r\n\r\nsudo update-alternatives --install /usr/bin/python python /usr/bin/python3 1.\r\n\r\nwhen you execute this command on linux you are telling to shell that after this time two links of two different programs are linked to python command on linux .. infact you install the python3 program on python command on linux and two programs exist at 1 command that you can change the defaults of these programs and run what of these programs you want by changing priority in command or configure it manually to set the default program ..\r\n\r\nhope this is useful for you !","title":"what is update-alternatives command in linux and what is the use of it?","body":"<p>i want to explain it for you from scratch ... if you have 2 or more versions of a program that starts with a same command in linux you can use update-alternatives command for determining the default version of that program and you can also change the default version of that command easily .. assume that you have 2 version of python on your system. python 2 &amp; python 3. by default python command on linux starts the python2 interpreter on the shell . you think that python 2 is old and you want to use python 3 instead of python2 . one of the solution is that you enter python3 command on the shell and start the python interpreter that its version is more than 3 ... but you want to enter python command and shell recognize that you want to run python3 interpreter . here,update-alternatives command do it's work and determine the default version and versions of a program you want to use for a specific command .</p>\n<p>i told you that python command start python 2 interpreter by default . you want to change it . follow the example :</p>\n<p>sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 1.</p>\n<p>when you execute this command on linux you are telling to shell that after this time two links of two different programs are linked to python command on linux .. infact you install the python3 program on python command on linux and two programs exist at 1 command that you can change the defaults of these programs and run what of these programs you want by changing priority in command or configure it manually to set the default program ..</p>\n<p>hope this is useful for you !</p>\n"}],"owner":{"account_id":11867228,"reputation":79,"user_id":8684428,"display_name":"kiran kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8175,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1641584567,"creation_date":1508765687,"question_id":46890723,"body_markdown":"while installation of java in Linux there is some usage of update-alternatives command since i am new to Linux environment i want to know what this command does and what is the use of it\r\n\r\n    &gt;&gt;sudo update-alternatives --install /usr/bin/java java /usr/lib/java/JDk.../bin/java\r\n\r\n","title":"what is update-alternatives command in linux and what is the use of it?","body":"<p>while installation of java in Linux there is some usage of update-alternatives command since i am new to Linux environment i want to know what this command does and what is the use of it</p>\n\n<pre><code>&gt;&gt;sudo update-alternatives --install /usr/bin/java java /usr/lib/java/JDk.../bin/java\n</code></pre>\n"},{"tags":["java","exception","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1641578342,"post_id":70624455,"comment_id":124849286,"body_markdown":"And what is the question?","body":"And what is the question?"},{"owner":{"account_id":20451688,"reputation":21,"user_id":15006321,"display_name":"Hamdysaad20"},"score":0,"creation_date":1641578709,"post_id":70624455,"comment_id":124849426,"body_markdown":"it should works but it shows infinity","body":"it should works but it shows infinity"},{"owner":{"account_id":20451688,"reputation":21,"user_id":15006321,"display_name":"Hamdysaad20"},"score":0,"creation_date":1641578737,"post_id":70624455,"comment_id":124849443,"body_markdown":"not what i wanted to show in the catch area","body":"not what i wanted to show in the catch area"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641584250,"creation_date":1641584250,"answer_id":70626325,"question_id":70624455,"body_markdown":"Floating point arithmetic in Java does not throw exceptions for division by zero; it evaluates to one of the special values in the `Double` class (`Double.POSITIVE_INFINITY` or `Double.NEGATIVE_INFINITY`).\r\n\r\nInstead of catching the exception, you can just test if the denominator is zero, or test if the result is infinite:\r\n\r\n    b4.setOnMouseClicked((MouseEvent ex) -&gt; {\r\n    \r\n        String num1 = tf4.getText();\r\n        String num2 = tf8.getText();\r\n        \r\n        \r\n        if(num1.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; num2.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;)) {\r\n            \r\n            \r\n            double num1f = Double.parseDouble(num1);\r\n            double num2f = Double.parseDouble(num2);\r\n            double result = num2f / num1f;\r\n            \r\n            if (Double.isInfinite(result)) { \r\n                valf4.setText(&quot;You can&#39;t do that !&quot;);\r\n            } else {\r\n                valf4.setText(String.valueOf(result));\r\n            }\r\n        } else {\r\n            \r\n        }\r\n    \r\n    });","title":"Java FX arithmetic expression in a button","body":"<p>Floating point arithmetic in Java does not throw exceptions for division by zero; it evaluates to one of the special values in the <code>Double</code> class (<code>Double.POSITIVE_INFINITY</code> or <code>Double.NEGATIVE_INFINITY</code>).</p>\n<p>Instead of catching the exception, you can just test if the denominator is zero, or test if the result is infinite:</p>\n<pre><code>b4.setOnMouseClicked((MouseEvent ex) -&gt; {\n\n    String num1 = tf4.getText();\n    String num2 = tf8.getText();\n    \n    \n    if(num1.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; num2.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;)) {\n        \n        \n        double num1f = Double.parseDouble(num1);\n        double num2f = Double.parseDouble(num2);\n        double result = num2f / num1f;\n        \n        if (Double.isInfinite(result)) { \n            valf4.setText(&quot;You can't do that !&quot;);\n        } else {\n            valf4.setText(String.valueOf(result));\n        }\n    } else {\n        \n    }\n\n});\n</code></pre>\n"}],"owner":{"account_id":20451688,"reputation":21,"user_id":15006321,"display_name":"Hamdysaad20"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70626325,"answer_count":1,"score":0,"last_activity_date":1641584250,"creation_date":1641573665,"question_id":70624455,"body_markdown":"hi i want to do a button that takes two input fields and trying to do the following :\r\n1) chick if it&#39;s a number .(so it can devide the two numbers)\r\n2) i can&#39;t devide any number by zero .\r\nand showing that it&#39;s a arithmetic expression .\r\nso any help ?\r\nthe code is blow ::\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M1gdJ.jpg\r\n\r\n\r\ncode ::\r\n\r\n    b4.setOnMouseClicked((MouseEvent ex) -&gt; {\r\n    String Num1 = tf4.getText();\r\n    String Num2 = tf8.getText();\r\n    \r\n    \r\n    if(Num1.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; Num2.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;)) {\r\n        \r\n        \r\n        try {\r\n            \r\n            double Num1f = Double.parseDouble(Num1);\r\n            double Num2f = Double.parseDouble(Num2);\r\n         double     result =(Num2f / Num1f);\r\n         \r\n       valf4.setText(String.valueOf(result));\r\n\r\n         \r\n        }\r\n        catch (ArithmeticException e) {\r\n            System.out.println(&quot;ArithmeticException&quot;);\r\n            valf4.setText(&quot;You can&#39;t do that !&quot;);\r\n        }\r\n    } else {\r\n        \r\n    }\r\n   });\r\n\r\n\r\nand it show infinity\r\nnot what i expected as i did in catch area","title":"Java FX arithmetic expression in a button","body":"<p>hi i want to do a button that takes two input fields and trying to do the following :</p>\n<ol>\n<li>chick if it's a number .(so it can devide the two numbers)</li>\n<li>i can't devide any number by zero .\nand showing that it's a arithmetic expression .\nso any help ?\nthe code is blow ::\n<a href=\"https://i.stack.imgur.com/M1gdJ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>code ::</p>\n<pre><code>b4.setOnMouseClicked((MouseEvent ex) -&gt; {\nString Num1 = tf4.getText();\nString Num2 = tf8.getText();\n\n\nif(Num1.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;) &amp;&amp; Num2.matches(&quot;^\\\\d+(\\\\.\\\\d+)?&quot;)) {\n    \n    \n    try {\n        \n        double Num1f = Double.parseDouble(Num1);\n        double Num2f = Double.parseDouble(Num2);\n     double     result =(Num2f / Num1f);\n     \n   valf4.setText(String.valueOf(result));\n\n     \n    }\n    catch (ArithmeticException e) {\n        System.out.println(&quot;ArithmeticException&quot;);\n        valf4.setText(&quot;You can't do that !&quot;);\n    }\n} else {\n    \n}\n</code></pre>\n<p>});</p>\n<p>and it show infinity\nnot what i expected as i did in catch area</p>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641531730,"creation_date":1641531730,"answer_id":70616803,"question_id":70616669,"body_markdown":"Try this:\r\n```\r\nreff = FirebaseDatabase.getInstance().getReference(&quot;Bahan Makanan Susu/3/Kalori&quot;);\r\nreff.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull  DataSnapshot dataSnapshot) {\r\n        String Sskal = dataSnapshot.getValue().toString();\r\n        Log.i(&quot;Firebase&quot;, Sskal);\r\n    }\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError databaseError) { \r\n        throw databaseError.toException(); \r\n    }\r\n}\r\n```\r\n\r\nThe main changes and points to pay attention to:\r\n\r\n* This code reads only property from the database, passing in the entire path to that node/property in to `getReference`.\r\n* Always implement `onCancelled` as it can point out access problems for your database. If you get an exception for this, search for the error message to learn how to deal with it.\r\n* If this also doesn&#39;t read any value, you&#39;ve never been able to read or write to the database, and your database is in another region than the US, consider re-downloading your `google-services.json` file, or specifying the database URL in the `getInstance(&quot;URL here&quot;)` call in your code.\r\n* You really shouldn&#39;t use sequential numeric keys like this. They&#39;re an anti-pattern in Firebase, as the SDKs try to interpret them as arrays. For more on this, see [Best Practices: Arrays in Firebase](https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html).","title":"How get random child from firebase database?","body":"<p>Try this:</p>\n<pre><code>reff = FirebaseDatabase.getInstance().getReference(&quot;Bahan Makanan Susu/3/Kalori&quot;);\nreff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull  DataSnapshot dataSnapshot) {\n        String Sskal = dataSnapshot.getValue().toString();\n        Log.i(&quot;Firebase&quot;, Sskal);\n    }\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) { \n        throw databaseError.toException(); \n    }\n}\n</code></pre>\n<p>The main changes and points to pay attention to:</p>\n<ul>\n<li>This code reads only property from the database, passing in the entire path to that node/property in to <code>getReference</code>.</li>\n<li>Always implement <code>onCancelled</code> as it can point out access problems for your database. If you get an exception for this, search for the error message to learn how to deal with it.</li>\n<li>If this also doesn't read any value, you've never been able to read or write to the database, and your database is in another region than the US, consider re-downloading your <code>google-services.json</code> file, or specifying the database URL in the <code>getInstance(&quot;URL here&quot;)</code> call in your code.</li>\n<li>You really shouldn't use sequential numeric keys like this. They're an anti-pattern in Firebase, as the SDKs try to interpret them as arrays. For more on this, see <a href=\"https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html\" rel=\"nofollow noreferrer\">Best Practices: Arrays in Firebase</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641539635,"creation_date":1641539635,"answer_id":70617736,"question_id":70616669,"body_markdown":"Try this:\r\n\r\n    reff = FirebaseDatabase.getInstance().getReference();\r\n    reff.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull  DataSnapshot \r\n    dataSnapshot) {\r\n            Random r = new Random();\r\n            int total = reff.child(&quot;Bahan Makanan Susu&quot;).getChildrenCount();\r\n            String Sskal =dataSnapshot.child(&quot;Bahan Makanan \r\n  \r\n   Susu&quot;).child(r.nextInt(total)).child(&quot;Kalori&quot;).getValue().toString();\r\n            });\r\n\r\nYou would have to do a check everytime though so one child doesn&#39;t get repeated but I hope you will be able to make it work.","title":"How get random child from firebase database?","body":"<p>Try this:</p>\n<pre><code>reff = FirebaseDatabase.getInstance().getReference();\nreff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull  DataSnapshot \ndataSnapshot) {\n        Random r = new Random();\n        int total = reff.child(&quot;Bahan Makanan Susu&quot;).getChildrenCount();\n        String Sskal =dataSnapshot.child(&quot;Bahan Makanan \n</code></pre>\n<p>Susu&quot;).child(r.nextInt(total)).child(&quot;Kalori&quot;).getValue().toString();\n});</p>\n<p>You would have to do a check everytime though so one child doesn't get repeated but I hope you will be able to make it work.</p>\n"}],"owner":{"account_id":23635819,"reputation":11,"user_id":17666909,"display_name":"lazycode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641551234,"answer_count":2,"score":1,"last_activity_date":1641583901,"creation_date":1641530216,"question_id":70616669,"body_markdown":"i try to get random child from my firebase. but i cant, i was try from many idea from stackoverflow too but still not working. for example, i want get random child from &quot;Bahan Makanan Susu&quot;, and after get a random child i want show the value of &quot;kalori&quot;.\r\n\r\nThis my database created\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/grKJe.jpg\r\n\r\nthis my currently code \r\n\r\n    reff = FirebaseDatabase.getInstance().getReference();\r\n    reff.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull  DataSnapshot dataSnapshot) {\r\n            String Sskal =dataSnapshot.child(&quot;Bahan Makanan Susu&quot;).child(&quot;3&quot;).child(&quot;Kalori&quot;).getValue().toString();\r\n\r\n&#39;child(&quot;3&quot;)&#39; in here i create manually and i want to make it random. thankyou hope u all can help me ","title":"How get random child from firebase database?","body":"<p>i try to get random child from my firebase. but i cant, i was try from many idea from stackoverflow too but still not working. for example, i want get random child from &quot;Bahan Makanan Susu&quot;, and after get a random child i want show the value of &quot;kalori&quot;.</p>\n<p>This my database created</p>\n<p><img src=\"https://i.stack.imgur.com/grKJe.jpg\" alt=\"enter image description here\" /></p>\n<p>this my currently code</p>\n<pre><code>reff = FirebaseDatabase.getInstance().getReference();\nreff.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull  DataSnapshot dataSnapshot) {\n        String Sskal =dataSnapshot.child(&quot;Bahan Makanan Susu&quot;).child(&quot;3&quot;).child(&quot;Kalori&quot;).getValue().toString();\n</code></pre>\n<p>'child(&quot;3&quot;)' in here i create manually and i want to make it random. thankyou hope u all can help me</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":2,"creation_date":1641202479,"post_id":70563349,"comment_id":124737660,"body_markdown":"How do you think`for` and `while` differ from each other?","body":"How do you think<code>for</code> and <code>while</code> differ from each other?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1641206316,"post_id":70563349,"comment_id":124738805,"body_markdown":"Two `for` loops do not necessarily &quot;sum&quot; up to **O(n^2)**, by the way…","body":"Two <code>for</code> loops do not necessarily &quot;sum&quot; up to <b>O(n^2)</b>, by the way…"}],"answers":[{"tags":[],"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641583695,"creation_date":1641209704,"answer_id":70565184,"question_id":70563349,"body_markdown":"As deHaar wrote. The complexity of two for loops aren&#39;t always O(n^2).\r\n\r\nfor example, for the following code:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt; n * n; j++) {\r\n            //do something\r\n        }\r\n    }\r\n\r\nthe complexity is `O(n^3)` because the code execute the &#39;do something&#39; n^3 times.\r\n\r\nnote that while and for are technically the same.\r\nthe code:\r\n\r\n    for (int i = 0; i &lt; 100; i++) {\r\n        //do something\r\n    }\r\n\r\ncould be translated to:\r\n\r\n    int i = 0;\r\n    while(i &lt; 100) {\r\n        //do something\r\n        i++;\r\n    }\r\n\r\n**So in your example:**\r\n\r\nlet say that m is the longest streak. now the code inside the while loop is running at most m times. now let say n is the amount of numbers. so the code in the for loop is running n times.\r\n\r\nin the code inside the while runs m times every time the for lop is running so `m*n` times in total. so the complexity is `O(n*m)`\r\n\r\nif the content of `set` is `nums` then the longest possible streak will be with length n. and then you can say the complexity is `O(n^2)`.\r\n","title":"What would be the time complexity for using for and while loops together in a code?","body":"<p>As deHaar wrote. The complexity of two for loops aren't always O(n^2).</p>\n<p>for example, for the following code:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    for (int j = 0; j &lt; n * n; j++) {\n        //do something\n    }\n}\n</code></pre>\n<p>the complexity is <code>O(n^3)</code> because the code execute the 'do something' n^3 times.</p>\n<p>note that while and for are technically the same.\nthe code:</p>\n<pre><code>for (int i = 0; i &lt; 100; i++) {\n    //do something\n}\n</code></pre>\n<p>could be translated to:</p>\n<pre><code>int i = 0;\nwhile(i &lt; 100) {\n    //do something\n    i++;\n}\n</code></pre>\n<p><strong>So in your example:</strong></p>\n<p>let say that m is the longest streak. now the code inside the while loop is running at most m times. now let say n is the amount of numbers. so the code in the for loop is running n times.</p>\n<p>in the code inside the while runs m times every time the for lop is running so <code>m*n</code> times in total. so the complexity is <code>O(n*m)</code></p>\n<p>if the content of <code>set</code> is <code>nums</code> then the longest possible streak will be with length n. and then you can say the complexity is <code>O(n^2)</code>.</p>\n"}],"owner":{"account_id":22027599,"reputation":11,"user_id":16295347,"display_name":"KUMARI PRAKRITI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1641583695,"creation_date":1641199647,"question_id":70563349,"body_markdown":"I know using two for loops sums up to O(N^2). Is it same in case of for loop and while loop? \r\n\r\nHere is a code snippet \r\n   \r\n\r\n     for(int num : nums)\r\n        {\r\n            if(!set.contains(num-1))\r\n            {\r\n                int currNum = num;\r\n                int currStreak = 1;\r\n                \r\n                while(set.contains(currNum+1))\r\n                {\r\n                    currNum += 1;\r\n                    currStreak += 1;\r\n                }\r\n                longestStreak = Math.max(longestStreak, currStreak);\r\n            }\r\n        } ","title":"What would be the time complexity for using for and while loops together in a code?","body":"<p>I know using two for loops sums up to O(N^2). Is it same in case of for loop and while loop?</p>\n<p>Here is a code snippet</p>\n<pre><code> for(int num : nums)\n    {\n        if(!set.contains(num-1))\n        {\n            int currNum = num;\n            int currStreak = 1;\n            \n            while(set.contains(currNum+1))\n            {\n                currNum += 1;\n                currStreak += 1;\n            }\n            longestStreak = Math.max(longestStreak, currStreak);\n        }\n    } \n</code></pre>\n"},{"tags":["java","data-structures","encoding","decoding","huffman-code"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1641665495,"post_id":70626216,"comment_id":124866366,"body_markdown":"Your first issue is that `if (node.value.charAt(0) == c) {\n                    sb += &quot;0&quot;;\n                    break;` is uncessesary and producing incorrect results, the other is that `else if (node.left.value.charAt(0) == c) {\n                    sb += &quot;0&quot;;\n                    node = node.left;` does not work correctly for `D` because `D` is not `charAt(0)` for `node.right.left` (BD) therefore it isn&#39;t taking the left path correctly, so you get 111 instead of 101.","body":"Your first issue is that <code>if (node.value.charAt(0) == c) {                     sb += &quot;0&quot;;                     break;</code> is uncessesary and producing incorrect results, the other is that <code>else if (node.left.value.charAt(0) == c) {                     sb += &quot;0&quot;;                     node = node.left;</code> does not work correctly for <code>D</code> because <code>D</code> is not <code>charAt(0)</code> for <code>node.right.left</code> (BD) therefore it isn&#39;t taking the left path correctly, so you get 111 instead of 101."},{"owner":{"account_id":18246460,"reputation":160,"user_id":13501348,"display_name":"Oğuzhan Atalay"},"score":0,"creation_date":1641673366,"post_id":70626216,"comment_id":124868079,"body_markdown":"Thank you for the comment! I got your point, but how could it be handled correctly @AliasCartellano?","body":"Thank you for the comment! I got your point, but how could it be handled correctly @AliasCartellano?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641676537,"post_id":70626216,"comment_id":124868850,"body_markdown":"When you get the value using `.value` look to see if it contains c instead of if it&#39;s in the 1st position. i.e does `node.left.value` contain `c` then 0, else 1.","body":"When you get the value using <code>.value</code> look to see if it contains c instead of if it&#39;s in the 1st position. i.e does <code>node.left.value</code> contain <code>c</code> then 0, else 1."}],"owner":{"account_id":18246460,"reputation":160,"user_id":13501348,"display_name":"Oğuzhan Atalay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641583631,"creation_date":1641583631,"question_id":70626216,"body_markdown":"Write a method that encodes a given text using an already constructed Huffman coding tree. The fields in the Node class are; String value, Float frequency, Node left, Node\r\nright.\r\n\r\nHuffman Node class:\r\n```java\r\npublic class HuffmanNode {\r\n    String value;\r\n    float frequency;\r\n    HuffmanNode left;\r\n    HuffmanNode right;\r\n\r\n    public HuffmanNode(String value, float frequency) {\r\n        this.value = value;\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public float getFrequency() {\r\n        return frequency;\r\n    }\r\n\r\n    public void setFrequency(float frequency) {\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public HuffmanNode getLeft() {\r\n        return left;\r\n    }\r\n\r\n    public void setLeft(HuffmanNode left) {\r\n        this.left = left;\r\n    }\r\n\r\n    public HuffmanNode getRight() {\r\n        return right;\r\n    }\r\n\r\n    public void setRight(HuffmanNode right) {\r\n        this.right = right;\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nTest with encode and decode functions:\r\n```java\r\nclass NodeTest {\r\n    public static String encode(String text, HuffmanNode root) {\r\n        String sb = &quot;&quot;;\r\n        for (int i = 0; i &lt; text.length(); i++) {\r\n            char c = text.charAt(i);\r\n            HuffmanNode node = root;\r\n            while (node.left != null &amp;&amp; node.right != null) {\r\n                if (node.value.charAt(0) == c) {\r\n                    sb += &quot;0&quot;;\r\n                    break;\r\n                } else if (node.left.value.charAt(0) == c) {\r\n                    sb += &quot;0&quot;;\r\n                    node = node.left;\r\n                } else {\r\n                    sb += &quot;1&quot;;\r\n                    node = node.right;\r\n                }\r\n            }\r\n        }\r\n        return sb;\r\n    }\r\n\r\n    public static String decode(String encodedText, HuffmanNode root) {\r\n        String sb = &quot;&quot;;\r\n        HuffmanNode node = root;\r\n        for (int i = 0; i &lt; encodedText.length(); i++) {\r\n            char c = encodedText.charAt(i);\r\n            if (c == &#39;0&#39;) {\r\n                node = node.left;\r\n            } else {\r\n                node = node.right;\r\n            }\r\n            if (node.left == null &amp;&amp; node.right == null) {\r\n                sb += node.value;\r\n                node = root;\r\n            }\r\n        }\r\n        return sb;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        HuffmanNode root = new HuffmanNode(&quot;ABCDE&quot;, 1);\r\n        root.left = new HuffmanNode(&quot;A&quot;, (float) 0.4);\r\n        root.right = new HuffmanNode(&quot;BDEC&quot;, (float) 0.6);\r\n        root.right.left = new HuffmanNode(&quot;BD&quot;, (float) 0.25);\r\n        root.right.right = new HuffmanNode(&quot;EC&quot;, (float) 0.35);\r\n        root.right.left.left = new HuffmanNode(&quot;B&quot;, (float) 0.1);\r\n        root.right.left.right = new HuffmanNode(&quot;D&quot;, (float) 0.15);\r\n        root.right.right.left = new HuffmanNode(&quot;E&quot;, (float) 0.15);\r\n        root.right.right.right = new HuffmanNode(&quot;C&quot;, (float) 0.2);\r\n        System.out.println(encode(&quot;BADEADA&quot;, root));\r\n        System.out.println(decode(&quot;100010111001010&quot;, root));\r\n    }\r\n}\r\n```\r\n\r\nThere is no error in decoding, but the expected encode result - specifically D - is different than the calculated. Is there another way to encode the given string?\r\n\r\nOutput:\r\n```shell\r\n10011111001110\r\nBADEADA\r\n```\r\n\r\nExpected:\r\n```shell\r\n100010111001010\r\nBADEADA\r\n```","title":"Method to encode a given text using an already constructed Huffman coding tree","body":"<p>Write a method that encodes a given text using an already constructed Huffman coding tree. The fields in the Node class are; String value, Float frequency, Node left, Node\nright.</p>\n<p>Huffman Node class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HuffmanNode {\n    String value;\n    float frequency;\n    HuffmanNode left;\n    HuffmanNode right;\n\n    public HuffmanNode(String value, float frequency) {\n        this.value = value;\n        this.frequency = frequency;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    public float getFrequency() {\n        return frequency;\n    }\n\n    public void setFrequency(float frequency) {\n        this.frequency = frequency;\n    }\n\n    public HuffmanNode getLeft() {\n        return left;\n    }\n\n    public void setLeft(HuffmanNode left) {\n        this.left = left;\n    }\n\n    public HuffmanNode getRight() {\n        return right;\n    }\n\n    public void setRight(HuffmanNode right) {\n        this.right = right;\n    }\n\n    ...\n}\n</code></pre>\n<p>Test with encode and decode functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NodeTest {\n    public static String encode(String text, HuffmanNode root) {\n        String sb = &quot;&quot;;\n        for (int i = 0; i &lt; text.length(); i++) {\n            char c = text.charAt(i);\n            HuffmanNode node = root;\n            while (node.left != null &amp;&amp; node.right != null) {\n                if (node.value.charAt(0) == c) {\n                    sb += &quot;0&quot;;\n                    break;\n                } else if (node.left.value.charAt(0) == c) {\n                    sb += &quot;0&quot;;\n                    node = node.left;\n                } else {\n                    sb += &quot;1&quot;;\n                    node = node.right;\n                }\n            }\n        }\n        return sb;\n    }\n\n    public static String decode(String encodedText, HuffmanNode root) {\n        String sb = &quot;&quot;;\n        HuffmanNode node = root;\n        for (int i = 0; i &lt; encodedText.length(); i++) {\n            char c = encodedText.charAt(i);\n            if (c == '0') {\n                node = node.left;\n            } else {\n                node = node.right;\n            }\n            if (node.left == null &amp;&amp; node.right == null) {\n                sb += node.value;\n                node = root;\n            }\n        }\n        return sb;\n    }\n\n    public static void main(String[] args) {\n        HuffmanNode root = new HuffmanNode(&quot;ABCDE&quot;, 1);\n        root.left = new HuffmanNode(&quot;A&quot;, (float) 0.4);\n        root.right = new HuffmanNode(&quot;BDEC&quot;, (float) 0.6);\n        root.right.left = new HuffmanNode(&quot;BD&quot;, (float) 0.25);\n        root.right.right = new HuffmanNode(&quot;EC&quot;, (float) 0.35);\n        root.right.left.left = new HuffmanNode(&quot;B&quot;, (float) 0.1);\n        root.right.left.right = new HuffmanNode(&quot;D&quot;, (float) 0.15);\n        root.right.right.left = new HuffmanNode(&quot;E&quot;, (float) 0.15);\n        root.right.right.right = new HuffmanNode(&quot;C&quot;, (float) 0.2);\n        System.out.println(encode(&quot;BADEADA&quot;, root));\n        System.out.println(decode(&quot;100010111001010&quot;, root));\n    }\n}\n</code></pre>\n<p>There is no error in decoding, but the expected encode result - specifically D - is different than the calculated. Is there another way to encode the given string?</p>\n<p>Output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>10011111001110\nBADEADA\n</code></pre>\n<p>Expected:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>100010111001010\nBADEADA\n</code></pre>\n"},{"tags":["java","unit-testing","jpa","service","mockito"],"comments":[{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1641588769,"post_id":70626194,"comment_id":124852454,"body_markdown":"there is a problem with java modules, so depending on how you are running your tests you may consider e.g. java-arg `--add-opens java.base/java.lang=ALL-UNNAMED` or the maven config provided here https://stackoverflow.com/questions/50634322/java-modules-accessibility-problems-for-mockito-2-20-0 - does one of these help?","body":"there is a problem with java modules, so depending on how you are running your tests you may consider e.g. java-arg <code>--add-opens java.base&#47;java.lang=ALL-UNNAMED</code> or the maven config provided here <a href=\"https://stackoverflow.com/questions/50634322/java-modules-accessibility-problems-for-mockito-2-20-0\" title=\"java modules accessibility problems for mockito 2 20 0\">stackoverflow.com/questions/50634322/&hellip;</a> - does one of these help?"},{"owner":{"account_id":23863536,"reputation":11,"user_id":17866176,"display_name":"Kasper Vos"},"score":0,"creation_date":1641590039,"post_id":70626194,"comment_id":124852796,"body_markdown":"@fladdimir Thanks for the response! I tried the maven config provided in that link, but no luck! What would another way be to implement that &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; line?","body":"@fladdimir Thanks for the response! I tried the maven config provided in that link, but no luck! What would another way be to implement that &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; line?"}],"owner":{"account_id":23863536,"reputation":11,"user_id":17866176,"display_name":"Kasper Vos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641583522,"creation_date":1641583522,"question_id":70626194,"body_markdown":"I&#39;ve been trying to get some unit tests working using Mockito. I&#39;m working in a Netbeans project, Java EE 8. I&#39;m trying to build a web application with multiple layers. So far the domain and the dao layer are working fine and the service layer itself is not giving me any errors. However, I&#39;m now running into trouble running the service layer&#39;s tests using Mockito.\r\n\r\nThis is the error I&#39;m getting:\r\n\r\n```\r\n-------------------------------------------------------\r\n T E S T S\r\n-------------------------------------------------------\r\nPicked up _JAVA_OPTIONS: -Xmx512M\r\nRunning service.WeaponsmithServiceTest\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.154 sec &lt;&lt;&lt; FAILURE!\r\ntestCreate(service.WeaponsmithServiceTest)  Time elapsed: 0.056 sec  &lt;&lt;&lt; ERROR!\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n\tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n\tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n\tat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\n\tat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\n\tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\n\tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:319)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\r\n\tat org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @33833882\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n\t... 49 more\r\n\r\n\r\nResults :\r\n\r\nTests in error: \r\n  testCreate(service.WeaponsmithServiceTest)\r\n```\r\n\r\n\r\nThis is the ServiceTest I&#39;m trying to run:\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class WeaponsmithServiceTest {\r\n    \r\n    private WeaponsmithService service;\r\n    @Mock\r\n    private WeaponsmithDaoJPA weaponsmithDao;\r\n    \r\n    Weaponsmith weaponsmith;\r\n    \r\n    public WeaponsmithServiceTest() {\r\n    }\r\n    \r\n    @Before\r\n    public void setUp() {\r\n        service = new WeaponsmithService();\r\n        service.setDao(weaponsmithDao);\r\n        weaponsmith = new Weaponsmith(&quot;name&quot;, &quot;password&quot;);\r\n        \r\n    }\r\n\r\n    \r\n    @Test\r\n    public void testCreate() throws Exception {\r\n        service.create(weaponsmith);\r\n        verify(weaponsmithDao, Mockito.times(1)).create(weaponsmith);\r\n    }\r\n```\r\n\r\nThis here is my Dao implementation\r\n```\r\npublic class WeaponDaoJPA extends DaoImpl&lt;Weapon&gt; implements WeaponDao {\r\n\r\n    @Override\r\n    public List&lt;Weapon&gt; findByGoldCost(int goldCost) {\r\n        TypedQuery&lt;Weapon&gt; query = getEntityManager().createNamedQuery(&quot;weapon.findByGoldCost&quot;, Weapon.class).setParameter(&quot;goldCost&quot;, goldCost);\r\n        return query.getResultList();\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Weapon&gt; findByName(String name) {\r\n        TypedQuery&lt;Weapon&gt; query = getEntityManager().createNamedQuery(&quot;weapon.findByName&quot;, Weapon.class).setParameter(&quot;name&quot;, name);\r\n        return query.getResultList();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI feel like I&#39;m missing something that in hindsight will make me say &quot;Oh, right.&quot; but I&#39;ve been on it for a bit and I just can&#39;t figure it out, help would be appreciated!\r\n\r\nIf you need anything else from me, feel free to let me know.\r\n\r\nThanks in advance.\r\n\r\n","title":"Running into problems with Mockito","body":"<p>I've been trying to get some unit tests working using Mockito. I'm working in a Netbeans project, Java EE 8. I'm trying to build a web application with multiple layers. So far the domain and the dao layer are working fine and the service layer itself is not giving me any errors. However, I'm now running into trouble running the service layer's tests using Mockito.</p>\n<p>This is the error I'm getting:</p>\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nPicked up _JAVA_OPTIONS: -Xmx512M\nRunning service.WeaponsmithServiceTest\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.154 sec &lt;&lt;&lt; FAILURE!\ntestCreate(service.WeaponsmithServiceTest)  Time elapsed: 0.056 sec  &lt;&lt;&lt; ERROR!\njava.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:319)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @33833882\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 49 more\n\n\nResults :\n\nTests in error: \n  testCreate(service.WeaponsmithServiceTest)\n</code></pre>\n<p>This is the ServiceTest I'm trying to run:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class WeaponsmithServiceTest {\n    \n    private WeaponsmithService service;\n    @Mock\n    private WeaponsmithDaoJPA weaponsmithDao;\n    \n    Weaponsmith weaponsmith;\n    \n    public WeaponsmithServiceTest() {\n    }\n    \n    @Before\n    public void setUp() {\n        service = new WeaponsmithService();\n        service.setDao(weaponsmithDao);\n        weaponsmith = new Weaponsmith(&quot;name&quot;, &quot;password&quot;);\n        \n    }\n\n    \n    @Test\n    public void testCreate() throws Exception {\n        service.create(weaponsmith);\n        verify(weaponsmithDao, Mockito.times(1)).create(weaponsmith);\n    }\n</code></pre>\n<p>This here is my Dao implementation</p>\n<pre><code>public class WeaponDaoJPA extends DaoImpl&lt;Weapon&gt; implements WeaponDao {\n\n    @Override\n    public List&lt;Weapon&gt; findByGoldCost(int goldCost) {\n        TypedQuery&lt;Weapon&gt; query = getEntityManager().createNamedQuery(&quot;weapon.findByGoldCost&quot;, Weapon.class).setParameter(&quot;goldCost&quot;, goldCost);\n        return query.getResultList();\n    }\n\n    @Override\n    public List&lt;Weapon&gt; findByName(String name) {\n        TypedQuery&lt;Weapon&gt; query = getEntityManager().createNamedQuery(&quot;weapon.findByName&quot;, Weapon.class).setParameter(&quot;name&quot;, name);\n        return query.getResultList();\n    }\n    \n}\n</code></pre>\n<p>I feel like I'm missing something that in hindsight will make me say &quot;Oh, right.&quot; but I've been on it for a bit and I just can't figure it out, help would be appreciated!</p>\n<p>If you need anything else from me, feel free to let me know.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1641554388,"post_id":70620394,"comment_id":124839534,"body_markdown":"Look into a Navigation tutorial, and consider using (if it applies to you) Fragments instead of Activities for your application screens/parts with just a single Activity.\nSee: https://developer.android.com/guide/navigation/navigation-getting-started","body":"Look into a Navigation tutorial, and consider using (if it applies to you) Fragments instead of Activities for your application screens/parts with just a single Activity. See: <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23858404,"reputation":207,"user_id":17861668,"display_name":"Bhavik Kalsariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641556305,"creation_date":1641555928,"answer_id":70620764,"question_id":70620394,"body_markdown":"Suppose your button in splash activity and you want to redirect main activity on button click you can write code like below.\r\n\r\n    Button button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(SplashActivity.this,HomeActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });","title":"How can I change my android activity on button click? - Stack Overflow","body":"<p>Suppose your button in splash activity and you want to redirect main activity on button click you can write code like below.</p>\n<pre><code>Button button = findViewById(R.id.button);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(SplashActivity.this,HomeActivity.class);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user14860952"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1641724734,"answer_count":1,"score":0,"last_activity_date":1641583467,"creation_date":1641554068,"question_id":70620394,"body_markdown":"I am new to programming and don&#39;t know how to jump from one activity to another activity.\r\n\r\nThe first Activity name is Splash and the Second one name is Home.\r\n\r\n**I am trying to jump from Splash to Home.**\r\n\r\nCan Anybody help me to do so?","title":"How can I change my android activity on button click? - Stack Overflow","body":"<p>I am new to programming and don't know how to jump from one activity to another activity.</p>\n<p>The first Activity name is Splash and the Second one name is Home.</p>\n<p><strong>I am trying to jump from Splash to Home.</strong></p>\n<p>Can Anybody help me to do so?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8292,"page":1700,"page_size":100}
