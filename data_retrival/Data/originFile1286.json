{"items":[{"tags":["java","shell","parallel-processing","concurrent.futures"],"comments":[{"owner":{"account_id":218314,"reputation":5220,"user_id":474569,"accept_rate":60,"display_name":"Mzf"},"score":0,"creation_date":1428324412,"post_id":29468289,"comment_id":47104514,"body_markdown":"where do you wait for the thread to end ?","body":"where do you wait for the thread to end ?"},{"owner":{"account_id":5321937,"reputation":668,"user_id":4245148,"accept_rate":53,"display_name":"user07"},"score":0,"creation_date":1428325439,"post_id":29468289,"comment_id":47104964,"body_markdown":"@Mzf so you mean i have to wait after invoking every script to end then move to next one ? i trying to invoke mutiple scripts but non of the scripts got invoked and i got above error. As if i do it using for loop instead of future class every thing works fine.","body":"@Mzf so you mean i have to wait after invoking every script to end then move to next one ? i trying to invoke mutiple scripts but non of the scripts got invoked and i got above error. As if i do it using for loop instead of future class every thing works fine."}],"owner":{"account_id":5321937,"reputation":668,"user_id":4245148,"accept_rate":53,"display_name":"user07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654514557,"creation_date":1428311219,"question_id":29468289,"body_markdown":"I am using Java future class to achieve parallel programming. I am invoking shell script as shown below. I am invoking below function from my java controller \r\n\r\n     String NodeResult=restartNodes(HostName);\r\n\r\nIn controller implementation of future class\r\n\r\n\r\n\r\n     public static String restartNodes(final String hostName){\r\n       ExecutorService executor = Executors.newFixedThreadPool(threadNum);\r\n\t    List&lt;FutureTask&lt;Integer&gt;&gt; taskList = new  ArrayList&lt;FutureTask&lt;Integer&gt;&gt;();\r\n\t    \r\n\t    // Start thread for the first half of the numbers\r\n\t    FutureTask&lt;Integer&gt; futureTask_1 = new FutureTask&lt;Integer&gt;(new Callable&lt;Integer&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic Integer call() throws Exception {\r\n\t\t\t\t\r\n\t\t\t\trestartScript(hostName);\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn SUCCESS;\r\n\t\t\t}\r\n\t    });\r\n\t    taskList.add(futureTask_1);\r\n\t    executor.execute(futureTask_1);\r\n\t    return &quot;successfully done&quot;;\r\n    }\r\n\r\ncode to invoke a script is:\r\n\r\n\r\n\r\n\r\n     public static void  restartScript(String hostName) {\r\n\t\tSSHExec ssh = null;\r\n\r\n\t\t// Wrap the whole execution jobs into try-catch block\r\n\t\ttry {\r\n\t\t\t// Initialize a ConnBean object, parameter list is ip, username,\r\n\t\t\t// password\r\n\t\t\t\r\n\t\t\tConnBean cb = new ConnBean(IP_Add, User_Name,\r\n\t\t\t\t\tPassword);\r\n\t\t\t\r\n\t\t\tssh = SSHExec.getInstance(cb);\r\n\t\t\t\r\n\t\t\r\n\t\t\tCustomTask ct2 = new ExecShellScript(&quot;/root/&quot;,\r\n\t\t\t\t\t&quot;./restartScript.sh&quot;,&quot;&quot;+ hostName+&quot;&quot; );\r\n\r\n\t\t\t// Connect to server\r\n\t\t\tssh.connect();\r\n\r\n\t\t\tResult res = ssh.exec(ct2);\r\n\t\t\t// Check result and print out messages.\r\n\t\t\tif (res.isSuccess) {\r\n\t\t\t\tSystem.out.println(&quot;Return code in success: &quot; + res.rc);\r\n\t\t\t\tSystem.out.println(&quot;sysout: &quot; + res.sysout);\r\n\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Return code: &quot; + res.rc);\r\n\t\t\t\tSystem.out.println(&quot;error message: &quot; + res.error_msg);\r\n\t\t\t}\r\n\t\t} catch (TaskExecFailException ex) {\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tssh.disconnect();\r\n\t\t}\r\n\r\n\t }\r\n\r\nI am invoking multiple script and i want to them to be executed in parallel but while executing i am getting below error \r\n\r\n\r\n\r\n     com.jcraft.jsch.JSchException: session is down\r\n\tat com.jcraft.jsch.Session.openChannel(Session.java:752)\r\n\tat net.neoremind.sshxcute.core.SSHExec.exec(SSHExec.java:164)\r\n\tat com.controller.UserLoginController.isNodeLive(UserLoginController.java:1620)\r\n\tat com.controller.UserLoginController$3.call(UserLoginController.java:1724)\r\n\tat com.controller.UserLoginController$3.call(UserLoginController.java:1)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\n\r\nIs their any max limit of getting ssh session i.e (concurrent session as i will be executing 5 scripts like this having different purpose and i want all of them will go in parallel.)  if we use future class? \r\n\r\n","title":"how to implement java future class to achieve parallelism to invoke a shell script for mutiple concurrent connections","body":"<p>I am using Java future class to achieve parallel programming. I am invoking shell script as shown below. I am invoking below function from my java controller </p>\n\n<pre><code> String NodeResult=restartNodes(HostName);\n</code></pre>\n\n<p>In controller implementation of future class</p>\n\n<pre><code> public static String restartNodes(final String hostName){\n   ExecutorService executor = Executors.newFixedThreadPool(threadNum);\n    List&lt;FutureTask&lt;Integer&gt;&gt; taskList = new  ArrayList&lt;FutureTask&lt;Integer&gt;&gt;();\n\n    // Start thread for the first half of the numbers\n    FutureTask&lt;Integer&gt; futureTask_1 = new FutureTask&lt;Integer&gt;(new Callable&lt;Integer&gt;() {\n        @Override\n        public Integer call() throws Exception {\n\n            restartScript(hostName);\n\n\n            return SUCCESS;\n        }\n    });\n    taskList.add(futureTask_1);\n    executor.execute(futureTask_1);\n    return \"successfully done\";\n}\n</code></pre>\n\n<p>code to invoke a script is:</p>\n\n<pre><code> public static void  restartScript(String hostName) {\n    SSHExec ssh = null;\n\n    // Wrap the whole execution jobs into try-catch block\n    try {\n        // Initialize a ConnBean object, parameter list is ip, username,\n        // password\n\n        ConnBean cb = new ConnBean(IP_Add, User_Name,\n                Password);\n\n        ssh = SSHExec.getInstance(cb);\n\n\n        CustomTask ct2 = new ExecShellScript(\"/root/\",\n                \"./restartScript.sh\",\"\"+ hostName+\"\" );\n\n        // Connect to server\n        ssh.connect();\n\n        Result res = ssh.exec(ct2);\n        // Check result and print out messages.\n        if (res.isSuccess) {\n            System.out.println(\"Return code in success: \" + res.rc);\n            System.out.println(\"sysout: \" + res.sysout);\n\n        } else {\n\n            System.out.println(\"Return code: \" + res.rc);\n            System.out.println(\"error message: \" + res.error_msg);\n        }\n    } catch (TaskExecFailException ex) {\n        System.out.println(ex.getMessage());\n        ex.printStackTrace();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        e.printStackTrace();\n    } finally {\n        ssh.disconnect();\n    }\n\n }\n</code></pre>\n\n<p>I am invoking multiple script and i want to them to be executed in parallel but while executing i am getting below error </p>\n\n<pre><code> com.jcraft.jsch.JSchException: session is down\nat com.jcraft.jsch.Session.openChannel(Session.java:752)\nat net.neoremind.sshxcute.core.SSHExec.exec(SSHExec.java:164)\nat com.controller.UserLoginController.isNodeLive(UserLoginController.java:1620)\nat com.controller.UserLoginController$3.call(UserLoginController.java:1724)\nat com.controller.UserLoginController$3.call(UserLoginController.java:1)\nat java.util.concurrent.FutureTask.run(FutureTask.java:262)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>Is their any max limit of getting ssh session i.e (concurrent session as i will be executing 5 scripts like this having different purpose and i want all of them will go in parallel.)  if we use future class? </p>\n"},{"tags":["java","spring-boot","rest","postman"],"answers":[{"tags":[],"owner":{"account_id":1437254,"reputation":559,"user_id":8555541,"display_name":"Swapnil Khante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654514180,"creation_date":1654514180,"answer_id":72516860,"question_id":72516551,"body_markdown":"`@RequestMapping` methods mapped to `GET` are also implicitly mapped to `HEAD`, i.e. there is no need to have `HEAD` explicitly declared. An `HTTP HEAD` request is processed as if it were an `HTTP GET` except instead of writing the body only the number of bytes are counted and the `Content-Length` header set. ","title":"Spring REST API - HEAD Request","body":"<p><code>@RequestMapping</code> methods mapped to <code>GET</code> are also implicitly mapped to <code>HEAD</code>, i.e. there is no need to have <code>HEAD</code> explicitly declared. An <code>HTTP HEAD</code> request is processed as if it were an <code>HTTP GET</code> except instead of writing the body only the number of bytes are counted and the <code>Content-Length</code> header set.</p>\n"}],"owner":{"account_id":11978527,"reputation":3,"user_id":8765000,"display_name":"Beanie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72516860,"answer_count":1,"score":0,"last_activity_date":1654514180,"creation_date":1654512553,"question_id":72516551,"body_markdown":"I have built a `REST API` with `Spring`, and I was looking into the `HEAD` Request; how do I know if it is working?\r\n```\r\n@RequestMapping(value=&quot;/employees&quot;, method= RequestMethod.GET) //used to get all employees\r\n        \r\n@RequestMapping(value=&quot;/employees&quot;, method= {RequestMethod.GET, RequestMethod.HEAD}) //same but I added the head request method\r\n  ```      \r\nIn Postman, both of these return the same values under Headers in a HEAD Request - so do I need to add the `RequestMethod.HEAD` or not? How can I check it is working?\r\n\r\nThanks!","title":"Spring REST API - HEAD Request","body":"<p>I have built a <code>REST API</code> with <code>Spring</code>, and I was looking into the <code>HEAD</code> Request; how do I know if it is working?</p>\n<pre><code>@RequestMapping(value=&quot;/employees&quot;, method= RequestMethod.GET) //used to get all employees\n        \n@RequestMapping(value=&quot;/employees&quot;, method= {RequestMethod.GET, RequestMethod.HEAD}) //same but I added the head request method\n</code></pre>\n<p>In Postman, both of these return the same values under Headers in a HEAD Request - so do I need to add the <code>RequestMethod.HEAD</code> or not? How can I check it is working?</p>\n<p>Thanks!</p>\n"},{"tags":["java","opencv","image-processing","ocr","tesseract"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1654513728,"post_id":72513875,"comment_id":128100796,"body_markdown":"rotating it upright would probably help the most. why don&#39;t you try that first?","body":"rotating it upright would probably help the most. why don&#39;t you try that first?"},{"owner":{"account_id":10343395,"reputation":55,"user_id":7629055,"display_name":"Hamza YOUSSOUF"},"score":0,"creation_date":1654582227,"post_id":72513875,"comment_id":128118153,"body_markdown":"How can I automatically rotate image depending this position ?","body":"How can I automatically rotate image depending this position ?"}],"owner":{"account_id":10343395,"reputation":55,"user_id":7629055,"display_name":"Hamza YOUSSOUF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654513736,"creation_date":1654497216,"question_id":72513875,"body_markdown":"I&#39;m trying to develop simple PC application which allows to extract metadata from identity document. Images aren&#39;t really good (in further they will be good). I want to preprocess image for tesseract, and it correctly extracts only 15% of the document. I would like to improve this percentage.\r\n1) Source image\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WtJpY.jpg\r\n\r\n2) My code\r\n\r\n       String inputFilePath = path;\r\n        img = Imgcodecs.imread(inputFilePath);\r\n        Imgcodecs.imwrite( selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;_original.png&quot;, img);\r\n        Mat kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(30,5));\r\n        //Applying erosion on the Image\r\n        Imgproc.cvtColor(img, imgGray, Imgproc.COLOR_BGR2GRAY);\r\n        Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;2_imgGray.png&quot;, imgGray);\r\n\r\n        Imgproc.GaussianBlur(imgGray,imgGaussianBlur, new Size(3, 3),0);\r\n        Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;3_imgGaussianBlur.png&quot;, imgGray);\r\n\r\n        Imgproc.threshold(imgGaussianBlur, imgThreshold, 0,255, Imgproc.THRESH_BINARY_INV+Imgproc.THRESH_OTSU); \r\n        Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;5_imgThreshold.png&quot;, imgThreshold);\r\n        ","title":"Image preprocessing with OpenCV (OCR Tesseract)","body":"<p>I'm trying to develop simple PC application which allows to extract metadata from identity document. Images aren't really good (in further they will be good). I want to preprocess image for tesseract, and it correctly extracts only 15% of the document. I would like to improve this percentage.</p>\n<ol>\n<li>Source image\n<a href=\"https://i.stack.imgur.com/WtJpY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WtJpY.jpg\" alt=\"enter image description here\" /></a></li>\n</ol>\n<ol start=\"2\">\n<li><p>My code</p>\n<pre><code>String inputFilePath = path;\n img = Imgcodecs.imread(inputFilePath);\n Imgcodecs.imwrite( selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;_original.png&quot;, img);\n Mat kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(30,5));\n //Applying erosion on the Image\n Imgproc.cvtColor(img, imgGray, Imgproc.COLOR_BGR2GRAY);\n Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;2_imgGray.png&quot;, imgGray);\n\n Imgproc.GaussianBlur(imgGray,imgGaussianBlur, new Size(3, 3),0);\n Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;3_imgGaussianBlur.png&quot;, imgGray);\n\n Imgproc.threshold(imgGaussianBlur, imgThreshold, 0,255, Imgproc.THRESH_BINARY_INV+Imgproc.THRESH_OTSU); \n Imgcodecs.imwrite(selectedFolder + &quot;\\\\preprocess\\\\&quot;+b.getSelectedValue().toString()+&quot;5_imgThreshold.png&quot;, imgThreshold);\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","fileinputstream"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1654513904,"post_id":72516733,"comment_id":128100838,"body_markdown":"Look carefully at the logic.  You are discarding (i.e. not including in the sum) the first value that you read.","body":"Look carefully at the logic.  You are discarding (i.e. not including in the sum) the first value that you read."},{"owner":{"account_id":23200394,"reputation":11,"user_id":17295319,"display_name":"Furkan Şakir &#220;nal"},"score":0,"creation_date":1654514006,"post_id":72516733,"comment_id":128100874,"body_markdown":"How can i fix this. I wrote in file 1,2,3,4..,10 but i got 781 as a result","body":"How can i fix this. I wrote in file 1,2,3,4..,10 but i got 781 as a result"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1654514175,"post_id":72516733,"comment_id":128100937,"body_markdown":"A second problem is that you are reading and summing characters.  Not numbers.  Read the javadoc for `Scanner`.","body":"A second problem is that you are reading and summing characters.  Not numbers.  Read the javadoc for <code>Scanner</code>."},{"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"score":0,"creation_date":1654514256,"post_id":72516733,"comment_id":128100965,"body_markdown":"Check it https://stackoverflow.com/questions/11875446/read-data-from-text-file-and-sum-numbers","body":"Check it <a href=\"https://stackoverflow.com/questions/11875446/read-data-from-text-file-and-sum-numbers\" title=\"read data from text file and sum numbers\">stackoverflow.com/questions/11875446/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654520299,"post_id":72516733,"comment_id":128102876,"body_markdown":"`z += (i - &#39;0&#39;);` is what you need if summing digits","body":"<code>z += (i - &#39;0&#39;);</code> is what you need if summing digits"}],"owner":{"account_id":23200394,"reputation":11,"user_id":17295319,"display_name":"Furkan Şakir &#220;nal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654513528,"creation_date":1654513528,"question_id":72516733,"body_markdown":"    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    public class HW104 {\r\n        static int z;\r\n        static int k;\r\n        public static void inputData(String filename) {\r\n            \r\n            try {\r\n                FileInputStream input = new FileInputStream(filename);\r\n                int i = input.read();\r\n                while (i != -1) {\r\n                    \r\n                    System.out.println((char) i);\r\n                    i = input.read();\r\n                    z=z+i;\r\n                    \r\n                    \r\n                    \r\n                }\r\n                System.out.println(z);\r\n                input.close();\r\n            } catch (IOException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            inputData(&quot;arabaa.txt&quot;);\r\n        }\r\n    }\r\nI cant get sum of numbers in txt file with fileinputstream in Java. int z must be sum of all numbers in txt file. But i got irrelevant number.","title":"I cant get sum of numbers in txt file with fileinputstream in Java","body":"<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\npublic class HW104 {\n    static int z;\n    static int k;\n    public static void inputData(String filename) {\n        \n        try {\n            FileInputStream input = new FileInputStream(filename);\n            int i = input.read();\n            while (i != -1) {\n                \n                System.out.println((char) i);\n                i = input.read();\n                z=z+i;\n                \n                \n                \n            }\n            System.out.println(z);\n            input.close();\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n\n    public static void main(String[] args) {\n        inputData(&quot;arabaa.txt&quot;);\n    }\n}\n</code></pre>\n<p>I cant get sum of numbers in txt file with fileinputstream in Java. int z must be sum of all numbers in txt file. But i got irrelevant number.</p>\n"},{"tags":["java","apache-poi","powerpoint"],"comments":[{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1552848610,"post_id":55206688,"comment_id":97157330,"body_markdown":"please have at least a glimpse at the [documentation](http://poi.apache.org/components/slideshow/index.html) first and then show some effort before asking questions here.","body":"please have at least a glimpse at the <a href=\"http://poi.apache.org/components/slideshow/index.html\" rel=\"nofollow noreferrer\">documentation</a> first and then show some effort before asking questions here."},{"owner":{"account_id":15437257,"reputation":1,"user_id":11137000,"display_name":"Bart"},"score":0,"creation_date":1552927246,"post_id":55206688,"comment_id":97186914,"body_markdown":"I did :) But the concept of slides is bit more complicated :) With MS word we can simply use getText whereas with slides i&#39;m not sure what to ask for. There are many examples with images but nothing about text.","body":"I did :) But the concept of slides is bit more complicated :) With MS word we can simply use getText whereas with slides i&#39;m not sure what to ask for. There are many examples with images but nothing about text."}],"owner":{"account_id":15437257,"reputation":1,"user_id":11137000,"display_name":"Bart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654513348,"creation_date":1552823232,"question_id":55206688,"body_markdown":"How do you get/read text content from text boxes inside of PowerPoint?","title":"How to access text/paragraphs from PowerPoints using apache poi","body":"<p>How do you get/read text content from text boxes inside of PowerPoint?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1654513309,"post_id":72516619,"comment_id":128100657,"body_markdown":"Can&#39;t you loop from 0 to 4, `.get()` the corresponding element from the list (the method takes a parameter of type `int` so you can use the current iteration of the loop there), and print it? What specific problem are you having with implementing this?","body":"Can&#39;t you loop from 0 to 4, <code>.get()</code> the corresponding element from the list (the method takes a parameter of type <code>int</code> so you can use the current iteration of the loop there), and print it? What specific problem are you having with implementing this?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654516788,"post_id":72516619,"comment_id":128101713,"body_markdown":"That’s a lot of code, and I can’t readily spot which lines are relevant. Please learn to create a [mre].","body":"That’s a lot of code, and I can’t readily spot which lines are relevant. Please learn to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25196428,"reputation":5,"user_id":19035891,"display_name":"F&#225;bio Galante"},"score":0,"creation_date":1654859652,"post_id":72516619,"comment_id":128198526,"body_markdown":"look at case(1) on MenuCompra thats where i am having trouble","body":"look at case(1) on MenuCompra thats where i am having trouble"}],"owner":{"account_id":25196428,"reputation":5,"user_id":19035891,"display_name":"F&#225;bio Galante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654512928,"creation_date":1654512928,"question_id":72516619,"body_markdown":"So Im having some trouble coming up with a idea to make it work I&#180;ve at it for the past 4 hours and still cant put it to work I returned to where I start to make things simple to understand.\r\nHere&#180;s the deal I have 2 menus on the first one I print all of the arrayList like it is supposed but one the second menu i can only print the first five products does anyone has a solution?\r\nheres the code:\r\n\r\n    package projeto;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class GestorDeCartoes {\r\n        public static void main(String[] args){\r\n            Scanner scanner = new Scanner(System.in);\r\n            //inicializa a lista de clientes e a de produtos\r\n            ArrayList&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Produto&gt; listaProdutos = new ArrayList&lt;&gt;();\r\n            long id = 2021129038;\r\n            int pos = 1;\r\n            int menu, menuCompra;\r\n    \r\n            do {\r\n                System.out.println(&quot;\\nEscolha a op&#231;&#227;o:\\n1-Inserir Clientes\\n2-Listar Clientes\\n3-Inserir Produtos\\n4-Listar Produtos\\n5-Menu de Compra\\n6-Sair&quot;);\r\n                menu = scanner.nextInt();\r\n                scanner.nextLine();\r\n    \r\n                switch (menu)\r\n                {\r\n                    case (1):\r\n                        System.out.println(&quot;Insira os dados do cliente:&quot;);\r\n                        String inputCliente = scanner.nextLine();\r\n                        String[] dadosCliente = inputCliente.split(&quot;,&quot;);\r\n                        String nome = dadosCliente[0];\r\n                        int idade = Integer.parseInt(dadosCliente[1]);\r\n                        double pontos = Double.parseDouble(dadosCliente[2]);\r\n    \r\n                        //verifica se o nome introduzido &#233; numerico\r\n                        if(nome.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\r\n                            System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                            break;\r\n                        }\r\n    \r\n                        //verifica de a idade e os pontos introduzidos sao positivos\r\n                        if ((idade &lt; 0) || (pontos &lt; 0)){\r\n                            System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                            break;\r\n                        }\r\n    \r\n                        //cria o cliente, o cartao, adiciona a lista de clientes e incrementa o id\r\n                        Cartao cartao = new Cartao(id, pontos);\r\n                        Cliente cliente = new Cliente( pos , id, nome , idade , cartao );\r\n                        listaClientes.add(cliente);\r\n                        id++;\r\n                        pos++;\r\n                        break;\r\n                    case (2):\r\n                        //lista os Clientes\r\n                        for (Cliente ClienteIterador : listaClientes) {\r\n                            System.out.println(ClienteIterador.toString());\r\n                        }\r\n                        break;\r\n                    case (3):\r\n                        System.out.println(&quot;Insira os dados do produto:&quot;);\r\n                        //le a linha a ser introduzida\r\n                        String inputProduto = scanner.nextLine();\r\n                        //separa a linha lida pelas virgulas num vetor\r\n                        String[] dadosProduto = inputProduto.split(&quot;,&quot;);\r\n                        //introduz os dados lidos para o vetor nas variaveis\r\n                        int custo = Integer.parseInt(dadosProduto[1]);\r\n                        String nomeProduto = dadosProduto[0];\r\n    \r\n                        //verifica se o nome introduzido &#233; numerico\r\n                        if(nomeProduto.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\r\n                            System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                            break; \r\n                        }\r\n    \r\n                        //verifica se o custo introduzido &#233; positivo\r\n                        if (custo &lt; 0){\r\n                            System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                            break;\r\n                        }\r\n                        //cria o produto e adiciona a lista\r\n                        Produto produto = new Produto( id , custo , nomeProduto );\r\n                        listaProdutos.add(produto);\r\n                        id++;\r\n                        break;\r\n                    case (4):\r\n                        //lista os produtos\r\n                        for (Produto produtoIterador : listaProdutos) {\r\n                            System.out.println(produtoIterador.toString());\r\n    \r\n                        }\r\n                        break;\r\n                    case (5):\r\n                        System.out.println(&quot;\\nMENU DE COMPRA\\n&quot;);\r\n    \r\n                        do {\r\n                            System.out.println(&quot;1-Ver a Lista de Produtos\\n2-Comprar Produto\\n3-Consultar o Saldo\\n4-Sair\\n5-Voltar\\nEscolha a op&#231;&#227;o:&quot;);\r\n                            menuCompra = scanner.nextInt();\r\n                            switch (menuCompra) {\r\n                                case (1):\r\n                                    //lista os produtos\r\n                                    for (Produto produtoIterador : listaProdutos) {\r\n                                        System.out.println(produtoIterador.toString());\r\n                                    }\r\n                                    break;\r\n                                case (2):\r\n                                    System.out.println(&quot;Introduza o nome do produto que quer comprar\\n&quot;);\r\n                                    String compraProdutoString = scanner.next();\r\n    \r\n                                    //verifica se o nome introduzido &#233; numerico\r\n                                    if(compraProdutoString.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\r\n                                        System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                                        break;\r\n                                    }\r\n                                    //filtra a lista de produtos pelo produto com o nome igual ao que queremos comprar\r\n                                    Produto produtoAComprar = null;\r\n                                    for (Produto compraProduto : listaProdutos) {\r\n                                        if (compraProduto.obterNome().equals(compraProdutoString)) {\r\n                                            produtoAComprar = compraProduto;\r\n                                            break;\r\n                                        }\r\n                                        continue;\r\n                                    }\r\n                                    if (produtoAComprar == null) {\r\n                                        System.out.println(&quot;Produto inv&#225;lido&quot;);\r\n                                        break;\r\n                                    }\r\n                                    System.out.println(&quot;Introduza o nome do cliente:\\n&quot;);\r\n                                    String compraClienteString = scanner.next();\r\n    \r\n                                    //verifica se o nome introduzido &#233; numerico\r\n                                    if(compraClienteString.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\r\n                                        System.out.println(&quot;Dados inv&#225;lidos&quot;);\r\n                                        break;\r\n                                    }\r\n                                    //filtra a lista de clientes pelo cliente com o nome igual ao que queremos utilizar\r\n                                    for (Cliente compraCliente : listaClientes) {\r\n                                        if (compraCliente.obterNome().equals(compraClienteString)) {\r\n                                            compraCliente.comprar(produtoAComprar);\r\n                                            break;\r\n                                        }\r\n                                        continue;\r\n                                    }\r\n                                    break;\r\n                                case (3):\r\n                                    //mostra o saldo do cliente\r\n                                    System.out.print(&quot;Introduza o nome do cliente:&quot;);\r\n                                    String ConsultaSaldoString = scanner.next();\r\n                                    for (Cliente compraCliente : listaClientes) {\r\n                                        if (compraCliente.obterNome().equals(ConsultaSaldoString)) {\r\n                                            compraCliente.mostrarSaldo();\r\n                                            break;\r\n                                        }\r\n                                        continue;\r\n                                    }\r\n                                    break;\r\n    \r\n                                case (4): \r\n                                    //fecha o scanner e sai do programa\r\n                                    System.out.println(&quot;Volte Sempre&quot;);\r\n                                    scanner.close();\r\n                                    return;\r\n                                case(5):\r\n                                    break;\r\n                                }\r\n                                \r\n                        } while (menuCompra!= 5);\r\n                        break;                            \r\n                    case (6):\r\n                        //fecha o scanner e sai do programa\r\n                        System.out.println(&quot;Volte Sempre&quot;);\r\n                        scanner.close();\r\n                        break;\r\n    \r\n                    default:\r\n                        System.out.println(&quot;Escolha um numero entre 1 e 5&quot;);\r\n                        break;\r\n                }\r\n            } while (menu != 6);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to print 5 first elements from an arrayList","body":"<p>So Im having some trouble coming up with a idea to make it work I´ve at it for the past 4 hours and still cant put it to work I returned to where I start to make things simple to understand.\nHere´s the deal I have 2 menus on the first one I print all of the arrayList like it is supposed but one the second menu i can only print the first five products does anyone has a solution?\nheres the code:</p>\n<pre><code>package projeto;\nimport java.util.*;\n\n\n\npublic class GestorDeCartoes {\n    public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n        //inicializa a lista de clientes e a de produtos\n        ArrayList&lt;Cliente&gt; listaClientes = new ArrayList&lt;&gt;();\n        ArrayList&lt;Produto&gt; listaProdutos = new ArrayList&lt;&gt;();\n        long id = 2021129038;\n        int pos = 1;\n        int menu, menuCompra;\n\n        do {\n            System.out.println(&quot;\\nEscolha a opção:\\n1-Inserir Clientes\\n2-Listar Clientes\\n3-Inserir Produtos\\n4-Listar Produtos\\n5-Menu de Compra\\n6-Sair&quot;);\n            menu = scanner.nextInt();\n            scanner.nextLine();\n\n            switch (menu)\n            {\n                case (1):\n                    System.out.println(&quot;Insira os dados do cliente:&quot;);\n                    String inputCliente = scanner.nextLine();\n                    String[] dadosCliente = inputCliente.split(&quot;,&quot;);\n                    String nome = dadosCliente[0];\n                    int idade = Integer.parseInt(dadosCliente[1]);\n                    double pontos = Double.parseDouble(dadosCliente[2]);\n\n                    //verifica se o nome introduzido é numerico\n                    if(nome.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\n                        System.out.println(&quot;Dados inválidos&quot;);\n                        break;\n                    }\n\n                    //verifica de a idade e os pontos introduzidos sao positivos\n                    if ((idade &lt; 0) || (pontos &lt; 0)){\n                        System.out.println(&quot;Dados inválidos&quot;);\n                        break;\n                    }\n\n                    //cria o cliente, o cartao, adiciona a lista de clientes e incrementa o id\n                    Cartao cartao = new Cartao(id, pontos);\n                    Cliente cliente = new Cliente( pos , id, nome , idade , cartao );\n                    listaClientes.add(cliente);\n                    id++;\n                    pos++;\n                    break;\n                case (2):\n                    //lista os Clientes\n                    for (Cliente ClienteIterador : listaClientes) {\n                        System.out.println(ClienteIterador.toString());\n                    }\n                    break;\n                case (3):\n                    System.out.println(&quot;Insira os dados do produto:&quot;);\n                    //le a linha a ser introduzida\n                    String inputProduto = scanner.nextLine();\n                    //separa a linha lida pelas virgulas num vetor\n                    String[] dadosProduto = inputProduto.split(&quot;,&quot;);\n                    //introduz os dados lidos para o vetor nas variaveis\n                    int custo = Integer.parseInt(dadosProduto[1]);\n                    String nomeProduto = dadosProduto[0];\n\n                    //verifica se o nome introduzido é numerico\n                    if(nomeProduto.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\n                        System.out.println(&quot;Dados inválidos&quot;);\n                        break; \n                    }\n\n                    //verifica se o custo introduzido é positivo\n                    if (custo &lt; 0){\n                        System.out.println(&quot;Dados inválidos&quot;);\n                        break;\n                    }\n                    //cria o produto e adiciona a lista\n                    Produto produto = new Produto( id , custo , nomeProduto );\n                    listaProdutos.add(produto);\n                    id++;\n                    break;\n                case (4):\n                    //lista os produtos\n                    for (Produto produtoIterador : listaProdutos) {\n                        System.out.println(produtoIterador.toString());\n\n                    }\n                    break;\n                case (5):\n                    System.out.println(&quot;\\nMENU DE COMPRA\\n&quot;);\n\n                    do {\n                        System.out.println(&quot;1-Ver a Lista de Produtos\\n2-Comprar Produto\\n3-Consultar o Saldo\\n4-Sair\\n5-Voltar\\nEscolha a opção:&quot;);\n                        menuCompra = scanner.nextInt();\n                        switch (menuCompra) {\n                            case (1):\n                                //lista os produtos\n                                for (Produto produtoIterador : listaProdutos) {\n                                    System.out.println(produtoIterador.toString());\n                                }\n                                break;\n                            case (2):\n                                System.out.println(&quot;Introduza o nome do produto que quer comprar\\n&quot;);\n                                String compraProdutoString = scanner.next();\n\n                                //verifica se o nome introduzido é numerico\n                                if(compraProdutoString.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\n                                    System.out.println(&quot;Dados inválidos&quot;);\n                                    break;\n                                }\n                                //filtra a lista de produtos pelo produto com o nome igual ao que queremos comprar\n                                Produto produtoAComprar = null;\n                                for (Produto compraProduto : listaProdutos) {\n                                    if (compraProduto.obterNome().equals(compraProdutoString)) {\n                                        produtoAComprar = compraProduto;\n                                        break;\n                                    }\n                                    continue;\n                                }\n                                if (produtoAComprar == null) {\n                                    System.out.println(&quot;Produto inválido&quot;);\n                                    break;\n                                }\n                                System.out.println(&quot;Introduza o nome do cliente:\\n&quot;);\n                                String compraClienteString = scanner.next();\n\n                                //verifica se o nome introduzido é numerico\n                                if(compraClienteString.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;)){\n                                    System.out.println(&quot;Dados inválidos&quot;);\n                                    break;\n                                }\n                                //filtra a lista de clientes pelo cliente com o nome igual ao que queremos utilizar\n                                for (Cliente compraCliente : listaClientes) {\n                                    if (compraCliente.obterNome().equals(compraClienteString)) {\n                                        compraCliente.comprar(produtoAComprar);\n                                        break;\n                                    }\n                                    continue;\n                                }\n                                break;\n                            case (3):\n                                //mostra o saldo do cliente\n                                System.out.print(&quot;Introduza o nome do cliente:&quot;);\n                                String ConsultaSaldoString = scanner.next();\n                                for (Cliente compraCliente : listaClientes) {\n                                    if (compraCliente.obterNome().equals(ConsultaSaldoString)) {\n                                        compraCliente.mostrarSaldo();\n                                        break;\n                                    }\n                                    continue;\n                                }\n                                break;\n\n                            case (4): \n                                //fecha o scanner e sai do programa\n                                System.out.println(&quot;Volte Sempre&quot;);\n                                scanner.close();\n                                return;\n                            case(5):\n                                break;\n                            }\n                            \n                    } while (menuCompra!= 5);\n                    break;                            \n                case (6):\n                    //fecha o scanner e sai do programa\n                    System.out.println(&quot;Volte Sempre&quot;);\n                    scanner.close();\n                    break;\n\n                default:\n                    System.out.println(&quot;Escolha um numero entre 1 e 5&quot;);\n                    break;\n            }\n        } while (menu != 6);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1654512004,"post_id":72516251,"comment_id":128100290,"body_markdown":"How could you fix what? Nothing&#39;s broken. Don&#39;t use a relational database if you don&#39;t like the format it uses, and don&#39;t especially use JPA then.","body":"How could you fix what? Nothing&#39;s broken. Don&#39;t use a relational database if you don&#39;t like the format it uses, and don&#39;t especially use JPA then."}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654512354,"creation_date":1654512354,"answer_id":72516517,"question_id":72516251,"body_markdown":"There is no need to &#39;fix&#39; something. It&#39;s the correct way to store a List for an entity in a relational database. Just take a look at database normalization.\r\nI understand that it might look unnecessary at first but this way is better to work with over all.","title":"How to store List using PostgreSQL in Java Springboot JPA?","body":"<p>There is no need to 'fix' something. It's the correct way to store a List for an entity in a relational database. Just take a look at database normalization.\nI understand that it might look unnecessary at first but this way is better to work with over all.</p>\n"}],"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72516517,"answer_count":1,"score":-1,"last_activity_date":1654512354,"creation_date":1654510828,"question_id":72516251,"body_markdown":"I&#39;m new to Java related techniques, and I currently working on a SpringBoot Project, and I need to store a list of numbers, such as `&#39;XXXXX&#39;:[1,2,3,4...]`, but the result is not what I want.\r\n\r\nHere is my entity:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the repository class:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is how I save the data in my project:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAnd this is the final result that the data store in the database:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI don&#39;t want data stored in such style, cause I may need to get `time_slot_list` using `connectio_id`. It would increase my program complexity. How could I fix it? If there is some information is ambiguity, please let me, I would fix that. Thanks in advance. \r\n\r\n  [1]: https://i.stack.imgur.com/IDT7O.png\r\n  [2]: https://i.stack.imgur.com/0gPOK.png\r\n  [3]: https://i.stack.imgur.com/AULbp.png\r\n  [4]: https://i.stack.imgur.com/lZWWx.png","title":"How to store List using PostgreSQL in Java Springboot JPA?","body":"<p>I'm new to Java related techniques, and I currently working on a SpringBoot Project, and I need to store a list of numbers, such as <code>'XXXXX':[1,2,3,4...]</code>, but the result is not what I want.</p>\n<p>Here is my entity:</p>\n<p><a href=\"https://i.stack.imgur.com/IDT7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDT7O.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the repository class:</p>\n<p><a href=\"https://i.stack.imgur.com/0gPOK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gPOK.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I save the data in my project:</p>\n<p><a href=\"https://i.stack.imgur.com/AULbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AULbp.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the final result that the data store in the database:</p>\n<p><a href=\"https://i.stack.imgur.com/lZWWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZWWx.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't want data stored in such style, cause I may need to get <code>time_slot_list</code> using <code>connectio_id</code>. It would increase my program complexity. How could I fix it? If there is some information is ambiguity, please let me, I would fix that. Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1654310397,"post_id":72491993,"comment_id":128067007,"body_markdown":"you can do it by sending http request ( `POST`,  `GET` ) from your android application to your server side then you can perform your work","body":"you can do it by sending http request ( <code>POST</code>,  <code>GET</code> ) from your android application to your server side then you can perform your work"},{"owner":{"account_id":24935692,"reputation":1,"user_id":18802308,"display_name":"MONCEF ESSALAH"},"score":0,"creation_date":1654352795,"post_id":72491993,"comment_id":128073134,"body_markdown":"Thank you for your answer, but I am not the owner of this website, to send a request you need to know the API that is behind the HTML button.","body":"Thank you for your answer, but I am not the owner of this website, to send a request you need to know the API that is behind the HTML button."}],"answers":[{"tags":[],"owner":{"account_id":24935692,"reputation":1,"user_id":18802308,"display_name":"MONCEF ESSALAH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654512326,"creation_date":1654512326,"answer_id":72516514,"question_id":72491993,"body_markdown":"After a search I found that it can be done through 2 methods:\r\n1- you can find the API behind the HTML button by right-clicking on the website&gt;Inspect &gt; click on your HTML page button and take the URL from the Network tab and in your program do HTTP get or post request.\r\n2-this is the most efficient and valid method even if it is a dynamic url behind the HTML button, using the jsoup library.\r\nfirst, look for the links on the HTML page and extract the one of your button then make an HTTP get or post request.\r\nyou can follow this code.\r\n\r\n    File input = new File(&quot;/tmp/input.html&quot;);\r\n    Document doc = Jsoup.parse(input, &quot;UTF-8&quot;, &quot;http://example.com/&quot;);\r\n    \r\n    Element content = doc.getElementById(&quot;content&quot;);\r\n    Elements links = content.getElementsByTag(&quot;a&quot;);\r\n    for (Element link : links) {\r\n      String linkHref = link.attr(&quot;href&quot;);\r\n      String linkText = link.text();\r\n    }\r\n\r\n\r\n\r\n","title":"perform automatic html button from Java in Android","body":"<p>After a search I found that it can be done through 2 methods:\n1- you can find the API behind the HTML button by right-clicking on the website&gt;Inspect &gt; click on your HTML page button and take the URL from the Network tab and in your program do HTTP get or post request.\n2-this is the most efficient and valid method even if it is a dynamic url behind the HTML button, using the jsoup library.\nfirst, look for the links on the HTML page and extract the one of your button then make an HTTP get or post request.\nyou can follow this code.</p>\n<pre><code>File input = new File(&quot;/tmp/input.html&quot;);\nDocument doc = Jsoup.parse(input, &quot;UTF-8&quot;, &quot;http://example.com/&quot;);\n\nElement content = doc.getElementById(&quot;content&quot;);\nElements links = content.getElementsByTag(&quot;a&quot;);\nfor (Element link : links) {\n  String linkHref = link.attr(&quot;href&quot;);\n  String linkText = link.text();\n}\n</code></pre>\n"}],"owner":{"account_id":24935692,"reputation":1,"user_id":18802308,"display_name":"MONCEF ESSALAH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654512326,"creation_date":1654270655,"question_id":72491993,"body_markdown":"\r\nI am writing an App in Java Android. The App constantly communicates with contents in a Web Server. In the Server, I have an HTML file that has another button. I wish that When I press the button in my Android App, the button in the HTML file is auto clicked. Is it possible without using a webView?","title":"perform automatic html button from Java in Android","body":"<p>I am writing an App in Java Android. The App constantly communicates with contents in a Web Server. In the Server, I have an HTML file that has another button. I wish that When I press the button in my Android App, the button in the HTML file is auto clicked. Is it possible without using a webView?</p>\n"},{"tags":["java","spring","logging","rfc","syslog4j"],"owner":{"account_id":21809523,"reputation":1,"user_id":16107279,"display_name":"KryptonKori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1654937220,"answer_count":0,"score":-1,"last_activity_date":1654511780,"creation_date":1654511780,"question_id":72516407,"body_markdown":"I am using my one application where I am trying to collect debug log. but I am getting log messages in parts and not continuos in one line. after some investigation in code I got that I am using concept RFC 3164 where byte limit is 1024 bytes. i.e. when my message is more than 1024 bytes then message will be split in parts. but I want message in continuos without split.Is there any other way or alternative option to do this?","title":"When I am collecting debug log I am getting log messages in parts and not getting continuos message","body":"<p>I am using my one application where I am trying to collect debug log. but I am getting log messages in parts and not continuos in one line. after some investigation in code I got that I am using concept RFC 3164 where byte limit is 1024 bytes. i.e. when my message is more than 1024 bytes then message will be split in parts. but I want message in continuos without split.Is there any other way or alternative option to do this?</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":31910,"reputation":1101,"user_id":87988,"display_name":"R&#233;my"},"score":0,"creation_date":1247769825,"post_id":1139496,"comment_id":28355002,"body_markdown":"What about checking if the &quot;primary key&quot; is null ?","body":"What about checking if the &quot;primary key&quot; is null ?"}],"answers":[{"tags":[],"owner":{"account_id":38490,"reputation":8552,"user_id":110478,"accept_rate":63,"display_name":"Pablojim"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1654511414,"creation_date":1247773902,"answer_id":1139901,"question_id":1139496,"body_markdown":"Try using the `EntityManager.merge` method - this is very similar.\r\n\r\nThere is an excellent description of the differences in Xebia&#39;s blogpost: &quot;[JPA Implementation Patterns: Saving (Detached) Entities][1].&quot;\r\n\r\n\r\n  [1]: https://xebia.com/jpa-implementation-patterns-saving-detached-entities/","title":"How can you replicate Hibernate&#39;s saveOrUpdate in JPA?","body":"<p>Try using the <code>EntityManager.merge</code> method - this is very similar.</p>\n<p>There is an excellent description of the differences in Xebia's blogpost: &quot;<a href=\"https://xebia.com/jpa-implementation-patterns-saving-detached-entities/\" rel=\"nofollow noreferrer\">JPA Implementation Patterns: Saving (Detached) Entities</a>.&quot;</p>\n"},{"tags":[],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1247829891,"creation_date":1247829891,"answer_id":1142692,"question_id":1139496,"body_markdown":"The problem with the method outlined in the article that Pablojim linked to, is that it doesn&#39;t handle auto generated primary keys very well.\r\n\r\nConsider the creation of a new ORM entity object, you can give this the same data as an existing row in the database table, but unless I am mistaken, the entity manager does not recognize them as the same row until they have the same primary key, which in a entity that uses auto generated keys, you can&#39;t get until you go up to the database.\r\n\r\nHere is my current work around for that situation;\r\n\r\n    /**\r\n     * Save an object into the database if it does not exist, else return\r\n     * object that exists in the database.\r\n     *\r\n     * @param query query to find object in the database, should only return\r\n     * one object.\r\n     * @param entity Object to save or update.\r\n     * @return Object in the database, whither it was prior or not.\r\n     */\r\n    private Object saveOrUpdate(Query query, Object entity) {\r\n        final int NO_RESULT = 0;\r\n        final int RESULT = 1;\r\n    \r\n        //should return a list of ONE result, \r\n        // since the query should be finding unique objects\r\n        List results = query.getResultList();\r\n        switch (results.size()) {\r\n            case NO_RESULT:\r\n                em.persist(entity);\r\n                return entity;\r\n            case RESULT:\r\n                return results.get(0);\r\n            default:\r\n                throw new NonUniqueResultException(&quot;Unexpected query results, &quot; +\r\n                        results.size());\r\n        }\r\n    }","title":"How can you replicate Hibernate&#39;s saveOrUpdate in JPA?","body":"<p>The problem with the method outlined in the article that Pablojim linked to, is that it doesn't handle auto generated primary keys very well.</p>\n\n<p>Consider the creation of a new ORM entity object, you can give this the same data as an existing row in the database table, but unless I am mistaken, the entity manager does not recognize them as the same row until they have the same primary key, which in a entity that uses auto generated keys, you can't get until you go up to the database.</p>\n\n<p>Here is my current work around for that situation;</p>\n\n<pre><code>/**\n * Save an object into the database if it does not exist, else return\n * object that exists in the database.\n *\n * @param query query to find object in the database, should only return\n * one object.\n * @param entity Object to save or update.\n * @return Object in the database, whither it was prior or not.\n */\nprivate Object saveOrUpdate(Query query, Object entity) {\n    final int NO_RESULT = 0;\n    final int RESULT = 1;\n\n    //should return a list of ONE result, \n    // since the query should be finding unique objects\n    List results = query.getResultList();\n    switch (results.size()) {\n        case NO_RESULT:\n            em.persist(entity);\n            return entity;\n        case RESULT:\n            return results.get(0);\n        default:\n            throw new NonUniqueResultException(\"Unexpected query results, \" +\n                    results.size());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63981,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":1139901,"answer_count":2,"score":46,"last_activity_date":1654511414,"creation_date":1247769660,"question_id":1139496,"body_markdown":"In JPA, is there any way you can replicate Hibernate&#39;s [saveOrUpdate behavior][1],\r\n\r\n    saveOrUpdate\r\n    \r\n    public void saveOrUpdate(Object object)\r\n                      throws HibernateException\r\n    \r\n        Either save(Object) or update(Object) the given instance, depending upon resolution of the unsaved-value checks (see the manual for discussion of unsaved-value checking).\r\n    \r\n        This operation cascades to associated instances if the association is mapped with cascade=&quot;save-update&quot;.\r\n    \r\n        Parameters:\r\n            object - a transient or detached instance containing new or updated state \r\n        Throws:\r\n            HibernateException\r\n        See Also:\r\n            save(Object), update(Object)\r\n\r\nwhich essentially checks to see if the object already exists in the database and either updates that object as need be or saves a new instance of the object.\r\n\r\nJPA transcationless reads are nice, but I am really missing this method from Hibernate. How do experienced JPA developers handle this?\r\n\r\n\r\n  [1]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Session.html#saveOrUpdate%28java.lang.Object%29","title":"How can you replicate Hibernate&#39;s saveOrUpdate in JPA?","body":"<p>In JPA, is there any way you can replicate Hibernate's <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Session.html#saveOrUpdate%28java.lang.Object%29\" rel=\"noreferrer\">saveOrUpdate behavior</a>,</p>\n\n<pre><code>saveOrUpdate\n\npublic void saveOrUpdate(Object object)\n                  throws HibernateException\n\n    Either save(Object) or update(Object) the given instance, depending upon resolution of the unsaved-value checks (see the manual for discussion of unsaved-value checking).\n\n    This operation cascades to associated instances if the association is mapped with cascade=\"save-update\".\n\n    Parameters:\n        object - a transient or detached instance containing new or updated state \n    Throws:\n        HibernateException\n    See Also:\n        save(Object), update(Object)\n</code></pre>\n\n<p>which essentially checks to see if the object already exists in the database and either updates that object as need be or saves a new instance of the object.</p>\n\n<p>JPA transcationless reads are nice, but I am really missing this method from Hibernate. How do experienced JPA developers handle this?</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1654510085,"post_id":72516090,"comment_id":128099748,"body_markdown":"What command are you using to try and compile?","body":"What command are you using to try and compile?"},{"owner":{"account_id":20930387,"reputation":94,"user_id":15376914,"display_name":"Oliver"},"score":0,"creation_date":1654510122,"post_id":72516090,"comment_id":128099764,"body_markdown":"@khelwood `javac Main.java`","body":"@khelwood <code>javac Main.java</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1654510208,"post_id":72516090,"comment_id":128099797,"body_markdown":"You probably installed a JRE (Java Runtime Environment) rather than a JDK (Java Development Kit). You need a JDK to be able to compile.","body":"You probably installed a JRE (Java Runtime Environment) rather than a JDK (Java Development Kit). You need a JDK to be able to compile."},{"owner":{"account_id":20930387,"reputation":94,"user_id":15376914,"display_name":"Oliver"},"score":0,"creation_date":1654510275,"post_id":72516090,"comment_id":128099825,"body_markdown":"@RealSkeptic Aha, it IS a JRE...","body":"@RealSkeptic Aha, it IS a JRE..."},{"owner":{"account_id":20930387,"reputation":94,"user_id":15376914,"display_name":"Oliver"},"score":0,"creation_date":1654510472,"post_id":72516090,"comment_id":128099882,"body_markdown":"Good, it is working now.","body":"Good, it is working now."}],"answers":[{"tags":[],"owner":{"account_id":20930387,"reputation":94,"user_id":15376914,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654510821,"creation_date":1654510821,"answer_id":72516250,"question_id":72516090,"body_markdown":"You probably installed a JRE (Java Runtime Environment) rather than a JDK (Java Development Kit). You need a JDK to be able to compile.\r\n\r\n(Thanks go to [RealSkeptic][1] for the answer - see above.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4125191/realskeptic","title":"Unable to locate a Java Runtime that supports javac","body":"<p>You probably installed a JRE (Java Runtime Environment) rather than a JDK (Java Development Kit). You need a JDK to be able to compile.</p>\n<p>(Thanks go to <a href=\"https://stackoverflow.com/users/4125191/realskeptic\">RealSkeptic</a> for the answer - see above.)</p>\n"}],"owner":{"account_id":20930387,"reputation":94,"user_id":15376914,"display_name":"Oliver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1654510821,"creation_date":1654510018,"question_id":72516090,"body_markdown":"I am attempting to compile a &quot;Hello World&quot; program in Java 8 update 333. When I attempt to compile it, this happens:\r\n\r\n```\r\nThe operation couldn’t be completed. Unable to locate a Java Runtime that supports javac.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\n`java -version`:\r\n\r\n```\r\njava version &quot;1.8.0_333&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)\r\n```","title":"Unable to locate a Java Runtime that supports javac","body":"<p>I am attempting to compile a &quot;Hello World&quot; program in Java 8 update 333. When I attempt to compile it, this happens:</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime that supports javac.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p><code>java -version</code>:</p>\n<pre><code>java version &quot;1.8.0_333&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1497878141,"post_id":44631604,"comment_id":76248639,"body_markdown":"you can check, no? token=null","body":"you can check, no? token=null"},{"owner":{"account_id":4902485,"reputation":1007,"user_id":3950240,"accept_rate":60,"display_name":"Aishwarya"},"score":0,"creation_date":1497878357,"post_id":44631604,"comment_id":76248786,"body_markdown":"just need to ask about uninitialized values","body":"just need to ask about uninitialized values"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1497878407,"post_id":44631604,"comment_id":76248824,"body_markdown":"@aish: Since `token` is of type `String` and it&#39;s an instance member, it has the default value `null`, so it comes to the same thing.","body":"@aish: Since <code>token</code> is of type <code>String</code> and it&#39;s an instance member, it has the default value <code>null</code>, so it comes to the same thing."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1497878807,"creation_date":1497878233,"answer_id":44631692,"question_id":44631604,"body_markdown":"Right there in [the documentation](https://developer.android.com/reference/org/json/JSONObject.html), in the first paragraph:\r\n\r\n&gt; Values may not be `null`, `NaN`s, infinities, or of any type not listed here.\r\n\r\nSo yes, it is *&quot;...something that `null` values are not included...&quot;* *(edit: that was a quote from your original question; your updated question changes it to &quot;uninitialized values&quot; but the default value of an object reference is `null`, so...)*\r\n\r\nIt&#39;s a &quot;feature&quot; of that class, though; [JSON][1] itself understands `null` just fine. Further down in the documentation it says you use a &quot;sentinal value,&quot; [`NULL`][2], to represent `null`. Which seems...odd. There&#39;s a note about it:\r\n\r\n&gt; **Warning**: this class represents `null` in two incompatible ways: the standard Java `null` reference, and the sentinel value `NULL`. In particular, calling `put(name, null)` removes the named entry from the object but `put(name, JSONObject.NULL)` stores an entry whose value is `JSONObject.NULL`.\r\n\r\nSo:\r\n\r\n    params.put(KEY_TOKEN, token == null ? JSONObject.NULL : token);\r\n\r\n\r\n  [1]: http://json.org\r\n  [2]: https://developer.android.com/reference/org/json/JSONObject.html#NULL","title":"Unable to put null values in JSON object","body":"<p>Right there in <a href=\"https://developer.android.com/reference/org/json/JSONObject.html\" rel=\"noreferrer\">the documentation</a>, in the first paragraph:</p>\n\n<blockquote>\n  <p>Values may not be <code>null</code>, <code>NaN</code>s, infinities, or of any type not listed here.</p>\n</blockquote>\n\n<p>So yes, it is <em>\"...something that <code>null</code> values are not included...\"</em> <em>(edit: that was a quote from your original question; your updated question changes it to \"uninitialized values\" but the default value of an object reference is <code>null</code>, so...)</em></p>\n\n<p>It's a \"feature\" of that class, though; <a href=\"http://json.org\" rel=\"noreferrer\">JSON</a> itself understands <code>null</code> just fine. Further down in the documentation it says you use a \"sentinal value,\" <a href=\"https://developer.android.com/reference/org/json/JSONObject.html#NULL\" rel=\"noreferrer\"><code>NULL</code></a>, to represent <code>null</code>. Which seems...odd. There's a note about it:</p>\n\n<blockquote>\n  <p><strong>Warning</strong>: this class represents <code>null</code> in two incompatible ways: the standard Java <code>null</code> reference, and the sentinel value <code>NULL</code>. In particular, calling <code>put(name, null)</code> removes the named entry from the object but <code>put(name, JSONObject.NULL)</code> stores an entry whose value is <code>JSONObject.NULL</code>.</p>\n</blockquote>\n\n<p>So:</p>\n\n<pre><code>params.put(KEY_TOKEN, token == null ? JSONObject.NULL : token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803930,"reputation":795,"user_id":3156828,"display_name":"Priya Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497878390,"creation_date":1497878390,"answer_id":44631738,"question_id":44631604,"body_markdown":"Json itself accpets null but JSONOBJECT class does not.Hence, you are not able to do that. Also Try using jackson/gson for json and object mapping instead. If you need help with it, let me know. ","title":"Unable to put null values in JSON object","body":"<p>Json itself accpets null but JSONOBJECT class does not.Hence, you are not able to do that. Also Try using jackson/gson for json and object mapping instead. If you need help with it, let me know. </p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1654510776,"creation_date":1497884133,"answer_id":44633828,"question_id":44631604,"body_markdown":"According to [RFC 4627][1], JSON treats the `null` symbol as a valid value.\r\n\r\nThe catch is that JSON `null` is the representation for the Javascript `null` value.  By contrast, the Java version of `null` is (according to the experts) more closely aligned with Javascript&#39;s `undefined` value.\r\n\r\nThe original author of the `org.json` library decided that `JSONObject` should treat JSON `null` in a way that is consistent with the Javascript semantics.  Hence it is represented (in Java) as `JSONObject.NULL` ... which is not equal to `null`.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc4627","title":"Unable to put null values in JSON object","body":"<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc4627\" rel=\"nofollow noreferrer\">RFC 4627</a>, JSON treats the <code>null</code> symbol as a valid value.</p>\n<p>The catch is that JSON <code>null</code> is the representation for the Javascript <code>null</code> value.  By contrast, the Java version of <code>null</code> is (according to the experts) more closely aligned with Javascript's <code>undefined</code> value.</p>\n<p>The original author of the <code>org.json</code> library decided that <code>JSONObject</code> should treat JSON <code>null</code> in a way that is consistent with the Javascript semantics.  Hence it is represented (in Java) as <code>JSONObject.NULL</code> ... which is not equal to <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":541679,"reputation":636,"user_id":910310,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579797107,"creation_date":1579797107,"answer_id":59883176,"question_id":44631604,"body_markdown":"I solved this problem by creating the null JSON value using a string representation to stuff the null value into the object. Clearly a hack, but it works.\r\n\r\n\r\n    JSONObject obj = new JSONObject(&quot;{\\&quot;keyword\\&quot;: null}&quot;);\r\n    System.out.println(obj); // {&quot;keyword&quot;: null}\r\n\r\n","title":"Unable to put null values in JSON object","body":"<p>I solved this problem by creating the null JSON value using a string representation to stuff the null value into the object. Clearly a hack, but it works.</p>\n\n<pre><code>JSONObject obj = new JSONObject(\"{\\\"keyword\\\": null}\");\nSystem.out.println(obj); // {\"keyword\": null}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9644412,"reputation":41,"user_id":7157678,"display_name":"Leonardo Lopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611170212,"creation_date":1611085284,"answer_id":65798382,"question_id":44631604,"body_markdown":"I fixed this &quot;feature&quot; and created this project https://github.com/leonardofel/JSON-java-put-null-fix\r\n\r\n\r\nmaking the following code bellow possible:\r\n```java\r\nJSONObject j = new JSONObject().put(&quot;myPreciousNull&quot;, null);\r\nSystem.out.println(j.toString());\r\n```\r\nprints:\r\n```json\r\n{&quot;myPreciousNull&quot;:null}\r\n```","title":"Unable to put null values in JSON object","body":"<p>I fixed this &quot;feature&quot; and created this project <a href=\"https://github.com/leonardofel/JSON-java-put-null-fix\" rel=\"nofollow noreferrer\">https://github.com/leonardofel/JSON-java-put-null-fix</a></p>\n<p>making the following code bellow possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject j = new JSONObject().put(&quot;myPreciousNull&quot;, null);\nSystem.out.println(j.toString());\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;myPreciousNull&quot;:null}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22237046,"reputation":41,"user_id":16472200,"display_name":"ota"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627936858,"creation_date":1627936858,"answer_id":68627718,"question_id":44631604,"body_markdown":"I solved this by creating a class that extends `JSONObject` and overriding the method `put` to use `JSONObject.NULL` when the passed object is `null`\r\n\r\n```java\r\npublic class ObjectJSON extends JSONObject {\r\n    public JSONObject put(String key, Object value) throws JSONException {\r\n        return super.put(key, value == null ? JSONObject.NULL : value);\r\n    }\r\n}\r\n```","title":"Unable to put null values in JSON object","body":"<p>I solved this by creating a class that extends <code>JSONObject</code> and overriding the method <code>put</code> to use <code>JSONObject.NULL</code> when the passed object is <code>null</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ObjectJSON extends JSONObject {\n    public JSONObject put(String key, Object value) throws JSONException {\n        return super.put(key, value == null ? JSONObject.NULL : value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4902485,"reputation":1007,"user_id":3950240,"accept_rate":60,"display_name":"Aishwarya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88787,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":44631692,"answer_count":6,"score":48,"last_activity_date":1654510776,"creation_date":1497878036,"question_id":44631604,"body_markdown":"I am trying to pass parameter to api using JSON.\r\n\r\n    class Sample\r\n    { ...\r\n       String token;\r\n    ...\r\n    \r\n    void method()\r\n    { ...\r\n        JSONObject params = new JSONObject();\r\n        params.put(KEY_TOKEN,token);\r\n        params.put(KEY_DATE,date);\r\n    \r\n        Log.e(&quot;params &quot;,params+&quot;&quot;);\r\n                    \r\n\r\n          ...  }    \r\n\r\nI get the value of params as `{&quot;date&quot;:&quot;2017-06-19&quot;}` but token is seen nowhere.\r\nI have not initialized token and its value is null as its an instance variable. So is it something that uninitialized value are not included?\r\n","title":"Unable to put null values in JSON object","body":"<p>I am trying to pass parameter to api using JSON.</p>\n\n<pre><code>class Sample\n{ ...\n   String token;\n...\n\nvoid method()\n{ ...\n    JSONObject params = new JSONObject();\n    params.put(KEY_TOKEN,token);\n    params.put(KEY_DATE,date);\n\n    Log.e(\"params \",params+\"\");\n\n\n      ...  }    \n</code></pre>\n\n<p>I get the value of params as <code>{\"date\":\"2017-06-19\"}</code> but token is seen nowhere.\nI have not initialized token and its value is null as its an instance variable. So is it something that uninitialized value are not included?</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":22699517,"reputation":1633,"user_id":16867144,"display_name":"Khaled"},"score":0,"creation_date":1654512465,"post_id":58162565,"comment_id":128100410,"body_markdown":"Look for https://stackoverflow.com/a/46829877/16867144","body":"Look for <a href=\"https://stackoverflow.com/a/46829877/16867144\">stackoverflow.com/a/46829877/16867144</a>"}],"owner":{"account_id":5558459,"reputation":2211,"user_id":4408924,"accept_rate":29,"display_name":"Zeeshan Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654510657,"creation_date":1569825225,"question_id":58162565,"body_markdown":"I&#39;d like to implement a &#39;delivery&#39; feature in my Firebase chat messaging app like other chat apps. Can you kindly advise how can I achieve.","title":"How to achieve delivery status in firebase realtime chat in android","body":"<p>I'd like to implement a 'delivery' feature in my Firebase chat messaging app like other chat apps. Can you kindly advise how can I achieve.</p>\n"},{"tags":["java","weblogic","jax-ws","weblogic12c","jax-ws-customization"],"answers":[{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594608398,"creation_date":1594608398,"answer_id":62868553,"question_id":62846539,"body_markdown":"servicegen is from WLS 8.1 (this version had a proprietary webservices jax-rpc runtime). That runtime was removed in 12c.\r\n\r\nYou are migrating JAX-RPC to JAX-WS, however you have an important constraint:\r\n\r\n*&gt; - SOAP Arrays are not supported by JAX-WS; they are available in JAX-RPC*\r\n\r\nFurther details: https://docs.oracle.com/cd/E24329_01/web.1211/e24497/upgrade_ws.htm#WLUPG334\r\n ","title":"How to achieve servicegen behavior in jwsc task?","body":"<p>servicegen is from WLS 8.1 (this version had a proprietary webservices jax-rpc runtime). That runtime was removed in 12c.</p>\n<p>You are migrating JAX-RPC to JAX-WS, however you have an important constraint:</p>\n<p><em>&gt; - SOAP Arrays are not supported by JAX-WS; they are available in JAX-RPC</em></p>\n<p>Further details: <a href=\"https://docs.oracle.com/cd/E24329_01/web.1211/e24497/upgrade_ws.htm#WLUPG334\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E24329_01/web.1211/e24497/upgrade_ws.htm#WLUPG334</a></p>\n"}],"owner":{"account_id":3665537,"reputation":3090,"user_id":3056090,"accept_rate":25,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62868553,"answer_count":1,"score":0,"last_activity_date":1654510486,"creation_date":1594453691,"question_id":62846539,"body_markdown":"Migrating a java soap web service from 11g to 12c which has few operations.\r\n\r\nUsed jwsc task to generate WSDL which generates all the input elements starting with uppercase and &quot;ArrayOf&quot; elements not coming along with wsdl.\r\n\r\nThis behavior was good in 11g where wsdl generation happens through servicegen task, In 12c servicegen not available.\r\n\r\nAny suggestion to overcome this issue?","title":"How to achieve servicegen behavior in jwsc task?","body":"<p>Migrating a java soap web service from 11g to 12c which has few operations.</p>\n<p>Used jwsc task to generate WSDL which generates all the input elements starting with uppercase and &quot;ArrayOf&quot; elements not coming along with wsdl.</p>\n<p>This behavior was good in 11g where wsdl generation happens through servicegen task, In 12c servicegen not available.</p>\n<p>Any suggestion to overcome this issue?</p>\n"},{"tags":["java","mongodb","apache-kafka","apache-kafka-connect","mongodb-kafka-connector"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654551938,"post_id":72516166,"comment_id":128113283,"body_markdown":"You should try using JSONConverter instead. String nor Double converter have schemas, by the way, so those &quot;enable&quot; settings do nothing (this is only a property of the JSONConverter)","body":"You should try using JSONConverter instead. String nor Double converter have schemas, by the way, so those &quot;enable&quot; settings do nothing (this is only a property of the JSONConverter)"},{"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"score":0,"creation_date":1654555984,"post_id":72516166,"comment_id":128114105,"body_markdown":"Thanks for suggestion!  Changing converter to JSONConverter left me this error:\n`Caused by: org.apache.kafka.common.errors.SerializationException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;@&#39; (code 64)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\n\n at [Source: (byte[])&quot;@2�\\(�&quot;; line: 1, column: 2]`","body":"Thanks for suggestion!  Changing converter to JSONConverter left me this error: <code>Caused by: org.apache.kafka.common.errors.SerializationException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;@&#39; (code 64)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)   at [Source: (byte[])&quot;@2�\\(�&quot;; line: 1, column: 2]</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654558717,"post_id":72516166,"comment_id":128114556,"body_markdown":"You might have to set the schemas enable property to false since you only have numbers, but also, you might not be able to directly write numbers into mongo collection as there needs to be key-value pairs for documents.","body":"You might have to set the schemas enable property to false since you only have numbers, but also, you might not be able to directly write numbers into mongo collection as there needs to be key-value pairs for documents."},{"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"score":0,"creation_date":1654628388,"post_id":72516166,"comment_id":128134636,"body_markdown":"Setting schema enable property didn&#39;t actually change anything. So I decided to create JSON serializer and deserializer using this [link](https://github.com/apache/kafka/blob/1.0/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/JsonPOJOSerializer.java), Which leaves me with error: `Unrecognized Type: [null]`","body":"Setting schema enable property didn&#39;t actually change anything. So I decided to create JSON serializer and deserializer using this <a href=\"https://github.com/apache/kafka/blob/1.0/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/JsonPOJOSerializer.java\" rel=\"nofollow noreferrer\">link</a>, Which leaves me with error: <code>Unrecognized Type: [null]</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1654629588,"post_id":72516166,"comment_id":128135043,"body_markdown":"Hmm. That class is roughly the same as the [built in one](https://github.com/apache/kafka/blob/trunk/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java#L30). But, like I said, Mongo most likely [wants KV pairs](https://www.mongodb.com/docs/kafka-connector/v1.7/sink-connector/fundamentals/write-strategies/), and a null record is not that. You would change the mapValues to return just `AggregationClass` as JSON like `{&quot;average&quot;: 2.0}`, for example.","body":"Hmm. That class is roughly the same as the <a href=\"https://github.com/apache/kafka/blob/trunk/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java#L30\" rel=\"nofollow noreferrer\">built in one</a>. But, like I said, Mongo most likely <a href=\"https://www.mongodb.com/docs/kafka-connector/v1.7/sink-connector/fundamentals/write-strategies/\" rel=\"nofollow noreferrer\">wants KV pairs</a>, and a null record is not that. You would change the mapValues to return just <code>AggregationClass</code> as JSON like <code>{&quot;average&quot;: 2.0}</code>, for example."},{"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"score":0,"creation_date":1654630624,"post_id":72516166,"comment_id":128135376,"body_markdown":"Something like this?\n`.mapValues(agg -&gt; createJSONString(agg))` where `createJSONString()` is returning a JSONObject?","body":"Something like this? <code>.mapValues(agg -&gt; createJSONString(agg))</code> where <code>createJSONString()</code> is returning a JSONObject?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1654631179,"post_id":72516166,"comment_id":128135539,"body_markdown":"Right, then change the Produced.valueSerde to use the JSONSerde","body":"Right, then change the Produced.valueSerde to use the JSONSerde"},{"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"score":1,"creation_date":1654645110,"post_id":72516166,"comment_id":128138883,"body_markdown":"Using `Produced.valueSerde(Serdes.String()` made it work, thank you!","body":"Using <code>Produced.valueSerde(Serdes.String()</code> made it work, thank you!"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654702549,"post_id":72516166,"comment_id":128155877,"body_markdown":"Cool. Feel free to show complete solution below as an answer","body":"Cool. Feel free to show complete solution below as an answer"}],"owner":{"account_id":18253404,"reputation":79,"user_id":13287894,"display_name":"krysznys"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654510421,"creation_date":1654510421,"question_id":72516166,"body_markdown":"I have a Kafka Streams application, which does some calculations based on values from topic, sing sliding windows. I read, that the best practice for persisting the data would be to push the values to another topic, and use Kafka Connect to get data from topic and save it in the database.\r\n\r\nI downloaded the confluent/kafka-connect image and extended it by installing mongodb-kafka-connector using the dockerfile.\r\n```\r\nFROM confluentinc/cp-kafka-connect:7.0.3\r\nCOPY target/components/packages/mongodb-kafka-connect-mongodb-1.7.0.zip /tmp/mongodb-kafka-connect-mongodb-1.7.0.zip\r\n\r\nRUN confluent-hub install --no-prompt /tmp/mongodb-kafka-connect-mongodb-1.7.0.zip\r\n```\r\n\r\nI sent a request with config to the kafka connect:\r\n```\r\n curl -X PUT http://localhost:8083/connectors/sink-mongodb-users/config -H &quot;Content-Type: application/json&quot; -d &#39; {\r\n    &quot;connector.class&quot;:&quot;com.mongodb.kafka.connect.MongoSinkConnector&quot;,\r\n    &quot;tasks.max&quot;:&quot;1&quot;,\r\n    &quot;topics&quot;:&quot;MOVINGAVG&quot;,\r\n    &quot;connection.uri&quot;:&quot;mongodb://mongo:27017&quot;,\r\n    &quot;database&quot;:&quot;Temperature&quot;,\r\n    &quot;collection&quot;:&quot;MovingAverage&quot;,\r\n    &quot;key.converter&quot;:&quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n    &quot;key.converter.schemas.enable&quot;:true,\r\n    &quot;value.converter&quot;:&quot;org.apache.kafka.connect.converters.DoubleConverter&quot;,\r\n    &quot;value.converter.schemas.enable&quot;:true\r\n    }&#39;\r\n```\r\n\r\nThe Kafka Streams app producing records:\r\n```\r\nStreamsBuilder streamsBuilder = new StreamsBuilder();\r\n        KStream&lt;String, Double&gt; kafkaStreams = streamsBuilder.stream(topic, Consumed.with(Serdes.String(), Serdes.Double()));\r\n        Duration timeDifference = Duration.ofSeconds(30);\r\n\r\n        KTable table = kafkaStreams.groupByKey()\r\n                .windowedBy(SlidingWindows.ofTimeDifferenceWithNoGrace(timeDifference))\r\n                .aggregate(\r\n                        () -&gt; generateTuple(logger), // initializer\r\n                        (key, value, aggregate) -&gt; tempAggregator(key, value,aggregate, logger))\r\n                .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\r\n                .mapValues((ValueMapper&lt;AggregationClass, Object&gt;) tuple2 -&gt; tuple2.getAverage());\r\n        table.toStream().peek((k,v) -&gt; System.out.println(&quot;Value:&quot; + v)).to(targetTopic, Produced.valueSerde(Serdes.Double()));\r\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), properties);\r\n        streams.cleanUp();\r\n        streams.start();\r\n```\r\n\r\nThe messages are being put to the topic, and mongo connector is reading them, however an exception is thrown:\r\n```\r\nCaused by: org.apache.kafka.connect.errors.DataException: Could not convert value `2.1474836E7` into a BsonDocument.\r\n\r\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.getUnwrapped(LazyBsonDocument.java:169)\r\n\r\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.containsKey(LazyBsonDocument.java:83)\r\n\r\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.shouldAppend(DocumentIdAdder.java:68)\r\n\r\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.lambda$process$0(DocumentIdAdder.java:51)\r\n\r\nat java.base/java.util.Optional.ifPresent(Optional.java:183)\r\n\r\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.process(DocumentIdAdder.java:49)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.lambda$buildWriteModel$1(MongoProcessedSinkRecordData.java:90)\r\n\r\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\r\nat java.base/java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1085)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.lambda$buildWriteModel$2(MongoProcessedSinkRecordData.java:90)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.tryProcess(MongoProcessedSinkRecordData.java:105)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.buildWriteModel(MongoProcessedSinkRecordData.java:85)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.createWriteModel(MongoProcessedSinkRecordData.java:81)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.&lt;init&gt;(MongoProcessedSinkRecordData.java:51)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoSinkRecordProcessor.orderedGroupByTopicAndNamespace(MongoSinkRecordProcessor.java:45)\r\n\r\nat com.mongodb.kafka.connect.sink.StartedMongoSinkTask.put(StartedMongoSinkTask.java:75)\r\n\r\nat com.mongodb.kafka.connect.sink.MongoSinkTask.put(MongoSinkTask.java:90)\r\n\r\nat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:601)\r\n\r\n... 10 more\r\n\r\nCaused by: org.apache.kafka.connect.errors.DataException: No converter present due to unexpected object type: java.lang.Double\r\n\r\nat com.mongodb.kafka.connect.sink.converter.SinkConverter.getRecordConverter(SinkConverter.java:92)\r\n\r\nat com.mongodb.kafka.connect.sink.converter.SinkConverter.lambda$convert$1(SinkConverter.java:60)\r\n\r\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.getUnwrapped(LazyBsonDocument.java:166)\r\n\r\n... 27 more\r\n```\r\nWhy such exception would be thrown? ","title":"Kafka Connect - No converter present due to unexpected object type: java.lang.Double","body":"<p>I have a Kafka Streams application, which does some calculations based on values from topic, sing sliding windows. I read, that the best practice for persisting the data would be to push the values to another topic, and use Kafka Connect to get data from topic and save it in the database.</p>\n<p>I downloaded the confluent/kafka-connect image and extended it by installing mongodb-kafka-connector using the dockerfile.</p>\n<pre><code>FROM confluentinc/cp-kafka-connect:7.0.3\nCOPY target/components/packages/mongodb-kafka-connect-mongodb-1.7.0.zip /tmp/mongodb-kafka-connect-mongodb-1.7.0.zip\n\nRUN confluent-hub install --no-prompt /tmp/mongodb-kafka-connect-mongodb-1.7.0.zip\n</code></pre>\n<p>I sent a request with config to the kafka connect:</p>\n<pre><code> curl -X PUT http://localhost:8083/connectors/sink-mongodb-users/config -H &quot;Content-Type: application/json&quot; -d ' {\n    &quot;connector.class&quot;:&quot;com.mongodb.kafka.connect.MongoSinkConnector&quot;,\n    &quot;tasks.max&quot;:&quot;1&quot;,\n    &quot;topics&quot;:&quot;MOVINGAVG&quot;,\n    &quot;connection.uri&quot;:&quot;mongodb://mongo:27017&quot;,\n    &quot;database&quot;:&quot;Temperature&quot;,\n    &quot;collection&quot;:&quot;MovingAverage&quot;,\n    &quot;key.converter&quot;:&quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;key.converter.schemas.enable&quot;:true,\n    &quot;value.converter&quot;:&quot;org.apache.kafka.connect.converters.DoubleConverter&quot;,\n    &quot;value.converter.schemas.enable&quot;:true\n    }'\n</code></pre>\n<p>The Kafka Streams app producing records:</p>\n<pre><code>StreamsBuilder streamsBuilder = new StreamsBuilder();\n        KStream&lt;String, Double&gt; kafkaStreams = streamsBuilder.stream(topic, Consumed.with(Serdes.String(), Serdes.Double()));\n        Duration timeDifference = Duration.ofSeconds(30);\n\n        KTable table = kafkaStreams.groupByKey()\n                .windowedBy(SlidingWindows.ofTimeDifferenceWithNoGrace(timeDifference))\n                .aggregate(\n                        () -&gt; generateTuple(logger), // initializer\n                        (key, value, aggregate) -&gt; tempAggregator(key, value,aggregate, logger))\n                .suppress(Suppressed.untilWindowCloses(Suppressed.BufferConfig.unbounded()))\n                .mapValues((ValueMapper&lt;AggregationClass, Object&gt;) tuple2 -&gt; tuple2.getAverage());\n        table.toStream().peek((k,v) -&gt; System.out.println(&quot;Value:&quot; + v)).to(targetTopic, Produced.valueSerde(Serdes.Double()));\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), properties);\n        streams.cleanUp();\n        streams.start();\n</code></pre>\n<p>The messages are being put to the topic, and mongo connector is reading them, however an exception is thrown:</p>\n<pre><code>Caused by: org.apache.kafka.connect.errors.DataException: Could not convert value `2.1474836E7` into a BsonDocument.\n\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.getUnwrapped(LazyBsonDocument.java:169)\n\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.containsKey(LazyBsonDocument.java:83)\n\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.shouldAppend(DocumentIdAdder.java:68)\n\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.lambda$process$0(DocumentIdAdder.java:51)\n\nat java.base/java.util.Optional.ifPresent(Optional.java:183)\n\nat com.mongodb.kafka.connect.sink.processor.DocumentIdAdder.process(DocumentIdAdder.java:49)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.lambda$buildWriteModel$1(MongoProcessedSinkRecordData.java:90)\n\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n\nat java.base/java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1085)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.lambda$buildWriteModel$2(MongoProcessedSinkRecordData.java:90)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.tryProcess(MongoProcessedSinkRecordData.java:105)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.buildWriteModel(MongoProcessedSinkRecordData.java:85)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.createWriteModel(MongoProcessedSinkRecordData.java:81)\n\nat com.mongodb.kafka.connect.sink.MongoProcessedSinkRecordData.&lt;init&gt;(MongoProcessedSinkRecordData.java:51)\n\nat com.mongodb.kafka.connect.sink.MongoSinkRecordProcessor.orderedGroupByTopicAndNamespace(MongoSinkRecordProcessor.java:45)\n\nat com.mongodb.kafka.connect.sink.StartedMongoSinkTask.put(StartedMongoSinkTask.java:75)\n\nat com.mongodb.kafka.connect.sink.MongoSinkTask.put(MongoSinkTask.java:90)\n\nat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:601)\n\n... 10 more\n\nCaused by: org.apache.kafka.connect.errors.DataException: No converter present due to unexpected object type: java.lang.Double\n\nat com.mongodb.kafka.connect.sink.converter.SinkConverter.getRecordConverter(SinkConverter.java:92)\n\nat com.mongodb.kafka.connect.sink.converter.SinkConverter.lambda$convert$1(SinkConverter.java:60)\n\nat com.mongodb.kafka.connect.sink.converter.LazyBsonDocument.getUnwrapped(LazyBsonDocument.java:166)\n\n... 27 more\n</code></pre>\n<p>Why such exception would be thrown?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1654508701,"post_id":72515753,"comment_id":128099331,"body_markdown":"Add the minimal code and the `HTML` source for the elements","body":"Add the minimal code and the <code>HTML</code> source for the elements"},{"owner":{"account_id":17540204,"reputation":1,"user_id":17351013,"display_name":"Arpit24"},"score":0,"creation_date":1654509256,"post_id":72515753,"comment_id":128099496,"body_markdown":"@Akzy I have added the sample code, Maybe this will help you find the solution.","body":"@Akzy I have added the sample code, Maybe this will help you find the solution."}],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654509946,"creation_date":1654509946,"answer_id":72516068,"question_id":72515753,"body_markdown":"The provided `HTML` is not enough but I am adding here one solution, this could help you.\r\n\r\n\r\n    driver.get(&quot;https://www.makemytrip.com/&quot;)\r\n    new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@class=&#39;input_fromto checkSpecialCharacters ui-autocomplete-input&#39; and @id=&#39;hp-widget__sfrom&#39;]&quot;))).click();\r\n    List&lt;WebElement&gt; myList = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//li[@class=&#39;ui-menu-item&#39;][starts-with(@id,&#39;ui-id-&#39;)]//span[@class=&#39;autoCompleteItem__label&#39;]&quot;)));\r\n    for (WebElement element:myList)\r\n      String all_options = element.getText();\r\n        System.out.println(all_options);","title":"Printing all the options present in a dynamic dropdown - selenium Java","body":"<p>The provided <code>HTML</code> is not enough but I am adding here one solution, this could help you.</p>\n<pre><code>driver.get(&quot;https://www.makemytrip.com/&quot;)\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@class='input_fromto checkSpecialCharacters ui-autocomplete-input' and @id='hp-widget__sfrom']&quot;))).click();\nList&lt;WebElement&gt; myList = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//li[@class='ui-menu-item'][starts-with(@id,'ui-id-')]//span[@class='autoCompleteItem__label']&quot;)));\nfor (WebElement element:myList)\n  String all_options = element.getText();\n    System.out.println(all_options);\n</code></pre>\n"}],"owner":{"account_id":17540204,"reputation":1,"user_id":17351013,"display_name":"Arpit24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654509946,"creation_date":1654508260,"question_id":72515753,"body_markdown":"I am working on one site where I have two drop-downs. Both are dynamic. The values in the HTML code are generated as I scroll. I want to get all the options present in the drop-down. I got the xpath for the visible items when I stored them in a list and printed them. I am getting blank values for some records in a list. [The options present in the drop-down][1]\r\n\r\nAlso, is there any way where I can get all the items present in the list? like the ones that are not visible. [The output I got] [2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z60Wr.png\r\n  [2]: https://i.stack.imgur.com/AdkiP.png\r\n\r\n```\r\n&lt;div class=&quot;ant-col ant-form-item-control&quot;&gt;\r\n &lt;div class=&quot;ant-form-item-control-input&quot;&gt;\r\n&lt;div class=&quot;ant-form-item-control-input-content&quot;&gt;\r\n&lt;div class=&quot;ant-select ant-select-lg ant-select-single ant-select-show-arrow&quot;&gt;\r\n&lt;div class=&quot;ant-select-selector&quot;&gt;\r\n&lt;span class=&quot;ant-select-selection-search&quot;&gt;\r\n&lt;input id=&quot;company_industry&quot; autocomplete=&quot;off&quot; type=&quot;search&quot; class=&quot;ant-select-selection-search-input&quot; role=&quot;combobox&quot; aria-haspopup=&quot;listbox&quot; aria-owns=&quot;company_industry_list&quot; aria-autocomplete=&quot;list&quot; aria-controls=&quot;company_industry_list&quot; aria-activedescendant=&quot;company_industry_list_9&quot; readonly=&quot;&quot; unselectable=&quot;on&quot; value=&quot;&quot; style=&quot;opacity: 0;&quot; aria-expanded=&quot;false&quot;&gt;\r\n&lt;/span&gt;\r\n&lt;span class=&quot;ant-select-selection-item&quot; title=&quot;Automotive&quot;&gt;Automotive&lt;/span&gt;&lt;/div&gt;\r\n&lt;span class=&quot;ant-select-arrow&quot; unselectable=&quot;on&quot; aria-hidden=&quot;true&quot; style=&quot;user-select: none;&quot;&gt;\r\n&lt;span role=&quot;img&quot; aria-label=&quot;down&quot; class=&quot;anticon anticon-down ant-select-suffix&quot;&gt;\r\n&lt;svg viewBox=&quot;64 64 896 896&quot; focusable=&quot;false&quot; data-icon=&quot;down&quot; width=&quot;1em&quot; height=&quot;1em&quot; fill=&quot;currentColor&quot; aria-hidden=&quot;true&quot;&gt;\r\n&lt;path d=&quot;M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\r\n```\r\nJava Code \r\n```\r\ncompanylist = portalElements.company_type_list();\r\n\r\n\t\tfor (int i = 0; i &lt; companylist.size(); i++) {\r\n\t\t\tSystem.out.println(&quot;Total company list is :&quot; + companylist.get(i).getText());\r\n\t\t}\r\n```\r\n\r\nCompanylist is my List, and the xpath for getting all the items is `//div[@class=&#39;ant-select-item ant-select-item-option&#39;]` \r\n","title":"Printing all the options present in a dynamic dropdown - selenium Java","body":"<p>I am working on one site where I have two drop-downs. Both are dynamic. The values in the HTML code are generated as I scroll. I want to get all the options present in the drop-down. I got the xpath for the visible items when I stored them in a list and printed them. I am getting blank values for some records in a list. <a href=\"https://i.stack.imgur.com/Z60Wr.png\" rel=\"nofollow noreferrer\">The options present in the drop-down</a></p>\n<p>Also, is there any way where I can get all the items present in the list? like the ones that are not visible. [The output I got] <a href=\"https://i.stack.imgur.com/AdkiP.png\" rel=\"nofollow noreferrer\">2</a></p>\n<pre><code>&lt;div class=&quot;ant-col ant-form-item-control&quot;&gt;\n &lt;div class=&quot;ant-form-item-control-input&quot;&gt;\n&lt;div class=&quot;ant-form-item-control-input-content&quot;&gt;\n&lt;div class=&quot;ant-select ant-select-lg ant-select-single ant-select-show-arrow&quot;&gt;\n&lt;div class=&quot;ant-select-selector&quot;&gt;\n&lt;span class=&quot;ant-select-selection-search&quot;&gt;\n&lt;input id=&quot;company_industry&quot; autocomplete=&quot;off&quot; type=&quot;search&quot; class=&quot;ant-select-selection-search-input&quot; role=&quot;combobox&quot; aria-haspopup=&quot;listbox&quot; aria-owns=&quot;company_industry_list&quot; aria-autocomplete=&quot;list&quot; aria-controls=&quot;company_industry_list&quot; aria-activedescendant=&quot;company_industry_list_9&quot; readonly=&quot;&quot; unselectable=&quot;on&quot; value=&quot;&quot; style=&quot;opacity: 0;&quot; aria-expanded=&quot;false&quot;&gt;\n&lt;/span&gt;\n&lt;span class=&quot;ant-select-selection-item&quot; title=&quot;Automotive&quot;&gt;Automotive&lt;/span&gt;&lt;/div&gt;\n&lt;span class=&quot;ant-select-arrow&quot; unselectable=&quot;on&quot; aria-hidden=&quot;true&quot; style=&quot;user-select: none;&quot;&gt;\n&lt;span role=&quot;img&quot; aria-label=&quot;down&quot; class=&quot;anticon anticon-down ant-select-suffix&quot;&gt;\n&lt;svg viewBox=&quot;64 64 896 896&quot; focusable=&quot;false&quot; data-icon=&quot;down&quot; width=&quot;1em&quot; height=&quot;1em&quot; fill=&quot;currentColor&quot; aria-hidden=&quot;true&quot;&gt;\n&lt;path d=&quot;M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n<p>Java Code</p>\n<pre><code>companylist = portalElements.company_type_list();\n\n        for (int i = 0; i &lt; companylist.size(); i++) {\n            System.out.println(&quot;Total company list is :&quot; + companylist.get(i).getText());\n        }\n</code></pre>\n<p>Companylist is my List, and the xpath for getting all the items is <code>//div[@class='ant-select-item ant-select-item-option']</code></p>\n"},{"tags":["java","android","threadpool"],"answers":[{"tags":[],"owner":{"account_id":18123545,"reputation":29,"user_id":13179265,"display_name":"Naquma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654495749,"creation_date":1654495292,"answer_id":72513619,"question_id":72495546,"body_markdown":"Try this\r\n\r\n\r\n```java\r\nclass MyActivity extends AppCompatActivity {\r\n\r\n    private HandlerThread dbHandlerThread = null;\r\n    private Handler dbHandler = null;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        dbHandlerThread = new HandlerThread(&quot;db-thread&quot;);\r\n        dbHandlerThread.start();\r\n        dbHandler = new Handler(dbHandlerThread.getLooper());\r\n\r\n        doSomeDbStatement();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        if (dbHandlerThread != null) {\r\n            dbHandlerThread.quitSafely();\r\n        }\r\n    }\r\n\r\n    private void bringResultHere(List&lt;Data&gt; result) {\r\n        // do something here\r\n    }\r\n\r\n    private void doSomeDbStatement() {\r\n        dbHandler.post(() -&gt; {\r\n            final List&lt;Data&gt; result = doFetchDataFromDb();\r\n            \r\n            MyActivity.this.runOnUiThread(() -&gt; bringResultHere(result));\r\n        });\r\n    }\r\n}\r\n","title":"How to use thread in Android JAVA for DB Task","body":"<p>Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyActivity extends AppCompatActivity {\n\n    private HandlerThread dbHandlerThread = null;\n    private Handler dbHandler = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        dbHandlerThread = new HandlerThread(&quot;db-thread&quot;);\n        dbHandlerThread.start();\n        dbHandler = new Handler(dbHandlerThread.getLooper());\n\n        doSomeDbStatement();\n    }\n\n    @Override\n    public void onDestroy() {\n        if (dbHandlerThread != null) {\n            dbHandlerThread.quitSafely();\n        }\n    }\n\n    private void bringResultHere(List&lt;Data&gt; result) {\n        // do something here\n    }\n\n    private void doSomeDbStatement() {\n        dbHandler.post(() -&gt; {\n            final List&lt;Data&gt; result = doFetchDataFromDb();\n            \n            MyActivity.this.runOnUiThread(() -&gt; bringResultHere(result));\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17365206,"reputation":19,"user_id":12580531,"display_name":"7odaifa_ab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654509099,"creation_date":1654509099,"answer_id":72515898,"question_id":72495546,"body_markdown":"the best way to do it is by using [RxJava][1] and [RxAndroid][2]\r\n\r\nafter you implement its libraries you can use `single` for 1 emit and `Observable` for multiple emits \r\n\r\ne.g. \r\n\r\n    private Single&lt;returnType&gt; getSomthing() {\r\n            return Single.create(emitter -&gt; {\r\n               //write the DB call you want ot make in background\r\n                emitter.onSuccess(varToReturnOnSuccess);\r\n            });\r\n        }\r\n\r\na single will just return the one data you sent with `emitter.onSuccess`, and you will get it in subscribe like:\r\n\r\n      .subscribe(returnedVar -&gt; {\r\n                        //use it here\r\n                    });\r\n\r\nthe final call will be like :\r\n\r\n\r\n    getSomthing()\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(returnedVar -&gt; /*use the returned var here*/ , throwable -&gt; throwable.printStackTrace());\r\nthe `getSomthing()`, `returnedVar`,`returnType`, and `varToReturnOnSuccess` are names just for explanation only, and they can be changed accordingly \r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: https://github.com/ReactiveX/RxAndroid","title":"How to use thread in Android JAVA for DB Task","body":"<p>the best way to do it is by using <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a> and <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"nofollow noreferrer\">RxAndroid</a></p>\n<p>after you implement its libraries you can use <code>single</code> for 1 emit and <code>Observable</code> for multiple emits</p>\n<p>e.g.</p>\n<pre><code>private Single&lt;returnType&gt; getSomthing() {\n        return Single.create(emitter -&gt; {\n           //write the DB call you want ot make in background\n            emitter.onSuccess(varToReturnOnSuccess);\n        });\n    }\n</code></pre>\n<p>a single will just return the one data you sent with <code>emitter.onSuccess</code>, and you will get it in subscribe like:</p>\n<pre><code>  .subscribe(returnedVar -&gt; {\n                    //use it here\n                });\n</code></pre>\n<p>the final call will be like :</p>\n<pre><code>getSomthing()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(returnedVar -&gt; /*use the returned var here*/ , throwable -&gt; throwable.printStackTrace());\n</code></pre>\n<p>the <code>getSomthing()</code>, <code>returnedVar</code>,<code>returnType</code>, and <code>varToReturnOnSuccess</code> are names just for explanation only, and they can be changed accordingly</p>\n"}],"owner":{"account_id":17365206,"reputation":19,"user_id":12580531,"display_name":"7odaifa_ab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72515898,"answer_count":2,"score":-2,"last_activity_date":1654509099,"creation_date":1654293695,"question_id":72495546,"body_markdown":"what method to use when I want to create a new thread &gt; run a DB task &gt; return a result &gt; run another task if DB Task was succeeded &gt; then return to the main Thread to update UI using the received results?\r\n\r\nI know that `Kotlin coroutine` is the solution to this in Kotlin, but how to achieve this in Java, and after the famous `AsyncTask` was deprecated?\r\n\r\n++\r\nI used [threading][1] Documentation for some info, but the code was complex to understand, could be there a simple code to achieve the above use case mentioned for others&#39; future reference?\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/threading","title":"How to use thread in Android JAVA for DB Task","body":"<p>what method to use when I want to create a new thread &gt; run a DB task &gt; return a result &gt; run another task if DB Task was succeeded &gt; then return to the main Thread to update UI using the received results?</p>\n<p>I know that <code>Kotlin coroutine</code> is the solution to this in Kotlin, but how to achieve this in Java, and after the famous <code>AsyncTask</code> was deprecated?</p>\n<p>++\nI used <a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">threading</a> Documentation for some info, but the code was complex to understand, could be there a simple code to achieve the above use case mentioned for others' future reference?</p>\n"},{"tags":["java","configuration","apache-commons"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1524562319,"post_id":49998036,"comment_id":87012397,"body_markdown":"review your properties file: `&#39;server01&#39; does not contain an equals sign at `","body":"review your properties file: <code>&#39;server01&#39; does not contain an equals sign at </code>"},{"owner":{"account_id":13392588,"reputation":67,"user_id":9664552,"display_name":"fancyJaneDo"},"score":0,"creation_date":1524563650,"post_id":49998036,"comment_id":87013310,"body_markdown":"Please advise me what is wrong, with the configuration file. You can see the xml by clicking the link above. This is one of the numerous lines with the value &quot;server01&quot; as value for server: &lt;server&gt;server01&lt;/server&gt;","body":"Please advise me what is wrong, with the configuration file. You can see the xml by clicking the link above. This is one of the numerous lines with the value &quot;server01&quot; as value for server: &lt;server&gt;server01&lt;/server&gt;"},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1524566146,"post_id":49998036,"comment_id":87014900,"body_markdown":"you are supposed to use properties file instead of xml files aren&#39;t you?","body":"you are supposed to use properties file instead of xml files aren&#39;t you?"},{"owner":{"account_id":13392588,"reputation":67,"user_id":9664552,"display_name":"fancyJaneDo"},"score":0,"creation_date":1524566648,"post_id":49998036,"comment_id":87015237,"body_markdown":"I can not use property files and  org.apache.commons.configuration2.CombinedConfiguration offers the method. \nHowever, maybe getProperties() is the wrong approach. I need to find out  which apps of our customers are installed on a specific server.","body":"I can not use property files and  org.apache.commons.configuration2.CombinedConfiguration offers the method.  However, maybe getProperties() is the wrong approach. I need to find out  which apps of our customers are installed on a specific server."}],"owner":{"account_id":13392588,"reputation":67,"user_id":9664552,"display_name":"fancyJaneDo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1654508272,"creation_date":1524562043,"question_id":49998036,"body_markdown":"I am new to Apache Commons Configuration and got stuck. I have a growing number of servers, on each server a number of apps are running. Each app represents an installation for a specific customer. \r\n\r\nFor simplicity reason I shrink here the configuration example here to this. How can I get all the configurations that are related to, for example, server01 (see XML below)? \r\n\r\n[XML configuration file][1]\r\n\r\n    Properties configs = mCombinedConfig.getProperties(&quot;company.server&quot;);\r\n\r\nWhen my codes executes the `getProperties` statement I get an `IllegalArgumentException`:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: &#39;server01&#39; does not contain an equals sign\r\n \tat org.apache.commons.configuration2.AbstractConfiguration.getProperties(AbstractConfiguration.java:1165)\r\n \tat org.apache.commons.configuration2.AbstractConfiguration.getProperties(AbstractConfiguration.java:1119)\r\n \tat com.atoss.alm.helpertemp.CommonsConfigurationExample.json(CommonsConfigurationExample.java:138)\r\n\tat com.atoss.alm.helpertemp.CommonsConfigurationExample.main(Unknown Source)\r\n```\r\n\r\nWhat is wrong with the `getProperties` statement?\r\n\r\n  [1]: https://i.stack.imgur.com/5j9ha.jpg\r\n\r\n","title":"How can I get all configuration with the same value for the property &quot;company.server&quot;?","body":"<p>I am new to Apache Commons Configuration and got stuck. I have a growing number of servers, on each server a number of apps are running. Each app represents an installation for a specific customer.</p>\n<p>For simplicity reason I shrink here the configuration example here to this. How can I get all the configurations that are related to, for example, server01 (see XML below)?</p>\n<p><a href=\"https://i.stack.imgur.com/5j9ha.jpg\" rel=\"nofollow noreferrer\">XML configuration file</a></p>\n<pre><code>Properties configs = mCombinedConfig.getProperties(&quot;company.server&quot;);\n</code></pre>\n<p>When my codes executes the <code>getProperties</code> statement I get an <code>IllegalArgumentException</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 'server01' does not contain an equals sign\n    at org.apache.commons.configuration2.AbstractConfiguration.getProperties(AbstractConfiguration.java:1165)\n    at org.apache.commons.configuration2.AbstractConfiguration.getProperties(AbstractConfiguration.java:1119)\n    at com.atoss.alm.helpertemp.CommonsConfigurationExample.json(CommonsConfigurationExample.java:138)\n    at com.atoss.alm.helpertemp.CommonsConfigurationExample.main(Unknown Source)\n</code></pre>\n<p>What is wrong with the <code>getProperties</code> statement?</p>\n"},{"tags":["java","arrays","algorithm","performance"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654507644,"post_id":72515187,"comment_id":128099031,"body_markdown":"I can reproduce locally. Without sort: 2.09 seconds. With sort: 10.28 seconds.","body":"I can reproduce locally. Without sort: 2.09 seconds. With sort: 10.28 seconds."},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1654507727,"post_id":72515187,"comment_id":128099053,"body_markdown":"It&#39;s not a problem with sorting I think, sorting is pretty fast, check out the time taken for sorting in this link https://onlinegdb.com/dQzZTCUiP.","body":"It&#39;s not a problem with sorting I think, sorting is pretty fast, check out the time taken for sorting in this link <a href=\"https://onlinegdb.com/dQzZTCUiP\" rel=\"nofollow noreferrer\">onlinegdb.com/dQzZTCUiP</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1654510181,"post_id":72515187,"comment_id":128099791,"body_markdown":"When sorting you are sorting the *references* to the objects. The objects themselves stay where they are in memory. For this reason when you are not sorting, you are accessing the objects in the order they were allocated, which is also the order in which they are located in memory. This is more efficient. After sorting you are accessing the objects out of memory address order, so always jumping back and forth in memory. This is less efficient. Particularly on a computer with virtual memory, where i&#39;t causes thrashing.","body":"When sorting you are sorting the <i>references</i> to the objects. The objects themselves stay where they are in memory. For this reason when you are not sorting, you are accessing the objects in the order they were allocated, which is also the order in which they are located in memory. This is more efficient. After sorting you are accessing the objects out of memory address order, so always jumping back and forth in memory. This is less efficient. Particularly on a computer with virtual memory, where i&#39;t causes thrashing."},{"owner":{"account_id":18153542,"reputation":121,"user_id":13205898,"display_name":"MediaNik Ok"},"score":0,"creation_date":1654511008,"post_id":72515187,"comment_id":128100033,"body_markdown":"Thank you, @OleV.V. Is there a way to move objects in memory somehow? like calling gc to do this instead of us?","body":"Thank you, @OleV.V. Is there a way to move objects in memory somehow? like calling gc to do this instead of us?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1654511094,"post_id":72515187,"comment_id":128100065,"body_markdown":"@MediaNikOk Nope","body":"@MediaNikOk Nope"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1654511429,"post_id":72515187,"comment_id":128100150,"body_markdown":"If you really insist, you can sort the *contents* of the objects by transferring `value` and `index`from object to object during sorting. Or allocate all new objects after sorting.","body":"If you really insist, you can sort the <i>contents</i> of the objects by transferring <code>value</code> and <code>index</code>from object to object during sorting. Or allocate all new objects after sorting."}],"answers":[{"tags":[],"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654508035,"creation_date":1654508035,"answer_id":72515700,"question_id":72515187,"body_markdown":"May be you need to sort your data using red black tree sorting algo which implemented in ```SortedSet```, Arrays.sort use mergesort sorting algo which works well for small number of data","title":"Java perfomance issue with Arrays.sort","body":"<p>May be you need to sort your data using red black tree sorting algo which implemented in <code>SortedSet</code>, Arrays.sort use mergesort sorting algo which works well for small number of data</p>\n"}],"owner":{"account_id":18153542,"reputation":121,"user_id":13205898,"display_name":"MediaNik Ok"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1654510528,"answer_count":1,"score":2,"last_activity_date":1654508035,"creation_date":1654505362,"question_id":72515187,"body_markdown":"I&#39;ve been solving one algorithmic problem and found solution, as I thought. But unexpectedly I bumped into a weird problem.\r\n\r\nLet&#39;s assume i have the following code on java 8/17(replicates on both), intel 11th gen processor: \r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class DistanceYandex{\r\n    static class Elem implements Comparable&lt;Elem&gt;{\r\n        int value;\r\n        int index;\r\n        long dist;\r\n        public Elem(int value, int index){\r\n            this.value = value;\r\n            this.index = index;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(Elem o){\r\n            return Integer.compare(value, o.value);\r\n        }\r\n    }\r\n    public static void main(String[] args){\r\n        int n = 300_000;\r\n        int k = 3_000;\r\n        Elem[] elems = new Elem[n];\r\n        for(int i = 0; i &lt; n; i++){\r\n            elems[i] = new Elem(ThreadLocalRandom.current().nextInt(), i);\r\n        }\r\n        solve(n, k, elems);\r\n    }\r\n    private static void solve(int n, int k, Elem[] elems){\r\n        Arrays.sort(elems); // interesting line\r\n        long time = System.nanoTime();\r\n\r\n        for(int i = 0; i &lt; n; i++){\r\n            elems[i].dist = findDistForIth(elems, i, k);\r\n        }\r\n//        i omit output, because it&#39;s irrelevant\r\n//        Arrays.sort(elems, Comparator.comparingInt(elem -&gt; elem.index));\r\n//        System.out.print(elems[0].dist);\r\n//        for(int i = 1; i &lt; n; i++){\r\n//            System.out.print(&quot; &quot; + elems[i].dist);\r\n//        }\r\n        System.out.println((System.nanoTime() - time)/1_000_000_000.0);\r\n    }\r\n\r\n    private static long findDistForIth(Elem[] elems, int i, int k){\r\n        int midElem = elems[i].value;\r\n        int left = i - 1;\r\n        int right = i + 1;\r\n        long dist = 0;\r\n        for(int j = 0; j &lt; k; j++){\r\n            if(left &lt; 0){\r\n                dist += elems[right++].value - midElem;\r\n            }else if(right &gt;= elems.length){\r\n                dist += midElem - elems[left--].value;\r\n            }else{\r\n                int leftAdd = midElem - elems[left].value;\r\n                int rightAdd = elems[right].value - midElem;\r\n                if(leftAdd &lt; rightAdd){\r\n                    dist+=leftAdd;\r\n                    left--;\r\n                }else{\r\n                    dist+=rightAdd;\r\n                    right++;\r\n                }\r\n            }\r\n        }\r\n        return dist;\r\n    }\r\n}\r\n```\r\n\r\nPoint your eyes at solve function.\r\n\r\nHere we have simple solution, that calls function ```findDistForIth``` n times and measures time it takes(I don&#39;t use JMH, because testing system for my problem uses simple one-time time measures). And before it captures start time, it sorts the array by natural order using built-in ```Arrays.sort``` function.\r\n\r\nAs you could notice, measured time doesn&#39;t include the time the array gets sorted. Also function ```findDistForIth```&#39;s behaviour does not depend on whether input array is sorted or not(it mostly goes to third else branch). But if I comment out line with ```Arrays.sort``` I get *significantly faster* execution: instead of roughly 7.3 seconds, it takes roughly 1.6 seconds. More that 4 times faster!\r\n\r\nI don&#39;t understand what&#39;s going on.\r\n\r\nI thought maybe it is gc that&#39;s messing up here, I tried to increase memory I give to jvm to 2gb(-Xmx2048M -Xms2048M). Didn&#39;t help.\r\n\r\nI tried to pass explicit comparator to ```Arrays.sort``` as second argument(```Comparator.comparingInt(e -&gt; e.value)```) and deimplementing ```Comparable``` interface on ```Elem``` class. Didn&#39;t help.\r\n\r\nI launched the profiler(Intellij Profiler)\r\n\r\nWith Arrays.sort included:\r\n[![With Arrays.sort included][1]][1]\r\nWith Arrays.sort excluded:\r\n[![With Arrays.sort excluded][2]][2]\r\n\r\nBut it didn&#39;t give me much information...\r\n\r\nI tried building it directly to .jar and launching via java cmd(before i did it via intellij). It also didn&#39;t help.\r\n\r\nDo anybody know what&#39;s goind on?\r\n\r\nThis problem also replicates in online compiler: https://onlinegdb.com/MPyNIknB8T\r\n\r\n  [1]: https://i.stack.imgur.com/TeTku.png\r\n  [2]: https://i.stack.imgur.com/7BOLc.png","title":"Java perfomance issue with Arrays.sort","body":"<p>I've been solving one algorithmic problem and found solution, as I thought. But unexpectedly I bumped into a weird problem.</p>\n<p>Let's assume i have the following code on java 8/17(replicates on both), intel 11th gen processor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class DistanceYandex{\n    static class Elem implements Comparable&lt;Elem&gt;{\n        int value;\n        int index;\n        long dist;\n        public Elem(int value, int index){\n            this.value = value;\n            this.index = index;\n        }\n\n        @Override\n        public int compareTo(Elem o){\n            return Integer.compare(value, o.value);\n        }\n    }\n    public static void main(String[] args){\n        int n = 300_000;\n        int k = 3_000;\n        Elem[] elems = new Elem[n];\n        for(int i = 0; i &lt; n; i++){\n            elems[i] = new Elem(ThreadLocalRandom.current().nextInt(), i);\n        }\n        solve(n, k, elems);\n    }\n    private static void solve(int n, int k, Elem[] elems){\n        Arrays.sort(elems); // interesting line\n        long time = System.nanoTime();\n\n        for(int i = 0; i &lt; n; i++){\n            elems[i].dist = findDistForIth(elems, i, k);\n        }\n//        i omit output, because it's irrelevant\n//        Arrays.sort(elems, Comparator.comparingInt(elem -&gt; elem.index));\n//        System.out.print(elems[0].dist);\n//        for(int i = 1; i &lt; n; i++){\n//            System.out.print(&quot; &quot; + elems[i].dist);\n//        }\n        System.out.println((System.nanoTime() - time)/1_000_000_000.0);\n    }\n\n    private static long findDistForIth(Elem[] elems, int i, int k){\n        int midElem = elems[i].value;\n        int left = i - 1;\n        int right = i + 1;\n        long dist = 0;\n        for(int j = 0; j &lt; k; j++){\n            if(left &lt; 0){\n                dist += elems[right++].value - midElem;\n            }else if(right &gt;= elems.length){\n                dist += midElem - elems[left--].value;\n            }else{\n                int leftAdd = midElem - elems[left].value;\n                int rightAdd = elems[right].value - midElem;\n                if(leftAdd &lt; rightAdd){\n                    dist+=leftAdd;\n                    left--;\n                }else{\n                    dist+=rightAdd;\n                    right++;\n                }\n            }\n        }\n        return dist;\n    }\n}\n</code></pre>\n<p>Point your eyes at solve function.</p>\n<p>Here we have simple solution, that calls function <code>findDistForIth</code> n times and measures time it takes(I don't use JMH, because testing system for my problem uses simple one-time time measures). And before it captures start time, it sorts the array by natural order using built-in <code>Arrays.sort</code> function.</p>\n<p>As you could notice, measured time doesn't include the time the array gets sorted. Also function <code>findDistForIth</code>'s behaviour does not depend on whether input array is sorted or not(it mostly goes to third else branch). But if I comment out line with <code>Arrays.sort</code> I get <em>significantly faster</em> execution: instead of roughly 7.3 seconds, it takes roughly 1.6 seconds. More that 4 times faster!</p>\n<p>I don't understand what's going on.</p>\n<p>I thought maybe it is gc that's messing up here, I tried to increase memory I give to jvm to 2gb(-Xmx2048M -Xms2048M). Didn't help.</p>\n<p>I tried to pass explicit comparator to <code>Arrays.sort</code> as second argument(<code>Comparator.comparingInt(e -&gt; e.value)</code>) and deimplementing <code>Comparable</code> interface on <code>Elem</code> class. Didn't help.</p>\n<p>I launched the profiler(Intellij Profiler)</p>\n<p>With Arrays.sort included:\n<a href=\"https://i.stack.imgur.com/TeTku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TeTku.png\" alt=\"With Arrays.sort included\" /></a>\nWith Arrays.sort excluded:\n<a href=\"https://i.stack.imgur.com/7BOLc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7BOLc.png\" alt=\"With Arrays.sort excluded\" /></a></p>\n<p>But it didn't give me much information...</p>\n<p>I tried building it directly to .jar and launching via java cmd(before i did it via intellij). It also didn't help.</p>\n<p>Do anybody know what's goind on?</p>\n<p>This problem also replicates in online compiler: <a href=\"https://onlinegdb.com/MPyNIknB8T\" rel=\"nofollow noreferrer\">https://onlinegdb.com/MPyNIknB8T</a></p>\n"},{"tags":["java","vaadin","session-timeout"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654495333,"post_id":72512928,"comment_id":128095868,"body_markdown":"First step is to recreate your problem with the latest update, Vaadin 23.0.10. See [*Releases*](https://vaadin.com/releases) page.","body":"First step is to recreate your problem with the latest update, Vaadin 23.0.10. See <a href=\"https://vaadin.com/releases\" rel=\"nofollow noreferrer\"><i>Releases</i></a> page."}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654495338,"creation_date":1654495338,"answer_id":72513624,"question_id":72512928,"body_markdown":"Yes, this is intended behavior. \r\n\r\nYou need to setup servlet initialized listener and there define customized system messages, there sessionExpiredURL needs to be not null (null is the default value, and if it is null, page will reload upon session expired)\r\n\r\n           getService()\r\n                    .setSystemMessagesProvider(new SystemMessagesProvider() {\r\n                        @Override\r\n                        public SystemMessages getSystemMessages(\r\n                                SystemMessagesInfo systemMessagesInfo) {\r\n                            CustomizedSystemMessages messages = new CustomizedSystemMessages();\r\n                            messages.setSessionExpiredNotificationEnabled(\r\n                                    false); // or true\r\n                            messages.setSessionExpiredURL( USE NON-NULL VALUE HERE );\r\n                            return messages;\r\n                        }\r\n                    });","title":"Session timeout is immediately followed with a page reload, starting a new session","body":"<p>Yes, this is intended behavior.</p>\n<p>You need to setup servlet initialized listener and there define customized system messages, there sessionExpiredURL needs to be not null (null is the default value, and if it is null, page will reload upon session expired)</p>\n<pre><code>       getService()\n                .setSystemMessagesProvider(new SystemMessagesProvider() {\n                    @Override\n                    public SystemMessages getSystemMessages(\n                            SystemMessagesInfo systemMessagesInfo) {\n                        CustomizedSystemMessages messages = new CustomizedSystemMessages();\n                        messages.setSessionExpiredNotificationEnabled(\n                                false); // or true\n                        messages.setSessionExpiredURL( USE NON-NULL VALUE HERE );\n                        return messages;\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":2266924,"reputation":507,"user_id":1995341,"display_name":"Robert Sutton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72513624,"answer_count":1,"score":1,"last_activity_date":1654507846,"creation_date":1654488025,"question_id":72512928,"body_markdown":"When the VaadinSession timeout happens, the page automatically reloads starting a new VaadinSession.\r\n\r\nVaadin 23.0.5\r\n\r\nBelow, I have included the Chrome console log as the session ends and the reload happens.\r\nThere is nothing indicating why this is going on in the java logs.\r\nThis appears (to me) to be initiated in the browser, possibly by the service worker?\r\n\r\nSuggestions for further diagnostics, or just an outright solution (I can dream) would be greatly appreciated.\r\n\r\n**Here is the Chrome console as the Session terminates...**\r\n\r\n```text\r\nReceived push (websocket) message: for(;;);[{&quot;syncId&quot;:4,&quot;clientId&quot;:2,&quot;meta&quot;:{&quot;async&quot;:true,&quot;sessionExpired&quot;:true},&quot;timings&quot;:[5,0]}]\r\nFlowClient.js?2d7e:1004 Handling message from server\r\nFlowClient.js?2d7e:944 Handling dependencies\r\nFlowClient.js?2d7e:193 handleUIDLMessage: 0 ms\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: beforeunload event\r\nFlowClient.js?2d7e:193 Setting heartbeat interval to -1sec.\r\nFlowClient.js?2d7e:835 Disabling heartbeat\r\nFlowClient.js?2d7e:936 Closing push connection\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Closing (AtmosphereRequest._close() called)\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Firing onClose (unsubscribe case)\r\nFlowClient.js?2d7e:1006 Push connection closed\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (unsubscribe case)\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: invoking .close() on WebSocket object\r\nFlowClient.js?2d7e:193  Processing time was 5ms\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (unsubscribe case)\r\nlogger.js?aa4d:46 workbox No route found for: /?v-r=push&amp;v-uiId=0&amp;v-pushId=09139213-af19-48d7-8a55-278da41b839f&amp;X-Atmosphere-Transport=close&amp;X-Atmosphere-tracking-id=3c2a0c76-86d7-4952-a1c4-80786dd19bd0\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: websocket.onclose\r\nvaadinPush.js?v=23.0.4:3323 Websocket closed, reason: Normal closure; the connection successfully completed whatever purpose for which it was created. - wasClean: true\r\nlog @ vaadinPush.js?v=23.0.4:3323\r\nwarn @ vaadinPush.js?v=23.0.4:3329\r\n_websocket.onclose @ vaadinPush.js?v=23.0.4:1537\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (closed case)\r\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (closed case)\r\nvaadinPush.js?v=23.0.4:3323 Websocket closed normally\r\n```\r\n\r\n**Which is immediately followed with the page reloading...**\r\n\r\n```text\r\nlogger.js?aa4d:46 workbox The navigation route / is being used.\r\nlogger.js?aa4d:46 workbox Router is responding to: /\r\nlogger.js?aa4d:46 workbox Network request for &#39;/&#39; returned a response with status &#39;200&#39;.\r\nlogger.js?aa4d:46 workbox Using NetworkOnly to respond to &#39;/&#39;\r\n​ Mon Jun 06 2022 13:41:11 GMT+1000 (Australian Eastern Standard Time) Atmosphere: unload event\r\nlogger.js?aa4d:46 workbox No route found for: \r\nhttps://api.breadbutter.io/apps/xxxxxxxxxxxxxxxx/prerelease/page_engagement\r\nlogger.js?aa4d:46 workbox Router is responding to: /VAADIN/build/vaadin-bundle-52a045587b10cc017547.cache.js\r\nlogger.js?aa4d:46 workbox Found a cached response in &#39;workbox-precache-v2-https://mylocalhost/&#39;.\r\nlogger.js?aa4d:46 workbox Precaching did not find a match for /?v-r=init&amp;location=\r\nlogger.js?aa4d:46 workbox No route found for: /?v-r=init&amp;location=\r\nlogger.js?aa4d:46 \r\n```\r\n","title":"Session timeout is immediately followed with a page reload, starting a new session","body":"<p>When the VaadinSession timeout happens, the page automatically reloads starting a new VaadinSession.</p>\n<p>Vaadin 23.0.5</p>\n<p>Below, I have included the Chrome console log as the session ends and the reload happens.\nThere is nothing indicating why this is going on in the java logs.\nThis appears (to me) to be initiated in the browser, possibly by the service worker?</p>\n<p>Suggestions for further diagnostics, or just an outright solution (I can dream) would be greatly appreciated.</p>\n<p><strong>Here is the Chrome console as the Session terminates...</strong></p>\n<pre><code>Received push (websocket) message: for(;;);[{&quot;syncId&quot;:4,&quot;clientId&quot;:2,&quot;meta&quot;:{&quot;async&quot;:true,&quot;sessionExpired&quot;:true},&quot;timings&quot;:[5,0]}]\nFlowClient.js?2d7e:1004 Handling message from server\nFlowClient.js?2d7e:944 Handling dependencies\nFlowClient.js?2d7e:193 handleUIDLMessage: 0 ms\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: beforeunload event\nFlowClient.js?2d7e:193 Setting heartbeat interval to -1sec.\nFlowClient.js?2d7e:835 Disabling heartbeat\nFlowClient.js?2d7e:936 Closing push connection\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Closing (AtmosphereRequest._close() called)\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Firing onClose (unsubscribe case)\nFlowClient.js?2d7e:1006 Push connection closed\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (unsubscribe case)\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: invoking .close() on WebSocket object\nFlowClient.js?2d7e:193  Processing time was 5ms\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (unsubscribe case)\nlogger.js?aa4d:46 workbox No route found for: /?v-r=push&amp;v-uiId=0&amp;v-pushId=09139213-af19-48d7-8a55-278da41b839f&amp;X-Atmosphere-Transport=close&amp;X-Atmosphere-tracking-id=3c2a0c76-86d7-4952-a1c4-80786dd19bd0\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: websocket.onclose\nvaadinPush.js?v=23.0.4:3323 Websocket closed, reason: Normal closure; the connection successfully completed whatever purpose for which it was created. - wasClean: true\nlog @ vaadinPush.js?v=23.0.4:3323\nwarn @ vaadinPush.js?v=23.0.4:3329\n_websocket.onclose @ vaadinPush.js?v=23.0.4:1537\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (closed case)\nvaadinPush.js?v=23.0.4:3323 Mon Jun 06 2022 13:41:09 GMT+1000 (Australian Eastern Standard Time) Atmosphere: Request already closed, not firing onClose (closed case)\nvaadinPush.js?v=23.0.4:3323 Websocket closed normally\n</code></pre>\n<p><strong>Which is immediately followed with the page reloading...</strong></p>\n<pre><code>logger.js?aa4d:46 workbox The navigation route / is being used.\nlogger.js?aa4d:46 workbox Router is responding to: /\nlogger.js?aa4d:46 workbox Network request for '/' returned a response with status '200'.\nlogger.js?aa4d:46 workbox Using NetworkOnly to respond to '/'\n​ Mon Jun 06 2022 13:41:11 GMT+1000 (Australian Eastern Standard Time) Atmosphere: unload event\nlogger.js?aa4d:46 workbox No route found for: \nhttps://api.breadbutter.io/apps/xxxxxxxxxxxxxxxx/prerelease/page_engagement\nlogger.js?aa4d:46 workbox Router is responding to: /VAADIN/build/vaadin-bundle-52a045587b10cc017547.cache.js\nlogger.js?aa4d:46 workbox Found a cached response in 'workbox-precache-v2-https://mylocalhost/'.\nlogger.js?aa4d:46 workbox Precaching did not find a match for /?v-r=init&amp;location=\nlogger.js?aa4d:46 workbox No route found for: /?v-r=init&amp;location=\nlogger.js?aa4d:46 \n</code></pre>\n"},{"tags":["java","jms","websphere","ibm-mq"],"comments":[{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":0,"creation_date":1302725602,"post_id":5654547,"comment_id":6450367,"body_markdown":"SecurityException suggests you need to provide credentials for connecting.","body":"SecurityException suggests you need to provide credentials for connecting."},{"owner":{"account_id":21342,"reputation":12056,"user_id":51789,"accept_rate":75,"display_name":"Chris K"},"score":0,"creation_date":1302726848,"post_id":5654547,"comment_id":6450713,"body_markdown":"You would  think so, except I don&#39;t appear to need them.  I don&#39;t have any configured for the Websphere 6.0 (works) and having them/not having them doesn&#39;t seem to make a difference on Websphere 7 (!works).","body":"You would  think so, except I don&#39;t appear to need them.  I don&#39;t have any configured for the Websphere 6.0 (works) and having them/not having them doesn&#39;t seem to make a difference on Websphere 7 (!works)."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1581002601,"post_id":5654547,"comment_id":106291467,"body_markdown":"Hi Chris, would you mind reviewing my late answer and if it looks good Accept it or the other users answer to keep this from getting &quot;Bumped by Community user&quot;, this time (maybe because I provided a new answer) it bumped it after only 1 month.","body":"Hi Chris, would you mind reviewing my late answer and if it looks good Accept it or the other users answer to keep this from getting &quot;Bumped by Community user&quot;, this time (maybe because I provided a new answer) it bumped it after only 1 month."}],"answers":[{"tags":[],"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478273876,"creation_date":1478273876,"answer_id":40426590,"question_id":5654547,"body_markdown":"I was getting the same error too. Check your port,queuemanager and queue details.For me it was the channel which was not correct.\r\n\r\nFor other users:\r\nWhen you have MQJMS2008, you have no permissions to manipulate that queue, you must get a nested Exception that gives you more information about your error, and it tells you a MQRC Reason Code and Termination Code. \r\n\r\nFor more info about the Reason Code, open a CMD and type mqrc &lt;reason code you obtain in nested exception&gt; \r\n\r\nAnaliyzing your error, looks you are permitted to access that queue, i have some questions: \r\n\r\nAre you connecting using JNDI? If you are connecting with a class that makes PTP connecting (i mean not using JNDI), you must provide the MQQueueConnectionFactory the channel, the queue manager, the queue name, and the hostname of the server, if you wanna know more about PTP connections, here is: http://hursleyonwmq.wordpress.com/2007/05/29/simplest-sample-applications-using-websphere-mq-jms/ . \r\n\r\nIf you are doing this with a remote queue and you are using MQSeries and not WMQ on Windows, you must grant to public all privilegies. \r\nUse WRKMQMQ. \r\n\r\n\r\nIf you can give the nested exception, i will help you.","title":"javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue","body":"<p>I was getting the same error too. Check your port,queuemanager and queue details.For me it was the channel which was not correct.</p>\n\n<p>For other users:\nWhen you have MQJMS2008, you have no permissions to manipulate that queue, you must get a nested Exception that gives you more information about your error, and it tells you a MQRC Reason Code and Termination Code. </p>\n\n<p>For more info about the Reason Code, open a CMD and type mqrc  </p>\n\n<p>Analiyzing your error, looks you are permitted to access that queue, i have some questions: </p>\n\n<p>Are you connecting using JNDI? If you are connecting with a class that makes PTP connecting (i mean not using JNDI), you must provide the MQQueueConnectionFactory the channel, the queue manager, the queue name, and the hostname of the server, if you wanna know more about PTP connections, here is: <a href=\"http://hursleyonwmq.wordpress.com/2007/05/29/simplest-sample-applications-using-websphere-mq-jms/\" rel=\"nofollow noreferrer\">http://hursleyonwmq.wordpress.com/2007/05/29/simplest-sample-applications-using-websphere-mq-jms/</a> . </p>\n\n<p>If you are doing this with a remote queue and you are using MQSeries and not WMQ on Windows, you must grant to public all privilegies. \nUse WRKMQMQ. </p>\n\n<p>If you can give the nested exception, i will help you.</p>\n"},{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1578299698,"creation_date":1578299698,"answer_id":59608909,"question_id":5654547,"body_markdown":"I&#39;ll take a shot at answering this old post since it has been &quot;Bumped by Community user&quot; every four months since January 2019.\r\n\r\n---\r\n\r\nFirst some background:\r\n\r\n* WAS 6.0  \r\n\r\n  * Included MQ jar files from Websphere MQ v5.3\r\n  * Depending on the specific version of WAS 6.0, the jars would be from Websphere MQ v5.3 CSD08 up to CSD14\r\n\r\n* WAS 7.0.0.15\r\n\r\n  * Is supposed to include WebSphere MQ JCA resource adapter Version 7.0.1.3 (the default behavior here would have been that of the MQ v5.3 jars), but because of a bug, if you upgraded from WAS 7.0.0.0 to WAS 7.0.0.15, the WebSphere MQ JCA resource adapter Version 7.0.0.0 which came with WAS 7.0.0.0 would stay in place.\r\n\r\n---\r\n\r\nThe difference:\r\n\r\n* With MQ v5.3 jar files, when you call `fact.createQueueConnection();`, a blank userid would be sent to the queue manager.  If the `SVRCONN` channel you connected to had a blank `MCAUSER` attribute then the connection would be running under the authority of the user account the Windows MQ queue manager was running as.  In other words you would get full authority to the the queue manager and all queues (full MQ admin authority).\r\n\r\n* With MQ v7.0.0.0 resource adapter, when you call `fact.createQueueConnection();` the JVM process ID will be sent to the queue manager.  If the `SVRCONN` channel you connect to had a blank `MCAUSER` attribute then the Windows MQ queue manager would attempt to run the connection under the authority of the JVM process ID.  Based on the information in your question this would be the user `root`.\r\n\r\n---\r\n\r\nSummary:\r\n\r\nIt worked under Websphere 6.0 because the connection runs with full MQ Admin authority.\r\n\r\nIt failed under Websphere 7.0.0.15 because the connection runs with `root` user authority, and in this case you only provided the `root` user with `all` authority to the queue manager (`qmgr`) itself, but no authority to the `QUEUE`.\r\n\r\nWebsphere must first connect to and inquire the queue manager object before it would open any queues.  The error you got was `javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue &#39;QUEUE&#39;.`.  This means that you did successfully connect to the queue manager, but then failed to connect to the queue.\r\n\r\nThis could have been fixed by providing authority for the `QUEUE` to the `root` user:\r\n\r\n`setmqaut -t q -m QM_webspheremq -n QUEUE -p root +put +get +browse +inq +dsp`\r\n\r\n---\r\n\r\nNote all of the versions of software listed in the question are now (8.5 years later) out of support from IBM.  It would also not be advisable to have a `SVRCONN` channel with a blank `MCAUSER` unless you were using some other method such as a security exit to set the MCAUSER to a non-MQ Admin id.  In current IBM MQ versions you can use TLS with a client cert mapped on the queue manager to a non-MQ Admin id, or TLS without a cert + connection authentication to validate a user id and password sent by the client at the queue manager.\r\n\r\n\r\n\r\n","title":"javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue","body":"<p>I'll take a shot at answering this old post since it has been \"Bumped by Community user\" every four months since January 2019.</p>\n\n<hr>\n\n<p>First some background:</p>\n\n<ul>\n<li><p>WAS 6.0  </p>\n\n<ul>\n<li>Included MQ jar files from Websphere MQ v5.3</li>\n<li>Depending on the specific version of WAS 6.0, the jars would be from Websphere MQ v5.3 CSD08 up to CSD14</li>\n</ul></li>\n<li><p>WAS 7.0.0.15</p>\n\n<ul>\n<li>Is supposed to include WebSphere MQ JCA resource adapter Version 7.0.1.3 (the default behavior here would have been that of the MQ v5.3 jars), but because of a bug, if you upgraded from WAS 7.0.0.0 to WAS 7.0.0.15, the WebSphere MQ JCA resource adapter Version 7.0.0.0 which came with WAS 7.0.0.0 would stay in place.</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>The difference:</p>\n\n<ul>\n<li><p>With MQ v5.3 jar files, when you call <code>fact.createQueueConnection();</code>, a blank userid would be sent to the queue manager.  If the <code>SVRCONN</code> channel you connected to had a blank <code>MCAUSER</code> attribute then the connection would be running under the authority of the user account the Windows MQ queue manager was running as.  In other words you would get full authority to the the queue manager and all queues (full MQ admin authority).</p></li>\n<li><p>With MQ v7.0.0.0 resource adapter, when you call <code>fact.createQueueConnection();</code> the JVM process ID will be sent to the queue manager.  If the <code>SVRCONN</code> channel you connect to had a blank <code>MCAUSER</code> attribute then the Windows MQ queue manager would attempt to run the connection under the authority of the JVM process ID.  Based on the information in your question this would be the user <code>root</code>.</p></li>\n</ul>\n\n<hr>\n\n<p>Summary:</p>\n\n<p>It worked under Websphere 6.0 because the connection runs with full MQ Admin authority.</p>\n\n<p>It failed under Websphere 7.0.0.15 because the connection runs with <code>root</code> user authority, and in this case you only provided the <code>root</code> user with <code>all</code> authority to the queue manager (<code>qmgr</code>) itself, but no authority to the <code>QUEUE</code>.</p>\n\n<p>Websphere must first connect to and inquire the queue manager object before it would open any queues.  The error you got was <code>javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue 'QUEUE'.</code>.  This means that you did successfully connect to the queue manager, but then failed to connect to the queue.</p>\n\n<p>This could have been fixed by providing authority for the <code>QUEUE</code> to the <code>root</code> user:</p>\n\n<p><code>setmqaut -t q -m QM_webspheremq -n QUEUE -p root +put +get +browse +inq +dsp</code></p>\n\n<hr>\n\n<p>Note all of the versions of software listed in the question are now (8.5 years later) out of support from IBM.  It would also not be advisable to have a <code>SVRCONN</code> channel with a blank <code>MCAUSER</code> unless you were using some other method such as a security exit to set the MCAUSER to a non-MQ Admin id.  In current IBM MQ versions you can use TLS with a client cert mapped on the queue manager to a non-MQ Admin id, or TLS without a cert + connection authentication to validate a user id and password sent by the client at the queue manager.</p>\n"}],"owner":{"account_id":21342,"reputation":12056,"user_id":51789,"accept_rate":75,"display_name":"Chris K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17435,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59608909,"answer_count":2,"score":3,"last_activity_date":1654507695,"creation_date":1302723047,"question_id":5654547,"body_markdown":"I have a JMS-based application that I am running in on Websphere 6.0, and am migrating to Websphere 7.  Both Websphere servers are backed with a Websphere MQ 6.0 server.  I receive the following exception when attempting to deploy a test servlet to the Websphere 7 server:\r\n\r\n**`javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue`**\r\n\r\nWebsphere 6.0 : RHEL 5.3 \r\n\r\nWebsphere 7.0.0.15:  RHEL 5.3 \r\n\r\nWebsphere MQ 6.0: Windows Server 2003 \r\n\r\n\r\nServlet Test Code:\r\n\r\n```Java\r\npublic class JMSTestServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n\t\tString MQConnectionFactory, MQQueue; \r\n\t\r\n    public JMSTestServlet() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n        System.out.println(&quot;JMSTestServlet: loading&quot;);\r\n        \r\n        URL urlProps = getClass().getClassLoader().getResource(&quot;META-INF/startup.properties&quot;);\r\n        Properties props = new Properties();\r\n        try\r\n\t\t\t\t{\r\n          System.out.println(&quot;JMSTestServlet: loading properties&quot;);\r\n          props.load( urlProps.openStream() );\r\n\t\t\t\t\t\r\n\t\t\t\t\tMQConnectionFactory = props.getProperty(&quot;MQConnectionFactory&quot;); \r\n\t\t\t\t\tMQQueue = props.getProperty(&quot;MQQueue&quot;); \r\n\t\t\t\t\t\r\n          System.out.println(&quot;JMSTestServlet: loading properties ... done!&quot;);\r\n          \r\n          sendMessage(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;);\r\n\t\t\t\t} catch (IOException e)\r\n\t\t\t\t{\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n    }\r\n\r\n    protected void sendMessage(String messageString) { \r\n  \t\tQueueConnectionFactory fact;\r\n  \t\tQueueConnection qConn = null;\r\n  \t\ttry { \r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: creating context&quot;);\r\n  \t\t\tContext ctx = new InitialContext();\r\n  \t\t\tfact = (QueueConnectionFactory)ctx.lookup(MQConnectionFactory);\r\n  \t\t\tDestination destination = (Destination)ctx.lookup(MQQueue);\r\n  \t\t\t\r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: creating QueueConnection&quot;);\r\n  \t\t\tqConn = fact.createQueueConnection(); \r\n  \t\t\tQueueSession    qSess = qConn.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n  \t\t\tMessageProducer prod = qSess.createProducer(destination); \r\n  \t\t\t\r\n  \t\t\t\r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: sending Message&quot;);\r\n  \t\t\tTextMessage message = qSess.createTextMessage();\r\n  \t\t\tmessage.setText(messageString);\r\n  \t\t\tprod.send(message); \r\n  \t\t\t\r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: done sendMessage()&quot;);\r\n  \t\t} catch ( JMSException ex ) {\r\n  \t\t\tex.toString(); \r\n  \t\t\tex.printStackTrace();\r\n  \t\t\tex.getLinkedException().toString();\r\n  \t\t\tex.getLinkedException().printStackTrace();\r\n  \t\t} catch ( NamingException ex ) {\r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: naming exception &quot; + ex.toString());\r\n  \t\t\tex.printStackTrace();\r\n  \t\t} catch ( Exception ex ) {\r\n  \t\t  System.out.println(&quot;JNDI API lookup failed: &quot; +\t      ex.toString());\r\n  \t\t    ex.printStackTrace();\t\t\t\r\n  \t\t} finally {\r\n  \t\t\tSystem.out.println(&quot;JMSTestServlet: cleaning up sendMessage()&quot;);\r\n \t\t\t\r\n  \t\t\ttry\r\n  \t\t\t{\r\n  \t\t\t\tif ( qConn != null ) qConn.close();\r\n  \t\t\t} catch (JMSException e)\r\n  \t\t\t{\r\n  \t\t\t\t// TODO Auto-generated catch block\r\n  \t\t\t\te.printStackTrace();\r\n  \t\t\t}\r\n  \t\t}\r\n    }\r\n    \r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\ttry { \r\n\t\t\tString messageString = request.getParameter(&quot;message&quot;); \r\n\t\t\tsendMessage(messageString);\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n```\r\n\r\nProperties file is: \r\n \r\n```\r\nMQConnectionFactory=jms/QUEUECONNFACTORY\r\nMQQueue=jms/QUEUE \r\n```\r\n\r\nWhen deployed to Websphere 6 I get messages in my remote queues.  When I deploy to Websphere 7, I get: \r\n\r\n```\r\n[4/13/11 14:53:55:622 EDT] 0000005c ConnectionEve A   J2CA0056I: The Connection Manager received a fatal connection error from the Resource Adapter for resource JMS$QUEUECONNFACTORY$JMSManagedConnection@15. The exception is: javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue &#39;QUEUE&#39;.\r\n[4/13/11 14:53:55:622 EDT] 0000005c ConnectionEve W   J2CA0206W: A connection error occurred.  To help determine the problem, enable the Diagnose Connection Usage option on the Connection Factory or Data Source.\r\n[4/13/11 14:53:55:623 EDT] 0000005c ConnectionEve A   J2CA0056I: The Connection Manager received a fatal connection error from the Resource Adapter for resource jms/QUEUECONNFACTORY. The exception is: javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue &#39;QUEUE&#39;.\r\n[4/13/11 14:53:55:625 EDT] 0000005c SystemErr     R   javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue &#39;QUEUE&#39;.\r\n```\r\n\r\nI&#39;m pretty sure I&#39;ve configured the queues and connection factories on both Websphere servers the same.  I&#39;m at a loss as to how to resolve this issue, and the Google is of no help.  \r\n\r\n**Update 2011-04-15:**\r\n\r\nI&#39;ve extracted the following error from the logs: \r\n\r\n&gt; `com.ibm.mq.MQException: MQJE001: Completion Code &#39;2&#39;, Reason &#39;2035&#39;`\r\n\r\nI&#39;ve read up on it at a few locations, and I really can&#39;t see where there&#39;s a difference between WAS 6 and WAS 7 to cause this issue. \r\n\r\nI&#39;m running Websphere on both Linux hosts as root.  I have a root account created on the Windows machine with full permissions to the MQ installation: \r\n\r\n&gt; `setmqaut -t qmgr -m QM_webspheremq -p root +all`\r\n","title":"javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue","body":"<p>I have a JMS-based application that I am running in on Websphere 6.0, and am migrating to Websphere 7.  Both Websphere servers are backed with a Websphere MQ 6.0 server.  I receive the following exception when attempting to deploy a test servlet to the Websphere 7 server:</p>\n\n<p><strong><code>javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue</code></strong></p>\n\n<p>Websphere 6.0 : RHEL 5.3 </p>\n\n<p>Websphere 7.0.0.15:  RHEL 5.3 </p>\n\n<p>Websphere MQ 6.0: Windows Server 2003 </p>\n\n<p>Servlet Test Code:</p>\n\n<pre><code>public class JMSTestServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n        String MQConnectionFactory, MQQueue; \n\n    public JMSTestServlet() {\n        super();\n        // TODO Auto-generated constructor stub\n        System.out.println(\"JMSTestServlet: loading\");\n\n        URL urlProps = getClass().getClassLoader().getResource(\"META-INF/startup.properties\");\n        Properties props = new Properties();\n        try\n                {\n          System.out.println(\"JMSTestServlet: loading properties\");\n          props.load( urlProps.openStream() );\n\n                    MQConnectionFactory = props.getProperty(\"MQConnectionFactory\"); \n                    MQQueue = props.getProperty(\"MQQueue\"); \n\n          System.out.println(\"JMSTestServlet: loading properties ... done!\");\n\n          sendMessage(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\");\n                } catch (IOException e)\n                {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n    }\n\n    protected void sendMessage(String messageString) { \n        QueueConnectionFactory fact;\n        QueueConnection qConn = null;\n        try { \n            System.out.println(\"JMSTestServlet: creating context\");\n            Context ctx = new InitialContext();\n            fact = (QueueConnectionFactory)ctx.lookup(MQConnectionFactory);\n            Destination destination = (Destination)ctx.lookup(MQQueue);\n\n            System.out.println(\"JMSTestServlet: creating QueueConnection\");\n            qConn = fact.createQueueConnection(); \n            QueueSession    qSess = qConn.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer prod = qSess.createProducer(destination); \n\n\n            System.out.println(\"JMSTestServlet: sending Message\");\n            TextMessage message = qSess.createTextMessage();\n            message.setText(messageString);\n            prod.send(message); \n\n            System.out.println(\"JMSTestServlet: done sendMessage()\");\n        } catch ( JMSException ex ) {\n            ex.toString(); \n            ex.printStackTrace();\n            ex.getLinkedException().toString();\n            ex.getLinkedException().printStackTrace();\n        } catch ( NamingException ex ) {\n            System.out.println(\"JMSTestServlet: naming exception \" + ex.toString());\n            ex.printStackTrace();\n        } catch ( Exception ex ) {\n          System.out.println(\"JNDI API lookup failed: \" +         ex.toString());\n            ex.printStackTrace();           \n        } finally {\n            System.out.println(\"JMSTestServlet: cleaning up sendMessage()\");\n\n            try\n            {\n                if ( qConn != null ) qConn.close();\n            } catch (JMSException e)\n            {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        try { \n            String messageString = request.getParameter(\"message\"); \n            sendMessage(messageString);\n        } finally {\n        }\n    }\n</code></pre>\n\n<p>Properties file is: </p>\n\n<pre><code>MQConnectionFactory=jms/QUEUECONNFACTORY\nMQQueue=jms/QUEUE \n</code></pre>\n\n<p>When deployed to Websphere 6 I get messages in my remote queues.  When I deploy to Websphere 7, I get: </p>\n\n<pre><code>[4/13/11 14:53:55:622 EDT] 0000005c ConnectionEve A   J2CA0056I: The Connection Manager received a fatal connection error from the Resource Adapter for resource JMS$QUEUECONNFACTORY$JMSManagedConnection@15. The exception is: javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue 'QUEUE'.\n[4/13/11 14:53:55:622 EDT] 0000005c ConnectionEve W   J2CA0206W: A connection error occurred.  To help determine the problem, enable the Diagnose Connection Usage option on the Connection Factory or Data Source.\n[4/13/11 14:53:55:623 EDT] 0000005c ConnectionEve A   J2CA0056I: The Connection Manager received a fatal connection error from the Resource Adapter for resource jms/QUEUECONNFACTORY. The exception is: javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue 'QUEUE'.\n[4/13/11 14:53:55:625 EDT] 0000005c SystemErr     R   javax.jms.JMSSecurityException: MQJMS2008: failed to open MQ queue 'QUEUE'.\n</code></pre>\n\n<p>I'm pretty sure I've configured the queues and connection factories on both Websphere servers the same.  I'm at a loss as to how to resolve this issue, and the Google is of no help.  </p>\n\n<p><strong>Update 2011-04-15:</strong></p>\n\n<p>I've extracted the following error from the logs: </p>\n\n<blockquote>\n  <p><code>com.ibm.mq.MQException: MQJE001: Completion Code '2', Reason '2035'</code></p>\n</blockquote>\n\n<p>I've read up on it at a few locations, and I really can't see where there's a difference between WAS 6 and WAS 7 to cause this issue. </p>\n\n<p>I'm running Websphere on both Linux hosts as root.  I have a root account created on the Windows machine with full permissions to the MQ installation: </p>\n\n<blockquote>\n  <p><code>setmqaut -t qmgr -m QM_webspheremq -p root +all</code></p>\n</blockquote>\n"},{"tags":["java","sockets","http","proxy"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381068036,"creation_date":1381068036,"answer_id":19209674,"question_id":19207599,"body_markdown":"There is a problem in the last part:\r\n\r\n    byte[] receivedData = new byte[16384];\r\n    int size;\r\n    while((size = inputFromServer.read(receivedData)) != -1)\r\n    {\r\n      System.out.println(&quot;write response back to client...&quot;);\r\n      System.out.println(&quot;size: &quot; + size);\r\n      System.out.println(new String(receivedData));\r\n    }\r\n    outputToClient.write(receivedData);\r\n\r\nSo, let&#39;s say the server sends back 1 million bytes. The loop reads them by chunks of 16384 bytes, and once it has read all the chunks, it sends back what has been left in the `receivedData` buffer by the after the last read. So the browser will only receive 16384 bytes among the 1,000,000 bytes sent by the server.\r\n\r\nYou must send everything you read from the server to the browser:\r\n\r\n    byte[] receivedData = new byte[16384];\r\n    int size;\r\n    while((size = inputFromServer.read(receivedData)) != -1)\r\n    {\r\n      System.out.println(&quot;write response back to client...&quot;);\r\n      System.out.println(&quot;size: &quot; + size);\r\n      System.out.println(new String(receivedData));\r\n      outputToClient.write(receivedData, 0, size);      \r\n    }\r\n    ","title":"Proxy in Java - client not displaying response?","body":"<p>There is a problem in the last part:</p>\n\n<pre><code>byte[] receivedData = new byte[16384];\nint size;\nwhile((size = inputFromServer.read(receivedData)) != -1)\n{\n  System.out.println(\"write response back to client...\");\n  System.out.println(\"size: \" + size);\n  System.out.println(new String(receivedData));\n}\noutputToClient.write(receivedData);\n</code></pre>\n\n<p>So, let's say the server sends back 1 million bytes. The loop reads them by chunks of 16384 bytes, and once it has read all the chunks, it sends back what has been left in the <code>receivedData</code> buffer by the after the last read. So the browser will only receive 16384 bytes among the 1,000,000 bytes sent by the server.</p>\n\n<p>You must send everything you read from the server to the browser:</p>\n\n<pre><code>byte[] receivedData = new byte[16384];\nint size;\nwhile((size = inputFromServer.read(receivedData)) != -1)\n{\n  System.out.println(\"write response back to client...\");\n  System.out.println(\"size: \" + size);\n  System.out.println(new String(receivedData));\n  outputToClient.write(receivedData, 0, size);      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1144015,"reputation":623,"user_id":1127188,"accept_rate":67,"display_name":"uohzxela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1381138091,"creation_date":1381138091,"answer_id":19221203,"question_id":19207599,"body_markdown":"Ok, I found out the cause of the problem. My while loop got blocked because I didn&#39;t detect the end of HTTP request. This answer addresses my problem succintly: https://stackoverflow.com/a/9542710\r\n\r\nJust posting here for those who stumbled upon this problem and got lost.\r\n\r\nHere&#39;s my updated code which can work (notice that I added a method to detect end of HTTP request):\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.*;\r\n    \r\n    public class proxy2 {\r\n    \r\n      public static void main(String args[]) throws Exception\r\n      {\r\n        int port = Integer.parseInt(args[0]);\r\n        File fileSub= new File(args[1]); //fileSub\r\n        File fileRediect = new File(args[2]); //fileRedirect\r\n        \r\n        //create listener socket to listen for requests from browser\r\n        ServerSocket listener = new ServerSocket(port);\r\n    \r\n        while (true) {\r\n          proxy_func(listener.accept());\r\n        }\r\n        \r\n      }\r\n      \r\n      public static void proxy_func(Socket clientSocket) throws Exception{\r\n    \r\n        OutputStream outputToClient = clientSocket.getOutputStream();\r\n        InputStream inputFromClient = clientSocket.getInputStream();\r\n        \r\n        //store clientSocket&#39;s inputstream into a buffer\r\n        \r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        int nRead; //start offset in the data\r\n        byte[] data = new byte[16384]; \r\n        //read each byte from InputStream and write it to a ByteArrayOutputStream\r\n        while((nRead = inputFromClient.read(data, 0, data.length)) != -1) {\r\n          System.out.println(&quot;reading from client...&quot;);\r\n          buffer.write(data, 0, nRead);\r\n          //if reached end of HTTP request, break out of this loop\r\n          if(endOfRequest(data) == true)\r\n            break;\r\n        }\r\n        buffer.flush(); //forces any buffered bytes to be written out\r\n        data = buffer.toByteArray(); //retrieve the underlying byte array \r\n        System.out.println(new String(data));\r\n        \r\n        //create buffered reader for byte array input stream (request data)\r\n        InputStream inputStream = new ByteArrayInputStream(data);\r\n        BufferedReader readFromClient = new BufferedReader(new InputStreamReader(inputStream));\r\n        \r\n        String[] strArr;\r\n        String line;\r\n        String hostname = null;\r\n        \r\n        //get hostname\r\n        while(  (line=readFromClient.readLine()) != null)\r\n        {\r\n          strArr = line.split(&quot; &quot;);\r\n          if(strArr[0].equals(&quot;Host:&quot;))\r\n            hostname = strArr[1];\r\n        }\r\n        System.out.println(&quot;Host: &quot; + hostname);\r\n        \r\n        //create server socket\r\n        Socket serverSocket = new Socket(hostname, 80);\r\n        OutputStream outputToServer = serverSocket.getOutputStream();\r\n        //InputStream inputFromServer = serverSocket.getInputStream();\r\n        \r\n        //forward request to server\r\n        System.out.println(&quot;forward request to server...&quot;);\r\n        outputToServer.write(data);\r\n        \r\n        //receive data from server and write response back to client\r\n        DataInputStream inputFromServer = new DataInputStream(serverSocket.getInputStream());\r\n        byte[] receivedData = new byte[1024];\r\n        int size;\r\n        while((size = inputFromServer.read(receivedData, 0, receivedData.length)) != -1)\r\n        {\r\n          System.out.println(&quot;write response back to client...&quot;);\r\n          System.out.println(new String(receivedData));\r\n          outputToClient.write(receivedData, 0, size);\r\n          outputToClient.flush();\r\n        }\r\n    \r\n        System.out.println(&quot;done sending&quot;);\r\n        outputToClient.close();\r\n      }\r\n      \r\n      //method to detect end of HTTP request\r\n      //return true if detected, otherwise false\r\n      public static boolean endOfRequest(byte[] data) throws Exception\r\n      {\r\n        System.out.println(&quot;parsing request..&quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(new ByteArrayInputStream(data)));\r\n        String line;\r\n        \r\n        while( (line=br.readLine()) != null) {\r\n          if (line.equals(&quot;&quot;))\r\n            return true;\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n      \r\n    \r\n    \r\n","title":"Proxy in Java - client not displaying response?","body":"<p>Ok, I found out the cause of the problem. My while loop got blocked because I didn't detect the end of HTTP request. This answer addresses my problem succintly: <a href=\"https://stackoverflow.com/a/9542710\">https://stackoverflow.com/a/9542710</a></p>\n\n<p>Just posting here for those who stumbled upon this problem and got lost.</p>\n\n<p>Here's my updated code which can work (notice that I added a method to detect end of HTTP request):</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class proxy2 {\n\n  public static void main(String args[]) throws Exception\n  {\n    int port = Integer.parseInt(args[0]);\n    File fileSub= new File(args[1]); //fileSub\n    File fileRediect = new File(args[2]); //fileRedirect\n\n    //create listener socket to listen for requests from browser\n    ServerSocket listener = new ServerSocket(port);\n\n    while (true) {\n      proxy_func(listener.accept());\n    }\n\n  }\n\n  public static void proxy_func(Socket clientSocket) throws Exception{\n\n    OutputStream outputToClient = clientSocket.getOutputStream();\n    InputStream inputFromClient = clientSocket.getInputStream();\n\n    //store clientSocket's inputstream into a buffer\n\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    int nRead; //start offset in the data\n    byte[] data = new byte[16384]; \n    //read each byte from InputStream and write it to a ByteArrayOutputStream\n    while((nRead = inputFromClient.read(data, 0, data.length)) != -1) {\n      System.out.println(\"reading from client...\");\n      buffer.write(data, 0, nRead);\n      //if reached end of HTTP request, break out of this loop\n      if(endOfRequest(data) == true)\n        break;\n    }\n    buffer.flush(); //forces any buffered bytes to be written out\n    data = buffer.toByteArray(); //retrieve the underlying byte array \n    System.out.println(new String(data));\n\n    //create buffered reader for byte array input stream (request data)\n    InputStream inputStream = new ByteArrayInputStream(data);\n    BufferedReader readFromClient = new BufferedReader(new InputStreamReader(inputStream));\n\n    String[] strArr;\n    String line;\n    String hostname = null;\n\n    //get hostname\n    while(  (line=readFromClient.readLine()) != null)\n    {\n      strArr = line.split(\" \");\n      if(strArr[0].equals(\"Host:\"))\n        hostname = strArr[1];\n    }\n    System.out.println(\"Host: \" + hostname);\n\n    //create server socket\n    Socket serverSocket = new Socket(hostname, 80);\n    OutputStream outputToServer = serverSocket.getOutputStream();\n    //InputStream inputFromServer = serverSocket.getInputStream();\n\n    //forward request to server\n    System.out.println(\"forward request to server...\");\n    outputToServer.write(data);\n\n    //receive data from server and write response back to client\n    DataInputStream inputFromServer = new DataInputStream(serverSocket.getInputStream());\n    byte[] receivedData = new byte[1024];\n    int size;\n    while((size = inputFromServer.read(receivedData, 0, receivedData.length)) != -1)\n    {\n      System.out.println(\"write response back to client...\");\n      System.out.println(new String(receivedData));\n      outputToClient.write(receivedData, 0, size);\n      outputToClient.flush();\n    }\n\n    System.out.println(\"done sending\");\n    outputToClient.close();\n  }\n\n  //method to detect end of HTTP request\n  //return true if detected, otherwise false\n  public static boolean endOfRequest(byte[] data) throws Exception\n  {\n    System.out.println(\"parsing request..\");\n    BufferedReader br = new BufferedReader(new InputStreamReader(new ByteArrayInputStream(data)));\n    String line;\n\n    while( (line=br.readLine()) != null) {\n      if (line.equals(\"\"))\n        return true;\n    }\n    return false;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381140030,"creation_date":1381140030,"answer_id":19221850,"question_id":19207599,"body_markdown":"You&#39;re doing this all wrong. An HTTP proxy only has to read the CONNECT command, and action it. After that, you just copy bytes in both directions simultaneously as fast as possible. The more you try to understand the HTTP protocol in the proxy, the more bugs you will introduce.","title":"Proxy in Java - client not displaying response?","body":"<p>You're doing this all wrong. An HTTP proxy only has to read the CONNECT command, and action it. After that, you just copy bytes in both directions simultaneously as fast as possible. The more you try to understand the HTTP protocol in the proxy, the more bugs you will introduce.</p>\n"},{"tags":[],"owner":{"account_id":23820868,"reputation":1,"user_id":17828531,"display_name":"littlebark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654507660,"creation_date":1654500767,"answer_id":72514417,"question_id":19207599,"body_markdown":"I am looking for the anwser about how to read all data from a request.\r\n\r\n I try your answer and  use postman to post a http request.\r\nwhen http body data less than 16384(because `byte[] data = new byte[16384]`)\r\nit works well. when request body data larger than it, it will lose some data.\r\n\r\nit reappeared when i try to change the code `byte[] data = new byte[2]`, and set request body ({\r\n    aaa\r\n    \r\n})\r\nwitch body data with blank and new line.\r\nand i post a request then i lose all the body data.\r\nBecause function `endOfRequest(byte[] data)` think request data gets to end, and the code jump out the while loop.\r\n\r\n\r\nlater I saw the http Protocol, it use a empty line to separate request header and request body.\r\nand in the header  &quot;Content-Length&quot; mark the length of  body data.\r\nSo the better solution is that  find the request body and read the content-length data instead of using method endOfRequest() to jump out the while loop.\r\n\r\n","title":"Proxy in Java - client not displaying response?","body":"<p>I am looking for the anwser about how to read all data from a request.</p>\n<p>I try your answer and  use postman to post a http request.\nwhen http body data less than 16384(because <code>byte[] data = new byte[16384]</code>)\nit works well. when request body data larger than it, it will lose some data.</p>\n<p>it reappeared when i try to change the code <code>byte[] data = new byte[2]</code>, and set request body ({\naaa</p>\n<p>})\nwitch body data with blank and new line.\nand i post a request then i lose all the body data.\nBecause function <code>endOfRequest(byte[] data)</code> think request data gets to end, and the code jump out the while loop.</p>\n<p>later I saw the http Protocol, it use a empty line to separate request header and request body.\nand in the header  &quot;Content-Length&quot; mark the length of  body data.\nSo the better solution is that  find the request body and read the content-length data instead of using method endOfRequest() to jump out the while loop.</p>\n"}],"owner":{"account_id":1144015,"reputation":623,"user_id":1127188,"accept_rate":67,"display_name":"uohzxela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19221203,"answer_count":4,"score":0,"last_activity_date":1654507660,"creation_date":1381053799,"question_id":19207599,"body_markdown":"My programming assignment requires me to create a proxy in between client and server. \r\nMy client make a request to server through the proxy, then the proxy forwards it and returns back the response from the server to the client.\r\n\r\nHere&#39;s the steps I took:\r\n\r\n1) get request from client and store the request data into a byte array\r\n\r\n2) read from the byte array using buffered reader\r\n\r\n3) get the host name from the Host: header field and create a serverSocket with it\r\n\r\n4) forward the request data to the serverSocket outputstream\r\n\r\n5) retrieve the response data from the serverSocket inputstream into another byte array\r\n\r\n6) write contents from the byte array into clientSocket output stream\r\n\r\nHowever, after step 6, the browser is unable to display the response data. Any help?\r\n\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.*;\r\n    \r\n    public class proxy2 {\r\n    \r\n      public static void main(String args[]) throws Exception\r\n      {\r\n        int port = Integer.parseInt(args[0]);\r\n        File fileSub= new File(args[1]); //fileSub\r\n        File fileRediect = new File(args[2]); //fileRedirect\r\n        \r\n        ServerSocket listener = new ServerSocket(port);\r\n        \r\n        \r\n        while (true) {\r\n          proxy_func(listener.accept());\r\n          \r\n        }\r\n        \r\n      }\r\n      \r\n      public static void proxy_func(Socket clientSocket) throws Exception{\r\n    \r\n        OutputStream outputToClient = clientSocket.getOutputStream();\r\n        \r\n        //store clientSocket&#39;s inputstream into a buffer\r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        int nRead; //start offset in the data\r\n        byte[] data = new byte[16384]; //create byte array\r\n        //read each byte from InputStream and write it to a ByteArrayOutputStream\r\n        while((nRead = clientSocket.getInputStream().read(data, 0, data.length)) != -1) {\r\n          buffer.write(data, 0, nRead); \r\n        }\r\n        buffer.flush(); //forces any buffered bytes to be written out\r\n        data = buffer.toByteArray(); //retrieve the underlying byte array \r\n        System.out.println(new String(data));\r\n        \r\n        //create buffer reader for clientSocket&#39;s inputstream\r\n        InputStream inputStream = new ByteArrayInputStream(data);\r\n        BufferedReader readFromClient = new BufferedReader(new InputStreamReader(inputStream));\r\n        \r\n        String[] strArr;\r\n        String line;\r\n        String hostname = null;\r\n        \r\n        //get hostname\r\n        while(  (line=readFromClient.readLine()) != null)\r\n        {\r\n          strArr = line.split(&quot; &quot;);\r\n          if(strArr[0].equals(&quot;Host:&quot;))\r\n            hostname = strArr[1];\r\n        }\r\n        System.out.println(&quot;Host: &quot; + hostname);\r\n        \r\n        //create server socket\r\n        Socket serverSocket = new Socket(hostname, 80);\r\n        OutputStream outputToServer = serverSocket.getOutputStream();\r\n        InputStream inputFromServer = serverSocket.getInputStream();\r\n        \r\n        //forward request to server\r\n        System.out.println(&quot;forward request to server...&quot;);\r\n        outputToServer.write(data);\r\n        \r\n        //receive data from server and write response back to client\r\n        byte[] receivedData = new byte[16384];\r\n        int size;\r\n        while((size = inputFromServer.read(receivedData)) != -1)\r\n        {\r\n          System.out.println(&quot;write response back to client...&quot;);\r\n          System.out.println(&quot;size: &quot; + size);\r\n          System.out.println(new String(receivedData));\r\n          outputToClient.write(receivedData, 0, size);\r\n        }\r\n    \r\n        System.out.println(&quot;flushing...&quot;);\r\n        outputToClient.flush();\r\n        outputToClient.close();\r\n      }\r\n    }\r\n      \r\n\r\nSo basically I follow this layout for the I/O:\r\n\r\n    {\r\n        OutputStream outputToClient = clientSocket.getOutputStream();\r\n        BufferedReader readFromClient = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n    \r\n        //step 1\r\n        //get the HTTP request header from your firefox\r\n        String line = readFromClient.readLine();\r\n    \r\n        //if the Content_Length within the HTTP header exists and not equals to 0\r\n        char [] buffer = new char [#];\r\n        readFromClient.read(buffer, 0, Content_Length); //get the body message\r\n    \r\n        OutputStream outputToServer = serverSocket.getOutputStream();\r\n        InputStream inputFromServer = serverSocket.getInputStream();\r\n        //step 2\r\n        outputToServer.write(Bytes[])  //forword the HTTP requests to server host.\r\n    \r\n        //step 3\r\n        byte[] data = new byte[#];\r\n        while ((size = inputFromServer.read(data)) != -1)   //get the response data from server\r\n        {\r\n            //step 4\r\n            outputToClient.write(data, 0, size);    //forward the data to your firefox\r\n        }\r\n    }\r\n\r\n","title":"Proxy in Java - client not displaying response?","body":"<p>My programming assignment requires me to create a proxy in between client and server. \nMy client make a request to server through the proxy, then the proxy forwards it and returns back the response from the server to the client.</p>\n\n<p>Here's the steps I took:</p>\n\n<p>1) get request from client and store the request data into a byte array</p>\n\n<p>2) read from the byte array using buffered reader</p>\n\n<p>3) get the host name from the Host: header field and create a serverSocket with it</p>\n\n<p>4) forward the request data to the serverSocket outputstream</p>\n\n<p>5) retrieve the response data from the serverSocket inputstream into another byte array</p>\n\n<p>6) write contents from the byte array into clientSocket output stream</p>\n\n<p>However, after step 6, the browser is unable to display the response data. Any help?</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class proxy2 {\n\n  public static void main(String args[]) throws Exception\n  {\n    int port = Integer.parseInt(args[0]);\n    File fileSub= new File(args[1]); //fileSub\n    File fileRediect = new File(args[2]); //fileRedirect\n\n    ServerSocket listener = new ServerSocket(port);\n\n\n    while (true) {\n      proxy_func(listener.accept());\n\n    }\n\n  }\n\n  public static void proxy_func(Socket clientSocket) throws Exception{\n\n    OutputStream outputToClient = clientSocket.getOutputStream();\n\n    //store clientSocket's inputstream into a buffer\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    int nRead; //start offset in the data\n    byte[] data = new byte[16384]; //create byte array\n    //read each byte from InputStream and write it to a ByteArrayOutputStream\n    while((nRead = clientSocket.getInputStream().read(data, 0, data.length)) != -1) {\n      buffer.write(data, 0, nRead); \n    }\n    buffer.flush(); //forces any buffered bytes to be written out\n    data = buffer.toByteArray(); //retrieve the underlying byte array \n    System.out.println(new String(data));\n\n    //create buffer reader for clientSocket's inputstream\n    InputStream inputStream = new ByteArrayInputStream(data);\n    BufferedReader readFromClient = new BufferedReader(new InputStreamReader(inputStream));\n\n    String[] strArr;\n    String line;\n    String hostname = null;\n\n    //get hostname\n    while(  (line=readFromClient.readLine()) != null)\n    {\n      strArr = line.split(\" \");\n      if(strArr[0].equals(\"Host:\"))\n        hostname = strArr[1];\n    }\n    System.out.println(\"Host: \" + hostname);\n\n    //create server socket\n    Socket serverSocket = new Socket(hostname, 80);\n    OutputStream outputToServer = serverSocket.getOutputStream();\n    InputStream inputFromServer = serverSocket.getInputStream();\n\n    //forward request to server\n    System.out.println(\"forward request to server...\");\n    outputToServer.write(data);\n\n    //receive data from server and write response back to client\n    byte[] receivedData = new byte[16384];\n    int size;\n    while((size = inputFromServer.read(receivedData)) != -1)\n    {\n      System.out.println(\"write response back to client...\");\n      System.out.println(\"size: \" + size);\n      System.out.println(new String(receivedData));\n      outputToClient.write(receivedData, 0, size);\n    }\n\n    System.out.println(\"flushing...\");\n    outputToClient.flush();\n    outputToClient.close();\n  }\n}\n</code></pre>\n\n<p>So basically I follow this layout for the I/O:</p>\n\n<pre><code>{\n    OutputStream outputToClient = clientSocket.getOutputStream();\n    BufferedReader readFromClient = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n    //step 1\n    //get the HTTP request header from your firefox\n    String line = readFromClient.readLine();\n\n    //if the Content_Length within the HTTP header exists and not equals to 0\n    char [] buffer = new char [#];\n    readFromClient.read(buffer, 0, Content_Length); //get the body message\n\n    OutputStream outputToServer = serverSocket.getOutputStream();\n    InputStream inputFromServer = serverSocket.getInputStream();\n    //step 2\n    outputToServer.write(Bytes[])  //forword the HTTP requests to server host.\n\n    //step 3\n    byte[] data = new byte[#];\n    while ((size = inputFromServer.read(data)) != -1)   //get the response data from server\n    {\n        //step 4\n        outputToClient.write(data, 0, size);    //forward the data to your firefox\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","optimization","mxparser"],"answers":[{"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654467620,"creation_date":1654467620,"answer_id":72511498,"question_id":72511015,"body_markdown":"You have made a few &quot;mistakes&quot; in the approach - basically **all the objects (e.g.: Functions, Arguments, Expressions) should be declared before the loop and pre-compiled** Otherwise, in each cycle of the for loop, you create many new unnecessary instances. Object creation is heavy as math grammar analysis has to be applied resulting in syntax checking and string tokenization.\r\n\r\nThe best way is to follow **mXparser&#39;s Tutorial**: https://mathparser.org/mxparser-tutorial/\r\n- Section on **expression pre-compilation**: https://mathparser.org/mxparser-tutorial/expression-pre-compilation/\r\n- Section on **efficient calculation in loops**: https://mathparser.org/mxparser-tutorial/efficient-calculations-in-loops/\r\n- Section on **smart rounding settings**: https://mathparser.org/mxparser-tutorial/smart-rounding-settings/","title":"Can I make mXparser algorithm run faster","body":"<p>You have made a few &quot;mistakes&quot; in the approach - basically <strong>all the objects (e.g.: Functions, Arguments, Expressions) should be declared before the loop and pre-compiled</strong> Otherwise, in each cycle of the for loop, you create many new unnecessary instances. Object creation is heavy as math grammar analysis has to be applied resulting in syntax checking and string tokenization.</p>\n<p>The best way is to follow <strong>mXparser's Tutorial</strong>: <a href=\"https://mathparser.org/mxparser-tutorial/\" rel=\"nofollow noreferrer\">https://mathparser.org/mxparser-tutorial/</a></p>\n<ul>\n<li>Section on <strong>expression pre-compilation</strong>: <a href=\"https://mathparser.org/mxparser-tutorial/expression-pre-compilation/\" rel=\"nofollow noreferrer\">https://mathparser.org/mxparser-tutorial/expression-pre-compilation/</a></li>\n<li>Section on <strong>efficient calculation in loops</strong>: <a href=\"https://mathparser.org/mxparser-tutorial/efficient-calculations-in-loops/\" rel=\"nofollow noreferrer\">https://mathparser.org/mxparser-tutorial/efficient-calculations-in-loops/</a></li>\n<li>Section on <strong>smart rounding settings</strong>: <a href=\"https://mathparser.org/mxparser-tutorial/smart-rounding-settings/\" rel=\"nofollow noreferrer\">https://mathparser.org/mxparser-tutorial/smart-rounding-settings/</a></li>\n</ul>\n"}],"owner":{"account_id":25327349,"reputation":1,"user_id":19147774,"display_name":"developerDave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654507421,"creation_date":1654462132,"question_id":72511015,"body_markdown":"I made a basic graph plotter in Java using the mXparser library. Now, it does its job just fine, the only problem is that the program itself takes about 2.5 seconds to draw a basic function, like x^2. Can I somehow optimize the algorithm so that it only takes maybe 1-1.6 seconds? I&#39;ll leave the code down below. \r\n\r\n```java\r\npackage rechner;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Line2D;\r\nimport org.mariuszgromada.math.mxparser.Argument;\r\nimport org.mariuszgromada.math.mxparser.Expression;\r\nimport org.mariuszgromada.math.mxparser.Function;\r\n\r\nimport oberflaeche.GUI_Controller;\r\n\r\npublic class drawFunction {\r\n\r\n    \r\n\tprivate static final double STEP_VALUE = 0.01;\r\n\tprivate int width;\r\n\tprivate int height;\r\n\tGraphics2D g2;\r\n\tGUI_Controller GUI;\r\n\tColor cornBlue = new Color(100, 149, 237);\r\n\tFont mediumFont = new Font(&quot;Times New Roman&quot;, Font.ITALIC, 25);\r\n\tFont bigFont = new Font(&quot;Times New Roman&quot;, Font.ITALIC, 50);\r\n\t\r\n\tpublic drawFunction(int w, int h, GUI_Controller newGUI) {\r\n\t\twidth = w;\r\n\t\theight = h;\r\n\t\tGUI = newGUI;\r\n\t}\r\n\t\r\n\tpublic void drawFunc(Graphics2D g2) {\r\n\t\t\r\n\t\tint originX = width / 2 - 100;\r\n\t\tint originY = height / 2 + 100;\r\n\t\tfor(double x = -13; x &lt;= 17; x += STEP_VALUE) {\r\n\t\t\t// PROGRAM SHOULD READ THE FUNCTION AND CALCULATE THE Y VALUE\r\n\t\t\tString function = GUI.getFunction();\r\n\t\t\tFunction A1 = new Function(function);\r\n\t\t\t// REPLACES THE X IN THE STRING WITH THE INTEGER X THAT HAS A VALUE\r\n\t\t\tArgument x1 = new Argument(&quot;x = &quot; + x);\r\n\t\t\tExpression E1 = new Expression(&quot;f(x)&quot;, A1, x1);\r\n\t\t\tdouble y = E1.calculate();\r\n\t\t\tg2.setColor(cornBlue);\r\n\t\t\tdouble xPixel = x * 50;\r\n\t\t\tdouble yPixel = y * 50;\r\n\t\t\tLine2D.Double dot = new Line2D.Double(originX + xPixel, originY - yPixel, originX + xPixel + STEP_VALUE, originY - yPixel - STEP_VALUE);\r\n\t\t\tg2.draw(dot);\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```","title":"Can I make mXparser algorithm run faster","body":"<p>I made a basic graph plotter in Java using the mXparser library. Now, it does its job just fine, the only problem is that the program itself takes about 2.5 seconds to draw a basic function, like x^2. Can I somehow optimize the algorithm so that it only takes maybe 1-1.6 seconds? I'll leave the code down below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package rechner;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Line2D;\nimport org.mariuszgromada.math.mxparser.Argument;\nimport org.mariuszgromada.math.mxparser.Expression;\nimport org.mariuszgromada.math.mxparser.Function;\n\nimport oberflaeche.GUI_Controller;\n\npublic class drawFunction {\n\n    \n    private static final double STEP_VALUE = 0.01;\n    private int width;\n    private int height;\n    Graphics2D g2;\n    GUI_Controller GUI;\n    Color cornBlue = new Color(100, 149, 237);\n    Font mediumFont = new Font(&quot;Times New Roman&quot;, Font.ITALIC, 25);\n    Font bigFont = new Font(&quot;Times New Roman&quot;, Font.ITALIC, 50);\n    \n    public drawFunction(int w, int h, GUI_Controller newGUI) {\n        width = w;\n        height = h;\n        GUI = newGUI;\n    }\n    \n    public void drawFunc(Graphics2D g2) {\n        \n        int originX = width / 2 - 100;\n        int originY = height / 2 + 100;\n        for(double x = -13; x &lt;= 17; x += STEP_VALUE) {\n            // PROGRAM SHOULD READ THE FUNCTION AND CALCULATE THE Y VALUE\n            String function = GUI.getFunction();\n            Function A1 = new Function(function);\n            // REPLACES THE X IN THE STRING WITH THE INTEGER X THAT HAS A VALUE\n            Argument x1 = new Argument(&quot;x = &quot; + x);\n            Expression E1 = new Expression(&quot;f(x)&quot;, A1, x1);\n            double y = E1.calculate();\n            g2.setColor(cornBlue);\n            double xPixel = x * 50;\n            double yPixel = y * 50;\n            Line2D.Double dot = new Line2D.Double(originX + xPixel, originY - yPixel, originX + xPixel + STEP_VALUE, originY - yPixel - STEP_VALUE);\n            g2.draw(dot);\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654507339,"creation_date":1654507339,"answer_id":72515583,"question_id":72514052,"body_markdown":"Lambda keeps the process of your Lambda function&#39;s invocation around for a certain unspecified amount of time (in the order of a few minutes).\r\n\r\nSo, after you deploy a new version (or a first version) of your Lambda function or after you waited for said unspecified amount of time and then invoke your Lambda function, the Lambda runtime will instantiate a new small container with your Lambda function as a process living inside of it.\r\n\r\nThis container and your process is then used to handle the Lambda invocation and then gets dormant (no CPU time issued to the process). However, the process itself and all of its memory is still kept around.\r\n\r\nWhen, within said unspecified time interval, your Lambda function is invoked again, then the Lambda runtime will know that it still has a created instance of your Lambda function&#39;s container lying around and will then give the container CPU time to execute your Lambda handler. Once it returns, the container falls to sleep again.\r\n\r\nWe say that a Lambda function is &quot;cold&quot; when no container for it is currently created by the Lambda runtime. Likewise, we say that a Lambda function is &quot;warm&quot; whenever the interval since the last invocation was within said unspecified time such that the Lambda runtime is still keeping an instantiated container around for your Lambda function.\r\n\r\nSo, whatever you are doing in your process (JVM process, Spring application), notably storing things in memory, will still be around when your Lambda function is called while it is &quot;warm&quot;.\r\n\r\nWhen your Lambda function errors after having been called two or more times in quick succession, then that means that you are storing/caching some state in-process in memory between invocations which in your case results in an error.\r\n\r\nTo avoid this, you must, in principle, design Lambda functions such that they are stateless (nothing is shared/kept in memory between invocations). However, in order to improve runtime performance and take advantage of the fact that your Lambda function will be &quot;warm&quot; for a certain amount of time, you can cache certain things, such as database connections or AWS SDK client instantiations. Basically, everything you would do once after your application starts up.","title":"Run one by one lambda on AWS. The second run always throw an exception for the same process","body":"<p>Lambda keeps the process of your Lambda function's invocation around for a certain unspecified amount of time (in the order of a few minutes).</p>\n<p>So, after you deploy a new version (or a first version) of your Lambda function or after you waited for said unspecified amount of time and then invoke your Lambda function, the Lambda runtime will instantiate a new small container with your Lambda function as a process living inside of it.</p>\n<p>This container and your process is then used to handle the Lambda invocation and then gets dormant (no CPU time issued to the process). However, the process itself and all of its memory is still kept around.</p>\n<p>When, within said unspecified time interval, your Lambda function is invoked again, then the Lambda runtime will know that it still has a created instance of your Lambda function's container lying around and will then give the container CPU time to execute your Lambda handler. Once it returns, the container falls to sleep again.</p>\n<p>We say that a Lambda function is &quot;cold&quot; when no container for it is currently created by the Lambda runtime. Likewise, we say that a Lambda function is &quot;warm&quot; whenever the interval since the last invocation was within said unspecified time such that the Lambda runtime is still keeping an instantiated container around for your Lambda function.</p>\n<p>So, whatever you are doing in your process (JVM process, Spring application), notably storing things in memory, will still be around when your Lambda function is called while it is &quot;warm&quot;.</p>\n<p>When your Lambda function errors after having been called two or more times in quick succession, then that means that you are storing/caching some state in-process in memory between invocations which in your case results in an error.</p>\n<p>To avoid this, you must, in principle, design Lambda functions such that they are stateless (nothing is shared/kept in memory between invocations). However, in order to improve runtime performance and take advantage of the fact that your Lambda function will be &quot;warm&quot; for a certain amount of time, you can cache certain things, such as database connections or AWS SDK client instantiations. Basically, everything you would do once after your application starts up.</p>\n"}],"owner":{"account_id":16959839,"reputation":1945,"user_id":12267227,"display_name":"Silny ToJa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72515583,"answer_count":1,"score":1,"last_activity_date":1654507339,"creation_date":1654498569,"question_id":72514052,"body_markdown":"I have app in java on lambda AWS. When I run the test for lambda it analyzes the file from S3 and creates output. When I run first time after deploying a new image for lambda it always processes with successful status. Also when I will wait some time and run this process again it will end the successful status. \r\n\r\nBut If I run 2 or more lambdas one by one it throws exceptions for the next lambda when trying to read the file from S3 (I am always using another copy of the same file).\r\nIn the java application, I am using the Spring framework. \r\n\r\nIt looks like lambda was holding states for some objects, and the next lambda that starts up has been using these objects.\r\n\r\nWhat can I do with this?","title":"Run one by one lambda on AWS. The second run always throw an exception for the same process","body":"<p>I have app in java on lambda AWS. When I run the test for lambda it analyzes the file from S3 and creates output. When I run first time after deploying a new image for lambda it always processes with successful status. Also when I will wait some time and run this process again it will end the successful status.</p>\n<p>But If I run 2 or more lambdas one by one it throws exceptions for the next lambda when trying to read the file from S3 (I am always using another copy of the same file).\nIn the java application, I am using the Spring framework.</p>\n<p>It looks like lambda was holding states for some objects, and the next lambda that starts up has been using these objects.</p>\n<p>What can I do with this?</p>\n"},{"tags":["java","spring-boot","azure","azure-web-app-service","vaadin"],"answers":[{"tags":[],"owner":{"account_id":23585381,"reputation":837,"user_id":17623897,"display_name":"SuryasriKamini-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654507218,"creation_date":1654507218,"answer_id":72515560,"question_id":72501818,"body_markdown":"Try to resolve the error by adding the following in $TOMCAT_HOME/conf/server.xml  \r\nTo avoid memory leaks, Tomcat disables the loading of Java driver files by default.\r\n```xml\r\n&lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; driverManagerProtection=&quot;false&quot; /&gt;\r\n```\r\nAlso, if you&#39;re creating a spring boot application, add &quot;SpringBootServletInitializer&quot; to your main file, as seen in the code below. As without SpringBootServletInitializer, Tomcat will see it as a regular application rather than a Spring boot application.\r\n```scala\r\n@SpringBootApplication\r\npublic class DemoApplication extends *SpringBootServletInitializer*{\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n         return application.sources(DemoApplication .class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n         SpringApplication.run(DemoApplication .class, args);\r\n    }\r\n}\r\n```\r\nReferences:    \r\n[The origin server did not find a current representation for the target resource or is not willing to disclose that one exists](https://stackoverflow.com/questions/43931383/the-origin-server-did-not-find-a-current-representation-for-the-target-resource) ,       \r\n [Tomcat 404 error: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists [duplicate]](https://stackoverflow.com/questions/43186315/tomcat-404-error-the-origin-server-did-not-find-a-current-representation-for-th)","title":"Why I getting 404 error on my Vaadin app in azure?","body":"<p>Try to resolve the error by adding the following in $TOMCAT_HOME/conf/server.xml<br />\nTo avoid memory leaks, Tomcat disables the loading of Java driver files by default.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; driverManagerProtection=&quot;false&quot; /&gt;\n</code></pre>\n<p>Also, if you're creating a spring boot application, add &quot;SpringBootServletInitializer&quot; to your main file, as seen in the code below. As without SpringBootServletInitializer, Tomcat will see it as a regular application rather than a Spring boot application.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication extends *SpringBootServletInitializer*{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n         return application.sources(DemoApplication .class);\n    }\n\n    public static void main(String[] args) {\n         SpringApplication.run(DemoApplication .class, args);\n    }\n}\n</code></pre>\n<p>References:<br />\n<a href=\"https://stackoverflow.com/questions/43931383/the-origin-server-did-not-find-a-current-representation-for-the-target-resource\">The origin server did not find a current representation for the target resource or is not willing to disclose that one exists</a> ,<br />\n<a href=\"https://stackoverflow.com/questions/43186315/tomcat-404-error-the-origin-server-did-not-find-a-current-representation-for-th\">Tomcat 404 error: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists [duplicate]</a></p>\n"}],"owner":{"account_id":21927121,"reputation":1,"user_id":16209561,"display_name":"Kjean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654507218,"creation_date":1654364014,"question_id":72501818,"body_markdown":"I&#39;m trying to run Vaadin app on azure and I constantly getting error 404. It&#39;s basic app with only 2 classes - from spring initializr and one my class.  \r\n\r\n   \r\n\r\n     import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class WsbProjektZalApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WsbProjektZalApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    \r\n    public class ServletInitializer extends SpringBootServletInitializer {\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(WsbProjektZalApplication.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd one my class\r\n\r\n    import com.vaadin.flow.component.html.H1;\r\n    import com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\n    import com.vaadin.flow.router.Route;\r\n    \r\n    @Route(&quot;/co&quot;)\r\n    public class ListView extends VerticalLayout {\r\n    \r\n        public ListView() {\r\n            add(new H1(&quot;działa chyba totto&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy pom file is default and I wasn&#39;t editing it.\r\n\r\n   \r\n\r\n     ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;zaliczenie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wsb-projekt-zal&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;wsb-projekt-zal&lt;/name&gt;\r\n        &lt;description&gt;wsb-projekt-zal&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;vaadin.version&gt;23.0.10&lt;/vaadin.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nI&#39;m trying to run this app with war artifacts on tomcat 9. Problems occur only with Vaadin, I can run this app locally without any problems. Can somebody help me and tell me where I&#39;m making mistake?\r\nScreen of error below. \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/37AXC.png","title":"Why I getting 404 error on my Vaadin app in azure?","body":"<p>I'm trying to run Vaadin app on azure and I constantly getting error 404. It's basic app with only 2 classes - from spring initializr and one my class.</p>\n<pre><code> import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class WsbProjektZalApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WsbProjektZalApplication.class, args);\n    }\n\n}\n\n\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(WsbProjektZalApplication.class);\n    }\n\n}\n</code></pre>\n<p>And one my class</p>\n<pre><code>import com.vaadin.flow.component.html.H1;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.router.Route;\n\n@Route(&quot;/co&quot;)\npublic class ListView extends VerticalLayout {\n\n    public ListView() {\n        add(new H1(&quot;działa chyba totto&quot;));\n    }\n\n}\n</code></pre>\n<p>My pom file is default and I wasn't editing it.</p>\n<pre><code> ?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;zaliczenie&lt;/groupId&gt;\n    &lt;artifactId&gt;wsb-projekt-zal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;wsb-projekt-zal&lt;/name&gt;\n    &lt;description&gt;wsb-projekt-zal&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;23.0.10&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n            &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I'm trying to run this app with war artifacts on tomcat 9. Problems occur only with Vaadin, I can run this app locally without any problems. Can somebody help me and tell me where I'm making mistake?\nScreen of error below.\n<a href=\"https://i.stack.imgur.com/37AXC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","eclipse","installation"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1654507533,"post_id":72507726,"comment_id":128098995,"body_markdown":"According to your first screenshot you are using Eclipse Oxygen which is a couple of years and 16 releases behind and which does not work with recent Java versions. Use Eclipse 2022-03 instead.","body":"According to your first screenshot you are using Eclipse Oxygen which is a couple of years and 16 releases behind and which does not work with recent Java versions. Use Eclipse 2022-03 instead."}],"owner":{"account_id":18397532,"reputation":70,"user_id":13401546,"display_name":"Sagir Musa Umar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654506731,"creation_date":1654435817,"question_id":72507726,"body_markdown":"How can i fix the Error message &quot;The code execution cannot proceed because jli.dll was not found. Reinstalling the Program may fix this problem.&quot; while installing eclipse.\r\n\r\n[![Screenshot of the Error message][1]][1]\r\n\r\nAfter the above Error message, **i copy javaw.exe** as stated here: https://stackoverflow.com/questions/4419983/a-jre-or-jdk-must-be-available-in-order-to-run-eclipse-no-jvm-was-found-after-s \r\n\r\n**After pasting the javaw.exe** to the eclipse folder, i Double click the Eclipse.exe to run, the error message below show up\r\n[![After copying javaw.exe to eclipse folder][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qwk1I.jpg\r\n  [2]: https://i.stack.imgur.com/WWeWH.jpg","title":"How to fix &quot;The code execution cannot proceed because jli.dll was not found. Reinstalling the Program may fix this problem.&quot; While installing eclipse","body":"<p>How can i fix the Error message &quot;The code execution cannot proceed because jli.dll was not found. Reinstalling the Program may fix this problem.&quot; while installing eclipse.</p>\n<p><a href=\"https://i.stack.imgur.com/qwk1I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qwk1I.jpg\" alt=\"Screenshot of the Error message\" /></a></p>\n<p>After the above Error message, <strong>i copy javaw.exe</strong> as stated here: <a href=\"https://stackoverflow.com/questions/4419983/a-jre-or-jdk-must-be-available-in-order-to-run-eclipse-no-jvm-was-found-after-s\">A JRE or JDK must be available in order to run Eclipse. No JVM was found after searching the following locations</a></p>\n<p><strong>After pasting the javaw.exe</strong> to the eclipse folder, i Double click the Eclipse.exe to run, the error message below show up\n<a href=\"https://i.stack.imgur.com/WWeWH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWeWH.jpg\" alt=\"After copying javaw.exe to eclipse folder\" /></a></p>\n"},{"tags":["java","swing","swingworker","swingutilities"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654505078,"post_id":72514952,"comment_id":128098253,"body_markdown":"I think you are starting &quot;doIt&quot; on the EDT and therefore all of your techniques are blocking the EDT. Your second version is the most correct but you call &quot;worker.get&quot; which is going to block.","body":"I think you are starting &quot;doIt&quot; on the EDT and therefore all of your techniques are blocking the EDT. Your second version is the most correct but you call &quot;worker.get&quot; which is going to block."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1654505172,"post_id":72514952,"comment_id":128098286,"body_markdown":"You are not new to Stack Overflow.  Create a [mre] that we can copy and actually run in our IDE and maybe we will be better able to help.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"You are not new to Stack Overflow.  Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy and actually run in our IDE and maybe we will be better able to help.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654506143,"post_id":72514952,"comment_id":128098575,"body_markdown":"&quot;Here is the WaitDialog which I want to show (I also tried to inherit from JDialog - no change)&quot; You should use a JDialog, the fact it doesn&#39;t solve this particular problem is a coincidence.","body":"&quot;Here is the WaitDialog which I want to show (I also tried to inherit from JDialog - no change)&quot; You should use a JDialog, the fact it doesn&#39;t solve this particular problem is a coincidence."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654505818,"creation_date":1654505417,"answer_id":72515201,"question_id":72514952,"body_markdown":"The way swing works is you have the Event Dispatch Thread (EDT) that is constantly running and processing GUI events. When you have a long running task, you run it on a different thread, then tell the EDT that your are finished.\r\n\r\n**Is &quot;doIt&quot; being called on the EDT?** eg did you start it from an event like a button? I am going to assume it is.\r\n\r\nAll of your versions are blocking &quot;doIt&quot; until after the result is finished. You need to let doIt finish. I would suggest a call back.\r\n\r\n    public void processResult( Result result){\r\n      //this should be a continuation of the code from where you call doIt\r\n    }\r\n\r\nThen in second version you can update it.\r\n\r\n    public void doIt(String fileName) throws Exception {\r\n        \r\n        WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);          \r\n        \r\n        SwingWorker&lt;Result,Void&gt; worker = new SwingWorker&lt;Result,Void&gt;() {                          \r\n            @Override\r\n            protected Result doInBackground() throws Exception {\r\n                InputStream inputStream = new BufferedInputStream(new   FileInputStream(fileName));\r\n        \r\n                Result result = ansicht.calculateResult(inputStream);  // Java3D calculation\r\n                return result;                                                                  \r\n            }\r\n\r\n            @Override\r\n            protected void done() {\r\n                waitDialog.close();\r\n                processResult( get() );                                                             \r\n            }\r\n        };\r\n        worker.execute();                                                                       \r\n        \r\n        //this is blocking and preventing your gui from updating.\r\n        //Result result = worker.get();\r\n        //return result;\r\n    }\r\n\r\nThis is the worst version of your code.\r\n\r\n    SwingUtilities.invokeAndWait(() -&gt; {\r\n            try {\r\n                result = ansicht.calculateResult(inputStream);  // Java3D calculation\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\nThat you are literally posting your long running task to the EDT and blocking the current thread, which I suspect is also the EDT. \r\n\r\n","title":"Java Swing Wait message will not show up","body":"<p>The way swing works is you have the Event Dispatch Thread (EDT) that is constantly running and processing GUI events. When you have a long running task, you run it on a different thread, then tell the EDT that your are finished.</p>\n<p><strong>Is &quot;doIt&quot; being called on the EDT?</strong> eg did you start it from an event like a button? I am going to assume it is.</p>\n<p>All of your versions are blocking &quot;doIt&quot; until after the result is finished. You need to let doIt finish. I would suggest a call back.</p>\n<pre><code>public void processResult( Result result){\n  //this should be a continuation of the code from where you call doIt\n}\n</code></pre>\n<p>Then in second version you can update it.</p>\n<pre><code>public void doIt(String fileName) throws Exception {\n    \n    WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);          \n    \n    SwingWorker&lt;Result,Void&gt; worker = new SwingWorker&lt;Result,Void&gt;() {                          \n        @Override\n        protected Result doInBackground() throws Exception {\n            InputStream inputStream = new BufferedInputStream(new   FileInputStream(fileName));\n    \n            Result result = ansicht.calculateResult(inputStream);  // Java3D calculation\n            return result;                                                                  \n        }\n\n        @Override\n        protected void done() {\n            waitDialog.close();\n            processResult( get() );                                                             \n        }\n    };\n    worker.execute();                                                                       \n    \n    //this is blocking and preventing your gui from updating.\n    //Result result = worker.get();\n    //return result;\n}\n</code></pre>\n<p>This is the worst version of your code.</p>\n<pre><code>SwingUtilities.invokeAndWait(() -&gt; {\n        try {\n            result = ansicht.calculateResult(inputStream);  // Java3D calculation\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n</code></pre>\n<p>That you are literally posting your long running task to the EDT and blocking the current thread, which I suspect is also the EDT.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654506398,"creation_date":1654506398,"answer_id":72515391,"question_id":72514952,"body_markdown":"In addition to (and hopefully supporting) matt&#39;s answer.\r\n\r\nSwing is not thread and is single threaded, this means that you should try and update the state of the UI (or anything the UI relies on) from outside the context of the Event Dispatching Thread or execute long running or blocking operations from within the context of the Event Dispatching Thread.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nThe important point here is the [`SwingWorker#get`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html#get()) method.  The JavaDocs state:\r\n\r\n&gt; Waits if necessary for the computation to complete, and then retrieves its result.&lt;br&gt;&lt;br&gt;\r\nNote: calling get on the Event Dispatch Thread blocks all events, including repaints, from being processed until this SwingWorker is complete.&lt;br&gt;&lt;br&gt;\r\nWhen you want the SwingWorker to block on the Event Dispatch Thread we recommend that you use a modal dialog.\r\n\r\nThis would go a long way to explaining your issue.\r\n\r\nThe following is another possible approach.  It makes use of dedicated `SwingWorker`...\r\n\r\n    public class MagicWorker extends SwingWorker&lt;String, Void&gt; {\r\n        @Override\r\n        protected String doInBackground() throws Exception {\r\n            // This is where the  magic happens\r\n            Thread.sleep(5000);\r\n            return &quot;Rabbit&quot;;\r\n        }\r\n    }\r\n\r\nand is monitored through the use of `PropertyChangeListener`...\r\n\r\n    worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n        @Override\r\n        public void propertyChange(PropertyChangeEvent evt) {\r\n            if (worker.getState() == SwingWorker.StateValue.DONE) {\r\n                dialog.dispose();\r\n                try {\r\n                    String magic = worker.get();\r\n                    observer.magicDidHappen(magic);\r\n                } catch (InterruptedException | ExecutionException ex) {\r\n                    observer.magicDidFailToHappen(ex);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nand makes use of an observer (AKA listener) to notify the caller that the operation completed or failed, so that the interested party can deal with the result of the operation.\r\n\r\nIt&#39;s important to note that this is just one way you might achieve this and matt&#39;s solution is also a valid solution!\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import java.util.concurrent.ExecutionException;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JProgressBar;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.SwingWorker;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            public interface MagicObserver {\r\n                public void magicDidHappen(String result);\r\n                public void magicDidFailToHappen(Exception exp);\r\n            }\r\n\r\n            public MainPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n\r\n                JButton makeMagic = new JButton(&quot;Make the magic happen&quot;);\r\n                add(makeMagic);\r\n\r\n                makeMagic.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        makeMagic.setEnabled(false);\r\n                        makeMagic(new MagicObserver() {\r\n                            @Override\r\n                            public void magicDidHappen(String result) {\r\n                                makeMagic.setEnabled(true);\r\n                                JOptionPane.showMessageDialog(MainPane.this, result, &quot;Magic&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                            }\r\n\r\n                            @Override\r\n                            public void magicDidFailToHappen(Exception exp) {\r\n                                makeMagic.setEnabled(true);\r\n                                exp.printStackTrace();\r\n                                JOptionPane.showMessageDialog(MainPane.this, &quot;Failed to make magic&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected void makeMagic(MagicObserver observer) {\r\n                MagicWorker worker = new MagicWorker();\r\n                JDialog dialog = new JDialog(SwingUtilities.windowForComponent(this));\r\n                dialog.add(new WaitPane());\r\n                dialog.setModal(true);\r\n                dialog.setUndecorated(true);\r\n                dialog.pack();\r\n                dialog.setLocationRelativeTo(this);\r\n\r\n                worker.addPropertyChangeListener(new PropertyChangeListener() {\r\n                    @Override\r\n                    public void propertyChange(PropertyChangeEvent evt) {\r\n                        if (worker.getState() == SwingWorker.StateValue.DONE) {\r\n                            dialog.dispose();\r\n                            try {\r\n                                String magic = worker.get();\r\n                                observer.magicDidHappen(magic);\r\n                            } catch (InterruptedException | ExecutionException ex) {\r\n                                observer.magicDidFailToHappen(ex);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                worker.execute();\r\n                dialog.setVisible(true);\r\n            }\r\n\r\n        }\r\n\r\n        public class WaitPane extends JPanel {\r\n            public WaitPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n\r\n                JProgressBar progressBar = new JProgressBar();\r\n                progressBar.setIndeterminate(true);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(new JLabel(&quot;Making the magic happen&quot;), gbc);\r\n                add(progressBar, gbc);\r\n            }\r\n        }\r\n\r\n        public class MagicWorker extends SwingWorker&lt;String, Void&gt; {\r\n            @Override\r\n            protected String doInBackground() throws Exception {\r\n                // This is where the  magic happens\r\n                Thread.sleep(5000);\r\n                return &quot;Rabbit&quot;;\r\n            }\r\n        }\r\n    }\r\n","title":"Java Swing Wait message will not show up","body":"<p>In addition to (and hopefully supporting) matt's answer.</p>\n<p>Swing is not thread and is single threaded, this means that you should try and update the state of the UI (or anything the UI relies on) from outside the context of the Event Dispatching Thread or execute long running or blocking operations from within the context of the Event Dispatching Thread.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>The important point here is the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html#get()\" rel=\"nofollow noreferrer\"><code>SwingWorker#get</code></a> method.  The JavaDocs state:</p>\n<blockquote>\n<p>Waits if necessary for the computation to complete, and then retrieves its result.<br><br>\nNote: calling get on the Event Dispatch Thread blocks all events, including repaints, from being processed until this SwingWorker is complete.<br><br>\nWhen you want the SwingWorker to block on the Event Dispatch Thread we recommend that you use a modal dialog.</p>\n</blockquote>\n<p>This would go a long way to explaining your issue.</p>\n<p>The following is another possible approach.  It makes use of dedicated <code>SwingWorker</code>...</p>\n<pre><code>public class MagicWorker extends SwingWorker&lt;String, Void&gt; {\n    @Override\n    protected String doInBackground() throws Exception {\n        // This is where the  magic happens\n        Thread.sleep(5000);\n        return &quot;Rabbit&quot;;\n    }\n}\n</code></pre>\n<p>and is monitored through the use of <code>PropertyChangeListener</code>...</p>\n<pre><code>worker.addPropertyChangeListener(new PropertyChangeListener() {\n    @Override\n    public void propertyChange(PropertyChangeEvent evt) {\n        if (worker.getState() == SwingWorker.StateValue.DONE) {\n            dialog.dispose();\n            try {\n                String magic = worker.get();\n                observer.magicDidHappen(magic);\n            } catch (InterruptedException | ExecutionException ex) {\n                observer.magicDidFailToHappen(ex);\n            }\n        }\n    }\n});\n</code></pre>\n<p>and makes use of an observer (AKA listener) to notify the caller that the operation completed or failed, so that the interested party can deal with the result of the operation.</p>\n<p>It's important to note that this is just one way you might achieve this and matt's solution is also a valid solution!</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.concurrent.ExecutionException;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        public interface MagicObserver {\n            public void magicDidHappen(String result);\n            public void magicDidFailToHappen(Exception exp);\n        }\n\n        public MainPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n\n            JButton makeMagic = new JButton(&quot;Make the magic happen&quot;);\n            add(makeMagic);\n\n            makeMagic.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    makeMagic.setEnabled(false);\n                    makeMagic(new MagicObserver() {\n                        @Override\n                        public void magicDidHappen(String result) {\n                            makeMagic.setEnabled(true);\n                            JOptionPane.showMessageDialog(MainPane.this, result, &quot;Magic&quot;, JOptionPane.INFORMATION_MESSAGE);\n                        }\n\n                        @Override\n                        public void magicDidFailToHappen(Exception exp) {\n                            makeMagic.setEnabled(true);\n                            exp.printStackTrace();\n                            JOptionPane.showMessageDialog(MainPane.this, &quot;Failed to make magic&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                        }\n                    });\n                }\n            });\n        }\n\n        protected void makeMagic(MagicObserver observer) {\n            MagicWorker worker = new MagicWorker();\n            JDialog dialog = new JDialog(SwingUtilities.windowForComponent(this));\n            dialog.add(new WaitPane());\n            dialog.setModal(true);\n            dialog.setUndecorated(true);\n            dialog.pack();\n            dialog.setLocationRelativeTo(this);\n\n            worker.addPropertyChangeListener(new PropertyChangeListener() {\n                @Override\n                public void propertyChange(PropertyChangeEvent evt) {\n                    if (worker.getState() == SwingWorker.StateValue.DONE) {\n                        dialog.dispose();\n                        try {\n                            String magic = worker.get();\n                            observer.magicDidHappen(magic);\n                        } catch (InterruptedException | ExecutionException ex) {\n                            observer.magicDidFailToHappen(ex);\n                        }\n                    }\n                }\n            });\n            worker.execute();\n            dialog.setVisible(true);\n        }\n\n    }\n\n    public class WaitPane extends JPanel {\n        public WaitPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n\n            JProgressBar progressBar = new JProgressBar();\n            progressBar.setIndeterminate(true);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(8, 8, 8, 8);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(new JLabel(&quot;Making the magic happen&quot;), gbc);\n            add(progressBar, gbc);\n        }\n    }\n\n    public class MagicWorker extends SwingWorker&lt;String, Void&gt; {\n        @Override\n        protected String doInBackground() throws Exception {\n            // This is where the  magic happens\n            Thread.sleep(5000);\n            return &quot;Rabbit&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72515201,"answer_count":2,"score":0,"last_activity_date":1654506398,"creation_date":1654504073,"question_id":72514952,"body_markdown":"I have a Java3D scenegraph update task which takes 3-4 seconds on my laptop to complete. During this time I want a window showing up, asking the user to wait until the job completes. I have a simelar situation which takes longer and my implementation with a SwingWorker works fine. But when I apply the code to this update operation the dialog doesn&#39;t show up at all.\r\n\r\nHere is the WaitDialog which I want to show (I also tried to inherit from JDialog - no change)\r\n```\r\npublic class WaitDialog extends JFrame {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\t\t\t\r\n\t\r\n\tprotected int rows = 2;\r\n\tprotected int cols= 1;\r\n\tprotected int rowSpace= 12;\r\n\tprotected int colSpace= 12;\r\n\t\r\n\tpublic WaitDialog(Component parent, String message) {\r\n\t\tJPanel panel = new JPanel(new GridLayout(rows, cols, rowSpace, colSpace));\t\t\r\n\t\tpanel.setBorder( new EmptyBorder(12, 12, 12, 12) );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tpanel.add(new JLabel(message), BorderLayout.CENTER);\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tJProgressBar progressBar = new JProgressBar();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tprogressBar.setIndeterminate(true);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tpanel.add(progressBar);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tsetUndecorated(true);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tsetAlwaysOnTop(true);\r\n\t\tgetContentPane().add(panel);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tpack();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tsetLocationRelativeTo(parent);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tsetVisible(true);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\t\tsetVisible(false);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tdispose();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t}\r\n}\r\n```\r\nThe method that gives me headache looks like this...\r\n```\r\npublic Result doIt(String fileName) throws Exception {\r\n\t\t\r\n\t\tWaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);\t\t\r\n\t\t\r\n\t\tInputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\r\n\t\t\r\n\t\tResult result = ansicht.calculateResult(inputStream);  // Java3D calculation\r\n\t\t\r\n\t\twaitDialog.close();\r\n\r\n\t\treturn result;\r\n\t}\r\n```\r\nIn this version, the waitDialog is not shown but calculteResult works fine.\r\nTherefore, as indicate above, I copied the working logic from another place, which looks like this...\r\n```\r\npublic Result doIt(String fileName) throws Exception {\r\n\t\t\r\n\t\tWaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);\t\t\t\r\n\t\t\r\n\t\tSwingWorker&lt;Result,Void&gt; worker = new SwingWorker&lt;Result,Void&gt;() {\t\t\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tprotected Result doInBackground() throws Exception {\r\n\t\t\t\tInputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\r\n\t\t\r\n\t\t        Result result = ansicht.calculateResult(inputStream);  // Java3D calculation\r\n\t\t\t\treturn result;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void done() {\r\n\t\t\t\twaitDialog.close();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\t\tworker.execute(); \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\r\n\t\tResult result = worker.get();\r\n\t\treturn result;\r\n\t}\r\n```\r\nwhich shows no effect. No message shown and calculateResult works still fine.\r\nSo I looked in the web what alternatives I might have and tried this...\r\n```\r\npublic Result doIt(String fileName) throws Exception {\r\n\t\t\r\n\t\tWaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);\t\r\n\t\t\r\n\t\tInputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\r\n\r\n\t\tSwingUtilities.invokeAndWait(() -&gt; {\r\n            try {\r\n\t\t\t\tresult = ansicht.calculateResult(inputStream);  // Java3D calculation\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\twaitDialog.close();\r\n\r\n\t\treturn result;\r\n\t}\r\n```\r\nresult being now a Class variable. This version shows the wait dialog, but the calculateResult call is not coming back and the dialog doesn&#39;t disappear.\r\n\r\nI also tried a version with an old fashioned Thread, which I found in the web...\r\n```\r\npublic Result doIt(String fileName) throws Exception {\r\n\r\n\t\tWaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);\t\r\n\r\n\t\tThread thread = new Thread(() -&gt; {\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tSwingUtilities.invokeAndWait(() -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tInputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\r\n\t\t\t\t\t\tresult = ansicht.calculateResult(inputStream);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\t\r\n\r\n\t\twhile(thread.isAlive()) {};\r\n\t\twaitDialog.close();\r\n\r\n\t\treturn result;\r\n\t}\r\n```\r\nalso not doing what I want.\r\n\r\nCan you please advise me how to do this? Thank you in advance.\r\n","title":"Java Swing Wait message will not show up","body":"<p>I have a Java3D scenegraph update task which takes 3-4 seconds on my laptop to complete. During this time I want a window showing up, asking the user to wait until the job completes. I have a simelar situation which takes longer and my implementation with a SwingWorker works fine. But when I apply the code to this update operation the dialog doesn't show up at all.</p>\n<p>Here is the WaitDialog which I want to show (I also tried to inherit from JDialog - no change)</p>\n<pre><code>public class WaitDialog extends JFrame {\n    \n    private static final long serialVersionUID = 1L;            \n    \n    protected int rows = 2;\n    protected int cols= 1;\n    protected int rowSpace= 12;\n    protected int colSpace= 12;\n    \n    public WaitDialog(Component parent, String message) {\n        JPanel panel = new JPanel(new GridLayout(rows, cols, rowSpace, colSpace));      \n        panel.setBorder( new EmptyBorder(12, 12, 12, 12) );                                                     \n        panel.add(new JLabel(message), BorderLayout.CENTER);                                                    \n        JProgressBar progressBar = new JProgressBar();                                                          \n        progressBar.setIndeterminate(true);                                                                     \n        panel.add(progressBar);                                                                                 \n        setUndecorated(true);                                                                                   \n        setAlwaysOnTop(true);\n        getContentPane().add(panel);                                                                            \n        pack();                                                                                                 \n        setLocationRelativeTo(parent);                                                                          \n        setVisible(true);                                                                                       \n    }\n    \n    public void close() {\n        setVisible(false);                                                                                      \n        dispose();                                                                                              \n    }\n}\n</code></pre>\n<p>The method that gives me headache looks like this...</p>\n<pre><code>public Result doIt(String fileName) throws Exception {\n        \n        WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);      \n        \n        InputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\n        \n        Result result = ansicht.calculateResult(inputStream);  // Java3D calculation\n        \n        waitDialog.close();\n\n        return result;\n    }\n</code></pre>\n<p>In this version, the waitDialog is not shown but calculteResult works fine.\nTherefore, as indicate above, I copied the working logic from another place, which looks like this...</p>\n<pre><code>public Result doIt(String fileName) throws Exception {\n        \n        WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);          \n        \n        SwingWorker&lt;Result,Void&gt; worker = new SwingWorker&lt;Result,Void&gt;() {                          \n            @Override\n            protected Result doInBackground() throws Exception {\n                InputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\n        \n                Result result = ansicht.calculateResult(inputStream);  // Java3D calculation\n                return result;                                                                  \n            }\n\n            @Override\n            protected void done() {\n                waitDialog.close();                                                             \n            }\n        };\n        worker.execute();                                                                       \n        \n        Result result = worker.get();\n        return result;\n    }\n</code></pre>\n<p>which shows no effect. No message shown and calculateResult works still fine.\nSo I looked in the web what alternatives I might have and tried this...</p>\n<pre><code>public Result doIt(String fileName) throws Exception {\n        \n        WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);  \n        \n        InputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\n\n        SwingUtilities.invokeAndWait(() -&gt; {\n            try {\n                result = ansicht.calculateResult(inputStream);  // Java3D calculation\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        \n        waitDialog.close();\n\n        return result;\n    }\n</code></pre>\n<p>result being now a Class variable. This version shows the wait dialog, but the calculateResult call is not coming back and the dialog doesn't disappear.</p>\n<p>I also tried a version with an old fashioned Thread, which I found in the web...</p>\n<pre><code>public Result doIt(String fileName) throws Exception {\n\n        WaitDialog waitDialog = new WaitDialog(null, &quot;Update...&quot;);  \n\n        Thread thread = new Thread(() -&gt; {                                  \n                SwingUtilities.invokeAndWait(() -&gt; {\n                    try {\n                        InputStream inputStream = new BufferedInputStream(new FileInputStream(fileName));\n                        result = ansicht.calculateResult(inputStream);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                });\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n        thread.start(); \n\n        while(thread.isAlive()) {};\n        waitDialog.close();\n\n        return result;\n    }\n</code></pre>\n<p>also not doing what I want.</p>\n<p>Can you please advise me how to do this? Thank you in advance.</p>\n"},{"tags":["java","kubernetes","ignite"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654506235,"creation_date":1654506235,"answer_id":72515360,"question_id":72462842,"body_markdown":"Activating the cluster relates to the lifecycle of the _cluster_ rather than an individual pod, do you don&#39;t want to add it to the pod.\r\n\r\nInstead, it&#39;s a &quot;manual&quot; process once all your nodes/pods are up. [I wrote about it here](https://medium.com/@sdarlington/activating-an-apache-ignite-cluster-on-kubernetes-afbed40c7e53).\r\n\r\nIn short, either run exec:\r\n\r\n    kubectl exec -it ignite-0 --namespace=ignite -- /opt/ignite/apache-ignite-fabric/bin/control.sh --activate\r\n\r\nOr create a Kubernetes job.","title":"Unable to Activate Persistent Ignite Cluster","body":"<p>Activating the cluster relates to the lifecycle of the <em>cluster</em> rather than an individual pod, do you don't want to add it to the pod.</p>\n<p>Instead, it's a &quot;manual&quot; process once all your nodes/pods are up. <a href=\"https://medium.com/@sdarlington/activating-an-apache-ignite-cluster-on-kubernetes-afbed40c7e53\" rel=\"nofollow noreferrer\">I wrote about it here</a>.</p>\n<p>In short, either run exec:</p>\n<pre><code>kubectl exec -it ignite-0 --namespace=ignite -- /opt/ignite/apache-ignite-fabric/bin/control.sh --activate\n</code></pre>\n<p>Or create a Kubernetes job.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72515360,"answer_count":1,"score":0,"last_activity_date":1654506235,"creation_date":1654090809,"question_id":72462842,"body_markdown":"We are trying to use control.sh to activate out Ignite cluster which is running in Kubernetes and has native persistence as described [here][1], however we are getting to error below.\r\n\r\nWe have also tried activating the cluster via the post install of the auto deployment but are getting the same error. \r\n\r\n```\r\nlifecycle:\r\n\tpostStart:\r\n\t\texec:\r\n\t\t\tcommand:\r\n\t\t\t  - &gt;-\r\n                /opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE\r\n                 --yes\r\n\r\n```\r\nError:\r\n```\r\n/opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE\r\nfailed - error: command &#39;/bin/sh -c /opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE&#39; exited with 2: , message: &quot;JVM_OPTS environment variable is set, but will not be used. To pass JVM options use CONTROL_JVM_OPTS\r\nJVM_OPTS=-DIGNITE_WAL_MMAP=false -DIGNITE_UPDATE_NOTIFIER=false -XX:+UseG1GC -Xmx4g -XX:+DisableExplicitGC -server -Xms4g -XX:+AlwaysPreTouch -XX:+ScavengeBeforeFullGC\r\nControl utility [ver. 2.11.1#20211220-sha1:eae1147d]2021 Copyright(C) Apache Software Foundation\r\nUser: root\r\nTime: 2022-05-31T18:56:38.690\r\nConnection to cluster failed. Latest topology update failed.\r\nCommand [SET-STATE] finished with code: 2\r\nControl utility has completed execution at: 2022-05-31T18:56:41.859\r\nExecution time: 3169 ms\r\n```\r\n\r\n\r\n  [1]: https://ignite.apache.org/docs/latest/tools/control-script","title":"Unable to Activate Persistent Ignite Cluster","body":"<p>We are trying to use control.sh to activate out Ignite cluster which is running in Kubernetes and has native persistence as described <a href=\"https://ignite.apache.org/docs/latest/tools/control-script\" rel=\"nofollow noreferrer\">here</a>, however we are getting to error below.</p>\n<p>We have also tried activating the cluster via the post install of the auto deployment but are getting the same error.</p>\n<pre><code>lifecycle:\n    postStart:\n        exec:\n            command:\n              - &gt;-\n                /opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE\n                 --yes\n\n</code></pre>\n<p>Error:</p>\n<pre><code>/opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE\nfailed - error: command '/bin/sh -c /opt/ignite/apache-ignite/bin/control.sh --set-state ACTIVE' exited with 2: , message: &quot;JVM_OPTS environment variable is set, but will not be used. To pass JVM options use CONTROL_JVM_OPTS\nJVM_OPTS=-DIGNITE_WAL_MMAP=false -DIGNITE_UPDATE_NOTIFIER=false -XX:+UseG1GC -Xmx4g -XX:+DisableExplicitGC -server -Xms4g -XX:+AlwaysPreTouch -XX:+ScavengeBeforeFullGC\nControl utility [ver. 2.11.1#20211220-sha1:eae1147d]2021 Copyright(C) Apache Software Foundation\nUser: root\nTime: 2022-05-31T18:56:38.690\nConnection to cluster failed. Latest topology update failed.\nCommand [SET-STATE] finished with code: 2\nControl utility has completed execution at: 2022-05-31T18:56:41.859\nExecution time: 3169 ms\n</code></pre>\n"},{"tags":["java","maven","itext"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1626855490,"post_id":68466102,"comment_id":121000568,"body_markdown":"Depends on whether they use the same class and package names.","body":"Depends on whether they use the same class and package names."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1626855523,"post_id":68466102,"comment_id":121000580,"body_markdown":"Also depends on dependency version conflicts.","body":"Also depends on dependency version conflicts."},{"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"score":0,"creation_date":1626862109,"post_id":68466102,"comment_id":121003199,"body_markdown":"There are no conflict on single functionality of sw.\nI can replace all iText5 with iText7 for whole creation of single pdf.\nIt&#39;s a batch and there are creations of various pdf.\nThe sw, after a simple test works, I can create one of the pdf with iText7.\nThe others still use iText5. I ask my self if there is something I can&#39;t see... some intermediate contraindications in running mode in evidence (memory, space, etc...)\nIs there some method to find any package conflicts? Anyway I don&#39;t use both in the same procedure, pdf productions are separated.","body":"There are no conflict on single functionality of sw. I can replace all iText5 with iText7 for whole creation of single pdf. It&#39;s a batch and there are creations of various pdf. The sw, after a simple test works, I can create one of the pdf with iText7. The others still use iText5. I ask my self if there is something I can&#39;t see... some intermediate contraindications in running mode in evidence (memory, space, etc...) Is there some method to find any package conflicts? Anyway I don&#39;t use both in the same procedure, pdf productions are separated."}],"answers":[{"tags":[],"owner":{"account_id":19120705,"reputation":29,"user_id":13964729,"display_name":"Mohammed Fahim khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654506194,"creation_date":1654501708,"answer_id":72514581,"question_id":68466102,"body_markdown":"when using itext5 and itext7 gives the same file errors.\r\nneed to exclude that file using the packaging option.\r\nThe below code will fix the compile-time build failed\r\n\r\n    android {\r\n        packagingOptions {\r\n            exclude &#39;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&#39;\r\n        }       \r\n    }\r\nThe below code will fix the Run-time build and make the application install\r\n \r\n\r\n    android {\r\n            packagingOptions {\r\n                \r\n        exclude &#39;com/itextpdf/io/font/cmap/cjk_registry.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/HeiseiMin-W3.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/KozMinPro-Regular.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/MHei-Medium.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/MSung-Light.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/MSungStd-Light.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/STSong-Light.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap/STSongStd-Light.properties&#39;\r\n        exclude &#39;com/itextpdf/io/font/cmap_info.txt&#39;\r\n            }       \r\n        }","title":"Can I hold iText5 and iText7 in the same maven project?","body":"<p>when using itext5 and itext7 gives the same file errors.\nneed to exclude that file using the packaging option.\nThe below code will fix the compile-time build failed</p>\n<pre><code>android {\n    packagingOptions {\n        exclude 'com/itextpdf/io/font/cmap/HYGoThic-Medium.properties'\n    }       \n}\n</code></pre>\n<p>The below code will fix the Run-time build and make the application install</p>\n<pre><code>android {\n        packagingOptions {\n            \n    exclude 'com/itextpdf/io/font/cmap/cjk_registry.properties'\n    exclude 'com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties'\n    exclude 'com/itextpdf/io/font/cmap/HeiseiMin-W3.properties'\n    exclude 'com/itextpdf/io/font/cmap/HYGoThic-Medium.properties'\n    exclude 'com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties'\n    exclude 'com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties'\n    exclude 'com/itextpdf/io/font/cmap/KozMinPro-Regular.properties'\n    exclude 'com/itextpdf/io/font/cmap/MHei-Medium.properties'\n    exclude 'com/itextpdf/io/font/cmap/MSung-Light.properties'\n    exclude 'com/itextpdf/io/font/cmap/MSungStd-Light.properties'\n    exclude 'com/itextpdf/io/font/cmap/STSong-Light.properties'\n    exclude 'com/itextpdf/io/font/cmap/STSongStd-Light.properties'\n    exclude 'com/itextpdf/io/font/cmap_info.txt'\n        }       \n    }\n</code></pre>\n"}],"owner":{"account_id":4091641,"reputation":1488,"user_id":3359469,"accept_rate":50,"display_name":"Falco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654506194,"creation_date":1626855122,"question_id":68466102,"body_markdown":"We have a maven project that uses iText5. We would like to migrate to iText7. There are many parts that use the old library. Are there any contraindications in temporarily keeping both libraries as a reference in the pom and using the old version in some parts and the new in others? We will gradually replace the old one. We will permanently delete the old one after a long process of refactoring and testing.","title":"Can I hold iText5 and iText7 in the same maven project?","body":"<p>We have a maven project that uses iText5. We would like to migrate to iText7. There are many parts that use the old library. Are there any contraindications in temporarily keeping both libraries as a reference in the pom and using the old version in some parts and the new in others? We will gradually replace the old one. We will permanently delete the old one after a long process of refactoring and testing.</p>\n"},{"tags":["java","unit-testing","junit","powermockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654507337,"post_id":72515345,"comment_id":128098941,"body_markdown":"I&#39;d suggest refactoring your code so that the constructor of `AccionPSD2` is given a factory to create `ApiPSD2Jazztel` instances.","body":"I&#39;d suggest refactoring your code so that the constructor of <code>AccionPSD2</code> is given a factory to create <code>ApiPSD2Jazztel</code> instances."},{"owner":{"account_id":18331697,"reputation":105,"user_id":13350075,"display_name":"Catalin Mares"},"score":0,"creation_date":1654507421,"post_id":72515345,"comment_id":128098969,"body_markdown":"Unfortunately I cannot refactor the code since I don&#39;t own it. Do you have any other suggestions?","body":"Unfortunately I cannot refactor the code since I don&#39;t own it. Do you have any other suggestions?"}],"owner":{"account_id":18331697,"reputation":105,"user_id":13350075,"display_name":"Catalin Mares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654506187,"creation_date":1654506187,"question_id":72515345,"body_markdown":"I am trying to test a class having a private method inside which another class is instantiated. I am using PowerMockito to mock the instantiation by providing a mocked object with mocked methods. The problem is that whatever I try, the real class constructor is invoked anyway and the mock is not provided instead.\r\n\r\nThe method I am testing is part of the AccionPSD2 class and looks like this:\r\n```java\r\n\tprivate void enviarSolicitudPSD2(MultipleService multipleService) throws Exception{\r\n\r\n\t\tlog.info(&quot;INICIO enviarSolicitudPSD2&quot;);\r\n\t\t\r\n\t\tString user = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.usuario&quot;);\r\n\t\tlog.debug(&quot;API user = &quot; + user);\r\n\t\tString pass = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.pass&quot;);\r\n\t\tlog.debug(&quot;API pass = &quot; + pass);\r\n\t\tString url = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.url&quot;);\r\n\t\tlog.debug(&quot;API url = &quot; + url);\t\t\r\n\t\tString timeout = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.timeout&quot;);\r\n\t\tlog.debug(&quot;Timeout = &quot; + timeout);\r\n\t\t\t    \t\t\r\n\t\tApiPSD2Jazztel apiPSD2Jazztel = new ApiPSD2Jazztel(url, user, pass);\t\t\t\r\n\t\tapiPSD2Jazztel.init();\r\n\t\tresponseMultipleActivation = apiPSD2Jazztel.enviaSolicitudPSD2(multipleService, &quot;jazztel&quot;);   \t\t\r\n\t\t\r\n\t\tlog.info(&quot;Fin enviarSolicitudPSD2&quot;);\r\n\t}\r\n```\r\n\r\nThe test class I am using is the following:\r\n```java\r\npackage com.hpe.coco.frontend.micros.acciones.model.workflow;\r\n\r\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ApiPSD2Jazztel;\r\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ws.MultipleService;\r\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ws.ResponseMultipleActivation;\r\nimport com.hpe.coco.frontend.micros.util.Configuracion;\r\nimport lombok.SneakyThrows;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\nimport org.powermock.reflect.Whitebox;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.ArgumentMatchers.anyString;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.powermock.api.mockito.PowerMockito.*;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(AccionPSD2.class)\r\npublic class AccionPSD2Test {\r\n    private AccionPSD2 instance;\r\n    private final String mockString = &quot;testString&quot;;\r\n\r\n    @BeforeEach\r\n    public void init() {\r\n        instance = new AccionPSD2();\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    public void testEnviarSolicitudPSD2() {\r\n        ApiPSD2Jazztel mockApiPSD2Jazztel = PowerMockito.mock(ApiPSD2Jazztel.class);\r\n        PowerMockito.whenNew(ApiPSD2Jazztel.class).withAnyArguments().thenReturn(mockApiPSD2Jazztel);\r\n\r\n        ResponseMultipleActivation mockResponse = new ResponseMultipleActivation();\r\n        doNothing().when(mockApiPSD2Jazztel).init();\r\n        Mockito.when(mockApiPSD2Jazztel.enviaSolicitudPSD2(any(), anyString())).thenReturn(mockResponse);\r\n\r\n        Configuracion.configuracionesBBDD = new HashMap&lt;&gt;();\r\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.usuario&quot;, mockString);\r\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.pass&quot;, mockString);\r\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.url&quot;, mockString);\r\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.timeout&quot;, mockString);\r\n\r\n        MultipleService mockInput = new MultipleService();\r\n\r\n        Whitebox.invokeMethod(instance, &quot;enviarSolicitudPSD2&quot;, mockInput);\r\n\r\n        PowerMockito.verifyNew(ApiPSD2Jazztel.class).withArguments(mockString, mockString, mockString);\r\n        verify(mockApiPSD2Jazztel, times(1)).enviaSolicitudPSD2(mockInput, &quot;jazztel&quot;);\r\n        Assertions.assertEquals(mockResponse, instance.responseMultipleActivation);\r\n    }\r\n}\r\n```\r\n\r\nEven though I annotated the test class with the correct annotations in order for whenNew to work, it still does not work correctly. Is there a problem with the fact that the method is private and I am using reflection to invoke it? Or what else should I try?\r\nThank you for your help!","title":"PowerMockito.whenNew not working as expected","body":"<p>I am trying to test a class having a private method inside which another class is instantiated. I am using PowerMockito to mock the instantiation by providing a mocked object with mocked methods. The problem is that whatever I try, the real class constructor is invoked anyway and the mock is not provided instead.</p>\n<p>The method I am testing is part of the AccionPSD2 class and looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void enviarSolicitudPSD2(MultipleService multipleService) throws Exception{\n\n        log.info(&quot;INICIO enviarSolicitudPSD2&quot;);\n        \n        String user = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.usuario&quot;);\n        log.debug(&quot;API user = &quot; + user);\n        String pass = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.pass&quot;);\n        log.debug(&quot;API pass = &quot; + pass);\n        String url = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.url&quot;);\n        log.debug(&quot;API url = &quot; + url);      \n        String timeout = Configuracion.configuracionesBBDD.get(&quot;microservicio.jazztel.API.timeout&quot;);\n        log.debug(&quot;Timeout = &quot; + timeout);\n                        \n        ApiPSD2Jazztel apiPSD2Jazztel = new ApiPSD2Jazztel(url, user, pass);            \n        apiPSD2Jazztel.init();\n        responseMultipleActivation = apiPSD2Jazztel.enviaSolicitudPSD2(multipleService, &quot;jazztel&quot;);         \n        \n        log.info(&quot;Fin enviarSolicitudPSD2&quot;);\n    }\n</code></pre>\n<p>The test class I am using is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hpe.coco.frontend.micros.acciones.model.workflow;\n\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ApiPSD2Jazztel;\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ws.MultipleService;\nimport com.hpe.coco.frontend.micros.acciones.service.psd2.ws.ResponseMultipleActivation;\nimport com.hpe.coco.frontend.micros.util.Configuracion;\nimport lombok.SneakyThrows;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.powermock.reflect.Whitebox;\n\nimport java.util.HashMap;\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.anyString;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.powermock.api.mockito.PowerMockito.*;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(AccionPSD2.class)\npublic class AccionPSD2Test {\n    private AccionPSD2 instance;\n    private final String mockString = &quot;testString&quot;;\n\n    @BeforeEach\n    public void init() {\n        instance = new AccionPSD2();\n    }\n\n    @SneakyThrows\n    @Test\n    public void testEnviarSolicitudPSD2() {\n        ApiPSD2Jazztel mockApiPSD2Jazztel = PowerMockito.mock(ApiPSD2Jazztel.class);\n        PowerMockito.whenNew(ApiPSD2Jazztel.class).withAnyArguments().thenReturn(mockApiPSD2Jazztel);\n\n        ResponseMultipleActivation mockResponse = new ResponseMultipleActivation();\n        doNothing().when(mockApiPSD2Jazztel).init();\n        Mockito.when(mockApiPSD2Jazztel.enviaSolicitudPSD2(any(), anyString())).thenReturn(mockResponse);\n\n        Configuracion.configuracionesBBDD = new HashMap&lt;&gt;();\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.usuario&quot;, mockString);\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.pass&quot;, mockString);\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.url&quot;, mockString);\n        Configuracion.configuracionesBBDD.put(&quot;microservicio.jazztel.API.timeout&quot;, mockString);\n\n        MultipleService mockInput = new MultipleService();\n\n        Whitebox.invokeMethod(instance, &quot;enviarSolicitudPSD2&quot;, mockInput);\n\n        PowerMockito.verifyNew(ApiPSD2Jazztel.class).withArguments(mockString, mockString, mockString);\n        verify(mockApiPSD2Jazztel, times(1)).enviaSolicitudPSD2(mockInput, &quot;jazztel&quot;);\n        Assertions.assertEquals(mockResponse, instance.responseMultipleActivation);\n    }\n}\n</code></pre>\n<p>Even though I annotated the test class with the correct annotations in order for whenNew to work, it still does not work correctly. Is there a problem with the fact that the method is private and I am using reflection to invoke it? Or what else should I try?\nThank you for your help!</p>\n"},{"tags":["java","google-apps-script","google-sheets"],"answers":[{"tags":[],"owner":{"account_id":9571025,"reputation":186934,"user_id":7108653,"display_name":"Tanaike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654506138,"creation_date":1654506138,"answer_id":72515334,"question_id":72515019,"body_markdown":"\r\n### Modification points:\r\n- From your error message, I&#39;m worried that the files of `get_files` might include the files except for Google Spreadsheet.\r\n- In your script, `appendRow` is used in a loop. In this case, the process cost will become high. [Ref](https://gist.github.com/tanaikech/d102c9600ba12a162c667287d2f20fe4)\r\n\r\nIf you want to achieve your goal using the Google Spreadsheet service, how about the following modification?\r\n\r\n### Modified script:\r\n```javascript\r\nfunction getData() {\r\n  var get_files = [&#39;SpreadSheet Example 1&#39;, &#39;SpreadSheet Example 2&#39;];\r\n  var ssa = SpreadsheetApp.getActiveSpreadsheet();\r\n  var copySheet = ssa.getSheetByName(&#39;DATA&#39;);\r\n  copySheet.getRange(&#39;A2:Z&#39;).clear();\r\n  for (z = 0; z &lt; get_files.length; z++) {\r\n    var files = DriveApp.searchFiles(`title=&#39;${get_files[z]}&#39; and mimeType=&#39;${MimeType.GOOGLE_SHEETS}&#39; and trashed=false`);\r\n    var file = files.hasNext() &amp;&amp; files.next();\r\n    if (!file) {\r\n      console.log(`&quot;${get_files[z]}&quot; of Google Spreadsheet was not found.`);\r\n      continue;\r\n    }\r\n    var sheets = SpreadsheetApp.open(file).getSheets();\r\n    for (var i = 0; i &lt; sheets.length; i++) {\r\n      var values = sheets[i].getDataRange().getValues();\r\n      copySheet.getRange(copySheet.getLastRow() + 1, 1, values.length, values[0].length).setValues(values);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n- When this script is run, Google Spreadsheet files are retrieved from the files of `get_files`. And, the values of each sheet are appended to `copySheet`.\r\n\r\n### References:\r\n- [searchFiles(params)](https://developers.google.com/apps-script/reference/drive/drive-app#searchfilesparams)\r\n- [setValues(values)](https://developers.google.com/apps-script/reference/spreadsheet/range#setvaluesvalues)\r\n","title":"Import Multiple Spreadsheets into 1 Sheet using Google Apps Script on Google Sheets","body":"<h3>Modification points:</h3>\n<ul>\n<li>From your error message, I'm worried that the files of <code>get_files</code> might include the files except for Google Spreadsheet.</li>\n<li>In your script, <code>appendRow</code> is used in a loop. In this case, the process cost will become high. <a href=\"https://gist.github.com/tanaikech/d102c9600ba12a162c667287d2f20fe4\" rel=\"nofollow noreferrer\">Ref</a></li>\n</ul>\n<p>If you want to achieve your goal using the Google Spreadsheet service, how about the following modification?</p>\n<h3>Modified script:</h3>\n<pre class=\"lang-js prettyprint-override\"><code>function getData() {\n  var get_files = ['SpreadSheet Example 1', 'SpreadSheet Example 2'];\n  var ssa = SpreadsheetApp.getActiveSpreadsheet();\n  var copySheet = ssa.getSheetByName('DATA');\n  copySheet.getRange('A2:Z').clear();\n  for (z = 0; z &lt; get_files.length; z++) {\n    var files = DriveApp.searchFiles(`title='${get_files[z]}' and mimeType='${MimeType.GOOGLE_SHEETS}' and trashed=false`);\n    var file = files.hasNext() &amp;&amp; files.next();\n    if (!file) {\n      console.log(`&quot;${get_files[z]}&quot; of Google Spreadsheet was not found.`);\n      continue;\n    }\n    var sheets = SpreadsheetApp.open(file).getSheets();\n    for (var i = 0; i &lt; sheets.length; i++) {\n      var values = sheets[i].getDataRange().getValues();\n      copySheet.getRange(copySheet.getLastRow() + 1, 1, values.length, values[0].length).setValues(values);\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>When this script is run, Google Spreadsheet files are retrieved from the files of <code>get_files</code>. And, the values of each sheet are appended to <code>copySheet</code>.</li>\n</ul>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/drive/drive-app#searchfilesparams\" rel=\"nofollow noreferrer\">searchFiles(params)</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#setvaluesvalues\" rel=\"nofollow noreferrer\">setValues(values)</a></li>\n</ul>\n"}],"owner":{"account_id":17840581,"reputation":29,"user_id":12958538,"display_name":"globlobi2003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654506138,"creation_date":1654504449,"question_id":72515019,"body_markdown":"Hi I try to run a code found on the internet in app scripts\r\n\r\n    function addMenu()\r\n    {\r\n     var menu = SpreadsheetApp.getUi().createMenu(&#39;Custom&#39;);\r\n     menu.addItem(&#39;Copy Data&#39;, &#39;getData&#39;);\r\n     menu.addToUi();\r\n    }\r\n    \r\n    function onOpen(e)\r\n    {\r\n     addMenu(); \r\n    }\r\n    \r\n    function getData() {\r\n      \r\n      get_files = [&#39;SpreadSheet Example 1&#39;, &#39;SpreadSheet Example 2&#39;];\r\n      \r\n      var ssa = SpreadsheetApp.getActiveSpreadsheet();\r\n      var copySheet = ssa.getSheetByName(&#39;DATA&#39;);\r\n      copySheet.getRange(&#39;A2:Z&#39;).clear();  \r\n      \r\n      for(z = 0; z &lt; get_files.length; z++)\r\n      {\r\n      \r\n        var files = DriveApp.getFilesByName(get_files[z]);\r\n        while (files.hasNext()) \r\n        {\r\n          var file = files.next();\r\n          break;\r\n        }\r\n      \r\n        var ss = SpreadsheetApp.open(file);\r\n        SpreadsheetApp.setActiveSpreadsheet(ss);\r\n        var sheets = SpreadsheetApp.getActiveSpreadsheet().getSheets();\r\n        \r\n        for(var i = 0; i &lt; sheets.length; i++)\r\n        {  \r\n          var nameSheet = ss.getSheetByName(sheets[i].getName()); \r\n          var nameRange = nameSheet.getDataRange();\r\n          var nameValues = nameRange.getValues();\r\n          \r\n          for(var y = 1; y &lt; nameValues.length; y++)\r\n          {\r\n            copySheet.appendRow(nameValues[y]); \r\n          }     \r\n        }    \r\n      }  \r\n    }\r\n\r\nI get this error\r\n\r\n*Exception: Service Spreadsheets failed while accessing document with id 1YdIDE2OgJrtHPvCGA5c.* (This I get when I add the .xlsx to file names in the string) eg:SpreadSheet Example 1.xlsx\r\n\r\nAnd I get this when I delete the extension\r\n\r\n*Exception: Argument cannot be null: file*\r\n\r\nThe files are in the same folder in the google drive\r\nCan you show me where should I look","title":"Import Multiple Spreadsheets into 1 Sheet using Google Apps Script on Google Sheets","body":"<p>Hi I try to run a code found on the internet in app scripts</p>\n<pre><code>function addMenu()\n{\n var menu = SpreadsheetApp.getUi().createMenu('Custom');\n menu.addItem('Copy Data', 'getData');\n menu.addToUi();\n}\n\nfunction onOpen(e)\n{\n addMenu(); \n}\n\nfunction getData() {\n  \n  get_files = ['SpreadSheet Example 1', 'SpreadSheet Example 2'];\n  \n  var ssa = SpreadsheetApp.getActiveSpreadsheet();\n  var copySheet = ssa.getSheetByName('DATA');\n  copySheet.getRange('A2:Z').clear();  \n  \n  for(z = 0; z &lt; get_files.length; z++)\n  {\n  \n    var files = DriveApp.getFilesByName(get_files[z]);\n    while (files.hasNext()) \n    {\n      var file = files.next();\n      break;\n    }\n  \n    var ss = SpreadsheetApp.open(file);\n    SpreadsheetApp.setActiveSpreadsheet(ss);\n    var sheets = SpreadsheetApp.getActiveSpreadsheet().getSheets();\n    \n    for(var i = 0; i &lt; sheets.length; i++)\n    {  \n      var nameSheet = ss.getSheetByName(sheets[i].getName()); \n      var nameRange = nameSheet.getDataRange();\n      var nameValues = nameRange.getValues();\n      \n      for(var y = 1; y &lt; nameValues.length; y++)\n      {\n        copySheet.appendRow(nameValues[y]); \n      }     \n    }    \n  }  \n}\n</code></pre>\n<p>I get this error</p>\n<p><em>Exception: Service Spreadsheets failed while accessing document with id 1YdIDE2OgJrtHPvCGA5c.</em> (This I get when I add the .xlsx to file names in the string) eg:SpreadSheet Example 1.xlsx</p>\n<p>And I get this when I delete the extension</p>\n<p><em>Exception: Argument cannot be null: file</em></p>\n<p>The files are in the same folder in the google drive\nCan you show me where should I look</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17166193,"reputation":1363,"user_id":12424486,"display_name":"MustafaKhaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654292168,"creation_date":1654292168,"answer_id":72495380,"question_id":72492518,"body_markdown":"You can save Image in **SharedPreferences**, by converting the image to **Base64** format. \r\n\r\nIf you convert it, you would have an image in String format, that can be saved to **SharedPreferences** normally, and when you would like to retreive the image, you concert from **Base64** to **Bitmap**. \r\n\r\n\r\nYou can check [this answer][1], I believe it will help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4830711/how-can-i-convert-an-image-into-a-base64-string","title":"How to save ImageView image in SharedPreference and display in other activity (Gridview)?","body":"<p>You can save Image in <strong>SharedPreferences</strong>, by converting the image to <strong>Base64</strong> format.</p>\n<p>If you convert it, you would have an image in String format, that can be saved to <strong>SharedPreferences</strong> normally, and when you would like to retreive the image, you concert from <strong>Base64</strong> to <strong>Bitmap</strong>.</p>\n<p>You can check <a href=\"https://stackoverflow.com/questions/4830711/how-can-i-convert-an-image-into-a-base64-string\">this answer</a>, I believe it will help you.</p>\n"}],"owner":{"account_id":25454345,"reputation":1,"user_id":19255239,"display_name":"Ashok Poojari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72495380,"answer_count":1,"score":-1,"last_activity_date":1654506091,"creation_date":1654273430,"question_id":72492518,"body_markdown":"How do I save ImageView image in SharedPreference and display in other activity (Gridview)","title":"How to save ImageView image in SharedPreference and display in other activity (Gridview)?","body":"<p>How do I save ImageView image in SharedPreference and display in other activity (Gridview)</p>\n"},{"tags":["java","android","gson","retrofit2","jdeveloper-11g"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1654504219,"post_id":72514778,"comment_id":128098008,"body_markdown":"When I remove result variable and run your code for jsonString like this String jsonString = &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;; it works. I don&#39;t understand what is the problem","body":"When I remove result variable and run your code for jsonString like this String jsonString = &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;; it works. I don&#39;t understand what is the problem"},{"owner":{"account_id":768465,"reputation":217,"user_id":811806,"accept_rate":12,"display_name":"Rache"},"score":0,"creation_date":1654505566,"post_id":72514778,"comment_id":128098399,"body_markdown":"The jsonString is coming with additional double quotes in beginning and end &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;. the quote in the beginning and end is part of the incoming String. I don&#39;t know how.","body":"The jsonString is coming with additional double quotes in beginning and end &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;. the quote in the beginning and end is part of the incoming String. I don&#39;t know how."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654506008,"creation_date":1654504497,"answer_id":72515027,"question_id":72514778,"body_markdown":"**Cause**\r\n\r\nYou are making double serialization.\r\n```\r\ncall = ApiClient.getInstance().getMyApi().callLogin(gson.toJson(userData));\r\n```\r\nHere your map gets serialized to json string, and then this json gets serialized a second time when request is sent.\r\n\r\n**Fix**\r\n\r\n 1. Serialize only once on frontend - whatever library you are using(i don&#39;t do android stuff) should have method where you supply the payload as an `Оbject` - the method argument should be the map, `userData` in your case.\r\n```\r\ncall = ApiClient.getInstance().getMyApi().callLogin(userData);\r\n```\r\nSomething like that.\r\n\r\n 2. Or double deserialization on backend - deserialize to `String`, then deserialize the resulting string again to whatever you need.\r\n```\r\nString jsonString = gson.fromJson(doubleJson, String.class);\r\nMap&lt;String, String&gt; result = gson.fromJson(jsonString, Map.class);\r\nSystem.out.println(result);\r\n```","title":"Why does the String coming in POST request body come with additional quotes and get not a JSON Object","body":"<p><strong>Cause</strong></p>\n<p>You are making double serialization.</p>\n<pre><code>call = ApiClient.getInstance().getMyApi().callLogin(gson.toJson(userData));\n</code></pre>\n<p>Here your map gets serialized to json string, and then this json gets serialized a second time when request is sent.</p>\n<p><strong>Fix</strong></p>\n<ol>\n<li>Serialize only once on frontend - whatever library you are using(i don't do android stuff) should have method where you supply the payload as an <code>Оbject</code> - the method argument should be the map, <code>userData</code> in your case.</li>\n</ol>\n<pre><code>call = ApiClient.getInstance().getMyApi().callLogin(userData);\n</code></pre>\n<p>Something like that.</p>\n<ol start=\"2\">\n<li>Or double deserialization on backend - deserialize to <code>String</code>, then deserialize the resulting string again to whatever you need.</li>\n</ol>\n<pre><code>String jsonString = gson.fromJson(doubleJson, String.class);\nMap&lt;String, String&gt; result = gson.fromJson(jsonString, Map.class);\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":768465,"reputation":217,"user_id":811806,"accept_rate":12,"display_name":"Rache"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72515027,"answer_count":1,"score":0,"last_activity_date":1654506008,"creation_date":1654502974,"question_id":72514778,"body_markdown":"I am calling a RestFul API written in Java that consumes plain text or JSON and returns a response in JSON. I am using gson library to generate and parse my fields. I am calling the api from an Android simulation where I user retrofit2 library and GsonConverterFactory. \r\nThe generated String seems fine. I am not using a POJO, just a generic HashMap which I then convert to a String. \r\n&gt; Generated gson from Android is  {&quot;password&quot;:&quot;K16073&quot;,&quot;userid&quot;:&quot;K16073&quot;}\r\n\r\nCode given below. \r\nAt the API service, the string received is wrapped with additional double quotes. \r\n&gt; Printed String including the quotes in the beginning and end &quot;{\\\\&quot;password\\\\&quot;:\\\\&quot;K16073\\\\&quot;,\\\\&quot;userid\\\\&quot;:\\\\&quot;K16073\\\\&quot;}&quot;\r\n\r\nBecause of this I am getting *java.lang.IllegalStateException: Not a JSON Object: &quot;{\\\\&quot;password\\\\&quot;:\\\\&quot;K16073\\\\&quot;,\\\\&quot;userid\\\\&quot;:\\\\&quot;K16073\\\\&quot;}&quot;*\r\n\r\nI tried to remove the quotes and then I get *com.google.gson.JsonSyntaxException: com.google.gson.stream.MalformedJsonException: Expected name at line 1 column 2 path $.*\r\n\r\n    \r\n    /* Android code */\r\n    Gson gson = new GsonBuilder()\r\n                    .setLenient()\r\n                    .create();\r\n    \r\n    Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(myRFReceivingApis.BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n    \r\n     Map&lt;String, String&gt; userData = new HashMap&lt;&gt;();\r\n     userData.put(&quot;userid&quot;,edtTxtUserId.getText().toString());\r\n     userData.put(&quot;password&quot;,editTxtPassword.getText().toString());\r\n     Gson gson = new Gson();\r\n     System.out.println(&quot; generated gson &quot; +gson.toJson(userData));\r\n     call = ApiClient.getInstance().getMyApi().callLogin(gson.toJson(userData));\r\n     call.enqueue(new Callback&lt;Object&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;Object&gt; call, Response&lt;Object&gt; response) {\r\n                    textViewResp.setText(response.body().toString());\r\n          :\r\n    /* End of Android code */\r\n\r\nAPI Service code in Java\r\n\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes({MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON})\r\n    @Path(&quot;login&quot;)\r\n    public String RFLoginNew(String jsonString) {\r\n        String result = jsonString.substring(1, jsonString.length() - 1);\r\n        System.out.println(&quot; Json String  &quot;+result);\r\n        // tried using JsonParser  -- line 1 below\r\n        JsonObject o = JsonParser.parseString(result).getAsJsonObject();\r\n        // tried using Gson gson.fromJson\r\n        Gson gson = new Gson();\r\n        JsonElement element = gson.fromJson (result, JsonElement.class); //Converts the json string to         JsonElement without POJO \r\n        JsonObject jsonObj = element.getAsJsonObject(); //Converting JsonElement to JsonObject\r\n        // --line 2 below\r\n        System.out.println(&quot;  RFLoginNew struser &quot;+ jsonObj.get(&quot;userid&quot;).getAsString());\r\n\r\nI am not getting the correct json format. I am not sure what is wrong with the way jsonString is generated. ","title":"Why does the String coming in POST request body come with additional quotes and get not a JSON Object","body":"<p>I am calling a RestFul API written in Java that consumes plain text or JSON and returns a response in JSON. I am using gson library to generate and parse my fields. I am calling the api from an Android simulation where I user retrofit2 library and GsonConverterFactory.\nThe generated String seems fine. I am not using a POJO, just a generic HashMap which I then convert to a String.</p>\n<blockquote>\n<p>Generated gson from Android is  {&quot;password&quot;:&quot;K16073&quot;,&quot;userid&quot;:&quot;K16073&quot;}</p>\n</blockquote>\n<p>Code given below.\nAt the API service, the string received is wrapped with additional double quotes.</p>\n<blockquote>\n<p>Printed String including the quotes in the beginning and end &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;</p>\n</blockquote>\n<p>Because of this I am getting <em>java.lang.IllegalStateException: Not a JSON Object: &quot;{\\&quot;password\\&quot;:\\&quot;K16073\\&quot;,\\&quot;userid\\&quot;:\\&quot;K16073\\&quot;}&quot;</em></p>\n<p>I tried to remove the quotes and then I get <em>com.google.gson.JsonSyntaxException: com.google.gson.stream.MalformedJsonException: Expected name at line 1 column 2 path $.</em></p>\n<pre><code>/* Android code */\nGson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n\nRetrofit retrofit = new Retrofit.Builder()\n                .baseUrl(myRFReceivingApis.BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n Map&lt;String, String&gt; userData = new HashMap&lt;&gt;();\n userData.put(&quot;userid&quot;,edtTxtUserId.getText().toString());\n userData.put(&quot;password&quot;,editTxtPassword.getText().toString());\n Gson gson = new Gson();\n System.out.println(&quot; generated gson &quot; +gson.toJson(userData));\n call = ApiClient.getInstance().getMyApi().callLogin(gson.toJson(userData));\n call.enqueue(new Callback&lt;Object&gt;() {\n            @Override\n            public void onResponse(Call&lt;Object&gt; call, Response&lt;Object&gt; response) {\n                textViewResp.setText(response.body().toString());\n      :\n/* End of Android code */\n</code></pre>\n<p>API Service code in Java</p>\n<pre><code>@POST\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes({MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON})\n@Path(&quot;login&quot;)\npublic String RFLoginNew(String jsonString) {\n    String result = jsonString.substring(1, jsonString.length() - 1);\n    System.out.println(&quot; Json String  &quot;+result);\n    // tried using JsonParser  -- line 1 below\n    JsonObject o = JsonParser.parseString(result).getAsJsonObject();\n    // tried using Gson gson.fromJson\n    Gson gson = new Gson();\n    JsonElement element = gson.fromJson (result, JsonElement.class); //Converts the json string to         JsonElement without POJO \n    JsonObject jsonObj = element.getAsJsonObject(); //Converting JsonElement to JsonObject\n    // --line 2 below\n    System.out.println(&quot;  RFLoginNew struser &quot;+ jsonObj.get(&quot;userid&quot;).getAsString());\n</code></pre>\n<p>I am not getting the correct json format. I am not sure what is wrong with the way jsonString is generated.</p>\n"},{"tags":["java","currency"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1654505134,"post_id":72515093,"comment_id":128098273,"body_markdown":"&quot;Locale is hr&quot;, but you&#39;re not setting the locale anywhere...","body":"&quot;Locale is hr&quot;, but you&#39;re not setting the locale anywhere..."},{"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"score":0,"creation_date":1654505659,"post_id":72515093,"comment_id":128098428,"body_markdown":"Yes, and I used getCurrencyInstance which is with locale version. the result is the same .. hm maybe this is correct for my locale, but I would like it my way xxx.xxx,xx","body":"Yes, and I used getCurrencyInstance which is with locale version. the result is the same .. hm maybe this is correct for my locale, but I would like it my way xxx.xxx,xx"},{"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"score":1,"creation_date":1654506133,"post_id":72515093,"comment_id":128098572,"body_markdown":"Thanks @RobbyCornelissen, you had it right. I solved it with adding `NumberFormat nf = NumberFormat.getInstance(Locale.forLanguageTag(&quot;hr&quot;));`","body":"Thanks @RobbyCornelissen, you had it right. I solved it with adding <code>NumberFormat nf = NumberFormat.getInstance(Locale.forLanguageTag(&quot;hr&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654505571,"creation_date":1654505571,"answer_id":72515231,"question_id":72515093,"body_markdown":"This is not an immediate solution for your code, but I highly recommend using the Java Money and Currency API (JSR-354) to solve your problem. It addresses the standardization of currencies and monetary amounts in Java. And of course, parsing and formatting are included.\r\n\r\nExample showing different ways of formatting for different locales:\r\n\r\n```java\r\n    public static void main(final String... args) {\r\n\r\n        final var amount = Money.of(123.456, &quot;EUR&quot;);\r\n\r\n        final var formatDE = MonetaryFormats.getAmountFormat(Locale.GERMANY);\r\n        System.out.println(formatDE.format(amount));\r\n\r\n        final var formatCH = MonetaryFormats.getAmountFormat(new Locale(&quot;de_CH&quot;));\r\n        System.out.println(formatCH.format(amount));\r\n\r\n        final var formatUS = MonetaryFormats.getAmountFormat(Locale.US);\r\n        System.out.println(formatUS.format(amount));\r\n    }\r\n```","title":"How to use NumberFormat in Java for custom currency formatting?","body":"<p>This is not an immediate solution for your code, but I highly recommend using the Java Money and Currency API (JSR-354) to solve your problem. It addresses the standardization of currencies and monetary amounts in Java. And of course, parsing and formatting are included.</p>\n<p>Example showing different ways of formatting for different locales:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(final String... args) {\n\n        final var amount = Money.of(123.456, &quot;EUR&quot;);\n\n        final var formatDE = MonetaryFormats.getAmountFormat(Locale.GERMANY);\n        System.out.println(formatDE.format(amount));\n\n        final var formatCH = MonetaryFormats.getAmountFormat(new Locale(&quot;de_CH&quot;));\n        System.out.println(formatCH.format(amount));\n\n        final var formatUS = MonetaryFormats.getAmountFormat(Locale.US);\n        System.out.println(formatUS.format(amount));\n    }\n</code></pre>\n"}],"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654505571,"creation_date":1654504840,"question_id":72515093,"body_markdown":"I have this:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String in = &quot;2300.99 EUR&quot;;\r\n            String out = formatCurrency(in);\r\n            System.out.println(out);\r\n        }\r\n        \r\n        private static String formatCurrency(String txt) {\r\n    \t\tString part[] = txt.split(&quot; &quot;, 2);\r\n    \t\tDouble num = Double.parseDouble(part[0]);\r\n    \t\t\r\n    \t\treturn NumberFormat.getInstance().format(num);;\r\n    \t}\r\n    }\r\n\r\nThis returns 2,300.99. However, I would like to have 2.300,99. How to do it? Locale is hr.","title":"How to use NumberFormat in Java for custom currency formatting?","body":"<p>I have this:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        String in = &quot;2300.99 EUR&quot;;\n        String out = formatCurrency(in);\n        System.out.println(out);\n    }\n    \n    private static String formatCurrency(String txt) {\n        String part[] = txt.split(&quot; &quot;, 2);\n        Double num = Double.parseDouble(part[0]);\n        \n        return NumberFormat.getInstance().format(num);;\n    }\n}\n</code></pre>\n<p>This returns 2,300.99. However, I would like to have 2.300,99. How to do it? Locale is hr.</p>\n"},{"tags":["java","api","odoo-13"],"comments":[{"owner":{"account_id":5737580,"reputation":724,"user_id":4531180,"display_name":"Nicholas Saunders"},"score":0,"creation_date":1605414155,"post_id":61789885,"comment_id":114640960,"body_markdown":"would you care to post any code?","body":"would you care to post any code?"},{"owner":{"account_id":4953349,"reputation":565,"user_id":3986680,"display_name":"Muhammad Yusuf"},"score":0,"creation_date":1650966129,"post_id":61789885,"comment_id":127243239,"body_markdown":"Please provide more details like what you have tried and also check if there is db_name added to the config file means you should have only one database accessible at a time","body":"Please provide more details like what you have tried and also check if there is db_name added to the config file means you should have only one database accessible at a time"}],"answers":[{"tags":[],"owner":{"account_id":20467662,"reputation":113,"user_id":15018806,"display_name":"Houssem Chouia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654505475,"creation_date":1650963345,"answer_id":72011101,"question_id":61789885,"body_markdown":"Read the [**documentation on external API&#39;s**][1], use this snippet to **test out connection** to your **Odoo instance**:\r\n\r\n\r\n\r\n    final XmlRpcClient client = new XmlRpcClient();\r\n    \r\n    final XmlRpcClientConfigImpl start_config = new XmlRpcClientConfigImpl();\r\n    start_config.setServerURL(new URL(&quot;https://demo.odoo.com/start&quot;));\r\n    final Map&lt;String, String&gt; info = (Map&lt;String, String&gt;)client.execute(\r\n        start_config, &quot;start&quot;, emptyList());\r\n    \r\n    final String url = info.get(&quot;host&quot;),\r\n                  db = info.get(&quot;database&quot;),\r\n            username = info.get(&quot;user&quot;),\r\n            password = info.get(&quot;password&quot;);\r\n\r\n\r\n  [1]: https://www.odoo.com/documentation/13.0/developer/misc/api/odoo.html","title":"How can I use odoo login api to external application like postman and java?","body":"<p>Read the <a href=\"https://www.odoo.com/documentation/13.0/developer/misc/api/odoo.html\" rel=\"nofollow noreferrer\"><strong>documentation on external API's</strong></a>, use this snippet to <strong>test out connection</strong> to your <strong>Odoo instance</strong>:</p>\n<pre><code>final XmlRpcClient client = new XmlRpcClient();\n\nfinal XmlRpcClientConfigImpl start_config = new XmlRpcClientConfigImpl();\nstart_config.setServerURL(new URL(&quot;https://demo.odoo.com/start&quot;));\nfinal Map&lt;String, String&gt; info = (Map&lt;String, String&gt;)client.execute(\n    start_config, &quot;start&quot;, emptyList());\n\nfinal String url = info.get(&quot;host&quot;),\n              db = info.get(&quot;database&quot;),\n        username = info.get(&quot;user&quot;),\n        password = info.get(&quot;password&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23394892,"reputation":11,"user_id":17459069,"display_name":"Mart&#237;n V&#233;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654315984,"creation_date":1654315984,"answer_id":72497005,"question_id":61789885,"body_markdown":"Normally you must create an application to connect using rpc request. However, if you want to test it in dev environment, you can disable the csrf token in route. \r\nAccording to this website http://vauxoo.github.io/odoo/reference/http.html, there is csrf parameter that can be set to false in the route.","title":"How can I use odoo login api to external application like postman and java?","body":"<p>Normally you must create an application to connect using rpc request. However, if you want to test it in dev environment, you can disable the csrf token in route.\nAccording to this website <a href=\"http://vauxoo.github.io/odoo/reference/http.html\" rel=\"nofollow noreferrer\">http://vauxoo.github.io/odoo/reference/http.html</a>, there is csrf parameter that can be set to false in the route.</p>\n"},{"tags":[],"owner":{"account_id":14519324,"reputation":409,"user_id":16377205,"display_name":"mani kandan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654409610,"creation_date":1654409610,"answer_id":72505195,"question_id":61789885,"body_markdown":"Try jsonrpc web authentication api  &quot;/web/session/authenticate&quot; with type json. I am working on odoo framework mobile api connection. Its working.","title":"How can I use odoo login api to external application like postman and java?","body":"<p>Try jsonrpc web authentication api  &quot;/web/session/authenticate&quot; with type json. I am working on odoo framework mobile api connection. Its working.</p>\n"}],"owner":{"account_id":10969678,"reputation":41,"user_id":8060390,"display_name":"Sohaib Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1654505475,"creation_date":1589433839,"question_id":61789885,"body_markdown":"I want to hit login api from `postman` or java and the error generating bad `csrf` token. \r\n\r\nHave any solution to fix this issue or we disabled `csrf` token?","title":"How can I use odoo login api to external application like postman and java?","body":"<p>I want to hit login api from <code>postman</code> or java and the error generating bad <code>csrf</code> token.</p>\n<p>Have any solution to fix this issue or we disabled <code>csrf</code> token?</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"score":1,"creation_date":1654508920,"post_id":72515173,"comment_id":128099396,"body_markdown":"may be xmlunit could help https://github.com/xmlunit/xmlunit","body":"may be xmlunit could help <a href=\"https://github.com/xmlunit/xmlunit\" rel=\"nofollow noreferrer\">github.com/xmlunit/xmlunit</a>"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1654517939,"post_id":72515173,"comment_id":128102054,"body_markdown":"+1 for xmlunit, it can be configured and extended to also ignore minor differences (like namespaces, attribute order etc)","body":"+1 for xmlunit, it can be configured and extended to also ignore minor differences (like namespaces, attribute order etc)"}],"owner":{"account_id":25279878,"reputation":41,"user_id":19107897,"display_name":"Singam Chetty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654505281,"creation_date":1654505281,"question_id":72515173,"body_markdown":"Best way to compare two very large XML files record by record using java for API Testing.\r\n\r\nIt should display the difference of two files and display the difference output similar to website &quot;https://extendsclass.com/xml-diff.html&quot;\r\n\r\nThanks &amp; Regards, Sailesh Praveen","title":"Best way to compare two very large XML files record by record using java for API Testing","body":"<p>Best way to compare two very large XML files record by record using java for API Testing.</p>\n<p>It should display the difference of two files and display the difference output similar to website &quot;https://extendsclass.com/xml-diff.html&quot;</p>\n<p>Thanks &amp; Regards, Sailesh Praveen</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4038832,"reputation":11673,"user_id":3322273,"accept_rate":73,"display_name":"SomethingSomething"},"score":1,"creation_date":1654504564,"post_id":72514938,"comment_id":128098109,"body_markdown":"Check the docs [here](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console()). It appears that you have no console, which makes `System.console()` return null. Do you use `javaw` to run your app? You should use `java` rather than `javaw` to have a console. The fact that you try to call a method of `c` while it is assigned with `null` causes the `NullPointerException`.","body":"Check the docs <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#console()\" rel=\"nofollow noreferrer\">here</a>. It appears that you have no console, which makes <code>System.console()</code> return null. Do you use <code>javaw</code> to run your app? You should use <code>java</code> rather than <code>javaw</code> to have a console. The fact that you try to call a method of <code>c</code> while it is assigned with <code>null</code> causes the <code>NullPointerException</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1654507051,"post_id":72514938,"comment_id":128098859,"body_markdown":"Does this answer your question? [System.console() returns null](https://stackoverflow.com/questions/4203646/system-console-returns-null). Search for more.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4203646/system-console-returns-null\">System.console() returns null</a>. Search for more."}],"answers":[{"tags":[],"owner":{"account_id":17524201,"reputation":1248,"user_id":12709613,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654504787,"creation_date":1654504787,"answer_id":72515080,"question_id":72514938,"body_markdown":"Before using the instance returned by `Console cons = System.console()` to call the method, check whether the instance `cons` is null before executing other processes.\r\n\r\nIf your Java program wants to interact with cmd under Windows or Terminal under Linux/unix, you can use this Java Console class to do it for you. Starting an application from such an interactive command line returns an available Console instance.\r\n\r\n`Java.io.Console` can only be used in the original console where the standard input and output streams are not redirected, it is not available in Eclipse / Idea or other IDE consoles.","title":"I don&#39;t understand this error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>Before using the instance returned by <code>Console cons = System.console()</code> to call the method, check whether the instance <code>cons</code> is null before executing other processes.</p>\n<p>If your Java program wants to interact with cmd under Windows or Terminal under Linux/unix, you can use this Java Console class to do it for you. Starting an application from such an interactive command line returns an available Console instance.</p>\n<p><code>Java.io.Console</code> can only be used in the original console where the standard input and output streams are not redirected, it is not available in Eclipse / Idea or other IDE consoles.</p>\n"}],"owner":{"account_id":25250307,"reputation":11,"user_id":19280196,"display_name":"Javier L&#243;pez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1654504730,"answer_count":1,"score":0,"last_activity_date":1654504787,"creation_date":1654504002,"question_id":72514938,"body_markdown":"I have been reading the possible solutions to this error, but I don&#39;t quite understand it, here is the code and the output it gives me:\r\n\r\n\r\n\r\n    import java.io.Console;\r\n\r\n    public class Ejercicio3 {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Console c = System.console();\r\n\r\n            System.out.println(&quot;&#191;Cu&#225;ntas puertas quieres que tenga el coche?&quot;); \r\n            String numPuertas = c.readLine(); /* Here is the error */\r\n            int numNum = Integer.parseInt(numPuertas);\r\n\r\n            if (numNum == 3) {\r\n                System.out.println(&quot;Es un coche deportivo&quot;);\r\n            } \r\n\r\n            else if (numNum == 5) {\r\n                System.out.println(&quot;Es un coche familiar&quot;);\r\n            }\r\n        \r\n            else {\r\n                System.out.println(&quot;&#191;Seguro que el coche tiene &quot; + numNum + &quot; puertas?&quot;);\r\n            }\r\n        \r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n    &#191;Cu&#225;ntas puertas quieres que tenga el coche?\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;&lt;local1&gt;&quot; is null\r\n\tat Ejercicio3.main(Ejercicio3.java:13)\r\n\r\nBut it won&#39;t let me answer the question","title":"I don&#39;t understand this error: Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>I have been reading the possible solutions to this error, but I don't quite understand it, here is the code and the output it gives me:</p>\n<pre><code>import java.io.Console;\n\npublic class Ejercicio3 {\n\n    public static void main(String[] args) {\n\n        Console c = System.console();\n\n        System.out.println(&quot;¿Cuántas puertas quieres que tenga el coche?&quot;); \n        String numPuertas = c.readLine(); /* Here is the error */\n        int numNum = Integer.parseInt(numPuertas);\n\n        if (numNum == 3) {\n            System.out.println(&quot;Es un coche deportivo&quot;);\n        } \n\n        else if (numNum == 5) {\n            System.out.println(&quot;Es un coche familiar&quot;);\n        }\n    \n        else {\n            System.out.println(&quot;¿Seguro que el coche tiene &quot; + numNum + &quot; puertas?&quot;);\n        }\n    \n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>¿Cuántas puertas quieres que tenga el coche?\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.Console.readLine()&quot; because &quot;&lt;local1&gt;&quot; is null\nat Ejercicio3.main(Ejercicio3.java:13)\n</code></pre>\n<p>But it won't let me answer the question</p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654515917,"post_id":72515006,"comment_id":128101461,"body_markdown":"take a look at: https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html ?","body":"take a look at: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a> ?"},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":0,"creation_date":1654523487,"post_id":72515006,"comment_id":128104114,"body_markdown":"I read the link. For `parallel = classes` and `mvn test -T 5`. maven will build and run 5 modules in parallel. During the test phase of each module surefire is getting called and surefire is spawning 2 JVM to distribute the tests. Once all the tests are finished in module surefire fork will be termintated. Again a new surefire fork will be created for executing tests in another module. Only for a module, surefire fork will be reused. Is my understanding correct?","body":"I read the link. For <code>parallel = classes</code> and <code>mvn test -T 5</code>. maven will build and run 5 modules in parallel. During the test phase of each module surefire is getting called and surefire is spawning 2 JVM to distribute the tests. Once all the tests are finished in module surefire fork will be termintated. Again a new surefire fork will be created for executing tests in another module. Only for a module, surefire fork will be reused. Is my understanding correct?"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654504372,"creation_date":1654504372,"question_id":72515006,"body_markdown":"I am having a surefire configuration like below\r\n\r\n    &lt;configuration&gt;\r\n     &lt;forkCount&gt;2&lt;/forkCount&gt;\r\n     &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n    &lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;\r\n    &lt;parallel&gt;suitesAndClasses&lt;/parallel&gt;\r\n    &lt;/configuration&gt;\r\n\r\nIn a multimodule maven project if I am executing `mvn test -T 5` then how does parallelism work here? \r\n\r\n - Will it is that in surefire fork1 5 tests classes will be running in\r\n   parallel from module1 and 5 tests classes will be running in parallel\r\n   from module2 in fork2 assuming no test suites?\r\n - How it will behave when I have test suites? Will it be like suite1 from module1 running in fork1 with 5 test classes running in parallel and in fork2 a different suite from module2 will be running with 5 test classes running in parallel? What happen to those test class which do not belong to any suites?\r\n\r\nVersions\r\n - Maven Version 3.8.4 \r\n - Surefire version 3.0.0-M6","title":"Maven 3.8 Difference between thread count and forkcount for suitsAndClasses parallelism?","body":"<p>I am having a surefire configuration like below</p>\n<pre><code>&lt;configuration&gt;\n &lt;forkCount&gt;2&lt;/forkCount&gt;\n &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n&lt;perCoreThreadCount&gt;false&lt;/perCoreThreadCount&gt;\n&lt;parallel&gt;suitesAndClasses&lt;/parallel&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>In a multimodule maven project if I am executing <code>mvn test -T 5</code> then how does parallelism work here?</p>\n<ul>\n<li>Will it is that in surefire fork1 5 tests classes will be running in\nparallel from module1 and 5 tests classes will be running in parallel\nfrom module2 in fork2 assuming no test suites?</li>\n<li>How it will behave when I have test suites? Will it be like suite1 from module1 running in fork1 with 5 test classes running in parallel and in fork2 a different suite from module2 will be running with 5 test classes running in parallel? What happen to those test class which do not belong to any suites?</li>\n</ul>\n<p>Versions</p>\n<ul>\n<li>Maven Version 3.8.4</li>\n<li>Surefire version 3.0.0-M6</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654504233,"creation_date":1654504233,"answer_id":72514980,"question_id":72514729,"body_markdown":"From the above mentioned details what I understood is that we have to insert all the enums present in the java file to database.\r\n\r\nThe possible answer I think would be to iterate over all the enums and insert each of them to database.\r\n\r\n```\r\nEnumSet.allOf(EJobTrackingType.class)\r\n            .forEach(eJob -&gt; ejobRepository.saveAnFlush(eJob));\r\n```\r\nThis is not the actual implementation though but it gives idea how we can proceed.\r\n\r\nWe can have a class mapping to the values that has to be stored marked as @Entity.\r\nPopulate that class with values in Enums with the help of some adapter.\r\nAnd the entity class can be saved to database.\r\n\r\nWe can have some attribute to specify an insert or update has to be made. So that we can have some filter during the forEach of Enums.\r\n\r\nThis job can be ran on the start up of application where a new class which will handle this job can be annotated with @Configuration. If there are too many rows to be updated/inserted there might be a possibility of running this job in a separate thread.\r\n\r\nI think this helps.. These are few things I thought of..","title":"How to insert all enums into database?","body":"<p>From the above mentioned details what I understood is that we have to insert all the enums present in the java file to database.</p>\n<p>The possible answer I think would be to iterate over all the enums and insert each of them to database.</p>\n<pre><code>EnumSet.allOf(EJobTrackingType.class)\n            .forEach(eJob -&gt; ejobRepository.saveAnFlush(eJob));\n</code></pre>\n<p>This is not the actual implementation though but it gives idea how we can proceed.</p>\n<p>We can have a class mapping to the values that has to be stored marked as @Entity.\nPopulate that class with values in Enums with the help of some adapter.\nAnd the entity class can be saved to database.</p>\n<p>We can have some attribute to specify an insert or update has to be made. So that we can have some filter during the forEach of Enums.</p>\n<p>This job can be ran on the start up of application where a new class which will handle this job can be annotated with @Configuration. If there are too many rows to be updated/inserted there might be a possibility of running this job in a separate thread.</p>\n<p>I think this helps.. These are few things I thought of..</p>\n"}],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72514980,"answer_count":1,"score":1,"last_activity_date":1654504233,"creation_date":1654502690,"question_id":72514729,"body_markdown":"We have a list of ENUMS for different purposes. \r\n\r\n\r\n**Sample Enum:**\r\n\r\n    public enum EJobTrackingType implements Lookup&lt;EJobTrackingType&gt; {\r\n\r\n     //I want to save all these enums into database\r\n\r\n      NOTIFY_SERVICE(230000001, 1,&quot;Notify service&quot;,  &quot;desc&quot;),\r\n      COMPLETED_SERVICE(230000002, 2,&quot;Completed service&quot;,  &quot;desc&quot;),\r\n      ..... //more than 100 enums like this\r\n    }\r\n\r\n\r\n\r\nwe use .sql file to save this enums,\r\n\r\n     INSERT INTO FTTHAPP.TBL_LOOKUP (id, parent_lookup_id, group_id, group_name, code, name, desc) values (230000001, NULL, 23, &#39;JOB_TRACKING_TYPE&#39;,   1, &#39;NOTIFY_SERVICE&#39;, &quot;desc&quot;)\r\n\r\n**Problem:**\r\n\r\nWe need to write values two times (One in **enum** and another one **.sql statement**)\r\n\r\n\r\nIt seems not efficient way, **Is any other way to save ENUMS to avoid this repetition?**","title":"How to insert all enums into database?","body":"<p>We have a list of ENUMS for different purposes.</p>\n<p><strong>Sample Enum:</strong></p>\n<pre><code>public enum EJobTrackingType implements Lookup&lt;EJobTrackingType&gt; {\n\n //I want to save all these enums into database\n\n  NOTIFY_SERVICE(230000001, 1,&quot;Notify service&quot;,  &quot;desc&quot;),\n  COMPLETED_SERVICE(230000002, 2,&quot;Completed service&quot;,  &quot;desc&quot;),\n  ..... //more than 100 enums like this\n}\n</code></pre>\n<p>we use .sql file to save this enums,</p>\n<pre><code> INSERT INTO FTTHAPP.TBL_LOOKUP (id, parent_lookup_id, group_id, group_name, code, name, desc) values (230000001, NULL, 23, 'JOB_TRACKING_TYPE',   1, 'NOTIFY_SERVICE', &quot;desc&quot;)\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>We need to write values two times (One in <strong>enum</strong> and another one <strong>.sql statement</strong>)</p>\n<p>It seems not efficient way, <strong>Is any other way to save ENUMS to avoid this repetition?</strong></p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654503945,"creation_date":1654503945,"answer_id":72514928,"question_id":72514343,"body_markdown":"May be you need to implement ```BeanFactoryPostProcessor``` if you want to check the bean definitions or ```BeanPostProcessor``` if you want to check bean instances.\r\nfor the first case you need to implements ```postProcessBeanFactory``` method in which you have a total control on BeanFactory\r\nfor example you could check the list of registered beans of type ```IStorageService```  using ```getBeanNamesForType(IStorageService.class)``` method and register the default ```IStorageService``` using ```registerSingleton``` if no bean is configured","title":"How to enforce that only 1 instance of service interface can exists, with exception of Default in Spring","body":"<p>May be you need to implement <code>BeanFactoryPostProcessor</code> if you want to check the bean definitions or <code>BeanPostProcessor</code> if you want to check bean instances.\nfor the first case you need to implements <code>postProcessBeanFactory</code> method in which you have a total control on BeanFactory\nfor example you could check the list of registered beans of type <code>IStorageService</code>  using <code>getBeanNamesForType(IStorageService.class)</code> method and register the default <code>IStorageService</code> using <code>registerSingleton</code> if no bean is configured</p>\n"}],"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654503945,"creation_date":1654500345,"question_id":72514343,"body_markdown":"I have a interface `IStorageService`. User can use application configuration to configure different services. All services will be created as with `@Bean @ConditionalOnExpression(...)`. How can i enforce that only one Storage service can exist? I know that you need to explisitly configure to allow beanoverrides, but i need to have a DefaultStorageService if none are configured and if configuration exists, then only one service should be created that will override the DefaultService. If more than one is configured to be created i want the startup to throw an error and fail. How do i do this?","title":"How to enforce that only 1 instance of service interface can exists, with exception of Default in Spring","body":"<p>I have a interface <code>IStorageService</code>. User can use application configuration to configure different services. All services will be created as with <code>@Bean @ConditionalOnExpression(...)</code>. How can i enforce that only one Storage service can exist? I know that you need to explisitly configure to allow beanoverrides, but i need to have a DefaultStorageService if none are configured and if configuration exists, then only one service should be created that will override the DefaultService. If more than one is configured to be created i want the startup to throw an error and fail. How do i do this?</p>\n"},{"tags":["java","http","types","casting"],"answers":[{"tags":[],"owner":{"account_id":16646703,"reputation":38,"user_id":12030840,"display_name":"Daniel Mertins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654503617,"creation_date":1654503617,"answer_id":72514878,"question_id":71470432,"body_markdown":"I found this answer, and it was working for me:\r\n\r\nhttps://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.exchange(pUrl, HttpMethod.POST, pEntity, new ParameterizedTypeReference&lt;ResultListPage&lt;MyObject&gt;&gt;() {});","title":"Generic restTemplateExchange with generic responseType","body":"<p>I found this answer, and it was working for me:</p>\n<p><a href=\"https://stackoverflow.com/questions/13819734/unable-to-get-a-generic-responseentityt-where-t-is-a-generic-class-someclass\">Unable to get a generic ResponseEntity&lt;T&gt; where T is a generic class &quot;SomeClass&lt;SomeGenericType&gt;&quot;</a></p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.exchange(pUrl, HttpMethod.POST, pEntity, new ParameterizedTypeReference&lt;ResultListPage&lt;MyObject&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":21522350,"reputation":111,"user_id":15863268,"display_name":"Giuseppe Percuoco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72514878,"answer_count":1,"score":0,"last_activity_date":1654503617,"creation_date":1647272425,"question_id":71470432,"body_markdown":"I would like to create a own generic method that calls the *restTemplate.exchange*.\r\nIn particular I would like that the signature of this generic method to be :\r\n\r\n    protected &lt;T&gt; ResponseEntity&lt;T&gt; genericExchange(String uri, HttpMethod method, @Nullable HttpEntity&lt;?&gt; requestEntity, --&gt;responseType&lt;--)\r\n\r\nI would differentiate what *exchange* method call according to &quot;responseType&quot;\r\n- if *responseType* is *Class&lt; T&gt;* I call *\texchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt; T&gt; responseType)*\r\n- if *responseType* is *ParameterizedTypeReference&lt; T&gt;* I call *\texchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, ParameterizedTypeReference&lt; T&gt; responseType)*","title":"Generic restTemplateExchange with generic responseType","body":"<p>I would like to create a own generic method that calls the <em>restTemplate.exchange</em>.\nIn particular I would like that the signature of this generic method to be :</p>\n<pre><code>protected &lt;T&gt; ResponseEntity&lt;T&gt; genericExchange(String uri, HttpMethod method, @Nullable HttpEntity&lt;?&gt; requestEntity, --&gt;responseType&lt;--)\n</code></pre>\n<p>I would differentiate what <em>exchange</em> method call according to &quot;responseType&quot;</p>\n<ul>\n<li>if <em>responseType</em> is <em>Class&lt; T&gt;</em> I call * exchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, Class&lt; T&gt; responseType)*</li>\n<li>if <em>responseType</em> is <em>ParameterizedTypeReference&lt; T&gt;</em> I call *    exchange(URI url, HttpMethod method, HttpEntity&lt;?&gt; requestEntity, ParameterizedTypeReference&lt; T&gt; responseType)*</li>\n</ul>\n"},{"tags":["java","quarkus","java-11","authorize.net","graalvm-native-image"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1654499217,"post_id":72514095,"comment_id":128096720,"body_markdown":"Just to make sure: you did replace the `&lt;class-name&gt;` part with `com.sun.jmx.mbeanserver.JmxMBeanServer`, did you? Because it&#39;s just a placeholder in that error message.","body":"Just to make sure: you did replace the <code>&lt;class-name&gt;</code> part with <code>com.sun.jmx.mbeanserver.JmxMBeanServer</code>, did you? Because it&#39;s just a placeholder in that error message."},{"owner":{"account_id":25483640,"reputation":9,"user_id":19279510,"display_name":"fzj"},"score":0,"creation_date":1654501359,"post_id":72514095,"comment_id":128097237,"body_markdown":"@JoachimSauer yes I did replace com.sun.jmx.mbeanserver.JmxMBeanServer in place of class-name, it does not work.\ni also tried adding my project class which use authorize.net depency.","body":"@JoachimSauer yes I did replace com.sun.jmx.mbeanserver.JmxMBeanServer in place of class-name, it does not work. i also tried adding my project class which use authorize.net depency."}],"owner":{"account_id":25483640,"reputation":9,"user_id":19279510,"display_name":"fzj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1654503101,"creation_date":1654498811,"question_id":72514095,"body_markdown":"Does anyone have information about Authorize.net support GraalVm or not?\r\nWe are moving our project to Native Image and getting following exception in creating native image:\r\n\r\n```\r\nError: Unsupported features in 2 methods\r\nDetailed message:\r\nError: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would\r\nneed to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-ob\r\nject-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initializa\r\ntion at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\r\nTrace: Object was reached by\r\n        indexing into array\r\n                constant java.lang.Object[]@7504af74 reached by\r\n        reading field java.util.ArrayList.elementData of\r\n                constant java.util.ArrayList@24b75efc reached by\r\n        scanning method javax.management.MBeanServerFactory.addMBeanServer(MBeanServerFactory.java:418)\r\nCall path from entry point to javax.management.MBeanServerFactory.addMBeanServer(MBeanServer):\r\n        at javax.management.MBeanServerFactory.addMBeanServer(MBeanServerFactory.java:418)\r\n        at javax.management.MBeanServerFactory.createMBeanServer(MBeanServerFactory.java:232)\r\n        at javax.management.MBeanServerFactory.createMBeanServer(MBeanServerFactory.java:192)\r\n        at com.oracle.svm.core.jdk.management.ManagementSupport.getPlatformMBeanServer(ManagementSupport.java:257)\r\n        at com.oracle.svm.core.jdk.management.Target_java_lang_management_ManagementFactory.getPlatformMBeanServer(Target_java_lang_management_ManagementFactory.java:45)\r\n        at org.apache.logging.log4j.core.jmx.Server.unregisterLoggerContext(Server.java:248)\r\n        at org.apache.logging.log4j.core.LoggerContext.stop(LoggerContext.java:379)\r\n        at org.apache.logging.log4j.core.LoggerContext$1.run(LoggerContext.java:320)\r\n        at java.lang.Thread.run(Thread.java:829)\r\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:600)\r\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\r\n        at com.oracle.svm.core.code.IsolateEnterStub.PosixJavaThreads_pthreadStartRoutine_e1f4a8c0039f8337338252cd8734f63a79b5e3df(generated:0)\r\nError: type is not available in this platform: org.graalvm.compiler.hotspot.management.AggregatedMemoryPoolBean\r\nTrace: Object was reached by\r\n        reading field java.lang.ref.Reference.referent of\r\n                constant java.util.WeakHashMap$Entry@5e4acddb reached by\r\n        indexing into array\r\n                constant java.util.WeakHashMap$Entry[]@5eed71e9 reached by\r\n        reading field java.util.WeakHashMap.table of\r\n                constant com.sun.jmx.mbeanserver.MBeanIntrospector$MBeanInfoMap@33ac075d reached by\r\n        scanning method com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap(MXBeanIntrospector.java:68)\r\nCall path from entry point to com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap():\r\n        at com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap(MXBeanIntrospector.java:68)\r\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.getClassMBeanInfo(MBeanIntrospector.java:416)\r\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.getMBeanInfo(MBeanIntrospector.java:392)\r\n        at com.sun.jmx.mbeanserver.MBeanSupport.&lt;init&gt;(MBeanSupport.java:139)\r\n        at com.sun.jmx.mbeanserver.MXBeanSupport.&lt;init&gt;(MXBeanSupport.java:66)\r\n        at com.sun.jmx.mbeanserver.Introspector.makeDynamicMBean(Introspector.java:203)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:888)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:320)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer$2.run(JmxMBeanServer.java:1225)\r\n        at com.oracle.svm.core.jdk.Target_java_security_AccessController.doPrivileged(SecuritySubstitutions.java:123)\r\n        at java.util.ServiceLoader.loadProvider(ServiceLoader.java:859)\r\n        at java.util.ServiceLoader$LayerLookupIterator.hasNext(ServiceLoader.java:952)\r\n        at sun.java2d.SunGraphics2D.setRenderingHints(SunGraphics2D.java:1370)\r\n        at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VARARGS_SunGraphics2D_setRenderingHints_8d5833c6be813de16ff61d40a14ac79dc4dda89c(generated:0)\r\n```\r\nThe issue does not explicitly points to Authorize.net SDK, but it resolved when the following dependency is removed:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.authorize&lt;/groupId&gt;\r\n      &lt;artifactId&gt;anet-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI have also tried adding `--initialize-at-run-time=com.sun.jmx.mbeanserver.JmxMBeanServer`, but the issue still persists\r\n\r\n - Java version &quot;11.0.10&quot; 2021-01-19 LTS \r\n - Quarkus version : 2.5.0.Final\r\n - GraalVM: 21.3 \r\n - Maven version: Apache Maven 3.8.1","title":"Does Authorize.net support have of graalVM?","body":"<p>Does anyone have information about Authorize.net support GraalVm or not?\nWe are moving our project to Native Image and getting following exception in creating native image:</p>\n<pre><code>Error: Unsupported features in 2 methods\nDetailed message:\nError: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would\nneed to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-ob\nject-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initializa\ntion at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\nTrace: Object was reached by\n        indexing into array\n                constant java.lang.Object[]@7504af74 reached by\n        reading field java.util.ArrayList.elementData of\n                constant java.util.ArrayList@24b75efc reached by\n        scanning method javax.management.MBeanServerFactory.addMBeanServer(MBeanServerFactory.java:418)\nCall path from entry point to javax.management.MBeanServerFactory.addMBeanServer(MBeanServer):\n        at javax.management.MBeanServerFactory.addMBeanServer(MBeanServerFactory.java:418)\n        at javax.management.MBeanServerFactory.createMBeanServer(MBeanServerFactory.java:232)\n        at javax.management.MBeanServerFactory.createMBeanServer(MBeanServerFactory.java:192)\n        at com.oracle.svm.core.jdk.management.ManagementSupport.getPlatformMBeanServer(ManagementSupport.java:257)\n        at com.oracle.svm.core.jdk.management.Target_java_lang_management_ManagementFactory.getPlatformMBeanServer(Target_java_lang_management_ManagementFactory.java:45)\n        at org.apache.logging.log4j.core.jmx.Server.unregisterLoggerContext(Server.java:248)\n        at org.apache.logging.log4j.core.LoggerContext.stop(LoggerContext.java:379)\n        at org.apache.logging.log4j.core.LoggerContext$1.run(LoggerContext.java:320)\n        at java.lang.Thread.run(Thread.java:829)\n        at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:600)\n        at com.oracle.svm.core.posix.thread.PosixJavaThreads.pthreadStartRoutine(PosixJavaThreads.java:192)\n        at com.oracle.svm.core.code.IsolateEnterStub.PosixJavaThreads_pthreadStartRoutine_e1f4a8c0039f8337338252cd8734f63a79b5e3df(generated:0)\nError: type is not available in this platform: org.graalvm.compiler.hotspot.management.AggregatedMemoryPoolBean\nTrace: Object was reached by\n        reading field java.lang.ref.Reference.referent of\n                constant java.util.WeakHashMap$Entry@5e4acddb reached by\n        indexing into array\n                constant java.util.WeakHashMap$Entry[]@5eed71e9 reached by\n        reading field java.util.WeakHashMap.table of\n                constant com.sun.jmx.mbeanserver.MBeanIntrospector$MBeanInfoMap@33ac075d reached by\n        scanning method com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap(MXBeanIntrospector.java:68)\nCall path from entry point to com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap():\n        at com.sun.jmx.mbeanserver.MXBeanIntrospector.getMBeanInfoMap(MXBeanIntrospector.java:68)\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.getClassMBeanInfo(MBeanIntrospector.java:416)\n        at com.sun.jmx.mbeanserver.MBeanIntrospector.getMBeanInfo(MBeanIntrospector.java:392)\n        at com.sun.jmx.mbeanserver.MBeanSupport.&lt;init&gt;(MBeanSupport.java:139)\n        at com.sun.jmx.mbeanserver.MXBeanSupport.&lt;init&gt;(MXBeanSupport.java:66)\n        at com.sun.jmx.mbeanserver.Introspector.makeDynamicMBean(Introspector.java:203)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:888)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:320)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer$2.run(JmxMBeanServer.java:1225)\n        at com.oracle.svm.core.jdk.Target_java_security_AccessController.doPrivileged(SecuritySubstitutions.java:123)\n        at java.util.ServiceLoader.loadProvider(ServiceLoader.java:859)\n        at java.util.ServiceLoader$LayerLookupIterator.hasNext(ServiceLoader.java:952)\n        at sun.java2d.SunGraphics2D.setRenderingHints(SunGraphics2D.java:1370)\n        at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VARARGS_SunGraphics2D_setRenderingHints_8d5833c6be813de16ff61d40a14ac79dc4dda89c(generated:0)\n</code></pre>\n<p>The issue does not explicitly points to Authorize.net SDK, but it resolved when the following dependency is removed:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.authorize&lt;/groupId&gt;\n  &lt;artifactId&gt;anet-java-sdk&lt;/artifactId&gt;\n  &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have also tried adding <code>--initialize-at-run-time=com.sun.jmx.mbeanserver.JmxMBeanServer</code>, but the issue still persists</p>\n<ul>\n<li>Java version &quot;11.0.10&quot; 2021-01-19 LTS</li>\n<li>Quarkus version : 2.5.0.Final</li>\n<li>GraalVM: 21.3</li>\n<li>Maven version: Apache Maven 3.8.1</li>\n</ul>\n"},{"tags":["java","json","spring","spring-boot","exception"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1552355747,"post_id":55112349,"comment_id":96968427,"body_markdown":"try with `InvalidFormatException` exception","body":"try with <code>InvalidFormatException</code> exception"},{"owner":{"account_id":9481472,"reputation":191,"user_id":7049266,"display_name":"Svajunas Kavaliauskas"},"score":0,"creation_date":1552358330,"post_id":55112349,"comment_id":96968981,"body_markdown":"@Deadpool tried, but no change :/ (have both handleHttpMessageNotReadable and InvalidFormatException ExceptionHandlers now)","body":"@Deadpool tried, but no change :/ (have both handleHttpMessageNotReadable and InvalidFormatException ExceptionHandlers now)"}],"answers":[{"tags":[],"owner":{"account_id":9481472,"reputation":191,"user_id":7049266,"display_name":"Svajunas Kavaliauskas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1552397670,"creation_date":1552397670,"answer_id":55122771,"question_id":55112349,"body_markdown":"The problem is solved. I had my custom exception classes in a badly named package. It was called just exception. While it should have been com.app.exception where the whole project is.","title":"Unable to use custom HttpMessageNotReadableException error message in Spring Boot","body":"<p>The problem is solved. I had my custom exception classes in a badly named package. It was called just exception. While it should have been com.app.exception where the whole project is.</p>\n"},{"tags":[],"owner":{"account_id":20729498,"reputation":141,"user_id":15221862,"display_name":"Dancan Chibole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654503046,"creation_date":1654503046,"answer_id":72514795,"question_id":55112349,"body_markdown":"I ran into this error HttpMessageNotReadableException and I felt the need of customizing it. After a few trials, I ended up with a better and more readable format. \r\nStep 1: Create a Custom Error Details class with the fields that you would want to expose to the client. Below is what I created. \r\n\r\n    public class ErrorDetails {\r\n    private final Date timestamp;\r\n    private final String message;\r\n    private final String details;\r\n\r\n    public ErrorDetails(Date timestamp, String message, String details) {\r\n        this.timestamp = timestamp;\r\n        this.message = message;\r\n        this.details=details;\r\n\r\n    }\r\n// getters not included for brevity\r\n\r\nStep 2: Create a class that will extend the ResponseEntityHandler which has the exceptions that can be overridden. Here, override the handleHttpMessageNotReadbale method, and then in the method have an implementation of your own custom error handler. \r\n\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n            HttpMessageNotReadableException ex,\r\n            HttpHeaders headers,\r\n            HttpStatus status,\r\n            WebRequest request) {\r\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), ex.getMessage(),request.getDescription(false));\r\n        return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n\r\nStep 3: Run your POST or PUT method with the wrong input fields and check the result. For instance, gender is an enum class with only FEMALE and MALE.\r\n\r\n    {\r\n    &quot;firstName&quot;:&quot;Dell&quot;,\r\n    &quot;lastName&quot;:&quot;HP&quot;,\r\n    &quot;birthYear&quot;:&quot;2000-02-12&quot;,\r\n    &quot;email&quot;:&quot;dell@gmail.com&quot;,\r\n    &quot;gender&quot;:&quot;BOY&quot;\r\n}\r\n\r\nThe response is like below:\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-06-06T08:08:53.906+00:00&quot;,\r\n    &quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `com.io.clinic.utils.Gender` from String \\&quot;BOY\\&quot;: not one of the values accepted for Enum class: [FEMALE, MALE]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `com.io.clinic.utils.Gender` from String \\&quot;BOY\\&quot;: not one of the values accepted for Enum class: [FEMALE, MALE]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 6, column: 14] (through reference chain: com.io.clinic.payloadDTO.PatientDTO[\\&quot;gender\\&quot;])&quot;,\r\n    &quot;details&quot;: &quot;uri=/api/v1/patients&quot;\r\n}\r\nI was satisfied with having the message in that state for debugging but you can also customize the message response in the overridden method.\r\n\r\n","title":"Unable to use custom HttpMessageNotReadableException error message in Spring Boot","body":"<p>I ran into this error HttpMessageNotReadableException and I felt the need of customizing it. After a few trials, I ended up with a better and more readable format.\nStep 1: Create a Custom Error Details class with the fields that you would want to expose to the client. Below is what I created.</p>\n<pre><code>public class ErrorDetails {\nprivate final Date timestamp;\nprivate final String message;\nprivate final String details;\n\npublic ErrorDetails(Date timestamp, String message, String details) {\n    this.timestamp = timestamp;\n    this.message = message;\n    this.details=details;\n\n}\n</code></pre>\n<p>// getters not included for brevity</p>\n<p>Step 2: Create a class that will extend the ResponseEntityHandler which has the exceptions that can be overridden. Here, override the handleHttpMessageNotReadbale method, and then in the method have an implementation of your own custom error handler.</p>\n<p>@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n        HttpMessageNotReadableException ex,\n        HttpHeaders headers,\n        HttpStatus status,\n        WebRequest request) {\n    ErrorDetails errorDetails = new ErrorDetails(new Date(), ex.getMessage(),request.getDescription(false));\n    return new ResponseEntity&lt;&gt;(errorDetails, HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n<p>}</p>\n<p>Step 3: Run your POST or PUT method with the wrong input fields and check the result. For instance, gender is an enum class with only FEMALE and MALE.</p>\n<pre><code>{\n&quot;firstName&quot;:&quot;Dell&quot;,\n&quot;lastName&quot;:&quot;HP&quot;,\n&quot;birthYear&quot;:&quot;2000-02-12&quot;,\n&quot;email&quot;:&quot;dell@gmail.com&quot;,\n&quot;gender&quot;:&quot;BOY&quot;\n</code></pre>\n<p>}</p>\n<p>The response is like below:</p>\n<p>{\n&quot;timestamp&quot;: &quot;2022-06-06T08:08:53.906+00:00&quot;,\n&quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type <code>com.io.clinic.utils.Gender</code> from String &quot;BOY&quot;: not one of the values accepted for Enum class: [FEMALE, MALE]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type <code>com.io.clinic.utils.Gender</code> from String &quot;BOY&quot;: not one of the values accepted for Enum class: [FEMALE, MALE]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 6, column: 14] (through reference chain: com.io.clinic.payloadDTO.PatientDTO[&quot;gender&quot;])&quot;,\n&quot;details&quot;: &quot;uri=/api/v1/patients&quot;\n}\nI was satisfied with having the message in that state for debugging but you can also customize the message response in the overridden method.</p>\n"}],"owner":{"account_id":9481472,"reputation":191,"user_id":7049266,"display_name":"Svajunas Kavaliauskas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5878,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55122771,"answer_count":2,"score":0,"last_activity_date":1654503046,"creation_date":1552350479,"question_id":55112349,"body_markdown":"I&#39;m currently trying to provide custom messages for exceptions, but ran into an issue with HttpMessageNotReadableException.\r\n\r\nI have an ErrorDetails class:\r\n    \r\n\r\n    public class ErrorDetails {\r\n        private Date timestamp;\r\n        private String message;\r\n        private String details;\r\n\t\r\n\t\r\n\r\n        public ErrorDetails(Date timestamp, String message, String details) {\r\n    \t\tsuper();\r\n    \t\tthis.timestamp = timestamp;\r\n    \t\tthis.message = message;\r\n    \t\tthis.details = details;\r\n    \t}\r\n    \r\n    \tpublic Date getTimestamp() {\r\n    \t\treturn timestamp;\r\n    \t}\r\n    \r\n    \tpublic void setTimestamp(Date timestamp) {\r\n    \t\tthis.timestamp = timestamp;\r\n    \t}\r\n    \r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \r\n    \tpublic String getDetails() {\r\n    \t\treturn details;\r\n    \t}\r\n    \r\n    \tpublic void setDetails(String details) {\r\n    \t\tthis.details = details;\r\n    \t}\r\n\r\nI also have a custom exception handler:\r\n\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    @ControllerAdvice\r\n    @RestController\r\n    public class CustomizedExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @ExceptionHandler(HttpMessageNotReadableException.class)\r\n\t    @Override\r\n\t    public final ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request){\r\n\t\t    ErrorDetails errorDetails = new ErrorDetails(new Date(), &quot;hello&quot;,request.getDescription(true));\r\n\t\t    errorDetails.setMessage(&quot;Testing message&quot;);\r\n\t\t    return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_ACCEPTABLE);\r\n\t    }\r\n    }\r\n\r\nBut when i try to post a bad request, for example, with a field that should have a integer value I pass a string in the JSON it still returns the default error message of:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2019-03-12T00:15:14.210+0000&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `int` from String \\&quot;lala\\&quot;: not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String \\&quot;lala\\&quot;: not a valid Integer value\\n at [Source: (PushbackInputStream); line: 5, column: 17] (through reference chain: com.tdl.model.ToDoNote[\\&quot;priority\\&quot;])&quot;,\r\n        &quot;path&quot;: &quot;/todos&quot;\r\n    }\r\n\r\nThe JSON request: \r\n\r\n    {\r\n        &quot;name&quot;: &quot;An workout&quot;,\r\n        &quot;dateToComplete&quot;: &quot;Today&quot;,\r\n        &quot;description&quot;: &quot;Sleep Day&quot;,\r\n        &quot;priority&quot;: &quot;lala&quot;,\r\n        &quot;completed&quot;: false\r\n    }\r\n\r\n\r\nThe desired effect would just be the test message appearing instead of the long description.\r\n\r\nI also get this in my Eclipse console:\r\n\r\n&gt;WARN 16508 --- [nio-5000-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `int` from String &quot;lala&quot;: not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String &quot;lala&quot;: not a valid Integer value\r\n at [Source: (PushbackInputStream); line: 5, column: 17] (through reference chain: com.tdl.model.ToDoNote[&quot;priority&quot;])]\r\n\r\nI changed the status to NOT_ACCEPTABLE just to see more clearly if my custom error is returned.\r\n\r\nAny help would be appreciated. Thank you.\r\n\r\n**EDIT**\r\n\r\nAdded ExceptionHandler for InvalidFormatException, but nothing changed. I still get the default error(exception) message same as before.\r\n\r\n    @ExceptionHandler(InvalidFormatException.class)\r\n    \tpublic final ResponseEntity&lt;Object&gt; handleInvalidFormat(InvalidFormatException ex, HttpHeaders headers, HttpStatus status, WebRequest request){\r\n    \t\tErrorDetails errorDetails = new ErrorDetails(new Date(), &quot;hello&quot;,request.getDescription(true));\r\n    \t\terrorDetails.setMessage(&quot;Testing message&quot;);\r\n    \t\treturn new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_ACCEPTABLE);\r\n    \t\t\r\n    \t}\r\n\r\n","title":"Unable to use custom HttpMessageNotReadableException error message in Spring Boot","body":"<p>I'm currently trying to provide custom messages for exceptions, but ran into an issue with HttpMessageNotReadableException.</p>\n\n<p>I have an ErrorDetails class:</p>\n\n<pre><code>public class ErrorDetails {\n    private Date timestamp;\n    private String message;\n    private String details;\n\n\n\n    public ErrorDetails(Date timestamp, String message, String details) {\n        super();\n        this.timestamp = timestamp;\n        this.message = message;\n        this.details = details;\n    }\n\n    public Date getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(Date timestamp) {\n        this.timestamp = timestamp;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public String getDetails() {\n        return details;\n    }\n\n    public void setDetails(String details) {\n        this.details = details;\n    }\n</code></pre>\n\n<p>I also have a custom exception handler:</p>\n\n<pre><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\n@RestController\npublic class CustomizedExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(HttpMessageNotReadableException.class)\n    @Override\n    public final ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request){\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), \"hello\",request.getDescription(true));\n        errorDetails.setMessage(\"Testing message\");\n        return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_ACCEPTABLE);\n    }\n}\n</code></pre>\n\n<p>But when i try to post a bad request, for example, with a field that should have a integer value I pass a string in the JSON it still returns the default error message of:</p>\n\n<pre><code>{\n    \"timestamp\": \"2019-03-12T00:15:14.210+0000\",\n    \"status\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": \"JSON parse error: Cannot deserialize value of type `int` from String \\\"lala\\\": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `int` from String \\\"lala\\\": not a valid Integer value\\n at [Source: (PushbackInputStream); line: 5, column: 17] (through reference chain: com.tdl.model.ToDoNote[\\\"priority\\\"])\",\n    \"path\": \"/todos\"\n}\n</code></pre>\n\n<p>The JSON request: </p>\n\n<pre><code>{\n    \"name\": \"An workout\",\n    \"dateToComplete\": \"Today\",\n    \"description\": \"Sleep Day\",\n    \"priority\": \"lala\",\n    \"completed\": false\n}\n</code></pre>\n\n<p>The desired effect would just be the test message appearing instead of the long description.</p>\n\n<p>I also get this in my Eclipse console:</p>\n\n<blockquote>\n  <p>WARN 16508 --- [nio-5000-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>int</code> from String \"lala\": not a valid Integer value; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type <code>int</code> from String \"lala\": not a valid Integer value\n   at [Source: (PushbackInputStream); line: 5, column: 17] (through reference chain: com.tdl.model.ToDoNote[\"priority\"])]</p>\n</blockquote>\n\n<p>I changed the status to NOT_ACCEPTABLE just to see more clearly if my custom error is returned.</p>\n\n<p>Any help would be appreciated. Thank you.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Added ExceptionHandler for InvalidFormatException, but nothing changed. I still get the default error(exception) message same as before.</p>\n\n<pre><code>@ExceptionHandler(InvalidFormatException.class)\n    public final ResponseEntity&lt;Object&gt; handleInvalidFormat(InvalidFormatException ex, HttpHeaders headers, HttpStatus status, WebRequest request){\n        ErrorDetails errorDetails = new ErrorDetails(new Date(), \"hello\",request.getDescription(true));\n        errorDetails.setMessage(\"Testing message\");\n        return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_ACCEPTABLE);\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1654454844,"post_id":72510140,"comment_id":128089751,"body_markdown":"Don&#39;t know if this is causing your issue, but you&#39;ll need a `@ResponseBody` or `@RestController` annotation if you intend for the list of students to be the response body of that request.","body":"Don&#39;t know if this is causing your issue, but you&#39;ll need a <code>@ResponseBody</code> or <code>@RestController</code> annotation if you intend for the list of students to be the response body of that request."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1654458975,"post_id":72510140,"comment_id":128090716,"body_markdown":"You&#39;ve mis-typed `Student` in `StudnetController`. Does it help if you fix this typo?","body":"You&#39;ve mis-typed <code>Student</code> in <code>StudnetController</code>. Does it help if you fix this typo?"}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654502740,"creation_date":1654502740,"answer_id":72514735,"question_id":72510140,"body_markdown":"In my case, I Changed the `@Controller` to `@RestController` and solved the issue.\r\n\r\nAs @Knox mentioned in the comments, You either have to use `@ResponseBody`+`@Controller` or just use `@RestController`.\r\n\r\nAs the [docs][1] say:\r\n&gt; @RestController is A convenience annotation that is itself annotated with @Controller and @ResponseBody.\r\n\r\nYou can read more about it [here][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\r\n  [2]: https://www.geeksforgeeks.org/difference-between-controller-and-restcontroller-annotation-in-spring/#:~:text=%40RestController-,%40Controller%20is%20used%20to%20mark%20classes%20as%20Spring%20MVC%20Controller,specialized%20version%20of%20%40Component%20annotation.","title":"How to fix &quot;Circular view path&quot; exception error? - Springboot","body":"<p>In my case, I Changed the <code>@Controller</code> to <code>@RestController</code> and solved the issue.</p>\n<p>As @Knox mentioned in the comments, You either have to use <code>@ResponseBody</code>+<code>@Controller</code> or just use <code>@RestController</code>.</p>\n<p>As the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">docs</a> say:</p>\n<blockquote>\n<p>@RestController is A convenience annotation that is itself annotated with @Controller and @ResponseBody.</p>\n</blockquote>\n<p>You can read more about it <a href=\"https://www.geeksforgeeks.org/difference-between-controller-and-restcontroller-annotation-in-spring/#:%7E:text=%40RestController-,%40Controller%20is%20used%20to%20mark%20classes%20as%20Spring%20MVC%20Controller,specialized%20version%20of%20%40Component%20annotation.\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":21073141,"reputation":1,"user_id":15488957,"display_name":"Seneth_lakshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654502740,"creation_date":1654454204,"question_id":72510140,"body_markdown":"//I was shown this error in the log when I ran this code -&gt;\r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [Students]: would dispatch back to the current handler URL [/Students] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause &quot;\r\n\r\n\r\n```java\r\n//Controller class\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class StudnetController {\r\n\r\n    @Autowired\r\n    private StudentService studentService;\r\n\r\n    @GetMapping(path = &quot;/Students&quot;)\r\n    public List&lt;Student&gt; getAllStudent(){\r\n\r\n    return studentService.getStudent();\r\n        \r\n    }\r\n\r\n}\r\n```\r\n```java\r\n//service class\r\n\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    @Autowired\r\n    private StudentRepo studentRepo;\r\n\r\n    public List&lt;Student&gt; getStudent(){\r\n\r\n        return studentRepo.findAll();\r\n    }\r\n```\r\n","title":"How to fix &quot;Circular view path&quot; exception error? - Springboot","body":"<p>//I was shown this error in the log when I ran this code -&gt;</p>\n<blockquote>\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [Students]: would dispatch back to the current handler URL [/Students] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause &quot;</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>//Controller class\n\nimport java.util.List;\n\n@Controller\npublic class StudnetController {\n\n    @Autowired\n    private StudentService studentService;\n\n    @GetMapping(path = &quot;/Students&quot;)\n    public List&lt;Student&gt; getAllStudent(){\n\n    return studentService.getStudent();\n        \n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//service class\n\n\n@Service\npublic class StudentService {\n\n    @Autowired\n    private StudentRepo studentRepo;\n\n    public List&lt;Student&gt; getStudent(){\n\n        return studentRepo.findAll();\n    }\n</code></pre>\n"},{"tags":["java","eclipse","sap-commerce-cloud"],"comments":[{"owner":{"account_id":1668007,"reputation":1181,"user_id":1535041,"accept_rate":90,"display_name":"Craig Graham"},"score":0,"creation_date":1444913541,"post_id":33148955,"comment_id":54107384,"body_markdown":"People are more likely to answer if you actually ask a question and say what you&#39;ve tried so far to resolve this and what the outcome has been.","body":"People are more likely to answer if you actually ask a question and say what you&#39;ve tried so far to resolve this and what the outcome has been."}],"answers":[{"tags":[],"owner":{"account_id":894656,"reputation":1763,"user_id":932201,"accept_rate":87,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561720862,"creation_date":1445078647,"answer_id":33185662,"question_id":33148955,"body_markdown":"looks like you have forgotten to grant the appropriate rights (or not created the user at all?) that is configured to connect hybris to mysql.\r\n\r\nYou have to create it somehow like this:\r\n\r\n    create database dbName CHARACTER SET utf8 COLLATE utf8_bin; \r\n    create user &#39;theUser&#39;@&#39;localhost&#39; identified by &#39;thePassword&#39;;\r\n    grant all privileges on dbName.* to &#39;theUser&#39;@&#39;localhost&#39;;\r\n\r\nin your local.properties file you need to add an appropriate mysql configuration, something like this:\r\n\r\n\r\n    db.url=jdbc:mysql://localhost/dbName?useConfigs=maxPerformance&amp;characterEncoding=utf8&amp;innodb_flush_log_at_trx_commit=0\r\n    db.driver=com.mysql.jdbc.Driver\r\n    db.username=theUser\r\n    db.password=thePassword\r\n\r\n\r\nHope that helps.\r\n\r\n**Note** that this is just example information. If you want to setup your hybris for a production system you might have to do a few more things, but for a development setup this should get you started.","title":"Getting this error in run the hybrisserver","body":"<p>looks like you have forgotten to grant the appropriate rights (or not created the user at all?) that is configured to connect hybris to mysql.</p>\n\n<p>You have to create it somehow like this:</p>\n\n<pre><code>create database dbName CHARACTER SET utf8 COLLATE utf8_bin; \ncreate user 'theUser'@'localhost' identified by 'thePassword';\ngrant all privileges on dbName.* to 'theUser'@'localhost';\n</code></pre>\n\n<p>in your local.properties file you need to add an appropriate mysql configuration, something like this:</p>\n\n<pre><code>db.url=jdbc:mysql://localhost/dbName?useConfigs=maxPerformance&amp;characterEncoding=utf8&amp;innodb_flush_log_at_trx_commit=0\ndb.driver=com.mysql.jdbc.Driver\ndb.username=theUser\ndb.password=thePassword\n</code></pre>\n\n<p>Hope that helps.</p>\n\n<p><strong>Note</strong> that this is just example information. If you want to setup your hybris for a production system you might have to do a few more things, but for a development setup this should get you started.</p>\n"},{"tags":[],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654502026,"creation_date":1654502026,"answer_id":72514635,"question_id":33148955,"body_markdown":"i got the same problem. The solution is initialize database. Run the following command\r\n\r\n    sudo service mysql start\r\n\r\n\r\nif this command doesn&#39;t work run it again and run the following command(for control)\r\n\r\n    sudo service mysql status","title":"Getting this error in run the hybrisserver","body":"<p>i got the same problem. The solution is initialize database. Run the following command</p>\n<pre><code>sudo service mysql start\n</code></pre>\n<p>if this command doesn't work run it again and run the following command(for control)</p>\n<pre><code>sudo service mysql status\n</code></pre>\n"}],"owner":{"account_id":7127031,"reputation":1,"user_id":5449630,"display_name":"Prasoon Goswami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4567,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1654502026,"creation_date":1444913176,"question_id":33148955,"body_markdown":"log4j:ERROR Could not connect to remote log4j server at [localhost]. We will try again later.\r\nERROR [WrapperSimpleAppMain] [DataSourceImpl] error connecting to DataSource having url jdbc:mysql://localhost/monsoon_qa?useConfigs=maxPerformance&amp;characterEncoding=utf8: Access denied for user &#39;monsoon&#39;@&#39;localhost&#39; to database &#39;monsoon_qa&#39;\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Access denied for user &#39;monsoon&#39;@&#39;localhost&#39; to database &#39;monsoon_qa&#39;","title":"Getting this error in run the hybrisserver","body":"<p>log4j:ERROR Could not connect to remote log4j server at [localhost]. We will try again later.\nERROR [WrapperSimpleAppMain] [DataSourceImpl] error connecting to DataSource having url jdbc:mysql://localhost/monsoon_qa?useConfigs=maxPerformance&amp;characterEncoding=utf8: Access denied for user 'monsoon'@'localhost' to database 'monsoon_qa'\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Access denied for user 'monsoon'@'localhost' to database 'monsoon_qa'</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1654414133,"post_id":72505458,"comment_id":128081658,"body_markdown":"You should describe your simple brute-force approach.","body":"You should describe your simple brute-force approach."},{"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"score":0,"creation_date":1654415209,"post_id":72505458,"comment_id":128081824,"body_markdown":"@user3386109 added explanation for brute force approach","body":"@user3386109 added explanation for brute force approach"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1654415814,"post_id":72505458,"comment_id":128081919,"body_markdown":"Ok, so the first level of optimization is to note that if `a1 &gt;= q` then you don&#39;t need to go any further. For example, given an array of 10 elements, there are 10! possible permutations. But for each element that&#39;s `&gt;= q`, there are 9! permutations that don&#39;t need to be checked, because all of them will have a sum `&gt;= q`.","body":"Ok, so the first level of optimization is to note that if <code>a1 &gt;= q</code> then you don&#39;t need to go any further. For example, given an array of 10 elements, there are 10! possible permutations. But for each element that&#39;s <code>&gt;= q</code>, there are 9! permutations that don&#39;t need to be checked, because all of them will have a sum <code>&gt;= q</code>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1654505383,"post_id":72505458,"comment_id":128098341,"body_markdown":"Can any of the *integers* be smaller than zero?","body":"Can any of the <i>integers</i> be smaller than zero?"}],"answers":[{"tags":[],"owner":{"account_id":21499901,"reputation":3598,"user_id":15844296,"display_name":"gimix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654501683,"creation_date":1654501317,"answer_id":72514502,"question_id":72505458,"body_markdown":"Building upon @user3386109&#39;s comment, I&#39;d suggest a recursive solution, so that we can discard as soon as possible every `a1 &gt;= q`, but also every `(a1 + a2/2) &gt;= q`, and so on.\r\n\r\nThis will still be slow, but saves around 40% of time for an array of 8 elements and around 60% for 10 elements when compared with a brute force approach. I&#39;m not a Java programmer, so here are the Python implementations of the two approaches (I tried to keep them not too &quot;Pythonic&quot; so they can hopefully be understood by a non-Python programmer):\r\n\r\n```python\r\n#brute force\r\nfrom itertools import permutations\r\n\r\ndef sum_by_perm(ls, q):\r\n\tgood = 0\r\n\tn_range = len(ls)\r\n\tfor p in permutations(ls):\r\n\t\tx = sum(map(lambda x,y:x/2**y, p, range(n_range)))\r\n\t\tif x &lt; q:\r\n\t\t\tgood+=1\r\n\treturn good\r\n\r\n&gt; sum_by_perm([19,3,8,5,9,2,11,7,4,33],25) #this takes about 17 secs on my PC\r\n2748657\r\n\r\n#recursion\r\ndef sum_by_recurs(ls, q, lvl=0, current=0):\r\n\tif len(ls) == 0:\r\n\t\treturn 1\r\n\tdivi = 2**lvl\r\n\tgood = 0\r\n\tfor i,n in enumerate(ls):\r\n\t\tcheck = n/divi+current\r\n\t\tif check &gt;= q:\r\n\t\t    continue\r\n\t\tgood += sum_by_recurs(ls[:i]+ls[i+1:], q, lvl+1, check)\r\n\telse:\r\n\t\treturn good\r\n\r\n&gt; sum_by_recurs([19,3,8,5,9,2,11,7,4,33],25) #this takes about 6.5 secs on my PC\r\n2748657\r\n```\r\n","title":"Different ways of summing an array by continuously dividing by 2","body":"<p>Building upon @user3386109's comment, I'd suggest a recursive solution, so that we can discard as soon as possible every <code>a1 &gt;= q</code>, but also every <code>(a1 + a2/2) &gt;= q</code>, and so on.</p>\n<p>This will still be slow, but saves around 40% of time for an array of 8 elements and around 60% for 10 elements when compared with a brute force approach. I'm not a Java programmer, so here are the Python implementations of the two approaches (I tried to keep them not too &quot;Pythonic&quot; so they can hopefully be understood by a non-Python programmer):</p>\n<pre class=\"lang-py prettyprint-override\"><code>#brute force\nfrom itertools import permutations\n\ndef sum_by_perm(ls, q):\n    good = 0\n    n_range = len(ls)\n    for p in permutations(ls):\n        x = sum(map(lambda x,y:x/2**y, p, range(n_range)))\n        if x &lt; q:\n            good+=1\n    return good\n\n&gt; sum_by_perm([19,3,8,5,9,2,11,7,4,33],25) #this takes about 17 secs on my PC\n2748657\n\n#recursion\ndef sum_by_recurs(ls, q, lvl=0, current=0):\n    if len(ls) == 0:\n        return 1\n    divi = 2**lvl\n    good = 0\n    for i,n in enumerate(ls):\n        check = n/divi+current\n        if check &gt;= q:\n            continue\n        good += sum_by_recurs(ls[:i]+ls[i+1:], q, lvl+1, check)\n    else:\n        return good\n\n&gt; sum_by_recurs([19,3,8,5,9,2,11,7,4,33],25) #this takes about 6.5 secs on my PC\n2748657\n</code></pre>\n"}],"owner":{"account_id":23990788,"reputation":407,"user_id":18083414,"display_name":"dnaiel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1654501683,"creation_date":1654413297,"question_id":72505458,"body_markdown":"Given an array of n integers, there are n! ways to permute them. For each permutation  \r\nWe can compute a sum a1+a2/2+a3/4+a4/8+...  \r\nThe nth integer is divided by 2^(n-1) in the sum. we are also given an integer q and have  \r\nto find the number of permutations that will result in the sum &gt;=q  \r\n\r\n**My Thoughts:**  \r\nThere is a simple brute force approach, but that will be very inefficient.  \r\nI am not sure how this could be optimized  \r\nThe brute force could be generate all the permutations and calculate  \r\nsum for each of them and see how many exceed q\r\n","title":"Different ways of summing an array by continuously dividing by 2","body":"<p>Given an array of n integers, there are n! ways to permute them. For each permutation<br />\nWe can compute a sum a1+a2/2+a3/4+a4/8+...<br />\nThe nth integer is divided by 2^(n-1) in the sum. we are also given an integer q and have<br />\nto find the number of permutations that will result in the sum &gt;=q</p>\n<p><strong>My Thoughts:</strong><br />\nThere is a simple brute force approach, but that will be very inefficient.<br />\nI am not sure how this could be optimized<br />\nThe brute force could be generate all the permutations and calculate<br />\nsum for each of them and see how many exceed q</p>\n"},{"tags":["java","kotlin","jax-ws"],"comments":[{"owner":{"account_id":12823193,"reputation":342,"user_id":9277292,"display_name":"20 fps"},"score":0,"creation_date":1537541644,"post_id":52446318,"comment_id":91835400,"body_markdown":"What are you using to get response??","body":"What are you using to get response??"},{"owner":{"account_id":7338516,"reputation":339,"user_id":5589002,"accept_rate":46,"display_name":"BigBytes"},"score":0,"creation_date":1537541725,"post_id":52446318,"comment_id":91835458,"body_markdown":"I&#39;m using a Java api that was generated using the remote web service wsdl using Apache CXF wsdl2java","body":"I&#39;m using a Java api that was generated using the remote web service wsdl using Apache CXF wsdl2java"},{"owner":{"account_id":12823193,"reputation":342,"user_id":9277292,"display_name":"20 fps"},"score":0,"creation_date":1537541796,"post_id":52446318,"comment_id":91835502,"body_markdown":"I mean you should show us your code you&#39;re trying to use so only then we can give you the answer what&#39;s wrong with it)","body":"I mean you should show us your code you&#39;re trying to use so only then we can give you the answer what&#39;s wrong with it)"},{"owner":{"account_id":7338516,"reputation":339,"user_id":5589002,"accept_rate":46,"display_name":"BigBytes"},"score":0,"creation_date":1537541935,"post_id":52446318,"comment_id":91835597,"body_markdown":"Edited with code","body":"Edited with code"}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654501188,"creation_date":1649062963,"answer_id":71734557,"question_id":52446318,"body_markdown":"An HTML page is usually a server error yes. Probably a static service page (like 404 or 5xx). It could even be an error in your request that should be returned as a SOAPFault, but is not implemented as such by the specific server.\r\n\r\nSometimes the server does communicate a valid SOAP (Fault) message, but the content type header is just wrong. In that case you&#39;re better off rewriting the `Content-Type` from the response with a proxy server. See for references on this subject:\r\n- https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml\r\n\r\nSo, what can you do to view the HTML content?\r\n\r\nWith JAX-WS you can enable all HTTP web service traffic to be logged to `System.out` with the following vm options:\r\n\r\n```\r\n-Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=TRUE\r\n-Dcom.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=TRUE\r\n-Dcom.sun.xml.ws.transport.http.HttpAdapter.dump=TRUE\r\n-Dcom.sun.xml.internal.ws.transport.http.HttpAdapter.dump=TRUE\r\n-Dcom.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold=999999\r\n```\r\n\r\nSee for references: \r\n - https://www.rgagnon.com/javadetails/java-logging-with-jax-ws.html\r\n - https://www.javatips.net/api/com.sun.xml.ws.transport.http.client.httptransportpipe\r\n\r\nNow, this will dump all http requests and responses, but you might only be interested in the ones where you don&#39;t get soap/xml.\r\n\r\nSo, what else can you do?\r\n\r\nYou could set these options programmatically and re-send the request when you catch the `UnsupportedMediaException`. But in the time this takes the error might have disappeared. Note that these properties are cached, so setting them needs to go through `com.sun.xml.ws.transport.http.client.HttpTransportPipe#setDump(Boolean)`\r\n\r\nIf you&#39;re willing to switch to the [JAX-WS runtime](https://stackoverflow.com/questions/5401358/whats-the-difference-between-jaxws-ri-and-jaxws-rt), you could also create your own `com.sun.xml.ws.api.pipe.TransportTubeFactory` since `jaxws-rt` can load custom instances of this factory. I have successfully created my own TransportTubeFactory that uses a custom `com.sun.xml.ws.transport.http.client.HttpTransportPipe` (by extending it and overriding `processRequest`) that reads the http response from the `com.sun.xml.ws.api.pipe.Codec` upon catching the UnsupportedMediaException. By wrapping the Codec you can store the input stream on the `decode` method call.\r\n\r\nThis runtime is nearly identical to the internal runtime, and should be fully compatible.\r\nThis may also work with the internal classes from the Java runtime, but since those are located in `RT.jar` it&#39;s [difficult](https://stackoverflow.com/questions/13121954/maven-cant-compile-class-which-depends-on-rt-jar) to depend on it and build your project. So i would advice switching to the external JAX-WS runtime.\r\n\r\nWhat you then do with the input stream is up to you (which is the body of the HTTP response at the moment of catching the UnsupportedMediaException).\r\nNote that you can also rewrite most* content type headers in code with this codec wrapper.\r\n\r\nSee for reference how to add your own implementation of this factory via `META-INF/services` here:\r\n - https://www.javadoc.io/doc/com.sun.xml.ws/jaxws-rt/latest/com.sun.xml.ws/com/sun/xml/ws/api/pipe/TransportTubeFactory.html\r\n \r\nIn short:\r\n - Create a file in META-INF/services called `com.sun.xml.ws.api.pipe.TransportTubeFactory`\r\n - The contents of this file should be a single line with the full class name of your custom factory, for example `my.soap.transport.MyTransportTubeFactory`\r\n \r\nNote; if you&#39;re using the classes from the Java runtime instead of jaxws-rt, use `com.sun.xml.internal.ws` as the package for everything in this post that references `com.sun.xml.ws`.\r\n\r\n*Note: newer versions of this runtime (jaxws-rt-2.3.x or jre 8+ internal) throw a [different exception](https://github.com/eclipse-ee4j/metro-jax-ws/blob/2.3.5/jaxws-ri/runtime/rt/src/main/java/com/sun/xml/ws/transport/http/client/HttpTransportPipe.java#L262) on `text/html` responses. Sadly before calling Codec.decode. So in that case you would have to copy more code into your custom HttpTransportPipe. `text/plain` currently still works though.\r\n\r\nSome snippets of my code:\r\n\r\n```\r\npublic class TransportTubeFactoryImpl extends TransportTubeFactory {\r\n\r\n    @Override\r\n    public Tube doCreate(ClientTubeAssemblerContext context) {\r\n        String scheme = context.getAddress().getURI().getScheme();\r\n        if (scheme != null) {\r\n            if (scheme.equalsIgnoreCase(&quot;http&quot;) || scheme.equalsIgnoreCase(&quot;https&quot;)) {\r\n                CodecWrapper codec = new CodecWrapper(context.getCodec());\r\n                return new HttpTransportPipeImpl(codec, context.getBinding());\r\n            }\r\n        }\r\n\r\n        throw new WebServiceException(&quot;Unsupported endpoint address: &quot; + context.getAddress());\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class CodecWrapper implements Codec {\r\n\r\n    private Codec wrapped;\r\n\r\n    public CodecWrapper(Codec wrapped) {\r\n        this.wrapped = wrapped;\r\n    }\r\n\r\n    @Override\r\n    public void decode(InputStream in, String contentType, Packet response) throws IOException {\r\n        copyInputStream(in); // todo: implement this\r\n        wrapped.decode(in, contentType, response);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class HttpTransportPipeImpl extends HttpTransportPipe {\r\n\r\n    private CodecWrapper codec;\r\n\r\n    public HttpTransportPipeImpl(CodecWrapper codec, WSBinding binding) {\r\n        super(codec, binding);\r\n        this.codec = codec;\r\n    }\r\n\r\n    @Override\r\n    public NextAction processRequest(Packet request) {\r\n        try {\r\n            return super.processRequest(request);\r\n        } catch (UnsupportedMediaException ex) {\r\n            // todo: here you can access the stored data from the codec wrapper\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have also created a complete working demonstration of this principle on my github: https://github.com/s-lindenau/SoapContentTypeDemo\r\n\r\nIf you still have the option to switch to a completely different client library, you could also check Apache CXF:\r\n- https://stackoverflow.com/questions/50841933/how-can-i-make-jaxws-parse-response-without-checking-content-type-header","title":"UnsupportedMediaException -&gt; how do you get the actual response?","body":"<p>An HTML page is usually a server error yes. Probably a static service page (like 404 or 5xx). It could even be an error in your request that should be returned as a SOAPFault, but is not implemented as such by the specific server.</p>\n<p>Sometimes the server does communicate a valid SOAP (Fault) message, but the content type header is just wrong. In that case you're better off rewriting the <code>Content-Type</code> from the response with a proxy server. See for references on this subject:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/64866031/soap-unsupported-media-exception-text-plain-supported-ones-are-text-xml\">SOAP unsupported media exception text/plain Supported ones are: [text/xml]</a></li>\n</ul>\n<p>So, what can you do to view the HTML content?</p>\n<p>With JAX-WS you can enable all HTTP web service traffic to be logged to <code>System.out</code> with the following vm options:</p>\n<pre><code>-Dcom.sun.xml.ws.transport.http.client.HttpTransportPipe.dump=TRUE\n-Dcom.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.dump=TRUE\n-Dcom.sun.xml.ws.transport.http.HttpAdapter.dump=TRUE\n-Dcom.sun.xml.internal.ws.transport.http.HttpAdapter.dump=TRUE\n-Dcom.sun.xml.internal.ws.transport.http.HttpAdapter.dumpTreshold=999999\n</code></pre>\n<p>See for references:</p>\n<ul>\n<li><a href=\"https://www.rgagnon.com/javadetails/java-logging-with-jax-ws.html\" rel=\"nofollow noreferrer\">https://www.rgagnon.com/javadetails/java-logging-with-jax-ws.html</a></li>\n<li><a href=\"https://www.javatips.net/api/com.sun.xml.ws.transport.http.client.httptransportpipe\" rel=\"nofollow noreferrer\">https://www.javatips.net/api/com.sun.xml.ws.transport.http.client.httptransportpipe</a></li>\n</ul>\n<p>Now, this will dump all http requests and responses, but you might only be interested in the ones where you don't get soap/xml.</p>\n<p>So, what else can you do?</p>\n<p>You could set these options programmatically and re-send the request when you catch the <code>UnsupportedMediaException</code>. But in the time this takes the error might have disappeared. Note that these properties are cached, so setting them needs to go through <code>com.sun.xml.ws.transport.http.client.HttpTransportPipe#setDump(Boolean)</code></p>\n<p>If you're willing to switch to the <a href=\"https://stackoverflow.com/questions/5401358/whats-the-difference-between-jaxws-ri-and-jaxws-rt\">JAX-WS runtime</a>, you could also create your own <code>com.sun.xml.ws.api.pipe.TransportTubeFactory</code> since <code>jaxws-rt</code> can load custom instances of this factory. I have successfully created my own TransportTubeFactory that uses a custom <code>com.sun.xml.ws.transport.http.client.HttpTransportPipe</code> (by extending it and overriding <code>processRequest</code>) that reads the http response from the <code>com.sun.xml.ws.api.pipe.Codec</code> upon catching the UnsupportedMediaException. By wrapping the Codec you can store the input stream on the <code>decode</code> method call.</p>\n<p>This runtime is nearly identical to the internal runtime, and should be fully compatible.\nThis may also work with the internal classes from the Java runtime, but since those are located in <code>RT.jar</code> it's <a href=\"https://stackoverflow.com/questions/13121954/maven-cant-compile-class-which-depends-on-rt-jar\">difficult</a> to depend on it and build your project. So i would advice switching to the external JAX-WS runtime.</p>\n<p>What you then do with the input stream is up to you (which is the body of the HTTP response at the moment of catching the UnsupportedMediaException).\nNote that you can also rewrite most* content type headers in code with this codec wrapper.</p>\n<p>See for reference how to add your own implementation of this factory via <code>META-INF/services</code> here:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/com.sun.xml.ws/jaxws-rt/latest/com.sun.xml.ws/com/sun/xml/ws/api/pipe/TransportTubeFactory.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.sun.xml.ws/jaxws-rt/latest/com.sun.xml.ws/com/sun/xml/ws/api/pipe/TransportTubeFactory.html</a></li>\n</ul>\n<p>In short:</p>\n<ul>\n<li>Create a file in META-INF/services called <code>com.sun.xml.ws.api.pipe.TransportTubeFactory</code></li>\n<li>The contents of this file should be a single line with the full class name of your custom factory, for example <code>my.soap.transport.MyTransportTubeFactory</code></li>\n</ul>\n<p>Note; if you're using the classes from the Java runtime instead of jaxws-rt, use <code>com.sun.xml.internal.ws</code> as the package for everything in this post that references <code>com.sun.xml.ws</code>.</p>\n<p>*Note: newer versions of this runtime (jaxws-rt-2.3.x or jre 8+ internal) throw a <a href=\"https://github.com/eclipse-ee4j/metro-jax-ws/blob/2.3.5/jaxws-ri/runtime/rt/src/main/java/com/sun/xml/ws/transport/http/client/HttpTransportPipe.java#L262\" rel=\"nofollow noreferrer\">different exception</a> on <code>text/html</code> responses. Sadly before calling Codec.decode. So in that case you would have to copy more code into your custom HttpTransportPipe. <code>text/plain</code> currently still works though.</p>\n<p>Some snippets of my code:</p>\n<pre><code>public class TransportTubeFactoryImpl extends TransportTubeFactory {\n\n    @Override\n    public Tube doCreate(ClientTubeAssemblerContext context) {\n        String scheme = context.getAddress().getURI().getScheme();\n        if (scheme != null) {\n            if (scheme.equalsIgnoreCase(&quot;http&quot;) || scheme.equalsIgnoreCase(&quot;https&quot;)) {\n                CodecWrapper codec = new CodecWrapper(context.getCodec());\n                return new HttpTransportPipeImpl(codec, context.getBinding());\n            }\n        }\n\n        throw new WebServiceException(&quot;Unsupported endpoint address: &quot; + context.getAddress());\n    }\n}\n</code></pre>\n<pre><code>public class CodecWrapper implements Codec {\n\n    private Codec wrapped;\n\n    public CodecWrapper(Codec wrapped) {\n        this.wrapped = wrapped;\n    }\n\n    @Override\n    public void decode(InputStream in, String contentType, Packet response) throws IOException {\n        copyInputStream(in); // todo: implement this\n        wrapped.decode(in, contentType, response);\n    }\n}\n</code></pre>\n<pre><code>public class HttpTransportPipeImpl extends HttpTransportPipe {\n\n    private CodecWrapper codec;\n\n    public HttpTransportPipeImpl(CodecWrapper codec, WSBinding binding) {\n        super(codec, binding);\n        this.codec = codec;\n    }\n\n    @Override\n    public NextAction processRequest(Packet request) {\n        try {\n            return super.processRequest(request);\n        } catch (UnsupportedMediaException ex) {\n            // todo: here you can access the stored data from the codec wrapper\n        }\n    }\n}\n</code></pre>\n<p>I have also created a complete working demonstration of this principle on my github: <a href=\"https://github.com/s-lindenau/SoapContentTypeDemo\" rel=\"nofollow noreferrer\">https://github.com/s-lindenau/SoapContentTypeDemo</a></p>\n<p>If you still have the option to switch to a completely different client library, you could also check Apache CXF:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50841933/how-can-i-make-jaxws-parse-response-without-checking-content-type-header\">How can I make jaxws parse response without checking Content-Type header</a></li>\n</ul>\n"}],"owner":{"account_id":7338516,"reputation":339,"user_id":5589002,"accept_rate":46,"display_name":"BigBytes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654501188,"creation_date":1537541580,"question_id":52446318,"body_markdown":"I&#39;m calling a remote web service and am occasionally getting the following error:-\r\n\r\nError caught: com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: text/plain;charset=ISO-8859-1 Supported ones are: [text/xml]\r\n\r\nDoes anyone know how to get the actual message that was returned by the server? It sounds like it might be text or a web page but I&#39;m unable to get it. \r\n\r\nI can catch the UnsupportedMediaException but I don&#39;t know what to do to extract the actual response. Here&#39;s the code:-\r\n\r\n        val selectedDate = exchange.`in`.getHeader(&quot;selectedDate&quot;).toString()\r\n        val accountNumberMinor = exchange.`in`.getHeader(&quot;accountNumberMinor&quot;).toString()\r\n        val accountNumberMajor = exchange.`in`.getHeader(&quot;accountNumberMajor&quot;).toString()\r\n        val accountIdentifier = if (accountNumberMinor.trim() != &quot;&quot;) accountNumberMinor else accountNumberMajor\r\n        val effectiveDate = SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(selectedDate)\r\n\r\n        val response = webRequest.getResponse(accountIdentifier, selectedDate)\r\n\r\n        val result = response.result as FixedIncomeCurrencyForwardAccountV10Result\r\n\r\nThanks,\r\n\r\nAdam","title":"UnsupportedMediaException -&gt; how do you get the actual response?","body":"<p>I'm calling a remote web service and am occasionally getting the following error:-</p>\n\n<p>Error caught: com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: text/plain;charset=ISO-8859-1 Supported ones are: [text/xml]</p>\n\n<p>Does anyone know how to get the actual message that was returned by the server? It sounds like it might be text or a web page but I'm unable to get it. </p>\n\n<p>I can catch the UnsupportedMediaException but I don't know what to do to extract the actual response. Here's the code:-</p>\n\n<pre><code>    val selectedDate = exchange.`in`.getHeader(\"selectedDate\").toString()\n    val accountNumberMinor = exchange.`in`.getHeader(\"accountNumberMinor\").toString()\n    val accountNumberMajor = exchange.`in`.getHeader(\"accountNumberMajor\").toString()\n    val accountIdentifier = if (accountNumberMinor.trim() != \"\") accountNumberMinor else accountNumberMajor\n    val effectiveDate = SimpleDateFormat(\"yyyy-MM-dd\").parse(selectedDate)\n\n    val response = webRequest.getResponse(accountIdentifier, selectedDate)\n\n    val result = response.result as FixedIncomeCurrencyForwardAccountV10Result\n</code></pre>\n\n<p>Thanks,</p>\n\n<p>Adam</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654336973,"post_id":72498790,"comment_id":128070349,"body_markdown":"Not sure why you&#39;re making it so complex. Why can&#39;t use just use the [option pane normally](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#input)?","body":"Not sure why you&#39;re making it so complex. Why can&#39;t use just use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#input\" rel=\"nofollow noreferrer\">option pane normally</a>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654337393,"post_id":72498790,"comment_id":128070408,"body_markdown":"The error of course is because your &#39;handler&#39; doesn&#39;t implement `ActionListener` but my question is why you&#39;d need it to. You need to tell us [your goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions)","body":"The error of course is because your &#39;handler&#39; doesn&#39;t implement <code>ActionListener</code> but my question is why you&#39;d need it to. You need to tell us <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">your goal</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1654371332,"post_id":72498790,"comment_id":128076742,"body_markdown":"Creating two instances of your TextFieldFrame is sure to cause a problem.","body":"Creating two instances of your TextFieldFrame is sure to cause a problem."}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654500479,"creation_date":1654339542,"answer_id":72499121,"question_id":72498790,"body_markdown":"You can add a listener to your text fields separately. And for each listener, perform a specific action.\r\n\r\n`DocumentListener` is a good choice. But the problem is that it will call by any change that the user made to the text field. You can not expect it to be called just after typing hello world! It will call the listener for each letter: h, he, hel, hell, ...\r\n\r\n```java\r\nJTextField textField1 = new JTextField();\r\ntextField.getDocument().addDocumentListener(new DocumentListener() {\r\n    @Override\r\n    public void removeUpdate(DocumentEvent e) {}\r\n\r\n    @Override\r\n    public void insertUpdate(DocumentEvent e) {\r\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\r\n    }\r\n\r\n    @Override\r\n    public void changedUpdate(DocumentEvent e) {}\r\n});\r\n```\r\n\r\nBut If I were you, I would use the `MouseListener` and the mouse exit event. So when the user finishes typing and exits its mouse outside of textField, then `JOptionPane` will be called.\r\n\r\nFor each of your text fields or password fields, you can add a listener this way:\r\n\r\n```java\r\nJTextField textField1 = new JTextField();\r\ntextField.addMouseListener(new MouseAdapter() {\r\n    @Override\r\n    public void mouseExited(MouseEvent e) {\r\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\r\n    }\r\n});\r\n```\r\n\r\n**UPDATE**\r\n\r\nAs @Abra mentioned in the comment you can also use `FocusListener` and `focusLost` event:\r\n\r\n```java\r\ntextField.addFocusListener(new FocusAdapter() {\r\n    @Override\r\n    public void focusLost(FocusEvent e) {\r\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\r\n    }\r\n});\r\n```","title":"How to display input text in JOptionPane in java swing","body":"<p>You can add a listener to your text fields separately. And for each listener, perform a specific action.</p>\n<p><code>DocumentListener</code> is a good choice. But the problem is that it will call by any change that the user made to the text field. You can not expect it to be called just after typing hello world! It will call the listener for each letter: h, he, hel, hell, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTextField textField1 = new JTextField();\ntextField.getDocument().addDocumentListener(new DocumentListener() {\n    @Override\n    public void removeUpdate(DocumentEvent e) {}\n\n    @Override\n    public void insertUpdate(DocumentEvent e) {\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\n    }\n\n    @Override\n    public void changedUpdate(DocumentEvent e) {}\n});\n</code></pre>\n<p>But If I were you, I would use the <code>MouseListener</code> and the mouse exit event. So when the user finishes typing and exits its mouse outside of textField, then <code>JOptionPane</code> will be called.</p>\n<p>For each of your text fields or password fields, you can add a listener this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JTextField textField1 = new JTextField();\ntextField.addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseExited(MouseEvent e) {\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\n    }\n});\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>As @Abra mentioned in the comment you can also use <code>FocusListener</code> and <code>focusLost</code> event:</p>\n<pre class=\"lang-java prettyprint-override\"><code>textField.addFocusListener(new FocusAdapter() {\n    @Override\n    public void focusLost(FocusEvent e) {\n        JOptionPane.showMessageDialog( null, String.format(&quot;textField1: %s&quot;, textField1.getText()));\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":20537520,"reputation":19,"user_id":15073217,"display_name":"Rawley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72499121,"answer_count":1,"score":1,"last_activity_date":1654500479,"creation_date":1654336530,"question_id":72498790,"body_markdown":"I&#39;m trying to get some input from the user through JTextFields and when an event happens on any of the textfields, a JOptionPane message dialog containing the components name and message pops up. For example, if user enters &#39;Hello&#39; in textField1, the JOptionPane should pop up like below\r\n\r\n![JOption popup with text &quot;testField1:Hello&quot;, &quot;OK&quot; button](https://i.stack.imgur.com/XRsh1m.jpg)\r\n\r\nThis is what I have as code ..\r\n\r\n    package testing;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    public class TextFieldFrame extends JFrame{\r\n        \r\n        private JTextField textField1; private JTextField textField2;\r\n        private JTextField textField3; private JPasswordField passwordField;\r\n        \r\n        public TextFieldFrame(){\r\n            setTitle(&quot;Testing JTextField and JPasswordField&quot;);\r\n            setLayout(new FlowLayout());  \r\n            textField1 = new JTextField(10); add(textField1);\r\n            textField2 = new JTextField(&quot;Enter text here&quot;); add(textField2);\r\n            textField3 = new JTextField(&quot;Uneditable text field&quot;, 21);\r\n            textField3.setEditable(false); add(textField3);\r\n            passwordField = new JPasswordField(&quot;Hidden Text&quot;); add(passwordField);\r\n            \r\n            TextFieldHandler handler = new TextFieldHandler();\r\n            \r\n            textField1.addActionListener(handler);\r\n            textField2.addActionListener(handler);\r\n            textField3.addActionListener(handler);\r\n            passwordField.addActionListener(handler);\r\n        }\r\n        \r\n        private class TextFieldHandler extends JOptionPane{\r\n            public void TextFieldHandler(TextFieldHandler handler) {\r\n            String string = &quot;&quot;; // declare string to display\r\n            if(handler.getInputValue() == textField1)\r\n                string = String.format(&quot;textField1: %s&quot;, textField1.getText());\r\n            else if(handler.getInputValue() == textField2)\r\n                string = String.format(&quot;textField2: %s&quot;, textField2.getText());\r\n            else if(textField3 == textField3)\r\n                string = String.format(&quot;textField3: %s&quot;, textField3.getText());\r\n            else if(handler.getInputValue() == passwordField)\r\n                string = String.format(&quot;paswordField: %s&quot;, passwordField.getPassword());\r\n            JOptionPane.showMessageDialog(null, string);\r\n        }\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new TextFieldFrame().setVisible(true);\r\n                    new TextFieldFrame().setSize(400,100);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nAnd I get these errors \r\n\r\n   \r\n\r\n    error: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\r\n                    textField1.addActionListener(handler);\r\n    error: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\r\n                textField2.addActionListener(handler);\r\n    error: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\r\n                textField3.addActionListener(handler);\r\n    error: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\r\n                passwordField.addActionListener(handler);","title":"How to display input text in JOptionPane in java swing","body":"<p>I'm trying to get some input from the user through JTextFields and when an event happens on any of the textfields, a JOptionPane message dialog containing the components name and message pops up. For example, if user enters 'Hello' in textField1, the JOptionPane should pop up like below</p>\n<p><img src=\"https://i.stack.imgur.com/XRsh1m.jpg\" alt=\"JOption popup with text &quot;testField1:Hello&quot;, &quot;OK&quot; button\" /></p>\n<p>This is what I have as code ..</p>\n<pre><code>package testing;\nimport javax.swing.*;\nimport java.awt.*;\npublic class TextFieldFrame extends JFrame{\n    \n    private JTextField textField1; private JTextField textField2;\n    private JTextField textField3; private JPasswordField passwordField;\n    \n    public TextFieldFrame(){\n        setTitle(&quot;Testing JTextField and JPasswordField&quot;);\n        setLayout(new FlowLayout());  \n        textField1 = new JTextField(10); add(textField1);\n        textField2 = new JTextField(&quot;Enter text here&quot;); add(textField2);\n        textField3 = new JTextField(&quot;Uneditable text field&quot;, 21);\n        textField3.setEditable(false); add(textField3);\n        passwordField = new JPasswordField(&quot;Hidden Text&quot;); add(passwordField);\n        \n        TextFieldHandler handler = new TextFieldHandler();\n        \n        textField1.addActionListener(handler);\n        textField2.addActionListener(handler);\n        textField3.addActionListener(handler);\n        passwordField.addActionListener(handler);\n    }\n    \n    private class TextFieldHandler extends JOptionPane{\n        public void TextFieldHandler(TextFieldHandler handler) {\n        String string = &quot;&quot;; // declare string to display\n        if(handler.getInputValue() == textField1)\n            string = String.format(&quot;textField1: %s&quot;, textField1.getText());\n        else if(handler.getInputValue() == textField2)\n            string = String.format(&quot;textField2: %s&quot;, textField2.getText());\n        else if(textField3 == textField3)\n            string = String.format(&quot;textField3: %s&quot;, textField3.getText());\n        else if(handler.getInputValue() == passwordField)\n            string = String.format(&quot;paswordField: %s&quot;, passwordField.getPassword());\n        JOptionPane.showMessageDialog(null, string);\n    }\n    }\n    \n    public static void main(String[] args){\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new TextFieldFrame().setVisible(true);\n                new TextFieldFrame().setSize(400,100);\n            }\n        });\n    }\n}\n</code></pre>\n<p>And I get these errors</p>\n<pre><code>error: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\n                textField1.addActionListener(handler);\nerror: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\n            textField2.addActionListener(handler);\nerror: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\n            textField3.addActionListener(handler);\nerror: incompatible types: TextFieldFrame.TextFieldHandler cannot be converted to ActionListener\n            passwordField.addActionListener(handler);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20689131,"reputation":636,"user_id":15190888,"display_name":"Benjamin Rio"},"score":0,"creation_date":1654499627,"post_id":72514175,"comment_id":128096823,"body_markdown":"This is not a JSON formatted string.","body":"This is not a JSON formatted string."}],"answers":[{"tags":[],"owner":{"account_id":13606847,"reputation":226,"user_id":9815731,"display_name":"Alvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654500281,"creation_date":1654500281,"answer_id":72514333,"question_id":72514175,"body_markdown":"For the json itself, you can try to use this website to generate the pojo class\r\nhttps://www.jsonschema2pojo.org/\r\n\r\nIt really helpful to know what class that you need to parse the json.\r\nFor the example that you&#39;ve post, what you need is 2 classes.\r\n\r\nThis is POJO for the outer json.\r\n\r\n    public class ExampleObject {\r\n    \r\n        @JsonProperty(&quot;Items&quot;)\r\n        public List&lt;Item&gt; items = null;\r\n    \r\n    }\r\n\r\nThis one is for your Item class\r\n\r\n    public class Item {\r\n    \r\n        @JsonProperty(&quot;mode&quot;)\r\n        public String mode;\r\n\r\n        @JsonProperty(&quot;processing&quot;)\r\n        public List&lt;String&gt; processing = null;\r\n        \r\n        //Dont forget to put your setter getter in here.\r\n    \r\n    }\r\n\r\nAfter that, just use your code to parse that json into new class.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;Items&gt; actions = Arrays.asList(mapper.readValue(json, ExampleObject.class)); \r\n\r\nHope it helps, cheers\r\n","title":"Read String json array and convert to List object","body":"<p>For the json itself, you can try to use this website to generate the pojo class\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>It really helpful to know what class that you need to parse the json.\nFor the example that you've post, what you need is 2 classes.</p>\n<p>This is POJO for the outer json.</p>\n<pre><code>public class ExampleObject {\n\n    @JsonProperty(&quot;Items&quot;)\n    public List&lt;Item&gt; items = null;\n\n}\n</code></pre>\n<p>This one is for your Item class</p>\n<pre><code>public class Item {\n\n    @JsonProperty(&quot;mode&quot;)\n    public String mode;\n\n    @JsonProperty(&quot;processing&quot;)\n    public List&lt;String&gt; processing = null;\n    \n    //Dont forget to put your setter getter in here.\n\n}\n</code></pre>\n<p>After that, just use your code to parse that json into new class.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nList&lt;Items&gt; actions = Arrays.asList(mapper.readValue(json, ExampleObject.class)); \n</code></pre>\n<p>Hope it helps, cheers</p>\n"}],"owner":{"account_id":15477835,"reputation":13,"user_id":11166071,"display_name":"gowri palanisamy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72514333,"answer_count":1,"score":0,"last_activity_date":1654500281,"creation_date":1654499290,"question_id":72514175,"body_markdown":"I have the below json string that comes from the db. I have to read the json and return the equivalent java class.\r\nJson String:    \r\n ```\r\n{\r\n  &quot;Items&quot;: [\r\n    {\r\n      &quot;mode&quot;: &quot;old&quot;,\r\n      &quot;processing&quot;: [\r\n        &quot;MANUAL&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;mode&quot;: &quot;new&quot;,\r\n      &quot;processing&quot;: [\r\n        &quot;AUTO&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n        \r\nItems class\r\n\r\n```    \r\npublic class Items {\r\n\r\n    private String mode;\r\n    private List&lt;String&gt; processing;\r\n\r\n    public String getMode() {\r\n        return mode;\r\n    }\r\n\r\n    public void setMode(String mode) {\r\n        this.mode = mode;\r\n    }\r\n\r\n    public List&lt;String&gt; getProcessing() {\r\n        return processing;\r\n    }\r\n\r\n    public void setProcessing(List&lt;String&gt; processing) {\r\n        this.processing = processing;\r\n    }\r\n}\r\n```        \r\nHere I am trying to read the above json string array using `ObjectMapper.readValue()` method and convert it to List&lt;Items&gt;.\r\nI have tried with the below code\r\n\r\n    ObjectMapper mapper=new ObjectMapper();\r\n    List&lt;Items&gt; actions = Arrays.asList(mapper.readValue(json, Items[].class)); \r\nand getting the error \r\n```\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;actions&quot; (class ), not marked as ignorable (2 known properties: &quot;mode&quot;, &quot;processing&quot;])at [Source: (String)&quot;{\r\n         &quot;items&quot;:[\r\n                {\r\n                      &quot;mode&quot;: &quot;old&quot;,\r\n                      &quot;processing&quot;: [&quot;MANUAL&quot;]\r\n                    },\r\n            \t\t{\r\n                      &quot;mode&quot;: &quot;new&quot;,\r\n                      &quot;processing&quot;: [&quot;AUTO&quot;]\r\n                    }\r\n         ]\r\n        }&quot;; line: 2, column: 13] \r\n```","title":"Read String json array and convert to List object","body":"<p>I have the below json string that comes from the db. I have to read the json and return the equivalent java class.\nJson String:</p>\n<pre><code>{\n &quot;Items&quot;: [\n   {\n     &quot;mode&quot;: &quot;old&quot;,\n     &quot;processing&quot;: [\n       &quot;MANUAL&quot;\n     ]\n   },\n   {\n     &quot;mode&quot;: &quot;new&quot;,\n     &quot;processing&quot;: [\n       &quot;AUTO&quot;\n     ]\n   }\n ]\n}\n</code></pre>\n<p>Items class</p>\n<pre><code>public class Items {\n\n    private String mode;\n    private List&lt;String&gt; processing;\n\n    public String getMode() {\n        return mode;\n    }\n\n    public void setMode(String mode) {\n        this.mode = mode;\n    }\n\n    public List&lt;String&gt; getProcessing() {\n        return processing;\n    }\n\n    public void setProcessing(List&lt;String&gt; processing) {\n        this.processing = processing;\n    }\n}\n</code></pre>\n<p>Here I am trying to read the above json string array using <code>ObjectMapper.readValue()</code> method and convert it to List.\nI have tried with the below code</p>\n<pre><code>ObjectMapper mapper=new ObjectMapper();\nList&lt;Items&gt; actions = Arrays.asList(mapper.readValue(json, Items[].class)); \n</code></pre>\n<p>and getting the error</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;actions&quot; (class ), not marked as ignorable (2 known properties: &quot;mode&quot;, &quot;processing&quot;])at [Source: (String)&quot;{\n         &quot;items&quot;:[\n                {\n                      &quot;mode&quot;: &quot;old&quot;,\n                      &quot;processing&quot;: [&quot;MANUAL&quot;]\n                    },\n                    {\n                      &quot;mode&quot;: &quot;new&quot;,\n                      &quot;processing&quot;: [&quot;AUTO&quot;]\n                    }\n         ]\n        }&quot;; line: 2, column: 13] \n</code></pre>\n"},{"tags":["java","sql","subquery"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1654290667,"post_id":72495166,"comment_id":128064407,"body_markdown":"`SELECT ... FROM (SELECT ...) some_alias` - just add it","body":"<code>SELECT ... FROM (SELECT ...) some_alias</code> - just add it"},{"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"score":1,"creation_date":1654291256,"post_id":72495166,"comment_id":128064538,"body_markdown":"you need alias for subqueries","body":"you need alias for subqueries"},{"owner":{"display_name":"user18802229"},"score":0,"creation_date":1654299801,"post_id":72495166,"comment_id":128065973,"body_markdown":"HeySorry  @PM77-1, I cannot  find  out where to make the change,  can you be  more precised please ?","body":"HeySorry  @PM77-1, I cannot  find  out where to make the change,  can you be  more precised please ?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1654304232,"post_id":72495166,"comment_id":128066431,"body_markdown":"I showed the exact spot: right after the closing bracket.","body":"I showed the exact spot: right after the closing bracket."},{"owner":{"account_id":2847683,"reputation":4674,"user_id":2445629,"display_name":"Jon Armstrong"},"score":1,"creation_date":1654318271,"post_id":72495166,"comment_id":128067731,"body_markdown":"Look carefully.  You have this issue twice (two derived tables).  So you&#39;ll need to provide two aliases, one for each.  `SELECT ... FROM (SELECT ... FROM (...) AS t2 ...) AS t1 ...`","body":"Look carefully.  You have this issue twice (two derived tables).  So you&#39;ll need to provide two aliases, one for each.  <code>SELECT ... FROM (SELECT ... FROM (...) AS t2 ...) AS t1 ...</code>"},{"owner":{"display_name":"user18802229"},"score":0,"creation_date":1654324776,"post_id":72495166,"comment_id":128068515,"body_markdown":"indeed  @JonArmstrong , I did not realize that  since I  am pretty new in this  , Thank you","body":"indeed  @JonArmstrong , I did not realize that  since I  am pretty new in this  , Thank you"}],"answers":[{"tags":[],"owner":{"display_name":"user18802229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654500037,"creation_date":1654500037,"answer_id":72514303,"question_id":72495166,"body_markdown":"Coming back ,\r\nIt seems that indeed ad most of you says in the comments I should identify my  tables first  but, apparently I also have miss to avoid the duplicate ID column.\r\nHere goes my new query:\r\n \r\n\r\n       String query = &quot;SELECT CID, CustomerName, City, sum(sum_all) As data&quot; +\r\n                    &quot;                FROM (SELECT *, sum(PPROD) As sum_all&quot; +\r\n                    &quot;               FROM (SELECT Product.ID as PID,Customer.ID as CID,Product.Price as PPROD,City, Customer.NAME AS CustomerName&quot; +\r\n                    &quot;              FROM Transactions&quot; +\r\n                    &quot;               INNER JOIN Product ON Product.ID = Transactions.ProductID&quot; +\r\n                    &quot;                INNER JOIN Customer ON Customer.ID = Transactions.CustomerID) As t2&quot; +\r\n                    &quot;               GROUP BY CID, PID&quot; +\r\n                    &quot;               ) As t1&quot; +\r\n                    &quot;               GROUP BY CID&quot; +\r\n                    &quot;              ORDER BY data DESC;&quot;;","title":"SQL Query - FindCostumerWithHighestBill","body":"<p>Coming back ,\nIt seems that indeed ad most of you says in the comments I should identify my  tables first  but, apparently I also have miss to avoid the duplicate ID column.\nHere goes my new query:</p>\n<pre><code>   String query = &quot;SELECT CID, CustomerName, City, sum(sum_all) As data&quot; +\n                &quot;                FROM (SELECT *, sum(PPROD) As sum_all&quot; +\n                &quot;               FROM (SELECT Product.ID as PID,Customer.ID as CID,Product.Price as PPROD,City, Customer.NAME AS CustomerName&quot; +\n                &quot;              FROM Transactions&quot; +\n                &quot;               INNER JOIN Product ON Product.ID = Transactions.ProductID&quot; +\n                &quot;                INNER JOIN Customer ON Customer.ID = Transactions.CustomerID) As t2&quot; +\n                &quot;               GROUP BY CID, PID&quot; +\n                &quot;               ) As t1&quot; +\n                &quot;               GROUP BY CID&quot; +\n                &quot;              ORDER BY data DESC;&quot;;\n</code></pre>\n"}],"owner":{"display_name":"user18802229"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654500037,"creation_date":1654290502,"question_id":72495166,"body_markdown":"I am try to find the costumer with the highest bill   using this sql that I wrote  , but apparently I run into this error :\r\n\r\n    Every derived table must have its own alias\r\n\r\nThis is what I wrote:\r\n\r\n\r\n    public static void findCustomerWithHighestBill(Connection c) throws SQLException {\r\n        String query = &quot;SELECT CustomerID, CustomerName, CITY, sum(sum_all) As &#39;data&#39;\\r\\n&quot;\r\n                + &quot;FROM (SELECT *, sum(Price) As &#39;sum_all&#39;\\r\\n&quot;\r\n                + &quot;\t\tFROM (SELECT *, Customer.NAME AS \\&quot;CustomerName\\&quot;\\r\\n&quot;\r\n                + &quot;\t\t\tFROM Transactions\\r\\n&quot;\r\n                + &quot;\t\t\tINNER JOIN Product ON Product.ID = Transactions.ProductID\\r\\n&quot;\r\n                + &quot;\t\t\tINNER JOIN Customer ON Customer.ID = Transactions.CustomerID)\\r\\n&quot;\r\n                + &quot;\t\tGROUP BY CustomerID, ProductID\\r\\n&quot;\r\n                + &quot;\t) \\r\\n&quot;\r\n                + &quot;GROUP BY CustomerID\\r\\n&quot;\r\n                + &quot;ORDER BY data DESC&quot;;\r\n        Statement statement = c.createStatement();\r\n        ResultSet set = statement.executeQuery(query);\r\n        set.next();\r\n        System.out.println(&quot;CustomerID: &quot; + set.getInt(&quot;CustomerID&quot;) +\r\n                &quot;, Name: &quot; + set.getString(&quot;CustomerName&quot;) + &quot;, City: &quot; +\r\n                set.getString(&quot;CITY&quot;) + &quot;, Bill: &quot; + set.getFloat(&quot;data&quot;));\r\n    }\r\n    \r\nCan  please somoane help me zith this ?","title":"SQL Query - FindCostumerWithHighestBill","body":"<p>I am try to find the costumer with the highest bill   using this sql that I wrote  , but apparently I run into this error :</p>\n<pre><code>Every derived table must have its own alias\n</code></pre>\n<p>This is what I wrote:</p>\n<pre><code>public static void findCustomerWithHighestBill(Connection c) throws SQLException {\n    String query = &quot;SELECT CustomerID, CustomerName, CITY, sum(sum_all) As 'data'\\r\\n&quot;\n            + &quot;FROM (SELECT *, sum(Price) As 'sum_all'\\r\\n&quot;\n            + &quot;     FROM (SELECT *, Customer.NAME AS \\&quot;CustomerName\\&quot;\\r\\n&quot;\n            + &quot;         FROM Transactions\\r\\n&quot;\n            + &quot;         INNER JOIN Product ON Product.ID = Transactions.ProductID\\r\\n&quot;\n            + &quot;         INNER JOIN Customer ON Customer.ID = Transactions.CustomerID)\\r\\n&quot;\n            + &quot;     GROUP BY CustomerID, ProductID\\r\\n&quot;\n            + &quot; ) \\r\\n&quot;\n            + &quot;GROUP BY CustomerID\\r\\n&quot;\n            + &quot;ORDER BY data DESC&quot;;\n    Statement statement = c.createStatement();\n    ResultSet set = statement.executeQuery(query);\n    set.next();\n    System.out.println(&quot;CustomerID: &quot; + set.getInt(&quot;CustomerID&quot;) +\n            &quot;, Name: &quot; + set.getString(&quot;CustomerName&quot;) + &quot;, City: &quot; +\n            set.getString(&quot;CITY&quot;) + &quot;, Bill: &quot; + set.getFloat(&quot;data&quot;));\n}\n</code></pre>\n<p>Can  please somoane help me zith this ?</p>\n"},{"tags":["java","android","kotlin","android-fragments","android-softkeyboard"],"answers":[{"tags":[],"owner":{"account_id":1006204,"reputation":2561,"user_id":1019922,"display_name":"Eric Schlenz"},"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1320859733,"creation_date":1320859733,"answer_id":8069011,"question_id":7940765,"body_markdown":"If you add the following attribute to your activity&#39;s manifest definition, it will completely suppress the keyboard from popping when your activity opens. Hopefully this helps:\r\n\r\n(Add to your Activity&#39;s manifest definition):\r\n\r\n    android:windowSoftInputMode=&quot;stateHidden&quot;","title":"How to hide the soft keyboard inside a fragment?","body":"<p>If you add the following attribute to your activity's manifest definition, it will completely suppress the keyboard from popping when your activity opens. Hopefully this helps:</p>\n\n<p>(Add to your Activity's manifest definition):</p>\n\n<pre><code>android:windowSoftInputMode=\"stateHidden\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182646,"reputation":9389,"user_id":417513,"display_name":"Ian G. Clifton"},"down_vote_count":1,"up_vote_count":200,"is_accepted":true,"score":199,"last_activity_date":1333392072,"creation_date":1333392072,"answer_id":9981958,"question_id":7940765,"body_markdown":"As long as your Fragment creates a View, you can use the IBinder (window token) from that view *after* it has been attached.  For example, you can override onActivityCreated in your Fragment:\r\n\r\n    @Override\r\n\tpublic void onActivityCreated(Bundle savedInstanceState) {\r\n\t\tsuper.onActivityCreated(savedInstanceState);\r\n\t\tfinal InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n\t\timm.hideSoftInputFromWindow(getView().getWindowToken(), 0);\r\n\t}","title":"How to hide the soft keyboard inside a fragment?","body":"<p>As long as your Fragment creates a View, you can use the IBinder (window token) from that view <em>after</em> it has been attached.  For example, you can override onActivityCreated in your Fragment:</p>\n\n<pre><code>@Override\npublic void onActivityCreated(Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    final InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getView().getWindowToken(), 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1097324,"reputation":9677,"user_id":1090637,"accept_rate":80,"display_name":"macio.Jun"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1386789213,"creation_date":1386789213,"answer_id":20527967,"question_id":7940765,"body_markdown":"Exception for `DialogFragment` though, focus of the embedded `Dialog` must be hidden, instead only the first `EditText` within the embedded `Dialog`\r\n\r\n    this.getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Exception for <code>DialogFragment</code> though, focus of the embedded <code>Dialog</code> must be hidden, instead only the first <code>EditText</code> within the embedded <code>Dialog</code></p>\n\n<pre><code>this.getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975226,"reputation":5933,"user_id":1773155,"accept_rate":58,"display_name":"Shajeel Afzal"},"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1401370408,"creation_date":1401370408,"answer_id":23934639,"question_id":7940765,"body_markdown":"Nothing but the following line of code worked for me:\r\n\r\n    getActivity().getWindow().setSoftInputMode(\r\n                WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Nothing but the following line of code worked for me:</p>\n\n<pre><code>getActivity().getWindow().setSoftInputMode(\n            WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679065,"reputation":141,"user_id":4491012,"display_name":"Mobile Applications"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1440861009,"creation_date":1431440746,"answer_id":30193824,"question_id":7940765,"body_markdown":"\t\t\r\n\t\t@Override\r\n\t\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n\t\t\t\tBundle savedInstanceState) {\r\n\t\t\tView rootView = inflater.inflate(R.layout.fragment_my, container,\r\n\t\t\t\t\tfalse);\r\n\t\t\tsomeClass.onCreate(rootView);\r\n\t\t\treturn rootView;\r\n\t\t}\r\nKeep an instance of my root view in my class\r\n\r\n\r\n    View view;\r\n\r\n    public void onCreate(View rootView) {\r\n        view = rootView;\r\nUse the view to hide the keyboard\r\n\r\n     public void removePhoneKeypad() {\r\n        InputMethodManager inputManager = (InputMethodManager) view\r\n                .getContext()\r\n                .getSystemService(Context.INPUT_METHOD_SERVICE);\r\n\r\n        IBinder binder = view.getWindowToken();\r\n        inputManager.hideSoftInputFromWindow(binder,\r\n                InputMethodManager.HIDE_NOT_ALWAYS);\r\n    }","title":"How to hide the soft keyboard inside a fragment?","body":"<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_my, container,\n                false);\n        someClass.onCreate(rootView);\n        return rootView;\n    }\n</code></pre>\n\n<p>Keep an instance of my root view in my class</p>\n\n<pre><code>View view;\n\npublic void onCreate(View rootView) {\n    view = rootView;\n</code></pre>\n\n<p>Use the view to hide the keyboard</p>\n\n<pre><code> public void removePhoneKeypad() {\n    InputMethodManager inputManager = (InputMethodManager) view\n            .getContext()\n            .getSystemService(Context.INPUT_METHOD_SERVICE);\n\n    IBinder binder = view.getWindowToken();\n    inputManager.hideSoftInputFromWindow(binder,\n            InputMethodManager.HIDE_NOT_ALWAYS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573231141,"creation_date":1500456478,"answer_id":45186399,"question_id":7940765,"body_markdown":"**This code works for fragments:**\r\n\r\n```\r\ngetActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n```","title":"How to hide the soft keyboard inside a fragment?","body":"<p><strong>This code works for fragments:</strong></p>\n\n<pre><code>getActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3616594,"reputation":2660,"user_id":3016293,"accept_rate":70,"display_name":"hiddeneyes02"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530959390,"creation_date":1530959390,"answer_id":51222266,"question_id":7940765,"body_markdown":"Nothing of this worked on API27. I had to add this in the container of the layout, for me it was a ConstraintLayout:\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:focusedByDefault=&quot;true&quot;&gt;\r\n    \r\n    //Your layout\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Nothing of this worked on API27. I had to add this in the container of the layout, for me it was a ConstraintLayout:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:focusable=\"true\"\n            android:focusableInTouchMode=\"true\"\n            android:focusedByDefault=\"true\"&gt;\n\n//Your layout\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10958546,"reputation":973,"user_id":8052552,"display_name":"Nazmus Saadat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531584069,"creation_date":1531584069,"answer_id":51341085,"question_id":7940765,"body_markdown":"Use this static method, from anywhere (Activity / Fragment) you like.\r\n\r\n    public static void hideKeyboard(Activity activity) {\r\n        try{\r\n            InputMethodManager inputManager = (InputMethodManager) activity\r\n                    .getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            View currentFocusedView = activity.getCurrentFocus();\r\n            if (currentFocusedView != null) {\r\n                inputManager.hideSoftInputFromWindow(currentFocusedView.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n If you want to use for fragment just call `hideKeyboard(((Activity) getActivity()))`.","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Use this static method, from anywhere (Activity / Fragment) you like.</p>\n\n<pre><code>public static void hideKeyboard(Activity activity) {\n    try{\n        InputMethodManager inputManager = (InputMethodManager) activity\n                .getSystemService(Context.INPUT_METHOD_SERVICE);\n        View currentFocusedView = activity.getCurrentFocus();\n        if (currentFocusedView != null) {\n            inputManager.hideSoftInputFromWindow(currentFocusedView.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>If you want to use for fragment just call <code>hideKeyboard(((Activity) getActivity()))</code>.</p>\n"},{"tags":[],"owner":{"account_id":4357023,"reputation":158,"user_id":3555296,"display_name":"Meerz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534489397,"creation_date":1534489397,"answer_id":51890022,"question_id":7940765,"body_markdown":"this will be work in my case when in tabs i switch from one fragment to another fragments\r\n\r\n    @Override\r\n    public void setUserVisibleHint(boolean isVisibleToUser) {\r\n        super.setUserVisibleHint(isVisibleToUser);\r\n        if (isVisibleToUser) {\r\n            try {\r\n                InputMethodManager mImm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                mImm.hideSoftInputFromWindow(getView().getWindowToken(), 0);\r\n                mImm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;setUserVisibleHint: &quot;, e);\r\n            }\r\n        }\r\n    }","title":"How to hide the soft keyboard inside a fragment?","body":"<p>this will be work in my case when in tabs i switch from one fragment to another fragments</p>\n\n<pre><code>@Override\npublic void setUserVisibleHint(boolean isVisibleToUser) {\n    super.setUserVisibleHint(isVisibleToUser);\n    if (isVisibleToUser) {\n        try {\n            InputMethodManager mImm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n            mImm.hideSoftInputFromWindow(getView().getWindowToken(), 0);\n            mImm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);\n        } catch (Exception e) {\n            Log.e(TAG, \"setUserVisibleHint: \", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11856836,"reputation":1,"user_id":8676635,"display_name":"Digital Buddha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537357692,"creation_date":1537354102,"answer_id":52404120,"question_id":7940765,"body_markdown":"Just add this line in you code:\r\n\r\n    getActivity().getWindow().setSoftInputMode(\r\n                    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Just add this line in you code:</p>\n\n<pre><code>getActivity().getWindow().setSoftInputMode(\n                WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1562466,"reputation":573,"user_id":2570689,"accept_rate":100,"display_name":"timeSmith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558162608,"creation_date":1558162608,"answer_id":56196700,"question_id":7940765,"body_markdown":"In Kotlin:\r\n\r\n    (activity?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).hideSoftInputFromWindow(view?.windowToken,0)","title":"How to hide the soft keyboard inside a fragment?","body":"<p>In Kotlin:</p>\n\n<pre><code>(activity?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).hideSoftInputFromWindow(view?.windowToken,0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578246066,"creation_date":1578246066,"answer_id":59602520,"question_id":7940765,"body_markdown":"This worked for me in Kotlin class\r\n\r\n    fun hideKeyboard(activity: Activity) {\r\n        try {\r\n            val inputManager = activity\r\n                .getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n            val currentFocusedView = activity.currentFocus\r\n            if (currentFocusedView != null) {\r\n                inputManager.hideSoftInputFromWindow(currentFocusedView.windowToken, InputMethodManager.HIDE_NOT_ALWAYS)\r\n            }\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n    }","title":"How to hide the soft keyboard inside a fragment?","body":"<p>This worked for me in Kotlin class</p>\n\n<pre><code>fun hideKeyboard(activity: Activity) {\n    try {\n        val inputManager = activity\n            .getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        val currentFocusedView = activity.currentFocus\n        if (currentFocusedView != null) {\n            inputManager.hideSoftInputFromWindow(currentFocusedView.windowToken, InputMethodManager.HIDE_NOT_ALWAYS)\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589636467,"creation_date":1589636467,"answer_id":61837718,"question_id":7940765,"body_markdown":"Use this code in any fragment button listener:\r\n\r\n    InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(getActivity().INPUT_METHOD_SERVICE);\r\n    imm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Use this code in any fragment button listener:</p>\n\n<pre><code>InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(getActivity().INPUT_METHOD_SERVICE);\nimm.hideSoftInputFromWindow(getActivity().getCurrentFocus().getWindowToken(), 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10257178,"reputation":2269,"user_id":7569705,"display_name":"Duc Trung Mai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599792743,"creation_date":1599792743,"answer_id":63840177,"question_id":7940765,"body_markdown":"Use this:\r\n```java\r\nButton loginBtn = view.findViewById(R.id.loginBtn);\r\nloginBtn.setOnClickListener(new View.OnClickListener() {\r\n   public void onClick(View v) {\r\n      InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(getActivity().INPUT_METHOD_SERVICE);\r\n      imm.hideSoftInputFromWindow(v.getWindowToken(), 0);\r\n   }\r\n});\r\n```","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Button loginBtn = view.findViewById(R.id.loginBtn);\nloginBtn.setOnClickListener(new View.OnClickListener() {\n   public void onClick(View v) {\n      InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(getActivity().INPUT_METHOD_SERVICE);\n      imm.hideSoftInputFromWindow(v.getWindowToken(), 0);\n   }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1542097,"reputation":337,"user_id":1436476,"display_name":"RonaldPaguay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609568384,"creation_date":1609568384,"answer_id":65536535,"question_id":7940765,"body_markdown":"Kotlin code\r\n\r\n    val imm = requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n    imm.hideSoftInputFromWindow(requireActivity().currentFocus?.windowToken, 0)\r\n","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Kotlin code</p>\n<pre><code>val imm = requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\nimm.hideSoftInputFromWindow(requireActivity().currentFocus?.windowToken, 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14888926,"reputation":333,"user_id":10751265,"display_name":"necip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610549588,"creation_date":1610549588,"answer_id":65704344,"question_id":7940765,"body_markdown":"**IN BEGINNING**\r\n\r\nin fragment, below code(use in onActivityCreated) force to hide keyboard in beginning:\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        Objects.requireNonNull(getActivity()).getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\r\n    }\r\n\r\n**DURING FRAGMENT** (if need)\r\n\r\nand also if you have edittext or sth different needs keyboard, and wanna hide the keyboard  when pressing outside the keyboard(in my case I have LinearLayout class in xml), first initialize the layout:\r\n\r\n    LinearLayout linearLayout;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        \r\n        View view = inflater.inflate(R.layout.&lt;your fragment xml&gt;, container, false);\r\n\r\n        linearLayout= view.findViewById(R.id.linearLayout);\r\n        ...\r\n        return view;\r\n    }\r\n\r\nthen, you need to below code(use in onViewCreated):\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n\r\n        linearLayout.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view12) {\r\n                try {\r\n                    InputMethodManager inputMethodManager = (InputMethodManager) Objects.requireNonNull(VideoFragment.this.getActivity()).getSystemService(INPUT_METHOD_SERVICE);\r\n                    assert inputMethodManager != null;\r\n                    inputMethodManager.hideSoftInputFromWindow(VideoFragment.this.getActivity().getCurrentFocus().getWindowToken(), 0);\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    \r\n    }","title":"How to hide the soft keyboard inside a fragment?","body":"<p><strong>IN BEGINNING</strong></p>\n<p>in fragment, below code(use in onActivityCreated) force to hide keyboard in beginning:</p>\n<pre><code>@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n\n    Objects.requireNonNull(getActivity()).getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n}\n</code></pre>\n<p><strong>DURING FRAGMENT</strong> (if need)</p>\n<p>and also if you have edittext or sth different needs keyboard, and wanna hide the keyboard  when pressing outside the keyboard(in my case I have LinearLayout class in xml), first initialize the layout:</p>\n<pre><code>LinearLayout linearLayout;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    \n    View view = inflater.inflate(R.layout.&lt;your fragment xml&gt;, container, false);\n\n    linearLayout= view.findViewById(R.id.linearLayout);\n    ...\n    return view;\n}\n</code></pre>\n<p>then, you need to below code(use in onViewCreated):</p>\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n\n    linearLayout.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view12) {\n            try {\n                InputMethodManager inputMethodManager = (InputMethodManager) Objects.requireNonNull(VideoFragment.this.getActivity()).getSystemService(INPUT_METHOD_SERVICE);\n                assert inputMethodManager != null;\n                inputMethodManager.hideSoftInputFromWindow(VideoFragment.this.getActivity().getCurrentFocus().getWindowToken(), 0);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22208352,"reputation":56,"user_id":16447959,"display_name":"Moises"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627695148,"creation_date":1627695148,"answer_id":68598411,"question_id":7940765,"body_markdown":"You can use two ways:\r\n\r\n**You can create a method inside fragment, but first you must create a View attribute and put the inflater result inside it before it returns in onCreateView:**\r\n\r\n1&#176; Open your Fragment class. Create attribute\r\n\r\n    private View view;\r\n\r\n2&#176; assign the &#39;view&#39; attribute the inflater in onCreateView\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n                    view = inflater.inflate(R.layout.your_activity_main, container, false);\r\n                    return view;\r\n    }\r\n\r\n3&#176; create the method &#39;hideKeyboard&#39;\r\n\r\n    public void hideKeyboard(Activity activity) {\r\n            try{\r\n                InputMethodManager inputManager = (InputMethodManager) activity\r\n                        .getSystemService(view.getContext().INPUT_METHOD_SERVICE);\r\n                View currentFocusedView = activity.getCurrentFocus();\r\n                if (currentFocusedView != null) {\r\n                    inputManager.hideSoftInputFromWindow(currentFocusedView.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\r\n                }\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n\r\n5&#176; Now just call the method\r\n\r\n        hideKeyboard(getActivity());\r\n\r\n&lt;hr&gt;\r\n\r\n**If that doesn&#39;t solve your problem, you can try passing the MainActivity class as an object to close the keyboard inside the Frament class**\r\n\r\n1&#176; In YourClassActivity that you instantiated Fragment, create the method &#39;hideKeyboard&#39;\r\n\r\n    public class YourClassActivity extends AppCompatActivity {\r\n        public static void hideKeyboard(Activity activity) {\r\n                InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n                //Find the currently focused view, so we can grab the correct window token from it.\r\n                View view = activity.getCurrentFocus();\r\n                //If no view currently has focus, create a new one, just so we can grab a window token from it\r\n                if (view == null) {\r\n                    view = new View(activity);\r\n                }\r\n                imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n            }\r\n    }\r\n\r\n2&#176; Implement the &#39;Serializable&#39; interface in your Activity that instantiates the Fragment\r\n\r\n    public class YourClassActivity extends AppCompatActivity implements Serializable {\r\n    ...\r\n    }\r\n\r\n3&#176; When you instantiate the Frament in the Activity, you must pass the arguments to that Fragment, which will be the Activity class itself\r\n\r\n \r\n\r\n    Bundle bundle = new Bundle();\r\n    bundle.putSerializable(&quot;activity&quot;, this);\r\n    YourClassFragment fragment = new YourClassFragment();\r\n    fragment.setArguments(bundle);\r\n\r\n\r\n4&#176; Now let&#39;s go to your Fragment class. Create attribute view and activity.\r\n\r\n    private View view;  \r\n    private Activity activity;\r\n\r\n\r\n5&#176; Assign the &#39;view&#39; attribute the inflater in onCreateView. Here you will retrieve the Activity object that was passed as a parameter of this Fragment\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n                view = inflater.inflate(R.layout.your_activity_main, container, false);\r\n                activity = (Activity) getArguments().getSerializable(&quot;obj&quot;);\r\n        \r\n                return view;\r\n        }\r\n\r\n6&#176; Now just call the method\r\n\r\n    hideKeyboard(activity);","title":"How to hide the soft keyboard inside a fragment?","body":"<p>You can use two ways:</p>\n<p><strong>You can create a method inside fragment, but first you must create a View attribute and put the inflater result inside it before it returns in onCreateView:</strong></p>\n<p>1° Open your Fragment class. Create attribute</p>\n<pre><code>private View view;\n</code></pre>\n<p>2° assign the 'view' attribute the inflater in onCreateView</p>\n<pre><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n                view = inflater.inflate(R.layout.your_activity_main, container, false);\n                return view;\n}\n</code></pre>\n<p>3° create the method 'hideKeyboard'</p>\n<pre><code>public void hideKeyboard(Activity activity) {\n        try{\n            InputMethodManager inputManager = (InputMethodManager) activity\n                    .getSystemService(view.getContext().INPUT_METHOD_SERVICE);\n            View currentFocusedView = activity.getCurrentFocus();\n            if (currentFocusedView != null) {\n                inputManager.hideSoftInputFromWindow(currentFocusedView.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n            }\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>5° Now just call the method</p>\n<pre><code>    hideKeyboard(getActivity());\n</code></pre>\n<hr>\n<p><strong>If that doesn't solve your problem, you can try passing the MainActivity class as an object to close the keyboard inside the Frament class</strong></p>\n<p>1° In YourClassActivity that you instantiated Fragment, create the method 'hideKeyboard'</p>\n<pre><code>public class YourClassActivity extends AppCompatActivity {\n    public static void hideKeyboard(Activity activity) {\n            InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n            //Find the currently focused view, so we can grab the correct window token from it.\n            View view = activity.getCurrentFocus();\n            //If no view currently has focus, create a new one, just so we can grab a window token from it\n            if (view == null) {\n                view = new View(activity);\n            }\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n}\n</code></pre>\n<p>2° Implement the 'Serializable' interface in your Activity that instantiates the Fragment</p>\n<pre><code>public class YourClassActivity extends AppCompatActivity implements Serializable {\n...\n}\n</code></pre>\n<p>3° When you instantiate the Frament in the Activity, you must pass the arguments to that Fragment, which will be the Activity class itself</p>\n<pre><code>Bundle bundle = new Bundle();\nbundle.putSerializable(&quot;activity&quot;, this);\nYourClassFragment fragment = new YourClassFragment();\nfragment.setArguments(bundle);\n</code></pre>\n<p>4° Now let's go to your Fragment class. Create attribute view and activity.</p>\n<pre><code>private View view;  \nprivate Activity activity;\n</code></pre>\n<p>5° Assign the 'view' attribute the inflater in onCreateView. Here you will retrieve the Activity object that was passed as a parameter of this Fragment</p>\n<pre><code>    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n            view = inflater.inflate(R.layout.your_activity_main, container, false);\n            activity = (Activity) getArguments().getSerializable(&quot;obj&quot;);\n    \n            return view;\n    }\n</code></pre>\n<p>6° Now just call the method</p>\n<pre><code>hideKeyboard(activity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547009,"reputation":2174,"user_id":5729661,"display_name":"Ali Nawaz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628159606,"creation_date":1628159606,"answer_id":68664949,"question_id":7940765,"body_markdown":"Solution that worked for me in fragments:\r\n\r\n    \r\n    fun hideKeyboard(){\r\n        val imm = requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        imm.hideSoftInputFromWindow(view?.windowToken, 0)\r\n    }\r\n\r\n\r\nand in an activity:\r\n\r\n    fun hideKeyboard(){\r\n        val inputManager: InputMethodManager = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n        inputManager.hideSoftInputFromWindow(currentFocus?.windowToken, InputMethodManager.SHOW_FORCED)\r\n    }\r\n\r\n","title":"How to hide the soft keyboard inside a fragment?","body":"<p>Solution that worked for me in fragments:</p>\n<pre><code>fun hideKeyboard(){\n    val imm = requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    imm.hideSoftInputFromWindow(view?.windowToken, 0)\n}\n</code></pre>\n<p>and in an activity:</p>\n<pre><code>fun hideKeyboard(){\n    val inputManager: InputMethodManager = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n    inputManager.hideSoftInputFromWindow(currentFocus?.windowToken, InputMethodManager.SHOW_FORCED)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235698,"reputation":145,"user_id":6194988,"accept_rate":0,"display_name":"Mohamed Mohamed Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654499705,"creation_date":1654499705,"answer_id":72514245,"question_id":7940765,"body_markdown":"I did all steps but there is something missing I hide the keyboard in fragments with that method \r\n\r\n    fun hideKeyBoard(view: View) {\r\n            val inputManager =\r\n                requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\r\n            inputManager.hideSoftInputFromWindow(\r\n                view.windowToken,\r\n                SOFT_INPUT_STATE_ALWAYS_HIDDEN\r\n            )\r\n        }\r\n\r\nbut still when I open the fragment the keyboard open also after a lot of search I found the problem I must put those code in my xml layout root \r\n \r\n\r\n  \r\n\r\n    android:focusable=&quot;true&quot;\r\n    android:focusableInTouchMode=&quot;true&quot; \r\n\r\nNote: If you delete above method and just put the attributes in root layout, it will work fine.","title":"How to hide the soft keyboard inside a fragment?","body":"<p>I did all steps but there is something missing I hide the keyboard in fragments with that method</p>\n<pre><code>fun hideKeyBoard(view: View) {\n        val inputManager =\n            requireActivity().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        inputManager.hideSoftInputFromWindow(\n            view.windowToken,\n            SOFT_INPUT_STATE_ALWAYS_HIDDEN\n        )\n    }\n</code></pre>\n<p>but still when I open the fragment the keyboard open also after a lot of search I found the problem I must put those code in my xml layout root</p>\n<pre><code>android:focusable=&quot;true&quot;\nandroid:focusableInTouchMode=&quot;true&quot; \n</code></pre>\n<p>Note: If you delete above method and just put the attributes in root layout, it will work fine.</p>\n"}],"owner":{"account_id":287034,"reputation":11714,"user_id":586606,"accept_rate":90,"display_name":"WilHall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118818,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":9981958,"answer_count":19,"score":97,"last_activity_date":1654499705,"creation_date":1319912290,"question_id":7940765,"body_markdown":"I have a `FragmentActivity` using a `ViewPager` to serve several fragments. Each is a `ListFragment` with the following layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    \txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \tandroid:layout_width=&quot;fill_parent&quot;\r\n    \tandroid:layout_height=&quot;fill_parent&quot;&gt;\r\n    \t&lt;LinearLayout\r\n    \t\tandroid:orientation=&quot;vertical&quot;\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;match_parent&quot;\r\n    \t\tandroid:padding=&quot;8dp&quot;&gt;\r\n    \t\t&lt;ListView android:id=&quot;@id/android:list&quot;\r\n    \t\t\tandroid:layout_width=&quot;fill_parent&quot;\r\n    \t\t\tandroid:layout_height=&quot;fill_parent&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;EditText android:id=&quot;@+id/entertext&quot;\r\n    \t\t\tandroid:layout_width=&quot;fill_parent&quot;\r\n    \t\t\tandroid:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \t&lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nWhen starting the activity, the soft keyboard shows. To remedy this, I did the following inside the fragment:\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \t//Save the container view so we can access the window token\r\n    \tviewContainer = container;\r\n    \t//get the input method manager service\r\n    \timm = (InputMethodManager)getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    \t. . .\r\n    }\r\n    \r\n    @Override\r\n    public void onStart() {\r\n    \tsuper.onStart();\r\n    \t\r\n    \t//Hide the soft keyboard\r\n    \timm.hideSoftInputFromWindow(viewContainer.getWindowToken(), 0);\r\n    }\r\n\r\n\r\nI save the incoming `ViewGroup container` parameter from `onCreateView` as a way to access the window token for the main activity. This runs without error, but the keyboard doesn&#39;t get hidden from the call to `hideSoftInputFromWindow` in `onStart`.\r\n\r\nOriginally, I tried using the inflated layout instead of `container`, i.e:\r\n\r\n    imm.hideSoftInputFromWindow(myInflatedLayout.getWindowToken(), 0);\r\n\r\nbut this threw a `NullPointerException`, presumably because the fragment itself isn&#39;t an activity and doesn&#39;t have a unique window token?\r\n\r\nIs there a way to hide the soft keyboard from within a fragment, or should I create a method in the `FragmentActivity` and call it from within the fragment?","title":"How to hide the soft keyboard inside a fragment?","body":"<p>I have a <code>FragmentActivity</code> using a <code>ViewPager</code> to serve several fragments. Each is a <code>ListFragment</code> with the following layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n    &lt;LinearLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:padding=\"8dp\"&gt;\n        &lt;ListView android:id=\"@id/android:list\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"fill_parent\" /&gt;\n\n        &lt;EditText android:id=\"@+id/entertext\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>When starting the activity, the soft keyboard shows. To remedy this, I did the following inside the fragment:</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    //Save the container view so we can access the window token\n    viewContainer = container;\n    //get the input method manager service\n    imm = (InputMethodManager)getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n    . . .\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n\n    //Hide the soft keyboard\n    imm.hideSoftInputFromWindow(viewContainer.getWindowToken(), 0);\n}\n</code></pre>\n\n<p>I save the incoming <code>ViewGroup container</code> parameter from <code>onCreateView</code> as a way to access the window token for the main activity. This runs without error, but the keyboard doesn't get hidden from the call to <code>hideSoftInputFromWindow</code> in <code>onStart</code>.</p>\n\n<p>Originally, I tried using the inflated layout instead of <code>container</code>, i.e:</p>\n\n<pre><code>imm.hideSoftInputFromWindow(myInflatedLayout.getWindowToken(), 0);\n</code></pre>\n\n<p>but this threw a <code>NullPointerException</code>, presumably because the fragment itself isn't an activity and doesn't have a unique window token?</p>\n\n<p>Is there a way to hide the soft keyboard from within a fragment, or should I create a method in the <code>FragmentActivity</code> and call it from within the fragment?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1654499717,"post_id":72513719,"comment_id":128096850,"body_markdown":"`get` will already return `null` when the map doesn&#39;t contain the key. The places where keys are associated with a `null` value are rare (and I personally consider them a bug).","body":"<code>get</code> will already return <code>null</code> when the map doesn&#39;t contain the key. The places where keys are associated with a <code>null</code> value are rare (and I personally consider them a bug)."}],"answers":[{"tags":[],"owner":{"account_id":18958610,"reputation":304,"user_id":17512310,"display_name":"devman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654498689,"creation_date":1654497374,"answer_id":72513902,"question_id":72513719,"body_markdown":"you can try:\r\n```java\r\npublic Optional&lt;String&gt; myMethod(final Map&lt;String, String&gt; myMap) {\r\n        return Optional.ofNullable(myMap != null ? myMap.getOrDefault(&quot;Key&quot;, null) : null);\r\n    }\r\n```","title":"Simplify code: return a value from map if map is not null and contains key","body":"<p>you can try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;String&gt; myMethod(final Map&lt;String, String&gt; myMap) {\n        return Optional.ofNullable(myMap != null ? myMap.getOrDefault(&quot;Key&quot;, null) : null);\n    }\n</code></pre>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72513902,"answer_count":1,"score":2,"last_activity_date":1654499646,"creation_date":1654496051,"question_id":72513719,"body_markdown":"Can the following piece of code be simplified?\r\n```\r\n    public Optional&lt;String&gt; myMethod(final Map myMap) {\r\n\r\n        String result = null;\r\n        if (myMap != null &amp;&amp; myMap.containsKey(Constants.SOME_KEY)) {\r\n\r\n            result = (String) myMap.get(Constants.SOME_KEY);\r\n        }\r\n        return Optional.ofNullable(result);\r\n    }\r\n```","title":"Simplify code: return a value from map if map is not null and contains key","body":"<p>Can the following piece of code be simplified?</p>\n<pre><code>    public Optional&lt;String&gt; myMethod(final Map myMap) {\n\n        String result = null;\n        if (myMap != null &amp;&amp; myMap.containsKey(Constants.SOME_KEY)) {\n\n            result = (String) myMap.get(Constants.SOME_KEY);\n        }\n        return Optional.ofNullable(result);\n    }\n</code></pre>\n"},{"tags":["java","hashmap","java-stream"],"comments":[{"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"score":0,"creation_date":1654415871,"post_id":72505650,"comment_id":128081924,"body_markdown":"Why the nested map? You&#39;re going to take some performance hits. Why not just add &quot;AED&quot; to currencyRate as well?","body":"Why the nested map? You&#39;re going to take some performance hits. Why not just add &quot;AED&quot; to currencyRate as well?"},{"owner":{"account_id":15026487,"reputation":522,"user_id":10846152,"display_name":"Andrei Nepsha"},"score":0,"creation_date":1654416731,"post_id":72505650,"comment_id":128082038,"body_markdown":"It looks like you are filtering the main dictionary instead of the currency dictionary, which is in it with the key &quot;rates&quot;","body":"It looks like you are filtering the main dictionary instead of the currency dictionary, which is in it with the key &quot;rates&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25397590,"reputation":126,"user_id":19207621,"display_name":"itfedorovsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654416159,"creation_date":1654416159,"answer_id":72505708,"question_id":72505650,"body_markdown":"I guess You should use flatMap() to transform nested map to new stream.\r\n\r\n    Map&lt;String, Object&gt; filtered = currencyRate.entrySet()\r\n                .stream()\r\n                .filter(map-&gt;map.getValue().toString().contains(&quot;AED&quot;))\r\n                .flatMap(map-&gt;map.stream())\r\n                .filter(...)\r\n                .collect(Collectors.toMap(map -&gt; map.getKey(), map -&gt; map.getValue()));\r\n\r\n","title":"How to filter nested Map&lt;String, Object&gt; in Java?","body":"<p>I guess You should use flatMap() to transform nested map to new stream.</p>\n<pre><code>Map&lt;String, Object&gt; filtered = currencyRate.entrySet()\n            .stream()\n            .filter(map-&gt;map.getValue().toString().contains(&quot;AED&quot;))\n            .flatMap(map-&gt;map.stream())\n            .filter(...)\n            .collect(Collectors.toMap(map -&gt; map.getKey(), map -&gt; map.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654499319,"creation_date":1654416514,"answer_id":72505733,"question_id":72505650,"body_markdown":"Since you&#39;re using a map where each value can be any Object `Map&lt;String, Object&gt;` (there is no declaration so I&#39;m just assuming here), I guess you could use the `findFirst` terminal operation and then cast the returned value to `Map&lt;String, Object&gt;` (I&#39;ve used Object here too for the values since the data type is not specified in the question). \r\n\r\nOf course, this makes sense only if you specifically want to use streams and under the strict assumption that there is only one value containing &quot;AED&quot; within your enclosing map (again, in the question is not specified if any other value can contain &quot;AED&quot;). Alternatively, you could simply perform a map.get(&quot;rates&quot;) to retrieve your nested map.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(Map.of(\r\n            &quot;license&quot;, &quot;http:/etc&quot;,\r\n            &quot;timestamp&quot;, 1654,\r\n            &quot;base&quot;, &quot;USD&quot;,\r\n            &quot;rates&quot;, Map.of(\r\n                    &quot;AED&quot;, 3.6,\r\n                    &quot;AFN&quot;, 88.9,\r\n                    &quot;ALL&quot;, 112\r\n                    // ...\r\n            )\r\n    ));\r\n\r\n    Map&lt;String, Object&gt; mapRes = (Map&lt;String, Object&gt;) map.entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; entry.getValue().toString().contains(&quot;AED&quot;))\r\n            .map(entry -&gt; entry.getValue())\r\n            .findFirst()\r\n            .orElse(null);\r\n\r\n    System.out.println(mapRes);\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n{ALL=112, AED=3.6, AFN=88.9}\r\n```","title":"How to filter nested Map&lt;String, Object&gt; in Java?","body":"<p>Since you're using a map where each value can be any Object <code>Map&lt;String, Object&gt;</code> (there is no declaration so I'm just assuming here), I guess you could use the <code>findFirst</code> terminal operation and then cast the returned value to <code>Map&lt;String, Object&gt;</code> (I've used Object here too for the values since the data type is not specified in the question).</p>\n<p>Of course, this makes sense only if you specifically want to use streams and under the strict assumption that there is only one value containing &quot;AED&quot; within your enclosing map (again, in the question is not specified if any other value can contain &quot;AED&quot;). Alternatively, you could simply perform a map.get(&quot;rates&quot;) to retrieve your nested map.</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(Map.of(\n            &quot;license&quot;, &quot;http:/etc&quot;,\n            &quot;timestamp&quot;, 1654,\n            &quot;base&quot;, &quot;USD&quot;,\n            &quot;rates&quot;, Map.of(\n                    &quot;AED&quot;, 3.6,\n                    &quot;AFN&quot;, 88.9,\n                    &quot;ALL&quot;, 112\n                    // ...\n            )\n    ));\n\n    Map&lt;String, Object&gt; mapRes = (Map&lt;String, Object&gt;) map.entrySet()\n            .stream()\n            .filter(entry -&gt; entry.getValue().toString().contains(&quot;AED&quot;))\n            .map(entry -&gt; entry.getValue())\n            .findFirst()\n            .orElse(null);\n\n    System.out.println(mapRes);\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>{ALL=112, AED=3.6, AFN=88.9}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654455269,"creation_date":1654422726,"answer_id":72506343,"question_id":72505650,"body_markdown":"You don&#39;t need to use streams for that. Instead, you need to get the *nested map* by its *key* `&quot;rates&quot;` and type cast it into the appropriate type (*note that this casting is unsafe*):\r\n```\r\ndouble aedRate = ((Map&lt;String, Double&gt;) map.get(&quot;rates&quot;)).get(&quot;AED&quot;);\r\n```\r\nIf you want to utilize streams for that at all costs, then again firstly you need to extract the *nested map* and convert it from the `Object` type into `Map`. Then create a stream over its entries and filter out the entry with the *target key* `&quot;AED&quot;`:\r\n```\r\nMap.Entry&lt;String, Double&gt; result =\r\n    ((Map&lt;String, Double&gt;) map.get(&quot;rates&quot;)).entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey(&quot;AED&quot;))\r\n        .findFirst()\r\n        .orElseThrow();\r\n```\r\n**Note** that using `Object` as generic type and operating via type casts isn&#39;t a good practice. The overall approach of a `Map&lt;String, Object&gt;` is error-prone and unmaintainable. You would never had this problem if you kept the data in your application structured appropriately.\r\n","title":"How to filter nested Map&lt;String, Object&gt; in Java?","body":"<p>You don't need to use streams for that. Instead, you need to get the <em>nested map</em> by its <em>key</em> <code>&quot;rates&quot;</code> and type cast it into the appropriate type (<em>note that this casting is unsafe</em>):</p>\n<pre><code>double aedRate = ((Map&lt;String, Double&gt;) map.get(&quot;rates&quot;)).get(&quot;AED&quot;);\n</code></pre>\n<p>If you want to utilize streams for that at all costs, then again firstly you need to extract the <em>nested map</em> and convert it from the <code>Object</code> type into <code>Map</code>. Then create a stream over its entries and filter out the entry with the <em>target key</em> <code>&quot;AED&quot;</code>:</p>\n<pre><code>Map.Entry&lt;String, Double&gt; result =\n    ((Map&lt;String, Double&gt;) map.get(&quot;rates&quot;)).entrySet().stream()\n        .filter(entry -&gt; entry.getKey(&quot;AED&quot;))\n        .findFirst()\n        .orElseThrow();\n</code></pre>\n<p><strong>Note</strong> that using <code>Object</code> as generic type and operating via type casts isn't a good practice. The overall approach of a <code>Map&lt;String, Object&gt;</code> is error-prone and unmaintainable. You would never had this problem if you kept the data in your application structured appropriately.</p>\n"}],"owner":{"account_id":25472312,"reputation":35,"user_id":19270280,"display_name":"Nam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72505733,"answer_count":3,"score":2,"last_activity_date":1654499319,"creation_date":1654415440,"question_id":72505650,"body_markdown":"I have `Map&lt;String, Object&gt; currencyRate` that contains \r\n\r\n    &quot;license&quot;: &quot;https:/etc&quot;,\r\n    &quot;timestamp&quot;: 1654,\r\n    &quot;base&quot;: &quot;USD&quot;,\r\n    &quot;rates&quot;: {\r\n    &quot;AED&quot;: 3.6,\r\n    &quot;AFN&quot;: 88.9,\r\n    &quot;ALL&quot;: 112,\r\n     etc\r\n    }\r\nAnd e.g. I want to get `&quot;AED&quot;` value which is `3.6`. \r\n\r\nI&#39;ve tried this:\r\n\r\n    Map&lt;String, Object&gt; filtered = currencyRate.entrySet()\r\n                .stream()\r\n                .filter(map-&gt;map.getValue().toString().contains(&quot;AED&quot;))\r\n                .collect(Collectors.toMap(map -&gt; map.getKey(), map -&gt; map.getValue()));\r\nBut it returned this:\r\n\r\n    &quot;rates&quot;: {\r\n    &quot;AED&quot;: 3.6,\r\n    &quot;AFN&quot;: 88.9,\r\n    &quot;ALL&quot;: 112,\r\n     etc\r\n    }\r\n\r\nSo `&quot;rates&quot;` is *key*, and it has *values* which also has *keys* and *values*. \r\n\r\nHow can I get *keys* and *values* **in** `&quot;rates&quot;`?","title":"How to filter nested Map&lt;String, Object&gt; in Java?","body":"<p>I have <code>Map&lt;String, Object&gt; currencyRate</code> that contains</p>\n<pre><code>&quot;license&quot;: &quot;https:/etc&quot;,\n&quot;timestamp&quot;: 1654,\n&quot;base&quot;: &quot;USD&quot;,\n&quot;rates&quot;: {\n&quot;AED&quot;: 3.6,\n&quot;AFN&quot;: 88.9,\n&quot;ALL&quot;: 112,\n etc\n}\n</code></pre>\n<p>And e.g. I want to get <code>&quot;AED&quot;</code> value which is <code>3.6</code>.</p>\n<p>I've tried this:</p>\n<pre><code>Map&lt;String, Object&gt; filtered = currencyRate.entrySet()\n            .stream()\n            .filter(map-&gt;map.getValue().toString().contains(&quot;AED&quot;))\n            .collect(Collectors.toMap(map -&gt; map.getKey(), map -&gt; map.getValue()));\n</code></pre>\n<p>But it returned this:</p>\n<pre><code>&quot;rates&quot;: {\n&quot;AED&quot;: 3.6,\n&quot;AFN&quot;: 88.9,\n&quot;ALL&quot;: 112,\n etc\n}\n</code></pre>\n<p>So <code>&quot;rates&quot;</code> is <em>key</em>, and it has <em>values</em> which also has <em>keys</em> and <em>values</em>.</p>\n<p>How can I get <em>keys</em> and <em>values</em> <strong>in</strong> <code>&quot;rates&quot;</code>?</p>\n"},{"tags":["java","database","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654498949,"creation_date":1491849533,"answer_id":43330587,"question_id":43325640,"body_markdown":"You need to `correlate()` the outer query with the subquery. Try something along the following lines (it is hard to test without having the real model, but should be close enough):\r\n\r\n    \tCriteriaBuilder cb = this.entityManager.getCriteriaBuilder();\r\n    \tCriteriaQuery&lt;Person&gt; cq = cb.createQuery(Person.class);\r\n\r\n    \tRoot&lt;Person&gt; root = cq.from(Person.class);\r\n\r\n    \tcq.select(root);\r\n\r\n    \tSubquery&lt;Category&gt; subquery = cq.subquery(Category.class);\r\n    \tRoot&lt;Person&gt; subqueryRoot = subquery.correlate(root);\r\n    \tJoin&lt;Person,Category&gt; personCategories = subqueryRoot.join(&quot;categories&quot;);\r\n    \tsubquery\r\n    \t\t.select(personCategories) // check out comment for possible needed change\r\n    \t\t.where(cb.equal(personCategories.get(&quot;name&quot;), &quot;Staff&quot;));\r\n    \t\r\n    \tcq.where(cb.exists(subquery));\r\n\r\n    \tTypedQuery&lt;Person&gt; typedQuery = this.entityManager.createQuery(cq);\r\n\r\n    \tList&lt;Person&gt; resultList = typedQuery.getResultList();\r\n\r\nThis *should* result in:\r\n\r\n    SELECT obj FROM Person AS obj\r\n    WHERE EXISTS (\r\n        SELECT category FROM obj.categories AS category\r\n        WHERE category.name = &#39;Staff&#39;\r\n    )","title":"JPA 2 Criteria ManyToMany Subselect","body":"<p>You need to <code>correlate()</code> the outer query with the subquery. Try something along the following lines (it is hard to test without having the real model, but should be close enough):</p>\n<pre><code>    CriteriaBuilder cb = this.entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Person&gt; cq = cb.createQuery(Person.class);\n\n    Root&lt;Person&gt; root = cq.from(Person.class);\n\n    cq.select(root);\n\n    Subquery&lt;Category&gt; subquery = cq.subquery(Category.class);\n    Root&lt;Person&gt; subqueryRoot = subquery.correlate(root);\n    Join&lt;Person,Category&gt; personCategories = subqueryRoot.join(&quot;categories&quot;);\n    subquery\n        .select(personCategories) // check out comment for possible needed change\n        .where(cb.equal(personCategories.get(&quot;name&quot;), &quot;Staff&quot;));\n    \n    cq.where(cb.exists(subquery));\n\n    TypedQuery&lt;Person&gt; typedQuery = this.entityManager.createQuery(cq);\n\n    List&lt;Person&gt; resultList = typedQuery.getResultList();\n</code></pre>\n<p>This <em>should</em> result in:</p>\n<pre><code>SELECT obj FROM Person AS obj\nWHERE EXISTS (\n    SELECT category FROM obj.categories AS category\n    WHERE category.name = 'Staff'\n)\n</code></pre>\n"}],"owner":{"account_id":1777600,"reputation":50,"user_id":1621076,"display_name":"GAULIX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43330587,"answer_count":1,"score":2,"last_activity_date":1654498949,"creation_date":1491833865,"question_id":43325640,"body_markdown":"I have the following scenario:\r\n\r\nPerson.class:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;person&quot;)\r\n\t@SequenceGenerator(name = &quot;seq_person&quot;, sequenceName = &quot;seq_person&quot;, allocationSize = 1, initialValue = 1)\r\n\tpublic class Person implements Serializable {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_pessoa&quot;)\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate int id;\r\n\r\n\t\t@Column(name = &quot;name&quot;, nullable = false)\r\n\t\tprivate String name;\r\n\r\n\t\t@ManyToMany(fetch = FetchType.LAZY, cascade = { javax.persistence.CascadeType.REFRESH, javax.persistence.CascadeType.MERGE })\r\n\t\t@JoinTable(name = &quot;person_category&quot;, joinColumns = { @JoinColumn(name = &quot;person_id&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;category_id&quot;) })\r\n\t\tprotected List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\r\n\r\n\t\t...\r\n\t}\r\n\r\nCategory.class:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;category&quot;)\r\n\t@SequenceGenerator(name = &quot;seq_category&quot;, sequenceName = &quot;seq_category&quot;, allocationSize = 1, initialValue = 1)\r\n\tpublic class Category implements Serializable {\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_category&quot;)\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate int id;\r\n\r\n\t\t@Column(name = &quot;name&quot;, nullable = false)\r\n\t\tprivate String name;\r\n\r\n\t\t...\r\n\t}\r\n\r\nWith this scenario, I need to do a query using JPA2 Criteria, to substitute this HQL query:\r\n\r\n\tSELECT obj FROM Person AS obj\r\n\tWHERE EXISTS (\r\n\t\tSELECT category.id FROM obj.categories AS category\r\n\t\tWHERE category.name = &#39;Staff&#39;\r\n\t)\r\n\r\nI&#39;ve tried to make a join with categories, but it multiply the result by the quantity of categories of each person:\r\n\r\n\tCriteriaBuilder cb = this.entityManager.getCriteriaBuilder();\r\n\tCriteriaQuery&lt;Person&gt; cq = cb.createQuery(Person.class);\r\n\r\n\tRoot&lt;Person&gt; root = cq.from(Person);\r\n\r\n\tcq.select(root);\r\n\r\n\tSubquery&lt;Category&gt; subquery = cq.subquery(Category.class);\r\n\tRoot&lt;Category&gt; subqueryFrom = subquery.from(Category.class);\r\n\tsubquery.select(subquery.from(clazz).get(&quot;id&quot;));\r\n\r\n\tPredicate predicateJoin = cb.equal(root.join(&quot;categories&quot;, JoinType.LEFT), subqueryFrom);\r\n\tPredicate predicateName = cb.like(subqueryFrom.get(&quot;name&quot;), &quot;%&quot; + content + &quot;%&quot;);\r\n\r\n\tsubquery.where(cb.and(predicateJoin, predicateName));\r\n\tcb.where(cb.exists(subquery));\r\n\r\n\tTypedQuery&lt;Person&gt; typedQuery = this.entityManager.createQuery(cq);\r\n\r\n\tList&lt;Person&gt; resultList = typedQuery.getResultList();\r\n\r\nThis criteria result in this SQL:\r\n\r\n\tselect\r\n\t    person0_.id as id1_50_,\r\n\t    person0_.name as name29_50_\r\n\tfrom\r\n\t    person person0_ \r\n\tleft outer join\r\n\t    person_category categories2_ \r\n\t        on person0_.id=categories2_.person_id \r\n\tleft outer join\r\n\t    category categoryp3_ \r\n\t        on categories2_.category_id=categoryp3_.id \r\n\twhere\r\n        exists (\r\n            select\r\n                categoryp5_.id \r\n            from\r\n                person_category categoryp4_ cross \r\n            join\r\n                person_category categoryp5_ \r\n            where\r\n                categoryp3_.id=categoryp4_.id \r\n                and (\r\n                    categoryp4_.name like ?\r\n                )\r\n        )\r\n\r\nThe generated SQL do a CROSS JOIN with `person_category` and do the LEFT JOIN out of subselect.\r\n\r\nUsing the HQL Hibernate produces the following SQL:\r\n\r\n\tselect\r\n\t    person0_.id as id1_50_,\r\n\t    person0_.name as name29_50_\r\n\tfrom\r\n\t    person person0_ \r\n\twhere\r\n\t    exists (\r\n\t        select\r\n\t            categoryp2_.id \r\n\t        from\r\n\t            person_category categories1_,\r\n\t            category categoryp2_ \r\n\t        where\r\n\t            person0_.id=categories1_.person_id \r\n\t            and categories1_.category_id=categoryp2_.id \r\n\t            and categoryp2_.name=?\r\n\t    )\r\n\r\nHow I can do this query in Criteria?","title":"JPA 2 Criteria ManyToMany Subselect","body":"<p>I have the following scenario:</p>\n\n<p>Person.class:</p>\n\n<pre><code>@Entity\n@Table(name = \"person\")\n@SequenceGenerator(name = \"seq_person\", sequenceName = \"seq_person\", allocationSize = 1, initialValue = 1)\npublic class Person implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"seq_pessoa\")\n    @Column(name = \"id\")\n    private int id;\n\n    @Column(name = \"name\", nullable = false)\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = { javax.persistence.CascadeType.REFRESH, javax.persistence.CascadeType.MERGE })\n    @JoinTable(name = \"person_category\", joinColumns = { @JoinColumn(name = \"person_id\") }, inverseJoinColumns = { @JoinColumn(name = \"category_id\") })\n    protected List&lt;Category&gt; categories = new ArrayList&lt;&gt;();\n\n    ...\n}\n</code></pre>\n\n<p>Category.class:</p>\n\n<pre><code>@Entity\n@Table(name = \"category\")\n@SequenceGenerator(name = \"seq_category\", sequenceName = \"seq_category\", allocationSize = 1, initialValue = 1)\npublic class Category implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"seq_category\")\n    @Column(name = \"id\")\n    private int id;\n\n    @Column(name = \"name\", nullable = false)\n    private String name;\n\n    ...\n}\n</code></pre>\n\n<p>With this scenario, I need to do a query using JPA2 Criteria, to substitute this HQL query:</p>\n\n<pre><code>SELECT obj FROM Person AS obj\nWHERE EXISTS (\n    SELECT category.id FROM obj.categories AS category\n    WHERE category.name = 'Staff'\n)\n</code></pre>\n\n<p>I've tried to make a join with categories, but it multiply the result by the quantity of categories of each person:</p>\n\n<pre><code>CriteriaBuilder cb = this.entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Person&gt; cq = cb.createQuery(Person.class);\n\nRoot&lt;Person&gt; root = cq.from(Person);\n\ncq.select(root);\n\nSubquery&lt;Category&gt; subquery = cq.subquery(Category.class);\nRoot&lt;Category&gt; subqueryFrom = subquery.from(Category.class);\nsubquery.select(subquery.from(clazz).get(\"id\"));\n\nPredicate predicateJoin = cb.equal(root.join(\"categories\", JoinType.LEFT), subqueryFrom);\nPredicate predicateName = cb.like(subqueryFrom.get(\"name\"), \"%\" + content + \"%\");\n\nsubquery.where(cb.and(predicateJoin, predicateName));\ncb.where(cb.exists(subquery));\n\nTypedQuery&lt;Person&gt; typedQuery = this.entityManager.createQuery(cq);\n\nList&lt;Person&gt; resultList = typedQuery.getResultList();\n</code></pre>\n\n<p>This criteria result in this SQL:</p>\n\n<pre><code>select\n    person0_.id as id1_50_,\n    person0_.name as name29_50_\nfrom\n    person person0_ \nleft outer join\n    person_category categories2_ \n        on person0_.id=categories2_.person_id \nleft outer join\n    category categoryp3_ \n        on categories2_.category_id=categoryp3_.id \nwhere\n    exists (\n        select\n            categoryp5_.id \n        from\n            person_category categoryp4_ cross \n        join\n            person_category categoryp5_ \n        where\n            categoryp3_.id=categoryp4_.id \n            and (\n                categoryp4_.name like ?\n            )\n    )\n</code></pre>\n\n<p>The generated SQL do a CROSS JOIN with <code>person_category</code> and do the LEFT JOIN out of subselect.</p>\n\n<p>Using the HQL Hibernate produces the following SQL:</p>\n\n<pre><code>select\n    person0_.id as id1_50_,\n    person0_.name as name29_50_\nfrom\n    person person0_ \nwhere\n    exists (\n        select\n            categoryp2_.id \n        from\n            person_category categories1_,\n            category categoryp2_ \n        where\n            person0_.id=categories1_.person_id \n            and categories1_.category_id=categoryp2_.id \n            and categoryp2_.name=?\n    )\n</code></pre>\n\n<p>How I can do this query in Criteria?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":191409,"reputation":1415,"user_id":431974,"accept_rate":67,"display_name":"BahmanM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654497502,"creation_date":1654497502,"answer_id":72513914,"question_id":72510513,"body_markdown":"**TL;DR** Check out [`Object#wait` Javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)) and [J2SE Specs - Threads and Locks](https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html) chapter to gain a thorough understanding of the multi-threading guarantees that JVM offers, its limitations and how to guard against them.\r\n\r\n----\r\n\r\nWhen I read the first version of your code, the are a couple of points that immediately stand out:\r\n\r\n1. It assumes an order of execution between `t1` and `t2`, ie it expects that `t2:window#renderer` calls `Window#wait` before `t1:window#pollEvents` calls `Window#notify`.\r\n\r\n_In practice, there&#39;s a good chance that `t1` calls `Window#notify` before `t2` gets a chance to call `Window#wait`.  This can in the worst case cause a deadlock and in the best a missed `notify`._\r\n\r\n2. It assumes that once `Window#wait` is called, the calling thread is not going to wake up until the other thread calls `Window#notify`.\r\n\r\n_&quot;Spurious wake ups&quot; are a common phenomenon in multi-threaded code using native threads (like JVM).  It means that, for example, there&#39;s a chance that before `t1` can call `Window#notify`, `t2` is scheduled, calls `Window#wait` and then is spuriously woken up and continues execution._ \r\n\r\n----\r\nThe second version of the code pretty much follows &quot;the recommended approach&quot; by JDK developers on how to use `Object#wait`, ie using an invariant to test if, upon being scheduled, a thread should execute the guarded section.\r\n\r\nI don&#39;t think you actually need `while (true) {...}`, but you most certainly do `while (isRenderNeeded) {...}` and `while (!isRenderNeeded) {...}`.","title":"Process halts while interthread communication","body":"<p><strong>TL;DR</strong> Check out <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\"><code>Object#wait</code> Javadocs</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html\" rel=\"nofollow noreferrer\">J2SE Specs - Threads and Locks</a> chapter to gain a thorough understanding of the multi-threading guarantees that JVM offers, its limitations and how to guard against them.</p>\n<hr />\n<p>When I read the first version of your code, the are a couple of points that immediately stand out:</p>\n<ol>\n<li>It assumes an order of execution between <code>t1</code> and <code>t2</code>, ie it expects that <code>t2:window#renderer</code> calls <code>Window#wait</code> before <code>t1:window#pollEvents</code> calls <code>Window#notify</code>.</li>\n</ol>\n<p><em>In practice, there's a good chance that <code>t1</code> calls <code>Window#notify</code> before <code>t2</code> gets a chance to call <code>Window#wait</code>.  This can in the worst case cause a deadlock and in the best a missed <code>notify</code>.</em></p>\n<ol start=\"2\">\n<li>It assumes that once <code>Window#wait</code> is called, the calling thread is not going to wake up until the other thread calls <code>Window#notify</code>.</li>\n</ol>\n<p><em>&quot;Spurious wake ups&quot; are a common phenomenon in multi-threaded code using native threads (like JVM).  It means that, for example, there's a chance that before <code>t1</code> can call <code>Window#notify</code>, <code>t2</code> is scheduled, calls <code>Window#wait</code> and then is spuriously woken up and continues execution.</em></p>\n<hr />\n<p>The second version of the code pretty much follows &quot;the recommended approach&quot; by JDK developers on how to use <code>Object#wait</code>, ie using an invariant to test if, upon being scheduled, a thread should execute the guarded section.</p>\n<p>I don't think you actually need <code>while (true) {...}</code>, but you most certainly do <code>while (isRenderNeeded) {...}</code> and <code>while (!isRenderNeeded) {...}</code>.</p>\n"},{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654498762,"creation_date":1654498762,"answer_id":72514086,"question_id":72510513,"body_markdown":"Your first chunk of code calls `notify`, but there is nothing to `notify` for. No shared state has changed.\r\n\r\nYour first chunk of code calls `wait`, but there is nothign to `wait` for. There is no shared state that is in the wrong state.\r\n\r\nThe entire point of `wait` is to provide an atomic &quot;unlock and wait&quot; operation to avoid the situation where this happens:\r\n\r\n1. You acquire a lock to check on shared state.\r\n1. You check whether it is time for you to do something.\r\n1. It is not time yet, so you need to wait.\r\n1. You release the lock so that another thread can change the shared state to indicate that it is time for you to do something.\r\n1. You wait for the other thread.\r\n\r\nNow, what happens if the other thread changes the state between steps 4 and 5? You will be waiting for something that already happened.\r\n\r\nSo `wait` implements an atomic &quot;unlock and wait&quot;, doing steps 4 and 5 with no opportunity for a thread to interfere with the shared state in-between those steps. But that means the lock that gets released during the wait has to protect some shared state that you checked and decided to wait for.\r\n\r\nYour first chunk of code doesn&#39;t have that. So it has no use for `wait`. There is no lock protecting shared state that needs to be unlocked at all, and there is no change in shared state to wait for.\r\n\r\nYour last chunk of code needs an atomic &quot;unlock and wait&quot; operation. It has shared state (`isRenderNeeded`) that is protected by a lock (the object is locked because the functions are `synchronized`), so you need a way to release the lock (so the other thread can access and modify `isRenderNeeded`) and wait for a signal without the other thread signaling after you unlock but before you wait.\r\n\r\nSo your first chunk of code makes no sense, waiting for nothing and notifying of nothing. Your second chunk of code uses `wait` properly to wait for a change of shared state and notify of a change of shared state.","title":"Process halts while interthread communication","body":"<p>Your first chunk of code calls <code>notify</code>, but there is nothing to <code>notify</code> for. No shared state has changed.</p>\n<p>Your first chunk of code calls <code>wait</code>, but there is nothign to <code>wait</code> for. There is no shared state that is in the wrong state.</p>\n<p>The entire point of <code>wait</code> is to provide an atomic &quot;unlock and wait&quot; operation to avoid the situation where this happens:</p>\n<ol>\n<li>You acquire a lock to check on shared state.</li>\n<li>You check whether it is time for you to do something.</li>\n<li>It is not time yet, so you need to wait.</li>\n<li>You release the lock so that another thread can change the shared state to indicate that it is time for you to do something.</li>\n<li>You wait for the other thread.</li>\n</ol>\n<p>Now, what happens if the other thread changes the state between steps 4 and 5? You will be waiting for something that already happened.</p>\n<p>So <code>wait</code> implements an atomic &quot;unlock and wait&quot;, doing steps 4 and 5 with no opportunity for a thread to interfere with the shared state in-between those steps. But that means the lock that gets released during the wait has to protect some shared state that you checked and decided to wait for.</p>\n<p>Your first chunk of code doesn't have that. So it has no use for <code>wait</code>. There is no lock protecting shared state that needs to be unlocked at all, and there is no change in shared state to wait for.</p>\n<p>Your last chunk of code needs an atomic &quot;unlock and wait&quot; operation. It has shared state (<code>isRenderNeeded</code>) that is protected by a lock (the object is locked because the functions are <code>synchronized</code>), so you need a way to release the lock (so the other thread can access and modify <code>isRenderNeeded</code>) and wait for a signal without the other thread signaling after you unlock but before you wait.</p>\n<p>So your first chunk of code makes no sense, waiting for nothing and notifying of nothing. Your second chunk of code uses <code>wait</code> properly to wait for a change of shared state and notify of a change of shared state.</p>\n"}],"owner":{"account_id":20955227,"reputation":21,"user_id":15395914,"display_name":"itgow01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1654508362,"answer_count":2,"score":1,"last_activity_date":1654498762,"creation_date":1654457304,"question_id":72510513,"body_markdown":"Currently I&#39;m working on multi-thread window&#39;s interface and I can&#39;t understand why the following simplified code doesn&#39;t work:\r\n\r\n*Window.java*\r\n```\r\npublic class Window {\r\n\tprivate Long window;\r\n\tprivate Thread t1, t2;\r\n\t\r\n\tpublic Window() {\r\n\t\t t1 = new Thread(new HandleInput(this), &quot;GLFW_THREAD&quot;);\r\n\t\t t2 = new Thread(new Render(this), &quot;OPENGL_THREAD&quot;);\r\n\t\t t1.start();\r\n\t\t t2.start();\r\n\t}\r\n\t\r\n\tsynchronized public void pollEvents() {\r\n\t\r\n\t\tSystem.out.println(&quot;input was handled... &quot;);\r\n\t\tnotify();\t\r\n\t\t\ttry {\r\n\t\t\t\twait();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t}\r\n\t\r\n\tsynchronized public void renderer() {\r\n\t\t\ttry {\r\n\t\t\t\twait();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\r\n\t\tSystem.out.print(&quot;rendering... &quot;);\r\n\t\ttry {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;successfully rendered. &quot;);\r\n\t\tnotify();\r\n\t\t}\r\n\t}\r\n```\r\n\r\n*Render.java*\r\n```\r\npublic class Render implements Runnable{\r\n\r\nWindow window;\r\n\tpublic Render(Window window) {\r\n\t\tthis.window = window;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twindow.renderer();\r\n\t}\r\n\r\n}\r\n```\r\n*HandleInput.java*\r\n```\r\npublic class HandleInput implements Runnable{\r\n\tprivate Window window;\r\n\tpublic HandleInput(Window window) {\r\n\t\tthis.window = window;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twindow.pollEvents();\r\n\t}\r\n}\r\n```\r\nBut when I added a new variable named `isRenderNeeded` and put wait() inside the while statement it by surprise worked. The following code works:\r\n\r\n*Window.java*\r\n```\r\npublic class Window {\r\n\tprivate Thread t1, t2;\r\n\tvolatile private boolean isRenderNeeded=false;\r\n\t\r\n\tpublic Window() {\r\n\t\t t1 = new Thread(new HandleInput(this), &quot;GLFW_THREAD&quot;);\r\n\t\t t2 = new Thread(new Render(this), &quot;OPENGL_THREAD&quot;);\r\n\t\t t1.start();\r\n\t\t t2.start();\r\n\t}\r\n\t\r\n\tsynchronized public void pollEvents() {\r\n\twhile(true) {\r\n\t\twhile(isRenderNeeded)\r\n\t\t\ttry {\r\n\t\t\t\twait();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\tSystem.out.println(&quot;input was handled... &quot;);\r\n\t\tisRenderNeeded = true;\r\n\t\tnotify();\t\r\n\t}\r\n\r\n\t}\r\n\t\r\n\tsynchronized public void renderer() {\r\n\t\twhile(true) {\r\n\t\twhile(!isRenderNeeded)\r\n\t\t\ttry {\r\n\t\t\t\twait();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\r\n\t\tSystem.out.print(&quot;rendering... &quot;);\r\n\t\ttry {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;successfully rendered. &quot;);\r\n\t\tisRenderNeeded = false;\r\n\t\tnotify();\r\n\t\t}\r\n\t}\r\n\t}\r\n```\r\nProve me wrong, but I think that it means I&#39;m absolutely nullifing the wait() method and simply do polling there. :/","title":"Process halts while interthread communication","body":"<p>Currently I'm working on multi-thread window's interface and I can't understand why the following simplified code doesn't work:</p>\n<p><em>Window.java</em></p>\n<pre><code>public class Window {\n    private Long window;\n    private Thread t1, t2;\n    \n    public Window() {\n         t1 = new Thread(new HandleInput(this), &quot;GLFW_THREAD&quot;);\n         t2 = new Thread(new Render(this), &quot;OPENGL_THREAD&quot;);\n         t1.start();\n         t2.start();\n    }\n    \n    synchronized public void pollEvents() {\n    \n        System.out.println(&quot;input was handled... &quot;);\n        notify();   \n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n    }\n    \n    synchronized public void renderer() {\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        \n        System.out.print(&quot;rendering... &quot;);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;successfully rendered. &quot;);\n        notify();\n        }\n    }\n</code></pre>\n<p><em>Render.java</em></p>\n<pre><code>public class Render implements Runnable{\n\nWindow window;\n    public Render(Window window) {\n        this.window = window;\n    }\n    \n    @Override\n    public void run() {\n        window.renderer();\n    }\n\n}\n</code></pre>\n<p><em>HandleInput.java</em></p>\n<pre><code>public class HandleInput implements Runnable{\n    private Window window;\n    public HandleInput(Window window) {\n        this.window = window;\n    }\n    @Override\n    public void run() {\n        window.pollEvents();\n    }\n}\n</code></pre>\n<p>But when I added a new variable named <code>isRenderNeeded</code> and put wait() inside the while statement it by surprise worked. The following code works:</p>\n<p><em>Window.java</em></p>\n<pre><code>public class Window {\n    private Thread t1, t2;\n    volatile private boolean isRenderNeeded=false;\n    \n    public Window() {\n         t1 = new Thread(new HandleInput(this), &quot;GLFW_THREAD&quot;);\n         t2 = new Thread(new Render(this), &quot;OPENGL_THREAD&quot;);\n         t1.start();\n         t2.start();\n    }\n    \n    synchronized public void pollEvents() {\n    while(true) {\n        while(isRenderNeeded)\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        System.out.println(&quot;input was handled... &quot;);\n        isRenderNeeded = true;\n        notify();   \n    }\n\n    }\n    \n    synchronized public void renderer() {\n        while(true) {\n        while(!isRenderNeeded)\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        \n        System.out.print(&quot;rendering... &quot;);\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;successfully rendered. &quot;);\n        isRenderNeeded = false;\n        notify();\n        }\n    }\n    }\n</code></pre>\n<p>Prove me wrong, but I think that it means I'm absolutely nullifing the wait() method and simply do polling there. :/</p>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"owner":{"account_id":8936481,"reputation":43,"user_id":6667155,"display_name":"Abhinav Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654498703,"creation_date":1654498703,"question_id":72514076,"body_markdown":"Does order of annotations matter in Spring Boot?\r\n\r\nContext: I&#39;m not getting logs for methods which have @Trace added before @Retryable annotation. I&#39;m not getting the trace logs for methods written like this:\r\n\r\n```\r\n@Trace\r\n    @Retryable(\r\n            value = { ManagerException.class },\r\n            backoff = @Backoff(delay = 100))\r\n    public Object dummy(@NotNull @Valid DummyObject dummyObject){\r\n```\r\n\r\nHowever I get all the logs for methods written in this order\r\n\r\n```\r\n@Retryable(\r\n            value = { ManagerException.class },\r\n            backoff = @Backoff(delay = 50))\r\n    @Trace\r\n```","title":"Does order of annoatations matter in @Retryable and @Trace in Spring Boot","body":"<p>Does order of annotations matter in Spring Boot?</p>\n<p>Context: I'm not getting logs for methods which have @Trace added before @Retryable annotation. I'm not getting the trace logs for methods written like this:</p>\n<pre><code>@Trace\n    @Retryable(\n            value = { ManagerException.class },\n            backoff = @Backoff(delay = 100))\n    public Object dummy(@NotNull @Valid DummyObject dummyObject){\n</code></pre>\n<p>However I get all the logs for methods written in this order</p>\n<pre><code>@Retryable(\n            value = { ManagerException.class },\n            backoff = @Backoff(delay = 50))\n    @Trace\n</code></pre>\n"},{"tags":["java","rest","spring-boot","apache-camel","restlet"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519039220,"post_id":48864005,"comment_id":84733116,"body_markdown":"try withouth this part `.component(&quot;restlet&quot;)`","body":"try withouth this part <code>.component(&quot;restlet&quot;)</code>"},{"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"score":0,"creation_date":1519040343,"post_id":48864005,"comment_id":84733782,"body_markdown":"@pvpkiran Exactly the same result","body":"@pvpkiran Exactly the same result"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519040936,"post_id":48864005,"comment_id":84734124,"body_markdown":"for me it works. without the `setBody`. This is the result `curl --verbose  http://localhost:8080/overlay/\n*   Trying 127.0.0.1...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /overlay/ HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.47.0\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 403 Forbidden\n&lt; Server: Restlet-Framework/2.3.6\n&lt; Breadcrumbid: ID-Boss-36986-1519039039690-0-5\n&lt; Date: Mon, 19 Feb 2018 11:19:34 GMT\n&lt; Content-type: application/json; charset=UTF-8\n&lt; Content-length: 0\n`","body":"for me it works. without the <code>setBody</code>. This is the result <code>curl --verbose  http:&#47;&#47;localhost:8080&#47;overlay&#47; *   Trying 127.0.0.1... * Connected to localhost (127.0.0.1) port 8080 (#0) &gt; GET &#47;overlay&#47; HTTP&#47;1.1 &gt; Host: localhost:8080 &gt; User-Agent: curl&#47;7.47.0 &gt; Accept: *&#47;* &gt;  &lt; HTTP&#47;1.1 403 Forbidden &lt; Server: Restlet-Framework&#47;2.3.6 &lt; Breadcrumbid: ID-Boss-36986-1519039039690-0-5 &lt; Date: Mon, 19 Feb 2018 11:19:34 GMT &lt; Content-type: application&#47;json; charset=UTF-8 &lt; Content-length: 0 </code>"},{"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"score":0,"creation_date":1519046780,"post_id":48864005,"comment_id":84737572,"body_markdown":"@pvpkiran Could you please share your test code and package versions so that I can compare? Thank you.","body":"@pvpkiran Could you please share your test code and package versions so that I can compare? Thank you."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519048013,"post_id":48864005,"comment_id":84738408,"body_markdown":"I have the exact code as you. except `.component(&quot;restlet&quot;)` and also I don&#39;t have ServletRegistrationBean, Component, RestletComponent bean declarations. We don&#39;t need this","body":"I have the exact code as you. except <code>.component(&quot;restlet&quot;)</code> and also I don&#39;t have ServletRegistrationBean, Component, RestletComponent bean declarations. We don&#39;t need this"},{"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"score":0,"creation_date":1519048795,"post_id":48864005,"comment_id":84738964,"body_markdown":"@pvpkiran If I don&#39;t add the ServletRegistrationBean, Component, RestletComponent, I get a 404 for every route.","body":"@pvpkiran If I don&#39;t add the ServletRegistrationBean, Component, RestletComponent, I get a 404 for every route."},{"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"score":0,"creation_date":1519048818,"post_id":48864005,"comment_id":84738979,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/165420/discussion-between-tiago-ferreira-and-pvpkiran).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/165420/discussion-between-tiago-ferreira-and-pvpkiran\">continue this discussion in chat</a>."},{"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"score":0,"creation_date":1519144824,"post_id":48864005,"comment_id":84785343,"body_markdown":"@pvpkiran Could you check chat?","body":"@pvpkiran Could you check chat?"}],"answers":[{"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1519040952,"creation_date":1519040952,"answer_id":48865573,"question_id":48864005,"body_markdown":"    .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))\r\n    .setHeader(Exchange.CONTENT_TYPE, constant(&quot;text/plain&quot;))\r\n    .setBody(constant(&quot;Forbidden&quot;))","title":"How to set HTTP Status code reason with Apache Camel REST DSL (Servlet/Restlet)","body":"<pre><code>.setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))\n.setHeader(Exchange.CONTENT_TYPE, constant(\"text/plain\"))\n.setBody(constant(\"Forbidden\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13010503,"reputation":159,"user_id":9403724,"display_name":"mo7ty"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1523488784,"creation_date":1519428606,"answer_id":48957648,"question_id":48864005,"body_markdown":"&gt; How can I configure Camel/Restlet/Servlet to include the reason on the HTTP Status code?\r\n\r\n### Without a custom core, I believe you can&#39;t:\r\n\r\nThe response is being sent at [org.restlet.engine.adapter.ServerCall.sendResponse()](https://restlet.com/open-source/documentation/javadocs/2.3/jee/engine/org/restlet/engine/adapter/ServerCall.html#sendResponse(org.restlet.Response)), where the response head and body are [written to the OutputStream](https://github.com/restlet/restlet-framework/blob/master/org.restlet/src/main/java/org/restlet/engine/adapter/ServerCall.java#L449):\r\n\r\n    writeResponseHead(response); // &lt;--\r\n    if (responseEntity != null) {\r\n        responseEntityStream = getResponseEntityStream();\r\n        writeResponseBody(responseEntity, responseEntityStream);\r\n    }\r\n\r\n... and [writeResponseHead(response)](https://restlet.com/open-source/documentation/javadocs/2.3/jee/engine/org/restlet/engine/adapter/ServerCall.html#writeResponseHead(org.restlet.Response)) ***does nothing by default***, [check it](https://github.com/restlet/restlet-framework/blob/master/org.restlet/src/main/java/org/restlet/engine/adapter/ServerCall.java#L513):\r\n\r\n    protected void writeResponseHead(Response response) throws IOException {\r\n        // Do nothing by default\r\n    }\r\n\r\n----------\r\n\r\n**Update:** ... the [HttpStatus(value, reasonPhrase)](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L418) has the [reasonPhrase](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L415), but isn&#39;t used to [stringify](https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L505):\r\n\r\n    HttpStatus(int value, String reasonPhrase) {\r\n        this.value = value;\r\n        this.reasonPhrase = reasonPhrase;\r\n    }\r\n    ...\r\n    @Override\r\n    public String toString() {\r\n        return Integer.toString(this.value);\r\n    }\r\n\r\n----------\r\n\r\n**Update 2:** ... the [DefaultRestletBinding](https://github.com/apache/camel/blob/master/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java).[populateRestletResponseFromExchange](https://github.com/apache/camel/blob/master/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java#L395) does the following:\r\n\r\n    // get response code\r\n    Integer responseCode = out.getHeader(Exchange.HTTP_RESPONSE_CODE, Integer.class);\r\n    if (responseCode != null) {\r\n        response.setStatus(Status.valueOf(responseCode));\r\n    }\r\n\r\n... it only uses the [Status](https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java).[valueOf](https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java#L756).\r\n\r\nAlthough there is a [Status.reasonPhrase](https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java#L954), it isn&#39;t accessible.\r\n\r\n----------\r\n\r\n**Answer:**\r\n==========\r\n\r\n### Without custom core, &lt;sub&gt;&lt;i&gt;&lt;del&gt;(I believe)&lt;/del&gt;&lt;/i&gt;&lt;/sub&gt; you can&#39;t!\r\n\r\n----------\r\n\r\n### ... what isn&#39;t inappropriate, given that:\r\n\r\n* [RFC 2616 - Hypertext Transfer Protocol -- HTTP/1.1](https://www.rfc-editor.org/rfc/rfc2616#section-6.1.1):\r\n&gt; **6.1.1 Status Code and Reason Phrase**\r\n&gt;\r\n&gt; (...) The client is not required to examine or display the Reason-Phrase.\r\n&gt;\r\n&gt; (...) The reason phrases (...) MAY be replaced by local equivalents without affecting the protocol.\r\n\r\n* [RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing](https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2):\r\n&gt; **3.1.2. Status Line**\r\n&gt;\r\n&gt; (...) A client SHOULD ignore the reason-phrase content.\r\n\r\n* [RFC 7540 - Hypertext Transfer Protocol Version 2 (HTTP/2)](https://www.rfc-editor.org/rfc/rfc7540#section-8.1.2.4):\r\n&gt; **8.1.2.4. Response Pseudo-Header Fields**\r\n&gt;\r\n&gt; (...) HTTP/2 does not define a way to carry the version or reason phrase that is included in an HTTP/1.1 status line.\r\n\r\n### Need to know the meaning of a status code?\r\n\r\nSee the [complete list of status codes maintained by IANA](http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml).","title":"How to set HTTP Status code reason with Apache Camel REST DSL (Servlet/Restlet)","body":"<blockquote>\n<p>How can I configure Camel/Restlet/Servlet to include the reason on the HTTP Status code?</p>\n</blockquote>\n<h3>Without a custom core, I believe you can't:</h3>\n<p>The response is being sent at <a href=\"https://restlet.com/open-source/documentation/javadocs/2.3/jee/engine/org/restlet/engine/adapter/ServerCall.html#sendResponse(org.restlet.Response)\" rel=\"nofollow noreferrer\">org.restlet.engine.adapter.ServerCall.sendResponse()</a>, where the response head and body are <a href=\"https://github.com/restlet/restlet-framework/blob/master/org.restlet/src/main/java/org/restlet/engine/adapter/ServerCall.java#L449\" rel=\"nofollow noreferrer\">written to the OutputStream</a>:</p>\n<pre><code>writeResponseHead(response); // &lt;--\nif (responseEntity != null) {\n    responseEntityStream = getResponseEntityStream();\n    writeResponseBody(responseEntity, responseEntityStream);\n}\n</code></pre>\n<p>... and <a href=\"https://restlet.com/open-source/documentation/javadocs/2.3/jee/engine/org/restlet/engine/adapter/ServerCall.html#writeResponseHead(org.restlet.Response)\" rel=\"nofollow noreferrer\">writeResponseHead(response)</a> <em><strong>does nothing by default</strong></em>, <a href=\"https://github.com/restlet/restlet-framework/blob/master/org.restlet/src/main/java/org/restlet/engine/adapter/ServerCall.java#L513\" rel=\"nofollow noreferrer\">check it</a>:</p>\n<pre><code>protected void writeResponseHead(Response response) throws IOException {\n    // Do nothing by default\n}\n</code></pre>\n<hr />\n<p><strong>Update:</strong> ... the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L418\" rel=\"nofollow noreferrer\">HttpStatus(value, reasonPhrase)</a> has the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L415\" rel=\"nofollow noreferrer\">reasonPhrase</a>, but isn't used to <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/HttpStatus.java#L505\" rel=\"nofollow noreferrer\">stringify</a>:</p>\n<pre><code>HttpStatus(int value, String reasonPhrase) {\n    this.value = value;\n    this.reasonPhrase = reasonPhrase;\n}\n...\n@Override\npublic String toString() {\n    return Integer.toString(this.value);\n}\n</code></pre>\n<hr />\n<p><strong>Update 2:</strong> ... the <a href=\"https://github.com/apache/camel/blob/master/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java\" rel=\"nofollow noreferrer\">DefaultRestletBinding</a>.<a href=\"https://github.com/apache/camel/blob/master/components/camel-restlet/src/main/java/org/apache/camel/component/restlet/DefaultRestletBinding.java#L395\" rel=\"nofollow noreferrer\">populateRestletResponseFromExchange</a> does the following:</p>\n<pre><code>// get response code\nInteger responseCode = out.getHeader(Exchange.HTTP_RESPONSE_CODE, Integer.class);\nif (responseCode != null) {\n    response.setStatus(Status.valueOf(responseCode));\n}\n</code></pre>\n<p>... it only uses the <a href=\"https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java\" rel=\"nofollow noreferrer\">Status</a>.<a href=\"https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java#L756\" rel=\"nofollow noreferrer\">valueOf</a>.</p>\n<p>Although there is a <a href=\"https://github.com/restlet/restlet-framework-java/blob/master/modules/org.restlet/src/org/restlet/data/Status.java#L954\" rel=\"nofollow noreferrer\">Status.reasonPhrase</a>, it isn't accessible.</p>\n<hr />\n<h1><strong>Answer:</strong></h1>\n<h3>Without custom core, <sub><i><del>(I believe)</del></i></sub> you can't!</h3>\n<hr />\n<h3>... what isn't inappropriate, given that:</h3>\n<ul>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-6.1.1\" rel=\"nofollow noreferrer\">RFC 2616 - Hypertext Transfer Protocol -- HTTP/1.1</a>:</li>\n</ul>\n<blockquote>\n<p><strong>6.1.1 Status Code and Reason Phrase</strong></p>\n<p>(...) The client is not required to examine or display the Reason-Phrase.</p>\n<p>(...) The reason phrases (...) MAY be replaced by local equivalents without affecting the protocol.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc7230#section-3.1.2\" rel=\"nofollow noreferrer\">RFC 7230 - Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</a>:</li>\n</ul>\n<blockquote>\n<p><strong>3.1.2. Status Line</strong></p>\n<p>(...) A client SHOULD ignore the reason-phrase content.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc7540#section-8.1.2.4\" rel=\"nofollow noreferrer\">RFC 7540 - Hypertext Transfer Protocol Version 2 (HTTP/2)</a>:</li>\n</ul>\n<blockquote>\n<p><strong>8.1.2.4. Response Pseudo-Header Fields</strong></p>\n<p>(...) HTTP/2 does not define a way to carry the version or reason phrase that is included in an HTTP/1.1 status line.</p>\n</blockquote>\n<h3>Need to know the meaning of a status code?</h3>\n<p>See the <a href=\"http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\" rel=\"nofollow noreferrer\">complete list of status codes maintained by IANA</a>.</p>\n"},{"tags":[],"owner":{"account_id":7209699,"reputation":1,"user_id":5504229,"display_name":"GTessa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654498574,"creation_date":1654498574,"answer_id":72514055,"question_id":48864005,"body_markdown":"**TLDR** - use `.setHeader(Exchange.HTTP_RESPONSE_CODE, 403)`\r\n\r\nI found out that \r\n\r\n`.setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))` does not work but \r\n\r\n`.setHeader(Exchange.HTTP_RESPONSE_CODE, 403)` DOES.\r\n\r\nMind the `constant` keyword difference. You need to use `constant` when setting values directly in the route, but e.g. in Processor you do not. Therefore you can set response status code whenever exception occurs in code, not in the route builder config.","title":"How to set HTTP Status code reason with Apache Camel REST DSL (Servlet/Restlet)","body":"<p><strong>TLDR</strong> - use <code>.setHeader(Exchange.HTTP_RESPONSE_CODE, 403)</code></p>\n<p>I found out that</p>\n<p><code>.setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))</code> does not work but</p>\n<p><code>.setHeader(Exchange.HTTP_RESPONSE_CODE, 403)</code> DOES.</p>\n<p>Mind the <code>constant</code> keyword difference. You need to use <code>constant</code> when setting values directly in the route, but e.g. in Processor you do not. Therefore you can set response status code whenever exception occurs in code, not in the route builder config.</p>\n"}],"owner":{"account_id":4508639,"reputation":255,"user_id":4520323,"accept_rate":17,"display_name":"Tiago Ferreira"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13005,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48957648,"answer_count":3,"score":5,"last_activity_date":1654498574,"creation_date":1519035800,"question_id":48864005,"body_markdown":"I have a web application built using Spring Boot with Apache Camel and I&#39;m implementing a REST interface.\r\nCurrently, using either Camel default `Servlet` or `Restlet` component, I&#39;m not getting the HTTP Status code reason in the response.\r\n\r\nHere is an example response I&#39;m getting while setting the HTTP Status code to 403:\r\n\r\n    &lt; HTTP/1.1 403 \r\n    &lt; Date: Mon, 19 Feb 2018 10:01:21 GMT\r\n    &lt; Server: Restlet-Framework/2.4.0\r\n    &lt; Content-Type: application/json\r\n    &lt; Content-Length: 75\r\n\r\nHow it should be:\r\n\r\n    &lt; HTTP/1.1 403 Forbidden\r\n    &lt; Date: Mon, 19 Feb 2018 10:01:21 GMT\r\n    &lt; Server: Restlet-Framework/2.4.0\r\n    &lt; Content-Type: application/json\r\n    &lt; Content-Length: 75\r\n\r\nHow can I configure Camel/Restlet/Servlet to include the reason on the HTTP Status code?\r\n\r\n\r\nMy current configuration:\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n        private static final Logger appLogger = LoggerFactory.getLogger(Application.class);\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n            appLogger.info(&quot;--Application Started--&quot;);\r\n        }\r\n   \r\n        @Bean\r\n        public ServletRegistrationBean servletRegistrationBean() {\r\n    \r\n            SpringServerServlet serverServlet = new SpringServerServlet();\r\n            ServletRegistrationBean regBean = new ServletRegistrationBean(serverServlet, &quot;/*&quot;);\r\n    \r\n            Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;org.restlet.component&quot;, &quot;restletComponent&quot;);\r\n    \r\n            regBean.setInitParameters(params);\r\n    \r\n            return regBean;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public Component restletComponent() {\r\n            return new Component();\r\n        }\r\n    \r\n        @Bean\r\n        public RestletComponent restletComponentService() {\r\n            return new RestletComponent(restletComponent());\r\n        }\r\n    \r\n    }\r\n\r\nRoute Configuration:\r\n\r\n    @Component\r\n    public class RestRouteBuilder extends RouteBuilder {\r\n        private static final Logger appLogger = LoggerFactory.getLogger(RestRouteBuilder.class);\r\n        private Predicate isAuthorizedRequest = header(HttpHeaders.AUTHORIZATION).isNotNull();\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            restConfiguration().component(&quot;restlet&quot;)\r\n                               .contextPath(&quot;/overlay&quot;)\r\n                               .bindingMode(RestBindingMode.json)\r\n                               .skipBindingOnErrorCode(false)\r\n                               .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;);\r\n            \r\n            rest(&quot;/&quot;)\r\n                    .get()\r\n                    .route()\r\n                    .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))\r\n                    .setBody(constant(&quot;Forbidden&quot;))\r\n                    .endRest();\r\n        }\r\n    }\r\n\r\nI also tried adding `.setHeader(Exchange.HTTP_RESPONSE_TEXT, constant(&quot;Forbidden&quot;))` but the result was the same.\r\n","title":"How to set HTTP Status code reason with Apache Camel REST DSL (Servlet/Restlet)","body":"<p>I have a web application built using Spring Boot with Apache Camel and I'm implementing a REST interface.\nCurrently, using either Camel default <code>Servlet</code> or <code>Restlet</code> component, I'm not getting the HTTP Status code reason in the response.</p>\n\n<p>Here is an example response I'm getting while setting the HTTP Status code to 403:</p>\n\n<pre><code>&lt; HTTP/1.1 403 \n&lt; Date: Mon, 19 Feb 2018 10:01:21 GMT\n&lt; Server: Restlet-Framework/2.4.0\n&lt; Content-Type: application/json\n&lt; Content-Length: 75\n</code></pre>\n\n<p>How it should be:</p>\n\n<pre><code>&lt; HTTP/1.1 403 Forbidden\n&lt; Date: Mon, 19 Feb 2018 10:01:21 GMT\n&lt; Server: Restlet-Framework/2.4.0\n&lt; Content-Type: application/json\n&lt; Content-Length: 75\n</code></pre>\n\n<p>How can I configure Camel/Restlet/Servlet to include the reason on the HTTP Status code?</p>\n\n<p>My current configuration:</p>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n    private static final Logger appLogger = LoggerFactory.getLogger(Application.class);\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n        appLogger.info(\"--Application Started--\");\n    }\n\n    @Bean\n    public ServletRegistrationBean servletRegistrationBean() {\n\n        SpringServerServlet serverServlet = new SpringServerServlet();\n        ServletRegistrationBean regBean = new ServletRegistrationBean(serverServlet, \"/*\");\n\n        Map&lt;String,String&gt; params = new HashMap&lt;&gt;();\n        params.put(\"org.restlet.component\", \"restletComponent\");\n\n        regBean.setInitParameters(params);\n\n        return regBean;\n    }\n\n\n    @Bean\n    public Component restletComponent() {\n        return new Component();\n    }\n\n    @Bean\n    public RestletComponent restletComponentService() {\n        return new RestletComponent(restletComponent());\n    }\n\n}\n</code></pre>\n\n<p>Route Configuration:</p>\n\n<pre><code>@Component\npublic class RestRouteBuilder extends RouteBuilder {\n    private static final Logger appLogger = LoggerFactory.getLogger(RestRouteBuilder.class);\n    private Predicate isAuthorizedRequest = header(HttpHeaders.AUTHORIZATION).isNotNull();\n\n    @Override\n    public void configure() throws Exception {\n        restConfiguration().component(\"restlet\")\n                           .contextPath(\"/overlay\")\n                           .bindingMode(RestBindingMode.json)\n                           .skipBindingOnErrorCode(false)\n                           .dataFormatProperty(\"prettyPrint\", \"true\");\n\n        rest(\"/\")\n                .get()\n                .route()\n                .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(403))\n                .setBody(constant(\"Forbidden\"))\n                .endRest();\n    }\n}\n</code></pre>\n\n<p>I also tried adding <code>.setHeader(Exchange.HTTP_RESPONSE_TEXT, constant(\"Forbidden\"))</code> but the result was the same.</p>\n"},{"tags":["java","visual-studio-code","methods","parameters","ide"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1654204179,"post_id":72481036,"comment_id":128042213,"body_markdown":"how would you do it if they where of different type: the same","body":"how would you do it if they where of different type: the same"},{"owner":{"account_id":24305399,"reputation":341,"user_id":18248235,"display_name":"Cflowe Visit"},"score":0,"creation_date":1654204568,"post_id":72481036,"comment_id":128042315,"body_markdown":"@rioV8 If different, I also cannot do anything; but at least, I can use method overloading","body":"@rioV8 If different, I also cannot do anything; but at least, I can use method overloading"},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1654205615,"post_id":72481036,"comment_id":128042533,"body_markdown":"you could have a look at [Astra](https://github.com/alfasoftware/astra), a codemod tool for Java, I suggest you add some checks inside the employee method to validate the arguments, hopefully you don&#39;t have id&#39;s larger then 100, it is a bad design to have age as argument, it will change tomorrow. It is a calculated property of an object","body":"you could have a look at <a href=\"https://github.com/alfasoftware/astra\" rel=\"nofollow noreferrer\">Astra</a>, a codemod tool for Java, I suggest you add some checks inside the employee method to validate the arguments, hopefully you don&#39;t have id&#39;s larger then 100, it is a bad design to have age as argument, it will change tomorrow. It is a calculated property of an object"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654498568,"creation_date":1654497619,"answer_id":72513929,"question_id":72481036,"body_markdown":"You can try to use function overloading.\r\n```\r\nvoid employee(int age, int id) {\r\n    ...\r\n}\r\n```\r\n```\r\nvoid newEmployee(int id, int age) {\r\n    employee(age,id);\r\n}\r\n```","title":"How to change the order of argument if they&#39;re same type?","body":"<p>You can try to use function overloading.</p>\n<pre><code>void employee(int age, int id) {\n    ...\n}\n</code></pre>\n<pre><code>void newEmployee(int id, int age) {\n    employee(age,id);\n}\n</code></pre>\n"}],"owner":{"account_id":24305399,"reputation":341,"user_id":18248235,"display_name":"Cflowe Visit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654498568,"creation_date":1654195926,"question_id":72481036,"body_markdown":"How to change the order of argument if they&#39;re same type in vscode?\r\n\r\nI&#39;m writing java, and I just have a big problem right now\r\n\r\nexample: I have a method\r\n\r\n    void employee(int age, int id) {\r\n        ...\r\n    }\r\n\r\nBut one day, I thought that it&#39;s better if the id is in front of age:\r\n\r\n    void employee(int id, int age) {\r\n        ...\r\n    }\r\n\r\nUnfortunately, when I realized that, I had already use it hundred or even thousand time, do vscode have support with change order of it?","title":"How to change the order of argument if they&#39;re same type?","body":"<p>How to change the order of argument if they're same type in vscode?</p>\n<p>I'm writing java, and I just have a big problem right now</p>\n<p>example: I have a method</p>\n<pre><code>void employee(int age, int id) {\n    ...\n}\n</code></pre>\n<p>But one day, I thought that it's better if the id is in front of age:</p>\n<pre><code>void employee(int id, int age) {\n    ...\n}\n</code></pre>\n<p>Unfortunately, when I realized that, I had already use it hundred or even thousand time, do vscode have support with change order of it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1385046252,"post_id":20124428,"comment_id":29989688,"body_markdown":"It&#39;s not the source code that matters. Check out the xml files.","body":"It&#39;s not the source code that matters. Check out the xml files."},{"owner":{"account_id":3614047,"reputation":75,"user_id":3014398,"accept_rate":31,"display_name":"JavaNoob"},"score":0,"creation_date":1385047137,"post_id":20124428,"comment_id":29990330,"body_markdown":"I added them for anyone who might want to see them : )","body":"I added them for anyone who might want to see them : )"},{"owner":{"account_id":3614047,"reputation":75,"user_id":3014398,"accept_rate":31,"display_name":"JavaNoob"},"score":0,"creation_date":1385049716,"post_id":20124428,"comment_id":29992217,"body_markdown":"I have another issue you might be able to help with... (if you have time) http://stackoverflow.com/questions/20125206/force-close-videolistfragment-cannot-be-cast-to-videofragment","body":"I have another issue you might be able to help with... (if you have time) <a href=\"http://stackoverflow.com/questions/20125206/force-close-videolistfragment-cannot-be-cast-to-videofragment\" title=\"force close videolistfragment cannot be cast to videofragment\">stackoverflow.com/questions/20125206/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1385046507,"creation_date":1385046507,"answer_id":20124542,"question_id":20124428,"body_markdown":"`VideoListFragment` class is inside `MainActivity` class. But inflator tries to load is from `VideoListDemoActivity` class. Check your xml layout and fix `VideoListFragment`&#39;s path.","title":"FORCE CLOSE: Unable to instantiate fragment make sure class name exists, is public, and has an empty constructor that is public","body":"<p><code>VideoListFragment</code> class is inside <code>MainActivity</code> class. But inflator tries to load is from <code>VideoListDemoActivity</code> class. Check your xml layout and fix <code>VideoListFragment</code>'s path.</p>\n"},{"tags":[],"owner":{"account_id":3284372,"reputation":377,"user_id":2960158,"display_name":"Harsh Singal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385046559,"creation_date":1385046559,"answer_id":20124562,"question_id":20124428,"body_markdown":"It might not have refactored your AndroidManifest.xml file. Please check the same","title":"FORCE CLOSE: Unable to instantiate fragment make sure class name exists, is public, and has an empty constructor that is public","body":"<p>It might not have refactored your AndroidManifest.xml file. Please check the same</p>\n"},{"tags":[],"owner":{"account_id":2024739,"reputation":11716,"user_id":3294396,"accept_rate":98,"display_name":"Benjamin RD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385046792,"creation_date":1385046792,"answer_id":20124640,"question_id":20124428,"body_markdown":"&gt; Caused by: android.view.InflateException: Binary XML file line #22:\r\n&gt; Error inflating class fragment\r\n\r\nMake sure to use\r\n\r\n    import android.support.v4.app.Fragment;\r\n\r\nAnd also make sure that the Activity that is using the fragment(s) extends FragmentActivity instead of the regular Activity,\r\n\r\n    import android.support.v4.app.FragmentActivity;\r\n\r\nto get the FragmentActivity class.\r\n","title":"FORCE CLOSE: Unable to instantiate fragment make sure class name exists, is public, and has an empty constructor that is public","body":"<blockquote>\n  <p>Caused by: android.view.InflateException: Binary XML file line #22:\n  Error inflating class fragment</p>\n</blockquote>\n\n<p>Make sure to use</p>\n\n<pre><code>import android.support.v4.app.Fragment;\n</code></pre>\n\n<p>And also make sure that the Activity that is using the fragment(s) extends FragmentActivity instead of the regular Activity,</p>\n\n<pre><code>import android.support.v4.app.FragmentActivity;\n</code></pre>\n\n<p>to get the FragmentActivity class.</p>\n"},{"tags":[],"owner":{"account_id":2971432,"reputation":1843,"user_id":2523410,"display_name":"Nabzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654498353,"creation_date":1654498353,"answer_id":72514019,"question_id":20124428,"body_markdown":"In my case the problem was that the package path of fragment &quot;in navigation graph&quot; did not match the actual path of the file. ","title":"FORCE CLOSE: Unable to instantiate fragment make sure class name exists, is public, and has an empty constructor that is public","body":"<p>In my case the problem was that the package path of fragment &quot;in navigation graph&quot; did not match the actual path of the file.</p>\n"}],"owner":{"account_id":3614047,"reputation":75,"user_id":3014398,"accept_rate":31,"display_name":"JavaNoob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5031,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20124542,"answer_count":4,"score":1,"last_activity_date":1654498353,"creation_date":1385046182,"question_id":20124428,"body_markdown":"ERROR:\r\n----\r\n\r\n\r\n    Unable to instantiate fragment com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment: make sure class name exists, is public, and has an empty constructor that is public\r\n\r\nI do not see any reference to `VideoListDemoActivity` in my source code. I believe the reason this is occurring is I&#39;ve copied this class from: \r\n\r\n\r\n\r\nhttps://code.google.com/p/youtube-api-samples/source/browse/android-player/src/com/examples/youtubeapidemo/VideoListDemoActivity.java?r=b9d9565b17705d71a9c0093d8623c6b0c912e6d9\r\n\r\n\r\n...and I&#39;ve renamed it to `MainActivity` (it&#39;s old name was `VideoListDemoActivity`) but all references to `VideoListDemoActivity` are gone therefore I have no idea why it is throwing this error regarding `VideoListDemoActivity`. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nLOGCAT: \r\n-----\r\n\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): FATAL EXCEPTION: main\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.idg.omv/com.idg.omv.MainActivity}: android.view.InflateException: Binary XML file line #22: Error inflating class fragment\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2110)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2135)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread.access$700(ActivityThread.java:143)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1241)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.os.Looper.loop(Looper.java:137)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread.main(ActivityThread.java:4950)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1004)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:771)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat dalvik.system.NativeStart.main(Native Method)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: android.view.InflateException: Binary XML file line #22: Error inflating class fragment\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:459)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:396)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:352)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:309)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Activity.setContentView(Activity.java:1914)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat com.idg.omv.MainActivity.onCreate(MainActivity.java:65)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Activity.performCreate(Activity.java:5179)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2074)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \t... 11 more\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment: make sure class name exists, is public, and has an empty constructor that is public\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Fragment.instantiate(Fragment.java:584)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Fragment.instantiate(Fragment.java:552)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Activity.onCreateView(Activity.java:4822)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:680)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \t... 21 more\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: java.lang.ClassNotFoundException: com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:501)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:461)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \tat android.app.Fragment.instantiate(Fragment.java:574)\r\n    11-21 09:52:28.461: E/AndroidRuntime(31054): \t... 24 more\r\n\r\n\r\n\r\nXML # 1: \r\n--------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!--\r\n      Copyright 2012 Google Inc. All Rights Reserved.\r\n    \r\n      Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n      you may not use this file except in compliance with the License.\r\n      You may obtain a copy of the License at\r\n    \r\n           http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;\r\n    &lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n      &lt;fragment\r\n          class=&quot;com.idg.omv.MainActivity$VideoListFragment&quot;\r\n          android:id=&quot;@+id/list_fragment&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/video_box&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_gravity=&quot;bottom&quot;\r\n          android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/close_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:src=&quot;@android:drawable/btn_dialog&quot;\r\n            android:onClick=&quot;onClickClose&quot;/&gt;\r\n    \r\n        &lt;fragment\r\n            class=&quot;com.idg.omv.MainActivity$VideoListFragment&quot;\r\n            android:id=&quot;@+id/video_fragment_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    \r\n      &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/merge&gt;\r\n\r\nXML # 2: \r\n--------\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!--\r\n      Copyright 2012 Google Inc. All Rights Reserved.\r\n    \r\n      Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n      you may not use this file except in compliance with the License.\r\n      You may obtain a copy of the License at\r\n    \r\n           http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;95dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:background=&quot;?android:attr/activatedBackgroundIndicator&quot;&gt;\r\n    \r\n      &lt;com.google.android.youtube.player.YouTubeThumbnailView\r\n          android:id=&quot;@+id/thumbnail&quot;\r\n          android:layout_width=&quot;wrap_content&quot;\r\n          android:layout_height=&quot;match_parent&quot;\r\n          android:src=&quot;@drawable/no_thumbnail&quot;\r\n          android:adjustViewBounds=&quot;true&quot;\r\n          android:scaleType=&quot;centerInside&quot;/&gt;\r\n    \r\n      &lt;TextView\r\n          android:id=&quot;@+id/text&quot;\r\n          android:layout_width=&quot;0dp&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_weight=&quot;1&quot;\r\n          android:layout_gravity=&quot;center_vertical&quot;\r\n          android:layout_marginLeft=&quot;5dp&quot;\r\n          android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n          android:textColor=&quot;#fff&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nCURRENT LOCAL SOURCE:\r\n-----------\r\n\r\n    import static android.view.ViewGroup.LayoutParams.MATCH_PARENT;\r\n    import static android.view.ViewGroup.LayoutParams.WRAP_CONTENT;\r\n    \r\n    import com.google.android.youtube.player.YouTubeInitializationResult;\r\n    import com.google.android.youtube.player.YouTubePlayer;\r\n    import com.google.android.youtube.player.YouTubePlayer.OnFullscreenListener;\r\n    import com.google.android.youtube.player.YouTubePlayer.OnInitializedListener;\r\n    import com.google.android.youtube.player.YouTubePlayer.Provider;\r\n    import com.google.android.youtube.player.YouTubePlayerFragment;\r\n    import com.google.android.youtube.player.YouTubeThumbnailLoader;\r\n    import com.google.android.youtube.player.YouTubeThumbnailLoader.ErrorReason;\r\n    import com.google.android.youtube.player.YouTubeThumbnailView;\r\n    \r\n    import android.annotation.TargetApi;\r\n    import android.app.Activity;\r\n    import android.app.ListFragment;\r\n    import android.content.Context;\r\n    import android.content.res.Configuration;\r\n    import android.os.Bundle;\r\n    import android.view.Gravity;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.ViewGroup.LayoutParams;\r\n    import android.widget.BaseAdapter;\r\n    import android.widget.FrameLayout;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * A sample Activity showing how to manage multiple YouTubeThumbnailViews in an adapter for display\r\n     * in a List. When the list items are clicked, the video is played by using a YouTubePlayerFragment.\r\n     * &lt;p&gt;\r\n     * The demo supports custom fullscreen and transitioning between portrait and landscape without\r\n     * rebuffering.\r\n     */\r\n    @TargetApi(13)\r\n    public final class MainActivity extends Activity implements OnFullscreenListener {\r\n    \r\n      /** The duration of the animation sliding up the video in portrait. */\r\n      private static final int ANIMATION_DURATION_MILLIS = 300;\r\n      /** The padding between the video list and the video in landscape orientation. */\r\n      private static final int LANDSCAPE_VIDEO_PADDING_DP = 5;\r\n    \r\n      private VideoListFragment listFragment;\r\n      private VideoFragment videoFragment;\r\n    \r\n      private View videoBox;\r\n      private View closeButton;\r\n    \r\n      private boolean isFullscreen;\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    \r\n        setContentView(R.layout.video_list_demo);\r\n    \r\n        listFragment = (VideoListFragment) getFragmentManager().findFragmentById(R.id.list_fragment);\r\n        videoFragment =\r\n            (VideoFragment) getFragmentManager().findFragmentById(R.id.video_fragment_container);\r\n    \r\n        videoBox = findViewById(R.id.video_box);\r\n        closeButton = findViewById(R.id.close_button);\r\n    \r\n        videoBox.setVisibility(View.INVISIBLE);\r\n    \r\n        layout();\r\n      }\r\n    \r\n      @Override\r\n      public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n    \r\n        layout();\r\n      }\r\n    \r\n      @Override\r\n      public void onFullscreen(boolean isFullscreen) {\r\n        this.isFullscreen = isFullscreen;\r\n    \r\n        layout();\r\n      }\r\n    \r\n      /**\r\n       * Sets up the layout programatically for the three different states. Portrait, landscape or\r\n       * fullscreen+landscape. This has to be done programmatically because we handle the orientation\r\n       * changes ourselves in order to get fluent fullscreen transitions, so the xml layout resources\r\n       * do not get reloaded.\r\n       */\r\n      private void layout() {\r\n        boolean isPortrait =\r\n            getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT;\r\n    \r\n        listFragment.getView().setVisibility(isFullscreen ? View.GONE : View.VISIBLE);\r\n        listFragment.setLabelVisibility(isPortrait);\r\n        closeButton.setVisibility(isPortrait ? View.VISIBLE : View.GONE);\r\n    \r\n        if (isFullscreen) {\r\n          videoBox.setTranslationY(0); // Reset any translation that was applied in portrait.\r\n          setLayoutSize(videoFragment.getView(), MATCH_PARENT, MATCH_PARENT);\r\n          setLayoutSizeAndGravity(videoBox, MATCH_PARENT, MATCH_PARENT, Gravity.TOP | Gravity.LEFT);\r\n        } else if (isPortrait) {\r\n          setLayoutSize(listFragment.getView(), MATCH_PARENT, MATCH_PARENT);\r\n          setLayoutSize(videoFragment.getView(), MATCH_PARENT, WRAP_CONTENT);\r\n          setLayoutSizeAndGravity(videoBox, MATCH_PARENT, WRAP_CONTENT, Gravity.BOTTOM);\r\n        } else {\r\n          videoBox.setTranslationY(0); // Reset any translation that was applied in portrait.\r\n          int screenWidth = dpToPx(getResources().getConfiguration().screenWidthDp);\r\n          setLayoutSize(listFragment.getView(), screenWidth / 4, MATCH_PARENT);\r\n          int videoWidth = screenWidth - screenWidth / 4 - dpToPx(LANDSCAPE_VIDEO_PADDING_DP);\r\n          setLayoutSize(videoFragment.getView(), videoWidth, WRAP_CONTENT);\r\n          setLayoutSizeAndGravity(videoBox, videoWidth, WRAP_CONTENT,\r\n              Gravity.RIGHT | Gravity.CENTER_VERTICAL);\r\n        }\r\n      }\r\n    \r\n      public void onClickClose(@SuppressWarnings(&quot;unused&quot;) View view) {\r\n        listFragment.getListView().clearChoices();\r\n        listFragment.getListView().requestLayout();\r\n        videoFragment.pause();\r\n        videoBox.animate()\r\n            .translationYBy(videoBox.getHeight())\r\n            .setDuration(ANIMATION_DURATION_MILLIS)\r\n            .withEndAction(new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                videoBox.setVisibility(View.INVISIBLE);\r\n              }\r\n            });\r\n      }\r\n    \r\n      /**\r\n       * A fragment that shows a static list of videos.\r\n       */\r\n      public static final class VideoListFragment extends ListFragment {\r\n    \r\n        private static final List&lt;VideoEntry&gt; VIDEO_LIST;\r\n        static {\r\n          List&lt;VideoEntry&gt; list = new ArrayList&lt;VideoEntry&gt;();\r\n          list.add(new VideoEntry(&quot;YouTube Collection&quot;, &quot;Y_UmWdcTrrc&quot;));\r\n          list.add(new VideoEntry(&quot;GMail Tap&quot;, &quot;1KhZKNZO8mQ&quot;));\r\n          list.add(new VideoEntry(&quot;Chrome Multitask&quot;, &quot;UiLSiqyDf4Y&quot;));\r\n          list.add(new VideoEntry(&quot;Google Fiber&quot;, &quot;re0VRK6ouwI&quot;));\r\n          list.add(new VideoEntry(&quot;Autocompleter&quot;, &quot;blB_X38YSxQ&quot;));\r\n          list.add(new VideoEntry(&quot;GMail Motion&quot;, &quot;Bu927_ul_X0&quot;));\r\n          list.add(new VideoEntry(&quot;Translate for Animals&quot;, &quot;3I24bSteJpw&quot;));\r\n          VIDEO_LIST = Collections.unmodifiableList(list);\r\n        }\r\n    \r\n        private PageAdapter adapter;\r\n        private View videoBox;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          adapter = new PageAdapter(getActivity(), VIDEO_LIST);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityCreated(Bundle savedInstanceState) {\r\n          super.onActivityCreated(savedInstanceState);\r\n    \r\n          videoBox = getActivity().findViewById(R.id.video_box);\r\n          getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);\r\n          setListAdapter(adapter);\r\n        }\r\n    \r\n        @Override\r\n        public void onListItemClick(ListView l, View v, int position, long id) {\r\n          String videoId = VIDEO_LIST.get(position).videoId;\r\n    \r\n          VideoFragment videoFragment =\r\n              (VideoFragment) getFragmentManager().findFragmentById(R.id.video_fragment_container);\r\n          videoFragment.setVideoId(videoId);\r\n    \r\n          // The videoBox is INVISIBLE if no video was previously selected, so we need to show it now.\r\n          if (videoBox.getVisibility() != View.VISIBLE) {\r\n            if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n              // Initially translate off the screen so that it can be animated in from below.\r\n              videoBox.setTranslationY(videoBox.getHeight());\r\n            }\r\n            videoBox.setVisibility(View.VISIBLE);\r\n          }\r\n    \r\n          // If the fragment is off the screen, we animate it in.\r\n          if (videoBox.getTranslationY() &gt; 0) {\r\n            videoBox.animate().translationY(0).setDuration(ANIMATION_DURATION_MILLIS);\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n          super.onDestroyView();\r\n    \r\n          adapter.releaseLoaders();\r\n        }\r\n    \r\n        public void setLabelVisibility(boolean visible) {\r\n          adapter.setLabelVisibility(visible);\r\n        }\r\n    \r\n      }\r\n    \r\n      /**\r\n       * Adapter for the video list. Manages a set of YouTubeThumbnailViews, including initializing each\r\n       * of them only once and keeping track of the loader of each one. When the ListFragment gets\r\n       * destroyed it releases all the loaders.\r\n       */\r\n      private static final class PageAdapter extends BaseAdapter {\r\n    \r\n        private final List&lt;VideoEntry&gt; entries;\r\n        private final List&lt;View&gt; entryViews;\r\n        private final Map&lt;YouTubeThumbnailView, YouTubeThumbnailLoader&gt; thumbnailViewToLoaderMap;\r\n        private final LayoutInflater inflater;\r\n        private final ThumbnailListener thumbnailListener;\r\n    \r\n        private boolean labelsVisible;\r\n    \r\n        public PageAdapter(Context context, List&lt;VideoEntry&gt; entries) {\r\n          this.entries = entries;\r\n    \r\n          entryViews = new ArrayList&lt;View&gt;();\r\n          thumbnailViewToLoaderMap = new HashMap&lt;YouTubeThumbnailView, YouTubeThumbnailLoader&gt;();\r\n          inflater = LayoutInflater.from(context);\r\n          thumbnailListener = new ThumbnailListener();\r\n    \r\n          labelsVisible = true;\r\n        }\r\n    \r\n        public void releaseLoaders() {\r\n          for (YouTubeThumbnailLoader loader : thumbnailViewToLoaderMap.values()) {\r\n            loader.release();\r\n          }\r\n        }\r\n    \r\n        public void setLabelVisibility(boolean visible) {\r\n          labelsVisible = visible;\r\n          for (View view : entryViews) {\r\n            view.findViewById(R.id.text).setVisibility(visible ? View.VISIBLE : View.GONE);\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n          return entries.size();\r\n        }\r\n    \r\n        @Override\r\n        public VideoEntry getItem(int position) {\r\n          return entries.get(position);\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n          return 0;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n          View view = convertView;\r\n          VideoEntry entry = entries.get(position);\r\n    \r\n          // There are three cases here\r\n          if (view == null) {\r\n            // 1) The view has not yet been created - we need to initialize the YouTubeThumbnailView.\r\n            view = inflater.inflate(R.layout.video_list_item, parent, false);\r\n            YouTubeThumbnailView thumbnail = (YouTubeThumbnailView) view.findViewById(R.id.thumbnail);\r\n            thumbnail.setTag(entry.videoId);\r\n            thumbnail.initialize(DeveloperKey.DEVELOPER_KEY, thumbnailListener);\r\n          } else {\r\n            YouTubeThumbnailView thumbnail = (YouTubeThumbnailView) view.findViewById(R.id.thumbnail);\r\n            YouTubeThumbnailLoader loader = thumbnailViewToLoaderMap.get(thumbnail);\r\n            if (loader == null) {\r\n              // 2) The view is already created, and is currently being initialized. We store the\r\n              //    current videoId in the tag.\r\n              thumbnail.setTag(entry.videoId);\r\n            } else {\r\n              // 3) The view is already created and already initialized. Simply set the right videoId\r\n              //    on the loader.\r\n              thumbnail.setImageResource(R.drawable.loading_thumbnail);\r\n              loader.setVideo(entry.videoId);\r\n            }\r\n          }\r\n          TextView label = ((TextView) view.findViewById(R.id.text));\r\n          label.setText(entry.text);\r\n          label.setVisibility(labelsVisible ? View.VISIBLE : View.GONE);\r\n          return view;\r\n        }\r\n    \r\n        private final class ThumbnailListener implements\r\n            YouTubeThumbnailView.OnInitializedListener,\r\n            YouTubeThumbnailLoader.OnThumbnailLoadedListener {\r\n    \r\n          @Override\r\n          public void onInitializationSuccess(\r\n              YouTubeThumbnailView view, YouTubeThumbnailLoader loader) {\r\n            loader.setOnThumbnailLoadedListener(this);\r\n            thumbnailViewToLoaderMap.put(view, loader);\r\n            view.setImageResource(R.drawable.loading_thumbnail);\r\n            String videoId = (String) view.getTag();\r\n            loader.setVideo(videoId);\r\n          }\r\n    \r\n          @Override\r\n          public void onInitializationFailure(\r\n              YouTubeThumbnailView view, YouTubeInitializationResult loader) {\r\n            view.setImageResource(R.drawable.no_thumbnail);\r\n          }\r\n    \r\n          @Override\r\n          public void onThumbnailLoaded(YouTubeThumbnailView view, String videoId) {\r\n          }\r\n    \r\n          @Override\r\n          public void onThumbnailError(YouTubeThumbnailView view, ErrorReason errorReason) {\r\n            view.setImageResource(R.drawable.no_thumbnail);\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      public static final class VideoFragment extends YouTubePlayerFragment\r\n          implements OnInitializedListener {\r\n    \r\n        private YouTubePlayer player;\r\n        private String videoId;\r\n    \r\n        public static VideoFragment newInstance() {\r\n          return new VideoFragment();\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n    \r\n          initialize(DeveloperKey.DEVELOPER_KEY, this);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n          if (player != null) {\r\n            player.release();\r\n          }\r\n          super.onDestroy();\r\n        }\r\n    \r\n        public void setVideoId(String videoId) {\r\n          if (videoId != null &amp;&amp; !videoId.equals(this.videoId)) {\r\n            this.videoId = videoId;\r\n            if (player != null) {\r\n              player.cueVideo(videoId);\r\n            }\r\n          }\r\n        }\r\n    \r\n        public void pause() {\r\n          if (player != null) {\r\n            player.pause();\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public void onInitializationSuccess(Provider provider, YouTubePlayer player, boolean restored) {\r\n          this.player = player;\r\n          player.addFullscreenControlFlag(YouTubePlayer.FULLSCREEN_FLAG_CUSTOM_LAYOUT);\r\n          player.setOnFullscreenListener((MainActivity) getActivity());\r\n          if (!restored &amp;&amp; videoId != null) {\r\n            player.cueVideo(videoId);\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public void onInitializationFailure(Provider provider, YouTubeInitializationResult result) {\r\n          this.player = null;\r\n        }\r\n    \r\n      }\r\n    \r\n      private static final class VideoEntry {\r\n        private final String text;\r\n        private final String videoId;\r\n    \r\n        public VideoEntry(String text, String videoId) {\r\n          this.text = text;\r\n          this.videoId = videoId;\r\n        }\r\n      }\r\n    \r\n      // Utility methods for layouting.\r\n    \r\n      private int dpToPx(int dp) {\r\n        return (int) (dp * getResources().getDisplayMetrics().density + 0.5f);\r\n      }\r\n    \r\n      private static void setLayoutSize(View view, int width, int height) {\r\n        LayoutParams params = view.getLayoutParams();\r\n        params.width = width;\r\n        params.height = height;\r\n        view.setLayoutParams(params);\r\n      }\r\n    \r\n      private static void setLayoutSizeAndGravity(View view, int width, int height, int gravity) {\r\n        FrameLayout.LayoutParams params = (FrameLayout.LayoutParams) view.getLayoutParams();\r\n        params.width = width;\r\n        params.height = height;\r\n        params.gravity = gravity;\r\n        view.setLayoutParams(params);\r\n      }\r\n    \r\n    }\r\n","title":"FORCE CLOSE: Unable to instantiate fragment make sure class name exists, is public, and has an empty constructor that is public","body":"<h2>ERROR:</h2>\n\n<pre><code>Unable to instantiate fragment com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment: make sure class name exists, is public, and has an empty constructor that is public\n</code></pre>\n\n<p>I do not see any reference to <code>VideoListDemoActivity</code> in my source code. I believe the reason this is occurring is I've copied this class from: </p>\n\n<p><a href=\"https://code.google.com/p/youtube-api-samples/source/browse/android-player/src/com/examples/youtubeapidemo/VideoListDemoActivity.java?r=b9d9565b17705d71a9c0093d8623c6b0c912e6d9\" rel=\"nofollow\">https://code.google.com/p/youtube-api-samples/source/browse/android-player/src/com/examples/youtubeapidemo/VideoListDemoActivity.java?r=b9d9565b17705d71a9c0093d8623c6b0c912e6d9</a></p>\n\n<p>...and I've renamed it to <code>MainActivity</code> (it's old name was <code>VideoListDemoActivity</code>) but all references to <code>VideoListDemoActivity</code> are gone therefore I have no idea why it is throwing this error regarding <code>VideoListDemoActivity</code>. </p>\n\n<h2>LOGCAT:</h2>\n\n<pre><code>11-21 09:52:28.461: E/AndroidRuntime(31054): FATAL EXCEPTION: main\n11-21 09:52:28.461: E/AndroidRuntime(31054): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.idg.omv/com.idg.omv.MainActivity}: android.view.InflateException: Binary XML file line #22: Error inflating class fragment\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2110)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2135)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread.access$700(ActivityThread.java:143)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1241)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.os.Looper.loop(Looper.java:137)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread.main(ActivityThread.java:4950)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at java.lang.reflect.Method.invoke(Method.java:511)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1004)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:771)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at dalvik.system.NativeStart.main(Native Method)\n11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: android.view.InflateException: Binary XML file line #22: Error inflating class fragment\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.inflate(LayoutInflater.java:459)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.inflate(LayoutInflater.java:396)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.inflate(LayoutInflater.java:352)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:309)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Activity.setContentView(Activity.java:1914)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at com.idg.omv.MainActivity.onCreate(MainActivity.java:65)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Activity.performCreate(Activity.java:5179)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2074)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    ... 11 more\n11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment: make sure class name exists, is public, and has an empty constructor that is public\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Fragment.instantiate(Fragment.java:584)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Fragment.instantiate(Fragment.java:552)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Activity.onCreateView(Activity.java:4822)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:680)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    ... 21 more\n11-21 09:52:28.461: E/AndroidRuntime(31054): Caused by: java.lang.ClassNotFoundException: com.examples.youtubeapidemo.VideoListDemoActivity$VideoListFragment\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at java.lang.ClassLoader.loadClass(ClassLoader.java:501)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at java.lang.ClassLoader.loadClass(ClassLoader.java:461)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    at android.app.Fragment.instantiate(Fragment.java:574)\n11-21 09:52:28.461: E/AndroidRuntime(31054):    ... 24 more\n</code></pre>\n\n<h2>XML # 1:</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  Copyright 2012 Google Inc. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;\n&lt;merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n  &lt;fragment\n      class=\"com.idg.omv.MainActivity$VideoListFragment\"\n      android:id=\"@+id/list_fragment\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"match_parent\"/&gt;\n\n  &lt;LinearLayout\n      android:id=\"@+id/video_box\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:layout_gravity=\"bottom\"\n      android:orientation=\"vertical\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/close_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:src=\"@android:drawable/btn_dialog\"\n        android:onClick=\"onClickClose\"/&gt;\n\n    &lt;fragment\n        class=\"com.idg.omv.MainActivity$VideoListFragment\"\n        android:id=\"@+id/video_fragment_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n  &lt;/LinearLayout&gt;\n\n&lt;/merge&gt;\n</code></pre>\n\n<h2>XML # 2:</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  Copyright 2012 Google Inc. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"95dp\"\n    android:orientation=\"horizontal\"\n    android:gravity=\"center\"\n    android:background=\"?android:attr/activatedBackgroundIndicator\"&gt;\n\n  &lt;com.google.android.youtube.player.YouTubeThumbnailView\n      android:id=\"@+id/thumbnail\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"match_parent\"\n      android:src=\"@drawable/no_thumbnail\"\n      android:adjustViewBounds=\"true\"\n      android:scaleType=\"centerInside\"/&gt;\n\n  &lt;TextView\n      android:id=\"@+id/text\"\n      android:layout_width=\"0dp\"\n      android:layout_height=\"wrap_content\"\n      android:layout_weight=\"1\"\n      android:layout_gravity=\"center_vertical\"\n      android:layout_marginLeft=\"5dp\"\n      android:textAppearance=\"?android:attr/textAppearanceSmall\"\n      android:textColor=\"#fff\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<h2>CURRENT LOCAL SOURCE:</h2>\n\n<pre><code>import static android.view.ViewGroup.LayoutParams.MATCH_PARENT;\nimport static android.view.ViewGroup.LayoutParams.WRAP_CONTENT;\n\nimport com.google.android.youtube.player.YouTubeInitializationResult;\nimport com.google.android.youtube.player.YouTubePlayer;\nimport com.google.android.youtube.player.YouTubePlayer.OnFullscreenListener;\nimport com.google.android.youtube.player.YouTubePlayer.OnInitializedListener;\nimport com.google.android.youtube.player.YouTubePlayer.Provider;\nimport com.google.android.youtube.player.YouTubePlayerFragment;\nimport com.google.android.youtube.player.YouTubeThumbnailLoader;\nimport com.google.android.youtube.player.YouTubeThumbnailLoader.ErrorReason;\nimport com.google.android.youtube.player.YouTubeThumbnailView;\n\nimport android.annotation.TargetApi;\nimport android.app.Activity;\nimport android.app.ListFragment;\nimport android.content.Context;\nimport android.content.res.Configuration;\nimport android.os.Bundle;\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.ViewGroup.LayoutParams;\nimport android.widget.BaseAdapter;\nimport android.widget.FrameLayout;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * A sample Activity showing how to manage multiple YouTubeThumbnailViews in an adapter for display\n * in a List. When the list items are clicked, the video is played by using a YouTubePlayerFragment.\n * &lt;p&gt;\n * The demo supports custom fullscreen and transitioning between portrait and landscape without\n * rebuffering.\n */\n@TargetApi(13)\npublic final class MainActivity extends Activity implements OnFullscreenListener {\n\n  /** The duration of the animation sliding up the video in portrait. */\n  private static final int ANIMATION_DURATION_MILLIS = 300;\n  /** The padding between the video list and the video in landscape orientation. */\n  private static final int LANDSCAPE_VIDEO_PADDING_DP = 5;\n\n  private VideoListFragment listFragment;\n  private VideoFragment videoFragment;\n\n  private View videoBox;\n  private View closeButton;\n\n  private boolean isFullscreen;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.video_list_demo);\n\n    listFragment = (VideoListFragment) getFragmentManager().findFragmentById(R.id.list_fragment);\n    videoFragment =\n        (VideoFragment) getFragmentManager().findFragmentById(R.id.video_fragment_container);\n\n    videoBox = findViewById(R.id.video_box);\n    closeButton = findViewById(R.id.close_button);\n\n    videoBox.setVisibility(View.INVISIBLE);\n\n    layout();\n  }\n\n  @Override\n  public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    layout();\n  }\n\n  @Override\n  public void onFullscreen(boolean isFullscreen) {\n    this.isFullscreen = isFullscreen;\n\n    layout();\n  }\n\n  /**\n   * Sets up the layout programatically for the three different states. Portrait, landscape or\n   * fullscreen+landscape. This has to be done programmatically because we handle the orientation\n   * changes ourselves in order to get fluent fullscreen transitions, so the xml layout resources\n   * do not get reloaded.\n   */\n  private void layout() {\n    boolean isPortrait =\n        getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT;\n\n    listFragment.getView().setVisibility(isFullscreen ? View.GONE : View.VISIBLE);\n    listFragment.setLabelVisibility(isPortrait);\n    closeButton.setVisibility(isPortrait ? View.VISIBLE : View.GONE);\n\n    if (isFullscreen) {\n      videoBox.setTranslationY(0); // Reset any translation that was applied in portrait.\n      setLayoutSize(videoFragment.getView(), MATCH_PARENT, MATCH_PARENT);\n      setLayoutSizeAndGravity(videoBox, MATCH_PARENT, MATCH_PARENT, Gravity.TOP | Gravity.LEFT);\n    } else if (isPortrait) {\n      setLayoutSize(listFragment.getView(), MATCH_PARENT, MATCH_PARENT);\n      setLayoutSize(videoFragment.getView(), MATCH_PARENT, WRAP_CONTENT);\n      setLayoutSizeAndGravity(videoBox, MATCH_PARENT, WRAP_CONTENT, Gravity.BOTTOM);\n    } else {\n      videoBox.setTranslationY(0); // Reset any translation that was applied in portrait.\n      int screenWidth = dpToPx(getResources().getConfiguration().screenWidthDp);\n      setLayoutSize(listFragment.getView(), screenWidth / 4, MATCH_PARENT);\n      int videoWidth = screenWidth - screenWidth / 4 - dpToPx(LANDSCAPE_VIDEO_PADDING_DP);\n      setLayoutSize(videoFragment.getView(), videoWidth, WRAP_CONTENT);\n      setLayoutSizeAndGravity(videoBox, videoWidth, WRAP_CONTENT,\n          Gravity.RIGHT | Gravity.CENTER_VERTICAL);\n    }\n  }\n\n  public void onClickClose(@SuppressWarnings(\"unused\") View view) {\n    listFragment.getListView().clearChoices();\n    listFragment.getListView().requestLayout();\n    videoFragment.pause();\n    videoBox.animate()\n        .translationYBy(videoBox.getHeight())\n        .setDuration(ANIMATION_DURATION_MILLIS)\n        .withEndAction(new Runnable() {\n          @Override\n          public void run() {\n            videoBox.setVisibility(View.INVISIBLE);\n          }\n        });\n  }\n\n  /**\n   * A fragment that shows a static list of videos.\n   */\n  public static final class VideoListFragment extends ListFragment {\n\n    private static final List&lt;VideoEntry&gt; VIDEO_LIST;\n    static {\n      List&lt;VideoEntry&gt; list = new ArrayList&lt;VideoEntry&gt;();\n      list.add(new VideoEntry(\"YouTube Collection\", \"Y_UmWdcTrrc\"));\n      list.add(new VideoEntry(\"GMail Tap\", \"1KhZKNZO8mQ\"));\n      list.add(new VideoEntry(\"Chrome Multitask\", \"UiLSiqyDf4Y\"));\n      list.add(new VideoEntry(\"Google Fiber\", \"re0VRK6ouwI\"));\n      list.add(new VideoEntry(\"Autocompleter\", \"blB_X38YSxQ\"));\n      list.add(new VideoEntry(\"GMail Motion\", \"Bu927_ul_X0\"));\n      list.add(new VideoEntry(\"Translate for Animals\", \"3I24bSteJpw\"));\n      VIDEO_LIST = Collections.unmodifiableList(list);\n    }\n\n    private PageAdapter adapter;\n    private View videoBox;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      adapter = new PageAdapter(getActivity(), VIDEO_LIST);\n    }\n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState) {\n      super.onActivityCreated(savedInstanceState);\n\n      videoBox = getActivity().findViewById(R.id.video_box);\n      getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);\n      setListAdapter(adapter);\n    }\n\n    @Override\n    public void onListItemClick(ListView l, View v, int position, long id) {\n      String videoId = VIDEO_LIST.get(position).videoId;\n\n      VideoFragment videoFragment =\n          (VideoFragment) getFragmentManager().findFragmentById(R.id.video_fragment_container);\n      videoFragment.setVideoId(videoId);\n\n      // The videoBox is INVISIBLE if no video was previously selected, so we need to show it now.\n      if (videoBox.getVisibility() != View.VISIBLE) {\n        if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {\n          // Initially translate off the screen so that it can be animated in from below.\n          videoBox.setTranslationY(videoBox.getHeight());\n        }\n        videoBox.setVisibility(View.VISIBLE);\n      }\n\n      // If the fragment is off the screen, we animate it in.\n      if (videoBox.getTranslationY() &gt; 0) {\n        videoBox.animate().translationY(0).setDuration(ANIMATION_DURATION_MILLIS);\n      }\n    }\n\n    @Override\n    public void onDestroyView() {\n      super.onDestroyView();\n\n      adapter.releaseLoaders();\n    }\n\n    public void setLabelVisibility(boolean visible) {\n      adapter.setLabelVisibility(visible);\n    }\n\n  }\n\n  /**\n   * Adapter for the video list. Manages a set of YouTubeThumbnailViews, including initializing each\n   * of them only once and keeping track of the loader of each one. When the ListFragment gets\n   * destroyed it releases all the loaders.\n   */\n  private static final class PageAdapter extends BaseAdapter {\n\n    private final List&lt;VideoEntry&gt; entries;\n    private final List&lt;View&gt; entryViews;\n    private final Map&lt;YouTubeThumbnailView, YouTubeThumbnailLoader&gt; thumbnailViewToLoaderMap;\n    private final LayoutInflater inflater;\n    private final ThumbnailListener thumbnailListener;\n\n    private boolean labelsVisible;\n\n    public PageAdapter(Context context, List&lt;VideoEntry&gt; entries) {\n      this.entries = entries;\n\n      entryViews = new ArrayList&lt;View&gt;();\n      thumbnailViewToLoaderMap = new HashMap&lt;YouTubeThumbnailView, YouTubeThumbnailLoader&gt;();\n      inflater = LayoutInflater.from(context);\n      thumbnailListener = new ThumbnailListener();\n\n      labelsVisible = true;\n    }\n\n    public void releaseLoaders() {\n      for (YouTubeThumbnailLoader loader : thumbnailViewToLoaderMap.values()) {\n        loader.release();\n      }\n    }\n\n    public void setLabelVisibility(boolean visible) {\n      labelsVisible = visible;\n      for (View view : entryViews) {\n        view.findViewById(R.id.text).setVisibility(visible ? View.VISIBLE : View.GONE);\n      }\n    }\n\n    @Override\n    public int getCount() {\n      return entries.size();\n    }\n\n    @Override\n    public VideoEntry getItem(int position) {\n      return entries.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n      return 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n      View view = convertView;\n      VideoEntry entry = entries.get(position);\n\n      // There are three cases here\n      if (view == null) {\n        // 1) The view has not yet been created - we need to initialize the YouTubeThumbnailView.\n        view = inflater.inflate(R.layout.video_list_item, parent, false);\n        YouTubeThumbnailView thumbnail = (YouTubeThumbnailView) view.findViewById(R.id.thumbnail);\n        thumbnail.setTag(entry.videoId);\n        thumbnail.initialize(DeveloperKey.DEVELOPER_KEY, thumbnailListener);\n      } else {\n        YouTubeThumbnailView thumbnail = (YouTubeThumbnailView) view.findViewById(R.id.thumbnail);\n        YouTubeThumbnailLoader loader = thumbnailViewToLoaderMap.get(thumbnail);\n        if (loader == null) {\n          // 2) The view is already created, and is currently being initialized. We store the\n          //    current videoId in the tag.\n          thumbnail.setTag(entry.videoId);\n        } else {\n          // 3) The view is already created and already initialized. Simply set the right videoId\n          //    on the loader.\n          thumbnail.setImageResource(R.drawable.loading_thumbnail);\n          loader.setVideo(entry.videoId);\n        }\n      }\n      TextView label = ((TextView) view.findViewById(R.id.text));\n      label.setText(entry.text);\n      label.setVisibility(labelsVisible ? View.VISIBLE : View.GONE);\n      return view;\n    }\n\n    private final class ThumbnailListener implements\n        YouTubeThumbnailView.OnInitializedListener,\n        YouTubeThumbnailLoader.OnThumbnailLoadedListener {\n\n      @Override\n      public void onInitializationSuccess(\n          YouTubeThumbnailView view, YouTubeThumbnailLoader loader) {\n        loader.setOnThumbnailLoadedListener(this);\n        thumbnailViewToLoaderMap.put(view, loader);\n        view.setImageResource(R.drawable.loading_thumbnail);\n        String videoId = (String) view.getTag();\n        loader.setVideo(videoId);\n      }\n\n      @Override\n      public void onInitializationFailure(\n          YouTubeThumbnailView view, YouTubeInitializationResult loader) {\n        view.setImageResource(R.drawable.no_thumbnail);\n      }\n\n      @Override\n      public void onThumbnailLoaded(YouTubeThumbnailView view, String videoId) {\n      }\n\n      @Override\n      public void onThumbnailError(YouTubeThumbnailView view, ErrorReason errorReason) {\n        view.setImageResource(R.drawable.no_thumbnail);\n      }\n    }\n\n  }\n\n  public static final class VideoFragment extends YouTubePlayerFragment\n      implements OnInitializedListener {\n\n    private YouTubePlayer player;\n    private String videoId;\n\n    public static VideoFragment newInstance() {\n      return new VideoFragment();\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n\n      initialize(DeveloperKey.DEVELOPER_KEY, this);\n    }\n\n    @Override\n    public void onDestroy() {\n      if (player != null) {\n        player.release();\n      }\n      super.onDestroy();\n    }\n\n    public void setVideoId(String videoId) {\n      if (videoId != null &amp;&amp; !videoId.equals(this.videoId)) {\n        this.videoId = videoId;\n        if (player != null) {\n          player.cueVideo(videoId);\n        }\n      }\n    }\n\n    public void pause() {\n      if (player != null) {\n        player.pause();\n      }\n    }\n\n    @Override\n    public void onInitializationSuccess(Provider provider, YouTubePlayer player, boolean restored) {\n      this.player = player;\n      player.addFullscreenControlFlag(YouTubePlayer.FULLSCREEN_FLAG_CUSTOM_LAYOUT);\n      player.setOnFullscreenListener((MainActivity) getActivity());\n      if (!restored &amp;&amp; videoId != null) {\n        player.cueVideo(videoId);\n      }\n    }\n\n    @Override\n    public void onInitializationFailure(Provider provider, YouTubeInitializationResult result) {\n      this.player = null;\n    }\n\n  }\n\n  private static final class VideoEntry {\n    private final String text;\n    private final String videoId;\n\n    public VideoEntry(String text, String videoId) {\n      this.text = text;\n      this.videoId = videoId;\n    }\n  }\n\n  // Utility methods for layouting.\n\n  private int dpToPx(int dp) {\n    return (int) (dp * getResources().getDisplayMetrics().density + 0.5f);\n  }\n\n  private static void setLayoutSize(View view, int width, int height) {\n    LayoutParams params = view.getLayoutParams();\n    params.width = width;\n    params.height = height;\n    view.setLayoutParams(params);\n  }\n\n  private static void setLayoutSizeAndGravity(View view, int width, int height, int gravity) {\n    FrameLayout.LayoutParams params = (FrameLayout.LayoutParams) view.getLayoutParams();\n    params.width = width;\n    params.height = height;\n    params.gravity = gravity;\n    view.setLayoutParams(params);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","opengl-es"],"comments":[{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":1,"creation_date":1654355762,"post_id":72500348,"comment_id":128073762,"body_markdown":"Uniforms are stored in the default uniform block of the currently installed program. A uniforms is not a state of the VAO. Uniforms are part of the program, but not part of the attributes. If you want to organize the uniforms you can use [Uniform Buffer Object](https://www.khronos.org/opengl/wiki/Uniform_Buffer_Objects) or [Shader Storage Buffer Objects](https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object).","body":"Uniforms are stored in the default uniform block of the currently installed program. A uniforms is not a state of the VAO. Uniforms are part of the program, but not part of the attributes. If you want to organize the uniforms you can use <a href=\"https://www.khronos.org/opengl/wiki/Uniform_Buffer_Objects\" rel=\"nofollow noreferrer\">Uniform Buffer Object</a> or <a href=\"https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object\" rel=\"nofollow noreferrer\">Shader Storage Buffer Objects</a>."}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654498025,"creation_date":1654498025,"answer_id":72513967,"question_id":72500348,"body_markdown":"Uniforms are stored in the default uniform block of the currently installed program. A uniforms is not a state of the VAO. Uniforms are part of the program, but not part of the attributes. If you want to organize the uniforms you can use [Uniform Buffer Object](https://www.khronos.org/opengl/wiki/Uniform_Buffer_Object) or [Shader Storage Buffer Objects](https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object).\r\n\r\nSet the uniform before drawing the mesh:\r\n\r\n```java\r\nfun onSurfaceCreated() {\r\n    // [...]\r\n\r\n    GLES31.glGenVertexArrays(2, vaos, 0)\r\n\r\n    // VAO A\r\n    GLES31.glBindVertexArray(vaos[0])\r\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\r\n       GLES31.glEnableVertexAttribArray(it)\r\n       GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\r\n    }\r\n\r\n    // VAO B\r\n    GLES31.glBindVertexArray(vaos[1])\r\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\r\n       GLES31.glEnableVertexAttribArray(it)\r\n       GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\r\n    }\r\n}\r\n\r\nfun onDrawFrame() {\r\n    // [...]\r\n\r\n    // Mesh A\r\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\r\n       GLES31.glUniform4fv(it, 1, this.meshAColor, 0)\r\n    }\r\n    GLES31.glBindVertexArray(vaos[0])\r\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\r\n\r\n    // Mesh B\r\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\r\n       GLES31.glUniform4fv(it, 1, this.meshBColor, 0)\r\n    }\r\n    GLES31.glBindVertexArray(vaos[1])\r\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\r\n}\r\n```","title":"OpenGL ES : How to use VAOs together with glVertexAttribPointer?","body":"<p>Uniforms are stored in the default uniform block of the currently installed program. A uniforms is not a state of the VAO. Uniforms are part of the program, but not part of the attributes. If you want to organize the uniforms you can use <a href=\"https://www.khronos.org/opengl/wiki/Uniform_Buffer_Object\" rel=\"nofollow noreferrer\">Uniform Buffer Object</a> or <a href=\"https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object\" rel=\"nofollow noreferrer\">Shader Storage Buffer Objects</a>.</p>\n<p>Set the uniform before drawing the mesh:</p>\n<pre class=\"lang-java prettyprint-override\"><code>fun onSurfaceCreated() {\n    // [...]\n\n    GLES31.glGenVertexArrays(2, vaos, 0)\n\n    // VAO A\n    GLES31.glBindVertexArray(vaos[0])\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\n       GLES31.glEnableVertexAttribArray(it)\n       GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\n    }\n\n    // VAO B\n    GLES31.glBindVertexArray(vaos[1])\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\n       GLES31.glEnableVertexAttribArray(it)\n       GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\n    }\n}\n\nfun onDrawFrame() {\n    // [...]\n\n    // Mesh A\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\n       GLES31.glUniform4fv(it, 1, this.meshAColor, 0)\n    }\n    GLES31.glBindVertexArray(vaos[0])\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\n\n    // Mesh B\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\n       GLES31.glUniform4fv(it, 1, this.meshBColor, 0)\n    }\n    GLES31.glBindVertexArray(vaos[1])\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\n}\n</code></pre>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72513967,"answer_count":1,"score":1,"last_activity_date":1654498025,"creation_date":1654351171,"question_id":72500348,"body_markdown":"I am trying to update the following code, using VAOs :\r\n\r\n    fun onSurfaceCreated() {\r\n        // ...\r\n\r\n        // Coordinates Handle\r\n        this.meshCoordinatesHandle = GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;)\r\n        GLES31.glEnableVertexAttribArray(this.meshCoordinatesHandle)\r\n    \r\n        // Color Handle\r\n        this.colorHandle = GLES31.glGetUniformLocation(program, &quot;color&quot;)\r\n        GLES31.glEnableVertexAttribArray(this.colorHandle)\r\n    }\r\n\r\n    fun onDrawFrame() {\r\n        // ...\r\n    \r\n        // Mesh A\r\n        GLES31.glVertexAttribPointer(this.meshCoordinatesHandle, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\r\n        GLES31.glUniform4fv(this.colorHandle, 1, this.meshAColor, 0)\r\n        GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\r\n\r\n        // Mesh B\r\n        GLES31.glVertexAttribPointer(this.meshCoordinatesHandle, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\r\n        GLES31.glUniform4fv(this.colorHandle, 1, this.meshBColor, 0)\r\n        GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\r\n    }\r\n\r\nI got this far, but i&#39;m stuck here :\r\n\r\n    fun onSurfaceCreated() {\r\n        // ...\r\n\r\n        GLES31.glGenVertexArrays(2, vaos, 0)\r\n\r\n        // VAO A\r\n        GLES31.glBindVertexArray(vaos[0])\r\n\r\n        GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\r\n        GLES31.glEnableVertexAttribArray(it)\r\n        GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\r\n        }\r\n\r\n        GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\r\n        GLES31.glEnableVertexAttribArray(it)\r\n        GLES31.glUniform4fv(it, 1, this.meshAColor, 0)\r\n        }\r\n\r\n        // VAO B\r\n        GLES31.glBindVertexArray(vaos[1])\r\n\r\n        GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\r\n        GLES31.glEnableVertexAttribArray(it)\r\n        GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\r\n        }\r\n\r\n        GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\r\n        GLES31.glEnableVertexAttribArray(it)\r\n        GLES31.glUniform4fv(it, 1, this.meshBColor, 0)\r\n        }\r\n    }\r\n\r\n    fun onDrawFrame() {\r\n        // ...\r\n    \r\n        // Mesh A\r\n        GLES31.glBindVertexArray(vaos[0])\r\n        GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\r\n\r\n        // Mesh B\r\n        GLES31.glBindVertexArray(vaos[1])\r\n        GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\r\n    }\r\n\r\nAny idea where the problem could come from ?\r\nDo I have to replace **glVertexAttribPointer** by **glBindBuffer** and **glBufferData** ?","title":"OpenGL ES : How to use VAOs together with glVertexAttribPointer?","body":"<p>I am trying to update the following code, using VAOs :</p>\n<pre><code>fun onSurfaceCreated() {\n    // ...\n\n    // Coordinates Handle\n    this.meshCoordinatesHandle = GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;)\n    GLES31.glEnableVertexAttribArray(this.meshCoordinatesHandle)\n\n    // Color Handle\n    this.colorHandle = GLES31.glGetUniformLocation(program, &quot;color&quot;)\n    GLES31.glEnableVertexAttribArray(this.colorHandle)\n}\n\nfun onDrawFrame() {\n    // ...\n\n    // Mesh A\n    GLES31.glVertexAttribPointer(this.meshCoordinatesHandle, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\n    GLES31.glUniform4fv(this.colorHandle, 1, this.meshAColor, 0)\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\n\n    // Mesh B\n    GLES31.glVertexAttribPointer(this.meshCoordinatesHandle, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\n    GLES31.glUniform4fv(this.colorHandle, 1, this.meshBColor, 0)\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\n}\n</code></pre>\n<p>I got this far, but i'm stuck here :</p>\n<pre><code>fun onSurfaceCreated() {\n    // ...\n\n    GLES31.glGenVertexArrays(2, vaos, 0)\n\n    // VAO A\n    GLES31.glBindVertexArray(vaos[0])\n\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\n    GLES31.glEnableVertexAttribArray(it)\n    GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshACoordinatesBuffer)\n    }\n\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\n    GLES31.glEnableVertexAttribArray(it)\n    GLES31.glUniform4fv(it, 1, this.meshAColor, 0)\n    }\n\n    // VAO B\n    GLES31.glBindVertexArray(vaos[1])\n\n    GLES31.glGetAttribLocation(program, &quot;mesh_coordinates&quot;).also {\n    GLES31.glEnableVertexAttribArray(it)\n    GLES31.glVertexAttribPointer(it, 3, GLES31.GL_FLOAT, false, 3 * 4, this.meshBCoordinatesBuffer)\n    }\n\n    GLES31.glGetUniformLocation(program, &quot;color&quot;).also {\n    GLES31.glEnableVertexAttribArray(it)\n    GLES31.glUniform4fv(it, 1, this.meshBColor, 0)\n    }\n}\n\nfun onDrawFrame() {\n    // ...\n\n    // Mesh A\n    GLES31.glBindVertexArray(vaos[0])\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshALinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshALinesBuffer)\n\n    // Mesh B\n    GLES31.glBindVertexArray(vaos[1])\n    GLES31.glDrawElements(GLES31.GL_LINES, this.meshBLinesBuffer.capacity(), GLES31.GL_UNSIGNED_SHORT, this.meshBLinesBuffer)\n}\n</code></pre>\n<p>Any idea where the problem could come from ?\nDo I have to replace <strong>glVertexAttribPointer</strong> by <strong>glBindBuffer</strong> and <strong>glBufferData</strong> ?</p>\n"},{"tags":["java","android","c++","linux","android-native-library"],"comments":[{"owner":{"account_id":7339531,"reputation":128,"user_id":5589660,"display_name":"Taggart Comet"},"score":0,"creation_date":1469269408,"post_id":38496392,"comment_id":64473877,"body_markdown":"I&#39;m sure that its possible. Does really nobody knows?","body":"I&#39;m sure that its possible. Does really nobody knows?"},{"owner":{"account_id":6054021,"reputation":161,"user_id":7763761,"display_name":"Sergey Unk"},"score":0,"creation_date":1654332818,"post_id":38496392,"comment_id":128069715,"body_markdown":"Hi. Any news on how to fix this problem?","body":"Hi. Any news on how to fix this problem?"},{"owner":{"account_id":7339531,"reputation":128,"user_id":5589660,"display_name":"Taggart Comet"},"score":0,"creation_date":1654497965,"post_id":38496392,"comment_id":128096416,"body_markdown":"@SergeyUnk I gave up on it at the time..","body":"@SergeyUnk I gave up on it at the time.."}],"owner":{"account_id":7339531,"reputation":128,"user_id":5589660,"display_name":"Taggart Comet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1654497866,"creation_date":1469082130,"question_id":38496392,"body_markdown":"I have well-working simple android app(graphically does nothing, but calculates some data), that uses native libraries, those libraries is for x86, so I am hoping to make that code work under x86 ubuntu as a simple compiled java binary.\r\nSo after finding all library dependencies compiler tells me:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: \r\n    lib/libgnustl_shared.so: lib/libgnustl_shared.so: undefined symbol: __sF\r\n\r\nAfter a bit googling I found that **__sF** is some kind of android specified parameters array, that accesible in the android env(or elsewhere, I actually don&#39;t know).\r\n**libgnustl_shared.so** depends from **libm.so** and **libdl.so**, that comes with ubuntu.\r\n\r\nShould I try to find android x86 **libm.so** and **libdl.so**? Or try to implement some how **__sF** in java code?\r\n\r\n(main point is to solve issue with **libgnustl_shared.so**, other libraries is written manually by my co-worker so I dont expect any harm from them)\r\n\r\nI hope someone has the sacred knowledge to help me make it work. Appreciate any help.","title":"Running android java&#39;s native libraries under linux","body":"<p>I have well-working simple android app(graphically does nothing, but calculates some data), that uses native libraries, those libraries is for x86, so I am hoping to make that code work under x86 ubuntu as a simple compiled java binary.\nSo after finding all library dependencies compiler tells me:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: \nlib/libgnustl_shared.so: lib/libgnustl_shared.so: undefined symbol: __sF\n</code></pre>\n<p>After a bit googling I found that <strong>__sF</strong> is some kind of android specified parameters array, that accesible in the android env(or elsewhere, I actually don't know).\n<strong>libgnustl_shared.so</strong> depends from <strong>libm.so</strong> and <strong>libdl.so</strong>, that comes with ubuntu.</p>\n<p>Should I try to find android x86 <strong>libm.so</strong> and <strong>libdl.so</strong>? Or try to implement some how <strong>__sF</strong> in java code?</p>\n<p>(main point is to solve issue with <strong>libgnustl_shared.so</strong>, other libraries is written manually by my co-worker so I dont expect any harm from them)</p>\n<p>I hope someone has the sacred knowledge to help me make it work. Appreciate any help.</p>\n"},{"tags":["java","multithreading","unit-testing","singleton","completable-future"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1654417891,"post_id":72505765,"comment_id":128082214,"body_markdown":"What are you trying to accomplish with this?  You can&#39;t prove that a function is thread safe from a test-  all we&#39;d know is that the test you wrote didn&#39;t happen to trigger it a problem-  that doesn&#39;t mean it&#39;s thread safe.  Change the timing by nanoseconds and it could fail.  You&#39;d also be left with a flaky test-  sometimes it would fail, sometimes it wouldn&#39;t, depending on the way the OS schedules things.  This isn&#39;t something you ever do.","body":"What are you trying to accomplish with this?  You can&#39;t prove that a function is thread safe from a test-  all we&#39;d know is that the test you wrote didn&#39;t happen to trigger it a problem-  that doesn&#39;t mean it&#39;s thread safe.  Change the timing by nanoseconds and it could fail.  You&#39;d also be left with a flaky test-  sometimes it would fail, sometimes it wouldn&#39;t, depending on the way the OS schedules things.  This isn&#39;t something you ever do."},{"owner":{"account_id":20257509,"reputation":91,"user_id":14856868,"display_name":"lifeLongLearner"},"score":0,"creation_date":1654496857,"post_id":72505765,"comment_id":128096167,"body_markdown":"I was just trying to do this for demo purpose. By running this method in separate threads, i wanted to demo how this is thread unsafe. Thank you for providing the reasoning behind why this approach is not right. So if I understand correctly, you are suggesting that cases like this cannot be demo-ed via some test case, runner method, etc. at all and should not be written to avoid any flaky tests?","body":"I was just trying to do this for demo purpose. By running this method in separate threads, i wanted to demo how this is thread unsafe. Thank you for providing the reasoning behind why this approach is not right. So if I understand correctly, you are suggesting that cases like this cannot be demo-ed via some test case, runner method, etc. at all and should not be written to avoid any flaky tests?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1654526589,"post_id":72505765,"comment_id":128105340,"body_markdown":"Ok, if you want to demo that it isn&#39;t thread safe, that you can do.  Launch it in a hundred threads, and test the results.  It&#39;s proving that it is thread-safe that isn&#39;t possible.  You also wouldn&#39;t use this as part of a unit test suite.  But a proof of concept that it can cause problems is definitely possible.","body":"Ok, if you want to demo that it isn&#39;t thread safe, that you can do.  Launch it in a hundred threads, and test the results.  It&#39;s proving that it is thread-safe that isn&#39;t possible.  You also wouldn&#39;t use this as part of a unit test suite.  But a proof of concept that it can cause problems is definitely possible."},{"owner":{"account_id":20257509,"reputation":91,"user_id":14856868,"display_name":"lifeLongLearner"},"score":0,"creation_date":1654620911,"post_id":72505765,"comment_id":128132354,"body_markdown":"Thank you for confirming that. Can you please elaborate more on how i can build a small POC around this?","body":"Thank you for confirming that. Can you please elaborate more on how i can build a small POC around this?"}],"answers":[{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654427683,"creation_date":1654427683,"answer_id":72506854,"question_id":72505765,"body_markdown":"It maybe because CompletableFuture.supplyAsync() could be submitting the task to a threadpool which has only a single available thread to process.  So, task2 will only be executed after task1 has complete. \r\n\r\nThis might happen when you&#39;re running the unit tests with other tests. Without knowing more, impossible to tell. \r\n\r\nHowever,  you could try creating your own threadpool with enough threads to execute everything in parallel. Try this:\r\n\r\n        @Test\r\n    \tvoid shouldVerifyThatClassInstantiationIsThreadUnsafe() {\r\n    \tExecutorService myThreadPool = Executors.newFixedThreadPool(2);\r\n        var task1 = CompletableFuture.supplyAsync(DateUtil::getInstance,myThreadPool);\r\n        var task2 = CompletableFuture.supplyAsync(DateUtil::getInstance,myThreadPool);\r\n        var instance1 = task1.join();\r\n        var instance2 = task2.join();\r\n\r\n        assertNotEquals(instance1, instance2);\r\n    \tmyThreadPool.shutdown();\r\n    }","title":"Cleanest approach to Unit test for thread safety of a method in java","body":"<p>It maybe because CompletableFuture.supplyAsync() could be submitting the task to a threadpool which has only a single available thread to process.  So, task2 will only be executed after task1 has complete.</p>\n<p>This might happen when you're running the unit tests with other tests. Without knowing more, impossible to tell.</p>\n<p>However,  you could try creating your own threadpool with enough threads to execute everything in parallel. Try this:</p>\n<pre><code>    @Test\n    void shouldVerifyThatClassInstantiationIsThreadUnsafe() {\n    ExecutorService myThreadPool = Executors.newFixedThreadPool(2);\n    var task1 = CompletableFuture.supplyAsync(DateUtil::getInstance,myThreadPool);\n    var task2 = CompletableFuture.supplyAsync(DateUtil::getInstance,myThreadPool);\n    var instance1 = task1.join();\n    var instance2 = task2.join();\n\n    assertNotEquals(instance1, instance2);\n    myThreadPool.shutdown();\n}\n</code></pre>\n"}],"owner":{"account_id":20257509,"reputation":91,"user_id":14856868,"display_name":"lifeLongLearner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654497499,"creation_date":1654416910,"question_id":72505765,"body_markdown":"I have been trying to write a unit test for lazy-instantiated singleton class to demo that this implementation is thread unsafe. Following is the code for its getInstance method:\r\n\r\n    private static DateUtil dateUtilInstance;\r\n\r\n    public static DateUtil getInstance() {\r\n        if (null == dateUtilInstance) {\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            dateUtilInstance = new DateUtil();\r\n        }\r\n        return dateUtilInstance;\r\n    }\r\n\r\nFor testing this scenario for thread un-safety, I tried few approaches such as - \r\n\r\n1. implementing &quot;callable&quot; class for having a callback for thread classes to easily write assertion. I found this approach a bit unclean for unit test as it involved creating of 2 separate classes to test the thread unsafe scenario\r\n\r\n2. tried implementing &quot;runnable&quot; class as well - but similar take as above along with fact that I could not provide a callback there.\r\n\r\n3. Using &quot;CompletableFuture&quot; to run the method in async way. Here is the unit test code for this approach:\r\n```\r\n    @Test\r\n    void shouldVerifyThatClassInstantiationIsThreadUnsafe() {\r\n        var task1 = CompletableFuture.supplyAsync(DateUtil::getInstance);\r\n        var task2 = CompletableFuture.supplyAsync(DateUtil::getInstance);\r\n        var instance1 = task1.join();\r\n        var instance2 = task2.join();\r\n\r\n        assertNotEquals(instance1, instance2);\r\n    }\r\n```\r\n\r\nThe test runs fine if I run it individually, but it fails when I run with all other tests at class level. I am novice to concept of threading, so I have some questions around this:\r\n1. Is this approach of using `completableFuture` correct for testing the multi-threaded scenario or am I confusing / mixing the concepts? \r\n2. Why is above unit test working when ran individually but failing when ran with other tests? Can someone please help me understand the rationale behind it?\r\n3. Any other better approach to test this thread-safety scenario?\r\n\r\nPS: I have already browsed through other similar questions here that were coming in suggestions, but they were not addressing the approach for unit test that I have shared and needed clarity on.","title":"Cleanest approach to Unit test for thread safety of a method in java","body":"<p>I have been trying to write a unit test for lazy-instantiated singleton class to demo that this implementation is thread unsafe. Following is the code for its getInstance method:</p>\n<pre><code>private static DateUtil dateUtilInstance;\n\npublic static DateUtil getInstance() {\n    if (null == dateUtilInstance) {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException ex) {\n            ex.printStackTrace();\n        }\n        dateUtilInstance = new DateUtil();\n    }\n    return dateUtilInstance;\n}\n</code></pre>\n<p>For testing this scenario for thread un-safety, I tried few approaches such as -</p>\n<ol>\n<li><p>implementing &quot;callable&quot; class for having a callback for thread classes to easily write assertion. I found this approach a bit unclean for unit test as it involved creating of 2 separate classes to test the thread unsafe scenario</p>\n</li>\n<li><p>tried implementing &quot;runnable&quot; class as well - but similar take as above along with fact that I could not provide a callback there.</p>\n</li>\n<li><p>Using &quot;CompletableFuture&quot; to run the method in async way. Here is the unit test code for this approach:</p>\n</li>\n</ol>\n<pre><code>    @Test\n    void shouldVerifyThatClassInstantiationIsThreadUnsafe() {\n        var task1 = CompletableFuture.supplyAsync(DateUtil::getInstance);\n        var task2 = CompletableFuture.supplyAsync(DateUtil::getInstance);\n        var instance1 = task1.join();\n        var instance2 = task2.join();\n\n        assertNotEquals(instance1, instance2);\n    }\n</code></pre>\n<p>The test runs fine if I run it individually, but it fails when I run with all other tests at class level. I am novice to concept of threading, so I have some questions around this:</p>\n<ol>\n<li>Is this approach of using <code>completableFuture</code> correct for testing the multi-threaded scenario or am I confusing / mixing the concepts?</li>\n<li>Why is above unit test working when ran individually but failing when ran with other tests? Can someone please help me understand the rationale behind it?</li>\n<li>Any other better approach to test this thread-safety scenario?</li>\n</ol>\n<p>PS: I have already browsed through other similar questions here that were coming in suggestions, but they were not addressing the approach for unit test that I have shared and needed clarity on.</p>\n"},{"tags":["java","performance","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1644593101,"post_id":71077221,"comment_id":125655051,"body_markdown":"What do you find strange? What would you expect instead?","body":"What do you find strange? What would you expect instead?"}],"answers":[{"tags":[],"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1644569581,"creation_date":1644569581,"answer_id":71077353,"question_id":71077221,"body_markdown":"The maximum java heap size is set with `-Xmx`. In your question you set it twice to 2GB and 1.5GB &lt; 2GB. The JVM behaves as told.","title":"Why I cannot set my java program with expected memory size?","body":"<p>The maximum java heap size is set with <code>-Xmx</code>. In your question you set it twice to 2GB and 1.5GB &lt; 2GB. The JVM behaves as told.</p>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654497324,"creation_date":1654497324,"answer_id":72513892,"question_id":71077221,"body_markdown":"Java heap memory and stack memory are **virtual memory**.  \r\nVIRT is the virtual memory space: the sum of everything in the virtual memory map.  \r\nRES is the resident set size: the number of pages that are currently resident in RAM.  \r\nIn short, parameters above just affects the virtual memory.\r\n","title":"Why I cannot set my java program with expected memory size?","body":"<p>Java heap memory and stack memory are <strong>virtual memory</strong>.<br />\nVIRT is the virtual memory space: the sum of everything in the virtual memory map.<br />\nRES is the resident set size: the number of pages that are currently resident in RAM.<br />\nIn short, parameters above just affects the virtual memory.</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72513892,"answer_count":2,"score":0,"last_activity_date":1654497324,"creation_date":1644568921,"question_id":71077221,"body_markdown":"I limit my java program with `-Xmx2g -Xmn1280m -Xms2g -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=152m -XX:SurvivorRatio=8 -XX:+UseConcMarkSweepGC`.  \r\nAnd then, I use top to show memory uesage, which shows:\r\n```\r\nTasks: 139 total,   1 running, 138 sleeping,   0 stopped,   0 zombie\r\n%Cpu(s):  0.5 us,  0.9 sy,  0.2 ni, 98.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\r\nKiB Mem :  7896536 total,  2724188 free,  1870168 used,  3302180 buff/cache\r\nKiB Swap:        0 total,        0 free,        0 used.  5756128 avail Mem \r\n\r\n   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                  \r\n 69518 service   20   0 4089960   1.5g  16916 S   1.3 19.3   3:03.27 java      \r\n```\r\nThe real memory uesage is 1.5g.  \r\nBut I have already set the jvm heap size.   \r\nWhy this happened?\r\nThank you very much.","title":"Why I cannot set my java program with expected memory size?","body":"<p>I limit my java program with <code>-Xmx2g -Xmn1280m -Xms2g -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=152m -XX:SurvivorRatio=8 -XX:+UseConcMarkSweepGC</code>.<br />\nAnd then, I use top to show memory uesage, which shows:</p>\n<pre><code>Tasks: 139 total,   1 running, 138 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  0.5 us,  0.9 sy,  0.2 ni, 98.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem :  7896536 total,  2724188 free,  1870168 used,  3302180 buff/cache\nKiB Swap:        0 total,        0 free,        0 used.  5756128 avail Mem \n\n   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                  \n 69518 service   20   0 4089960   1.5g  16916 S   1.3 19.3   3:03.27 java      \n</code></pre>\n<p>The real memory uesage is 1.5g.<br />\nBut I have already set the jvm heap size.<br />\nWhy this happened?\nThank you very much.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654467919,"post_id":72508564,"comment_id":128092326,"body_markdown":"So what is wrong with the code you have? What happens when you run it? What did you expect to happen instead? Any errors? See [ask].","body":"So what is wrong with the code you have? What happens when you run it? What did you expect to happen instead? Any errors? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654496695,"creation_date":1654496695,"answer_id":72513807,"question_id":72508564,"body_markdown":"You can use whatever List mechanism you like since it just needs to store the strings. A List Interface would be good, for example: `List&lt;String&gt; list = new ArrayList&lt;&gt;();` and store all the strings in the list. It&#39;s your parsing code that retrieves the sub-strings you need. Here is an example - Be sure to read all the comments and if you like, delete those comments from within the method code because it makes the method look huge:\r\n\r\n    /**\r\n     * This method will return a String[] Array containing substring content \r\n     * related to the supplied Search String. What is returned are string \r\n     * elements which consist of the Search String plus the related substring \r\n     * content after the Search String.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * This method is designed to work against a List Interface of Strings.&lt;br&gt;\r\n     * \r\n     * @param list (List Interface of String - {@code List&lt;String&gt;}) The List of \r\n     * strings to process and locate the supplied Search String criteria in. If \r\n     * a List element string is null or empty then that List element is ignored. \r\n     * If the List is empty then this method will merely return a zero length \r\n     * String[] Array.&lt;br&gt;\r\n     * \r\n     * @param searchString (String) The string to search for and retrieve substring \r\n     * content of. Null, a Null String (&quot;&quot;), a period (.), an exclamation mark (!), \r\n     * or a question mark (?) &lt;u&gt;can not&lt;/u&gt; be supplied here either alone or within \r\n     * the Search String criteria. Doing so will generate an &lt;b&gt;IllegalArgumentException&lt;/b&gt;. \r\n     * A Single word or multiple words separated with whitespaces can be supplied.&lt;br&gt;\r\n     * \r\n     * @param endContentOnSentenceEnd (Optional - boolean varArgs - Default is true) \r\n     * By default this method will only retrieve found Search String substring \r\n     * content up to the end of a sentence which is implied by either a period (.), \r\n     * an exclamation mark (!), or a question mark (?). Now you know why you can&#39;t \r\n     * have these characters within a Search String. If you just want to return the \r\n     * found Search String substring content up to the end of the string being \r\n     * processed then supply boolean false to this optional parameter. Supplying \r\n     * nothing implies the default boolean true.&lt;br&gt;\r\n     * \r\n     * @return (String[] Array) A String[] Array containing all the found substring \r\n     * content.\r\n     */\r\n    public static String[] searchForSubstringContent(final List&lt;String&gt; list, final String searchString,\r\n                                                     final boolean... endContentOnSentenceEnd) {\r\n        /* Make sure the supplied List actually contains something.\r\n           If not then just return a zero length String[] Array. */\r\n        if (list.isEmpty()) { return new String[0]; }\r\n        \r\n        // Make sure the Search String is valid\r\n        if (searchString == null || searchString.isEmpty() || \r\n                    searchString.replaceAll(&quot;[^.!?]&quot;, &quot;&quot;).length() &gt; 0) {\r\n            String ls = System.lineSeparator();\r\n            throw new IllegalArgumentException(ls + ls \r\n                    + &quot;searchForSubstringContent() Method Error!&quot; + ls \r\n                    + &quot;Invalid Search Criteria Supplied! (\\&quot;&quot; + searchString + &quot;\\&quot;)&quot; \r\n                    + ls + &quot;Read Method JavaDoc.&quot; + ls);\r\n        }\r\n        \r\n        /* A boolean flag to determinie if we should retrieve found Search\r\n           String substring content only up to an End-Off-Sentence character \r\n           (. ! or ?) or to the end of String. Default true, to sentence end, \r\n           false to end of string.        */\r\n        boolean getToSentenceEndCharacter = true;   // Default\r\n        \r\n        /* See if the optional varArg parameter name endContentOnSentenceEnd\r\n           actually contains something, you know, like a boolean value. If so \r\n           the set the getToSentenceEndCharacter variable to that boolean value. */\r\n        if (endContentOnSentenceEnd.length &gt; 0) {\r\n            getToSentenceEndCharacter = endContentOnSentenceEnd[0];\r\n        }\r\n        \r\n        /* Used to acquire an End Index. A regular expression \r\n           used to get the index of the start of another search \r\n           string (letter case ignored) or a sentence-end \r\n           (&#39;.&#39;, &#39;!&#39;, or &#39;?&#39;) character.  */\r\n        //String regexPattern = &quot;(?i)( &quot; + searchString + &quot; )|[.!?]&quot;;\r\n        String regexPattern = &quot;(?i) &quot; + searchString + &quot; |[.!?]&quot;;\r\n\r\n        // A List to hold all the found substrings.\r\n        List&lt;String&gt; foundSubstrings = new ArrayList&lt;&gt;();\r\n\r\n        /* Parse the supplied List of Strings for the specified \r\n           Search String so to acquire the substring content. */\r\n        for (String str : list) {\r\n            if (str == null || str.isEmpty()) { continue; }\r\n            // If getToSentenceEndCharacter is true...\r\n            if (getToSentenceEndCharacter) {\r\n                /* Keep processing the current string until all \r\n               the Search Strings (if any) have been retieved.  */\r\n                while (str.toLowerCase().contains(searchString.toLowerCase())) {\r\n                    // Get Start Index of the found Search String\r\n                    int startIndex = str.toLowerCase().indexOf(searchString.toLowerCase());\r\n                    /* Get end index (up to a sentence end puctuation).\r\n                       This is where the regular expression above is used. */\r\n                    java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regexPattern);\r\n                    java.util.regex.Matcher matcher = pattern.matcher(str);\r\n                    int endIndex = str.length();\r\n                    if (matcher.find()) {\r\n                        endIndex = matcher.start() + 1;\r\n                        // Make sure the endIndex is valid.\r\n                        if (endIndex &lt; startIndex) {\r\n                            endIndex += startIndex;\r\n                            if (endIndex &gt; str.length()) {\r\n                                endIndex = str.length();\r\n                            }\r\n                        }\r\n                    }\r\n                    /* Extract the found substring. Ternary operator is used here to\r\n                       deterine which version of substring() method we need to use. \r\n                       If the endIndex is an unsigned value then we use the two argument\r\n                       varsion. If the endInex value is a signed value the we use the \r\n                       single argument version.                                */\r\n                    String found = (endIndex &gt; 0 ? str.substring(startIndex, endIndex).trim() : str.substring(startIndex).trim());\r\n                    /* If &#39;found&#39; actually contains something then add it \r\n                       to the foundSubstrings List.                */\r\n                    if (!found.isEmpty()) {\r\n                        foundSubstrings.add(found.trim());\r\n                    }\r\n                    /* Modify the current Listed string by removing the \r\n                       found search String section then allowing to loop \r\n                       again to see if there is yet another search string\r\n                       eithin the remaining portion of the current string. */\r\n                    str = str.substring(endIndex);\r\n                }\r\n            }\r\n            // Otherwise, get to end of entire String.\r\n            else if (str.toLowerCase().contains(searchString.toLowerCase())) {\r\n                foundSubstrings.add(str.substring(str.toLowerCase().indexOf(searchString.toLowerCase())));\r\n            }\r\n            /* Otherwise process next string in List because the\r\n               seach string could not be found in the current one.  */\r\n        }\r\n\r\n        // Convert List&lt;String&gt; to String[] Array and return.\r\n        return foundSubstrings.toArray(new String[foundSubstrings.size()]);\r\n    }                     \r\n\r\nTo use this method you might have something like this:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(\r\n            &quot;You are the greatest&quot;,\r\n            &quot;You are a nice Grandpa&quot;,\r\n            &quot;This string contains no search string criteria.&quot;,\r\n            &quot;Y&#39;all is good but you are still the best! Keep on goin cuz you &quot;\r\n                    + &quot;are doin fantastic. A long string so keep on going &quot;\r\n                    + &quot;till the end. You are going to be surprised, maybe.&quot;,\r\n           &quot;Whoever said you are sad would never realy know YOU ARE not sad.&quot;);\r\n\r\n    // Get substring content attached to the Search String...\r\n    String[] found = searchForSubstringContent(list, &quot;you are&quot;);\r\n\r\n    // Display results from returned Array...\r\n    for (String str : found) {\r\n        System.out.println(str);\r\n    }\r\n\r\nThe Console window should display:\r\n\r\n```\r\nYou are the greatest\r\nYou are a nice Grandpa\r\nyou are still the best!\r\nyou are doin fantastic.\r\nYou are going to be surprised, maybe.\r\nyou are sad would never realy know\r\nYOU ARE not sad.\r\n```","title":"what kind of list can used to find the string element containing the substring I need","body":"<p>You can use whatever List mechanism you like since it just needs to store the strings. A List Interface would be good, for example: <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code> and store all the strings in the list. It's your parsing code that retrieves the sub-strings you need. Here is an example - Be sure to read all the comments and if you like, delete those comments from within the method code because it makes the method look huge:</p>\n<pre><code>/**\n * This method will return a String[] Array containing substring content \n * related to the supplied Search String. What is returned are string \n * elements which consist of the Search String plus the related substring \n * content after the Search String.&lt;br&gt;&lt;br&gt;\n * \n * This method is designed to work against a List Interface of Strings.&lt;br&gt;\n * \n * @param list (List Interface of String - {@code List&lt;String&gt;}) The List of \n * strings to process and locate the supplied Search String criteria in. If \n * a List element string is null or empty then that List element is ignored. \n * If the List is empty then this method will merely return a zero length \n * String[] Array.&lt;br&gt;\n * \n * @param searchString (String) The string to search for and retrieve substring \n * content of. Null, a Null String (&quot;&quot;), a period (.), an exclamation mark (!), \n * or a question mark (?) &lt;u&gt;can not&lt;/u&gt; be supplied here either alone or within \n * the Search String criteria. Doing so will generate an &lt;b&gt;IllegalArgumentException&lt;/b&gt;. \n * A Single word or multiple words separated with whitespaces can be supplied.&lt;br&gt;\n * \n * @param endContentOnSentenceEnd (Optional - boolean varArgs - Default is true) \n * By default this method will only retrieve found Search String substring \n * content up to the end of a sentence which is implied by either a period (.), \n * an exclamation mark (!), or a question mark (?). Now you know why you can't \n * have these characters within a Search String. If you just want to return the \n * found Search String substring content up to the end of the string being \n * processed then supply boolean false to this optional parameter. Supplying \n * nothing implies the default boolean true.&lt;br&gt;\n * \n * @return (String[] Array) A String[] Array containing all the found substring \n * content.\n */\npublic static String[] searchForSubstringContent(final List&lt;String&gt; list, final String searchString,\n                                                 final boolean... endContentOnSentenceEnd) {\n    /* Make sure the supplied List actually contains something.\n       If not then just return a zero length String[] Array. */\n    if (list.isEmpty()) { return new String[0]; }\n    \n    // Make sure the Search String is valid\n    if (searchString == null || searchString.isEmpty() || \n                searchString.replaceAll(&quot;[^.!?]&quot;, &quot;&quot;).length() &gt; 0) {\n        String ls = System.lineSeparator();\n        throw new IllegalArgumentException(ls + ls \n                + &quot;searchForSubstringContent() Method Error!&quot; + ls \n                + &quot;Invalid Search Criteria Supplied! (\\&quot;&quot; + searchString + &quot;\\&quot;)&quot; \n                + ls + &quot;Read Method JavaDoc.&quot; + ls);\n    }\n    \n    /* A boolean flag to determinie if we should retrieve found Search\n       String substring content only up to an End-Off-Sentence character \n       (. ! or ?) or to the end of String. Default true, to sentence end, \n       false to end of string.        */\n    boolean getToSentenceEndCharacter = true;   // Default\n    \n    /* See if the optional varArg parameter name endContentOnSentenceEnd\n       actually contains something, you know, like a boolean value. If so \n       the set the getToSentenceEndCharacter variable to that boolean value. */\n    if (endContentOnSentenceEnd.length &gt; 0) {\n        getToSentenceEndCharacter = endContentOnSentenceEnd[0];\n    }\n    \n    /* Used to acquire an End Index. A regular expression \n       used to get the index of the start of another search \n       string (letter case ignored) or a sentence-end \n       ('.', '!', or '?') character.  */\n    //String regexPattern = &quot;(?i)( &quot; + searchString + &quot; )|[.!?]&quot;;\n    String regexPattern = &quot;(?i) &quot; + searchString + &quot; |[.!?]&quot;;\n\n    // A List to hold all the found substrings.\n    List&lt;String&gt; foundSubstrings = new ArrayList&lt;&gt;();\n\n    /* Parse the supplied List of Strings for the specified \n       Search String so to acquire the substring content. */\n    for (String str : list) {\n        if (str == null || str.isEmpty()) { continue; }\n        // If getToSentenceEndCharacter is true...\n        if (getToSentenceEndCharacter) {\n            /* Keep processing the current string until all \n           the Search Strings (if any) have been retieved.  */\n            while (str.toLowerCase().contains(searchString.toLowerCase())) {\n                // Get Start Index of the found Search String\n                int startIndex = str.toLowerCase().indexOf(searchString.toLowerCase());\n                /* Get end index (up to a sentence end puctuation).\n                   This is where the regular expression above is used. */\n                java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regexPattern);\n                java.util.regex.Matcher matcher = pattern.matcher(str);\n                int endIndex = str.length();\n                if (matcher.find()) {\n                    endIndex = matcher.start() + 1;\n                    // Make sure the endIndex is valid.\n                    if (endIndex &lt; startIndex) {\n                        endIndex += startIndex;\n                        if (endIndex &gt; str.length()) {\n                            endIndex = str.length();\n                        }\n                    }\n                }\n                /* Extract the found substring. Ternary operator is used here to\n                   deterine which version of substring() method we need to use. \n                   If the endIndex is an unsigned value then we use the two argument\n                   varsion. If the endInex value is a signed value the we use the \n                   single argument version.                                */\n                String found = (endIndex &gt; 0 ? str.substring(startIndex, endIndex).trim() : str.substring(startIndex).trim());\n                /* If 'found' actually contains something then add it \n                   to the foundSubstrings List.                */\n                if (!found.isEmpty()) {\n                    foundSubstrings.add(found.trim());\n                }\n                /* Modify the current Listed string by removing the \n                   found search String section then allowing to loop \n                   again to see if there is yet another search string\n                   eithin the remaining portion of the current string. */\n                str = str.substring(endIndex);\n            }\n        }\n        // Otherwise, get to end of entire String.\n        else if (str.toLowerCase().contains(searchString.toLowerCase())) {\n            foundSubstrings.add(str.substring(str.toLowerCase().indexOf(searchString.toLowerCase())));\n        }\n        /* Otherwise process next string in List because the\n           seach string could not be found in the current one.  */\n    }\n\n    // Convert List&lt;String&gt; to String[] Array and return.\n    return foundSubstrings.toArray(new String[foundSubstrings.size()]);\n}                     \n</code></pre>\n<p>To use this method you might have something like this:</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(\n        &quot;You are the greatest&quot;,\n        &quot;You are a nice Grandpa&quot;,\n        &quot;This string contains no search string criteria.&quot;,\n        &quot;Y'all is good but you are still the best! Keep on goin cuz you &quot;\n                + &quot;are doin fantastic. A long string so keep on going &quot;\n                + &quot;till the end. You are going to be surprised, maybe.&quot;,\n       &quot;Whoever said you are sad would never realy know YOU ARE not sad.&quot;);\n\n// Get substring content attached to the Search String...\nString[] found = searchForSubstringContent(list, &quot;you are&quot;);\n\n// Display results from returned Array...\nfor (String str : found) {\n    System.out.println(str);\n}\n</code></pre>\n<p>The Console window should display:</p>\n<pre><code>You are the greatest\nYou are a nice Grandpa\nyou are still the best!\nyou are doin fantastic.\nYou are going to be surprised, maybe.\nyou are sad would never realy know\nYOU ARE not sad.\n</code></pre>\n"}],"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654496695,"creation_date":1654442094,"question_id":72508564,"body_markdown":"what kind of list can used to find the string element containing the substring I need,\r\nI&#39;m aiming to find all the possible strings that came ofter substring,\r\nIf I give the program a corps and split it into trigram and bigram model\r\n\r\n**example:**\r\nif I need &quot;you are&quot;\r\ngive me from the list a&quot;you are good&quot;, &quot;you are a&quot;, &quot;you are kind&quot;,&quot; you are special&quot;\r\nfrom the text where I split.\r\n\r\nthis haw I save the list.\r\n\r\nwords[i] is an array of String (word).\r\n\r\n    \t\t\t  \r\n\t\r\n    HashMap&lt;String,uni&gt; hash1=new HashMap&lt;String,uni&gt;();\r\n\tHashMap&lt;String,bi&gt; hash2=new HashMap&lt;String,bi&gt;();\r\n\tHashMap&lt;String,tri&gt; hash3=new HashMap&lt;String,tri&gt;();\r\n\r\n             for(int i=0;i&lt;words.length;i++) {\r\n\t\t\t\t  if( hash1.get(words[i])!=null) {\r\n\t\t\t\t\t  hash1.get(words[i]).setCount(hash1.get(words[i]).getCount()+1);\r\n\t\t\t\t  }\r\n\t\t\t\t\t  else if(hash1.get(words[i])==null) {\r\n\t\t\t\t\t\t  hash1.put(words[i], new uni(1,words[i]));\r\n\t\t\t\t\t  }\r\n\t\t\t  }\r\n\t\t\t  for(int i=0;i&lt;words.length-1;i++) {\r\n\t\t\t\t  if( hash2.get(words[i]+words[i+1])!=null) {\r\n\t\t\t\t\t  hash2.get(words[i]+words[i+1]).setCount(hash2.get(words[i]+words[i+1]).getCount()+1);\r\n\t\t\t\t  }\r\n\t\t\t\t\t  else if(hash2.get(words[i]+words[i+1])==null) {\r\n\t\t\t\t\t\t  hash2.put(words[i]+words[i+1], new bi(1,words[i]));\r\n\t\t\t\t\t  }\r\n\t\t\t\t  \r\n\t\t\t  }\r\n\t\t\t  for(int i=0;i&lt;words.length-2;i++) {\r\n\t\t\t\t  if( hash3.get(words[i]+words[i+1]+words[i+2])!=null) {\r\n\t\t\t\t\t  hash3.get(words[i]+words[i+1]+words[i+2]).setCount(hash3.get(words[i]+words[i+1]+words[i+2]).getCount()+1);\r\n\t\t\t\t  }\r\n\t\t\t\t\t  else if(hash3.get(words[i]+words[i+1]+words[i+2])==null) {\r\n\t\t\t\t\t\t  hash3.put((words[i]+words[i+1]+words[i+2]), new tri(1,(words[i]+words[i+1]+words[i+2])));\r\n\t\t\t\t\t  }\r\n\t\t\t  }\r\n\r\ndoes hash map help with these or totally wrong","title":"what kind of list can used to find the string element containing the substring I need","body":"<p>what kind of list can used to find the string element containing the substring I need,\nI'm aiming to find all the possible strings that came ofter substring,\nIf I give the program a corps and split it into trigram and bigram model</p>\n<p><strong>example:</strong>\nif I need &quot;you are&quot;\ngive me from the list a&quot;you are good&quot;, &quot;you are a&quot;, &quot;you are kind&quot;,&quot; you are special&quot;\nfrom the text where I split.</p>\n<p>this haw I save the list.</p>\n<p>words[i] is an array of String (word).</p>\n<pre><code>HashMap&lt;String,uni&gt; hash1=new HashMap&lt;String,uni&gt;();\nHashMap&lt;String,bi&gt; hash2=new HashMap&lt;String,bi&gt;();\nHashMap&lt;String,tri&gt; hash3=new HashMap&lt;String,tri&gt;();\n\n         for(int i=0;i&lt;words.length;i++) {\n              if( hash1.get(words[i])!=null) {\n                  hash1.get(words[i]).setCount(hash1.get(words[i]).getCount()+1);\n              }\n                  else if(hash1.get(words[i])==null) {\n                      hash1.put(words[i], new uni(1,words[i]));\n                  }\n          }\n          for(int i=0;i&lt;words.length-1;i++) {\n              if( hash2.get(words[i]+words[i+1])!=null) {\n                  hash2.get(words[i]+words[i+1]).setCount(hash2.get(words[i]+words[i+1]).getCount()+1);\n              }\n                  else if(hash2.get(words[i]+words[i+1])==null) {\n                      hash2.put(words[i]+words[i+1], new bi(1,words[i]));\n                  }\n              \n          }\n          for(int i=0;i&lt;words.length-2;i++) {\n              if( hash3.get(words[i]+words[i+1]+words[i+2])!=null) {\n                  hash3.get(words[i]+words[i+1]+words[i+2]).setCount(hash3.get(words[i]+words[i+1]+words[i+2]).getCount()+1);\n              }\n                  else if(hash3.get(words[i]+words[i+1]+words[i+2])==null) {\n                      hash3.put((words[i]+words[i+1]+words[i+2]), new tri(1,(words[i]+words[i+1]+words[i+2])));\n                  }\n          }\n</code></pre>\n<p>does hash map help with these or totally wrong</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1654469499,"post_id":72511517,"comment_id":128092527,"body_markdown":"You haven&#39;t shown enough code to know for sure but it could be an implementation of `javax.swing.table.DefaultTableCellRenderer` or an extension of something that implements it.","body":"You haven&#39;t shown enough code to know for sure but it could be an implementation of <code>javax.swing.table.DefaultTableCellRenderer</code> or an extension of something that implements it."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654469956,"post_id":72511517,"comment_id":128092600,"body_markdown":"This could be a scaling issue.  What DPI is your OS using?","body":"This could be a scaling issue.  What DPI is your OS using?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654470338,"post_id":72511517,"comment_id":128092657,"body_markdown":"`scrollPane.setPreferredSize` is a bad idea.  If you really want to control this, explore the `Scrollable` `interface`, which `JTable` implements","body":"<code>scrollPane.setPreferredSize</code> is a bad idea.  If you really want to control this, explore the <code>Scrollable</code> <code>interface</code>, which <code>JTable</code> implements"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1654675890,"post_id":72511517,"comment_id":128144777,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."}],"owner":{"account_id":17301195,"reputation":81,"user_id":12530889,"display_name":"Henrick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654496252,"creation_date":1654468060,"question_id":72511517,"body_markdown":"I want my table to have the same line width but every 4th rows, there is a thick line between two rows. For example between row number 4 and 5. How can I remove that? Also there is a thick vertical line next to the third column. I want to remove that too.\r\nThanks.\r\n\r\n[![Table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHQiZ.jpg\r\n\r\n```java\r\nJTable table = new JTable(data, AuctionRequestData.getColumnNames());\r\ntable.setRowHeight(25);\r\n\r\nTableColumnModel columnModel = table.getColumnModel();\r\ncolumnModel.getColumn(0).setPreferredWidth(60);\r\ncolumnModel.getColumn(1).setPreferredWidth(150);\r\ncolumnModel.getColumn(2).setPreferredWidth(120);\r\nJScrollPane scrollPane = new JScrollPane(table);\r\ntable.setDefaultEditor(Object.class, null);\r\ntable.getTableHeader().setReorderingAllowed(false);\r\n\r\nif (data.length &lt;= 13) {\r\n    scrollPane.setPreferredSize(new Dimension(scrollPane.getPreferredSize().width, data.length*25+23));\r\n} else {\r\n    scrollPane.setPreferredSize(new Dimension(scrollPane.getPreferredSize().width, 348));\r\n}\r\n```","title":"Remove table separator in JTable","body":"<p>I want my table to have the same line width but every 4th rows, there is a thick line between two rows. For example between row number 4 and 5. How can I remove that? Also there is a thick vertical line next to the third column. I want to remove that too.\nThanks.</p>\n<p><a href=\"https://i.stack.imgur.com/CHQiZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHQiZ.jpg\" alt=\"Table\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>JTable table = new JTable(data, AuctionRequestData.getColumnNames());\ntable.setRowHeight(25);\n\nTableColumnModel columnModel = table.getColumnModel();\ncolumnModel.getColumn(0).setPreferredWidth(60);\ncolumnModel.getColumn(1).setPreferredWidth(150);\ncolumnModel.getColumn(2).setPreferredWidth(120);\nJScrollPane scrollPane = new JScrollPane(table);\ntable.setDefaultEditor(Object.class, null);\ntable.getTableHeader().setReorderingAllowed(false);\n\nif (data.length &lt;= 13) {\n    scrollPane.setPreferredSize(new Dimension(scrollPane.getPreferredSize().width, data.length*25+23));\n} else {\n    scrollPane.setPreferredSize(new Dimension(scrollPane.getPreferredSize().width, 348));\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654496148,"creation_date":1654496148,"answer_id":72513739,"question_id":69130039,"body_markdown":"I got this error while trying to upgrade java 8 -&gt; 17\r\n\r\nI fixed it by updating mockito 1 -&gt; 3","title":"NoClassDefFoundError received when testing with Mockito","body":"<p>I got this error while trying to upgrade java 8 -&gt; 17</p>\n<p>I fixed it by updating mockito 1 -&gt; 3</p>\n"}],"owner":{"account_id":22711273,"reputation":21,"user_id":16877196,"display_name":"Souradeep Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654496148,"creation_date":1631265638,"question_id":69130039,"body_markdown":"I have a test class:\r\n```\r\npackage com.souradeep.mockito.scrapbook;\r\n\r\nimport static org.junit.Assert.*;\r\nimport static org.mockito.Mockito.*;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\npublic class ATest {\r\n\r\n    @Mock\r\n    B b;\r\n    private A a;\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n        a = new A(b);\r\n    }\r\n\r\n    @Test\r\n    public void usesVoidMethod_Should_Call_Void_Method() throws Exception {\r\n        doNothing().when(b).voidMethod();\r\n        assertEquals(1, a.usesVoidMethod());\r\n        verify(b).voidMethod();\r\n    }\r\n\r\n    @Test(expected = RuntimeException.class)\r\n    public void usesVoidMethod_Should_Throw_Runtime_Exception() throws Exception {\r\n        doThrow(Exception.class).when(b).voidMethod();\r\n        a.usesVoidMethod();\r\n    }\r\n\r\n    @Test(expected = RuntimeException.class)\r\n    public void testConsecutiveCalls() throws Exception {\r\n        doNothing().doThrow(Exception.class).when(b).voidMethod();\r\n        a.usesVoidMethod();\r\n        verify(b).voidMethod();\r\n        a.usesVoidMethod();\r\n    }\r\n}\r\n```\r\nHere I am mocking class B (please see code below)\r\n```\r\npackage com.souradeep.mockito.scrapbook;\r\n\r\npublic class B {\r\n    public void voidMethod() throws Exception {\r\n        \r\n    }\r\n}\r\n```\r\nI am implementing class A (Please see code below)\r\n```\r\npackage com.souradeep.mockito.scrapbook;\r\n\r\npublic class A {\r\n    private B b;\r\n\r\n    public A(B b) {\r\n        this.b = b;\r\n    }\r\n\r\n    public int usesVoidMethod() {\r\n        try {\r\n            b.voidMethod();\r\n        } catch (Exception e) {\r\n            new RuntimeException(e);\r\n\t    }\r\n        return 1;\r\n    }\r\n}\r\n```\r\nWhen trying to run JUnit test I get this error:\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class org.mockito.internal.creation.jmock.ClassImposterizer$3\r\nat org.mockito.internal.creation.jmock.ClassImposterizer.createProxyClass(ClassImposterizer.java:85)\r\nat org.mockito.internal.creation.jmock.ClassImposterizer.imposterise(ClassImposterizer.java:62)\r\nat org.mockito.internal.creation.jmock.ClassImposterizer.imposterise(ClassImposterizer.java:56)\r\nat org.mockito.internal.creation.CglibMockMaker.createMock(CglibMockMaker.java:23)\r\nat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:26)\r\nat org.mockito.internal.MockitoCore.mock(MockitoCore.java:51)\r\nat org.mockito.Mockito.mock(Mockito.java:1243)\r\nat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:30)\r\nat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\nat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\r\nat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\r\nat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\r\nat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\r\nat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\r\nat com.souradeep.mockito.scrapbook.ATest.setup(ATest.java:19)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\nat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\nThe error is coming at the line \r\n\r\n    MockitoAnnotations.initMocks(this);\r\n\r\nPlease assist as to what could be the reason for this.\r\n","title":"NoClassDefFoundError received when testing with Mockito","body":"<p>I have a test class:</p>\n<pre><code>package com.souradeep.mockito.scrapbook;\n\nimport static org.junit.Assert.*;\nimport static org.mockito.Mockito.*;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\npublic class ATest {\n\n    @Mock\n    B b;\n    private A a;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n        a = new A(b);\n    }\n\n    @Test\n    public void usesVoidMethod_Should_Call_Void_Method() throws Exception {\n        doNothing().when(b).voidMethod();\n        assertEquals(1, a.usesVoidMethod());\n        verify(b).voidMethod();\n    }\n\n    @Test(expected = RuntimeException.class)\n    public void usesVoidMethod_Should_Throw_Runtime_Exception() throws Exception {\n        doThrow(Exception.class).when(b).voidMethod();\n        a.usesVoidMethod();\n    }\n\n    @Test(expected = RuntimeException.class)\n    public void testConsecutiveCalls() throws Exception {\n        doNothing().doThrow(Exception.class).when(b).voidMethod();\n        a.usesVoidMethod();\n        verify(b).voidMethod();\n        a.usesVoidMethod();\n    }\n}\n</code></pre>\n<p>Here I am mocking class B (please see code below)</p>\n<pre><code>package com.souradeep.mockito.scrapbook;\n\npublic class B {\n    public void voidMethod() throws Exception {\n        \n    }\n}\n</code></pre>\n<p>I am implementing class A (Please see code below)</p>\n<pre><code>package com.souradeep.mockito.scrapbook;\n\npublic class A {\n    private B b;\n\n    public A(B b) {\n        this.b = b;\n    }\n\n    public int usesVoidMethod() {\n        try {\n            b.voidMethod();\n        } catch (Exception e) {\n            new RuntimeException(e);\n        }\n        return 1;\n    }\n}\n</code></pre>\n<p>When trying to run JUnit test I get this error:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.mockito.internal.creation.jmock.ClassImposterizer$3\nat org.mockito.internal.creation.jmock.ClassImposterizer.createProxyClass(ClassImposterizer.java:85)\nat org.mockito.internal.creation.jmock.ClassImposterizer.imposterise(ClassImposterizer.java:62)\nat org.mockito.internal.creation.jmock.ClassImposterizer.imposterise(ClassImposterizer.java:56)\nat org.mockito.internal.creation.CglibMockMaker.createMock(CglibMockMaker.java:23)\nat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:26)\nat org.mockito.internal.MockitoCore.mock(MockitoCore.java:51)\nat org.mockito.Mockito.mock(Mockito.java:1243)\nat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:30)\nat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\nat org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\nat org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\nat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\nat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\nat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\nat com.souradeep.mockito.scrapbook.ATest.setup(ATest.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>The error is coming at the line</p>\n<pre><code>MockitoAnnotations.initMocks(this);\n</code></pre>\n<p>Please assist as to what could be the reason for this.</p>\n"},{"tags":["java","spring","spring-boot","kubernetes","quartz-scheduler"],"comments":[{"owner":{"account_id":1592797,"reputation":313,"user_id":1475753,"display_name":"MathGuy"},"score":0,"creation_date":1598449088,"post_id":58528489,"comment_id":112462654,"body_markdown":"I have same problem did you figure out the solution?","body":"I have same problem did you figure out the solution?"},{"owner":{"account_id":12192251,"reputation":591,"user_id":8899288,"display_name":"Manasvi Batra"},"score":0,"creation_date":1598451902,"post_id":58528489,"comment_id":112464334,"body_markdown":"Hey, I am using the above mentioned strategy of creating uuid and saving only 1 uuid from a single pod in db(or redis) and adding a sleep time. After sleep time gets over, I match the uuids in each pod in the code and the next lines of code execute from the pod where the uuid matches the uuid fetched from db. This might not be the best approach, but it is working fine for me as these are cron jobs and a certain amount of latency is acceptable.","body":"Hey, I am using the above mentioned strategy of creating uuid and saving only 1 uuid from a single pod in db(or redis) and adding a sleep time. After sleep time gets over, I match the uuids in each pod in the code and the next lines of code execute from the pod where the uuid matches the uuid fetched from db. This might not be the best approach, but it is working fine for me as these are cron jobs and a certain amount of latency is acceptable."}],"answers":[{"tags":[],"owner":{"account_id":5657831,"reputation":709,"user_id":4476357,"display_name":"cperez08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571923443,"creation_date":1571923443,"answer_id":58542382,"question_id":58528489,"body_markdown":"Also, you can move the workload to an isolated process, this will be helpful and cleaner, check this out https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/ this will give you an idea. ","title":"Run Scheduled Cron method in Spring from single pod if multiple pods exist on Kubernetes","body":"<p>Also, you can move the workload to an isolated process, this will be helpful and cleaner, check this out <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/</a> this will give you an idea. </p>\n"},{"tags":[],"owner":{"account_id":7439335,"reputation":329,"user_id":5657590,"display_name":"Amanpreet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613025746,"creation_date":1613025746,"answer_id":66149918,"question_id":58528489,"body_markdown":"You can use a quartz scheduler with JDBC store. This will take care of your requirement automatically.\r\n\r\nIn short: &quot;Load-balancing occurs automatically, with each node of the cluster firing jobs as quickly as it can. When a trigger’s firing time occurs, the first node to acquire it (by placing a lock on it) is the node that will fire it.&quot;\r\n\r\nPlease refer to the official link for details- http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJDBCJobStoreClustering.html\r\n","title":"Run Scheduled Cron method in Spring from single pod if multiple pods exist on Kubernetes","body":"<p>You can use a quartz scheduler with JDBC store. This will take care of your requirement automatically.</p>\n<p>In short: &quot;Load-balancing occurs automatically, with each node of the cluster firing jobs as quickly as it can. When a trigger’s firing time occurs, the first node to acquire it (by placing a lock on it) is the node that will fire it.&quot;</p>\n<p>Please refer to the official link for details- <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJDBCJobStoreClustering.html\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigJDBCJobStoreClustering.html</a></p>\n"},{"tags":[],"owner":{"account_id":7620223,"reputation":213,"user_id":5778456,"display_name":"Shubham Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654495936,"creation_date":1654495936,"answer_id":72513703,"question_id":58528489,"body_markdown":"the better approach is to configure your application to have multiple Spring Profiles and use cron only on one profile. Follow this tutorial https://faun.pub/spring-scheduler-in-multi-node-environment-49814e031e7c","title":"Run Scheduled Cron method in Spring from single pod if multiple pods exist on Kubernetes","body":"<p>the better approach is to configure your application to have multiple Spring Profiles and use cron only on one profile. Follow this tutorial <a href=\"https://faun.pub/spring-scheduler-in-multi-node-environment-49814e031e7c\" rel=\"nofollow noreferrer\">https://faun.pub/spring-scheduler-in-multi-node-environment-49814e031e7c</a></p>\n"}],"owner":{"account_id":12192251,"reputation":591,"user_id":8899288,"display_name":"Manasvi Batra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6700,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1654495936,"creation_date":1571853202,"question_id":58528489,"body_markdown":"I am moving from single pod(docker image) to multiple pods for my Spring Application on Kubernetes for load handling. But I am facing an issue because I have a cron scheduler method in my application which runs daily at a particular time. If I deploy multiple pods, they all run simultaneously and as a result multiple entries get saved into my DB, but I want only a single pod to execute that function.\r\n\r\n\r\nI have thought of generating java uuid and saving it in the DB as the function starts execution on each pod. Then in the same function, putting a sleep timer of, let&#39;s say, 5 seconds and comparing the uuid from the DB in each pod. The pod which updated the value in the database latest will match that value and will execute the method ahead. \r\n\r\n\r\nIs this a good approach? If not, please give suggestions that can be done to solve this issue.","title":"Run Scheduled Cron method in Spring from single pod if multiple pods exist on Kubernetes","body":"<p>I am moving from single pod(docker image) to multiple pods for my Spring Application on Kubernetes for load handling. But I am facing an issue because I have a cron scheduler method in my application which runs daily at a particular time. If I deploy multiple pods, they all run simultaneously and as a result multiple entries get saved into my DB, but I want only a single pod to execute that function.</p>\n<p>I have thought of generating java uuid and saving it in the DB as the function starts execution on each pod. Then in the same function, putting a sleep timer of, let's say, 5 seconds and comparing the uuid from the DB in each pod. The pod which updated the value in the database latest will match that value and will execute the method ahead.</p>\n<p>Is this a good approach? If not, please give suggestions that can be done to solve this issue.</p>\n"},{"tags":["java","intellij-idea","plugins","uml","plantuml"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654484606,"post_id":72512554,"comment_id":128094445,"body_markdown":"Right click on the class -&gt; Diagrams -&gt; &quot;Show Diagram&quot; / &quot;Show local changes as UML&quot;","body":"Right click on the class -&gt; Diagrams -&gt; &quot;Show Diagram&quot; / &quot;Show local changes as UML&quot;"},{"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"score":0,"creation_date":1654484809,"post_id":72512554,"comment_id":128094465,"body_markdown":"Thats good thanks! But how can i view more than one class in the same diagram? I only managed to view one class at a time","body":"Thats good thanks! But how can i view more than one class in the same diagram? I only managed to view one class at a time"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":1,"creation_date":1654484889,"post_id":72512554,"comment_id":128094473,"body_markdown":"Try right clicking on the project and repeat the above steps","body":"Try right clicking on the project and repeat the above steps"},{"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"score":0,"creation_date":1654485145,"post_id":72512554,"comment_id":128094507,"body_markdown":"Thank you so much! That worked great! I&#39;d mark it as the correct answer but can&#39;t since it&#39;s a comment","body":"Thank you so much! That worked great! I&#39;d mark it as the correct answer but can&#39;t since it&#39;s a comment"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654485200,"post_id":72512554,"comment_id":128094514,"body_markdown":"Do you want me to add this as an Answer?","body":"Do you want me to add this as an Answer?"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1654495303,"post_id":72512554,"comment_id":128095864,"body_markdown":"@SivaRahul Just do that. Even if it&#39;s a trivial one, if that&#39;s the solution.","body":"@SivaRahul Just do that. Even if it&#39;s a trivial one, if that&#39;s the solution."}],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654495728,"creation_date":1654495728,"answer_id":72513678,"question_id":72512554,"body_markdown":"Right click on the project -&gt; Diagrams -&gt; Show Diagram... -&gt; Java classes Diagram","title":"How to autogenerate UML diagram for java in IntelliJ","body":"<p>Right click on the project -&gt; Diagrams -&gt; Show Diagram... -&gt; Java classes Diagram</p>\n"}],"owner":{"account_id":21957594,"reputation":93,"user_id":16235935,"display_name":"Ana Cruz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72513678,"answer_count":1,"score":2,"last_activity_date":1654495728,"creation_date":1654483700,"question_id":72512554,"body_markdown":"I created a medium-sized project in java using IntelliJ, and for my presentation, I need to have a UML diagram of the project structure. Since the project is not particularly small, I wanted to find a plugin that would draw the diagram for me. I&#39;ve tried installing PlantUML but the only option it provides is writing the whole diagram yourself.\r\nAny ideas or suggestions? Thank you in advance for any helpful input. ","title":"How to autogenerate UML diagram for java in IntelliJ","body":"<p>I created a medium-sized project in java using IntelliJ, and for my presentation, I need to have a UML diagram of the project structure. Since the project is not particularly small, I wanted to find a plugin that would draw the diagram for me. I've tried installing PlantUML but the only option it provides is writing the whole diagram yourself.\nAny ideas or suggestions? Thank you in advance for any helpful input.</p>\n"},{"tags":["java","android","reverse-engineering","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1654275980,"post_id":72421821,"comment_id":128060260,"body_markdown":"Faking a complete response is not that easy, first you have to look at the code that performs the requests and check what HTTP client is used, then get the HTTP clients documentation and understand how responses are created and then identify a method you can hook with frida.","body":"Faking a complete response is not that easy, first you have to look at the code that performs the requests and check what HTTP client is used, then get the HTTP clients documentation and understand how responses are created and then identify a method you can hook with frida."}],"answers":[{"tags":[],"owner":{"account_id":15658840,"reputation":236,"user_id":11298247,"display_name":"Fernando Urbano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654495036,"creation_date":1654495036,"answer_id":72513582,"question_id":72421821,"body_markdown":"The best way of doing that is redirecting the request to an address that  you control and then return there a user-controlled response. \r\n\r\nYou will then need to find which methods to instrument related to the HTTP request itself and return valid data to the app. ","title":"Fake HTTP response with Frida","body":"<p>The best way of doing that is redirecting the request to an address that  you control and then return there a user-controlled response.</p>\n<p>You will then need to find which methods to instrument related to the HTTP request itself and return valid data to the app.</p>\n"}],"owner":{"account_id":25399744,"reputation":1,"user_id":19209444,"display_name":"biwom80136"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1654495036,"creation_date":1653810280,"question_id":72421821,"body_markdown":"An Android application sends a request to &quot;https://google.com&quot;. How would i\r\nfake the HTTP response without an actual network request, using Frida?\r\nI am trying to teach myself reverse-engineering, but I can&#39;t figure out how to do this.","title":"Fake HTTP response with Frida","body":"<p>An Android application sends a request to &quot;https://google.com&quot;. How would i\nfake the HTTP response without an actual network request, using Frida?\nI am trying to teach myself reverse-engineering, but I can't figure out how to do this.</p>\n"},{"tags":["java","anylogic","agent"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1654496043,"post_id":72513565,"comment_id":128095997,"body_markdown":"what is Magazzini... 1 agent or a population? If it&#39;s a population, which agent in the population you want to access to? Is this an agent based model or are you using discrete event processes? Do you have a population of magazzini defined in main? A population of tir defined in main?","body":"what is Magazzini... 1 agent or a population? If it&#39;s a population, which agent in the population you want to access to? Is this an agent based model or are you using discrete event processes? Do you have a population of magazzini defined in main? A population of tir defined in main?"},{"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"score":0,"creation_date":1654518569,"post_id":72513565,"comment_id":128102253,"body_markdown":"@Felipe “magazzini” and “tir” are  both population agent. I need to access a variable (“disponibilita”) within “magazzini” from the agent “tir”.","body":"@Felipe “magazzini” and “tir” are  both population agent. I need to access a variable (“disponibilita”) within “magazzini” from the agent “tir”."}],"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654494900,"creation_date":1654494859,"question_id":72513565,"body_markdown":"I need to realize a function which I need to recall within my flowchart (pic below). Body function is reported in the pic, in which I need to recall a variable that is in &quot;magazzini&quot; agent. Body function is written in &quot;tir&quot; agent, so neither is in main. What am I wronging in this script? Thanks so much.[enter image description here][1][enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vFApy.png\r\n  [2]: https://i.stack.imgur.com/BMc68.png","title":"How can I recall a variable within an agent from another agent? (Anylogic)","body":"<p>I need to realize a function which I need to recall within my flowchart (pic below). Body function is reported in the pic, in which I need to recall a variable that is in &quot;magazzini&quot; agent. Body function is written in &quot;tir&quot; agent, so neither is in main. What am I wronging in this script? Thanks so much.<a href=\"https://i.stack.imgur.com/vFApy.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/BMc68.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1654494169,"post_id":72513467,"comment_id":128095679,"body_markdown":"change `&lt;=` to `&lt;`","body":"change <code>&lt;=</code> to <code>&lt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22199597,"reputation":16,"user_id":16440501,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654494814,"creation_date":1654494814,"answer_id":72513555,"question_id":72513467,"body_markdown":"Here if you have defined i&lt;=user.length that means i&lt;=5 since you array length is 5 but when you are indexing the array to print it can print between 0 to 4 indexes when it reaches index 5 there is no value in the array for index 5 hence it throws index out of bound error. try this code\r\n \r\n\r\n    public class Usernames {\r\n        public static void main(String[] args)\r\n        {\r\n            int user[] = { 1, 2, 3, 4, 5 };\r\n      \r\n            for (int i = 0; i &lt; user.length; i++)\r\n                System.out.println(user[i]);\r\n        }\r\n    }","title":"For a block of code to get usernames (sample given in body), I&#39;m getting an array index bound error","body":"<p>Here if you have defined i&lt;=user.length that means i&lt;=5 since you array length is 5 but when you are indexing the array to print it can print between 0 to 4 indexes when it reaches index 5 there is no value in the array for index 5 hence it throws index out of bound error. try this code</p>\n<pre><code>public class Usernames {\n    public static void main(String[] args)\n    {\n        int user[] = { 1, 2, 3, 4, 5 };\n  \n        for (int i = 0; i &lt; user.length; i++)\n            System.out.println(user[i]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25483359,"reputation":7,"user_id":19279271,"display_name":"Oblivious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1654506563,"accepted_answer_id":72513555,"answer_count":1,"score":-5,"last_activity_date":1654494814,"creation_date":1654494083,"question_id":72513467,"body_markdown":"This is an example block of code\r\n    \r\n\r\n\r\n    public class usernames {\r\n        public static void main(String[] args)\r\n        {\r\n            int user[] = { 1, 2, 3, 4, 5 };\r\n            for (int i = 0; i &lt;= user.length; i++)\r\n                System.out.println(user[i]);\r\n        }\r\n    }","title":"For a block of code to get usernames (sample given in body), I&#39;m getting an array index bound error","body":"<p>This is an example block of code</p>\n<pre><code>public class usernames {\n    public static void main(String[] args)\n    {\n        int user[] = { 1, 2, 3, 4, 5 };\n        for (int i = 0; i &lt;= user.length; i++)\n            System.out.println(user[i]);\n    }\n}\n</code></pre>\n"},{"tags":["java","ascii","caesar-cipher"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1654493412,"post_id":72513271,"comment_id":128095556,"body_markdown":"Is it an option to define an array with all the valid characters and work on the array instead?","body":"Is it an option to define an array with all the valid characters and work on the array instead?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1654494820,"post_id":72513271,"comment_id":128095784,"body_markdown":"I think you&#39;ve got too much code: For each char, 1) perform the shift using only lowercase (to lowercase). 2) If the original char is uppercase, make the result uppercase.","body":"I think you&#39;ve got too much code: For each char, 1) perform the shift using only lowercase (to lowercase). 2) If the original char is uppercase, make the result uppercase."}],"owner":{"account_id":24768436,"reputation":9,"user_id":18652191,"display_name":"Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654494635,"creation_date":1654491928,"question_id":72513271,"body_markdown":"I am trying to challenge the Caesar Cipher problem, but am stuck at one condition, the question not only move n element position but also keep loop internally in the ASCII range, so &#39;z&#39; will go to &#39;c&#39; not &#39;|&#39; if n=3.\r\nCould someone enlighten me how to get loop inside of Character.isLetter and Character.isLowerCase base on what I am doing now? hope I am on the track, and here is my code. Thank you\r\n\r\n``` \r\n public static String caesarCipher(String s, int k) {\r\n    if(k&gt;26){\r\n        k = k % 26;\r\n    }else if (k&lt;26){\r\n        k = (k % 26) + 26;\r\n    }\r\n    \r\n    String result = new String();\r\n    int length = s.length();\r\n    \r\n    for(int i=0; i&lt;length; i++){\r\n        char ch = s.charAt(i);\r\n        if(Character.isLetter(ch)){ // only for alphabet  \r\n            if(Character.isLowerCase(ch)){ // for lower case a-z\r\n                char cha = (char)(ch+k);\r\n                if(cha &gt; &#39;z&#39;){\r\n                    result += (char)(ch - (26 - k));\r\n                } else {\r\n                    result += cha;\r\n                }\r\n            } else if(Character.isUpperCase(ch)){ // for upper case a-z\r\n                char cha = (char)(ch+k);\r\n                if(cha &gt; &#39;Z&#39;){\r\n                    result += (char)(ch - (26 - k));\r\n                }else {\r\n                    result += cha;\r\n                }\r\n            }\r\n        } else {\r\n            result += ch;\r\n        }\r\n    }\r\n    return result;\r\n    }\r\n\r\n ```\r\n","title":"how to keep alphabet loop separately by lowecase and uppercase in Caesar Cipher?","body":"<p>I am trying to challenge the Caesar Cipher problem, but am stuck at one condition, the question not only move n element position but also keep loop internally in the ASCII range, so 'z' will go to 'c' not '|' if n=3.\nCould someone enlighten me how to get loop inside of Character.isLetter and Character.isLowerCase base on what I am doing now? hope I am on the track, and here is my code. Thank you</p>\n<pre><code> public static String caesarCipher(String s, int k) {\n    if(k&gt;26){\n        k = k % 26;\n    }else if (k&lt;26){\n        k = (k % 26) + 26;\n    }\n    \n    String result = new String();\n    int length = s.length();\n    \n    for(int i=0; i&lt;length; i++){\n        char ch = s.charAt(i);\n        if(Character.isLetter(ch)){ // only for alphabet  \n            if(Character.isLowerCase(ch)){ // for lower case a-z\n                char cha = (char)(ch+k);\n                if(cha &gt; 'z'){\n                    result += (char)(ch - (26 - k));\n                } else {\n                    result += cha;\n                }\n            } else if(Character.isUpperCase(ch)){ // for upper case a-z\n                char cha = (char)(ch+k);\n                if(cha &gt; 'Z'){\n                    result += (char)(ch - (26 - k));\n                }else {\n                    result += cha;\n                }\n            }\n        } else {\n            result += ch;\n        }\n    }\n    return result;\n    }\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654494600,"post_id":72512422,"comment_id":128095742,"body_markdown":"I would suggest reading [how to compare stings in java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java). Also don&#39;t put random tags on your question.","body":"I would suggest reading <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">how to compare stings in java</a>. Also don&#39;t put random tags on your question."}],"answers":[{"tags":[],"owner":{"account_id":23701935,"reputation":16,"user_id":17724990,"display_name":"Vinay Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654483087,"creation_date":1654483087,"answer_id":72512511,"question_id":72512422,"body_markdown":"In your both methods the return type is double \r\ni.e; `public double countDeposits()` &amp;`public double countWithdrawals()`\r\nbut you are not returning any double in the method which i assume to be  amtdeposits &amp; amtwithdraw.\r\n\r\ni&#39;m assuming you want to keep track of the total number of withdrawls and deposits,You can write the condition in your main method such that the countDeposits() and countWithdrawals() methods are called only when their condition is satisfied.Then in this case the correct code would be:\r\n\r\n    public double countDeposits(double amtdeposits) {\r\n    /*you need to keep track of deposits that&#39;s why you pass the amtdeposits to \r\n    the method*/\r\n\r\n    // you don&#39;t need this \r\n    //for (double deposit=0; deposit&gt;0;amtdeposits++) {}\r\n\r\n\r\n    System.out.println(amtdeposits++);\r\n    return amtdeposits;\r\n     }\r\n    \r\n    public double countWithdrawals(double amtwithdraw) {\r\n    if ( withdraw!=&quot;Withdraw Failed: Insufficient Amount&quot;) {\r\n    amtwithdraw=amtwithdraw++;\r\n    System.out.println(amtwithdraw);\r\n    return amtwithdraw;  //changes made here\r\n      }\r\n    }\r\n\r\n","title":"Incrementor for bank account deposits and successful withdraws","body":"<p>In your both methods the return type is double\ni.e; <code>public double countDeposits()</code> &amp;<code>public double countWithdrawals()</code>\nbut you are not returning any double in the method which i assume to be  amtdeposits &amp; amtwithdraw.</p>\n<p>i'm assuming you want to keep track of the total number of withdrawls and deposits,You can write the condition in your main method such that the countDeposits() and countWithdrawals() methods are called only when their condition is satisfied.Then in this case the correct code would be:</p>\n<pre><code>public double countDeposits(double amtdeposits) {\n/*you need to keep track of deposits that's why you pass the amtdeposits to \nthe method*/\n\n// you don't need this \n//for (double deposit=0; deposit&gt;0;amtdeposits++) {}\n\n\nSystem.out.println(amtdeposits++);\nreturn amtdeposits;\n }\n\npublic double countWithdrawals(double amtwithdraw) {\nif ( withdraw!=&quot;Withdraw Failed: Insufficient Amount&quot;) {\namtwithdraw=amtwithdraw++;\nSystem.out.println(amtwithdraw);\nreturn amtwithdraw;  //changes made here\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24289052,"reputation":13,"user_id":18234395,"display_name":"The Outcast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72512511,"answer_count":1,"score":0,"last_activity_date":1654494317,"creation_date":1654482010,"question_id":72512422,"body_markdown":"I have pre-defined deposit and withdrawal methods. I am however having a bit of issues coming up with methods for counting the number of deposits and successful withdrawals. Any assistance or nudge in the right direction would be great, thank you. \r\n```\r\npublic double countDeposits() {\r\n    for (double deposit=0; deposit&gt;0;amtdeposits++) {\r\n    }\r\n    System.out.println(amtdeposits);\r\n}\r\npublic double countWithdrawals() {\r\n    if ( withdraw!=&quot;Withdraw Failed: Insufficient Amount&quot;) {\r\n        amtwithdraw=amtwithdraw++;\r\n        System.out.println(amtwithdraw);\r\n    }\r\n}\r\n```","title":"Incrementor for bank account deposits and successful withdraws","body":"<p>I have pre-defined deposit and withdrawal methods. I am however having a bit of issues coming up with methods for counting the number of deposits and successful withdrawals. Any assistance or nudge in the right direction would be great, thank you.</p>\n<pre><code>public double countDeposits() {\n    for (double deposit=0; deposit&gt;0;amtdeposits++) {\n    }\n    System.out.println(amtdeposits);\n}\npublic double countWithdrawals() {\n    if ( withdraw!=&quot;Withdraw Failed: Insufficient Amount&quot;) {\n        amtwithdraw=amtwithdraw++;\n        System.out.println(amtwithdraw);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","maven","jpa"],"answers":[{"tags":[],"owner":{"account_id":18142761,"reputation":53,"user_id":13196423,"display_name":"Antxl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654493902,"creation_date":1649910303,"answer_id":71866502,"question_id":71864860,"body_markdown":"I think the error message has suggested a validation error that `allocationSize` of sequence you specified in your entity class doesn&#39;t match the one in your db. \r\n\r\nI&#39;m not sure how you&#39;re configuring the entity class (by xml or using annotations), but if you&#39;re using annotations, you should configure your `id` field in following pattern:\r\n```java\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;&lt;seq name in java in generator anno&gt;&quot;)\r\n@SequenceGenerator(name = &quot;&lt;seq name in java in generator anno&gt;&quot;, sequenceName = &quot;&lt;seq name in db&gt;&quot;, allocationSize = 1) // Pay attention to here\r\nprivate Long oid;\r\n```\r\nPlease pay attention to `allocationSize` entry in `SequenceGenerator`. If you look into its source code, you may found it optional because it has provided default value &quot;50&quot;.\r\n```java\r\n    /**\r\n     * (Optional) The amount to increment by when allocating \r\n     * sequence numbers from the sequence.\r\n     */\r\n    int allocationSize() default 50;\r\n```\r\nThis entry corresponds to `increment by` when you define a sequence in Oracle. You should manually specify it to 1, and that may be the root cause of your problem.","title":"JPA EntityManager After update spring-boot-starter-parent from 2.1.3 to 2.3.11. Failed to initialize JPA EntityManagerFactory","body":"<p>I think the error message has suggested a validation error that <code>allocationSize</code> of sequence you specified in your entity class doesn't match the one in your db.</p>\n<p>I'm not sure how you're configuring the entity class (by xml or using annotations), but if you're using annotations, you should configure your <code>id</code> field in following pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;&lt;seq name in java in generator anno&gt;&quot;)\n@SequenceGenerator(name = &quot;&lt;seq name in java in generator anno&gt;&quot;, sequenceName = &quot;&lt;seq name in db&gt;&quot;, allocationSize = 1) // Pay attention to here\nprivate Long oid;\n</code></pre>\n<p>Please pay attention to <code>allocationSize</code> entry in <code>SequenceGenerator</code>. If you look into its source code, you may found it optional because it has provided default value &quot;50&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * (Optional) The amount to increment by when allocating \n     * sequence numbers from the sequence.\n     */\n    int allocationSize() default 50;\n</code></pre>\n<p>This entry corresponds to <code>increment by</code> when you define a sequence in Oracle. You should manually specify it to 1, and that may be the root cause of your problem.</p>\n"}],"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1379,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71866502,"answer_count":1,"score":-1,"last_activity_date":1654493902,"creation_date":1649892702,"question_id":71864860,"body_markdown":"I updated spring-boot-starter-parent from 2.1.3 to 2.3.11 in parent pom. Then the error occurs when I run the code:\r\n2022-04-13 18:19:16.668 ERROR 24960 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name= KeycodeAudit]\r\n\r\nCaused by: org.hibernate.MappingException: The increment size of the [S_AUDITID] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.configure(SequenceStyleGenerator.java:261) ~[hibernate-core-5.4.31.Final.jar:5.4.31.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.createIdentifierGenerator(DefaultIdentifierGeneratorFactory.java:118) ~[hibernate-core-5.4.31.Final.jar:5.4.31.Final]\r\n\r\n\r\nI&#39;m new to spring and maven. Clueless about what causing it. If I change the spring-boot-starter-parent from 2.3.11 back to 2.1.3. Then the code can run again.\r\n\r\nmy JPA setting in application.yml is \r\njpa:\r\n    properties:\r\n      hibernate.dialect: org.hibernate.dialect.Oracle10gDialect\r\n\r\nIs that caused by missing schema? Or something else?\r\n\r\n\r\n","title":"JPA EntityManager After update spring-boot-starter-parent from 2.1.3 to 2.3.11. Failed to initialize JPA EntityManagerFactory","body":"<p>I updated spring-boot-starter-parent from 2.1.3 to 2.3.11 in parent pom. Then the error occurs when I run the code:\n2022-04-13 18:19:16.668 ERROR 24960 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name= KeycodeAudit]</p>\n<p>Caused by: org.hibernate.MappingException: The increment size of the [S_AUDITID] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].\nat org.hibernate.id.enhanced.SequenceStyleGenerator.configure(SequenceStyleGenerator.java:261) ~[hibernate-core-5.4.31.Final.jar:5.4.31.Final]\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.createIdentifierGenerator(DefaultIdentifierGeneratorFactory.java:118) ~[hibernate-core-5.4.31.Final.jar:5.4.31.Final]</p>\n<p>I'm new to spring and maven. Clueless about what causing it. If I change the spring-boot-starter-parent from 2.3.11 back to 2.1.3. Then the code can run again.</p>\n<p>my JPA setting in application.yml is\njpa:\nproperties:\nhibernate.dialect: org.hibernate.dialect.Oracle10gDialect</p>\n<p>Is that caused by missing schema? Or something else?</p>\n"},{"tags":["java","android","android-espresso"],"comments":[{"owner":{"account_id":1073145,"reputation":7191,"user_id":6512057,"display_name":"Mr-IDE"},"score":0,"creation_date":1637297886,"post_id":61953249,"comment_id":123794196,"body_markdown":"Try this approach, which doesn&#39;t need to use `onActivity()`: https://stackoverflow.com/questions/34683956/how-to-get-a-view-from-within-espresso-to-pass-into-an-idlingresource#49496282","body":"Try this approach, which doesn&#39;t need to use <code>onActivity()</code>: <a href=\"https://stackoverflow.com/questions/34683956/how-to-get-a-view-from-within-espresso-to-pass-into-an-idlingresource#49496282\" title=\"how to get a view from within espresso to pass into an idlingresource%2349496282\">stackoverflow.com/questions/34683956/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":266432,"reputation":4623,"user_id":554002,"accept_rate":91,"display_name":"gosr"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1590163582,"creation_date":1590163582,"answer_id":61959188,"question_id":61953249,"body_markdown":"Since it appears you&#39;re using Java, here&#39;s how you&#39;d do it:\r\n\r\n    @Rule\r\n    ActivityScenarioRule&lt;MainActivity&gt; activityScenarioRule = new ActivityScenarioRule&lt;&gt;(MainActivity.class);\r\n\r\n    @Test\r\n    public void test() {\r\n        activityScenarioRule.getScenario().onActivity(activity -&gt; {\r\n            // use &#39;activity&#39;.\r\n        });\r\n    }\r\n\r\nPlease read the [documentation][1] for more info on these new ways of interacting with the activity under test.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/activities/testing#trigger-actions","title":"How to Access Activity from ActivityScenarioRule","body":"<p>Since it appears you're using Java, here's how you'd do it:</p>\n\n<pre><code>@Rule\nActivityScenarioRule&lt;MainActivity&gt; activityScenarioRule = new ActivityScenarioRule&lt;&gt;(MainActivity.class);\n\n@Test\npublic void test() {\n    activityScenarioRule.getScenario().onActivity(activity -&gt; {\n        // use 'activity'.\n    });\n}\n</code></pre>\n\n<p>Please read the <a href=\"https://developer.android.com/guide/components/activities/testing#trigger-actions\" rel=\"noreferrer\">documentation</a> for more info on these new ways of interacting with the activity under test.</p>\n"},{"tags":[],"owner":{"account_id":4620474,"reputation":545,"user_id":3745724,"display_name":"Julian C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1654493664,"creation_date":1602263822,"answer_id":64284563,"question_id":61953249,"body_markdown":"For anyone who wants `Activity`, but that without need to re-write all tests to run on UI-thread, a fairly straightforward Java way to get it:\r\n\r\n## Waiting for UI\r\nAssume you want to test if a dialog is shown after some delay, the `onActivity(...)` hook runs on UI-thread, which means waiting in there would cause the dialog to be nerver shown.\r\n\r\n* In such cases you need to keep a strong-reference to `ActivityScenario` (as that prevents Activity close).\r\n* Test should wait  for `onActivity(...)` hook to be called, then keep passed Activity&#39;s reference.\r\n* Finally, move test logic out of `onActivity(...)` hook.\r\n\r\n## Example\r\n\r\n    private ActivityScenario mActivityScenario;\r\n    \r\n    @After\r\n    public void tearDown() throws Exception {\r\n      if (mActivityScenario != null) {\r\n        mActivityScenario.close();\r\n      }\r\n      mActivityScenario = null;\r\n    }\r\n    \r\n    @Override\r\n    public Activity getActivity() {\r\n      if (mActivityScenario == null) {\r\n        mActivityScenario = ActivityScenario.launch(getActivityClassForScenario());\r\n      }\r\n      return tryAcquireScenarioActivity(mActivityScenario);\r\n    }\r\n    \r\n    protected static Activity tryAcquireScenarioActivity(ActivityScenario activityScenario) {\r\n      Semaphore activityResource = new Semaphore(0);\r\n      Activity[] scenarioActivity = new Activity[1];\r\n      activityScenario.onActivity(activity -&gt; {\r\n        scenarioActivity[0] = activity;\r\n        activityResource.release();\r\n      });\r\n      try {\r\n        activityResource.tryAcquire(15000, TimeUnit.MILLISECONDS);\r\n      } catch (InterruptedException e) {\r\n        Assert.fail(&quot;Failed to acquire activity scenario semaphore&quot;);\r\n      }\r\n      Assert.assertNotNull(&quot;Scenario Activity should be non-null&quot;, scenarioActivity[0]);\r\n      return scenarioActivity[0];\r\n    }","title":"How to Access Activity from ActivityScenarioRule","body":"<p>For anyone who wants <code>Activity</code>, but that without need to re-write all tests to run on UI-thread, a fairly straightforward Java way to get it:</p>\n<h2>Waiting for UI</h2>\n<p>Assume you want to test if a dialog is shown after some delay, the <code>onActivity(...)</code> hook runs on UI-thread, which means waiting in there would cause the dialog to be nerver shown.</p>\n<ul>\n<li>In such cases you need to keep a strong-reference to <code>ActivityScenario</code> (as that prevents Activity close).</li>\n<li>Test should wait  for <code>onActivity(...)</code> hook to be called, then keep passed Activity's reference.</li>\n<li>Finally, move test logic out of <code>onActivity(...)</code> hook.</li>\n</ul>\n<h2>Example</h2>\n<pre><code>private ActivityScenario mActivityScenario;\n\n@After\npublic void tearDown() throws Exception {\n  if (mActivityScenario != null) {\n    mActivityScenario.close();\n  }\n  mActivityScenario = null;\n}\n\n@Override\npublic Activity getActivity() {\n  if (mActivityScenario == null) {\n    mActivityScenario = ActivityScenario.launch(getActivityClassForScenario());\n  }\n  return tryAcquireScenarioActivity(mActivityScenario);\n}\n\nprotected static Activity tryAcquireScenarioActivity(ActivityScenario activityScenario) {\n  Semaphore activityResource = new Semaphore(0);\n  Activity[] scenarioActivity = new Activity[1];\n  activityScenario.onActivity(activity -&gt; {\n    scenarioActivity[0] = activity;\n    activityResource.release();\n  });\n  try {\n    activityResource.tryAcquire(15000, TimeUnit.MILLISECONDS);\n  } catch (InterruptedException e) {\n    Assert.fail(&quot;Failed to acquire activity scenario semaphore&quot;);\n  }\n  Assert.assertNotNull(&quot;Scenario Activity should be non-null&quot;, scenarioActivity[0]);\n  return scenarioActivity[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13907187,"reputation":39,"user_id":10330236,"display_name":"tim.k"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1613127261,"creation_date":1613126958,"answer_id":66170451,"question_id":61953249,"body_markdown":"[Espresso][1] states the following: \r\n\r\n&gt; At the same time, the framework **prevents direct access to activities**\r\n&gt; and views of the application because holding on to these objects and\r\n&gt; operating on them off the UI thread is a major source of test\r\n&gt; flakiness.\r\n\r\nWhen there is no other way I use the following method to get an arbitrary activity from an *ActivityScenarioRule*. It uses *onActivity* mentioned in the accepted answer:\r\n\r\n    private &lt;T extends Activity&gt; T getActivity(ActivityScenarioRule&lt;T&gt; activityScenarioRule) {\r\n            AtomicReference&lt;T&gt; activityRef = new AtomicReference&lt;&gt;();\r\n            activityScenarioRule.getScenario().onActivity(activityRef::set);\r\n            return activityRef.get();\r\n        }\r\n\r\n\r\nAny *onView(...)* code inside *onActivity* led to a timeout in my testcases. So, I extracted the activity and used it with success outside the *onActivity*. Beware tho! See the statement above.\r\n  \r\n[1]: https://developer.android.com/training/testing/espresso/basics","title":"How to Access Activity from ActivityScenarioRule","body":"<p><a href=\"https://developer.android.com/training/testing/espresso/basics\" rel=\"nofollow noreferrer\">Espresso</a> states the following:</p>\n<blockquote>\n<p>At the same time, the framework <strong>prevents direct access to activities</strong>\nand views of the application because holding on to these objects and\noperating on them off the UI thread is a major source of test\nflakiness.</p>\n</blockquote>\n<p>When there is no other way I use the following method to get an arbitrary activity from an <em>ActivityScenarioRule</em>. It uses <em>onActivity</em> mentioned in the accepted answer:</p>\n<pre><code>private &lt;T extends Activity&gt; T getActivity(ActivityScenarioRule&lt;T&gt; activityScenarioRule) {\n        AtomicReference&lt;T&gt; activityRef = new AtomicReference&lt;&gt;();\n        activityScenarioRule.getScenario().onActivity(activityRef::set);\n        return activityRef.get();\n    }\n</code></pre>\n<p>Any <em>onView(...)</em> code inside <em>onActivity</em> led to a timeout in my testcases. So, I extracted the activity and used it with success outside the <em>onActivity</em>. Beware tho! See the statement above.</p>\n"},{"tags":[],"owner":{"account_id":1472241,"reputation":91,"user_id":1383493,"display_name":"shuidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636963808,"creation_date":1636963808,"answer_id":69971181,"question_id":61953249,"body_markdown":"```\r\n@Test\r\n    fun checkForUpdate() {\r\n        val scenario = ActivityScenario.launch(MainActivity::class.java)\r\n        scenario.onActivity {\r\n            UpdateTool.checkForUpdate(it)\r\n        }\r\n    }\r\n```","title":"How to Access Activity from ActivityScenarioRule","body":"<pre><code>@Test\n    fun checkForUpdate() {\n        val scenario = ActivityScenario.launch(MainActivity::class.java)\n        scenario.onActivity {\n            UpdateTool.checkForUpdate(it)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12286722,"reputation":373,"user_id":8965793,"display_name":"Satyam Bansal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13683,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":61959188,"answer_count":4,"score":18,"last_activity_date":1654493664,"creation_date":1590144421,"question_id":61953249,"body_markdown":"I am using `ActivityScenarioRule` for Espresso UI Testing and I wanted to get access to the method `getStringArray()`, calling which requires the `Activity` . So, is there any way to retrieve the `Activity` by the `ActivityScenarioRule` , maybe something similar to `getActivity` in `ActivityTestRule`.\r\n\r\n    @Rule\r\n        public ActivityScenarioRule activityScenarioRule = new ActivityScenarioRule&lt;&gt;(MainActivity.class);\r\n\r\nI am not using `ActivityTestRule`, because it is deprecated! ","title":"How to Access Activity from ActivityScenarioRule","body":"<p>I am using <code>ActivityScenarioRule</code> for Espresso UI Testing and I wanted to get access to the method <code>getStringArray()</code>, calling which requires the <code>Activity</code> . So, is there any way to retrieve the <code>Activity</code> by the <code>ActivityScenarioRule</code> , maybe something similar to <code>getActivity</code> in <code>ActivityTestRule</code>.</p>\n\n<pre><code>@Rule\n    public ActivityScenarioRule activityScenarioRule = new ActivityScenarioRule&lt;&gt;(MainActivity.class);\n</code></pre>\n\n<p>I am not using <code>ActivityTestRule</code>, because it is deprecated! </p>\n"},{"tags":["java","exception","active-directory","ldap","windows-server"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1654499589,"post_id":72513404,"comment_id":128096813,"body_markdown":"By the URL you provide to the `InitialContext`, you are already in the subtree `dc=trial,dc=com`, so when you look for `CN=Test1,CN=Users,DC=trial,DC=com` in that subtree you won&#39;t find it. I would remove the suffix from the initial URL.","body":"By the URL you provide to the <code>InitialContext</code>, you are already in the subtree <code>dc=trial,dc=com</code>, so when you look for <code>CN=Test1,CN=Users,DC=trial,DC=com</code> in that subtree you won&#39;t find it. I would remove the suffix from the initial URL."}],"owner":{"account_id":16440259,"reputation":23,"user_id":11876753,"display_name":"tinu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654493411,"creation_date":1654493411,"question_id":72513404,"body_markdown":"This is my Java Code, I created a domain named: trial.com, in which I created a user named &quot;test1@trial.com&quot;.\r\n\r\n```\r\nimport javax.naming.Context;\r\nimport javax.naming.NamingEnumeration;\r\nimport javax.naming.NamingException;\r\nimport javax.naming.AuthenticationException;\r\nimport javax.naming.directory.DirContext;\r\nimport javax.naming.directory.InitialDirContext;\r\nimport javax.naming.directory.SearchControls;\r\nimport javax.naming.ldap.LdapContext;  \r\nimport javax.naming.directory.DirContext;\r\nimport javax.naming.ldap.InitialLdapContext;\r\nimport javax.naming.directory.ModificationItem;\r\nimport javax.naming.directory.BasicAttribute;\r\nimport java.util.Hashtable;\r\n\r\n\r\npublic class Password_ADTesting{\r\n\tpublic static void main(String[] args){\r\n\t\tLdapContext ctx = null;\r\n\t\ttry{\r\n\t\t\tHashtable env = new Hashtable();  \r\n\t\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);  \r\n            \t\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);  \r\n            \t\tenv.put(Context.SECURITY_PRINCIPAL, &quot;test1@trial.com&quot;);  //&quot;tom@trial.com&quot;\r\n            \t\tenv.put(Context.SECURITY_CREDENTIALS, &quot;Panda123*&quot;);  //&quot;Panda123*&quot;\r\n            \t\tenv.put(Context.PROVIDER_URL, &quot;ldap://localhost:389/dc=trial,dc=com&quot;); \r\n\t\t\tctx = new InitialLdapContext(env,null);\t\r\n\t\t\tSystem.out.println(&quot;Connection Successfull&quot;);\r\n\t\t\tModificationItem[] mods = new ModificationItem[1];\r\n\t\t\tmods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(&quot;userPassword&quot;,&quot;Panda23*&quot;));\r\n\t\t\tctx.modifyAttributes(&quot;CN=Test1,CN=Users,DC=trial,DC=com&quot;, mods);\r\n\t\t\t//&quot;CN=Test1,CN=Users,DC=trial,DC=com&quot;\r\n\t\t\tSystem.out.println(&quot;Success&quot;);\r\n\t\t}catch(AuthenticationException authEx) {\r\n\t\t\tSystem.out.println(&quot;Active Directory Authentication failed&quot;);\r\n\t\t\tauthEx.printStackTrace();\r\n\t\t}catch(Exception e){\r\n\t\t\tSystem.out.println(&quot;Password Cannot be Changed&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhen I run the code I get the following error:\r\n```\r\nC:\\Users\\Administrator\\Desktop&gt;java Password_ADTesting\r\nConnection Successfull\r\nPassword Cannot be Changed\r\njavax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028C, problem 2001 (NO_OBJECT), data 0, best match of:\r\n        &#39;DC=trial,DC=com&#39;\r\n ]; remaining name &#39;CN=Test1,CN=Users,DC=trial,DC=com&#39;\r\n        at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3284)\r\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3205)\r\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2996)\r\n        at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1504)\r\n        at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:277)\r\n        at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:192)\r\n        at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:181)\r\n        at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167)\r\n        at Password_ADTesting.main(Password_ADTesting.java:30)\r\n```\r\n\r\nI get authenticated, but not able to change the password. It shows name not found exception. But when I find the distinguished name attribute, it&#39;s correct as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gYPWs.png\r\n\r\nCould someone help me out with this???","title":"javax.naming.NameNotFoundException: LDAP: error code 32 -","body":"<p>This is my Java Code, I created a domain named: trial.com, in which I created a user named &quot;test1@trial.com&quot;.</p>\n<pre><code>import javax.naming.Context;\nimport javax.naming.NamingEnumeration;\nimport javax.naming.NamingException;\nimport javax.naming.AuthenticationException;\nimport javax.naming.directory.DirContext;\nimport javax.naming.directory.InitialDirContext;\nimport javax.naming.directory.SearchControls;\nimport javax.naming.ldap.LdapContext;  \nimport javax.naming.directory.DirContext;\nimport javax.naming.ldap.InitialLdapContext;\nimport javax.naming.directory.ModificationItem;\nimport javax.naming.directory.BasicAttribute;\nimport java.util.Hashtable;\n\n\npublic class Password_ADTesting{\n    public static void main(String[] args){\n        LdapContext ctx = null;\n        try{\n            Hashtable env = new Hashtable();  \n            env.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);  \n                    env.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);  \n                    env.put(Context.SECURITY_PRINCIPAL, &quot;test1@trial.com&quot;);  //&quot;tom@trial.com&quot;\n                    env.put(Context.SECURITY_CREDENTIALS, &quot;Panda123*&quot;);  //&quot;Panda123*&quot;\n                    env.put(Context.PROVIDER_URL, &quot;ldap://localhost:389/dc=trial,dc=com&quot;); \n            ctx = new InitialLdapContext(env,null); \n            System.out.println(&quot;Connection Successfull&quot;);\n            ModificationItem[] mods = new ModificationItem[1];\n            mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(&quot;userPassword&quot;,&quot;Panda23*&quot;));\n            ctx.modifyAttributes(&quot;CN=Test1,CN=Users,DC=trial,DC=com&quot;, mods);\n            //&quot;CN=Test1,CN=Users,DC=trial,DC=com&quot;\n            System.out.println(&quot;Success&quot;);\n        }catch(AuthenticationException authEx) {\n            System.out.println(&quot;Active Directory Authentication failed&quot;);\n            authEx.printStackTrace();\n        }catch(Exception e){\n            System.out.println(&quot;Password Cannot be Changed&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run the code I get the following error:</p>\n<pre><code>C:\\Users\\Administrator\\Desktop&gt;java Password_ADTesting\nConnection Successfull\nPassword Cannot be Changed\njavax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID-0310028C, problem 2001 (NO_OBJECT), data 0, best match of:\n        'DC=trial,DC=com'\n ]; remaining name 'CN=Test1,CN=Users,DC=trial,DC=com'\n        at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3284)\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3205)\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2996)\n        at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1504)\n        at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:277)\n        at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:192)\n        at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:181)\n        at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167)\n        at Password_ADTesting.main(Password_ADTesting.java:30)\n</code></pre>\n<p>I get authenticated, but not able to change the password. It shows name not found exception. But when I find the distinguished name attribute, it's correct as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/gYPWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gYPWs.png\" alt=\"enter image description here\" /></a></p>\n<p>Could someone help me out with this???</p>\n"},{"tags":["java","android","wifip2p"],"comments":[{"owner":{"account_id":5593155,"reputation":12710,"user_id":4431643,"display_name":"kiran Biradar"},"score":0,"creation_date":1533659906,"post_id":51730358,"comment_id":90424046,"body_markdown":"Did you try to print the peerList in onPeersAvailable?","body":"Did you try to print the peerList in onPeersAvailable?"},{"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"score":0,"creation_date":1533662307,"post_id":51730358,"comment_id":90425223,"body_markdown":"Yes, first I tried to print a log to see if the peerListener is triggering which was the case and afterwards I wanted to print peerList.getDevice().size() but the list was empty every time even if the other device was able to see me through Wifi-Direct.","body":"Yes, first I tried to print a log to see if the peerListener is triggering which was the case and afterwards I wanted to print peerList.getDevice().size() but the list was empty every time even if the other device was able to see me through Wifi-Direct."},{"owner":{"account_id":5593155,"reputation":12710,"user_id":4431643,"display_name":"kiran Biradar"},"score":0,"creation_date":1533662562,"post_id":51730358,"comment_id":90425330,"body_markdown":"For instance you can read the peers from /proc/net/arp file","body":"For instance you can read the peers from /proc/net/arp file"},{"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"score":0,"creation_date":1533663686,"post_id":51730358,"comment_id":90425822,"body_markdown":"I tried this [retrieve-ip-and-mac-addresses](http://android-er.blogspot.com/2015/12/retrieve-ip-and-mac-addresses-from.html) but it only showed my routers IP/MAC adress.\nI think it has something to do with either the registerReceiver functions when I call them or I read something about permission which need to be checked before executing a function which requires permissions.","body":"I tried this <a href=\"http://android-er.blogspot.com/2015/12/retrieve-ip-and-mac-addresses-from.html\" rel=\"nofollow noreferrer\">retrieve-ip-and-mac-addresses</a> but it only showed my routers IP/MAC adress. I think it has something to do with either the registerReceiver functions when I call them or I read something about permission which need to be checked before executing a function which requires permissions."},{"owner":{"account_id":5593155,"reputation":12710,"user_id":4431643,"display_name":"kiran Biradar"},"score":0,"creation_date":1533664034,"post_id":51730358,"comment_id":90425979,"body_markdown":"That doesn&#39;t require any permission","body":"That doesn&#39;t require any permission"},{"owner":{"account_id":5593155,"reputation":12710,"user_id":4431643,"display_name":"kiran Biradar"},"score":0,"creation_date":1533664096,"post_id":51730358,"comment_id":90426003,"body_markdown":"Directory do cat /proc/net/arp from terminal","body":"Directory do cat /proc/net/arp from terminal"},{"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"score":0,"creation_date":1533665101,"post_id":51730358,"comment_id":90426483,"body_markdown":"No I mean my peerList problem.\ncat /proc/net/arp gave me the router adress I am connected to. There&#39;s nothing else in the table.","body":"No I mean my peerList problem. cat /proc/net/arp gave me the router adress I am connected to. There&#39;s nothing else in the table."},{"owner":{"account_id":5593155,"reputation":12710,"user_id":4431643,"display_name":"kiran Biradar"},"score":0,"creation_date":1533666112,"post_id":51730358,"comment_id":90426951,"body_markdown":"That means your system didn&#39;t add any peers","body":"That means your system didn&#39;t add any peers"},{"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"score":0,"creation_date":1533667084,"post_id":51730358,"comment_id":90427432,"body_markdown":"Yea that&#39;s why the peerList is empty and I don&#39;t know why ^^","body":"Yea that&#39;s why the peerList is empty and I don&#39;t know why ^^"}],"answers":[{"tags":[],"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534005351,"creation_date":1533838337,"answer_id":51773448,"question_id":51730358,"body_markdown":"I found my error.\r\n\r\nBasically my code was correct, but it has something to do with the Android Version.\r\nI executed my application on a Android Oreo (API 26) device and it didn&#39;t work like I mentioned. The peerList still was empty.\r\n\r\nToday I tried it with a Android Nougat (API 24-25) Device and it worked!\r\nThe peerList is getting the devices nearby like it should.\r\n\r\nIn the end I set my maxSDKVersion to 25 and now it works on my Android Oreo device.\r\n\r\nI cannot really say why its behaving like this but I think is has something to do with [permissions](https://developer.android.com/about/versions/oreo/android-8.0-changes#rmp).\r\n\r\n**EDIT**:\r\n\r\nNevermind on my search journey I came to this problem in Android O+ issued here\r\n[Peer discovery Issue with Oreo (Android 8+)](https://github.com/sabzo/ayanda/issues/17) and the solution is that you need the permission for `ACCESS_COARSE_LOCATION` mentioned here [SCAN_RESULTS_AVAILABLE_ACTION return empty list in Android 6.0](https://stackoverflow.com/questions/32151603/scan-results-available-action-return-empty-list-in-android-6-0).\r\n","title":"Android: WifiP2PManager how to add peerList to a ListView","body":"<p>I found my error.</p>\n\n<p>Basically my code was correct, but it has something to do with the Android Version.\nI executed my application on a Android Oreo (API 26) device and it didn't work like I mentioned. The peerList still was empty.</p>\n\n<p>Today I tried it with a Android Nougat (API 24-25) Device and it worked!\nThe peerList is getting the devices nearby like it should.</p>\n\n<p>In the end I set my maxSDKVersion to 25 and now it works on my Android Oreo device.</p>\n\n<p>I cannot really say why its behaving like this but I think is has something to do with <a href=\"https://developer.android.com/about/versions/oreo/android-8.0-changes#rmp\" rel=\"nofollow noreferrer\">permissions</a>.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Nevermind on my search journey I came to this problem in Android O+ issued here\n<a href=\"https://github.com/sabzo/ayanda/issues/17\" rel=\"nofollow noreferrer\">Peer discovery Issue with Oreo (Android 8+)</a> and the solution is that you need the permission for <code>ACCESS_COARSE_LOCATION</code> mentioned here <a href=\"https://stackoverflow.com/questions/32151603/scan-results-available-action-return-empty-list-in-android-6-0\">SCAN_RESULTS_AVAILABLE_ACTION return empty list in Android 6.0</a>.</p>\n"},{"tags":[],"owner":{"account_id":16681824,"reputation":71,"user_id":12056697,"display_name":"GeraldTDPI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654492673,"creation_date":1654492673,"answer_id":72513330,"question_id":51730358,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            val locationPermissionRequest = registerForActivityResult(\r\n                ActivityResultContracts.RequestMultiplePermissions()\r\n            ) { permissions -&gt;\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                    when {\r\n                        permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {\r\n                            // Precise location access granted.\r\n                            Log.i(TAG, &quot;Permission granted to ACCESS_FINE_LOCATION&quot;)\r\n                        }\r\n                        permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {\r\n                            // Only approximate location access granted.\r\n                            Log.i(TAG, &quot;Permission granted to ACCESS_COARSE_LOCATION&quot;)\r\n                        }\r\n                        else -&gt; {\r\n                            // No location access granted.\r\n                            Log.i(TAG, &quot;Permission not&quot;)\r\n                            //Send a Throwable here\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            locationPermissionRequest.launch(\r\n                arrayOf(\r\n                    Manifest.permission.ACCESS_FINE_LOCATION,\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION\r\n                )\r\n            )\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nEncountered the same problem and it&#39;s because the android version N &gt; requires different approach in permission request. Peer list doesn&#39;t get filled because at some point the permission request failed. Solved it using this snippet. ","title":"Android: WifiP2PManager how to add peerList to a ListView","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        val locationPermissionRequest = registerForActivityResult(\n            ActivityResultContracts.RequestMultiplePermissions()\n        ) { permissions -&gt;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                when {\n                    permissions.getOrDefault(Manifest.permission.ACCESS_FINE_LOCATION, false) -&gt; {\n                        // Precise location access granted.\n                        Log.i(TAG, \"Permission granted to ACCESS_FINE_LOCATION\")\n                    }\n                    permissions.getOrDefault(Manifest.permission.ACCESS_COARSE_LOCATION, false) -&gt; {\n                        // Only approximate location access granted.\n                        Log.i(TAG, \"Permission granted to ACCESS_COARSE_LOCATION\")\n                    }\n                    else -&gt; {\n                        // No location access granted.\n                        Log.i(TAG, \"Permission not\")\n                        //Send a Throwable here\n                    }\n                }\n            }\n        }\n        locationPermissionRequest.launch(\n            arrayOf(\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION\n            )\n        )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Encountered the same problem and it's because the android version N &gt; requires different approach in permission request. Peer list doesn't get filled because at some point the permission request failed. Solved it using this snippet.</p>\n"}],"owner":{"account_id":14109171,"reputation":129,"user_id":10192487,"display_name":"Supportic"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654492673,"creation_date":1533655461,"question_id":51730358,"body_markdown":"Intro\r\n-----\r\n\r\nHey, I&#39;m trying to build a Wifi-Direct P2P client which is receiving data from a host. Before I&#39;m getting the data I need to establish a connection and the host should be the group owner (go_intent=15). Before establishing the connection I need to know if it&#39;s the device I&#39;m looking for or not. For test purposes I wanted to display all devices in my area which are in discovery mode. That means I have to put myself in discovery mode aswell to able to be discovered from other devices.\r\n\r\nSo far I am starting the discovery mode in my `MainActivity.class` with `startFindPeers()` as soon as I turn on the switch or when my wifi is coming up again when the switch is on.\r\n\r\nWhile the switch is on I should be discoverable even when I close the app and clear the RAM as long my wifi is still on.\r\n\r\nProblem\r\n-------\r\n\r\nMy Problem lies in the `WifiP2pManager.PeerListListener` which is triggered as soon as the `WIFI_P2P_PEERS_CHANGED_ACTION` in my `WiFiDirectBroadcastReceiver.class` is triggered.\r\nI can check if new peers are nearby with that callback function which is triggering my `peerListListener`.\r\n\r\nIn the `peerListListener` itself the `onPeersAvailable` function triggers which should add all the new peers to my ListView in my `activity_main.xml` but it doesn&#39;t. \r\n\r\nAny suggestions?\r\n\r\nCode\r\n----\r\nManifest\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;de.tu_chemnitz.dayliehelperprototype&quot;&gt;\r\n    \r\n        &lt;!-- Need to permission to restart JobServices after phone being shut down --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    \r\n        &lt;!-- Permissions to use WIFI-Direct --&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.INTERNET&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;!-- Google Play filtering --&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.wifi.direct&quot; android:required=&quot;true&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:fullBackupContent=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_app_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_app_icon_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;.JobSchedulerService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nactivity_main.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/main_layout&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            app:title=&quot;@string/app_name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;/&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:paddingStart=&quot;16dp&quot;\r\n            android:paddingEnd=&quot;0dp&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.15&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:gravity=&quot;center|start&quot;\r\n                    android:text=&quot;@string/main_page_titel&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryDark&quot;\r\n                    android:textSize=&quot;28sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.85&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_weight=&quot;0.1&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:baselineAligned=&quot;false&quot;&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_weight=&quot;0.5&quot;&gt;\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:text=&quot;@string/feature_option_1&quot;\r\n                            android:textSize=&quot;25sp&quot;\r\n                            android:textColor=&quot;@color/colorPrimary&quot;\r\n                            android:gravity=&quot;center|start&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:layout_weight=&quot;0.5&quot;\r\n                        android:gravity=&quot;center|end&quot;&gt;\r\n                        &lt;Switch\r\n                            android:id=&quot;@+id/notify_switch&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:textSize=&quot;18sp&quot;\r\n                            android:switchMinWidth=&quot;52dp&quot;\r\n                            android:theme=&quot;@style/mySwitchStyle&quot;\r\n                            android:layout_marginEnd=&quot;35dp&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_weight=&quot;0.9&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    android:paddingEnd=&quot;30dp&quot;&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;0dp&quot;\r\n                        android:layout_weight=&quot;0.15&quot;&gt;\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:text=&quot;Discovered Devices&quot;\r\n                            android:gravity=&quot;center|start&quot;\r\n                            android:textSize=&quot;28sp&quot;\r\n                            android:textStyle=&quot;bold&quot;\r\n                            android:textColor=&quot;@color/colorPrimaryDark&quot;/&gt;\r\n    \r\n                    &lt;/LinearLayout&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;0dp&quot;\r\n                        android:layout_weight=&quot;0.85&quot;&gt;\r\n                        &lt;ListView\r\n                            android:id=&quot;@+id/peerListView&quot;\r\n                            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nMainActivity.class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.tu_chemnitz.dayliehelperprototype;\r\n\r\n    import.*\r\n    \r\n    import de.tu_chemnitz.dayliehelperprototype.utils.Utility;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final String NETWORK_STATE = &quot;NETWORK_STATE&quot;;\r\n    \r\n        // UI elements\r\n        Switch switchNotify;\r\n        ListView listView;\r\n    \r\n        //Wifi Direct\r\n        WifiP2pManager manager;\r\n        WifiP2pManager.Channel channel;\r\n        BroadcastReceiver receiver;\r\n        IntentFilter intentFilter;\r\n        List&lt;WifiP2pDevice&gt; peers = new ArrayList&lt;WifiP2pDevice&gt;();\r\n        String[] deviceNameArray;\r\n        WifiP2pDevice[] deviceArray;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // define UI elements\r\n            switchNotify =  findViewById(R.id.notify_switch);\r\n            listView = findViewById(R.id.peerListView);\r\n    \r\n            initializeWifiDirect();\r\n    \r\n            // define toolbar\r\n            setSupportActionBar((Toolbar) findViewById(R.id.toolbar));\r\n    \r\n            //load default switch states [false], otherwise get it from sharedPreferences\r\n            boolean state = Utility.getBool(this, &quot;switch_states&quot;, &quot;notify_switchkey&quot;);\r\n            switchNotify.setChecked(state);\r\n            \r\n            switchNotify.setOnCheckedChangeListener(listener);\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            registerReceiver(receiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            unregisterReceiver(receiver);\r\n        }\r\n    \r\n        WifiP2pManager.PeerListListener peerListListener = new WifiP2pManager.PeerListListener() {\r\n            @Override\r\n            public void onPeersAvailable(WifiP2pDeviceList peerList) {\r\n                if(!peerList.getDeviceList().equals(peers)){\r\n                    peers.clear();\r\n                    peers.addAll(peerList.getDeviceList());\r\n    \r\n                    deviceNameArray = new String[peerList.getDeviceList().size()];\r\n                    deviceArray = new WifiP2pDevice[peerList.getDeviceList().size()];\r\n                    int index = 0;\r\n                    // maybe we can get more information here\r\n                    for(WifiP2pDevice device : peerList.getDeviceList()){\r\n                        deviceNameArray[index] = device.deviceName;\r\n                        deviceArray[index] = device;\r\n                        index++;\r\n                    }\r\n                    Log.d(&quot;this is my array&quot;, &quot;arr: &quot; + Arrays.toString(deviceNameArray));\r\n                    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, deviceNameArray);\r\n                    listView.setAdapter(adapter);\r\n                }\r\n    \r\n                if(peers.size() == 0){\r\n                    Log.d(&quot;WIFIDIRECT&quot;, &quot;No devices found&quot;);\r\n                }\r\n            }\r\n        };\r\n    \r\n        /**\r\n         *   OnCheckedListeners for the switches\r\n         */\r\n        CompoundButton.OnCheckedChangeListener listener = new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if (isChecked) {\r\n                    if(Utility.isWiFiEnabled(MainActivity.this)){\r\n                        Utility.customToastMsg(MainActivity.this,&quot;Enabled&quot;, &quot;#1abc9c&quot;);\r\n    \r\n                        startFindPeers();\r\n                    }\r\n                    else{\r\n                        switchNotify.setChecked(false);\r\n                        Utility.customToastMsg(MainActivity.this,&quot;Wifi is disabled&quot;, &quot;#FFB900&quot;);\r\n                        isChecked = false;\r\n                    }\r\n    \r\n                } else {\r\n                    Utility.customToastMsg(MainActivity.this,&quot;Disabled&quot;, &quot;#ef5350&quot;);\r\n    \r\n                    stopFindPeers();\r\n                }\r\n                // save current state [checked/unchecked]\r\n                Utility.saveBool(MainActivity.this, &quot;switch_states&quot;, &quot;notify_switchkey&quot;, isChecked);\r\n            }\r\n        };\r\n        \r\n        \r\n        public void startFindPeers(){\r\n            if(manager != null){\r\n                manager.discoverPeers(channel, new WifiP2pManager.ActionListener() {\r\n                    @Override\r\n                    public void onSuccess() {\r\n                        Log.d(NETWORK_STATE, &quot;Peer Discovery started&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(int reason) {\r\n                        Log.d(NETWORK_STATE, &quot;Peer Discovery starting failed, failcode: &quot; + reason);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void stopFindPeers(){\r\n            if(manager != null){\r\n                manager.stopPeerDiscovery(channel, new WifiP2pManager.ActionListener() {\r\n                    @Override\r\n                    public void onSuccess() {\r\n                        Log.d(NETWORK_STATE, &quot;Peer Discovery stopped&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(int reason) {\r\n                        Log.d(NETWORK_STATE, &quot;Peer Discovery stopping failed, failcode: &quot; + reason);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void initializeWifiDirect(){\r\n            //Wifi Direct\r\n            // This clall provides the API for managing Wifi peer-to-peer connectivity.\r\n            manager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\r\n            // A channel that connects the application to the Wifi p2p framework.\r\n            // Most p2p operations require a channel as an argument.\r\n            if (manager != null) {\r\n                channel = manager.initialize(this, getMainLooper(), null);\r\n            }\r\n    \r\n            receiver = new WiFiDirectBroadcastReceiver(manager, channel, this);\r\n    \r\n            intentFilter = new IntentFilter();\r\n    \r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION);\r\n            intentFilter.addAction(WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWiFiDirectBroadcastReceiver.class\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    package de.tu_chemnitz.dayliehelperprototype;\r\n    \r\n    import.*\r\n\r\n    /**\r\n     * A BroadcastReceiver that notifies of important wifi p2p events.\r\n     */\r\n    public class WiFiDirectBroadcastReceiver extends BroadcastReceiver {\r\n    \r\n        private WifiP2pManager manager;\r\n        private Channel channel;\r\n        private MainActivity activity;\r\n    \r\n        private static final String TAG = &quot;WiFiDirectBroadcastReceiver&quot;;\r\n    \r\n        /**\r\n         * @param manager  WifiP2pManager system service\r\n         * @param channel  Wifi p2p channel\r\n         * @param activity activity associated with the receiver\r\n         */\r\n        public WiFiDirectBroadcastReceiver(WifiP2pManager manager, Channel channel,MainActivity activity){\r\n            super();\r\n            this.manager = manager;\r\n            this.channel = channel;\r\n            this.activity = activity;\r\n        }\r\n    \r\n        /*\r\n         * (non-Javadoc)\r\n         * @see android.content.BroadcastReceiver#onReceive(android.content.Context,\r\n         * android.content.Intent)\r\n         */\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) {\r\n    \r\n                // UI update to indicate wifi p2p status.\r\n                int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1);\r\n                if (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED &amp;&amp; Utility.getBool(activity, &quot;switch_states&quot;, &quot;notify_switchkey&quot;)) {\r\n                    activity.startFindPeers();\r\n                }\r\n                else {\r\n    \r\n                }\r\n                Log.d(TAG, &quot;P2P state changed - &quot; + state);\r\n            }\r\n            else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) {\r\n    \r\n                // request available peers from the wifi p2p manager. This is an\r\n                // asynchronous call and the calling activity is notified with a\r\n                // callback on PeerListListener.onPeersAvailable()\r\n                if (manager != null) {\r\n                    manager.requestPeers(channel, activity.peerListListener);\r\n                }\r\n                Log.d(TAG, &quot;P2P peers changed&quot;);\r\n            }\r\n            else if (WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION.equals(action)) {\r\n    \r\n            }\r\n            else if (WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION.equals(action)) {\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Android: WifiP2PManager how to add peerList to a ListView","body":"<h2>Intro</h2>\n\n<p>Hey, I'm trying to build a Wifi-Direct P2P client which is receiving data from a host. Before I'm getting the data I need to establish a connection and the host should be the group owner (go_intent=15). Before establishing the connection I need to know if it's the device I'm looking for or not. For test purposes I wanted to display all devices in my area which are in discovery mode. That means I have to put myself in discovery mode aswell to able to be discovered from other devices.</p>\n\n<p>So far I am starting the discovery mode in my <code>MainActivity.class</code> with <code>startFindPeers()</code> as soon as I turn on the switch or when my wifi is coming up again when the switch is on.</p>\n\n<p>While the switch is on I should be discoverable even when I close the app and clear the RAM as long my wifi is still on.</p>\n\n<h2>Problem</h2>\n\n<p>My Problem lies in the <code>WifiP2pManager.PeerListListener</code> which is triggered as soon as the <code>WIFI_P2P_PEERS_CHANGED_ACTION</code> in my <code>WiFiDirectBroadcastReceiver.class</code> is triggered.\nI can check if new peers are nearby with that callback function which is triggering my <code>peerListListener</code>.</p>\n\n<p>In the <code>peerListListener</code> itself the <code>onPeersAvailable</code> function triggers which should add all the new peers to my ListView in my <code>activity_main.xml</code> but it doesn't. </p>\n\n<p>Any suggestions?</p>\n\n<h2>Code</h2>\n\n<p>Manifest</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"de.tu_chemnitz.dayliehelperprototype\"&gt;\n\n    &lt;!-- Need to permission to restart JobServices after phone being shut down --&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n    &lt;!-- Permissions to use WIFI-Direct --&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.ACCESS_WIFI_STATE\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.CHANGE_WIFI_STATE\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.ACCESS_NETWORK_STATE\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.CHANGE_NETWORK_STATE\"\n        android:required=\"true\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.INTERNET\"\n        android:required=\"true\" /&gt;\n\n    &lt;!-- Google Play filtering --&gt;\n    &lt;uses-feature android:name=\"android.hardware.wifi.direct\" android:required=\"true\"/&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:fullBackupContent=\"true\"\n        android:icon=\"@mipmap/ic_app_icon\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_app_icon_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:screenOrientation=\"portrait\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;service\n            android:name=\".JobSchedulerService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"\n            android:permission=\"android.permission.BIND_JOB_SERVICE\" /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    android:id=\"@+id/main_layout\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        app:title=\"@string/app_name\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"@color/colorPrimary\"\n        android:elevation=\"4dp\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n        app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n        android:fitsSystemWindows=\"true\"/&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        android:paddingStart=\"16dp\"\n        android:paddingEnd=\"0dp\"&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"0.15\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:gravity=\"center|start\"\n                android:text=\"@string/main_page_titel\"\n                android:textColor=\"@color/colorPrimaryDark\"\n                android:textSize=\"28sp\"\n                android:textStyle=\"bold\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"0.85\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"0.1\"\n                android:orientation=\"horizontal\"\n                android:baselineAligned=\"false\"&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"0.5\"&gt;\n                    &lt;TextView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:text=\"@string/feature_option_1\"\n                        android:textSize=\"25sp\"\n                        android:textColor=\"@color/colorPrimary\"\n                        android:gravity=\"center|start\"/&gt;\n                &lt;/LinearLayout&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"match_parent\"\n                    android:layout_weight=\"0.5\"\n                    android:gravity=\"center|end\"&gt;\n                    &lt;Switch\n                        android:id=\"@+id/notify_switch\"\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:gravity=\"center\"\n                        android:textSize=\"18sp\"\n                        android:switchMinWidth=\"52dp\"\n                        android:theme=\"@style/mySwitchStyle\"\n                        android:layout_marginEnd=\"35dp\"/&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"0.9\"\n                android:orientation=\"vertical\"\n                android:paddingEnd=\"30dp\"&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\"\n                    android:layout_weight=\"0.15\"&gt;\n                    &lt;TextView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:text=\"Discovered Devices\"\n                        android:gravity=\"center|start\"\n                        android:textSize=\"28sp\"\n                        android:textStyle=\"bold\"\n                        android:textColor=\"@color/colorPrimaryDark\"/&gt;\n\n                &lt;/LinearLayout&gt;\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0dp\"\n                    android:layout_weight=\"0.85\"&gt;\n                    &lt;ListView\n                        android:id=\"@+id/peerListView\"\n                        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"/&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>MainActivity.class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.tu_chemnitz.dayliehelperprototype;\n\nimport.*\n\nimport de.tu_chemnitz.dayliehelperprototype.utils.Utility;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String NETWORK_STATE = \"NETWORK_STATE\";\n\n    // UI elements\n    Switch switchNotify;\n    ListView listView;\n\n    //Wifi Direct\n    WifiP2pManager manager;\n    WifiP2pManager.Channel channel;\n    BroadcastReceiver receiver;\n    IntentFilter intentFilter;\n    List&lt;WifiP2pDevice&gt; peers = new ArrayList&lt;WifiP2pDevice&gt;();\n    String[] deviceNameArray;\n    WifiP2pDevice[] deviceArray;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // define UI elements\n        switchNotify =  findViewById(R.id.notify_switch);\n        listView = findViewById(R.id.peerListView);\n\n        initializeWifiDirect();\n\n        // define toolbar\n        setSupportActionBar((Toolbar) findViewById(R.id.toolbar));\n\n        //load default switch states [false], otherwise get it from sharedPreferences\n        boolean state = Utility.getBool(this, \"switch_states\", \"notify_switchkey\");\n        switchNotify.setChecked(state);\n\n        switchNotify.setOnCheckedChangeListener(listener);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerReceiver(receiver, intentFilter);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterReceiver(receiver);\n    }\n\n    WifiP2pManager.PeerListListener peerListListener = new WifiP2pManager.PeerListListener() {\n        @Override\n        public void onPeersAvailable(WifiP2pDeviceList peerList) {\n            if(!peerList.getDeviceList().equals(peers)){\n                peers.clear();\n                peers.addAll(peerList.getDeviceList());\n\n                deviceNameArray = new String[peerList.getDeviceList().size()];\n                deviceArray = new WifiP2pDevice[peerList.getDeviceList().size()];\n                int index = 0;\n                // maybe we can get more information here\n                for(WifiP2pDevice device : peerList.getDeviceList()){\n                    deviceNameArray[index] = device.deviceName;\n                    deviceArray[index] = device;\n                    index++;\n                }\n                Log.d(\"this is my array\", \"arr: \" + Arrays.toString(deviceNameArray));\n                ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_list_item_1, deviceNameArray);\n                listView.setAdapter(adapter);\n            }\n\n            if(peers.size() == 0){\n                Log.d(\"WIFIDIRECT\", \"No devices found\");\n            }\n        }\n    };\n\n    /**\n     *   OnCheckedListeners for the switches\n     */\n    CompoundButton.OnCheckedChangeListener listener = new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n            if (isChecked) {\n                if(Utility.isWiFiEnabled(MainActivity.this)){\n                    Utility.customToastMsg(MainActivity.this,\"Enabled\", \"#1abc9c\");\n\n                    startFindPeers();\n                }\n                else{\n                    switchNotify.setChecked(false);\n                    Utility.customToastMsg(MainActivity.this,\"Wifi is disabled\", \"#FFB900\");\n                    isChecked = false;\n                }\n\n            } else {\n                Utility.customToastMsg(MainActivity.this,\"Disabled\", \"#ef5350\");\n\n                stopFindPeers();\n            }\n            // save current state [checked/unchecked]\n            Utility.saveBool(MainActivity.this, \"switch_states\", \"notify_switchkey\", isChecked);\n        }\n    };\n\n\n    public void startFindPeers(){\n        if(manager != null){\n            manager.discoverPeers(channel, new WifiP2pManager.ActionListener() {\n                @Override\n                public void onSuccess() {\n                    Log.d(NETWORK_STATE, \"Peer Discovery started\");\n                }\n\n                @Override\n                public void onFailure(int reason) {\n                    Log.d(NETWORK_STATE, \"Peer Discovery starting failed, failcode: \" + reason);\n                }\n            });\n        }\n    }\n\n    public void stopFindPeers(){\n        if(manager != null){\n            manager.stopPeerDiscovery(channel, new WifiP2pManager.ActionListener() {\n                @Override\n                public void onSuccess() {\n                    Log.d(NETWORK_STATE, \"Peer Discovery stopped\");\n                }\n\n                @Override\n                public void onFailure(int reason) {\n                    Log.d(NETWORK_STATE, \"Peer Discovery stopping failed, failcode: \" + reason);\n                }\n            });\n        }\n    }\n\n    public void initializeWifiDirect(){\n        //Wifi Direct\n        // This clall provides the API for managing Wifi peer-to-peer connectivity.\n        manager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\n        // A channel that connects the application to the Wifi p2p framework.\n        // Most p2p operations require a channel as an argument.\n        if (manager != null) {\n            channel = manager.initialize(this, getMainLooper(), null);\n        }\n\n        receiver = new WiFiDirectBroadcastReceiver(manager, channel, this);\n\n        intentFilter = new IntentFilter();\n\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION);\n        intentFilter.addAction(WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION);\n\n    }\n}\n</code></pre>\n\n<p>WiFiDirectBroadcastReceiver.class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.tu_chemnitz.dayliehelperprototype;\n\nimport.*\n\n/**\n * A BroadcastReceiver that notifies of important wifi p2p events.\n */\npublic class WiFiDirectBroadcastReceiver extends BroadcastReceiver {\n\n    private WifiP2pManager manager;\n    private Channel channel;\n    private MainActivity activity;\n\n    private static final String TAG = \"WiFiDirectBroadcastReceiver\";\n\n    /**\n     * @param manager  WifiP2pManager system service\n     * @param channel  Wifi p2p channel\n     * @param activity activity associated with the receiver\n     */\n    public WiFiDirectBroadcastReceiver(WifiP2pManager manager, Channel channel,MainActivity activity){\n        super();\n        this.manager = manager;\n        this.channel = channel;\n        this.activity = activity;\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see android.content.BroadcastReceiver#onReceive(android.content.Context,\n     * android.content.Intent)\n     */\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) {\n\n            // UI update to indicate wifi p2p status.\n            int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1);\n            if (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED &amp;&amp; Utility.getBool(activity, \"switch_states\", \"notify_switchkey\")) {\n                activity.startFindPeers();\n            }\n            else {\n\n            }\n            Log.d(TAG, \"P2P state changed - \" + state);\n        }\n        else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) {\n\n            // request available peers from the wifi p2p manager. This is an\n            // asynchronous call and the calling activity is notified with a\n            // callback on PeerListListener.onPeersAvailable()\n            if (manager != null) {\n                manager.requestPeers(channel, activity.peerListListener);\n            }\n            Log.d(TAG, \"P2P peers changed\");\n        }\n        else if (WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION.equals(action)) {\n\n        }\n        else if (WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION.equals(action)) {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","database-migration","liquibase"],"answers":[{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654492557,"creation_date":1654317947,"answer_id":72497143,"question_id":72497053,"body_markdown":"You have to create a different change log and needs to be added to the master file\r\n\r\nBest Practices Using Liquibase\r\n\r\nOrganizing Changelogs: Create a master changelog file that does not have actual changeSets but includes other changelogs (only YAML, JSON, and XML support using include, SQL does not). Doing so allows us to organize our changeSets in different changelog files. Every time we add a new feature to the application that requires a database change, we can create a new changelog file, add it to version control, and include it in the master changelog.\r\n\r\nOne Change per ChangeSet: Have only one change per changeSet, as this allows easier rollback in case of a failure in applying the changeSet.\r\n\r\nDon’t Modify a ChangeSet: Never modify a changeSet once it has been executed. Instead, add a new changeSet if modifications are needed for the change that has been applied by an existing changeSet. Liquibase keeps track of the checksums of the changeSets that it already executed. If an already run changeSet is modified, Liquibase by default will fail to run that changeSet again, and it will not proceed with the execution of other changeSets.\r\n\r\n\r\n&lt;h1&gt;Sample Setup&lt;/h1&gt;\r\nCurrently, I am using SQL format liquibase changelog but you can use XML, YAML or any other format.\r\n\r\ntest_schema.sql\r\n\r\n```sql\r\n--liquibase formatted sql\r\n--changeset test_user:test_schema splitStatements:true endDelimiter:; dbms:postgresql runOnChange:true runInTransaction:true context:dev, qa, prod logicalFilePath:schema/test_schema.sql\r\n--preconditions onFail:HALT onError:HALT\r\n--comment test_schema is added\r\n\r\nCREATE TABLE test_data\r\n(\r\n    test_id            bigint PRIMARY KEY,\r\n    test_data          character varying(100),\r\n    created_time       timestamp with time zone,\r\n    last_modified_time timestamp with time zone\r\n);\r\n```\r\n\r\nchangelog-master.xml\r\n\r\n```sql\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;databaseChangeLog\r\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd&quot;&gt;\r\n    &lt;include file=&quot;schemas/test_schema.sql&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n&lt;/databaseChangeLog&gt;\r\n```\r\n\r\n&lt;h2&gt;directory setup &lt;/h2&gt;\r\n[![directory_setup][1]][1]\r\n\r\n\r\nSoure : https://reflectoring.io/database-migration-spring-boot-liquibase/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1DT5V.png","title":"How to update database using Liquibase in Spring boot application?","body":"<p>You have to create a different change log and needs to be added to the master file</p>\n<p>Best Practices Using Liquibase</p>\n<p>Organizing Changelogs: Create a master changelog file that does not have actual changeSets but includes other changelogs (only YAML, JSON, and XML support using include, SQL does not). Doing so allows us to organize our changeSets in different changelog files. Every time we add a new feature to the application that requires a database change, we can create a new changelog file, add it to version control, and include it in the master changelog.</p>\n<p>One Change per ChangeSet: Have only one change per changeSet, as this allows easier rollback in case of a failure in applying the changeSet.</p>\n<p>Don’t Modify a ChangeSet: Never modify a changeSet once it has been executed. Instead, add a new changeSet if modifications are needed for the change that has been applied by an existing changeSet. Liquibase keeps track of the checksums of the changeSets that it already executed. If an already run changeSet is modified, Liquibase by default will fail to run that changeSet again, and it will not proceed with the execution of other changeSets.</p>\n<h1>Sample Setup</h1>\nCurrently, I am using SQL format liquibase changelog but you can use XML, YAML or any other format.\n<p>test_schema.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--liquibase formatted sql\n--changeset test_user:test_schema splitStatements:true endDelimiter:; dbms:postgresql runOnChange:true runInTransaction:true context:dev, qa, prod logicalFilePath:schema/test_schema.sql\n--preconditions onFail:HALT onError:HALT\n--comment test_schema is added\n\nCREATE TABLE test_data\n(\n    test_id            bigint PRIMARY KEY,\n    test_data          character varying(100),\n    created_time       timestamp with time zone,\n    last_modified_time timestamp with time zone\n);\n</code></pre>\n<p>changelog-master.xml</p>\n<pre class=\"lang-sql prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd&quot;&gt;\n    &lt;include file=&quot;schemas/test_schema.sql&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<h2>directory setup </h2>\n[![directory_setup][1]][1]\n<p>Soure : <a href=\"https://reflectoring.io/database-migration-spring-boot-liquibase/\" rel=\"nofollow noreferrer\">https://reflectoring.io/database-migration-spring-boot-liquibase/</a></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654368704,"creation_date":1654367818,"answer_id":72502211,"question_id":72497053,"body_markdown":"As you can read [here][1] ,\r\n\r\n&gt; **Liquibase provides version control for your database**\r\n\r\n, the main reason Liquibase became so popular was that it allowed some type of version control to be applied on databases.\r\n\r\nFor this to be able to happen you need to always record your changes in database into changelogs. \r\n\r\nSo an example of Liquibase project will have\r\n\r\n 1. create-initial-tables-changelog.xml\r\n\r\n 2. update-schema-10-5-22.changelog.xml\r\n\r\n 3. update-data-15-5-22.changelog.xml\r\n\r\n 4. update-schema-10-6-22.changelog.xml\r\n\r\n 5. update-data-15-6-22.changelog.xml\r\n\r\nEach changelog file with changes may be named according to a representation of what the main changes are (dates are used here only for simplifying). \r\n\r\nThen the user can use a  version control system (like git) and when for example the user checkouts a commit of the past (ex commit A on 15/05/2022) then he is able to view the database on that version as it existed on 15/05/2022, since liquibase will execute only the scripts that existed on that commit, namely `create-initial-tables-changelog.xml`, `update-schema-10-5-22.changelog.xml`, `update-data-15-5-22.changelog.xml`.\r\n\r\nAlso all changelog files need to be referenced in the master changelog file for a specific version, because this file is used for executing scripts in database when asked for.\r\n\r\n&gt; The master changelog file works as a configuration file that will hold\r\n&gt; all the references to all your other changelogs. Your master changelog\r\n&gt; file must be in an XML, YAML, or JSON format.\r\n[From docs][2]\r\n\r\nHaving said all the above, now I can answer your question\r\n\r\n&gt; So do I need to update the existing create-tables.YAML with column\r\n&gt; configuration or need to create another file with a different name\r\n\r\nProbably the main reason you use Liquibase, is to have a version control of your database. If you wish to respect this reason, then you must create a different changelog file which would be a snapshot of a different version of database than the initial version that existed.\r\n\r\nAlso if for example you had the initial `create-tables-changelog.xml` and then you also had 3 more `changelog.xml` files that applied changes in database, you could not afford to make changes only in the `create-tables-changelog.xml` since this would risk that the execution of the 3 next files `changelog1.xml`, `changelog2.xml`, `changelog3.xml` would break. \r\n\r\n\r\n  [1]: https://www.liquibase.com/version-control\r\n  [2]: https://docs.liquibase.com/concepts/changelogs/attributes/include.html\r\n\r\n","title":"How to update database using Liquibase in Spring boot application?","body":"<p>As you can read <a href=\"https://www.liquibase.com/version-control\" rel=\"nofollow noreferrer\">here</a> ,</p>\n<blockquote>\n<p><strong>Liquibase provides version control for your database</strong></p>\n</blockquote>\n<p>, the main reason Liquibase became so popular was that it allowed some type of version control to be applied on databases.</p>\n<p>For this to be able to happen you need to always record your changes in database into changelogs.</p>\n<p>So an example of Liquibase project will have</p>\n<ol>\n<li><p>create-initial-tables-changelog.xml</p>\n</li>\n<li><p>update-schema-10-5-22.changelog.xml</p>\n</li>\n<li><p>update-data-15-5-22.changelog.xml</p>\n</li>\n<li><p>update-schema-10-6-22.changelog.xml</p>\n</li>\n<li><p>update-data-15-6-22.changelog.xml</p>\n</li>\n</ol>\n<p>Each changelog file with changes may be named according to a representation of what the main changes are (dates are used here only for simplifying).</p>\n<p>Then the user can use a  version control system (like git) and when for example the user checkouts a commit of the past (ex commit A on 15/05/2022) then he is able to view the database on that version as it existed on 15/05/2022, since liquibase will execute only the scripts that existed on that commit, namely <code>create-initial-tables-changelog.xml</code>, <code>update-schema-10-5-22.changelog.xml</code>, <code>update-data-15-5-22.changelog.xml</code>.</p>\n<p>Also all changelog files need to be referenced in the master changelog file for a specific version, because this file is used for executing scripts in database when asked for.</p>\n<blockquote>\n<p>The master changelog file works as a configuration file that will hold\nall the references to all your other changelogs. Your master changelog\nfile must be in an XML, YAML, or JSON format.\n<a href=\"https://docs.liquibase.com/concepts/changelogs/attributes/include.html\" rel=\"nofollow noreferrer\">From docs</a></p>\n</blockquote>\n<p>Having said all the above, now I can answer your question</p>\n<blockquote>\n<p>So do I need to update the existing create-tables.YAML with column\nconfiguration or need to create another file with a different name</p>\n</blockquote>\n<p>Probably the main reason you use Liquibase, is to have a version control of your database. If you wish to respect this reason, then you must create a different changelog file which would be a snapshot of a different version of database than the initial version that existed.</p>\n<p>Also if for example you had the initial <code>create-tables-changelog.xml</code> and then you also had 3 more <code>changelog.xml</code> files that applied changes in database, you could not afford to make changes only in the <code>create-tables-changelog.xml</code> since this would risk that the execution of the 3 next files <code>changelog1.xml</code>, <code>changelog2.xml</code>, <code>changelog3.xml</code> would break.</p>\n"}],"owner":{"account_id":448756,"reputation":574,"user_id":7369265,"accept_rate":40,"display_name":"Ranjit Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4559,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1654492557,"creation_date":1654316638,"question_id":72497053,"body_markdown":"I have the following liquibase configuration for the database in the spring boot application.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/82yR0.png\r\n\r\nInitially, these YAML scripts were executed when the application started and the database was created, now I want to update the datatype for one column so do I need to update the existing create-tables.YAML with column configuration or need to create another file with a different name and add the entry in &quot;db.changelog-master.yaml&quot; file.\r\n\r\nPlease suggest, Thanks \r\n","title":"How to update database using Liquibase in Spring boot application?","body":"<p>I have the following liquibase configuration for the database in the spring boot application.</p>\n<p><a href=\"https://i.stack.imgur.com/82yR0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/82yR0.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially, these YAML scripts were executed when the application started and the database was created, now I want to update the datatype for one column so do I need to update the existing create-tables.YAML with column configuration or need to create another file with a different name and add the entry in &quot;db.changelog-master.yaml&quot; file.</p>\n<p>Please suggest, Thanks</p>\n"},{"tags":["java","angular","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654489729,"post_id":72512975,"comment_id":128095044,"body_markdown":"Have you tested the API?","body":"Have you tested the API?"},{"owner":{"account_id":25254383,"reputation":17,"user_id":19086374,"display_name":"Jay Mistry"},"score":0,"creation_date":1654491393,"post_id":72512975,"comment_id":128095252,"body_markdown":"@SivaRahul, I have tested the API, as I mentioned in post, For 1st time when I am sending the request after reload it is showing the above error. After the 1st attempt whenever I send the request it is fetching the values correctly.","body":"@SivaRahul, I have tested the API, as I mentioned in post, For 1st time when I am sending the request after reload it is showing the above error. After the 1st attempt whenever I send the request it is fetching the values correctly."}],"answers":[{"tags":[],"owner":{"account_id":5047300,"reputation":3904,"user_id":4052858,"accept_rate":73,"display_name":"N.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654492309,"creation_date":1654492309,"answer_id":72513297,"question_id":72512975,"body_markdown":"You have to push to `this.stringifiedData` in the `subscribe` as below.\r\n\r\n```\r\n  fetchLocation()\r\n  {\r\n    this.GetRequest.fetchLocation().subscribe(data =&gt; {\r\n      this.Location = data;\r\n      for (let i = 0; i &lt; Object.keys(this.Location).length; i++)\r\n      {\r\n        this.stringifiedData.push(this.Location[i].locationName);\r\n      }\r\n      console.log(this.stringifiedData);\r\n    });\r\n  }\r\n```","title":"Angular :: ERROR TypeError: Cannot convert undefined or null to object","body":"<p>You have to push to <code>this.stringifiedData</code> in the <code>subscribe</code> as below.</p>\n<pre><code>  fetchLocation()\n  {\n    this.GetRequest.fetchLocation().subscribe(data =&gt; {\n      this.Location = data;\n      for (let i = 0; i &lt; Object.keys(this.Location).length; i++)\n      {\n        this.stringifiedData.push(this.Location[i].locationName);\n      }\n      console.log(this.stringifiedData);\n    });\n  }\n</code></pre>\n"}],"owner":{"account_id":25254383,"reputation":17,"user_id":19086374,"display_name":"Jay Mistry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72513297,"answer_count":1,"score":0,"last_activity_date":1654492309,"creation_date":1654488711,"question_id":72512975,"body_markdown":"I am using Spring Boot as backend and Angular as FrontEnd.\r\nI am sending a GET request from Angular to fetch Location City from Backend database and save it in variable to populate a drop-down.\r\nI have used a button to send the request, while pressing the button for the first time I am getting a error as mentioned in above title, but if I press the button for second time I successfully get the data.\r\nI want to send the GET request and set the data in controller.\r\nPlease help to solve the error so that I can fetch the data in 1st time.\r\n\r\n    Angular version: 13.3.7  \r\n    Typescipt version: 4.6.4\r\n    Please check my below code:\r\n    home.component.html\r\n\r\nCurrently, I have hardcoded the value in drop-down\r\n\r\n```\r\n&lt;section class=&quot;vh-100 gradient-custom&quot;&gt;\r\n    &lt;div class=&quot;container py-5 h-100&quot;&gt;\r\n      &lt;div class=&quot;row justify-content-center align-items-center h-100&quot;&gt;\r\n        &lt;div class=&quot;col-12 col-lg-9 col-xl-7&quot;&gt;\r\n          &lt;div\r\n            class=&quot;card shadow-2-strong card-registration&quot;\r\n            style=&quot;border-radius: 15px&quot;\r\n          &gt;\r\n            &lt;div class=&quot;card-body p-4 p-md-5&quot;&gt;\r\n              &lt;h1 class=&quot;mb-4 pb-2 pb-md-0 mb-md-5 text-center&quot;&gt;Booking Form&lt;/h1&gt;\r\n              &lt;hr&gt;\r\n              &lt;form (ngSubmit)=&quot;getBookingFormData()&quot;&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-12&quot;&gt;\r\n                    &lt;label class=&quot;form-label select-label mx-2&quot;&gt;From&lt;/label&gt;\r\n                    &lt;select\r\n                      class=&quot;select form-control-lg mx-5 my-5&quot;\r\n                      id=&quot;country&quot;\r\n                      [(ngModel)]=&quot;booking.from&quot;\r\n                      name=&quot;country&quot;\r\n                    &gt;\r\n                      &lt;option *ngFor=&quot;let country of stringifiedData&quot; [value]=&quot;country&quot;&gt;\r\n                        {{ country }}&lt;/option&gt;\r\n                    &lt;/select&gt;\r\n      \r\n                  &lt;/div&gt;\r\n                  &lt;div class=&quot;row&quot;&gt;\r\n                    &lt;div class=&quot;col-12&quot;&gt;\r\n                      &lt;label class=&quot;form-label select-label mx-2&quot;&gt;To&lt;/label&gt;\r\n                      &lt;select\r\n                        class=&quot;select form-control-lg mx-5 my-2&quot;\r\n                        id=&quot;country&quot;\r\n                        [(ngModel)]=&quot;booking.to&quot;\r\n                        name=&quot;country&quot;\r\n                      &gt;\r\n                        &lt;option value=&quot;1&quot;&gt;Choose option&lt;/option&gt;\r\n                        &lt;option value=&quot;Mumbai&quot;&gt;Mumbai&lt;/option&gt;\r\n                        &lt;option value=&quot;Delhi&quot;&gt;Delhi&lt;/option&gt;\r\n                        &lt;option value=&quot;Kolkata&quot;&gt;Kolkata&lt;/option&gt;\r\n                      &lt;/select&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;row my-4&quot;&gt;\r\n                    &lt;div class=&quot;col-md-6 mb-4 d-flex align-items-center&quot;&gt;\r\n                        &lt;label id=&quot;example-radio-group-label&quot;&gt;Birth date: &lt;/label&gt;\r\n                        &lt;div class=&quot;input-group date mx-5&quot; data-provide=&quot;datepicker&quot;&gt;\r\n                          &lt;input type=&quot;date&quot; class=&quot;form-control&quot; \r\n                          [(ngModel)]=&quot;booking.date&quot;\r\n                          name=&quot;birthdayDate&quot;\r\n                          /&gt;\r\n                          &lt;div class=&quot;input-group-addon&quot;&gt;\r\n                            &lt;span class=&quot;glyphicon glyphicon-th&quot;&gt;&lt;/span&gt;\r\n                          &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                      &lt;/div&gt;\r\n                &lt;/div&gt;\r\n  \r\n                &lt;div class=&quot;mt-4 pt-2 &quot;&gt;\r\n                  &lt;button type=&quot;submit&quot; mat-raised-button color=&quot;primary&quot;&gt;\r\n                    Book Now!&lt;/button&gt;\r\n                &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/form&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/section&gt;  \r\n{{booking | json}}\r\n```\r\nhome.component.ts\r\n\r\n```\r\nimport { Component, OnInit } from &#39;@angular/core&#39;;\r\nimport { LocationService } from &#39;src/app/service/location.service&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-home&#39;,\r\n  templateUrl: &#39;./home.component.html&#39;,\r\n  styleUrls: [&#39;./home.component.css&#39;]\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  //Variables to be used in the html file\r\n  stringifiedData: any[] = [&quot;Mumbai&quot;, &quot;Surat&quot;];\r\n  Location: any;\r\n  booking = {\r\n    from !: &quot;&quot;,\r\n    to !: &quot;&quot;,\r\n    date !: &quot;&quot;\r\n  }\r\n\r\n  fetchLocation()\r\n  {\r\n    this.GetRequest.fetchLocation().subscribe(data =&gt; this.Location = data)\r\n    for (let i = 0; i &lt; Object.keys(this.Location).length; i++)\r\n    {\r\n      this.stringifiedData.push(this.Location[i].locationName);\r\n    }\r\n    console.log(this.stringifiedData);\r\n  }\r\n  getBookingFormData()\r\n  {\r\n    if(!(this.validateForm()))\r\n    {\r\n      this.fetchLocation();\r\n    }\r\n  }\r\n  validateForm()\r\n  {\r\n    if (this.booking.from == &quot;&quot; || this.booking.to == &quot;&quot; || this.booking.date == &quot;&quot;)\r\n    {\r\n      alert(&quot;Please fill in all the fields&quot;);\r\n      return false;\r\n    }\r\n    else if (this.booking.from == this.booking.to)\r\n    {\r\n      alert(&quot;Please select different destinations&quot;);\r\n      return false;\r\n    }\r\n    else if (this.booking.date &lt; new Date().toISOString().split(&#39;T&#39;)[0])\r\n    {\r\n      alert(&quot;Please select a future date&quot;);\r\n      return false;\r\n    }\r\n    else \r\n    {\r\n      console.log(this.booking);\r\n      return true;\r\n    }\r\n  }\r\n\r\n  constructor(private GetRequest : LocationService) { \r\n    try {\r\n      //this.fetchLocation();\r\n    } catch (error) {\r\n      console.log(&quot;Error&quot;);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n}\r\n```\r\nlocation.service.ts\r\n```\r\nimport { HttpClient } from &#39;@angular/common/http&#39;;\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class LocationService {\r\n  private baseUrl:string = &quot;http://localhost:8080&quot;;\r\n  constructor(private http:HttpClient) {\r\n  }\r\n\r\n  fetchLocation()\r\n  {\r\n\r\n      return this.http.get&lt;Location[]&gt;(`${this.baseUrl}/getLocations`);  \r\n  }\r\n}\r\n```\r\nBackend:\r\n\r\nLocationController.java\r\n\r\n```\r\npackage com.example.democom.travelbuddy.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.democom.travelbuddy.entities.LocationDO;\r\nimport com.example.democom.travelbuddy.helper.LocationService;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class LocationController {\r\n    @Autowired\r\n    private LocationService locationService;\r\n\r\n\r\n    @GetMapping(&quot;/getLocations&quot;)\r\n    public ResponseEntity fetchLocation()\r\n    {\r\n        System.out.println(&quot;In LocationController&quot;);\r\n        List&lt;LocationDO&gt; locationDO = locationService.getLocation();\r\n        if (locationDO.size() &gt; 0)\r\n        {\r\n            return ResponseEntity.of(Optional.of(locationDO));\r\n        }\r\n        else\r\n        //To return custome HTTPResponse\r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).build();\r\n    }\r\n    \r\n}\r\n```\r\nLocationDO.java\r\n```\r\npackage com.example.democom.travelbuddy.entities;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class LocationDO {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;locationseq&quot;)\r\n    private Long locationId;\r\n    @Column(name = &quot;locationname&quot;)\r\n    private String locationName;\r\n    public Long getLocationId() {\r\n        return locationId;\r\n    }\r\n    public void setLocationId(Long locationId) {\r\n        this.locationId = locationId;\r\n    }\r\n    public String getLocationName() {\r\n        return locationName;\r\n    }\r\n    public void setLocationName(String locationName) {\r\n        this.locationName = locationName;\r\n    }\r\n\r\n    \r\n}\r\n```\r\nLocationService.java\r\n```\r\npackage com.example.democom.travelbuddy.helper;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.democom.travelbuddy.dao.LocationRepository;\r\nimport com.example.democom.travelbuddy.entities.LocationDO;\r\n\r\n@Service\r\npublic class LocationService {\r\n    @Autowired\r\n    LocationRepository locationRepository;\r\n    public List&lt;LocationDO&gt; getLocation() {\r\n        List&lt;LocationDO&gt; locationDOs = new ArrayList&lt;&gt;();\r\n        locationRepository.findAll().forEach(locationDOs::add);\r\n        return locationDOs;\r\n    }\r\n}\r\n```\r\nLocationRepository.java\r\n```\r\npackage com.example.democom.travelbuddy.dao;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.example.democom.travelbuddy.entities.LocationDO;\r\n\r\n@Component\r\npublic interface LocationRepository extends CrudRepository&lt;LocationDO , Long&gt; {\r\n\r\n}\r\n```\r\nPlease check given link for error image that I got in console:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SsL7r.png","title":"Angular :: ERROR TypeError: Cannot convert undefined or null to object","body":"<p>I am using Spring Boot as backend and Angular as FrontEnd.\nI am sending a GET request from Angular to fetch Location City from Backend database and save it in variable to populate a drop-down.\nI have used a button to send the request, while pressing the button for the first time I am getting a error as mentioned in above title, but if I press the button for second time I successfully get the data.\nI want to send the GET request and set the data in controller.\nPlease help to solve the error so that I can fetch the data in 1st time.</p>\n<pre><code>Angular version: 13.3.7  \nTypescipt version: 4.6.4\nPlease check my below code:\nhome.component.html\n</code></pre>\n<p>Currently, I have hardcoded the value in drop-down</p>\n<pre><code>&lt;section class=&quot;vh-100 gradient-custom&quot;&gt;\n    &lt;div class=&quot;container py-5 h-100&quot;&gt;\n      &lt;div class=&quot;row justify-content-center align-items-center h-100&quot;&gt;\n        &lt;div class=&quot;col-12 col-lg-9 col-xl-7&quot;&gt;\n          &lt;div\n            class=&quot;card shadow-2-strong card-registration&quot;\n            style=&quot;border-radius: 15px&quot;\n          &gt;\n            &lt;div class=&quot;card-body p-4 p-md-5&quot;&gt;\n              &lt;h1 class=&quot;mb-4 pb-2 pb-md-0 mb-md-5 text-center&quot;&gt;Booking Form&lt;/h1&gt;\n              &lt;hr&gt;\n              &lt;form (ngSubmit)=&quot;getBookingFormData()&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                  &lt;div class=&quot;col-12&quot;&gt;\n                    &lt;label class=&quot;form-label select-label mx-2&quot;&gt;From&lt;/label&gt;\n                    &lt;select\n                      class=&quot;select form-control-lg mx-5 my-5&quot;\n                      id=&quot;country&quot;\n                      [(ngModel)]=&quot;booking.from&quot;\n                      name=&quot;country&quot;\n                    &gt;\n                      &lt;option *ngFor=&quot;let country of stringifiedData&quot; [value]=&quot;country&quot;&gt;\n                        {{ country }}&lt;/option&gt;\n                    &lt;/select&gt;\n      \n                  &lt;/div&gt;\n                  &lt;div class=&quot;row&quot;&gt;\n                    &lt;div class=&quot;col-12&quot;&gt;\n                      &lt;label class=&quot;form-label select-label mx-2&quot;&gt;To&lt;/label&gt;\n                      &lt;select\n                        class=&quot;select form-control-lg mx-5 my-2&quot;\n                        id=&quot;country&quot;\n                        [(ngModel)]=&quot;booking.to&quot;\n                        name=&quot;country&quot;\n                      &gt;\n                        &lt;option value=&quot;1&quot;&gt;Choose option&lt;/option&gt;\n                        &lt;option value=&quot;Mumbai&quot;&gt;Mumbai&lt;/option&gt;\n                        &lt;option value=&quot;Delhi&quot;&gt;Delhi&lt;/option&gt;\n                        &lt;option value=&quot;Kolkata&quot;&gt;Kolkata&lt;/option&gt;\n                      &lt;/select&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;row my-4&quot;&gt;\n                    &lt;div class=&quot;col-md-6 mb-4 d-flex align-items-center&quot;&gt;\n                        &lt;label id=&quot;example-radio-group-label&quot;&gt;Birth date: &lt;/label&gt;\n                        &lt;div class=&quot;input-group date mx-5&quot; data-provide=&quot;datepicker&quot;&gt;\n                          &lt;input type=&quot;date&quot; class=&quot;form-control&quot; \n                          [(ngModel)]=&quot;booking.date&quot;\n                          name=&quot;birthdayDate&quot;\n                          /&gt;\n                          &lt;div class=&quot;input-group-addon&quot;&gt;\n                            &lt;span class=&quot;glyphicon glyphicon-th&quot;&gt;&lt;/span&gt;\n                          &lt;/div&gt;\n                        &lt;/div&gt;\n                      &lt;/div&gt;\n                &lt;/div&gt;\n  \n                &lt;div class=&quot;mt-4 pt-2 &quot;&gt;\n                  &lt;button type=&quot;submit&quot; mat-raised-button color=&quot;primary&quot;&gt;\n                    Book Now!&lt;/button&gt;\n                &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/form&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;  \n{{booking | json}}\n</code></pre>\n<p>home.component.ts</p>\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { LocationService } from 'src/app/service/location.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  //Variables to be used in the html file\n  stringifiedData: any[] = [&quot;Mumbai&quot;, &quot;Surat&quot;];\n  Location: any;\n  booking = {\n    from !: &quot;&quot;,\n    to !: &quot;&quot;,\n    date !: &quot;&quot;\n  }\n\n  fetchLocation()\n  {\n    this.GetRequest.fetchLocation().subscribe(data =&gt; this.Location = data)\n    for (let i = 0; i &lt; Object.keys(this.Location).length; i++)\n    {\n      this.stringifiedData.push(this.Location[i].locationName);\n    }\n    console.log(this.stringifiedData);\n  }\n  getBookingFormData()\n  {\n    if(!(this.validateForm()))\n    {\n      this.fetchLocation();\n    }\n  }\n  validateForm()\n  {\n    if (this.booking.from == &quot;&quot; || this.booking.to == &quot;&quot; || this.booking.date == &quot;&quot;)\n    {\n      alert(&quot;Please fill in all the fields&quot;);\n      return false;\n    }\n    else if (this.booking.from == this.booking.to)\n    {\n      alert(&quot;Please select different destinations&quot;);\n      return false;\n    }\n    else if (this.booking.date &lt; new Date().toISOString().split('T')[0])\n    {\n      alert(&quot;Please select a future date&quot;);\n      return false;\n    }\n    else \n    {\n      console.log(this.booking);\n      return true;\n    }\n  }\n\n  constructor(private GetRequest : LocationService) { \n    try {\n      //this.fetchLocation();\n    } catch (error) {\n      console.log(&quot;Error&quot;);\n    }\n  }\n\n  ngOnInit(): void {\n\n  }\n\n}\n</code></pre>\n<p>location.service.ts</p>\n<pre><code>import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationService {\n  private baseUrl:string = &quot;http://localhost:8080&quot;;\n  constructor(private http:HttpClient) {\n  }\n\n  fetchLocation()\n  {\n\n      return this.http.get&lt;Location[]&gt;(`${this.baseUrl}/getLocations`);  \n  }\n}\n</code></pre>\n<p>Backend:</p>\n<p>LocationController.java</p>\n<pre><code>package com.example.democom.travelbuddy.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.democom.travelbuddy.entities.LocationDO;\nimport com.example.democom.travelbuddy.helper.LocationService;\n\n@RestController\n@CrossOrigin\npublic class LocationController {\n    @Autowired\n    private LocationService locationService;\n\n\n    @GetMapping(&quot;/getLocations&quot;)\n    public ResponseEntity fetchLocation()\n    {\n        System.out.println(&quot;In LocationController&quot;);\n        List&lt;LocationDO&gt; locationDO = locationService.getLocation();\n        if (locationDO.size() &gt; 0)\n        {\n            return ResponseEntity.of(Optional.of(locationDO));\n        }\n        else\n        //To return custome HTTPResponse\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).build();\n    }\n    \n}\n</code></pre>\n<p>LocationDO.java</p>\n<pre><code>package com.example.democom.travelbuddy.entities;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class LocationDO {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;locationseq&quot;)\n    private Long locationId;\n    @Column(name = &quot;locationname&quot;)\n    private String locationName;\n    public Long getLocationId() {\n        return locationId;\n    }\n    public void setLocationId(Long locationId) {\n        this.locationId = locationId;\n    }\n    public String getLocationName() {\n        return locationName;\n    }\n    public void setLocationName(String locationName) {\n        this.locationName = locationName;\n    }\n\n    \n}\n</code></pre>\n<p>LocationService.java</p>\n<pre><code>package com.example.democom.travelbuddy.helper;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.example.democom.travelbuddy.dao.LocationRepository;\nimport com.example.democom.travelbuddy.entities.LocationDO;\n\n@Service\npublic class LocationService {\n    @Autowired\n    LocationRepository locationRepository;\n    public List&lt;LocationDO&gt; getLocation() {\n        List&lt;LocationDO&gt; locationDOs = new ArrayList&lt;&gt;();\n        locationRepository.findAll().forEach(locationDOs::add);\n        return locationDOs;\n    }\n}\n</code></pre>\n<p>LocationRepository.java</p>\n<pre><code>package com.example.democom.travelbuddy.dao;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Component;\n\nimport com.example.democom.travelbuddy.entities.LocationDO;\n\n@Component\npublic interface LocationRepository extends CrudRepository&lt;LocationDO , Long&gt; {\n\n}\n</code></pre>\n<p>Please check given link for error image that I got in console:\n<a href=\"https://i.stack.imgur.com/SsL7r.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","regex","replace"],"answers":[{"tags":[],"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1573428545,"creation_date":1573428285,"answer_id":58793863,"question_id":58793828,"body_markdown":"Use capturing groups:\r\n\r\n```java\r\n&gt; &quot;DoNt&quot;.replaceAll(&quot;(?i)\\\\b(don)(t)\\\\b&quot;, &quot;$1&#39;$2&quot;)\r\n&quot;DoN&#39;t&quot; (String)\r\n\r\n&gt; &quot;YoUrE&quot;.replaceAll(&quot;(?i)\\\\b(you)(re)\\\\b&quot;, &quot;$1&#39;$2&quot;)\r\n&quot;YoU&#39;rE&quot; (String)\r\n```\r\n\r\nYou should also use `\\b` for a word boundary, so you don&#39;t inadvertently change words like &quot;orthodontist&quot; into &quot;orthodon&#39;tist&quot;.","title":"Keep the same case when replacing words in Java","body":"<p>Use capturing groups:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&gt; \"DoNt\".replaceAll(\"(?i)\\\\b(don)(t)\\\\b\", \"$1'$2\")\n\"DoN't\" (String)\n\n&gt; \"YoUrE\".replaceAll(\"(?i)\\\\b(you)(re)\\\\b\", \"$1'$2\")\n\"YoU'rE\" (String)\n</code></pre>\n\n<p>You should also use <code>\\b</code> for a word boundary, so you don't inadvertently change words like \"orthodontist\" into \"orthodon'tist\".</p>\n"}],"owner":{"account_id":13873550,"reputation":55,"user_id":10015929,"display_name":"encode42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58793863,"answer_count":1,"score":0,"last_activity_date":1654491912,"creation_date":1573427938,"question_id":58793828,"body_markdown":"My goal is to correct common grammar errors in messages. Here&#39;s what I currently have written:\r\n```java\r\n@EventHandler\r\npublic void onChat(AsyncPlayerChatEvent event){\r\n    String message = event.getMessage().replaceAll(&quot;(?i)dont&quot;, &quot;don&#39;t&quot;)\r\n            .replaceAll(&quot;(?i)youre&quot;, &quot;you&#39;re&quot;);\r\n\r\n    event.setMessage(message);\r\n}\r\n```\r\n\r\nThis works to replace `dont` with `don&#39;t`, and `youre` with `you&#39;re`. The issue is that `DONT` is replaced with `don&#39;t`, rather than `DON&#39;T`.\r\n\r\nHow would I execute this replacement while preserving case?","title":"Keep the same case when replacing words in Java","body":"<p>My goal is to correct common grammar errors in messages. Here's what I currently have written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onChat(AsyncPlayerChatEvent event){\n    String message = event.getMessage().replaceAll(&quot;(?i)dont&quot;, &quot;don't&quot;)\n            .replaceAll(&quot;(?i)youre&quot;, &quot;you're&quot;);\n\n    event.setMessage(message);\n}\n</code></pre>\n<p>This works to replace <code>dont</code> with <code>don't</code>, and <code>youre</code> with <code>you're</code>. The issue is that <code>DONT</code> is replaced with <code>don't</code>, rather than <code>DON'T</code>.</p>\n<p>How would I execute this replacement while preserving case?</p>\n"},{"tags":["java","file","user-interface","jtextfield","reader"],"answers":[{"tags":[],"owner":{"account_id":8563273,"reputation":34,"user_id":6416634,"display_name":"tmj010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654491666,"creation_date":1654491666,"answer_id":72513227,"question_id":72512823,"body_markdown":"I revise your code a bit below is the updated code. To save a text from an input you&#39;ll need to know where you want the text to be written, then you&#39;ll need to get the text; after that, save the text to the file. The first thing I did was, made the JTextFields global variables so I could access them from another method, then create a method (saveToFile) to get the text from the JTexFields and save it to a file.\r\n\r\n        private static JTextField invField;\r\n    private static JTextField locationField;\r\n    private static JTextField idNumField;\r\n\r\n    public static void main(String[] args) {\r\n        //Contructs Frame\r\n        JFrame inputFrame = new JFrame();\r\n        inputFrame.setBounds(100, 100, 740, 439);\r\n        inputFrame.setVisible(true);\r\n        inputFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JLayeredPane layeredPane = new JLayeredPane();\r\n        GroupLayout groupLayout = new GroupLayout(inputFrame.getContentPane());\r\n        groupLayout.setHorizontalGroup(\r\n                groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addGroup(GroupLayout.Alignment.TRAILING, groupLayout.createSequentialGroup()\r\n                                .addComponent(layeredPane, GroupLayout.PREFERRED_SIZE, 724, GroupLayout.PREFERRED_SIZE)\r\n                                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        groupLayout.setVerticalGroup(\r\n                groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(layeredPane, GroupLayout.Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)\r\n        );\r\n\r\n        {\r\n            JLabel bckGndLbl = new JLabel(&quot;&quot;);\r\n            layeredPane.setLayer(bckGndLbl, 1);\r\n            bckGndLbl.setBounds(-23, -244, 1212, 894);\r\n            layeredPane.add(bckGndLbl);\r\n        }\r\n        {\r\n            JButton newBtn = new JButton();\r\n            layeredPane.setLayer(newBtn, 2);\r\n            newBtn.setBounds(10, 43, 89, 23);\r\n            newBtn.setToolTipText(&quot;New Entry&quot;);\r\n            newBtn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n\r\n                }\r\n            });\r\n\r\n            layeredPane.add(newBtn);\r\n\r\n            //Buttons Word Over Background\r\n            JLabel newLtrs = new JLabel(&quot;New&quot;);\r\n            newLtrs.setFont(new Font(&quot;Takoma&quot;, Font.BOLD, 11));\r\n            newLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n            layeredPane.setLayer(newLtrs, 3);\r\n            newLtrs.setBounds(10, 43, 89, 23);\r\n            layeredPane.add(newLtrs);\r\n            //Set Action\r\n\r\n\r\n            JButton delButton = new JButton();\r\n            layeredPane.setLayer(delButton, 2);\r\n            delButton.setBounds(10, 72, 89, 23);\r\n            delButton.setToolTipText(&quot;Delete Entry&quot;);\r\n            delButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n\r\n                }\r\n            });\r\n\r\n\r\n            layeredPane.add(delButton);\r\n\r\n            JLabel delLtrs = new JLabel(&quot;Delete&quot;);\r\n            delLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n            delLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n            layeredPane.setLayer(delLtrs, 3);\r\n            delLtrs.setBounds(10, 72, 89, 23);\r\n            layeredPane.add(delLtrs);\r\n\r\n            JButton saveBtn = new JButton();\r\n            layeredPane.setLayer(saveBtn, 2);\r\n            saveBtn.setBounds(10, 102, 89, 23);\r\n            saveBtn.setToolTipText(&quot;Save Entry&quot;);\r\n            saveBtn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    saveToFile();\r\n                }\r\n            });\r\n\r\n            layeredPane.add(saveBtn);\r\n            //Action Method\r\n\r\n            JLabel saveLtrs = new JLabel(&quot;Save&quot;);\r\n            saveLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n            saveLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n            layeredPane.setLayer(saveLtrs, 3);\r\n            saveLtrs.setBounds(10, 102, 89, 23);\r\n            layeredPane.add(saveLtrs);\r\n\r\n            JLabel lblNewLabel_1 = new JLabel(&quot;Inventory Item&quot;);\r\n            lblNewLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n            lblNewLabel_1.setForeground(Color.WHITE);\r\n            layeredPane.setLayer(lblNewLabel_1, 2);\r\n            lblNewLabel_1.setBounds(151, 43, 116, 23);\r\n            layeredPane.add(lblNewLabel_1);\r\n\r\n            invField = new JTextField(&quot; &quot;);\r\n            invField.setBackground(Color.LIGHT_GRAY);\r\n            layeredPane.setLayer(invField, 2);\r\n            invField.setBounds(266, 39, 391, 23);\r\n            layeredPane.add(invField);\r\n            invField.setColumns(10);\r\n\r\n            JLabel lblNewLabel_2 = new JLabel(&quot;Location&quot;);\r\n            lblNewLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n            lblNewLabel_2.setForeground(Color.WHITE);\r\n            layeredPane.setLayer(lblNewLabel_2, 2);\r\n            lblNewLabel_2.setBounds(151, 76, 116, 19);\r\n            layeredPane.add(lblNewLabel_2);\r\n\r\n            locationField = new JTextField(&quot; &quot;);\r\n            locationField.setBackground(Color.LIGHT_GRAY);\r\n            layeredPane.setLayer(locationField, 2);\r\n            locationField.setBounds(266, 73, 391, 23);\r\n            layeredPane.add(locationField);\r\n            locationField.setColumns(10);\r\n\r\n            JLabel lblNewLabel_3 = new JLabel(&quot;Item Number&quot;);\r\n            lblNewLabel_3.setForeground(Color.WHITE);\r\n            lblNewLabel_3.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n            layeredPane.setLayer(lblNewLabel_3, 2);\r\n            lblNewLabel_3.setBounds(151, 103, 116, 22);\r\n            layeredPane.add(lblNewLabel_3);\r\n\r\n            idNumField = new JTextField(&quot; &quot;);\r\n            idNumField.setBackground(Color.LIGHT_GRAY);\r\n            layeredPane.setLayer(idNumField, 2);\r\n            idNumField.setBounds(266, 107, 391, 23);\r\n            layeredPane.add(idNumField);\r\n            idNumField.setColumns(10);\r\n        }\r\n        inputFrame.getContentPane().setLayout(groupLayout);\r\n    }\r\n\r\n    private static void saveToFile() {\r\n        try {\r\n            //Path to the file\r\n            Path path = Paths.get(&quot;add the location of the file&quot;);\r\n\r\n            //Check to see if it exists, if it doesn&#39;t create it\r\n            if (!Files.exists(path)) {\r\n                Files.createFile(path);\r\n                System.out.println(&quot;Just created file&quot;);\r\n            }\r\n\r\n            //Get texts from the input fields\r\n            String invFieldStr = invField.getText();\r\n            String locationFieldText = locationField.getText();\r\n            String idNumFieldText = idNumField.getText();\r\n\r\n            //Add input fields value in an HTML form\r\n            String inputFormStr = &quot;&lt;form&gt;&quot; +\r\n                    &quot;&lt;label&gt;&quot; + invFieldStr + &quot;&lt;/label&gt;&quot; +\r\n                    &quot;&lt;label&gt;&quot; + locationFieldText + &quot;&lt;/label&gt;&quot; +\r\n                    &quot;&lt;label&gt;&quot; + idNumFieldText + &quot;&lt;/label&gt;&quot; +\r\n                    &quot;&lt;/form&gt;&quot;;\r\n\r\n            //Save input form string to file\r\n            Files.write(path, inputFormStr.getBytes(StandardCharsets.UTF_8));\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n","title":"How Do I Save JTextField Inputs to a .txt file in Java?","body":"<p>I revise your code a bit below is the updated code. To save a text from an input you'll need to know where you want the text to be written, then you'll need to get the text; after that, save the text to the file. The first thing I did was, made the JTextFields global variables so I could access them from another method, then create a method (saveToFile) to get the text from the JTexFields and save it to a file.</p>\n<pre><code>    private static JTextField invField;\nprivate static JTextField locationField;\nprivate static JTextField idNumField;\n\npublic static void main(String[] args) {\n    //Contructs Frame\n    JFrame inputFrame = new JFrame();\n    inputFrame.setBounds(100, 100, 740, 439);\n    inputFrame.setVisible(true);\n    inputFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JLayeredPane layeredPane = new JLayeredPane();\n    GroupLayout groupLayout = new GroupLayout(inputFrame.getContentPane());\n    groupLayout.setHorizontalGroup(\n            groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addGroup(GroupLayout.Alignment.TRAILING, groupLayout.createSequentialGroup()\n                            .addComponent(layeredPane, GroupLayout.PREFERRED_SIZE, 724, GroupLayout.PREFERRED_SIZE)\n                            .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n    );\n    groupLayout.setVerticalGroup(\n            groupLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(layeredPane, GroupLayout.Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)\n    );\n\n    {\n        JLabel bckGndLbl = new JLabel(&quot;&quot;);\n        layeredPane.setLayer(bckGndLbl, 1);\n        bckGndLbl.setBounds(-23, -244, 1212, 894);\n        layeredPane.add(bckGndLbl);\n    }\n    {\n        JButton newBtn = new JButton();\n        layeredPane.setLayer(newBtn, 2);\n        newBtn.setBounds(10, 43, 89, 23);\n        newBtn.setToolTipText(&quot;New Entry&quot;);\n        newBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n            }\n        });\n\n        layeredPane.add(newBtn);\n\n        //Buttons Word Over Background\n        JLabel newLtrs = new JLabel(&quot;New&quot;);\n        newLtrs.setFont(new Font(&quot;Takoma&quot;, Font.BOLD, 11));\n        newLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n        layeredPane.setLayer(newLtrs, 3);\n        newLtrs.setBounds(10, 43, 89, 23);\n        layeredPane.add(newLtrs);\n        //Set Action\n\n\n        JButton delButton = new JButton();\n        layeredPane.setLayer(delButton, 2);\n        delButton.setBounds(10, 72, 89, 23);\n        delButton.setToolTipText(&quot;Delete Entry&quot;);\n        delButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n            }\n        });\n\n\n        layeredPane.add(delButton);\n\n        JLabel delLtrs = new JLabel(&quot;Delete&quot;);\n        delLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\n        delLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n        layeredPane.setLayer(delLtrs, 3);\n        delLtrs.setBounds(10, 72, 89, 23);\n        layeredPane.add(delLtrs);\n\n        JButton saveBtn = new JButton();\n        layeredPane.setLayer(saveBtn, 2);\n        saveBtn.setBounds(10, 102, 89, 23);\n        saveBtn.setToolTipText(&quot;Save Entry&quot;);\n        saveBtn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                saveToFile();\n            }\n        });\n\n        layeredPane.add(saveBtn);\n        //Action Method\n\n        JLabel saveLtrs = new JLabel(&quot;Save&quot;);\n        saveLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\n        saveLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n        layeredPane.setLayer(saveLtrs, 3);\n        saveLtrs.setBounds(10, 102, 89, 23);\n        layeredPane.add(saveLtrs);\n\n        JLabel lblNewLabel_1 = new JLabel(&quot;Inventory Item&quot;);\n        lblNewLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        lblNewLabel_1.setForeground(Color.WHITE);\n        layeredPane.setLayer(lblNewLabel_1, 2);\n        lblNewLabel_1.setBounds(151, 43, 116, 23);\n        layeredPane.add(lblNewLabel_1);\n\n        invField = new JTextField(&quot; &quot;);\n        invField.setBackground(Color.LIGHT_GRAY);\n        layeredPane.setLayer(invField, 2);\n        invField.setBounds(266, 39, 391, 23);\n        layeredPane.add(invField);\n        invField.setColumns(10);\n\n        JLabel lblNewLabel_2 = new JLabel(&quot;Location&quot;);\n        lblNewLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        lblNewLabel_2.setForeground(Color.WHITE);\n        layeredPane.setLayer(lblNewLabel_2, 2);\n        lblNewLabel_2.setBounds(151, 76, 116, 19);\n        layeredPane.add(lblNewLabel_2);\n\n        locationField = new JTextField(&quot; &quot;);\n        locationField.setBackground(Color.LIGHT_GRAY);\n        layeredPane.setLayer(locationField, 2);\n        locationField.setBounds(266, 73, 391, 23);\n        layeredPane.add(locationField);\n        locationField.setColumns(10);\n\n        JLabel lblNewLabel_3 = new JLabel(&quot;Item Number&quot;);\n        lblNewLabel_3.setForeground(Color.WHITE);\n        lblNewLabel_3.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n        layeredPane.setLayer(lblNewLabel_3, 2);\n        lblNewLabel_3.setBounds(151, 103, 116, 22);\n        layeredPane.add(lblNewLabel_3);\n\n        idNumField = new JTextField(&quot; &quot;);\n        idNumField.setBackground(Color.LIGHT_GRAY);\n        layeredPane.setLayer(idNumField, 2);\n        idNumField.setBounds(266, 107, 391, 23);\n        layeredPane.add(idNumField);\n        idNumField.setColumns(10);\n    }\n    inputFrame.getContentPane().setLayout(groupLayout);\n}\n\nprivate static void saveToFile() {\n    try {\n        //Path to the file\n        Path path = Paths.get(&quot;add the location of the file&quot;);\n\n        //Check to see if it exists, if it doesn't create it\n        if (!Files.exists(path)) {\n            Files.createFile(path);\n            System.out.println(&quot;Just created file&quot;);\n        }\n\n        //Get texts from the input fields\n        String invFieldStr = invField.getText();\n        String locationFieldText = locationField.getText();\n        String idNumFieldText = idNumField.getText();\n\n        //Add input fields value in an HTML form\n        String inputFormStr = &quot;&lt;form&gt;&quot; +\n                &quot;&lt;label&gt;&quot; + invFieldStr + &quot;&lt;/label&gt;&quot; +\n                &quot;&lt;label&gt;&quot; + locationFieldText + &quot;&lt;/label&gt;&quot; +\n                &quot;&lt;label&gt;&quot; + idNumFieldText + &quot;&lt;/label&gt;&quot; +\n                &quot;&lt;/form&gt;&quot;;\n\n        //Save input form string to file\n        Files.write(path, inputFormStr.getBytes(StandardCharsets.UTF_8));\n\n    } catch (IOException e) {\n        System.out.println(&quot;Error: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25361379,"reputation":23,"user_id":19176566,"display_name":"smouvfox805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654491666,"creation_date":1654486802,"question_id":72512823,"body_markdown":"All I&#39;m looking to do is have a inventory form and have that &quot;jtextField&quot; input saved to text file for later recall. On the save buttons click I need it to save the text fields to file as a form. Please point me in the right direction, any advise would be very appreciated. Ive tried just about everything online and within my books and I could not find the solution. PS I am using Eclipse IDE\r\n\r\n\r\n```\r\n\r\n\r\npublic class inputFrameNXA implements ActionListener {\r\n\t\r\n\t\r\n\r\n\tpublic static void main(String[ ] args) \r\n\t{\r\n\r\n\t   \r\n\t  \r\n\t //Contructs Frame \r\n\t JFrame inputFrame = new JFrame( );   \r\n\t inputFrame.setBounds(100, 100, 740, 439);\r\n     inputFrame.setVisible(true);\r\n\t inputFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\tJLayeredPane layeredPane = new JLayeredPane();\r\n\tGroupLayout groupLayout = new GroupLayout(inputFrame.getContentPane());\r\n\tgroupLayout.setHorizontalGroup(\r\n\t\tgroupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t.addGroup(Alignment.TRAILING, groupLayout.createSequentialGroup()\r\n\t\t\t\t.addComponent(layeredPane, GroupLayout.PREFERRED_SIZE, 724, GroupLayout.PREFERRED_SIZE)\r\n\t\t\t\t.addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n\t);\r\n\tgroupLayout.setVerticalGroup(\r\n\t\tgroupLayout.createParallelGroup(Alignment.LEADING)\r\n\t\t\t.addComponent(layeredPane, Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)\r\n\t);\r\n\r\n\t{\r\n\tJLabel bckGndLbl = new JLabel(&quot;&quot;);\r\n\tlayeredPane.setLayer(bckGndLbl, 1);\r\n\tbckGndLbl.setBounds(-23, -244, 1212, 894);\r\n\tlayeredPane.add(bckGndLbl);\r\n}\r\n\t{\r\n\tJButton newBtn = new JButton( );\r\n\tlayeredPane.setLayer(newBtn, 2);\r\n\tnewBtn.setBounds(10, 43, 89, 23);\r\n\tnewBtn.setToolTipText(&quot;New Entry&quot;);\r\n\tnewBtn.addActionListener(new ActionListener( ) {\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t});\r\n\t\r\n\tlayeredPane.add(newBtn);\r\n\t\r\n\t//Buttons Word Over Background  \r\n\tJLabel newLtrs = new JLabel(&quot;New&quot;);\r\n\t  newLtrs.setFont(new Font(&quot;Takoma&quot;, Font.BOLD, 11));\r\n\t  newLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t  layeredPane.setLayer(newLtrs, 3);\r\n\t  newLtrs.setBounds(10, 43, 89, 23);\r\n\t  layeredPane.add(newLtrs);\r\n\t  //Set Action\r\n\t \r\n\t  \r\n\t  \r\n\t  \r\n\t \r\n\t\r\n\r\n\tJButton delButton = new JButton( );\r\n\tlayeredPane.setLayer(delButton, 2);\r\n\tdelButton.setBounds(10, 72, 89, 23);\r\n\tdelButton.setToolTipText(&quot;Delete Entry&quot;);\r\n\tdelButton.addActionListener(new ActionListener( ) {\r\n\t\tpublic void actionPertformed(ActionEvent e)\r\n\t\t{\r\n\t\t\tactionPerformed( e );\r\n\t\t}\r\n\r\n\t});\r\n\t  \r\n\t \r\n\tlayeredPane.add(delButton);\r\n\t\r\n\tJLabel delLtrs = new JLabel(&quot;Delete&quot;);\r\n\tdelLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n\tdelLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n\tlayeredPane.setLayer(delLtrs, 3);\r\n\tdelLtrs.setBounds(10, 72, 89, 23);\r\n\tlayeredPane.add(delLtrs);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\t\r\n  \r\n\tJButton saveBtn = new JButton( );\r\n\tlayeredPane.setLayer(saveBtn, 2);\r\n\tsaveBtn.setBounds(10, 102, 89, 23);\r\n\tsaveBtn.setToolTipText(&quot;Save Entry&quot;);\r\n\tsaveBtn.addActionListener(new ActionListener( ) {\r\n\t\tpublic void actionPertformed(ActionEvent e)\r\n\t\t{\r\n\t\t\tsaveField( );\r\n\t\t}\r\n\r\n\t\tprivate void saveField() {\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t});\r\n\t\r\n\tlayeredPane.add(saveBtn);\t\r\n\t//Action Method\r\n\t\r\n\t\r\n\t\r\n\tJLabel saveLtrs = new JLabel(&quot;Save&quot;);\r\n\tsaveLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\r\n\tsaveLtrs.setHorizontalAlignment(SwingConstants.CENTER);\r\n\tlayeredPane.setLayer(saveLtrs, 3);\r\n\tsaveLtrs.setBounds(10, 102, 89, 23);\r\n\tlayeredPane.add(saveLtrs);\r\n\t\r\n\t  \r\n\t \r\n\r\n\r\n\t\r\n\t\r\n\r\n\r\n\r\n\tJLabel lblNewLabel_1 = new JLabel(&quot;Inventory Item&quot;);\r\n\tlblNewLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\tlblNewLabel_1.setForeground(Color.WHITE);\r\n\tlayeredPane.setLayer(lblNewLabel_1, 2);\r\n\tlblNewLabel_1.setBounds(151, 43, 116, 23);\r\n\tlayeredPane.add(lblNewLabel_1);\r\n\t\r\n\r\n\tJTextField invField = new JTextField(&quot; &quot;);\r\n\tinvField.setBackground(Color.LIGHT_GRAY);\r\n\tlayeredPane.setLayer(invField, 2);\r\n\tinvField.setBounds(266, 39, 391, 23);\r\n\tlayeredPane.add(invField);\r\n\tinvField.setColumns(10);\r\n\t\r\n\tJLabel lblNewLabel_2 = new JLabel(&quot;Location&quot;);\r\n\tlblNewLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\tlblNewLabel_2.setForeground(Color.WHITE);\r\n\tlayeredPane.setLayer(lblNewLabel_2, 2);\r\n\tlblNewLabel_2.setBounds(151, 76, 116, 19);\r\n\tlayeredPane.add(lblNewLabel_2);\r\n\r\n\r\n\tJTextField locationField = new JTextField(&quot; &quot;);\r\n\tlocationField.setBackground(Color.LIGHT_GRAY);\r\n\tlayeredPane.setLayer(locationField, 2);\r\n\tlocationField.setBounds(266, 73, 391, 23);\r\n\tlayeredPane.add(locationField);\r\n\tlocationField.setColumns(10);\r\n\r\n\t\r\n\r\n    JLabel lblNewLabel_3 = new JLabel(&quot;Item Number&quot;);\r\n\tlblNewLabel_3.setForeground(Color.WHITE);\r\n\tlblNewLabel_3.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\tlayeredPane.setLayer(lblNewLabel_3, 2);\r\n\tlblNewLabel_3.setBounds(151, 103, 116, 22);\r\n\tlayeredPane.add(lblNewLabel_3);\r\n\r\n\t\r\n\tJTextField idNumField = new JTextField(&quot; &quot;);\r\n\tidNumField.setBackground(Color.LIGHT_GRAY);\r\n\tlayeredPane.setLayer(idNumField, 2);\r\n\tidNumField.setBounds(266, 107, 391, 23);\r\n\tlayeredPane.add(idNumField);\r\n\tidNumField.setColumns(10);\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\tinputFrame.getContentPane( ).setLayout(groupLayout);\r\n\t\r\n\t\r\n\t}\r\n}\r\n        ","title":"How Do I Save JTextField Inputs to a .txt file in Java?","body":"<p>All I'm looking to do is have a inventory form and have that &quot;jtextField&quot; input saved to text file for later recall. On the save buttons click I need it to save the text fields to file as a form. Please point me in the right direction, any advise would be very appreciated. Ive tried just about everything online and within my books and I could not find the solution. PS I am using Eclipse IDE</p>\n<pre><code>\n\npublic class inputFrameNXA implements ActionListener {\n    \n    \n\n    public static void main(String[ ] args) \n    {\n\n       \n      \n     //Contructs Frame \n     JFrame inputFrame = new JFrame( );   \n     inputFrame.setBounds(100, 100, 740, 439);\n     inputFrame.setVisible(true);\n     inputFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JLayeredPane layeredPane = new JLayeredPane();\n    GroupLayout groupLayout = new GroupLayout(inputFrame.getContentPane());\n    groupLayout.setHorizontalGroup(\n        groupLayout.createParallelGroup(Alignment.LEADING)\n            .addGroup(Alignment.TRAILING, groupLayout.createSequentialGroup()\n                .addComponent(layeredPane, GroupLayout.PREFERRED_SIZE, 724, GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n    );\n    groupLayout.setVerticalGroup(\n        groupLayout.createParallelGroup(Alignment.LEADING)\n            .addComponent(layeredPane, Alignment.TRAILING, GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)\n    );\n\n    {\n    JLabel bckGndLbl = new JLabel(&quot;&quot;);\n    layeredPane.setLayer(bckGndLbl, 1);\n    bckGndLbl.setBounds(-23, -244, 1212, 894);\n    layeredPane.add(bckGndLbl);\n}\n    {\n    JButton newBtn = new JButton( );\n    layeredPane.setLayer(newBtn, 2);\n    newBtn.setBounds(10, 43, 89, 23);\n    newBtn.setToolTipText(&quot;New Entry&quot;);\n    newBtn.addActionListener(new ActionListener( ) {\n            public void actionPerformed(ActionEvent e)\n            {\n            \n            }\n            });\n    \n    layeredPane.add(newBtn);\n    \n    //Buttons Word Over Background  \n    JLabel newLtrs = new JLabel(&quot;New&quot;);\n      newLtrs.setFont(new Font(&quot;Takoma&quot;, Font.BOLD, 11));\n      newLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n      layeredPane.setLayer(newLtrs, 3);\n      newLtrs.setBounds(10, 43, 89, 23);\n      layeredPane.add(newLtrs);\n      //Set Action\n     \n      \n      \n      \n     \n    \n\n    JButton delButton = new JButton( );\n    layeredPane.setLayer(delButton, 2);\n    delButton.setBounds(10, 72, 89, 23);\n    delButton.setToolTipText(&quot;Delete Entry&quot;);\n    delButton.addActionListener(new ActionListener( ) {\n        public void actionPertformed(ActionEvent e)\n        {\n            actionPerformed( e );\n        }\n\n    });\n      \n     \n    layeredPane.add(delButton);\n    \n    JLabel delLtrs = new JLabel(&quot;Delete&quot;);\n    delLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\n    delLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n    layeredPane.setLayer(delLtrs, 3);\n    delLtrs.setBounds(10, 72, 89, 23);\n    layeredPane.add(delLtrs);\n    \n    \n    \n    \n\n    \n  \n    JButton saveBtn = new JButton( );\n    layeredPane.setLayer(saveBtn, 2);\n    saveBtn.setBounds(10, 102, 89, 23);\n    saveBtn.setToolTipText(&quot;Save Entry&quot;);\n    saveBtn.addActionListener(new ActionListener( ) {\n        public void actionPertformed(ActionEvent e)\n        {\n            saveField( );\n        }\n\n        private void saveField() {\n            \n            \n        }\n    });\n    \n    layeredPane.add(saveBtn);   \n    //Action Method\n    \n    \n    \n    JLabel saveLtrs = new JLabel(&quot;Save&quot;);\n    saveLtrs.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 11));\n    saveLtrs.setHorizontalAlignment(SwingConstants.CENTER);\n    layeredPane.setLayer(saveLtrs, 3);\n    saveLtrs.setBounds(10, 102, 89, 23);\n    layeredPane.add(saveLtrs);\n    \n      \n     \n\n\n    \n    \n\n\n\n    JLabel lblNewLabel_1 = new JLabel(&quot;Inventory Item&quot;);\n    lblNewLabel_1.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n    lblNewLabel_1.setForeground(Color.WHITE);\n    layeredPane.setLayer(lblNewLabel_1, 2);\n    lblNewLabel_1.setBounds(151, 43, 116, 23);\n    layeredPane.add(lblNewLabel_1);\n    \n\n    JTextField invField = new JTextField(&quot; &quot;);\n    invField.setBackground(Color.LIGHT_GRAY);\n    layeredPane.setLayer(invField, 2);\n    invField.setBounds(266, 39, 391, 23);\n    layeredPane.add(invField);\n    invField.setColumns(10);\n    \n    JLabel lblNewLabel_2 = new JLabel(&quot;Location&quot;);\n    lblNewLabel_2.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n    lblNewLabel_2.setForeground(Color.WHITE);\n    layeredPane.setLayer(lblNewLabel_2, 2);\n    lblNewLabel_2.setBounds(151, 76, 116, 19);\n    layeredPane.add(lblNewLabel_2);\n\n\n    JTextField locationField = new JTextField(&quot; &quot;);\n    locationField.setBackground(Color.LIGHT_GRAY);\n    layeredPane.setLayer(locationField, 2);\n    locationField.setBounds(266, 73, 391, 23);\n    layeredPane.add(locationField);\n    locationField.setColumns(10);\n\n    \n\n    JLabel lblNewLabel_3 = new JLabel(&quot;Item Number&quot;);\n    lblNewLabel_3.setForeground(Color.WHITE);\n    lblNewLabel_3.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n    layeredPane.setLayer(lblNewLabel_3, 2);\n    lblNewLabel_3.setBounds(151, 103, 116, 22);\n    layeredPane.add(lblNewLabel_3);\n\n    \n    JTextField idNumField = new JTextField(&quot; &quot;);\n    idNumField.setBackground(Color.LIGHT_GRAY);\n    layeredPane.setLayer(idNumField, 2);\n    idNumField.setBounds(266, 107, 391, 23);\n    layeredPane.add(idNumField);\n    idNumField.setColumns(10);\n    \n    \n    \n    \n    }\n    \n    inputFrame.getContentPane( ).setLayout(groupLayout);\n    \n    \n    }\n}\n        \n</code></pre>\n"},{"tags":["java","sorting","lambda","stream","reverse"],"comments":[{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1654490860,"post_id":72512817,"comment_id":128095183,"body_markdown":"What is expected when the words have same length?","body":"What is expected when the words have same length?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654487139,"creation_date":1654487139,"answer_id":72512852,"question_id":72512817,"body_markdown":"One trick we can use here is to use the negative value of the string length when sorting:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;,\r\n        &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\r\n    courses = courses.stream().sorted(Comparator.comparing(word -&gt; -1.0*word.length())).collect(Collectors.toList());\r\n    System.out.println(courses);\r\n\r\nThis prints:\r\n\r\n    [Microservices, Spring Boot, Kubernetes, Spring, Docker, Azure, API, AWS, PCF]","title":"customize sorted ordered by reverse Java","body":"<p>One trick we can use here is to use the negative value of the string length when sorting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;,\n    &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\ncourses = courses.stream().sorted(Comparator.comparing(word -&gt; -1.0*word.length())).collect(Collectors.toList());\nSystem.out.println(courses);\n</code></pre>\n<p>This prints:</p>\n<pre><code>[Microservices, Spring Boot, Kubernetes, Spring, Docker, Azure, API, AWS, PCF]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654491580,"creation_date":1654490925,"answer_id":72513163,"question_id":72512817,"body_markdown":"Reversed returns an object of type `Object`. You&#39;ll need a cast:\r\n\r\n```lang-java\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n  public static void main(String[] args) throws Exception {\r\n    List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;, &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\r\n\r\n    courses = courses.stream().sorted(Comparator.comparingInt(x -&gt; ((String) x).length()).thenComparing(Comparator.comparing(x -&gt; x.toString())).reversed()).collect(Collectors.toList());\r\n\r\n    courses.stream().forEach(System.out::println);\r\n  }\r\n}\r\n\r\n```","title":"customize sorted ordered by reverse Java","body":"<p>Reversed returns an object of type <code>Object</code>. You'll need a cast:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class App {\n  public static void main(String[] args) throws Exception {\n    List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;, &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\n\n    courses = courses.stream().sorted(Comparator.comparingInt(x -&gt; ((String) x).length()).thenComparing(Comparator.comparing(x -&gt; x.toString())).reversed()).collect(Collectors.toList());\n\n    courses.stream().forEach(System.out::println);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":24247684,"reputation":17,"user_id":18199154,"display_name":"Andres Ramirez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72512852,"answer_count":2,"score":1,"last_activity_date":1654491580,"creation_date":1654486749,"question_id":72512817,"body_markdown":"I have the following list:\r\n\r\n    List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;,\r\n                &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\r\n\r\nI want to sort this list by the course.length(), but it has to be reversed. This is the excpected output:\r\n\r\n    Microservices\r\n    Spring Boot\r\n    Kubernetes\r\n    Docker\r\n    Spring\r\n    Azure\r\n    PCF\r\n    AWS\r\n    API\r\n\r\nThis is the line of code that I&#39;m working on, but it does not work:\r\n\r\n    courses.stream().sorted(Comparator.comparing(word -&gt; word.length()).reversed())\r\n\r\nI really appreciate if someone can give a hand.\r\n\r\n\r\n\r\n","title":"customize sorted ordered by reverse Java","body":"<p>I have the following list:</p>\n<pre><code>List&lt;String&gt; courses = List.of(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;API&quot;, &quot;Microservices&quot;,\n            &quot;AWS&quot;, &quot;PCF&quot;, &quot;Azure&quot;, &quot;Docker&quot;, &quot;Kubernetes&quot;);\n</code></pre>\n<p>I want to sort this list by the course.length(), but it has to be reversed. This is the excpected output:</p>\n<pre><code>Microservices\nSpring Boot\nKubernetes\nDocker\nSpring\nAzure\nPCF\nAWS\nAPI\n</code></pre>\n<p>This is the line of code that I'm working on, but it does not work:</p>\n<pre><code>courses.stream().sorted(Comparator.comparing(word -&gt; word.length()).reversed())\n</code></pre>\n<p>I really appreciate if someone can give a hand.</p>\n"},{"tags":["java","arraylist","file-io"],"answers":[{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654490512,"creation_date":1654490512,"answer_id":72513133,"question_id":72513099,"body_markdown":"There isn&#39;t a &quot;parseDouble()&quot; method which takes String[](an Array).  \r\nUse streams to map string value to double and collect in Double Array.\r\n\r\nSample,\r\n```\r\nString[] scores = new String[] {&quot;1.0&quot;, &quot;2.0&quot;};\r\nDouble[] parsed = Arrays.stream(scores).map(Double::parseDouble).toArray(Double[]::new);\r\n```","title":"Inserting file data in certain position into an arraylist","body":"<p>There isn't a &quot;parseDouble()&quot; method which takes String[](an Array).<br />\nUse streams to map string value to double and collect in Double Array.</p>\n<p>Sample,</p>\n<pre><code>String[] scores = new String[] {&quot;1.0&quot;, &quot;2.0&quot;};\nDouble[] parsed = Arrays.stream(scores).map(Double::parseDouble).toArray(Double[]::new);\n</code></pre>\n"}],"owner":{"account_id":25453445,"reputation":5,"user_id":19254459,"display_name":"pakupaku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72513133,"answer_count":1,"score":0,"last_activity_date":1654490512,"creation_date":1654489994,"question_id":72513099,"body_markdown":"I&#39;m not sure where did it go wrong as I am fairly new to Java, this is my code : \r\n\r\n```    \r\nprivate static void showgui() {\r\n        BufferedReader bufReader = new BufferedReader(new FileReader(&quot;bmidata.txt&quot;));\r\n        List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\r\n\r\n            String score2;\r\n            while ((score2 = bufReader.readLine()) != null) { \r\n                String[] score1 = score2.split(&quot;,&quot;); \r\n\r\n            \tdouble parsed []= Double.parseDouble(score1[]);\r\n\r\n        int maxDataPoints = 13;\r\n        for (int i = 0; i &lt; maxDataPoints; i++) {\r\n            scores.add(parsed[3]);\r\n        }\r\n        MainPanel mainPanel = new MainPanel(scores);\r\n        mainPanel.setPreferredSize(new Dimension(800, 600));\r\n        \r\n        JFrame frame = new JFrame(&quot;Body Mass Index&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(mainPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n            bufReader.close();\r\n    }\r\n```\r\n\r\nI&#39;ve compiled this and got 1 error :\r\n```\r\nPlotGraph.java:169: error: &#39;.class&#39; expected\r\n                double parsed []= Double.parseDouble(score1[]);\r\n```\r\n\r\nI don&#39;t think I have to remove [] from score1 , I&#39;ve tried it but it led to another error which is :\r\n\r\n```\r\nPlotGraph.java:169: error: incompatible types: String[] cannot be converted to String\r\n                double parsed []= Double.parseDouble(score1);\r\n                                                     ^\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n```\r\n\r\nCould anyone tell me an alternative way to insert the data from a txt file in the position at index 3 into an arraylist, or any way for me to fix this error?","title":"Inserting file data in certain position into an arraylist","body":"<p>I'm not sure where did it go wrong as I am fairly new to Java, this is my code :</p>\n<pre><code>private static void showgui() {\n        BufferedReader bufReader = new BufferedReader(new FileReader(&quot;bmidata.txt&quot;));\n        List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\n\n            String score2;\n            while ((score2 = bufReader.readLine()) != null) { \n                String[] score1 = score2.split(&quot;,&quot;); \n\n                double parsed []= Double.parseDouble(score1[]);\n\n        int maxDataPoints = 13;\n        for (int i = 0; i &lt; maxDataPoints; i++) {\n            scores.add(parsed[3]);\n        }\n        MainPanel mainPanel = new MainPanel(scores);\n        mainPanel.setPreferredSize(new Dimension(800, 600));\n        \n        JFrame frame = new JFrame(&quot;Body Mass Index&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n            bufReader.close();\n    }\n</code></pre>\n<p>I've compiled this and got 1 error :</p>\n<pre><code>PlotGraph.java:169: error: '.class' expected\n                double parsed []= Double.parseDouble(score1[]);\n</code></pre>\n<p>I don't think I have to remove [] from score1 , I've tried it but it led to another error which is :</p>\n<pre><code>PlotGraph.java:169: error: incompatible types: String[] cannot be converted to String\n                double parsed []= Double.parseDouble(score1);\n                                                     ^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n</code></pre>\n<p>Could anyone tell me an alternative way to insert the data from a txt file in the position at index 3 into an arraylist, or any way for me to fix this error?</p>\n"},{"tags":["java","multithreading","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1654508140,"post_id":72512653,"comment_id":128099159,"body_markdown":"Does this answer your question? [Vaadin: Update UI after data returned](https://stackoverflow.com/questions/50880506/vaadin-update-ui-after-data-returned)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50880506/vaadin-update-ui-after-data-returned\">Vaadin: Update UI after data returned</a>"}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654490264,"creation_date":1654490264,"answer_id":72513115,"question_id":72512653,"body_markdown":"First, you need to enable `@Push` to make Vaadin open a websocket connection that makes it possible for the server to directly send messages to the browser without waiting for the browser to send a message asking for changes (which happens when you click a button). The `@Push` annotation should be in different location depending on the Vaadin version you&#39;re using, so please refer to documentation to find the right place.\r\n\r\nSecond, please use `UI::access` instead of manually doing `setCurrent` and locking. While I didn&#39;t spot anything in your example that would break the happy case, there are still also a whole bunch of edge cases that you&#39;d need to take into account. As an example, you&#39;re not cleaning up after `setCurrent` which might cause memory leaks and you&#39;re not unlocking in case something related to the notification throws an exception.","title":"Vaadin why not show notification in multiThreads app","body":"<p>First, you need to enable <code>@Push</code> to make Vaadin open a websocket connection that makes it possible for the server to directly send messages to the browser without waiting for the browser to send a message asking for changes (which happens when you click a button). The <code>@Push</code> annotation should be in different location depending on the Vaadin version you're using, so please refer to documentation to find the right place.</p>\n<p>Second, please use <code>UI::access</code> instead of manually doing <code>setCurrent</code> and locking. While I didn't spot anything in your example that would break the happy case, there are still also a whole bunch of edge cases that you'd need to take into account. As an example, you're not cleaning up after <code>setCurrent</code> which might cause memory leaks and you're not unlocking in case something related to the notification throws an exception.</p>\n"}],"owner":{"account_id":17698987,"reputation":51,"user_id":12849020,"display_name":"Adam Barča"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72513115,"answer_count":1,"score":0,"last_activity_date":1654490264,"creation_date":1654484765,"question_id":72512653,"body_markdown":"My problem is that in my app not show notification.\r\n\r\nMy application does that each time a button is pressed I create new thread and show notification with info that thread is running or waiting (this works fine). Then, if the thread is running, it will randomly sleep for 5-10 seconds and get data from the rest api and a notification should be displayed that the thread is finished (this notification is not displayed).\r\n\r\nFineshed notifications show after i press again button. As you can see in the image.\r\n\r\nImage:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nconstructor view:  \r\n```\r\npublic MainView() {\r\n    Button ipButton = getIpButton();\r\n\r\n    setMargin(true);\r\n    setHorizontalComponentAlignment(Alignment.START, ipButton);\r\n\r\n    add(ipButton);\r\n}\r\n```\r\n\r\nbutton:\r\n```\r\nprivate Button getIpButton() {\r\n        final UI ui = UI.getCurrent();\r\n        final VaadinSession session = VaadinSession.getCurrent();\r\n\r\n        Button ipButton = new Button(&quot;My IP&quot;);\r\n\r\n        AtomicInteger orderIndex = new AtomicInteger();\r\n\r\n        ipButton.addClickListener(_e -&gt; {\r\n            int orderThread = orderIndex.getAndIncrement();\r\n            openBeginNotification(orderThread);\r\n\r\n            executor.submit(() -&gt; {\r\n                try {\r\n                    UI.setCurrent(ui);\r\n                    VaadinSession.setCurrent(session);\r\n\r\n                    long sleepTime = (long) (Math.random() * (10 - 5) + 5);\r\n                    System.out.printf(&quot;%d: %ds\\n&quot;, orderThread, sleepTime);\r\n\r\n                    Thread.sleep(sleepTime * 1000);\r\n\r\n                    IpDTO ip = restTemplate.getForObject(&quot;http://ip.jsontest.com/&quot;, IpDTO.class);\r\n                    System.out.printf(&quot;%d: %s\\n&quot;, orderThread, ip);\r\n\r\n                    try {\r\n                        VaadinSession.getCurrent().lock();\r\n                        getFinishNotification(orderThread).open(); // here not show notification\r\n                        VaadinSession.getCurrent().unlock();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        });\r\n\r\n    return ipButton;\r\n}\r\n\r\n```\r\nnotification methods:\r\n```\r\nprivate void openBeginNotification(int orderThread) {\r\n    Notification notification;\r\n    if (executor.getActiveCount() == MAX_THREADS) {\r\n        // thread is in front\r\n        notification = getWaitNotification(orderThread);\r\n    }  else {\r\n        // thread run\r\n        notification = getRunNotification(orderThread);\r\n    }\r\n    notification.open();\r\n}\r\n\r\nprivate Notification getRunNotification(int orderThread) {\r\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: run&quot;, NotificationVariant.LUMO_PRIMARY);\r\n}\r\n\r\nprivate Notification getWaitNotification(int orderThread) {\r\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: wait&quot;, NotificationVariant.LUMO_CONTRAST);\r\n}\r\n\r\nprivate Notification getFinishNotification(int orderThread) {\r\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: finish&quot;, NotificationVariant.LUMO_SUCCESS);\r\n}\r\n\r\nprivate Notification getNotification(String notificationText, NotificationVariant variant) {\r\n    Notification notification = new Notification(notificationText, 1000);\r\n    notification.addThemeVariants(variant);\r\n\r\n    return notification;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wug1p.png","title":"Vaadin why not show notification in multiThreads app","body":"<p>My problem is that in my app not show notification.</p>\n<p>My application does that each time a button is pressed I create new thread and show notification with info that thread is running or waiting (this works fine). Then, if the thread is running, it will randomly sleep for 5-10 seconds and get data from the rest api and a notification should be displayed that the thread is finished (this notification is not displayed).</p>\n<p>Fineshed notifications show after i press again button. As you can see in the image.</p>\n<p>Image:\n<a href=\"https://i.stack.imgur.com/Wug1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wug1p.png\" alt=\"enter image description here\" /></a></p>\n<p>constructor view:</p>\n<pre><code>public MainView() {\n    Button ipButton = getIpButton();\n\n    setMargin(true);\n    setHorizontalComponentAlignment(Alignment.START, ipButton);\n\n    add(ipButton);\n}\n</code></pre>\n<p>button:</p>\n<pre><code>private Button getIpButton() {\n        final UI ui = UI.getCurrent();\n        final VaadinSession session = VaadinSession.getCurrent();\n\n        Button ipButton = new Button(&quot;My IP&quot;);\n\n        AtomicInteger orderIndex = new AtomicInteger();\n\n        ipButton.addClickListener(_e -&gt; {\n            int orderThread = orderIndex.getAndIncrement();\n            openBeginNotification(orderThread);\n\n            executor.submit(() -&gt; {\n                try {\n                    UI.setCurrent(ui);\n                    VaadinSession.setCurrent(session);\n\n                    long sleepTime = (long) (Math.random() * (10 - 5) + 5);\n                    System.out.printf(&quot;%d: %ds\\n&quot;, orderThread, sleepTime);\n\n                    Thread.sleep(sleepTime * 1000);\n\n                    IpDTO ip = restTemplate.getForObject(&quot;http://ip.jsontest.com/&quot;, IpDTO.class);\n                    System.out.printf(&quot;%d: %s\\n&quot;, orderThread, ip);\n\n                    try {\n                        VaadinSession.getCurrent().lock();\n                        getFinishNotification(orderThread).open(); // here not show notification\n                        VaadinSession.getCurrent().unlock();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n        });\n\n    return ipButton;\n}\n\n</code></pre>\n<p>notification methods:</p>\n<pre><code>private void openBeginNotification(int orderThread) {\n    Notification notification;\n    if (executor.getActiveCount() == MAX_THREADS) {\n        // thread is in front\n        notification = getWaitNotification(orderThread);\n    }  else {\n        // thread run\n        notification = getRunNotification(orderThread);\n    }\n    notification.open();\n}\n\nprivate Notification getRunNotification(int orderThread) {\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: run&quot;, NotificationVariant.LUMO_PRIMARY);\n}\n\nprivate Notification getWaitNotification(int orderThread) {\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: wait&quot;, NotificationVariant.LUMO_CONTRAST);\n}\n\nprivate Notification getFinishNotification(int orderThread) {\n    return getNotification(&quot;Task &quot; + orderThread + &quot;: finish&quot;, NotificationVariant.LUMO_SUCCESS);\n}\n\nprivate Notification getNotification(String notificationText, NotificationVariant variant) {\n    Notification notification = new Notification(notificationText, 1000);\n    notification.addThemeVariants(variant);\n\n    return notification;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1654475382,"post_id":72511985,"comment_id":128093336,"body_markdown":"What regular expression(s) did you try?","body":"What regular expression(s) did you try?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1654476031,"post_id":72511985,"comment_id":128093409,"body_markdown":"Unless this is an exercise, I hardly see the point of using regex in this case.  A simple indexof and split would do the job cleanly","body":"Unless this is an exercise, I hardly see the point of using regex in this case.  A simple indexof and split would do the job cleanly"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654489988,"creation_date":1654489988,"answer_id":72513095,"question_id":72511985,"body_markdown":"Explanations after the code.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class RegexExtract {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;my_file.txt&quot;);\r\n        try (BufferedReader br = Files.newBufferedReader(path)) {\r\n            Pattern pattern = Pattern.compile(&quot;primaryKey=\\&quot;\\\\(([A-Z0-9]+),([A-Z]+)&quot;);\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                Matcher matcher = pattern.matcher(line);\r\n                if (matcher.find()) {\r\n                    String primaryKey = matcher.group(1);\r\n                    String country = matcher.group(2);\r\n                    System.out.println(&quot;The primaryKey is &quot; + primaryKey);\r\n                    System.out.println(&quot;The country is &quot; + country);\r\n                }\r\n                line = br.readLine();\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following output (using the two sample lines in your question).\r\n```none\r\nThe primaryKey is ZAPDBHV7120D41A\r\nThe country is USA\r\nThe primaryKey is AA45555DBMW711DD4100\r\nThe country is ARG\r\n```\r\nThe regular expression looks for the following [literal] string\r\n```none\r\nprimaryKey=&quot;(\r\n```\r\nThe double quote is escaped since it is within a string literal.  \r\nThe opening parenthesis is escaped because it is a metacharacter and the double backslash is required since Java does not recognize `\\(` in a string literal.\r\n\r\nThen the regular expression groups together the string of consecutive capital letters and digits that follow the previous literal up to (but not including) the comma.\r\n\r\nThen there is a second group of capital letters up to the next comma.\r\n\r\nRefer to the [Regular Expressions][1] lesson in Oracle&#39;s Java tutorials.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Java - extract from line based on regex","body":"<p>Explanations after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class RegexExtract {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;my_file.txt&quot;);\n        try (BufferedReader br = Files.newBufferedReader(path)) {\n            Pattern pattern = Pattern.compile(&quot;primaryKey=\\&quot;\\\\(([A-Z0-9]+),([A-Z]+)&quot;);\n            String line = br.readLine();\n            while (line != null) {\n                Matcher matcher = pattern.matcher(line);\n                if (matcher.find()) {\n                    String primaryKey = matcher.group(1);\n                    String country = matcher.group(2);\n                    System.out.println(&quot;The primaryKey is &quot; + primaryKey);\n                    System.out.println(&quot;The country is &quot; + country);\n                }\n                line = br.readLine();\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Running the above code produces the following output (using the two sample lines in your question).</p>\n<pre class=\"lang-none prettyprint-override\"><code>The primaryKey is ZAPDBHV7120D41A\nThe country is USA\nThe primaryKey is AA45555DBMW711DD4100\nThe country is ARG\n</code></pre>\n<p>The regular expression looks for the following [literal] string</p>\n<pre class=\"lang-none prettyprint-override\"><code>primaryKey=&quot;(\n</code></pre>\n<p>The double quote is escaped since it is within a string literal.<br />\nThe opening parenthesis is escaped because it is a metacharacter and the double backslash is required since Java does not recognize <code>\\(</code> in a string literal.</p>\n<p>Then the regular expression groups together the string of consecutive capital letters and digits that follow the previous literal up to (but not including) the comma.</p>\n<p>Then there is a second group of capital letters up to the next comma.</p>\n<p>Refer to the <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">Regular Expressions</a> lesson in Oracle's Java tutorials.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72513095,"answer_count":1,"score":-2,"last_activity_date":1654490078,"creation_date":1654475234,"question_id":72511985,"body_markdown":"Small question regarding a Java job to extract information out of lines from a file please.\r\n\r\nSetup, I have a file, in which *one* line looks like this:\r\n```none\r\nbla,bla42bla()bla=bla+blablaprimaryKey=&quot;(ZAPDBHV7120D41A,USA,blablablablablabla\r\n```\r\nThe file contains many of those lines (as describe above)\r\nIn each of the lines, there are two particular information I am interested in, the **primaryKey**, and the **country**.\r\n\r\nIn my example, **ZAPDBHV7120D41A** and **USA**\r\n\r\nFor sure, each line of the file has exactly once the primaryKey, and exactly once the country, they are separated by a comma. It is there exactly once. in no particular order (it can appear at the start of the line, middle, end of the line, etc).\r\n\r\nThe primary key is a combination of alphabet in caps [A, B, C, ... Y, Z] and numbers [0, 1, 2, ... 9]. It has no particular predefined length.\r\n\r\nThe primary key is always in between primaryKey=&quot;(*{primaryKey}*,*{country}*,\r\nMeaning, the actual primaryKey is found after the string *primaryKey-equal-quote-open parenthesis*. And before another *comma three letters country comma*.\r\n\r\n\r\nI would like to write a program, in which I can extract all the primary key, as well as all countries from the file.\r\n\r\n\r\nInput:\r\n```none\r\nbla,bla42bla()bla=bla+blablaprimaryKey=&quot;(ZAPDBHV7120D41A,USA,blablablablablabla\r\nbla++blabla()bla=bla+blablaprimaryKey=&quot;(AA45555DBMW711DD4100,ARG,bla\r\n[...]\r\n```\r\nResult: \r\n```none\r\nThe primaryKey is ZAPDBHV7120D41A\r\nThe country is USA\r\n\r\nThe primaryKey is AA45555DBMW711DD4100\r\nThe country is ARG\r\n```\r\n\r\nTherefore, I tried following:\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class RegexExtract {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final String             csvFile = &quot;my_file.txt&quot;;\r\n        try (final BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                Pattern.matches(&quot;&quot;, line); // extract primaryKey and country based on regex\r\n                String primaryKey = &quot;&quot;; // extract the primary from above\r\n                String country = &quot;&quot;; // extract the country from above\r\n                System.out.println(&quot;The primaryKey is &quot; + primaryKey);\r\n                System.out.println(&quot;The country is &quot; + country);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nBut I am having a hard time constructing the regular expression needed to match and extract.\r\n\r\nMay I ask what is the correct code in order to extract from the line based on above information?\r\n\r\nThank you","title":"Java - extract from line based on regex","body":"<p>Small question regarding a Java job to extract information out of lines from a file please.</p>\n<p>Setup, I have a file, in which <em>one</em> line looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>bla,bla42bla()bla=bla+blablaprimaryKey=&quot;(ZAPDBHV7120D41A,USA,blablablablablabla\n</code></pre>\n<p>The file contains many of those lines (as describe above)\nIn each of the lines, there are two particular information I am interested in, the <strong>primaryKey</strong>, and the <strong>country</strong>.</p>\n<p>In my example, <strong>ZAPDBHV7120D41A</strong> and <strong>USA</strong></p>\n<p>For sure, each line of the file has exactly once the primaryKey, and exactly once the country, they are separated by a comma. It is there exactly once. in no particular order (it can appear at the start of the line, middle, end of the line, etc).</p>\n<p>The primary key is a combination of alphabet in caps [A, B, C, ... Y, Z] and numbers [0, 1, 2, ... 9]. It has no particular predefined length.</p>\n<p>The primary key is always in between primaryKey=&quot;(<em>{primaryKey}</em>,<em>{country}</em>,\nMeaning, the actual primaryKey is found after the string <em>primaryKey-equal-quote-open parenthesis</em>. And before another <em>comma three letters country comma</em>.</p>\n<p>I would like to write a program, in which I can extract all the primary key, as well as all countries from the file.</p>\n<p>Input:</p>\n<pre class=\"lang-none prettyprint-override\"><code>bla,bla42bla()bla=bla+blablaprimaryKey=&quot;(ZAPDBHV7120D41A,USA,blablablablablabla\nbla++blabla()bla=bla+blablaprimaryKey=&quot;(AA45555DBMW711DD4100,ARG,bla\n[...]\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The primaryKey is ZAPDBHV7120D41A\nThe country is USA\n\nThe primaryKey is AA45555DBMW711DD4100\nThe country is ARG\n</code></pre>\n<p>Therefore, I tried following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.regex.Pattern;\n\npublic class RegexExtract {\n\n    public static void main(String[] args) throws Exception {\n        final String             csvFile = &quot;my_file.txt&quot;;\n        try (final BufferedReader br = new BufferedReader(new FileReader(csvFile))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                Pattern.matches(&quot;&quot;, line); // extract primaryKey and country based on regex\n                String primaryKey = &quot;&quot;; // extract the primary from above\n                String country = &quot;&quot;; // extract the country from above\n                System.out.println(&quot;The primaryKey is &quot; + primaryKey);\n                System.out.println(&quot;The country is &quot; + country);\n            }\n        }\n    }\n}\n</code></pre>\n<p>But I am having a hard time constructing the regular expression needed to match and extract.</p>\n<p>May I ask what is the correct code in order to extract from the line based on above information?</p>\n<p>Thank you</p>\n"},{"tags":["java","inheritance","enums"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":0,"creation_date":1654491085,"post_id":72512750,"comment_id":128095208,"body_markdown":"Sounds like your use case is perfect example for Sealed Classes that were introduced in Java 16. If you are using Java 17 or above, sealed classes comes to your rescue. https://docs.oracle.com/en/java/javase/15/language/sealed-classes-and-interfaces.html","body":"Sounds like your use case is perfect example for Sealed Classes that were introduced in Java 16. If you are using Java 17 or above, sealed classes comes to your rescue. <a href=\"https://docs.oracle.com/en/java/javase/15/language/sealed-classes-and-interfaces.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/15/language/&hellip;</a>"},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1654502935,"post_id":72512750,"comment_id":128097647,"body_markdown":"@GopinathRadhakrishnan Sorry, I don&#39;t understand what you mean. I&#39;ve seen sealed classes before and I had a look back at the docs you sent but I don&#39;t see how restricting which of my classes can extend another would help. If anything, I&#39;m looking to unrestrict access to the Enum class","body":"@GopinathRadhakrishnan Sorry, I don&#39;t understand what you mean. I&#39;ve seen sealed classes before and I had a look back at the docs you sent but I don&#39;t see how restricting which of my classes can extend another would help. If anything, I&#39;m looking to unrestrict access to the Enum class"}],"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654486004,"creation_date":1654486004,"question_id":72512750,"body_markdown":"My code has features (which all extend MyFeature) which can be toggled on and off globally or per-guild in a config. Some features also have &#39;sub-features&#39; called addons (which all extend MyAddon) which can only be enabled if their parent feature is also enabled. Like features, each addon can be toggled on and off globally or per-guild.\r\n\r\nEach feature which has addons available has an enum to list all the available addons, whether they&#39;re configurable and how to construct them. This is because I am using Jackson to deserialize a YAML file for me, and an enum where each value has a Constructor for the corresponding addon class is the closest I can get to deserializing a String to a class.\r\n\r\nHowever, because most of the basic code for each of these features&#39; addon enums is the same, I would like to reduce this using inheritance. Here is this &#39;basic code&#39;. The dashes represent the name of each addon, which is obviously different between addons but the same within one addon\r\n```\r\npublic enum ---Addons {\r\n    example_addon(true, ExampleAddon.class); // Not the same between addons\r\n\r\n    public final boolean configurable;\r\n    public final Constructor&lt;? extends ---Addon&gt; handler;\r\n    ---Addons(boolean configurable, Class&lt;? extends ---Addon&gt; addonHandler) {\r\n        this.configurable = configurable;\r\n\r\n        if (addonHandler == null) {\r\n            handler = null;\r\n        } else {\r\n            Constructor&lt;? extends ---Addon&gt; setHandler;\r\n            try {\r\n                setHandler = addonHandler.getConstructor();\r\n            } catch (NoSuchMethodException e) {\r\n                MyLogger.error(&quot;Could not find constructor for addon {}&quot;,name());\r\n                setHandler = null;\r\n            }\r\n            handler = setHandler;\r\n        }\r\n    }\r\n}\r\n```\r\nHowever, there doesn&#39;t seem to be a way to inherit any of this. All enums extend Enum and manually extending Enum is not allowed so it is not possible for an enum to extend our own abstract class. But an interface wouldn&#39;t work either because interfaces can&#39;t declare a default constructor nor a variable with a generic type all an interface&#39;s fields are static. The former issue could be solved to an extent by using a default method, but because this method wouldn&#39;t be able to set the class variables either, the method would have to return these variables which would be set independently in each implementation of the interface.\r\n\r\nIs there some way to get around these issues OR is there an alternative way I can structure my codebase so that Jackson can still deserialize Strings to a class reference (knowing that the class will inherit from MyAddon.class) without using enums?","title":"Is there some way to have a Java Enum effectively inherit a constructor and have a variable with a generic type?","body":"<p>My code has features (which all extend MyFeature) which can be toggled on and off globally or per-guild in a config. Some features also have 'sub-features' called addons (which all extend MyAddon) which can only be enabled if their parent feature is also enabled. Like features, each addon can be toggled on and off globally or per-guild.</p>\n<p>Each feature which has addons available has an enum to list all the available addons, whether they're configurable and how to construct them. This is because I am using Jackson to deserialize a YAML file for me, and an enum where each value has a Constructor for the corresponding addon class is the closest I can get to deserializing a String to a class.</p>\n<p>However, because most of the basic code for each of these features' addon enums is the same, I would like to reduce this using inheritance. Here is this 'basic code'. The dashes represent the name of each addon, which is obviously different between addons but the same within one addon</p>\n<pre><code>public enum ---Addons {\n    example_addon(true, ExampleAddon.class); // Not the same between addons\n\n    public final boolean configurable;\n    public final Constructor&lt;? extends ---Addon&gt; handler;\n    ---Addons(boolean configurable, Class&lt;? extends ---Addon&gt; addonHandler) {\n        this.configurable = configurable;\n\n        if (addonHandler == null) {\n            handler = null;\n        } else {\n            Constructor&lt;? extends ---Addon&gt; setHandler;\n            try {\n                setHandler = addonHandler.getConstructor();\n            } catch (NoSuchMethodException e) {\n                MyLogger.error(&quot;Could not find constructor for addon {}&quot;,name());\n                setHandler = null;\n            }\n            handler = setHandler;\n        }\n    }\n}\n</code></pre>\n<p>However, there doesn't seem to be a way to inherit any of this. All enums extend Enum and manually extending Enum is not allowed so it is not possible for an enum to extend our own abstract class. But an interface wouldn't work either because interfaces can't declare a default constructor nor a variable with a generic type all an interface's fields are static. The former issue could be solved to an extent by using a default method, but because this method wouldn't be able to set the class variables either, the method would have to return these variables which would be set independently in each implementation of the interface.</p>\n<p>Is there some way to get around these issues OR is there an alternative way I can structure my codebase so that Jackson can still deserialize Strings to a class reference (knowing that the class will inherit from MyAddon.class) without using enums?</p>\n"},{"tags":["java","loops","modulo"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652925658,"post_id":72283151,"comment_id":127727626,"body_markdown":"&#39;the modulus % operator&#39;: there is no modulus operator in Java. % is the remainder operator. Not the same thing.","body":"&#39;the modulus % operator&#39;: there is no modulus operator in Java. % is the remainder operator. Not the same thing."},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652929828,"post_id":72283151,"comment_id":127728217,"body_markdown":"Why did my professor call it that?","body":"Why did my professor call it that?"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1656664444,"post_id":72283151,"comment_id":128632326,"body_markdown":"Similar to how there is a Boolean value in C with the name bool, there is a Modulus operator in Java referred to as either the Remainder or the Modulo. https://codeparttime.com/modulus-operator-in-java/","body":"Similar to how there is a Boolean value in C with the name bool, there is a Modulus operator in Java referred to as either the Remainder or the Modulo. <a href=\"https://codeparttime.com/modulus-operator-in-java/\" rel=\"nofollow noreferrer\">codeparttime.com/modulus-operator-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654485152,"creation_date":1652850070,"answer_id":72283431,"question_id":72283151,"body_markdown":"Assuming your *integer* is `abcd` where each letter is a digit. You can do left cyclic shift by first separating `bcd` and `a`\r\n\r\n    bcd = abcd % 1000\r\n    a = abcd / 1000 (integer division)\r\n\r\nThen, to construct the left cyclic shift from `bcd` and `a`\r\n\r\n    bcda = bcd * 10 + a\r\n\r\nIn Java, this is how I would implement it\r\n\r\n    void numSquare(int min, int max) {\r\n        long number = 0;\r\n        long div = 1;\r\n        // construct the integer, e.g., 12345, and the corresponding power of tens\r\n        for (long i = max; i &gt;= min; --i) {\r\n            number += i * div;\r\n            div *= 10;\r\n        }\r\n        div /= 10;\r\n        \r\n        // left cyclic shifting the integer and printing\r\n        int nShifts = max - min + 1;\r\n        for (int i = 0; i &lt; nShifts; ++i) {\r\n            System.out.println(number);\r\n            number = (number % div) * 10 + (number / div);\r\n        }\r\n    }\r\n\r\nIf you want to print digit-by-digit and must use `%`, the trick is to subtract the column by `min` to shift the range to `[0, max-min]`, use `%` to relapse once reaching the maximum, then re-add `min` to turn it back to normal range, like so\r\n\r\n    void numSquare(int min, int max) {\r\n        int len = max - min + 1;\r\n        for (int row = min; row &lt;= max; row++) {\r\n            for (int col = row; col &lt; row + len; col++) {\r\n                System.out.print((col - min) % len + min);\r\n            }\r\n            System.out.println(); // break line when we do a new row\r\n        }\r\n    }\r\n\r\nI would advised against this approach if possible because of its many calls to `System.out.print`, which can add up over time.","title":"How is this &quot;number square&quot; problem done with a modulus operator?","body":"<p>Assuming your <em>integer</em> is <code>abcd</code> where each letter is a digit. You can do left cyclic shift by first separating <code>bcd</code> and <code>a</code></p>\n<pre><code>bcd = abcd % 1000\na = abcd / 1000 (integer division)\n</code></pre>\n<p>Then, to construct the left cyclic shift from <code>bcd</code> and <code>a</code></p>\n<pre><code>bcda = bcd * 10 + a\n</code></pre>\n<p>In Java, this is how I would implement it</p>\n<pre><code>void numSquare(int min, int max) {\n    long number = 0;\n    long div = 1;\n    // construct the integer, e.g., 12345, and the corresponding power of tens\n    for (long i = max; i &gt;= min; --i) {\n        number += i * div;\n        div *= 10;\n    }\n    div /= 10;\n    \n    // left cyclic shifting the integer and printing\n    int nShifts = max - min + 1;\n    for (int i = 0; i &lt; nShifts; ++i) {\n        System.out.println(number);\n        number = (number % div) * 10 + (number / div);\n    }\n}\n</code></pre>\n<p>If you want to print digit-by-digit and must use <code>%</code>, the trick is to subtract the column by <code>min</code> to shift the range to <code>[0, max-min]</code>, use <code>%</code> to relapse once reaching the maximum, then re-add <code>min</code> to turn it back to normal range, like so</p>\n<pre><code>void numSquare(int min, int max) {\n    int len = max - min + 1;\n    for (int row = min; row &lt;= max; row++) {\n        for (int col = row; col &lt; row + len; col++) {\n            System.out.print((col - min) % len + min);\n        }\n        System.out.println(); // break line when we do a new row\n    }\n}\n</code></pre>\n<p>I would advised against this approach if possible because of its many calls to <code>System.out.print</code>, which can add up over time.</p>\n"},{"tags":[],"owner":{"account_id":10152896,"reputation":195,"user_id":7498888,"display_name":"skboro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652850573,"creation_date":1652850573,"answer_id":72283474,"question_id":72283151,"body_markdown":"You can calculate the value as `(row + col - 2) % max + 1`\r\n\r\n","title":"How is this &quot;number square&quot; problem done with a modulus operator?","body":"<p>You can calculate the value as <code>(row + col - 2) % max + 1</code></p>\n"}],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72283431,"answer_count":2,"score":0,"last_activity_date":1654485152,"creation_date":1652847515,"question_id":72283151,"body_markdown":"I have come across a very familiar problem doing some exercises and for the life of me cannot figure it out using the intended method -- the modulus `%` operator -- that accepts `(int min, int max)` parameters as beginning and end limits. \r\n\r\nIt is to print the following with a call of `numberSquare(1, 5)`:\r\n```\r\n12345\r\n23451\r\n34512\r\n45123\r\n51234\r\n```\r\nI have gotten it to work by essentially creating a manual tracker, though I know this is not the correct approach:\r\n```java\r\nprivate static void numberSquare(int min, int max)\r\n{   \r\n    int difference = max - min;\r\n    // outside loop\r\n    for(int row = min; row &lt;= max; row++)\r\n    {\r\n        // inside loop\r\n        for(int col = row; col &lt;= row + difference; col++)\r\n        {   \r\n            // is in bounds\r\n            if(col &lt;= max)\r\n                System.out.print(col);\r\n            // not in bounds\r\n            else\r\n                System.out.print(col - difference - 1);\r\n        } // next line\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\nAnd my other approach using the operator had the inner loop looking like this:\r\n```java\r\n// is in bounds\r\nif(col &lt;= max)\r\n    System.out.print(col);\r\n// not in bounds\r\nelse\r\n    System.out.print(col % max + min);\r\n```\r\nWhich gives me an output of:\r\n```\r\n|12345|                  |12345|\r\n|23452|                  |23451|\r\n|34523|    instead of    |34512|\r\n|45234|                  |45123|\r\n|52345|                  |51234|\r\n``` \r\nI am really struggling to see how I can do this with the modulus `%` operator and would love any help/suggestions.\r\n\r\n**Edit for additional information**\r\n\r\nI got another version to work, but this one also does not have the `%` operator...\r\n```java\r\nprivate static void numberSquare(int min, int max)\r\n{\r\n    // track outside rows\r\n    for(int row = min ; row &lt;= max; row++)\r\n    {\r\n       // track inside columns and the print value\r\n       for(int col = min, value = row; \r\n               col &lt;= max; col++, value++)\r\n       {\r\n           // reset if the value is too high\r\n           value = (value &gt; max) ? min : value;\r\n           System.out.print(value);\r\n       } \r\n       // next line\r\n       System.out.println();\r\n    } \r\n}\r\n```","title":"How is this &quot;number square&quot; problem done with a modulus operator?","body":"<p>I have come across a very familiar problem doing some exercises and for the life of me cannot figure it out using the intended method -- the modulus <code>%</code> operator -- that accepts <code>(int min, int max)</code> parameters as beginning and end limits.</p>\n<p>It is to print the following with a call of <code>numberSquare(1, 5)</code>:</p>\n<pre><code>12345\n23451\n34512\n45123\n51234\n</code></pre>\n<p>I have gotten it to work by essentially creating a manual tracker, though I know this is not the correct approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void numberSquare(int min, int max)\n{   \n    int difference = max - min;\n    // outside loop\n    for(int row = min; row &lt;= max; row++)\n    {\n        // inside loop\n        for(int col = row; col &lt;= row + difference; col++)\n        {   \n            // is in bounds\n            if(col &lt;= max)\n                System.out.print(col);\n            // not in bounds\n            else\n                System.out.print(col - difference - 1);\n        } // next line\n        System.out.println();\n    }\n}\n</code></pre>\n<p>And my other approach using the operator had the inner loop looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// is in bounds\nif(col &lt;= max)\n    System.out.print(col);\n// not in bounds\nelse\n    System.out.print(col % max + min);\n</code></pre>\n<p>Which gives me an output of:</p>\n<pre><code>|12345|                  |12345|\n|23452|                  |23451|\n|34523|    instead of    |34512|\n|45234|                  |45123|\n|52345|                  |51234|\n</code></pre>\n<p>I am really struggling to see how I can do this with the modulus <code>%</code> operator and would love any help/suggestions.</p>\n<p><strong>Edit for additional information</strong></p>\n<p>I got another version to work, but this one also does not have the <code>%</code> operator...</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void numberSquare(int min, int max)\n{\n    // track outside rows\n    for(int row = min ; row &lt;= max; row++)\n    {\n       // track inside columns and the print value\n       for(int col = min, value = row; \n               col &lt;= max; col++, value++)\n       {\n           // reset if the value is too high\n           value = (value &gt; max) ? min : value;\n           System.out.print(value);\n       } \n       // next line\n       System.out.println();\n    } \n}\n</code></pre>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":22340312,"reputation":32,"user_id":16560184,"display_name":"Nethsara Siyum"},"score":0,"creation_date":1654439315,"post_id":72508113,"comment_id":128086118,"body_markdown":"@Gardener tried, still not working","body":"@Gardener tried, still not working"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1654439557,"post_id":72508113,"comment_id":128086186,"body_markdown":"Initializing `min = 0` is probably the culprit. Unless you get some negative mark in the input, `min` will stay `0`. Either initialize it to a value higher than any possible mark or to the first mark read.","body":"Initializing <code>min = 0</code> is probably the culprit. Unless you get some negative mark in the input, <code>min</code> will stay <code>0</code>. Either initialize it to a value higher than any possible mark or to the first mark read."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654439713,"post_id":72508113,"comment_id":128086215,"body_markdown":"Your title seems to mislead. I read it as -1 was assigned to the minimum, which doesn’t seem to happen. Can you rewrite and enhance clarity and precision?","body":"Your title seems to mislead. I read it as -1 was assigned to the minimum, which doesn’t seem to happen. Can you rewrite and enhance clarity and precision?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1654440102,"post_id":72508113,"comment_id":128086295,"body_markdown":"Is 10, 20 or 30 less than zero? What about `min = Integer.MAX_VALUE;` then any value entered would be less than the default minimum.","body":"Is 10, 20 or 30 less than zero? What about <code>min = Integer.MAX_VALUE;</code> then any value entered would be less than the default minimum."},{"owner":{"account_id":22340312,"reputation":32,"user_id":16560184,"display_name":"Nethsara Siyum"},"score":0,"creation_date":1654445409,"post_id":72508113,"comment_id":128087522,"body_markdown":"Thanks, I was able to fix it as @Ole V.V. told","body":"Thanks, I was able to fix it as @Ole V.V. told"}],"answers":[{"tags":[],"owner":{"account_id":22340312,"reputation":32,"user_id":16560184,"display_name":"Nethsara Siyum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654483505,"creation_date":1654445347,"answer_id":72508998,"question_id":72508113,"body_markdown":"Initializing `min = 0` was the culprit. I am now initializing it to the first mark read.\r\n\r\nThis working code for this.\r\n\r\n    import java.util.*;\r\n    class Example{\r\n    \tpublic static void main(String args[]){\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Enter an integer ( press -1 to quit) : &quot;);\r\n    \t\tint mark = input.nextInt();\r\n    \t\tint min=mark;\r\n    \t\tint max=mark;\r\n    \t\tint count=1, total=0;             \r\n    \t\twhile(mark != -1){\r\n    \t\t\tif (mark&gt;max) {\r\n    \t\t\t\tmax = mark;\r\n    \t\t\t}else if(mark &lt; min){\r\n    \t\t\t\tmin = mark;\r\n    \t\t\t}\r\n    \t\t\tcount++;\r\n    \t\t\ttotal+=mark;\r\n    \t\t\tSystem.out.print(&quot;Enter an integer ( press -1 to quit) : &quot;);\r\n    \t\t\tmark = input.nextInt();\r\n            }\r\n    \t\tSystem.out.println(&quot;No of students: &quot;+ count);\r\n    \t\tSystem.out.println(&quot;Total Marks: &quot;+ total);\r\n    \t\tSystem.out.println(&quot;Minimum: &quot; + min);\r\n    \t\tSystem.out.println(&quot;Maximum: &quot; + max);\r\n    \t\tSystem.out.println(&quot;Average: &quot; + (double)total/count);            \r\n        }\r\n    }\r\n\r\n\r\nThanks for your time with this question. \r\nThanks, @Ole V.V. and @Gardener.","title":"Entering -1 to terminate java program but should not assign to min value","body":"<p>Initializing <code>min = 0</code> was the culprit. I am now initializing it to the first mark read.</p>\n<p>This working code for this.</p>\n<pre><code>import java.util.*;\nclass Example{\n    public static void main(String args[]){\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter an integer ( press -1 to quit) : &quot;);\n        int mark = input.nextInt();\n        int min=mark;\n        int max=mark;\n        int count=1, total=0;             \n        while(mark != -1){\n            if (mark&gt;max) {\n                max = mark;\n            }else if(mark &lt; min){\n                min = mark;\n            }\n            count++;\n            total+=mark;\n            System.out.print(&quot;Enter an integer ( press -1 to quit) : &quot;);\n            mark = input.nextInt();\n        }\n        System.out.println(&quot;No of students: &quot;+ count);\n        System.out.println(&quot;Total Marks: &quot;+ total);\n        System.out.println(&quot;Minimum: &quot; + min);\n        System.out.println(&quot;Maximum: &quot; + max);\n        System.out.println(&quot;Average: &quot; + (double)total/count);            \n    }\n}\n</code></pre>\n<p>Thanks for your time with this question.\nThanks, @Ole V.V. and @Gardener.</p>\n"}],"owner":{"account_id":22340312,"reputation":32,"user_id":16560184,"display_name":"Nethsara Siyum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1654519252,"accepted_answer_id":72508998,"answer_count":1,"score":-2,"last_activity_date":1654483505,"creation_date":1654439061,"question_id":72508113,"body_markdown":"I was writing a java program to get the max, min, and total of the entered numbers. I want to terminate if the input is (-1) but in the programming, I wrote it assigning the -1 to the minimum value. What should I do to avoid it?\r\n\r\n    import java.util.*;\r\n    class Example{\r\n\tpublic static void main(String args[]){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tint max = 0, min = 0, mark=0, total=0, num=0;\r\n\t\twhile(mark!=-1){\r\n\t\t\tSystem.out.print(&quot;Enter the mark of student (Enter (-1) to terminate) : &quot;);\r\n\t\t\tmark = in.nextInt();\r\n\t\t\tif (mark&gt;max){\r\n\t\t\t\tmax=mark;\r\n\t\t\t}else if(mark&lt;min &amp; mark!=-1){\r\n\t\t\t\tmin=mark;\r\n\t\t\t}else if(mark==-1){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttotal+=mark;\r\n\t\t\tnum++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Number number of student : &quot; + num);\r\n\t\tSystem.out.println(&quot;Total Marks : &quot; + total);\r\n\t\tSystem.out.println(&quot;Max Marks : &quot; + max);\r\n\t\tSystem.out.println(&quot;Min Marks : &quot; + min);\r\n\t\tSystem.out.println(&quot;Average Mark : &quot; + (double)total/num);\r\n\t}\r\n   }\r\n\r\n\r\nThe inputs I added\r\n10\r\n20\r\n30\r\n-1\r\n\r\n\r\nThe output\r\nNumber number of student : 3\r\nTotal Marks : 60\r\nMax Marks : 30\r\nMin Marks : 0\r\nAverage Mark : 20.0\r\n\r\nCan anyone help me to fix it?\r\n\r\nThanks for your time.\r\n\r\n\r\n","title":"Entering -1 to terminate java program but should not assign to min value","body":"<p>I was writing a java program to get the max, min, and total of the entered numbers. I want to terminate if the input is (-1) but in the programming, I wrote it assigning the -1 to the minimum value. What should I do to avoid it?</p>\n<pre><code>import java.util.*;\nclass Example{\npublic static void main(String args[]){\n    Scanner in = new Scanner(System.in);\n    int max = 0, min = 0, mark=0, total=0, num=0;\n    while(mark!=-1){\n        System.out.print(&quot;Enter the mark of student (Enter (-1) to terminate) : &quot;);\n        mark = in.nextInt();\n        if (mark&gt;max){\n            max=mark;\n        }else if(mark&lt;min &amp; mark!=-1){\n            min=mark;\n        }else if(mark==-1){\n            break;\n        }\n        total+=mark;\n        num++;\n    }\n    System.out.println(&quot;Number number of student : &quot; + num);\n    System.out.println(&quot;Total Marks : &quot; + total);\n    System.out.println(&quot;Max Marks : &quot; + max);\n    System.out.println(&quot;Min Marks : &quot; + min);\n    System.out.println(&quot;Average Mark : &quot; + (double)total/num);\n}\n</code></pre>\n<p>}</p>\n<h2>The inputs I added\n10\n20\n30</h2>\n<p>The output\nNumber number of student : 3\nTotal Marks : 60\nMax Marks : 30\nMin Marks : 0\nAverage Mark : 20.0</p>\n<p>Can anyone help me to fix it?</p>\n<p>Thanks for your time.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"score":0,"creation_date":1403704684,"post_id":14869441,"comment_id":37762190,"body_markdown":"Not met the requirements with available open source libraries, we started storing Outlook messages as .mhtml files and started reading .mhtml files with Java and converted the content back into Java Mail after few tweaks to content. for time being we are able to achieve almost required stuff. Not Sure if there is better solution.","body":"Not met the requirements with available open source libraries, we started storing Outlook messages as .mhtml files and started reading .mhtml files with Java and converted the content back into Java Mail after few tweaks to content. for time being we are able to achieve almost required stuff. Not Sure if there is better solution."}],"answers":[{"tags":[],"owner":{"account_id":1755155,"reputation":7365,"user_id":1603380,"accept_rate":56,"display_name":"Buntylm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360825967,"creation_date":1360825967,"answer_id":14869567,"question_id":14869441,"body_markdown":"if you are looking to parse Outlook .msg files then [msgparser][1] is small open source java library it provide the content using java objects it use [Apache POI][2] for parsing the files.\r\n\r\n\r\n  [1]: http://auxilii.com/msgparser/\r\n  [2]: http://poi.apache.org/poifs/","title":"Read .msg file with Java mail API","body":"<p>if you are looking to parse Outlook .msg files then <a href=\"http://auxilii.com/msgparser/\" rel=\"nofollow\">msgparser</a> is small open source java library it provide the content using java objects it use <a href=\"http://poi.apache.org/poifs/\" rel=\"nofollow\">Apache POI</a> for parsing the files.</p>\n"},{"tags":[],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576836790,"creation_date":1489410535,"answer_id":42764480,"question_id":14869441,"body_markdown":"**edit 20-12-2019:** the email conversion logic has been moved to a dedicated open source library: [outlook-message-parser](https://github.com/bbottema/outlook-message-parser) (the EmailConverter class in Simple Java Mail is still there as well).\r\n\r\n----------\r\n\r\n**original answer:**\r\n[Simple Java Mail](http://www.simplejavamail.org), an open source library for sending emails over SMTP has an [`EmailConverter`](https://github.com/bbottema/simple-java-mail/blob/master/src/main/java/org/simplejavamail/converter/EmailConverter.java) class that can read and convert Outlook messages directly to MimeMessage, Email or EML.\r\n\r\nUnder the hood it uses a fork of [msgparser](https://github.com/bbottema/msgparser) ([Outlook Message Parser](https://github.com/bbottema/outlook-message-parser)), which on its turn uses [Apache POI](http://poi.apache.org/poifs/).\r\n\r\nFrom the [Features page](http://www.simplejavamail.org/#/features):\r\n\r\n    // from Outlook .msg\r\n    Email email =             EmailConverter.outlookMsgToEmail(readToString(&quot;yourMessage.msg&quot;));\r\n    Email email =             EmailConverter.outlookMsgToEmail(new File(&quot;yourMessage.msg&quot;));\r\n    Email email =             EmailConverter.outlookMsgToEmail(getInputStream(&quot;yourMessage.msg&quot;));\r\n    String eml =              EmailConverter.outlookMsgToEML(readToString(&quot;yourMessage.msg&quot;));\r\n    String eml =              EmailConverter.outlookMsgToEML(new File(&quot;yourMessage.msg&quot;));\r\n    String eml =              EmailConverter.outlookMsgToEML(getInputStream(&quot;yourMessage.msg&quot;));\r\n    MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(readToString(&quot;yourMessage.msg&quot;));\r\n    MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(new File(&quot;yourMessage.msg&quot;));\r\n    MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(getInputStream(&quot;yourMessage.msg&quot;));","title":"Read .msg file with Java mail API","body":"<p><strong>edit 20-12-2019:</strong> the email conversion logic has been moved to a dedicated open source library: <a href=\"https://github.com/bbottema/outlook-message-parser\" rel=\"nofollow noreferrer\">outlook-message-parser</a> (the EmailConverter class in Simple Java Mail is still there as well).</p>\n\n<hr>\n\n<p><strong>original answer:</strong>\n<a href=\"http://www.simplejavamail.org\" rel=\"nofollow noreferrer\">Simple Java Mail</a>, an open source library for sending emails over SMTP has an <a href=\"https://github.com/bbottema/simple-java-mail/blob/master/src/main/java/org/simplejavamail/converter/EmailConverter.java\" rel=\"nofollow noreferrer\"><code>EmailConverter</code></a> class that can read and convert Outlook messages directly to MimeMessage, Email or EML.</p>\n\n<p>Under the hood it uses a fork of <a href=\"https://github.com/bbottema/msgparser\" rel=\"nofollow noreferrer\">msgparser</a> (<a href=\"https://github.com/bbottema/outlook-message-parser\" rel=\"nofollow noreferrer\">Outlook Message Parser</a>), which on its turn uses <a href=\"http://poi.apache.org/poifs/\" rel=\"nofollow noreferrer\">Apache POI</a>.</p>\n\n<p>From the <a href=\"http://www.simplejavamail.org/#/features\" rel=\"nofollow noreferrer\">Features page</a>:</p>\n\n<pre><code>// from Outlook .msg\nEmail email =             EmailConverter.outlookMsgToEmail(readToString(\"yourMessage.msg\"));\nEmail email =             EmailConverter.outlookMsgToEmail(new File(\"yourMessage.msg\"));\nEmail email =             EmailConverter.outlookMsgToEmail(getInputStream(\"yourMessage.msg\"));\nString eml =              EmailConverter.outlookMsgToEML(readToString(\"yourMessage.msg\"));\nString eml =              EmailConverter.outlookMsgToEML(new File(\"yourMessage.msg\"));\nString eml =              EmailConverter.outlookMsgToEML(getInputStream(\"yourMessage.msg\"));\nMimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(readToString(\"yourMessage.msg\"));\nMimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(new File(\"yourMessage.msg\"));\nMimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(getInputStream(\"yourMessage.msg\"));\n</code></pre>\n"}],"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8999,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1654483030,"creation_date":1360825296,"question_id":14869441,"body_markdown":"I am trying to read an .MSG file from a local system in a Java application using the Java mail API. I searched, but results suggest using some other libraries.","title":"Read .msg file with Java mail API","body":"<p>I am trying to read an .MSG file from a local system in a Java application using the Java mail API. I searched, but results suggest using some other libraries.</p>\n"},{"tags":["java","collections","junit4"],"answers":[{"tags":[],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1348478458,"creation_date":1348478092,"answer_id":12562015,"question_id":12561970,"body_markdown":"`toString` is overriden by `ArrayList`, the `List` implementation returned by `Arrays.asList()`\r\n\r\nHere is how the `asList` method is implemented in the `Arrays` class.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n        return new ArrayList&lt;T&gt;(a);\r\n    }\r\n\r\nwhere `ArrayList` is an static inner class of `Arrays`:\r\n\r\n`private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;`\r\n\r\nYa, well is not directly overriden by `ArrayList` but by its ancestor `AbstractList`","title":"Where is toString() overridden on java.util.List","body":"<p><code>toString</code> is overriden by <code>ArrayList</code>, the <code>List</code> implementation returned by <code>Arrays.asList()</code></p>\n\n<p>Here is how the <code>asList</code> method is implemented in the <code>Arrays</code> class.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n    return new ArrayList&lt;T&gt;(a);\n}\n</code></pre>\n\n<p>where <code>ArrayList</code> is an static inner class of <code>Arrays</code>:</p>\n\n<p><code>private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</code></p>\n\n<p>Ya, well is not directly overriden by <code>ArrayList</code> but by its ancestor <code>AbstractList</code></p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1348478095,"creation_date":1348478095,"answer_id":12562016,"question_id":12561970,"body_markdown":"`Arrays.asList` returns [an `Arrays#ArrayList`][2] that extends `AbstractList` which extends `AbstractCollection` [which implements `toString`][1].\r\n\r\n [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/AbstractCollection.java#AbstractCollection.toString%28%29\r\n [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/Arrays.java#Arrays.ArrayList","title":"Where is toString() overridden on java.util.List","body":"<p><code>Arrays.asList</code> returns <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/Arrays.java#Arrays.ArrayList\" rel=\"noreferrer\">an <code>Arrays#ArrayList</code></a> that extends <code>AbstractList</code> which extends <code>AbstractCollection</code> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/AbstractCollection.java#AbstractCollection.toString%28%29\" rel=\"noreferrer\">which implements <code>toString</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348479368,"creation_date":1348478188,"answer_id":12562040,"question_id":12561970,"body_markdown":"`Object` class has implementation of `toString()`. Since every class directly or indirectly `extends` to `Object`, If a particular class doesn&#39;t define toString(), it gets inherited from it&#39;s parent classes in the hierarchy.\r\n\r\n**UPDATED** based on &lt;a href=&quot;https://stackoverflow.com/users/1122645/umnyobe&quot;&gt;UmNyobe&lt;/a&gt; comments:\r\n\r\nIn the hierarchy, the very first parent class found which has the required omplementation, will be used. In the question by OP, that parent class will be `AbstractCollection` which overrides `toString` from `Object`.","title":"Where is toString() overridden on java.util.List","body":"<p><code>Object</code> class has implementation of <code>toString()</code>. Since every class directly or indirectly <code>extends</code> to <code>Object</code>, If a particular class doesn't define toString(), it gets inherited from it's parent classes in the hierarchy.</p>\n\n<p><strong>UPDATED</strong> based on <a href=\"https://stackoverflow.com/users/1122645/umnyobe\">UmNyobe</a> comments:</p>\n\n<p>In the hierarchy, the very first parent class found which has the required omplementation, will be used. In the question by OP, that parent class will be <code>AbstractCollection</code> which overrides <code>toString</code> from <code>Object</code>.</p>\n"},{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348478254,"creation_date":1348478254,"answer_id":12562057,"question_id":12561970,"body_markdown":"toString is overrided by [AbstractCollection][1] which is a superclass of :\r\n\r\n - AbstractList\r\n - AbstractQueue\r\n - AbstractSet\r\n - ArrayDeque\r\n\r\nThe element returned by `.asList` is probably a subclass of `AbstractList`\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractCollection.html#toString%28%29","title":"Where is toString() overridden on java.util.List","body":"<p>toString is overrided by <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractCollection.html#toString%28%29\" rel=\"nofollow\">AbstractCollection</a> which is a superclass of :</p>\n\n<ul>\n<li>AbstractList</li>\n<li>AbstractQueue</li>\n<li>AbstractSet</li>\n<li>ArrayDeque</li>\n</ul>\n\n<p>The element returned by <code>.asList</code> is probably a subclass of <code>AbstractList</code></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348478317,"creation_date":1348478317,"answer_id":12562070,"question_id":12561970,"body_markdown":"Both `List` and `Collection` are interfaces. Method `toString()` is overridden in `AbstractCollection`.\r\n\r\nAnyway it is a bad practice to compare string representations of objects. You should use \r\n\r\n`assertEquals(expectedList, actualList)` instead.\r\n\r\nwhere\r\n\r\n`expectedList = Arrays.asList(new String[] {&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;})`\r\n\r\n\r\nor even better in your case:\r\n\r\n`assertArrayEquals(expectedArray, actualArray)`\r\n\r\nPlease pay attention that you should use newer `org.junit.Assert` instead of `junit.framework.Assert`. The new implementation has a lot of methods including array comparison utilities. \r\n\r\n","title":"Where is toString() overridden on java.util.List","body":"<p>Both <code>List</code> and <code>Collection</code> are interfaces. Method <code>toString()</code> is overridden in <code>AbstractCollection</code>.</p>\n\n<p>Anyway it is a bad practice to compare string representations of objects. You should use </p>\n\n<p><code>assertEquals(expectedList, actualList)</code> instead.</p>\n\n<p>where</p>\n\n<p><code>expectedList = Arrays.asList(new String[] {\"String1\", \"String2\", \"String3\"})</code></p>\n\n<p>or even better in your case:</p>\n\n<p><code>assertArrayEquals(expectedArray, actualArray)</code></p>\n\n<p>Please pay attention that you should use newer <code>org.junit.Assert</code> instead of <code>junit.framework.Assert</code>. The new implementation has a lot of methods including array comparison utilities. </p>\n"},{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348478486,"creation_date":1348478486,"answer_id":12562120,"question_id":12561970,"body_markdown":"If you got to `asList` code(pressing &lt;kbd&gt;F3&lt;/kbd&gt; on `asList` goes to the declaration in eclipse is the source code is attached) it returns\r\n\r\n     return new ArrayList&lt;T&gt;(a);\r\n\r\nAnd investigating further [Arrays](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#toString%28java.lang.Object[]%29) does have a `toString` overloaded.\r\n\r\n","title":"Where is toString() overridden on java.util.List","body":"<p>If you got to <code>asList</code> code(pressing <kbd>F3</kbd> on <code>asList</code> goes to the declaration in eclipse is the source code is attached) it returns</p>\n\n<pre><code> return new ArrayList&lt;T&gt;(a);\n</code></pre>\n\n<p>And investigating further <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#toString%28java.lang.Object%5b%5d%29\" rel=\"nofollow\">Arrays</a> does have a <code>toString</code> overloaded.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":12562016,"answer_count":6,"score":2,"last_activity_date":1654482441,"creation_date":1348477925,"question_id":12561970,"body_markdown":"I was wondering why this assert works in JUnit:\r\n\r\n    assertEquals(&quot;[String1, String2, String3]&quot;, Arrays.asList(&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;).toString());\r\n\r\nI can&#39;t see the toString() being overridden anywhere on List or Collection.\r\n\r\nI&#39;m glad it works, but, still curious.","title":"Where is toString() overridden on java.util.List","body":"<p>I was wondering why this assert works in JUnit:</p>\n<pre><code>assertEquals(&quot;[String1, String2, String3]&quot;, Arrays.asList(&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;).toString());\n</code></pre>\n<p>I can't see the toString() being overridden anywhere on List or Collection.</p>\n<p>I'm glad it works, but, still curious.</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1654314637,"post_id":72493446,"comment_id":128067372,"body_markdown":"Please show the full stack-trace. We need to see what code tries to call `org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getXmlObjectArray`. I suspect there is a incompatibility between the used versions of Apache POI, OOXML-Schemas and/or one of the Java XML libraries.","body":"Please show the full stack-trace. We need to see what code tries to call <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.&zwnj;&#8203;CTFootnotesImpl.getX&zwnj;&#8203;mlObjectArray</code>. I suspect there is a incompatibility between the used versions of Apache POI, OOXML-Schemas and/or one of the Java XML libraries."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1654318057,"post_id":72493446,"comment_id":128067705,"body_markdown":"There seems to be either an old version of `ooxml-schemas` or an old version of `xmlbeans` in your class-path on runtime. Apache Poi version 5.2.2 needs `poi-ooxml-lite-5.2.2` (or `poi-ooxml-full-5.2.2`) instead of `ooxml-schemas` and it needs `xmlbeans-5.0.3`. Both provide the method `getXmlObjectArray`. But `ooxml-schemas` and `xmlbeans-3.1.0` and lower do not provide that method.","body":"There seems to be either an old version of <code>ooxml-schemas</code> or an old version of <code>xmlbeans</code> in your class-path on runtime. Apache Poi version 5.2.2 needs <code>poi-ooxml-lite-5.2.2</code> (or <code>poi-ooxml-full-5.2.2</code>) instead of <code>ooxml-schemas</code> and it needs <code>xmlbeans-5.0.3</code>. Both provide the method <code>getXmlObjectArray</code>. But <code>ooxml-schemas</code> and <code>xmlbeans-3.1.0</code> and lower do not provide that method."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1654494040,"post_id":72493446,"comment_id":128095660,"body_markdown":"To your edit: Please check the full `dependency:tree`. There **must not** be any `ooxml-schemas` or `poi-ooxml-schemas`. And there **must not** be any `xmlbeans` of versions lower than `xmlbeans-5.0.3`. If there are such dependencies, then the libraries which pulled those are not compatible with `apache poi 5.2.2.`.","body":"To your edit: Please check the full <code>dependency:tree</code>. There <b>must not</b> be any <code>ooxml-schemas</code> or <code>poi-ooxml-schemas</code>. And there <b>must not</b> be any <code>xmlbeans</code> of versions lower than <code>xmlbeans-5.0.3</code>. If there are such dependencies, then the libraries which pulled those are not compatible with <code>apache poi 5.2.2.</code>."}],"owner":{"account_id":1280783,"reputation":95,"user_id":1234915,"accept_rate":17,"display_name":"Nishu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654481850,"creation_date":1654279001,"question_id":72493446,"body_markdown":"We are upgrading Apache poi library from 3.17 to 5.0 version, when we update poi 5.2 dependency in POM.XML, getting the below mentioned error, while creating the document from template.\r\n\r\nCode to create document\r\n\r\n    String relativeUrl = &quot;/report-templates/DocTemplate.docx&quot;;\r\n     \t\tXWPFDocument wordDoc=new XWPFDocument(getClass().getClassLoader().getResourceAsStream(relativeUrl));\r\n\t\twordDoc.enforceUpdateFields();\r\n\r\nError Message\r\n\r\n    &quot;Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;org.apache.xmlbeans.XmlObject[] org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getXmlObjectArray(javax.xml.namespace.QName, org.apache.xmlbeans.XmlObject[])&#39;&quot;,\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDependency used for POI\r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWe tried different ways, like adding latest dependencies of all related jars explicitly like xmlbean, poi-ooxml-schema, commons collections jars etc, but still not working.\r\n\r\nAdding POM.xml for reference below\r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jasypt&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jasypt-spring31&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;18.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.4.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.5.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFull Stack trace:\r\n\r\n        2022-06-06 07:40:38 ERROR stderr:71 - java.lang.NoSuchMethodError: &#39;org.apache.xmlbeans.XmlObject[] org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getXmlObjectArray(javax.xml.namespace.QName, org.apache.xmlbeans.XmlObject[])&#39;\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getFootnoteArray(CTFootnotesImpl.java:52)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFFootnotes.onDocumentRead(XWPFFootnotes.java:85)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.initFootnotes(XWPFDocument.java:262)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.onDocumentRead(XWPFDocument.java:155)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:169)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:119)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//com.example.test.service.impl.testReportServiceImpl.createWordReport(testReportServiceImpl.java:890)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//com.example.test.service.impl.testReportServiceImpl.generateWordReport(testReportServiceImpl.java:821)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \r\n    2022-06-06 07:40:38 ERROR stderr:71 - \tat deployment.test-web.war//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\r\n  [1]: https://i.stack.imgur.com/DFz54.png\r\n  [2]: https://i.stack.imgur.com/Dv2Bu.png","title":"Apache POI upgrade to 5.0 error for Word document","body":"<p>We are upgrading Apache poi library from 3.17 to 5.0 version, when we update poi 5.2 dependency in POM.XML, getting the below mentioned error, while creating the document from template.</p>\n<p>Code to create document</p>\n<pre><code>String relativeUrl = &quot;/report-templates/DocTemplate.docx&quot;;\n        XWPFDocument wordDoc=new XWPFDocument(getClass().getClassLoader().getResourceAsStream(relativeUrl));\n    wordDoc.enforceUpdateFields();\n</code></pre>\n<p>Error Message</p>\n<pre><code>&quot;Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'org.apache.xmlbeans.XmlObject[] org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getXmlObjectArray(javax.xml.namespace.QName, org.apache.xmlbeans.XmlObject[])'&quot;,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DFz54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DFz54.png\" alt=\"enter image description here\" /></a></p>\n<p>Dependency used for POI</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Dv2Bu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dv2Bu.png\" alt=\"enter image description here\" /></a></p>\n<p>We tried different ways, like adding latest dependencies of all related jars explicitly like xmlbean, poi-ooxml-schema, commons collections jars etc, but still not working.</p>\n<p>Adding POM.xml for reference below</p>\n<pre><code> &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;2.17.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;2.17.1&lt;/version&gt;\n            &lt;/dependency&gt; \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jasypt&lt;/groupId&gt;\n            &lt;artifactId&gt;jasypt-spring31&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;18.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.5.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20140107&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n                        \n        &lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Full Stack trace:</p>\n<pre><code>    2022-06-06 07:40:38 ERROR stderr:71 - java.lang.NoSuchMethodError: 'org.apache.xmlbeans.XmlObject[] org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getXmlObjectArray(javax.xml.namespace.QName, org.apache.xmlbeans.XmlObject[])'\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.openxmlformats.schemas.wordprocessingml.x2006.main.impl.CTFootnotesImpl.getFootnoteArray(CTFootnotesImpl.java:52)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFFootnotes.onDocumentRead(XWPFFootnotes.java:85)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.initFootnotes(XWPFDocument.java:262)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.onDocumentRead(XWPFDocument.java:155)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:169)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.apache.poi.xwpf.usermodel.XWPFDocument.&lt;init&gt;(XWPFDocument.java:119)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//com.example.test.service.impl.testReportServiceImpl.createWordReport(testReportServiceImpl.java:890)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//com.example.test.service.impl.testReportServiceImpl.generateWordReport(testReportServiceImpl.java:821)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\n2022-06-06 07:40:38 ERROR stderr:71 -   at deployment.test-web.war//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654481099,"creation_date":1654446969,"answer_id":72509230,"question_id":72509122,"body_markdown":"A lot of the code you posted doesn&#39;t really make any sense. If you have\r\n\r\n    Scene scene = this.stage.getScene();\r\n\r\nthen obviously \r\n\r\n    stage.setScene(scene);\r\n\r\nis completely pointless. Much of the rest of the code is not understandable either, at least without further context.\r\n\r\nThe basic answer to your question is that you wrap the `boardView` in a `ScrollPane`, and place the `ScrollPane` (instead of `boardView`) in the scene graph, wherever you need it. So something like\r\n\r\n    Scene scene = this.stage.getScene();\r\n    Parent root = scene.getRoot();\r\n    ScrollPane sp = new ScrollPane();\r\n    sp.setContent(this.boardView);\r\n    ((BorderPane) root).setCenter(sp);\r\n","title":"Implementation of Scrollbar in JavaFX","body":"<p>A lot of the code you posted doesn't really make any sense. If you have</p>\n<pre><code>Scene scene = this.stage.getScene();\n</code></pre>\n<p>then obviously</p>\n<pre><code>stage.setScene(scene);\n</code></pre>\n<p>is completely pointless. Much of the rest of the code is not understandable either, at least without further context.</p>\n<p>The basic answer to your question is that you wrap the <code>boardView</code> in a <code>ScrollPane</code>, and place the <code>ScrollPane</code> (instead of <code>boardView</code>) in the scene graph, wherever you need it. So something like</p>\n<pre><code>Scene scene = this.stage.getScene();\nParent root = scene.getRoot();\nScrollPane sp = new ScrollPane();\nsp.setContent(this.boardView);\n((BorderPane) root).setCenter(sp);\n</code></pre>\n"}],"owner":{"account_id":25236132,"reputation":1,"user_id":19070615,"display_name":"Grrod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72509230,"answer_count":1,"score":-2,"last_activity_date":1654481099,"creation_date":1654446259,"question_id":72509122,"body_markdown":"My problem is that my Maven-project (board game) take up quite a lot of size, and since my laptop is only 13 inches, I can not see the top and bottom part. I have tried many different lines of code that I found on the internet but it did not help. So my question is that; I have adjusted the size of my board game but I can only see that place inside the 400x400 dimension. So how can I add a scrollbar that can show the whole game by scrolling up and down, is it even possible?\r\n\r\nI&#39;ve tried to do something, it is commented out.\r\n \r\n        Scene scene = this.stage.getScene();\r\n        Parent root = scene.getRoot();\r\n        ((BorderPane) root).setCenter(this.boardView);\r\n\r\n        //ScrollPane sp = new ScrollPane();\r\n        //sp.setContent(root);\r\n        //Scene scene = this.stage.getScene(sp, 400, 400); //too many arguments..\r\n\r\n        stage.setScene(scene);\r\n        stage.centerOnScreen();\r\n        appController.startGame();\r\n\r\nI know I have to put the &#39;sp&#39; in the code below (that&#39;s also the solutions I&#39;ve found on the internet):\r\n\r\n    Scene scene = new Scene(sp, 400, 400);\r\n\r\nBut, how would I be able to do it, when I am creating the object like this?\r\n\r\n    Scene scene = this.stage.getScene();\r\n\r\nHow would I add Scrollingbar in my Window?\r\n\r\nOr is there a completely different way to do it?","title":"Implementation of Scrollbar in JavaFX","body":"<p>My problem is that my Maven-project (board game) take up quite a lot of size, and since my laptop is only 13 inches, I can not see the top and bottom part. I have tried many different lines of code that I found on the internet but it did not help. So my question is that; I have adjusted the size of my board game but I can only see that place inside the 400x400 dimension. So how can I add a scrollbar that can show the whole game by scrolling up and down, is it even possible?</p>\n<p>I've tried to do something, it is commented out.</p>\n<pre><code>    Scene scene = this.stage.getScene();\n    Parent root = scene.getRoot();\n    ((BorderPane) root).setCenter(this.boardView);\n\n    //ScrollPane sp = new ScrollPane();\n    //sp.setContent(root);\n    //Scene scene = this.stage.getScene(sp, 400, 400); //too many arguments..\n\n    stage.setScene(scene);\n    stage.centerOnScreen();\n    appController.startGame();\n</code></pre>\n<p>I know I have to put the 'sp' in the code below (that's also the solutions I've found on the internet):</p>\n<pre><code>Scene scene = new Scene(sp, 400, 400);\n</code></pre>\n<p>But, how would I be able to do it, when I am creating the object like this?</p>\n<pre><code>Scene scene = this.stage.getScene();\n</code></pre>\n<p>How would I add Scrollingbar in my Window?</p>\n<p>Or is there a completely different way to do it?</p>\n"},{"tags":["java","arrays","string","list"],"comments":[{"owner":{"account_id":15455548,"reputation":1412,"user_id":12485639,"display_name":"Omkar76"},"score":0,"creation_date":1654426648,"post_id":72506712,"comment_id":128083707,"body_markdown":"[String.startsWith()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#startsWith(java.lang.String))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#startsWith(java.lang.String)\" rel=\"nofollow noreferrer\">String.startsWith()</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654429650,"post_id":72506712,"comment_id":128084297,"body_markdown":"Are those dates? Looks to me like day 001 of year 2012 and so forth. In that case handle them as `LocalDate` objects, not as strings. And use `LocalDate.getYear()` to get the year (equal to the first 4 digits of your example strings). See for example [how to convert Julian date (ordinal date) in Java \\[duplicate\\]](https://stackoverflow.com/questions/61494889/how-to-convert-julian-date-ordinal-date-in-java).","body":"Are those dates? Looks to me like day 001 of year 2012 and so forth. In that case handle them as <code>LocalDate</code> objects, not as strings. And use <code>LocalDate.getYear()</code> to get the year (equal to the first 4 digits of your example strings). See for example <a href=\"https://stackoverflow.com/questions/61494889/how-to-convert-julian-date-ordinal-date-in-java\">how to convert Julian date (ordinal date) in Java &#91;duplicate&#93;</a>."},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":1,"creation_date":1654485429,"post_id":72506712,"comment_id":128094533,"body_markdown":"Actually, year and the registered number. Example people born in 2012. The first one to register who was born in 2012 is 2012-001 then the second one to register is 2012-002 and so on. I am actually making an ID number on firebase using the date they were born.","body":"Actually, year and the registered number. Example people born in 2012. The first one to register who was born in 2012 is 2012-001 then the second one to register is 2012-002 and so on. I am actually making an ID number on firebase using the date they were born."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654498455,"post_id":72506712,"comment_id":128096532,"body_markdown":"Thanks for answering. In that case I would probably start out by designing a class to hold the number (or the person, depending) and being responsible for returning the birth year (as a `Year` object and/or as an `int`). Strings may seem versatile enough but really are unsuited for holding structured data like these.","body":"Thanks for answering. In that case I would probably start out by designing a class to hold the number (or the person, depending) and being responsible for returning the birth year (as a <code>Year</code> object and/or as an <code>int</code>). Strings may seem versatile enough but really are unsuited for holding structured data like these."}],"answers":[{"tags":[],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654427163,"creation_date":1654427163,"answer_id":72506789,"question_id":72506712,"body_markdown":"You can use the startsWith() method:\r\n```\r\nString[] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nfor (String number : num) {\r\n    if (number.startsWith(&quot;2003&quot;)) {\r\n        list.add(number);\r\n    }\r\n}\r\n```","title":"Filter out the elements that Start with given 4 digit and store them into a List","body":"<p>You can use the startsWith() method:</p>\n<pre><code>String[] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nfor (String number : num) {\n    if (number.startsWith(&quot;2003&quot;)) {\n        list.add(number);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654458187,"creation_date":1654458187,"answer_id":72510615,"question_id":72506712,"body_markdown":"Besides @Adixe iterative solution, you could concisely achieve that also with streams by streaming the array, filtering for the elements starting with `2003` and the collecting the remaining elements with the terminal operation `collect(Collectors.toList())`.\r\n\r\n```\r\nString[] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\r\nList&lt;String&gt; listNums = Arrays.stream(num)\r\n        .filter(s -&gt; s.startsWith(&quot;2003&quot;))\r\n        .collect(Collectors.toList());\r\n```","title":"Filter out the elements that Start with given 4 digit and store them into a List","body":"<p>Besides @Adixe iterative solution, you could concisely achieve that also with streams by streaming the array, filtering for the elements starting with <code>2003</code> and the collecting the remaining elements with the terminal operation <code>collect(Collectors.toList())</code>.</p>\n<pre><code>String[] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\nList&lt;String&gt; listNums = Arrays.stream(num)\n        .filter(s -&gt; s.startsWith(&quot;2003&quot;))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654480520,"creation_date":1654470844,"answer_id":72511715,"question_id":72506712,"body_markdown":"As *@Ole V.V.* has pointed out in the comments, it seems like strings in your *array* are comprised of the **year** like `2012` and the ***day of the year*** like `001`.\r\n\r\nIf so, it would be match more convenient to convert this data into `LocalDate` than operating with it as if it&#39;s a plain string.\r\n\r\nTo parse these row strings into `LocalDate` you need to create a `DateTimeFormatter` using the static method [`ofPattern()`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-). \r\n\r\nA string pattern that corresponds to the sample data will be the following:\r\n```\r\nyyyyDDD\r\n```\r\n`y` - stands for year;\r\n\r\n`D` - day of the year.\r\n\r\n*For more information* [*see*](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns)\r\n\r\nSo to filter out dates having a *particular year*, firstly we need to parse every string using [`LocalDate.parse()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-) by passing the string and the *formatter* as arguments, and then extract *year* from each *date* by applying `getYear()`:\r\n```\r\nString [] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\r\n        \r\nint targetYear = 2003;\r\n    \r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyDDD&quot;);\r\n        \r\nList&lt;LocalDate&gt; dates = Arrays.stream(num)\r\n    .map(date -&gt; LocalDate.parse(date, formatter)) \r\n    .filter(date -&gt; date.getYear() == targetYear)\r\n    .collect(Collectors.toList());\r\n    \r\nSystem.out.println(dates);\r\n```\r\n*Output:*\r\n```\r\n[2003-01-01, 2003-01-02]\r\n```","title":"Filter out the elements that Start with given 4 digit and store them into a List","body":"<p>As <em>@Ole V.V.</em> has pointed out in the comments, it seems like strings in your <em>array</em> are comprised of the <strong>year</strong> like <code>2012</code> and the <em><strong>day of the year</strong></em> like <code>001</code>.</p>\n<p>If so, it would be match more convenient to convert this data into <code>LocalDate</code> than operating with it as if it's a plain string.</p>\n<p>To parse these row strings into <code>LocalDate</code> you need to create a <code>DateTimeFormatter</code> using the static method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ofPattern-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ofPattern()</code></a>.</p>\n<p>A string pattern that corresponds to the sample data will be the following:</p>\n<pre><code>yyyyDDD\n</code></pre>\n<p><code>y</code> - stands for year;</p>\n<p><code>D</code> - day of the year.</p>\n<p><em>For more information</em> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\"><em>see</em></a></p>\n<p>So to filter out dates having a <em>particular year</em>, firstly we need to parse every string using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>LocalDate.parse()</code></a> by passing the string and the <em>formatter</em> as arguments, and then extract <em>year</em> from each <em>date</em> by applying <code>getYear()</code>:</p>\n<pre><code>String [] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\n        \nint targetYear = 2003;\n    \nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyDDD&quot;);\n        \nList&lt;LocalDate&gt; dates = Arrays.stream(num)\n    .map(date -&gt; LocalDate.parse(date, formatter)) \n    .filter(date -&gt; date.getYear() == targetYear)\n    .collect(Collectors.toList());\n    \nSystem.out.println(dates);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2003-01-01, 2003-01-02]\n</code></pre>\n"}],"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1654480520,"creation_date":1654426380,"question_id":72506712,"body_markdown":"I would like to get the numbers that start with `2003` (`2003001` and `2003002`) and put them into another list.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String [] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        for(String actualList : num) {\r\n            list.add(actualList);\r\n        }\r\n    }","title":"Filter out the elements that Start with given 4 digit and store them into a List","body":"<p>I would like to get the numbers that start with <code>2003</code> (<code>2003001</code> and <code>2003002</code>) and put them into another list.</p>\n<pre><code>public static void main(String[] args) {\n\n    String [] num = {&quot;2012001&quot;, &quot;2003001&quot;, &quot;2003002&quot;};\n\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    for(String actualList : num) {\n        list.add(actualList);\n    }\n}\n</code></pre>\n"},{"tags":["java","opengl","lwjgl","opengl-1.x"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1654621069,"post_id":72512176,"comment_id":128132413,"body_markdown":"Why does it have to be OpenGL 1.1?","body":"Why does it have to be OpenGL 1.1?"},{"owner":{"account_id":8270275,"reputation":173,"user_id":6218156,"display_name":"Hello234"},"score":1,"creation_date":1654722658,"post_id":72512176,"comment_id":128162715,"body_markdown":"Because that&#39;s the version I&#39;m using, I&#39;m trying to run this on ancient computers for fun","body":"Because that&#39;s the version I&#39;m using, I&#39;m trying to run this on ancient computers for fun"}],"answers":[{"tags":[],"owner":{"account_id":2695276,"reputation":44354,"user_id":2327517,"display_name":"derhass"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1654480285,"creation_date":1654480285,"answer_id":72512294,"question_id":72512176,"body_markdown":"&gt; I&#39;ve heard about rendering onto textures, however I cannot find any information on how to do this in OpenGL 1.1.\r\n\r\nThat&#39;s because OpenGL 1.1 is from 1997 - literally a quarter _century_ ago. There&#39;s no render-to-texture there. \r\n\r\nThe closest thing you get is [`glCopyTexImage2D`](https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glCopyTexImage2D.xml), which allows you to copy framebuffer contents into a texture object (which technically would allow this to happen on the GPU side without a round-trip to CPU and system memory). So you basically render your data in the internal resolution - using only a portion of the framebuffer as the viewport, copy that into a texture, and then draw a rectangle on the full framebuffer with that texture and the desired filters.\r\n\r\nBut be warned that `GL_MAX_TEXTURE_SIZE` is guaranteed to be at least `64` in GL 1.1, so to write this in a way thatb it would work on any conformant GL 1.1 inmplementation, you would have to have code to split your framebuffer texture into 64x64 pixel tiles.\r\n\r\nThe other alternative - a roundtrip to system memory - would involve reading the data back with `glReadPixels`, and drawing it via again `glDrawPixels` while applying the `glPixelZoom` setting.\r\n","title":"OpenGL 1.1 render at fixed resolution and upscale","body":"<blockquote>\n<p>I've heard about rendering onto textures, however I cannot find any information on how to do this in OpenGL 1.1.</p>\n</blockquote>\n<p>That's because OpenGL 1.1 is from 1997 - literally a quarter <em>century</em> ago. There's no render-to-texture there.</p>\n<p>The closest thing you get is <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glCopyTexImage2D.xml\" rel=\"noreferrer\"><code>glCopyTexImage2D</code></a>, which allows you to copy framebuffer contents into a texture object (which technically would allow this to happen on the GPU side without a round-trip to CPU and system memory). So you basically render your data in the internal resolution - using only a portion of the framebuffer as the viewport, copy that into a texture, and then draw a rectangle on the full framebuffer with that texture and the desired filters.</p>\n<p>But be warned that <code>GL_MAX_TEXTURE_SIZE</code> is guaranteed to be at least <code>64</code> in GL 1.1, so to write this in a way thatb it would work on any conformant GL 1.1 inmplementation, you would have to have code to split your framebuffer texture into 64x64 pixel tiles.</p>\n<p>The other alternative - a roundtrip to system memory - would involve reading the data back with <code>glReadPixels</code>, and drawing it via again <code>glDrawPixels</code> while applying the <code>glPixelZoom</code> setting.</p>\n"}],"owner":{"account_id":8270275,"reputation":173,"user_id":6218156,"display_name":"Hello234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72512294,"answer_count":1,"score":2,"last_activity_date":1654480285,"creation_date":1654478408,"question_id":72512176,"body_markdown":"I&#39;m trying to render a scene at 320x240 permanently to emulate the feel classic 240p systems, and upscale it to the full size of the screen.\r\n\r\nThe issue I have is that, although I can sort of fudge this effect using sprites of a set resolution and glOrtho, it often just renders completely at the higher resolution and ends up being maybe a little slower, and rotating a sprite would end up making it obvious that the resolution is a lot higher.\r\n\r\nIs there some way to render the viewport at 320x240, and then upscale it to fit the screen, using OpenGL 1.1?\r\n\r\nRight now I&#39;m using this to set up the 2D viewport for rendering, where width and height are the width and height of the canvas.\r\n\r\n    GL11.glViewport(0, 0, width, height);\r\n\tGL11.glDepthFunc(GL11.GL_LEQUAL);\r\n\tGL11.glClear(GL11.GL_ACCUM);\r\n\tGL11.glMatrixMode(GL11.GL_PROJECTION);\r\n\tGL11.glLoadIdentity();\r\n\tGL11.glOrtho(0.0D, 320, 240, 0.0D, 0.0D, 100.0D); //320 and 240 is the &quot;true size&quot;\r\n\tGL11.glMatrixMode(GL11.GL_MODELVIEW);\r\n\tGL11.glLoadIdentity();\r\n\r\nI&#39;ve heard about rendering onto textures, however I cannot find any information on how to do this in OpenGL 1.1.","title":"OpenGL 1.1 render at fixed resolution and upscale","body":"<p>I'm trying to render a scene at 320x240 permanently to emulate the feel classic 240p systems, and upscale it to the full size of the screen.</p>\n<p>The issue I have is that, although I can sort of fudge this effect using sprites of a set resolution and glOrtho, it often just renders completely at the higher resolution and ends up being maybe a little slower, and rotating a sprite would end up making it obvious that the resolution is a lot higher.</p>\n<p>Is there some way to render the viewport at 320x240, and then upscale it to fit the screen, using OpenGL 1.1?</p>\n<p>Right now I'm using this to set up the 2D viewport for rendering, where width and height are the width and height of the canvas.</p>\n<pre><code>GL11.glViewport(0, 0, width, height);\nGL11.glDepthFunc(GL11.GL_LEQUAL);\nGL11.glClear(GL11.GL_ACCUM);\nGL11.glMatrixMode(GL11.GL_PROJECTION);\nGL11.glLoadIdentity();\nGL11.glOrtho(0.0D, 320, 240, 0.0D, 0.0D, 100.0D); //320 and 240 is the &quot;true size&quot;\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\nGL11.glLoadIdentity();\n</code></pre>\n<p>I've heard about rendering onto textures, however I cannot find any information on how to do this in OpenGL 1.1.</p>\n"},{"tags":["java","javap"],"comments":[{"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"score":2,"creation_date":1296556999,"post_id":4861523,"comment_id":5402027,"body_markdown":"I think is question is, what does the &quot;p&quot; in javap stands for?","body":"I think is question is, what does the &quot;p&quot; in javap stands for?"},{"owner":{"account_id":105081,"reputation":51982,"user_id":280598,"display_name":"Dan Grossman"},"score":2,"creation_date":1296557123,"post_id":4861523,"comment_id":5402056,"body_markdown":"Printer -- Java Printer.","body":"Printer -- Java Printer."},{"owner":{"account_id":166962,"reputation":9253,"user_id":391441,"accept_rate":91,"display_name":"instantsetsuna"},"score":0,"creation_date":1296557549,"post_id":4861523,"comment_id":5402169,"body_markdown":"@Luciano: I&#39;ve changed the title, thanks! :)","body":"@Luciano: I&#39;ve changed the title, thanks! :)"},{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":1,"creation_date":1509361043,"post_id":4861523,"comment_id":80973433,"body_markdown":"I always thought it stood for &#39;profiler&#39; but going through comments and other answers &#39;printer&#39; seems to be the correct one","body":"I always thought it stood for &#39;profiler&#39; but going through comments and other answers &#39;printer&#39; seems to be the correct one"}],"answers":[{"tags":[],"owner":{"account_id":51600,"reputation":19085,"user_id":154219,"accept_rate":88,"display_name":"Adeel"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1296556992,"creation_date":1296556992,"answer_id":4861556,"question_id":4861523,"body_markdown":"By default, `javap` **prints** declarations of the non-private members of each of the classes specified on the command line\r\n\r\nReference : http://docstore.mik.ua/orelly/java/javanut/ch16_08.htm","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>By default, <code>javap</code> <strong>prints</strong> declarations of the non-private members of each of the classes specified on the command line</p>\n\n<p>Reference : <a href=\"http://docstore.mik.ua/orelly/java/javanut/ch16_08.htm\">http://docstore.mik.ua/orelly/java/javanut/ch16_08.htm</a></p>\n"},{"tags":[],"owner":{"account_id":3547577,"reputation":49,"user_id":2963126,"display_name":"user2963126"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1383793568,"creation_date":1383793568,"answer_id":19827254,"question_id":4861523,"body_markdown":"it stands for java printer....","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>it stands for java printer....</p>\n"},{"tags":[],"owner":{"account_id":3864402,"reputation":119,"user_id":3201264,"accept_rate":0,"display_name":"Aniruddha Paul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1411445173,"creation_date":1411445173,"answer_id":25986713,"question_id":4861523,"body_markdown":"  It prints the methods declarations in your class and its a very good way to see the how your compiler \r\n  has interpreted your code and convert your source file into .class format.","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>It prints the methods declarations in your class and its a very good way to see the how your compiler \n  has interpreted your code and convert your source file into .class format.</p>\n"},{"tags":[],"owner":{"account_id":5324117,"reputation":79,"user_id":4246629,"display_name":"Bijesh Sheth"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1428900839,"creation_date":1428900839,"answer_id":29598079,"question_id":4861523,"body_markdown":"The javap command disassembles one or more class files. Its output depends on the options used. If no options are used, javap prints out the package, protected, and public fields and methods of the classes passed to it. javap prints its output to stdout.","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>The javap command disassembles one or more class files. Its output depends on the options used. If no options are used, javap prints out the package, protected, and public fields and methods of the classes passed to it. javap prints its output to stdout.</p>\n"},{"tags":[],"owner":{"account_id":4346040,"reputation":1,"user_id":3547953,"display_name":"aishwaryt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436719325,"creation_date":1436719325,"answer_id":31370139,"question_id":4861523,"body_markdown":"It lists all the methods and variable the specified class contains.\r\nYou just need to paas the class name with javap command on command-line.\r\ne.g.\r\nC:\\jdk1.3\\bin&gt; javap java.lang.Object\r\nit will list all the methods Object class contains.","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>It lists all the methods and variable the specified class contains.\nYou just need to paas the class name with javap command on command-line.\ne.g.\nC:\\jdk1.3\\bin> javap java.lang.Object\nit will list all the methods Object class contains.</p>\n"},{"tags":[],"owner":{"account_id":40946,"reputation":6136,"user_id":118862,"display_name":"pfmaggi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581274109,"creation_date":1534972489,"answer_id":51975236,"question_id":4861523,"body_markdown":"# `p` = print\r\n\r\n`javap` is part of the official Java tools and allows to disassemble one or more class files.\r\n\r\nThe &quot;p&quot; in this case stands for **print**, as in the [official documentation](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javap.html) is reported that:\r\n\r\n&gt; ... the `javap` command prints the package, protected and public fields, and methods of the classes passed to it. The `javap` command prints its output to stdout.\r\n\r\n","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<h1><code>p</code> = print</h1>\n\n<p><code>javap</code> is part of the official Java tools and allows to disassemble one or more class files.</p>\n\n<p>The \"p\" in this case stands for <strong>print</strong>, as in the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javap.html\" rel=\"noreferrer\">official documentation</a> is reported that:</p>\n\n<blockquote>\n  <p>... the <code>javap</code> command prints the package, protected and public fields, and methods of the classes passed to it. The <code>javap</code> command prints its output to stdout.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654479652,"creation_date":1581228743,"answer_id":60133981,"question_id":4861523,"body_markdown":"[javap Official Documentation(Java 13)](https://docs.oracle.com/en/java/javase/13/docs/specs/man/javap.html).\r\n\r\n# p means print\r\n\r\nAs you can see, from the options *description*, p in `javap` most probably stands for **print**(as the helper consists MOSTLY of print this, print that, show this, show that...).\r\n &lt;br&gt;\r\n\r\n```\r\njavap -help\r\nUsage: javap &lt;options&gt; &lt;classes&gt;\r\nwhere possible options include:\r\n  -help  --help  -?        Print this usage message\r\n  -version                 Version information\r\n  -v  -verbose             Print additional information\r\n  -l                       Print line number and local variable tables\r\n  -public                  Show only public classes and members\r\n  -protected               Show protected/public classes and members\r\n  -package                 Show package/protected/public classes\r\n                           and members (default)\r\n  -p  -private             Show all classes and members\r\n  -c                       Disassemble the code\r\n  -s                       Print internal type signatures\r\n  -sysinfo                 Show system info (path, size, date, MD5 hash)\r\n                           of class being processed\r\n  -constants               Show final constants\r\n  -classpath &lt;path&gt;        Specify where to find user class files\r\n  -cp &lt;path&gt;               Specify where to find user class files\r\n  -bootclasspath &lt;path&gt;    Override location of bootstrap class files\r\n```\r\n\r\nAs per its [official documentation](https://docs.oracle.com/en/java/javase/13/docs/specs/man/javap.html), \r\n**the javap command prints** is stated TWICE.\r\n\r\n&gt; The javap command disassembles one or more class files. The output\r\n&gt; depends on the options used. When no options are used, then the [[HERE:]] javap\r\n&gt; command prints the package, protected and public fields, and methods\r\n&gt; of the classes passed to it. [[HERE:]] The javap command prints its output to\r\n&gt; stdout.\r\n\r\n# javap\r\n\r\n    public class CheckoutJavaP{\t\r\n    \tprivate static int i = 1;\r\n    \tprotected static String s = &quot;string&quot;;\r\n    \tpublic static void main(String[] args){\r\n    \t\tInnerClass iC = new InnerClass();\r\n    \t\tiC.show();\r\n    \t\tSystem.out.println(s + i);\r\n    \t}\r\n    }\r\n    \r\n    class InnerClass{\r\n    \tprotected int count;\r\n    \tpublic InnerClass(){ System.out.println(&quot;In InnerClass Constructor&quot;);}\r\n    \tpublic void show(){ System.out.println(&quot;In InnerClass.show()&quot;);}\r\n    \tpublic int getCount(){ return this.count;}\r\n    }\r\n\r\n     javap CheckoutJavaP.class\r\n        Compiled from &quot;CheckoutJavaP.java&quot;\r\n        public class CheckoutJavaP {\r\n          protected static java.lang.String s;\r\n          public CheckoutJavaP();\r\n          public static void main(java.lang.String[]);\r\n          static {};\r\n        }\r\n\r\n# javap -v (verbose)\r\n\r\n    javap -v CheckoutJavaP.class\r\n    Classfile /C:/Users/jumping_monkey/CheckoutJavaP.class\r\n      Last modified 9 Feb, 2020; size 822 bytes\r\n      MD5 checksum fb7f219851715ef4489ebf7a47800d47\r\n      Compiled from &quot;CheckoutJavaP.java&quot;\r\n    public class CheckoutJavaP\r\n      minor version: 0\r\n      major version: 52\r\n      flags: ACC_PUBLIC, ACC_SUPER\r\n    Constant pool:\r\n       #1 = Methodref          #16.#30        // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       #2 = Class              #31            // InnerClass\r\n       #3 = Methodref          #2.#30         // InnerClass.&quot;&lt;init&gt;&quot;:()V\r\n       #4 = Methodref          #2.#32         // InnerClass.show:()V\r\n       #5 = Fieldref           #33.#34        // java/lang/System.out:Ljava/io/PrintStream;\r\n       #6 = Class              #35            // java/lang/StringBuilder\r\n       #7 = Methodref          #6.#30         // java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       #8 = Fieldref           #15.#36        // CheckoutJavaP.s:Ljava/lang/String;\r\n       #9 = Methodref          #6.#37         // java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      #10 = Fieldref           #15.#38        // CheckoutJavaP.i:I\r\n      #11 = Methodref          #6.#39         // java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n      #12 = Methodref          #6.#40         // java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n      #13 = Methodref          #41.#42        // java/io/PrintStream.println:(Ljava/lang/String;)V\r\n      #14 = String             #43            // string\r\n      #15 = Class              #44            // CheckoutJavaP\r\n      #16 = Class              #45            // java/lang/Object\r\n      #17 = Utf8               i\r\n      #18 = Utf8               I\r\n      #19 = Utf8               s\r\n      #20 = Utf8               Ljava/lang/String;\r\n      #21 = Utf8               &lt;init&gt;\r\n      #22 = Utf8               ()V\r\n      #23 = Utf8               Code\r\n      #24 = Utf8               LineNumberTable\r\n      #25 = Utf8               main\r\n      #26 = Utf8               ([Ljava/lang/String;)V\r\n      #27 = Utf8               &lt;clinit&gt;\r\n      #28 = Utf8               SourceFile\r\n      #29 = Utf8               CheckoutJavaP.java\r\n      #30 = NameAndType        #21:#22        // &quot;&lt;init&gt;&quot;:()V\r\n      #31 = Utf8               InnerClass\r\n      #32 = NameAndType        #46:#22        // show:()V\r\n      #33 = Class              #47            // java/lang/System\r\n      #34 = NameAndType        #48:#49        // out:Ljava/io/PrintStream;\r\n      #35 = Utf8               java/lang/StringBuilder\r\n      #36 = NameAndType        #19:#20        // s:Ljava/lang/String;\r\n      #37 = NameAndType        #50:#51        // append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      #38 = NameAndType        #17:#18        // i:I\r\n      #39 = NameAndType        #50:#52        // append:(I)Ljava/lang/StringBuilder;\r\n      #40 = NameAndType        #53:#54        // toString:()Ljava/lang/String;\r\n      #41 = Class              #55            // java/io/PrintStream\r\n      #42 = NameAndType        #56:#57        // println:(Ljava/lang/String;)V\r\n      #43 = Utf8               string\r\n      #44 = Utf8               CheckoutJavaP\r\n      #45 = Utf8               java/lang/Object\r\n      #46 = Utf8               show\r\n      #47 = Utf8               java/lang/System\r\n      #48 = Utf8               out\r\n      #49 = Utf8               Ljava/io/PrintStream;\r\n      #50 = Utf8               append\r\n      #51 = Utf8               (Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n      #52 = Utf8               (I)Ljava/lang/StringBuilder;\r\n      #53 = Utf8               toString\r\n      #54 = Utf8               ()Ljava/lang/String;\r\n      #55 = Utf8               java/io/PrintStream\r\n      #56 = Utf8               println\r\n      #57 = Utf8               (Ljava/lang/String;)V\r\n    {\r\n      protected static java.lang.String s;\r\n        descriptor: Ljava/lang/String;\r\n        flags: ACC_PROTECTED, ACC_STATIC\r\n    \r\n      public CheckoutJavaP();\r\n        descriptor: ()V\r\n        flags: ACC_PUBLIC\r\n        Code:\r\n          stack=1, locals=1, args_size=1\r\n             0: aload_0\r\n             1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n             4: return\r\n          LineNumberTable:\r\n            line 1: 0\r\n    \r\n      public static void main(java.lang.String[]);\r\n        descriptor: ([Ljava/lang/String;)V\r\n        flags: ACC_PUBLIC, ACC_STATIC\r\n        Code:\r\n          stack=3, locals=2, args_size=1\r\n             0: new           #2                  // class InnerClass\r\n             3: dup\r\n             4: invokespecial #3                  // Method InnerClass.&quot;&lt;init&gt;&quot;:()V\r\n             7: astore_1\r\n             8: aload_1\r\n             9: invokevirtual #4                  // Method InnerClass.show:()V\r\n            12: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n            15: new           #6                  // class java/lang/StringBuilder\r\n            18: dup\r\n            19: invokespecial #7                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n            22: getstatic     #8                  // Field s:Ljava/lang/String;\r\n            25: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n            28: getstatic     #10                 // Field i:I\r\n            31: invokevirtual #11                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\r\n            34: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n            37: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n            40: return\r\n          LineNumberTable:\r\n            line 5: 0\r\n            line 6: 8\r\n            line 7: 12\r\n            line 8: 40\r\n    \r\n      static {};\r\n        descriptor: ()V\r\n        flags: ACC_STATIC\r\n        Code:\r\n          stack=1, locals=0, args_size=0\r\n             0: iconst_1\r\n             1: putstatic     #10                 // Field i:I\r\n             4: ldc           #14                 // String string\r\n             6: putstatic     #8                  // Field s:Ljava/lang/String;\r\n             9: return\r\n          LineNumberTable:\r\n            line 2: 0\r\n            line 3: 4\r\n    }\r\n    SourceFile: &quot;CheckoutJavaP.java&quot;","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/javap.html\" rel=\"nofollow noreferrer\">javap Official Documentation(Java 13)</a>.</p>\n<h1>p means print</h1>\n<p>As you can see, from the options <em>description</em>, p in <code>javap</code> most probably stands for <strong>print</strong>(as the helper consists MOSTLY of print this, print that, show this, show that...).\n<br></p>\n<pre><code>javap -help\nUsage: javap &lt;options&gt; &lt;classes&gt;\nwhere possible options include:\n  -help  --help  -?        Print this usage message\n  -version                 Version information\n  -v  -verbose             Print additional information\n  -l                       Print line number and local variable tables\n  -public                  Show only public classes and members\n  -protected               Show protected/public classes and members\n  -package                 Show package/protected/public classes\n                           and members (default)\n  -p  -private             Show all classes and members\n  -c                       Disassemble the code\n  -s                       Print internal type signatures\n  -sysinfo                 Show system info (path, size, date, MD5 hash)\n                           of class being processed\n  -constants               Show final constants\n  -classpath &lt;path&gt;        Specify where to find user class files\n  -cp &lt;path&gt;               Specify where to find user class files\n  -bootclasspath &lt;path&gt;    Override location of bootstrap class files\n</code></pre>\n<p>As per its <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/javap.html\" rel=\"nofollow noreferrer\">official documentation</a>,\n<strong>the javap command prints</strong> is stated TWICE.</p>\n<blockquote>\n<p>The javap command disassembles one or more class files. The output\ndepends on the options used. When no options are used, then the [[HERE:]] javap\ncommand prints the package, protected and public fields, and methods\nof the classes passed to it. [[HERE:]] The javap command prints its output to\nstdout.</p>\n</blockquote>\n<h1>javap</h1>\n<pre><code>public class CheckoutJavaP{ \n    private static int i = 1;\n    protected static String s = &quot;string&quot;;\n    public static void main(String[] args){\n        InnerClass iC = new InnerClass();\n        iC.show();\n        System.out.println(s + i);\n    }\n}\n\nclass InnerClass{\n    protected int count;\n    public InnerClass(){ System.out.println(&quot;In InnerClass Constructor&quot;);}\n    public void show(){ System.out.println(&quot;In InnerClass.show()&quot;);}\n    public int getCount(){ return this.count;}\n}\n\n javap CheckoutJavaP.class\n    Compiled from &quot;CheckoutJavaP.java&quot;\n    public class CheckoutJavaP {\n      protected static java.lang.String s;\n      public CheckoutJavaP();\n      public static void main(java.lang.String[]);\n      static {};\n    }\n</code></pre>\n<h1>javap -v (verbose)</h1>\n<pre><code>javap -v CheckoutJavaP.class\nClassfile /C:/Users/jumping_monkey/CheckoutJavaP.class\n  Last modified 9 Feb, 2020; size 822 bytes\n  MD5 checksum fb7f219851715ef4489ebf7a47800d47\n  Compiled from &quot;CheckoutJavaP.java&quot;\npublic class CheckoutJavaP\n  minor version: 0\n  major version: 52\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   #1 = Methodref          #16.#30        // java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n   #2 = Class              #31            // InnerClass\n   #3 = Methodref          #2.#30         // InnerClass.&quot;&lt;init&gt;&quot;:()V\n   #4 = Methodref          #2.#32         // InnerClass.show:()V\n   #5 = Fieldref           #33.#34        // java/lang/System.out:Ljava/io/PrintStream;\n   #6 = Class              #35            // java/lang/StringBuilder\n   #7 = Methodref          #6.#30         // java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n   #8 = Fieldref           #15.#36        // CheckoutJavaP.s:Ljava/lang/String;\n   #9 = Methodref          #6.#37         // java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n  #10 = Fieldref           #15.#38        // CheckoutJavaP.i:I\n  #11 = Methodref          #6.#39         // java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n  #12 = Methodref          #6.#40         // java/lang/StringBuilder.toString:()Ljava/lang/String;\n  #13 = Methodref          #41.#42        // java/io/PrintStream.println:(Ljava/lang/String;)V\n  #14 = String             #43            // string\n  #15 = Class              #44            // CheckoutJavaP\n  #16 = Class              #45            // java/lang/Object\n  #17 = Utf8               i\n  #18 = Utf8               I\n  #19 = Utf8               s\n  #20 = Utf8               Ljava/lang/String;\n  #21 = Utf8               &lt;init&gt;\n  #22 = Utf8               ()V\n  #23 = Utf8               Code\n  #24 = Utf8               LineNumberTable\n  #25 = Utf8               main\n  #26 = Utf8               ([Ljava/lang/String;)V\n  #27 = Utf8               &lt;clinit&gt;\n  #28 = Utf8               SourceFile\n  #29 = Utf8               CheckoutJavaP.java\n  #30 = NameAndType        #21:#22        // &quot;&lt;init&gt;&quot;:()V\n  #31 = Utf8               InnerClass\n  #32 = NameAndType        #46:#22        // show:()V\n  #33 = Class              #47            // java/lang/System\n  #34 = NameAndType        #48:#49        // out:Ljava/io/PrintStream;\n  #35 = Utf8               java/lang/StringBuilder\n  #36 = NameAndType        #19:#20        // s:Ljava/lang/String;\n  #37 = NameAndType        #50:#51        // append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n  #38 = NameAndType        #17:#18        // i:I\n  #39 = NameAndType        #50:#52        // append:(I)Ljava/lang/StringBuilder;\n  #40 = NameAndType        #53:#54        // toString:()Ljava/lang/String;\n  #41 = Class              #55            // java/io/PrintStream\n  #42 = NameAndType        #56:#57        // println:(Ljava/lang/String;)V\n  #43 = Utf8               string\n  #44 = Utf8               CheckoutJavaP\n  #45 = Utf8               java/lang/Object\n  #46 = Utf8               show\n  #47 = Utf8               java/lang/System\n  #48 = Utf8               out\n  #49 = Utf8               Ljava/io/PrintStream;\n  #50 = Utf8               append\n  #51 = Utf8               (Ljava/lang/String;)Ljava/lang/StringBuilder;\n  #52 = Utf8               (I)Ljava/lang/StringBuilder;\n  #53 = Utf8               toString\n  #54 = Utf8               ()Ljava/lang/String;\n  #55 = Utf8               java/io/PrintStream\n  #56 = Utf8               println\n  #57 = Utf8               (Ljava/lang/String;)V\n{\n  protected static java.lang.String s;\n    descriptor: Ljava/lang/String;\n    flags: ACC_PROTECTED, ACC_STATIC\n\n  public CheckoutJavaP();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n      stack=1, locals=1, args_size=1\n         0: aload_0\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n         4: return\n      LineNumberTable:\n        line 1: 0\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=3, locals=2, args_size=1\n         0: new           #2                  // class InnerClass\n         3: dup\n         4: invokespecial #3                  // Method InnerClass.&quot;&lt;init&gt;&quot;:()V\n         7: astore_1\n         8: aload_1\n         9: invokevirtual #4                  // Method InnerClass.show:()V\n        12: getstatic     #5                  // Field java/lang/System.out:Ljava/io/PrintStream;\n        15: new           #6                  // class java/lang/StringBuilder\n        18: dup\n        19: invokespecial #7                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n        22: getstatic     #8                  // Field s:Ljava/lang/String;\n        25: invokevirtual #9                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n        28: getstatic     #10                 // Field i:I\n        31: invokevirtual #11                 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder;\n        34: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n        37: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n        40: return\n      LineNumberTable:\n        line 5: 0\n        line 6: 8\n        line 7: 12\n        line 8: 40\n\n  static {};\n    descriptor: ()V\n    flags: ACC_STATIC\n    Code:\n      stack=1, locals=0, args_size=0\n         0: iconst_1\n         1: putstatic     #10                 // Field i:I\n         4: ldc           #14                 // String string\n         6: putstatic     #8                  // Field s:Ljava/lang/String;\n         9: return\n      LineNumberTable:\n        line 2: 0\n        line 3: 4\n}\nSourceFile: &quot;CheckoutJavaP.java&quot;\n</code></pre>\n"}],"owner":{"account_id":166962,"reputation":9253,"user_id":391441,"accept_rate":91,"display_name":"instantsetsuna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11024,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"accepted_answer_id":4861556,"answer_count":7,"score":51,"last_activity_date":1654479652,"creation_date":1296556751,"question_id":4861523,"body_markdown":"What does &quot;p&quot; in &quot;javap&quot; stand for? (The &quot;c&quot; in &quot;javac&quot; stands for compiler)","title":"What does &quot;p&quot; in &quot;javap&quot; stand for?","body":"<p>What does \"p\" in \"javap\" stand for? (The \"c\" in \"javac\" stands for compiler)</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654494964,"post_id":72512248,"comment_id":128095808,"body_markdown":"What is the initial error you are trying to fix? I guess, something along the lines of being unable to serialize entity due to circular references?","body":"What is the initial error you are trying to fix? I guess, something along the lines of being unable to serialize entity due to circular references?"},{"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"score":0,"creation_date":1654510660,"post_id":72512248,"comment_id":128099935,"body_markdown":"@Chaosfire the problem that i am getting this error @GetMapping(&quot;/auction/{id}&quot;)\n\tpublic Auction getAuction (@PathVariable int id) {\n\t\treturn auctionService.findAuction(id);\n\t\t\n\t}","body":"@Chaosfire the problem that i am getting this error @GetMapping(&quot;/auction/{id}&quot;) \tpublic Auction getAuction (@PathVariable int id) { \t\treturn auctionService.findAuction(id); \t\t \t}"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654515032,"post_id":72512248,"comment_id":128101205,"body_markdown":"But what is the **initial** error and **stacktrace**? And what exactly do you try to achieve? If you don&#39;t edit question to add this information, and we try to fix the subsequent error you get, we are risking to get tangled in a [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"But what is the <b>initial</b> error and <b>stacktrace</b>? And what exactly do you try to achieve? If you don&#39;t edit question to add this information, and we try to fix the subsequent error you get, we are risking to get tangled in a <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}],"owner":{"account_id":20352686,"reputation":29,"user_id":14928982,"display_name":"Baris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654479617,"creation_date":1654479617,"question_id":72512248,"body_markdown":"I am in a loop. My classes are dependent on each other, maybe I should have designed it differently, but it was working until recently, until I added @JsonBackReference and @JsonManagedReference to solve an error I got. But now I am getting this error: \r\n\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar:2.13.3]\r\n\r\n\r\nI have tried the solutions like adding value to @JsonManagedReference and @JsonBackReference. I added to @JsonIgnore to variables but these did not work.\r\n\r\nThese are my classes : \r\n\r\n\r\n\r\n    @Data\r\n    @Entity\r\n    public class Auction {\r\n    \t\r\n    \r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n        @Column(nullable = false)\r\n    \tprivate String explanation;\r\n    \t\r\n        @Column(nullable = false)\r\n    \tprivate String title;\r\n    \t\r\n    \r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n        @Column(nullable = false)\r\n    \tprivate Date startDate;\r\n    \t\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n        @Column(nullable = false)\r\n    \tprivate Date endDate;\r\n    \t\t\r\n    \tprivate int sellNowPrice;\r\n    \t\r\n        @Column(nullable = false)\r\n    \tprivate int startPrice;\r\n    \r\n        //------------------------\r\n        \r\n    \t@OneToOne(mappedBy = &quot;auction&quot;,\r\n    \t\t\tcascade = CascadeType.REMOVE)\r\n    \tprivate FileAttachment fileAttachment;\r\n    \r\n    \t\r\n    \t@OneToOne\r\n    \tprivate Category category;\r\n    \t\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;auction&quot;, cascade = CascadeType.MERGE)\r\n    \t@JsonManagedReference(value=&quot;selling-item&quot;)\r\n    \tprivate List&lt;Bid&gt; bids;\r\n    \t\r\n    \t\r\n    \t@ManyToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;creator_id&quot;)\r\n    \t@JsonBackReference(value=&quot;sell&quot;)\r\n    \tprivate User creator;\r\n    \t\r\n    \r\n    \t@ManyToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;buyer_id&quot;)\r\n    \t@JsonBackReference(value=&quot;buyer&quot;)\r\n    \tprivate User buyer;\r\n    \t\r\n    \tpublic Auction(AuctionVM auctionVM) {\r\n    \t\tthis.explanation=auctionVM.getExplanation();\r\n    \t\tthis.title=auctionVM.getTitle();\r\n    \t\tthis.startDate=auctionVM.getStartDate();\r\n    \t\tthis.endDate=auctionVM.getEndDate();\r\n    \t\tthis.sellNowPrice=auctionVM.getSellNowPrice();\r\n    \t\tthis.startPrice=auctionVM.getStartPrice();\r\n    \t}\r\n    \t\r\n    \tpublic Auction() {}\r\n    }\r\n\r\n\r\n.\r\n\r\n    @Data\r\n    @Entity\r\n    public class User  implements UserDetails{\r\n    \t\r\n    \t\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -2725432351214985546L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY) \r\n    \tprivate long id;\r\n    \t\r\n    \t@NotNull(message=&quot;Name can not be null&quot;)\r\n    \t@Size(min = 2, max=50, message = &quot;Name must be more than 2 letters &quot;)\r\n        @Column(nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \r\n    \t@NotNull(message=&quot;Username can not be null&quot;)\r\n    \t@UniqueUsername\r\n    \t@Size(min=5,max=100  )\r\n        @Column(nullable = false)\r\n    \tprivate String username;\r\n    \t\r\n        @NotNull(message=&quot;Email can not be null&quot;)\r\n        @Column(nullable = false)\r\n        private String email;\r\n    \t\r\n    \t\r\n    \t@NotNull(message=&quot;Password can not be null&quot;)\r\n    \t@Size(min = 4, max=16 , message = &quot;Password must be a minimum of 4 characters and a maximum of 16 characters. &quot;)\r\n        @Column(nullable = false)\r\n    \t@JsonIgnore\r\n    \tprivate String password;\r\n    \r\n    \t\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;buyer&quot;)\r\n    \t@JsonManagedReference(value=&quot;bidder&quot;)\r\n    \tprivate List&lt;Bid&gt; bids;\r\n    \t\r\n    \t@OneToMany(mappedBy = &quot;creator&quot;)\r\n    \t@JsonManagedReference(value=&quot;sell&quot;)\r\n    \tprivate List&lt;Auction&gt; productsOnSale;\r\n    \t\r\n    \r\n    \t@OneToMany(mappedBy = &quot;buyer&quot;)\r\n    \t@JsonManagedReference(value=&quot;buyer&quot;)\r\n    \tprivate List&lt;Auction&gt; biddedProducts;\r\n    \t\r\n    \t\r\n    \t\r\n    \t@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;users_roles&quot;, \r\n    \tjoinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n    \tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate Collection&lt;Role&gt; roles;\r\n    \t\r\n    \tprivate String image;\r\n    \t\r\n    \tprivate boolean isApproved;\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \t//------------------------------\r\n    \r\n    \t\r\n    \tpublic User() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic User(UserWithoutRole user) {\r\n    \t\tthis.name = user.getName();\r\n    \t\tthis.email = user.getEmail();\r\n    \t\tthis.username=user.getUsername();\r\n    \t\tthis.image=user.getImage();\r\n    \t}\r\n    \t\r\n    \r\n       @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t    Collection&lt;Role&gt; roles = getRoles();\r\n            List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n             \r\n            for (Role role : roles) {\r\n                authorities.add(new SimpleGrantedAuthority(role.getName()));\r\n            }\r\n             \r\n            return authorities;\r\n        }\r\n    \r\n    \t@Override\r\n    \t@JsonIgnore\r\n    \tpublic boolean isAccountNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@JsonIgnore\r\n    \tpublic boolean isAccountNonLocked() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@JsonIgnore\r\n    \tpublic boolean isCredentialsNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@JsonIgnore\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    }\r\n\r\n.\r\n\r\n    @Data\r\n    @Entity\r\n    public class Bid {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY) \r\n    \tprivate int id;\r\n    \t\r\n    \t@ManyToOne(cascade=CascadeType.ALL)\r\n        @JoinColumn(name = &quot;buyer_id&quot;)\r\n    \t@JsonBackReference(value=&quot;bidder&quot;)\r\n    \tprivate User buyer;\r\n    \t\r\n    \t\r\n    \t@ManyToOne(cascade=CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;auction_id&quot;)\r\n    \t@JsonBackReference(value=&quot;selling-item&quot;)\r\n    \tprivate Auction auction;\r\n    \t\r\n    \t\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n        @Column(nullable = false)\r\n    \tprivate Date bidTime;\r\n    \t\r\n    \t\r\n    \t@NotNull\r\n        @Column(nullable = false)\r\n    \tprivate int price;\r\n    \t\r\n    }\r\n\r\n\r\nWhere is my mistake idk. If I have to use @JsonIgnore for getters  should i delete @Data and where should i use @JsonIgnore. I tried like this but didn&#39;t work.\r\n\r\n    @ManyToOne(cascade=CascadeType.ALL)\r\n    @JoinColumn(name = &quot;creator_id&quot;)\r\n    @JsonBackReference(value=&quot;sell&quot;)\r\n    @JsonIgnore\r\n    private User creator;","title":"jackson.databind.ser.BeanSerializer.serialize Error","body":"<p>I am in a loop. My classes are dependent on each other, maybe I should have designed it differently, but it was working until recently, until I added @JsonBackReference and @JsonManagedReference to solve an error I got. But now I am getting this error:</p>\n<pre><code>at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.3.jar:2.13.3]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.3.jar:2.13.3]\n</code></pre>\n<p>I have tried the solutions like adding value to @JsonManagedReference and @JsonBackReference. I added to @JsonIgnore to variables but these did not work.</p>\n<p>These are my classes :</p>\n<pre><code>@Data\n@Entity\npublic class Auction {\n    \n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(nullable = false)\n    private String explanation;\n    \n    @Column(nullable = false)\n    private String title;\n    \n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(nullable = false)\n    private Date startDate;\n    \n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(nullable = false)\n    private Date endDate;\n        \n    private int sellNowPrice;\n    \n    @Column(nullable = false)\n    private int startPrice;\n\n    //------------------------\n    \n    @OneToOne(mappedBy = &quot;auction&quot;,\n            cascade = CascadeType.REMOVE)\n    private FileAttachment fileAttachment;\n\n    \n    @OneToOne\n    private Category category;\n    \n    \n    @OneToMany(mappedBy = &quot;auction&quot;, cascade = CascadeType.MERGE)\n    @JsonManagedReference(value=&quot;selling-item&quot;)\n    private List&lt;Bid&gt; bids;\n    \n    \n    @ManyToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name = &quot;creator_id&quot;)\n    @JsonBackReference(value=&quot;sell&quot;)\n    private User creator;\n    \n\n    @ManyToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name = &quot;buyer_id&quot;)\n    @JsonBackReference(value=&quot;buyer&quot;)\n    private User buyer;\n    \n    public Auction(AuctionVM auctionVM) {\n        this.explanation=auctionVM.getExplanation();\n        this.title=auctionVM.getTitle();\n        this.startDate=auctionVM.getStartDate();\n        this.endDate=auctionVM.getEndDate();\n        this.sellNowPrice=auctionVM.getSellNowPrice();\n        this.startPrice=auctionVM.getStartPrice();\n    }\n    \n    public Auction() {}\n}\n</code></pre>\n<p>.</p>\n<pre><code>@Data\n@Entity\npublic class User  implements UserDetails{\n    \n    \n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -2725432351214985546L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private long id;\n    \n    @NotNull(message=&quot;Name can not be null&quot;)\n    @Size(min = 2, max=50, message = &quot;Name must be more than 2 letters &quot;)\n    @Column(nullable = false)\n    private String name;\n    \n\n    @NotNull(message=&quot;Username can not be null&quot;)\n    @UniqueUsername\n    @Size(min=5,max=100  )\n    @Column(nullable = false)\n    private String username;\n    \n    @NotNull(message=&quot;Email can not be null&quot;)\n    @Column(nullable = false)\n    private String email;\n    \n    \n    @NotNull(message=&quot;Password can not be null&quot;)\n    @Size(min = 4, max=16 , message = &quot;Password must be a minimum of 4 characters and a maximum of 16 characters. &quot;)\n    @Column(nullable = false)\n    @JsonIgnore\n    private String password;\n\n    \n    \n    @OneToMany(mappedBy = &quot;buyer&quot;)\n    @JsonManagedReference(value=&quot;bidder&quot;)\n    private List&lt;Bid&gt; bids;\n    \n    @OneToMany(mappedBy = &quot;creator&quot;)\n    @JsonManagedReference(value=&quot;sell&quot;)\n    private List&lt;Auction&gt; productsOnSale;\n    \n\n    @OneToMany(mappedBy = &quot;buyer&quot;)\n    @JsonManagedReference(value=&quot;buyer&quot;)\n    private List&lt;Auction&gt; biddedProducts;\n    \n    \n    \n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;users_roles&quot;, \n    joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Collection&lt;Role&gt; roles;\n    \n    private String image;\n    \n    private boolean isApproved;\n    \n    \n    \n    \n    \n    //------------------------------\n\n    \n    public User() {\n        \n    }\n    \n    public User(UserWithoutRole user) {\n        this.name = user.getName();\n        this.email = user.getEmail();\n        this.username=user.getUsername();\n        this.image=user.getImage();\n    }\n    \n\n   @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        Collection&lt;Role&gt; roles = getRoles();\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n         \n        for (Role role : roles) {\n            authorities.add(new SimpleGrantedAuthority(role.getName()));\n        }\n         \n        return authorities;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    @JsonIgnore\n    public boolean isEnabled() {\n        return true;\n    }\n\n\n    \n}\n</code></pre>\n<p>.</p>\n<pre><code>@Data\n@Entity\npublic class Bid {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) \n    private int id;\n    \n    @ManyToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name = &quot;buyer_id&quot;)\n    @JsonBackReference(value=&quot;bidder&quot;)\n    private User buyer;\n    \n    \n    @ManyToOne(cascade=CascadeType.MERGE)\n    @JoinColumn(name = &quot;auction_id&quot;)\n    @JsonBackReference(value=&quot;selling-item&quot;)\n    private Auction auction;\n    \n    \n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(nullable = false)\n    private Date bidTime;\n    \n    \n    @NotNull\n    @Column(nullable = false)\n    private int price;\n    \n}\n</code></pre>\n<p>Where is my mistake idk. If I have to use @JsonIgnore for getters  should i delete @Data and where should i use @JsonIgnore. I tried like this but didn't work.</p>\n<pre><code>@ManyToOne(cascade=CascadeType.ALL)\n@JoinColumn(name = &quot;creator_id&quot;)\n@JsonBackReference(value=&quot;sell&quot;)\n@JsonIgnore\nprivate User creator;\n</code></pre>\n"},{"tags":["java","android","listview","background","baseadapter"],"answers":[{"tags":[],"owner":{"account_id":13483165,"reputation":144,"user_id":9727790,"display_name":"Emerson Gonzalez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654479548,"creation_date":1654479548,"answer_id":72512246,"question_id":72509332,"body_markdown":"This happen because you use a global variable `Boolean urgent` to all items in list.\r\n\r\nYou need send to `ListAdapter ` the information if is `urgent` with a `String` doing use of class `ToDoItem` like this:\r\n\r\n    itemList.add(new ToDoItem(itemList.add(editText.getText().toString()), switch1.isChecked()));\r\n\r\nthe full code would be:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n     Button buttonAdd;\r\n     EditText editText;\r\n     ListAdapter adapter;\r\n     ListView myListView;\r\n     Switch switch1;\r\n     //Create list\r\n     ArrayList&lt;ToDoItem&gt; itemList = new ArrayList&lt;&gt;();\r\n    //add data\r\n     itemList.add(new ToDoItem(&quot;Clean Bathroom&quot;, false);\r\n     itemList.add(new ToDoItem(&quot;Buy Apples&quot;, false);\r\n     itemList.add(new ToDoItem(&quot;Buy Bananas&quot;, true);\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            //declare variables\r\n            buttonAdd = findViewById(R.id.buttonAdd);\r\n            editText = findViewById(R.id.editText);\r\n            switch1 = findViewById(R.id.switch1);\r\n    \r\n            ListView myListView = findViewById(R.id.listView);\r\n            myListView.setAdapter(adapter = new ListAdapter());\r\n    \r\n          buttonAdd.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View v) {\r\n                  //Here set to list a item with String and boolean \r\n                  itemList.add(new ToDoItem(itemList.add(editText.getText().toString()), switch1.isChecked()));\r\n    \r\n                  editText.setText(&quot;&quot;);\r\n                  \r\n                  adapter.notifyDataSetChanged();\r\n              }\r\n          });\r\n    \r\n    \r\n        }\r\n    \r\n        // adapter class\r\n        class ListAdapter extends BaseAdapter{\r\n    \r\n            @Override\r\n            public int getCount() {\r\n    \r\n                return itemList.size();\r\n            }\r\n    \r\n            //Here get a item like ToDoItem\r\n            @Override\r\n            public ToDoItem getItem(int position) {\r\n                return itemList.get(position);\r\n            }\r\n    \r\n            @Override\r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            @Override\r\n            public View getView(int position, View old, ViewGroup parent) {\r\n                View newView =old;\r\n                LayoutInflater inflater = getLayoutInflater();\r\n    \r\n                if(newView==null){\r\n                    newView = inflater.inflate(R.layout.item,parent,false);\r\n                }\r\n                TextView textview= newView.findViewById(R.id.to_do_TextView);\r\n                //Here get a name\r\n                textview.setText(getItem(position).name);\r\n                if(getItem(position).urgent){\r\n                  textview.setBackgroundColor(Color.RED);\r\n                }\r\n                return newView;\r\n            }\r\n        }\r\n      //Class that have the information on items\r\n        class ToDoItem {\r\n          String name;\r\n          Boolean urgent;\r\n    \r\n            public ToDoItem(String name, Boolean urgent) {\r\n                this.name = name;\r\n                this.urgent = urgent;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Set background color of one item in list view if switch is turned on","body":"<p>This happen because you use a global variable <code>Boolean urgent</code> to all items in list.</p>\n<p>You need send to <code>ListAdapter </code> the information if is <code>urgent</code> with a <code>String</code> doing use of class <code>ToDoItem</code> like this:</p>\n<pre><code>itemList.add(new ToDoItem(itemList.add(editText.getText().toString()), switch1.isChecked()));\n</code></pre>\n<p>the full code would be:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n Button buttonAdd;\n EditText editText;\n ListAdapter adapter;\n ListView myListView;\n Switch switch1;\n //Create list\n ArrayList&lt;ToDoItem&gt; itemList = new ArrayList&lt;&gt;();\n//add data\n itemList.add(new ToDoItem(&quot;Clean Bathroom&quot;, false);\n itemList.add(new ToDoItem(&quot;Buy Apples&quot;, false);\n itemList.add(new ToDoItem(&quot;Buy Bananas&quot;, true);\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //declare variables\n        buttonAdd = findViewById(R.id.buttonAdd);\n        editText = findViewById(R.id.editText);\n        switch1 = findViewById(R.id.switch1);\n\n        ListView myListView = findViewById(R.id.listView);\n        myListView.setAdapter(adapter = new ListAdapter());\n\n      buttonAdd.setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View v) {\n              //Here set to list a item with String and boolean \n              itemList.add(new ToDoItem(itemList.add(editText.getText().toString()), switch1.isChecked()));\n\n              editText.setText(&quot;&quot;);\n              \n              adapter.notifyDataSetChanged();\n          }\n      });\n\n\n    }\n\n    // adapter class\n    class ListAdapter extends BaseAdapter{\n\n        @Override\n        public int getCount() {\n\n            return itemList.size();\n        }\n\n        //Here get a item like ToDoItem\n        @Override\n        public ToDoItem getItem(int position) {\n            return itemList.get(position);\n        }\n\n        @Override\n        public long getItemId(int position) {\n            return position;\n        }\n\n        @Override\n        public View getView(int position, View old, ViewGroup parent) {\n            View newView =old;\n            LayoutInflater inflater = getLayoutInflater();\n\n            if(newView==null){\n                newView = inflater.inflate(R.layout.item,parent,false);\n            }\n            TextView textview= newView.findViewById(R.id.to_do_TextView);\n            //Here get a name\n            textview.setText(getItem(position).name);\n            if(getItem(position).urgent){\n              textview.setBackgroundColor(Color.RED);\n            }\n            return newView;\n        }\n    }\n  //Class that have the information on items\n    class ToDoItem {\n      String name;\n      Boolean urgent;\n\n        public ToDoItem(String name, Boolean urgent) {\n            this.name = name;\n            this.urgent = urgent;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23383632,"reputation":13,"user_id":17449392,"display_name":"Caitlyn Gibbons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72512246,"answer_count":1,"score":0,"last_activity_date":1654479548,"creation_date":1654447857,"question_id":72509332,"body_markdown":"Hi I am completing a school project, and I need the background of a list item to be red with white text if the urgent switch is on. Currently, if I add an item with the urgent switch all of the background of the list view changes. I seen somewhere someone said to use an array, but when I tried that block of code it wouldn&#39;t work. Thanks in advance!\r\n\r\n   \r\n\r\n     &lt;GridLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n        \r\n            &lt;ListView\r\n                android:id=&quot;@+id/listView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;576dp&quot;\r\n                android:layout_columnSpan=&quot;3&quot;\r\n                android:focusableInTouchMode=&quot;true&quot;\r\n                android:isScrollContainer=&quot;true&quot;&gt;\r\n        \r\n            &lt;/ListView&gt;\r\n        \r\n                &lt;EditText\r\n                    android:id=&quot;@+id/editText&quot;\r\n                    android:layout_width=&quot;209dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;0&quot;\r\n                    android:hint=&quot;@string/typeHere&quot;\r\n                    android:textSize=&quot;20dp&quot; /&gt;\r\n        \r\n            &lt;Switch\r\n                android:id=&quot;@+id/switch1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_row=&quot;1&quot;\r\n                android:layout_column=&quot;1&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:text=&quot;@string/urgent&quot; /&gt;\r\n        \r\n            &lt;Button\r\n                android:id=&quot;@+id/buttonAdd&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_row=&quot;1&quot;\r\n                android:layout_column=&quot;2&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:text=&quot;@string/add&quot; /&gt;\r\n        \r\n        \r\n        &lt;/GridLayout&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/to_do_TextView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Testing&quot;\r\n            android:textSize=&quot;25dp&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n     Button buttonAdd;\r\n     Boolean urgent = false;\r\n     EditText editText;\r\n     ListAdapter adapter;\r\n     ListView myListView;\r\n     Switch switch1;\r\n     ArrayList&lt;String&gt; itemList = new ArrayList&lt;String&gt;( Arrays.asList(&quot;Clean Bathroom&quot;,&quot;Buy Apples&quot;,&quot;Buy Bananas&quot; ));\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            //declare variables\r\n            buttonAdd = findViewById(R.id.buttonAdd);\r\n            editText = findViewById(R.id.editText);\r\n            switch1 = findViewById(R.id.switch1);\r\n    \r\n            ListView myListView = findViewById(R.id.listView);\r\n            myListView.setAdapter(adapter = new ListAdapter());\r\n    \r\n          buttonAdd.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View v) {\r\n                  itemList.add(editText.getText().toString());\r\n    \r\n                  editText.setText(&quot;&quot;);\r\n                  //also tried setting value you here and using in getView\r\n                  if(switch1.isChecked()){\r\n                      urgent = true;\r\n                  } else{\r\n                      urgent = false;\r\n                  }adapter.notifyDataSetChanged();\r\n              }\r\n          });\r\n    \r\n    \r\n        }\r\n    \r\n        // adapter class\r\n        class ListAdapter extends BaseAdapter{\r\n    \r\n            @Override\r\n            public int getCount() {\r\n    \r\n                return itemList.size();\r\n            }\r\n    \r\n            @Override\r\n            public Object getItem(int position) {\r\n                return itemList.get(position);\r\n            }\r\n    \r\n            @Override\r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            @Override\r\n            public View getView(int position, View old, ViewGroup parent) {\r\n                View newView =old;\r\n                LayoutInflater inflater = getLayoutInflater();\r\n    \r\n                if(newView==null){\r\n                    newView = inflater.inflate(R.layout.item,parent,false);\r\n                }\r\n                TextView textview= newView.findViewById(R.id.to_do_TextView);\r\n                textview.setText(getItem(position).toString());\r\n                if(switch1.isChecked()){\r\n                textview.setBackgroundColor(Color.RED);\r\n                    textview.setText(getItem(position).toString());\r\n            }return newView;\r\n            }\r\n         //to do row class\r\n        class ToDoItem {\r\n           String name;\r\n           Boolean urgent;\r\n    \r\n    \r\n        }}}\r\n\r\n","title":"Set background color of one item in list view if switch is turned on","body":"<p>Hi I am completing a school project, and I need the background of a list item to be red with white text if the urgent switch is on. Currently, if I add an item with the urgent switch all of the background of the list view changes. I seen somewhere someone said to use an array, but when I tried that block of code it wouldn't work. Thanks in advance!</p>\n<pre><code> &lt;GridLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    \n        &lt;ListView\n            android:id=&quot;@+id/listView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;576dp&quot;\n            android:layout_columnSpan=&quot;3&quot;\n            android:focusableInTouchMode=&quot;true&quot;\n            android:isScrollContainer=&quot;true&quot;&gt;\n    \n        &lt;/ListView&gt;\n    \n            &lt;EditText\n                android:id=&quot;@+id/editText&quot;\n                android:layout_width=&quot;209dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;0&quot;\n                android:hint=&quot;@string/typeHere&quot;\n                android:textSize=&quot;20dp&quot; /&gt;\n    \n        &lt;Switch\n            android:id=&quot;@+id/switch1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;1&quot;\n            android:layout_weight=&quot;0&quot;\n            android:text=&quot;@string/urgent&quot; /&gt;\n    \n        &lt;Button\n            android:id=&quot;@+id/buttonAdd&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_row=&quot;1&quot;\n            android:layout_column=&quot;2&quot;\n            android:layout_weight=&quot;0&quot;\n            android:text=&quot;@string/add&quot; /&gt;\n    \n    \n    &lt;/GridLayout&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/to_do_TextView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Testing&quot;\n        android:textSize=&quot;25dp&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n\npublic class MainActivity extends AppCompatActivity {\n Button buttonAdd;\n Boolean urgent = false;\n EditText editText;\n ListAdapter adapter;\n ListView myListView;\n Switch switch1;\n ArrayList&lt;String&gt; itemList = new ArrayList&lt;String&gt;( Arrays.asList(&quot;Clean Bathroom&quot;,&quot;Buy Apples&quot;,&quot;Buy Bananas&quot; ));\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //declare variables\n        buttonAdd = findViewById(R.id.buttonAdd);\n        editText = findViewById(R.id.editText);\n        switch1 = findViewById(R.id.switch1);\n\n        ListView myListView = findViewById(R.id.listView);\n        myListView.setAdapter(adapter = new ListAdapter());\n\n      buttonAdd.setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View v) {\n              itemList.add(editText.getText().toString());\n\n              editText.setText(&quot;&quot;);\n              //also tried setting value you here and using in getView\n              if(switch1.isChecked()){\n                  urgent = true;\n              } else{\n                  urgent = false;\n              }adapter.notifyDataSetChanged();\n          }\n      });\n\n\n    }\n\n    // adapter class\n    class ListAdapter extends BaseAdapter{\n\n        @Override\n        public int getCount() {\n\n            return itemList.size();\n        }\n\n        @Override\n        public Object getItem(int position) {\n            return itemList.get(position);\n        }\n\n        @Override\n        public long getItemId(int position) {\n            return position;\n        }\n\n        @Override\n        public View getView(int position, View old, ViewGroup parent) {\n            View newView =old;\n            LayoutInflater inflater = getLayoutInflater();\n\n            if(newView==null){\n                newView = inflater.inflate(R.layout.item,parent,false);\n            }\n            TextView textview= newView.findViewById(R.id.to_do_TextView);\n            textview.setText(getItem(position).toString());\n            if(switch1.isChecked()){\n            textview.setBackgroundColor(Color.RED);\n                textview.setText(getItem(position).toString());\n        }return newView;\n        }\n     //to do row class\n    class ToDoItem {\n       String name;\n       Boolean urgent;\n\n\n    }}}\n</code></pre>\n"},{"tags":["java","algorithm","design-patterns"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1654474874,"post_id":72510465,"comment_id":128093268,"body_markdown":"Maybe think about things like (1) not removing from the list, just skipping the name if you duplicate the winner (how often is that)? (2) Using a Map&lt;String, List&lt;Entry&gt;&gt; so you can remove the indices associated.","body":"Maybe think about things like (1) not removing from the list, just skipping the name if you duplicate the winner (how often is that)? (2) Using a Map&lt;String, List&lt;Entry&gt;&gt; so you can remove the indices associated."}],"answers":[{"tags":[],"owner":{"account_id":17253470,"reputation":61,"user_id":14291381,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654478736,"creation_date":1654478736,"answer_id":72512198,"question_id":72510465,"body_markdown":"The setup of this problem more or less necessitates that at least one function be slower than the others. Your solution is already valid in terms of time complexity, given that you can add elements to an `ArrayList` in amortized O(1) time. But to answer your question, you *can* move the tradeoff elsewhere.\r\n\r\nRead [this](https://stackoverflow.com/a/6737362/14291381) answer regarding selecting elements with weighted probabilities. If you want an even bigger hint, keep reading.\r\n\r\nYou do not need a second data structure beyond your `HashMap`. You can maintain a count of total entries, say `numEntries`. Then write `drawWinner()` to do the following:\r\n\r\n - create a random number, say `randNum`, from 0 to `numEntries`\r\n - iterate through the keys (the usernames) of the `HashMap`\r\n - for each username, decrement `randNum` by the associated value\r\n - if `randNum` hits 0, then that user has been chosen\r\n\r\nThis maintains the proper weights of each user while simplifying your program. This makes `withdrawUser()` O(1) in exchange for making `drawWinner()` O(n) in the number of users. As long as the number of users and their respective weights are not known beforehand (which I assume is the case given there is an `addEntry()` function), this is essentially the most reasonable way to achieve what you want.","title":"Algorithm design for instagram giveaway","body":"<p>The setup of this problem more or less necessitates that at least one function be slower than the others. Your solution is already valid in terms of time complexity, given that you can add elements to an <code>ArrayList</code> in amortized O(1) time. But to answer your question, you <em>can</em> move the tradeoff elsewhere.</p>\n<p>Read <a href=\"https://stackoverflow.com/a/6737362/14291381\">this</a> answer regarding selecting elements with weighted probabilities. If you want an even bigger hint, keep reading.</p>\n<p>You do not need a second data structure beyond your <code>HashMap</code>. You can maintain a count of total entries, say <code>numEntries</code>. Then write <code>drawWinner()</code> to do the following:</p>\n<ul>\n<li>create a random number, say <code>randNum</code>, from 0 to <code>numEntries</code></li>\n<li>iterate through the keys (the usernames) of the <code>HashMap</code></li>\n<li>for each username, decrement <code>randNum</code> by the associated value</li>\n<li>if <code>randNum</code> hits 0, then that user has been chosen</li>\n</ul>\n<p>This maintains the proper weights of each user while simplifying your program. This makes <code>withdrawUser()</code> O(1) in exchange for making <code>drawWinner()</code> O(n) in the number of users. As long as the number of users and their respective weights are not known beforehand (which I assume is the case given there is an <code>addEntry()</code> function), this is essentially the most reasonable way to achieve what you want.</p>\n"}],"owner":{"account_id":25167363,"reputation":3,"user_id":19010699,"display_name":"Hideenu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1654494336,"accepted_answer_id":72512198,"answer_count":1,"score":-3,"last_activity_date":1654478736,"creation_date":1654456911,"question_id":72510465,"body_markdown":"**I saw this question online and was wondering how to design an efficient ADT and data structure for a raffle like problem.** \r\n\r\n\r\n\r\nSashu is an Instagram influencer for Nike and is doing a giveaway of the new Air Jordans! She posted on Instagram revealing this and asking everyone to comment on the post in order to enter the raffle! Instagram has limited the number of times each individual can comment on a post to 50 as each comment represents a single entry for a giveaway. At the end of one week, Sashu announces that she will randomly select 10 individuals to win the giveaway and the shoes! \r\n\r\nYou are tasked with designing a system (a digital bowl) from which Sashu can draw the names, specifically implementing the following methods:\r\n\r\n**addEntry(String username)**: insert a new entry with the given username into the digital bowl (people can comment multiple times, duplicates will be allowed)\r\n\r\n**withdrawUser(String username)**: withdraw every entry with the given username from the digital bowl (if a winner is already selected, they must not be chosen again)\r\n\r\n**drawWinner()**: randomly select a winner from the digital bowl for the giveaway and withdraw all entries with the same name from the bowl. The probability of a specific name being selected must remain proportional to the number of entries from the same username in the digital bowl.\r\n\r\n\r\n**My solution:**\r\n\r\nBecause I want this design to run in O(n), I was thinking of creating a hashmap so that every key represents the username and the count represents the value. To maintain the probability of a specific name being selected to remain proportional to the number of entries from the same username, I will be using another data structure, an arraylist to store the usernames and add it to the end of the list each time with duplicates. Since I need to withdrawn an entry after selecting a winner, I will need to search the username in the list. However, the worst case might take O(n) if the username is at the end of the list. How might I prevent the worst case and let the runtime be constant and not linear? Thank you","title":"Algorithm design for instagram giveaway","body":"<p><strong>I saw this question online and was wondering how to design an efficient ADT and data structure for a raffle like problem.</strong></p>\n<p>Sashu is an Instagram influencer for Nike and is doing a giveaway of the new Air Jordans! She posted on Instagram revealing this and asking everyone to comment on the post in order to enter the raffle! Instagram has limited the number of times each individual can comment on a post to 50 as each comment represents a single entry for a giveaway. At the end of one week, Sashu announces that she will randomly select 10 individuals to win the giveaway and the shoes!</p>\n<p>You are tasked with designing a system (a digital bowl) from which Sashu can draw the names, specifically implementing the following methods:</p>\n<p><strong>addEntry(String username)</strong>: insert a new entry with the given username into the digital bowl (people can comment multiple times, duplicates will be allowed)</p>\n<p><strong>withdrawUser(String username)</strong>: withdraw every entry with the given username from the digital bowl (if a winner is already selected, they must not be chosen again)</p>\n<p><strong>drawWinner()</strong>: randomly select a winner from the digital bowl for the giveaway and withdraw all entries with the same name from the bowl. The probability of a specific name being selected must remain proportional to the number of entries from the same username in the digital bowl.</p>\n<p><strong>My solution:</strong></p>\n<p>Because I want this design to run in O(n), I was thinking of creating a hashmap so that every key represents the username and the count represents the value. To maintain the probability of a specific name being selected to remain proportional to the number of entries from the same username, I will be using another data structure, an arraylist to store the usernames and add it to the end of the list each time with duplicates. Since I need to withdrawn an entry after selecting a winner, I will need to search the username in the list. However, the worst case might take O(n) if the username is at the end of the list. How might I prevent the worst case and let the runtime be constant and not linear? Thank you</p>\n"},{"tags":["java","multithreading","file","inputstream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1532734486,"post_id":51566645,"comment_id":90100108,"body_markdown":"`if (done()) { return null;`  Because most of them are &quot;done&quot;?  Really I don&#39;t see how we could tell from the code you have shown.","body":"<code>if (done()) { return null;</code>  Because most of them are &quot;done&quot;?  Really I don&#39;t see how we could tell from the code you have shown."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1532797986,"post_id":51566645,"comment_id":90112949,"body_markdown":"What makes you think that using multiple streams that read from the same IO device, just in different locations will **speed up** things? Depending on the underlying hardware and software stack, you might actually see a slow down. Because your truly random read accesses to the **same** IO device will generate a lot of overhead.","body":"What makes you think that using multiple streams that read from the same IO device, just in different locations will <b>speed up</b> things? Depending on the underlying hardware and software stack, you might actually see a slow down. Because your truly random read accesses to the <b>same</b> IO device will generate a lot of overhead."},{"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"score":0,"creation_date":1532799001,"post_id":51566645,"comment_id":90113192,"body_markdown":"@GhostCat, so, any way to speed up things? Thanks","body":"@GhostCat, so, any way to speed up things? Thanks"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532827076,"creation_date":1532827076,"answer_id":51576470,"question_id":51566645,"body_markdown":"I think that this statement:\r\n\r\n          res.setPropagateClose(false);\r\n\r\nin your &quot;UPDATE&quot; solution will result in a resource leak.  The RAF that you have opened is not shared with anything else.  When the `BoundedInputStream` is closed, you *need* the close to propagate to the RAF.","title":"Split one large file into multiple InputStream(s) to be processed in multithreading in Java","body":"<p>I think that this statement:</p>\n\n<pre><code>      res.setPropagateClose(false);\n</code></pre>\n\n<p>in your \"UPDATE\" solution will result in a resource leak.  The RAF that you have opened is not shared with anything else.  When the <code>BoundedInputStream</code> is closed, you <em>need</em> the close to propagate to the RAF.</p>\n"},{"tags":[],"owner":{"account_id":9703657,"reputation":79,"user_id":7197770,"display_name":"vishun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654477955,"creation_date":1654248610,"answer_id":72487575,"question_id":51566645,"body_markdown":"can try this:\r\n```\r\nInputStream inputStream = new FileInputStream(file);\r\ninputStream.skip(startPos);\r\nBoundedInputStream partInputStream = new BoundedInputStream(inputStream, curPartSize);\r\n```\r\n-----\r\nthis also need new FileInputStream every time, so it&#39;s useless.","title":"Split one large file into multiple InputStream(s) to be processed in multithreading in Java","body":"<p>can try this:</p>\n<pre><code>InputStream inputStream = new FileInputStream(file);\ninputStream.skip(startPos);\nBoundedInputStream partInputStream = new BoundedInputStream(inputStream, curPartSize);\n</code></pre>\n<hr />\n<p>this also need new FileInputStream every time, so it's useless.</p>\n"}],"owner":{"account_id":4746587,"reputation":8612,"user_id":3837778,"accept_rate":71,"display_name":"BAE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654477955,"creation_date":1532733600,"question_id":51566645,"body_markdown":"My codes:\r\n\r\n    public ArrayList&lt;InputStream&gt; getAllInputStreams() {\r\n        ArrayList&lt;InputStream&gt; allStreams = new ArrayList&lt;InputStream&gt;();\r\n        InputStream stream = this.getNext();\r\n        while (stream != null) {\r\n            allStreams.add(stream);\r\n            stream = this.getNext();\r\n        }\r\n        return allStreams;\r\n    }\r\n    \r\n    public InputStream getNext() {\r\n        if (done()) {\r\n            return null;\r\n        }\r\n        InputStream segment = createInputStream();\r\n        this.countStream++;\r\n        return segment;\r\n    }\r\n    \r\n    protected InputStream createInputStream() {\r\n        BoundedInputStream res = new BoundedInputStream(\r\n                Channels.newInputStream(this.randomAccessFile.getChannel().position(this.countStream * chunkSize)), chunkSize);\r\n        res.setPropagateClose(false) ;\r\n        return res ;\r\n    }\r\n\r\nI am trying to split `file` into several InputStream(s) (`private RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);`. All InputStream(s) (got from `getAllInputStreams()`) to be processed by multiple threads, it seems that most of them are empty. Why?\r\n\r\nAny hints welcomed. Thanks\r\n\r\n**UPDATE**\r\n\r\nIt seems that the following piece of codes working fine. Is the following piece of codes a good way to split the file into several chucks? Should the size of each chuck smaller than memory size?\r\n\r\n\r\n    protected InputStream createInputStream() {\r\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;r&quot;);\r\n        BoundedInputStream res = new BoundedInputStream(\r\n                Channels.newInputStream(randomAccessFile.getChannel().position(this.countStream * chunkSize)), chunkSize);\r\n        res.setPropagateClose(false) ;\r\n        return res ;\r\n    }","title":"Split one large file into multiple InputStream(s) to be processed in multithreading in Java","body":"<p>My codes:</p>\n\n<pre><code>public ArrayList&lt;InputStream&gt; getAllInputStreams() {\n    ArrayList&lt;InputStream&gt; allStreams = new ArrayList&lt;InputStream&gt;();\n    InputStream stream = this.getNext();\n    while (stream != null) {\n        allStreams.add(stream);\n        stream = this.getNext();\n    }\n    return allStreams;\n}\n\npublic InputStream getNext() {\n    if (done()) {\n        return null;\n    }\n    InputStream segment = createInputStream();\n    this.countStream++;\n    return segment;\n}\n\nprotected InputStream createInputStream() {\n    BoundedInputStream res = new BoundedInputStream(\n            Channels.newInputStream(this.randomAccessFile.getChannel().position(this.countStream * chunkSize)), chunkSize);\n    res.setPropagateClose(false) ;\n    return res ;\n}\n</code></pre>\n\n<p>I am trying to split <code>file</code> into several InputStream(s) (<code>private RandomAccessFile randomAccessFile = new RandomAccessFile(file, \"r\");</code>. All InputStream(s) (got from <code>getAllInputStreams()</code>) to be processed by multiple threads, it seems that most of them are empty. Why?</p>\n\n<p>Any hints welcomed. Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It seems that the following piece of codes working fine. Is the following piece of codes a good way to split the file into several chucks? Should the size of each chuck smaller than memory size?</p>\n\n<pre><code>protected InputStream createInputStream() {\n    RandomAccessFile randomAccessFile = new RandomAccessFile(file, \"r\");\n    BoundedInputStream res = new BoundedInputStream(\n            Channels.newInputStream(randomAccessFile.getChannel().position(this.countStream * chunkSize)), chunkSize);\n    res.setPropagateClose(false) ;\n    return res ;\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting","numbers","selection-sort"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":2,"creation_date":1494463093,"post_id":43904694,"comment_id":74843176,"body_markdown":"You didn&#39;t ask a question. And what have you tried to debug it?","body":"You didn&#39;t ask a question. And what have you tried to debug it?"},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494463338,"post_id":43904694,"comment_id":74843228,"body_markdown":"Sorry, I added it in the post. I already did this:\n\n` for (int i = 0; i &lt; num.length; i++){ `\n            safe = num[i];\n            num[i] = num[index];\n            low = 999;\n            for(int j = (i+1); j &lt; num.length; j++){\n                if(low &gt; num[j]){\n                    low = num[j];\n                    index = j;\n                }                \n            }\n        }","body":"Sorry, I added it in the post. I already did this:  ` for (int i = 0; i &lt; num.length; i++){ `             safe = num[i];             num[i] = num[index];             low = 999;             for(int j = (i+1); j &lt; num.length; j++){                 if(low &gt; num[j]){                     low = num[j];                     index = j;                 }                             }         }"},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494463513,"post_id":43904694,"comment_id":74843265,"body_markdown":"I have tried debugging it and going through step by step. I made a change  that makes the output 8, 8, 8, 14, 14, 27, 27, 27. But I cannot figure out anymore why this is happening.","body":"I have tried debugging it and going through step by step. I made a change  that makes the output 8, 8, 8, 14, 14, 27, 27, 27. But I cannot figure out anymore why this is happening."},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":4,"creation_date":1494463550,"post_id":43904694,"comment_id":74843281,"body_markdown":"He _wants_ to solve it himself. Honestly this is one of the better homework-type questions I&#39;ve seen here. @OP: You&#39;re not using `safe` and you&#39;re setting incorrect values in your `num[i] = num[index];` line. Focus on that.","body":"He <i>wants</i> to solve it himself. Honestly this is one of the better homework-type questions I&#39;ve seen here. @OP: You&#39;re not using <code>safe</code> and you&#39;re setting incorrect values in your <code>num[i] = num[index];</code> line. Focus on that."},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":1,"creation_date":1494463674,"post_id":43904694,"comment_id":74843305,"body_markdown":"Look carefully at when `index` is set and updated.","body":"Look carefully at when <code>index</code> is set and updated."},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494463776,"post_id":43904694,"comment_id":74843326,"body_markdown":"@Marvin I don&#39;t get how I am setting incorrect values.","body":"@Marvin I don&#39;t get how I am setting incorrect values."},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":1,"creation_date":1494463855,"post_id":43904694,"comment_id":74843343,"body_markdown":"@Lance In your second loop you&#39;re going over `num` and setting the value at _every index_ to `num[index]`, which is the &quot;lowest&quot; value you&#39;ve determined in your first loop.","body":"@Lance In your second loop you&#39;re going over <code>num</code> and setting the value at <i>every index</i> to <code>num[index]</code>, which is the &quot;lowest&quot; value you&#39;ve determined in your first loop."},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494463898,"post_id":43904694,"comment_id":74843354,"body_markdown":"@KevinO I added this:  \nfor(int j = (i+1); j &lt; num.length; j++){\n                if(low &gt; num[j]){\n                    low = num[j];\n                    index = j;\n                }                \n            }","body":"@KevinO I added this:   for(int j = (i+1); j &lt; num.length; j++){                 if(low &gt; num[j]){                     low = num[j];                     index = j;                 }                             }"},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494464018,"post_id":43904694,"comment_id":74843391,"body_markdown":"@Marvin I added an index updater in the nested for loop &#39; index = j ;` Sorry I don&#39;t know how to format code in the comments.","body":"@Marvin I added an index updater in the nested for loop &#39; index = j ;` Sorry I don&#39;t know how to format code in the comments."},{"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"score":0,"creation_date":1494464814,"post_id":43904694,"comment_id":74843550,"body_markdown":"@downshift I did and it just showed backticks as seen above","body":"@downshift I did and it just showed backticks as seen above"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1494469138,"post_id":43904694,"comment_id":74844532,"body_markdown":"If you only modify the list by swapping, you can&#39;t create duplicate elements.  your swap is broken","body":"If you only modify the list by swapping, you can&#39;t create duplicate elements.  your swap is broken"},{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1494529613,"post_id":43904694,"comment_id":74880469,"body_markdown":"`num[i] = num[index]`; is replacing all numbers in the array with `num[index]`, index got set to 2 so `num[2]` is 8 hence all `8`&#39;s in the array. Try changing the inner loop from `for(int j = (i+1); j &lt; num.length; j++)` to `for (int j = 1; j &lt; num.length - i; j++)`. Then you&#39;ll want to swap the numbers inside that loop using a temp variable that saves numbers being swapped. A spoiler (I know you asked *not* for the answer), this is good swap implementation: [two loops to implement the Bubble Sort](http://stackoverflow.com/a/16089042/1248974), specifically the 3-lines inside the `if` clause","body":"<code>num[i] = num[index]</code>; is replacing all numbers in the array with <code>num[index]</code>, index got set to 2 so <code>num[2]</code> is 8 hence all <code>8</code>&#39;s in the array. Try changing the inner loop from <code>for(int j = (i+1); j &lt; num.length; j++)</code> to <code>for (int j = 1; j &lt; num.length - i; j++)</code>. Then you&#39;ll want to swap the numbers inside that loop using a temp variable that saves numbers being swapped. A spoiler (I know you asked <i>not</i> for the answer), this is good swap implementation: <a href=\"http://stackoverflow.com/a/16089042/1248974\">two loops to implement the Bubble Sort</a>, specifically the 3-lines inside the <code>if</code> clause"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579869758,"creation_date":1579869758,"answer_id":59896649,"question_id":43904694,"body_markdown":"The date for this homework has been and gone, but thought I would add some step-by-step methodology.\r\n\r\nThe way I would approach this is to break it down into small steps. Each step should be a method or function.\r\n\r\n----\r\n\r\n1. The first step is to find the smallest number in the array, starting from N.\r\n-\r\nSo the method for this would be:\r\n\r\n\tprivate int findLowestStartingAtNth( int n ) {\r\n\t\tint lowest = Integer.MAX_VALUE;\r\n\t\tfor( int i = n ; i &lt; numbers.length ; i++ ) {\r\n\t\t\tif( numbers[i] &lt; lowest ) {\r\n\t\t\t\tlowest = numbers[i]; \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn lowest;\r\n\t}\r\n\r\n----\r\n\r\n2. Then we need to swap two arbitrary numbers in an array.\r\n-\r\nThis is quite simple:\r\n\r\n\tprivate void swapNumbers( int i, int j ) {\r\n\t\tint temp = numbers[i];\r\n\t\tnumbers[i] = numbers[j];\r\n\t\tnumbers[j] = temp;\r\n\t}\r\n\r\n----\r\n\r\n3. But if we want the output of `findLowestStartingAtNth()` to feed into the input of `swapNumbers()`, then we need to return the *index* not the number itself.\r\n-\r\nSo the method from step 1. is altered to be:\r\n\r\n\tprivate int findLowestStartingAtNth( int n ) {\r\n\t\tint lowest = Integer.MAX_VALUE;\r\n\t\tint index = n;\r\n\t\tfor( int i = n ; i &lt; numbers.length ; i++ ) {\r\n\t\t\tif( numbers[i] &lt; lowest ) {\r\n\t\t\t\tlowest = numbers[i]; \r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n----\r\n4. Let&#39;s use what we have to achieve step one\r\n-\r\n&gt; Select the lowest number in the list and swap with the first number.\r\n\r\nThe first number is the zero-th in the array.\r\n\r\n    int numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\r\n    int found = findLowestStartingAtNth( 0 );\r\n    swapNumbers(0, found);\r\n\r\n----\r\n5. We have a pattern. Start checking from 1st, swap with 1st. Start checking from 2nd, swap with 2nd. Start checking with X, swap with X.\r\n-\r\nSo let&#39;s wrap this pattern in a further method:\r\n\r\n    private int[] numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\r\n\tprivate void sort() {\r\n\t\tfor( int i = 0 ; i &lt; numbers.length ; i++ ) {\r\n\t\t\tint j = findLowestStartingAtNth( i );\r\n\t\t\tswapNumbers(i, j);\r\n\t\t}\r\n\t}\r\n\r\n----\r\n6. Finally, wrap it in a class, and trigger it from `main()` method. See how clear the code is because it is broken into small steps.\r\n-\r\nThe entire resulting class would be:\r\n\r\n\tpublic class Method1 {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMethod1 m = new Method1();\r\n\t\t\tm.numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\r\n\t\t\tm.sort();\r\n\t\t\tSystem.out.println(Arrays.toString(m.numbers));\r\n\t\t}\r\n\t\r\n\t\tprivate int[] numbers;\r\n\t\r\n\t\tprivate int findLowestStartingAtNth( int n ) {\r\n\t\t\tint lowest = Integer.MAX_VALUE;\r\n\t\t\tint index = n;\r\n\t\t\tfor( int i = n ; i &lt; numbers.length ; i++ ) {\r\n\t\t\t\tif( numbers[i] &lt; lowest ) {\r\n\t\t\t\t\tlowest = numbers[i]; \r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn index;\r\n\t\t}\r\n\t\r\n\t\tprivate void swapNumbers( int i, int j ) {\r\n\t\t\tint temp = numbers[i];\r\n\t\t\tnumbers[i] = numbers[j];\r\n\t\t\tnumbers[j] = temp;\r\n\t\t}\r\n\t\r\n\t\tprivate void sort() {\r\n\t\t\tfor( int i = 0 ; i &lt; numbers.length ; i++ ) {\r\n\t\t\t\tint j = findLowestStartingAtNth( i );\r\n\t\t\t\tswapNumbers(i, j);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Homework: Sorting Algorithms","body":"<p>The date for this homework has been and gone, but thought I would add some step-by-step methodology.</p>\n\n<p>The way I would approach this is to break it down into small steps. Each step should be a method or function.</p>\n\n<hr>\n\n<h2>1. The first step is to find the smallest number in the array, starting from N.</h2>\n\n<p>So the method for this would be:</p>\n\n<pre><code>private int findLowestStartingAtNth( int n ) {\n    int lowest = Integer.MAX_VALUE;\n    for( int i = n ; i &lt; numbers.length ; i++ ) {\n        if( numbers[i] &lt; lowest ) {\n            lowest = numbers[i]; \n        }\n    }\n    return lowest;\n}\n</code></pre>\n\n<hr>\n\n<h2>2. Then we need to swap two arbitrary numbers in an array.</h2>\n\n<p>This is quite simple:</p>\n\n<pre><code>private void swapNumbers( int i, int j ) {\n    int temp = numbers[i];\n    numbers[i] = numbers[j];\n    numbers[j] = temp;\n}\n</code></pre>\n\n<hr>\n\n<h2>3. But if we want the output of <code>findLowestStartingAtNth()</code> to feed into the input of <code>swapNumbers()</code>, then we need to return the <em>index</em> not the number itself.</h2>\n\n<p>So the method from step 1. is altered to be:</p>\n\n<pre><code>private int findLowestStartingAtNth( int n ) {\n    int lowest = Integer.MAX_VALUE;\n    int index = n;\n    for( int i = n ; i &lt; numbers.length ; i++ ) {\n        if( numbers[i] &lt; lowest ) {\n            lowest = numbers[i]; \n            index = i;\n        }\n    }\n    return index;\n}\n</code></pre>\n\n<hr>\n\n<h2>4. Let's use what we have to achieve step one</h2>\n\n<blockquote>\n  <p>Select the lowest number in the list and swap with the first number.</p>\n</blockquote>\n\n<p>The first number is the zero-th in the array.</p>\n\n<pre><code>int numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\nint found = findLowestStartingAtNth( 0 );\nswapNumbers(0, found);\n</code></pre>\n\n<hr>\n\n<h2>5. We have a pattern. Start checking from 1st, swap with 1st. Start checking from 2nd, swap with 2nd. Start checking with X, swap with X.</h2>\n\n<p>So let's wrap this pattern in a further method:</p>\n\n<pre><code>private int[] numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\nprivate void sort() {\n    for( int i = 0 ; i &lt; numbers.length ; i++ ) {\n        int j = findLowestStartingAtNth( i );\n        swapNumbers(i, j);\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>6. Finally, wrap it in a class, and trigger it from <code>main()</code> method. See how clear the code is because it is broken into small steps.</h2>\n\n<p>The entire resulting class would be:</p>\n\n<pre><code>public class Method1 {\n\n    public static void main(String[] args) {\n        Method1 m = new Method1();\n        m.numbers = new int[] {33, 22, 8, 59, 14, 47, 60, 27};\n        m.sort();\n        System.out.println(Arrays.toString(m.numbers));\n    }\n\n    private int[] numbers;\n\n    private int findLowestStartingAtNth( int n ) {\n        int lowest = Integer.MAX_VALUE;\n        int index = n;\n        for( int i = n ; i &lt; numbers.length ; i++ ) {\n            if( numbers[i] &lt; lowest ) {\n                lowest = numbers[i]; \n                index = i;\n            }\n        }\n        return index;\n    }\n\n    private void swapNumbers( int i, int j ) {\n        int temp = numbers[i];\n        numbers[i] = numbers[j];\n        numbers[j] = temp;\n    }\n\n    private void sort() {\n        for( int i = 0 ; i &lt; numbers.length ; i++ ) {\n            int j = findLowestStartingAtNth( i );\n            swapNumbers(i, j);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10858321,"reputation":47,"user_id":7983925,"display_name":"Lance"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1654477658,"creation_date":1494462995,"question_id":43904694,"body_markdown":"I am supposed to create an algorithm that sorts according to these steps:\r\n\r\n&gt; ##Method 1\r\n&gt; \r\n&gt; Select the lowest number in the list and swap with the first number.\r\n&gt; \r\n&gt; Select the lowest number in the list and swap with the second number.\r\n&gt; Start checking from the second number.\r\n&gt; \r\n&gt; Select the lowest number in the list and swap with the third number.\r\n&gt; Start checking from the third number.\r\n&gt; \r\n&gt; Select the lowest number in the list and swap with the fourth number.\r\n&gt; Start checking from the fourth number.\r\n&gt; \r\n&gt; Repeat…until you reach the last number.\r\n\r\nCurrently, this is the code I have come up with:\r\n\r\n    public static void method1() {\r\n        int low = 999;        \r\n        int index = 0;\r\n        int safe;\r\n        int[] num = new int[] { 33, 22, 8, 59, 14, 47, 60, 27 };\r\n        \r\n        for(int i = 0; i &lt; num.length; i++) {\r\n            if(low &gt; num[i]) {\r\n                low = num[i];\r\n                index = i;\r\n            }\r\n        }\r\n        \r\n        for (int i = 0; i &lt; num.length; i++) {\r\n            safe = num[i];\r\n            num[i] = num[index];\r\n            low = 999;\r\n            for(int j = (i+1); j &lt; num.length; j++) {\r\n                if(low &gt; num[j]) {\r\n                    low = num[j];\r\n                }\r\n            }\r\n        }\r\n        \r\n        for (int i = 0; i &lt; num.length; i++) {\r\n            System.out.print(num[i] +&quot;, &quot;);\r\n        }\r\n    }\r\n\r\nThe output looks like this:\r\n\r\n    run:\r\n    8, 8, 8, 8, 8, 8, 8, 8, \r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n    \r\n\r\n\r\n\r\nWhy am I only getting values of 8 in the output? As this is homework, please don&#39;t tell me the answer. I would only like guidance, thanks!\r\n\r\n#EDIT:\r\nCode now looks like this:\r\n\r\n    int low = 999;        \r\n            int index = 0;\r\n            int safe;\r\n            int[] num = new int[] { 33, 22, 8, 59, 14, 47, 60, 27 };\r\n            \r\n            for(int i = 0; i &lt; num.length; i++) {\r\n                if(low &gt; num[i]){\r\n                    low = num[i];\r\n                    index = i;\r\n                }\r\n            }\r\n            \r\n            for (int i = 0; i &lt; num.length; i++) {\r\n                safe = num[i];\r\n                num[i] = num[index];\r\n                low = 999;\r\n                for(int j = (i+1); j &lt; num.length; j++) {\r\n                    if(low &gt; num[j]){\r\n                        low = num[j];\r\n                        index = j;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            for (int i = 0; i &lt; num.length; i++) {\r\n                System.out.print(num[i] +&quot;, &quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n\r\n\r\nWhich gives me an output of:\r\n\r\n    run:\r\n    8, 8, 8, 14, 14, 27, 27, 27, \r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\n\r\n\r\n","title":"Homework: Sorting Algorithms","body":"<p>I am supposed to create an algorithm that sorts according to these steps:</p>\n\n<blockquote>\n  <h2>Method 1</h2>\n  \n  <p>Select the lowest number in the list and swap with the first number.</p>\n  \n  <p>Select the lowest number in the list and swap with the second number.\n  Start checking from the second number.</p>\n  \n  <p>Select the lowest number in the list and swap with the third number.\n  Start checking from the third number.</p>\n  \n  <p>Select the lowest number in the list and swap with the fourth number.\n  Start checking from the fourth number.</p>\n  \n  <p>Repeat…until you reach the last number.</p>\n</blockquote>\n\n<p>Currently, this is the code I have come up with:</p>\n\n<pre><code>public static void method1() {\n    int low = 999;        \n    int index = 0;\n    int safe;\n    int[] num = new int[] { 33, 22, 8, 59, 14, 47, 60, 27 };\n\n    for(int i = 0; i &lt; num.length; i++) {\n        if(low &gt; num[i]) {\n            low = num[i];\n            index = i;\n        }\n    }\n\n    for (int i = 0; i &lt; num.length; i++) {\n        safe = num[i];\n        num[i] = num[index];\n        low = 999;\n        for(int j = (i+1); j &lt; num.length; j++) {\n            if(low &gt; num[j]) {\n                low = num[j];\n            }\n        }\n    }\n\n    for (int i = 0; i &lt; num.length; i++) {\n        System.out.print(num[i] +\", \");\n    }\n}\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<pre><code>run:\n8, 8, 8, 8, 8, 8, 8, 8, \nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>Why am I only getting values of 8 in the output? As this is homework, please don't tell me the answer. I would only like guidance, thanks!</p>\n\n<h1>EDIT:</h1>\n\n<p>Code now looks like this:</p>\n\n<pre><code>int low = 999;        \n        int index = 0;\n        int safe;\n        int[] num = new int[] { 33, 22, 8, 59, 14, 47, 60, 27 };\n\n        for(int i = 0; i &lt; num.length; i++) {\n            if(low &gt; num[i]){\n                low = num[i];\n                index = i;\n            }\n        }\n\n        for (int i = 0; i &lt; num.length; i++) {\n            safe = num[i];\n            num[i] = num[index];\n            low = 999;\n            for(int j = (i+1); j &lt; num.length; j++) {\n                if(low &gt; num[j]){\n                    low = num[j];\n                    index = j;\n                }\n            }\n        }\n\n        for (int i = 0; i &lt; num.length; i++) {\n            System.out.print(num[i] +\", \");\n        }\n        System.out.println(\"\");\n</code></pre>\n\n<p>Which gives me an output of:</p>\n\n<pre><code>run:\n8, 8, 8, 14, 14, 27, 27, 27, \nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8706,"page":1286,"page_size":100}
