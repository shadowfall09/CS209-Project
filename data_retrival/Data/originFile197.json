{"items":[{"tags":["java","jackson","deserialization","json-deserialization"],"comments":[{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1694099689,"post_id":77060729,"comment_id":135849668,"body_markdown":"You can add a wrapper layer to achieve your goal, e.g: `List&lt;Foo&gt;` =&gt; `List&lt;FooView&lt;Foo&gt;&gt;`, `Bar` =&gt; `BarView&lt;Bar&gt;` , then you can control them since it created by yourself.","body":"You can add a wrapper layer to achieve your goal, e.g: <code>List&lt;Foo&gt;</code> =&gt; <code>List&lt;FooView&lt;Foo&gt;&gt;</code>, <code>Bar</code> =&gt; <code>BarView&lt;Bar&gt;</code> , then you can control them since it created by yourself."},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694100060,"post_id":77060729,"comment_id":135849763,"body_markdown":"@holi-java can you expand the explanation of your solution? How would be `FooView` and `BarView`? How can deserialize map entries `Foo` as `FooView` and `Bar` as `BarView` and all other entries as default?","body":"@holi-java can you expand the explanation of your solution? How would be <code>FooView</code> and <code>BarView</code>? How can deserialize map entries <code>Foo</code> as <code>FooView</code> and <code>Bar</code> as <code>BarView</code> and all other entries as default?"},{"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1694100730,"post_id":77060729,"comment_id":135849921,"body_markdown":"`FooWiew` is just a pojo take a `Foo` instance with your custom getters. No need to write your Deserializer.","body":"<code>FooWiew</code> is just a pojo take a <code>Foo</code> instance with your custom getters. No need to write your Deserializer."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1694101947,"post_id":77060729,"comment_id":135850184,"body_markdown":"You are creating `new ObjectMapper()` and `new JsonFactory()` every time you deserialize. This is very wasteful (lots of repeated work, constantly garbage collecting)","body":"You are creating <code>new ObjectMapper()</code> and <code>new JsonFactory()</code> every time you deserialize. This is very wasteful (lots of repeated work, constantly garbage collecting)"},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694156987,"post_id":77060729,"comment_id":135856990,"body_markdown":"@holi-java I can&#39;t even declare `List&lt;FooView&lt;Foo&gt;&gt;` because Foo class is not in my classpath.","body":"@holi-java I can&#39;t even declare <code>List&lt;FooView&lt;Foo&gt;&gt;</code> because Foo class is not in my classpath."},{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1694157101,"post_id":77060729,"comment_id":135857011,"body_markdown":"@lance-java is just an example for the sake of brevity, in the real code I don&#39;t create them every time.","body":"@lance-java is just an example for the sake of brevity, in the real code I don&#39;t create them every time."}],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694098990,"creation_date":1694098607,"question_id":77060729,"body_markdown":"Suppose a JSON representation of `Map&lt;String, Object&gt;`. I want to deserialize it as default except by two entries (`List&lt;Foo&gt;` and `Bar`), which I want a custom deserialization.\r\n\r\nIs it possible?\r\n\r\nFirst approach. I tried with a `BeanDeserializerModifier`. The problem is that it allows assign a custom deserialization by type, not by name of the entry. \r\n\r\nIn other words I have been able to change how a map is deserialized, but I want all other entries will be deserialized as default.\r\n\r\n    class MapTypeJsonDeserializer extends SimpleDeserializers {\r\n\t\r\n\t    @Override\r\n    \tpublic JsonDeserializer&lt;?&gt; findMapDeserializer (MapType type, DeserializationConfig config, BeanDescription beanDesc, KeyDeserializer keyDeserializer, TypeDeserializer elementTypeDeserializer, JsonDeserializer&lt;?&gt; elementDeserializer) throws JsonMappingException {\r\n\t\t    return new CustomMapDeserializer();\r\n\t    }\r\n    }\r\n\r\n    class CustomMapDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\t\r\n\t    @Override\r\n\t    public Map&lt;String, Object&gt; deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n\t\t\t// trying to remove entries which I want a custom deserialization\r\n\t\t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\t\t\t((ObjectNode) node).remove(&quot;foo&quot;);\r\n\t\t\t((ObjectNode) node).remove(&quot;bar&quot;);\r\n\r\n\t\t\t// trying to deserialize other entries as default... \r\n\t\t\tString updatedJson = new ObjectMapper().writeValueAsString(node);\r\n\t\t\tJsonParser updatedJsonParser = new JsonFactory().createParser(updatedJson);\r\n\r\n\t\t\t// error trying to call super class (is abstract) to deserialize as default\r\n\t\t\tMap&lt;String, Object&gt; result = super.deserialize(updatedJsonParser, deserializationContext);\r\n\r\n\t\t\t// finally I would try to add custom deserialization entries to resulting map...\r\n\t    }\r\n    }\r\n\r\n    public static void main (String[] args) throws JsonProcessingException {\r\n        SimpleModule mapTypeDeserializerModule = new SimpleModule();\r\n    \tmapTypeDeserializerModule.setDeserializers(new MapTypeJsonDeserializer());\r\n    \tString jsonMap = &quot;{\\&quot;someEntry\\&quot;:\\&quot;ES\\&quot;,\\&quot;foo\\&quot;:[{...}, {...}],\\&quot;bar\\&quot;:{...}&quot;;\r\n\t    \r\n    \tMap&lt;String, String&gt; resultMap = new ObjectMapper().registerModule(mapTypeDeserializerModule).readValue(jsonMap, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n    }\r\n\r\nHow can I deserialize all other map entries as default?\r\n\r\nAnother idea was to create custom deserializers for `Foo` and `Bar` types, but I want to store them in map as `JsonNode` because this classes are not in my classpath and I can&#39;t build and instance of them.\r\n\r\nI don&#39;t know if is possible create a custom deserializer which for a type `Foo` returns a `JsonNode`, something like that obviously do not compile:\r\n\r\n\tclass FooDeserializer extends JsonDeserializer&lt;Foo&gt; {\r\n\t\r\n\t\t@Override\r\n\t\tpublic Foo deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n\t\t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\t\t\treturn node;\r\n\t\t}\r\n\t}\r\n\r\nIn short, I want to deserialize a `Map&lt;String, Object&gt;` as default except by some entries which contains some types that I need to keep, but I cannot build an instance of these because its classes is not in classpath (that&#39;s why I tried to keep them as original JSON like `JsonNode`).\r\n\r\nAnother idea was use a `BeanDeserializerModifier` to assign a custom deserializer to `Foo` and `Bar`, but this lead me to create a deserializer for `Foo`/`Bar` that returns a `JsoNode` (same problem as above).\r\n\r\nAny help is appreciated.","title":"Jackson - Custom deserialization only to some map entries","body":"<p>Suppose a JSON representation of <code>Map&lt;String, Object&gt;</code>. I want to deserialize it as default except by two entries (<code>List&lt;Foo&gt;</code> and <code>Bar</code>), which I want a custom deserialization.</p>\n<p>Is it possible?</p>\n<p>First approach. I tried with a <code>BeanDeserializerModifier</code>. The problem is that it allows assign a custom deserialization by type, not by name of the entry.</p>\n<p>In other words I have been able to change how a map is deserialized, but I want all other entries will be deserialized as default.</p>\n<pre><code>class MapTypeJsonDeserializer extends SimpleDeserializers {\n\n    @Override\n    public JsonDeserializer&lt;?&gt; findMapDeserializer (MapType type, DeserializationConfig config, BeanDescription beanDesc, KeyDeserializer keyDeserializer, TypeDeserializer elementTypeDeserializer, JsonDeserializer&lt;?&gt; elementDeserializer) throws JsonMappingException {\n        return new CustomMapDeserializer();\n    }\n}\n\nclass CustomMapDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    @Override\n    public Map&lt;String, Object&gt; deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        // trying to remove entries which I want a custom deserialization\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        ((ObjectNode) node).remove(&quot;foo&quot;);\n        ((ObjectNode) node).remove(&quot;bar&quot;);\n\n        // trying to deserialize other entries as default... \n        String updatedJson = new ObjectMapper().writeValueAsString(node);\n        JsonParser updatedJsonParser = new JsonFactory().createParser(updatedJson);\n\n        // error trying to call super class (is abstract) to deserialize as default\n        Map&lt;String, Object&gt; result = super.deserialize(updatedJsonParser, deserializationContext);\n\n        // finally I would try to add custom deserialization entries to resulting map...\n    }\n}\n\npublic static void main (String[] args) throws JsonProcessingException {\n    SimpleModule mapTypeDeserializerModule = new SimpleModule();\n    mapTypeDeserializerModule.setDeserializers(new MapTypeJsonDeserializer());\n    String jsonMap = &quot;{\\&quot;someEntry\\&quot;:\\&quot;ES\\&quot;,\\&quot;foo\\&quot;:[{...}, {...}],\\&quot;bar\\&quot;:{...}&quot;;\n    \n    Map&lt;String, String&gt; resultMap = new ObjectMapper().registerModule(mapTypeDeserializerModule).readValue(jsonMap, new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n}\n</code></pre>\n<p>How can I deserialize all other map entries as default?</p>\n<p>Another idea was to create custom deserializers for <code>Foo</code> and <code>Bar</code> types, but I want to store them in map as <code>JsonNode</code> because this classes are not in my classpath and I can't build and instance of them.</p>\n<p>I don't know if is possible create a custom deserializer which for a type <code>Foo</code> returns a <code>JsonNode</code>, something like that obviously do not compile:</p>\n<pre><code>class FooDeserializer extends JsonDeserializer&lt;Foo&gt; {\n\n    @Override\n    public Foo deserialize (JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        return node;\n    }\n}\n</code></pre>\n<p>In short, I want to deserialize a <code>Map&lt;String, Object&gt;</code> as default except by some entries which contains some types that I need to keep, but I cannot build an instance of these because its classes is not in classpath (that's why I tried to keep them as original JSON like <code>JsonNode</code>).</p>\n<p>Another idea was use a <code>BeanDeserializerModifier</code> to assign a custom deserializer to <code>Foo</code> and <code>Bar</code>, but this lead me to create a deserializer for <code>Foo</code>/<code>Bar</code> that returns a <code>JsoNode</code> (same problem as above).</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","libraries"],"comments":[{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1589768068,"post_id":61819573,"comment_id":109415425,"body_markdown":"Why are you adding tthe jar to opendj? Is that the application that is getting the error?","body":"Why are you adding tthe jar to opendj? Is that the application that is getting the error?"},{"owner":{"account_id":15069326,"reputation":353,"user_id":10875401,"display_name":"Dean013"},"score":0,"creation_date":1589806069,"post_id":61819573,"comment_id":109430264,"body_markdown":"Yes, that is the application that is having this issue. Unlike other threads that have this issue, I am getting this issue outside of a development platform (Eclipse/maven) and do not know how to solve it.","body":"Yes, that is the application that is having this issue. Unlike other threads that have this issue, I am getting this issue outside of a development platform (Eclipse/maven) and do not know how to solve it."}],"answers":[{"tags":[],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1694098120,"creation_date":1593072118,"answer_id":62570635,"question_id":61819573,"body_markdown":"Firstly, you should take a look here: https://www.slf4j.org/codes.html\r\n\r\nAlso, you can try adding these SLF4J maven dependencies into your pom and let me know if this works:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n*Note: Consider that the maven dependencies versions are being updated, then maybe you prefer use the lates version of the dependencies(for example for  log4j-api is 3.0.0-alpha1)*\r\n\r\nOn the other hand, this post could help you as well:\r\nhttps://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>Firstly, you should take a look here: <a href=\"https://www.slf4j.org/codes.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html</a></p>\n<p>Also, you can try adding these SLF4J maven dependencies into your pom and let me know if this works:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><em>Note: Consider that the maven dependencies versions are being updated, then maybe you prefer use the lates version of the dependencies(for example for  log4j-api is 3.0.0-alpha1)</em></p>\n<p>On the other hand, this post could help you as well:\n<a href=\"https://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/log4j2-failed-to-load-class-org-slf4j-impl-staticloggerbinder/</a></p>\n"},{"tags":[],"owner":{"account_id":14404539,"reputation":71,"user_id":13898185,"display_name":"Akta Kalariya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617631809,"creation_date":1617631809,"answer_id":66954369,"question_id":61819573,"body_markdown":"In my case I was getting this error while using MavenCli lib. I had missed to add maven-compat lib in pom.xml. Below is full sample code I had used.\r\n\r\nSample code :\r\n```\r\nMavenCli mavenCli=new MavenCli();\r\nmavenCli.doMain(new String[]{&quot;clean&quot;,&quot;install&quot;}, path_of_project_dir, System.out, System.out);\r\n```\r\n\r\nDependency required :\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-embedder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>In my case I was getting this error while using MavenCli lib. I had missed to add maven-compat lib in pom.xml. Below is full sample code I had used.</p>\n<p>Sample code :</p>\n<pre><code>MavenCli mavenCli=new MavenCli();\nmavenCli.doMain(new String[]{&quot;clean&quot;,&quot;install&quot;}, path_of_project_dir, System.out, System.out);\n</code></pre>\n<p>Dependency required :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-embedder&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compat&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668164794,"creation_date":1668164794,"answer_id":74401581,"question_id":61819573,"body_markdown":"In my case, I was using the logback in a spring-boot app and faced this issue. It was related to incompatible versions of slf4j and logback which were coming from third party libraries. I excluded all of them and used these:\r\n\r\n        &lt;!-- logging dependencies--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n`${logback.version}` and `${slf4j.version}` are coming from `spring-boot-dependencies-2.X.X.pom` file.","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>In my case, I was using the logback in a spring-boot app and faced this issue. It was related to incompatible versions of slf4j and logback which were coming from third party libraries. I excluded all of them and used these:</p>\n<pre><code>    &lt;!-- logging dependencies--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><code>${logback.version}</code> and <code>${slf4j.version}</code> are coming from <code>spring-boot-dependencies-2.X.X.pom</code> file.</p>\n"},{"tags":[],"owner":{"account_id":26303583,"reputation":31,"user_id":19968482,"display_name":"Farhad Amirov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675639746,"creation_date":1675639746,"answer_id":75356231,"question_id":61819573,"body_markdown":"I hope it will help :)\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>I hope it will help :)</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n  &lt;version&gt;1.4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15069326,"reputation":353,"user_id":10875401,"display_name":"Dean013"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78604,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1694098120,"creation_date":1589546805,"question_id":61819573,"body_markdown":"I have an application that has the following error message:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n```\r\nThis message occurs after I attempt to run any script for the application. I have found that, as it says, it does not create logs, so I have come up empty handed when something fails. \r\n\r\nI am running this in Amazon Linux 2 which is closest to CentOS and Redhat. \r\n\r\nI have found the following resources:\r\nThis issue is addressed here: http://www.slf4j.org/codes.html#StaticLoggerBinder\r\nI can get the jar I need from here: https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar\r\nAfter taking this jar and dropping it into my application&#39;s /lib, nothing changes. \r\n\r\nOther articles describe adding this file to the class path. In Linux, I get this:\r\n```\r\n# java -classpath /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\r\nError: Could not find or load main class org.slf4j.impl.StaticLoggerBinder\r\n# java -jar /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\r\nno main manifest attribute, in /opt/opendj/lib/slf4j-simple-1.6.2.jar\r\n```\r\nAm I trying to add it to the class path right?\r\n\r\nIf needed, you can reproduce this issue by doing the following:\r\nSteps to reproduce the behavior:\r\nInstall a fresh version of OpenDJ onto CentOS or Amazon Linux2 EC2 Instance. Install java 1.8.0\r\nspecifically java-1.8.0-openjdk\r\nInstall the server in any configuration, then run a status script.\r\n\r\nExpected behavior\r\nLogs should generate and no warning message can be presented.","title":"How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;","body":"<p>I have an application that has the following error message:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n\n<p>This message occurs after I attempt to run any script for the application. I have found that, as it says, it does not create logs, so I have come up empty handed when something fails. </p>\n\n<p>I am running this in Amazon Linux 2 which is closest to CentOS and Redhat. </p>\n\n<p>I have found the following resources:\nThis issue is addressed here: <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a>\nI can get the jar I need from here: <a href=\"https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar\" rel=\"noreferrer\">https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/1.6.2/slf4j-simple-1.6.2.jar</a>\nAfter taking this jar and dropping it into my application's /lib, nothing changes. </p>\n\n<p>Other articles describe adding this file to the class path. In Linux, I get this:</p>\n\n<pre><code># java -classpath /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\nError: Could not find or load main class org.slf4j.impl.StaticLoggerBinder\n# java -jar /opt/opendj/lib/slf4j-simple-1.6.2.jar org.slf4j.impl.StaticLoggerBinder\nno main manifest attribute, in /opt/opendj/lib/slf4j-simple-1.6.2.jar\n</code></pre>\n\n<p>Am I trying to add it to the class path right?</p>\n\n<p>If needed, you can reproduce this issue by doing the following:\nSteps to reproduce the behavior:\nInstall a fresh version of OpenDJ onto CentOS or Amazon Linux2 EC2 Instance. Install java 1.8.0\nspecifically java-1.8.0-openjdk\nInstall the server in any configuration, then run a status script.</p>\n\n<p>Expected behavior\nLogs should generate and no warning message can be presented.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694094852,"post_id":77059663,"comment_id":135848383,"body_markdown":"First, if you can avoid using `Date`, do avoid it. It was a poorly designed class and was supplanted by java.time, to which `ZonedDateTime` belongs, a decade ago, so loooong outdated.  If you *do* need an old-fashioned `Date`, what made you believe that you need it to have a specific time zone?","body":"First, if you can avoid using <code>Date</code>, do avoid it. It was a poorly designed class and was supplanted by java.time, to which <code>ZonedDateTime</code> belongs, a decade ago, so loooong outdated.  If you <i>do</i> need an old-fashioned <code>Date</code>, what made you believe that you need it to have a specific time zone?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1694097349,"post_id":77059663,"comment_id":135849082,"body_markdown":"`java.util.Date` doesn&#39;t *have* a timezone. If you&#39;re seeing one, it&#39;s because another part of the system has applied one (the system default)","body":"<code>java.util.Date</code> doesn&#39;t <i>have</i> a timezone. If you&#39;re seeing one, it&#39;s because another part of the system has applied one (the system default)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1694097369,"post_id":77059663,"comment_id":135849089,"body_markdown":"You are asking the impossible. A `Date` cannot have a time zone. It uses your JVM’s default time zone for generating the string to be printed. This confuses many.","body":"You are asking the impossible. A <code>Date</code> cannot have a time zone. It uses your JVM’s default time zone for generating the string to be printed. This confuses many."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694104687,"post_id":77059663,"comment_id":135850666,"body_markdown":"**`java.util.Date#toString`  tells a lie.** That method applies the JVM’s current default time zone while generating its text. One of many reasons to **avoid this class**. Use only the *java.time* classes.","body":"<b><code>java.util.Date#toString</code>  tells a lie.</b> That method applies the JVM’s current default time zone while generating its text. One of many reasons to <b>avoid this class</b>. Use only the <i>java.time</i> classes."},{"owner":{"account_id":16909113,"reputation":26,"user_id":12228657,"display_name":"neo27"},"score":1,"creation_date":1694176437,"post_id":77059663,"comment_id":135860614,"body_markdown":"Thanks for your suggestion will try checking java.time api","body":"Thanks for your suggestion will try checking java.time api"}],"owner":{"account_id":16909113,"reputation":26,"user_id":12228657,"display_name":"neo27"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694090135,"answer_count":0,"score":0,"last_activity_date":1694097672,"creation_date":1694090060,"question_id":77059663,"body_markdown":"I wan to convert zonedatetime into date object in below format but is not getting specefic timezone related date\r\n\r\n```java\r\nZonedDateTime zonedDateTime2 = ldt.atZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\r\nDate datenew = Date.from(zonedDateTime.toInstant());\r\n```\r\n\r\nI am getting data in below format but with my timezone not the timezone I passed.\r\n\r\n```none\r\nThu Sep 07 17:55:36 IST 2023\r\n```\r\n\r\nIt should give output in below format\r\n\r\n```none\r\nThu Sep 07 05:31:10 PDT 2023\r\n```\r\n","title":"How to Convert ZoneDateTime to Date Object","body":"<p>I wan to convert zonedatetime into date object in below format but is not getting specefic timezone related date</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zonedDateTime2 = ldt.atZone(ZoneId.of(&quot;America/Los_Angeles&quot;));\nDate datenew = Date.from(zonedDateTime.toInstant());\n</code></pre>\n<p>I am getting data in below format but with my timezone not the timezone I passed.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thu Sep 07 17:55:36 IST 2023\n</code></pre>\n<p>It should give output in below format</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thu Sep 07 05:31:10 PDT 2023\n</code></pre>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":6,"creation_date":1327945331,"post_id":9068150,"comment_id":11382070,"body_markdown":"You could always create a variable, something like `boolean strIsString = str instanceof String;`...","body":"You could always create a variable, something like <code>boolean strIsString = str instanceof String;</code>..."},{"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"score":0,"creation_date":1327953843,"post_id":9068150,"comment_id":11384657,"body_markdown":"yeah @Baqueta, is a option. But, what differences could happen in memory use in one syntax or another?","body":"yeah @Baqueta, is a option. But, what differences could happen in memory use in one syntax or another?"},{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":1,"creation_date":1536926756,"post_id":9068150,"comment_id":91609935,"body_markdown":"Your example is bad, because String can not have subclasses, so your example is basically an isNull check.","body":"Your example is bad, because String can not have subclasses, so your example is basically an isNull check."}],"answers":[{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":1,"up_vote_count":401,"is_accepted":true,"score":400,"last_activity_date":1327944996,"creation_date":1327944996,"answer_id":9068167,"question_id":9068150,"body_markdown":"No, there is no better way; yours is canonical.","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>No, there is no better way; yours is canonical.</p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1327945748,"creation_date":1327945267,"answer_id":9068242,"question_id":9068150,"body_markdown":"You could use the [`Class.isInstance`][1] method:\r\n\r\n    if(!String.class.isInstance(str)) { /* do Something */ }\r\n\r\n... but it is still negated and pretty ugly.\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html#isInstance%28java.lang.Object%29\"><code>Class.isInstance</code></a> method:</p>\n\n<pre><code>if(!String.class.isInstance(str)) { /* do Something */ }\n</code></pre>\n\n<p>... but it is still negated and pretty ugly.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1449660734,"creation_date":1327946436,"answer_id":9068463,"question_id":9068150,"body_markdown":"Usually you don&#39;t want just an `if` but an `else` clause as well.\r\n\r\n    if(!(str instanceof String)) { /* do Something */ } \r\n    else { /* do something else */ }\r\n\r\ncan be written as\r\n\r\n    if(str instanceof String) { /* do Something else */ } \r\n    else { /* do something */ }\r\n\r\nOr you can write the code so you don&#39;t need to know if its a String or not. e.g.\r\n\r\n    if(!(str instanceof String)) { str = str.toString(); } \r\n\r\ncan be written as\r\n\r\n    str = str.toString();\r\n","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>Usually you don't want just an <code>if</code> but an <code>else</code> clause as well.</p>\n\n<pre><code>if(!(str instanceof String)) { /* do Something */ } \nelse { /* do something else */ }\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>if(str instanceof String) { /* do Something else */ } \nelse { /* do something */ }\n</code></pre>\n\n<p>Or you can write the code so you don't need to know if its a String or not. e.g.</p>\n\n<pre><code>if(!(str instanceof String)) { str = str.toString(); } \n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>str = str.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063749,"reputation":14067,"user_id":1064809,"accept_rate":70,"display_name":"Natix"},"down_vote_count":1,"up_vote_count":165,"is_accepted":false,"score":164,"last_activity_date":1467859722,"creation_date":1327948867,"answer_id":9068999,"question_id":9068150,"body_markdown":"I don&#39;t know what you imagine when you say &quot;beautiful&quot;, but what about this? I personally think it&#39;s worse than the classic form you posted, but somebody might like it...\r\n\r\n    if (str instanceof String == false) { /* ... */ }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I don't know what you imagine when you say \"beautiful\", but what about this? I personally think it's worse than the classic form you posted, but somebody might like it...</p>\n\n<pre><code>if (str instanceof String == false) { /* ... */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1327949361,"creation_date":1327949361,"answer_id":9069105,"question_id":9068150,"body_markdown":"If you can use static imports, and your moral code allows them\r\n\r\n    public class ObjectUtils {\r\n    \tprivate final Object obj;\r\n    \tprivate ObjectUtils(Object obj) {\r\n    \t\tthis.obj = obj;\r\n    \t}\r\n    \r\n    \tpublic static ObjectUtils thisObj(Object obj){\r\n    \t\treturn new ObjectUtils(obj);\r\n    \t}\r\n    \r\n    \tpublic boolean isNotA(Class&lt;?&gt; clazz){\r\n    \t\treturn !clazz.isInstance(obj);\r\n    \t}\r\n    }\r\n\r\nAnd then...\r\n\r\n    import static notinstanceof.ObjectUtils.*;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;&quot;;\r\n    \t\tif (thisObj(a).isNotA(String.class)) {\r\n    \t\t\tSystem.out.println(&quot;It is not a String&quot;);\r\n    \t\t}\r\n    \t\tif (thisObj(a).isNotA(Integer.class)) {\r\n    \t\t\tSystem.out.println(&quot;It is not an Integer&quot;);\r\n    \t\t}\r\n    \t}    \r\n    }\r\n\r\nThis is just a fluent interface exercise, I&#39;d never use that in real life code!   \r\nGo for your classic way, it won&#39;t confuse anyone else reading your code!","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>If you can use static imports, and your moral code allows them</p>\n\n<pre><code>public class ObjectUtils {\n    private final Object obj;\n    private ObjectUtils(Object obj) {\n        this.obj = obj;\n    }\n\n    public static ObjectUtils thisObj(Object obj){\n        return new ObjectUtils(obj);\n    }\n\n    public boolean isNotA(Class&lt;?&gt; clazz){\n        return !clazz.isInstance(obj);\n    }\n}\n</code></pre>\n\n<p>And then...</p>\n\n<pre><code>import static notinstanceof.ObjectUtils.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String a = \"\";\n        if (thisObj(a).isNotA(String.class)) {\n            System.out.println(\"It is not a String\");\n        }\n        if (thisObj(a).isNotA(Integer.class)) {\n            System.out.println(\"It is not an Integer\");\n        }\n    }    \n}\n</code></pre>\n\n<p>This is just a fluent interface exercise, I'd never use that in real life code!<br>\nGo for your classic way, it won't confuse anyone else reading your code!</p>\n"},{"tags":[],"owner":{"account_id":166367,"reputation":667,"user_id":390436,"accept_rate":36,"display_name":"tibi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480422604,"creation_date":1480422207,"answer_id":40865834,"question_id":9068150,"body_markdown":"ok just my two cents, use a is string method:\r\n\r\n\tpublic static boolean isString(Object thing) {\r\n\t\treturn thing instanceof String;\r\n\t}\r\n\r\n    public void someMethod(Object thing){\r\n\t    if (!isString(thing)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n        log.debug(&quot;my thing is valid&quot;);\r\n    }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>ok just my two cents, use a is string method:</p>\n\n<pre><code>public static boolean isString(Object thing) {\n    return thing instanceof String;\n}\n\npublic void someMethod(Object thing){\n    if (!isString(thing)) {\n        return null;\n    }\n    log.debug(\"my thing is valid\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1555503453,"creation_date":1539186169,"answer_id":52744050,"question_id":9068150,"body_markdown":"If you find it more understandable, you can do something like this with Java 8 : \r\n\r\n    public static final Predicate&lt;Object&gt; isInstanceOfTheClass = \r\n        objectToTest -&gt; objectToTest instanceof TheClass;\r\n\r\n    public static final Predicate&lt;Object&gt; isNotInstanceOfTheClass = \r\n        isInstanceOfTheClass.negate(); // or objectToTest -&gt; !(objectToTest instanceof TheClass)\r\n\r\n    if (isNotInstanceOfTheClass.test(myObject)) {\r\n        // do something\r\n    }","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>If you find it more understandable, you can do something like this with Java 8 : </p>\n\n<pre><code>public static final Predicate&lt;Object&gt; isInstanceOfTheClass = \n    objectToTest -&gt; objectToTest instanceof TheClass;\n\npublic static final Predicate&lt;Object&gt; isNotInstanceOfTheClass = \n    isInstanceOfTheClass.negate(); // or objectToTest -&gt; !(objectToTest instanceof TheClass)\n\nif (isNotInstanceOfTheClass.test(myObject)) {\n    // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691256,"reputation":820,"user_id":1553540,"display_name":"Dharmesh Baldha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571378381,"creation_date":1571378381,"answer_id":58444774,"question_id":9068150,"body_markdown":"You can achieve by doing below way.. just add a condition by adding bracket `if(!(condition with instanceOf))` with the whole condition by adding `!` operator at the start just the way mentioned in below code snippets.\r\n\r\n    if(!(str instanceof String)) { /* do Something */ } // COMPILATION WORK\r\n\r\ninstead of \r\n\r\n    if(str !instanceof String) { /* do Something */ } // COMPILATION FAIL","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>You can achieve by doing below way.. just add a condition by adding bracket <code>if(!(condition with instanceOf))</code> with the whole condition by adding <code>!</code> operator at the start just the way mentioned in below code snippets.</p>\n\n<pre><code>if(!(str instanceof String)) { /* do Something */ } // COMPILATION WORK\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>if(str !instanceof String) { /* do Something */ } // COMPILATION FAIL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197696,"reputation":1728,"user_id":441930,"display_name":"Mr5o1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583881012,"creation_date":1583881012,"answer_id":60627041,"question_id":9068150,"body_markdown":"I agree that in most cases the `if (!(x instanceof Y)) {...}` is the best approach, but in some cases creating an `isY(x)` function so you can `if (!isY(x)) {...}` is worthwhile.\r\n\r\nI&#39;m a typescript novice, and I&#39;ve bumped into this S/O question a bunch of times over the last few weeks, so for the googlers the typescript way to do this is to create a typeguard like this:\r\n\r\n*typeGuards.ts*\r\n```\r\nexport function isHTMLInputElement (value: any): value is HTMLInputElement {\r\n  return value instanceof HTMLInputElement\r\n}\r\n```\r\n\r\n*usage*\r\n```\r\nif (!isHTMLInputElement(x)) throw new RangeError()\r\n// do something with an HTMLInputElement\r\n```\r\n\r\nI guess the only reason why this might be appropriate in typescript and not regular js is that typeguards are a common convention, so if you&#39;re writing them for other interfaces, it&#39;s reasonable / understandable / natural to write them for classes too.\r\n\r\nThere&#39;s more detail about user defined type guards like this [in the docs][1]\r\n\r\n\r\n  [1]: https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I agree that in most cases the <code>if (!(x instanceof Y)) {...}</code> is the best approach, but in some cases creating an <code>isY(x)</code> function so you can <code>if (!isY(x)) {...}</code> is worthwhile.</p>\n\n<p>I'm a typescript novice, and I've bumped into this S/O question a bunch of times over the last few weeks, so for the googlers the typescript way to do this is to create a typeguard like this:</p>\n\n<p><em>typeGuards.ts</em></p>\n\n<pre><code>export function isHTMLInputElement (value: any): value is HTMLInputElement {\n  return value instanceof HTMLInputElement\n}\n</code></pre>\n\n<p><em>usage</em></p>\n\n<pre><code>if (!isHTMLInputElement(x)) throw new RangeError()\n// do something with an HTMLInputElement\n</code></pre>\n\n<p>I guess the only reason why this might be appropriate in typescript and not regular js is that typeguards are a common convention, so if you're writing them for other interfaces, it's reasonable / understandable / natural to write them for classes too.</p>\n\n<p>There's more detail about user defined type guards like this <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">in the docs</a></p>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249161,"favorite_count":0,"down_vote_count":2,"up_vote_count":543,"accepted_answer_id":9068167,"answer_count":9,"score":541,"last_activity_date":1694097575,"creation_date":1327944934,"question_id":9068150,"body_markdown":"I was thinking if there exists a better/nicer way to negate an `instanceof` in Java.\r\nActually, I&#39;m doing something like:\r\n\r\n    if(!(myObject instanceof SomeClass)) { /* do Something */ }\r\n\r\nBut I think that a &quot;beautiful&quot; syntax to do this should exist.\r\n\r\n\r\nDoes anyone know if it exists, and how the syntax look like?\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT:**\r\nBy beautiful, I might say something like this:\r\n\r\n    if(myObject !instanceof SomeClass) { /* do Something */ } // compilation fails\r\n","title":"Best way to &quot;negate&quot; an instanceof","body":"<p>I was thinking if there exists a better/nicer way to negate an <code>instanceof</code> in Java.\nActually, I'm doing something like:</p>\n<pre><code>if(!(myObject instanceof SomeClass)) { /* do Something */ }\n</code></pre>\n<p>But I think that a &quot;beautiful&quot; syntax to do this should exist.</p>\n<p>Does anyone know if it exists, and how the syntax look like?</p>\n<hr />\n<p><strong>EDIT:</strong>\nBy beautiful, I might say something like this:</p>\n<pre><code>if(myObject !instanceof SomeClass) { /* do Something */ } // compilation fails\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673333197,"post_id":75062502,"comment_id":132469104,"body_markdown":"You are using Spring Boot 2.7 which is build with Spring 5.3. Spring 6 is for Spring Boot 3 (and is totally different). As you are using Spring Boot, use `spring-boot-starter-test` and remove the other test dependencies (junit, spring-test and mockito) those will be included in the proper compatible versions.","body":"You are using Spring Boot 2.7 which is build with Spring 5.3. Spring 6 is for Spring Boot 3 (and is totally different). As you are using Spring Boot, use <code>spring-boot-starter-test</code> and remove the other test dependencies (junit, spring-test and mockito) those will be included in the proper compatible versions."},{"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"score":0,"creation_date":1673334649,"post_id":75062502,"comment_id":132469419,"body_markdown":"thanks, M. Deiunm yes, spring framework 6 and spring boot 3 are totally different.","body":"thanks, M. Deiunm yes, spring framework 6 and spring boot 3 are totally different."}],"answers":[{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674764764,"creation_date":1673295669,"answer_id":75062533,"question_id":75062502,"body_markdown":"Nothing wrong with the code. I just change my **pom.xml**, remove the version from *org.springframework* then run, it worked perfectly\r\n      \r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nRemoving unwanted dependencies from the maven build resolved the issue. \r\n\r\n**Yahoo!! Great** \r\n\r\n**Note:** SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.\r\n","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p>Nothing wrong with the code. I just change my <strong>pom.xml</strong>, remove the version from <em>org.springframework</em> then run, it worked perfectly</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Removing unwanted dependencies from the maven build resolved the issue.</p>\n<p><strong>Yahoo!! Great</strong></p>\n<p><strong>Note:</strong> SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.</p>\n"},{"tags":[],"owner":{"account_id":111890,"reputation":8651,"user_id":295339,"accept_rate":93,"display_name":"Lars Andren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675665235,"creation_date":1675665235,"answer_id":75358041,"question_id":75062502,"body_markdown":"I got this error when using `spring-test 6.0.4`. However, when I changed to using version `5.3.24` it started working.","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p>I got this error when using <code>spring-test 6.0.4</code>. However, when I changed to using version <code>5.3.24</code> it started working.</p>\n"}],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75062533,"answer_count":2,"score":2,"last_activity_date":1694097457,"creation_date":1673295489,"question_id":75062502,"body_markdown":"**Unit Testing with Spring framework - Java**\r\n\r\n\r\nI got the below error when I run the spring unit test with a java context\r\n\r\n```\r\njava.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n```\r\n\r\nMy **pom.xml** have these dependencies but still faced this issue when i run my test case\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nMy current version of spring and java\r\n\r\n      \r\n```\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\n\r\nI just change my **pom.xml**, remove the version then run, it worked perfectly\r\n      \r\n```\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt; \r\n```","title":"java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate unit test spring [Java]","body":"<p><strong>Unit Testing with Spring framework - Java</strong></p>\n<p>I got the below error when I run the spring unit test with a java context</p>\n<pre><code>java.lang.IllegalStateException: Could not load CacheAwareContextLoaderDelegate [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n</code></pre>\n<p>My <strong>pom.xml</strong> have these dependencies but still faced this issue when i run my test case</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My current version of spring and java</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I just change my <strong>pom.xml</strong>, remove the version then run, it worked perfectly</p>\n<pre><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; \n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694097068,"creation_date":1694097068,"answer_id":77060524,"question_id":77060131,"body_markdown":"I can not think of a way of doing that. \r\n\r\nYou could perhaps write your own [custom move][1] that would be inspired by our pillar move. But it is definitely not easy and it takes you outside of the public API, so it carries risks.\r\n\r\n\r\n  [1]: https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#customMoves","title":"Is it possible to select a pillar move based on problem facts in timefold?","body":"<p>I can not think of a way of doing that.</p>\n<p>You could perhaps write your own <a href=\"https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#customMoves\" rel=\"nofollow noreferrer\">custom move</a> that would be inspired by our pillar move. But it is definitely not easy and it takes you outside of the public API, so it carries risks.</p>\n"}],"owner":{"account_id":11139285,"reputation":301,"user_id":8176509,"display_name":"Jonas Erbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77060524,"answer_count":1,"score":0,"last_activity_date":1694097068,"creation_date":1694094004,"question_id":77060131,"body_markdown":"Is it possible to select entities of a PillarMove based on other properties of the entity than PlanningVariables. For example my Entity has a PlanningVariable startTime and a type that is a ProblemFact. I want so select a pillar based on the startTime and all Entities that have the same value in their type property. Is that possible? I can&#39;t see that feature in the docs https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors but I think its very essential.\r\nIs the only way to implement a custom move?","title":"Is it possible to select a pillar move based on problem facts in timefold?","body":"<p>Is it possible to select entities of a PillarMove based on other properties of the entity than PlanningVariables. For example my Entity has a PlanningVariable startTime and a type that is a ProblemFact. I want so select a pillar based on the startTime and all Entities that have the same value in their type property. Is that possible? I can't see that feature in the docs <a href=\"https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors\" rel=\"nofollow noreferrer\">https://timefold.ai/docs/timefold-solver/latest/move-and-neighborhood-selection/move-and-neighborhood-selection.html#pillarMoveSelectors</a> but I think its very essential.\nIs the only way to implement a custom move?</p>\n"},{"tags":["java","rabbitmq"],"owner":{"account_id":9605279,"reputation":156,"user_id":7131512,"display_name":"mehmandarov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694096438,"creation_date":1694075674,"question_id":77057910,"body_markdown":"I would like to list all bindings for an exchange programmatically, preferably using the Java Client API.\r\n\r\nI know there are ways of doing this through REST calls via `http://localhost:15672/api/exchanges/%2F/&lt;my_exchange&gt;/bindings/source`, but is there a programmatic way of getting the same information as well?","title":"RabbitMQ get list of bindings for an exchange","body":"<p>I would like to list all bindings for an exchange programmatically, preferably using the Java Client API.</p>\n<p>I know there are ways of doing this through REST calls via <code>http://localhost:15672/api/exchanges/%2F/&lt;my_exchange&gt;/bindings/source</code>, but is there a programmatic way of getting the same information as well?</p>\n"},{"tags":["java","maven","multi-module","maven-reactor","maven-multi-module"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":1,"creation_date":1694096075,"post_id":77060268,"comment_id":135848753,"body_markdown":"&lt;dependencyManagement&gt; doesn&#39;t actually declare a dependency.. it just says roughly: &quot;use this version when a dependency is declared&quot;.","body":"&lt;dependencyManagement&gt; doesn&#39;t actually declare a dependency.. it just says roughly: &quot;use this version when a dependency is declared&quot;."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694097551,"post_id":77060268,"comment_id":135849127,"body_markdown":"Agreed, not a &#39;dependency&#39; in the maven sense, but de facto it is still a dependency in the sense that the rest of the build depends on this information. You could make the same argument for the parent pom (not a dependency), but the reactor still orders it correctly.","body":"Agreed, not a &#39;dependency&#39; in the maven sense, but de facto it is still a dependency in the sense that the rest of the build depends on this information. You could make the same argument for the parent pom (not a dependency), but the reactor still orders it correctly."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694107584,"post_id":77060268,"comment_id":135851229,"body_markdown":"The order of the reactor is based on the topological sorted  `dependencies` (NOT about dependencyManagement)... of the inter modul dependencies..apart from that an `import scope dependency` so called BOM does not influence the order as long as you don&#39;t use a dependency from that...Also using a module as BOM is wrong.. use a simply dependency in such cases..","body":"The order of the reactor is based on the topological sorted  <code>dependencies</code> (NOT about dependencyManagement)... of the inter modul dependencies..apart from that an <code>import scope dependency</code> so called BOM does not influence the order as long as you don&#39;t use a dependency from that...Also using a module as BOM is wrong.. use a simply dependency in such cases.."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694153327,"post_id":77060268,"comment_id":135856383,"body_markdown":"@khmarbaise That is not true. The reactor also builds the parent pom module, identifies it as an upstream requirement for all modules that extend from it, and orders it before them. Imported POMs serve the same purpose as a parent POM, for setups where a single POM hierarchy is not possible or wanted (as described in docs). Jenkins also identifies imported pom modules as upstream dependencies and triggers them before building the projects importing them.","body":"@khmarbaise That is not true. The reactor also builds the parent pom module, identifies it as an upstream requirement for all modules that extend from it, and orders it before them. Imported POMs serve the same purpose as a parent POM, for setups where a single POM hierarchy is not possible or wanted (as described in docs). Jenkins also identifies imported pom modules as upstream dependencies and triggers them before building the projects importing them."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694189741,"post_id":77060268,"comment_id":135863334,"body_markdown":"The root (or in other words the starting point of the reactor; entry point) is always built first because that one is defining it&#39;s children (modules); The point of view is not from children, it is from the root to children first. The order of the children is defined by the dependencies and no; An scope imported pom do not serve the same purpose as a parent pom. (Where is this described in the docs?); What I don&#39;t understand is your statement about: `for setups where a single POM hierarchy is not possible or wanted (as described in docs).`?","body":"The root (or in other words the starting point of the reactor; entry point) is always built first because that one is defining it&#39;s children (modules); The point of view is not from children, it is from the root to children first. The order of the children is defined by the dependencies and no; An scope imported pom do not serve the same purpose as a parent pom. (Where is this described in the docs?); What I don&#39;t understand is your statement about: <code>for setups where a single POM hierarchy is not possible or wanted (as described in docs).</code>?"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1694190226,"post_id":77060268,"comment_id":135863425,"body_markdown":"here: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies (first paragraph)","body":"here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> (first paragraph)"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694096420,"creation_date":1694095016,"question_id":77060268,"body_markdown":"I am testing with 2 modules:\r\n\r\n    &lt;modules&gt;\r\n       &lt;module&gt;module-1&lt;/module&gt;\r\n       &lt;module&gt;module-2&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\nModule 1 [imports][1] module 2 in the dependency management section:\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;mygroup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;module-2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n\r\nI need (and would have expected) the reactor build to execute module 2 first, since it is effectively an upstream dependency of module 1.\r\n\r\nBut, module 2 is executed last.\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies","title":"Why is an imported pom module not ordered at the beginning of the maven multi-module reactor build?","body":"<p>I am testing with 2 modules:</p>\n<pre><code>&lt;modules&gt;\n   &lt;module&gt;module-1&lt;/module&gt;\n   &lt;module&gt;module-2&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>Module 1 <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies\" rel=\"nofollow noreferrer\">imports</a> module 2 in the dependency management section:</p>\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;mygroup&lt;/groupId&gt;\n        &lt;artifactId&gt;module-2&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n</code></pre>\n<p>I need (and would have expected) the reactor build to execute module 2 first, since it is effectively an upstream dependency of module 1.</p>\n<p>But, module 2 is executed last.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1627412886,"post_id":68550489,"comment_id":121148767,"body_markdown":"Use `build` instead of `pluginManagement`. Also the `spring-boot-maven-plugin` should be used for both the jar and war and you should build 1 artifact regardless of environment.","body":"Use <code>build</code> instead of <code>pluginManagement</code>. Also the <code>spring-boot-maven-plugin</code> should be used for both the jar and war and you should build 1 artifact regardless of environment."},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":0,"creation_date":1627413272,"post_id":68550489,"comment_id":121148892,"body_markdown":"Just because I removed the pluginManagement tag already worked!!! I&#39;m just going to adjust this build to at least 1 artfact now. THANK YOU VERY MUCH!!!","body":"Just because I removed the pluginManagement tag already worked!!! I&#39;m just going to adjust this build to at least 1 artfact now. THANK YOU VERY MUCH!!!"}],"answers":[{"tags":[],"owner":{"account_id":12444230,"reputation":549,"user_id":9061008,"display_name":"Dmitry Rakovets"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627534713,"creation_date":1627534713,"answer_id":68570278,"question_id":68550489,"body_markdown":"To use the **Spring Boot Maven Plugin**, include the appropriate XML in the plugins section of your `pom.xml`, as shown in the following example:\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\r\n        &lt;!-- ... --&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nBuild:\r\n\r\n    mvn clean package\r\n\r\nRun:\r\n\r\n    java -jar target/brxmind.jar\r\n\r\nOutput:\r\n\r\n    ...\r\n    2021-07-29 07:53:43.557  INFO 18739 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2021-07-29 07:53:43.576  INFO 18739 --- [           main] br.com.braxxy.Application                : Started Application in 2.112 seconds (JVM running for 2.476)\r\n\r\n\r\n\r\n","title":"Error: Could not find or load main class - When running a JAR at the prompt","body":"<p>To use the <strong>Spring Boot Maven Plugin</strong>, include the appropriate XML in the plugins section of your <code>pom.xml</code>, as shown in the following example:</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;getting-started&lt;/artifactId&gt;\n    &lt;!-- ... --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Build:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>Run:</p>\n<pre><code>java -jar target/brxmind.jar\n</code></pre>\n<p>Output:</p>\n<pre><code>...\n2021-07-29 07:53:43.557  INFO 18739 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-07-29 07:53:43.576  INFO 18739 --- [           main] br.com.braxxy.Application                : Started Application in 2.112 seconds (JVM running for 2.476)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650805199,"creation_date":1650805199,"answer_id":71988648,"question_id":68550489,"body_markdown":"Sometimes check your pom .xml. If it is showing errors on it in the project explorer file list but when you open the file there is no error. What you can do is to remove all the dependencies and start adding them one by one to find the problematic ones (You can check if the red X sign shows on the pom.xml in the project explorer list). If you locate the problematic dependencies delete the in the .m2/repository directory in your user directory. if it is difficult delete the whole .m2 folder and update all your projects ","title":"Error: Could not find or load main class - When running a JAR at the prompt","body":"<p>Sometimes check your pom .xml. If it is showing errors on it in the project explorer file list but when you open the file there is no error. What you can do is to remove all the dependencies and start adding them one by one to find the problematic ones (You can check if the red X sign shows on the pom.xml in the project explorer list). If you locate the problematic dependencies delete the in the .m2/repository directory in your user directory. if it is difficult delete the whole .m2 folder and update all your projects</p>\n"},{"tags":[],"owner":{"account_id":12732589,"reputation":126,"user_id":22516936,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694095986,"creation_date":1694095352,"answer_id":77060313,"question_id":68550489,"body_markdown":"I had the same problem. It turned out that `src/main/Application.java` was an invalid package hierarchy, I changed the hierarchy to `src/main/java/Application.java` and everything worked.","title":"Error: Could not find or load main class - When running a JAR at the prompt","body":"<p>I had the same problem. It turned out that <code>src/main/Application.java</code> was an invalid package hierarchy, I changed the hierarchy to <code>src/main/java/Application.java</code> and everything worked.</p>\n"}],"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3507,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77060313,"answer_count":3,"score":2,"last_activity_date":1694095986,"creation_date":1627412713,"question_id":68550489,"body_markdown":"I&#39;m looking all afternoon how I can run a JAR of a **Spring Boot application** I&#39;m developing.\r\n\r\nGenerated the JAR through the `mvn clean package` command. The JAR is generated inside the `target` folder, so I run the CMD in this folder and type `java -jar apptest.jar` and then I get\r\n\r\n```\r\nError: Could not find or load main class br.com.myapp.Application\r\n```\r\n\r\nWhen I run the application directly on the eclipse, it runs perfectly.\r\n\r\nCan you help me?\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt; \r\n    &lt;/parent&gt;\r\n    \r\n    &lt;groupId&gt;br.com.braxxy.adm&lt;/groupId&gt;\r\n    &lt;artifactId&gt;brxmind&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;brxmind&lt;/name&gt;\r\n    &lt;description&gt;Redmine like Applicaiton for Project Management&lt;/description&gt;\r\n    &lt;packaging&gt;${project.packaging}&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;start-class&gt;br.com.braxxy.Application&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\t\t\t\r\n\t\t\t\t\t\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt; \r\n                &lt;project.packaging&gt;jar&lt;/project.packaging&gt;               \r\n            &lt;/properties&gt;            \r\n            &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;show-profiles&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;            \r\n                &lt;/plugins&gt;\r\n             &lt;/pluginManagement&gt;\r\n            &lt;/build&gt;                              \r\n        &lt;/profile&gt;       \r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;prod&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;prod&lt;/activatedProperties&gt;\r\n                &lt;project.packaging&gt;war&lt;/project.packaging&gt;\r\n            &lt;/properties&gt;   \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                   &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;  \r\n            &lt;build&gt;\r\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;/build&gt;                       \r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;Central Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;releases&gt;\r\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;Central Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;layout&gt;default&lt;/layout&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**Application.java**\r\n```\r\npackage br.com.myapp;\r\n\r\n\r\nimport java.io.File;\r\nimport java.util.Locale;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.servlet.LocaleResolver;\r\nimport org.springframework.web.servlet.i18n.SessionLocaleResolver;\r\n\r\n@SpringBootApplication\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Application.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n    \r\n    @Bean\r\n    public LocaleResolver localeResolver() {\r\n        SessionLocaleResolver slr = new SessionLocaleResolver();\r\n        slr.setDefaultLocale(new Locale(&quot;pt&quot;, &quot;BR&quot;));\r\n        return slr;\r\n    }\r\n\r\n    @Bean\r\n    CommandLineRunner init(SystemRoleRepository systemRoleRepository, ProjectRoleRepository projectRoleRepository) {\r\n        return args -&gt; {\r\n            for (ESystemRole role : ESystemRole.values()) {\r\n                SystemRole systemRole = systemRoleRepository.findByRole(role.toString());\r\n                if (systemRole == null) {\r\n                    SystemRole newSystemRole = new SystemRole();\r\n                    newSystemRole.setRole(role.toString());\r\n                    systemRoleRepository.save(newSystemRole);\r\n                }\r\n            }\r\n            \r\n            for (EProjectRole role : EProjectRole.values()) {\r\n                ProjectRole projectRole = projectRoleRepository.findByRole(role.toString());\r\n                if (projectRole == null) {\r\n                    ProjectRole newProjectRole = new ProjectRole();\r\n                    newProjectRole.setRole(role.toString());\r\n                    projectRoleRepository.save(newProjectRole);\r\n                }\r\n            }            \r\n        };\r\n    }\r\n}\r\n\r\n```    \r\n\r\n**MANIFEST.MF**\r\n```\r\nManifest-Version: 1.0\r\nImplementation-Title: myapp\r\nImplementation-Version: 0.0.1\r\nBuild-Jdk-Spec: 1.8\r\nCreated-By: Maven Jar Plugin 3.2.0\r\nMain-Class: br.com.myapp.Application\r\n\r\n```","title":"Error: Could not find or load main class - When running a JAR at the prompt","body":"<p>I'm looking all afternoon how I can run a JAR of a <strong>Spring Boot application</strong> I'm developing.</p>\n<p>Generated the JAR through the <code>mvn clean package</code> command. The JAR is generated inside the <code>target</code> folder, so I run the CMD in this folder and type <code>java -jar apptest.jar</code> and then I get</p>\n<pre><code>Error: Could not find or load main class br.com.myapp.Application\n</code></pre>\n<p>When I run the application directly on the eclipse, it runs perfectly.</p>\n<p>Can you help me?</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; \n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;br.com.braxxy.adm&lt;/groupId&gt;\n    &lt;artifactId&gt;brxmind&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;brxmind&lt;/name&gt;\n    &lt;description&gt;Redmine like Applicaiton for Project Management&lt;/description&gt;\n    &lt;packaging&gt;${project.packaging}&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;start-class&gt;br.com.braxxy.Application&lt;/start-class&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;           \n                        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt; \n                &lt;project.packaging&gt;jar&lt;/project.packaging&gt;               \n            &lt;/properties&gt;            \n            &lt;build&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n            &lt;pluginManagement&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;show-profiles&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;active-profiles&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;            \n                &lt;/plugins&gt;\n             &lt;/pluginManagement&gt;\n            &lt;/build&gt;                              \n        &lt;/profile&gt;       \n\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProperties&gt;prod&lt;/activatedProperties&gt;\n                &lt;project.packaging&gt;war&lt;/project.packaging&gt;\n            &lt;/properties&gt;   \n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                   &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                   &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;  \n            &lt;build&gt;\n                &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n            &lt;/build&gt;                       \n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>Application.java</strong></p>\n<pre><code>package br.com.myapp;\n\n\nimport java.io.File;\nimport java.util.Locale;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.servlet.LocaleResolver;\nimport org.springframework.web.servlet.i18n.SessionLocaleResolver;\n\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n    \n    @Bean\n    public LocaleResolver localeResolver() {\n        SessionLocaleResolver slr = new SessionLocaleResolver();\n        slr.setDefaultLocale(new Locale(&quot;pt&quot;, &quot;BR&quot;));\n        return slr;\n    }\n\n    @Bean\n    CommandLineRunner init(SystemRoleRepository systemRoleRepository, ProjectRoleRepository projectRoleRepository) {\n        return args -&gt; {\n            for (ESystemRole role : ESystemRole.values()) {\n                SystemRole systemRole = systemRoleRepository.findByRole(role.toString());\n                if (systemRole == null) {\n                    SystemRole newSystemRole = new SystemRole();\n                    newSystemRole.setRole(role.toString());\n                    systemRoleRepository.save(newSystemRole);\n                }\n            }\n            \n            for (EProjectRole role : EProjectRole.values()) {\n                ProjectRole projectRole = projectRoleRepository.findByRole(role.toString());\n                if (projectRole == null) {\n                    ProjectRole newProjectRole = new ProjectRole();\n                    newProjectRole.setRole(role.toString());\n                    projectRoleRepository.save(newProjectRole);\n                }\n            }            \n        };\n    }\n}\n\n</code></pre>\n<p><strong>MANIFEST.MF</strong></p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: myapp\nImplementation-Version: 0.0.1\nBuild-Jdk-Spec: 1.8\nCreated-By: Maven Jar Plugin 3.2.0\nMain-Class: br.com.myapp.Application\n\n</code></pre>\n"},{"tags":["java","sql","jpa","criteria","criteria-api"],"comments":[{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1616191689,"post_id":66715979,"comment_id":117935269,"body_markdown":"The Criteria API merely generates a JPQL query, and I don&#39;t see any conditional logic within that part, which means you can skip it and just use the JPQL query directly. It would make sense to use it if you have to generate various `where`, `having` or `order by` conditions. As it is now, you don&#39;t need it.","body":"The Criteria API merely generates a JPQL query, and I don&#39;t see any conditional logic within that part, which means you can skip it and just use the JPQL query directly. It would make sense to use it if you have to generate various <code>where</code>, <code>having</code> or <code>order by</code> conditions. As it is now, you don&#39;t need it."},{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1616191934,"post_id":66715979,"comment_id":117935339,"body_markdown":"The `TypedQuery&lt;Author&gt;` will give you problems, though. The returned type is `String`, not `Author`","body":"The <code>TypedQuery&lt;Author&gt;</code> will give you problems, though. The returned type is <code>String</code>, not <code>Author</code>"},{"owner":{"account_id":163977,"reputation":859,"user_id":386464,"display_name":"linus1412"},"score":0,"creation_date":1616192746,"post_id":66715979,"comment_id":117935552,"body_markdown":"@coladict The TypedQuery&lt;Author&gt; does work/compiles, and successfully returns Strings!  I think this is due to type erasure at runtime","body":"@coladict The TypedQuery&lt;Author&gt; does work/compiles, and successfully returns Strings!  I think this is due to type erasure at runtime"},{"owner":{"account_id":163977,"reputation":859,"user_id":386464,"display_name":"linus1412"},"score":0,"creation_date":1616195361,"post_id":66715979,"comment_id":117936105,"body_markdown":"Code updated to have CriteriaQuery&lt;String&gt; and TypedQuery&lt;String&gt;","body":"Code updated to have CriteriaQuery&lt;String&gt; and TypedQuery&lt;String&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1616346067,"creation_date":1616346067,"answer_id":66735132,"question_id":66715979,"body_markdown":"This expression: `bookRoot.get(Book_.author)` means you&#39;re joining `Author` to `Book` implicitly. \r\n\r\nTo get rid of the extra join, you would have to either use a native query, or map `Book.author_id` once more as a simple column: \r\n\r\n```\r\n@Column(name = &quot;author_id&quot;, insertable = false, updatable = false)\r\nprivate Long authorId;\r\n```\r\n\r\nAnd use `Book_.authorId` instead. ","title":"Unwanted Cross Join in JPA CriteriaQuery select in subquery","body":"<p>This expression: <code>bookRoot.get(Book_.author)</code> means you're joining <code>Author</code> to <code>Book</code> implicitly.</p>\n<p>To get rid of the extra join, you would have to either use a native query, or map <code>Book.author_id</code> once more as a simple column:</p>\n<pre><code>@Column(name = &quot;author_id&quot;, insertable = false, updatable = false)\nprivate Long authorId;\n</code></pre>\n<p>And use <code>Book_.authorId</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":233198,"reputation":712,"user_id":498531,"accept_rate":62,"display_name":"jpangamarca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694095977,"creation_date":1692910621,"answer_id":76972889,"question_id":66715979,"body_markdown":"Your issue would be solved just by using `join` instead of `get` in `bookRoot.get(Book_.author)`. You&#39;re referencing `Author` (a relation attribute, not a basic attribute) without an explicit join. That will make the persistence provider to generate a `cross join` instead of an `inner join`.","title":"Unwanted Cross Join in JPA CriteriaQuery select in subquery","body":"<p>Your issue would be solved just by using <code>join</code> instead of <code>get</code> in <code>bookRoot.get(Book_.author)</code>. You're referencing <code>Author</code> (a relation attribute, not a basic attribute) without an explicit join. That will make the persistence provider to generate a <code>cross join</code> instead of an <code>inner join</code>.</p>\n"}],"owner":{"account_id":163977,"reputation":859,"user_id":386464,"display_name":"linus1412"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66735132,"answer_count":2,"score":1,"last_activity_date":1694095977,"creation_date":1616190407,"question_id":66715979,"body_markdown":"I&#39;m getting what I think are needless CROSS JOINs when I&#39;m doing a select IN SUBQUERY, which is hurting performance.  I&#39;m using Postgres if that makes a difference.\r\n\r\nI&#39;m aiming to generate the following query\r\n\r\n``` lang-sql\r\nselect a1.first_name from author a1\r\nwhere a1.last_name = ?\r\n  and (a1.id in\r\n       (select distinct b.author_id\r\n        from book b    \r\n          where (b.published_on between ? and ?)\r\n        group by b.author_id\r\n        having count(b.author_id) &gt;= 2))\r\n```\r\n\r\nBut I get \r\n\r\n``` lang-sql\r\nselect a1.first_name from author a1\r\nwhere a1.last_name = ?\r\n  and (a1.id in\r\n       (select distinct b.author_id\r\n        from book b\r\n          cross join author a2 where b.author_id = a2.id -- &lt;&lt;&lt; I don&#39;t want this cross join!\r\n          and (b.published_on between ? and ?)\r\n        group by b.author_id\r\n        having count(b.author_id) &gt;= 2))\r\n```\r\n\r\nCode\r\n``` lang-java\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;String&gt; cq = cb.createQuery(Author.class);\r\n        Root&lt;Author&gt; authorRoot = cq.from(Author.class);\r\n\r\n        Subquery&lt;Long&gt; countSubquery = cq.subquery(Long.class);\r\n        Root&lt;Book&gt; bookRoot = countSubquery.from(Book.class);\r\n        Expression&lt;Long&gt; count = cb.count(bookRoot.get(Book_.author));\r\n\r\n        countSubquery.select(bookRoot.get(Book_.AUTHOR))\r\n            .distinct(true)\r\n            .where(cb.between(bookRoot.get(Book_.publishedOn),\r\n                LocalDate.of(2021, MARCH, 1),\r\n                LocalDate.of(2021, MARCH, 31)))\r\n            .groupBy(bookRoot.get(Book_.author))\r\n            .having(cb.greaterThanOrEqualTo(count, 2L));\r\n\r\n        cq.where(\r\n            cb.equal(authorRoot.get(Author_.lastName), &quot;Smith&quot;),\r\n            cb.in(authorRoot.get(Author_.ID)).value(countSubquery));\r\n\r\n        cq.select(authorRoot.get(Author_.FIRST_NAME));\r\n\r\n        TypedQuery&lt;String&gt; query = entityManager.createQuery(cq);\r\n\r\n        return query.getResultList();\r\n```\r\n\r\nIn reality I&#39;m generating the queries from a user driven query builder, this code recreates the exact problem I&#39;m having.\r\n\r\nWhen using the query builder the user could end up with multiple select in subqueries so I need this to perform as well as possible.\r\n\r\nI don&#39;t see why I should need any join/cross join for my query to work.\r\n\r\nEntities\r\n\r\n``` lag-java\r\n\r\n@Entity\r\npublic class Author {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @OneToMany(mappedBy = &quot;author&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private Set&lt;Book&gt; books;\r\n\r\n}\r\n\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private Author author;\r\n\r\n    private LocalDate publishedOn;\r\n    \r\n}\r\n\r\n```\r\n","title":"Unwanted Cross Join in JPA CriteriaQuery select in subquery","body":"<p>I'm getting what I think are needless CROSS JOINs when I'm doing a select IN SUBQUERY, which is hurting performance.  I'm using Postgres if that makes a difference.</p>\n<p>I'm aiming to generate the following query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select a1.first_name from author a1\nwhere a1.last_name = ?\n  and (a1.id in\n       (select distinct b.author_id\n        from book b    \n          where (b.published_on between ? and ?)\n        group by b.author_id\n        having count(b.author_id) &gt;= 2))\n</code></pre>\n<p>But I get</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select a1.first_name from author a1\nwhere a1.last_name = ?\n  and (a1.id in\n       (select distinct b.author_id\n        from book b\n          cross join author a2 where b.author_id = a2.id -- &lt;&lt;&lt; I don't want this cross join!\n          and (b.published_on between ? and ?)\n        group by b.author_id\n        having count(b.author_id) &gt;= 2))\n</code></pre>\n<p>Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;String&gt; cq = cb.createQuery(Author.class);\n        Root&lt;Author&gt; authorRoot = cq.from(Author.class);\n\n        Subquery&lt;Long&gt; countSubquery = cq.subquery(Long.class);\n        Root&lt;Book&gt; bookRoot = countSubquery.from(Book.class);\n        Expression&lt;Long&gt; count = cb.count(bookRoot.get(Book_.author));\n\n        countSubquery.select(bookRoot.get(Book_.AUTHOR))\n            .distinct(true)\n            .where(cb.between(bookRoot.get(Book_.publishedOn),\n                LocalDate.of(2021, MARCH, 1),\n                LocalDate.of(2021, MARCH, 31)))\n            .groupBy(bookRoot.get(Book_.author))\n            .having(cb.greaterThanOrEqualTo(count, 2L));\n\n        cq.where(\n            cb.equal(authorRoot.get(Author_.lastName), &quot;Smith&quot;),\n            cb.in(authorRoot.get(Author_.ID)).value(countSubquery));\n\n        cq.select(authorRoot.get(Author_.FIRST_NAME));\n\n        TypedQuery&lt;String&gt; query = entityManager.createQuery(cq);\n\n        return query.getResultList();\n</code></pre>\n<p>In reality I'm generating the queries from a user driven query builder, this code recreates the exact problem I'm having.</p>\n<p>When using the query builder the user could end up with multiple select in subqueries so I need this to perform as well as possible.</p>\n<p>I don't see why I should need any join/cross join for my query to work.</p>\n<p>Entities</p>\n<pre><code>\n@Entity\npublic class Author {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String firstName;\n    private String lastName;\n\n    @OneToMany(mappedBy = &quot;author&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;Book&gt; books;\n\n}\n\n@Entity\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n\n    private LocalDate publishedOn;\n    \n}\n\n</code></pre>\n"},{"tags":["java","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"score":0,"creation_date":1599157231,"post_id":63729436,"comment_id":112694773,"body_markdown":"What warnings did you get in vscode?","body":"What warnings did you get in vscode?"},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1599157431,"post_id":63729436,"comment_id":112694853,"body_markdown":"Deadcode, deprecated method, unused imports, unused variable...among others. Not sure what tools the vscode plugin uses to generate these warnings.","body":"Deadcode, deprecated method, unused imports, unused variable...among others. Not sure what tools the vscode plugin uses to generate these warnings."},{"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"score":0,"creation_date":1599157774,"post_id":63729436,"comment_id":112694998,"body_markdown":"These additional warnings could be from style check plugin. The vscode runs it.  ```https://docs.gradle.org/current/userguide/checkstyle_plugin.html``` See if this one turn it on.","body":"These additional warnings could be from style check plugin. The vscode runs it.  <code>https:&#47;&#47;docs.gradle.org&#47;current&#47;userguide&#47;checkstyle_plugin.&zwnj;&#8203;html</code> See if this one turn it on."}],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599158793,"creation_date":1599157699,"answer_id":63729673,"question_id":63729436,"body_markdown":"I doubt that you can get exactly the same warnings in Gradle as in VSCode, unless you can somehow tell Gradle to use VSCode as compiler.\r\n\r\nThat said, I&#39;d always have \r\n\r\n    compileJava { \r\n        options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; \r\n    } \r\n\r\nin my `build.xml`\r\n\r\nIf that gets too noisy, you can reduce the lint level and just specify `-Xlint:deprecation`. See [the javac documentation][1] for the list of available lint options. (Search the page for &quot;-Xlint:&quot;.)\r\n\r\nYou can even enable Javadoc linting with `-Xdoclint:all`; again see the documentation for what checks it supports.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/specs/man/javac.html\r\n\r\n","title":"Have gradle build output same warnings as vscode java extension","body":"<p>I doubt that you can get exactly the same warnings in Gradle as in VSCode, unless you can somehow tell Gradle to use VSCode as compiler.</p>\n<p>That said, I'd always have</p>\n<pre><code>compileJava { \n    options.compilerArgs &lt;&lt; &quot;-Xlint:all&quot; \n} \n</code></pre>\n<p>in my <code>build.xml</code></p>\n<p>If that gets too noisy, you can reduce the lint level and just specify <code>-Xlint:deprecation</code>. See <a href=\"https://docs.oracle.com/en/java/javase/13/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">the javac documentation</a> for the list of available lint options. (Search the page for &quot;-Xlint:&quot;.)</p>\n<p>You can even enable Javadoc linting with <code>-Xdoclint:all</code>; again see the documentation for what checks it supports.</p>\n"},{"tags":[],"owner":{"account_id":1273261,"reputation":535,"user_id":1229065,"display_name":"Sam Strachan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694095459,"creation_date":1694095459,"answer_id":77060335,"question_id":63729436,"body_markdown":"I too wanted the same warnings (and in fact to fail the build in the event of warnings). Having investigated previously I looked again and found this post.\r\n\r\nThe comment above about using a different compiler made me think - VSCode uses Eclipse Buildship under the hood. Which led me to Eclipse JDT and [Eclipse ECJ](https://wiki.eclipse.org/JDT_Core_Programmer_Guide/ECJ#A_Hitchhiker.27s_Guide_to_ECJ).\r\n\r\nOnce I got this far, I began to find [other SO posts](https://stackoverflow.com/a/46328865) which indicated how it might work.\r\n\r\nI started simple and found it worked. But as I started applying to more code, I got new errors. Notably to do with Lombok and latterly unknown suppression tokens (for checkstyle and PMD). This [maven implementation](https://stackoverflow.com/a/37971000) and this [lombok](https://projectlombok.org/setup/ecj) documentation gave me more clues for Lombok. For the unknown suppression tokens I found this [GitHub issue](https://github.com/redhat-developer/vscode-java/issues/507) which just says that VSCode ignores it.\r\n\r\nI used this [man page](https://www.mankier.com/1/ecj) to work out the parameters I needed to disable `warningToken` checks and also to fail on warnings.\r\n\r\nIt is noteworthy, that this may be slightly fragile with respect to [Gradle 8](https://github.com/gradle/gradle/issues/15942)\r\n\r\nAnyway, now it won&#39;t even *compile* if there are errors. Of course you may not want that.\r\n\r\nPut this in your `gradle.build` or main plugin under `./buildSrc`.\r\n\r\n```groovy\r\nconfigurations {\r\n    ecj\r\n}\r\n\r\ndependencies {\r\n    // ...\r\n    // This is the last version which works with Java 8. You can find more up to date versions\r\n    ecj &#39;org.eclipse.jdt:ecj:3.26.0&#39;\r\n    // ...\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    def ecjMainClass = &#39;org.eclipse.jdt.internal.compiler.batch.Main&#39;\r\n    javaCompiler.set(provider { null })\r\n\r\n    options.headerOutputDirectory.set(provider { null })\r\n    options.fork = true\r\n    options.forkOptions.with {\r\n        executable = &#39;java&#39;\r\n        jvmArgs = [\r\n            &#39;-classpath&#39;, project.configurations.ecj.asPath,\r\n            // The following two lines make lombok work but assume you&#39;re\r\n            // using the `io.freefair.lombok` plugin\r\n            &quot;-javaagent:${configurations.lombok.asPath}&quot;.toString(),\r\n            &quot;-Xbootclasspath/a:${configurations.lombok.asPath}&quot;.toString(),\r\n            ecjMainClass\r\n        ]\r\n    }\r\n    // Ignore unknown suppressions\r\n    options.compilerArgs &lt;&lt; &#39;-warn:-warningToken&#39;\r\n\r\n    // Total fail if there are errors - remove this if you just want warnings\r\n    options.compilerArgs &lt;&lt; &#39;-failOnWarning&#39;\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n```\r\n","title":"Have gradle build output same warnings as vscode java extension","body":"<p>I too wanted the same warnings (and in fact to fail the build in the event of warnings). Having investigated previously I looked again and found this post.</p>\n<p>The comment above about using a different compiler made me think - VSCode uses Eclipse Buildship under the hood. Which led me to Eclipse JDT and <a href=\"https://wiki.eclipse.org/JDT_Core_Programmer_Guide/ECJ#A_Hitchhiker.27s_Guide_to_ECJ\" rel=\"nofollow noreferrer\">Eclipse ECJ</a>.</p>\n<p>Once I got this far, I began to find <a href=\"https://stackoverflow.com/a/46328865\">other SO posts</a> which indicated how it might work.</p>\n<p>I started simple and found it worked. But as I started applying to more code, I got new errors. Notably to do with Lombok and latterly unknown suppression tokens (for checkstyle and PMD). This <a href=\"https://stackoverflow.com/a/37971000\">maven implementation</a> and this <a href=\"https://projectlombok.org/setup/ecj\" rel=\"nofollow noreferrer\">lombok</a> documentation gave me more clues for Lombok. For the unknown suppression tokens I found this <a href=\"https://github.com/redhat-developer/vscode-java/issues/507\" rel=\"nofollow noreferrer\">GitHub issue</a> which just says that VSCode ignores it.</p>\n<p>I used this <a href=\"https://www.mankier.com/1/ecj\" rel=\"nofollow noreferrer\">man page</a> to work out the parameters I needed to disable <code>warningToken</code> checks and also to fail on warnings.</p>\n<p>It is noteworthy, that this may be slightly fragile with respect to <a href=\"https://github.com/gradle/gradle/issues/15942\" rel=\"nofollow noreferrer\">Gradle 8</a></p>\n<p>Anyway, now it won't even <em>compile</em> if there are errors. Of course you may not want that.</p>\n<p>Put this in your <code>gradle.build</code> or main plugin under <code>./buildSrc</code>.</p>\n<pre><code>configurations {\n    ecj\n}\n\ndependencies {\n    // ...\n    // This is the last version which works with Java 8. You can find more up to date versions\n    ecj 'org.eclipse.jdt:ecj:3.26.0'\n    // ...\n}\n\ntasks.withType(JavaCompile).configureEach {\n    def ecjMainClass = 'org.eclipse.jdt.internal.compiler.batch.Main'\n    javaCompiler.set(provider { null })\n\n    options.headerOutputDirectory.set(provider { null })\n    options.fork = true\n    options.forkOptions.with {\n        executable = 'java'\n        jvmArgs = [\n            '-classpath', project.configurations.ecj.asPath,\n            // The following two lines make lombok work but assume you're\n            // using the `io.freefair.lombok` plugin\n            &quot;-javaagent:${configurations.lombok.asPath}&quot;.toString(),\n            &quot;-Xbootclasspath/a:${configurations.lombok.asPath}&quot;.toString(),\n            ecjMainClass\n        ]\n    }\n    // Ignore unknown suppressions\n    options.compilerArgs &lt;&lt; '-warn:-warningToken'\n\n    // Total fail if there are errors - remove this if you just want warnings\n    options.compilerArgs &lt;&lt; '-failOnWarning'\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n"}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694095459,"creation_date":1599156650,"question_id":63729436,"body_markdown":"I have a gradle build that I run from the command line. Sometimes I open and edit the project in vscode.\r\n\r\nWhen I open a project in vscode, I get a bunch of warnings. When I build using gradle from the command line, I get none.\r\n\r\nIs there a way I can have my gradle build trigger that exact same set of warnings the the vscode extension generates?","title":"Have gradle build output same warnings as vscode java extension","body":"<p>I have a gradle build that I run from the command line. Sometimes I open and edit the project in vscode.</p>\n<p>When I open a project in vscode, I get a bunch of warnings. When I build using gradle from the command line, I get none.</p>\n<p>Is there a way I can have my gradle build trigger that exact same set of warnings the the vscode extension generates?</p>\n"},{"tags":["java","spring","spring-integration","workflow"],"owner":{"account_id":16840169,"reputation":432,"user_id":12175744,"display_name":"cyberman123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694095321,"creation_date":1694095321,"question_id":77060309,"body_markdown":"**Problem statement:**\r\n\r\n - I primarily work on Spring Boot and just started reading about Spring\r\n   Integration for the below problem statement\r\n - I need to develop a spring integration project which talks to 10 (10\r\n   is an example here) different services using various modes of\r\n   communication. \r\n - These modes of communication can be REST API\r\n   communication, Apache Kafka, Rabbit MQ, Redis Queues, AWS Lambda etc\r\n - Let&#39;s say each of the 10 different services publish varied formats of\r\n   reports Meaning service 1 publishes a report of json/xml/xlsx formats\r\n   Service 2 publishes an xlsx report and so on etc\r\n - The reporting customizations can vary for each of these services\r\n - Let&#39;s say as and end user, I can choose to subscribe to any\r\n   combinations of these reports, meaning I subscribe to services 1 with\r\n   json and xml, service 4 with json, service 7 with xlsx\r\n - Each of these services integration needs to be a workflow\r\n   (`IntegrationFlow` in Spring Integration terminologies). There can be\r\n   subworkflows during the integration with these services\r\n - Whether a service should be triggered or not comes based on the\r\n   report types the end user/customer has subscribed to\r\n\r\n**Error Handling:**\r\n\r\n - If any subset of the report fails after the default timeout, let&#39;s\r\n   say a customer has subscribed to 6 reports, 3 of them succeeded and 3\r\n   of them failed, then I need to return the succesfully generated\r\n   reports back to the customer\r\n\r\n**Here are my questions:**\r\n\r\n - Is Spring integration a good framework of handling the above\r\n   requirement?\r\n - How do I orchestrate and handle the above requirements in a workflow\r\n   driven model?\r\n - Does Spring Integration offer better transaction tracing capabilities?\r\n - Most of the examples given in GitHub are using XML configuration. I&#39;m looking for suggestions/examples using the Java DSL Flow\r\n - Please give me some references of a subset of these requirements\r\n   implemented using Spring Integration?\r\n - Any suggestions/feedbacks/queries/clarifications are most welcome!\r\n\r\n","title":"Spring Integration for Report orchestration workflow","body":"<p><strong>Problem statement:</strong></p>\n<ul>\n<li>I primarily work on Spring Boot and just started reading about Spring\nIntegration for the below problem statement</li>\n<li>I need to develop a spring integration project which talks to 10 (10\nis an example here) different services using various modes of\ncommunication.</li>\n<li>These modes of communication can be REST API\ncommunication, Apache Kafka, Rabbit MQ, Redis Queues, AWS Lambda etc</li>\n<li>Let's say each of the 10 different services publish varied formats of\nreports Meaning service 1 publishes a report of json/xml/xlsx formats\nService 2 publishes an xlsx report and so on etc</li>\n<li>The reporting customizations can vary for each of these services</li>\n<li>Let's say as and end user, I can choose to subscribe to any\ncombinations of these reports, meaning I subscribe to services 1 with\njson and xml, service 4 with json, service 7 with xlsx</li>\n<li>Each of these services integration needs to be a workflow\n(<code>IntegrationFlow</code> in Spring Integration terminologies). There can be\nsubworkflows during the integration with these services</li>\n<li>Whether a service should be triggered or not comes based on the\nreport types the end user/customer has subscribed to</li>\n</ul>\n<p><strong>Error Handling:</strong></p>\n<ul>\n<li>If any subset of the report fails after the default timeout, let's\nsay a customer has subscribed to 6 reports, 3 of them succeeded and 3\nof them failed, then I need to return the succesfully generated\nreports back to the customer</li>\n</ul>\n<p><strong>Here are my questions:</strong></p>\n<ul>\n<li>Is Spring integration a good framework of handling the above\nrequirement?</li>\n<li>How do I orchestrate and handle the above requirements in a workflow\ndriven model?</li>\n<li>Does Spring Integration offer better transaction tracing capabilities?</li>\n<li>Most of the examples given in GitHub are using XML configuration. I'm looking for suggestions/examples using the Java DSL Flow</li>\n<li>Please give me some references of a subset of these requirements\nimplemented using Spring Integration?</li>\n<li>Any suggestions/feedbacks/queries/clarifications are most welcome!</li>\n</ul>\n"},{"tags":["java","websphere","ejb-3.0","jrules"],"answers":[{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512133619,"creation_date":1512133619,"answer_id":47594105,"question_id":47589890,"body_markdown":"Your Java stand-alone client &quot;TestGameExecute&quot; needs to have com.siork.cdd.Game on it&#39;s classpath in order to be able to unmarshall an instance of this class over RMI.","title":"CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge : ClassNotFoundException","body":"<p>Your Java stand-alone client \"TestGameExecute\" needs to have com.siork.cdd.Game on it's classpath in order to be able to unmarshall an instance of this class over RMI.</p>\n"},{"tags":[],"owner":{"account_id":16242212,"reputation":1,"user_id":11728244,"display_name":"Amrit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562057135,"creation_date":1562057135,"answer_id":56848595,"question_id":47589890,"body_markdown":"Its a JDK issue. \r\nCheck your JDK version, upgrade it, for me it worked whe should be 8.x","title":"CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge : ClassNotFoundException","body":"<p>Its a JDK issue. \nCheck your JDK version, upgrade it, for me it worked whe should be 8.x</p>\n"},{"tags":[],"owner":{"account_id":12568477,"reputation":1871,"user_id":9143443,"display_name":"superup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694095155,"creation_date":1694095155,"answer_id":77060289,"question_id":47589890,"body_markdown":"In my case, I set value to \r\n\r\n`List&lt;ColReteral&gt; coll;`\r\n\r\n`coll.setId(&quot;1&quot;);`\r\n\r\n`remote.update(&quot;id&quot;, coll);`\r\n\r\nI got error \r\n\r\n&gt; CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge\r\n&gt; : ClassNotFoundException\r\n\r\nBecause i forgot\r\n\r\n    coll = new ArrayList&lt;ColReteral&gt;();\r\n\r\n..","title":"CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge : ClassNotFoundException","body":"<p>In my case, I set value to</p>\n<p><code>List&lt;ColReteral&gt; coll;</code></p>\n<p><code>coll.setId(&quot;1&quot;);</code></p>\n<p><code>remote.update(&quot;id&quot;, coll);</code></p>\n<p>I got error</p>\n<blockquote>\n<p>CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge\n: ClassNotFoundException</p>\n</blockquote>\n<p>Because i forgot</p>\n<pre><code>coll = new ArrayList&lt;ColReteral&gt;();\n</code></pre>\n<p>..</p>\n"}],"owner":{"account_id":11880478,"reputation":23,"user_id":8694321,"display_name":"AnthonyLu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1694095155,"creation_date":1512119037,"question_id":47589890,"body_markdown":"I want to execute rules on Rule Execution Server from a Java stand-alone client using an EJB3 rule session.\r\n\r\n    public class TestGameExecute {\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String,Object&gt; inputParameters = new HashMap&lt;String, Object&gt;();\r\n\t\tMap&lt;String,Object&gt; resMap = null;\r\n\t\tIlrEJB3SessionFactory ejbSF;\r\n\t\tIlrStatelessSession rs;\r\n\t\t\r\n\t\tGame game = new Game(10,3);\r\n\t\tinputParameters.put(&quot;GAME&quot;, game);\r\n\t\tHashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;String, String&gt;();\r\n\t\tjndiProperties.put(&quot;java.naming.provider.url&quot;, &quot;corbaloc:iiop:********&quot;);\r\n\t\tjndiProperties.put(&quot;java.naming.factory.initial&quot;, &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\r\n\t\tjndiProperties.put(&quot;java.naming.security.principal&quot;, &quot;username&quot;);\r\n\t\tjndiProperties.put(&quot;java.naming.security.credentials&quot;, &quot;password&quot;);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tejbSF = new IlrEJB3SessionFactory(jndiProperties);\r\n\t\t\tejbSF.setRemote(true);\r\n\t\t\tejbSF.setStatelessRemoteJndiName(&quot;ilog.rules.res.session.impl.ejb3.IlrStatelessSessionRemote&quot;);\r\n\t\t\trs = ejbSF.createStatelessSession();\r\n\t\t\tIlrSessionRequest request = ejbSF.createRequest();\r\n\t\t\trequest.setRulesetPath(new IlrPath(&quot;/GAMLCDDRuleAppPhaseII/SiorkCDDRuleProject_PhaseII&quot;));\r\n\t\t\trequest.setInputParameters(inputParameters);\r\n\t\t\trequest.setForceUptodate(true);\r\n\t\t\trequest.setTraceEnabled(true);\r\n\t        request.getTraceFilter().setInfoAllFilters(true);\r\n\t\t\tIlrSessionResponse response = rs.execute(request);\r\n\t\t\tresMap = response.getOutputParameters();\r\n\t\t\tGame retGame =(Game)resMap.get(&quot;GAME&quot;);\r\n\t\t\tSystem.out.println(retGame.getWinner());\r\n\t\t\t\r\n\t\t} catch (IlrSessionCreationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IlrSessionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAnd I get this error below:\r\n\r\n&gt;&gt;Exception in thread &quot;P=421238:O=0:CT&quot; java.rmi.MarshalException: CORBA MARSHAL 0x4942f896 No; nested exception is: \r\n\torg.omg.CORBA.MARSHAL: \r\n\t&gt;&gt; SERVER (id=614476eb, host=gamlwm000t01.esunbank.com.tw) TRACE START:\r\n\t&gt;&gt;    org.omg.CORBA.MARSHAL: Unable to read value from underlying bridge : Unable to read value from underlying bridge : ClassNotFoundException com.siork.cdd.Game  vmcid: IBM  minor code: 896  completed: No\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.CDRReader.read_value(CDRReader.java:1649)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.CDRReader.read_abstract_interface(CDRReader.java:1606)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.CDRReader.read_abstract_interface(CDRReader.java:1591)\r\n\t&gt;&gt;\t at ilog.rules.res.session.impl.ejb3._EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.execute(_EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.java:100)\r\n\t&gt;&gt;\t at ilog.rules.res.session.impl.ejb3._EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie._invoke(_EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.java)\r\n\t&gt;&gt;\t at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\r\n\t&gt;&gt;\t at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.ORB.process(ORB.java:523)\r\n\t&gt;&gt;\t at com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:3039)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2922)\r\n\t&gt;&gt;\t at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\r\n\t&gt;&gt;\t at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\r\n\t&gt;&gt;\t at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1815)\r\n\t&gt;&gt; SERVER (id=614476eb, host=gamlwm000t01.esunbank.com.tw) TRACE END.\r\n\r\n\r\nI have search the soulution about this quest on Internet\r\n\r\nGame.java\r\n\r\n    package com.siork.cdd;\r\n\r\n    import java.io.Serializable;\r\n\r\n    import ilog.rules.bom.annotations.BusinessName;\r\n\r\n    public class Game implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tpublic static String GAME = &quot;GAME&quot;;\r\n\tprivate int banker_point;\r\n\tprivate int player_point;\r\n\tprivate String winner;\r\n\t\r\n\tpublic Game() {}\r\n\t\r\n\tpublic Game(@BusinessName(&quot;BANKER&quot;) int banker_point,\r\n\t\t\t\t@BusinessName(&quot;PLAYER&quot;) int player_point) {\r\n\t\tthis.banker_point = banker_point;\r\n\t\tthis.player_point = player_point;\r\n\t}\r\n\tpublic int getBanker_point() {\r\n\t\treturn banker_point;\r\n\t}\r\n\tpublic void setBanker_point(int banker_point) {\r\n\t\tthis.banker_point = banker_point;\r\n\t}\r\n\tpublic int getPlayer_point() {\r\n\t\treturn player_point;\r\n\t}\r\n\tpublic void setPlayer_point(int player_point) {\r\n\t\tthis.player_point = player_point;\r\n\t}\r\n\tpublic String getWinner() {\r\n\t\treturn winner;\r\n\t}\r\n\tpublic void setWinner(String winner) {\r\n\t\tthis.winner = winner;\r\n\t}\r\n    }\r\n","title":"CORBA MARSHAL 0x4942f896, Unable to read value from underlying bridge : ClassNotFoundException","body":"<p>I want to execute rules on Rule Execution Server from a Java stand-alone client using an EJB3 rule session.</p>\n\n<pre><code>public class TestGameExecute {\npublic static void main(String[] args) {\n    Map&lt;String,Object&gt; inputParameters = new HashMap&lt;String, Object&gt;();\n    Map&lt;String,Object&gt; resMap = null;\n    IlrEJB3SessionFactory ejbSF;\n    IlrStatelessSession rs;\n\n    Game game = new Game(10,3);\n    inputParameters.put(\"GAME\", game);\n    Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;String, String&gt;();\n    jndiProperties.put(\"java.naming.provider.url\", \"corbaloc:iiop:********\");\n    jndiProperties.put(\"java.naming.factory.initial\", \"com.ibm.websphere.naming.WsnInitialContextFactory\");\n    jndiProperties.put(\"java.naming.security.principal\", \"username\");\n    jndiProperties.put(\"java.naming.security.credentials\", \"password\");\n\n\n\n    try {\n        ejbSF = new IlrEJB3SessionFactory(jndiProperties);\n        ejbSF.setRemote(true);\n        ejbSF.setStatelessRemoteJndiName(\"ilog.rules.res.session.impl.ejb3.IlrStatelessSessionRemote\");\n        rs = ejbSF.createStatelessSession();\n        IlrSessionRequest request = ejbSF.createRequest();\n        request.setRulesetPath(new IlrPath(\"/GAMLCDDRuleAppPhaseII/SiorkCDDRuleProject_PhaseII\"));\n        request.setInputParameters(inputParameters);\n        request.setForceUptodate(true);\n        request.setTraceEnabled(true);\n        request.getTraceFilter().setInfoAllFilters(true);\n        IlrSessionResponse response = rs.execute(request);\n        resMap = response.getOutputParameters();\n        Game retGame =(Game)resMap.get(\"GAME\");\n        System.out.println(retGame.getWinner());\n\n    } catch (IlrSessionCreationException e) {\n        e.printStackTrace();\n    } catch (IlrSessionException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>And I get this error below:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Exception in thread \"P=421238:O=0:CT\" java.rmi.MarshalException: CORBA MARSHAL 0x4942f896 No; nested exception is: \n        org.omg.CORBA.MARSHAL: \n    SERVER (id=614476eb, host=gamlwm000t01.esunbank.com.tw) TRACE START:\n       org.omg.CORBA.MARSHAL: Unable to read value from underlying bridge : Unable to read value from underlying bridge : ClassNotFoundException com.siork.cdd.Game  vmcid: IBM  minor code: 896  completed: No\n      at com.ibm.rmi.iiop.CDRReader.read_value(CDRReader.java:1649)\n      at com.ibm.rmi.iiop.CDRReader.read_abstract_interface(CDRReader.java:1606)\n      at com.ibm.rmi.iiop.CDRReader.read_abstract_interface(CDRReader.java:1591)\n      at ilog.rules.res.session.impl.ejb3._EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.execute(_EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.java:100)\n      at ilog.rules.res.session.impl.ejb3._EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie._invoke(_EJSRemote0SLIlrStatelessSessionEJB3_fdcc75a4_Tie.java)\n      at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\n      at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\n      at com.ibm.rmi.iiop.ORB.process(ORB.java:523)\n      at com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\n      at com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:3039)\n      at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2922)\n      at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\n      at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\n      at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1815)\n    SERVER (id=614476eb, host=gamlwm000t01.esunbank.com.tw) TRACE END.</p>\n  </blockquote>\n</blockquote>\n\n<p>I have search the soulution about this quest on Internet</p>\n\n<p>Game.java</p>\n\n<pre><code>package com.siork.cdd;\n\nimport java.io.Serializable;\n\nimport ilog.rules.bom.annotations.BusinessName;\n\npublic class Game implements Serializable {\nprivate static final long serialVersionUID = 1L;\npublic static String GAME = \"GAME\";\nprivate int banker_point;\nprivate int player_point;\nprivate String winner;\n\npublic Game() {}\n\npublic Game(@BusinessName(\"BANKER\") int banker_point,\n            @BusinessName(\"PLAYER\") int player_point) {\n    this.banker_point = banker_point;\n    this.player_point = player_point;\n}\npublic int getBanker_point() {\n    return banker_point;\n}\npublic void setBanker_point(int banker_point) {\n    this.banker_point = banker_point;\n}\npublic int getPlayer_point() {\n    return player_point;\n}\npublic void setPlayer_point(int player_point) {\n    this.player_point = player_point;\n}\npublic String getWinner() {\n    return winner;\n}\npublic void setWinner(String winner) {\n    this.winner = winner;\n}\n}\n</code></pre>\n"},{"tags":["java","merge","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1694043822,"post_id":77055804,"comment_id":135840980,"body_markdown":"`map2.forEach((t3, t1) -&gt; result.put(t3, map1.get(t1)));`","body":"<code>map2.forEach((t3, t1) -&gt; result.put(t3, map1.get(t1)));</code>"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":0,"creation_date":1694043856,"post_id":77055804,"comment_id":135840982,"body_markdown":"One way I can think of is iterating over the entries of the second map `(Map&lt;Type3, Type1&gt;)` and using the values `(Type1)` to look up the corresponding values `(Type2)` in the first map `(Map&lt;Type1, Type2&gt;)`","body":"One way I can think of is iterating over the entries of the second map <code>(Map&lt;Type3, Type1&gt;)</code> and using the values <code>(Type1)</code> to look up the corresponding values <code>(Type2)</code> in the first map <code>(Map&lt;Type1, Type2&gt;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694044165,"creation_date":1694044165,"answer_id":77055828,"question_id":77055804,"body_markdown":"One way I can think of is iterating over the entries of the second map `(Map&lt;Type3, Type1&gt;)` and using the values `(Type1)` to look up the corresponding values `(Type2)` in the first map `(Map&lt;Type1, Type2&gt;)`\r\n```java\r\nMap&lt;Type3, Type2&gt; result = new HashMap&lt;&gt;();\r\nfor (Map.Entry&lt;Type3, Type1&gt; entry : map2.entrySet()) {\r\n    Type3 key = entry.getKey();\r\n    Type1 value = entry.getValue();\r\n    Type2 otherValue = map1.get(value);\r\n    result.put(key, otherValue);\r\n}\r\n```","title":"Merge two map with different types","body":"<p>One way I can think of is iterating over the entries of the second map <code>(Map&lt;Type3, Type1&gt;)</code> and using the values <code>(Type1)</code> to look up the corresponding values <code>(Type2)</code> in the first map <code>(Map&lt;Type1, Type2&gt;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Type3, Type2&gt; result = new HashMap&lt;&gt;();\nfor (Map.Entry&lt;Type3, Type1&gt; entry : map2.entrySet()) {\n    Type3 key = entry.getKey();\n    Type1 value = entry.getValue();\n    Type2 otherValue = map1.get(value);\n    result.put(key, otherValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694094676,"creation_date":1694055370,"answer_id":77056333,"question_id":77055804,"body_markdown":"`containsValue` is very expensive; it&#39;s a full loop. So _definitely_ do not do that.\r\n\r\nCollecting into a map requires that you design a function that turns a stream element into a key, _and_ a second function that turns a stream element into a value. That&#39;s not very difficult here. T3 remains, it&#39;s just that the value of your T3-&gt;T1 map needs to be adjusted.\r\n\r\n```\r\nimport java.util.AbstractMap.SimpleImmutableEntry;\r\n\r\nMap&lt;Type3, Type1&gt; map1 = ...;\r\nMap&lt;Type1, Type2&gt; map2 = ...;\r\n\r\nMap&lt;Type3, Type2&gt; result = map1.entrySet().stream()\r\n  .map(entry -&gt; new SimpleImmutableEntry&lt;&gt;(entry.getKey(), map2.get(entry.getValue())))\r\n  .filter(entry -&gt; entry.getValue() != null)\r\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```\r\n\r\nThis:\r\n\r\n* goes through every K/V pair in your T3-&gt;T1 map.\r\n* Turns each such pair into a T3-&gt;T2 pair instead, by looking up the T1 value in the T1-&gt;T2 map.\r\n* Assuming you want any k/v pairs in the T3-&gt;T1 map where the value _is not_ in the T1-&gt;T2 map to just be removed, we then filter it out, (ab)using `null` as a go-between. We could have filtered with `.filter(entry -&gt; map2.containsKey(entry.getValue())` too, but this way we save 1 lookup.\r\n* These map entries are already exactly what we want, so we just reconstitute that back into a map.\r\n","title":"Merge two map with different types","body":"<p><code>containsValue</code> is very expensive; it's a full loop. So <em>definitely</em> do not do that.</p>\n<p>Collecting into a map requires that you design a function that turns a stream element into a key, <em>and</em> a second function that turns a stream element into a value. That's not very difficult here. T3 remains, it's just that the value of your T3-&gt;T1 map needs to be adjusted.</p>\n<pre><code>import java.util.AbstractMap.SimpleImmutableEntry;\n\nMap&lt;Type3, Type1&gt; map1 = ...;\nMap&lt;Type1, Type2&gt; map2 = ...;\n\nMap&lt;Type3, Type2&gt; result = map1.entrySet().stream()\n  .map(entry -&gt; new SimpleImmutableEntry&lt;&gt;(entry.getKey(), map2.get(entry.getValue())))\n  .filter(entry -&gt; entry.getValue() != null)\n  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>This:</p>\n<ul>\n<li>goes through every K/V pair in your T3-&gt;T1 map.</li>\n<li>Turns each such pair into a T3-&gt;T2 pair instead, by looking up the T1 value in the T1-&gt;T2 map.</li>\n<li>Assuming you want any k/v pairs in the T3-&gt;T1 map where the value <em>is not</em> in the T1-&gt;T2 map to just be removed, we then filter it out, (ab)using <code>null</code> as a go-between. We could have filtered with <code>.filter(entry -&gt; map2.containsKey(entry.getValue())</code> too, but this way we save 1 lookup.</li>\n<li>These map entries are already exactly what we want, so we just reconstitute that back into a map.</li>\n</ul>\n"}],"owner":{"account_id":8339920,"reputation":27,"user_id":6265531,"accept_rate":20,"display_name":"Bourg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77056333,"answer_count":2,"score":0,"last_activity_date":1694094676,"creation_date":1694043630,"question_id":77055804,"body_markdown":"I hope all is good for you.\r\n\r\nI have two maps Map&lt;Type1, Type2&gt; and a Map&lt;Type3, Type1&gt;. I want to merge them and have at the end a Map&lt;Type3, Type2&gt;.\r\n\r\nHow can I do that? I make this code but the result is Map&lt;Type1, Type2&gt;\r\n\r\n    Map&lt;Type3, Type2&gt; result =\r\n        Stream.of(map1.keySet(), map2.values())\r\n            .flatMap(Collection::stream)\r\n            .toList()\r\n            .stream()\r\n            .filter(\r\n                id -&gt;\r\n                    map1.containsKey(id)\r\n                        &amp;&amp; map2.containsValue(id))\r\n            .collect(\r\n                Collectors.toMap(\r\n                    map2::get,\r\n                    map1::get,\r\n                    (v1, v2) -&gt; StringUtils.isNotEmpty(v1) ? v1 : v2));\r\n\r\nThanks for your help.","title":"Merge two map with different types","body":"<p>I hope all is good for you.</p>\n<p>I have two maps Map&lt;Type1, Type2&gt; and a Map&lt;Type3, Type1&gt;. I want to merge them and have at the end a Map&lt;Type3, Type2&gt;.</p>\n<p>How can I do that? I make this code but the result is Map&lt;Type1, Type2&gt;</p>\n<pre><code>Map&lt;Type3, Type2&gt; result =\n    Stream.of(map1.keySet(), map2.values())\n        .flatMap(Collection::stream)\n        .toList()\n        .stream()\n        .filter(\n            id -&gt;\n                map1.containsKey(id)\n                    &amp;&amp; map2.containsValue(id))\n        .collect(\n            Collectors.toMap(\n                map2::get,\n                map1::get,\n                (v1, v2) -&gt; StringUtils.isNotEmpty(v1) ? v1 : v2));\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1538335858,"post_id":52581404,"comment_id":92097945,"body_markdown":"What do you want to do with the file once you&#39;ve created it?","body":"What do you want to do with the file once you&#39;ve created it?"},{"owner":{"account_id":13982215,"reputation":319,"user_id":10098103,"display_name":"Terence Lyu"},"score":0,"creation_date":1538336068,"post_id":52581404,"comment_id":92098017,"body_markdown":"Either leave it as an empty file or write some lines to it.","body":"Either leave it as an empty file or write some lines to it."}],"answers":[{"tags":[],"owner":{"account_id":1869340,"reputation":7103,"user_id":1691980,"accept_rate":20,"display_name":"Bruno Caceiro"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1538336456,"creation_date":1538336456,"answer_id":52581496,"question_id":52581404,"body_markdown":"FileWriter has a constructor that takes 2 parameters too: The file name and a boolean. The boolean indicates whether to append or overwrite an existing file. Here are two Java FileWriter examples showing that:\r\n\r\n    Writer fileWriter = new FileWriter(&quot;c:\\\\data\\\\output.txt&quot;, true);  //appends to file\r\n    \r\n    Writer fileWriter = new FileWriter(&quot;c:\\\\data\\\\output.txt&quot;, false); //overwrites file\r\n\r\n","title":"Java create a new file, or, override the existing file","body":"<p>FileWriter has a constructor that takes 2 parameters too: The file name and a boolean. The boolean indicates whether to append or overwrite an existing file. Here are two Java FileWriter examples showing that:</p>\n\n<pre><code>Writer fileWriter = new FileWriter(\"c:\\\\data\\\\output.txt\", true);  //appends to file\n\nWriter fileWriter = new FileWriter(\"c:\\\\data\\\\output.txt\", false); //overwrites file\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5648618,"reputation":3627,"user_id":4469944,"accept_rate":50,"display_name":"S.K."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538336489,"creation_date":1538336489,"answer_id":52581499,"question_id":52581404,"body_markdown":"You can use a suitable `Writer`:\r\n    \r\n    BufferedWriter br = new BufferedWriter(new FileWriter(new File(&quot;abc.txt&quot;)));\r\n    br.write(&quot;some text&quot;);\r\n\r\nIt will create a file abc.txt if it doesn&#39;t exist. If it does, it will overwrite the file.\r\n\r\nYou can also open the file in append mode by using another constructor of FileWriter:\r\n\r\n    BufferedWriter br = new BufferedWriter(new FileWriter(new File(&quot;abc.txt&quot;), true));\r\n    br.write(&quot;some text&quot;);\r\n\r\nThe documentation for above constructor says:\r\n\r\n&gt; Constructs a FileWriter object given a File object. If the second\r\n&gt; argument is true, then bytes will be written to the end of the file\r\n&gt; rather than the beginning.","title":"Java create a new file, or, override the existing file","body":"<p>You can use a suitable <code>Writer</code>:</p>\n\n<pre><code>BufferedWriter br = new BufferedWriter(new FileWriter(new File(\"abc.txt\")));\nbr.write(\"some text\");\n</code></pre>\n\n<p>It will create a file abc.txt if it doesn't exist. If it does, it will overwrite the file.</p>\n\n<p>You can also open the file in append mode by using another constructor of FileWriter:</p>\n\n<pre><code>BufferedWriter br = new BufferedWriter(new FileWriter(new File(\"abc.txt\"), true));\nbr.write(\"some text\");\n</code></pre>\n\n<p>The documentation for above constructor says:</p>\n\n<blockquote>\n  <p>Constructs a FileWriter object given a File object. If the second\n  argument is true, then bytes will be written to the end of the file\n  rather than the beginning.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538336536,"creation_date":1538336536,"answer_id":52581509,"question_id":52581404,"body_markdown":"Calling [`File#createNewFile`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createNewFile--) is safe, assuming the path is valid and you have write permissions on it. If a file already exists with that name, it will just return false:\r\n\r\n    File f = new File(&quot;myfile.txt&quot;);\r\n    if (f.createNewFile()) {\r\n        // If there wasn&#39;t a file there beforehand, there is one now.\r\n    } else {\r\n       // If there was, no harm, no foul\r\n    }\r\n    \r\n    // And now you can use it.","title":"Java create a new file, or, override the existing file","body":"<p>Calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#createNewFile--\" rel=\"nofollow noreferrer\"><code>File#createNewFile</code></a> is safe, assuming the path is valid and you have write permissions on it. If a file already exists with that name, it will just return false:</p>\n\n<pre><code>File f = new File(\"myfile.txt\");\nif (f.createNewFile()) {\n    // If there wasn't a file there beforehand, there is one now.\n} else {\n   // If there was, no harm, no foul\n}\n\n// And now you can use it.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694094178,"creation_date":1694094178,"answer_id":77060155,"question_id":52581404,"body_markdown":"**Java 7** introduced the `java.nio.file` package which includes the very useful `Files` class. This class provides the `write` method that does precisely what you&#39;re looking for. To save a file or overwrite an existing one, you can use the following command:\r\n```java\r\nFiles.write(file, bytes);\r\n```\r\nPlease note that the variable `path` here is of type `Path`. If you&#39;re using an instance of the `File` class, you may need to convert it to a `Path` using:\r\n```java\r\nFiles.write(file.toPath(), bytes);\r\n```\r\n\r\nYou can read more about this method [here](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-byte:A-java.nio.file.OpenOption...-):\r\n&gt; In other words, it opens the file for writing, creating the file if it doesn&#39;t exist\r\n\r\nHere&#39;s a test that demonstrates the method works as expected:\r\n```java\r\n@Test\r\nvoid createsOrOverwrites(@TempDir final Path temp) throws IOException {\r\n    final Path text = temp.resolve(&quot;hello.txt&quot;);\r\n    Files.write(\r\n        text,\r\n        &quot;Hello, world!&quot;.getBytes(StandardCharsets.UTF_8)\r\n    );\r\n    Assertions.assertTrue(Files.exists(text), &quot;File should be created&quot;);\r\n    Assertions.assertEquals(\r\n        &quot;Hello, world!&quot;,\r\n        Files.readAllLines(text).get(0),\r\n        &quot;File should contain correct text&quot;\r\n    );\r\n    Files.write(\r\n        text,\r\n        &quot;I love StackOverflow!&quot;.getBytes(StandardCharsets.UTF_8)\r\n    );\r\n    Assertions.assertEquals(\r\n        &quot;I love StackOverflow!&quot;,\r\n        Files.readAllLines(text).get(0),\r\n        &quot;File should be overwritten&quot;\r\n    );\r\n}\r\n```","title":"Java create a new file, or, override the existing file","body":"<p><strong>Java 7</strong> introduced the <code>java.nio.file</code> package which includes the very useful <code>Files</code> class. This class provides the <code>write</code> method that does precisely what you're looking for. To save a file or overwrite an existing one, you can use the following command:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.write(file, bytes);\n</code></pre>\n<p>Please note that the variable <code>path</code> here is of type <code>Path</code>. If you're using an instance of the <code>File</code> class, you may need to convert it to a <code>Path</code> using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.write(file.toPath(), bytes);\n</code></pre>\n<p>You can read more about this method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#write-java.nio.file.Path-byte:A-java.nio.file.OpenOption...-\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>In other words, it opens the file for writing, creating the file if it doesn't exist</p>\n</blockquote>\n<p>Here's a test that demonstrates the method works as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid createsOrOverwrites(@TempDir final Path temp) throws IOException {\n    final Path text = temp.resolve(&quot;hello.txt&quot;);\n    Files.write(\n        text,\n        &quot;Hello, world!&quot;.getBytes(StandardCharsets.UTF_8)\n    );\n    Assertions.assertTrue(Files.exists(text), &quot;File should be created&quot;);\n    Assertions.assertEquals(\n        &quot;Hello, world!&quot;,\n        Files.readAllLines(text).get(0),\n        &quot;File should contain correct text&quot;\n    );\n    Files.write(\n        text,\n        &quot;I love StackOverflow!&quot;.getBytes(StandardCharsets.UTF_8)\n    );\n    Assertions.assertEquals(\n        &quot;I love StackOverflow!&quot;,\n        Files.readAllLines(text).get(0),\n        &quot;File should be overwritten&quot;\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":13982215,"reputation":319,"user_id":10098103,"display_name":"Terence Lyu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31884,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":52581496,"answer_count":4,"score":18,"last_activity_date":1694094178,"creation_date":1538335782,"question_id":52581404,"body_markdown":"What I want to achieve is to create a file regardless of whether the file exists or not.\r\n\r\nI tried using `File.createNewFile()` but that will only create the file if it does not already exists. Should I use `File.delete()` and then `File.createNewFile()`?\r\n\r\nOr is there a clearer way of doing it?","title":"Java create a new file, or, override the existing file","body":"<p>What I want to achieve is to create a file regardless of whether the file exists or not.</p>\n\n<p>I tried using <code>File.createNewFile()</code> but that will only create the file if it does not already exists. Should I use <code>File.delete()</code> and then <code>File.createNewFile()</code>?</p>\n\n<p>Or is there a clearer way of doing it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15888447,"reputation":1197,"user_id":11464237,"display_name":"Domenico Sibilio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651781197,"creation_date":1651781197,"answer_id":72133052,"question_id":72132951,"body_markdown":"I assume the writer of the article is simply trying to make a point of catching the most specific exceptions first, then the more generic ones. This is not just a best practice, but a Java language requirement as the code won&#39;t compile otherwise due to having defined unreachable code blocks.\r\n\r\nIn the particular code block quoted by you, it&#39;s not necessary and you might as well just catch `IOException`, since `FileNotFoundException` extends it + the behaviour to be expected once an exception is caught is exactly the same.","title":"Why catch specific Java exceptions unless specific handling is needed?","body":"<p>I assume the writer of the article is simply trying to make a point of catching the most specific exceptions first, then the more generic ones. This is not just a best practice, but a Java language requirement as the code won't compile otherwise due to having defined unreachable code blocks.</p>\n<p>In the particular code block quoted by you, it's not necessary and you might as well just catch <code>IOException</code>, since <code>FileNotFoundException</code> extends it + the behaviour to be expected once an exception is caught is exactly the same.</p>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694093653,"creation_date":1651782467,"answer_id":72133267,"question_id":72132951,"body_markdown":"Given that in that particular example there is no difference in handling exceptions, there is no utility in making distinction between them. As FileNotFoundException is IOException subtype, catching only IOException would be just fine.\r\n\r\nNow, in general, if you do not know how to handle catched exception. Do not push orginal exception on caller of your method. Do not add &quot;throws Something&quot; to method signature. Don&#39;t even bother to log exception unless you are able to add specific causes of the exception. The thing you should do is to rethrown them as RuntimeException. Like this example:\r\n\r\n    public void automaticallyCloseResource() {\r\n        File file = new File(&quot;./tmp.txt&quot;);\r\n        try (FileInputStream inputStream = new FileInputStream(file);) {\r\n            // use the inputStream to read a file\r\n        }\r\n        catch (IOException e) {\r\n           throw new RuntimeException(&quot;An error handling &#39;./tmp.txt&#39;&quot;, e);\r\n        }\r\n    }\r\n\r\n**So what is the logic in this?**\r\n\r\nIf you do not know how to handle this IOException right here right now - any caller of your method is going to have even less knowledge how to handle it. Thus you should not not bother people with unnecessary boiler plate, abd that is why there is no &quot;throws IOException&quot; clause. Instead catched exception is wrapped by aditional RuntimeException. There is also no logging of us doing so.\r\n\r\n**And who is going to handle that RuntimeException?**\r\n\r\nWell every thread in code should have a top level exception handler. Nothing smart, just a generic handler: \r\n\r\n    try {\r\n      // my app code here\r\n    } \r\n    catch(MyCustomException exc) {\r\n      // do smart stuff here\r\n    }\r\n    catch(RuntimeExceptio exc) {\r\n      log.error(&quot;An unexpected has happened&quot;, exc);\r\n      // rethrow or consume here\r\n    }\r\n\r\nThus logging of &quot;unrecoverable&quot; exceptions is postponed to the highest catch level. Usual practice of loging and rehtrowing exceptions only leads to logs being polluted with same exception multiple times. Given that all Java exceptions carry perfect information where they were raised, unless you can add useful stuff to log, don&#39;t bother to log them except on top level. \r\n\r\n**And finally why shouldn&#39;t you catch all Exceptions, Errors or Throwables?**\r\n\r\nAgain, as general advice, your code should catch (and rethrow) only exceptions which are directly raised by code you invoked. Generic Exception/Throwable block will catch all other exceptions which you have no chance to handle properly. System stuff like OutOfMemoryException. Those exceptions are unrecoverable and you tempting with them will only lead to your application being less stable and harder to debug.\r\n\r\n","title":"Why catch specific Java exceptions unless specific handling is needed?","body":"<p>Given that in that particular example there is no difference in handling exceptions, there is no utility in making distinction between them. As FileNotFoundException is IOException subtype, catching only IOException would be just fine.</p>\n<p>Now, in general, if you do not know how to handle catched exception. Do not push orginal exception on caller of your method. Do not add &quot;throws Something&quot; to method signature. Don't even bother to log exception unless you are able to add specific causes of the exception. The thing you should do is to rethrown them as RuntimeException. Like this example:</p>\n<pre><code>public void automaticallyCloseResource() {\n    File file = new File(&quot;./tmp.txt&quot;);\n    try (FileInputStream inputStream = new FileInputStream(file);) {\n        // use the inputStream to read a file\n    }\n    catch (IOException e) {\n       throw new RuntimeException(&quot;An error handling './tmp.txt'&quot;, e);\n    }\n}\n</code></pre>\n<p><strong>So what is the logic in this?</strong></p>\n<p>If you do not know how to handle this IOException right here right now - any caller of your method is going to have even less knowledge how to handle it. Thus you should not not bother people with unnecessary boiler plate, abd that is why there is no &quot;throws IOException&quot; clause. Instead catched exception is wrapped by aditional RuntimeException. There is also no logging of us doing so.</p>\n<p><strong>And who is going to handle that RuntimeException?</strong></p>\n<p>Well every thread in code should have a top level exception handler. Nothing smart, just a generic handler:</p>\n<pre><code>try {\n  // my app code here\n} \ncatch(MyCustomException exc) {\n  // do smart stuff here\n}\ncatch(RuntimeExceptio exc) {\n  log.error(&quot;An unexpected has happened&quot;, exc);\n  // rethrow or consume here\n}\n</code></pre>\n<p>Thus logging of &quot;unrecoverable&quot; exceptions is postponed to the highest catch level. Usual practice of loging and rehtrowing exceptions only leads to logs being polluted with same exception multiple times. Given that all Java exceptions carry perfect information where they were raised, unless you can add useful stuff to log, don't bother to log them except on top level.</p>\n<p><strong>And finally why shouldn't you catch all Exceptions, Errors or Throwables?</strong></p>\n<p>Again, as general advice, your code should catch (and rethrow) only exceptions which are directly raised by code you invoked. Generic Exception/Throwable block will catch all other exceptions which you have no chance to handle properly. System stuff like OutOfMemoryException. Those exceptions are unrecoverable and you tempting with them will only lead to your application being less stable and harder to debug.</p>\n"},{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651782771,"creation_date":1651782771,"answer_id":72133327,"question_id":72132951,"body_markdown":"You&#39;re right that this is pointless as written.\r\n\r\nThey should probably have written `log.error(&quot;TODO: Handle FileNotFound&quot;, e);` or `// TODO: Handle missing files` so that you wouldn&#39;t be tempted to think that `log.error(e);` is the end goal rather than a stand-in. \r\n\r\nIt makes more sense when you look at the suggested rewrite:\r\n\r\n```\r\npublic void closeResourceInFinally() {\r\n    FileInputStream inputStream = null;\r\n    try {\r\n        File file = new File(&quot;./tmp.txt&quot;);\r\n        inputStream = new FileInputStream(file);\r\n\r\n        // use the inputStream to read a file\r\n\r\n    } catch (FileNotFoundException e) {\r\n        log.error(e);\r\n    } finally {\r\n        if (inputStream != null) {\r\n            try {\r\n                inputStream.close();\r\n            } catch (IOException e) {\r\n                log.error(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt appears that the author wanted to catch a `FileNotFoundException` while initializing, and an `IOException` while closing.\r\n\r\nIf the first example had only caught the `IOException` because it would amount to the same, wouldn&#39;t you have asked &quot;wait, why does it suddenly catch FileNotFoundException now?&quot;\r\n\r\nBy including both in the original example, it&#39;s easier to see how the first maps to the second.","title":"Why catch specific Java exceptions unless specific handling is needed?","body":"<p>You're right that this is pointless as written.</p>\n<p>They should probably have written <code>log.error(&quot;TODO: Handle FileNotFound&quot;, e);</code> or <code>// TODO: Handle missing files</code> so that you wouldn't be tempted to think that <code>log.error(e);</code> is the end goal rather than a stand-in.</p>\n<p>It makes more sense when you look at the suggested rewrite:</p>\n<pre><code>public void closeResourceInFinally() {\n    FileInputStream inputStream = null;\n    try {\n        File file = new File(&quot;./tmp.txt&quot;);\n        inputStream = new FileInputStream(file);\n\n        // use the inputStream to read a file\n\n    } catch (FileNotFoundException e) {\n        log.error(e);\n    } finally {\n        if (inputStream != null) {\n            try {\n                inputStream.close();\n            } catch (IOException e) {\n                log.error(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>It appears that the author wanted to catch a <code>FileNotFoundException</code> while initializing, and an <code>IOException</code> while closing.</p>\n<p>If the first example had only caught the <code>IOException</code> because it would amount to the same, wouldn't you have asked &quot;wait, why does it suddenly catch FileNotFoundException now?&quot;</p>\n<p>By including both in the original example, it's easier to see how the first maps to the second.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652002366,"creation_date":1651783819,"answer_id":72133495,"question_id":72132951,"body_markdown":"For the given sample, having two `catch` blocks is really redundant, yes. It could easily handled in one single `catch` block for `IOException`.\r\n\r\nBut let&#39;s assume we have a method like this:\r\n\r\n```java\r\npublic final Optional&lt;Status&gt; doSomething( final String... arguments )\r\n  throws IOException, SQLException, PatternSyntaxException\r\n{\r\n  …\r\n}\r\n```\r\n\r\nWe don&#39;t care what the method is really doing, we just assume that it will not check the `arguments` for `null` – meaning we can see a `NullPointerException` under some circumstances.\r\n\r\nLet&#39;s use that method now, with the error handling that you suggest:\r\n\r\n```java\r\ntry\r\n{\r\n  final var status = doSomething( arguments ).get();  \r\n}\r\ncatch( final Exception e ) // Not good!\r\n{\r\n  handleExpectedException( e );\r\n}\r\n```\r\n\r\nLooks perfectly ok – but `handleExcpectedException()` may be called with some &#39;unexpected&#39; exceptions, too: with a `NullPointerException` or with a `NoSuchElementException`.\r\n\r\nOk, second attempt:\r\n\r\n```java\r\ntry\r\n{\r\n  final var status = doSomething( arguments ).get();  \r\n}\r\ncatch( final IOException e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\ncatch( final SQLException e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\ncatch( final PatternSyntaxException e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\ncatch( final NullPointerException e )\r\n{\r\n  handleUnexpectedException( e );\r\n}\r\ncatch( final NoSuchElementException e )\r\n{\r\n  handleUnexpectedException( e );\r\n}\r\n```\r\n\r\nConfessed, that&#39;s a lot of lines, for nearly nothing. Therefore Java 5 (or Java 6?) introduced a way to combine the `catch` for multiple exceptions that are handled the same way:\r\n\r\n```java\r\ntry\r\n{\r\n  final var status = doSomething( arguments ).get();  \r\n}\r\ncatch( final IOException | SQLException | PatternSyntaxException e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\ncatch( final NullPointerException | NoSuchElementException e )\r\n{\r\n  handleUnexpectedException( e );\r\n}\r\n```\r\n\r\nBut why do we want to list the exceptions at all? Why not just having two categories and handle them like this:\r\n\r\n```java\r\ntry\r\n{\r\n  final var status = doSomething( arguments ).get();  \r\n}\r\ncatch( final RuntimeException e )\r\n{\r\n  handleUnexpectedException( e );\r\n}\r\ncatch( final Exception e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\n```\r\n\r\nThat&#39;s because we want that unexpected exceptions will bubble up when they occur! We want (at least, I want) that a program, that behaves completely unexpected, will fail fast! And loud!\r\n\r\nThe `throws` clause in the signature of `doSomething()` tells us, that it may throw three different types of exceptions (and usually, the respective documentation will tell us, why). So we can prepare our code to handle them. Just log them and terminate is the easiest way, but perhaps we know how to recover from the error condition and can retry, or we have an alternative processing, or whatever.\r\n\r\nBut the `NullPointerException` either indicates that there is a programming bug in the code of `doSomething()`, or we have not read the documentation properly and fed a `null` into it. Both is nothing that can be fixed during runtime.\r\n\r\nAnd the `NoSuchElementException` is clearly caused by a bug in our code: `doSomething()` returns an instance of `Optional`, and that can be empty; calling `Optional::get` on the result without checking it is definitely a bug! And I want to see this bug soon, in order to be able to fix it soon!\r\n\r\nA `catch` block for `Exception` may swallow these exceptions and they will never surface – and I will never find the reason why my program returns sometimes unexpected results …\r\n\r\n---\r\n\r\nSo the recommendation is to catch only those exceptions that are expected at this level (either they are declared with a `throws` clause or described in the documentation) and that could be handled in the current `catch` block.\r\n\r\nTo &#39;handle&#39; an exception means that the system is brought back into a stable state!\r\n\r\nLogging a `FileNotFoundException` in the `catch` block and then continuing after that `catch` block like the (non-existing!) file was found and opened is calling for desaster!\r\n\r\nIf you just catch an exception locally because you want to enrich the error message, you should not log it; just wrap it and re-throw:\r\n\r\n```java\r\n…\r\ncatch( final FileNotFoundException e )\r\n{\r\n  final var message = &quot;MatrixReport output file %s could not be found!&quot;.formatted( e.getMessage() );\r\n  throw new MyApplicationError( message, e );\r\n}\r\n```\r\n\r\nSo finally, when I would use `doSomething()` (without fixing the already mentioned bugs), my code may look like this (assuming that the `FileNotFoundException` is documented):\r\n\r\n```java\r\ntry\r\n{\r\n  final var status = doSomething( arguments ).get();  \r\n}\r\ncatch( final FileNotFoundException e )\r\n{\r\n  final var message = &quot;MatrixReport output file %s could not be found!&quot;.formatted( e.getMessage() );\r\n  throw new MyApplicationError( message, e );\r\n}\r\ncatch( final IOException | SQLException | PatternSyntaxException e )\r\n{\r\n  handleExpectedException( e );\r\n}\r\n```\r\n\r\n---\r\n\r\nOk, we handle only exceptions that we can handle, and let the rest bubbling up … but who will now take care of these exceptions?\r\n\r\nWhen this happens in the main thread, the exception that terminates it will be printed to `stdout`. Great! And what about the other threads?\r\n\r\nUsually, these will die silently …\r\n\r\nSo you quite often see the recommendations to have a `catch` block for `RuntimeException` in a thread&#39;s `run()` method, like this:\r\n\r\n```java\r\npublic final void run()\r\n{\r\n  try\r\n  {\r\n    // Do this thread&#39;s work …\r\n  }\r\n  catch( final RuntimeException e )\r\n  {\r\n    log.error( e );\r\n  }\r\n}  \r\n```\r\n\r\nBut this can be achieved easier: you can set an `UncaughtExceptionHandler` instance to the `Thread`! See [the JavaDoc][1]. You can do this even implicitly by assigning the thread to a specific [`ThreadGroup`][2] that provides an `UncaughtExceptionHandler` (you have to implement your own class that extends `ThreadGroup` for that), or you have a [`ThreadFactory`][3] that does the assigning for you …\r\n\r\n---\r\n\r\nOh, before I forget: I introduced `handleExpectedException()` for a reason, instead of simply using `log.error()`: if you do not fix the status that is indicated by the exception, you may not continue the regular flow of the code! Logging an exception is ***not*** handling it!\r\n\r\nThis means `handleException()` will not return regularly in most cases; perhaps it throws an instance of `MyApplicationError`, too, or it will call `System::exit` (really nasty when you are in a web application … don&#39;t do it!) or whatever is appropriate …\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html","title":"Why catch specific Java exceptions unless specific handling is needed?","body":"<p>For the given sample, having two <code>catch</code> blocks is really redundant, yes. It could easily handled in one single <code>catch</code> block for <code>IOException</code>.</p>\n<p>But let's assume we have a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final Optional&lt;Status&gt; doSomething( final String... arguments )\n  throws IOException, SQLException, PatternSyntaxException\n{\n  …\n}\n</code></pre>\n<p>We don't care what the method is really doing, we just assume that it will not check the <code>arguments</code> for <code>null</code> – meaning we can see a <code>NullPointerException</code> under some circumstances.</p>\n<p>Let's use that method now, with the error handling that you suggest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n  final var status = doSomething( arguments ).get();  \n}\ncatch( final Exception e ) // Not good!\n{\n  handleExpectedException( e );\n}\n</code></pre>\n<p>Looks perfectly ok – but <code>handleExcpectedException()</code> may be called with some 'unexpected' exceptions, too: with a <code>NullPointerException</code> or with a <code>NoSuchElementException</code>.</p>\n<p>Ok, second attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n  final var status = doSomething( arguments ).get();  \n}\ncatch( final IOException e )\n{\n  handleExpectedException( e );\n}\ncatch( final SQLException e )\n{\n  handleExpectedException( e );\n}\ncatch( final PatternSyntaxException e )\n{\n  handleExpectedException( e );\n}\ncatch( final NullPointerException e )\n{\n  handleUnexpectedException( e );\n}\ncatch( final NoSuchElementException e )\n{\n  handleUnexpectedException( e );\n}\n</code></pre>\n<p>Confessed, that's a lot of lines, for nearly nothing. Therefore Java 5 (or Java 6?) introduced a way to combine the <code>catch</code> for multiple exceptions that are handled the same way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n  final var status = doSomething( arguments ).get();  \n}\ncatch( final IOException | SQLException | PatternSyntaxException e )\n{\n  handleExpectedException( e );\n}\ncatch( final NullPointerException | NoSuchElementException e )\n{\n  handleUnexpectedException( e );\n}\n</code></pre>\n<p>But why do we want to list the exceptions at all? Why not just having two categories and handle them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n  final var status = doSomething( arguments ).get();  \n}\ncatch( final RuntimeException e )\n{\n  handleUnexpectedException( e );\n}\ncatch( final Exception e )\n{\n  handleExpectedException( e );\n}\n</code></pre>\n<p>That's because we want that unexpected exceptions will bubble up when they occur! We want (at least, I want) that a program, that behaves completely unexpected, will fail fast! And loud!</p>\n<p>The <code>throws</code> clause in the signature of <code>doSomething()</code> tells us, that it may throw three different types of exceptions (and usually, the respective documentation will tell us, why). So we can prepare our code to handle them. Just log them and terminate is the easiest way, but perhaps we know how to recover from the error condition and can retry, or we have an alternative processing, or whatever.</p>\n<p>But the <code>NullPointerException</code> either indicates that there is a programming bug in the code of <code>doSomething()</code>, or we have not read the documentation properly and fed a <code>null</code> into it. Both is nothing that can be fixed during runtime.</p>\n<p>And the <code>NoSuchElementException</code> is clearly caused by a bug in our code: <code>doSomething()</code> returns an instance of <code>Optional</code>, and that can be empty; calling <code>Optional::get</code> on the result without checking it is definitely a bug! And I want to see this bug soon, in order to be able to fix it soon!</p>\n<p>A <code>catch</code> block for <code>Exception</code> may swallow these exceptions and they will never surface – and I will never find the reason why my program returns sometimes unexpected results …</p>\n<hr />\n<p>So the recommendation is to catch only those exceptions that are expected at this level (either they are declared with a <code>throws</code> clause or described in the documentation) and that could be handled in the current <code>catch</code> block.</p>\n<p>To 'handle' an exception means that the system is brought back into a stable state!</p>\n<p>Logging a <code>FileNotFoundException</code> in the <code>catch</code> block and then continuing after that <code>catch</code> block like the (non-existing!) file was found and opened is calling for desaster!</p>\n<p>If you just catch an exception locally because you want to enrich the error message, you should not log it; just wrap it and re-throw:</p>\n<pre class=\"lang-java prettyprint-override\"><code>…\ncatch( final FileNotFoundException e )\n{\n  final var message = &quot;MatrixReport output file %s could not be found!&quot;.formatted( e.getMessage() );\n  throw new MyApplicationError( message, e );\n}\n</code></pre>\n<p>So finally, when I would use <code>doSomething()</code> (without fixing the already mentioned bugs), my code may look like this (assuming that the <code>FileNotFoundException</code> is documented):</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n  final var status = doSomething( arguments ).get();  \n}\ncatch( final FileNotFoundException e )\n{\n  final var message = &quot;MatrixReport output file %s could not be found!&quot;.formatted( e.getMessage() );\n  throw new MyApplicationError( message, e );\n}\ncatch( final IOException | SQLException | PatternSyntaxException e )\n{\n  handleExpectedException( e );\n}\n</code></pre>\n<hr />\n<p>Ok, we handle only exceptions that we can handle, and let the rest bubbling up … but who will now take care of these exceptions?</p>\n<p>When this happens in the main thread, the exception that terminates it will be printed to <code>stdout</code>. Great! And what about the other threads?</p>\n<p>Usually, these will die silently …</p>\n<p>So you quite often see the recommendations to have a <code>catch</code> block for <code>RuntimeException</code> in a thread's <code>run()</code> method, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void run()\n{\n  try\n  {\n    // Do this thread's work …\n  }\n  catch( final RuntimeException e )\n  {\n    log.error( e );\n  }\n}  \n</code></pre>\n<p>But this can be achieved easier: you can set an <code>UncaughtExceptionHandler</code> instance to the <code>Thread</code>! See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)\" rel=\"nofollow noreferrer\">the JavaDoc</a>. You can do this even implicitly by assigning the thread to a specific <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\"><code>ThreadGroup</code></a> that provides an <code>UncaughtExceptionHandler</code> (you have to implement your own class that extends <code>ThreadGroup</code> for that), or you have a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadFactory.html\" rel=\"nofollow noreferrer\"><code>ThreadFactory</code></a> that does the assigning for you …</p>\n<hr />\n<p>Oh, before I forget: I introduced <code>handleExpectedException()</code> for a reason, instead of simply using <code>log.error()</code>: if you do not fix the status that is indicated by the exception, you may not continue the regular flow of the code! Logging an exception is <em><strong>not</strong></em> handling it!</p>\n<p>This means <code>handleException()</code> will not return regularly in most cases; perhaps it throws an instance of <code>MyApplicationError</code>, too, or it will call <code>System::exit</code> (really nasty when you are in a web application … don't do it!) or whatever is appropriate …</p>\n"}],"owner":{"account_id":377829,"reputation":11388,"user_id":730194,"accept_rate":61,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1694093653,"creation_date":1651780621,"question_id":72132951,"body_markdown":"Here is the code taken from https://dzone.com/articles/9-best-practices-to-handle-exceptions-in-java\r\n\r\n    public void automaticallyCloseResource() {\r\n        File file = new File(&quot;./tmp.txt&quot;);\r\n        try (FileInputStream inputStream = new FileInputStream(file);) {\r\n            // use the inputStream to read a file\r\n\r\n        } catch (FileNotFoundException e) {\r\n            log.error(e);\r\n        } catch (IOException e) {\r\n            log.error(e);\r\n        }\r\n    }\r\n\r\nIf all the catch handlers are essentially doing the same, I don&#39;t see why we catch each specific exception separately instead of simply catching the generic base Exception class.\r\n\r\nEssentially, if you are not looking for properties/methods/anything of the specific exception, why not just catch the generic Exception?","title":"Why catch specific Java exceptions unless specific handling is needed?","body":"<p>Here is the code taken from <a href=\"https://dzone.com/articles/9-best-practices-to-handle-exceptions-in-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/9-best-practices-to-handle-exceptions-in-java</a></p>\n<pre><code>public void automaticallyCloseResource() {\n    File file = new File(&quot;./tmp.txt&quot;);\n    try (FileInputStream inputStream = new FileInputStream(file);) {\n        // use the inputStream to read a file\n\n    } catch (FileNotFoundException e) {\n        log.error(e);\n    } catch (IOException e) {\n        log.error(e);\n    }\n}\n</code></pre>\n<p>If all the catch handlers are essentially doing the same, I don't see why we catch each specific exception separately instead of simply catching the generic base Exception class.</p>\n<p>Essentially, if you are not looking for properties/methods/anything of the specific exception, why not just catch the generic Exception?</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694093630,"creation_date":1694093630,"answer_id":77060087,"question_id":77059772,"body_markdown":"The container automatically acks recovered messages (even with manual ack mode) by default (since 2.5.3).\r\n\r\n```java\r\n/**\r\n * Set to false to prevent the container from committing the offset of a recovered\r\n * record (when the error handler does not itself throw an exception).\r\n * @param ack false to not commit.\r\n */\r\ndefault void setAckAfterHandle(boolean ack) {\r\n```\r\n","title":"Kafka listener - Is it possible to acknowledge message in DefaultErrorHandler , when ACK mode is set to MANUAL_IMMEDIATE","body":"<p>The container automatically acks recovered messages (even with manual ack mode) by default (since 2.5.3).</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set to false to prevent the container from committing the offset of a recovered\n * record (when the error handler does not itself throw an exception).\n * @param ack false to not commit.\n */\ndefault void setAckAfterHandle(boolean ack) {\n</code></pre>\n"}],"owner":{"account_id":29289685,"reputation":35,"user_id":22440483,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77060087,"answer_count":1,"score":0,"last_activity_date":1694093630,"creation_date":1694091051,"question_id":77059772,"body_markdown":"I created kafka listener with `ACK mode` set to `MANUAL_IMMEDIATE`.\r\n\r\nI&#39;m using DefaultErrorHandler and DeadLetterPublishingRecoverer to retry message few times and if it still fails send it to other topic.\r\n\r\n    BackOff fixedBackOff = new FixedBackOff(2000, 3);\r\n    DeadLetterPublishingRecoverer recoverer = new DeadLetterPublishingRecoverer(kafkaTemplate,\r\n                (kafkaRecord, exception) -&gt; new TopicPartition(&quot;OTHER-TOPIC&quot;, kafkaRecord.partition()));\r\n    DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler(recoverer, fixedBackOff);\r\n\r\nIs it possible to acknowledge failed message after I send it to other topic. \r\nI don&#39;t want to have duplicates or lost messages.\r\n\r\n\r\nI tried to pass Acknowledgment object in exception - but original exception is replaced by  ListenerExecutionFailedException.\r\n\r\nAlso I found that `setRecoveryCallback` method is **Deprecated**.","title":"Kafka listener - Is it possible to acknowledge message in DefaultErrorHandler , when ACK mode is set to MANUAL_IMMEDIATE","body":"<p>I created kafka listener with <code>ACK mode</code> set to <code>MANUAL_IMMEDIATE</code>.</p>\n<p>I'm using DefaultErrorHandler and DeadLetterPublishingRecoverer to retry message few times and if it still fails send it to other topic.</p>\n<pre><code>BackOff fixedBackOff = new FixedBackOff(2000, 3);\nDeadLetterPublishingRecoverer recoverer = new DeadLetterPublishingRecoverer(kafkaTemplate,\n            (kafkaRecord, exception) -&gt; new TopicPartition(&quot;OTHER-TOPIC&quot;, kafkaRecord.partition()));\nDefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler(recoverer, fixedBackOff);\n</code></pre>\n<p>Is it possible to acknowledge failed message after I send it to other topic.\nI don't want to have duplicates or lost messages.</p>\n<p>I tried to pass Acknowledgment object in exception - but original exception is replaced by  ListenerExecutionFailedException.</p>\n<p>Also I found that <code>setRecoveryCallback</code> method is <strong>Deprecated</strong>.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1694088029,"post_id":77059336,"comment_id":135846810,"body_markdown":"Welcome to dependency hell :/ You could build exclusions for the transitive dependencies, but then you have to hope the newer versions are backwards compatible.","body":"Welcome to dependency hell :/ You could build exclusions for the transitive dependencies, but then you have to hope the newer versions are backwards compatible."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1694088169,"post_id":77059336,"comment_id":135846849,"body_markdown":"Maven can hold multiple versions of the same library, that is not the problem. The problem is that your pom requires directly (or transitively) multiple versions of a library. Then the classloader chooses (at random) a version. And that will not work.","body":"Maven can hold multiple versions of the same library, that is not the problem. The problem is that your pom requires directly (or transitively) multiple versions of a library. Then the classloader chooses (at random) a version. And that will not work."},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1694088779,"post_id":77059336,"comment_id":135846986,"body_markdown":"How can I build exclusions when both versions are directly (at least from the dep tree looks like it) coming from `com.example.xtext.ide`?","body":"How can I build exclusions when both versions are directly (at least from the dep tree looks like it) coming from <code>com.example.xtext.ide</code>?"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1694088946,"post_id":77059336,"comment_id":135847024,"body_markdown":"Actual the version where `0.9.0` is included from, `com.example.xtext.ide` is a dependency on `com.example.xtext.ui`! So I need to add the exclusions in this project","body":"Actual the version where <code>0.9.0</code> is included from, <code>com.example.xtext.ide</code> is a dependency on <code>com.example.xtext.ui</code>! So I need to add the exclusions in this project"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1694093252,"post_id":77059336,"comment_id":135847960,"body_markdown":"Finally works now, please see edit 3.","body":"Finally works now, please see edit 3."},{"owner":{"account_id":899065,"reputation":11808,"user_id":935687,"display_name":"Christian Dietrich"},"score":0,"creation_date":1694524997,"post_id":77059336,"comment_id":135900082,"body_markdown":"is there a reason you are still on these quite old versions?","body":"is there a reason you are still on these quite old versions?"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1694525317,"post_id":77059336,"comment_id":135900185,"body_markdown":"as I explained in the edit 1 and edit 2, I am having issues with dependencies. So after some trial and error, these versions worked and I left it at that.","body":"as I explained in the edit 1 and edit 2, I am having issues with dependencies. So after some trial and error, these versions worked and I left it at that."}],"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694093232,"creation_date":1694087297,"question_id":77059336,"body_markdown":"I have xtext language server project configured to build with maven. I am trying to use [SocketServerLauncher.java](https://github.com/eclipse/xtext/blob/main/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/SocketServerLauncher.java) to debug my server. But I get the following error: \r\n```\r\njava.lang.NoSuchMethodError: &#39;boolean org.eclipse.xtext.xbase.lib.ArrayExtensions.contains(java.lang.Object[], java.lang.Object)&#39;\r\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.getTrace(SocketServerLauncher.java:85)\r\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:64)\r\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\r\n```\r\nwhich I tried to explain in [this](https://stackoverflow.com/questions/77052620/java-lang-nosuchmethoderror-boolean-org-eclipse-xtext-xbase-lib-arrayextension) question. I realized that `contains` function was introduced in `ArrayExtensions` in version `2.20`. But the `org.eclipse.lsp4j` version I had mentioned in pom.xml was `0.9.0`, which gave the following dependency graph:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo it was using `2.19.0`. So I updated the version of `org.eclipse.lsp4j` to `0.21.0`. After which I got some `NoClassDefFoundError` related to `guava` and `xtext.xbase.lib`. So I added the following in my pom.xml\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.xtext&lt;/groupId&gt;\r\n  &lt;artifactId&gt;org.eclipse.xtext.xbase.lib&lt;/artifactId&gt;\r\n  &lt;version&gt;2.32.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwhich also includes `guava`. So now my dependency hierarchy looks like\r\n[![enter image description here][2]][2]\r\n\r\nBut now I get a new runtime error:\r\n```\r\nException in thread &quot;main&quot; com.google.inject.internal.util.$ComputationException: com.google.inject.internal.util.$ComputationException: java.lang.NoClassDefFoundError: org/eclipse/lsp4j/SemanticHighlightingParams\r\n\tat com.google.inject.internal.util.$MapMaker$StrategyImpl.compute(MapMaker.java:553)\r\n\tat com.google.inject.internal.util.$MapMaker$StrategyImpl.compute(MapMaker.java:419)\r\n\tat com.google.inject.internal.util.$CustomConcurrentHashMap$ComputingImpl.get(CustomConcurrentHashMap.java:2041)\r\n\tat com.google.inject.internal.FailableCache.get(FailableCache.java:50)\r\n\tat com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:49)\r\n\tat com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:125)\r\n\tat com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:521)\r\n\tat com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:847)\r\n\tat com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:772)\r\n\tat com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:256)\r\n\tat com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:205)\r\n\tat com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:853)\r\n\tat com.google.inject.internal.FactoryProxy.notify(FactoryProxy.java:46)\r\n\tat com.google.inject.internal.ProcessedBindingData.runCreationListeners(ProcessedBindingData.java:50)\r\n\tat com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:133)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:106)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:95)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:72)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:62)\r\n\tat org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:56)\r\n\tat org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\r\n```\r\nBut `org/eclipse/lsp4j/SemanticHighlightingParams` was [deprecated](https://www.javadoc.io/static/org.eclipse.lsp4j/org.eclipse.lsp4j/0.9.0/deprecated-list.html) after `0.9.0`. So I am guessing `google-inject` is trying to load `0.9.0` version of `org.eclipse.lsp4j`, even though in my pom.xml I have specified `0.21.0`. Am I on the right track? Do I need to delete the pool and let maven download again? Or there could be another place where the conflict is coming from?\r\n\r\n**Edit 1:** I just inspected the dependency tree with\r\n```\r\nmvn dependency:tree\r\n```\r\nAnd I get a conflict. In one section of the output, I get\r\n```\r\n[[1;34mINFO[m] +- com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT:provided\r\n[[1;34mINFO[m] |  +- log4j:log4j:jar:1.2.17:compile\r\n[[1;34mINFO[m] |  +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.10.0:compile\r\n[[1;34mINFO[m] |  |  +- org.eclipse.lsp4j:org.eclipse.lsp4j.generator:jar:0.10.0:compile\r\n[[1;34mINFO[m] |  |  |  \\- org.eclipse.xtend:org.eclipse.xtend.lib:jar:2.19.0:compile\r\n[[1;34mINFO[m] |  |  |     \\- org.eclipse.xtend:org.eclipse.xtend.lib.macro:jar:2.19.0:compile\r\n```\r\nand in another section, I get the output:\r\n```\r\n[[1;34mINFO[m] com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT\r\n[[1;34mINFO[m] +- log4j:log4j:jar:1.2.17:compile\r\n[[1;34mINFO[m] +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.21.0:compile\r\n[[1;34mINFO[m] |  \\- org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:jar:0.10.0:compile\r\n[[1;34mINFO[m] |     \\- com.google.code.gson:gson:jar:2.8.2:compile\r\n```\r\n\r\n**Edit 2:** I added exclusions in 2 projects which might have been including the wrong version of `org.eclipse.lsp4j` with the following:\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t   &lt;groupId&gt;com.example.xtext&lt;/groupId&gt;\r\n\t\t   &lt;artifactId&gt;com.example.xtext.ide&lt;/artifactId&gt;\r\n\t\t   &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t   &lt;exclusions&gt;\r\n\t\t      &lt;exclusion&gt;\r\n\t\t        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\r\n\t\t      &lt;/exclusion&gt;\r\n\t\t    &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nAnd this is only place where I see `org.eclipse.lsp4j` being included in the `dependency:tree`\r\n```\r\n[[1;34mINFO[m] com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT\r\n[[1;34mINFO[m] +- log4j:log4j:jar:1.2.17:compile\r\n[[1;34mINFO[m] +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.21.0:compile\r\n[[1;34mINFO[m] |  \\- org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:jar:0.10.0:compile\r\n[[1;34mINFO[m] |     \\- com.google.code.gson:gson:jar:2.8.2:compile\r\n```\r\nBut I still get the same error. Also in the &quot;Effective POM&quot; tab, I see the problematic versions:\r\n```xml\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.lsp4j.generator&lt;/artifactId&gt;\r\n        &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.lsp4j.jsonrpc&lt;/artifactId&gt;\r\n        &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.lsp4j.websocket&lt;/artifactId&gt;\r\n        &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\r\n        &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\nWhere is this &quot;Effective POM&quot; calculated from?\r\n\r\n**Edit 3:** Finally worked!!! I reverted `org.eclipse.lsp4j` version back to `0.9.0` and reduced the version for `org.eclipse.xtext.xbase.lib` (no specific reason as such, was just trying whatever I could):\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.xtext&lt;/groupId&gt;\r\n  &lt;artifactId&gt;org.eclipse.xtext.xbase.lib&lt;/artifactId&gt;\r\n  &lt;version&gt;2.26.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd now finally I get the desired output once the VC Code client starts\r\n```\r\n0    [main] INFO  ext.ide.server.SocketServerLauncher  - Started server socket at /0.0.0.0:5008\r\n11962 [main] INFO  ext.ide.server.SocketServerLauncher  - Starting Xtext Language Server for client /127.0.0.1:47742\r\n12020 [main] INFO  ext.ide.server.SocketServerLauncher  - Xtext Language Server has been started.\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/J3mTP.png\r\n  [2]: https://i.stack.imgur.com/QcjbQ.png","title":"Conflict of maven dependencies","body":"<p>I have xtext language server project configured to build with maven. I am trying to use <a href=\"https://github.com/eclipse/xtext/blob/main/org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/SocketServerLauncher.java\" rel=\"nofollow noreferrer\">SocketServerLauncher.java</a> to debug my server. But I get the following error:</p>\n<pre><code>java.lang.NoSuchMethodError: 'boolean org.eclipse.xtext.xbase.lib.ArrayExtensions.contains(java.lang.Object[], java.lang.Object)'\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.getTrace(SocketServerLauncher.java:85)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:64)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\n</code></pre>\n<p>which I tried to explain in <a href=\"https://stackoverflow.com/questions/77052620/java-lang-nosuchmethoderror-boolean-org-eclipse-xtext-xbase-lib-arrayextension\">this</a> question. I realized that <code>contains</code> function was introduced in <code>ArrayExtensions</code> in version <code>2.20</code>. But the <code>org.eclipse.lsp4j</code> version I had mentioned in pom.xml was <code>0.9.0</code>, which gave the following dependency graph:</p>\n<p><a href=\"https://i.stack.imgur.com/J3mTP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J3mTP.png\" alt=\"enter image description here\" /></a></p>\n<p>So it was using <code>2.19.0</code>. So I updated the version of <code>org.eclipse.lsp4j</code> to <code>0.21.0</code>. After which I got some <code>NoClassDefFoundError</code> related to <code>guava</code> and <code>xtext.xbase.lib</code>. So I added the following in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.xtext&lt;/groupId&gt;\n  &lt;artifactId&gt;org.eclipse.xtext.xbase.lib&lt;/artifactId&gt;\n  &lt;version&gt;2.32.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>which also includes <code>guava</code>. So now my dependency hierarchy looks like\n<a href=\"https://i.stack.imgur.com/QcjbQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QcjbQ.png\" alt=\"enter image description here\" /></a></p>\n<p>But now I get a new runtime error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.inject.internal.util.$ComputationException: com.google.inject.internal.util.$ComputationException: java.lang.NoClassDefFoundError: org/eclipse/lsp4j/SemanticHighlightingParams\n    at com.google.inject.internal.util.$MapMaker$StrategyImpl.compute(MapMaker.java:553)\n    at com.google.inject.internal.util.$MapMaker$StrategyImpl.compute(MapMaker.java:419)\n    at com.google.inject.internal.util.$CustomConcurrentHashMap$ComputingImpl.get(CustomConcurrentHashMap.java:2041)\n    at com.google.inject.internal.FailableCache.get(FailableCache.java:50)\n    at com.google.inject.internal.ConstructorInjectorStore.get(ConstructorInjectorStore.java:49)\n    at com.google.inject.internal.ConstructorBindingImpl.initialize(ConstructorBindingImpl.java:125)\n    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:521)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:847)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:772)\n    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:256)\n    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:205)\n    at com.google.inject.internal.InjectorImpl.getInternalFactory(InjectorImpl.java:853)\n    at com.google.inject.internal.FactoryProxy.notify(FactoryProxy.java:46)\n    at com.google.inject.internal.ProcessedBindingData.runCreationListeners(ProcessedBindingData.java:50)\n    at com.google.inject.internal.InternalInjectorCreator.initializeStatically(InternalInjectorCreator.java:133)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:106)\n    at com.google.inject.Guice.createInjector(Guice.java:95)\n    at com.google.inject.Guice.createInjector(Guice.java:72)\n    at com.google.inject.Guice.createInjector(Guice.java:62)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.launch(SocketServerLauncher.java:56)\n    at org.eclipse.xtext.ide.server.SocketServerLauncher.main(SocketServerLauncher.java:52)\n</code></pre>\n<p>But <code>org/eclipse/lsp4j/SemanticHighlightingParams</code> was <a href=\"https://www.javadoc.io/static/org.eclipse.lsp4j/org.eclipse.lsp4j/0.9.0/deprecated-list.html\" rel=\"nofollow noreferrer\">deprecated</a> after <code>0.9.0</code>. So I am guessing <code>google-inject</code> is trying to load <code>0.9.0</code> version of <code>org.eclipse.lsp4j</code>, even though in my pom.xml I have specified <code>0.21.0</code>. Am I on the right track? Do I need to delete the pool and let maven download again? Or there could be another place where the conflict is coming from?</p>\n<p><strong>Edit 1:</strong> I just inspected the dependency tree with</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>And I get a conflict. In one section of the output, I get</p>\n<pre><code>[[1;34mINFO[m] +- com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT:provided\n[[1;34mINFO[m] |  +- log4j:log4j:jar:1.2.17:compile\n[[1;34mINFO[m] |  +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.10.0:compile\n[[1;34mINFO[m] |  |  +- org.eclipse.lsp4j:org.eclipse.lsp4j.generator:jar:0.10.0:compile\n[[1;34mINFO[m] |  |  |  \\- org.eclipse.xtend:org.eclipse.xtend.lib:jar:2.19.0:compile\n[[1;34mINFO[m] |  |  |     \\- org.eclipse.xtend:org.eclipse.xtend.lib.macro:jar:2.19.0:compile\n</code></pre>\n<p>and in another section, I get the output:</p>\n<pre><code>[[1;34mINFO[m] com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT\n[[1;34mINFO[m] +- log4j:log4j:jar:1.2.17:compile\n[[1;34mINFO[m] +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.21.0:compile\n[[1;34mINFO[m] |  \\- org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:jar:0.10.0:compile\n[[1;34mINFO[m] |     \\- com.google.code.gson:gson:jar:2.8.2:compile\n</code></pre>\n<p><strong>Edit 2:</strong> I added exclusions in 2 projects which might have been including the wrong version of <code>org.eclipse.lsp4j</code> with the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.example.xtext&lt;/groupId&gt;\n           &lt;artifactId&gt;com.example.xtext.ide&lt;/artifactId&gt;\n           &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n           &lt;exclusions&gt;\n              &lt;exclusion&gt;\n                &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n                &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\n              &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And this is only place where I see <code>org.eclipse.lsp4j</code> being included in the <code>dependency:tree</code></p>\n<pre><code>[[1;34mINFO[m] com.example.xtext:com.example.xtext.ide:eclipse-plugin:1.0.0-SNAPSHOT\n[[1;34mINFO[m] +- log4j:log4j:jar:1.2.17:compile\n[[1;34mINFO[m] +- org.eclipse.lsp4j:org.eclipse.lsp4j:jar:0.21.0:compile\n[[1;34mINFO[m] |  \\- org.eclipse.lsp4j:org.eclipse.lsp4j.jsonrpc:jar:0.10.0:compile\n[[1;34mINFO[m] |     \\- com.google.code.gson:gson:jar:2.8.2:compile\n</code></pre>\n<p>But I still get the same error. Also in the &quot;Effective POM&quot; tab, I see the problematic versions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.lsp4j.generator&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.lsp4j.jsonrpc&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.lsp4j.websocket&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\n        &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Where is this &quot;Effective POM&quot; calculated from?</p>\n<p><strong>Edit 3:</strong> Finally worked!!! I reverted <code>org.eclipse.lsp4j</code> version back to <code>0.9.0</code> and reduced the version for <code>org.eclipse.xtext.xbase.lib</code> (no specific reason as such, was just trying whatever I could):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.xtext&lt;/groupId&gt;\n  &lt;artifactId&gt;org.eclipse.xtext.xbase.lib&lt;/artifactId&gt;\n  &lt;version&gt;2.26.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And now finally I get the desired output once the VC Code client starts</p>\n<pre><code>0    [main] INFO  ext.ide.server.SocketServerLauncher  - Started server socket at /0.0.0.0:5008\n11962 [main] INFO  ext.ide.server.SocketServerLauncher  - Starting Xtext Language Server for client /127.0.0.1:47742\n12020 [main] INFO  ext.ide.server.SocketServerLauncher  - Xtext Language Server has been started.\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16506297,"reputation":142,"user_id":11926246,"display_name":"Gaurav Gupta"},"score":1,"creation_date":1573201194,"post_id":58762339,"comment_id":103811952,"body_markdown":"It&#39;s too hard to read your question description. As far as i can figure out it seems to be an issue of unavailable library in your classpath.","body":"It&#39;s too hard to read your question description. As far as i can figure out it seems to be an issue of unavailable library in your classpath."},{"owner":{"account_id":9276717,"reputation":4625,"user_id":6889177,"display_name":"Ojasvi Monga"},"score":0,"creation_date":1573201889,"post_id":58762339,"comment_id":103812190,"body_markdown":"please format your code and try to post a specific question","body":"please format your code and try to post a specific question"}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694092318,"creation_date":1694092318,"answer_id":77059931,"question_id":58762339,"body_markdown":"Your WAR file &quot;AlMadinaLibraryServices.war&quot; is missing several dependencies. You have to add at least groovy and spring framework / Spring-Boot dependencies.\r\n\r\n    java.lang.NoClassDefFoundError: groovy/text/markup/TemplateConfiguration\r\n    java.lang.ClassNotFoundException: groovy.text.markup.TemplateConfiguration \r\n    \r\n    java.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\r\n    java.lang.ClassNotFoundException: org.springframework.dao.DataAccessException \r\n\r\nBut probably more stuff is missing. Maybe before you do this you familiarize yourself with the overall topic of spring boot, WAR files and so on...\r\n","title":"Problems deploying spring boot project on wildfly server","body":"<p>Your WAR file &quot;AlMadinaLibraryServices.war&quot; is missing several dependencies. You have to add at least groovy and spring framework / Spring-Boot dependencies.</p>\n<pre><code>java.lang.NoClassDefFoundError: groovy/text/markup/TemplateConfiguration\njava.lang.ClassNotFoundException: groovy.text.markup.TemplateConfiguration \n\njava.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\njava.lang.ClassNotFoundException: org.springframework.dao.DataAccessException \n</code></pre>\n<p>But probably more stuff is missing. Maybe before you do this you familiarize yourself with the overall topic of spring boot, WAR files and so on...</p>\n"}],"owner":{"account_id":15371564,"reputation":36,"user_id":11089453,"display_name":"Muhammad bux"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694092318,"creation_date":1573198660,"question_id":58762339,"body_markdown":"During deployment of a spring boot project on a wildfly server the following errors are thrown. So how can these errors be resolved?\r\n\r\n\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: groovy/text/markup/TemplateConfiguration\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(Unknown Source)\r\n            at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:353)\r\n            at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:432)\r\n            ... 50 more\r\n    Caused by: java.lang.ClassNotFoundException: groovy.text.markup.TemplateConfiguration from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\r\n            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\r\n            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\r\n            ... 54 more\r\n    \r\n    \r\n    \r\n    Caused by: java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n            at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:515)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:498)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:431)\r\n            ... 30 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:128)\r\n            at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n            ... 36 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.dao.DataAccessException from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\r\n            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\r\n            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\r\n            ... 38 more\r\n    \r\n    \r\n    Caused by: java.lang.RuntimeException: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: VFS resource [&quot;/D:/wildfly-9.0.2.Final/bin/content/AlMadinaLibraryServices.war/WEB-INF/lib/spring-boot-autoconfigure-2.2.0.RELEASE.jar/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration.class&quot;]; nested exception is java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:224)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)\r\n            ... 6 more\r\n    Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: VFS resource [&quot;/D:/wildfly-9.0.2.Final/bin/content/AlMadinaLibraryServices.war/WEB-INF/lib/spring-boot-autoconfigure-2.2.0.RELEASE.jar/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration.class&quot;]; nested exception is java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n            at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n            at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:290)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\r\n            at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\r\n            at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n            at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n            at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:152)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:132)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:92)\r\n            at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:184)\r\n            ... 8 more\r\n    Caused by: java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n            at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88)\r\n            at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:515)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:498)\r\n            at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:431)\r\n            ... 30 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:128)\r\n            at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n            ... 36 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.dao.DataAccessException from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\r\n            at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\r\n            at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\r\n            at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\r\n            ... 38 more","title":"Problems deploying spring boot project on wildfly server","body":"<p>During deployment of a spring boot project on a wildfly server the following errors are thrown. So how can these errors be resolved?</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: groovy/text/markup/TemplateConfiguration\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:353)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:432)\n        ... 50 more\nCaused by: java.lang.ClassNotFoundException: groovy.text.markup.TemplateConfiguration from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\n        ... 54 more\n\n\n\nCaused by: java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:515)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:498)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:431)\n        ... 30 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:128)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 36 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.dao.DataAccessException from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\n        ... 38 more\n\n\nCaused by: java.lang.RuntimeException: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: VFS resource [&quot;/D:/wildfly-9.0.2.Final/bin/content/AlMadinaLibraryServices.war/WEB-INF/lib/spring-boot-autoconfigure-2.2.0.RELEASE.jar/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration.class&quot;]; nested exception is java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:224)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:100)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:82)\n        ... 6 more\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: VFS resource [&quot;/D:/wildfly-9.0.2.Final/bin/content/AlMadinaLibraryServices.war/WEB-INF/lib/spring-boot-autoconfigure-2.2.0.RELEASE.jar/org/springframework/boot/autoconfigure/jdbc/DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration.class&quot;]; nested exception is java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:290)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:152)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:132)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:92)\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:184)\n        ... 8 more\nCaused by: java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration due to org/springframework/dao/DataAccessException not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88)\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:515)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:498)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:431)\n        ... 30 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/dao/DataAccessException\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:128)\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 36 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.dao.DataAccessException from [Module &quot;deployment.AlMadinaLibraryServices.war:main&quot; from Service Module Loader]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:205)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:455)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:404)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:385)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:130)\n        ... 38 more\n</code></pre>\n"},{"tags":["java","generics","type-erasure"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694090708,"post_id":77059689,"comment_id":135847370,"body_markdown":"Please share the missing classes (Drink, Fruit, Vegetable) and the missing variables (frutisRepository, etc). It is not possible to reproduce if the code is incomplete.","body":"Please share the missing classes (Drink, Fruit, Vegetable) and the missing variables (frutisRepository, etc). It is not possible to reproduce if the code is incomplete."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1694091387,"post_id":77059689,"comment_id":135847516,"body_markdown":"Generic type is erased and do not participate in creation of method signature, therefore `doIt(List&lt;X&gt;)` will collide with `doIt(List&lt;Y&gt;)` and will not compile as the signature is the same.","body":"Generic type is erased and do not participate in creation of method signature, therefore <code>doIt(List&lt;X&gt;)</code> will collide with <code>doIt(List&lt;Y&gt;)</code> and will not compile as the signature is the same."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694091986,"creation_date":1694091986,"answer_id":77059895,"question_id":77059689,"body_markdown":"Try it like this.  You need to declare type parameter to the left of the method and include it in the method arguments.  I used records to demo.\r\n\r\nYour original method contents would work just fine as long as fields like `code` etc are visible.\r\n```\r\npublic class GenericMethod {\r\n    record Fruit(int Id) {}\r\n    record Vegetable(int Id) {}\r\n    record Drink(int Id) {}\r\n \r\n    public static void main(String[] args) {\r\n        List&lt;Fruit&gt; fruits = List.of(new Fruit(20), new Fruit(30));\r\n        List&lt;Vegetable&gt; vegetables = List.of(new Vegetable(100), new Vegetable(200));\r\n        List&lt;Drink&gt; drinks = List.of(new Drink(2000), new Drink(3000));\r\n      \r\n        printObjectIds(()-&gt;fruits, Fruit::Id, &quot;Fruits&quot;);\r\n        printObjectIds(()-&gt;vegetables, Vegetable::Id, &quot;Vegetables&quot;);\r\n        printObjectIds(()-&gt;drinks, Drink::Id, &quot;Drinks&quot;);\r\n    }   \r\n\r\n    static &lt;T&gt; void printObjectIds(Supplier&lt;List&lt;T&gt;&gt; supplier, Function&lt;T, Integer&gt; function, String type) {\r\n        \r\n        List&lt;Integer&gt; objectIds = supplier.get()\r\n            .stream()\r\n            .map(function)\r\n            .toList();\r\n        System.out.println(objectIds);\r\n         \r\n    }\r\n}\r\n```\r\nprints\r\n```\r\n[20, 30]\r\n[100, 200]\r\n[2000, 3000]\r\n\r\n","title":"How to use Generics with Java Functional code","body":"<p>Try it like this.  You need to declare type parameter to the left of the method and include it in the method arguments.  I used records to demo.</p>\n<p>Your original method contents would work just fine as long as fields like <code>code</code> etc are visible.</p>\n<pre><code>public class GenericMethod {\n    record Fruit(int Id) {}\n    record Vegetable(int Id) {}\n    record Drink(int Id) {}\n \n    public static void main(String[] args) {\n        List&lt;Fruit&gt; fruits = List.of(new Fruit(20), new Fruit(30));\n        List&lt;Vegetable&gt; vegetables = List.of(new Vegetable(100), new Vegetable(200));\n        List&lt;Drink&gt; drinks = List.of(new Drink(2000), new Drink(3000));\n      \n        printObjectIds(()-&gt;fruits, Fruit::Id, &quot;Fruits&quot;);\n        printObjectIds(()-&gt;vegetables, Vegetable::Id, &quot;Vegetables&quot;);\n        printObjectIds(()-&gt;drinks, Drink::Id, &quot;Drinks&quot;);\n    }   \n\n    static &lt;T&gt; void printObjectIds(Supplier&lt;List&lt;T&gt;&gt; supplier, Function&lt;T, Integer&gt; function, String type) {\n        \n        List&lt;Integer&gt; objectIds = supplier.get()\n            .stream()\n            .map(function)\n            .toList();\n        System.out.println(objectIds);\n         \n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[20, 30]\n[100, 200]\n[2000, 3000]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694091997,"creation_date":1694091997,"answer_id":77059898,"question_id":77059689,"body_markdown":"&gt; I am struggling to use Generics in the second method, so that I can use it for any type instead of just Fruit\r\n\r\nTo use the same method type-safely for printing the IDs of unrelated object types, you need not only generic types, but to apply a type parameter to your method.  If it belongs to a generic class then possibly a type parameter of the class would be appropriate for the job, but even if not, you always have the option of making the method itself generic:\r\n```\r\nvoid &lt;T&gt; printObjectIds(Supplier&lt;List&lt;? extends T&gt;&gt; supplier,\r\n        Function&lt;T, Integer&gt; idFunction, String type) {\r\n    \r\n    List&lt;Integer&gt; objectIds = supplier.get()\r\n        .stream()\r\n        .map(idFunction)\r\n        .toList();\r\n\r\n    log.info(&quot;Type: {}&quot;, code)\r\n    objectIds.forEach(id -&gt; log.info(&quot;Items: {}&quot;, objectIds))       \r\n}\r\n```\r\n","title":"How to use Generics with Java Functional code","body":"<blockquote>\n<p>I am struggling to use Generics in the second method, so that I can use it for any type instead of just Fruit</p>\n</blockquote>\n<p>To use the same method type-safely for printing the IDs of unrelated object types, you need not only generic types, but to apply a type parameter to your method.  If it belongs to a generic class then possibly a type parameter of the class would be appropriate for the job, but even if not, you always have the option of making the method itself generic:</p>\n<pre><code>void &lt;T&gt; printObjectIds(Supplier&lt;List&lt;? extends T&gt;&gt; supplier,\n        Function&lt;T, Integer&gt; idFunction, String type) {\n    \n    List&lt;Integer&gt; objectIds = supplier.get()\n        .stream()\n        .map(idFunction)\n        .toList();\n\n    log.info(&quot;Type: {}&quot;, code)\n    objectIds.forEach(id -&gt; log.info(&quot;Items: {}&quot;, objectIds))       \n}\n</code></pre>\n"}],"owner":{"account_id":29387284,"reputation":23,"user_id":22516470,"display_name":"J Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77059895,"answer_count":2,"score":2,"last_activity_date":1694091997,"creation_date":1694090228,"question_id":77059689,"body_markdown":"I am trying to implement a simple method using Generics that first finds all records of specific type from repository, then we call getId() method to collect the ids and then print all ids for that type.\r\n\r\nI want to call that function for different types such as Fruits/Vegetables/Drinks\r\n\r\nMy sample code works for a single type but I am struggling to use Generics in the second method, so that I can use it for any type instead of just Fruit. Can someone please point me in the right direction?\r\n\r\n```\r\nvoid audit() {\r\n\t\r\n\tprintObjectIds(frutisRepository.findAll, Fruit::Id, &quot;Fruits&quot;)\r\n\tprintObjectIds(vegetablesRepository.findAll, Vegetable::Id, &quot;Vegetables&quot;)\r\n\tprintObjectIds(drinksRepository.findAll, Drink::Id, &quot;Drinks&quot;)\r\n}\r\n\r\nvoid printObjectIds(Supplier&lt;List&lt;Fruit&gt;&gt; supplier, Function&lt;Fruit, Integer&gt; function, String type) {\r\n\t\r\n\tList&lt;Integer&gt; objectIds = supplier.get()\r\n\t\t.stream()\r\n\t\t.map(function)\r\n\t\t.toList();\r\n\r\n\tlog.info(&quot;Type: {}&quot;, code)\r\n\tobjectIds.forEach(id -&gt; log.info(&quot;Items: {}&quot;, objectIds))\t\t\r\n}\r\n```\r\n\r\nThanks in advance\r\n\r\nTried the sample code attached and using type erasure but can&#39;t get it to work","title":"How to use Generics with Java Functional code","body":"<p>I am trying to implement a simple method using Generics that first finds all records of specific type from repository, then we call getId() method to collect the ids and then print all ids for that type.</p>\n<p>I want to call that function for different types such as Fruits/Vegetables/Drinks</p>\n<p>My sample code works for a single type but I am struggling to use Generics in the second method, so that I can use it for any type instead of just Fruit. Can someone please point me in the right direction?</p>\n<pre><code>void audit() {\n    \n    printObjectIds(frutisRepository.findAll, Fruit::Id, &quot;Fruits&quot;)\n    printObjectIds(vegetablesRepository.findAll, Vegetable::Id, &quot;Vegetables&quot;)\n    printObjectIds(drinksRepository.findAll, Drink::Id, &quot;Drinks&quot;)\n}\n\nvoid printObjectIds(Supplier&lt;List&lt;Fruit&gt;&gt; supplier, Function&lt;Fruit, Integer&gt; function, String type) {\n    \n    List&lt;Integer&gt; objectIds = supplier.get()\n        .stream()\n        .map(function)\n        .toList();\n\n    log.info(&quot;Type: {}&quot;, code)\n    objectIds.forEach(id -&gt; log.info(&quot;Items: {}&quot;, objectIds))       \n}\n</code></pre>\n<p>Thanks in advance</p>\n<p>Tried the sample code attached and using type erasure but can't get it to work</p>\n"},{"tags":["java","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694091615,"creation_date":1694090509,"answer_id":77059721,"question_id":77058906,"body_markdown":"I am using this way to read data from Redis cache:\r\n\r\n \r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    \r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;, unless = &quot;#result.followers &lt; 12000&quot;)\r\n    @RequestMapping(value=&quot;/{userId}&quot;, method = RequestMethod.GET)\r\n    public User getUser(@PathVariable String userId) {\r\n      LOG.info(&quot;Getting user with ID {}.&quot;, userId);\r\n      return userRepository.findOne(Long.valueOf(userId));\r\n    }\r\n\r\n\r\n","title":"How to read data from Redis cache and query it in Java?","body":"<p>I am using this way to read data from Redis cache:</p>\n<pre><code>@Autowired\nprivate UserRepository userRepository;\n\n@Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;, unless = &quot;#result.followers &lt; 12000&quot;)\n@RequestMapping(value=&quot;/{userId}&quot;, method = RequestMethod.GET)\npublic User getUser(@PathVariable String userId) {\n  LOG.info(&quot;Getting user with ID {}.&quot;, userId);\n  return userRepository.findOne(Long.valueOf(userId));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694091878,"creation_date":1694091878,"answer_id":77059877,"question_id":77058906,"body_markdown":"On plain java, create a RedisTemplate object and then, use it to query your information. \r\n\r\n    \t\r\n\tpublic JedisConnectionFactory jedisConnectionFactory() {\r\n\t\tRedisStandaloneConfiguration config = new RedisStandaloneConfiguration(host, port);\r\n\t\tconfig.setUsername(username);\r\n\t\tconfig.setPassword(password);\r\n\t\tconfig.setDatabase(db);\r\n\t\treturn new JedisConnectionFactory(config);\r\n\t}\r\n\r\n\t\r\n\tpublic RedisTemplate&lt;?, ?&gt; redisTemplate() {\r\n\t\tRedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\ttemplate.setKeySerializer(new GenericToStringSerializer&lt;String&gt;(String.class));\r\n\t\ttemplate.setValueSerializer(new GenericJackson2JsonRedisSerializer());\r\n\t\treturn template;\r\n\t}\r\n    \r\n\r\nFor example\r\n\r\n`redisTemplate.opsForValue().add(&quot;key&quot;, &quot;value&quot;)`\r\n\r\n","title":"How to read data from Redis cache and query it in Java?","body":"<p>On plain java, create a RedisTemplate object and then, use it to query your information.</p>\n<pre><code>public JedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration config = new RedisStandaloneConfiguration(host, port);\n    config.setUsername(username);\n    config.setPassword(password);\n    config.setDatabase(db);\n    return new JedisConnectionFactory(config);\n}\n\n\npublic RedisTemplate&lt;?, ?&gt; redisTemplate() {\n    RedisTemplate&lt;?, ?&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    template.setKeySerializer(new GenericToStringSerializer&lt;String&gt;(String.class));\n    template.setValueSerializer(new GenericJackson2JsonRedisSerializer());\n    return template;\n}\n</code></pre>\n<p>For example</p>\n<p><code>redisTemplate.opsForValue().add(&quot;key&quot;, &quot;value&quot;)</code></p>\n"}],"owner":{"account_id":19047336,"reputation":195,"user_id":13906258,"display_name":"user13906258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694091878,"creation_date":1694083906,"question_id":77058906,"body_markdown":"I am new to redis cache i am using core or plain java not spring boot to interact with redis cache. I am able to connect to redis cache using the jedis client but not getting how to retrieve the data using combination of two keys i found a way in spring boot like below but i am unable to find the same in plain java please point me some source where i am unable to find any instructions in redis documentation also around this\r\n\r\n    @Cacheable(value = &quot;items&quot;, key = &quot;#id&quot;)\r\n    public Item getItem(Integer id) {\r\n        Item item = itemRepository.findById(id).orElseThrow(RuntimeException::new);\r\n        logger.info(&quot;Loading data from DB {}&quot;, item);\r\n        return item;\r\n    }","title":"How to read data from Redis cache and query it in Java?","body":"<p>I am new to redis cache i am using core or plain java not spring boot to interact with redis cache. I am able to connect to redis cache using the jedis client but not getting how to retrieve the data using combination of two keys i found a way in spring boot like below but i am unable to find the same in plain java please point me some source where i am unable to find any instructions in redis documentation also around this</p>\n<pre><code>@Cacheable(value = &quot;items&quot;, key = &quot;#id&quot;)\npublic Item getItem(Integer id) {\n    Item item = itemRepository.findById(id).orElseThrow(RuntimeException::new);\n    logger.info(&quot;Loading data from DB {}&quot;, item);\n    return item;\n}\n</code></pre>\n"},{"tags":["java","android","sdk","ads","adcolony"],"comments":[{"owner":{"account_id":1770667,"reputation":1440,"user_id":1615515,"display_name":"Anand"},"score":0,"creation_date":1444330904,"post_id":32708608,"comment_id":53870251,"body_markdown":"I have seen this warning few times while interacting with samsung devices... Never seen the white screen like you mentioned. IMO, this message has nothing to do with AdColony sdk","body":"I have seen this warning few times while interacting with samsung devices... Never seen the white screen like you mentioned. IMO, this message has nothing to do with AdColony sdk"},{"owner":{"account_id":3531083,"reputation":6261,"user_id":2950618,"accept_rate":43,"display_name":"Josh"},"score":0,"creation_date":1447942331,"post_id":32708608,"comment_id":55377742,"body_markdown":"I get the same message when I try to post a Flac audio file to Google&#39;s voice API","body":"I get the same message when I try to post a Flac audio file to Google&#39;s voice API"},{"owner":{"account_id":267154,"reputation":686,"user_id":555153,"accept_rate":0,"display_name":"Seynorth"},"score":0,"creation_date":1458293642,"post_id":32708608,"comment_id":59805896,"body_markdown":"I am having this message on my application on Samsung Galaxy S5 Neo (5.1.1). My app does not use any Ad SDK. I am using NDK, and you ?","body":"I am having this message on my application on Samsung Galaxy S5 Neo (5.1.1). My app does not use any Ad SDK. I am using NDK, and you ?"},{"owner":{"account_id":6156906,"reputation":1709,"user_id":4799599,"accept_rate":100,"display_name":"Siamak"},"score":0,"creation_date":1558170140,"post_id":32708608,"comment_id":99018510,"body_markdown":"I&#39;m getting this log while using Runtime to execute Ping command in android","body":"I&#39;m getting this log while using Runtime to execute Ping command in android"},{"owner":{"account_id":5485506,"reputation":2882,"user_id":4360419,"display_name":"Arsal Imam"},"score":0,"creation_date":1576566950,"post_id":32708608,"comment_id":104931396,"body_markdown":"Knox is a security product offered by Samsung for enterprise, it provides firewalls and other controlling features which companies used to restrict unwanted apps on their devices, it may possible that Knox (if active) may blocking adcolony requests because of which you&#39;re getting white screen.","body":"Knox is a security product offered by Samsung for enterprise, it provides firewalls and other controlling features which companies used to restrict unwanted apps on their devices, it may possible that Knox (if active) may blocking adcolony requests because of which you&#39;re getting white screen."}],"answers":[{"tags":[],"owner":{"account_id":946127,"reputation":2379,"user_id":973364,"accept_rate":69,"display_name":"Eliot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497362817,"creation_date":1497362817,"answer_id":44523923,"question_id":32708608,"body_markdown":"Knox is Samsung&#39;s enterprise security product:\r\n\r\nhttps://www.samsungknox.com/en\r\n\r\nYou can expect to see this logging whenever you make an HTTP request. I think your freeze is probably unrelated.","title":"KnoxVpnUidStorageknoxVpnSupported API value returned is false","body":"<p>Knox is Samsung's enterprise security product:</p>\n\n<p><a href=\"https://www.samsungknox.com/en\" rel=\"nofollow noreferrer\">https://www.samsungknox.com/en</a></p>\n\n<p>You can expect to see this logging whenever you make an HTTP request. I think your freeze is probably unrelated.</p>\n"},{"tags":[],"owner":{"account_id":5485506,"reputation":2882,"user_id":4360419,"display_name":"Arsal Imam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576566964,"creation_date":1576566964,"answer_id":59369264,"question_id":32708608,"body_markdown":"Knox is a security product offered by Samsung for enterprise, it provides firewalls and other controlling features which companies used to restrict unwanted apps on their devices, it may possible that Knox (if active) may blocking adcolony requests because of which you&#39;re getting white screen.\r\n\r\nTry it on a different samsung device, it should work!","title":"KnoxVpnUidStorageknoxVpnSupported API value returned is false","body":"<p>Knox is a security product offered by Samsung for enterprise, it provides firewalls and other controlling features which companies used to restrict unwanted apps on their devices, it may possible that Knox (if active) may blocking adcolony requests because of which you're getting white screen.</p>\n\n<p>Try it on a different samsung device, it should work!</p>\n"}],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8336,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1694091730,"creation_date":1442897478,"question_id":32708608,"body_markdown":"I am trying to set up AdColony on my Android App using Android Studio.\r\n \r\nFirst time I launch the app and use the SDK it works fine. When I quit the app and comes back, it goes in a white screen and freezes. \r\n\r\nhere is the message it keeps outputting in logcat. \r\n\r\n&gt;KnoxVpnUidStorageknoxVpnSupported API value returned is false\r\n\r\ndoes anyone has came across this before ?\r\nthanks ","title":"KnoxVpnUidStorageknoxVpnSupported API value returned is false","body":"<p>I am trying to set up AdColony on my Android App using Android Studio.</p>\n\n<p>First time I launch the app and use the SDK it works fine. When I quit the app and comes back, it goes in a white screen and freezes. </p>\n\n<p>here is the message it keeps outputting in logcat. </p>\n\n<blockquote>\n  <p>KnoxVpnUidStorageknoxVpnSupported API value returned is false</p>\n</blockquote>\n\n<p>does anyone has came across this before ?\nthanks </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694089735,"post_id":77059527,"comment_id":135847174,"body_markdown":"A .jar file is actually a zip file with some Java-specific entries in it.  You probably can safely use `zip -u` to update it.","body":"A .jar file is actually a zip file with some Java-specific entries in it.  You probably can safely use <code>zip -u</code> to update it."},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1694089757,"post_id":77059527,"comment_id":135847180,"body_markdown":"@VGR `zip` is also not installed on VM","body":"@VGR <code>zip</code> is also not installed on VM"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694089952,"post_id":77059527,"comment_id":135847222,"body_markdown":"Use environment variables or something else for the credentials?","body":"Use environment variables or something else for the credentials?"},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1694090095,"post_id":77059527,"comment_id":135847244,"body_markdown":"@Kayaman afaik the company polici FORBIDS this for some reason ( i will need to ask actually ), i can install the `JAR` or/and `zip` command but it will take few days before it gets all the approvals. Thus i was curious if there are some other ways.","body":"@Kayaman afaik the company polici FORBIDS this for some reason ( i will need to ask actually ), i can install the <code>JAR</code> or/and <code>zip</code> command but it will take few days before it gets all the approvals. Thus i was curious if there are some other ways."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1694090202,"post_id":77059527,"comment_id":135847268,"body_markdown":"There are plenty of ways, but if all is &quot;forbidden by company policy&quot; maybe you should ask your company what they want/allow. You&#39;re wasting our time with this question.","body":"There are plenty of ways, but if all is &quot;forbidden by company policy&quot; maybe you should ask your company what they want/allow. You&#39;re wasting our time with this question."}],"answers":[{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694091690,"creation_date":1694091690,"answer_id":77059853,"question_id":77059527,"body_markdown":"springboot has build-in env variables support for properties, so you can do:\r\n\r\n    app.user=${APP_USER}\r\n    app.pass=${APP_PASS}\r\n\r\nthis allows you to set values per environment on the host where you want to run your application\r\n\r\n\r\nhere are some other ways, how to do it:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.1.18.RELEASE/reference/html/boot-features-external-config.html","title":"Running .jar file with custom file","body":"<p>springboot has build-in env variables support for properties, so you can do:</p>\n<pre><code>app.user=${APP_USER}\napp.pass=${APP_PASS}\n</code></pre>\n<p>this allows you to set values per environment on the host where you want to run your application</p>\n<p>here are some other ways, how to do it:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.18.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.18.RELEASE/reference/html/boot-features-external-config.html</a></p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1694091690,"creation_date":1694088921,"question_id":77059527,"body_markdown":"I have simple springboot web app, the app contains `service.properties`. This file contains keys and passwords for a service, and obviously they are not present in git.\r\n\r\nMy flow is following:\r\n\r\n 1. Push changes to git\r\n 2. Run TeamCity build to upload artifact to nexus ( spring-boot-maven-plugin is used to generate fat jar )\r\n 3. Have nolio process that pulls `.jar` file from nexus to my VM and executes deployment script.\r\n\r\n\r\nThe problem is the pulled jar contains `service.properties` but the passwords and keys are empty.\r\n\r\nSo in my deployment script i need to add ( update ) this file to jar, and then run it.\r\n\r\nSo far i have been using something like\r\n\r\n\r\n    jar uf myApp.jar service.properties\r\n    java -jar myApp.jar .../Main -arguments\r\n\r\nHowever, the current VM i am required to use does not have `jar` command installed ( it does have `java` ) and it will take some time to install it there ( corporate processes... ).\r\n\r\nIs there any different way how to add the file to jar ? Is there any trick with classpath or something?\r\n\r\nThanks for help!","title":"Running .jar file with custom file","body":"<p>I have simple springboot web app, the app contains <code>service.properties</code>. This file contains keys and passwords for a service, and obviously they are not present in git.</p>\n<p>My flow is following:</p>\n<ol>\n<li>Push changes to git</li>\n<li>Run TeamCity build to upload artifact to nexus ( spring-boot-maven-plugin is used to generate fat jar )</li>\n<li>Have nolio process that pulls <code>.jar</code> file from nexus to my VM and executes deployment script.</li>\n</ol>\n<p>The problem is the pulled jar contains <code>service.properties</code> but the passwords and keys are empty.</p>\n<p>So in my deployment script i need to add ( update ) this file to jar, and then run it.</p>\n<p>So far i have been using something like</p>\n<pre><code>jar uf myApp.jar service.properties\njava -jar myApp.jar .../Main -arguments\n</code></pre>\n<p>However, the current VM i am required to use does not have <code>jar</code> command installed ( it does have <code>java</code> ) and it will take some time to install it there ( corporate processes... ).</p>\n<p>Is there any different way how to add the file to jar ? Is there any trick with classpath or something?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","ubuntu","intellij-idea","xshell"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1694092261,"post_id":77059829,"comment_id":135847727,"body_markdown":"Try resolution steps from https://intellij-support.jetbrains.com/hc/en-us/articles/360007568559-Start-Failed-Internal-error-recovering-IDE-to-the-working-state-after-the-critical-startup-error If the problem remains, contact JetBrains support team at https://intellij-support.jetbrains.com/hc/en-us/requests/new","body":"Try resolution steps from <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360007568559-Start-Failed-Internal-error-recovering-IDE-to-the-working-state-after-the-critical-startup-error\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a> If the problem remains, contact JetBrains support team at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694096156,"post_id":77059829,"comment_id":135848779,"body_markdown":"No error shown btw. That&#39;s a *warning*, probably from an app, about logging. If something crashes, how about other gui apps on the same server using the same client?","body":"No error shown btw. That&#39;s a <i>warning</i>, probably from an app, about logging. If something crashes, how about other gui apps on the same server using the same client?"}],"owner":{"account_id":28542490,"reputation":1,"user_id":21848376,"display_name":"user21848376"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694091491,"creation_date":1694091491,"question_id":77059829,"body_markdown":"I am a student working on a lab in university.\r\nwhile trying to start intellij on Linux through Xshell, I encountered an error that intellij crashes. My intellij version is 2023.1 and I am using intellij Ultimate version.\r\nhow can I handle this? please help me.\r\n```\r\ntyperoot@leegang-DREAMSYS:/home/leegang/labnote# intellij-idea-ultimate \r\nCompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\r\n2023-09-07 21:14:54,838 [   2531]   WARN - #c.i.c.ComponentStoreImpl - Duplicated scheme Light - old: Light, new Light\r\n2023-09-07 21:15:14,298 [  21991]   WARN - #o.j.i.maven - updateAllMavenProjectsSync started, edt=false\r\n2023-09-07 21:15:15,878 [  23571]   WARN - #o.j.i.maven - updateAllMavenProjectsSync finished, edt=false\r\nInfo  | RdCoroutineScope          | 56:DefaultDispatcher-worker-40 | RdCoroutineHost overridden \r\n2023-09-07 21:15:19,161 [  26854]   WARN - #c.i.o.a.i.ActionUpdater - 346 ms to grab EDT for LiveEditIssueNotificationAction#update@EditorInspectionsToolbar (com.android.tools.idea.editors.liveedit.ui.LiveEditIssueNotificationAction)\r\n2023-09-07 21:15:20,670 [  28363]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Class path contains multiple SLF4J bindings.\r\n2023-09-07 21:15:20,671 [  28364]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Found binding in [jar:file:/snap/intellij-idea-ultimate/449/plugins/maven/lib/maven36-server.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Found binding in [jar:file:/snap/intellij-idea-ultimate/449/lib/util-8.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Actual binding is of type [org.jetbrains.idea.maven.server.Maven3WrapperSl4LoggerFactory]\r\n2023-09-07 21:15:20,843 [  28536]   WARN - #c.i.i.s.p.i.BundledSharedIndexPostStartupActivity - Skipped 1 pre-built shared indexes: bundled-js-predefined-1d06a55b98c1-8314e18161f9-JavaScript-IU-232.9559.62\r\n2023-09-07 21:15:20,888 [  28581]   WARN - #c.i.o.a.i.ActionUpdater - 344 ms to grab EDT for LiveEditIssueNotificationAction#update@EditorInspectionsToolbar (com.android.tools.idea.editors.liveedit.ui.LiveEditIssueNotificationAction)\r\n here\r\n```\r\n\r\n\r\nI removed intellij and re-installed. But it&#39;s not still working.","title":"while using a intellij on remote linux server on window(Xshell client), I came across an error that intellij crashes all of a sudden","body":"<p>I am a student working on a lab in university.\nwhile trying to start intellij on Linux through Xshell, I encountered an error that intellij crashes. My intellij version is 2023.1 and I am using intellij Ultimate version.\nhow can I handle this? please help me.</p>\n<pre><code>typeroot@leegang-DREAMSYS:/home/leegang/labnote# intellij-idea-ultimate \nCompileCommand: exclude com/intellij/openapi/vfs/impl/FilePartNodeRoot.trieDescend bool exclude = true\n2023-09-07 21:14:54,838 [   2531]   WARN - #c.i.c.ComponentStoreImpl - Duplicated scheme Light - old: Light, new Light\n2023-09-07 21:15:14,298 [  21991]   WARN - #o.j.i.maven - updateAllMavenProjectsSync started, edt=false\n2023-09-07 21:15:15,878 [  23571]   WARN - #o.j.i.maven - updateAllMavenProjectsSync finished, edt=false\nInfo  | RdCoroutineScope          | 56:DefaultDispatcher-worker-40 | RdCoroutineHost overridden \n2023-09-07 21:15:19,161 [  26854]   WARN - #c.i.o.a.i.ActionUpdater - 346 ms to grab EDT for LiveEditIssueNotificationAction#update@EditorInspectionsToolbar (com.android.tools.idea.editors.liveedit.ui.LiveEditIssueNotificationAction)\n2023-09-07 21:15:20,670 [  28363]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Class path contains multiple SLF4J bindings.\n2023-09-07 21:15:20,671 [  28364]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Found binding in [jar:file:/snap/intellij-idea-ultimate/449/plugins/maven/lib/maven36-server.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Found binding in [jar:file:/snap/intellij-idea-ultimate/449/lib/util-8.jar!/org/slf4j/impl/StaticLoggerBinder.class]\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n2023-09-07 21:15:20,678 [  28371]   WARN - #c.i.e.r.RemoteProcessSupport - SLF4J: Actual binding is of type [org.jetbrains.idea.maven.server.Maven3WrapperSl4LoggerFactory]\n2023-09-07 21:15:20,843 [  28536]   WARN - #c.i.i.s.p.i.BundledSharedIndexPostStartupActivity - Skipped 1 pre-built shared indexes: bundled-js-predefined-1d06a55b98c1-8314e18161f9-JavaScript-IU-232.9559.62\n2023-09-07 21:15:20,888 [  28581]   WARN - #c.i.o.a.i.ActionUpdater - 344 ms to grab EDT for LiveEditIssueNotificationAction#update@EditorInspectionsToolbar (com.android.tools.idea.editors.liveedit.ui.LiveEditIssueNotificationAction)\n here\n</code></pre>\n<p>I removed intellij and re-installed. But it's not still working.</p>\n"},{"tags":["javascript","java","angular","primeng"],"comments":[{"owner":{"account_id":19462468,"reputation":53,"user_id":14236485,"display_name":"Kousayla"},"score":0,"creation_date":1619784584,"post_id":67333254,"comment_id":119015535,"body_markdown":"@deHaar i made  a little mistake; in the frontend i set the date as &quot;2021-07-25&quot; in the API i get &quot;2021-07-24&quot;","body":"@deHaar i made  a little mistake; in the frontend i set the date as &quot;2021-07-25&quot; in the API i get &quot;2021-07-24&quot;"},{"owner":{"account_id":19462468,"reputation":53,"user_id":14236485,"display_name":"Kousayla"},"score":0,"creation_date":1619784622,"post_id":67333254,"comment_id":119015553,"body_markdown":"@JoakimDanielson i made a little mistake; in the frontend i set the date as &quot;2021-07-25&quot; in the API i get &quot;2021-07-24&quot;","body":"@JoakimDanielson i made a little mistake; in the frontend i set the date as &quot;2021-07-25&quot; in the API i get &quot;2021-07-24&quot;"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1619785629,"post_id":67333254,"comment_id":119015981,"body_markdown":"My guess is that the UI uses a date formatter to generate a date string but uses the wrong time zone","body":"My guess is that the UI uses a date formatter to generate a date string but uses the wrong time zone"}],"answers":[{"tags":[],"owner":{"account_id":19462468,"reputation":53,"user_id":14236485,"display_name":"Kousayla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619821575,"creation_date":1619821575,"answer_id":67341118,"question_id":67333254,"body_markdown":"**EDIT: SOLVED**\r\nPrimeng calendar has a property &quot;dataType&quot; .&quot;DataType&quot; is &quot;date&quot; in default. If you set &quot;string&quot; instead of &quot;date&quot;, then it&#39;s working perfectly and sending correct date to server.","title":"Angular is substracting 1 day from calendar component","body":"<p><strong>EDIT: SOLVED</strong>\nPrimeng calendar has a property &quot;dataType&quot; .&quot;DataType&quot; is &quot;date&quot; in default. If you set &quot;string&quot; instead of &quot;date&quot;, then it's working perfectly and sending correct date to server.</p>\n"},{"tags":[],"owner":{"account_id":13518974,"reputation":1,"user_id":9752786,"display_name":"Shaik Ayesha Sultana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694091322,"creation_date":1694091177,"answer_id":77059787,"question_id":67333254,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;p-calendar dataType=&quot;string&quot;&gt;&lt;/p-calendar&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nsetting property &quot;datetype&quot; as &quot;string&quot; will resolve this issue.","title":"Angular is substracting 1 day from calendar component","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p-calendar dataType=\"string\"&gt;&lt;/p-calendar&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>setting property &quot;datetype&quot; as &quot;string&quot; will resolve this issue.</p>\n"}],"owner":{"account_id":19462468,"reputation":53,"user_id":14236485,"display_name":"Kousayla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694091322,"creation_date":1619782772,"question_id":67333254,"body_markdown":"I have a date form component from PrimeNg, whenever i submit my form it substracts 1 day: \r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Im3uv.png\r\ni get this in my API \r\n```\r\n&quot;datePlanning&quot;: &quot;2021-04-29&quot;\r\n```\r\nin the **backend** it&#39;s declared\r\n```\r\n@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate Date datePlanning;\r\n```\r\nin the **frontend** it&#39;s decalred as a Date \r\nand in the formBuilder:\r\n```\r\ndatePlanning: [this.selectedData.datePlanning],\r\n```\r\n\r\n","title":"Angular is substracting 1 day from calendar component","body":"<p>I have a date form component from PrimeNg, whenever i submit my form it substracts 1 day:\n<a href=\"https://i.stack.imgur.com/Im3uv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Im3uv.png\" alt=\"enter image description here\" /></a></p>\n<p>i get this in my API</p>\n<pre><code>&quot;datePlanning&quot;: &quot;2021-04-29&quot;\n</code></pre>\n<p>in the <strong>backend</strong> it's declared</p>\n<pre><code>@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\nprivate Date datePlanning;\n</code></pre>\n<p>in the <strong>frontend</strong> it's decalred as a Date\nand in the formBuilder:</p>\n<pre><code>datePlanning: [this.selectedData.datePlanning],\n</code></pre>\n"},{"tags":["java","graphql","graphql-js","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":2642027,"reputation":455,"user_id":2285473,"accept_rate":88,"display_name":"JasonS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486691348,"creation_date":1486691348,"answer_id":42150191,"question_id":42080536,"body_markdown":"After some days&#39; investigation. I found it is hard to generate schema dynamically in Java (or cost is so high).\r\n\r\nWell, from another way. I think we can use `Map` as a compromised way to accomplish that.\r\n\r\n* POJO/Entity\r\n    \r\n        public class POJO{\r\n            @GraphQLField\r\n            private Long id;\r\n            \r\n            @GraphQLField\r\n            private String name;\r\n            \r\n            // ...\r\n            \r\n            @GraphQLField\r\n            private GMap exts;   \r\n        }\r\n    \r\n    &gt; GMap is a customized Map (Because Map/HashMap is a JDK inner class which could not make as GraphQL Schema but only extend).    \r\n    \r\n* GMap\r\n    \r\n        public class GMap extends HashMap&lt;String, String&gt; {\r\n        \r\n            @GraphQLField\r\n            public String get(@GraphQLName(&quot;key&quot;) String key) {\r\n                return super.get(key);\r\n            }\r\n        }\r\n\r\n* Retrieve data from Client\r\n        \r\n        // query script\r\n        query test\r\n        {\r\n        \tyour_method\r\n        \t{\r\n        \t\tid\r\n        \t\tname\r\n        \t\texts {\r\n        \t\t\tget(key: &quot;ext&quot;) // Add a extended attribute someday\r\n        \t\t}\r\n        \t}\r\n        }\r\n        \r\n        // result \r\n        {\r\n            &quot;errors&quot;:[],\r\n            &quot;data&quot;:\r\n            {\r\n                &quot;list&quot;:\r\n                [\r\n                    {&quot;id&quot;:1, name: &quot;name1&quot;, exts: {&quot;get&quot;: &quot;ext1&quot;}},\r\n                    {&quot;id&quot;:2, name: &quot;name2&quot;, exts: {&quot;get&quot;: &quot;ext2&quot;}}\r\n                ]\r\n            }\r\n        }\r\n\r\n","title":"Dynamic generate GraphQL schema supports","body":"<p>After some days' investigation. I found it is hard to generate schema dynamically in Java (or cost is so high).</p>\n\n<p>Well, from another way. I think we can use <code>Map</code> as a compromised way to accomplish that.</p>\n\n<ul>\n<li><p>POJO/Entity</p>\n\n<pre><code>public class POJO{\n    @GraphQLField\n    private Long id;\n\n    @GraphQLField\n    private String name;\n\n    // ...\n\n    @GraphQLField\n    private GMap exts;   \n}\n</code></pre>\n\n<blockquote>\n  <p>GMap is a customized Map (Because Map/HashMap is a JDK inner class which could not make as GraphQL Schema but only extend).    </p>\n</blockquote></li>\n<li><p>GMap</p>\n\n<pre><code>public class GMap extends HashMap&lt;String, String&gt; {\n\n    @GraphQLField\n    public String get(@GraphQLName(\"key\") String key) {\n        return super.get(key);\n    }\n}\n</code></pre></li>\n<li><p>Retrieve data from Client</p>\n\n<pre><code>// query script\nquery test\n{\n    your_method\n    {\n        id\n        name\n        exts {\n            get(key: \"ext\") // Add a extended attribute someday\n        }\n    }\n}\n\n// result \n{\n    \"errors\":[],\n    \"data\":\n    {\n        \"list\":\n        [\n            {\"id\":1, name: \"name1\", exts: {\"get\": \"ext1\"}},\n            {\"id\":2, name: \"name2\", exts: {\"get\": \"ext2\"}}\n        ]\n    }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1694091286,"creation_date":1495887027,"answer_id":44216678,"question_id":42080536,"body_markdown":"You could use [graphql-spqr][1] (or the related [Spring Boot starter](https://github.com/leangen/graphql-spqr-spring-boot-starter), if applicable), it allows you auto-generate a schema based on your service classes. In your case, it would look like this:\r\n\r\n    public class Pojo {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        // whatever Ext is, any (complex) object would work fine\r\n       private List&lt;Ext&gt; exts;\r\n    }\r\n\r\n    public class Ext {\r\n        public String something;\r\n        public String somethingElse;\r\n    }\r\n\r\nPresumably, you have a service class containing your business logic:\r\n\r\n    public class PojoService {\r\n    \r\n        //this could also return List&lt;Pojo&gt; or whatever is applicable\r\n        @GraphQLQuery(name = &quot;pojo&quot;)\r\n        public Pojo getPojo() {...}\r\n    }\r\n\r\nTo expose this service, you&#39;d just do the following:\r\n\r\n    GraphQLSchema schema = new GraphQLSchemaGenerator()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.withOperationsFromSingleton(new PojoService())\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.generate();\r\n\r\nYou could then fire a query such as:\r\n\r\n    query test {\r\n        pojo {\r\n            id\r\n            name \r\n            exts {\r\n                something\r\n                somethingElse\r\n            } } }\r\n\r\nNo need for strange wrappers or custom code of any kind, nor sacrificing type safety. Works with generics, dependency injection, or any other jazz you may have in your project.\r\n\r\n**Full disclosure:** I&#39;m the author of [graphql-spqr][1].\r\n\r\n\r\n  [1]: https://github.com/leangen/graphql-spqr","title":"Dynamic generate GraphQL schema supports","body":"<p>You could use <a href=\"https://github.com/leangen/graphql-spqr\" rel=\"nofollow noreferrer\">graphql-spqr</a> (or the related <a href=\"https://github.com/leangen/graphql-spqr-spring-boot-starter\" rel=\"nofollow noreferrer\">Spring Boot starter</a>, if applicable), it allows you auto-generate a schema based on your service classes. In your case, it would look like this:</p>\n<pre><code>public class Pojo {\n\n    private Long id;\n    private String name;\n\n    // whatever Ext is, any (complex) object would work fine\n   private List&lt;Ext&gt; exts;\n}\n\npublic class Ext {\n    public String something;\n    public String somethingElse;\n}\n</code></pre>\n<p>Presumably, you have a service class containing your business logic:</p>\n<pre><code>public class PojoService {\n\n    //this could also return List&lt;Pojo&gt; or whatever is applicable\n    @GraphQLQuery(name = &quot;pojo&quot;)\n    public Pojo getPojo() {...}\n}\n</code></pre>\n<p>To expose this service, you'd just do the following:</p>\n<pre><code>GraphQLSchema schema = new GraphQLSchemaGenerator()\n                .withOperationsFromSingleton(new PojoService())\n                .generate();\n</code></pre>\n<p>You could then fire a query such as:</p>\n<pre><code>query test {\n    pojo {\n        id\n        name \n        exts {\n            something\n            somethingElse\n        } } }\n</code></pre>\n<p>No need for strange wrappers or custom code of any kind, nor sacrificing type safety. Works with generics, dependency injection, or any other jazz you may have in your project.</p>\n<p><strong>Full disclosure:</strong> I'm the author of <a href=\"https://github.com/leangen/graphql-spqr\" rel=\"nofollow noreferrer\">graphql-spqr</a>.</p>\n"}],"owner":{"account_id":2642027,"reputation":455,"user_id":2285473,"accept_rate":88,"display_name":"JasonS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10708,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1694091286,"creation_date":1486433433,"question_id":42080536,"body_markdown":"Is it possible to **dynamically** create a GraphQL schema ?\r\n\r\nWe store the data in mongoDB and there is a possibility of new fields getting added. We do not want any code change to happen for this newly added field in the mongoDB document. \r\n\r\nIs there any way we can generate the schema dynamically ?\r\n\r\n\r\n&gt; Schema is defined in code, but for java(schema as pojo), when new\r\n&gt; attribute is added, you have to update and recompile code, then\r\n&gt; archive and deploy the jar again. Any way to generate schema by the\r\n&gt; data instead of pre-define it?\r\n\r\n\r\nCurrently we are using **java** related projects ([graphql-java][1], [graphql-java-annotations][2]) for GraphQL development.\r\n\r\n\r\n  [1]: https://github.com/graphql-java/graphql-java\r\n  [2]: https://github.com/graphql-java/graphql-java-annotations","title":"Dynamic generate GraphQL schema supports","body":"<p>Is it possible to <strong>dynamically</strong> create a GraphQL schema ?</p>\n\n<p>We store the data in mongoDB and there is a possibility of new fields getting added. We do not want any code change to happen for this newly added field in the mongoDB document. </p>\n\n<p>Is there any way we can generate the schema dynamically ?</p>\n\n<blockquote>\n  <p>Schema is defined in code, but for java(schema as pojo), when new\n  attribute is added, you have to update and recompile code, then\n  archive and deploy the jar again. Any way to generate schema by the\n  data instead of pre-define it?</p>\n</blockquote>\n\n<p>Currently we are using <strong>java</strong> related projects (<a href=\"https://github.com/graphql-java/graphql-java\" rel=\"noreferrer\">graphql-java</a>, <a href=\"https://github.com/graphql-java/graphql-java-annotations\" rel=\"noreferrer\">graphql-java-annotations</a>) for GraphQL development.</p>\n"},{"tags":["java","spring","security","websocket"],"owner":{"account_id":29385118,"reputation":1,"user_id":22514688,"display_name":"Tf Mi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694090949,"creation_date":1694071199,"question_id":77057391,"body_markdown":"I am using Spring Security 5.7 and WebSocket in my application. I want to understand how to properly configure `ChannelInterceptor` and extend `AbstractSecurityWebSocketMessageBrokerConfigurer` to control access to WebSocket endpoints.\r\n\r\nIn Spring Security 5.7, what is the recommended approach for authorizing WebSocket messages? Should I create a custom `ChannelInterceptor` or extend `AbstractSecurityWebSocketMessageBrokerConfigurer`?\r\n\r\nWhat are the differences between these two options and when should I use one vs the other?\r\nCould you please point me to the relevant sections in the Spring Security reference documentation that covers this WebSocket authorization configuration? An example would also be very helpful to illustrate the key steps.\r\n\r\n I inherited `AbstractSecurityWebSocketMessageBrokerConfigurer` and overrode `configureInbound()` to allow access to &quot;/api/*&quot; paths.\r\n- I added a WebSocket endpoint &quot;/api/chat/websocket&quot; to handle received messages.\r\n- This implemented basic access control and message handling.\r\n I tried to connect to the WebSocket endpoint &quot;/api/chat/websocket&quot; using Postman but still got a 403 Forbidden error.\r\n- The request URL was &quot;ws://localhost:8081/api/chat/websocket&quot; using the Raw request method in Postman.\r\n- Despite configuring access to &quot;/api/*&quot; paths in `AbstractSecurityWebSocketMessageBrokerConfigurer`, the WebSocket connection was still blocked by Spring Security.\r\n\r\nthe previous configuration of `AbstractSecurityWebSocketMessageBrokerConfigurer` to allow &quot;/api/*&quot; did not seem to work for the WebSocket endpoint. More investigation is needed on why the access control rules defined in","title":"How to configure ChannelInterceptor and extend AbstractSecurityWebSocketMessageBrokerConfigurer for access control in Spring Security 5.7?","body":"<p>I am using Spring Security 5.7 and WebSocket in my application. I want to understand how to properly configure <code>ChannelInterceptor</code> and extend <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code> to control access to WebSocket endpoints.</p>\n<p>In Spring Security 5.7, what is the recommended approach for authorizing WebSocket messages? Should I create a custom <code>ChannelInterceptor</code> or extend <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code>?</p>\n<p>What are the differences between these two options and when should I use one vs the other?\nCould you please point me to the relevant sections in the Spring Security reference documentation that covers this WebSocket authorization configuration? An example would also be very helpful to illustrate the key steps.</p>\n<p>I inherited <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code> and overrode <code>configureInbound()</code> to allow access to &quot;/api/*&quot; paths.</p>\n<ul>\n<li>I added a WebSocket endpoint &quot;/api/chat/websocket&quot; to handle received messages.</li>\n<li>This implemented basic access control and message handling.\nI tried to connect to the WebSocket endpoint &quot;/api/chat/websocket&quot; using Postman but still got a 403 Forbidden error.</li>\n<li>The request URL was &quot;ws://localhost:8081/api/chat/websocket&quot; using the Raw request method in Postman.</li>\n<li>Despite configuring access to &quot;/api/*&quot; paths in <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code>, the WebSocket connection was still blocked by Spring Security.</li>\n</ul>\n<p>the previous configuration of <code>AbstractSecurityWebSocketMessageBrokerConfigurer</code> to allow &quot;/api/*&quot; did not seem to work for the WebSocket endpoint. More investigation is needed on why the access control rules defined in</p>\n"},{"tags":["java","spring","thymeleaf","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1658159880,"post_id":72936934,"comment_id":128976764,"body_markdown":"may you post also your thymeleaf page?","body":"may you post also your thymeleaf page?"},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1658224663,"post_id":72936934,"comment_id":128992854,"body_markdown":"as far as i can see [https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/context/webflux/ReactiveDataDriverContextVariable.html] (https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/context/webflux/ReactiveDataDriverContextVariable.html) the `ReactiveDataDriverContextVariable` can contain a `Flux` of object; so I guess you should change your code by passing just 1 `ReactiveDataDriverContextVariable` with a stream of objects","body":"as far as i can see [<a href=\"https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/context/webflux/ReactiveDataDriverContextVariable.html]\" rel=\"nofollow noreferrer\">thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/&zwnj;&#8203;&hellip;</a> (<a href=\"https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/context/webflux/ReactiveDataDriverContextVariable.html\" rel=\"nofollow noreferrer\">thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/&zwnj;&#8203;&hellip;</a>) the <code>ReactiveDataDriverContextVariable</code> can contain a <code>Flux</code> of object; so I guess you should change your code by passing just 1 <code>ReactiveDataDriverContextVariable</code> with a stream of objects"},{"owner":{"account_id":2234211,"reputation":2732,"user_id":1971062,"display_name":"Douma"},"score":0,"creation_date":1658227184,"post_id":72936934,"comment_id":128993772,"body_markdown":"This is working, except for the fact that I now I cannot iterate over widget.getInitialData() in thymeleaf which is a flux. So I think Thymeleaf expects a `ReactiveDataDriverContextVariable` for each Flux object, except there can only be one per template. See my question for the error and what I have tried.","body":"This is working, except for the fact that I now I cannot iterate over widget.getInitialData() in thymeleaf which is a flux. So I think Thymeleaf expects a <code>ReactiveDataDriverContextVariable</code> for each Flux object, except there can only be one per template. See my question for the error and what I have tried."}],"answers":[{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658250666,"creation_date":1658250666,"answer_id":73041016,"question_id":72936934,"body_markdown":"I&#39;d make your template code little bit simpler. I&#39;d change it in this way:\r\n\r\n**JAVA SIDE**\r\n\r\n    GetMapping(&quot;/&quot;)\r\n    public String index(final Model model, Authentication authentication)\r\n    {\r\n         setAuthentication(authentication);\r\n         Flux&lt;WidgetInterface&lt;?&gt;&gt; flux = Flux.just(widgetService.getAll().toArray(new WidgetInterface&lt;?&gt;[0]));\r\n         model.addAttribute(&quot;widgets&quot;, new ReactiveDataDriverContextVariable(flux));\r\n         return &quot;index&quot;;\r\n    }\r\n\r\n**TEMPLATE SIDE**:\r\n\r\n\t\t\t&lt;table class=&quot;table table-striped&quot;&gt;\r\n\t\t\t\t&lt;thead&gt;\r\n\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t&lt;th&gt;ID&lt;/th&gt;\r\n\t\t\t\t\t\t&lt;th&gt;Image&lt;/th&gt;\r\n\t\t\t\t\t\t&lt;th&gt;Identifier&lt;/th&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;/thead&gt;\r\n\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t&lt;tr data-th-each=&quot;myWidget : ${widgets}&quot;&gt;\r\n\t\t\t\t\t\t&lt;td&gt;[[${myWidget.id}]]&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;td&gt;[[${myWidget.image}]]&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;td&gt;[[${myWidget.identifier}]]&lt;/td&gt;\r\n\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t&lt;/table&gt;\r\n\r\n\r\nObviously this is a sample... adapt it to your case\r\n\r\nAngelo","title":"Thymeleaf webflux: Only one data-driver variable is allowed to be specified as a model attribute, but at least two have been identified","body":"<p>I'd make your template code little bit simpler. I'd change it in this way:</p>\n<p><strong>JAVA SIDE</strong></p>\n<pre><code>GetMapping(&quot;/&quot;)\npublic String index(final Model model, Authentication authentication)\n{\n     setAuthentication(authentication);\n     Flux&lt;WidgetInterface&lt;?&gt;&gt; flux = Flux.just(widgetService.getAll().toArray(new WidgetInterface&lt;?&gt;[0]));\n     model.addAttribute(&quot;widgets&quot;, new ReactiveDataDriverContextVariable(flux));\n     return &quot;index&quot;;\n}\n</code></pre>\n<p><strong>TEMPLATE SIDE</strong>:</p>\n<pre><code>        &lt;table class=&quot;table table-striped&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Image&lt;/th&gt;\n                    &lt;th&gt;Identifier&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr data-th-each=&quot;myWidget : ${widgets}&quot;&gt;\n                    &lt;td&gt;[[${myWidget.id}]]&lt;/td&gt;\n                    &lt;td&gt;[[${myWidget.image}]]&lt;/td&gt;\n                    &lt;td&gt;[[${myWidget.identifier}]]&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n</code></pre>\n<p>Obviously this is a sample... adapt it to your case</p>\n<p>Angelo</p>\n"}],"owner":{"account_id":2234211,"reputation":2732,"user_id":1971062,"display_name":"Douma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694090842,"creation_date":1657534445,"question_id":72936934,"body_markdown":"**Financial reward** \r\n\r\n*I&#39;m offering a financial reward of **50 euro&#39;s** for the right answer. I  have never spent so much points on bounties and it is the first time the java community has let me down (so far). It&#39;s neither good or bad, it just depends on how you look at it. I&#39;m still waiting for an answer, even asking for help didn&#180;t work, I got completely ignored by the creators of the Spring Thymeleaf package. So therefor I offer this reward. Thank your for reading this issue and I hope you can help, unless this message gets removed, the reward is yours if you can help me out* \r\n\r\nI&#39;m trying to create a dashboard application where multiple widgets get updates through SSE. My DashboardController looks like:\r\n\r\n```java\r\npublic class DashboardController\r\n{\r\n    private WidgetService widgetService;\r\n\r\n    public DashboardController(WidgetService widgetService)\r\n    {\r\n        this.widgetService = widgetService;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(final Model model)\r\n    {\r\n        for(WidgetInterface&lt;?&gt; widget : widgetService.getAll()) {\r\n            model.addAttribute(&quot;widget-data-driver-&quot; + widget.getIdentifier(),\r\n                    new ReactiveDataDriverContextVariable(widget.getInitialData(), 100));\r\n        }\r\n        model.addAttribute(&quot;widgets&quot;, widgetService.getAll());\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd my WidgetInterface:\r\n\r\n```java\r\npublic interface WidgetInterface&lt;T&gt;\r\n{\r\n    public String getIdentifier();\r\n    public String getTitle();\r\n    public String getStreamEndpoint();\r\n    public Flux&lt;T&gt; getInitialData();\r\n    public Map&lt;String, String&gt; getColumns();\r\n    public String getThymeLeafFraction();\r\n    public Date getLastItemDate();\r\n    public Flux&lt;T&gt; getItemsUpdatedSince(Date date);\r\n}\r\n```\r\n\r\nAll is working fine for one widget (from the WidgetService). I&#39;m trying to pass a `ReactiveDataDriverContextVariable` for each widget to Thymeleaf. But I get the following error:\r\n\r\n```\r\norg.thymeleaf.exceptions.TemplateProcessingException: Only one data-driver variable is allowed to be specified as a model attribute, but at least two have been identified: &#39;widget-data-driver-nufeed&#39; and &#39;widget-data-driver-weatherapi&#39;\r\n```\r\n\r\nI have two active widgets, one is an RSS feed an one implements weather api. I understand the error, but how to can I set up the reactive variables for multiple widgets? \r\n\r\n## Update my thymeleaf template\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;  \r\n&lt;html xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot; th:with=&quot;version=7&quot;&gt;  \r\n&lt;head&gt;  \r\n &lt;meta charset=&quot;utf-8&quot;&gt;  \r\n &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;  \r\n &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;  \r\n &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;images/logo.png&quot; /&gt;  \r\n &lt;title&gt;Dashboard&lt;/title&gt;  \r\n &lt;link rel=&quot;stylesheet&quot; th:href=&quot;&#39;build/vendor.css?v=&#39; + ${version}&quot; /&gt;  \r\n &lt;link rel=&quot;stylesheet&quot; th:href=&quot;&#39;build/app.css?v=&#39; + ${version}&quot; /&gt;  \r\n &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;  \r\n &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;  \r\n &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Space+Mono&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;  \r\n&lt;/head&gt;  \r\n&lt;body&gt;  \r\n &lt;div class=&quot;container-fluid&quot; id=&quot;content&quot;&gt;  \r\n &lt;div class=&quot;container&quot; id=&quot;content-body&quot;&gt;  \r\n &lt;div class=&quot;logo-header&quot;&gt;  \r\n &lt;img src=&quot;images/logo.png&quot; align=&quot;left&quot;&gt;  \r\n &lt;h2&gt;Dashboard &lt;a href=&quot;/logout&quot; class=&quot;logout&quot;&gt;&lt;span&gt;(logout)&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;  \r\n &lt;/div&gt;  \r\n &lt;div class=&quot;row&quot; id=&quot;widgets&quot;&gt;  \r\n &lt;div class=&quot;col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 card-container&quot; th:each=&quot;widget: ${widgets}&quot; th:data-identifier=&quot;@{${widget.identifier}}&quot;&gt;  \r\n &lt;div class=&quot;card p-3 mb-2&quot; th:classappend=&quot;@{${widget.getCardCssClass()}}&quot;&gt;  \r\n &lt;div class=&quot;card-header&quot; th:if=&quot;${widget.title != null}&quot;&gt;  \r\n &lt;div class=&quot;widget-icon-header&quot;&gt;&lt;img class=&quot;widget-icon&quot; th:src=&quot;${widget.icon}&quot; /&gt;&lt;/div&gt;  \r\n &lt;div class=&quot;float-left&quot; th:text=&quot;${widget.title}&quot;&gt;&lt;/div&gt;  \r\n &lt;div class=&quot;float-right reload&quot; th:if=&quot;${widget.hasUpdate}&quot; th:data-ref=&quot;&#39;&#39;+@{${widget.identifier}}+&#39;&#39;&quot;&gt;&lt;img class=&quot;reload-img&quot; src=&quot;images/reload.png&quot;&gt;&lt;/div&gt;  \r\n &lt;/div&gt; &lt;div class=&quot;card-body&quot; th:id=&quot;&#39;&#39;+@{${widget.identifier}}+&#39;-content&#39;&quot;&gt;  \r\n &lt;table th:replace=&quot;__${widget.getThymeLeafFraction()}__&quot;&gt;&lt;/table&gt;  \r\n &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row fullscreen&quot;&gt;  \r\n &lt;a href=&quot;javascript:openFullscreen()&quot; style=&quot;margin: 0px auto; color:#000&quot;&gt;Fullscreen&lt;/a&gt;  \r\n &lt;/div&gt; &lt;/div&gt;  \r\n &lt;script th:src=&quot;&#39;build/vendor.js?v=&#39; + ${version}&quot;&gt;&lt;/script&gt;  \r\n &lt;script th:src=&quot;&#39;build/app.js?v=&#39; + ${version}&quot;&gt;&lt;/script&gt;  \r\n&lt;/body&gt;  \r\n&lt;/html&gt;\r\n```\r\n\r\nIt includes a thymeleaf fraction depending on the widget:\r\n\r\n```html\r\n&lt;table th:id=&quot;@{${widget.identifier}}&quot; class=&quot;table&quot; th:classappend=&quot;@{${widget.getCardCssClass()}}&quot;&gt;  \r\n &lt;thead&gt; &lt;tr&gt; &lt;th data-th-each=&quot;column : ${widget.getColumns()}&quot;  \r\n  th:style=&quot;&#39;width:&#39;+@{${widget.getColumnWidth().get(column.key)}}+&#39;;&#39;&quot;  \r\n  th:text=&quot;${column.value}&quot;&gt;&lt;/th&gt;  \r\n &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr class=&quot;result&quot; data-th-each=&quot;item : ${#vars.getVariable(&#39;widget-data-driver-__${widget.identifier}__&#39;)}&quot; th:data-id=&quot;@{${item.id}}&quot;&gt;  \r\n &lt;td th:text=&quot;&#39;&#39;+${item.driver}&quot;&gt;&lt;/td&gt;  \r\n &lt;td th:text=&quot;&#39;&#39;+${item.points}&quot;&gt;&lt;/td&gt;  \r\n &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;\r\n```\r\n\r\n# Update answer based on Angelos comment\r\n\r\nI tried to replace the DashboardController.index method with: \r\n\r\n```java\r\nGetMapping(&quot;/&quot;)\r\npublic String index(final Model model, Authentication authentication)\r\n{\r\n     setAuthentication(authentication);\r\n     Flux&lt;WidgetInterface&lt;?&gt;&gt; flux = Flux.just(widgetService.getAll().toArray(new WidgetInterface&lt;?&gt;[0]));\r\n     model.addAttribute(&quot;widgets&quot;, new ReactiveDataDriverContextVariable(flux));\r\n     return &quot;index&quot;;\r\n}\r\n```\r\n\r\nThis is working, except for the fact that now I cannot iterate over my widget.getInitialData() in thymeleaf (this is a fraction file as described above): \r\n\r\n```html\r\n&lt;div data-th-each=&quot;item : ${widget.getInitialData()}&quot;  th:data-id=&quot;@{${item.id}}&quot; id=&quot;art&quot;&gt;\r\n    &lt;a th:data-lightbox=&quot;&#39;&#39; + ${widget.identifier}&quot; th:href=&quot;${item.image}&quot;&gt;\r\n        &lt;img th:src=&quot;&#39;https://images.weserv.nl/?url=&#39; + ${item.image} + &#39;&amp;w=200&amp;h=200&amp;fit=cover&amp;a=top&#39;&quot; th:data-lightbox=&quot;&#39;&#39; + ${widget.identifier}&quot;\r\n             class=&quot;rounded d-block user-select-none&quot; style=&quot;max-height:100px;max-width:150px;margin-right:10px;&quot; align=&quot;left&quot; /&gt;\r\n    &lt;/a&gt;\r\n    &lt;h5 th:text=&quot;${item.description}&quot; class=&quot;card-title&quot;&gt;&lt;/h5&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThis gives this error:\r\n\r\n```\r\norg.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;item.id&quot; (template: &quot;art_fraction&quot; - line 1, col 56)\r\n\tat org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n```","title":"Thymeleaf webflux: Only one data-driver variable is allowed to be specified as a model attribute, but at least two have been identified","body":"<p><strong>Financial reward</strong></p>\n<p><em>I'm offering a financial reward of <strong>50 euro's</strong> for the right answer. I  have never spent so much points on bounties and it is the first time the java community has let me down (so far). It's neither good or bad, it just depends on how you look at it. I'm still waiting for an answer, even asking for help didn´t work, I got completely ignored by the creators of the Spring Thymeleaf package. So therefor I offer this reward. Thank your for reading this issue and I hope you can help, unless this message gets removed, the reward is yours if you can help me out</em></p>\n<p>I'm trying to create a dashboard application where multiple widgets get updates through SSE. My DashboardController looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DashboardController\n{\n    private WidgetService widgetService;\n\n    public DashboardController(WidgetService widgetService)\n    {\n        this.widgetService = widgetService;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String index(final Model model)\n    {\n        for(WidgetInterface&lt;?&gt; widget : widgetService.getAll()) {\n            model.addAttribute(&quot;widget-data-driver-&quot; + widget.getIdentifier(),\n                    new ReactiveDataDriverContextVariable(widget.getInitialData(), 100));\n        }\n        model.addAttribute(&quot;widgets&quot;, widgetService.getAll());\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n<p>And my WidgetInterface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WidgetInterface&lt;T&gt;\n{\n    public String getIdentifier();\n    public String getTitle();\n    public String getStreamEndpoint();\n    public Flux&lt;T&gt; getInitialData();\n    public Map&lt;String, String&gt; getColumns();\n    public String getThymeLeafFraction();\n    public Date getLastItemDate();\n    public Flux&lt;T&gt; getItemsUpdatedSince(Date date);\n}\n</code></pre>\n<p>All is working fine for one widget (from the WidgetService). I'm trying to pass a <code>ReactiveDataDriverContextVariable</code> for each widget to Thymeleaf. But I get the following error:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateProcessingException: Only one data-driver variable is allowed to be specified as a model attribute, but at least two have been identified: 'widget-data-driver-nufeed' and 'widget-data-driver-weatherapi'\n</code></pre>\n<p>I have two active widgets, one is an RSS feed an one implements weather api. I understand the error, but how to can I set up the reactive variables for multiple widgets?</p>\n<h2>Update my thymeleaf template</h2>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;  \n&lt;html xmlns:th=&quot;http://www.w3.org/1999/xhtml&quot; th:with=&quot;version=7&quot;&gt;  \n&lt;head&gt;  \n &lt;meta charset=&quot;utf-8&quot;&gt;  \n &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;  \n &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;  \n &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;images/logo.png&quot; /&gt;  \n &lt;title&gt;Dashboard&lt;/title&gt;  \n &lt;link rel=&quot;stylesheet&quot; th:href=&quot;'build/vendor.css?v=' + ${version}&quot; /&gt;  \n &lt;link rel=&quot;stylesheet&quot; th:href=&quot;'build/app.css?v=' + ${version}&quot; /&gt;  \n &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;  \n &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;  \n &lt;link href=&quot;https://fonts.googleapis.com/css2?family=Space+Mono&amp;display=swap&quot; rel=&quot;stylesheet&quot;&gt;  \n&lt;/head&gt;  \n&lt;body&gt;  \n &lt;div class=&quot;container-fluid&quot; id=&quot;content&quot;&gt;  \n &lt;div class=&quot;container&quot; id=&quot;content-body&quot;&gt;  \n &lt;div class=&quot;logo-header&quot;&gt;  \n &lt;img src=&quot;images/logo.png&quot; align=&quot;left&quot;&gt;  \n &lt;h2&gt;Dashboard &lt;a href=&quot;/logout&quot; class=&quot;logout&quot;&gt;&lt;span&gt;(logout)&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;  \n &lt;/div&gt;  \n &lt;div class=&quot;row&quot; id=&quot;widgets&quot;&gt;  \n &lt;div class=&quot;col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 card-container&quot; th:each=&quot;widget: ${widgets}&quot; th:data-identifier=&quot;@{${widget.identifier}}&quot;&gt;  \n &lt;div class=&quot;card p-3 mb-2&quot; th:classappend=&quot;@{${widget.getCardCssClass()}}&quot;&gt;  \n &lt;div class=&quot;card-header&quot; th:if=&quot;${widget.title != null}&quot;&gt;  \n &lt;div class=&quot;widget-icon-header&quot;&gt;&lt;img class=&quot;widget-icon&quot; th:src=&quot;${widget.icon}&quot; /&gt;&lt;/div&gt;  \n &lt;div class=&quot;float-left&quot; th:text=&quot;${widget.title}&quot;&gt;&lt;/div&gt;  \n &lt;div class=&quot;float-right reload&quot; th:if=&quot;${widget.hasUpdate}&quot; th:data-ref=&quot;''+@{${widget.identifier}}+''&quot;&gt;&lt;img class=&quot;reload-img&quot; src=&quot;images/reload.png&quot;&gt;&lt;/div&gt;  \n &lt;/div&gt; &lt;div class=&quot;card-body&quot; th:id=&quot;''+@{${widget.identifier}}+'-content'&quot;&gt;  \n &lt;table th:replace=&quot;__${widget.getThymeLeafFraction()}__&quot;&gt;&lt;/table&gt;  \n &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row fullscreen&quot;&gt;  \n &lt;a href=&quot;javascript:openFullscreen()&quot; style=&quot;margin: 0px auto; color:#000&quot;&gt;Fullscreen&lt;/a&gt;  \n &lt;/div&gt; &lt;/div&gt;  \n &lt;script th:src=&quot;'build/vendor.js?v=' + ${version}&quot;&gt;&lt;/script&gt;  \n &lt;script th:src=&quot;'build/app.js?v=' + ${version}&quot;&gt;&lt;/script&gt;  \n&lt;/body&gt;  \n&lt;/html&gt;\n</code></pre>\n<p>It includes a thymeleaf fraction depending on the widget:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table th:id=&quot;@{${widget.identifier}}&quot; class=&quot;table&quot; th:classappend=&quot;@{${widget.getCardCssClass()}}&quot;&gt;  \n &lt;thead&gt; &lt;tr&gt; &lt;th data-th-each=&quot;column : ${widget.getColumns()}&quot;  \n  th:style=&quot;'width:'+@{${widget.getColumnWidth().get(column.key)}}+';'&quot;  \n  th:text=&quot;${column.value}&quot;&gt;&lt;/th&gt;  \n &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr class=&quot;result&quot; data-th-each=&quot;item : ${#vars.getVariable('widget-data-driver-__${widget.identifier}__')}&quot; th:data-id=&quot;@{${item.id}}&quot;&gt;  \n &lt;td th:text=&quot;''+${item.driver}&quot;&gt;&lt;/td&gt;  \n &lt;td th:text=&quot;''+${item.points}&quot;&gt;&lt;/td&gt;  \n &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;\n</code></pre>\n<h1>Update answer based on Angelos comment</h1>\n<p>I tried to replace the DashboardController.index method with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GetMapping(&quot;/&quot;)\npublic String index(final Model model, Authentication authentication)\n{\n     setAuthentication(authentication);\n     Flux&lt;WidgetInterface&lt;?&gt;&gt; flux = Flux.just(widgetService.getAll().toArray(new WidgetInterface&lt;?&gt;[0]));\n     model.addAttribute(&quot;widgets&quot;, new ReactiveDataDriverContextVariable(flux));\n     return &quot;index&quot;;\n}\n</code></pre>\n<p>This is working, except for the fact that now I cannot iterate over my widget.getInitialData() in thymeleaf (this is a fraction file as described above):</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div data-th-each=&quot;item : ${widget.getInitialData()}&quot;  th:data-id=&quot;@{${item.id}}&quot; id=&quot;art&quot;&gt;\n    &lt;a th:data-lightbox=&quot;'' + ${widget.identifier}&quot; th:href=&quot;${item.image}&quot;&gt;\n        &lt;img th:src=&quot;'https://images.weserv.nl/?url=' + ${item.image} + '&amp;w=200&amp;h=200&amp;fit=cover&amp;a=top'&quot; th:data-lightbox=&quot;'' + ${widget.identifier}&quot;\n             class=&quot;rounded d-block user-select-none&quot; style=&quot;max-height:100px;max-width:150px;margin-right:10px;&quot; align=&quot;left&quot; /&gt;\n    &lt;/a&gt;\n    &lt;h5 th:text=&quot;${item.description}&quot; class=&quot;card-title&quot;&gt;&lt;/h5&gt;\n&lt;/div&gt;\n</code></pre>\n<p>This gives this error:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;item.id&quot; (template: &quot;art_fraction&quot; - line 1, col 56)\n    at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n</code></pre>\n"},{"tags":["java","spring","swagger"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694179218,"post_id":77059672,"comment_id":135861193,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29387253,"reputation":1,"user_id":22516440,"display_name":"쓰리공 라이프"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694090137,"creation_date":1694090137,"question_id":77059672,"body_markdown":"page response no content\r\n\r\nsay A hack around this would be to create a new class to wrap that type: but page -&gt; package org.springframework.data.domain; \r\n[text](https://stackoverflow.com/questions/70732267/springdoc-with-a-generic-return-type)\r\n\r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/friend-request&quot;)\r\n@Operation(security = {@SecurityRequirement(name = &quot;bearer-key&quot;)},\r\n        summary = &quot;...&quot;, description = &quot;...&quot;)\r\npublic ResponseEntity sendFriendRequest(HttpServletRequest request,\r\n                                        @RequestBody RequestFriend requestFriend) {\r\n    String token = getTokenByReqeust(request);\r\n    String checkId = tokenProvider.getCheckIdFromAccessToken(token);\r\n    friendService.createFriendRequest(checkId, requestFriend.getReceiverId());\r\n    return responseApi.success(&quot;...&quot;);\r\n}\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/NyvL1.png)","title":"swagger page&lt;T&gt; response no content","body":"<p>page response no content</p>\n<p>say A hack around this would be to create a new class to wrap that type: but page -&gt; package org.springframework.data.domain;\n<a href=\"https://stackoverflow.com/questions/70732267/springdoc-with-a-generic-return-type\">text</a></p>\n<pre><code>@PostMapping(&quot;/friend-request&quot;)\n@Operation(security = {@SecurityRequirement(name = &quot;bearer-key&quot;)},\n        summary = &quot;...&quot;, description = &quot;...&quot;)\npublic ResponseEntity sendFriendRequest(HttpServletRequest request,\n                                        @RequestBody RequestFriend requestFriend) {\n    String token = getTokenByReqeust(request);\n    String checkId = tokenProvider.getCheckIdFromAccessToken(token);\n    friendService.createFriendRequest(checkId, requestFriend.getReceiverId());\n    return responseApi.success(&quot;...&quot;);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NyvL1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","mediawiki","wikipedia-api","mediawiki-api"],"answers":[{"tags":[],"owner":{"account_id":6552,"reputation":20287,"user_id":11069,"accept_rate":100,"display_name":"Robert Christie"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1252480106,"creation_date":1252480106,"answer_id":1397987,"question_id":1397938,"body_markdown":"[Mediawiki][1], the wiki platform that wikipedia uses does have an HTTP based API. See [MediaWiki API][2].\r\n\r\nFor example, to get pages with the title stackoverflow, you call \r\n\r\n`http://en.wikipedia.org/w/api.php?action=query&amp;titles=Stackoverflow`\r\n\r\nThere are some (incomplete) Java wrappers around the API - [see the Client Code - Java][3] section of the API page for more detail.\r\n\r\n\r\n  [1]: http://www.mediawiki.org/\r\n  [2]: http://www.mediawiki.org/wiki/API:Query\r\n  [3]: http://www.mediawiki.org/wiki/API:Client_Code#Java","title":"Is there any API in Java to access wikipedia data","body":"<p><a href=\"http://www.mediawiki.org/\" rel=\"noreferrer\">Mediawiki</a>, the wiki platform that wikipedia uses does have an HTTP based API. See <a href=\"http://www.mediawiki.org/wiki/API:Query\" rel=\"noreferrer\">MediaWiki API</a>.</p>\n\n<p>For example, to get pages with the title stackoverflow, you call </p>\n\n<p><code>http://en.wikipedia.org/w/api.php?action=query&amp;titles=Stackoverflow</code></p>\n\n<p>There are some (incomplete) Java wrappers around the API - <a href=\"http://www.mediawiki.org/wiki/API:Client_Code#Java\" rel=\"noreferrer\">see the Client Code - Java</a> section of the API page for more detail.</p>\n"},{"tags":[],"owner":{"account_id":1075813,"reputation":5243,"user_id":1073995,"accept_rate":20,"display_name":"Integrating Stuff"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333734818,"creation_date":1333734818,"answer_id":10047231,"question_id":1397938,"body_markdown":"I had the same question and the closest I came to an out-of-the-box solution is bliki, hosted at [http://code.google.com/p/gwtwiki/][1].\r\nI also wrote an article at Integrating Stuff to help you get started with it: [http://www.integratingstuff.com/2012/04/06/hook-into-wikipedia-using-java-and-the-mediawiki-api/][2]\r\n\r\n\r\n  [1]: http://code.google.com/p/gwtwiki/\r\n  [2]: http://www.integratingstuff.com/2012/04/06/hook-into-wikipedia-using-java-and-the-mediawiki-api/","title":"Is there any API in Java to access wikipedia data","body":"<p>I had the same question and the closest I came to an out-of-the-box solution is bliki, hosted at <a href=\"http://code.google.com/p/gwtwiki/\" rel=\"nofollow\">http://code.google.com/p/gwtwiki/</a>.\nI also wrote an article at Integrating Stuff to help you get started with it: <a href=\"http://www.integratingstuff.com/2012/04/06/hook-into-wikipedia-using-java-and-the-mediawiki-api/\" rel=\"nofollow\">http://www.integratingstuff.com/2012/04/06/hook-into-wikipedia-using-java-and-the-mediawiki-api/</a></p>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1338454871,"creation_date":1338454871,"answer_id":10830419,"question_id":1397938,"body_markdown":"For the use with Java, try http://code.google.com/p/wiki-java. It is only one class, but a great one!","title":"Is there any API in Java to access wikipedia data","body":"<p>For the use with Java, try <a href=\"http://code.google.com/p/wiki-java\" rel=\"noreferrer\">http://code.google.com/p/wiki-java</a>. It is only one class, but a great one!</p>\n"},{"tags":[],"owner":{"account_id":200255,"reputation":530,"user_id":446008,"accept_rate":50,"display_name":"Amin Arab"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1517989203,"creation_date":1516197221,"answer_id":48302799,"question_id":1397938,"body_markdown":"[MediaWiki is a free and open-source wiki software. Originally developed by Magnus Manske and improved by Lee Daniel Crocker, it runs on many websites, including Wikipedia, Wiktionary and Wikimedia Commons.\\[5\\]\\[6\\]][1]\r\n\r\n\r\nThere is list of Java libraries that can help you to connect wiki by java code .\r\nhttps://www.mediawiki.org/wiki/API:Client_code#Java\r\n\r\nbut after use some of them because of their limitations , we try to call REST services from mediawiki directly.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MediaWiki","title":"Is there any API in Java to access wikipedia data","body":"<p><a href=\"https://en.wikipedia.org/wiki/MediaWiki\" rel=\"nofollow noreferrer\">MediaWiki is a free and open-source wiki software. Originally developed by Magnus Manske and improved by Lee Daniel Crocker, it runs on many websites, including Wikipedia, Wiktionary and Wikimedia Commons.[5][6]</a></p>\n\n<p>There is list of Java libraries that can help you to connect wiki by java code .\n<a href=\"https://www.mediawiki.org/wiki/API:Client_code#Java\" rel=\"nofollow noreferrer\">https://www.mediawiki.org/wiki/API:Client_code#Java</a></p>\n\n<p>but after use some of them because of their limitations , we try to call REST services from mediawiki directly.</p>\n"},{"tags":[],"owner":{"account_id":18010972,"reputation":307,"user_id":13090648,"display_name":"Viral"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1611237904,"creation_date":1591359669,"answer_id":62215256,"question_id":1397938,"body_markdown":"**You can use [Jwiki][1] to get Wikipedia data** \r\nExample : \r\n\r\n    Jwiki jwiki = new Jwiki(&quot;elon musk&quot;);\r\n    System.out.println(&quot;Title :&quot;+jwiki.getDisplayTitle()); //get title\r\n\tSystem.out.println(&quot;Text : &quot;+jwiki.getExtractText());  //get summary text\r\n\tSystem.out.println(&quot;Image : &quot;+jwiki.getImageURL());    //get image URL\r\n\r\n\r\n\r\n  [1]: https://github.com/viralvaghela/Jwiki","title":"Is there any API in Java to access wikipedia data","body":"<p><strong>You can use <a href=\"https://github.com/viralvaghela/Jwiki\" rel=\"nofollow noreferrer\">Jwiki</a> to get Wikipedia data</strong>\nExample :</p>\n<pre><code>Jwiki jwiki = new Jwiki(&quot;elon musk&quot;);\nSystem.out.println(&quot;Title :&quot;+jwiki.getDisplayTitle()); //get title\nSystem.out.println(&quot;Text : &quot;+jwiki.getExtractText());  //get summary text\nSystem.out.println(&quot;Image : &quot;+jwiki.getImageURL());    //get image URL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694090101,"creation_date":1694090101,"answer_id":77059668,"question_id":1397938,"body_markdown":"You can use [wikipedia4j](https://github.com/llmjava/wikipedia4j) to search for documents like this\r\n```java\r\nWikipedia wiki = new Wikipedia();\r\nList&lt;Document&gt; results = wiki.search(&quot;apple&quot;);\r\nfor(Document doc: results) {\r\n  System.out.println(doc);\r\n}\r\n```","title":"Is there any API in Java to access wikipedia data","body":"<p>You can use <a href=\"https://github.com/llmjava/wikipedia4j\" rel=\"nofollow noreferrer\">wikipedia4j</a> to search for documents like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Wikipedia wiki = new Wikipedia();\nList&lt;Document&gt; results = wiki.search(&quot;apple&quot;);\nfor(Document doc: results) {\n  System.out.println(doc);\n}\n</code></pre>\n"}],"owner":{"display_name":"neha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30671,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":6,"score":29,"last_activity_date":1694090101,"creation_date":1252479253,"question_id":1397938,"body_markdown":"I want to know: is there any API or a query interface through  which I can access Wikipedia data?","title":"Is there any API in Java to access wikipedia data","body":"<p>I want to know: is there any API or a query interface through  which I can access Wikipedia data?</p>\n"},{"tags":["java","scala","scala-java-interop"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1529875796,"post_id":51014105,"comment_id":89020953,"body_markdown":"You want to iterate over it but you can&#39;t use a for-each loop? Why is that? For-each is the most straightforward, not to mention general, iteration tool at your disposal.","body":"You want to iterate over it but you can&#39;t use a for-each loop? Why is that? For-each is the most straightforward, not to mention general, iteration tool at your disposal."}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529878782,"creation_date":1529878463,"answer_id":51014402,"question_id":51014105,"body_markdown":"I don&#39;t want to claim that it&#39;s &quot;impossible&quot; to use a `scala.collection.mutable.wrappedArray` from your Java code, but in my opinion, if you are asking such questions, you&#39;re doing it wrong.\r\n\r\nScala&#39;s standard library **does** provide a lot of functionality to convert between Scala data structures and Java data structures.\r\n\r\nJava standard library **does not** provide any tools to deal with Scala collections, it does not know anything at all about Scala.\r\n\r\nTherefore, the question *&quot;how can I convert `scala.x.y.Z` to `java.r.s.T` **in Java**&quot;* is essentially meaningless: don&#39;t try to perform the conversion in Java, do it in Scala, it&#39;s much easier.\r\n\r\n-----\r\n\r\n**General approach**\r\n\r\nSuppose that you have a method `foo` implemented in Scala that returns a Scala-specific data structure `scala.x.y.Z`:\r\n\r\n    // Scala code\r\n    def foo(): scala.x.y.Z = ???\r\n\r\nApparently, what you are trying to do is:\r\n\r\n    // Java code\r\n    scala.x.y.Z a = yourScalaLibrary.foo();\r\n    java.r.s.T b = /* \r\n      crazily complex java code\r\n      that converts scaa.x.y.Z to java.r.s.T\r\n    */\r\n\r\nMy suggestion is: just don&#39;t do it. Instead, implement an additional Java-specific API *in Scala*:\r\n\r\n    // Scala code\r\n    def javaFoo(): java.r.s.T = {\r\n      scala.x.y.Z a = foo()\r\n      java.r.s.T b = /* simple conversion code using Scala-Java interop */\r\n      b  // return Java-specific collection\r\n    }\r\n\r\nAnd then use only the Java-API in your Java code:\r\n\r\n    // Java code\r\n    java.r.s.T b = javaFoo();\r\n\r\n-----\r\n\r\n**Concrete example**\r\n\r\nAssuming that you want to use this method from Java:\r\n\r\n    def foo(): scala.collection.mutable.WrappedArray[Int] = Array(1, 2, 3)\r\n\r\nyou first implement a java-API (in Scala!):\r\n\r\n    import collection.JavaConverters._\r\n    def javaFoo(): java.util.List[Int] = foo().asJava\r\n\r\nand then use it from Java:\r\n\r\n    java.util.List myList = javaFoo();","title":"In Java, how to convert scala.list to java.list","body":"<p>I don't want to claim that it's \"impossible\" to use a <code>scala.collection.mutable.wrappedArray</code> from your Java code, but in my opinion, if you are asking such questions, you're doing it wrong.</p>\n\n<p>Scala's standard library <strong>does</strong> provide a lot of functionality to convert between Scala data structures and Java data structures.</p>\n\n<p>Java standard library <strong>does not</strong> provide any tools to deal with Scala collections, it does not know anything at all about Scala.</p>\n\n<p>Therefore, the question <em>\"how can I convert <code>scala.x.y.Z</code> to <code>java.r.s.T</code> <strong>in Java</strong>\"</em> is essentially meaningless: don't try to perform the conversion in Java, do it in Scala, it's much easier.</p>\n\n<hr>\n\n<p><strong>General approach</strong></p>\n\n<p>Suppose that you have a method <code>foo</code> implemented in Scala that returns a Scala-specific data structure <code>scala.x.y.Z</code>:</p>\n\n<pre><code>// Scala code\ndef foo(): scala.x.y.Z = ???\n</code></pre>\n\n<p>Apparently, what you are trying to do is:</p>\n\n<pre><code>// Java code\nscala.x.y.Z a = yourScalaLibrary.foo();\njava.r.s.T b = /* \n  crazily complex java code\n  that converts scaa.x.y.Z to java.r.s.T\n*/\n</code></pre>\n\n<p>My suggestion is: just don't do it. Instead, implement an additional Java-specific API <em>in Scala</em>:</p>\n\n<pre><code>// Scala code\ndef javaFoo(): java.r.s.T = {\n  scala.x.y.Z a = foo()\n  java.r.s.T b = /* simple conversion code using Scala-Java interop */\n  b  // return Java-specific collection\n}\n</code></pre>\n\n<p>And then use only the Java-API in your Java code:</p>\n\n<pre><code>// Java code\njava.r.s.T b = javaFoo();\n</code></pre>\n\n<hr>\n\n<p><strong>Concrete example</strong></p>\n\n<p>Assuming that you want to use this method from Java:</p>\n\n<pre><code>def foo(): scala.collection.mutable.WrappedArray[Int] = Array(1, 2, 3)\n</code></pre>\n\n<p>you first implement a java-API (in Scala!):</p>\n\n<pre><code>import collection.JavaConverters._\ndef javaFoo(): java.util.List[Int] = foo().asJava\n</code></pre>\n\n<p>and then use it from Java:</p>\n\n<pre><code>java.util.List myList = javaFoo();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4279459,"reputation":11,"user_id":3499293,"display_name":"jewalky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577187638,"creation_date":1577187638,"answer_id":59468286,"question_id":51014105,"body_markdown":"This is what I ended up doing (in Java):\r\n\r\n    import scala.collection.JavaConverters;\r\n    /* ... */\r\n    JavaConverters.mutableSeqAsJavaList(yourArray.seq());\r\n\r\nAs far as I know, `scala.*` packages naturally get into classpath once you have any library that uses Scala (and specifically the one you want to convert the data from).","title":"In Java, how to convert scala.list to java.list","body":"<p>This is what I ended up doing (in Java):</p>\n\n<pre><code>import scala.collection.JavaConverters;\n/* ... */\nJavaConverters.mutableSeqAsJavaList(yourArray.seq());\n</code></pre>\n\n<p>As far as I know, <code>scala.*</code> packages naturally get into classpath once you have any library that uses Scala (and specifically the one you want to convert the data from).</p>\n"},{"tags":[],"owner":{"account_id":2234801,"reputation":1443,"user_id":1971503,"accept_rate":57,"display_name":"Viswanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694089553,"creation_date":1694089553,"answer_id":77059611,"question_id":51014105,"body_markdown":"That&#39;s an old answer. The right way to use it is as shown below\r\n\r\n    import scala.jdk.CollectionConverters.*\r\n    val javaList: java.util.List[Int] = Array(1, 2, 3).toList.asJava","title":"In Java, how to convert scala.list to java.list","body":"<p>That's an old answer. The right way to use it is as shown below</p>\n<pre><code>import scala.jdk.CollectionConverters.*\nval javaList: java.util.List[Int] = Array(1, 2, 3).toList.asJava\n</code></pre>\n"}],"owner":{"account_id":13312126,"reputation":81,"user_id":9609919,"display_name":"Yiming Sun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3483,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1694089553,"creation_date":1529875665,"question_id":51014105,"body_markdown":"In Java, I already have a `scala.collection.mutable.wrappedArray` object. How can I convert it to `util.ArrayList` or `util.linkedList` in Java? Or alternatively, How can I iterate it and do something with each value of it? `foreach` is not applicable.\r\n","title":"In Java, how to convert scala.list to java.list","body":"<p>In Java, I already have a <code>scala.collection.mutable.wrappedArray</code> object. How can I convert it to <code>util.ArrayList</code> or <code>util.linkedList</code> in Java? Or alternatively, How can I iterate it and do something with each value of it? <code>foreach</code> is not applicable.</p>\n"},{"tags":["java","jdbc","wildfly"],"owner":{"account_id":8653024,"reputation":67,"user_id":6478108,"display_name":"Patricio Iglesias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694089415,"creation_date":1694089415,"question_id":77059595,"body_markdown":"We have a wildfly application accesing a an Azure postgreSQl Flexible server database. \r\n\r\nConection works fine but sometimes, when microsoft performs a manteinance of the server they generate an unavailability of about 1-2minutes.\r\n\r\nOur datasource validation config is like this:\r\n\r\n```\r\n&lt;validation&gt;\r\n         &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\r\n         &lt;valid-connection-checker \r\n    classname=&quot;org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker&quot;/&gt;\r\n&lt;/validation&gt;\r\n````\r\n\r\nAlthoug the application is able to recover connections after database unavailability, i was wondering, in order to avoid an error to users, if we can somehow set a timeout or retries when providing a new connection to the database.\r\n\r\nMay be with: [docs.wildfly.org][1]\r\n\r\n - allocation-retry The allocation retry element indicates the number of times that allocating a connection should be tried before throwing an exception\r\n - allocation-retry-wait-millis The allocation retry wait millis element specifies the amount of time, in milliseconds, to wait between retrying to allocate a connection\r\n\r\nAny experience using those parameters with validation-on-match?\r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/19/wildscribe/deployment/subsystem/datasources/xa-data-source/index.html#attr-allocation-retry","title":"Wildfly JDBC XA validate on match timeout","body":"<p>We have a wildfly application accesing a an Azure postgreSQl Flexible server database.</p>\n<p>Conection works fine but sometimes, when microsoft performs a manteinance of the server they generate an unavailability of about 1-2minutes.</p>\n<p>Our datasource validation config is like this:</p>\n<pre><code>&lt;validation&gt;\n         &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\n         &lt;valid-connection-checker \n    classname=&quot;org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker&quot;/&gt;\n&lt;/validation&gt;\n</code></pre>\n<p>Althoug the application is able to recover connections after database unavailability, i was wondering, in order to avoid an error to users, if we can somehow set a timeout or retries when providing a new connection to the database.</p>\n<p>May be with: <a href=\"https://docs.wildfly.org/19/wildscribe/deployment/subsystem/datasources/xa-data-source/index.html#attr-allocation-retry\" rel=\"nofollow noreferrer\">docs.wildfly.org</a></p>\n<ul>\n<li>allocation-retry The allocation retry element indicates the number of times that allocating a connection should be tried before throwing an exception</li>\n<li>allocation-retry-wait-millis The allocation retry wait millis element specifies the amount of time, in milliseconds, to wait between retrying to allocate a connection</li>\n</ul>\n<p>Any experience using those parameters with validation-on-match?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["javascript","java","graalvm"],"comments":[{"owner":{"account_id":12273021,"reputation":127,"user_id":8957688,"accept_rate":80,"display_name":"Martin"},"score":0,"creation_date":1618904529,"post_id":61346799,"comment_id":118736917,"body_markdown":"Very good question. I am also searching for an answer.","body":"Very good question. I am also searching for an answer."}],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587545192,"creation_date":1587545192,"answer_id":61360892,"question_id":61346799,"body_markdown":"The following java code\r\n\r\n    import org.graalvm.polyglot.*;\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            var ctx = Context.newBuilder(&quot;js&quot;).allowAllAccess(true).build();\r\n            ctx.eval(&quot;js&quot;, &quot;let ssr = async (arg) =&gt; arg || \\&quot;hello js\\&quot;&quot;);\r\n            var v = ctx.getBindings(&quot;js&quot;).getMember(&quot;ssr&quot;);\r\n            System.out.println(v.execute());\r\n        }\r\n    }\r\n\r\noutputs\r\n\r\n    Promise{[[PromiseStatus]]: &quot;resolved&quot;, [[PromiseValue]]: &quot;hello js&quot;}\r\n\r\nOn GraalVM CE 20.0.0 so I assume there is something wrong with the way you build your `Source` object.","title":"How can I access a JS-exported module object from Java using GraalVM?","body":"<p>The following java code</p>\n\n<pre><code>import org.graalvm.polyglot.*;\n\nclass Main {\n    public static void main(String[] args) {\n        var ctx = Context.newBuilder(\"js\").allowAllAccess(true).build();\n        ctx.eval(\"js\", \"let ssr = async (arg) =&gt; arg || \\\"hello js\\\"\");\n        var v = ctx.getBindings(\"js\").getMember(\"ssr\");\n        System.out.println(v.execute());\n    }\n}\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>Promise{[[PromiseStatus]]: \"resolved\", [[PromiseValue]]: \"hello js\"}\n</code></pre>\n\n<p>On GraalVM CE 20.0.0 so I assume there is something wrong with the way you build your <code>Source</code> object.</p>\n"},{"tags":[],"owner":{"account_id":18510286,"reputation":46,"user_id":13485659,"display_name":"Daniele Bonetta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588794830,"creation_date":1588794830,"answer_id":61644159,"question_id":61346799,"body_markdown":"Values exported from a module can be imported by another module using the `import` syntax. For example, you could have another file loading your module, like:\r\n```\r\n// -- some-module-file.mjs\r\nimport ssr from &#39;ssr.mjs&#39;\r\nssr;\r\n```\r\nand then execute the file via:\r\n```\r\nFile file = loadSomehow(&quot;some-module-file.mjs&quot;);\r\nSource mainSource = Source.newBuilder(&quot;js&quot;, file).mimeType(&quot;application/javascript+module&quot;).build();\r\nValue ssr = context.eval(mainSource);\r\n```\r\nHere, `Value ssr` is the value exported by your module with `export {ssr as default};`","title":"How can I access a JS-exported module object from Java using GraalVM?","body":"<p>Values exported from a module can be imported by another module using the <code>import</code> syntax. For example, you could have another file loading your module, like:</p>\n\n<pre><code>// -- some-module-file.mjs\nimport ssr from 'ssr.mjs'\nssr;\n</code></pre>\n\n<p>and then execute the file via:</p>\n\n<pre><code>File file = loadSomehow(\"some-module-file.mjs\");\nSource mainSource = Source.newBuilder(\"js\", file).mimeType(\"application/javascript+module\").build();\nValue ssr = context.eval(mainSource);\n</code></pre>\n\n<p>Here, <code>Value ssr</code> is the value exported by your module with <code>export {ssr as default};</code></p>\n"},{"tags":[],"owner":{"account_id":1409115,"reputation":11,"user_id":1336088,"display_name":"user1336088"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694089168,"creation_date":1694089168,"answer_id":77059554,"question_id":61346799,"body_markdown":"Please look into testExportNamespace function at https://github.com/oracle/graaljs/blob/master/graal-js/src/com.oracle.truffle.js.test/src/com/oracle/truffle/js/test/interop/ESModuleTest.java\r\n\r\nHint is to use\r\n 1. allowExperimentalOptions(true) in Context builder\r\n 2. option(JSContextOptions.ESM_EVAL_RETURNS_EXPORTS_NAME, &quot;true&quot;); in Context builder\r\n 3. Set .mimeType(JavaScriptLanguage.MODULE_MIME_TYPE) in Source builder\r\n\r\nRegards\r\nSaurabh","title":"How can I access a JS-exported module object from Java using GraalVM?","body":"<p>Please look into testExportNamespace function at <a href=\"https://github.com/oracle/graaljs/blob/master/graal-js/src/com.oracle.truffle.js.test/src/com/oracle/truffle/js/test/interop/ESModuleTest.java\" rel=\"nofollow noreferrer\">https://github.com/oracle/graaljs/blob/master/graal-js/src/com.oracle.truffle.js.test/src/com/oracle/truffle/js/test/interop/ESModuleTest.java</a></p>\n<p>Hint is to use</p>\n<ol>\n<li>allowExperimentalOptions(true) in Context builder</li>\n<li>option(JSContextOptions.ESM_EVAL_RETURNS_EXPORTS_NAME, &quot;true&quot;); in Context builder</li>\n<li>Set .mimeType(JavaScriptLanguage.MODULE_MIME_TYPE) in Source builder</li>\n</ol>\n<p>Regards\nSaurabh</p>\n"}],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61644159,"answer_count":3,"score":1,"last_activity_date":1694089168,"creation_date":1587481767,"question_id":61346799,"body_markdown":"I have some JS code that looks roughly like this:\r\n\r\n```js\r\nlet ssr = async (arg) =&gt; arg || &quot;hello js&quot;;\r\nexport {ssr as default};\r\n```\r\n\r\nI want to access and call `ssr` from Java.\r\n\r\nHow can I do that?\r\n\r\nI&#39;ve been trying something like this:\r\n\r\n```java\r\nvar ctx = Context.newBuilder(&quot;js&quot;)\r\n                .allowIO(true)\r\n                .allowHostAccess(HostAccess.ALL)\r\n                .build();\r\n\r\n        var ssrResource = new String(Server.class.getResourceAsStream(&quot;/ssr.mjs&quot;).readAllBytes());\r\n\r\n        ctx.eval(Source\r\n                .newBuilder(&quot;js&quot;, ssrResource, &quot;ssr.mjs&quot;)\r\n                .build());\r\n        var ssr = ctx.getBindings(&quot;js&quot;).getMember(&quot;ssr&quot;);\r\n\r\n```\r\n\r\nBut this always returns null.","title":"How can I access a JS-exported module object from Java using GraalVM?","body":"<p>I have some JS code that looks roughly like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let ssr = async (arg) =&gt; arg || \"hello js\";\nexport {ssr as default};\n</code></pre>\n\n<p>I want to access and call <code>ssr</code> from Java.</p>\n\n<p>How can I do that?</p>\n\n<p>I've been trying something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>var ctx = Context.newBuilder(\"js\")\n                .allowIO(true)\n                .allowHostAccess(HostAccess.ALL)\n                .build();\n\n        var ssrResource = new String(Server.class.getResourceAsStream(\"/ssr.mjs\").readAllBytes());\n\n        ctx.eval(Source\n                .newBuilder(\"js\", ssrResource, \"ssr.mjs\")\n                .build());\n        var ssr = ctx.getBindings(\"js\").getMember(\"ssr\");\n\n</code></pre>\n\n<p>But this always returns null.</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":4,"creation_date":1462947294,"post_id":37154380,"comment_id":61845672,"body_markdown":"Did you read the Javadoc? They do completely different things.","body":"Did you read the Javadoc? They do completely different things."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1462947686,"post_id":37154380,"comment_id":61845848,"body_markdown":"`map` maps the passed stream element (String) to something else, here an other String value, but it could also have been an Integer. `filter` removes elements not fitting the condition.","body":"<code>map</code> maps the passed stream element (String) to something else, here an other String value, but it could also have been an Integer. <code>filter</code> removes elements not fitting the condition."},{"owner":{"account_id":4098501,"reputation":389,"user_id":3364651,"display_name":"sergiu"},"score":0,"creation_date":1462949699,"post_id":37154380,"comment_id":61846972,"body_markdown":"think of it as a database query.  select name(the map) from users where name=&quot;John&quot; (the filter).","body":"think of it as a database query.  select name(the map) from users where name=&quot;John&quot; (the filter)."},{"owner":{"account_id":7859977,"reputation":728,"user_id":5940691,"accept_rate":75,"display_name":"Keerthikanth Chowdary"},"score":0,"creation_date":1463245790,"post_id":37154380,"comment_id":61988940,"body_markdown":"Thanks for the clarification","body":"Thanks for the clarification"}],"answers":[{"tags":[],"owner":{"account_id":6482612,"reputation":4553,"user_id":5019163,"accept_rate":89,"display_name":"Pawan B"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1590347345,"creation_date":1462947594,"answer_id":37154492,"question_id":37154380,"body_markdown":"By using **map**, you transform the object values.\r\n\r\nThe map operation allows us to apply a function, that takes in a parameter of one type, and returns something else.\r\n\r\n\r\n\r\n**Filter** is used for filtering the data, it always **returns the boolean value**.\r\nIf it returns true, the item is added to list else it is filtered out (ignored)\r\nfor eg : \r\n\r\n    List&lt;Person&gt; persons = …\r\n    Stream&lt;Person&gt; personsOver18 = persons.stream().filter(p -&gt; p.getAge() &gt; 18);\r\n\r\nFor more details on this topic you can visit this  [link][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/","title":"Difference between map and filter on a java collection stream","body":"<p>By using <strong>map</strong>, you transform the object values.</p>\n\n<p>The map operation allows us to apply a function, that takes in a parameter of one type, and returns something else.</p>\n\n<p><strong>Filter</strong> is used for filtering the data, it always <strong>returns the boolean value</strong>.\nIf it returns true, the item is added to list else it is filtered out (ignored)\nfor eg : </p>\n\n<pre><code>List&lt;Person&gt; persons = …\nStream&lt;Person&gt; personsOver18 = persons.stream().filter(p -&gt; p.getAge() &gt; 18);\n</code></pre>\n\n<p>For more details on this topic you can visit this  <a href=\"https://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/\" rel=\"noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":5604771,"reputation":53,"user_id":4439779,"accept_rate":0,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553612106,"creation_date":1553605990,"answer_id":55358063,"question_id":37154380,"body_markdown":"Filter takes a predicate as an argument so basically you are validating your input/collection against a condition, whereas a map allows you to define or use a existing function on the stream eg you can apply `String.toUpperCase(...)` etc. and transform your `inputlist` accordingly.","title":"Difference between map and filter on a java collection stream","body":"<p>Filter takes a predicate as an argument so basically you are validating your input/collection against a condition, whereas a map allows you to define or use a existing function on the stream eg you can apply <code>String.toUpperCase(...)</code> etc. and transform your <code>inputlist</code> accordingly.</p>\n"},{"tags":[],"owner":{"account_id":2479831,"reputation":1430,"user_id":2159525,"accept_rate":50,"display_name":"Nallamachu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611772937,"creation_date":1611772937,"answer_id":65925401,"question_id":37154380,"body_markdown":"**map** returns a stream consisting of the results of applying the given function to the elements of this stream. In a simple sentence, the map returns the transformed object value. \r\n\r\nFor example, transform the given Strings from Lower case to Upper case by using the map().\r\n\r\n```myList.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);```\r\n\r\n**filter** returns a stream consisting of the elements of this stream that match the given predicate. In a simple sentence, the filter returns the stream of elements that satisfies the predicate.\r\n\r\nFor example, find the strings which are starting with &#39;o&#39; by using the filter.\r\n\r\n```myList.stream().filter(s -&gt; s.startsWith(&quot;o&quot;)).forEach(System.out::println);```\r\n\r\n**Program:**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class MapAndFilterExample {\r\n\t    static List&lt;String&gt; myList = null;\r\n\t\r\n\t    static {\r\n\t\t    myList = new ArrayList&lt;String&gt;();\r\n\t\t    myList.add(&quot;okay&quot;);\r\n\t\t    myList.add(&quot;omg&quot;);\r\n\t\t    myList.add(&quot;kk&quot;);\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(&quot;Converting the given Strings from Lower case to Upper case by using map&quot;);\r\n\t\t    myList.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);\r\n\t\t\r\n\t\t    System.out.println(&quot;filter which is starting with &#39;o&#39; by using filter&quot;);\r\n\t\t    myList.stream().filter(s -&gt; s.startsWith(&quot;o&quot;)).forEach(System.out::println);\r\n\t    }\r\n    }\r\n\r\n","title":"Difference between map and filter on a java collection stream","body":"<p><strong>map</strong> returns a stream consisting of the results of applying the given function to the elements of this stream. In a simple sentence, the map returns the transformed object value.</p>\n<p>For example, transform the given Strings from Lower case to Upper case by using the map().</p>\n<p><code>myList.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);</code></p>\n<p><strong>filter</strong> returns a stream consisting of the elements of this stream that match the given predicate. In a simple sentence, the filter returns the stream of elements that satisfies the predicate.</p>\n<p>For example, find the strings which are starting with 'o' by using the filter.</p>\n<p><code>myList.stream().filter(s -&gt; s.startsWith(&quot;o&quot;)).forEach(System.out::println);</code></p>\n<p><strong>Program:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class MapAndFilterExample {\n    static List&lt;String&gt; myList = null;\n\n    static {\n        myList = new ArrayList&lt;String&gt;();\n        myList.add(&quot;okay&quot;);\n        myList.add(&quot;omg&quot;);\n        myList.add(&quot;kk&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Converting the given Strings from Lower case to Upper case by using map&quot;);\n        myList.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);\n    \n        System.out.println(&quot;filter which is starting with 'o' by using filter&quot;);\n        myList.stream().filter(s -&gt; s.startsWith(&quot;o&quot;)).forEach(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9603763,"reputation":11,"user_id":7713713,"display_name":"Moustafa Gebril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694089098,"creation_date":1694089098,"answer_id":77059546,"question_id":37154380,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e0TZF.png\r\nmap do an operation on your list but if you have 10 elements then the new mapped list will be 10 elements (after convertion from int to string for an example) but filter runs a condition so if you have 10 elements after the condition they will be 7 elements after filteration","title":"Difference between map and filter on a java collection stream","body":"<p><a href=\"https://i.stack.imgur.com/e0TZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0TZF.png\" alt=\"enter image description here\" /></a></p>\n<p>map do an operation on your list but if you have 10 elements then the new mapped list will be 10 elements (after convertion from int to string for an example) but filter runs a condition so if you have 10 elements after the condition they will be 7 elements after filteration</p>\n"}],"owner":{"account_id":7859977,"reputation":728,"user_id":5940691,"accept_rate":75,"display_name":"Keerthikanth Chowdary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33243,"favorite_count":0,"down_vote_count":3,"up_vote_count":12,"answer_count":4,"score":9,"last_activity_date":1694089098,"creation_date":1462947170,"question_id":37154380,"body_markdown":"Suppose there is a list say\r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\r\n    myList.add(&quot;okay&quot;);\r\n    myList.add(&quot;omg&quot;);\r\n    myList.add(&quot;kk&quot;);\r\n\r\nI am doing this:\r\n\r\n    List&lt;String&gt; fianllist = myStream.map(item -&gt; item.toUpperCase()).filter(item\r\n    -&gt;item.startsWith(&quot;O&quot;)).collect(Collectors.toList());\r\n\r\nMy question is what the difference between map and filter as both can take a lambda expression as a parameter. Can some one please explain? ","title":"Difference between map and filter on a java collection stream","body":"<p>Suppose there is a list say</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\nmyList.add(\"okay\");\nmyList.add(\"omg\");\nmyList.add(\"kk\");\n</code></pre>\n\n<p>I am doing this:</p>\n\n<pre><code>List&lt;String&gt; fianllist = myStream.map(item -&gt; item.toUpperCase()).filter(item\n-&gt;item.startsWith(\"O\")).collect(Collectors.toList());\n</code></pre>\n\n<p>My question is what the difference between map and filter as both can take a lambda expression as a parameter. Can some one please explain? </p>\n"},{"tags":["java","hibernate-6.x","spring-boot-3"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694004064,"post_id":77049832,"comment_id":135833781,"body_markdown":"Have you tried using JPA&#39;s own mechanism, with `@Converter`, `AttributeConverter` and `@Convert`?","body":"Have you tried using JPA&#39;s own mechanism, with <code>@Converter</code>, <code>AttributeConverter</code> and <code>@Convert</code>?"},{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":0,"creation_date":1694071200,"post_id":77049832,"comment_id":135843481,"body_markdown":"@RobSpoor I tried with `@Convert`, alas same error. It works only with native query :-(","body":"@RobSpoor I tried with <code>@Convert</code>, alas same error. It works only with native query :-("},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1694071349,"post_id":77049832,"comment_id":135843506,"body_markdown":"Did you try adding the @Enumerated annotation?","body":"Did you try adding the @Enumerated annotation?"},{"owner":{"account_id":6257648,"reputation":173,"user_id":4865707,"display_name":"saarthak gupta"},"score":0,"creation_date":1694071425,"post_id":77049832,"comment_id":135843527,"body_markdown":"Have you tried with @Enumerated? specifically, @Enumerated(Enumtype.String) ?","body":"Have you tried with @Enumerated? specifically, @Enumerated(Enumtype.String) ?"},{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":0,"creation_date":1694071747,"post_id":77049832,"comment_id":135843589,"body_markdown":"`CustomStatus` is not an enum...it&#39;s a class who allows users to create dynamic status","body":"<code>CustomStatus</code> is not an enum...it&#39;s a class who allows users to create dynamic status"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694072259,"creation_date":1694071901,"answer_id":77057460,"question_id":77049832,"body_markdown":"I think the problem is your query, `select * from BaseEntity where status = &#39;ARCHIVED&#39;`/`select * from BaseEntity where status NOT IN (&#39;ARCHIVED&#39;, &#39;CANCELLED&#39;)`.\r\n\r\nTo be more exact, hibernate is not expecting `String`s but `CustomStatus` in your query.\r\n\r\nIf you don&#39;t want to use a native query, you could try using placeholders in your query:\r\n```java\r\n@Query(&quot;select * from BaseEntity where status = :status&quot;)\r\nList&lt;BaseEntity&gt; getBaseEntitiesWithStatus(CustomStatus status);\r\ndefault List&lt;BaseEntity&gt; getArchivedBaseEntities(){\r\n    return getBaseEntitiesWithStatus(new CustomStatus(&quot;ARCHIVED&quot;));\r\n}\r\n\r\n@Query(&quot;select * from BaseEntity where status NOT IN :disallowed&quot;)\r\nList&lt;BaseEntity&gt; getBaseEntitiesWhereStatusNotIn(List&lt;CustomStatus&gt; disallowed);\r\ndefault List&lt;BaseEntity&gt; getActiveBaseEntities(){\r\n    return getBaseEntitiesWhereStatusNotIn(List.of(\r\n        new CustomStatus(&quot;ARCHIVED&quot;),\r\n        new CustomStatus(&quot;CANCELLED&quot;)\r\n    ));\r\n}\r\n```\r\n\r\nYou could also try representing your `CustomStatus` differently, e.g. as it&#39;s own entity in a `1:N` relation or by embedding it:\r\n```java\r\npublic class BaseEntity {\r\n    @Id\r\n    private Integer id;\r\n\r\n    @Embedded\r\n    private CustomStatus status;\r\n    //methods\r\n} \r\n@Embeddable\r\npublic class CustomStatus implements Serializable {\r\n    private final String name;\r\n\r\n    public CustomStatus (final String name) { this.name = name;}\r\n    //methods\r\n}\r\n```\r\n\r\nWith this, you could probably make a query like `select * from BaseEntity where status.name = &#39;ARCHIVED&#39;`\r\n\r\nHowever, that might require making `name` non-`final`.\r\n","title":"Hibernate 6 + attribute of class persisted as String","body":"<p>I think the problem is your query, <code>select * from BaseEntity where status = 'ARCHIVED'</code>/<code>select * from BaseEntity where status NOT IN ('ARCHIVED', 'CANCELLED')</code>.</p>\n<p>To be more exact, hibernate is not expecting <code>String</code>s but <code>CustomStatus</code> in your query.</p>\n<p>If you don't want to use a native query, you could try using placeholders in your query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select * from BaseEntity where status = :status&quot;)\nList&lt;BaseEntity&gt; getBaseEntitiesWithStatus(CustomStatus status);\ndefault List&lt;BaseEntity&gt; getArchivedBaseEntities(){\n    return getBaseEntitiesWithStatus(new CustomStatus(&quot;ARCHIVED&quot;));\n}\n\n@Query(&quot;select * from BaseEntity where status NOT IN :disallowed&quot;)\nList&lt;BaseEntity&gt; getBaseEntitiesWhereStatusNotIn(List&lt;CustomStatus&gt; disallowed);\ndefault List&lt;BaseEntity&gt; getActiveBaseEntities(){\n    return getBaseEntitiesWhereStatusNotIn(List.of(\n        new CustomStatus(&quot;ARCHIVED&quot;),\n        new CustomStatus(&quot;CANCELLED&quot;)\n    ));\n}\n</code></pre>\n<p>You could also try representing your <code>CustomStatus</code> differently, e.g. as it's own entity in a <code>1:N</code> relation or by embedding it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseEntity {\n    @Id\n    private Integer id;\n\n    @Embedded\n    private CustomStatus status;\n    //methods\n} \n@Embeddable\npublic class CustomStatus implements Serializable {\n    private final String name;\n\n    public CustomStatus (final String name) { this.name = name;}\n    //methods\n}\n</code></pre>\n<p>With this, you could probably make a query like <code>select * from BaseEntity where status.name = 'ARCHIVED'</code></p>\n<p>However, that might require making <code>name</code> non-<code>final</code>.</p>\n"}],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77057460,"answer_count":1,"score":1,"last_activity_date":1694089062,"creation_date":1693985554,"question_id":77049832,"body_markdown":"I face an issue with Hibernate 6 (migration to Spring Boot 3). I have a main entity class `BaseEntity` with a `status` attribute of class `CustomStatus`. In hibernate/JPA query, I like to have this syntax `select * from BaseEntity where status = &#39;ARCHIVED&#39;` or `select * from BaseEntity where status NOT IN (&#39;ARCHIVED&#39;, &#39;CANCELLED&#39;)`. That works well with native query, but I like to use JPA to be able to call service.\r\n\r\nCompile is fine, but at runtime, I get an error on query execution:\r\n\r\n&gt; `Can&#39;t compare test expression of type [BasicSqmPathSource(status : CustomStatus)] with element of type [basicType@4(java.lang.String,12)]`.\r\n\r\n&lt;hr&gt;\r\n\r\nInitially (Hibernate 5 / Spring Boot 2.7), `@Type` referencing a `AbstractSingleColumnStandardBasicType` / `AbstractTypeDescriptor` was doing job perfectly.\r\n\r\n&lt;hr&gt;\r\n\r\n**BaseEntity**\r\n```\r\n@Table(name=&quot;base_entity&quot;)\r\npublic class BaseEntity {\r\n    @Id\r\n    private Integer id;\r\n\r\n    @JavaType(CustomStatusJavaType.class)\r\n    @JdbcTypeCode(SqlTypes.VARCHAR)\r\n    private CustomStatus status;\r\n}\r\n```\r\n\r\n**CustomStatus**\r\n```\r\npublic class CustomStatus implements Serializable {\r\n    private final String name;\r\n\r\n    public CustomStatus (final String name) { this.name = name;}\r\n}\r\n```\r\n**CustomStatusJavaType**\r\n```\r\npublic class CustomStatusJavaType extends AbstractClassJavaType&lt;CustomStatus&gt; {\r\n\r\n    public static final CustomStatusJavaType INSTANCE = new CustomStatusJavaType ();\r\n\r\n    public CustomStatusJavaType () {\r\n        super(CustomStatus.class);\r\n    }\r\n\r\n    @Override\r\n    public String toString(CustomStatus value) {\r\n        if (value == null) return null;\r\n        return value.getName();\r\n    }\r\n\r\n    @Override\r\n    public CustomStatus fromString(CharSequence str) {\r\n        if (str == null || str.length() == 0) return null;\r\n        return new CustomStatus(str.toString());\r\n    }\r\n\r\n    @Override\r\n    public &lt;X&gt; X unwrap(CustomStatus value, Class&lt;X&gt; type, WrapperOptions options) {\r\n        if (value == null) return null;\r\n        return StringJavaType.INSTANCE.unwrap(\r\n                value == null ? null : value.getName(),\r\n                type,\r\n                options\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public &lt;X&gt; CustomStatus wrap(X value, WrapperOptions options) {\r\n        if (value == null) return null;\r\n        return new CustomStatus (StringJavaType.INSTANCE.wrap( value, options));\r\n    }\r\n}\r\n```\r\n\r\n&gt; ## **UPDATE** with AttributeConverter ##\r\n\r\n**CustomStatus**\r\n```\r\n@Converter\r\npublic class CustomStatusAttributeConverter implements AttributeConverter&lt;CustomStatus, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(CustomStatus status) {\r\n        return (null == status? null : status.getName());\r\n    }\r\n\r\n    @Override\r\n    public CustomStatus convertToEntityAttribute(String s) {\r\n        return (s == null || s.isEmpty() ? null : new CustomStatus(s));\r\n    }\r\n}\r\n```\r\n```\r\npublic class BaseEntity {\r\n    @Id\r\n    private Integer id;\r\n\r\n    @Convert(converter = CustomStatusAttributeConverter.class)\r\n    private CustomStatus status;\r\n}\r\n```\r\n\r\nAlas I get same error...It works if i write a native query, but not with JPA query.","title":"Hibernate 6 + attribute of class persisted as String","body":"<p>I face an issue with Hibernate 6 (migration to Spring Boot 3). I have a main entity class <code>BaseEntity</code> with a <code>status</code> attribute of class <code>CustomStatus</code>. In hibernate/JPA query, I like to have this syntax <code>select * from BaseEntity where status = 'ARCHIVED'</code> or <code>select * from BaseEntity where status NOT IN ('ARCHIVED', 'CANCELLED')</code>. That works well with native query, but I like to use JPA to be able to call service.</p>\n<p>Compile is fine, but at runtime, I get an error on query execution:</p>\n<blockquote>\n<p><code>Can't compare test expression of type [BasicSqmPathSource(status : CustomStatus)] with element of type [basicType@4(java.lang.String,12)]</code>.</p>\n</blockquote>\n<hr>\n<p>Initially (Hibernate 5 / Spring Boot 2.7), <code>@Type</code> referencing a <code>AbstractSingleColumnStandardBasicType</code> / <code>AbstractTypeDescriptor</code> was doing job perfectly.</p>\n<hr>\n<p><strong>BaseEntity</strong></p>\n<pre><code>@Table(name=&quot;base_entity&quot;)\npublic class BaseEntity {\n    @Id\n    private Integer id;\n\n    @JavaType(CustomStatusJavaType.class)\n    @JdbcTypeCode(SqlTypes.VARCHAR)\n    private CustomStatus status;\n}\n</code></pre>\n<p><strong>CustomStatus</strong></p>\n<pre><code>public class CustomStatus implements Serializable {\n    private final String name;\n\n    public CustomStatus (final String name) { this.name = name;}\n}\n</code></pre>\n<p><strong>CustomStatusJavaType</strong></p>\n<pre><code>public class CustomStatusJavaType extends AbstractClassJavaType&lt;CustomStatus&gt; {\n\n    public static final CustomStatusJavaType INSTANCE = new CustomStatusJavaType ();\n\n    public CustomStatusJavaType () {\n        super(CustomStatus.class);\n    }\n\n    @Override\n    public String toString(CustomStatus value) {\n        if (value == null) return null;\n        return value.getName();\n    }\n\n    @Override\n    public CustomStatus fromString(CharSequence str) {\n        if (str == null || str.length() == 0) return null;\n        return new CustomStatus(str.toString());\n    }\n\n    @Override\n    public &lt;X&gt; X unwrap(CustomStatus value, Class&lt;X&gt; type, WrapperOptions options) {\n        if (value == null) return null;\n        return StringJavaType.INSTANCE.unwrap(\n                value == null ? null : value.getName(),\n                type,\n                options\n        );\n    }\n\n    @Override\n    public &lt;X&gt; CustomStatus wrap(X value, WrapperOptions options) {\n        if (value == null) return null;\n        return new CustomStatus (StringJavaType.INSTANCE.wrap( value, options));\n    }\n}\n</code></pre>\n<blockquote>\n<h2><strong>UPDATE</strong> with AttributeConverter</h2>\n</blockquote>\n<p><strong>CustomStatus</strong></p>\n<pre><code>@Converter\npublic class CustomStatusAttributeConverter implements AttributeConverter&lt;CustomStatus, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(CustomStatus status) {\n        return (null == status? null : status.getName());\n    }\n\n    @Override\n    public CustomStatus convertToEntityAttribute(String s) {\n        return (s == null || s.isEmpty() ? null : new CustomStatus(s));\n    }\n}\n</code></pre>\n<pre><code>public class BaseEntity {\n    @Id\n    private Integer id;\n\n    @Convert(converter = CustomStatusAttributeConverter.class)\n    private CustomStatus status;\n}\n</code></pre>\n<p>Alas I get same error...It works if i write a native query, but not with JPA query.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694088677,"creation_date":1694088677,"answer_id":77059509,"question_id":77058565,"body_markdown":"You should return true in your:\r\n\r\n    case MotionEvent.ACTION_DOWN:\r\n\r\notherwise android will not send any further events to your listener.","title":"MotionEvent.ACTION_UP not activated in onTouchEvent","body":"<p>You should return true in your:</p>\n<pre><code>case MotionEvent.ACTION_DOWN:\n</code></pre>\n<p>otherwise android will not send any further events to your listener.</p>\n"}],"owner":{"account_id":10336994,"reputation":33,"user_id":10065190,"display_name":"lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77059509,"answer_count":1,"score":0,"last_activity_date":1694088677,"creation_date":1694080888,"question_id":77058565,"body_markdown":"I can&#39;t get an event to trigger when the user stops pressing on the view.\r\n\r\nIn my object that extends `SurfaceView` and implements `SurfaceHolder.Callback` I have declared an object called `leftButton` which handles (you guessed it) the button to move left. I want the variable `leftButton.isDown` to be `true` when the button is being pressed and `false` at all other times. When the button is pressed `&quot;Pressed Down&quot;` appears in logs and the value of `leftButton.isDown` is set to `true`, but when it&#39;s released the value doesn&#39;t change and nothing appears in logs. My understanding is that when the button is released `event.getAction()` should be equal to `MotionEvent.ACTION_UP`. Why is this not working\r\n\r\n``` lang-java\r\n@Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        int action = event.getAction();\r\n        float x = event.getX();\r\n        float y = event.getY();\r\n\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                if (x &gt;= 100 &amp;&amp; x &lt; 400\r\n                        &amp;&amp; y &gt;= 1700 &amp;&amp; y &lt; 3600) {\r\n\r\n                    leftButton.isDown = true;\r\n                    Log.d(&quot;Touch Event&quot;, &quot;Pressed Down&quot;);\r\n                }\r\n                break;\r\n\r\n            case MotionEvent.ACTION_UP:\r\n                leftButton.isDown = false;\r\n                Log.d(&quot;Touch Event&quot;, &quot;Released&quot;);\r\n        }\r\n        return false;\r\n    }\r\n```","title":"MotionEvent.ACTION_UP not activated in onTouchEvent","body":"<p>I can't get an event to trigger when the user stops pressing on the view.</p>\n<p>In my object that extends <code>SurfaceView</code> and implements <code>SurfaceHolder.Callback</code> I have declared an object called <code>leftButton</code> which handles (you guessed it) the button to move left. I want the variable <code>leftButton.isDown</code> to be <code>true</code> when the button is being pressed and <code>false</code> at all other times. When the button is pressed <code>&quot;Pressed Down&quot;</code> appears in logs and the value of <code>leftButton.isDown</code> is set to <code>true</code>, but when it's released the value doesn't change and nothing appears in logs. My understanding is that when the button is released <code>event.getAction()</code> should be equal to <code>MotionEvent.ACTION_UP</code>. Why is this not working</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public boolean onTouchEvent(MotionEvent event) {\n        int action = event.getAction();\n        float x = event.getX();\n        float y = event.getY();\n\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                if (x &gt;= 100 &amp;&amp; x &lt; 400\n                        &amp;&amp; y &gt;= 1700 &amp;&amp; y &lt; 3600) {\n\n                    leftButton.isDown = true;\n                    Log.d(&quot;Touch Event&quot;, &quot;Pressed Down&quot;);\n                }\n                break;\n\n            case MotionEvent.ACTION_UP:\n                leftButton.isDown = false;\n                Log.d(&quot;Touch Event&quot;, &quot;Released&quot;);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694088592,"post_id":77059488,"comment_id":135846942,"body_markdown":"You cannot display it in that position. Beyond that, you would need to raise a `Notification` and keep switching the icon based on your detected speed.","body":"You cannot display it in that position. Beyond that, you would need to raise a <code>Notification</code> and keep switching the icon based on your detected speed."},{"owner":{"account_id":27632317,"reputation":56,"user_id":21090953,"display_name":"Ravi Taak"},"score":0,"creation_date":1694088807,"post_id":77059488,"comment_id":135846996,"body_markdown":"@CommonsWare can you tell me it is possible in flutter? or I have to write the code in native?","body":"@CommonsWare can you tell me it is possible in flutter? or I have to write the code in native?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1694088894,"post_id":77059488,"comment_id":135847009,"body_markdown":"&quot;can you tell me it is possible in flutter?&quot; -- I have no idea, sorry.","body":"&quot;can you tell me it is possible in flutter?&quot; -- I have no idea, sorry."},{"owner":{"account_id":20916470,"reputation":1320,"user_id":15366030,"display_name":"Sayyid J"},"score":0,"creation_date":1694091950,"post_id":77059488,"comment_id":135847653,"body_markdown":"its possible i think, maybe you can set status bar to transparent, create a fake statusbar contain widget you wanna show, its create an illusion","body":"its possible i think, maybe you can set status bar to transparent, create a fake statusbar contain widget you wanna show, its create an illusion"},{"owner":{"account_id":27632317,"reputation":56,"user_id":21090953,"display_name":"Ravi Taak"},"score":0,"creation_date":1694092008,"post_id":77059488,"comment_id":135847667,"body_markdown":"@SayyidJ but I wanna show it in background &#129394;","body":"@SayyidJ but I wanna show it in background 🥲"},{"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"score":0,"creation_date":1694092176,"post_id":77059488,"comment_id":135847713,"body_markdown":"you can&#39;t display in that position by posting notification, you can add a floating view but it may block status bar","body":"you can&#39;t display in that position by posting notification, you can add a floating view but it may block status bar"}],"owner":{"account_id":27632317,"reputation":56,"user_id":21090953,"display_name":"Ravi Taak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694088514,"creation_date":1694088514,"question_id":77059488,"body_markdown":"How can I show network speed in status bar. I want to show a notification that have a network speed and I achieve it but now I want that to show network speed in status bar like below image. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vDiqH.png\r\n\r\nAll suggestions will be appreciated.","title":"How can I show network speed in status bar","body":"<p>How can I show network speed in status bar. I want to show a notification that have a network speed and I achieve it but now I want that to show network speed in status bar like below image.</p>\n<p><a href=\"https://i.stack.imgur.com/vDiqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vDiqH.png\" alt=\"enter image description here\" /></a></p>\n<p>All suggestions will be appreciated.</p>\n"},{"tags":["java","sql-server","spring-boot","jdbc","quartz-scheduler"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694079141,"post_id":77057175,"comment_id":135845114,"body_markdown":"_&quot;quartz_tables_h2.sql&quot;_ is for H2, not SQL server. You need to use the right script for SQL Server.","body":"<i>&quot;quartz_tables_h2.sql&quot;</i> is for H2, not SQL server. You need to use the right script for SQL Server."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694079558,"post_id":77057175,"comment_id":135845199,"body_markdown":"Also, you need to use the `MSSQLDelegate` instead of `StdJDBCDelegate`.","body":"Also, you need to use the <code>MSSQLDelegate</code> instead of <code>StdJDBCDelegate</code>."},{"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"score":0,"creation_date":1694082322,"post_id":77057175,"comment_id":135845687,"body_markdown":"Which sql script should I use instead?","body":"Which sql script should I use instead?"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694082411,"post_id":77057175,"comment_id":135845703,"body_markdown":"`table_sqlServer.sql`, which is included in the `src/org/quartz/impl/jdbcjobstore` of the distribution, and in the `org/quartz/impl/jdbcjobstore` of the library JAR.","body":"<code>table_sqlServer.sql</code>, which is included in the <code>src&#47;org&#47;quartz&#47;impl&#47;jdbcjobstore</code> of the distribution, and in the <code>org&#47;quartz&#47;impl&#47;jdbcjobstore</code> of the library JAR."},{"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"score":0,"creation_date":1694082781,"post_id":77057175,"comment_id":135845775,"body_markdown":"Still same error. I added the new SQL script to the question.","body":"Still same error. I added the new SQL script to the question."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694082947,"post_id":77057175,"comment_id":135845805,"body_markdown":"Have you also switched to using the `MSSQLDelegate` instead of `StdJDBCDelegate`?","body":"Have you also switched to using the <code>MSSQLDelegate</code> instead of <code>StdJDBCDelegate</code>?"},{"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"score":0,"creation_date":1694083376,"post_id":77057175,"comment_id":135845873,"body_markdown":"Still `FOR UPDATE clause allowed only for DECLARE CURSOR` after changing to `MSSQLDelegate`","body":"Still <code>FOR UPDATE clause allowed only for DECLARE CURSOR</code> after changing to <code>MSSQLDelegate</code>"},{"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"score":0,"creation_date":1694084288,"post_id":77057175,"comment_id":135846031,"body_markdown":"Fixed it by adding `SelectMethod=cursor;` to the end of my datasource url","body":"Fixed it by adding <code>SelectMethod=cursor;</code> to the end of my datasource url"},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694084333,"post_id":77057175,"comment_id":135846040,"body_markdown":"Good to hear. I recommend you post that as an answer.","body":"Good to hear. I recommend you post that as an answer."}],"answers":[{"tags":[],"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694088315,"creation_date":1694088315,"answer_id":77059456,"question_id":77057175,"body_markdown":"Fixed it by adding `SelectMethod=cursor;` to the end of my datasource url\r\n\r\n\r\n```\r\nserver.port=8080\r\n\r\nspring.sql.init.schema-locations=classpath:db/quartz_tables_h2.sql\r\nspring.h2.console.enabled=true\r\nspring.datasource.url=jdbc:sqlserver://123.45.6.789;databaseName=myDB;encrypt=true;trustServerCertificate=true;SelectMethod=cursor\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nlogging.level.org.hibernate.SQL=debug\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```","title":"Spring Boot Quartz JDBC Jobstore with SQL Server database error","body":"<p>Fixed it by adding <code>SelectMethod=cursor;</code> to the end of my datasource url</p>\n<pre><code>server.port=8080\n\nspring.sql.init.schema-locations=classpath:db/quartz_tables_h2.sql\nspring.h2.console.enabled=true\nspring.datasource.url=jdbc:sqlserver://123.45.6.789;databaseName=myDB;encrypt=true;trustServerCertificate=true;SelectMethod=cursor\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\nlogging.level.org.hibernate.SQL=debug\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n"}],"owner":{"account_id":22651640,"reputation":11,"user_id":16826182,"display_name":"Benjamin Frank"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694088315,"creation_date":1694069174,"question_id":77057175,"body_markdown":"I want to make a Quartz JDBC Jobstore in Spring Boot and connect it with my SQL Server database.If I run the project, I get this error:\r\n\r\n&gt; Failure obtaining db row lock: Zeile 1: Die FOR UPDATE-Klausel ist nur\r\n&gt; f&#252;r DECLARE CURSOR zul&#228;ssig.\r\n\r\nThis error only occurs as soon as I configure it with my SQL Server DB URL, with the H2 DB it works completely fine.\r\n\r\n\r\nquartz.properties\r\n```ini\r\n#============================================================================\r\n# Configure Main Scheduler Properties\r\n#============================================================================\r\norg.quartz.scheduler.instanceName=spring-boot-quartz\r\norg.quartz.scheduler.instanceId=AUTO \r\n\r\n#============================================================================\r\n# Configure ThreadPool\r\n#============================================================================\r\norg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\r\norg.quartz.threadPool.threadCount = 25\r\norg.quartz.threadPool.threadPriority = 5\r\n\r\n#============================================================================\r\n# Configure JobStore\r\n#============================================================================\r\norg.quartz.jobStore.misfireThreshold=1000\r\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\r\norg.quartz.jobStore.useProperties=true\r\norg.quartz.jobStore.tablePrefix=QRTZ_\r\n\r\n\r\n#============================================================================\r\n# Configure Cluster properties\r\n#============================================================================\r\norg.quartz.jobStore.isClustered=true\r\norg.quartz.jobStore.clusterCheckinInterval=1000\r\n```\r\n\r\napplication.properties\r\n```ini\r\nserver.port=8080\r\n\r\nspring.sql.init.schema-locations=classpath:db/quartz_tables_h2.sql\r\nspring.h2.console.enabled=true\r\nspring.datasource.url=jdbc:sqlserver://123.45.6.789;databaseName=myDB;encrypt=true;trustServerCertificate=true\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nlogging.level.org.hibernate.SQL=debug\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```\r\n\r\nquartz_tables_h2.sql\r\n```\r\n\r\nUSE myDB\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISFOREIGNKEY&#39;) = 1)\r\nALTER TABLE [dbo].[QRTZ_TRIGGERS] DROP CONSTRAINT FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISFOREIGNKEY&#39;) = 1)\r\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] DROP CONSTRAINT FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISFOREIGNKEY&#39;) = 1)\r\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISFOREIGNKEY&#39;) = 1)\r\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISFOREIGNKEY&#39;) = 1)\r\nALTER TABLE [dbo].[QRTZ_BLOB_TRIGGERS] DROP CONSTRAINT FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_CALENDARS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_CALENDARS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_CRON_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_CRON_TRIGGERS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_BLOB_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_BLOB_TRIGGERS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_FIRED_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_FIRED_TRIGGERS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_PAUSED_TRIGGER_GRPS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_SCHEDULER_STATE]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_SCHEDULER_STATE]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_LOCKS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_LOCKS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_JOB_DETAILS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_JOB_DETAILS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_SIMPLE_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_SIMPROP_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS]\r\nGO\r\n\r\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N&#39;[dbo].[QRTZ_TRIGGERS]&#39;) AND OBJECTPROPERTY(id, N&#39;ISUSERTABLE&#39;) = 1)\r\nDROP TABLE [dbo].[QRTZ_TRIGGERS]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_CALENDARS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [CALENDAR_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [CALENDAR] [VARBINARY] (max) NOT NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_CRON_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [CRON_EXPRESSION] [VARCHAR] (120)  NOT NULL ,\r\n  [TIME_ZONE_ID] [VARCHAR] (80) \r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [ENTRY_ID] [VARCHAR] (95)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [FIRED_TIME] [BIGINT] NOT NULL ,\r\n  [SCHED_TIME] [BIGINT] NOT NULL ,\r\n  [PRIORITY] [INTEGER] NOT NULL ,\r\n  [STATE] [VARCHAR] (16)  NOT NULL,\r\n  [JOB_NAME] [VARCHAR] (200)  NULL ,\r\n  [JOB_GROUP] [VARCHAR] (200)  NULL ,\r\n  [IS_NONCONCURRENT] [VARCHAR] (1)  NULL ,\r\n  [REQUESTS_RECOVERY] [VARCHAR] (1)  NULL \r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL \r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_SCHEDULER_STATE] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [LAST_CHECKIN_TIME] [BIGINT] NOT NULL ,\r\n  [CHECKIN_INTERVAL] [BIGINT] NOT NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_LOCKS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [LOCK_NAME] [VARCHAR] (40)  NOT NULL \r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [JOB_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [JOB_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [DESCRIPTION] [VARCHAR] (250) NULL ,\r\n  [JOB_CLASS_NAME] [VARCHAR] (250)  NOT NULL ,\r\n  [IS_DURABLE] [VARCHAR] (1)  NOT NULL ,\r\n  [IS_NONCONCURRENT] [VARCHAR] (1)  NOT NULL ,\r\n  [IS_UPDATE_DATA] [VARCHAR] (1)  NOT NULL ,\r\n  [REQUESTS_RECOVERY] [VARCHAR] (1)  NOT NULL ,\r\n  [JOB_DATA] [VARBINARY] (max) NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [REPEAT_COUNT] [BIGINT] NOT NULL ,\r\n  [REPEAT_INTERVAL] [BIGINT] NOT NULL ,\r\n  [TIMES_TRIGGERED] [BIGINT] NOT NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [STR_PROP_1] [VARCHAR] (512) NULL,\r\n  [STR_PROP_2] [VARCHAR] (512) NULL,\r\n  [STR_PROP_3] [VARCHAR] (512) NULL,\r\n  [INT_PROP_1] [INT] NULL,\r\n  [INT_PROP_2] [INT] NULL,\r\n  [LONG_PROP_1] [BIGINT] NULL,\r\n  [LONG_PROP_2] [BIGINT] NULL,\r\n  [DEC_PROP_1] [NUMERIC] (13,4) NULL,\r\n  [DEC_PROP_2] [NUMERIC] (13,4) NULL,\r\n  [BOOL_PROP_1] [VARCHAR] (1) NULL,\r\n  [BOOL_PROP_2] [VARCHAR] (1) NULL,\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_BLOB_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [BLOB_DATA] [VARBINARY] (max) NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nCREATE TABLE [dbo].[QRTZ_TRIGGERS] (\r\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\r\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [JOB_NAME] [VARCHAR] (200)  NOT NULL ,\r\n  [JOB_GROUP] [VARCHAR] (200)  NOT NULL ,\r\n  [DESCRIPTION] [VARCHAR] (250) NULL ,\r\n  [NEXT_FIRE_TIME] [BIGINT] NULL ,\r\n  [PREV_FIRE_TIME] [BIGINT] NULL ,\r\n  [PRIORITY] [INTEGER] NULL ,\r\n  [TRIGGER_STATE] [VARCHAR] (16)  NOT NULL ,\r\n  [TRIGGER_TYPE] [VARCHAR] (8)  NOT NULL ,\r\n  [START_TIME] [BIGINT] NOT NULL ,\r\n  [END_TIME] [BIGINT] NULL ,\r\n  [CALENDAR_NAME] [VARCHAR] (200)  NULL ,\r\n  [MISFIRE_INSTR] [SMALLINT] NULL ,\r\n  [JOB_DATA] [VARBINARY] (max) NULL\r\n) ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_CALENDARS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_CALENDARS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [CALENDAR_NAME]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_CRON_TRIGGERS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_FIRED_TRIGGERS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_FIRED_TRIGGERS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [ENTRY_ID]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_PAUSED_TRIGGER_GRPS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_SCHEDULER_STATE] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_SCHEDULER_STATE] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [INSTANCE_NAME]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_LOCKS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_LOCKS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [LOCK_NAME]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_JOB_DETAILS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_JOB_DETAILS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [JOB_NAME],\r\n    [JOB_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_SIMPLE_TRIGGERS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_SIMPROP_TRIGGERS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_TRIGGERS] WITH NOCHECK ADD\r\n  CONSTRAINT [PK_QRTZ_TRIGGERS] PRIMARY KEY  CLUSTERED\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  )  ON [PRIMARY]\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\r\n  CONSTRAINT [FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) ON DELETE CASCADE\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\r\n  CONSTRAINT [FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) ON DELETE CASCADE\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\r\n  CONSTRAINT [FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) ON DELETE CASCADE\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_BLOB_TRIGGERS] ADD\r\n  CONSTRAINT [FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\r\n  (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\r\n    [SCHED_NAME],\r\n    [TRIGGER_NAME],\r\n    [TRIGGER_GROUP]\r\n  ) ON DELETE CASCADE\r\nGO\r\n\r\nALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\r\n  CONSTRAINT [FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] FOREIGN KEY\r\n  (\r\n    [SCHED_NAME],\r\n    [JOB_NAME],\r\n    [JOB_GROUP]\r\n  ) REFERENCES [dbo].[QRTZ_JOB_DETAILS] (\r\n    [SCHED_NAME],\r\n    [JOB_NAME],\r\n    [JOB_GROUP]\r\n  )\r\nGO\r\n\r\nCREATE NONCLUSTERED INDEX [IX_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_CRON_TRIGGERS]\r\n  (\r\n    [SCHED_NAME] ASC,\r\n    [TRIGGER_NAME] ASC,\r\n    [TRIGGER_GROUP] ASC\r\n  ) WITH (\r\n    PAD_INDEX  = OFF,\r\n    STATISTICS_NORECOMPUTE  = OFF,\r\n    SORT_IN_TEMPDB = OFF,\r\n    IGNORE_DUP_KEY = OFF,\r\n    DROP_EXISTING = OFF,\r\n    ONLINE = OFF,\r\n    ALLOW_ROW_LOCKS  = ON,\r\n    ALLOW_PAGE_LOCKS  = ON\r\n  ) ON [PRIMARY]\r\nGO\r\n\r\nCREATE NONCLUSTERED INDEX [IX_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_SIMPLE_TRIGGERS]\r\n  (\r\n    [SCHED_NAME] ASC,\r\n    [TRIGGER_NAME] ASC,\r\n    [TRIGGER_GROUP] ASC\r\n  ) WITH (\r\n    PAD_INDEX  = OFF,\r\n    STATISTICS_NORECOMPUTE  = OFF,\r\n    SORT_IN_TEMPDB = OFF,\r\n    IGNORE_DUP_KEY = OFF,\r\n    DROP_EXISTING = OFF,\r\n    ONLINE = OFF,\r\n    ALLOW_ROW_LOCKS  = ON,\r\n    ALLOW_PAGE_LOCKS  = ON\r\n  ) ON [PRIMARY]\r\nGO\r\n\r\nCREATE NONCLUSTERED INDEX [IX_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_SIMPROP_TRIGGERS]\r\n  (\r\n    [SCHED_NAME] ASC,\r\n    [TRIGGER_NAME] ASC,\r\n    [TRIGGER_GROUP] ASC\r\n  ) WITH (\r\n    PAD_INDEX  = OFF,\r\n    STATISTICS_NORECOMPUTE  = OFF,\r\n    SORT_IN_TEMPDB = OFF,\r\n    IGNORE_DUP_KEY = OFF,\r\n    DROP_EXISTING = OFF,\r\n    ONLINE = OFF,\r\n    ALLOW_ROW_LOCKS  = ON,\r\n    ALLOW_PAGE_LOCKS  = ON\r\n  ) ON [PRIMARY]\r\nGO\r\n\r\nCREATE NONCLUSTERED INDEX [IX_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] ON [dbo].[QRTZ_TRIGGERS]\r\n  (\r\n    [SCHED_NAME] ASC,\r\n    [TRIGGER_NAME] ASC,\r\n    [TRIGGER_GROUP] ASC\r\n  ) WITH (\r\n    PAD_INDEX  = OFF,\r\n    STATISTICS_NORECOMPUTE  = OFF,\r\n    SORT_IN_TEMPDB = OFF,\r\n    IGNORE_DUP_KEY = OFF,\r\n    DROP_EXISTING = OFF,\r\n    ONLINE = OFF,\r\n    ALLOW_ROW_LOCKS  = ON,\r\n    ALLOW_PAGE_LOCKS  = ON\r\n  ) ON [PRIMARY]\r\nGO\r\n```\r\n\r\nI used the code from this tutorial \r\n\r\n[https://stackabuse.com/guide-to-quartz-with-spring-boot-job-scheduling-and-automation/][1]\r\n\r\n\r\n  [1]: https://stackabuse.com/guide-to-quartz-with-spring-boot-job-scheduling-and-automation/\r\n\r\nI also tried adding \r\n`org.quartz.jobStore.selectWithLockSQL=SELECT * FROM {0}LOCKS UPDLOCK WHERE LOCK_NAME = ?`\r\nwhich didn&#39;t change anything.","title":"Spring Boot Quartz JDBC Jobstore with SQL Server database error","body":"<p>I want to make a Quartz JDBC Jobstore in Spring Boot and connect it with my SQL Server database.If I run the project, I get this error:</p>\n<blockquote>\n<p>Failure obtaining db row lock: Zeile 1: Die FOR UPDATE-Klausel ist nur\nfür DECLARE CURSOR zulässig.</p>\n</blockquote>\n<p>This error only occurs as soon as I configure it with my SQL Server DB URL, with the H2 DB it works completely fine.</p>\n<p>quartz.properties</p>\n<pre class=\"lang-ini prettyprint-override\"><code>#============================================================================\n# Configure Main Scheduler Properties\n#============================================================================\norg.quartz.scheduler.instanceName=spring-boot-quartz\norg.quartz.scheduler.instanceId=AUTO \n\n#============================================================================\n# Configure ThreadPool\n#============================================================================\norg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount = 25\norg.quartz.threadPool.threadPriority = 5\n\n#============================================================================\n# Configure JobStore\n#============================================================================\norg.quartz.jobStore.misfireThreshold=1000\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\norg.quartz.jobStore.useProperties=true\norg.quartz.jobStore.tablePrefix=QRTZ_\n\n\n#============================================================================\n# Configure Cluster properties\n#============================================================================\norg.quartz.jobStore.isClustered=true\norg.quartz.jobStore.clusterCheckinInterval=1000\n</code></pre>\n<p>application.properties</p>\n<pre class=\"lang-ini prettyprint-override\"><code>server.port=8080\n\nspring.sql.init.schema-locations=classpath:db/quartz_tables_h2.sql\nspring.h2.console.enabled=true\nspring.datasource.url=jdbc:sqlserver://123.45.6.789;databaseName=myDB;encrypt=true;trustServerCertificate=true\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\nlogging.level.org.hibernate.SQL=debug\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>quartz_tables_h2.sql</p>\n<pre><code>\nUSE myDB\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\nALTER TABLE [dbo].[QRTZ_TRIGGERS] DROP CONSTRAINT FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] DROP CONSTRAINT FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] DROP CONSTRAINT FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISFOREIGNKEY') = 1)\nALTER TABLE [dbo].[QRTZ_BLOB_TRIGGERS] DROP CONSTRAINT FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CALENDARS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_CALENDARS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_CRON_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_CRON_TRIGGERS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_BLOB_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_BLOB_TRIGGERS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_FIRED_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_FIRED_TRIGGERS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_PAUSED_TRIGGER_GRPS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SCHEDULER_STATE]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_SCHEDULER_STATE]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_LOCKS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_LOCKS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_JOB_DETAILS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_JOB_DETAILS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPLE_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_SIMPROP_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS]\nGO\n\nIF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[QRTZ_TRIGGERS]') AND OBJECTPROPERTY(id, N'ISUSERTABLE') = 1)\nDROP TABLE [dbo].[QRTZ_TRIGGERS]\nGO\n\nCREATE TABLE [dbo].[QRTZ_CALENDARS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [CALENDAR_NAME] [VARCHAR] (200)  NOT NULL ,\n  [CALENDAR] [VARBINARY] (max) NOT NULL\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_CRON_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [CRON_EXPRESSION] [VARCHAR] (120)  NOT NULL ,\n  [TIME_ZONE_ID] [VARCHAR] (80) \n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_FIRED_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [ENTRY_ID] [VARCHAR] (95)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\n  [FIRED_TIME] [BIGINT] NOT NULL ,\n  [SCHED_TIME] [BIGINT] NOT NULL ,\n  [PRIORITY] [INTEGER] NOT NULL ,\n  [STATE] [VARCHAR] (16)  NOT NULL,\n  [JOB_NAME] [VARCHAR] (200)  NULL ,\n  [JOB_GROUP] [VARCHAR] (200)  NULL ,\n  [IS_NONCONCURRENT] [VARCHAR] (1)  NULL ,\n  [REQUESTS_RECOVERY] [VARCHAR] (1)  NULL \n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL \n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_SCHEDULER_STATE] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [INSTANCE_NAME] [VARCHAR] (200)  NOT NULL ,\n  [LAST_CHECKIN_TIME] [BIGINT] NOT NULL ,\n  [CHECKIN_INTERVAL] [BIGINT] NOT NULL\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_LOCKS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [LOCK_NAME] [VARCHAR] (40)  NOT NULL \n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_JOB_DETAILS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [JOB_NAME] [VARCHAR] (200)  NOT NULL ,\n  [JOB_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [DESCRIPTION] [VARCHAR] (250) NULL ,\n  [JOB_CLASS_NAME] [VARCHAR] (250)  NOT NULL ,\n  [IS_DURABLE] [VARCHAR] (1)  NOT NULL ,\n  [IS_NONCONCURRENT] [VARCHAR] (1)  NOT NULL ,\n  [IS_UPDATE_DATA] [VARCHAR] (1)  NOT NULL ,\n  [REQUESTS_RECOVERY] [VARCHAR] (1)  NOT NULL ,\n  [JOB_DATA] [VARBINARY] (max) NULL\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [REPEAT_COUNT] [BIGINT] NOT NULL ,\n  [REPEAT_INTERVAL] [BIGINT] NOT NULL ,\n  [TIMES_TRIGGERED] [BIGINT] NOT NULL\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [STR_PROP_1] [VARCHAR] (512) NULL,\n  [STR_PROP_2] [VARCHAR] (512) NULL,\n  [STR_PROP_3] [VARCHAR] (512) NULL,\n  [INT_PROP_1] [INT] NULL,\n  [INT_PROP_2] [INT] NULL,\n  [LONG_PROP_1] [BIGINT] NULL,\n  [LONG_PROP_2] [BIGINT] NULL,\n  [DEC_PROP_1] [NUMERIC] (13,4) NULL,\n  [DEC_PROP_2] [NUMERIC] (13,4) NULL,\n  [BOOL_PROP_1] [VARCHAR] (1) NULL,\n  [BOOL_PROP_2] [VARCHAR] (1) NULL,\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_BLOB_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [BLOB_DATA] [VARBINARY] (max) NULL\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[QRTZ_TRIGGERS] (\n  [SCHED_NAME] [VARCHAR] (120)  NOT NULL ,\n  [TRIGGER_NAME] [VARCHAR] (200)  NOT NULL ,\n  [TRIGGER_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [JOB_NAME] [VARCHAR] (200)  NOT NULL ,\n  [JOB_GROUP] [VARCHAR] (200)  NOT NULL ,\n  [DESCRIPTION] [VARCHAR] (250) NULL ,\n  [NEXT_FIRE_TIME] [BIGINT] NULL ,\n  [PREV_FIRE_TIME] [BIGINT] NULL ,\n  [PRIORITY] [INTEGER] NULL ,\n  [TRIGGER_STATE] [VARCHAR] (16)  NOT NULL ,\n  [TRIGGER_TYPE] [VARCHAR] (8)  NOT NULL ,\n  [START_TIME] [BIGINT] NOT NULL ,\n  [END_TIME] [BIGINT] NULL ,\n  [CALENDAR_NAME] [VARCHAR] (200)  NULL ,\n  [MISFIRE_INSTR] [SMALLINT] NULL ,\n  [JOB_DATA] [VARBINARY] (max) NULL\n) ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_CALENDARS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_CALENDARS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [CALENDAR_NAME]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_CRON_TRIGGERS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_FIRED_TRIGGERS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_FIRED_TRIGGERS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [ENTRY_ID]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_PAUSED_TRIGGER_GRPS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_PAUSED_TRIGGER_GRPS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [TRIGGER_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_SCHEDULER_STATE] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_SCHEDULER_STATE] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [INSTANCE_NAME]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_LOCKS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_LOCKS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [LOCK_NAME]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_JOB_DETAILS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_JOB_DETAILS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [JOB_NAME],\n    [JOB_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_SIMPLE_TRIGGERS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_SIMPROP_TRIGGERS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_TRIGGERS] WITH NOCHECK ADD\n  CONSTRAINT [PK_QRTZ_TRIGGERS] PRIMARY KEY  CLUSTERED\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  )  ON [PRIMARY]\nGO\n\nALTER TABLE [dbo].[QRTZ_CRON_TRIGGERS] ADD\n  CONSTRAINT [FK_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) ON DELETE CASCADE\nGO\n\nALTER TABLE [dbo].[QRTZ_SIMPLE_TRIGGERS] ADD\n  CONSTRAINT [FK_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) ON DELETE CASCADE\nGO\n\nALTER TABLE [dbo].[QRTZ_SIMPROP_TRIGGERS] ADD\n  CONSTRAINT [FK_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) ON DELETE CASCADE\nGO\n\nALTER TABLE [dbo].[QRTZ_BLOB_TRIGGERS] ADD\n  CONSTRAINT [FK_QRTZ_BLOB_TRIGGERS_QRTZ_TRIGGERS] FOREIGN KEY\n  (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) REFERENCES [dbo].[QRTZ_TRIGGERS] (\n    [SCHED_NAME],\n    [TRIGGER_NAME],\n    [TRIGGER_GROUP]\n  ) ON DELETE CASCADE\nGO\n\nALTER TABLE [dbo].[QRTZ_TRIGGERS] ADD\n  CONSTRAINT [FK_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] FOREIGN KEY\n  (\n    [SCHED_NAME],\n    [JOB_NAME],\n    [JOB_GROUP]\n  ) REFERENCES [dbo].[QRTZ_JOB_DETAILS] (\n    [SCHED_NAME],\n    [JOB_NAME],\n    [JOB_GROUP]\n  )\nGO\n\nCREATE NONCLUSTERED INDEX [IX_QRTZ_CRON_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_CRON_TRIGGERS]\n  (\n    [SCHED_NAME] ASC,\n    [TRIGGER_NAME] ASC,\n    [TRIGGER_GROUP] ASC\n  ) WITH (\n    PAD_INDEX  = OFF,\n    STATISTICS_NORECOMPUTE  = OFF,\n    SORT_IN_TEMPDB = OFF,\n    IGNORE_DUP_KEY = OFF,\n    DROP_EXISTING = OFF,\n    ONLINE = OFF,\n    ALLOW_ROW_LOCKS  = ON,\n    ALLOW_PAGE_LOCKS  = ON\n  ) ON [PRIMARY]\nGO\n\nCREATE NONCLUSTERED INDEX [IX_QRTZ_SIMPLE_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_SIMPLE_TRIGGERS]\n  (\n    [SCHED_NAME] ASC,\n    [TRIGGER_NAME] ASC,\n    [TRIGGER_GROUP] ASC\n  ) WITH (\n    PAD_INDEX  = OFF,\n    STATISTICS_NORECOMPUTE  = OFF,\n    SORT_IN_TEMPDB = OFF,\n    IGNORE_DUP_KEY = OFF,\n    DROP_EXISTING = OFF,\n    ONLINE = OFF,\n    ALLOW_ROW_LOCKS  = ON,\n    ALLOW_PAGE_LOCKS  = ON\n  ) ON [PRIMARY]\nGO\n\nCREATE NONCLUSTERED INDEX [IX_QRTZ_SIMPROP_TRIGGERS_QRTZ_TRIGGERS] ON [dbo].[QRTZ_SIMPROP_TRIGGERS]\n  (\n    [SCHED_NAME] ASC,\n    [TRIGGER_NAME] ASC,\n    [TRIGGER_GROUP] ASC\n  ) WITH (\n    PAD_INDEX  = OFF,\n    STATISTICS_NORECOMPUTE  = OFF,\n    SORT_IN_TEMPDB = OFF,\n    IGNORE_DUP_KEY = OFF,\n    DROP_EXISTING = OFF,\n    ONLINE = OFF,\n    ALLOW_ROW_LOCKS  = ON,\n    ALLOW_PAGE_LOCKS  = ON\n  ) ON [PRIMARY]\nGO\n\nCREATE NONCLUSTERED INDEX [IX_QRTZ_TRIGGERS_QRTZ_JOB_DETAILS] ON [dbo].[QRTZ_TRIGGERS]\n  (\n    [SCHED_NAME] ASC,\n    [TRIGGER_NAME] ASC,\n    [TRIGGER_GROUP] ASC\n  ) WITH (\n    PAD_INDEX  = OFF,\n    STATISTICS_NORECOMPUTE  = OFF,\n    SORT_IN_TEMPDB = OFF,\n    IGNORE_DUP_KEY = OFF,\n    DROP_EXISTING = OFF,\n    ONLINE = OFF,\n    ALLOW_ROW_LOCKS  = ON,\n    ALLOW_PAGE_LOCKS  = ON\n  ) ON [PRIMARY]\nGO\n</code></pre>\n<p>I used the code from this tutorial</p>\n<p><a href=\"https://stackabuse.com/guide-to-quartz-with-spring-boot-job-scheduling-and-automation/\" rel=\"nofollow noreferrer\">https://stackabuse.com/guide-to-quartz-with-spring-boot-job-scheduling-and-automation/</a></p>\n<p>I also tried adding\n<code>org.quartz.jobStore.selectWithLockSQL=SELECT * FROM {0}LOCKS UPDLOCK WHERE LOCK_NAME = ?</code>\nwhich didn't change anything.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12659,"reputation":109857,"user_id":25050,"accept_rate":78,"display_name":"Mr Fooz"},"score":0,"creation_date":1346891425,"post_id":1976809,"comment_id":16488602,"body_markdown":"possible duplicate of [Round a double to 2 significant figures after decimal point](http://stackoverflow.com/questions/2808535/round-a-double-to-2-significant-figures-after-decimal-point)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2808535/round-a-double-to-2-significant-figures-after-decimal-point\">Round a double to 2 significant figures after decimal point</a>"}],"answers":[{"tags":[],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262119075,"creation_date":1262119075,"answer_id":1976816,"question_id":1976809,"body_markdown":"For most numbers, you won&#39;t be able to get an exact representation of `xxx.yyyy` unless you use a decimal class with guaranteed accuracy, such as [BigDecimal][1].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","title":"Are there any functions for truncating a double in java?","body":"<p>For most numbers, you won't be able to get an exact representation of <code>xxx.yyyy</code> unless you use a decimal class with guaranteed accuracy, such as <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a>.</p>\n"},{"tags":[],"owner":{"account_id":23694,"reputation":6200,"user_id":59557,"accept_rate":86,"display_name":"quant_dev"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1262121062,"creation_date":1262119078,"answer_id":1976818,"question_id":1976809,"body_markdown":"To do it 100% reliably, you&#39;d have to pass the argument as string, not as floating-point number. When given as string, the code is easy to write. The reason for this is that \r\n\r\n    double x = 1.1;\r\n\r\ndoes not mean that x will actually evaluate to 1.1, only to the closest exactly representable number.","title":"Are there any functions for truncating a double in java?","body":"<p>To do it 100% reliably, you'd have to pass the argument as string, not as floating-point number. When given as string, the code is easy to write. The reason for this is that </p>\n\n<pre><code>double x = 1.1;\n</code></pre>\n\n<p>does not mean that x will actually evaluate to 1.1, only to the closest exactly representable number.</p>\n"},{"tags":[],"owner":{"account_id":45006,"reputation":15366,"user_id":132396,"accept_rate":76,"display_name":"raoulsson"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1262121987,"creation_date":1262119084,"answer_id":1976819,"question_id":1976809,"body_markdown":"Try setScale of [BigDecimal][1] like so:\r\n\r\n    public static double round(double d, int decimalPlace) {\r\n        BigDecimal bd = new BigDecimal(d);\r\n        bd = bd.setScale(decimalPlace, BigDecimal.ROUND_HALF_UP);\r\n        return bd.doubleValue();\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html","title":"Are there any functions for truncating a double in java?","body":"<p>Try setScale of <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">BigDecimal</a> like so:</p>\n\n<pre><code>public static double round(double d, int decimalPlace) {\n    BigDecimal bd = new BigDecimal(d);\n    bd = bd.setScale(decimalPlace, BigDecimal.ROUND_HALF_UP);\n    return bd.doubleValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17638,"reputation":13945,"user_id":39666,"accept_rate":100,"display_name":"Berek Bryan"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1262119147,"creation_date":1262119147,"answer_id":1976825,"question_id":1976809,"body_markdown":"created a method to do it.\r\n\r\n    public double roundDouble(double d, int places) {\r\n        return Math.round(d * Math.pow(10, (double) places)) / Math.pow(10, (double)places);\r\n    }","title":"Are there any functions for truncating a double in java?","body":"<p>created a method to do it.</p>\n\n<pre><code>public double roundDouble(double d, int places) {\n    return Math.round(d * Math.pow(10, (double) places)) / Math.pow(10, (double)places);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1434022052,"creation_date":1262119563,"answer_id":1976865,"question_id":1976809,"body_markdown":"There&#39;s one in commons-math. Check out &lt;strike&gt;http://commons.apache.org/math/apidocs/org/apache/commons/math/util/MathUtils.html&lt;/strike&gt;:\r\n\r\n    public static double round(double x,\r\n                               int scale)\r\n\r\nIt&#39;s implemented using BigDecimal, and is overloaded to allow specifying a rounding method, so you can use it to truncate, like this:\r\n\r\n    org.apache.commons.math.util.MathUtils.round(1.575, 2, \r\n        java.math.BigDecimal.ROUND_DOWN);\r\n\r\n**Update:**\r\n\r\nIn the last version (Math3), this method is in the class [`Precision`][1].\r\n`org.apache.commons.math3.util.Precision.round(double x, int scale, int roundingMethod)`\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/util/Precision.html#round(double,%20int,%20int)","title":"Are there any functions for truncating a double in java?","body":"<p>There's one in commons-math. Check out <strike><a href=\"http://commons.apache.org/math/apidocs/org/apache/commons/math/util/MathUtils.html\" rel=\"nofollow noreferrer\">http://commons.apache.org/math/apidocs/org/apache/commons/math/util/MathUtils.html</a></strike>:</p>\n\n<pre><code>public static double round(double x,\n                           int scale)\n</code></pre>\n\n<p>It's implemented using BigDecimal, and is overloaded to allow specifying a rounding method, so you can use it to truncate, like this:</p>\n\n<pre><code>org.apache.commons.math.util.MathUtils.round(1.575, 2, \n    java.math.BigDecimal.ROUND_DOWN);\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>In the last version (Math3), this method is in the class <a href=\"https://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/util/Precision.html#round(double,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>Precision</code></a>.\n<code>org.apache.commons.math3.util.Precision.round(double x, int scale, int roundingMethod)</code></p>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1262119690,"creation_date":1262119690,"answer_id":1976872,"question_id":1976809,"body_markdown":"Actually, this sort of thing is easy to write:\r\n\r\n    public static double truncate(double value, int places) {\r\n        double multiplier = Math.pow(10, places);\r\n        return Math.floor(multiplier * value) / multiplier;\r\n    }\r\n\r\nNote that it&#39;s Math.floor, because Math.round wouldn&#39;t be truncating.\r\n\r\nOh, and this returns a double, because that&#39;s what most functions in the Math class return (like Math.pow and Math.floor).\r\n\r\nCaveat: Doubles suck for accuracy.  One of the BigDecimal solutions should be considered first.","title":"Are there any functions for truncating a double in java?","body":"<p>Actually, this sort of thing is easy to write:</p>\n\n<pre><code>public static double truncate(double value, int places) {\n    double multiplier = Math.pow(10, places);\n    return Math.floor(multiplier * value) / multiplier;\n}\n</code></pre>\n\n<p>Note that it's Math.floor, because Math.round wouldn't be truncating.</p>\n\n<p>Oh, and this returns a double, because that's what most functions in the Math class return (like Math.pow and Math.floor).</p>\n\n<p>Caveat: Doubles suck for accuracy.  One of the BigDecimal solutions should be considered first.</p>\n"},{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1310828982,"creation_date":1262121871,"answer_id":1977039,"question_id":1976809,"body_markdown":"Incredible no one brought this up yet, Java API has had [DecimalFormat][1] for ages now for this exact purpose.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/text/DecimalFormat.html","title":"Are there any functions for truncating a double in java?","body":"<p>Incredible no one brought this up yet, Java API has had <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a> for ages now for this exact purpose.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433897248,"creation_date":1262123361,"answer_id":1977163,"question_id":1976809,"body_markdown":"here is a short implementation which is many times faster than using BigDecimal or Math.pow\r\n\r\n    private static long TENS[] = new long[19];\r\n    static {\r\n        TENS[0] = 1;\r\n        for (int i = 1; i &lt; TENS.length; i++) TENS[i] = 10 * TENS[i - 1];\r\n    }\r\n    \r\n    public static double round(double v, int precision) {\r\n        assert precision &gt;= 0 &amp;&amp; precision &lt; TENS.length;\r\n        double unscaled = v * TENS[precision];\r\n        if(unscaled &lt; Long.MIN_VALUE || unscaled &gt; Long.MAX_VALUE) \r\n           return v;\r\n        long unscaledLong = (long) (unscaled + (v &lt; 0 ? -0.5 : 0.5));\r\n        return (double) unscaledLong / TENS[precision];\r\n    }\r\n\r\nDelete the assert&#39;ions to taste. ;)","title":"Are there any functions for truncating a double in java?","body":"<p>here is a short implementation which is many times faster than using BigDecimal or Math.pow</p>\n\n<pre><code>private static long TENS[] = new long[19];\nstatic {\n    TENS[0] = 1;\n    for (int i = 1; i &lt; TENS.length; i++) TENS[i] = 10 * TENS[i - 1];\n}\n\npublic static double round(double v, int precision) {\n    assert precision &gt;= 0 &amp;&amp; precision &lt; TENS.length;\n    double unscaled = v * TENS[precision];\n    if(unscaled &lt; Long.MIN_VALUE || unscaled &gt; Long.MAX_VALUE) \n       return v;\n    long unscaledLong = (long) (unscaled + (v &lt; 0 ? -0.5 : 0.5));\n    return (double) unscaledLong / TENS[precision];\n}\n</code></pre>\n\n<p>Delete the assert'ions to taste. ;)</p>\n"},{"tags":[],"owner":{"account_id":191130,"reputation":21,"user_id":431515,"display_name":"Syed Mustaffa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282804279,"creation_date":1282804279,"answer_id":3572544,"question_id":1976809,"body_markdown":"Use this simple function\r\n\r\n    double truncateDouble(double number, int numDigits) {\r\n        double result = number;\r\n        String arg = &quot;&quot; + number;\r\n        int idx = arg.indexOf(&#39;.&#39;);\r\n        if (idx!=-1) {\r\n            if (arg.length() &gt; idx+numDigits) {\r\n                arg = arg.substring(0,idx+numDigits+1);\r\n                result  = Double.parseDouble(arg);\r\n            }\r\n        }\r\n        return result ;\r\n    }","title":"Are there any functions for truncating a double in java?","body":"<p>Use this simple function</p>\n\n<pre><code>double truncateDouble(double number, int numDigits) {\n    double result = number;\n    String arg = \"\" + number;\n    int idx = arg.indexOf('.');\n    if (idx!=-1) {\n        if (arg.length() &gt; idx+numDigits) {\n            arg = arg.substring(0,idx+numDigits+1);\n            result  = Double.parseDouble(arg);\n        }\n    }\n    return result ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1554943,"reputation":21,"user_id":1446369,"display_name":"dvsaura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349829958,"creation_date":1349829958,"answer_id":12810427,"question_id":1976809,"body_markdown":"I just want to add to ubuntudroid&#39;s solution.\r\nI tried it and it wouldn&#39;t round down, so I had to add\r\n\r\n    df.setRoundingMode(RoundingMode.FLOOR);\r\n\r\nfor it to work.","title":"Are there any functions for truncating a double in java?","body":"<p>I just want to add to ubuntudroid's solution.\nI tried it and it wouldn't round down, so I had to add</p>\n\n<pre><code>df.setRoundingMode(RoundingMode.FLOOR);\n</code></pre>\n\n<p>for it to work.</p>\n"},{"tags":[],"owner":{"account_id":2219344,"reputation":2642,"user_id":1959181,"display_name":"Edgard Leal"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1694088019,"creation_date":1384133059,"answer_id":19897465,"question_id":1976809,"body_markdown":"Simply remove the fractional portion:\r\n\r\n\tpublic double trunk(double value){\r\n\t\treturn value - value % 1;\r\n\t}\r\n","title":"Are there any functions for truncating a double in java?","body":"<p>Simply remove the fractional portion:</p>\n<pre><code>public double trunk(double value){\n    return value - value % 1;\n}\n</code></pre>\n"}],"owner":{"display_name":"user63904"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63171,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":1976819,"answer_count":11,"score":24,"last_activity_date":1694088019,"creation_date":1262118938,"question_id":1976809,"body_markdown":"Is there a Java Library function which can be used to truncate a number to an arbitrary number of decimal places?\r\nFor Example.\r\n\r\n    SomeLibrary.truncate(1.575, 2) = 1.57\r\n\r\nThanks","title":"Are there any functions for truncating a double in java?","body":"<p>Is there a Java Library function which can be used to truncate a number to an arbitrary number of decimal places?\nFor Example.</p>\n\n<pre><code>SomeLibrary.truncate(1.575, 2) = 1.57\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694069666,"post_id":77057219,"comment_id":135843177,"body_markdown":"what is stopping you from configuring your test so that it fills the DB with the Data needed? But, if it&#39;s purely front-end, mocks could be used,.","body":"what is stopping you from configuring your test so that it fills the DB with the Data needed? But, if it&#39;s purely front-end, mocks could be used,."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694069736,"post_id":77057219,"comment_id":135843190,"body_markdown":"You _can_ get specific state, the database state. Whether it makes sense for your frontend testing is a different thing. If you&#39;re testing some complex chain of operations, it might be necessary to have a proper, replicable starting state.","body":"You <i>can</i> get specific state, the database state. Whether it makes sense for your frontend testing is a different thing. If you&#39;re testing some complex chain of operations, it might be necessary to have a proper, replicable starting state."},{"owner":{"account_id":16732777,"reputation":91,"user_id":12094709,"display_name":"GreenChicken"},"score":0,"creation_date":1694079158,"post_id":77057219,"comment_id":135845117,"body_markdown":"personally i always use mocked data (in you case state) for testing. testing with db feels like testing the db itself and i think that a db should not be tested","body":"personally i always use mocked data (in you case state) for testing. testing with db feels like testing the db itself and i think that a db should not be tested"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694087808,"creation_date":1694072869,"answer_id":77057589,"question_id":77057219,"body_markdown":"These sorts of tests are possible, but end up being quite time consuming to create and maintain over time with changes to the application\r\n\r\nA few gotchas:\r\n\r\n1. You need to ensure that changes made in one test don&#39;t &quot;bleed&quot; into another (eg tests pass when run A,B but fail when run B,A). It&#39;s always best to create test records during test setup rather than mutate existing &quot;shared&quot; records that are used by other tests. Any &quot;shared&quot; records required by multiple tests (eg clients/accounts etc) should remain static/immutable.\r\n\r\n2. It&#39;s quite likely you won&#39;t be able to use a database transaction and rollback in this scenario since the UI and the test harness (cucumber) will have their own database connections\r\n\r\n3. If making changes directly on the db (eg via JDBC) you need to be sure to drop any caches the UI might have (browser cache / serverside cache). Perhaps a test only rest endpoint where you POST a json for the test data would be better than direct JDBC in cucumber?\r\n\r\n4. Selenium testing can be hard to get right. Be sure to give any controls (text fields, buttons etc) html ID&#39;s so you can select by id. Relying on selectors such as `/div[2]/div[3]/button[4]` makes your tests fragile as they will break with simple UI changes in the future.\r\n\r\n5. This type of testing can be quite flakey for various reasons. You might find these tests are failing for days/weeks at a time because none of your teammates have time to fix some silly selenium/javascript wait condition which isn&#39;t working as expected\r\n\r\n6. You might find the cost of maintaining these sorts of tests are not worth the hassle. Perhaps a handful of &quot;hello world&quot; tests of your UI (eg simple assertion for each page that it loads and shows some data) will give you some sanity tests that aren&#39;t too expensive to maintain","title":"Does frontend testing with databases make sense?","body":"<p>These sorts of tests are possible, but end up being quite time consuming to create and maintain over time with changes to the application</p>\n<p>A few gotchas:</p>\n<ol>\n<li><p>You need to ensure that changes made in one test don't &quot;bleed&quot; into another (eg tests pass when run A,B but fail when run B,A). It's always best to create test records during test setup rather than mutate existing &quot;shared&quot; records that are used by other tests. Any &quot;shared&quot; records required by multiple tests (eg clients/accounts etc) should remain static/immutable.</p>\n</li>\n<li><p>It's quite likely you won't be able to use a database transaction and rollback in this scenario since the UI and the test harness (cucumber) will have their own database connections</p>\n</li>\n<li><p>If making changes directly on the db (eg via JDBC) you need to be sure to drop any caches the UI might have (browser cache / serverside cache). Perhaps a test only rest endpoint where you POST a json for the test data would be better than direct JDBC in cucumber?</p>\n</li>\n<li><p>Selenium testing can be hard to get right. Be sure to give any controls (text fields, buttons etc) html ID's so you can select by id. Relying on selectors such as <code>/div[2]/div[3]/button[4]</code> makes your tests fragile as they will break with simple UI changes in the future.</p>\n</li>\n<li><p>This type of testing can be quite flakey for various reasons. You might find these tests are failing for days/weeks at a time because none of your teammates have time to fix some silly selenium/javascript wait condition which isn't working as expected</p>\n</li>\n<li><p>You might find the cost of maintaining these sorts of tests are not worth the hassle. Perhaps a handful of &quot;hello world&quot; tests of your UI (eg simple assertion for each page that it loads and shows some data) will give you some sanity tests that aren't too expensive to maintain</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77057589,"answer_count":1,"score":0,"last_activity_date":1694087808,"creation_date":1694069583,"question_id":77057219,"body_markdown":"I have a task from a colleague, and I&#39;m a bit skeptical about it. Essentially, I have a frontend testing framework that uses Cucumber, Java, Selenium, and JUnit.\r\n\r\nMy colleague is trying to convince me that we can use a database to set up the required test prerequisites. For example, before running these tests, I need a specific state, but it seems implausible to me that a database can execute steps to create this state. I could be wrong because I&#39;m relatively new to automated testing.\r\n\r\nCan someone provide me with some advice on whether this is possible or worth pursuing?\r\n\r\nEdit: Output of this prerequisite is specific file which needs to be created before next step started.","title":"Does frontend testing with databases make sense?","body":"<p>I have a task from a colleague, and I'm a bit skeptical about it. Essentially, I have a frontend testing framework that uses Cucumber, Java, Selenium, and JUnit.</p>\n<p>My colleague is trying to convince me that we can use a database to set up the required test prerequisites. For example, before running these tests, I need a specific state, but it seems implausible to me that a database can execute steps to create this state. I could be wrong because I'm relatively new to automated testing.</p>\n<p>Can someone provide me with some advice on whether this is possible or worth pursuing?</p>\n<p>Edit: Output of this prerequisite is specific file which needs to be created before next step started.</p>\n"},{"tags":["java","swing","constructor","jpanel","awt"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1694086168,"post_id":77059170,"comment_id":135846404,"body_markdown":"Code isn&#39;t magic. It&#39;s all executed in the order you wrote it. So if your debugging found that &quot;the rest of the code was skipped&quot;, you must have missed something. Either an exception was thrown, or the code continued running. There are no magic skips.","body":"Code isn&#39;t magic. It&#39;s all executed in the order you wrote it. So if your debugging found that &quot;the rest of the code was skipped&quot;, you must have missed something. Either an exception was thrown, or the code continued running. There are no magic skips."},{"owner":{"account_id":28026834,"reputation":1,"user_id":21406675,"display_name":"山宗陽成"},"score":0,"creation_date":1694086895,"post_id":77059170,"comment_id":135846549,"body_markdown":"Thank you for your answer. I double-checked the debugging process, the code was indeed still running after I went through it. But why does the order of calling the two methods I mentioned above matter? Is it because &quot;initWindow()&quot; is dependent on &quot;initGamePanel()&quot; so that the order can&#39;t be changed?","body":"Thank you for your answer. I double-checked the debugging process, the code was indeed still running after I went through it. But why does the order of calling the two methods I mentioned above matter? Is it because &quot;initWindow()&quot; is dependent on &quot;initGamePanel()&quot; so that the order can&#39;t be changed?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1694087505,"post_id":77059170,"comment_id":135846681,"body_markdown":"Swing is lazy.  Calculating the layout and repainting the UI are expensive operations, so rather then trying to update the UI every time you add or remove components, the API requires YOU to request a new layout/paint pass when you think it&#39;s suitable.  Add a call to `revalidate` and `repaint` to the end of your `initGamePanel` call.","body":"Swing is lazy.  Calculating the layout and repainting the UI are expensive operations, so rather then trying to update the UI every time you add or remove components, the API requires YOU to request a new layout/paint pass when you think it&#39;s suitable.  Add a call to <code>revalidate</code> and <code>repaint</code> to the end of your <code>initGamePanel</code> call."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694087381,"creation_date":1694087381,"answer_id":77059345,"question_id":77059170,"body_markdown":"`initGamePanel` is updating the UI.  If called before `initWindow`, the UI&#39;s layout is calculated and will get painted as part of the windows process of becoming visible.  \r\n\r\nIf you reverse the calls, nothing is telling the system that the state of the UI has changed, and therefore it won&#39;t perform those operations.\r\n\r\nSwing is lazy.  When you change the state of the UI (especially the layout (ie adding/removing components)), YOU must inform the system that a new layout and paint pass should be performed.\r\n\r\nYou should add a call to `revalidate` and `repaint` at the end of the `initGamePanel` method, for example...\r\n\r\n    public void initGamePanel(){\r\n        // ...\r\n        revalidate();\r\n        repaint();\r\n    }\r\n\r\n`this.setSize(400,800);` is a bad idea.  A windows viewable content will be the size of the window MINUS the window decorations insets.\r\n\r\nInstead, you should make use of the layout management system and instead call `pack` on the window (but you should really only do that AFTER you&#39;ve established the base layout).\r\n\r\nI would also change `text [i][j] = new JTextArea();` to something like `text [i][j] = new JTextArea(1, 1);` so as to allow the `JTextArea` to report a suitable preferred size.  Not sure why you&#39;re using `JTextArea` of this, seems overly complicated for the task, but that&#39;s me.\r\n\r\n`text [i][j].addKeyListener(this);` is also a poor choice for monitoring keyboard input.  I might consider a `DocumentListener` instead or, if you&#39;re not using text input components, make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead, this will save you from a lot of seemingly random issues.\r\n\r\nThere was an issue with calling `this.setResizable(false);` AFTER a window was made visible which changed the size of the window decorations and did all sorts of weird things.  As a user, I&#39;d be grateful if you didn&#39;t do this, but instead, make extensive use of the layout management API to better manage the components when the window is resized.\r\n\r\nAlso, the work done by `initGamePanel` should really be done in the constructor, that way the UI is prepared by the time the constructor returns.\r\n\r\nYou should also avoid extending from top level containers such as `JFrame`. You&#39;re not adding a new functionality to the class and are locking yourself into a single use context.  `JFrame` is also a complex, compound component, usually best to avoid that mess if you can.","title":"Code was skipped after a instance of JPanel was created","body":"<p><code>initGamePanel</code> is updating the UI.  If called before <code>initWindow</code>, the UI's layout is calculated and will get painted as part of the windows process of becoming visible.</p>\n<p>If you reverse the calls, nothing is telling the system that the state of the UI has changed, and therefore it won't perform those operations.</p>\n<p>Swing is lazy.  When you change the state of the UI (especially the layout (ie adding/removing components)), YOU must inform the system that a new layout and paint pass should be performed.</p>\n<p>You should add a call to <code>revalidate</code> and <code>repaint</code> at the end of the <code>initGamePanel</code> method, for example...</p>\n<pre><code>public void initGamePanel(){\n    // ...\n    revalidate();\n    repaint();\n}\n</code></pre>\n<p><code>this.setSize(400,800);</code> is a bad idea.  A windows viewable content will be the size of the window MINUS the window decorations insets.</p>\n<p>Instead, you should make use of the layout management system and instead call <code>pack</code> on the window (but you should really only do that AFTER you've established the base layout).</p>\n<p>I would also change <code>text [i][j] = new JTextArea();</code> to something like <code>text [i][j] = new JTextArea(1, 1);</code> so as to allow the <code>JTextArea</code> to report a suitable preferred size.  Not sure why you're using <code>JTextArea</code> of this, seems overly complicated for the task, but that's me.</p>\n<p><code>text [i][j].addKeyListener(this);</code> is also a poor choice for monitoring keyboard input.  I might consider a <code>DocumentListener</code> instead or, if you're not using text input components, make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead, this will save you from a lot of seemingly random issues.</p>\n<p>There was an issue with calling <code>this.setResizable(false);</code> AFTER a window was made visible which changed the size of the window decorations and did all sorts of weird things.  As a user, I'd be grateful if you didn't do this, but instead, make extensive use of the layout management API to better manage the components when the window is resized.</p>\n<p>Also, the work done by <code>initGamePanel</code> should really be done in the constructor, that way the UI is prepared by the time the constructor returns.</p>\n<p>You should also avoid extending from top level containers such as <code>JFrame</code>. You're not adding a new functionality to the class and are locking yourself into a single use context.  <code>JFrame</code> is also a complex, compound component, usually best to avoid that mess if you can.</p>\n"}],"owner":{"account_id":28026834,"reputation":1,"user_id":21406675,"display_name":"山宗陽成"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1694087381,"creation_date":1694085915,"question_id":77059170,"body_markdown":"I am making a copy of the game Tetris and have created a game panel.\r\n\r\n\r\nI was trying to swap the order of `tetris.initGamePanel();` and `tetris.initWindow();` in \r\n```\r\n public static void main(String[] args){\r\n        Tetris tetris = new Tetris();\r\n        tetris.initGamePanel();\r\n        tetris.initWindow();//Why the order matters???\r\n        //tetris.initGamePanel();\r\n    }\r\n```\r\nand found out that when `tetris.initGamePanel();` was excuted first the program ran perfectly well but a blank window appeared when the order was changed to the other way round.\r\n\r\nSo i tried to debug the coden and found that the rest of the code in \r\n```\r\npublic void initGamePanel(){\r\n        JPanel game_main = new JPanel();\r\n        game_main.setLayout(new GridLayout(game_x,game_y,1,1));\r\n        //initialize game panel\r\n\r\n        for(int i = 0; i &lt; text.length; i++){\r\n            for (int j = 0; j &lt; text[i].length; j++){\r\n                //create a new JTextArea Object that contains parameter i and j\r\n                text [i][j] = new JTextArea();\r\n                text [i][j].setBackground(Color.white);\r\n                text [i][j].addKeyListener(this);\r\n                text [i][j].setEditable(false);\r\n\r\n\r\n                if(j == 0 || j == text[i].length-1 || i == text.length-1 ){\r\n                    text [i][j].setBackground(Color.MAGENTA);\r\n                    data [i][j] = 1;\r\n                }\r\n                game_main.add(text[i][j]);\r\n\r\n            }\r\n\r\n        }\r\n        this.setLayout(new BorderLayout());\r\n        this.add(game_main,BorderLayout.CENTER);\r\n    }\r\n```\r\nwas skipped after the JPanel instance was created in \r\n```\r\npublic void initGamePanel(){\r\n        JPanel game_main = new JPanel();\r\n```\r\n\r\nBut the strange thing is, everything seemed working well(in the correct order) dispite the fact that the rest of the code wasn&#39;t even gone through.\r\n\r\n\r\n\r\nThis is the whole piece of the code:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\n\r\npublic class Tetris extends JFrame implements KeyListener {\r\n    private static final int game_x = 24;\r\n    private static final int game_y = 12;\r\n    public Tetris(){\r\n        text = new JTextArea[game_x][game_y];\r\n        data = new int[game_x][game_y];\r\n        //initGamePanel();\r\n    }\r\n\r\n    JTextArea[][] text;\r\n    int [][] data;\r\n\r\n    public void initWindow(){\r\n        this.setSize(400,800);\r\n\r\n        this.setLocationRelativeTo(null);//align to the center if the component is set to null\r\n\r\n        this.setVisible(true);\r\n\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        this.setResizable(false);\r\n\r\n        this.setTitle(&quot;Tetris&quot;);\r\n    }\r\n\r\n    public void initGamePanel(){\r\n        JPanel game_main = new JPanel();\r\n        game_main.setLayout(new GridLayout(game_x,game_y,1,1));\r\n        //initialize game panel\r\n\r\n        for(int i = 0; i &lt; text.length; i++){\r\n            for (int j = 0; j &lt; text[i].length; j++){\r\n                //create a new JTextArea Object that contains parameter i and j\r\n                text [i][j] = new JTextArea();\r\n                text [i][j].setBackground(Color.white);\r\n                text [i][j].addKeyListener(this);\r\n                text [i][j].setEditable(false);\r\n\r\n\r\n                if(j == 0 || j == text[i].length-1 || i == text.length-1 ){\r\n                    text [i][j].setBackground(Color.MAGENTA);\r\n                    data [i][j] = 1;\r\n                }\r\n                game_main.add(text[i][j]);\r\n\r\n            }\r\n\r\n        }\r\n        this.setLayout(new BorderLayout());\r\n        this.add(game_main,BorderLayout.CENTER);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n\r\n    }\r\n    public static void main(String[] args){\r\n        Tetris tetris = new Tetris();\r\n        tetris.initGamePanel();\r\n        tetris.initWindow();//Why the order matters???\r\n        //tetris.initGamePanel();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI assume it&#39;s because JPanel&#39;s constructor somehow went through the rest of the code, but how?\r\n\r\n","title":"Code was skipped after a instance of JPanel was created","body":"<p>I am making a copy of the game Tetris and have created a game panel.</p>\n<p>I was trying to swap the order of <code>tetris.initGamePanel();</code> and <code>tetris.initWindow();</code> in</p>\n<pre><code> public static void main(String[] args){\n        Tetris tetris = new Tetris();\n        tetris.initGamePanel();\n        tetris.initWindow();//Why the order matters???\n        //tetris.initGamePanel();\n    }\n</code></pre>\n<p>and found out that when <code>tetris.initGamePanel();</code> was excuted first the program ran perfectly well but a blank window appeared when the order was changed to the other way round.</p>\n<p>So i tried to debug the coden and found that the rest of the code in</p>\n<pre><code>public void initGamePanel(){\n        JPanel game_main = new JPanel();\n        game_main.setLayout(new GridLayout(game_x,game_y,1,1));\n        //initialize game panel\n\n        for(int i = 0; i &lt; text.length; i++){\n            for (int j = 0; j &lt; text[i].length; j++){\n                //create a new JTextArea Object that contains parameter i and j\n                text [i][j] = new JTextArea();\n                text [i][j].setBackground(Color.white);\n                text [i][j].addKeyListener(this);\n                text [i][j].setEditable(false);\n\n\n                if(j == 0 || j == text[i].length-1 || i == text.length-1 ){\n                    text [i][j].setBackground(Color.MAGENTA);\n                    data [i][j] = 1;\n                }\n                game_main.add(text[i][j]);\n\n            }\n\n        }\n        this.setLayout(new BorderLayout());\n        this.add(game_main,BorderLayout.CENTER);\n    }\n</code></pre>\n<p>was skipped after the JPanel instance was created in</p>\n<pre><code>public void initGamePanel(){\n        JPanel game_main = new JPanel();\n</code></pre>\n<p>But the strange thing is, everything seemed working well(in the correct order) dispite the fact that the rest of the code wasn't even gone through.</p>\n<p>This is the whole piece of the code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\n\npublic class Tetris extends JFrame implements KeyListener {\n    private static final int game_x = 24;\n    private static final int game_y = 12;\n    public Tetris(){\n        text = new JTextArea[game_x][game_y];\n        data = new int[game_x][game_y];\n        //initGamePanel();\n    }\n\n    JTextArea[][] text;\n    int [][] data;\n\n    public void initWindow(){\n        this.setSize(400,800);\n\n        this.setLocationRelativeTo(null);//align to the center if the component is set to null\n\n        this.setVisible(true);\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.setResizable(false);\n\n        this.setTitle(&quot;Tetris&quot;);\n    }\n\n    public void initGamePanel(){\n        JPanel game_main = new JPanel();\n        game_main.setLayout(new GridLayout(game_x,game_y,1,1));\n        //initialize game panel\n\n        for(int i = 0; i &lt; text.length; i++){\n            for (int j = 0; j &lt; text[i].length; j++){\n                //create a new JTextArea Object that contains parameter i and j\n                text [i][j] = new JTextArea();\n                text [i][j].setBackground(Color.white);\n                text [i][j].addKeyListener(this);\n                text [i][j].setEditable(false);\n\n\n                if(j == 0 || j == text[i].length-1 || i == text.length-1 ){\n                    text [i][j].setBackground(Color.MAGENTA);\n                    data [i][j] = 1;\n                }\n                game_main.add(text[i][j]);\n\n            }\n\n        }\n        this.setLayout(new BorderLayout());\n        this.add(game_main,BorderLayout.CENTER);\n    }\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n\n    }\n    public static void main(String[] args){\n        Tetris tetris = new Tetris();\n        tetris.initGamePanel();\n        tetris.initWindow();//Why the order matters???\n        //tetris.initGamePanel();\n    }\n\n}\n</code></pre>\n<p>I assume it's because JPanel's constructor somehow went through the rest of the code, but how?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":16421360,"reputation":11,"user_id":11862466,"display_name":"Andrea Viola"},"score":0,"creation_date":1694083984,"post_id":77058553,"comment_id":135845988,"body_markdown":"Could it be a solution to save the file in csv and convert it back to excel and compare the values ​​containing formulas with the new excel file?","body":"Could it be a solution to save the file in csv and convert it back to excel and compare the values ​​containing formulas with the new excel file?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1694084575,"post_id":77058553,"comment_id":135846089,"body_markdown":"You seem to have read the file using `FileInputStream file = new FileInputStream(...)`, but it seems you haven&#39;t written it back to the disk after converting all the formulae to values.","body":"You seem to have read the file using <code>FileInputStream file = new FileInputStream(...)</code>, but it seems you haven&#39;t written it back to the disk after converting all the formulae to values."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694084616,"post_id":77058553,"comment_id":135846094,"body_markdown":"Ignore..  Just translated &quot;Altre operazioni o salvataggio del file&quot;..  So, I hope the file is written back to the disk.  And after that, have you tried to open it in your own machine and check that all the formulae have been converted to values?","body":"Ignore..  Just translated &quot;Altre operazioni o salvataggio del file&quot;..  So, I hope the file is written back to the disk.  And after that, have you tried to open it in your own machine and check that all the formulae have been converted to values?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694084801,"post_id":77058553,"comment_id":135846121,"body_markdown":"Can you also try and delete the &#39;DB&#39; sheet as part of the save process?  Keep it in the original, but not the one saved with fixed values.  This is to make sure that on the destination server, the DB sheet does not try to regenerate the values in the Report sheet.","body":"Can you also try and delete the &#39;DB&#39; sheet as part of the save process?  Keep it in the original, but not the one saved with fixed values.  This is to make sure that on the destination server, the DB sheet does not try to regenerate the values in the Report sheet."},{"owner":{"account_id":16421360,"reputation":11,"user_id":11862466,"display_name":"Andrea Viola"},"score":0,"creation_date":1694089160,"post_id":77058553,"comment_id":135847056,"body_markdown":"Yes, the sent file is just a small excerpt. I have read that for custom formulas it is necessary to write the functioning of the formula because it is not recognized. I tried to delete the DB sheet but the result is the same","body":"Yes, the sent file is just a small excerpt. I have read that for custom formulas it is necessary to write the functioning of the formula because it is not recognized. I tried to delete the DB sheet but the result is the same"},{"owner":{"account_id":986214,"reputation":975,"user_id":1004631,"display_name":"robot_alien"},"score":0,"creation_date":1694093265,"post_id":77058553,"comment_id":135847967,"body_markdown":"What I think is you need to first copy the DB Worksheet and then the Report Worksheet. As the Report Worksheet is using data evaluated from the other worksheet. May be it is unable to locate DB (technically, which also does not exist yet), therefore not able to intercept what the cell E33 from DB worksheet contains etc?","body":"What I think is you need to first copy the DB Worksheet and then the Report Worksheet. As the Report Worksheet is using data evaluated from the other worksheet. May be it is unable to locate DB (technically, which also does not exist yet), therefore not able to intercept what the cell E33 from DB worksheet contains etc?"},{"owner":{"account_id":16421360,"reputation":11,"user_id":11862466,"display_name":"Andrea Viola"},"score":0,"creation_date":1694156118,"post_id":77058553,"comment_id":135856811,"body_markdown":"In reality, when debugging, the value is not present in the cell, it is probably the fault of the extension, apachePOI opens the file in XML and the extension is not processed, it is processed as soon as Excel is opened...","body":"In reality, when debugging, the value is not present in the cell, it is probably the fault of the extension, apachePOI opens the file in XML and the extension is not processed, it is processed as soon as Excel is opened..."}],"owner":{"account_id":16421360,"reputation":11,"user_id":11862466,"display_name":"Andrea Viola"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694087173,"creation_date":1694080742,"question_id":77058553,"body_markdown":"I am currently working on a Java software project aimed at generating reports. Within the Excel file (xlsx) used in this project, there exist two distinct worksheets: &#39;Report&#39; and &#39;DB&#39;.\r\n\r\nThe &#39;DB&#39; worksheet houses values retrieved from a database through the utilization of an XLA extension, employing the formula =AimHistValue(P1, P2, P3, P4). This formula yields the expected result of 1.92.\r\n\r\nIn the &#39;Report&#39; worksheet, there exists an association linking to &#39;DB!E33&#39;.\r\n\r\nThe software functions flawlessly on the host machine where the database resides. However, there arises a need to transfer these files to alternate machines for further processing.\r\n\r\nRegrettably, during the file transfer process, all contents within the .xlsx file are inadvertently lost. I have made attempts to employ an evaluator but have encountered challenges as it struggles to process the formula =AimHistValue.\r\n\r\nI would appreciate any insights or guidance on how to resolve this issue and ensure the successful execution of the software on different machines without data loss.\r\n\r\n\r\n```\r\nimport org.apache.poi.ss.usermodel.*;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.ss.util.CellValue;\r\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\r\n\r\n// ... (Altre importazioni necessarie)\r\n\r\nprivate void copyFormulasAsValues(XSSFWorkbook workbook, XSSFSheet reportSheet) {\r\n    FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n\r\n    for (Row row : reportSheet) {\r\n        for (Cell cell : row) {\r\n            if (cell != null &amp;&amp; cell.getCellType() == CellType.FORMULA) {\r\n                CellValue formulaResult = evaluator.evaluate(cell);\r\n                if (formulaResult.getCellType() == CellType.NUMERIC) {\r\n                    double value = formulaResult.getNumberValue();\r\n                    // Imposta il risultato numerico come valore nella stessa cella\r\n                    cell.setCellValue(value);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Esempio di utilizzo\r\nprivate void generateReport() {\r\n    try {\r\n        FileInputStream file = new FileInputStream(&quot;C:\\\\percorso\\\\del\\\\tuo\\\\file.xlsx&quot;);\r\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n        XSSFSheet reportSheet = workbook.getSheet(&quot;Report&quot;);\r\n\r\n        copyFormulasAsValues(workbook, reportSheet);\r\n\r\n        // ... (Altre operazioni o salvataggio del file)\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Apache POI Generate Report","body":"<p>I am currently working on a Java software project aimed at generating reports. Within the Excel file (xlsx) used in this project, there exist two distinct worksheets: 'Report' and 'DB'.</p>\n<p>The 'DB' worksheet houses values retrieved from a database through the utilization of an XLA extension, employing the formula =AimHistValue(P1, P2, P3, P4). This formula yields the expected result of 1.92.</p>\n<p>In the 'Report' worksheet, there exists an association linking to 'DB!E33'.</p>\n<p>The software functions flawlessly on the host machine where the database resides. However, there arises a need to transfer these files to alternate machines for further processing.</p>\n<p>Regrettably, during the file transfer process, all contents within the .xlsx file are inadvertently lost. I have made attempts to employ an evaluator but have encountered challenges as it struggles to process the formula =AimHistValue.</p>\n<p>I would appreciate any insights or guidance on how to resolve this issue and ensure the successful execution of the software on different machines without data loss.</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.ss.util.CellValue;\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\n\n// ... (Altre importazioni necessarie)\n\nprivate void copyFormulasAsValues(XSSFWorkbook workbook, XSSFSheet reportSheet) {\n    FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\n\n    for (Row row : reportSheet) {\n        for (Cell cell : row) {\n            if (cell != null &amp;&amp; cell.getCellType() == CellType.FORMULA) {\n                CellValue formulaResult = evaluator.evaluate(cell);\n                if (formulaResult.getCellType() == CellType.NUMERIC) {\n                    double value = formulaResult.getNumberValue();\n                    // Imposta il risultato numerico come valore nella stessa cella\n                    cell.setCellValue(value);\n                }\n            }\n        }\n    }\n}\n\n// Esempio di utilizzo\nprivate void generateReport() {\n    try {\n        FileInputStream file = new FileInputStream(&quot;C:\\\\percorso\\\\del\\\\tuo\\\\file.xlsx&quot;);\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n        XSSFSheet reportSheet = workbook.getSheet(&quot;Report&quot;);\n\n        copyFormulasAsValues(workbook, reportSheet);\n\n        // ... (Altre operazioni o salvataggio del file)\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27527932,"reputation":51,"user_id":21006940,"display_name":"PeterH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693897002,"creation_date":1693894378,"answer_id":77042077,"question_id":77030248,"body_markdown":"Try with this:\r\n\r\n```java\r\nSearchConfig.forPaths(classPath)\r\n.by(ClassCriteria.create().allThoseThatMatch((cls) -&gt; \r\n        cls.isAnnotationPresent(ManagedBean.class) &amp;&amp; StaticComponentContainer.Constructors.findFirst(\r\n\t\t\t\tConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch(constructor -&gt; constructor.getParameterCount() == 0), cls) == null\r\n    ).and().byMembers(\r\n        ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt; \r\n        \tconstructor.getParameterCount() &gt; 0\r\n        )\r\n    )\r\n);\r\n```","title":"Is there &#39;Not&#39; operator in Burningwave Classhunter criteria API?","body":"<p>Try with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchConfig.forPaths(classPath)\n.by(ClassCriteria.create().allThoseThatMatch((cls) -&gt; \n        cls.isAnnotationPresent(ManagedBean.class) &amp;&amp; StaticComponentContainer.Constructors.findFirst(\n                ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch(constructor -&gt; constructor.getParameterCount() == 0), cls) == null\n    ).and().byMembers(\n        ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt; \n            constructor.getParameterCount() &gt; 0\n        )\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27527988,"reputation":61,"user_id":21006984,"display_name":"JohnR"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694087109,"creation_date":1694068686,"answer_id":77057121,"question_id":77030248,"body_markdown":"Which version are you using? In the latest version you can find the method `negate` that solves the problem:\r\n\r\n \r\n\r\n```java\r\nSearchConfig.forPaths(classPath)\r\n.by(ClassCriteria.create().allThoseThatMatch((cls) -&gt;\r\n        cls.isAnnotationPresent(ManagedBean.class)\r\n    ).and(\r\n\t\tClassCriteria.create().byMembers(\r\n\t        ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt;\r\n\t            constructor.getParameterCount() == 0\r\n\t        )\r\n\t    ).negate()\r\n\t).and().byMembers(\r\n        ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt;\r\n            constructor.getParameterCount() &gt; 0\r\n        )\r\n    )\r\n);\r\n```","title":"Is there &#39;Not&#39; operator in Burningwave Classhunter criteria API?","body":"<p>Which version are you using? In the latest version you can find the method <code>negate</code> that solves the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchConfig.forPaths(classPath)\n.by(ClassCriteria.create().allThoseThatMatch((cls) -&gt;\n        cls.isAnnotationPresent(ManagedBean.class)\n    ).and(\n        ClassCriteria.create().byMembers(\n            ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt;\n                constructor.getParameterCount() == 0\n            )\n        ).negate()\n    ).and().byMembers(\n        ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt;\n            constructor.getParameterCount() &gt; 0\n        )\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":2253730,"reputation":51,"user_id":1985403,"display_name":"KDV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694087109,"creation_date":1693693533,"question_id":77030248,"body_markdown":"Is it possible with burningwave classhunter to find classes WITHOUT a no-params constructor?\r\nIt&#39;s easy to get classes WITH no-op constructor, e.g.:\r\n```\r\nSearchConfig.forPaths(classPath)\r\n        .by(ClassCriteria.create().allThoseThatMatch((cls) -&gt; {\r\n                return cls.isAnnotationPresent(ManagedBean.class);\r\n            }).and().byMembers(\r\n                ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt; {\r\n                    return constructor.getParameterCount() == 0;\r\n                })\r\n            )\r\n        );\r\n```\r\n\r\nOf course, negating constructor predicate results in classes WITH 1-or-more-params constructor INDEPENDENTLY OF there is no-params constructor or not. Seems, there is no &#39;Not&#39; operator(or any other obvious negate) which can be applied at .byMembers() or .allThoseThatMatch() level.","title":"Is there &#39;Not&#39; operator in Burningwave Classhunter criteria API?","body":"<p>Is it possible with burningwave classhunter to find classes WITHOUT a no-params constructor?\nIt's easy to get classes WITH no-op constructor, e.g.:</p>\n<pre><code>SearchConfig.forPaths(classPath)\n        .by(ClassCriteria.create().allThoseThatMatch((cls) -&gt; {\n                return cls.isAnnotationPresent(ManagedBean.class);\n            }).and().byMembers(\n                ConstructorCriteria.withoutConsideringParentClasses().allThoseThatMatch((constructor) -&gt; {\n                    return constructor.getParameterCount() == 0;\n                })\n            )\n        );\n</code></pre>\n<p>Of course, negating constructor predicate results in classes WITH 1-or-more-params constructor INDEPENDENTLY OF there is no-params constructor or not. Seems, there is no 'Not' operator(or any other obvious negate) which can be applied at .byMembers() or .allThoseThatMatch() level.</p>\n"},{"tags":["java","android","uri","delete-file"],"comments":[{"owner":{"account_id":1284798,"reputation":1958,"user_id":1238105,"accept_rate":16,"display_name":"L&#233;a Massiot"},"score":0,"creation_date":1598432514,"post_id":63579633,"comment_id":112454419,"body_markdown":"Hi. I rewrote my post. I hope it is clearer? Thanks.","body":"Hi. I rewrote my post. I hope it is clearer? Thanks."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1598435704,"post_id":63579633,"comment_id":112456015,"body_markdown":"You do not have to let the user select a directory first. Selecting the file is all that ia needed.","body":"You do not have to let the user select a directory first. Selecting the file is all that ia needed."}],"answers":[{"tags":[],"owner":{"account_id":1284798,"reputation":1958,"user_id":1238105,"accept_rate":16,"display_name":"L&#233;a Massiot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598438885,"creation_date":1598435373,"answer_id":63594986,"question_id":63579633,"body_markdown":"I found this solution using the class `DocumentFile` instead of `ContentResolver`.\r\n\r\nThe file is deleted.\r\n\r\n    public class MyActivity extends AppCompatActivity\r\n    {    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem menuItem)\r\n        {\r\n        int n_requestCode;\r\n    \r\n            switch(menuItem.getItemId())\r\n            {\r\n                [...]\r\n                case R.id.delete_file:\r\n                    n_requestCode = 109;\r\n                    startSAFActionOpenDocument(n_requestCode);\r\n                    break;\r\n                [...]\r\n            }\r\n            [...]\r\n        }\r\n    \r\n        private void startSAFActionOpenDocument(int n_requestCode)\r\n        {\r\n        Intent intent = null;\r\n    \r\n            intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            intent.setType(&quot;*/*&quot;);\r\n            startActivityForResult(intent, n_requestCode);\r\n        }\r\n    \r\n        protected void onActivityResult(int n_requestCode, int n_resultCode, Intent data)\r\n        {\r\n        DocumentFile srcDoc;\r\n    \r\n            if(n_requestCode == 109)\r\n            {\r\n                srcDoc = DocumentFile.fromSingleUri(this, data.getData());\r\n                try\r\n                {\r\n                    srcDoc.delete();\r\n                }\r\n                catch(Exception exn)\r\n                {\r\n                    exn.printStackTrace();\r\n                }                \r\n            }\r\n        }\r\n    }","title":"Deleting a file given a Storage Access Framework uri and using content resolver fails","body":"<p>I found this solution using the class <code>DocumentFile</code> instead of <code>ContentResolver</code>.</p>\n<p>The file is deleted.</p>\n<pre><code>public class MyActivity extends AppCompatActivity\n{    \n    @Override\n    public boolean onOptionsItemSelected(MenuItem menuItem)\n    {\n    int n_requestCode;\n\n        switch(menuItem.getItemId())\n        {\n            [...]\n            case R.id.delete_file:\n                n_requestCode = 109;\n                startSAFActionOpenDocument(n_requestCode);\n                break;\n            [...]\n        }\n        [...]\n    }\n\n    private void startSAFActionOpenDocument(int n_requestCode)\n    {\n    Intent intent = null;\n\n        intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;*/*&quot;);\n        startActivityForResult(intent, n_requestCode);\n    }\n\n    protected void onActivityResult(int n_requestCode, int n_resultCode, Intent data)\n    {\n    DocumentFile srcDoc;\n\n        if(n_requestCode == 109)\n        {\n            srcDoc = DocumentFile.fromSingleUri(this, data.getData());\n            try\n            {\n                srcDoc.delete();\n            }\n            catch(Exception exn)\n            {\n                exn.printStackTrace();\n            }                \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598435584,"creation_date":1598435584,"answer_id":63595048,"question_id":63579633,"body_markdown":"The operation is not supported is the message.\r\n\r\nTry instead:\r\n\r\n    DocumentFile srcDoc = DocumentFile.fromSingleUri(context, data.getData());\r\n\r\n\tif ( srcDoc.delete() )\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t}\r\n\r\nYour answer may work but code is too complicated.\r\nAlso the user does not have to select the directory first.","title":"Deleting a file given a Storage Access Framework uri and using content resolver fails","body":"<p>The operation is not supported is the message.</p>\n<p>Try instead:</p>\n<pre><code>DocumentFile srcDoc = DocumentFile.fromSingleUri(context, data.getData());\n\nif ( srcDoc.delete() )\n                    {\n\n                    }\n</code></pre>\n<p>Your answer may work but code is too complicated.\nAlso the user does not have to select the directory first.</p>\n"},{"tags":[],"owner":{"account_id":1132785,"reputation":12894,"user_id":1118475,"accept_rate":79,"display_name":"Michał Klimczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694086630,"creation_date":1694086630,"answer_id":77059255,"question_id":63579633,"body_markdown":"Other answers use `DocumentFile`, which requires an additional library dependency.\r\n\r\nInstead, you can simply use:\r\n\r\n```\r\nDocumentsContract.deleteDocument(context.contentResolver, destinationUri)\r\n```","title":"Deleting a file given a Storage Access Framework uri and using content resolver fails","body":"<p>Other answers use <code>DocumentFile</code>, which requires an additional library dependency.</p>\n<p>Instead, you can simply use:</p>\n<pre><code>DocumentsContract.deleteDocument(context.contentResolver, destinationUri)\n</code></pre>\n"}],"owner":{"account_id":1284798,"reputation":1958,"user_id":1238105,"accept_rate":16,"display_name":"L&#233;a Massiot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694086630,"creation_date":1598361133,"question_id":63579633,"body_markdown":"I am trying to delete a file using `Storage Access Framework`.\r\nBelow are some elements of code:\r\n\r\n    public class MyActivity extends AppCompatActivity\r\n    {\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem menuItem)\r\n        {\r\n        int n_requestCode;\r\n    \r\n            switch(menuItem.getItemId())\r\n            {\r\n                [...]\r\n                case R.id.delete_file:\r\n                    n_requestCode = 108;\r\n                    startSAFActionOpenDocumentTree(n_requestCode);\r\n                    break;\r\n                [...]\r\n            }\r\n            [...]\r\n        }\r\n    \r\n        public void startSAFActionOpenDocumentTree(int n_requestCode)\r\n        {\r\n        Intent intent;\r\n        \r\n            intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\t\r\n            startActivityForResult(intent, n_requestCode);\r\n        }\r\n    \r\n        private void startSAFActionOpenDocument(int n_requestCode)\r\n        {\r\n        Intent intent = null;\r\n    \r\n            intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            intent.setType(&quot;*/*&quot;);\r\n            startActivityForResult(intent, n_requestCode);\r\n        }\r\n    \r\n        protected void onActivityResult(int n_requestCode, int n_resultCode, Intent data)\r\n        {\r\n        android.net.Uri uri;\r\n        ContentResolver contentResolver;\r\n    \r\n            if(n_requestCode == 108)\r\n            {\r\n                n_requestCode = 109;\r\n                startSAFActionOpenDocument(n_requestCode);\r\n            }\r\n            else if(n_requestCode == 109)\r\n            {\r\n                uri = data.getData();                      \r\n                contentResolver = getContentResolver();\r\n    \r\n                try\r\n                {\r\n                    contentResolver.delete(uri, null, null);\r\n                }\r\n                catch(Exception exn)\r\n                {\r\n                    exn.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHence, the use case is the following:\r\n\r\n - The user taps the activity menu entry which id is `R.id.delete_file`.\r\n - Then the user has to select a directory\r\n - and then a file in this directory. This is where an `android.net.Uri` is retrieved in the code.\r\n - Given this uri, I would like to delete the corresponding file.\r\n\r\nThe problem is the following:\r\n\r\nThe `contentResolver.delete(uri, null, null);` raises the following exception:\r\n\r\n    W/System.err: java.lang.UnsupportedOperationException: Delete not supported\r\n                at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:167)\r\n                at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\r\n                at android.content.ContentProviderProxy.delete(ContentProviderNative.java:544)\r\n                at android.content.ContentResolver.delete(ContentResolver.java:1330)\r\n                at [...]MyActivity.onActivityResult(MyActivity.java:[...])\r\n                at android.app.Activity.dispatchActivityResult(Activity.java:6490)\r\n                at android.app.ActivityThread.deliverResults(ActivityThread.java:3695)\r\n                at android.app.ActivityThread.handleSendResult(ActivityThread.java:3742)\r\n                at android.app.ActivityThread.access$1400(ActivityThread.java:150)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1393)\r\n    W/System.err:   at android.os.Handler.dispatchMessage(Handler.java:102)\r\n                    at android.os.Looper.loop(Looper.java:148)\r\n                    at android.app.ActivityThread.main(ActivityThread.java:5417)\r\n                    at java.lang.reflect.Method.invoke(Native Method)\r\n                    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\r\n                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\r\n\r\nNote that, at another place in the code, I use the `delete()` method of the `java.io.File` class with an argument that is a file path (a String), not an `android.net.Uri` and the deletion works for the very same file.\r\n\r\nCan you please help me solve that problem? Thanks.\r\n","title":"Deleting a file given a Storage Access Framework uri and using content resolver fails","body":"<p>I am trying to delete a file using <code>Storage Access Framework</code>.\nBelow are some elements of code:</p>\n<pre><code>public class MyActivity extends AppCompatActivity\n{\n    @Override\n    public boolean onOptionsItemSelected(MenuItem menuItem)\n    {\n    int n_requestCode;\n\n        switch(menuItem.getItemId())\n        {\n            [...]\n            case R.id.delete_file:\n                n_requestCode = 108;\n                startSAFActionOpenDocumentTree(n_requestCode);\n                break;\n            [...]\n        }\n        [...]\n    }\n\n    public void startSAFActionOpenDocumentTree(int n_requestCode)\n    {\n    Intent intent;\n    \n        intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);  \n        startActivityForResult(intent, n_requestCode);\n    }\n\n    private void startSAFActionOpenDocument(int n_requestCode)\n    {\n    Intent intent = null;\n\n        intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;*/*&quot;);\n        startActivityForResult(intent, n_requestCode);\n    }\n\n    protected void onActivityResult(int n_requestCode, int n_resultCode, Intent data)\n    {\n    android.net.Uri uri;\n    ContentResolver contentResolver;\n\n        if(n_requestCode == 108)\n        {\n            n_requestCode = 109;\n            startSAFActionOpenDocument(n_requestCode);\n        }\n        else if(n_requestCode == 109)\n        {\n            uri = data.getData();                      \n            contentResolver = getContentResolver();\n\n            try\n            {\n                contentResolver.delete(uri, null, null);\n            }\n            catch(Exception exn)\n            {\n                exn.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Hence, the use case is the following:</p>\n<ul>\n<li>The user taps the activity menu entry which id is <code>R.id.delete_file</code>.</li>\n<li>Then the user has to select a directory</li>\n<li>and then a file in this directory. This is where an <code>android.net.Uri</code> is retrieved in the code.</li>\n<li>Given this uri, I would like to delete the corresponding file.</li>\n</ul>\n<p>The problem is the following:</p>\n<p>The <code>contentResolver.delete(uri, null, null);</code> raises the following exception:</p>\n<pre><code>W/System.err: java.lang.UnsupportedOperationException: Delete not supported\n            at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:167)\n            at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\n            at android.content.ContentProviderProxy.delete(ContentProviderNative.java:544)\n            at android.content.ContentResolver.delete(ContentResolver.java:1330)\n            at [...]MyActivity.onActivityResult(MyActivity.java:[...])\n            at android.app.Activity.dispatchActivityResult(Activity.java:6490)\n            at android.app.ActivityThread.deliverResults(ActivityThread.java:3695)\n            at android.app.ActivityThread.handleSendResult(ActivityThread.java:3742)\n            at android.app.ActivityThread.access$1400(ActivityThread.java:150)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1393)\nW/System.err:   at android.os.Handler.dispatchMessage(Handler.java:102)\n                at android.os.Looper.loop(Looper.java:148)\n                at android.app.ActivityThread.main(ActivityThread.java:5417)\n                at java.lang.reflect.Method.invoke(Native Method)\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n<p>Note that, at another place in the code, I use the <code>delete()</code> method of the <code>java.io.File</code> class with an argument that is a file path (a String), not an <code>android.net.Uri</code> and the deletion works for the very same file.</p>\n<p>Can you please help me solve that problem? Thanks.</p>\n"},{"tags":["java","unit-testing","testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":1,"up_vote_count":153,"is_accepted":true,"score":152,"last_activity_date":1588088300,"creation_date":1588088300,"answer_id":61484155,"question_id":61483452,"body_markdown":"Here are two possibilities to achieve these multi argument test method calls. \r\n\r\nThe first (**testParameters**) uses a **CsvSource** to which you provide a comma separated list (the delimiter is configurable) and the type casting is done automatically to your test method parameters. \r\n\r\nThe second (**testParametersFromMethod**) uses a method (**provideParameters**) to provide the needed data. \r\n\r\n    @ParameterizedTest\r\n    @CsvSource({&quot;a,1&quot;, &quot;b,2&quot;, &quot;foo,3&quot;})\r\n    public void testParameters(String name, int value) {\r\n        System.out.println(&quot;csv data &quot; + name + &quot; value &quot; + value);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;provideParameters&quot;)\r\n    public void testParametersFromMethod(String name, int value) {\r\n        System.out.println(&quot;method data &quot; + name + &quot; value &quot; + value);\r\n    }\r\n\r\n    private static Stream&lt;Arguments&gt; provideParameters() {\r\n        return Stream.of(\r\n                Arguments.of(&quot;a&quot;, 1),\r\n                Arguments.of(&quot;b&quot;, 2),\r\n                Arguments.of(&quot;foo&quot;, 3)\r\n        );\r\n    }\r\n\r\n\r\nThe output of these test methods are:\r\n\r\n    Running ParameterTest\r\n    csv data a value 1\r\n    csv data b value 2\r\n    csv data foo value 3\r\n    method data a value 1\r\n    method data b value 2\r\n    method data foo value 3","title":"Parameterized Test with two Arguments in JUnit 5 jupiter","body":"<p>Here are two possibilities to achieve these multi argument test method calls. </p>\n\n<p>The first (<strong>testParameters</strong>) uses a <strong>CsvSource</strong> to which you provide a comma separated list (the delimiter is configurable) and the type casting is done automatically to your test method parameters. </p>\n\n<p>The second (<strong>testParametersFromMethod</strong>) uses a method (<strong>provideParameters</strong>) to provide the needed data. </p>\n\n<pre><code>@ParameterizedTest\n@CsvSource({\"a,1\", \"b,2\", \"foo,3\"})\npublic void testParameters(String name, int value) {\n    System.out.println(\"csv data \" + name + \" value \" + value);\n}\n\n@ParameterizedTest\n@MethodSource(\"provideParameters\")\npublic void testParametersFromMethod(String name, int value) {\n    System.out.println(\"method data \" + name + \" value \" + value);\n}\n\nprivate static Stream&lt;Arguments&gt; provideParameters() {\n    return Stream.of(\n            Arguments.of(\"a\", 1),\n            Arguments.of(\"b\", 2),\n            Arguments.of(\"foo\", 3)\n    );\n}\n</code></pre>\n\n<p>The output of these test methods are:</p>\n\n<pre><code>Running ParameterTest\ncsv data a value 1\ncsv data b value 2\ncsv data foo value 3\nmethod data a value 1\nmethod data b value 2\nmethod data foo value 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694086003,"creation_date":1694086003,"answer_id":77059183,"question_id":61483452,"body_markdown":"Here is a solution using Kotlin language:\r\n\r\n```kotlin\r\nclass MyTests {\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;generateArgs&quot;)\r\n    fun myTest(myArg: Pair&lt;String, Int&gt;) {\r\n        val (name, age) = myArg // Destructuring; could instead use myArg.first and myArg.second\r\n        println(&quot;$name $age&quot;)\r\n    }\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        fun generateArgs() = listOf (\r\n            &quot;A&quot; to 1,\r\n            &quot;B&quot; to 2,\r\n            &quot;C&quot; to 3\r\n        )\r\n    }\r\n}\r\n```","title":"Parameterized Test with two Arguments in JUnit 5 jupiter","body":"<p>Here is a solution using Kotlin language:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyTests {\n    @ParameterizedTest\n    @MethodSource(&quot;generateArgs&quot;)\n    fun myTest(myArg: Pair&lt;String, Int&gt;) {\n        val (name, age) = myArg // Destructuring; could instead use myArg.first and myArg.second\n        println(&quot;$name $age&quot;)\n    }\n\n    companion object {\n        @JvmStatic\n        fun generateArgs() = listOf (\n            &quot;A&quot; to 1,\n            &quot;B&quot; to 2,\n            &quot;C&quot; to 3\n        )\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1350880,"reputation":2554,"user_id":1290557,"accept_rate":60,"display_name":"ruediste"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65440,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":61484155,"answer_count":2,"score":83,"last_activity_date":1694086157,"creation_date":1588086255,"question_id":61483452,"body_markdown":"How can I write a parameterized test with two arguments in JUnit 5 jupiter? The following does not work (compile error):\r\n\r\n```java\r\n@ParameterizedTest\r\n@ValueSource(strings = { &quot;a&quot;, &quot;b&quot;, &quot;foo&quot; })\r\n@ValueSource(ints = { 1, 2, 3 })\r\npublic void test(String arg1, int arg2) {\r\n    // ...\r\n}\r\n```","title":"Parameterized Test with two Arguments in JUnit 5 jupiter","body":"<p>How can I write a parameterized test with two arguments in JUnit 5 jupiter? The following does not work (compile error):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@ValueSource(strings = { &quot;a&quot;, &quot;b&quot;, &quot;foo&quot; })\n@ValueSource(ints = { 1, 2, 3 })\npublic void test(String arg1, int arg2) {\n    // ...\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization"],"comments":[{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694080240,"post_id":77058178,"comment_id":135845317,"body_markdown":"I don&#39;t think so. What happens is that the mapper fetches the properties from your JSON document and assigns them to the classes attributes. Because there is no id in your JSON object its setter won&#39;t be called at all and thus no check can&#39;t be applied.","body":"I don&#39;t think so. What happens is that the mapper fetches the properties from your JSON document and assigns them to the classes attributes. Because there is no id in your JSON object its setter won&#39;t be called at all and thus no check can&#39;t be applied."}],"answers":[{"tags":[],"owner":{"account_id":10985081,"reputation":497,"user_id":8071067,"display_name":"MarkBeras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694085956,"creation_date":1694085956,"answer_id":77059176,"question_id":77058178,"body_markdown":"Decided to use `@JsonCreator` implementation as didn&#39;t find the answer. That&#39;s how `User` class looks like now: \r\n\r\n    @SuperBuilder\r\n    @Getter\r\n    @EqualsAndHashCode\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @ToString\r\n    public class User {\r\n        private String id;\r\n        private String name;\r\n    \r\n        @JsonCreator\r\n        public static User create(\r\n                @JsonProperty(value = &quot;id&quot;, required = true) String id,\r\n                @JsonProperty(&quot;name&quot;) String name\r\n        ) {\r\n            return new User(id, name);\r\n        }\r\n    }\r\n\r\n","title":"Fail when required JsonProperty is missing or null","body":"<p>Decided to use <code>@JsonCreator</code> implementation as didn't find the answer. That's how <code>User</code> class looks like now:</p>\n<pre><code>@SuperBuilder\n@Getter\n@EqualsAndHashCode\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@ToString\npublic class User {\n    private String id;\n    private String name;\n\n    @JsonCreator\n    public static User create(\n            @JsonProperty(value = &quot;id&quot;, required = true) String id,\n            @JsonProperty(&quot;name&quot;) String name\n    ) {\n        return new User(id, name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10985081,"reputation":497,"user_id":8071067,"display_name":"MarkBeras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694085956,"creation_date":1694077937,"question_id":77058178,"body_markdown":"I have a class User with 2 fields: required `id` and optional `name`. I use lombok and jackson (version 2.12) annotations.\r\n\r\n    @SuperBuilder\r\n    @Getter\r\n    @EqualsAndHashCode\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @ToString\r\n    public class User {\r\n      @JsonProperty(required = true)\r\n      private String id;\r\n    \r\n      private String name;\r\n    }\r\n\r\nI try to deserialise a json and expect it to fail as the `test` doesn&#39;t have the required property `id`:\r\n\r\n    String test = &quot;{\\&quot;name\\&quot;:\\&quot;blablabla\\&quot;}&quot;;\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    User user = objectMapper.readValue(test, User.class);\r\n\r\nI found that it should be working if I add a constructor with jackson annotation `@JsonCreator`.\r\n\r\nIs it possible without changing the `User` class?\r\n","title":"Fail when required JsonProperty is missing or null","body":"<p>I have a class User with 2 fields: required <code>id</code> and optional <code>name</code>. I use lombok and jackson (version 2.12) annotations.</p>\n<pre><code>@SuperBuilder\n@Getter\n@EqualsAndHashCode\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@ToString\npublic class User {\n  @JsonProperty(required = true)\n  private String id;\n\n  private String name;\n}\n</code></pre>\n<p>I try to deserialise a json and expect it to fail as the <code>test</code> doesn't have the required property <code>id</code>:</p>\n<pre><code>String test = &quot;{\\&quot;name\\&quot;:\\&quot;blablabla\\&quot;}&quot;;\nObjectMapper objectMapper = new ObjectMapper();\nUser user = objectMapper.readValue(test, User.class);\n</code></pre>\n<p>I found that it should be working if I add a constructor with jackson annotation <code>@JsonCreator</code>.</p>\n<p>Is it possible without changing the <code>User</code> class?</p>\n"},{"tags":["java","parsing","bison","lex","jflex"],"comments":[{"owner":{"account_id":1707439,"reputation":236086,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":1,"creation_date":1647553414,"post_id":71518591,"comment_id":126407107,"body_markdown":"[&quot;There is no `%union` directive in (Bison&#39;s) Java parsers.&quot;](https://www.gnu.org/software/bison/manual/bison.html#Java-Semantic-Values). (The Bison manual does try to document the Java interface.) But you have to specify the semantic type of any non-terminal which has one, as specified in that same section. In this case, the problem is that you wrote `%type exp`, which doesn&#39;t actually specify a type. You needed `%type &lt;Integer&gt; exp`.","body":"<a href=\"https://www.gnu.org/software/bison/manual/bison.html#Java-Semantic-Values\" rel=\"nofollow noreferrer\">&quot;There is no <code>%union</code> directive in (Bison&#39;s) Java parsers.&quot;</a>. (The Bison manual does try to document the Java interface.) But you have to specify the semantic type of any non-terminal which has one, as specified in that same section. In this case, the problem is that you wrote <code>%type exp</code>, which doesn&#39;t actually specify a type. You needed <code>%type &lt;Integer&gt; exp</code>."},{"owner":{"account_id":1707439,"reputation":236086,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1647553768,"post_id":71518591,"comment_id":126407199,"body_markdown":"(Or `%nterm &lt;Integer&gt; exp`, as the manual recommends.)","body":"(Or <code>%nterm &lt;Integer&gt; exp</code>, as the manual recommends.)"}],"answers":[{"tags":[],"owner":{"account_id":37795,"reputation":1575,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694085638,"creation_date":1694085638,"answer_id":77059139,"question_id":71518591,"body_markdown":"There was no declared type for exp.\r\nAdditionally, token NEG was not declared.\r\n\r\n    %token &lt;String&gt; NEG\r\n    %type&lt;Object&gt; exp\r\n\r\nThe lexer interface needs to be declared in a %code lexer { }; block, before the %% parser end marker.\r\n\r\nFollowing your file example, here is example.y\r\n\r\n    %language &quot;Java&quot;\r\n    %define api.prefix {EXAMPLE}\r\n    %define api.parser.class {EXAMPLE}\r\n    %define api.parser.public\r\n    %define parse.error verbose\r\n\r\n    %code imports{\r\n      import java.io.InputStream;\r\n      import java.io.InputStreamReader;\r\n      import java.io.Reader;\r\n      import java.io.IOException;\r\n    }\r\n\r\n    %code {\r\n      public static void main(String args[]) throws IOException {\r\n        EXAMPLELexer lexer = new EXAMPLELexer(System.in);\r\n        EXAMPLE parser = new EXAMPLE(lexer);\r\n        if(parser.parse()){\r\n          System.out.println(&quot;VALID FROM PARSER&quot;);\r\n        }\r\n        else{\r\n          System.out.println(&quot;ERROR FROM PARSER&quot;);\r\n        }\r\n          \r\n        return;\r\n      }\r\n    }\r\n\r\n    /* Bison Declarations */\r\n    %token &lt;Integer&gt; NUM\r\n    %token &lt;String&gt; NEG\r\n    %type&lt;Object&gt; exp\r\n    %%\r\n\r\n    input: line | input line;\r\n    line: &#39;\\n&#39;\r\n    | exp &#39;\\n&#39; { System.out.println($exp); }\r\n    | error &#39;\\n&#39;\r\n    ;\r\n    exp:\r\n     NUM { $$ = Integer.parseInt($1); }\r\n    | exp &#39;=&#39; exp { if ($1.intValue() != $3.intValue()) yyerror(&quot;calc: error: &quot; + $1 + &quot; != &quot; + $3); }\r\n    | exp &#39;+&#39; exp { $$ = $1 + $3; }\r\n    | exp &#39;-&#39; exp { $$ = $1 - $3; }\r\n    | exp &#39;*&#39; exp { $$ = $1 * $3; }\r\n    | exp &#39;/&#39; exp { $$ = $1 / $3; }\r\n    | &#39;-&#39; exp %prec NEG { $$ = -$2; }\r\n    | exp &#39;^&#39; exp { $$ = (int) Math.pow($1, $3); }\r\n    | &#39;(&#39; exp &#39;)&#39; { $$ = $2; }\r\n    | &#39;(&#39; error &#39;)&#39; { $$ = 1111; }\r\n    | &#39;!&#39; { $$ = 0; return YYERROR; }\r\n    | &#39;-&#39; error { $$ = 0; return YYERROR; }\r\n\r\n    %code lexer {\r\n\r\n    private EXAMPLELexer lexer;\r\n\r\n    private Object yylval;\r\n\r\n    public YYLexer (EXAMPLELexer elexer)\r\n    {\r\n        lexer = elexer;\r\n    }\r\n\r\n    @Override\r\n    public void yyerror (String s) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getLVal() {\r\n        return yylval;\r\n    }\r\n\r\n    @Override\r\n    public int yylex () throws IOException {\r\n        int v = lexer.scan();\r\n        yylval = lexer.getValue();\r\n        return v;\r\n    }\r\n\r\n    };\r\n\r\n    %%\r\n\r\nAnd here is the start of an example.jf \r\n\r\n    import java.util.*;\r\n    import java.io.InputStreamReaader;\r\n\r\n    import static EXAMPLE.*;\r\n\r\n    %%\r\n\r\n    %class EXAMPLELexer \r\n    %integer\r\n    %unicode\r\n\r\n    %{\r\n\r\n    EXAMPLELexer(InputStream ios) {\r\n        this (new InputStreamReader(ios));\r\n    }\r\n        String lexeme;\r\n\r\n        private void setValue(String val)\r\n        {\r\n            lexeme = val;\r\n        }\r\n\r\n        public String getValue()\r\n        {\r\n            return lexeme;\r\n        }\r\n\r\n    %}\r\n\r\n    INTNUM = ([0-9]*)\r\n\r\n    %%\r\n\r\n    {INTNUM} { setValue( yytext() ); return EXAMPLE.Lexer.NUM; }","title":"How to make expression for grammar rule in Bison with Jflex","body":"<p>There was no declared type for exp.\nAdditionally, token NEG was not declared.</p>\n<pre><code>%token &lt;String&gt; NEG\n%type&lt;Object&gt; exp\n</code></pre>\n<p>The lexer interface needs to be declared in a %code lexer { }; block, before the %% parser end marker.</p>\n<p>Following your file example, here is example.y</p>\n<pre><code>%language &quot;Java&quot;\n%define api.prefix {EXAMPLE}\n%define api.parser.class {EXAMPLE}\n%define api.parser.public\n%define parse.error verbose\n\n%code imports{\n  import java.io.InputStream;\n  import java.io.InputStreamReader;\n  import java.io.Reader;\n  import java.io.IOException;\n}\n\n%code {\n  public static void main(String args[]) throws IOException {\n    EXAMPLELexer lexer = new EXAMPLELexer(System.in);\n    EXAMPLE parser = new EXAMPLE(lexer);\n    if(parser.parse()){\n      System.out.println(&quot;VALID FROM PARSER&quot;);\n    }\n    else{\n      System.out.println(&quot;ERROR FROM PARSER&quot;);\n    }\n      \n    return;\n  }\n}\n\n/* Bison Declarations */\n%token &lt;Integer&gt; NUM\n%token &lt;String&gt; NEG\n%type&lt;Object&gt; exp\n%%\n\ninput: line | input line;\nline: '\\n'\n| exp '\\n' { System.out.println($exp); }\n| error '\\n'\n;\nexp:\n NUM { $$ = Integer.parseInt($1); }\n| exp '=' exp { if ($1.intValue() != $3.intValue()) yyerror(&quot;calc: error: &quot; + $1 + &quot; != &quot; + $3); }\n| exp '+' exp { $$ = $1 + $3; }\n| exp '-' exp { $$ = $1 - $3; }\n| exp '*' exp { $$ = $1 * $3; }\n| exp '/' exp { $$ = $1 / $3; }\n| '-' exp %prec NEG { $$ = -$2; }\n| exp '^' exp { $$ = (int) Math.pow($1, $3); }\n| '(' exp ')' { $$ = $2; }\n| '(' error ')' { $$ = 1111; }\n| '!' { $$ = 0; return YYERROR; }\n| '-' error { $$ = 0; return YYERROR; }\n\n%code lexer {\n\nprivate EXAMPLELexer lexer;\n\nprivate Object yylval;\n\npublic YYLexer (EXAMPLELexer elexer)\n{\n    lexer = elexer;\n}\n\n@Override\npublic void yyerror (String s) {\n\n}\n\n@Override\npublic Object getLVal() {\n    return yylval;\n}\n\n@Override\npublic int yylex () throws IOException {\n    int v = lexer.scan();\n    yylval = lexer.getValue();\n    return v;\n}\n\n};\n\n%%\n</code></pre>\n<p>And here is the start of an example.jf</p>\n<pre><code>import java.util.*;\nimport java.io.InputStreamReaader;\n\nimport static EXAMPLE.*;\n\n%%\n\n%class EXAMPLELexer \n%integer\n%unicode\n\n%{\n\nEXAMPLELexer(InputStream ios) {\n    this (new InputStreamReader(ios));\n}\n    String lexeme;\n\n    private void setValue(String val)\n    {\n        lexeme = val;\n    }\n\n    public String getValue()\n    {\n        return lexeme;\n    }\n\n%}\n\nINTNUM = ([0-9]*)\n\n%%\n\n{INTNUM} { setValue( yytext() ); return EXAMPLE.Lexer.NUM; }\n</code></pre>\n"}],"owner":{"account_id":24593746,"reputation":11,"user_id":18497248,"display_name":"Chronicle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694085638,"creation_date":1647548656,"question_id":71518591,"body_markdown":"I&#39;ve been trying to make a parser which takes tokens from a lexer (jflex), and ive used Java with bison for the parser. Here is my code so far for the parser:\r\n\r\n    %define api.prefix {EXAMPLE}\r\n    %define api.parser.class {EXAMPLE}\r\n    %define api.parser.public\r\n    %define parse.error verbose\r\n    \r\n    %code imports{\r\n      import java.io.InputStream;\r\n      import java.io.InputStreamReader;\r\n      import java.io.Reader;\r\n      import java.io.IOException;\r\n    }\r\n    \r\n    %code {\r\n      public static void main(String args[]) throws IOException {\r\n        EXAMPLELexer lexer = new EXAMPLELexer(System.in);\r\n        EXAMPLE parser = new EXAMPLE(lexer);\r\n        if(parser.parse()){\r\n          System.out.println(&quot;VALID FROM PARSER&quot;);\r\n        }\r\n        else{\r\n          System.out.println(&quot;ERROR FROM PARSER&quot;);\r\n        }\r\n          \r\n        return;\r\n      }\r\n    }\r\n    \r\n    /* Bison Declarations */\r\n    %token &lt;Integer&gt; NUM\r\n    %type exp\r\n    %%\r\n    \r\n    input: line | input line;\r\n    line: &#39;\\n&#39;\r\n    | exp &#39;\\n&#39; { System.out.println($exp); }\r\n    | error &#39;\\n&#39;\r\n    ;\r\n    exp:\r\n     NUM { $$ = $1; }\r\n    | exp &#39;=&#39; exp { if ($1.intValue() != $3.intValue()) yyerror(&quot;calc: error: &quot; + $1 + &quot; != &quot; + $3); }\r\n    | exp &#39;+&#39; exp { $$ = $1 + $3; }\r\n    | exp &#39;-&#39; exp { $$ = $1 - $3; }\r\n    | exp &#39;*&#39; exp { $$ = $1 * $3; }\r\n    | exp &#39;/&#39; exp { $$ = $1 / $3; }\r\n    | &#39;-&#39; exp %prec NEG { $$ = -$2; }\r\n    | exp &#39;^&#39; exp { $$ = (int) Math.pow($1, $3); }\r\n    | &#39;(&#39; exp &#39;)&#39; { $$ = $2; }\r\n    | &#39;(&#39; error &#39;)&#39; { $$ = 1111; }\r\n    | &#39;!&#39; { $$ = 0; return YYERROR; }\r\n    | &#39;-&#39; error { $$ = 0; return YYERROR; }\r\n    \r\n    %%\r\n    \r\n    class EXAMPLELexer implements EXAMPLE.Lexer {\r\n      InputStreamReader it;\r\n      Yylex yylex;\r\n    \r\n      public EXAMPLELexer(InputStream is){\r\n        it = new InputStreamReader(is);\r\n        yylex = new Yylex(it);\r\n      }\r\n    \r\n      @Override\r\n      public void yyerror (String s){\r\n       \r\n      }\r\n    \r\n      @Override\r\n      public Object getLVal() {\r\n        return null;\r\n      }\r\n    \r\n      @Override\r\n      public int yylex () throws IOException{\r\n        return yylex.yylex();\r\n      }\r\n    }\r\n\r\nWhen I try to use the jflex and bison commands I get this:\r\n[$$ of ‘exp’ has no declared type, same with $1, $3][1]\r\n\r\nPlease help, i&#39;ve been stuck on this for a while! (p.s i&#39;ve already tried %union{} and it just gave rise to more errors unfortunately, if you have any sample code that actually works with it, i&#39;d love to learn as there seems to be a lack of documentation with Java and bison working with Jflex.)\r\n\r\n  [1]: https://i.stack.imgur.com/D0miV.png","title":"How to make expression for grammar rule in Bison with Jflex","body":"<p>I've been trying to make a parser which takes tokens from a lexer (jflex), and ive used Java with bison for the parser. Here is my code so far for the parser:</p>\n<pre><code>%define api.prefix {EXAMPLE}\n%define api.parser.class {EXAMPLE}\n%define api.parser.public\n%define parse.error verbose\n\n%code imports{\n  import java.io.InputStream;\n  import java.io.InputStreamReader;\n  import java.io.Reader;\n  import java.io.IOException;\n}\n\n%code {\n  public static void main(String args[]) throws IOException {\n    EXAMPLELexer lexer = new EXAMPLELexer(System.in);\n    EXAMPLE parser = new EXAMPLE(lexer);\n    if(parser.parse()){\n      System.out.println(&quot;VALID FROM PARSER&quot;);\n    }\n    else{\n      System.out.println(&quot;ERROR FROM PARSER&quot;);\n    }\n      \n    return;\n  }\n}\n\n/* Bison Declarations */\n%token &lt;Integer&gt; NUM\n%type exp\n%%\n\ninput: line | input line;\nline: '\\n'\n| exp '\\n' { System.out.println($exp); }\n| error '\\n'\n;\nexp:\n NUM { $$ = $1; }\n| exp '=' exp { if ($1.intValue() != $3.intValue()) yyerror(&quot;calc: error: &quot; + $1 + &quot; != &quot; + $3); }\n| exp '+' exp { $$ = $1 + $3; }\n| exp '-' exp { $$ = $1 - $3; }\n| exp '*' exp { $$ = $1 * $3; }\n| exp '/' exp { $$ = $1 / $3; }\n| '-' exp %prec NEG { $$ = -$2; }\n| exp '^' exp { $$ = (int) Math.pow($1, $3); }\n| '(' exp ')' { $$ = $2; }\n| '(' error ')' { $$ = 1111; }\n| '!' { $$ = 0; return YYERROR; }\n| '-' error { $$ = 0; return YYERROR; }\n\n%%\n\nclass EXAMPLELexer implements EXAMPLE.Lexer {\n  InputStreamReader it;\n  Yylex yylex;\n\n  public EXAMPLELexer(InputStream is){\n    it = new InputStreamReader(is);\n    yylex = new Yylex(it);\n  }\n\n  @Override\n  public void yyerror (String s){\n   \n  }\n\n  @Override\n  public Object getLVal() {\n    return null;\n  }\n\n  @Override\n  public int yylex () throws IOException{\n    return yylex.yylex();\n  }\n}\n</code></pre>\n<p>When I try to use the jflex and bison commands I get this:\n<a href=\"https://i.stack.imgur.com/D0miV.png\" rel=\"nofollow noreferrer\">$$ of ‘exp’ has no declared type, same with $1, $3</a></p>\n<p>Please help, i've been stuck on this for a while! (p.s i've already tried %union{} and it just gave rise to more errors unfortunately, if you have any sample code that actually works with it, i'd love to learn as there seems to be a lack of documentation with Java and bison working with Jflex.)</p>\n"},{"tags":["java","gradle","properties-file"],"answers":[{"tags":[],"owner":{"account_id":5730246,"reputation":2931,"user_id":4526012,"accept_rate":44,"display_name":"SomeStudent"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1470032859,"creation_date":1469811314,"answer_id":38663915,"question_id":38663838,"body_markdown":"You can try something like this, which i know works on my end. In your `build.gradle` under the `JAR` definition add your **exclude**. Ex: \r\n\r\n    jar {     \r\n       exclude(&#39;your thing&#39;)     \r\n    }","title":"Gradle - Exclude file from being packaged with jar","body":"<p>You can try something like this, which i know works on my end. In your <code>build.gradle</code> under the <code>JAR</code> definition add your <strong>exclude</strong>. Ex: </p>\n\n<pre><code>jar {     \n   exclude('your thing')     \n}\n</code></pre>\n"}],"owner":{"account_id":1108107,"reputation":1203,"user_id":1099074,"accept_rate":87,"display_name":"Wes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30175,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":38663915,"answer_count":1,"score":28,"last_activity_date":1694085355,"creation_date":1469811028,"question_id":38663838,"body_markdown":"I want to **exclude** `AMAuthN.properties` from the built jar. This file keeps showing up in the root folder of the compiled jar. The file is located at `AMAuthN\\src\\main\\resources\\AMAuthN.properties` relative to the project folder root. Thanks!\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    \r\n    version = &#39;1.0&#39;\r\n    sourceCompatibility = 1.6\r\n    targetCompatibility = 1.6\r\n    \r\n    test {\r\n        testLogging {\r\n            showStandardStreams = true\r\n        }\r\n    }\r\n    \r\n    // Create a single Jar with all dependencies\r\n    jar {\r\n    \tmanifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;Gradle Jar File Example&#39;,  \r\n            \t&#39;Implementation-Version&#39;: version,\r\n            \t&#39;Main-Class&#39;: &#39;com.axa.openam&#39;\r\n        }\r\n        \r\n        baseName = project.name\r\n        \r\n        from {\r\n        \tconfigurations.compile.collect {\r\n        \t\tit.isDirectory() ? it : zipTree(it) \r\n        \t}\r\n        }\r\n    }\r\n    \r\n    // Get dependencies from Maven central repository\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    // Project dependencies\r\n    dependencies {\r\n    \tcompile &#39;com.google.code.gson:gson:2.5&#39;\r\n    \ttestCompile &#39;junit:junit:4.12&#39;\r\n    }","title":"Gradle - Exclude file from being packaged with jar","body":"<p>I want to <strong>exclude</strong> <code>AMAuthN.properties</code> from the built jar. This file keeps showing up in the root folder of the compiled jar. The file is located at <code>AMAuthN\\src\\main\\resources\\AMAuthN.properties</code> relative to the project folder root. Thanks!</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\n\nversion = '1.0'\nsourceCompatibility = 1.6\ntargetCompatibility = 1.6\n\ntest {\n    testLogging {\n        showStandardStreams = true\n    }\n}\n\n// Create a single Jar with all dependencies\njar {\n    manifest {\n        attributes 'Implementation-Title': 'Gradle Jar File Example',  \n            'Implementation-Version': version,\n            'Main-Class': 'com.axa.openam'\n    }\n\n    baseName = project.name\n\n    from {\n        configurations.compile.collect {\n            it.isDirectory() ? it : zipTree(it) \n        }\n    }\n}\n\n// Get dependencies from Maven central repository\nrepositories {\n    mavenCentral()\n}\n\n// Project dependencies\ndependencies {\n    compile 'com.google.code.gson:gson:2.5'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":6825435,"reputation":1,"user_id":5251289,"display_name":"ArunKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694467113,"answer_count":1,"score":0,"last_activity_date":1694085212,"creation_date":1694081416,"question_id":77058631,"body_markdown":"    public class Journal {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;Journal_seq&quot;)\r\n    @SequenceGenerator(sequenceName = &quot;JOURNALID_SEQ&quot;, allocationSize = 1, name = &quot;Journal_seq&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    int id;\r\n    .\r\n    .\r\n    .\r\n\r\n    @Column(name = &quot;creationdatetime&quot;)  \r\n    Date **creationdatetime**;\r\n\r\n    entityManager.persist( journal );\r\n\r\nI want to insert the values into the journal. At that time I need sysdate.\r\nHow could I get Oracle sysdate to my Spring Boot coding?\r\n\r\nIf we use NativeQuery it can be achievable like below\r\n\r\n    insert into Journal (id,creationdatetime)  values (?,**sysdate**);","title":"JPA Hibernate - Getting Oracle sysdate","body":"<pre><code>public class Journal {\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;Journal_seq&quot;)\n@SequenceGenerator(sequenceName = &quot;JOURNALID_SEQ&quot;, allocationSize = 1, name = &quot;Journal_seq&quot;)\n@Column(name = &quot;id&quot;)\nint id;\n.\n.\n.\n\n@Column(name = &quot;creationdatetime&quot;)  \nDate **creationdatetime**;\n\nentityManager.persist( journal );\n</code></pre>\n<p>I want to insert the values into the journal. At that time I need sysdate.\nHow could I get Oracle sysdate to my Spring Boot coding?</p>\n<p>If we use NativeQuery it can be achievable like below</p>\n<pre><code>insert into Journal (id,creationdatetime)  values (?,**sysdate**);\n</code></pre>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1694082896,"post_id":77058726,"comment_id":135845795,"body_markdown":"This has nothing to do with a recycle view. You just receive uris in clip data in a different sequence then you expect. You can do nothing to it.","body":"This has nothing to do with a recycle view. You just receive uris in clip data in a different sequence then you expect. You can do nothing to it."},{"owner":{"account_id":25128798,"reputation":21,"user_id":19539584,"display_name":"Nandini Srivastava"},"score":0,"creation_date":1694083621,"post_id":77058726,"comment_id":135845921,"body_markdown":"is there any way to exact sequence in which images were selected ?","body":"is there any way to exact sequence in which images were selected ?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694084956,"creation_date":1694084956,"answer_id":77059054,"question_id":77058726,"body_markdown":"&gt; But here problem is that the order in which I am selecting the images in gallery is not same as shown in recyclerview\r\n\r\nThere is no requirement for `ACTION_OPEN_DOCUMENT` to honor `EXTRA_ALLOW_MULTIPLE`. Where it does, there is no requirement for the implementation to track the order in which the user selects images, and there is no requirement for the returned result to reflect that selection order.\r\n\r\n&gt; Please tell me the solution.\r\n\r\nAllow the user to set the order within your app, such as via drag-and-drop.\r\n","title":"The order of images selected by intents is not same","body":"<blockquote>\n<p>But here problem is that the order in which I am selecting the images in gallery is not same as shown in recyclerview</p>\n</blockquote>\n<p>There is no requirement for <code>ACTION_OPEN_DOCUMENT</code> to honor <code>EXTRA_ALLOW_MULTIPLE</code>. Where it does, there is no requirement for the implementation to track the order in which the user selects images, and there is no requirement for the returned result to reflect that selection order.</p>\n<blockquote>\n<p>Please tell me the solution.</p>\n</blockquote>\n<p>Allow the user to set the order within your app, such as via drag-and-drop.</p>\n"}],"owner":{"account_id":25128798,"reputation":21,"user_id":19539584,"display_name":"Nandini Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694084956,"creation_date":1694082187,"question_id":77058726,"body_markdown":"I am selecting multiple images through intent in java. But here problem is that the order in which I am selecting the images in gallery is not same as shown in recyclerview.\r\nBelow is the code . Please tell me the solution.\r\n\r\n\r\n```\r\n private void pickAns(){\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT,  MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE , true);\r\n\r\n        intent.setType(&quot;image/*&quot;);\r\n        launcherAns.launch(intent);\r\n    }\r\n\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; launcherAns = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            if (result != null &amp;&amp; result.getResultCode() == RESULT_OK) {\r\n                Anslist = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;imageModal&gt; imageList =  new ArrayList&lt;&gt;();\r\n                imageUri = new ArrayList&lt;&gt;();\r\n                images = new ArrayList&lt;&gt;();\r\n                ClipData clips = result.getData().getClipData();\r\n\r\n                ansImgRecycler.setVisibility(View.VISIBLE);\r\n\r\n                if (clips == null) {\r\n\r\n                    Uri imgUri = result.getData().getData();\r\n                    imageUri.add(imgUri);\r\n                    try {\r\n\r\n                        // upload.setVisibility(View.VISIBLE);\r\n                        Bitmap bitmap = MediaStore.Images.Media.getBitmap(addQuesPage.this.getContentResolver(), imgUri);\r\n\r\n                        String str = encodeBitmapImage(bitmap);\r\n                        images.add(str);\r\n                        imageList.add(new imageModal(str));\r\n                        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 80, bytes);\r\n                        String path = MediaStore.Images.Media.insertImage(addQuesPage.this.getContentResolver(), bitmap, &quot;image&quot;, &quot;val&quot;);\r\n                        byte[] bytee = bytes.toByteArray();\r\n                        Anslist.add(new productImageModal(bytee));\r\n\r\n\r\n                        addProductImageAdapter adapter = new addProductImageAdapter(Anslist, addQuesPage.this);\r\n                        ansImgRecycler.setAdapter(adapter);\r\n                        // GridLayoutManager layout = new LinearLayoutManager(addQuestion.this, LinearLayoutManager.VERTICAL, false);\r\n                        GridLayoutManager layout = new GridLayoutManager(addQuesPage.this, 1, LinearLayoutManager.VERTICAL, false);\r\n                        ansImgRecycler.setLayoutManager(layout);\r\n\r\n                        //TwoRowGridLayoutManager layoutManager = new TwoRowGridLayoutManager(context, 2);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }else{\r\n                    if (0 &lt; clips.getItemCount()) {\r\n                        if (clips != null) {\r\n                            for (int i = 0; i &lt; clips.getItemCount(); i++) {\r\n\r\n                                Uri imgUri = clips.getItemAt(i).getUri();\r\n                                imageUri.add(clips.getItemAt(0).getUri());\r\n                                try {\r\n                                    //  upload.setVisibility(View.VISIBLE);\r\n\r\n                                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(addQuesPage.this.getContentResolver(), imgUri);\r\n                                    String str = encodeBitmapImage(bitmap);\r\n\r\n                                    images.add(str);\r\n\r\n                                    imageList.add(new imageModal(str));\r\n                                    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n                                    bitmap.compress(Bitmap.CompressFormat.JPEG, 80, bytes);\r\n                                    String path = MediaStore.Images.Media.insertImage(addQuesPage.this.getContentResolver(), bitmap, &quot;image&quot;, &quot;val&quot;);\r\n                                    byte[] bytee = bytes.toByteArray();\r\n                                    Anslist.add(new productImageModal(bytee));\r\n\r\n\r\n                                } catch (Exception e) {\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                            addProductImageAdapter adapter = new addProductImageAdapter(Anslist, addQuesPage.this);\r\n                            ansImgRecycler.setAdapter(adapter);\r\n                            GridLayoutManager layout = new GridLayoutManager(addQuesPage.this, 1, LinearLayoutManager.VERTICAL, false);\r\n                            ansImgRecycler.setLayoutManager(layout);\r\n\r\n                        } else {\r\n                            Toast.makeText(addQuesPage.this, &quot;No image founddddddddddddddddd&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        Toast.makeText(addQuesPage.this, &quot;Select atleast 1 images&quot;, Toast.LENGTH_LONG).show();\r\n                        pick();\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n\r\n    });\r\n\r\n    \r\n```\r\n\r\n\r\nI was trying to select multiple images in a certain order but it is not same as shown in recyclerview","title":"The order of images selected by intents is not same","body":"<p>I am selecting multiple images through intent in java. But here problem is that the order in which I am selecting the images in gallery is not same as shown in recyclerview.\nBelow is the code . Please tell me the solution.</p>\n<pre><code> private void pickAns(){\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT,  MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE , true);\n\n        intent.setType(&quot;image/*&quot;);\n        launcherAns.launch(intent);\n    }\n\n\n\n    ActivityResultLauncher&lt;Intent&gt; launcherAns = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @RequiresApi(api = Build.VERSION_CODES.O)\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            if (result != null &amp;&amp; result.getResultCode() == RESULT_OK) {\n                Anslist = new ArrayList&lt;&gt;();\n                ArrayList&lt;imageModal&gt; imageList =  new ArrayList&lt;&gt;();\n                imageUri = new ArrayList&lt;&gt;();\n                images = new ArrayList&lt;&gt;();\n                ClipData clips = result.getData().getClipData();\n\n                ansImgRecycler.setVisibility(View.VISIBLE);\n\n                if (clips == null) {\n\n                    Uri imgUri = result.getData().getData();\n                    imageUri.add(imgUri);\n                    try {\n\n                        // upload.setVisibility(View.VISIBLE);\n                        Bitmap bitmap = MediaStore.Images.Media.getBitmap(addQuesPage.this.getContentResolver(), imgUri);\n\n                        String str = encodeBitmapImage(bitmap);\n                        images.add(str);\n                        imageList.add(new imageModal(str));\n                        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 80, bytes);\n                        String path = MediaStore.Images.Media.insertImage(addQuesPage.this.getContentResolver(), bitmap, &quot;image&quot;, &quot;val&quot;);\n                        byte[] bytee = bytes.toByteArray();\n                        Anslist.add(new productImageModal(bytee));\n\n\n                        addProductImageAdapter adapter = new addProductImageAdapter(Anslist, addQuesPage.this);\n                        ansImgRecycler.setAdapter(adapter);\n                        // GridLayoutManager layout = new LinearLayoutManager(addQuestion.this, LinearLayoutManager.VERTICAL, false);\n                        GridLayoutManager layout = new GridLayoutManager(addQuesPage.this, 1, LinearLayoutManager.VERTICAL, false);\n                        ansImgRecycler.setLayoutManager(layout);\n\n                        //TwoRowGridLayoutManager layoutManager = new TwoRowGridLayoutManager(context, 2);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }else{\n                    if (0 &lt; clips.getItemCount()) {\n                        if (clips != null) {\n                            for (int i = 0; i &lt; clips.getItemCount(); i++) {\n\n                                Uri imgUri = clips.getItemAt(i).getUri();\n                                imageUri.add(clips.getItemAt(0).getUri());\n                                try {\n                                    //  upload.setVisibility(View.VISIBLE);\n\n                                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(addQuesPage.this.getContentResolver(), imgUri);\n                                    String str = encodeBitmapImage(bitmap);\n\n                                    images.add(str);\n\n                                    imageList.add(new imageModal(str));\n                                    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n                                    bitmap.compress(Bitmap.CompressFormat.JPEG, 80, bytes);\n                                    String path = MediaStore.Images.Media.insertImage(addQuesPage.this.getContentResolver(), bitmap, &quot;image&quot;, &quot;val&quot;);\n                                    byte[] bytee = bytes.toByteArray();\n                                    Anslist.add(new productImageModal(bytee));\n\n\n                                } catch (Exception e) {\n\n                                }\n\n                            }\n\n                            addProductImageAdapter adapter = new addProductImageAdapter(Anslist, addQuesPage.this);\n                            ansImgRecycler.setAdapter(adapter);\n                            GridLayoutManager layout = new GridLayoutManager(addQuesPage.this, 1, LinearLayoutManager.VERTICAL, false);\n                            ansImgRecycler.setLayoutManager(layout);\n\n                        } else {\n                            Toast.makeText(addQuesPage.this, &quot;No image founddddddddddddddddd&quot;, Toast.LENGTH_LONG).show();\n                        }\n\n\n                    } else {\n                        Toast.makeText(addQuesPage.this, &quot;Select atleast 1 images&quot;, Toast.LENGTH_LONG).show();\n                        pick();\n                    }\n                }\n            }\n            \n        }\n\n\n    });\n\n    \n</code></pre>\n<p>I was trying to select multiple images in a certain order but it is not same as shown in recyclerview</p>\n"},{"tags":["java","ssl","java-8","openssl","self-signed"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694001900,"post_id":77051702,"comment_id":135833246,"body_markdown":"40-bit RC2 is super weak as a cipher, I&#39;d switch to grown up ciphers instead of trying to make legacy work. &quot;A typical home computer in 2004 could brute-force a 40-bit key in a little under two weeks&quot;.","body":"40-bit RC2 is super weak as a cipher, I&#39;d switch to grown up ciphers instead of trying to make legacy work. &quot;A typical home computer in 2004 could brute-force a 40-bit key in a little under two weeks&quot;."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1694009307,"post_id":77051702,"comment_id":135835106,"body_markdown":"@Kayman RC2-40 is broken, but it has been used in PFX/PKCS12 for decades _only for certificates_ which don&#39;t need to be confidential at all; they are _designed_ to be public, and no one knows how this silly tradition of &#39;masking&#39; them with RC2-40 started except that probably, as usual, it&#39;s Microsoft&#39;s fault. (In contrast we DO know Sun was to blame for the lousy encryption used in JKS for privatekeys where it _does_ matter :-)","body":"@Kayman RC2-40 is broken, but it has been used in PFX/PKCS12 for decades <i>only for certificates</i> which don&#39;t need to be confidential at all; they are <i>designed</i> to be public, and no one knows how this silly tradition of &#39;masking&#39; them with RC2-40 started except that probably, as usual, it&#39;s Microsoft&#39;s fault. (In contrast we DO know Sun was to blame for the lousy encryption used in JKS for privatekeys where it <i>does</i> matter :-)"}],"answers":[{"tags":[],"owner":{"account_id":1982045,"reputation":8592,"user_id":1946679,"display_name":"Matt Caswell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694007595,"creation_date":1694007595,"answer_id":77052474,"question_id":77051702,"body_markdown":"Add the `-legacy` option to your OpenSSL `pkcs12` command line.\r\n\r\nSee the man page which says this:\r\n\r\n&gt; When encountering problems loading legacy PKCS#12 files that involve, for example, RC2-40-CBC, try using the -legacy option and, if needed, the -provider-path option.\r\n\r\nhttps://www.openssl.org/docs/man3.1/man1/openssl-pkcs12.html","title":"Issues while migrating from OpenSSL 1.1.x to OpenSSL 3.1.1(creating .crt and .key files from a .p12 file)","body":"<p>Add the <code>-legacy</code> option to your OpenSSL <code>pkcs12</code> command line.</p>\n<p>See the man page which says this:</p>\n<blockquote>\n<p>When encountering problems loading legacy PKCS#12 files that involve, for example, RC2-40-CBC, try using the -legacy option and, if needed, the -provider-path option.</p>\n</blockquote>\n<p><a href=\"https://www.openssl.org/docs/man3.1/man1/openssl-pkcs12.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/man3.1/man1/openssl-pkcs12.html</a></p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694084023,"creation_date":1694008989,"answer_id":77052663,"question_id":77051702,"body_markdown":"1. You can change your OpenSSL config file to load the legacy provider (_in addition_ to the default one); this can be either the compiled-in file (depends on your system/environment but typically something like `/etc/pki/openssl.conf` or `/usr/share/openssl.conf`) or your own file set with an env var, see https://stackoverflow.com/questions/74545780/how-to-enable-the-openssl-3-0-legacy-provider-github-actions . \r\n\r\n    This still uses the legacy _algorithm_ just not the `-legacy` _option_; I don&#39;t know if this satisfies your objection.\r\n\r\n2. If you want to stop using the old algorithm, use `keytool` from Java [8u301 11.0.12 or 16 up](https://bugs.openjdk.org/browse/JDK-8153005) -- or manually modify the settings in `java.security` _or_ set the equivalent system properties in [12 through 15](https://bugs.openjdk.org/browse/JDK-8076190) but those are all end-of-life now so that&#39;s probably a bad idea.\r\n\r\n3. Or going further afield, you can use OpenSSL to create your key and self-signed cert in the first place, not Java `keytool`. With OpenSSL 3.0.0 up, `openssl pkcs12 -export` will use only new encryption (PBES2/AES) which both OpenSSL 3.x and 1.x will read, however some versions of _Java_ (and specifically some updates of Java 8) cannot read these files either because of PBES2 in general, PBES2 with AES, or PBMAC-SHA256; there are numerous Qs about these here and on security.SX superuser serverfault. \r\n\r\n    There are several variations with `openssl` commandline: you can create the key separately with `genrsa` or `genpkey`, then a CSR with `req -new`, then a cert with `x509 -req -signkey`. You can combine the first step into the second using `-newkey [-keyout] [-nodes]`, and the third step into the second using `-x509` (i.e. an option not a subcommand). And lots of Qs about all of them. \r\n\r\nAlso FYI in Java 9 up the default keystore type is PKCS12, so if `-genkey[pair]` creates a new keystore (i.e. doesn&#39;t update an existing JKS) that keystore is already PKCS12 and doesn&#39;t need to be converted with `-importkeystore`. In Java 8 you can change the default type to PKCS12 in `java.security` if you want.","title":"Issues while migrating from OpenSSL 1.1.x to OpenSSL 3.1.1(creating .crt and .key files from a .p12 file)","body":"<ol>\n<li><p>You can change your OpenSSL config file to load the legacy provider (<em>in addition</em> to the default one); this can be either the compiled-in file (depends on your system/environment but typically something like <code>/etc/pki/openssl.conf</code> or <code>/usr/share/openssl.conf</code>) or your own file set with an env var, see <a href=\"https://stackoverflow.com/questions/74545780/how-to-enable-the-openssl-3-0-legacy-provider-github-actions\">How to enable the OpenSSL 3.0 legacy provider Github Actions?</a> .</p>\n<p>This still uses the legacy <em>algorithm</em> just not the <code>-legacy</code> <em>option</em>; I don't know if this satisfies your objection.</p>\n</li>\n<li><p>If you want to stop using the old algorithm, use <code>keytool</code> from Java <a href=\"https://bugs.openjdk.org/browse/JDK-8153005\" rel=\"nofollow noreferrer\">8u301 11.0.12 or 16 up</a> -- or manually modify the settings in <code>java.security</code> <em>or</em> set the equivalent system properties in <a href=\"https://bugs.openjdk.org/browse/JDK-8076190\" rel=\"nofollow noreferrer\">12 through 15</a> but those are all end-of-life now so that's probably a bad idea.</p>\n</li>\n<li><p>Or going further afield, you can use OpenSSL to create your key and self-signed cert in the first place, not Java <code>keytool</code>. With OpenSSL 3.0.0 up, <code>openssl pkcs12 -export</code> will use only new encryption (PBES2/AES) which both OpenSSL 3.x and 1.x will read, however some versions of <em>Java</em> (and specifically some updates of Java 8) cannot read these files either because of PBES2 in general, PBES2 with AES, or PBMAC-SHA256; there are numerous Qs about these here and on security.SX superuser serverfault.</p>\n<p>There are several variations with <code>openssl</code> commandline: you can create the key separately with <code>genrsa</code> or <code>genpkey</code>, then a CSR with <code>req -new</code>, then a cert with <code>x509 -req -signkey</code>. You can combine the first step into the second using <code>-newkey [-keyout] [-nodes]</code>, and the third step into the second using <code>-x509</code> (i.e. an option not a subcommand). And lots of Qs about all of them.</p>\n</li>\n</ol>\n<p>Also FYI in Java 9 up the default keystore type is PKCS12, so if <code>-genkey[pair]</code> creates a new keystore (i.e. doesn't update an existing JKS) that keystore is already PKCS12 and doesn't need to be converted with <code>-importkeystore</code>. In Java 8 you can change the default type to PKCS12 in <code>java.security</code> if you want.</p>\n"}],"owner":{"account_id":1938323,"reputation":359,"user_id":1745202,"display_name":"Sharda Prasad Jaiswal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694084023,"creation_date":1694001740,"question_id":77051702,"body_markdown":"I am creating self signed certificates for my Java Web Application. My application uses Apache Tomcat and Apache HTTPD proxy. I was using OPENSSL 1.1.1 and Java keytool till now for self signed certificates and it works perfectly fine. But now I need to move to OpenSSL 3.1.1 and am facing issues.\r\n\r\nStep1: Create a keystore\r\n\r\n    keytool -genkeypair -alias keystore -keyalg RSA -keystore C:\\SSL\\PVIStore -keysize 2048\r\n\r\n\r\nStep2: Import keystore generated in step#1 to a .p12 file\r\n\r\n    keytool -importkeystore -srckeystore C:\\SSL\\PVIStore -destkeystore C:\\SSL\\PVIStore.p12 -deststoretype PKCS12\r\n\r\n\r\n\r\nStep3: Get .crt file from file generated in step#2 using openssl 3.1.1\r\n\r\n    openssl pkcs12 -in C:\\PVIStore.p12 -nokeys -out C:\\SSL\\PVIStore.crt\r\n\r\nStep4: Get .key file from the file generated in step#2 using openssl 3.1.1\r\n\r\n    openssl pkcs12 -in C:\\SSL\\PVIStore.p12 -nocerts -nodes -out C:\\SSL\\PVIStore.key\r\n\r\nStep #3 and Step #4 work perfectly fine in openssl 1.1.x but when using with openssl 3.1.1 I am getting below error:-\r\n\r\n**Error outputting keys and certificates\r\n94210000:error:0308010C:digital envelope routines:inner_evp_generic_fetch:unsupported:crypto\\evp\\evp_fetch.c:341:Global default library context, Algorithm (RC2-40-CBC : 0), Properties ()**\r\n\r\nNote: I got a workaround to work for me by following another [stackoverflow discussion][1], but I do not want to use the legacy switch to move ahead.\r\n\r\nAny help is greatly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69361375/issue-to-convert-the-ssl-certificates-from-pfx-to-peem-with-openssl/71039379#71039379","title":"Issues while migrating from OpenSSL 1.1.x to OpenSSL 3.1.1(creating .crt and .key files from a .p12 file)","body":"<p>I am creating self signed certificates for my Java Web Application. My application uses Apache Tomcat and Apache HTTPD proxy. I was using OPENSSL 1.1.1 and Java keytool till now for self signed certificates and it works perfectly fine. But now I need to move to OpenSSL 3.1.1 and am facing issues.</p>\n<p>Step1: Create a keystore</p>\n<pre><code>keytool -genkeypair -alias keystore -keyalg RSA -keystore C:\\SSL\\PVIStore -keysize 2048\n</code></pre>\n<p>Step2: Import keystore generated in step#1 to a .p12 file</p>\n<pre><code>keytool -importkeystore -srckeystore C:\\SSL\\PVIStore -destkeystore C:\\SSL\\PVIStore.p12 -deststoretype PKCS12\n</code></pre>\n<p>Step3: Get .crt file from file generated in step#2 using openssl 3.1.1</p>\n<pre><code>openssl pkcs12 -in C:\\PVIStore.p12 -nokeys -out C:\\SSL\\PVIStore.crt\n</code></pre>\n<p>Step4: Get .key file from the file generated in step#2 using openssl 3.1.1</p>\n<pre><code>openssl pkcs12 -in C:\\SSL\\PVIStore.p12 -nocerts -nodes -out C:\\SSL\\PVIStore.key\n</code></pre>\n<p>Step #3 and Step #4 work perfectly fine in openssl 1.1.x but when using with openssl 3.1.1 I am getting below error:-</p>\n<p><strong>Error outputting keys and certificates\n94210000:error:0308010C:digital envelope routines:inner_evp_generic_fetch:unsupported:crypto\\evp\\evp_fetch.c:341:Global default library context, Algorithm (RC2-40-CBC : 0), Properties ()</strong></p>\n<p>Note: I got a workaround to work for me by following another <a href=\"https://stackoverflow.com/questions/69361375/issue-to-convert-the-ssl-certificates-from-pfx-to-peem-with-openssl/71039379#71039379\">stackoverflow discussion</a>, but I do not want to use the legacy switch to move ahead.</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","floating-point","numbers","format"],"comments":[{"owner":{"display_name":"user3458"},"score":0,"creation_date":1463100467,"post_id":37199550,"comment_id":61931535,"body_markdown":"Please look at the second answer to the question you mentioned.","body":"Please look at the second answer to the question you mentioned."},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1463100677,"post_id":37199550,"comment_id":61931593,"body_markdown":"Take a look at [using BigDecimal](http://stackoverflow.com/a/13758367/836214) (One of the answers from the question you linked to)","body":"Take a look at <a href=\"http://stackoverflow.com/a/13758367/836214\">using BigDecimal</a> (One of the answers from the question you linked to)"},{"owner":{"account_id":5092388,"reputation":5380,"user_id":4085019,"accept_rate":50,"display_name":"PseudoAj"},"score":0,"creation_date":1463101955,"post_id":37199550,"comment_id":61931838,"body_markdown":"Solution posted to do just with String.format();","body":"Solution posted to do just with String.format();"},{"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"score":0,"creation_date":1463102934,"post_id":37199550,"comment_id":61932059,"body_markdown":"@Arkadiy - The second answer is DecimalFormat, not String.format(), right?","body":"@Arkadiy - The second answer is DecimalFormat, not String.format(), right?"},{"owner":{"display_name":"user3458"},"score":1,"creation_date":1463103019,"post_id":37199550,"comment_id":61932073,"body_markdown":"You can use DecimalFormat and%s","body":"You can use DecimalFormat and%s"},{"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"score":0,"creation_date":1463110174,"post_id":37199550,"comment_id":61933613,"body_markdown":"Yeah, but my question was whether it&#39;s doable with String.format() ...","body":"Yeah, but my question was whether it&#39;s doable with String.format() ..."},{"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1578676307,"post_id":37199550,"comment_id":105529106,"body_markdown":"@mac did any of the answer solved your question?","body":"@mac did any of the answer solved your question?"}],"answers":[{"tags":[],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1463113001,"creation_date":1463100672,"answer_id":37199643,"question_id":37199550,"body_markdown":"You can use **[DecimalFormat][1].** \n\nQuoting the documentation:\n\n&gt; You can use the DecimalFormat class to format decimal numbers into locale-specific strings. This class allows you to control the display of leading and trailing zeros, prefixes and suffixes, grouping (thousands) separators, and the decimal separator.\n&gt;\n&gt; The pound sign (#) denotes a digit and the period is a placeholder for the decimal\n&gt; separator.\n\n\n    public void test(){\n        DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n        System.out.println(df.format(1.00));\n        System.out.println(df.format(1.20));\n        System.out.println(df.format(1.23));\n        System.out.println(df.format(1.234));\n        System.out.println(df.format(1.235));\n    }\n\nOutput:\n\n    1\n    1.2\n    1.23\n    1.23\n    1.24\n\n**Update**: since you updated the question and you wanted to use String.format, searching in SO found this [thread][2] and leverage a trick plus regex. So, you could use something like this:\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        System.out.println(fmt(1.00));\n        System.out.println(fmt(1.20));\n        System.out.println(fmt(1.23));\n        System.out.println(fmt(1.234));\n        System.out.println(fmt(1.235));\n    }\n    \n    public static String fmt(double d)\n    {\n        if(d == (long) d)\n            return String.format(&quot;%d&quot;,(long)d);\n        else\n            return String.format(&quot;%.2f&quot;,d).replaceAll(&quot;0*$&quot;, &quot;&quot;);\n    }\n\nThe output is:\n\n    1\n    1.2\n    1.23\n    1.23\n    1.24\n\nAnyway, I would use **DecimalFormat** instead.\n\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html\n  [2]: https://stackoverflow.com/questions/703396/how-to-nicely-format-floating-numbers-to-string-without-unnecessary-decimal-0","title":"Format float to maximum N decimal places","body":"<p>You can use <strong><a href=\"https://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a>.</strong></p>\n<p>Quoting the documentation:</p>\n<blockquote>\n<p>You can use the DecimalFormat class to format decimal numbers into locale-specific strings. This class allows you to control the display of leading and trailing zeros, prefixes and suffixes, grouping (thousands) separators, and the decimal separator.</p>\n<p>The pound sign (#) denotes a digit and the period is a placeholder for the decimal\nseparator.</p>\n</blockquote>\n<pre><code>public void test(){\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n    System.out.println(df.format(1.00));\n    System.out.println(df.format(1.20));\n    System.out.println(df.format(1.23));\n    System.out.println(df.format(1.234));\n    System.out.println(df.format(1.235));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n1.2\n1.23\n1.23\n1.24\n</code></pre>\n<p><strong>Update</strong>: since you updated the question and you wanted to use String.format, searching in SO found this <a href=\"https://stackoverflow.com/questions/703396/how-to-nicely-format-floating-numbers-to-string-without-unnecessary-decimal-0\">thread</a> and leverage a trick plus regex. So, you could use something like this:</p>\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n    System.out.println(fmt(1.00));\n    System.out.println(fmt(1.20));\n    System.out.println(fmt(1.23));\n    System.out.println(fmt(1.234));\n    System.out.println(fmt(1.235));\n}\n\npublic static String fmt(double d)\n{\n    if(d == (long) d)\n        return String.format(&quot;%d&quot;,(long)d);\n    else\n        return String.format(&quot;%.2f&quot;,d).replaceAll(&quot;0*$&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>1\n1.2\n1.23\n1.23\n1.24\n</code></pre>\n<p>Anyway, I would use <strong>DecimalFormat</strong> instead.</p>\n"},{"tags":[],"owner":{"account_id":5092388,"reputation":5380,"user_id":4085019,"accept_rate":50,"display_name":"PseudoAj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463102313,"creation_date":1463101915,"answer_id":37199774,"question_id":37199550,"body_markdown":"Another solution if you still want to do it with `String.format()`, here is the solution:\r\n\r\nJava Code: ParseN.java\r\n\r\n\r\n    public class ParseN{\r\n    \r\n         public static void main(String []args){\r\n            System.out.println(parseN(1.00));\r\n            System.out.println(parseN(1.20));\r\n            System.out.println(parseN(1.23));\r\n            System.out.println(parseN(1.234));\r\n            System.out.println(parseN(1.235));\r\n         }\r\n    \r\n         static String parseN(Double d)\r\n         {\r\n           String s = String.format(&quot;%.2f&quot;, d);\r\n           s = s.indexOf(&quot;.&quot;) &lt; 0 ? s : s.replaceAll(&quot;0*$&quot;, &quot;&quot;).replaceAll(&quot;\\\\.$&quot;, &quot;&quot;);\r\n           return s;\r\n         }\r\n    }\r\n\r\noutput:\r\n\r\n    1\r\n    1.2\r\n    1.23\r\n    1.23\r\n    1.24\r\n\r\nHope it fully answers your question. Also, refer [this][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14984664/remove-trailing-zero-in-java","title":"Format float to maximum N decimal places","body":"<p>Another solution if you still want to do it with <code>String.format()</code>, here is the solution:</p>\n\n<p>Java Code: ParseN.java</p>\n\n<pre><code>public class ParseN{\n\n     public static void main(String []args){\n        System.out.println(parseN(1.00));\n        System.out.println(parseN(1.20));\n        System.out.println(parseN(1.23));\n        System.out.println(parseN(1.234));\n        System.out.println(parseN(1.235));\n     }\n\n     static String parseN(Double d)\n     {\n       String s = String.format(\"%.2f\", d);\n       s = s.indexOf(\".\") &lt; 0 ? s : s.replaceAll(\"0*$\", \"\").replaceAll(\"\\\\.$\", \"\");\n       return s;\n     }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1\n1.2\n1.23\n1.23\n1.24\n</code></pre>\n\n<p>Hope it fully answers your question. Also, refer <a href=\"https://stackoverflow.com/questions/14984664/remove-trailing-zero-in-java\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463103605,"creation_date":1463103605,"answer_id":37199944,"question_id":37199550,"body_markdown":"You can also control the formatting of `DecimalFormat` using `setMaximumFractionDigits(...)` like so:\r\n\r\n    double d = 1.234567;\r\n    DecimalFormat df = new DecimalFormat();\r\n    for (int i = 2; i &lt; 6; ++i) {\r\n      df.setMaximumFractionDigits(i);\r\n      System.out.println(df.format(d));\r\n    }\r\n\r\nThis might be better for your use case than generating a format using `StringBuilder` or similar.","title":"Format float to maximum N decimal places","body":"<p>You can also control the formatting of <code>DecimalFormat</code> using <code>setMaximumFractionDigits(...)</code> like so:</p>\n\n<pre><code>double d = 1.234567;\nDecimalFormat df = new DecimalFormat();\nfor (int i = 2; i &lt; 6; ++i) {\n  df.setMaximumFractionDigits(i);\n  System.out.println(df.format(d));\n}\n</code></pre>\n\n<p>This might be better for your use case than generating a format using <code>StringBuilder</code> or similar.</p>\n"},{"tags":[],"owner":{"account_id":170460,"reputation":91,"user_id":4733936,"display_name":"Matthias Gerth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586975383,"creation_date":1586881424,"answer_id":61212508,"question_id":37199550,"body_markdown":"Use NumberFormat.\r\n\r\n```\r\nNumberFormat format = NumberFormat.getInstance();\r\nformat.setMaximumFractionDigits(2); // or N\r\n\r\nSystem.out.println(format.format(1)); // -&gt; 1\r\nSystem.out.println(format.format(1.2)); // -&gt; 1.2\r\nSystem.out.println(format.format(1.23)); // -&gt; 1.23\r\nSystem.out.println(format.format(1.234)); // -&gt; 1.23\r\nSystem.out.println(format.format(1.235)); // -&gt; 1.24\r\n```\r\n\r\nNumberFormat also works with Locales and you can change the rounding mode.\r\n```\r\nNumberFormat format = NumberFormat.getInstance(Locale.GERMANY);\r\nformat.setMaximumFractionDigits(2);\r\nformat.setRoundingMode(RoundingMode.CEILING);\r\n\r\nSystem.out.println(format.format(1)); // -&gt; 1\r\nSystem.out.println(format.format(1.2)); // -&gt; 1,2\r\nSystem.out.println(format.format(1.23)); // -&gt; 1,23\r\nSystem.out.println(format.format(1.234)); // -&gt; 1,24\r\nSystem.out.println(format.format(1.235)); // -&gt; 1,24\r\n```","title":"Format float to maximum N decimal places","body":"<p>Use NumberFormat.</p>\n\n<pre><code>NumberFormat format = NumberFormat.getInstance();\nformat.setMaximumFractionDigits(2); // or N\n\nSystem.out.println(format.format(1)); // -&gt; 1\nSystem.out.println(format.format(1.2)); // -&gt; 1.2\nSystem.out.println(format.format(1.23)); // -&gt; 1.23\nSystem.out.println(format.format(1.234)); // -&gt; 1.23\nSystem.out.println(format.format(1.235)); // -&gt; 1.24\n</code></pre>\n\n<p>NumberFormat also works with Locales and you can change the rounding mode.</p>\n\n<pre><code>NumberFormat format = NumberFormat.getInstance(Locale.GERMANY);\nformat.setMaximumFractionDigits(2);\nformat.setRoundingMode(RoundingMode.CEILING);\n\nSystem.out.println(format.format(1)); // -&gt; 1\nSystem.out.println(format.format(1.2)); // -&gt; 1,2\nSystem.out.println(format.format(1.23)); // -&gt; 1,23\nSystem.out.println(format.format(1.234)); // -&gt; 1,24\nSystem.out.println(format.format(1.235)); // -&gt; 1,24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694083919,"creation_date":1694082899,"answer_id":77058792,"question_id":37199550,"body_markdown":"Possibly the most concise way using `String.format()` would be through the `fmt` expression shown in the following test program:\r\n```java\r\nstatic String fmtN(double d) {\r\n\tString fmt = String.format(&quot;%.2f&quot;, d).replaceFirst(&quot;\\\\.?(\\\\.[1-9])?0+$&quot;, &quot;$1&quot;);\r\n\tSystem.out.println(fmt);\r\n\treturn fmt;\r\n}\r\n\r\n@Test\r\npublic void test() {\r\n\tassertThat(fmtN(1), is(&quot;1&quot;));\r\n\tassertThat(fmtN(1.05), is(&quot;1.05&quot;));\r\n\tassertThat(fmtN(1.2), is(&quot;1.2&quot;));\r\n\tassertThat(fmtN(1.23), is(&quot;1.23&quot;));\r\n\tassertThat(fmtN(1.234), is(&quot;1.23&quot;));\r\n\tassertThat(fmtN(1.235), is(&quot;1.24&quot;));\r\n}\r\n```\r\n#### All the gory details ####\r\nFormatters available to `String.format()` don&#39;t readily allow specifying &quot;maximum N&quot; decimal places (only &quot;exactly 2&quot; for example, as in `.2`) so we have to use a [Regex][1] to strip trailing zeroes.  This is a bit harder than it looks for the first case (where there are no decimal places), in order to also suppress the trailing `.`.\r\n\r\nHere are a few key points that make this work:\r\n - `?` makes the [preceding group or pattern optional][2]\r\n - `(...)` delimits a capturing group, which can be re-introduced in the replacement string using its positional number; so here `$1` reproduces the capturing group `(\\.[1-9])`\r\n - `+` is for one or more occurrences of the preceding pattern\r\n - `\\.` escapes the `.` (decimal point) character, so it&#39;s used as a literal rather than its regex meaning of &quot;any character&quot; (backslashes have to themselves to be escaped in Java Strings, so every regex backslash is written `\\\\`).\r\n\r\nPfeeew... So the capturing group `(\\.[1-9])`, meaning a `.` followed by any non-zero digit is marked optional using the `?` suffix; so the entire regex doesn&#39;t fail to match in case there are no non-zero decimal places, as in the test string `1.00`.  If that group is present, it gets replicated using `$1` as we saw above.  If it isn&#39;t present (as in `1.00`), we want the `.` (decimal point) stripped so it gets captured by `\\.?`.  Trailing zeroes are captured by `0+$` (`$` stands for end of candidate string) and discarded.\r\n\r\nFinally I used `replaceFirst()` as opposed to `replaceAll()` as a minor optimization; once the regex has done it&#39;s job, we can stop looking for more matches.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\r\n  [2]: https://www.pythonpool.com/regex-optional-group/","title":"Format float to maximum N decimal places","body":"<p>Possibly the most concise way using <code>String.format()</code> would be through the <code>fmt</code> expression shown in the following test program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String fmtN(double d) {\n    String fmt = String.format(&quot;%.2f&quot;, d).replaceFirst(&quot;\\\\.?(\\\\.[1-9])?0+$&quot;, &quot;$1&quot;);\n    System.out.println(fmt);\n    return fmt;\n}\n\n@Test\npublic void test() {\n    assertThat(fmtN(1), is(&quot;1&quot;));\n    assertThat(fmtN(1.05), is(&quot;1.05&quot;));\n    assertThat(fmtN(1.2), is(&quot;1.2&quot;));\n    assertThat(fmtN(1.23), is(&quot;1.23&quot;));\n    assertThat(fmtN(1.234), is(&quot;1.23&quot;));\n    assertThat(fmtN(1.235), is(&quot;1.24&quot;));\n}\n</code></pre>\n<h4>All the gory details</h4>\n<p>Formatters available to <code>String.format()</code> don't readily allow specifying &quot;maximum N&quot; decimal places (only &quot;exactly 2&quot; for example, as in <code>.2</code>) so we have to use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Regex</a> to strip trailing zeroes.  This is a bit harder than it looks for the first case (where there are no decimal places), in order to also suppress the trailing <code>.</code>.</p>\n<p>Here are a few key points that make this work:</p>\n<ul>\n<li><code>?</code> makes the <a href=\"https://www.pythonpool.com/regex-optional-group/\" rel=\"nofollow noreferrer\">preceding group or pattern optional</a></li>\n<li><code>(...)</code> delimits a capturing group, which can be re-introduced in the replacement string using its positional number; so here <code>$1</code> reproduces the capturing group <code>(\\.[1-9])</code></li>\n<li><code>+</code> is for one or more occurrences of the preceding pattern</li>\n<li><code>\\.</code> escapes the <code>.</code> (decimal point) character, so it's used as a literal rather than its regex meaning of &quot;any character&quot; (backslashes have to themselves to be escaped in Java Strings, so every regex backslash is written <code>\\\\</code>).</li>\n</ul>\n<p>Pfeeew... So the capturing group <code>(\\.[1-9])</code>, meaning a <code>.</code> followed by any non-zero digit is marked optional using the <code>?</code> suffix; so the entire regex doesn't fail to match in case there are no non-zero decimal places, as in the test string <code>1.00</code>.  If that group is present, it gets replicated using <code>$1</code> as we saw above.  If it isn't present (as in <code>1.00</code>), we want the <code>.</code> (decimal point) stripped so it gets captured by <code>\\.?</code>.  Trailing zeroes are captured by <code>0+$</code> (<code>$</code> stands for end of candidate string) and discarded.</p>\n<p>Finally I used <code>replaceFirst()</code> as opposed to <code>replaceAll()</code> as a minor optimization; once the regex has done it's job, we can stop looking for more matches.</p>\n"}],"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7239,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1694083919,"creation_date":1463099915,"question_id":37199550,"body_markdown":"I&#39;d like to format a number to maximum N decimal places. There&#39;s [another similar and popular question here][1], but that&#39;s not exactly what I&#39;m looking for.\r\n\r\nI&#39;m looking for something like this, let&#39;s say I want max. 2 places, so this would be:\r\n\r\n    1.00  -&gt; &quot;1&quot;    (not &quot;1.00&quot;)\r\n    1.20  -&gt; &quot;1.2&quot;  (not &quot;1.20&quot;)\r\n    1.23  -&gt; &quot;1.23&quot;\r\n    1.234 -&gt; &quot;1.23&quot;\r\n    1.235 -&gt; &quot;1.24&quot;\r\n\r\nThe difference to the other question is that I don&#39;t want trailing zeros behind the comma if I don&#39;t need them.\r\n\r\nI&#39;d like to know whether this is doable with **`String.format()`**, not with `Math.round()`, or DecimalFormat. The other question shown above provides a solution with DecimalFormat.\r\n\r\nThe answer does not need to be variable given N as an argument. I just chose N as an example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places","title":"Format float to maximum N decimal places","body":"<p>I'd like to format a number to maximum N decimal places. There's <a href=\"https://stackoverflow.com/questions/5195837/format-float-to-n-decimal-places\">another similar and popular question here</a>, but that's not exactly what I'm looking for.</p>\n\n<p>I'm looking for something like this, let's say I want max. 2 places, so this would be:</p>\n\n<pre><code>1.00  -&gt; \"1\"    (not \"1.00\")\n1.20  -&gt; \"1.2\"  (not \"1.20\")\n1.23  -&gt; \"1.23\"\n1.234 -&gt; \"1.23\"\n1.235 -&gt; \"1.24\"\n</code></pre>\n\n<p>The difference to the other question is that I don't want trailing zeros behind the comma if I don't need them.</p>\n\n<p>I'd like to know whether this is doable with <strong><code>String.format()</code></strong>, not with <code>Math.round()</code>, or DecimalFormat. The other question shown above provides a solution with DecimalFormat.</p>\n\n<p>The answer does not need to be variable given N as an argument. I just chose N as an example.</p>\n"},{"tags":["java","spring","spring-boot","grpc","proto"],"answers":[{"tags":[],"owner":{"account_id":15937371,"reputation":540,"user_id":11500161,"display_name":"voidzcy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591649540,"creation_date":1591649540,"answer_id":62270985,"question_id":62236577,"body_markdown":"In Java, `google.protobuf.Struct`&#39;s field values are not supported in their native representations. Instead, they are wrapped by `com.google.protobuf.Value`. So with `google.protobuf.Struct#getFieldsMap()` method, the result is a `Map&lt;String, Value&gt;`. You would need to populate entry values manually.","title":"How to convert google.protobuf.Struct field in java.util.Map&lt;String, Object&gt;?","body":"<p>In Java, <code>google.protobuf.Struct</code>'s field values are not supported in their native representations. Instead, they are wrapped by <code>com.google.protobuf.Value</code>. So with <code>google.protobuf.Struct#getFieldsMap()</code> method, the result is a <code>Map&lt;String, Value&gt;</code>. You would need to populate entry values manually.</p>\n"},{"tags":[],"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599136632,"creation_date":1599136287,"answer_id":63723746,"question_id":62236577,"body_markdown":"I think you can stream over metadata keys and collect them as a map. This could solve your problem.\r\n\r\n    \r\n\r\n        public Map&lt;String, String&gt; getMetadataMap(Metadata metadata) {\r\n                Map&lt;String, String&gt; metadataMap = metadata.keys().stream().collect(\r\n                    Collectors.toMap(\r\n                        key -&gt; key,\r\n                        key -&gt; metadata.get(Metadata.Key.of(key,\r\n                                            Metadata.ASCII_STRING_MARSHALLER))));\r\n                return metadataMap;\r\n              }","title":"How to convert google.protobuf.Struct field in java.util.Map&lt;String, Object&gt;?","body":"<p>I think you can stream over metadata keys and collect them as a map. This could solve your problem.</p>\n<pre><code>    public Map&lt;String, String&gt; getMetadataMap(Metadata metadata) {\n            Map&lt;String, String&gt; metadataMap = metadata.keys().stream().collect(\n                Collectors.toMap(\n                    key -&gt; key,\n                    key -&gt; metadata.get(Metadata.Key.of(key,\n                                        Metadata.ASCII_STRING_MARSHALLER))));\n            return metadataMap;\n          }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3299085,"reputation":2335,"user_id":2775651,"accept_rate":75,"display_name":"Sergey  Bulavkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630948322,"creation_date":1630948322,"answer_id":69078196,"question_id":62236577,"body_markdown":"Solution for kotlin: \r\n\r\n    fun Struct.toMap(): Map&lt;String, Any?&gt; =\r\n        this.fieldsMap.mapValues { it.value.toAny() }\r\n    \r\n    fun Value.toAny(): Any? =\r\n        when (kindCase) {\r\n            NULL_VALUE -&gt; null\r\n            NUMBER_VALUE -&gt; numberValue\r\n            STRING_VALUE -&gt; stringValue\r\n            BOOL_VALUE -&gt; boolValue\r\n            STRUCT_VALUE -&gt; structValue.toMap()\r\n            LIST_VALUE -&gt; listValue.valuesList.map { it.toAny() }\r\n            else -&gt; error(&quot;Incorrect protobuf value $this&quot;)\r\n        }\r\n\r\nUsage:\r\n\r\n    val map: Map&lt;String, Any?&gt; = youProtoStruct.toMap()","title":"How to convert google.protobuf.Struct field in java.util.Map&lt;String, Object&gt;?","body":"<p>Solution for kotlin:</p>\n<pre><code>fun Struct.toMap(): Map&lt;String, Any?&gt; =\n    this.fieldsMap.mapValues { it.value.toAny() }\n\nfun Value.toAny(): Any? =\n    when (kindCase) {\n        NULL_VALUE -&gt; null\n        NUMBER_VALUE -&gt; numberValue\n        STRING_VALUE -&gt; stringValue\n        BOOL_VALUE -&gt; boolValue\n        STRUCT_VALUE -&gt; structValue.toMap()\n        LIST_VALUE -&gt; listValue.valuesList.map { it.toAny() }\n        else -&gt; error(&quot;Incorrect protobuf value $this&quot;)\n    }\n</code></pre>\n<p>Usage:</p>\n<pre><code>val map: Map&lt;String, Any?&gt; = youProtoStruct.toMap()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20971494,"reputation":82,"user_id":15408555,"display_name":"Amit Shmulevitch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694083793,"creation_date":1694083793,"answer_id":77058894,"question_id":62236577,"body_markdown":"The answer by [voidzcy](https://stackoverflow.com/users/11500161/voidzcy) has correctly pointed out the intricacies of dealing with Google Protobuf&#39;s Struct in Java, specifically the use of Value to wrap the fields. I&#39;d like to offer some deeper understanding for those new to Protobuf in overall, to illuminate why this design choice was made and how it impacts you as a developer.\r\n\r\nProtobuf&#39;s Struct type is designed to be a flexible container that can accommodate a variety of data types. This design choice is particularly beneficial for handling semi-structured or dynamic data. The flexibility allows the Struct to capture data that does not conform to a fixed schema. While this is incredibly useful for handling a variety of data shapes, it comes with a trade-off: you lose strong type guarantees.\r\n\r\nTo understand a little bit deeper what defines the `Struct` well-known message in the core library of `Protobuf` we can look at the `.proto` descriptions found on [Github](https://github.com/protocolbuffers/protobuf/blob/main/src/google/protobuf/struct.proto)\r\n\r\nThe code below is taken from the opensource repository of google protobuf:\r\n```proto\r\nmessage Struct {\r\n  // Unordered map of dynamically typed values.\r\n  map&lt;string, Value&gt; fields = 1;\r\n}\r\n```\r\n\r\nSo from the above code snippet, we can tell that a struct is essentially using `map&lt;&gt;` we discussed above, and storing `Value` to mapped strings.\r\n\r\nThe `Value` is another message that defined on the same `.proto` file here is how `Value` look like:\r\n```proto\r\nmessage Value {\r\n  oneof kind {\r\n    NullValue null_value = 1;\r\n    double number_value = 2;\r\n    string string_value = 3;\r\n    bool bool_value = 4;\r\n    Struct struct_value = 5;\r\n    ListValue list_value = 6;\r\n  }\r\n}\r\n```\r\n\r\nWe can look also the last entities in the `struct.proto` file to know that value can be served as &quot;Null&quot; or a &quot;List&quot; of `Value`:\r\n\r\n```proto\r\nenum NullValue {\r\n  NULL_VALUE = 0;\r\n}\r\n\r\nmessage ListValue {\r\n  repeated Value values = 1;\r\n}\r\n```\r\n\r\nSome languages and frameworks may use the internal protobuf structure without giving the developer and &quot;JSON Like&quot; interface to interact with thier `Struct`&#39;s\r\n\r\nFor example, if we have the following JSON data:\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;foo&quot;,\r\n    &quot;domain&quot;: &quot;bar&quot;,\r\n    &quot;isAuthenticated&quot;: true\r\n}\r\n```\r\n\r\nwe will have the internal `Protobuf` pseudo-code structure like:\r\n```python\r\nStruct {\r\n    fields {\r\n        key: &quot;name&quot;\r\n        value {\r\n            string_value: &quot;foo&quot;\r\n        }\r\n    }\r\n    fields {\r\n        key: &quot;isAuthenticated&quot;\r\n        value {\r\n            bool_value: true\r\n        }\r\n    }\r\n    fields {\r\n        key: &quot;id&quot;\r\n        value {\r\n            number_value: 1\r\n        }\r\n    }\r\n    fields {\r\n        key: &quot;domain&quot;\r\n        value {\r\n            string_value: &quot;bar&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you want to read more about it I have posted a [Blog regarding this topic](https://blog.sylk.build/blog/protobuf-map-vs-struct)","title":"How to convert google.protobuf.Struct field in java.util.Map&lt;String, Object&gt;?","body":"<p>The answer by <a href=\"https://stackoverflow.com/users/11500161/voidzcy\">voidzcy</a> has correctly pointed out the intricacies of dealing with Google Protobuf's Struct in Java, specifically the use of Value to wrap the fields. I'd like to offer some deeper understanding for those new to Protobuf in overall, to illuminate why this design choice was made and how it impacts you as a developer.</p>\n<p>Protobuf's Struct type is designed to be a flexible container that can accommodate a variety of data types. This design choice is particularly beneficial for handling semi-structured or dynamic data. The flexibility allows the Struct to capture data that does not conform to a fixed schema. While this is incredibly useful for handling a variety of data shapes, it comes with a trade-off: you lose strong type guarantees.</p>\n<p>To understand a little bit deeper what defines the <code>Struct</code> well-known message in the core library of <code>Protobuf</code> we can look at the <code>.proto</code> descriptions found on <a href=\"https://github.com/protocolbuffers/protobuf/blob/main/src/google/protobuf/struct.proto\" rel=\"nofollow noreferrer\">Github</a></p>\n<p>The code below is taken from the opensource repository of google protobuf:</p>\n<pre><code>message Struct {\n  // Unordered map of dynamically typed values.\n  map&lt;string, Value&gt; fields = 1;\n}\n</code></pre>\n<p>So from the above code snippet, we can tell that a struct is essentially using <code>map&lt;&gt;</code> we discussed above, and storing <code>Value</code> to mapped strings.</p>\n<p>The <code>Value</code> is another message that defined on the same <code>.proto</code> file here is how <code>Value</code> look like:</p>\n<pre><code>message Value {\n  oneof kind {\n    NullValue null_value = 1;\n    double number_value = 2;\n    string string_value = 3;\n    bool bool_value = 4;\n    Struct struct_value = 5;\n    ListValue list_value = 6;\n  }\n}\n</code></pre>\n<p>We can look also the last entities in the <code>struct.proto</code> file to know that value can be served as &quot;Null&quot; or a &quot;List&quot; of <code>Value</code>:</p>\n<pre><code>enum NullValue {\n  NULL_VALUE = 0;\n}\n\nmessage ListValue {\n  repeated Value values = 1;\n}\n</code></pre>\n<p>Some languages and frameworks may use the internal protobuf structure without giving the developer and &quot;JSON Like&quot; interface to interact with thier <code>Struct</code>'s</p>\n<p>For example, if we have the following JSON data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;foo&quot;,\n    &quot;domain&quot;: &quot;bar&quot;,\n    &quot;isAuthenticated&quot;: true\n}\n</code></pre>\n<p>we will have the internal <code>Protobuf</code> pseudo-code structure like:</p>\n<pre class=\"lang-py prettyprint-override\"><code>Struct {\n    fields {\n        key: &quot;name&quot;\n        value {\n            string_value: &quot;foo&quot;\n        }\n    }\n    fields {\n        key: &quot;isAuthenticated&quot;\n        value {\n            bool_value: true\n        }\n    }\n    fields {\n        key: &quot;id&quot;\n        value {\n            number_value: 1\n        }\n    }\n    fields {\n        key: &quot;domain&quot;\n        value {\n            string_value: &quot;bar&quot;\n        }\n    }\n}\n</code></pre>\n<p>If you want to read more about it I have posted a <a href=\"https://blog.sylk.build/blog/protobuf-map-vs-struct\" rel=\"nofollow noreferrer\">Blog regarding this topic</a></p>\n"}],"owner":{"account_id":11033603,"reputation":41,"user_id":8104255,"display_name":"jaymil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6508,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1694083793,"creation_date":1591469673,"question_id":62236577,"body_markdown":"I have a message defined quotation_item.proto file which has google.protobuf.Struct field to parse metadata JSON.\r\n```\r\nmessage QuotationItemEntry {\r\n    // Other fields\r\n    google.protobuf.Struct metadata = 15;\r\n}\r\n```\r\n\r\nAlso metadata field is defined in Java entity class\r\n```\r\npublic class QuotationItem {\r\n    // Other entity fields\r\n    private Map&lt;String, Object&gt; metadata;\r\n}\r\n```\r\nI want to store the QuotationItemEntry object passed in gRPC request using spring boot application but not able to convert `google.protobuf.Struct` field in `java.util.Map&lt;String, Object&gt;`.\r\n\r\n","title":"How to convert google.protobuf.Struct field in java.util.Map&lt;String, Object&gt;?","body":"<p>I have a message defined quotation_item.proto file which has google.protobuf.Struct field to parse metadata JSON.</p>\n\n<pre><code>message QuotationItemEntry {\n    // Other fields\n    google.protobuf.Struct metadata = 15;\n}\n</code></pre>\n\n<p>Also metadata field is defined in Java entity class</p>\n\n<pre><code>public class QuotationItem {\n    // Other entity fields\n    private Map&lt;String, Object&gt; metadata;\n}\n</code></pre>\n\n<p>I want to store the QuotationItemEntry object passed in gRPC request using spring boot application but not able to convert <code>google.protobuf.Struct</code> field in <code>java.util.Map&lt;String, Object&gt;</code>.</p>\n"},{"tags":["java","ssl","ssl-certificate","sslhandshakeexception"],"comments":[{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1308119435,"post_id":6353849,"comment_id":7436403,"body_markdown":"did you add the server&#39;s ssl cert to your truststore?","body":"did you add the server&#39;s ssl cert to your truststore?"},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1308120423,"post_id":6353849,"comment_id":7436606,"body_markdown":"i&#39;ll assume that your app is using the java default truststore. The default truststore is &lt;java-home&gt;/lib/security/cacerts. open the server&#39;s url with your browser and download all the ssl certs; including any chain/intermediate certs. then add all these certs to the truststore.","body":"i&#39;ll assume that your app is using the java default truststore. The default truststore is &lt;java-home&gt;/lib/security/cacerts. open the server&#39;s url with your browser and download all the ssl certs; including any chain/intermediate certs. then add all these certs to the truststore."},{"owner":{"account_id":368553,"reputation":9128,"user_id":715437,"accept_rate":93,"display_name":"Denees"},"score":0,"creation_date":1308121127,"post_id":6353849,"comment_id":7436753,"body_markdown":"I cannot open the url in the browser, because of client authentication certificate, I can send to this link only specific parameters that I get from clients.","body":"I cannot open the url in the browser, because of client authentication certificate, I can send to this link only specific parameters that I get from clients."},{"owner":{"account_id":378949,"reputation":1413,"user_id":731998,"accept_rate":86,"display_name":"happymeal"},"score":0,"creation_date":1308123578,"post_id":6353849,"comment_id":7437262,"body_markdown":"just open the url. ignore all errors that you see on your browser. when you access the url, you should see a padlock icon on the address bar of your browser. click on that and download the server&#39;s ssl cert.","body":"just open the url. ignore all errors that you see on your browser. when you access the url, you should see a padlock icon on the address bar of your browser. click on that and download the server&#39;s ssl cert."},{"owner":{"account_id":368553,"reputation":9128,"user_id":715437,"accept_rate":93,"display_name":"Denees"},"score":0,"creation_date":1308124078,"post_id":6353849,"comment_id":7437379,"body_markdown":"I should, but there isn&#39;t any padlock icon at all :(, hmm, when I open up link in my browser, it&#39;s shows me the following error, the same as in netbeans: &quot;SSL peer was unable to negotiate an acceptable set of security parameters.\n\n(Error code: ssl_error_handshake_failure_alert)&quot;","body":"I should, but there isn&#39;t any padlock icon at all :(, hmm, when I open up link in my browser, it&#39;s shows me the following error, the same as in netbeans: &quot;SSL peer was unable to negotiate an acceptable set of security parameters.  (Error code: ssl_error_handshake_failure_alert)&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1384821906,"post_id":6353849,"comment_id":29881927,"body_markdown":"Please post the entire exception and stack trace.","body":"Please post the entire exception and stack trace."},{"owner":{"account_id":1664709,"reputation":4045,"user_id":2397613,"accept_rate":86,"display_name":"ton"},"score":0,"creation_date":1452787906,"post_id":6353849,"comment_id":57332043,"body_markdown":"In my case was a incompatibility with ibm jvm... after switch to oracle jvm, the problema was solved.","body":"In my case was a incompatibility with ibm jvm... after switch to oracle jvm, the problema was solved."},{"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"score":0,"creation_date":1466114182,"post_id":6353849,"comment_id":63196789,"body_markdown":"I received this error because of incompatible cipher suites used by the client.  By updating my `local_policy` and `US_export_policy` jars in my JDK&#39;s `security` folder with the ones provided in the [Java Cryptography Extension](http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html), I was able to complete the handshake successfully.","body":"I received this error because of incompatible cipher suites used by the client.  By updating my <code>local_policy</code> and <code>US_export_policy</code> jars in my JDK&#39;s <code>security</code> folder with the ones provided in the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension</a>, I was able to complete the handshake successfully."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1668469456,"post_id":6353849,"comment_id":131408271,"body_markdown":"TLDR: Add `-Djavax.net.debug=all` to JVM args, and look for `javax.net.ssl|ERROR|`. Likely, you will see `unable to find valid certification path to requested target`.","body":"TLDR: Add <code>-Djavax.net.debug=all</code> to JVM args, and look for <code>javax.net.ssl|ERROR|</code>. Likely, you will see <code>unable to find valid certification path to requested target</code>."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1692620950,"post_id":6353849,"comment_id":135644071,"body_markdown":"One possible reason of `SSLHandshakeException` is a missing JDK module: https://stackoverflow.com/questions/55439599/sslhandshakeexception-with-jlink-created-runtime","body":"One possible reason of <code>SSLHandshakeException</code> is a missing JDK module: <a href=\"https://stackoverflow.com/questions/55439599/sslhandshakeexception-with-jlink-created-runtime\" title=\"sslhandshakeexception with jlink created runtime\">stackoverflow.com/questions/55439599/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":2,"up_vote_count":309,"is_accepted":true,"score":307,"last_activity_date":1507946781,"creation_date":1308119818,"answer_id":6353956,"question_id":6353849,"body_markdown":"The handshake failure could have occurred due to various reasons:\r\n\r\n * Incompatible cipher suites in use by the client and the server. This would require the client to use (or enable) a cipher suite that is supported by the server.\r\n * Incompatible versions of SSL in use (the server might accept only TLS v1, while the client is capable of only using SSL v3). Again, the client might have to ensure that it uses a compatible version of the SSL/TLS protocol.\r\n * Incomplete trust path for the server certificate; the server&#39;s certificate is probably not trusted by the client. This would usually result in a more verbose error, but it is quite possible. Usually the fix is to import the server&#39;s CA certificate into the client&#39;s trust store.\r\n * The cerificate is issued for a different domain. Again, this would have resulted in a more verbose message, but I&#39;ll state the fix here in case this is the cause. The resolution in this case would be get the server (it does not appear to be yours) to use the correct certificate.\r\n\r\nSince, the underlying failure cannot be pinpointed, it is better to switch on the  [`-Djavax.net.debug=all`][1] flag to enable debugging of the SSL connection established. With the debug switched on, you can pinpoint what activity in the handshake has failed.\r\n\r\n**Update**\r\n\r\nBased on the details now available, it appears that the problem is due to an incomplete certificate trust path between the certificate issued to the server, and a root CA. In most cases, this is because the root CA&#39;s certificate is absent in the trust store, leading to the situation where a certificate trust path cannot exist; the certificate is essentially untrusted by the client. Browsers can present a warning so that users may ignore this, but the same is not the case for SSL clients (like the [HttpsURLConnection][2] class, or any HTTP Client library like Apache [HttpComponents Client][3]).\r\n\r\nMost these client classes/libraries would rely on the trust store used by the JVM for certificate validation. In most cases, this will be the `cacerts` file in the JRE_HOME/lib/security directory. If the location of the trust store has been specified using the JVM system property `javax.net.ssl.trustStore`, then the store in that path is usually the one used by the client library. If you are in doubt, take a look at your `Merchant` class, and figure out the class/library it is using to make the connection.\r\n\r\nAdding the server&#39;s certificate issuing CA to this trust store ought to resolve the problem. You can refer to my [answer on a related question on getting tools][4] for this purpose, but the [Java keytool utility][5] is sufficient for this purpose.\r\n\r\n***Warning***: The trust store is essentially the list of all CAs that you trust. If you put in an certificate that does not belong to a CA that you do not trust, then SSL/TLS connections to sites having certificates issued by that entity can be decrypted if the private key is available.\r\n\r\n**Update #2: Understanding the output of the JSSE trace**\r\n\r\nThe keystore and the truststores used by the JVM are usually listed at the very beginning, somewhat like the following:\r\n\r\n    keyStore is : \r\n    keyStore type is : jks\r\n    keyStore provider is : \r\n    init keystore\r\n    init keymanager of type SunX509\r\n    trustStore is: C:\\Java\\jdk1.6.0_21\\jre\\lib\\security\\cacerts\r\n    trustStore type is : jks\r\n    trustStore provider is : \r\n\r\nIf the wrong truststore is used, then you&#39;ll need to re-import the server&#39;s certificate to the right one, or reconfigure the server to use the one listed (not recommended if you have multiple JVMs, and all of them are used for different needs).\r\n\r\nIf you want to verify if the list of trust certs contains the required certs, then there is a section for the same, that starts as:\r\n\r\n    adding as trusted cert:\r\n      Subject: CN=blah, O=blah, C=blah\r\n      Issuer:  CN=biggerblah, O=biggerblah, C=biggerblah\r\n      Algorithm: RSA; Serial number: yadda\r\n      Valid from SomeDate until SomeDate\r\n\r\nYou&#39;ll need to look for if the server&#39;s CA is a subject.\r\n\r\nThe handshake process will have a few salient entries (you&#39;ll need to know SSL to understand them in detail, but for the purpose of debugging the current problem, it will suffice to know that a handshake_failure is usually reported in the ServerHello.\r\n\r\n**1. ClientHello**\r\n\r\nA series of entries will be reported when the connection is being initialized. The first message sent by the client in a SSL/TLS connection setup is the ClientHello message, usually reported in the logs as:\r\n\r\n    *** ClientHello, TLSv1\r\n    RandomCookie:  GMT: 1291302508 bytes = { some byte array }\r\n    Session ID:  {}\r\n    Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA]\r\n    Compression Methods:  { 0 }\r\n    ***\r\n\r\nNote the cipher suites used. This *might have to agree* with the entry in your merchant.properties file, for the same convention might be employed by the bank&#39;s library. If the convention used is different, there is no cause of worry, for the ServerHello will state so, if the cipher suite is incompatible.\r\n\r\n**2. ServerHello**\r\n\r\nThe server responds with a ServerHello, that will indicate if the connection setup can proceed. Entries in the logs are usually of the following type:\r\n\r\n    *** ServerHello, TLSv1\r\n    RandomCookie:  GMT: 1291302499 bytes = { some byte array}\r\n    Cipher Suite: SSL_RSA_WITH_RC4_128_SHA\r\n    Compression Method: 0\r\n    ***\r\n\r\nNote the cipher suite that it has chosen; this is best suite available to both the server and the client. Usually the cipher suite is not specified if there is an error. The certificate of the server (and optionally the entire chain) is sent by the server, and would be found in the entries as:\r\n\r\n    *** Certificate chain\r\n    chain [0] = [\r\n    [\r\n      Version: V3\r\n      Subject: CN=server, O=server&#39;s org, L=server&#39;s location, ST =Server&#39;s state, C=Server&#39;s country\r\n      Signature Algorithm: SHA1withRSA, OID = some identifer\r\n\r\n    .... the rest of the certificate\r\n    ***\r\n\r\nIf the verification of the certificate has succeeded, you&#39;ll find an entry similar to:\r\n\r\n    Found trusted certificate:\r\n    [\r\n    [\r\n      Version: V1\r\n      Subject: OU=Server&#39;s CA, O=&quot;Server&#39;s CA&#39;s company name&quot;, C=CA&#39;s country\r\n      Signature Algorithm: SHA1withRSA, OID = some identifier\r\n\r\nOne of the above steps would not have succeeded, resulting in the handshake_failure, for the handshake is typically complete at this stage (not really, but the subsequent stages of the handshake typically do not cause a handshake failure). You&#39;ll need to figure out which step has failed, and post the appropriate message as an update to the question (unless you&#39;ve already understood the message, and you know what to do to resolve it).\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/ReadDebug.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/net/ssl/HttpsURLConnection.html\r\n  [3]: http://hc.apache.org/httpcomponents-client-ga/index.html\r\n  [4]: https://stackoverflow.com/questions/1492762/steps-to-trouble-shoot-ssl\r\n  [5]: http://download.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html\r\n\r\n\r\n\r\n\r\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>The handshake failure could have occurred due to various reasons:</p>\n\n<ul>\n<li>Incompatible cipher suites in use by the client and the server. This would require the client to use (or enable) a cipher suite that is supported by the server.</li>\n<li>Incompatible versions of SSL in use (the server might accept only TLS v1, while the client is capable of only using SSL v3). Again, the client might have to ensure that it uses a compatible version of the SSL/TLS protocol.</li>\n<li>Incomplete trust path for the server certificate; the server's certificate is probably not trusted by the client. This would usually result in a more verbose error, but it is quite possible. Usually the fix is to import the server's CA certificate into the client's trust store.</li>\n<li>The cerificate is issued for a different domain. Again, this would have resulted in a more verbose message, but I'll state the fix here in case this is the cause. The resolution in this case would be get the server (it does not appear to be yours) to use the correct certificate.</li>\n</ul>\n\n<p>Since, the underlying failure cannot be pinpointed, it is better to switch on the  <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"noreferrer\"><code>-Djavax.net.debug=all</code></a> flag to enable debugging of the SSL connection established. With the debug switched on, you can pinpoint what activity in the handshake has failed.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on the details now available, it appears that the problem is due to an incomplete certificate trust path between the certificate issued to the server, and a root CA. In most cases, this is because the root CA's certificate is absent in the trust store, leading to the situation where a certificate trust path cannot exist; the certificate is essentially untrusted by the client. Browsers can present a warning so that users may ignore this, but the same is not the case for SSL clients (like the <a href=\"http://download.oracle.com/javase/6/docs/api/javax/net/ssl/HttpsURLConnection.html\" rel=\"noreferrer\">HttpsURLConnection</a> class, or any HTTP Client library like Apache <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"noreferrer\">HttpComponents Client</a>).</p>\n\n<p>Most these client classes/libraries would rely on the trust store used by the JVM for certificate validation. In most cases, this will be the <code>cacerts</code> file in the JRE_HOME/lib/security directory. If the location of the trust store has been specified using the JVM system property <code>javax.net.ssl.trustStore</code>, then the store in that path is usually the one used by the client library. If you are in doubt, take a look at your <code>Merchant</code> class, and figure out the class/library it is using to make the connection.</p>\n\n<p>Adding the server's certificate issuing CA to this trust store ought to resolve the problem. You can refer to my <a href=\"https://stackoverflow.com/questions/1492762/steps-to-trouble-shoot-ssl\">answer on a related question on getting tools</a> for this purpose, but the <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html\" rel=\"noreferrer\">Java keytool utility</a> is sufficient for this purpose.</p>\n\n<p><strong><em>Warning</em></strong>: The trust store is essentially the list of all CAs that you trust. If you put in an certificate that does not belong to a CA that you do not trust, then SSL/TLS connections to sites having certificates issued by that entity can be decrypted if the private key is available.</p>\n\n<p><strong>Update #2: Understanding the output of the JSSE trace</strong></p>\n\n<p>The keystore and the truststores used by the JVM are usually listed at the very beginning, somewhat like the following:</p>\n\n<pre><code>keyStore is : \nkeyStore type is : jks\nkeyStore provider is : \ninit keystore\ninit keymanager of type SunX509\ntrustStore is: C:\\Java\\jdk1.6.0_21\\jre\\lib\\security\\cacerts\ntrustStore type is : jks\ntrustStore provider is : \n</code></pre>\n\n<p>If the wrong truststore is used, then you'll need to re-import the server's certificate to the right one, or reconfigure the server to use the one listed (not recommended if you have multiple JVMs, and all of them are used for different needs).</p>\n\n<p>If you want to verify if the list of trust certs contains the required certs, then there is a section for the same, that starts as:</p>\n\n<pre><code>adding as trusted cert:\n  Subject: CN=blah, O=blah, C=blah\n  Issuer:  CN=biggerblah, O=biggerblah, C=biggerblah\n  Algorithm: RSA; Serial number: yadda\n  Valid from SomeDate until SomeDate\n</code></pre>\n\n<p>You'll need to look for if the server's CA is a subject.</p>\n\n<p>The handshake process will have a few salient entries (you'll need to know SSL to understand them in detail, but for the purpose of debugging the current problem, it will suffice to know that a handshake_failure is usually reported in the ServerHello.</p>\n\n<p><strong>1. ClientHello</strong></p>\n\n<p>A series of entries will be reported when the connection is being initialized. The first message sent by the client in a SSL/TLS connection setup is the ClientHello message, usually reported in the logs as:</p>\n\n<pre><code>*** ClientHello, TLSv1\nRandomCookie:  GMT: 1291302508 bytes = { some byte array }\nSession ID:  {}\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA]\nCompression Methods:  { 0 }\n***\n</code></pre>\n\n<p>Note the cipher suites used. This <em>might have to agree</em> with the entry in your merchant.properties file, for the same convention might be employed by the bank's library. If the convention used is different, there is no cause of worry, for the ServerHello will state so, if the cipher suite is incompatible.</p>\n\n<p><strong>2. ServerHello</strong></p>\n\n<p>The server responds with a ServerHello, that will indicate if the connection setup can proceed. Entries in the logs are usually of the following type:</p>\n\n<pre><code>*** ServerHello, TLSv1\nRandomCookie:  GMT: 1291302499 bytes = { some byte array}\nCipher Suite: SSL_RSA_WITH_RC4_128_SHA\nCompression Method: 0\n***\n</code></pre>\n\n<p>Note the cipher suite that it has chosen; this is best suite available to both the server and the client. Usually the cipher suite is not specified if there is an error. The certificate of the server (and optionally the entire chain) is sent by the server, and would be found in the entries as:</p>\n\n<pre><code>*** Certificate chain\nchain [0] = [\n[\n  Version: V3\n  Subject: CN=server, O=server's org, L=server's location, ST =Server's state, C=Server's country\n  Signature Algorithm: SHA1withRSA, OID = some identifer\n\n.... the rest of the certificate\n***\n</code></pre>\n\n<p>If the verification of the certificate has succeeded, you'll find an entry similar to:</p>\n\n<pre><code>Found trusted certificate:\n[\n[\n  Version: V1\n  Subject: OU=Server's CA, O=\"Server's CA's company name\", C=CA's country\n  Signature Algorithm: SHA1withRSA, OID = some identifier\n</code></pre>\n\n<p>One of the above steps would not have succeeded, resulting in the handshake_failure, for the handshake is typically complete at this stage (not really, but the subsequent stages of the handshake typically do not cause a handshake failure). You'll need to figure out which step has failed, and post the appropriate message as an update to the question (unless you've already understood the message, and you know what to do to resolve it).</p>\n"},{"tags":[],"owner":{"account_id":152859,"reputation":10241,"user_id":367685,"accept_rate":77,"display_name":"Brig"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1371137529,"creation_date":1371137529,"answer_id":17091129,"question_id":6353849,"body_markdown":"This can also happend when the client needs to present a certificate. After the server lists the certificate chain, the following can happen:\r\n\r\n**3. Certificate Request**\r\nThe server will issue a certificate request from the client. The request will list all of the certificates the server accepts.\r\n\r\n    *** CertificateRequest\r\n    Cert Types: RSA\r\n    Cert Authorities:\r\n    &lt;CN=blah, OU=blah, O=blah, L=blah, ST=blah, C=blah&gt;\r\n    &lt;CN=yadda, DC=yadda, DC=yadda&gt;\r\n    &lt;CN=moreblah, OU=moreblah, O=moreblah, C=moreblah&gt;\r\n    &lt;CN=moreyada, OU=moreyada, O=moreyada, C=moreyada&gt;\r\n    ... the rest of the request\r\n    *** ServerHelloDone\r\n**4. Client Certificate Chain**\r\nThis is the certificate the client is sending to the server. \r\n    \r\n    *** Certificate chain\r\n    chain [0] = [\r\n    [\r\n      Version: V3\r\n      Subject: EMAILADDRESS=client&#39;s email, CN=client, OU=client&#39;s ou, O=client&#39;s Org, L=client&#39;s location, ST=client&#39;s state, C=client&#39;s Country\r\n      Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\r\n      ... the rest of the certificate\r\n    *** ClientKeyExchange, RSA PreMasterSecret, TLSv1    \r\n    ... key exchange info \r\nIf there isn&#39;t a certificate in the chain and the server requires one, you&#39;ll get the handshake error here. A likely cause is the path to your certificate wasn&#39;t found.\r\n\r\n**5. Certificate Verify**\r\nThe client asks the server to verify the certificate    \r\n    \r\n    *** CertificateVerify\r\n    ... payload of verify check\r\n\r\nThis step will only happen if you are sending a certificate.\r\n\r\n**6. Finished**\r\nThe server will respond with a verify response\r\n\r\n    *** Finished\r\n    verify_data:  { 345, ... }","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>This can also happend when the client needs to present a certificate. After the server lists the certificate chain, the following can happen:</p>\n\n<p><strong>3. Certificate Request</strong>\nThe server will issue a certificate request from the client. The request will list all of the certificates the server accepts.</p>\n\n<pre><code>*** CertificateRequest\nCert Types: RSA\nCert Authorities:\n&lt;CN=blah, OU=blah, O=blah, L=blah, ST=blah, C=blah&gt;\n&lt;CN=yadda, DC=yadda, DC=yadda&gt;\n&lt;CN=moreblah, OU=moreblah, O=moreblah, C=moreblah&gt;\n&lt;CN=moreyada, OU=moreyada, O=moreyada, C=moreyada&gt;\n... the rest of the request\n*** ServerHelloDone\n</code></pre>\n\n<p><strong>4. Client Certificate Chain</strong>\nThis is the certificate the client is sending to the server. </p>\n\n<pre><code>*** Certificate chain\nchain [0] = [\n[\n  Version: V3\n  Subject: EMAILADDRESS=client's email, CN=client, OU=client's ou, O=client's Org, L=client's location, ST=client's state, C=client's Country\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n  ... the rest of the certificate\n*** ClientKeyExchange, RSA PreMasterSecret, TLSv1    \n... key exchange info \n</code></pre>\n\n<p>If there isn't a certificate in the chain and the server requires one, you'll get the handshake error here. A likely cause is the path to your certificate wasn't found.</p>\n\n<p><strong>5. Certificate Verify</strong>\nThe client asks the server to verify the certificate    </p>\n\n<pre><code>*** CertificateVerify\n... payload of verify check\n</code></pre>\n\n<p>This step will only happen if you are sending a certificate.</p>\n\n<p><strong>6. Finished</strong>\nThe server will respond with a verify response</p>\n\n<pre><code>*** Finished\nverify_data:  { 345, ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12887,"reputation":1697,"user_id":25612,"display_name":"motob&#243;i"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1441220375,"creation_date":1437154897,"answer_id":31481668,"question_id":6353849,"body_markdown":"I don&#39;t think this solves the problem to the first questioner, but for googlers coming here for answers: \n\n----------\n\nOn update 51, java 1.8 prohibited[1] RC4 ciphers by default, as we can see on the Release Notes page:\n\n&gt; Bug Fix: **Prohibit RC4 cipher suites**\n&gt;\n&gt; RC4 is now considered as a compromised cipher. \n&gt;\n&gt; RC4 cipher suites have been removed from both client and server default enabled cipher suite list in Oracle JSSE implementation. These cipher suites can still be enabled by `SSLEngine.setEnabledCipherSuites()` and `SSLSocket.setEnabledCipherSuites()` methods. See JDK-8077109 (not public).\n\nIf your server has a strong preference for this cipher (or use only this cipher) this can trigger a `handshake_failure` on java.\n\nYou can test connecting to the server enabling RC4 ciphers (first, try without `enabled` argument to see if triggers a `handshake_failure`, then set `enabled`:\n\n    import javax.net.ssl.SSLSocket;\n    import javax.net.ssl.SSLSocketFactory;\n    import java.io.*;\n    \n    import java.util.Arrays;\n    \n    /** Establish a SSL connection to a host and port, writes a byte and\n     * prints the response. See\n     * http://confluence.atlassian.com/display/JIRA/Connecting+to+SSL+services\n     */\n    public class SSLRC4Poke {\n        public static void main(String[] args) {\n            String[] cyphers;\n            if (args.length &lt; 2) {\n                System.out.println(&quot;Usage: &quot;+SSLRC4Poke.class.getName()+&quot; &lt;host&gt; &lt;port&gt; enable&quot;);\n                System.exit(1);\n            }\n            try {\n                SSLSocketFactory sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n                SSLSocket sslsocket = (SSLSocket) sslsocketfactory.createSocket(args[0], Integer.parseInt(args[1]));\n            \n                cyphers = sslsocketfactory.getSupportedCipherSuites();\n                if (args.length ==3){\n                    sslsocket.setEnabledCipherSuites(new String[]{\n                        &quot;SSL_DH_anon_EXPORT_WITH_RC4_40_MD5&quot;,\n                        &quot;SSL_DH_anon_WITH_RC4_128_MD5&quot;,\n                        &quot;SSL_RSA_EXPORT_WITH_RC4_40_MD5&quot;,\n                        &quot;SSL_RSA_WITH_RC4_128_MD5&quot;,\n                        &quot;SSL_RSA_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_ECDHE_ECDSA_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_ECDHE_RSA_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_ECDH_ECDSA_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_ECDH_RSA_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_ECDH_anon_WITH_RC4_128_SHA&quot;,\n                        &quot;TLS_KRB5_EXPORT_WITH_RC4_40_MD5&quot;,\n                        &quot;TLS_KRB5_EXPORT_WITH_RC4_40_SHA&quot;,\n                        &quot;TLS_KRB5_WITH_RC4_128_MD5&quot;,\n                        &quot;TLS_KRB5_WITH_RC4_128_SHA&quot;\n                    });     \n                }\n    \n                InputStream in = sslsocket.getInputStream();\n                OutputStream out = sslsocket.getOutputStream();\n    \n                // Write a test byte to get a reaction :)\n                out.write(1);\n    \n                while (in.available() &gt; 0) {\n                    System.out.print(in.read());\n                }\n                System.out.println(&quot;Successfully connected&quot;);\n    \n            } catch (Exception exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n\n1 - https://www.java.com/en/download/faq/release_changes.xml\n\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I don't think this solves the problem to the first questioner, but for googlers coming here for answers:</p>\n<hr />\n<p>On update 51, java 1.8 prohibited[1] RC4 ciphers by default, as we can see on the Release Notes page:</p>\n<blockquote>\n<p>Bug Fix: <strong>Prohibit RC4 cipher suites</strong></p>\n<p>RC4 is now considered as a compromised cipher.</p>\n<p>RC4 cipher suites have been removed from both client and server default enabled cipher suite list in Oracle JSSE implementation. These cipher suites can still be enabled by <code>SSLEngine.setEnabledCipherSuites()</code> and <code>SSLSocket.setEnabledCipherSuites()</code> methods. See JDK-8077109 (not public).</p>\n</blockquote>\n<p>If your server has a strong preference for this cipher (or use only this cipher) this can trigger a <code>handshake_failure</code> on java.</p>\n<p>You can test connecting to the server enabling RC4 ciphers (first, try without <code>enabled</code> argument to see if triggers a <code>handshake_failure</code>, then set <code>enabled</code>:</p>\n<pre><code>import javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport java.io.*;\n\nimport java.util.Arrays;\n\n/** Establish a SSL connection to a host and port, writes a byte and\n * prints the response. See\n * http://confluence.atlassian.com/display/JIRA/Connecting+to+SSL+services\n */\npublic class SSLRC4Poke {\n    public static void main(String[] args) {\n        String[] cyphers;\n        if (args.length &lt; 2) {\n            System.out.println(&quot;Usage: &quot;+SSLRC4Poke.class.getName()+&quot; &lt;host&gt; &lt;port&gt; enable&quot;);\n            System.exit(1);\n        }\n        try {\n            SSLSocketFactory sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n            SSLSocket sslsocket = (SSLSocket) sslsocketfactory.createSocket(args[0], Integer.parseInt(args[1]));\n        \n            cyphers = sslsocketfactory.getSupportedCipherSuites();\n            if (args.length ==3){\n                sslsocket.setEnabledCipherSuites(new String[]{\n                    &quot;SSL_DH_anon_EXPORT_WITH_RC4_40_MD5&quot;,\n                    &quot;SSL_DH_anon_WITH_RC4_128_MD5&quot;,\n                    &quot;SSL_RSA_EXPORT_WITH_RC4_40_MD5&quot;,\n                    &quot;SSL_RSA_WITH_RC4_128_MD5&quot;,\n                    &quot;SSL_RSA_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_ECDHE_ECDSA_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_ECDHE_RSA_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_ECDH_ECDSA_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_ECDH_RSA_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_ECDH_anon_WITH_RC4_128_SHA&quot;,\n                    &quot;TLS_KRB5_EXPORT_WITH_RC4_40_MD5&quot;,\n                    &quot;TLS_KRB5_EXPORT_WITH_RC4_40_SHA&quot;,\n                    &quot;TLS_KRB5_WITH_RC4_128_MD5&quot;,\n                    &quot;TLS_KRB5_WITH_RC4_128_SHA&quot;\n                });     \n            }\n\n            InputStream in = sslsocket.getInputStream();\n            OutputStream out = sslsocket.getOutputStream();\n\n            // Write a test byte to get a reaction :)\n            out.write(1);\n\n            while (in.available() &gt; 0) {\n                System.out.print(in.read());\n            }\n            System.out.println(&quot;Successfully connected&quot;);\n\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>1 - <a href=\"https://www.java.com/en/download/faq/release_changes.xml\" rel=\"noreferrer\">https://www.java.com/en/download/faq/release_changes.xml</a></p>\n"},{"tags":[],"owner":{"account_id":2153018,"reputation":805,"user_id":1908846,"display_name":"Armstrongya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502730015,"creation_date":1446705315,"answer_id":33538074,"question_id":6353849,"body_markdown":"I meet the same problem today with OkHttp client to GET a https based url. It was **caused by Https protocol version and Cipher method mismatch between server side and client side**.\r\n\r\n####1) check your website https Protocol version and Cipher method. \r\n`openssl&gt;s_client -connect your_website.com:443 -showcerts`\r\n\r\nYou will get many detail info, the key info is listed as follows:\r\n\r\n\r\n    SSL-Session:\r\n        Protocol  : TLSv1\r\n        Cipher    : RC4-SHA\r\n\r\n\r\n\r\n####2) config your http client, for example, in [OkHttp client](https://github.com/square/okhttp) case:\r\n\r\n\r\n    @Test()\r\n    public void testHttpsByOkHttp() {\r\n        ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\r\n                .tlsVersions(TlsVersion.TLS_1_0) //protocol version\r\n                .cipherSuites(\r\n                        CipherSuite.TLS_RSA_WITH_RC4_128_SHA, //cipher method\r\n                        CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                        CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                        CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\r\n                .build();\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        client.setConnectionSpecs(Collections.singletonList(spec));\r\n        Request request = new Request.Builder().url(&quot;https://your_website.com/&quot;).build();\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            if(response.isSuccessful()){\r\n                logger.debug(&quot;result= {}&quot;, response.body().string());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nThis will get what we want.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I meet the same problem today with OkHttp client to GET a https based url. It was <strong>caused by Https protocol version and Cipher method mismatch between server side and client side</strong>.</p>\n\n1) check your website https Protocol version and Cipher method.\n\n<p><code>openssl&gt;s_client -connect your_website.com:443 -showcerts</code></p>\n\n<p>You will get many detail info, the key info is listed as follows:</p>\n\n<pre><code>SSL-Session:\n    Protocol  : TLSv1\n    Cipher    : RC4-SHA\n</code></pre>\n\n2) config your http client, for example, in <a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">OkHttp client</a> case:\n\n<pre><code>@Test()\npublic void testHttpsByOkHttp() {\n    ConnectionSpec spec = new ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\n            .tlsVersions(TlsVersion.TLS_1_0) //protocol version\n            .cipherSuites(\n                    CipherSuite.TLS_RSA_WITH_RC4_128_SHA, //cipher method\n                    CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n                    CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n                    CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\n            .build();\n\n    OkHttpClient client = new OkHttpClient();\n    client.setConnectionSpecs(Collections.singletonList(spec));\n    Request request = new Request.Builder().url(\"https://your_website.com/\").build();\n    try {\n        Response response = client.newCall(request).execute();\n        if(response.isSuccessful()){\n            logger.debug(\"result= {}\", response.body().string());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This will get what we want.</p>\n"},{"tags":[],"owner":{"account_id":7432304,"reputation":714,"user_id":5652797,"display_name":"Maxim Votyakov"},"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1449747644,"creation_date":1449747644,"answer_id":34200981,"question_id":6353849,"body_markdown":"I have this error while I tried to use JDK 1.7.\r\nWhen I upgraded my JDK to jdk1.8.0_66 all started to work fine. \r\n\r\nSo the simplest solution for this problem could be - **upgrade your JDK** and it could start to work well.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I have this error while I tried to use JDK 1.7.\nWhen I upgraded my JDK to jdk1.8.0_66 all started to work fine. </p>\n\n<p>So the simplest solution for this problem could be - <strong>upgrade your JDK</strong> and it could start to work well.</p>\n"},{"tags":[],"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453974914,"creation_date":1453974914,"answer_id":35058127,"question_id":6353849,"body_markdown":"*Disclaimer : I am not aware if the answer will be helpful for many people,just sharing because it might .*\r\n\r\n\r\nI was getting this error while using Parasoft SOATest to send request XML(SOAP) .\r\n\r\nThe issue was that I had **selected the wrong alias** from the dropdown after adding the certificate and authenticating it.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p><em>Disclaimer : I am not aware if the answer will be helpful for many people,just sharing because it might .</em></p>\n\n<p>I was getting this error while using Parasoft SOATest to send request XML(SOAP) .</p>\n\n<p>The issue was that I had <strong>selected the wrong alias</strong> from the dropdown after adding the certificate and authenticating it.</p>\n"},{"tags":[],"owner":{"account_id":4152649,"reputation":4697,"user_id":3404637,"accept_rate":56,"display_name":"smali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457961218,"creation_date":1457961218,"answer_id":35988577,"question_id":6353849,"body_markdown":"Mine was a `TLS` version incompatible error.\r\n\r\nPreviously it was `TLSv1` I changed it `TLSV1.2` this solved my problem.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>Mine was a <code>TLS</code> version incompatible error.</p>\n\n<p>Previously it was <code>TLSv1</code> I changed it <code>TLSV1.2</code> this solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":1603273,"reputation":2630,"user_id":1483903,"accept_rate":75,"display_name":"thebiggestlebowski"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1466128585,"creation_date":1465591152,"answer_id":37756832,"question_id":6353849,"body_markdown":"I am using com.google.api http client.  When I communicate with an internal company site, I got this problem when I mistakenly used https, instead of http.  \r\n\r\n    main, READ: TLSv1.2 Alert, length = 2\r\n    main, RECV TLSv1.2 ALERT:  fatal, handshake_failure\r\n    main, called closeSocket()\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    main, IOException in getSession():  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    main, called close()\r\n    main, called closeInternal(true)\r\n    262 [main] DEBUG org.apache.http.impl.conn.DefaultClientConnection  - Connection shut down\r\n    main, called close()\r\n    main, called closeInternal(true)\r\n    263 [main] DEBUG org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager  - Released connection is not reusable.\r\n    263 [main] DEBUG org.apache.http.impl.conn.tsccm.ConnPoolByRoute  - Releasing connection [HttpRoute[{s}-&gt;https://&lt;I-replaced&gt;]][null]\r\n    263 [main] DEBUG org.apache.http.impl.conn.tsccm.ConnPoolByRoute  - Notifying no-one, there are no waiting threads\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\r\n        at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:431)\r\n        at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\r\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:339)\r\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\r\n        at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\r\n        at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:108)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)\r\n        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\r\n        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\r\n        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:554)\r\n        at com.google.api.client.http.apache.ApacheHttpRequest.execute(ApacheHttpRequest.java:67)\r\n        at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:960)\r\n\r\n\r\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I am using com.google.api http client.  When I communicate with an internal company site, I got this problem when I mistakenly used https, instead of http.  </p>\n\n<pre><code>main, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1.2 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nmain, IOException in getSession():  javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nmain, called close()\nmain, called closeInternal(true)\n262 [main] DEBUG org.apache.http.impl.conn.DefaultClientConnection  - Connection shut down\nmain, called close()\nmain, called closeInternal(true)\n263 [main] DEBUG org.apache.http.impl.conn.tsccm.ThreadSafeClientConnManager  - Released connection is not reusable.\n263 [main] DEBUG org.apache.http.impl.conn.tsccm.ConnPoolByRoute  - Releasing connection [HttpRoute[{s}-&gt;https://&lt;I-replaced&gt;]][null]\n263 [main] DEBUG org.apache.http.impl.conn.tsccm.ConnPoolByRoute  - Notifying no-one, there are no waiting threads\nException in thread \"main\" javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated\n    at sun.security.ssl.SSLSessionImpl.getPeerCertificates(SSLSessionImpl.java:431)\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:128)\n    at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:339)\n    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:123)\n    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:147)\n    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:108)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:554)\n    at com.google.api.client.http.apache.ApacheHttpRequest.execute(ApacheHttpRequest.java:67)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:960)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466168626,"creation_date":1466115489,"answer_id":37870273,"question_id":6353849,"body_markdown":"Assuming you&#39;re using the proper SSL/TLS protocols, properly configured your `keyStore` and `trustStore`, and confirmed that there doesn&#39;t exist any issues with the certificates themselves, you may need to [strengthen your security algorithms][1].\r\n\r\nAs mentioned in [Vineet&#39;s answer][2], one possible reason you receive this error is due to incompatible cipher suites being used. By updating my `local_policy` and `US_export_policy` jars in my JDK&#39;s `security` folder with the ones provided in the [Java Cryptography Extension (JCE)][3], I was able to complete the handshake successfully.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\r\n  [2]: https://stackoverflow.com/a/6353956/3813155\r\n  [3]: http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>Assuming you're using the proper SSL/TLS protocols, properly configured your <code>keyStore</code> and <code>trustStore</code>, and confirmed that there doesn't exist any issues with the certificates themselves, you may need to <a href=\"https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\" rel=\"nofollow noreferrer\">strengthen your security algorithms</a>.</p>\n\n<p>As mentioned in <a href=\"https://stackoverflow.com/a/6353956/3813155\">Vineet's answer</a>, one possible reason you receive this error is due to incompatible cipher suites being used. By updating my <code>local_policy</code> and <code>US_export_policy</code> jars in my JDK's <code>security</code> folder with the ones provided in the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension (JCE)</a>, I was able to complete the handshake successfully.</p>\n"},{"tags":[],"owner":{"account_id":8709179,"reputation":1143,"user_id":6515971,"accept_rate":0,"display_name":"Bela Vizy"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1475075800,"creation_date":1475075800,"answer_id":39751506,"question_id":6353849,"body_markdown":"The handshake failure could be a buggy TLSv1 protocol implementation. \r\n\r\nIn our case this helped with java 7:  \r\n\r\n    java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1 \r\n\r\nThe jvm will negotiate in this order. The servers with the latest update will do 1.2, the buggy ones will go down to v1 and that works with the similar v1 in java 7.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>The handshake failure could be a buggy TLSv1 protocol implementation. </p>\n\n<p>In our case this helped with java 7:  </p>\n\n<pre><code>java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1 \n</code></pre>\n\n<p>The jvm will negotiate in this order. The servers with the latest update will do 1.2, the buggy ones will go down to v1 and that works with the similar v1 in java 7.</p>\n"},{"tags":[],"owner":{"account_id":9602031,"reputation":229,"user_id":7129191,"display_name":"Simon Yu"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1557865263,"creation_date":1478568662,"answer_id":40477545,"question_id":6353849,"body_markdown":"Installing Java Cryptography Extension (JCE) Unlimited Strength ([for JDK7](http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html) | [for JDK8](http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html)) might fix this bug. Unzip the file and follow the readme to install it.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>Installing Java Cryptography Extension (JCE) Unlimited Strength (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\" rel=\"nofollow noreferrer\">for JDK7</a> | <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">for JDK8</a>) might fix this bug. Unzip the file and follow the readme to install it.</p>\n"},{"tags":[],"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491353215,"creation_date":1491353215,"answer_id":43220038,"question_id":6353849,"body_markdown":"I had a similar issue; upgrading to Apache HTTPClient 4.5.3 fixed it.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I had a similar issue; upgrading to Apache HTTPClient 4.5.3 fixed it.</p>\n"},{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516888968,"creation_date":1516888968,"answer_id":48444741,"question_id":6353849,"body_markdown":"I found an HTTPS server which failed in this way if my Java client process was configured with\r\n\r\n    -Djsse.enableSNIExtension=false\r\n\r\nThe connection failed with `handshake_failure` after the `ServerHello` had finished successfully but before the data stream started.\r\n\r\nThere was no clear error message that identified the problem, the error just looked like\r\n\r\n    main, READ: TLSv1.2 Alert, length = 2\r\n    main, RECV TLSv1.2 ALERT:  fatal, handshake_failure\r\n    %% Invalidated:  [Session-3, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384]\r\n    main, called closeSocket()\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\nI isolated the issue by trying with and without the &quot;`-Djsse.enableSNIExtension=false`&quot; option\r\n\r\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I found an HTTPS server which failed in this way if my Java client process was configured with</p>\n\n<pre><code>-Djsse.enableSNIExtension=false\n</code></pre>\n\n<p>The connection failed with <code>handshake_failure</code> after the <code>ServerHello</code> had finished successfully but before the data stream started.</p>\n\n<p>There was no clear error message that identified the problem, the error just looked like</p>\n\n<pre><code>main, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1.2 ALERT:  fatal, handshake_failure\n%% Invalidated:  [Session-3, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384]\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n\n<p>I isolated the issue by trying with and without the \"<code>-Djsse.enableSNIExtension=false</code>\" option</p>\n"},{"tags":[],"owner":{"account_id":6372289,"reputation":451,"user_id":4944373,"display_name":"molly gu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1530694990,"creation_date":1530694990,"answer_id":51169782,"question_id":6353849,"body_markdown":"In my case, cert is imported, error remains, solved this by adding `System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1.2,TLSv1.1,SSLv3&quot;);` before connect\r\n\r\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>In my case, cert is imported, error remains, solved this by adding <code>System.setProperty(\"https.protocols\", \"TLSv1.2,TLSv1.1,SSLv3\");</code> before connect</p>\n"},{"tags":[],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532957293,"creation_date":1532957293,"answer_id":51595088,"question_id":6353849,"body_markdown":"Ugg! This turned out to simply be a Java version issue for me.  I got the handshake error using JRE 1.6 and everything worked perfectly using JRE 1.8.0_144.  ","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>Ugg! This turned out to simply be a Java version issue for me.  I got the handshake error using JRE 1.6 and everything worked perfectly using JRE 1.8.0_144.  </p>\n"},{"tags":[],"owner":{"account_id":455755,"reputation":31,"user_id":854127,"display_name":"Tianmu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535100350,"creation_date":1535099890,"answer_id":52000542,"question_id":6353849,"body_markdown":"In my case, the website just can use TLSv1.2. and i use apache httpclient 4.5.6, i use this code and install jce to solve this (JDK1.7):\r\n\r\njce\r\n\r\njdk7 http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\r\n\r\njdk 8 http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\r\n\r\ncode:\r\n\r\n    SSLContext sslContext = SSLContext.getDefault();\r\n\r\n      SSLConnectionSocketFactory sslConnectionFactory = new SSLConnectionSocketFactory(\r\n          sslContext,\r\n          new String[]{&quot;TLSv1.2&quot;}, // important\r\n          null,\r\n          NoopHostnameVerifier.INSTANCE);\r\n      \r\n      Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n          .register(&quot;https&quot;, sslConnectionFactory)\r\n          .register(&quot;http&quot;, PlainConnectionSocketFactory.INSTANCE)\r\n          .build();\r\n\r\n      HttpClientConnectionManager ccm = new BasicHttpClientConnectionManager(registry);\r\n      httpclient = HttpClientBuilder.create().\r\n          .setSSLSocketFactory(sslConnectionFactory)\r\n          .setConnectionManager(ccm)\r\n          .build();\r\n\r\n ","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>In my case, the website just can use TLSv1.2. and i use apache httpclient 4.5.6, i use this code and install jce to solve this (JDK1.7):</p>\n\n<p>jce</p>\n\n<p>jdk7 <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html</a></p>\n\n<p>jdk 8 <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html</a></p>\n\n<p>code:</p>\n\n<pre><code>SSLContext sslContext = SSLContext.getDefault();\n\n  SSLConnectionSocketFactory sslConnectionFactory = new SSLConnectionSocketFactory(\n      sslContext,\n      new String[]{\"TLSv1.2\"}, // important\n      null,\n      NoopHostnameVerifier.INSTANCE);\n\n  Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n      .register(\"https\", sslConnectionFactory)\n      .register(\"http\", PlainConnectionSocketFactory.INSTANCE)\n      .build();\n\n  HttpClientConnectionManager ccm = new BasicHttpClientConnectionManager(registry);\n  httpclient = HttpClientBuilder.create().\n      .setSSLSocketFactory(sslConnectionFactory)\n      .setConnectionManager(ccm)\n      .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183202,"reputation":11590,"user_id":418439,"accept_rate":88,"display_name":"Lee Chee Kiam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562290212,"creation_date":1562289229,"answer_id":56895481,"question_id":6353849,"body_markdown":"To troubleshoot from developer (item 1) and system admin (item 2 and 3) perspective:\r\n\r\n 1. Enable SSL handshake debug at Java via `-Djavax.net.debug=ssl:handshake:verbose`.\r\n 2. Install ssldump at server via `sudo apt install ssldump` or compile from source by following this [link][1] if you observe `Unknown value` in cipher when you run below step.\r\n 3. At server, `sudo ssldump -k &lt;your-private-key&gt; -i &lt;your-network-interface&gt;`\r\n 4. Check the log about real [reason][2] of the failure.\r\n\r\nExample of not working handshake of ssldump log:\r\n\r\n    New TCP connection #1: 10.1.68.86(45308) &lt;-&gt; 10.1.68.83(5671)\r\n    1 1  0.0111 (0.0111)  C&gt;S  Handshake\r\n          ClientHello\r\n            Version 3.3\r\n            cipher suites\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n            TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n            TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n            TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n            TLS_RSA_WITH_AES_256_CBC_SHA256\r\n            TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n            TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n            TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n            TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n            TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n            TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n            TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n            TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n            TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n            compression methods\r\n                      NULL\r\n    1 2  0.0122 (0.0011)  S&gt;C  Alert\r\n        level           fatal\r\n        value           insufficient_security\r\n    1    0.0126 (0.0004)  S&gt;C  TCP RST\r\n\r\nExample of successful handshake of ssldump log\r\n\r\n    New TCP connection #1: 10.1.68.86(56558) &lt;-&gt; 10.1.68.83(8443)\r\n    1 1  0.0009 (0.0009)  C&gt;S  Handshake\r\n          ClientHello\r\n            Version 3.3\r\n            cipher suites\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n            TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n            Unknown value 0xcca9\r\n            Unknown value 0xcca8\r\n            Unknown value 0xccaa\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n            TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n            TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n            TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n            TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_RSA_WITH_AES_256_GCM_SHA384\r\n            TLS_RSA_WITH_AES_128_GCM_SHA256\r\n            TLS_RSA_WITH_AES_256_CBC_SHA256\r\n            TLS_RSA_WITH_AES_128_CBC_SHA256\r\n            TLS_RSA_WITH_AES_256_CBC_SHA\r\n            TLS_RSA_WITH_AES_128_CBC_SHA\r\n            TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n            compression methods\r\n                      NULL\r\n    1 2  0.0115 (0.0106)  S&gt;C  Handshake\r\n          ServerHello\r\n            Version 3.3\r\n            session_id[0]=\r\n    \r\n            cipherSuite         TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n            compressionMethod                   NULL\r\n    1 3  0.0115 (0.0000)  S&gt;C  Handshake\r\n          Certificate\r\n    1 4  0.0115 (0.0000)  S&gt;C  Handshake\r\n          ServerKeyExchange\r\n    Not enough data. Found 294 bytes (expecting 32767)\r\n    1 5    0.0115   (0.0000)    S&gt;C    Handshake\r\n            ServerHelloDone\r\n    1 6    0.0141   (0.0025)    C&gt;S    Handshake\r\n            ClientKeyExchange\r\n    Not enough data. Found 31 bytes (expecting 16384)\r\n    1 7    0.0141   (0.0000)    C&gt;S    ChangeCipherSpec\r\n    1 8    0.0141   (0.0000)    C&gt;S      Handshake\r\n    1 9    0.0149   (0.0008)    S&gt;C    Handshake\r\n    1 10   0.0149   (0.0000)    S&gt;C    ChangeCipherSpec\r\n    1 11   0.0149   (0.0000)    S&gt;C      Handshake\r\n\r\n\r\nExample of not working Java log\r\n\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.778 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.779 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.779 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: T LS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10 javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.787 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\r\n    javax.net.ssl|WARNING|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.818 MYT|SignatureScheme.java:282|Signature algorithm, ed25519, is not supported by the underlying providers\r\n    javax.net.ssl|WARNING|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.818 MYT|SignatureScheme.java:282|Signature algorithm, ed448, is not supported by the underlying providers\r\n    javax.net.ssl|ALL|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.822 MYT|SignatureScheme.java:358|Ignore disabled signature sheme: rsa_md5\r\n    javax.net.ssl|INFO|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.822 MYT|AlpnExtension.java:161|No available application protocols\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.823 MYT|SSLExtensions.java:256|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.823 MYT|SSLExtensions.java:256|Ignore, context unavailable extension: renegotiation_info\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.825 MYT|ClientHello.java:651|Produced ClientHello handshake message (\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n      &quot;random&quot;              : &quot;FB BC CD 7C 17 65 86 49 3E 1C 15 37 24 94 7D E7 60 44 1B B8 F4 18 21 D0 E1 B1 31 0D E1 80 D6 A7&quot;,\r\n      &quot;session id&quot;          : &quot;&quot;,\r\n      &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n      &quot;compression methods&quot; : &quot;00&quot;,  &quot;extensions&quot;          : [\r\n        &quot;server_name (0)&quot;: {\r\n          type=host_name (0), value=mq.tpc-ohcis.moh.gov.my\r\n        },\r\n        &quot;status_request (5)&quot;: {\r\n          &quot;certificate status type&quot;: ocsp\r\n          &quot;OCSP status request&quot;: {\r\n            &quot;responder_id&quot;: &lt;empty&gt;\r\n            &quot;request extensions&quot;: {\r\n              &lt;empty&gt;\r\n            }\r\n          }\r\n        },\r\n        &quot;supported_groups (10)&quot;: {\r\n          &quot;versions&quot;: [secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n        },\r\n        &quot;ec_point_formats (11)&quot;: {\r\n          &quot;formats&quot;: [uncompressed]\r\n        },\r\n        &quot;signature_algorithms (13)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;signature_algorithms_cert (50)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;status_request_v2 (17)&quot;: {\r\n          &quot;cert status request&quot;: {\r\n            &quot;certificate status type&quot;: ocsp_multi\r\n            &quot;OCSP status request&quot;: {\r\n              &quot;responder_id&quot;: &lt;empty&gt;\r\n              &quot;request extensions&quot;: {\r\n                &lt;empty&gt;\r\n              }\r\n            }      }\r\n        },\r\n        &quot;extended_master_secret (23)&quot;: {\r\n          &lt;empty&gt;\r\n        },\r\n        &quot;supported_versions (43)&quot;: {\r\n          &quot;versions&quot;: [TLSv1.2, TLSv1.1, TLSv1]\r\n        }\r\n      ]\r\n    }\r\n    )\r\n    javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.829 MYT|Alert.java:238|Received alert message (\r\n    &quot;Alert&quot;: {\r\n      &quot;level&quot;      : &quot;fatal&quot;,\r\n      &quot;description&quot;: &quot;insufficient_security&quot;\r\n    }\r\n    )\r\n\r\n\r\n  [1]: https://pequalsnp-team.github.io/cheatsheet/ssldump\r\n  [2]: https://stackoverflow.com/a/6353956/418439","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>To troubleshoot from developer (item 1) and system admin (item 2 and 3) perspective:</p>\n\n<ol>\n<li>Enable SSL handshake debug at Java via <code>-Djavax.net.debug=ssl:handshake:verbose</code>.</li>\n<li>Install ssldump at server via <code>sudo apt install ssldump</code> or compile from source by following this <a href=\"https://pequalsnp-team.github.io/cheatsheet/ssldump\" rel=\"nofollow noreferrer\">link</a> if you observe <code>Unknown value</code> in cipher when you run below step.</li>\n<li>At server, <code>sudo ssldump -k &lt;your-private-key&gt; -i &lt;your-network-interface&gt;</code></li>\n<li>Check the log about real <a href=\"https://stackoverflow.com/a/6353956/418439\">reason</a> of the failure.</li>\n</ol>\n\n<p>Example of not working handshake of ssldump log:</p>\n\n<pre><code>New TCP connection #1: 10.1.68.86(45308) &lt;-&gt; 10.1.68.83(5671)\n1 1  0.0111 (0.0111)  C&gt;S  Handshake\n      ClientHello\n        Version 3.3\n        cipher suites\n        TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n        TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n        TLS_RSA_WITH_AES_256_GCM_SHA384\n        TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\n        TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\n        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n        TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\n        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n        TLS_RSA_WITH_AES_128_GCM_SHA256\n        TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n        TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\n        TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n        TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n        TLS_RSA_WITH_AES_256_CBC_SHA256\n        TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n        TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n        TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n        TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n        TLS_RSA_WITH_AES_256_CBC_SHA\n        TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\n        TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\n        TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n        TLS_DHE_DSS_WITH_AES_256_CBC_SHA\n        TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n        TLS_RSA_WITH_AES_128_CBC_SHA256\n        TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n        TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n        TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n        TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n        TLS_RSA_WITH_AES_128_CBC_SHA\n        TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\n        TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\n        TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n        TLS_DHE_DSS_WITH_AES_128_CBC_SHA\n        TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n        compression methods\n                  NULL\n1 2  0.0122 (0.0011)  S&gt;C  Alert\n    level           fatal\n    value           insufficient_security\n1    0.0126 (0.0004)  S&gt;C  TCP RST\n</code></pre>\n\n<p>Example of successful handshake of ssldump log</p>\n\n<pre><code>New TCP connection #1: 10.1.68.86(56558) &lt;-&gt; 10.1.68.83(8443)\n1 1  0.0009 (0.0009)  C&gt;S  Handshake\n      ClientHello\n        Version 3.3\n        cipher suites\n        TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n        Unknown value 0xcca9\n        Unknown value 0xcca8\n        Unknown value 0xccaa\n        TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n        TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n        TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n        TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n        TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n        TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n        TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n        TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n        TLS_RSA_WITH_AES_256_GCM_SHA384\n        TLS_RSA_WITH_AES_128_GCM_SHA256\n        TLS_RSA_WITH_AES_256_CBC_SHA256\n        TLS_RSA_WITH_AES_128_CBC_SHA256\n        TLS_RSA_WITH_AES_256_CBC_SHA\n        TLS_RSA_WITH_AES_128_CBC_SHA\n        TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n        compression methods\n                  NULL\n1 2  0.0115 (0.0106)  S&gt;C  Handshake\n      ServerHello\n        Version 3.3\n        session_id[0]=\n\n        cipherSuite         TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n        compressionMethod                   NULL\n1 3  0.0115 (0.0000)  S&gt;C  Handshake\n      Certificate\n1 4  0.0115 (0.0000)  S&gt;C  Handshake\n      ServerKeyExchange\nNot enough data. Found 294 bytes (expecting 32767)\n1 5    0.0115   (0.0000)    S&gt;C    Handshake\n        ServerHelloDone\n1 6    0.0141   (0.0025)    C&gt;S    Handshake\n        ClientKeyExchange\nNot enough data. Found 31 bytes (expecting 16384)\n1 7    0.0141   (0.0000)    C&gt;S    ChangeCipherSpec\n1 8    0.0141   (0.0000)    C&gt;S      Handshake\n1 9    0.0149   (0.0008)    S&gt;C    Handshake\n1 10   0.0149   (0.0000)    S&gt;C    ChangeCipherSpec\n1 11   0.0149   (0.0000)    S&gt;C      Handshake\n</code></pre>\n\n<p>Example of not working Java log</p>\n\n<pre><code>javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.778 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.779 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.779 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.780 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.781 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.782 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.783 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: T LS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.784 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.785 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10 javax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.786 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.787 MYT|HandshakeContext.java:294|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|WARNING|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.818 MYT|SignatureScheme.java:282|Signature algorithm, ed25519, is not supported by the underlying providers\njavax.net.ssl|WARNING|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.818 MYT|SignatureScheme.java:282|Signature algorithm, ed448, is not supported by the underlying providers\njavax.net.ssl|ALL|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.822 MYT|SignatureScheme.java:358|Ignore disabled signature sheme: rsa_md5\njavax.net.ssl|INFO|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.822 MYT|AlpnExtension.java:161|No available application protocols\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.823 MYT|SSLExtensions.java:256|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.823 MYT|SSLExtensions.java:256|Ignore, context unavailable extension: renegotiation_info\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.825 MYT|ClientHello.java:651|Produced ClientHello handshake message (\n\"ClientHello\": {\n  \"client version\"      : \"TLSv1.2\",\n  \"random\"              : \"FB BC CD 7C 17 65 86 49 3E 1C 15 37 24 94 7D E7 60 44 1B B8 F4 18 21 D0 E1 B1 31 0D E1 80 D6 A7\",\n  \"session id\"          : \"\",\n  \"cipher suites\"       : \"[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]\",\n  \"compression methods\" : \"00\",  \"extensions\"          : [\n    \"server_name (0)\": {\n      type=host_name (0), value=mq.tpc-ohcis.moh.gov.my\n    },\n    \"status_request (5)\": {\n      \"certificate status type\": ocsp\n      \"OCSP status request\": {\n        \"responder_id\": &lt;empty&gt;\n        \"request extensions\": {\n          &lt;empty&gt;\n        }\n      }\n    },\n    \"supported_groups (10)\": {\n      \"versions\": [secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    \"ec_point_formats (11)\": {\n      \"formats\": [uncompressed]\n    },\n    \"signature_algorithms (13)\": {\n      \"signature schemes\": [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    \"signature_algorithms_cert (50)\": {\n      \"signature schemes\": [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp512r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    \"status_request_v2 (17)\": {\n      \"cert status request\": {\n        \"certificate status type\": ocsp_multi\n        \"OCSP status request\": {\n          \"responder_id\": &lt;empty&gt;\n          \"request extensions\": {\n            &lt;empty&gt;\n          }\n        }      }\n    },\n    \"extended_master_secret (23)\": {\n      &lt;empty&gt;\n    },\n    \"supported_versions (43)\": {\n      \"versions\": [TLSv1.2, TLSv1.1, TLSv1]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|43|SimpleAsyncTaskExecutor-1|2019-07-03 17:35:01.829 MYT|Alert.java:238|Received alert message (\n\"Alert\": {\n  \"level\"      : \"fatal\",\n  \"description\": \"insufficient_security\"\n}\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2242924,"reputation":732,"user_id":1976997,"display_name":"ravenskater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582731986,"creation_date":1582731986,"answer_id":60417603,"question_id":6353849,"body_markdown":"In my case I had one issue with the version 1.1. I was reproducing the issue easily with curl. The server didn&#39;t support lower versions than TLS1.2.\r\n\r\nThis received handshake issue:\r\n\r\n    curl --insecure --tlsv1.1 -i https://youhost --noproxy &quot;*&quot;\r\n\r\nWith version 1.2 it was working fine:\r\n\r\n    curl --insecure --tlsv1.2 -i https://youhost --noproxy &quot;*&quot;\r\n\r\nThe server was running a Weblogic, and adding this argument in setEnvDomain.sh made it to work with TLSv1.1:\r\n\r\n    -Dweblogic.security.SSL.minimumProtocolVersion=TLSv1.1\r\n\r\n ","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>In my case I had one issue with the version 1.1. I was reproducing the issue easily with curl. The server didn't support lower versions than TLS1.2.</p>\n\n<p>This received handshake issue:</p>\n\n<pre><code>curl --insecure --tlsv1.1 -i https://youhost --noproxy \"*\"\n</code></pre>\n\n<p>With version 1.2 it was working fine:</p>\n\n<pre><code>curl --insecure --tlsv1.2 -i https://youhost --noproxy \"*\"\n</code></pre>\n\n<p>The server was running a Weblogic, and adding this argument in setEnvDomain.sh made it to work with TLSv1.1:</p>\n\n<pre><code>-Dweblogic.security.SSL.minimumProtocolVersion=TLSv1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15754481,"reputation":31,"user_id":11368045,"display_name":"hariom gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586020220,"creation_date":1586020220,"answer_id":61031768,"question_id":6353849,"body_markdown":"\r\n\r\nThis issue is occurring because of the java version. I was using 1.8.0.231 JDK and getting this error. I have degraded my java version from 1.8.0.231 to 1.8.0.171, Now It is working fine.","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>This issue is occurring because of the java version. I was using 1.8.0.231 JDK and getting this error. I have degraded my java version from 1.8.0.231 to 1.8.0.171, Now It is working fine.</p>\n"},{"tags":[],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643626023,"creation_date":1643626023,"answer_id":70924672,"question_id":6353849,"body_markdown":"On checking i found the issue was java 7, after I changed it to java 8 , it started working. Below one is the problematic version.\r\n\r\n    java -version\r\n    java version &quot;1.7.0_101&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_101-b61)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.101-b61, mixed mode)","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>On checking i found the issue was java 7, after I changed it to java 8 , it started working. Below one is the problematic version.</p>\n<pre><code>java -version\njava version &quot;1.7.0_101&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_101-b61)\nJava HotSpot(TM) 64-Bit Server VM (build 24.101-b61, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6141244,"reputation":481,"user_id":4788605,"accept_rate":100,"display_name":"Vsevolod Gromov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694083182,"creation_date":1694077888,"answer_id":77058171,"question_id":6353849,"body_markdown":"In my case issue occurred due to broken java-11 in my Linux distr (Alt Linux 10).\r\n\r\nFirst, check which TLS use your app. For example, run app with `-Djavax.net.debug=ssl:handshake:verbose`\r\n\r\n`/usr/bin/java -Djavax.net.debug=ssl:handshake:verbose -jar /jenkins_slave/slave.jar -jnlpUrl https://jenkins-master.jnlp SECRET -workDir /jenkins_slav`e \r\n\r\nI saw:\r\n\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n\r\nTLSv1.2.\r\n\r\nCheck which ciphers support your site:\r\n\r\n    # OpenSSL requires the port number.\r\n    SERVER=$1\r\n    DELAY=1\r\n    ciphers=$(openssl ciphers &#39;ALL:eNULL&#39; | sed -e &#39;s/:/ /g&#39;)\r\n        \r\n    echo Obtaining cipher list from $(openssl version).\r\n        \r\n    for cipher in ${ciphers[@]}\r\n    do\r\n      echo -n Testing $cipher...\r\n      result=$(echo -n | openssl s_client -tls1_2 -cipher &quot;$cipher&quot; -connect $SERVER 2&gt;&amp;1)\r\n      if [[ &quot;$result&quot; =~ &quot;:error:&quot; ]] ; then\r\n        error=$(echo -n $result | cut -d&#39;:&#39; -f6)\r\n        echo NO \\($error\\)\r\n      else\r\n        if [[ &quot;$result&quot; =~ &quot;Cipher is ${cipher}&quot; || &quot;$result&quot; =~ &quot;Cipher    :&quot; ]] ; then\r\n          echo YES\r\n        else\r\n          echo UNKNOWN RESPONSE\r\n          echo $result\r\n        fi\r\n      fi\r\n      sleep $DELAY\r\n    done\r\n\r\nReplace **-tls1_2** in script to your TLS version. \r\n\r\nThen run script:\r\n\r\n    bash /path_to_sctipt server_address:443\r\n\r\nserver_address should be without full path and without https.\r\n\r\nExample:\r\n\r\n    bash /tmp/1.sh my-site:443\r\n\r\nThen i receive results:\r\n\r\n    Testing ECDHE-ECDSA-AES256-GCM-SHA384...YES\r\n    Testing ECDHE-ECDSA-CHACHA20-POLY1305...YES\r\n    Testing ECDHE-ECDSA-AES128-GCM-SHA256...YES\r\n    Testing ECDHE-ECDSA-AES256-SHA384...YES\r\n    Testing ECDHE-ECDSA-AES128-SHA256...YES\r\n    Testing ECDHE-ECDSA-AES256-SHA...YES\r\n    Testing ECDHE-ECDSA-AES128-SHA...YES\r\n\r\nThen install java-devel package (java-11-openjdk-devel in my distr) and run (one-line command):\r\n\r\n    jrunscript -e &quot;java.util.Arrays.asList(javax.net.ssl.SSLServerSocketFactory.getDefault().getSupportedCipherSuites()).stream().forEach(println)&quot;\r\n\r\nI receive:\r\n\r\n    TLS_AES_128_GCM_SHA256\r\n    TLS_AES_256_GCM_SHA384\r\n    TLS_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n    TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n    TLS_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n    TLS_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n    TLS_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n    TLS_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n    TLS_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n    TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n    TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n\r\nThere  are no matches So, my java does not support any chiphers which use my-site.\r\n\r\n**Solution:** install java via other ways. Just replace broken java (I installed java on Alt Linux 9 from Alt Linux 8)\r\n\r\nAlso create bug-report if you can. I have created bug to Alt linux p10 team: https://bugzilla.altlinux.org/show_bug.cgi?id=47484#c1 ","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>In my case issue occurred due to broken java-11 in my Linux distr (Alt Linux 10).</p>\n<p>First, check which TLS use your app. For example, run app with <code>-Djavax.net.debug=ssl:handshake:verbose</code></p>\n<p><code>/usr/bin/java -Djavax.net.debug=ssl:handshake:verbose -jar /jenkins_slave/slave.jar -jnlpUrl https://jenkins-master.jnlp SECRET -workDir /jenkins_slav</code>e</p>\n<p>I saw:</p>\n<pre><code>&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n</code></pre>\n<p>TLSv1.2.</p>\n<p>Check which ciphers support your site:</p>\n<pre><code># OpenSSL requires the port number.\nSERVER=$1\nDELAY=1\nciphers=$(openssl ciphers 'ALL:eNULL' | sed -e 's/:/ /g')\n    \necho Obtaining cipher list from $(openssl version).\n    \nfor cipher in ${ciphers[@]}\ndo\n  echo -n Testing $cipher...\n  result=$(echo -n | openssl s_client -tls1_2 -cipher &quot;$cipher&quot; -connect $SERVER 2&gt;&amp;1)\n  if [[ &quot;$result&quot; =~ &quot;:error:&quot; ]] ; then\n    error=$(echo -n $result | cut -d':' -f6)\n    echo NO \\($error\\)\n  else\n    if [[ &quot;$result&quot; =~ &quot;Cipher is ${cipher}&quot; || &quot;$result&quot; =~ &quot;Cipher    :&quot; ]] ; then\n      echo YES\n    else\n      echo UNKNOWN RESPONSE\n      echo $result\n    fi\n  fi\n  sleep $DELAY\ndone\n</code></pre>\n<p>Replace <strong>-tls1_2</strong> in script to your TLS version.</p>\n<p>Then run script:</p>\n<pre><code>bash /path_to_sctipt server_address:443\n</code></pre>\n<p>server_address should be without full path and without https.</p>\n<p>Example:</p>\n<pre><code>bash /tmp/1.sh my-site:443\n</code></pre>\n<p>Then i receive results:</p>\n<pre><code>Testing ECDHE-ECDSA-AES256-GCM-SHA384...YES\nTesting ECDHE-ECDSA-CHACHA20-POLY1305...YES\nTesting ECDHE-ECDSA-AES128-GCM-SHA256...YES\nTesting ECDHE-ECDSA-AES256-SHA384...YES\nTesting ECDHE-ECDSA-AES128-SHA256...YES\nTesting ECDHE-ECDSA-AES256-SHA...YES\nTesting ECDHE-ECDSA-AES128-SHA...YES\n</code></pre>\n<p>Then install java-devel package (java-11-openjdk-devel in my distr) and run (one-line command):</p>\n<pre><code>jrunscript -e &quot;java.util.Arrays.asList(javax.net.ssl.SSLServerSocketFactory.getDefault().getSupportedCipherSuites()).stream().forEach(println)&quot;\n</code></pre>\n<p>I receive:</p>\n<pre><code>TLS_AES_128_GCM_SHA256\nTLS_AES_256_GCM_SHA384\nTLS_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384\nTLS_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\nTLS_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nTLS_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\nTLS_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nTLS_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV\n</code></pre>\n<p>There  are no matches So, my java does not support any chiphers which use my-site.</p>\n<p><strong>Solution:</strong> install java via other ways. Just replace broken java (I installed java on Alt Linux 9 from Alt Linux 8)</p>\n<p>Also create bug-report if you can. I have created bug to Alt linux p10 team: <a href=\"https://bugzilla.altlinux.org/show_bug.cgi?id=47484#c1\" rel=\"nofollow noreferrer\">https://bugzilla.altlinux.org/show_bug.cgi?id=47484#c1</a></p>\n"}],"owner":{"account_id":368553,"reputation":9128,"user_id":715437,"accept_rate":93,"display_name":"Denees"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806977,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":6353956,"answer_count":21,"score":177,"last_activity_date":1694083182,"creation_date":1308119004,"question_id":6353849,"body_markdown":"I have a problem with authorized SSL connection. I have created Struts Action that connects to external server with Client Authorized SSL certificate. In my Action I am trying to send some data to bank server but without any luck, because I have as a result from server the following error: \r\n\r\n    error: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\nMy Method from my Action class that sends data to server\r\n\r\n    //Getting external IP from host\r\n        URL whatismyip = new URL(&quot;http://automation.whatismyip.com/n09230945.asp&quot;);\r\n        BufferedReader inIP = new BufferedReader(new InputStreamReader(whatismyip.openStream()));\r\n\r\n        String IPStr = inIP.readLine(); //IP as a String\r\n\r\n        Merchant merchant;\r\n\r\n        System.out.println(&quot;amount: &quot; + amount + &quot;, currency: &quot; + currency + &quot;, clientIp: &quot; + IPStr + &quot;, description: &quot; + description);\r\n\r\n        try {\r\n\r\n            merchant = new Merchant(context.getRealPath(&quot;/&quot;) + &quot;merchant.properties&quot;);\r\n\r\n        } catch (ConfigurationException e) {\r\n\r\n            Logger.getLogger(HomeAction.class.getName()).log(Level.INFO, &quot;message&quot;, e);\r\n            System.err.println(&quot;error: &quot; + e.getMessage());\r\n            return ERROR;\r\n        }\r\n\r\n        String result = merchant.sendTransData(amount, currency, IPStr, description);\r\n\r\n        System.out.println(&quot;result: &quot; + result);\r\n\r\n        return SUCCESS;\r\n\r\nMy merchant.properties file:\r\n\r\n    bank.server.url=https://-servernameandport-/\r\n    https.cipher=-cipher-\r\n\r\n    keystore.file=-key-.jks\r\n    keystore.type=JKS\r\n    keystore.password=-password-\r\n    ecomm.server.version=2.0\r\n\r\n    encoding.source=UTF-8\r\n    encoding.native=UTF-8\r\n\r\nFor the first time I thought this is a certificate problem, I converted it from .pfx to .jks, but I have the same error, with no changes.\r\n","title":"Received fatal alert: handshake_failure through SSLHandshakeException","body":"<p>I have a problem with authorized SSL connection. I have created Struts Action that connects to external server with Client Authorized SSL certificate. In my Action I am trying to send some data to bank server but without any luck, because I have as a result from server the following error: </p>\n\n<pre><code>error: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n\n<p>My Method from my Action class that sends data to server</p>\n\n<pre><code>//Getting external IP from host\n    URL whatismyip = new URL(\"http://automation.whatismyip.com/n09230945.asp\");\n    BufferedReader inIP = new BufferedReader(new InputStreamReader(whatismyip.openStream()));\n\n    String IPStr = inIP.readLine(); //IP as a String\n\n    Merchant merchant;\n\n    System.out.println(\"amount: \" + amount + \", currency: \" + currency + \", clientIp: \" + IPStr + \", description: \" + description);\n\n    try {\n\n        merchant = new Merchant(context.getRealPath(\"/\") + \"merchant.properties\");\n\n    } catch (ConfigurationException e) {\n\n        Logger.getLogger(HomeAction.class.getName()).log(Level.INFO, \"message\", e);\n        System.err.println(\"error: \" + e.getMessage());\n        return ERROR;\n    }\n\n    String result = merchant.sendTransData(amount, currency, IPStr, description);\n\n    System.out.println(\"result: \" + result);\n\n    return SUCCESS;\n</code></pre>\n\n<p>My merchant.properties file:</p>\n\n<pre><code>bank.server.url=https://-servernameandport-/\nhttps.cipher=-cipher-\n\nkeystore.file=-key-.jks\nkeystore.type=JKS\nkeystore.password=-password-\necomm.server.version=2.0\n\nencoding.source=UTF-8\nencoding.native=UTF-8\n</code></pre>\n\n<p>For the first time I thought this is a certificate problem, I converted it from .pfx to .jks, but I have the same error, with no changes.</p>\n"},{"tags":["java","apache-spark","jvm","amazon-emr","thread-dump"],"comments":[{"owner":{"account_id":434032,"reputation":487,"user_id":819730,"accept_rate":38,"display_name":"Aditya K"},"score":0,"creation_date":1653652408,"post_id":72062510,"comment_id":127908440,"body_markdown":"Hi, I am facing a very similar issue, though I am seeing them on EC2 with my spring boot app. Did you find an answer? I have searched everywhere online but unable to find anything and chanced upon your post. Also - are you using New Relic? I have a strong feeling these dumps have something to do with that.","body":"Hi, I am facing a very similar issue, though I am seeing them on EC2 with my spring boot app. Did you find an answer? I have searched everywhere online but unable to find anything and chanced upon your post. Also - are you using New Relic? I have a strong feeling these dumps have something to do with that."},{"owner":{"account_id":3006910,"reputation":199,"user_id":2651849,"display_name":"Maksim Grinman"},"score":0,"creation_date":1653881712,"post_id":72062510,"comment_id":127951261,"body_markdown":"@AdityaK I have not found a solution. I&#39;ve resorted to writing a script that pulls the logs and redacts the thread dumps. I&#39;m not using New Relic.","body":"@AdityaK I have not found a solution. I&#39;ve resorted to writing a script that pulls the logs and redacts the thread dumps. I&#39;m not using New Relic."},{"owner":{"account_id":434032,"reputation":487,"user_id":819730,"accept_rate":38,"display_name":"Aditya K"},"score":0,"creation_date":1653994155,"post_id":72062510,"comment_id":127981059,"body_markdown":"thank you for your reply. After my last message to you, I concluded that this has nothing to do with NR as well. However I notice this issue happens when I am running the app in the docker container with a non-root user. Also, on some occasions, just redeploying the app stopped those thread-dumps. Overall, It still remains a mystery to me.","body":"thank you for your reply. After my last message to you, I concluded that this has nothing to do with NR as well. However I notice this issue happens when I am running the app in the docker container with a non-root user. Also, on some occasions, just redeploying the app stopped those thread-dumps. Overall, It still remains a mystery to me."},{"owner":{"account_id":3006910,"reputation":199,"user_id":2651849,"display_name":"Maksim Grinman"},"score":0,"creation_date":1654611888,"post_id":72062510,"comment_id":128128719,"body_markdown":"Please do comment again if you find out. I will do the same.","body":"Please do comment again if you find out. I will do the same."},{"owner":{"account_id":434032,"reputation":487,"user_id":819730,"accept_rate":38,"display_name":"Aditya K"},"score":0,"creation_date":1656299913,"post_id":72062510,"comment_id":128529292,"body_markdown":"Hi @Maksim we have zeroed down the issue to Amazon Corretto JDK. We found that this issue was happening when running my spring boot app with a non-root user, on an image derived from Amazon Corretto JDK 11.","body":"Hi @Maksim we have zeroed down the issue to Amazon Corretto JDK. We found that this issue was happening when running my spring boot app with a non-root user, on an image derived from Amazon Corretto JDK 11."},{"owner":{"account_id":434032,"reputation":487,"user_id":819730,"accept_rate":38,"display_name":"Aditya K"},"score":0,"creation_date":1656890887,"post_id":72062510,"comment_id":128675049,"body_markdown":"Hi @Maksim, we have further confirmation on this - AWS confirmed that this was happening because of a log4j patcher running on the instance. I can provide more info if you need. Thanks.","body":"Hi @Maksim, we have further confirmation on this - AWS confirmed that this was happening because of a log4j patcher running on the instance. I can provide more info if you need. Thanks."},{"owner":{"account_id":3006910,"reputation":199,"user_id":2651849,"display_name":"Maksim Grinman"},"score":0,"creation_date":1657815385,"post_id":72062510,"comment_id":128905377,"body_markdown":"@AdityaK thanks, I guess that means we wait until they fix it","body":"@AdityaK thanks, I guess that means we wait until they fix it"},{"owner":{"account_id":434032,"reputation":487,"user_id":819730,"accept_rate":38,"display_name":"Aditya K"},"score":0,"creation_date":1658103152,"post_id":72062510,"comment_id":128960673,"body_markdown":"Hi @Maksim .. you have to raise a request with them in order to confirm the cause.","body":"Hi @Maksim .. you have to raise a request with them in order to confirm the cause."}],"answers":[{"tags":[],"owner":{"account_id":4662934,"reputation":2877,"user_id":3776765,"display_name":"M.Vanderlee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694083075,"creation_date":1694083075,"answer_id":77058815,"question_id":72062510,"body_markdown":"I have a solution for viewing the logs on the the instance itself or other Unix environment. \r\n\r\nBy piping the output through a `mawk` filter we can remove the stacktrace when reading or tailing the logs.\r\n\r\nOn AWS Linux this requires you to install the `mawk` package from the Epel repository.\r\n```shell\r\nsudo amazon-linux-extras install epel -y\r\nsudo yum install mawk -y\r\n```\r\n\r\nCreate a function that creates a tmp filename, tails and filters the input file and write it to the tmp file. Then open the tmp file with `less` and remove the tmp file when the user closes `less`.\r\nThe filter removes all lines between `^Full thread dump` and `^\\[[0-9` \r\nWhich works for me because my logs start with `[2023-09-7 ...`\r\n\r\n```shell\r\nless_log() { \r\n  tmp_file=$(mktemp)\r\n  tail -f -n +1 $1 | mawk -W interactive &#39;/^Full thread dump/{f=1} /^\\[[0-9]/{f=0} !f&#39; &gt; &quot;$tmp_file&quot; &amp;\r\n  less &quot;$tmp_file&quot;; kill %; rm &quot;$tmp_file&quot;\r\n}\r\n```\r\n\r\nYou can now view the logs like this\r\n```shell\r\nless_log /var/log/hadoop-yarn/containers/application_1693901863825_0025/container_1693901863825_0025_01_000001/stdout\r\n```\r\n\r\nSources:\r\n - https://www.unix.com/shell-programming-and-scripting/189267-how-ignore-single-multiple-lines-between-while-reading-file-unix.html\r\n - https://superuser.com/a/1600093/1173501\r\n - https://unix.stackexchange.com/a/139295/160014","title":"How can I stop seeing JVM Full Thread dumps in my AWS EMR Spark job stdout logs?","body":"<p>I have a solution for viewing the logs on the the instance itself or other Unix environment.</p>\n<p>By piping the output through a <code>mawk</code> filter we can remove the stacktrace when reading or tailing the logs.</p>\n<p>On AWS Linux this requires you to install the <code>mawk</code> package from the Epel repository.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo amazon-linux-extras install epel -y\nsudo yum install mawk -y\n</code></pre>\n<p>Create a function that creates a tmp filename, tails and filters the input file and write it to the tmp file. Then open the tmp file with <code>less</code> and remove the tmp file when the user closes <code>less</code>.\nThe filter removes all lines between <code>^Full thread dump</code> and <code>^\\[[0-9</code>\nWhich works for me because my logs start with <code>[2023-09-7 ...</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>less_log() { \n  tmp_file=$(mktemp)\n  tail -f -n +1 $1 | mawk -W interactive '/^Full thread dump/{f=1} /^\\[[0-9]/{f=0} !f' &gt; &quot;$tmp_file&quot; &amp;\n  less &quot;$tmp_file&quot;; kill %; rm &quot;$tmp_file&quot;\n}\n</code></pre>\n<p>You can now view the logs like this</p>\n<pre class=\"lang-bash prettyprint-override\"><code>less_log /var/log/hadoop-yarn/containers/application_1693901863825_0025/container_1693901863825_0025_01_000001/stdout\n</code></pre>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://www.unix.com/shell-programming-and-scripting/189267-how-ignore-single-multiple-lines-between-while-reading-file-unix.html\" rel=\"nofollow noreferrer\">https://www.unix.com/shell-programming-and-scripting/189267-how-ignore-single-multiple-lines-between-while-reading-file-unix.html</a></li>\n<li><a href=\"https://superuser.com/a/1600093/1173501\">https://superuser.com/a/1600093/1173501</a></li>\n<li><a href=\"https://unix.stackexchange.com/a/139295/160014\">https://unix.stackexchange.com/a/139295/160014</a></li>\n</ul>\n"}],"owner":{"account_id":3006910,"reputation":199,"user_id":2651849,"display_name":"Maksim Grinman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694083075,"creation_date":1651258169,"question_id":72062510,"body_markdown":"I have PySpark jobs running in AWS EMR. Recently, I upgraded (AWS EMR 6.4, Spark 3.1.2) and switched to running the job in a docker container. Ever since, there are sporadic thread dumps in the stdout logs that start with `Full thread dump OpenJDK 64-Bit Server VM (25.312-b07 mixed mode)`. \r\n\r\nI&#39;ve been unable to figure out why they occur. There are no associated errors or warnings in stderr and the job is unaffected. However, these thread dumps make it difficult to read the stdout logs, and I have been unable to figure out why they are happening. Things I have tried include using previous versions of AWS/EMR and even simpler EMR configurations, as I suspected that AWS EMR is sending `SIGQUIT` somewhere, since I did not find anything in the Spark source that would do it (except for thread dumps initiated by the Spark UI, and the Spark task reader, which is disabled).\r\n\r\nAt a loss for what to do, I would resign to instructing the JVM to redirect these thread dumps or even ignore the signal for them, if that&#39;s an option. I am open to alternative suggestions.\r\n\r\nI am aware of `-Xrs` but I suspect it&#39;s not what I want, since it would likely kill the process on the first `SIGQUIT`. ","title":"How can I stop seeing JVM Full Thread dumps in my AWS EMR Spark job stdout logs?","body":"<p>I have PySpark jobs running in AWS EMR. Recently, I upgraded (AWS EMR 6.4, Spark 3.1.2) and switched to running the job in a docker container. Ever since, there are sporadic thread dumps in the stdout logs that start with <code>Full thread dump OpenJDK 64-Bit Server VM (25.312-b07 mixed mode)</code>.</p>\n<p>I've been unable to figure out why they occur. There are no associated errors or warnings in stderr and the job is unaffected. However, these thread dumps make it difficult to read the stdout logs, and I have been unable to figure out why they are happening. Things I have tried include using previous versions of AWS/EMR and even simpler EMR configurations, as I suspected that AWS EMR is sending <code>SIGQUIT</code> somewhere, since I did not find anything in the Spark source that would do it (except for thread dumps initiated by the Spark UI, and the Spark task reader, which is disabled).</p>\n<p>At a loss for what to do, I would resign to instructing the JVM to redirect these thread dumps or even ignore the signal for them, if that's an option. I am open to alternative suggestions.</p>\n<p>I am aware of <code>-Xrs</code> but I suspect it's not what I want, since it would likely kill the process on the first <code>SIGQUIT</code>.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1694040338,"post_id":77055588,"comment_id":135840625,"body_markdown":"So you want to avoid splitting keys between partitions and treat the partition size as a minimum?","body":"So you want to avoid splitting keys between partitions and treat the partition size as a minimum?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694040515,"post_id":77055588,"comment_id":135840641,"body_markdown":"You are almost certainly going to need to give up on any sort of existing `ListUtils` or `stream`; you are going to need to do this manually.","body":"You are almost certainly going to need to give up on any sort of existing <code>ListUtils</code> or <code>stream</code>; you are going to need to do this manually."},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1694040523,"post_id":77055588,"comment_id":135840643,"body_markdown":"Yes, Thats correct. Keys shouldn&#39;t be split between partitions and the size of the partition can be the maximum number of elements the sublist can contain.","body":"Yes, Thats correct. Keys shouldn&#39;t be split between partitions and the size of the partition can be the maximum number of elements the sublist can contain."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1694044083,"post_id":77055588,"comment_id":135840997,"body_markdown":"It can&#39;t be a maximum. What if there are too many identical keys?","body":"It can&#39;t be a maximum. What if there are too many identical keys?"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1694044837,"post_id":77055588,"comment_id":135841071,"body_markdown":"True. my bad. It&#39;s the minimum","body":"True. my bad. It&#39;s the minimum"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1694056485,"post_id":77055588,"comment_id":135841922,"body_markdown":"@shmosel May I know how to do avoid splitting keys between partitions","body":"@shmosel May I know how to do avoid splitting keys between partitions"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694082743,"creation_date":1694082743,"answer_id":77058781,"question_id":77055588,"body_markdown":"Moving the partition bounds only makes sense if the data is sorted or at least clustered by the key, as otherwise, additional occurrences could exist in arbitrary other partitions.\r\n\r\nIf the data is sorted, the task is rather trivial. Do what methods like `ListUtils.partition` do but add a check whether the last element’s key of a partition matches the next partition’s first element’s and if so, increase the end index of the partition:\r\n\r\n```java\r\nstatic &lt;T, K extends Comparable&lt;? super K&gt;&gt; List&lt;List&lt;T&gt;&gt; partition(\r\n    List&lt;T&gt; data, int minSize, Function&lt;T, K&gt; keyFunction) {\r\n\r\n    List&lt;T&gt; workingCopy = new ArrayList&lt;&gt;(data);\r\n    workingCopy.sort(Comparator.comparing(keyFunction));\r\n\r\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    for(int ix = 0, ix2; ix &lt; data.size(); ix = ix2) {\r\n        ix2 = Math.min(workingCopy.size(), ix + minSize);\r\n        for(K lastKey = keyFunction.apply(workingCopy.get(ix2 - 1));\r\n            ix2 &lt; data.size()\r\n            &amp;&amp; Objects.equals(lastKey, keyFunction.apply(workingCopy.get(ix2)));) {\r\n            ix2++;\r\n        }\r\n        result.add(workingCopy.subList(ix, ix2));\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nThis can be tested like\r\n\r\n```java\r\nrecord TestObj(int key, String name) {}\r\n\r\nList&lt;TestObj&gt; objectList = IntStream.range(&#39;A&#39;, &#39;Z&#39;)\r\n    .mapToObj(c -&gt; new TestObj(ThreadLocalRandom.current().nextInt(0, 10),\r\n                               &quot;&quot; + (char)c))\r\n    .toList();\r\n\r\nList&lt;List&lt;TestObj&gt;&gt; partitions = partition(objectList, 6, TestObj::key);\r\n\r\nSystem.out.println(partitions.size() + &quot; partitions&quot;);\r\n\r\nfor(List&lt;TestObj&gt; p: partitions) {\r\n    System.out.println(&quot;(&quot; + p.size() + &quot; elements)&quot;);\r\n    p.forEach(System.out::println);\r\n    System.out.println();\r\n}\r\n```\r\n\r\n[Test on jdoodle.com](https://jdoodle.com/ia/LU9)\r\n\r\nNote that if the key is not `Comparable` you can turn the sort operation into a clustering operation like\r\n\r\n```java\r\nMap&lt;Object, Integer&gt; chunkID = new HashMap&lt;&gt;();\r\nList&lt;List&lt;TestObj&gt;&gt; partitions = partition(objectList, 6,\r\n    o -&gt; chunkID.computeIfAbsent(o.key(), k -&gt; chunkID.size()));\r\n```\r\n\r\nSince this assigns each distinct key an ascending number in the order of occurrence, which is then used for sorting, it will minimize the changes made to the encounter order, making no changes if the elements are already clustered.\r\n","title":"Partition List on sublists where similar elements to be grouped","body":"<p>Moving the partition bounds only makes sense if the data is sorted or at least clustered by the key, as otherwise, additional occurrences could exist in arbitrary other partitions.</p>\n<p>If the data is sorted, the task is rather trivial. Do what methods like <code>ListUtils.partition</code> do but add a check whether the last element’s key of a partition matches the next partition’s first element’s and if so, increase the end index of the partition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T, K extends Comparable&lt;? super K&gt;&gt; List&lt;List&lt;T&gt;&gt; partition(\n    List&lt;T&gt; data, int minSize, Function&lt;T, K&gt; keyFunction) {\n\n    List&lt;T&gt; workingCopy = new ArrayList&lt;&gt;(data);\n    workingCopy.sort(Comparator.comparing(keyFunction));\n\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n    for(int ix = 0, ix2; ix &lt; data.size(); ix = ix2) {\n        ix2 = Math.min(workingCopy.size(), ix + minSize);\n        for(K lastKey = keyFunction.apply(workingCopy.get(ix2 - 1));\n            ix2 &lt; data.size()\n            &amp;&amp; Objects.equals(lastKey, keyFunction.apply(workingCopy.get(ix2)));) {\n            ix2++;\n        }\n        result.add(workingCopy.subList(ix, ix2));\n    }\n\n    return result;\n}\n</code></pre>\n<p>This can be tested like</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TestObj(int key, String name) {}\n\nList&lt;TestObj&gt; objectList = IntStream.range('A', 'Z')\n    .mapToObj(c -&gt; new TestObj(ThreadLocalRandom.current().nextInt(0, 10),\n                               &quot;&quot; + (char)c))\n    .toList();\n\nList&lt;List&lt;TestObj&gt;&gt; partitions = partition(objectList, 6, TestObj::key);\n\nSystem.out.println(partitions.size() + &quot; partitions&quot;);\n\nfor(List&lt;TestObj&gt; p: partitions) {\n    System.out.println(&quot;(&quot; + p.size() + &quot; elements)&quot;);\n    p.forEach(System.out::println);\n    System.out.println();\n}\n</code></pre>\n<p><a href=\"https://jdoodle.com/ia/LU9\" rel=\"nofollow noreferrer\">Test on jdoodle.com</a></p>\n<p>Note that if the key is not <code>Comparable</code> you can turn the sort operation into a clustering operation like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Object, Integer&gt; chunkID = new HashMap&lt;&gt;();\nList&lt;List&lt;TestObj&gt;&gt; partitions = partition(objectList, 6,\n    o -&gt; chunkID.computeIfAbsent(o.key(), k -&gt; chunkID.size()));\n</code></pre>\n<p>Since this assigns each distinct key an ascending number in the order of occurrence, which is then used for sorting, it will minimize the changes made to the encounter order, making no changes if the elements are already clustered.</p>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694082743,"creation_date":1694039325,"question_id":77055588,"body_markdown":"I have a `List&lt;object&gt;` elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.\r\nI am currently doing this in the following way:\r\n\r\n    int gridSize = 6;\r\n    List&lt;object&gt; objectList = findAll();\r\n    List&lt;List&lt;object&gt;&gt; partitionedList = ListUtils.partition(objectList, (objectList.size() + gridSize - 1) / gridSize);\r\n    for(List&lt;object&gt; objects : partitionedList) {\r\n        List&lt;Long&gt; keys = objects.stream().map(x -&gt; x.getKey()).collect(Collectors.toList());\r\n        //Do some processing on keys collected in the above list\r\n        LongSummaryStatistics idStats = objects.stream().collect(Collectors.summarizingLong(e -&gt; e));\r\n        repo.callToDb(idStats.getMin(), idStats.getMax());\r\n        //further processing\r\n    }\r\n\r\nThe above code works fine but I have repeated keys in my objects like this:&lt;br&gt;\r\nInput:\r\n\r\n    Car[id: 1, name:Tesla, Key: 1]\r\n    Car[id: 2, name:Tesla-3, Key: 2]\r\n    Car[id: 3, name:Tesla-Y, Key: 2]\r\n    Car[id: 4, name:Tesla-S, Key: 3]\r\n\r\nWhen I do a Partition with the above code with chunk size: 2 I get the partition as:\r\n\r\n    Partition-1:\r\n    Car[id: 1, name:Tesla, Key: 1]\r\n    Car[id: 2, name:Tesla-3, Key: 2]\r\n    \r\n    Partition-2:\r\n    Car[id: 3, name:Tesla-Y, Key: 2]\r\n    Car[id: 4, name:Tesla-S, Key: 3]\r\n\r\nInstead I want the keys from the first partition to not be repeated on the second partition.\r\n\r\nSo, essentially I want the partition to look like this:\r\n\r\n    Partition-1:\r\n    Car[id: 1, name:Tesla, Key: 1]\r\n    Car[id: 2, name:Tesla-3, Key: 2]\r\n    Car[id: 3, name:Tesla-Y, Key: 2]\r\n    \r\n    Partition-2:\r\n    Car[id: 4, name:Tesla-S, Key: 3]\r\n\r\nIs there a way I can achieve this with a chunk size as mentioned. Thanks in advance!\r\n\r\nEdit:\r\nHere is what I wrote:\r\n\r\n    int gridSize = 6;\r\n    List&lt;List&lt;object&gt;&gt; partitionedList = new ArrayList&lt;&gt;();\r\n    Map&lt;Integer, Pair&lt;Long, Long&gt;&gt; minMaxPairMap = new HashMap&lt;&gt;();\r\n    List&lt;object&gt; objectList = findAll();\r\n    List&lt;object&gt; uniqueKeys = objectList.stream()\r\n    \t\t\t\t.filter(distinctByKey(x -&gt; x.getKey())).collect(Collectors.toList());\r\n    List&lt;List&lt;object&gt;&gt; uniqueKeysPartition = ListUtils.partition(uniqueKeys,\r\n    \t\t\t\t(uniqueKeys.size() + gridSize - 1) / gridSize);\r\n    for (int i = 0; i &lt; uniqueKeysPartition.size(); i++) {\r\n    \tList&lt;object&gt; ojList = uniqueKeysPartition.get(i);\r\n    \t\t\tLongSummaryStatistics longSummaryStatistics = ojList.stream().map(object::getKey).collect(Collectors.toList()).stream().collect(Collectors.summarizingLong(e -&gt; e));\r\n        minMaxPairMap.put(i, Pair.of(longSummaryStatistics.getMin(), longSummaryStatistics.getMax()));\r\n        partitionedList.add(objectList.subList(\r\n    \t\t\t\t\tgetFirstIndexOf(objectList, longSummaryStatistics.getMin()),\r\n    \t\t\t\t\tgetLastIndexOf(objectList, longSummaryStatistics.getMax()) + 1));\r\n    }\r\n    for (int i = 0; i &lt; partitionedList.size(); i++) {\r\n        List&lt;Long&gt; keys = objects.stream().map(x -&gt; x.getKey()).collect(Collectors.toList());\r\n        //Do some processing on keys collected in the above list\r\n        Pair&lt;Long, Long&gt; minMaxPair = minMaxPairMap.get(i);\r\n        repo.callToDb(minMaxPair.getFirst(), minMaxPair.getSecond());\r\n        //further processing\r\n    }\r\n\r\nIs there a better way to achieve this because I feel I have complicated it to achieve what I want?","title":"Partition List on sublists where similar elements to be grouped","body":"<p>I have a <code>List&lt;object&gt;</code> elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.\nI am currently doing this in the following way:</p>\n<pre><code>int gridSize = 6;\nList&lt;object&gt; objectList = findAll();\nList&lt;List&lt;object&gt;&gt; partitionedList = ListUtils.partition(objectList, (objectList.size() + gridSize - 1) / gridSize);\nfor(List&lt;object&gt; objects : partitionedList) {\n    List&lt;Long&gt; keys = objects.stream().map(x -&gt; x.getKey()).collect(Collectors.toList());\n    //Do some processing on keys collected in the above list\n    LongSummaryStatistics idStats = objects.stream().collect(Collectors.summarizingLong(e -&gt; e));\n    repo.callToDb(idStats.getMin(), idStats.getMax());\n    //further processing\n}\n</code></pre>\n<p>The above code works fine but I have repeated keys in my objects like this:<br>\nInput:</p>\n<pre><code>Car[id: 1, name:Tesla, Key: 1]\nCar[id: 2, name:Tesla-3, Key: 2]\nCar[id: 3, name:Tesla-Y, Key: 2]\nCar[id: 4, name:Tesla-S, Key: 3]\n</code></pre>\n<p>When I do a Partition with the above code with chunk size: 2 I get the partition as:</p>\n<pre><code>Partition-1:\nCar[id: 1, name:Tesla, Key: 1]\nCar[id: 2, name:Tesla-3, Key: 2]\n\nPartition-2:\nCar[id: 3, name:Tesla-Y, Key: 2]\nCar[id: 4, name:Tesla-S, Key: 3]\n</code></pre>\n<p>Instead I want the keys from the first partition to not be repeated on the second partition.</p>\n<p>So, essentially I want the partition to look like this:</p>\n<pre><code>Partition-1:\nCar[id: 1, name:Tesla, Key: 1]\nCar[id: 2, name:Tesla-3, Key: 2]\nCar[id: 3, name:Tesla-Y, Key: 2]\n\nPartition-2:\nCar[id: 4, name:Tesla-S, Key: 3]\n</code></pre>\n<p>Is there a way I can achieve this with a chunk size as mentioned. Thanks in advance!</p>\n<p>Edit:\nHere is what I wrote:</p>\n<pre><code>int gridSize = 6;\nList&lt;List&lt;object&gt;&gt; partitionedList = new ArrayList&lt;&gt;();\nMap&lt;Integer, Pair&lt;Long, Long&gt;&gt; minMaxPairMap = new HashMap&lt;&gt;();\nList&lt;object&gt; objectList = findAll();\nList&lt;object&gt; uniqueKeys = objectList.stream()\n                .filter(distinctByKey(x -&gt; x.getKey())).collect(Collectors.toList());\nList&lt;List&lt;object&gt;&gt; uniqueKeysPartition = ListUtils.partition(uniqueKeys,\n                (uniqueKeys.size() + gridSize - 1) / gridSize);\nfor (int i = 0; i &lt; uniqueKeysPartition.size(); i++) {\n    List&lt;object&gt; ojList = uniqueKeysPartition.get(i);\n            LongSummaryStatistics longSummaryStatistics = ojList.stream().map(object::getKey).collect(Collectors.toList()).stream().collect(Collectors.summarizingLong(e -&gt; e));\n    minMaxPairMap.put(i, Pair.of(longSummaryStatistics.getMin(), longSummaryStatistics.getMax()));\n    partitionedList.add(objectList.subList(\n                    getFirstIndexOf(objectList, longSummaryStatistics.getMin()),\n                    getLastIndexOf(objectList, longSummaryStatistics.getMax()) + 1));\n}\nfor (int i = 0; i &lt; partitionedList.size(); i++) {\n    List&lt;Long&gt; keys = objects.stream().map(x -&gt; x.getKey()).collect(Collectors.toList());\n    //Do some processing on keys collected in the above list\n    Pair&lt;Long, Long&gt; minMaxPair = minMaxPairMap.get(i);\n    repo.callToDb(minMaxPair.getFirst(), minMaxPair.getSecond());\n    //further processing\n}\n</code></pre>\n<p>Is there a better way to achieve this because I feel I have complicated it to achieve what I want?</p>\n"},{"tags":["java","floating-point","double","bigdecimal"],"comments":[{"owner":{"account_id":88430,"reputation":2355,"user_id":244594,"accept_rate":71,"display_name":"Espen Schulstad"},"score":0,"creation_date":1281001707,"post_id":3413448,"comment_id":35427793,"body_markdown":"Check out this one; http://stackoverflow.com/questions/322749/retain-precision-with-doubles-in-java","body":"Check out this one; <a href=\"http://stackoverflow.com/questions/322749/retain-precision-with-doubles-in-java\" title=\"retain precision with doubles in java\">stackoverflow.com/questions/322749/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"down_vote_count":4,"up_vote_count":597,"is_accepted":true,"score":593,"last_activity_date":1666000832,"creation_date":1281001512,"answer_id":3413493,"question_id":3413448,"body_markdown":"A `BigDecimal` is an exact way of representing numbers. A `Double` has a certain precision. Working with doubles of various magnitudes (say `d1=1000.0` and `d2=0.001`) could result in the `0.001` being dropped altogether when summing as the difference in magnitude is so large. With `BigDecimal` this would not happen.\r\n\r\nThe disadvantage of `BigDecimal` is that it&#39;s slower, and it&#39;s a bit more difficult to program algorithms that way (due to `+` `-` `*` and `/` not being overloaded).\r\n\r\nIf you are dealing with money, or precision is a must, use `BigDecimal`. Otherwise `Doubles` tend to be good enough.\r\n\r\nI do recommend reading the [javadoc][1] of `BigDecimal` as they do explain things better than I do here :)\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html","title":"Double vs. BigDecimal?","body":"<p>A <code>BigDecimal</code> is an exact way of representing numbers. A <code>Double</code> has a certain precision. Working with doubles of various magnitudes (say <code>d1=1000.0</code> and <code>d2=0.001</code>) could result in the <code>0.001</code> being dropped altogether when summing as the difference in magnitude is so large. With <code>BigDecimal</code> this would not happen.</p>\n<p>The disadvantage of <code>BigDecimal</code> is that it's slower, and it's a bit more difficult to program algorithms that way (due to <code>+</code> <code>-</code> <code>*</code> and <code>/</code> not being overloaded).</p>\n<p>If you are dealing with money, or precision is a must, use <code>BigDecimal</code>. Otherwise <code>Doubles</code> tend to be good enough.</p>\n<p>I do recommend reading the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">javadoc</a> of <code>BigDecimal</code> as they do explain things better than I do here :)</p>\n"},{"tags":[],"owner":{"account_id":341036,"reputation":1318,"user_id":671395,"display_name":"Meros"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1628004705,"creation_date":1428999535,"answer_id":29622364,"question_id":3413448,"body_markdown":"There are two main differences from double:\r\n \r\n* Arbitrary precision, similarly to BigInteger they can contain number of arbitrary precision and size (whereas a double has a fixed number of bits)\r\n* Base 10 instead of Base 2, a BigDecimal is `n*10^-scale` where n is an arbitrary large signed integer and scale can be thought of as the number of digits to move the decimal point left or right\r\n\r\nIt is still not true to say that BigDecimal can represent any number. But two reasons you should use BigDecimal for monetary calculations are:\r\n\r\n* It can represent all numbers that can be represented in decimal notion and that includes virtually all numbers in the monetary world (you never transfer 1/3 $ to someone).\r\n* The precision can be controlled to avoid accumulated errors. With a `double`, as the magnitude of the value increases, its precision decreases and this can introduce significant error into the result.","title":"Double vs. BigDecimal?","body":"<p>There are two main differences from double:</p>\n<ul>\n<li>Arbitrary precision, similarly to BigInteger they can contain number of arbitrary precision and size (whereas a double has a fixed number of bits)</li>\n<li>Base 10 instead of Base 2, a BigDecimal is <code>n*10^-scale</code> where n is an arbitrary large signed integer and scale can be thought of as the number of digits to move the decimal point left or right</li>\n</ul>\n<p>It is still not true to say that BigDecimal can represent any number. But two reasons you should use BigDecimal for monetary calculations are:</p>\n<ul>\n<li>It can represent all numbers that can be represented in decimal notion and that includes virtually all numbers in the monetary world (you never transfer 1/3 $ to someone).</li>\n<li>The precision can be controlled to avoid accumulated errors. With a <code>double</code>, as the magnitude of the value increases, its precision decreases and this can introduce significant error into the result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3282789,"reputation":195,"user_id":2762976,"display_name":"fishermanhat"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1487877275,"creation_date":1437181126,"answer_id":31486748,"question_id":3413448,"body_markdown":"BigDecimal is Oracle&#39;s arbitrary-precision numerical library. BigDecimal is part of the Java language and is useful for a variety of applications ranging from the financial to the scientific (that&#39;s where sort of am).\r\n\r\nThere&#39;s nothing wrong with using doubles for certain calculations. Suppose, however, you wanted to calculate Math.Pi * Math.Pi / 6, that is, the value of the Riemann Zeta Function for a real argument of two (a project I&#39;m currently working on). Floating-point division presents you with a painful problem of rounding error.\r\n\r\nBigDecimal, on the other hand, includes many options for calculating expressions to arbitrary precision. The add, multiply, and divide methods as described in the Oracle documentation below &quot;take the place&quot; of +, *, and / in BigDecimal Java World:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n\r\nThe compareTo method is especially useful in while and for loops.\r\n\r\nBe careful, however, in your use of constructors for BigDecimal. The string constructor is very useful in many cases. For instance, the code\r\n\r\nBigDecimal onethird = new BigDecimal(&quot;0.33333333333&quot;);\r\n\r\nutilizes a string representation of 1/3 to represent that infinitely-repeating number to a specified degree of accuracy. The round-off error is most likely somewhere so deep inside the JVM that the round-off errors won&#39;t disturb most of your practical calculations. I have, from personal experience, seen round-off creep up, however. The setScale method is important in these regards, as can be seen from the Oracle documentation.\r\n","title":"Double vs. BigDecimal?","body":"<p>BigDecimal is Oracle's arbitrary-precision numerical library. BigDecimal is part of the Java language and is useful for a variety of applications ranging from the financial to the scientific (that's where sort of am).</p>\n\n<p>There's nothing wrong with using doubles for certain calculations. Suppose, however, you wanted to calculate Math.Pi * Math.Pi / 6, that is, the value of the Riemann Zeta Function for a real argument of two (a project I'm currently working on). Floating-point division presents you with a painful problem of rounding error.</p>\n\n<p>BigDecimal, on the other hand, includes many options for calculating expressions to arbitrary precision. The add, multiply, and divide methods as described in the Oracle documentation below \"take the place\" of +, *, and / in BigDecimal Java World:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html</a></p>\n\n<p>The compareTo method is especially useful in while and for loops.</p>\n\n<p>Be careful, however, in your use of constructors for BigDecimal. The string constructor is very useful in many cases. For instance, the code</p>\n\n<p>BigDecimal onethird = new BigDecimal(\"0.33333333333\");</p>\n\n<p>utilizes a string representation of 1/3 to represent that infinitely-repeating number to a specified degree of accuracy. The round-off error is most likely somewhere so deep inside the JVM that the round-off errors won't disturb most of your practical calculations. I have, from personal experience, seen round-off creep up, however. The setScale method is important in these regards, as can be seen from the Oracle documentation.</p>\n"},{"tags":[],"owner":{"account_id":6878297,"reputation":2670,"user_id":5285983,"display_name":"Basil"},"down_vote_count":4,"up_vote_count":255,"is_accepted":false,"score":251,"last_activity_date":1625938409,"creation_date":1463166619,"answer_id":37217646,"question_id":3413448,"body_markdown":"My English is not good so I&#39;ll just write a simple example here.\r\n\r\n```java\r\ndouble a = 0.02;\r\ndouble b = 0.03;\r\ndouble c = b - a;\r\nSystem.out.println(c);\r\n\r\nBigDecimal _a = new BigDecimal(&quot;0.02&quot;);\r\nBigDecimal _b = new BigDecimal(&quot;0.03&quot;);\r\nBigDecimal _c = _b.subtract(_a);\r\nSystem.out.println(_c);\r\n```\r\n\r\nProgram output:\r\n\r\n```\r\n0.009999999999999998\r\n0.01\r\n```\r\n\r\nDoes anyone still want to use double? ;)\r\n","title":"Double vs. BigDecimal?","body":"<p>My English is not good so I'll just write a simple example here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double a = 0.02;\ndouble b = 0.03;\ndouble c = b - a;\nSystem.out.println(c);\n\nBigDecimal _a = new BigDecimal(&quot;0.02&quot;);\nBigDecimal _b = new BigDecimal(&quot;0.03&quot;);\nBigDecimal _c = _b.subtract(_a);\nSystem.out.println(_c);\n</code></pre>\n<p>Program output:</p>\n<pre><code>0.009999999999999998\n0.01\n</code></pre>\n<p>Does anyone still want to use double? ;)</p>\n"},{"tags":[],"owner":{"account_id":472485,"reputation":106315,"user_id":880990,"display_name":"Olivier Jacot-Descombes"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1694069943,"creation_date":1464449323,"answer_id":37500823,"question_id":3413448,"body_markdown":"If you write down a fractional value like `1 / 7` as decimal value you get\r\n\r\n    1/7 = 0.142857142857142857142857142857142857142857...\r\n\r\nwith an infinite repetition of the digits `142857`.  Since you can only write a finite number of digits you will inevitably introduce a rounding (or truncation) error.\r\n\r\nNumbers like `1/10` or `1/100` expressed as binary numbers with a fractional part also have an infinite number of digits after the decimal point:\r\n\r\n    1/10 = binary 0.0001100110011001100110011001100110...\r\n\r\n`Doubles` store values as binary and therefore might introduce an error solely by converting a decimal number to a binary number, without even doing any arithmetic.\r\n\r\nDecimal numbers, on the other hand, often store each decimal digit as is (binary coded, but each decimal on its own) or, in the case of `BigDecimal`, as two signed binary integer numbers in the form x*10&lt;sup&gt;y&lt;/sup&gt; (thanks to @AlexSalauyou for pointing out). See: [Class BigDecimal][1]. This means that a decimal type is not more precise than a binary floating point or fixed point type in a general sense (i.e. it cannot store `1/7` without loss of precision), but it is more accurate for numbers that have a finite number of decimal digits as is often the case for money calculations.\r\n\r\nJava&#39;s `BigDecimal` has the additional advantage that it can have an arbitrary (but finite) number of digits on both sides of the decimal point, limited only by the available memory.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html","title":"Double vs. BigDecimal?","body":"<p>If you write down a fractional value like <code>1 / 7</code> as decimal value you get</p>\n<pre><code>1/7 = 0.142857142857142857142857142857142857142857...\n</code></pre>\n<p>with an infinite repetition of the digits <code>142857</code>.  Since you can only write a finite number of digits you will inevitably introduce a rounding (or truncation) error.</p>\n<p>Numbers like <code>1/10</code> or <code>1/100</code> expressed as binary numbers with a fractional part also have an infinite number of digits after the decimal point:</p>\n<pre><code>1/10 = binary 0.0001100110011001100110011001100110...\n</code></pre>\n<p><code>Doubles</code> store values as binary and therefore might introduce an error solely by converting a decimal number to a binary number, without even doing any arithmetic.</p>\n<p>Decimal numbers, on the other hand, often store each decimal digit as is (binary coded, but each decimal on its own) or, in the case of <code>BigDecimal</code>, as two signed binary integer numbers in the form x*10<sup>y</sup> (thanks to @AlexSalauyou for pointing out). See: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">Class BigDecimal</a>. This means that a decimal type is not more precise than a binary floating point or fixed point type in a general sense (i.e. it cannot store <code>1/7</code> without loss of precision), but it is more accurate for numbers that have a finite number of decimal digits as is often the case for money calculations.</p>\n<p>Java's <code>BigDecimal</code> has the additional advantage that it can have an arbitrary (but finite) number of digits on both sides of the decimal point, limited only by the available memory.</p>\n"},{"tags":[],"owner":{"account_id":2078190,"reputation":1221,"user_id":1850930,"display_name":"jfajunior"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1537455526,"creation_date":1537432616,"answer_id":52420878,"question_id":3413448,"body_markdown":"If you are dealing with calculation, there are laws on how you should calculate and what precision you should use. If you fail that you will be doing something illegal. \r\nThe only real reason is that the bit representation of decimal cases are not precise. As Basil simply put, an example is the best explanation. Just to complement his example, here&#39;s what happens: \r\n\r\n    static void theDoubleProblem1() {\r\n\t\tdouble d1 = 0.3;\r\n\t\tdouble d2 = 0.2;\r\n\t\tSystem.out.println(&quot;Double:\\t 0,3 - 0,2 = &quot; + (d1 - d2));\r\n\t\t\r\n\t\tfloat f1 = 0.3f;\r\n\t\tfloat f2 = 0.2f;\r\n\t\tSystem.out.println(&quot;Float:\\t 0,3 - 0,2 = &quot; + (f1 - f2));\r\n\t\t\r\n\t\tBigDecimal bd1 = new BigDecimal(&quot;0.3&quot;);\r\n\t\tBigDecimal bd2 = new BigDecimal(&quot;0.2&quot;);\r\n\t\tSystem.out.println(&quot;BigDec:\\t 0,3 - 0,2 = &quot; + (bd1.subtract(bd2)));\r\n\t}\r\n\r\nOutput: \r\n\r\n    Double:\t 0,3 - 0,2 = 0.09999999999999998\r\n    Float:\t 0,3 - 0,2 = 0.10000001\r\n    BigDec:\t 0,3 - 0,2 = 0.1\r\n\r\nAlso we have that: \r\n\r\n    static void theDoubleProblem2() {\r\n\t\tdouble d1 = 10;\r\n\t\tdouble d2 = 3;\r\n\t\tSystem.out.println(&quot;Double:\\t 10 / 3 = &quot; + (d1 / d2));\r\n\t\t\r\n\t\tfloat f1 = 10f;\r\n\t\tfloat f2 = 3f;\r\n\t\tSystem.out.println(&quot;Float:\\t 10 / 3 = &quot; + (f1 / f2));\r\n\t\t\r\n\t\t// Exception! \r\n\t\tBigDecimal bd3 = new BigDecimal(&quot;10&quot;);\r\n\t\tBigDecimal bd4 = new BigDecimal(&quot;3&quot;);\r\n\t\tSystem.out.println(&quot;BigDec:\\t 10 / 3 = &quot; + (bd3.divide(bd4)));\r\n\t}\r\n\r\nGives us the output: \r\n\r\n    Double:\t 10 / 3 = 3.3333333333333335\r\n    Float:\t 10 / 3 = 3.3333333\r\n    Exception in thread &quot;main&quot; java.lang.ArithmeticException: Non-terminating decimal expansion\r\n\r\nBut: \r\n\r\n\tstatic void theDoubleProblem2() {\r\n\t\tBigDecimal bd3 = new BigDecimal(&quot;10&quot;);\r\n\t\tBigDecimal bd4 = new BigDecimal(&quot;3&quot;);\r\n\t\tSystem.out.println(&quot;BigDec:\\t 10 / 3 = &quot; + (bd3.divide(bd4, 4, BigDecimal.ROUND_HALF_UP)));\r\n\t}\r\n\r\nHas the output: \r\n\r\n    BigDec:\t 10 / 3 = 3.3333 \r\n\r\n","title":"Double vs. BigDecimal?","body":"<p>If you are dealing with calculation, there are laws on how you should calculate and what precision you should use. If you fail that you will be doing something illegal. \nThe only real reason is that the bit representation of decimal cases are not precise. As Basil simply put, an example is the best explanation. Just to complement his example, here's what happens: </p>\n\n<pre><code>static void theDoubleProblem1() {\n    double d1 = 0.3;\n    double d2 = 0.2;\n    System.out.println(\"Double:\\t 0,3 - 0,2 = \" + (d1 - d2));\n\n    float f1 = 0.3f;\n    float f2 = 0.2f;\n    System.out.println(\"Float:\\t 0,3 - 0,2 = \" + (f1 - f2));\n\n    BigDecimal bd1 = new BigDecimal(\"0.3\");\n    BigDecimal bd2 = new BigDecimal(\"0.2\");\n    System.out.println(\"BigDec:\\t 0,3 - 0,2 = \" + (bd1.subtract(bd2)));\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>Double:  0,3 - 0,2 = 0.09999999999999998\nFloat:   0,3 - 0,2 = 0.10000001\nBigDec:  0,3 - 0,2 = 0.1\n</code></pre>\n\n<p>Also we have that: </p>\n\n<pre><code>static void theDoubleProblem2() {\n    double d1 = 10;\n    double d2 = 3;\n    System.out.println(\"Double:\\t 10 / 3 = \" + (d1 / d2));\n\n    float f1 = 10f;\n    float f2 = 3f;\n    System.out.println(\"Float:\\t 10 / 3 = \" + (f1 / f2));\n\n    // Exception! \n    BigDecimal bd3 = new BigDecimal(\"10\");\n    BigDecimal bd4 = new BigDecimal(\"3\");\n    System.out.println(\"BigDec:\\t 10 / 3 = \" + (bd3.divide(bd4)));\n}\n</code></pre>\n\n<p>Gives us the output: </p>\n\n<pre><code>Double:  10 / 3 = 3.3333333333333335\nFloat:   10 / 3 = 3.3333333\nException in thread \"main\" java.lang.ArithmeticException: Non-terminating decimal expansion\n</code></pre>\n\n<p>But: </p>\n\n<pre><code>static void theDoubleProblem2() {\n    BigDecimal bd3 = new BigDecimal(\"10\");\n    BigDecimal bd4 = new BigDecimal(\"3\");\n    System.out.println(\"BigDec:\\t 10 / 3 = \" + (bd3.divide(bd4, 4, BigDecimal.ROUND_HALF_UP)));\n}\n</code></pre>\n\n<p>Has the output: </p>\n\n<pre><code>BigDec:  10 / 3 = 3.3333 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25753849,"reputation":1,"user_id":19505907,"display_name":"Mladen Covic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657609220,"creation_date":1657227744,"answer_id":72904174,"question_id":3413448,"body_markdown":"If you need to use division in your arithmetic, you need to use **double** instead of **BigDecimal**. Division `(divide(BigDecimal) method)` in BigDecimal is pretty useless as BigDecimal can&#39;t handle repeating decimal rational numbers (division where divisors are  and will throw `java.lang.ArithmeticException: Non-terminating decimal expansion;` no exact representable decimal result.\r\n\r\nJust try `BigDecimal.ONE.divide(new BigDecimal(&quot;3&quot;));`\r\n\r\nDouble, on the other hand, will handle division fine (with the understood precision which is roughly 15 significant digits)","title":"Double vs. BigDecimal?","body":"<p>If you need to use division in your arithmetic, you need to use <strong>double</strong> instead of <strong>BigDecimal</strong>. Division <code>(divide(BigDecimal) method)</code> in BigDecimal is pretty useless as BigDecimal can't handle repeating decimal rational numbers (division where divisors are  and will throw <code>java.lang.ArithmeticException: Non-terminating decimal expansion;</code> no exact representable decimal result.</p>\n<p>Just try <code>BigDecimal.ONE.divide(new BigDecimal(&quot;3&quot;));</code></p>\n<p>Double, on the other hand, will handle division fine (with the understood precision which is roughly 15 significant digits)</p>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694082425,"creation_date":1694032052,"answer_id":77055103,"question_id":3413448,"body_markdown":"Your colleague just wants to make it simple.\r\n\r\nAlmost every value _x_ written as decimal fractional number, cannot be exactly stored in binary-based `double`—thus, instead of _x_, [there will be stored][1] some _x + delta_. This is not a problem by itself, as in most cases transformation back to decimal handles it correctly (e.g.: `Double.toString(0.1) -&gt; &quot;0.1&quot;`). But when you perform arithmetic calculations, _deltas_ of arguments are accumulated in result, and you have to take care of it.\r\n\r\nIt is often said that is impossible to accumulate enough inaccuracy to affect result, as `double` has precision 1e-16 (i.e.: |_delta_| &lt; 1e-16). This is true for _x_ around 1. For _x_ around 1M precision is 1e-10; for 100B (quite typical amount in [Indonesian Rupiah][2]), precision falls to 1e-5. Now you have a limitation of 100K simple arithmetic operations to guaranteerly stay in the safe zone.\r\n\r\nEven if you are absolutely sure that accumulated inaccuracy won&#39;t spread into significant part of result, you have to implement some rules to suppress it: rounding, converting from cents, etc—every time when result should be treated as decimal, i.e. compared, printed, saved in database, sent to downstream, etc. And your colleague has to review all that.\r\n\r\nWith `BigDecimal`, where decimal fractions are stored accurately, given that all monetary amounts in modern world are counted in decimals, you and your colleague do not have this headache at all.\r\n\r\n\r\n  [1]: https://baseconvert.com/ieee-754-floating-point\r\n  [2]: https://www.xe.com/currencyconverter/convert/?Amount=6000000&amp;From=EUR&amp;To=IDR","title":"Double vs. BigDecimal?","body":"<p>Your colleague just wants to make it simple.</p>\n<p>Almost every value <em>x</em> written as decimal fractional number, cannot be exactly stored in binary-based <code>double</code>—thus, instead of <em>x</em>, <a href=\"https://baseconvert.com/ieee-754-floating-point\" rel=\"nofollow noreferrer\">there will be stored</a> some <em>x + delta</em>. This is not a problem by itself, as in most cases transformation back to decimal handles it correctly (e.g.: <code>Double.toString(0.1) -&gt; &quot;0.1&quot;</code>). But when you perform arithmetic calculations, <em>deltas</em> of arguments are accumulated in result, and you have to take care of it.</p>\n<p>It is often said that is impossible to accumulate enough inaccuracy to affect result, as <code>double</code> has precision 1e-16 (i.e.: |<em>delta</em>| &lt; 1e-16). This is true for <em>x</em> around 1. For <em>x</em> around 1M precision is 1e-10; for 100B (quite typical amount in <a href=\"https://www.xe.com/currencyconverter/convert/?Amount=6000000&amp;From=EUR&amp;To=IDR\" rel=\"nofollow noreferrer\">Indonesian Rupiah</a>), precision falls to 1e-5. Now you have a limitation of 100K simple arithmetic operations to guaranteerly stay in the safe zone.</p>\n<p>Even if you are absolutely sure that accumulated inaccuracy won't spread into significant part of result, you have to implement some rules to suppress it: rounding, converting from cents, etc—every time when result should be treated as decimal, i.e. compared, printed, saved in database, sent to downstream, etc. And your colleague has to review all that.</p>\n<p>With <code>BigDecimal</code>, where decimal fractions are stored accurately, given that all monetary amounts in modern world are counted in decimals, you and your colleague do not have this headache at all.</p>\n"}],"owner":{"account_id":171578,"reputation":10558,"user_id":399104,"accept_rate":78,"display_name":"Truong Ha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460588,"favorite_count":0,"down_vote_count":0,"up_vote_count":416,"accepted_answer_id":3413493,"answer_count":8,"score":416,"last_activity_date":1694082425,"creation_date":1281001180,"question_id":3413448,"body_markdown":"I have to calculate some floating point variables and my colleague suggest me to use `BigDecimal` instead of `double` since it will be more precise. But I want to know what it is and how to make most out of `BigDecimal`?","title":"Double vs. BigDecimal?","body":"<p>I have to calculate some floating point variables and my colleague suggest me to use <code>BigDecimal</code> instead of <code>double</code> since it will be more precise. But I want to know what it is and how to make most out of <code>BigDecimal</code>?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":0,"creation_date":1571682437,"post_id":34181094,"comment_id":103314288,"body_markdown":"The two methods presented in the question should be equivalent based on [_Relaxed Binding_](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-relaxed-binding).  Maybe there was a bug in Spring Boot at the time (version not specified).","body":"The two methods presented in the question should be equivalent based on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-relaxed-binding\" rel=\"nofollow noreferrer\"><i>Relaxed Binding</i></a>.  Maybe there was a bug in Spring Boot at the time (version not specified)."},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":1,"creation_date":1582230779,"post_id":34181094,"comment_id":106715985,"body_markdown":"Maybe the OP changed the example value to simplify the problem description and thereby falsified the problem unintentionally. Please be aware that setting log levels via env variables only works for packages but not for classes! See my answer below for details.","body":"Maybe the OP changed the example value to simplify the problem description and thereby falsified the problem unintentionally. Please be aware that setting log levels via env variables only works for packages but not for classes! See my answer below for details."}],"answers":[{"tags":[],"owner":{"account_id":1461177,"reputation":2976,"user_id":1375470,"accept_rate":75,"display_name":"Timekiller"},"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1673025508,"creation_date":1449907551,"answer_id":34237691,"question_id":34181094,"body_markdown":"This is just an idea, but did you try setting this?\r\n\r\n`_JAVA_OPTIONS=-Dlogging.level.org.springframework=TRACE`\r\n\r\nTheoretically, this way `-Dlogging.level.org.springframework=TRACE` will be passed as default JVM argument and should affect every JVM instance in your environment.","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>This is just an idea, but did you try setting this?</p>\n<p><code>_JAVA_OPTIONS=-Dlogging.level.org.springframework=TRACE</code></p>\n<p>Theoretically, this way <code>-Dlogging.level.org.springframework=TRACE</code> will be passed as default JVM argument and should affect every JVM instance in your environment.</p>\n"},{"tags":[],"owner":{"account_id":2912376,"reputation":1279,"user_id":2496309,"accept_rate":56,"display_name":"Michał Urbaniak"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1450216764,"creation_date":1450216324,"answer_id":34300100,"question_id":34181094,"body_markdown":"I would anyway suggest you to use Spring profiles:\r\n\r\n 1. Create 2 properties files:\r\n\r\n    `application-local.properties` and\r\n    `application-remote.properties` \r\n\r\n  (profile names can be different obviously)\r\n\r\n 2. Set the logging level in each file accordingly (`logging.level.org.springframework`)\r\n \r\n\r\n 3. Run your application with `-Dspring.profiles.active=local` locally and `-Dspring.profiles.active=remote` for CF.","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>I would anyway suggest you to use Spring profiles:</p>\n\n<ol>\n<li><p>Create 2 properties files:</p>\n\n<p><code>application-local.properties</code> and\n<code>application-remote.properties</code> </p>\n\n<p>(profile names can be different obviously)</p></li>\n<li><p>Set the logging level in each file accordingly (<code>logging.level.org.springframework</code>)</p></li>\n<li><p>Run your application with <code>-Dspring.profiles.active=local</code> locally and <code>-Dspring.profiles.active=remote</code> for CF.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6290457,"reputation":225,"user_id":4888339,"accept_rate":25,"display_name":"Sparkle8"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1450283750,"creation_date":1450283750,"answer_id":34317326,"question_id":34181094,"body_markdown":"Yes, you can control logging level using environment variable. Here is how I have implemented for my Spring Boot application, deployed on Cloud Foundry platform.\r\n\r\nIn you log configuration file provide placeholder for logging level to read value from environment variable. Default is INFO.\r\n\r\n        &lt;logger name=&quot;com.mycompany.apps.cf&quot; level=&quot;${APP_LOGGING_LEVEL:-INFO}&quot;&gt;\r\n          &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\nAnd then, in CF deployment manifest file provide environment variable.\r\n\r\n&lt;pre&gt;\r\n    applications:\r\n    - name: my-app-name\r\n      memory: 2048\r\n      env:\r\n        &lt;b&gt;APP_LOGGING_LEVEL: DEBUG&lt;/b&gt;\r\n&lt;/pre&gt;\r\n\r\nI hope this will help.","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Yes, you can control logging level using environment variable. Here is how I have implemented for my Spring Boot application, deployed on Cloud Foundry platform.</p>\n\n<p>In you log configuration file provide placeholder for logging level to read value from environment variable. Default is INFO.</p>\n\n<pre><code>    &lt;logger name=\"com.mycompany.apps.cf\" level=\"${APP_LOGGING_LEVEL:-INFO}\"&gt;\n      &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/logger&gt;\n</code></pre>\n\n<p>And then, in CF deployment manifest file provide environment variable.</p>\n\n<pre>\n    applications:\n    - name: my-app-name\n      memory: 2048\n      env:\n        <b>APP_LOGGING_LEVEL: DEBUG</b>\n</pre>\n\n<p>I hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450357573,"creation_date":1450357573,"answer_id":34335351,"question_id":34181094,"body_markdown":"Here&#39;s an example using [Logback](http://logback.qos.ch/manual/index.html) with [Janino](http://logback.qos.ch/setup.html#janino) to conditionally include different logging configs via [properties or environmental variables](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html)... The base config, logback.xml is using conditionals for development console logging or production file logging... just drop the following files in `/resources/`\r\n\r\n---\r\n\r\n&gt;logback.xml\r\n\r\n---\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration scan=&quot;true&quot;&gt;\r\n        &lt;if condition=&#39;property(&quot;spring.profiles.active&quot;).contains(&quot;dev&quot;)&#39;&gt;\r\n            &lt;then&gt;\r\n                &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n                &lt;include resource=&quot;dev.xml&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;/then&gt;\r\n        &lt;/if&gt;\r\n        &lt;if condition=&#39;property(&quot;spring.profiles.active&quot;).contains(&quot;pro&quot;)&#39;&gt;\r\n            &lt;then&gt;\r\n                &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n                &lt;include resource=&quot;pro.xml&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;/then&gt;\r\n        &lt;/if&gt;\r\n    &lt;/configuration&gt;\r\n\r\n---\r\n&gt; dev.xml\r\n\r\n    &lt;included&gt;\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;charset&gt;utf-8&lt;/charset&gt;\r\n                &lt;Pattern&gt;%-30([%p] [%c:%L]) &#187; %m%n%rEx&lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;!-- CHATTY LOGGERS HERE.--&gt;\r\n        &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot;/&gt;\r\n       \r\n        &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n            &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n        &lt;/contextListener&gt;\r\n    \r\n        &lt;root level=&quot;${logback.loglevel}&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/included&gt;\r\n\r\n\r\n---\r\n&gt; pro.xml\r\n\r\n   \t&lt;included&gt;\r\n\t\t&lt;conversionRule conversionWord=&quot;wex&quot;\r\n\t\t\t\t\t\tconverterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot;/&gt;\r\n\t\t&lt;property name=&quot;FILE_LOG_PATTERN&quot;\r\n\t\t\t\t  value=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${PID:- } --- [%t] %-40.40logger{39} : %m%n%wex&quot;/&gt;\r\n\t\t&lt;property name=&quot;FILE_NAME_PATTERN&quot; value=&quot;./logs/%d{yyyy-MM-dd}-exec.log&quot;/&gt;\r\n\r\n\t\t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t\t&lt;fileNamePattern&gt;FILE_NAME_PATTERN&lt;/fileNamePattern&gt;\r\n\t\t\t\t&lt;maxHistory&gt;7&lt;/maxHistory&gt;\r\n\t\t\t&lt;/rollingPolicy&gt;\r\n\t\t\t&lt;encoder&gt;\r\n\t\t\t\t&lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\r\n\t\t&lt;appender name=&quot;ASYNC&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n\t\t\t&lt;queueSize&gt;512&lt;/queueSize&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n\t\t&lt;/appender&gt;\r\n\r\n\t\t&lt;!-- APP SPECIFIC LOGGERS HERE.--&gt;\r\n\t\t&lt;logger name=&quot;org.springframework.boot.SpringApplication&quot; level=&quot;INFO&quot;/&gt;\r\n\r\n\t\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n\t\t&lt;/root&gt;\r\n\r\n\t&lt;/included&gt;","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Here's an example using <a href=\"http://logback.qos.ch/manual/index.html\" rel=\"nofollow\">Logback</a> with <a href=\"http://logback.qos.ch/setup.html#janino\" rel=\"nofollow\">Janino</a> to conditionally include different logging configs via <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow\">properties or environmental variables</a>... The base config, logback.xml is using conditionals for development console logging or production file logging... just drop the following files in <code>/resources/</code></p>\n\n<hr>\n\n<blockquote>\n  <p>logback.xml</p>\n</blockquote>\n\n<hr>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration scan=\"true\"&gt;\n    &lt;if condition='property(\"spring.profiles.active\").contains(\"dev\")'&gt;\n        &lt;then&gt;\n            &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n            &lt;include resource=\"dev.xml\" optional=\"true\"/&gt;\n        &lt;/then&gt;\n    &lt;/if&gt;\n    &lt;if condition='property(\"spring.profiles.active\").contains(\"pro\")'&gt;\n        &lt;then&gt;\n            &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n            &lt;include resource=\"pro.xml\" optional=\"true\"/&gt;\n        &lt;/then&gt;\n    &lt;/if&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>dev.xml</p>\n</blockquote>\n\n<pre><code>&lt;included&gt;\n    &lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;utf-8&lt;/charset&gt;\n            &lt;Pattern&gt;%-30([%p] [%c:%L]) » %m%n%rEx&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- CHATTY LOGGERS HERE.--&gt;\n    &lt;logger name=\"org.springframework\" level=\"DEBUG\"/&gt;\n\n    &lt;contextListener class=\"ch.qos.logback.classic.jul.LevelChangePropagator\"&gt;\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n    &lt;/contextListener&gt;\n\n    &lt;root level=\"${logback.loglevel}\"&gt;\n        &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/root&gt;\n\n&lt;/included&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>pro.xml</p>\n</blockquote>\n\n<pre><code>&lt;included&gt;\n    &lt;conversionRule conversionWord=\"wex\"\n                    converterClass=\"org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter\"/&gt;\n    &lt;property name=\"FILE_LOG_PATTERN\"\n              value=\"%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${PID:- } --- [%t] %-40.40logger{39} : %m%n%wex\"/&gt;\n    &lt;property name=\"FILE_NAME_PATTERN\" value=\"./logs/%d{yyyy-MM-dd}-exec.log\"/&gt;\n\n    &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;FILE_NAME_PATTERN&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;7&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"ASYNC\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;queueSize&gt;512&lt;/queueSize&gt;\n        &lt;appender-ref ref=\"FILE\"/&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- APP SPECIFIC LOGGERS HERE.--&gt;\n    &lt;logger name=\"org.springframework.boot.SpringApplication\" level=\"INFO\"/&gt;\n\n    &lt;root level=\"INFO\"&gt;\n        &lt;appender-ref ref=\"FILE\"/&gt;\n    &lt;/root&gt;\n\n&lt;/included&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455987,"reputation":130,"user_id":2894501,"display_name":"Allan Lang"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453978241,"creation_date":1453978241,"answer_id":35059375,"question_id":34181094,"body_markdown":"Also using Spring Boot (v1.2.3) in Cloud Foundry, I&#39;ve found that it is possible to adjust the root logging level using an environment variable as follows:\r\n\r\n    $ cf set-env &lt;app name&gt; LOGGING_LEVEL_ROOT DEBUG\r\n\r\nUnfortunately, it does not appear to be possible to dial-down the logging level for specific packages (at least with the version of Java Buildpack and Spring Boot I am using). For example adding the following in addition to the above does not reduce the log level for Spring framework:\r\n\r\n    $ cf set-env &lt;app name&gt; LOGGING_LEVEL_ORG_SPRINGFRAMEWORK INFO\r\n\r\nIf you are using something like Splunk to gather your logs, you may be able to filter out the noise, however.\r\n\r\nAnother alternative which looks promising could be based on customisation of the build pack&#39;s arguments option (see [here][1]):\r\n\r\n    $ cf set-env &lt;app name&gt; &#39;{arguments: &quot;-logging.level.root=DEBUG -logging.level.org.springframework=INFO&quot;}&#39;\r\n\r\nSadly, I couldn&#39;t get this to actually work. I certainly agree that being able to reconfigure logging levels at package level without changing the application code would be handy to get working.\r\n\r\n  [1]: https://github.com/cloudfoundry/java-buildpack/blob/master/README.md#configuration-and-extension","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Also using Spring Boot (v1.2.3) in Cloud Foundry, I've found that it is possible to adjust the root logging level using an environment variable as follows:</p>\n\n<pre><code>$ cf set-env &lt;app name&gt; LOGGING_LEVEL_ROOT DEBUG\n</code></pre>\n\n<p>Unfortunately, it does not appear to be possible to dial-down the logging level for specific packages (at least with the version of Java Buildpack and Spring Boot I am using). For example adding the following in addition to the above does not reduce the log level for Spring framework:</p>\n\n<pre><code>$ cf set-env &lt;app name&gt; LOGGING_LEVEL_ORG_SPRINGFRAMEWORK INFO\n</code></pre>\n\n<p>If you are using something like Splunk to gather your logs, you may be able to filter out the noise, however.</p>\n\n<p>Another alternative which looks promising could be based on customisation of the build pack's arguments option (see <a href=\"https://github.com/cloudfoundry/java-buildpack/blob/master/README.md#configuration-and-extension\" rel=\"noreferrer\">here</a>):</p>\n\n<pre><code>$ cf set-env &lt;app name&gt; '{arguments: \"-logging.level.root=DEBUG -logging.level.org.springframework=INFO\"}'\n</code></pre>\n\n<p>Sadly, I couldn't get this to actually work. I certainly agree that being able to reconfigure logging levels at package level without changing the application code would be handy to get working.</p>\n"},{"tags":[],"owner":{"account_id":2363085,"reputation":6406,"user_id":2069368,"accept_rate":60,"display_name":"pepuch"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1503906405,"creation_date":1503906405,"answer_id":45914116,"question_id":34181094,"body_markdown":"I also tried to set logging level via environment variable but as already mentioned it is not possible by using environment variable with upper case name, eg. `LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG`. I also didn&#39;t want to do it via `application.properties` or `_JAVA_OPTIONS`.\r\n\r\nAfter digging into class `org.springframework.boot.logging.LoggingApplicationListener` I&#39;ve checked that spring boot tries to set logging level `DEBUG` to `ORG_SPRINGFRAMEWORK` package which is not real package name. So conclusion is that you can use environment variable to set logging level but it needs to be in the form:\r\n```\r\nLOGGING_LEVEL_org.springframework=DEBUG\r\n```\r\nor\r\n```\r\nlogging.level.org.springframework=DEBUG\r\n```\r\n\r\nTested on spring boot 1.5.3","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>I also tried to set logging level via environment variable but as already mentioned it is not possible by using environment variable with upper case name, eg. <code>LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG</code>. I also didn't want to do it via <code>application.properties</code> or <code>_JAVA_OPTIONS</code>.</p>\n\n<p>After digging into class <code>org.springframework.boot.logging.LoggingApplicationListener</code> I've checked that spring boot tries to set logging level <code>DEBUG</code> to <code>ORG_SPRINGFRAMEWORK</code> package which is not real package name. So conclusion is that you can use environment variable to set logging level but it needs to be in the form:\n<code>\nLOGGING_LEVEL_org.springframework=DEBUG\n</code>\nor\n<code>\nlogging.level.org.springframework=DEBUG\n</code></p>\n\n<p>Tested on spring boot 1.5.3</p>\n"},{"tags":[],"owner":{"account_id":1780786,"reputation":1522,"user_id":1623598,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561064416,"creation_date":1561064416,"answer_id":56693804,"question_id":34181094,"body_markdown":"In spring-boot 2.0.0, adding `--trace` works.\r\nFor instance `java -jar myapp.jar --debug` or `java -jar myapp.jar --trace`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>In spring-boot 2.0.0, adding <code>--trace</code> works.\nFor instance <code>java -jar myapp.jar --debug</code> or <code>java -jar myapp.jar --trace</code></p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-logging-console-output</a></p>\n"},{"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571748139,"creation_date":1562082596,"answer_id":56856097,"question_id":34181094,"body_markdown":"Starting with Spring Boot 2.0.x this works again. Tested with Spring Boot v2.0.9.RELEASE. E.g. enable connection pool debug log:\r\n\r\n    LOGGING_LEVEL_COM_ZAXXER=DEBUG java -jar myApp.jar\r\n\r\nor Spring framework debug log:\r\n\r\n    LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG java -jar myApp.jar\r\n\r\nor both:\r\n\r\n    LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG LOGGING_LEVEL_COM_ZAXXER=DEBUG java -jar myApp.jar\r\n\r\nSee [&quot;Application Poperties&quot; in Spring Boot Reference Documentation][1] for more application properties.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties\r\n","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Starting with Spring Boot 2.0.x this works again. Tested with Spring Boot v2.0.9.RELEASE. E.g. enable connection pool debug log:</p>\n\n<pre><code>LOGGING_LEVEL_COM_ZAXXER=DEBUG java -jar myApp.jar\n</code></pre>\n\n<p>or Spring framework debug log:</p>\n\n<pre><code>LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG java -jar myApp.jar\n</code></pre>\n\n<p>or both:</p>\n\n<pre><code>LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=DEBUG LOGGING_LEVEL_COM_ZAXXER=DEBUG java -jar myApp.jar\n</code></pre>\n\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties\" rel=\"noreferrer\">\"Application Poperties\" in Spring Boot Reference Documentation</a> for more application properties.</p>\n"},{"tags":[],"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1694082278,"creation_date":1566554628,"answer_id":57623996,"question_id":34181094,"body_markdown":"**Setting log levels via environment variables can only be done for Packages but not for Classes**\r\n\r\nI had the same problem as the OP. And I was wondering why some of the users here reported that the proposed solutions worked well while others responded they didn&#39;t.  \r\nI&#39;m on **Spring Boot 2.1** and the problem obviously changed a bit over the last years, but the current situation is as follows:\r\n\r\nTL;DR\r\n---\r\nSetting the log level for a __package works__:\r\n\r\n    LOGGING_LEVEL_COM_ACME_PACKAGE=DEBUG\r\n\r\nWhile setting the log level for a specific __class has no effect__:\r\n\r\n    LOGGING_LEVEL_COM_ACME_PACKAGE_CLASS=DEBUG\r\n\r\nHow can that be?\r\n---\r\nHave a look at Spring Boot&#39;s [LoggingApplicationListener][2].  \r\nIf you&#39;d debug it and set a breakpoint in the highlighted code block, you&#39;d see that the log level definition for a class `com.acme.mypackage.MyClass` becomes\r\n`com.acme.mypackage.myclass`.  \r\nSo __a log level definition for a class looks exactly like a log level definition for a package.__ \r\n\r\nThis is related to Spring&#39;s [Relaxed Binding][3], which proposes an upper case notation for environment variables. Thus the typical camel case notation of a class is not visible for the LoggingApplicationListener: The environment variable for `MyClass` has to be defined as `MYCLASS` and will be available as `myclass` in Spring&#39;s Environment *(this example ignores the fully-qualified name of the class)*.\r\n\r\nOnce the camel case notation of the class is lost, during runtime there&#39;s no chance to recover the original class name.\r\nThus log definitions in environment variables don&#39;t work for classes but only for packages.\r\n\r\nIs there an alternative?\r\n---\r\nYes, you can set the `SPRING_APPLICATION_JSON` environment variable. Its value describes the desired property in JSON style:\r\n\r\n    {&quot;logging&quot;:{&quot;level&quot;:{&quot;com&quot;:{&quot;acme&quot;:{&quot;package&quot;:{&quot;Class&quot;:&quot;DEBUG&quot;}}}}}}\r\n\r\nRead more in [Spring&#39;s docs][1] (search for &quot;*SPRING_APPLICATION_JSON*&quot; there).\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-json\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/abe3d3852761430c9f5f1368d82509d0c19ac4d9/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/logging/LoggingApplicationListener.java#L340-L346\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-relaxed-binding","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p><strong>Setting log levels via environment variables can only be done for Packages but not for Classes</strong></p>\n<p>I had the same problem as the OP. And I was wondering why some of the users here reported that the proposed solutions worked well while others responded they didn't.<br />\nI'm on <strong>Spring Boot 2.1</strong> and the problem obviously changed a bit over the last years, but the current situation is as follows:</p>\n<h2>TL;DR</h2>\n<p>Setting the log level for a <strong>package works</strong>:</p>\n<pre><code>LOGGING_LEVEL_COM_ACME_PACKAGE=DEBUG\n</code></pre>\n<p>While setting the log level for a specific <strong>class has no effect</strong>:</p>\n<pre><code>LOGGING_LEVEL_COM_ACME_PACKAGE_CLASS=DEBUG\n</code></pre>\n<h2>How can that be?</h2>\n<p>Have a look at Spring Boot's <a href=\"https://github.com/spring-projects/spring-boot/blob/abe3d3852761430c9f5f1368d82509d0c19ac4d9/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/context/logging/LoggingApplicationListener.java#L340-L346\" rel=\"nofollow noreferrer\">LoggingApplicationListener</a>.<br />\nIf you'd debug it and set a breakpoint in the highlighted code block, you'd see that the log level definition for a class <code>com.acme.mypackage.MyClass</code> becomes\n<code>com.acme.mypackage.myclass</code>.<br />\nSo <strong>a log level definition for a class looks exactly like a log level definition for a package.</strong></p>\n<p>This is related to Spring's <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config-relaxed-binding\" rel=\"nofollow noreferrer\">Relaxed Binding</a>, which proposes an upper case notation for environment variables. Thus the typical camel case notation of a class is not visible for the LoggingApplicationListener: The environment variable for <code>MyClass</code> has to be defined as <code>MYCLASS</code> and will be available as <code>myclass</code> in Spring's Environment <em>(this example ignores the fully-qualified name of the class)</em>.</p>\n<p>Once the camel case notation of the class is lost, during runtime there's no chance to recover the original class name.\nThus log definitions in environment variables don't work for classes but only for packages.</p>\n<h2>Is there an alternative?</h2>\n<p>Yes, you can set the <code>SPRING_APPLICATION_JSON</code> environment variable. Its value describes the desired property in JSON style:</p>\n<pre><code>{&quot;logging&quot;:{&quot;level&quot;:{&quot;com&quot;:{&quot;acme&quot;:{&quot;package&quot;:{&quot;Class&quot;:&quot;DEBUG&quot;}}}}}}\n</code></pre>\n<p>Read more in <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-json\" rel=\"nofollow noreferrer\">Spring's docs</a> (search for &quot;<em>SPRING_APPLICATION_JSON</em>&quot; there).</p>\n"},{"tags":[],"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672389237,"creation_date":1672389237,"answer_id":74959604,"question_id":34181094,"body_markdown":"Setting the log level via environment variables for a **package** will work, while setting the log level for a single **class** won&#39;t work. This is mentioned in the reference doc for [Spring Boot 2/Log levels][1] and [Spring Boot 2/Log levels][2] .\r\n\r\nThe log level can be set by using the `SPRING_APPLICATION_JSON` environment variable, eg.\r\n\r\n`SPRING_APPLICATION_JSON=&#39;{&quot;logging.level.org.hibernate.SQL&quot;:&quot;DEBUG&quot;,&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;:&quot;TRACE&quot;}&#39;`\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/features.html#features.logging.log-levels\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/features.html#features.logging.log-levels","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Setting the log level via environment variables for a <strong>package</strong> will work, while setting the log level for a single <strong>class</strong> won't work. This is mentioned in the reference doc for <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/features.html#features.logging.log-levels\" rel=\"nofollow noreferrer\">Spring Boot 2/Log levels</a> and <a href=\"https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/features.html#features.logging.log-levels\" rel=\"nofollow noreferrer\">Spring Boot 2/Log levels</a> .</p>\n<p>The log level can be set by using the <code>SPRING_APPLICATION_JSON</code> environment variable, eg.</p>\n<p><code>SPRING_APPLICATION_JSON='{&quot;logging.level.org.hibernate.SQL&quot;:&quot;DEBUG&quot;,&quot;logging.level.org.hibernate.type.descriptor.sql.BasicBinder&quot;:&quot;TRACE&quot;}'</code></p>\n"}],"owner":{"account_id":405481,"reputation":12981,"user_id":774395,"accept_rate":70,"display_name":"DeejUK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139827,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":34237691,"answer_count":10,"score":92,"last_activity_date":1694082278,"creation_date":1449670785,"question_id":34181094,"body_markdown":"Should it be possible to set logging levels through environment variables alone in a Spring Boot application?\r\n\r\nI don&#39;t want to use `application.properties` as I&#39;m running on Cloud Foundry and want to pick up changes without a deploy (but after the app has restarted, or restaged to be more precise).\r\n\r\nI&#39;ve tried setting env vars like `LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=TRACE` but that has no effect. Putting `logging.level.org.springframework: TRACE` in `application.properties` does work though.","title":"Set Logging Level in Spring Boot via Environment Variable","body":"<p>Should it be possible to set logging levels through environment variables alone in a Spring Boot application?</p>\n\n<p>I don't want to use <code>application.properties</code> as I'm running on Cloud Foundry and want to pick up changes without a deploy (but after the app has restarted, or restaged to be more precise).</p>\n\n<p>I've tried setting env vars like <code>LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=TRACE</code> but that has no effect. Putting <code>logging.level.org.springframework: TRACE</code> in <code>application.properties</code> does work though.</p>\n"},{"tags":["java","windows","keystore","mscapi"],"owner":{"account_id":22838100,"reputation":11,"user_id":16985582,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694082079,"creation_date":1694082079,"question_id":77058716,"body_markdown":"We are reading the public key from the Windows Store to use it for signature validation of a JWT token. My application is hosted on Tomcat Server. I am able to read the certificates from the Windows Store when tomcat is run in debug mode (started from commandline). But when the tomcat is run as a local service, it returns an empty list. \r\nBelow is the code that is used to read the certs.\r\n```\r\nKeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\r\nkeystore.load(null, null);\r\nCertificate certificate = keystore.getCertificate(alias);\r\nX509Certificate cert = (X509Certificate) certificate;\r\n```\r\nBelow is the image of the Windows store having 2 entries.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYyH0.png\r\n\r\nCould anyone please help identify the mistake. Thanks in advance! ","title":"Unable to get certs from Windows Store","body":"<p>We are reading the public key from the Windows Store to use it for signature validation of a JWT token. My application is hosted on Tomcat Server. I am able to read the certificates from the Windows Store when tomcat is run in debug mode (started from commandline). But when the tomcat is run as a local service, it returns an empty list.\nBelow is the code that is used to read the certs.</p>\n<pre><code>KeyStore keystore = KeyStore.getInstance(&quot;Windows-MY&quot;);\nkeystore.load(null, null);\nCertificate certificate = keystore.getCertificate(alias);\nX509Certificate cert = (X509Certificate) certificate;\n</code></pre>\n<p>Below is the image of the Windows store having 2 entries.\n<a href=\"https://i.stack.imgur.com/yYyH0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYyH0.png\" alt=\"enter image description here\" /></a></p>\n<p>Could anyone please help identify the mistake. Thanks in advance!</p>\n"},{"tags":["java","swing","jcombobox","jcheckbox"],"comments":[{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1296976421,"post_id":4912123,"comment_id":5470724,"body_markdown":"use `CellRenderer` to do this.","body":"use <code>CellRenderer</code> to do this."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1296976523,"post_id":4912123,"comment_id":5470738,"body_markdown":"What do you mean by adding a JCheckBox to a JComboBox? What is it that you want to achieve?","body":"What do you mean by adding a JCheckBox to a JComboBox? What is it that you want to achieve?"},{"owner":{"account_id":704854,"reputation":23,"user_id":605089,"display_name":"ravI Teja"},"score":0,"creation_date":1296977492,"post_id":4912123,"comment_id":5470816,"body_markdown":"I have a JComboBox i.e, list of items from that i need to select some items from that JComboBox list..","body":"I have a JComboBox i.e, list of items from that i need to select some items from that JComboBox list.."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1296976486,"creation_date":1296976486,"answer_id":4912135,"question_id":4912123,"body_markdown":"There are ways to jimmy JCheckBoxes into a JComboBoxes, but it&#39;s not nearly as straightforward as using them in a JTable since JComboBoxes don&#39;t use cell editors, only renderers.  Let&#39;s see if I can re-find this on Google....\r\n\r\nPlease check here: [JComboCheckBox][1]   \r\nand here: [Check Boxes in a Combobox][2]\r\n\r\n\r\n  [1]: http://www.aui.computing.edu.au/projects/Outcomes_Focused_Education/resources/graph/JComboCheckBox.java\r\n  [2]: https://stackoverflow.com/questions/1573159/java-check-boxes-in-a-jcombobox","title":"Can JCheckBox components be added to JComboBoxes?","body":"<p>There are ways to jimmy JCheckBoxes into a JComboBoxes, but it's not nearly as straightforward as using them in a JTable since JComboBoxes don't use cell editors, only renderers.  Let's see if I can re-find this on Google....</p>\n\n<p>Please check here: <a href=\"http://www.aui.computing.edu.au/projects/Outcomes_Focused_Education/resources/graph/JComboCheckBox.java\" rel=\"nofollow noreferrer\">JComboCheckBox</a><br>\nand here: <a href=\"https://stackoverflow.com/questions/1573159/java-check-boxes-in-a-jcombobox\">Check Boxes in a Combobox</a></p>\n"},{"tags":[],"owner":{"account_id":206144,"reputation":14410,"user_id":455257,"accept_rate":56,"display_name":"ayush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296976643,"creation_date":1296976643,"answer_id":4912141,"question_id":4912123,"body_markdown":"    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n     \r\n    public class CheckCombo implements ActionListener\r\n    {\r\n        public void actionPerformed(ActionEvent e)\r\n        {\r\n            JComboBox cb = (JComboBox)e.getSource();\r\n            CheckComboStore store = (CheckComboStore)cb.getSelectedItem();\r\n            CheckComboRenderer ccr = (CheckComboRenderer)cb.getRenderer();\r\n            ccr.checkBox.setSelected((store.state = !store.state));\r\n        }\r\n     \r\n        private JPanel getContent()\r\n        {\r\n            String[] ids = { &quot;north&quot;, &quot;west&quot;, &quot;south&quot;, &quot;east&quot; };\r\n            Boolean[] values =\r\n            {\r\n                Boolean.TRUE, Boolean.FALSE, Boolean.FALSE, Boolean.FALSE\r\n            };\r\n            CheckComboStore[] stores = new CheckComboStore[ids.length];\r\n            for(int j = 0; j &lt; ids.length; j++)\r\n                stores[j] = new CheckComboStore(ids[j], values[j]);\r\n            JComboBox combo = new JComboBox(stores);\r\n            combo.setRenderer(new CheckComboRenderer());\r\n            combo.addActionListener(this);\r\n            JPanel panel = new JPanel();\r\n            panel.add(combo);\r\n            return panel;\r\n        }\r\n     \r\n        public static void main(String[] args)\r\n        {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.getContentPane().add(new CheckCombo().getContent());\r\n            f.setSize(300,160);\r\n            f.setLocation(200,200);\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n     \r\n    /** adapted from comment section of ListCellRenderer api */\r\n    class CheckComboRenderer implements ListCellRenderer\r\n    {\r\n        JCheckBox checkBox;\r\n     \r\n        public CheckComboRenderer()\r\n        {\r\n            checkBox = new JCheckBox();\r\n        }\r\n        public Component getListCellRendererComponent(JList list,\r\n                                                      Object value,\r\n                                                      int index,\r\n                                                      boolean isSelected,\r\n                                                      boolean cellHasFocus)\r\n        {\r\n            CheckComboStore store = (CheckComboStore)value;\r\n            checkBox.setText(store.id);\r\n            checkBox.setSelected(((Boolean)store.state).booleanValue());\r\n            checkBox.setBackground(isSelected ? Color.red : Color.white);\r\n            checkBox.setForeground(isSelected ? Color.white : Color.black);\r\n            return checkBox;\r\n        }\r\n    }\r\n     \r\n    class CheckComboStore\r\n    {\r\n        String id;\r\n        Boolean state;\r\n     \r\n        public CheckComboStore(String id, Boolean state)\r\n        {\r\n            this.id = id;\r\n            this.state = state;\r\n        }\r\n    }\r\n\r\n","title":"Can JCheckBox components be added to JComboBoxes?","body":"<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class CheckCombo implements ActionListener\n{\n    public void actionPerformed(ActionEvent e)\n    {\n        JComboBox cb = (JComboBox)e.getSource();\n        CheckComboStore store = (CheckComboStore)cb.getSelectedItem();\n        CheckComboRenderer ccr = (CheckComboRenderer)cb.getRenderer();\n        ccr.checkBox.setSelected((store.state = !store.state));\n    }\n\n    private JPanel getContent()\n    {\n        String[] ids = { \"north\", \"west\", \"south\", \"east\" };\n        Boolean[] values =\n        {\n            Boolean.TRUE, Boolean.FALSE, Boolean.FALSE, Boolean.FALSE\n        };\n        CheckComboStore[] stores = new CheckComboStore[ids.length];\n        for(int j = 0; j &lt; ids.length; j++)\n            stores[j] = new CheckComboStore(ids[j], values[j]);\n        JComboBox combo = new JComboBox(stores);\n        combo.setRenderer(new CheckComboRenderer());\n        combo.addActionListener(this);\n        JPanel panel = new JPanel();\n        panel.add(combo);\n        return panel;\n    }\n\n    public static void main(String[] args)\n    {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.getContentPane().add(new CheckCombo().getContent());\n        f.setSize(300,160);\n        f.setLocation(200,200);\n        f.setVisible(true);\n    }\n}\n\n/** adapted from comment section of ListCellRenderer api */\nclass CheckComboRenderer implements ListCellRenderer\n{\n    JCheckBox checkBox;\n\n    public CheckComboRenderer()\n    {\n        checkBox = new JCheckBox();\n    }\n    public Component getListCellRendererComponent(JList list,\n                                                  Object value,\n                                                  int index,\n                                                  boolean isSelected,\n                                                  boolean cellHasFocus)\n    {\n        CheckComboStore store = (CheckComboStore)value;\n        checkBox.setText(store.id);\n        checkBox.setSelected(((Boolean)store.state).booleanValue());\n        checkBox.setBackground(isSelected ? Color.red : Color.white);\n        checkBox.setForeground(isSelected ? Color.white : Color.black);\n        return checkBox;\n    }\n}\n\nclass CheckComboStore\n{\n    String id;\n    Boolean state;\n\n    public CheckComboStore(String id, Boolean state)\n    {\n        this.id = id;\n        this.state = state;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26457824,"reputation":1,"user_id":20100183,"display_name":"Navajeevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694082048,"creation_date":1694082048,"answer_id":77058713,"question_id":4912123,"body_markdown":"You can achieve this by using the [Japura-GUI][1] library, which provides a CheckComboBox component for creating JComboBoxes with checkboxes.\r\nYou can find detailed documentation and usage examples for the Japura-GUI CheckComboBox [here][2]\r\n\r\nSimply follow the documentation to integrate the CheckComboBox into your Java Swing application.\r\n\r\n\r\n  [1]: https://github.com/caduandrade/japura-gui/wiki\r\n  [2]: https://github.com/caduandrade/japura-gui/wiki/CheckComboBox","title":"Can JCheckBox components be added to JComboBoxes?","body":"<p>You can achieve this by using the <a href=\"https://github.com/caduandrade/japura-gui/wiki\" rel=\"nofollow noreferrer\">Japura-GUI</a> library, which provides a CheckComboBox component for creating JComboBoxes with checkboxes.\nYou can find detailed documentation and usage examples for the Japura-GUI CheckComboBox <a href=\"https://github.com/caduandrade/japura-gui/wiki/CheckComboBox\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Simply follow the documentation to integrate the CheckComboBox into your Java Swing application.</p>\n"}],"owner":{"account_id":704854,"reputation":23,"user_id":605089,"display_name":"ravI Teja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4912135,"answer_count":3,"score":2,"last_activity_date":1694082048,"creation_date":1296976220,"question_id":4912123,"body_markdown":"Can JCheckBox components be added to JComboBoxes?  If so, how?","title":"Can JCheckBox components be added to JComboBoxes?","body":"<p>Can JCheckBox components be added to JComboBoxes?  If so, how?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694085293,"post_id":77058704,"comment_id":135846222,"body_markdown":"What happens if you replace `getFoos()` with two separate methods that each return a single `Foo`?","body":"What happens if you replace <code>getFoos()</code> with two separate methods that each return a single <code>Foo</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694088840,"post_id":77058704,"comment_id":135847001,"body_markdown":"Your expectations are off. When injecting a `Collection&lt;Foo&gt;` Spring will inject a collection with all instances of beans of type `Foo`. For which you only have 1 bean, the other method generates a bean of type `Set&lt;Foo&gt;` and thus not compatible. If you want all beans just make them all beans instaef of a single bean and a collection of beans.","body":"Your expectations are off. When injecting a <code>Collection&lt;Foo&gt;</code> Spring will inject a collection with all instances of beans of type <code>Foo</code>. For which you only have 1 bean, the other method generates a bean of type <code>Set&lt;Foo&gt;</code> and thus not compatible. If you want all beans just make them all beans instaef of a single bean and a collection of beans."}],"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694081991,"creation_date":1694081991,"question_id":77058704,"body_markdown":"I have an `@Autowired` set of the `Foo` interface and a bean that returns a set of the same class and it works perfectly. Now I have added a new component that returns an object with that implements the same interface. I naively expected the autowired to pull from both sources and combine them. But what happened is that it is creating a set with only the component.\r\n\r\nBar class that has the autowired.\r\n```\r\npublic class Bar(){\r\n    public void do(){\r\n        foos.apply();\r\n    }\r\n\r\n    @Autowired\r\n    private Collection&lt;Foo&gt; foos;\r\n}\r\n```\r\n\r\nConfig class that returns a set of `Foo`\r\n```\r\n@Configuration\r\npublic class Config(){\r\n\r\n    @Bean\r\n    public Set&lt;Foo&gt; getFoos(){\r\n        Set.of(\r\n           FooImpl1(&quot;a&quot;),\r\n           FooImpl1(&quot;b&quot;)\r\n        )\r\n    }\r\n    }\r\n\r\n    @Autowired\r\n    private Collection&lt;Foo&gt; foos;\r\n}\r\n```\r\n\r\nThe above works, but when I add the following\r\n```\r\n@Component\r\npublic class FooImpl2 implements Foo(){\r\n    public void apply(){\r\n        foos.apply();\r\n    }\r\n}\r\n```\r\nThe `foos` property only has 1 element and is of type `FooImpl2`.\r\n\r\nIt&#39;s there a way to make Spring understand that I want both sources of `Foo`s with `@Autowired` or do I need to change the design of the code?","title":"Autowire a collection with different sources","body":"<p>I have an <code>@Autowired</code> set of the <code>Foo</code> interface and a bean that returns a set of the same class and it works perfectly. Now I have added a new component that returns an object with that implements the same interface. I naively expected the autowired to pull from both sources and combine them. But what happened is that it is creating a set with only the component.</p>\n<p>Bar class that has the autowired.</p>\n<pre><code>public class Bar(){\n    public void do(){\n        foos.apply();\n    }\n\n    @Autowired\n    private Collection&lt;Foo&gt; foos;\n}\n</code></pre>\n<p>Config class that returns a set of <code>Foo</code></p>\n<pre><code>@Configuration\npublic class Config(){\n\n    @Bean\n    public Set&lt;Foo&gt; getFoos(){\n        Set.of(\n           FooImpl1(&quot;a&quot;),\n           FooImpl1(&quot;b&quot;)\n        )\n    }\n    }\n\n    @Autowired\n    private Collection&lt;Foo&gt; foos;\n}\n</code></pre>\n<p>The above works, but when I add the following</p>\n<pre><code>@Component\npublic class FooImpl2 implements Foo(){\n    public void apply(){\n        foos.apply();\n    }\n}\n</code></pre>\n<p>The <code>foos</code> property only has 1 element and is of type <code>FooImpl2</code>.</p>\n<p>It's there a way to make Spring understand that I want both sources of <code>Foo</code>s with <code>@Autowired</code> or do I need to change the design of the code?</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"score":1,"creation_date":1340177022,"post_id":11114665,"comment_id":14560885,"body_markdown":"1. How is the `InputSource` built? 2. How big is the `XML`? 3. Does the `XML` come from a local file, from URL, Database, some other streaming source - perhaps the socket gets disconnected, or the `InputStream` gets closed in the middle of parsing?","body":"1. How is the <code>InputSource</code> built? 2. How big is the <code>XML</code>? 3. Does the <code>XML</code> come from a local file, from URL, Database, some other streaming source - perhaps the socket gets disconnected, or the <code>InputStream</code> gets closed in the middle of parsing?"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1340177123,"post_id":11114665,"comment_id":14560918,"body_markdown":"Are you sure that when the server crashed it did not add some special characters? You could try to throw in the XML from one of your working servers and see if it works.","body":"Are you sure that when the server crashed it did not add some special characters? You could try to throw in the XML from one of your working servers and see if it works."},{"owner":{"account_id":119801,"reputation":1754,"user_id":311786,"accept_rate":55,"display_name":"Manish"},"score":0,"creation_date":1340178260,"post_id":11114665,"comment_id":14561324,"body_markdown":"@npe - \n\n(1) The `InputSource` is built with `FileReader` - \n`this.readSource( new InputSource( fr ) );`\n\n(2) XML is 108.1 KB in size. It has been that way for a long time now. \n\n(3) XML comes from local file system. \n\nI am also suspecting if `InputStream` is getting closed in between. How can I detect that? And again, wondering why it worked before and not now :(\n\n@npinti - I have used fresh XML from SVN and also tried same version in XML validator. It *is* valid XML.","body":"@npe -   (1) The <code>InputSource</code> is built with <code>FileReader</code> -  <code>this.readSource( new InputSource( fr ) );</code>  (2) XML is 108.1 KB in size. It has been that way for a long time now.   (3) XML comes from local file system.   I am also suspecting if <code>InputStream</code> is getting closed in between. How can I detect that? And again, wondering why it worked before and not now :(  @npinti - I have used fresh XML from SVN and also tried same version in XML validator. It <i>is</i> valid XML."},{"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"score":0,"creation_date":1340178645,"post_id":11114665,"comment_id":14561464,"body_markdown":"@Manish: try to set a breakpoint inside the `FileReader#close()` and see if it&#39;s somehow called. Or subclass `FileReader` and add some logging - you could for example dump bytes that are `read()` to see if the file is read completely, or it breaks somewhere.","body":"@Manish: try to set a breakpoint inside the <code>FileReader#close()</code> and see if it&#39;s somehow called. Or subclass <code>FileReader</code> and add some logging - you could for example dump bytes that are <code>read()</code> to see if the file is read completely, or it breaks somewhere."},{"owner":{"account_id":1418971,"reputation":15473,"user_id":1344008,"display_name":"npe"},"score":0,"creation_date":1340178893,"post_id":11114665,"comment_id":14561555,"body_markdown":"@Manish: another question: is the `InputSource` reused, or always created from scratch?","body":"@Manish: another question: is the <code>InputSource</code> reused, or always created from scratch?"},{"owner":{"account_id":119801,"reputation":1754,"user_id":311786,"accept_rate":55,"display_name":"Manish"},"score":0,"creation_date":1340179482,"post_id":11114665,"comment_id":14561788,"body_markdown":"@npe - `InputSource` is always created from scratch.","body":"@npe - <code>InputSource</code> is always created from scratch."}],"answers":[{"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353444883,"creation_date":1353444883,"answer_id":13481962,"question_id":11114665,"body_markdown":"Are you sure that the XML file is in the correct character encoding? `FileReader` always uses the platform default encoding, so if the &quot;working&quot; server had a default encoding of (say) ISO-8859-1 and the &quot;problem&quot; server uses UTF-8 you would see this error if the XML contains any non-ASCII characters.\r\n\r\nDoes it work if you create the InputSource from a FileInputStream instead of a FileReader?","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>Are you sure that the XML file is in the correct character encoding? <code>FileReader</code> always uses the platform default encoding, so if the \"working\" server had a default encoding of (say) ISO-8859-1 and the \"problem\" server uses UTF-8 you would see this error if the XML contains any non-ASCII characters.</p>\n\n<p>Does it work if you create the InputSource from a FileInputStream instead of a FileReader?</p>\n"},{"tags":[],"owner":{"account_id":2120402,"reputation":769,"user_id":1883770,"display_name":"dadob051"},"down_vote_count":1,"up_vote_count":77,"is_accepted":false,"score":76,"last_activity_date":1392028679,"creation_date":1354829358,"answer_id":13752953,"question_id":11114665,"body_markdown":"It is a problem with Java InputStream. When the stream is read once the file offset position counter is moved to the end of file. On the subsequent read by using the same stream you&#39;ll get this error. So you have to close and reopen the stream again or call `inputStream.reset()` to reset the offset counter to its initial position.","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>It is a problem with Java InputStream. When the stream is read once the file offset position counter is moved to the end of file. On the subsequent read by using the same stream you'll get this error. So you have to close and reopen the stream again or call <code>inputStream.reset()</code> to reset the offset counter to its initial position.</p>\n"},{"tags":[],"owner":{"account_id":119801,"reputation":1754,"user_id":311786,"accept_rate":55,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1360577851,"creation_date":1360577851,"answer_id":14810069,"question_id":11114665,"body_markdown":"This is resolved. The problem was elsewhere. Another code in cron job was truncating XML to 0 length file. I have taken care of that. \r\n\r\n ","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>This is resolved. The problem was elsewhere. Another code in cron job was truncating XML to 0 length file. I have taken care of that. </p>\n"},{"tags":[],"owner":{"account_id":531467,"reputation":1290,"user_id":1285846,"accept_rate":71,"display_name":"Danny Schoemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414327892,"creation_date":1414327892,"answer_id":26573153,"question_id":11114665,"body_markdown":"In our case it was an empty **AndroidManifest.xml**.\r\n\r\nWhile upgrading Eclispe we ran into the [usual trouble][1], and AndroidManifest.xml must have been checked into SVN by the build script after being clobbered.\r\n\r\nFound it by compiling from inside Eclipse, instead of from the command line.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>In our case it was an empty <strong>AndroidManifest.xml</strong>.</p>\n\n<p>While upgrading Eclispe we ran into the <a href=\"https://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23\">usual trouble</a>, and AndroidManifest.xml must have been checked into SVN by the build script after being clobbered.</p>\n\n<p>Found it by compiling from inside Eclipse, instead of from the command line.</p>\n"},{"tags":[],"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439332213,"creation_date":1439332213,"answer_id":31953108,"question_id":11114665,"body_markdown":"If input stream is not closed properly then this exception may happen.\r\nmake sure :\r\nIf inputstream  used is not used &quot;Before&quot; in some way then where you are intended to read.\r\ni.e if read 2nd time from same input stream in single operation then 2nd call will get this exception.\r\nAlso make sure to close input stream in finally block or something like that.","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>If input stream is not closed properly then this exception may happen.\nmake sure :\nIf inputstream  used is not used \"Before\" in some way then where you are intended to read.\ni.e if read 2nd time from same input stream in single operation then 2nd call will get this exception.\nAlso make sure to close input stream in finally block or something like that.</p>\n"},{"tags":[],"owner":{"account_id":8429272,"reputation":51,"user_id":6325574,"display_name":"Amit Ty"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1465645974,"creation_date":1465642195,"answer_id":37762838,"question_id":11114665,"body_markdown":"Please make sure that you are not consuming your `inputstream` anywhere before parsing. Sample code is following:\r\nthe respose below is `httpresponse`(i.e. response) and main content is contain inside `StringEntity (i.e. getEntity())in form of inputStream(i.e. getContent())`. \r\n\r\n    InputStream rescontent = response.getEntity().getContent();\r\n    tsResponse=(TsResponse) transformer.convertFromXMLToObject(rescontent );","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>Please make sure that you are not consuming your <code>inputstream</code> anywhere before parsing. Sample code is following:\nthe respose below is <code>httpresponse</code>(i.e. response) and main content is contain inside <code>StringEntity (i.e. getEntity())in form of inputStream(i.e. getContent())</code>. </p>\n\n<pre><code>InputStream rescontent = response.getEntity().getContent();\ntsResponse=(TsResponse) transformer.convertFromXMLToObject(rescontent );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881180,"reputation":14633,"user_id":246394,"accept_rate":93,"display_name":"Zo72"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1476437749,"creation_date":1476437749,"answer_id":40039847,"question_id":11114665,"body_markdown":"This exception only happens if you are parsing an empty String/empty byte array.\r\n\r\nbelow is a snippet on how to reproduce it:\r\n\r\n    String xml = &quot;&quot;; // &lt;-- deliberately an empty string.\r\n    ByteArrayInputStream xmlStream = new java.io.ByteArrayInputStream(xml.getBytes());\r\n    Unmarshaller u = JAXBContext.newInstance(...)\r\n    u.setSchema(...);\r\n    u.unmarshal( xmlStream ); // &lt;-- here it will fail\r\n\r\n","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>This exception only happens if you are parsing an empty String/empty byte array.</p>\n\n<p>below is a snippet on how to reproduce it:</p>\n\n<pre><code>String xml = \"\"; // &lt;-- deliberately an empty string.\nByteArrayInputStream xmlStream = new java.io.ByteArrayInputStream(xml.getBytes());\nUnmarshaller u = JAXBContext.newInstance(...)\nu.setSchema(...);\nu.unmarshal( xmlStream ); // &lt;-- here it will fail\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4673460,"reputation":2327,"user_id":3784642,"accept_rate":0,"display_name":"Bernard Hauzeur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638811738,"creation_date":1638811738,"answer_id":70249463,"question_id":11114665,"body_markdown":"NEW Occurence of this same error on DECEMBER 6 2021!!!\r\n\r\nSample traces:\r\n\r\n    XmlBeanDefinitionStoreException: Line -1 in XML document from ServletContext resource [&lt;here a reference to spring context .xml file&gt;] is invalid; nested exception is org.xml.sax.SAXParseException; Premature end of file.\r\n    Caused by: org.xml.sax.SAXParseException; Premature end of file.\r\n    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:201)\r\n    at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:175)\r\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:398)\r\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\r\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:282)\r\n    at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:204)\r\n    at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(SchemaParsingConfig.java:576)\r\n    at org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(SchemaParsingConfig.java:679)\r\n    at org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(SchemaDOMParser.java:527)\r\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2148)\r\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\r\n\r\n**The HINT:**\r\n\r\n1. Apache CAMEL team decided to reorganize CAMEL schema files as usually referenced in XML Spring contexts for instance.\r\nInstead of just removing (which would have entailed a neat exception, easy to spot) the http://camel.apache.org/schema/spring/camel-spring-2.16.4.xsd usual schema location, they implemented a HTTP 301 redirect response to HTTPS.\r\n\r\n2. The Apache XERCES library does not throw an error in case of HTTP 301, but assumes it has received an empty file!! That entails weird and erroneous exceptions / putting you on the wrong track as these report the failure linked to the top XML file and not the actually offending schema descriptor\r\n\r\n3. the complete revalidation of all schema descriptors and their XSD dependencies at WAR reload/deploy time (from the data/content repo cache) in our app server platform was totally unexpected... and is totally useless! worse: creating a runtime public network dependency for just reloading already validated components and descriptors (at build time)\r\n\r\n1+2+3 above, and BANG! \r\nmajor service disruption: the production server was unable to reload any component with a dependency on CAMEL \r\n\r\n**Fixings:**\r\n\r\nTwo candidates:\r\n \r\na) in xsi:schemaLocation attributes in XML simply add &#39;s&#39; to the http://camel.apache.org/schema/etc becoming https://.... but accept to live with a public network dependency on every component reload\r\n\r\nb) replace all http://... shema locations by classpath:&lt;local file name.xsd&gt;. You will have downloaded all XSD and sub-dependent schemas, and deploy them along with the WAR ensuring a visibility to the classloader. E.g. put the files in java/main/resources/somename.xsd and supply classpath:somename.xsd as schema location path\r\n\r\n","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>NEW Occurence of this same error on DECEMBER 6 2021!!!</p>\n<p>Sample traces:</p>\n<pre><code>XmlBeanDefinitionStoreException: Line -1 in XML document from ServletContext resource [&lt;here a reference to spring context .xml file&gt;] is invalid; nested exception is org.xml.sax.SAXParseException; Premature end of file.\nCaused by: org.xml.sax.SAXParseException; Premature end of file.\nat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:201)\nat org.apache.xerces.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:175)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:398)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:325)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:282)\nat org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:204)\nat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(SchemaParsingConfig.java:576)\nat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(SchemaParsingConfig.java:679)\nat org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(SchemaDOMParser.java:527)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2148)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\n</code></pre>\n<p><strong>The HINT:</strong></p>\n<ol>\n<li><p>Apache CAMEL team decided to reorganize CAMEL schema files as usually referenced in XML Spring contexts for instance.\nInstead of just removing (which would have entailed a neat exception, easy to spot) the <a href=\"http://camel.apache.org/schema/spring/camel-spring-2.16.4.xsd\" rel=\"nofollow noreferrer\">http://camel.apache.org/schema/spring/camel-spring-2.16.4.xsd</a> usual schema location, they implemented a HTTP 301 redirect response to HTTPS.</p>\n</li>\n<li><p>The Apache XERCES library does not throw an error in case of HTTP 301, but assumes it has received an empty file!! That entails weird and erroneous exceptions / putting you on the wrong track as these report the failure linked to the top XML file and not the actually offending schema descriptor</p>\n</li>\n<li><p>the complete revalidation of all schema descriptors and their XSD dependencies at WAR reload/deploy time (from the data/content repo cache) in our app server platform was totally unexpected... and is totally useless! worse: creating a runtime public network dependency for just reloading already validated components and descriptors (at build time)</p>\n</li>\n</ol>\n<p>1+2+3 above, and BANG!\nmajor service disruption: the production server was unable to reload any component with a dependency on CAMEL</p>\n<p><strong>Fixings:</strong></p>\n<p>Two candidates:</p>\n<p>a) in xsi:schemaLocation attributes in XML simply add 's' to the <a href=\"http://camel.apache.org/schema/etc\" rel=\"nofollow noreferrer\">http://camel.apache.org/schema/etc</a> becoming https://.... but accept to live with a public network dependency on every component reload</p>\n<p>b) replace all http://... shema locations by classpath:. You will have downloaded all XSD and sub-dependent schemas, and deploy them along with the WAR ensuring a visibility to the classloader. E.g. put the files in java/main/resources/somename.xsd and supply classpath:somename.xsd as schema location path</p>\n"},{"tags":[],"owner":{"account_id":10541758,"reputation":611,"user_id":7767532,"display_name":"Samir Ghoneim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694081956,"creation_date":1694081956,"answer_id":77058699,"question_id":11114665,"body_markdown":"This happened to me\r\nThe problem is that there is an empty .xml file in class path which Camel scans it. So removing it solved the problem","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>This happened to me\nThe problem is that there is an empty .xml file in class path which Camel scans it. So removing it solved the problem</p>\n"}],"owner":{"account_id":119801,"reputation":1754,"user_id":311786,"accept_rate":55,"display_name":"Manish"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267905,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":14810069,"answer_count":9,"score":62,"last_activity_date":1694081956,"creation_date":1340176832,"question_id":11114665,"body_markdown":"I am getting very strange &quot;Premature end of file.&quot; exception for last few days on one of our servers. The *same* configuration XML works fine on another server. We are using Tomcat 5.0.28 on both these servers. This code has been working for ages (7+ years), only after recent server crash, we faced this problem on one of the servers. There is no change in XML as well as Java parsing code. :(\r\n\r\nThe only difference I can see is in Java versions - \r\n\r\n**Problem Server**\r\njava version &quot;1.6.0_16&quot;\r\nJava(TM) SE Runtime Environment (build 1.6.0_16-b01)\r\nJava HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode)\r\n\r\n**Working Server**\r\njava version &quot;1.6.0_07&quot;\r\nJava(TM) SE Runtime Environment (build 1.6.0_07-b06)\r\nJava HotSpot(TM) 64-Bit Server VM (build 10.0-b23, mixed mode)\r\n\r\nHere is the Java code that has been working for several years -\r\n\r\n    private void readSource(final InputSource in ) {\r\n    \ttry {\r\n    \t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \t\tDocument doc = db.parse(in);\r\n    \t\tElement elt = doc.getDocumentElement();\r\n    \t\r\n    \t\tthis.readElement( elt );\r\n    \t} catch ( Exception ex ) {\r\n    \t\tex.printStackTrace();\r\n    \t\tthrow new ConfigurationException( &quot;Unable to parse configuration information&quot;, ex );\r\n    \t}\r\n    }\r\n\r\nAnd here is the exception. \r\n\r\n    [Fatal Error] :-1:-1: Premature end of file.\r\n    org.xml.sax.SAXParseException: Premature end of file.\r\n            at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n            at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n            at com.circus.core.Configuration.readSource(Configuration.java:706)\r\n\r\nI have already tried validating XML and found no errors there. Any idea where else can I look for possible problem? \r\n\r\nAny pointers would be highly appreciated!\r\n\r\nTIA,\r\n- Manish","title":"org.xml.sax.SAXParseException: Premature end of file for *VALID* XML","body":"<p>I am getting very strange \"Premature end of file.\" exception for last few days on one of our servers. The <em>same</em> configuration XML works fine on another server. We are using Tomcat 5.0.28 on both these servers. This code has been working for ages (7+ years), only after recent server crash, we faced this problem on one of the servers. There is no change in XML as well as Java parsing code. :(</p>\n\n<p>The only difference I can see is in Java versions - </p>\n\n<p><strong>Problem Server</strong>\njava version \"1.6.0_16\"\nJava(TM) SE Runtime Environment (build 1.6.0_16-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 14.2-b01, mixed mode)</p>\n\n<p><strong>Working Server</strong>\njava version \"1.6.0_07\"\nJava(TM) SE Runtime Environment (build 1.6.0_07-b06)\nJava HotSpot(TM) 64-Bit Server VM (build 10.0-b23, mixed mode)</p>\n\n<p>Here is the Java code that has been working for several years -</p>\n\n<pre><code>private void readSource(final InputSource in ) {\n    try {\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        DocumentBuilder db = dbf.newDocumentBuilder();\n        Document doc = db.parse(in);\n        Element elt = doc.getDocumentElement();\n\n        this.readElement( elt );\n    } catch ( Exception ex ) {\n        ex.printStackTrace();\n        throw new ConfigurationException( \"Unable to parse configuration information\", ex );\n    }\n}\n</code></pre>\n\n<p>And here is the exception. </p>\n\n<pre><code>[Fatal Error] :-1:-1: Premature end of file.\norg.xml.sax.SAXParseException: Premature end of file.\n        at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n        at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n        at com.circus.core.Configuration.readSource(Configuration.java:706)\n</code></pre>\n\n<p>I have already tried validating XML and found no errors there. Any idea where else can I look for possible problem? </p>\n\n<p>Any pointers would be highly appreciated!</p>\n\n<p>TIA,\n- Manish</p>\n"},{"tags":["java","vaadin14"],"owner":{"account_id":27847486,"reputation":1,"user_id":21262648,"display_name":"user123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694081300,"creation_date":1694080446,"question_id":77058510,"body_markdown":"I am using vaadin 14 to develop a web page. I have used @PreserveOnRefresh, so that my ui won&#39;t change upon refresh. I am able to achieve it, but am losing the images. On first attempt I am able to load the image, but after refresh the images are lost. I have created the image via StreamResource. Can anybody please help me with this usecase? The following is my code snippet:\r\n```\r\n@Route(&quot;home&quot;)\r\n@PreserveOnRefresh\r\npublic class HomePage extends VerticalLayout {\r\n\r\n    public HomePage(HorizontalLayout base) {\r\n        Div logoContainer = new Div();\r\n        logoContainer.setSizeFull();\r\n        StreamResource streamResource =  new StreamResource(&quot;logo&quot;, () -&gt; {\r\n\t\t\t\r\n                        File imgrsc = new File(filepath-to-my-image);\r\n\t\t\tFileInputStream stream = null;\r\n\t\t\ttry {\r\n\t\t\t\tstream = new FileInputStream(imgrsc);\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn stream;\r\n\t\t});\r\n\t\t\r\n\t\tImage image = new Image(streamResource, &quot;&quot;);\r\n\t\tlogoContainer.add(image);\r\n                base.add(logoContainer);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI am expecting for my image to be loaded after refresh button/F5 is clicked","title":"@PreserveOnRefresh unable to load dynamic Images with StreamResource","body":"<p>I am using vaadin 14 to develop a web page. I have used @PreserveOnRefresh, so that my ui won't change upon refresh. I am able to achieve it, but am losing the images. On first attempt I am able to load the image, but after refresh the images are lost. I have created the image via StreamResource. Can anybody please help me with this usecase? The following is my code snippet:</p>\n<pre><code>@Route(&quot;home&quot;)\n@PreserveOnRefresh\npublic class HomePage extends VerticalLayout {\n\n    public HomePage(HorizontalLayout base) {\n        Div logoContainer = new Div();\n        logoContainer.setSizeFull();\n        StreamResource streamResource =  new StreamResource(&quot;logo&quot;, () -&gt; {\n            \n                        File imgrsc = new File(filepath-to-my-image);\n            FileInputStream stream = null;\n            try {\n                stream = new FileInputStream(imgrsc);\n            } catch (FileNotFoundException e1) {\n                e1.printStackTrace();\n            }\n            return stream;\n        });\n        \n        Image image = new Image(streamResource, &quot;&quot;);\n        logoContainer.add(image);\n                base.add(logoContainer);\n    }\n\n}\n</code></pre>\n<p>I am expecting for my image to be loaded after refresh button/F5 is clicked</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":2,"creation_date":1657653335,"post_id":72956975,"comment_id":128860593,"body_markdown":"According to https://www.baeldung.com/spring-data-entitymanager you should use `@PersistenceContext\n    private EntityManager entityManager;`","body":"According to <a href=\"https://www.baeldung.com/spring-data-entitymanager\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-entitymanager</a> you should use <code>@PersistenceContext     private EntityManager entityManager;</code>"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1657776700,"post_id":72956975,"comment_id":128891821,"body_markdown":"Make sure that you&#39;ve added all relevant dependencies (hibernate or spring-orm or similar) to your application bundle","body":"Make sure that you&#39;ve added all relevant dependencies (hibernate or spring-orm or similar) to your application bundle"}],"answers":[{"tags":[],"owner":{"account_id":27112524,"reputation":21,"user_id":20657441,"display_name":"Marina Solovieva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671299214,"creation_date":1671299040,"answer_id":74836178,"question_id":72956975,"body_markdown":"From version 6.0 Hibernate uses jakarta.persistence rather than javax. Change the import and use the @PersistenceContext annotation","title":"Could not autowire. No beans of &#39;EntityManager&#39; type found","body":"<p>From version 6.0 Hibernate uses jakarta.persistence rather than javax. Change the import and use the @PersistenceContext annotation</p>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694081071,"creation_date":1657651199,"question_id":72956975,"body_markdown":"trying spring boot, in video said, that the bean for entityManager spring creating automaticly, and in video guy havnt problems.\r\nbut in my case i have an error `Could not autowire. No beans of &#39;EntityManager&#39; type found.` \r\n\r\n    import javax.persistence.EntityManager;\r\n     \r\n       @Repository\r\n        public class EmployeeDAOImpl implements EmployeeDAO {\r\n        \r\n            @Autowired\r\n            private EntityManager entityManager;//Could not autowire. No beans of &#39;EntityManager&#39; type found. \r\n        \r\n            @Override\r\n            public List&lt;Employee&gt; getAllEmployees() {\r\n                Session session = entityManager.unwrap(Session.class);\r\n                Query&lt;Employee&gt; query = session.createQuery(&quot;from Employee &quot;, Employee.class);\r\n                List&lt;Employee&gt; allEmployees = query.getResultList();\r\n                return allEmployees;\r\n            }\r\n        ","title":"Could not autowire. No beans of &#39;EntityManager&#39; type found","body":"<p>trying spring boot, in video said, that the bean for entityManager spring creating automaticly, and in video guy havnt problems.\nbut in my case i have an error <code>Could not autowire. No beans of 'EntityManager' type found.</code></p>\n<pre><code>import javax.persistence.EntityManager;\n \n   @Repository\n    public class EmployeeDAOImpl implements EmployeeDAO {\n    \n        @Autowired\n        private EntityManager entityManager;//Could not autowire. No beans of 'EntityManager' type found. \n    \n        @Override\n        public List&lt;Employee&gt; getAllEmployees() {\n            Session session = entityManager.unwrap(Session.class);\n            Query&lt;Employee&gt; query = session.createQuery(&quot;from Employee &quot;, Employee.class);\n            List&lt;Employee&gt; allEmployees = query.getResultList();\n            return allEmployees;\n        }\n    \n</code></pre>\n"},{"tags":["java","amazon-s3","spring-webflux"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1691397079,"post_id":76849883,"comment_id":135480613,"body_markdown":"Maybe https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/model/UploadDirectoryRequest.Builder.html#uploadFileRequestTransformer(java.util.function.Consumer) !?","body":"Maybe <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/transfer/s3/model/UploadDirectoryRequest.Builder.html#uploadFileRequestTransformer(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/&hellip;</a> !?"},{"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"score":0,"creation_date":1691401553,"post_id":76849883,"comment_id":135481511,"body_markdown":"Thank you @luk2302 for your suggestion, I will try and I let you know asap","body":"Thank you @luk2302 for your suggestion, I will try and I let you know asap"},{"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"score":0,"creation_date":1691486083,"post_id":76849883,"comment_id":135494753,"body_markdown":"@luk2302 I tried your solution and I think that this is the right way BUT I don&#39;t know how can I retrieve the file is going to be uploaded inside the transformer","body":"@luk2302 I tried your solution and I think that this is the right way BUT I don&#39;t know how can I retrieve the file is going to be uploaded inside the transformer"}],"answers":[{"tags":[],"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694080887,"creation_date":1694080887,"answer_id":77058564,"question_id":76849883,"body_markdown":"I found the solution.\r\n\r\nAs suggested by @luk2302 the way is to implement the `uploadFileRequestTransformer`.\r\n\r\n    UploadDirectoryRequest request = UploadDirectoryRequest.builder()\r\n        .bucket(bucket)\r\n        .s3Prefix(prefix)\r\n        .source(filePath)\r\n        .uploadFileRequestTransformer(uploadFileRequestBuilder -&gt; {\r\n             UploadFileRequest uploadFileRequest = uploadFileRequestBuilder.build();\r\n\r\n             File file = uploadFileRequest.source().toFile();\r\n                        \r\n             String mimeType = &quot;application/json&quot;;\r\n             try {\r\n                 mimeType = Files.probeContentType(uploadFileRequest.source());\r\n\r\n                 if (mimeType == null) {\r\n                     if (file.getAbsolutePath().contains(&quot;bulkdata&quot;)) {\r\n                         mimeType = &quot;application/octet-stream&quot;;\r\n                     }\r\n                     if (file.getAbsolutePath().contains(&quot;.raw&quot;)) {\r\n                         mimeType = &quot;application/octet-stream&quot;;\r\n                     }\r\n                     if (file.getAbsolutePath().contains(&quot;frames&quot;)) {\r\n                         mimeType = &quot;multipart/related&quot;;\r\n                     }\r\n                     if (file.getAbsolutePath().contains(&quot;thumbnail&quot;)) {\r\n                         mimeType = &quot;image/jpeg&quot;;\r\n                     }\r\n                 }\r\n             } catch (Exception ex) {\r\n                 mimeType = &quot;application/octet-stream&quot;;\r\n             }\r\n\r\n             PutObjectRequest.Builder putObjectRequestBuilder = uploadFileRequest.putObjectRequest().toBuilder();\r\n             if (file.getName().endsWith(&quot;.gz&quot;)) {\r\n                 putObjectRequestBuilder.contentEncoding(&quot;gzip&quot;);\r\n\r\n                 mimeType = &quot;application/json&quot;;\r\n             }\r\n\r\n             putObjectRequestBuilder.contentType(mimeType);\r\n\r\n             uploadFileRequestBuilder.putObjectRequest(putObjectRequestBuilder.build());\r\n        }).build();","title":"Amazon S3 Transfer Manager v2.x and metadata","body":"<p>I found the solution.</p>\n<p>As suggested by @luk2302 the way is to implement the <code>uploadFileRequestTransformer</code>.</p>\n<pre><code>UploadDirectoryRequest request = UploadDirectoryRequest.builder()\n    .bucket(bucket)\n    .s3Prefix(prefix)\n    .source(filePath)\n    .uploadFileRequestTransformer(uploadFileRequestBuilder -&gt; {\n         UploadFileRequest uploadFileRequest = uploadFileRequestBuilder.build();\n\n         File file = uploadFileRequest.source().toFile();\n                    \n         String mimeType = &quot;application/json&quot;;\n         try {\n             mimeType = Files.probeContentType(uploadFileRequest.source());\n\n             if (mimeType == null) {\n                 if (file.getAbsolutePath().contains(&quot;bulkdata&quot;)) {\n                     mimeType = &quot;application/octet-stream&quot;;\n                 }\n                 if (file.getAbsolutePath().contains(&quot;.raw&quot;)) {\n                     mimeType = &quot;application/octet-stream&quot;;\n                 }\n                 if (file.getAbsolutePath().contains(&quot;frames&quot;)) {\n                     mimeType = &quot;multipart/related&quot;;\n                 }\n                 if (file.getAbsolutePath().contains(&quot;thumbnail&quot;)) {\n                     mimeType = &quot;image/jpeg&quot;;\n                 }\n             }\n         } catch (Exception ex) {\n             mimeType = &quot;application/octet-stream&quot;;\n         }\n\n         PutObjectRequest.Builder putObjectRequestBuilder = uploadFileRequest.putObjectRequest().toBuilder();\n         if (file.getName().endsWith(&quot;.gz&quot;)) {\n             putObjectRequestBuilder.contentEncoding(&quot;gzip&quot;);\n\n             mimeType = &quot;application/json&quot;;\n         }\n\n         putObjectRequestBuilder.contentType(mimeType);\n\n         uploadFileRequestBuilder.putObjectRequest(putObjectRequestBuilder.build());\n    }).build();\n</code></pre>\n"}],"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77058564,"answer_count":1,"score":0,"last_activity_date":1694080887,"creation_date":1691395957,"question_id":76849883,"body_markdown":"I would like to use the new version (2.x) of Amazon S3 Transfer Manager to upload a directory to a bucket. I can do it without problems except for metadata.\r\nI need to set some metadata (content-type and content-encoding) for each file.\r\nI can do it with the version 1.x (below an example) but not with the new version\r\n\r\n```\r\nMultipleFileUpload upload = tm.uploadDirectory(\r\n                                bucket,\r\n                                prefix,\r\n                                filePath.toFile(),\r\n                                true,\r\n                                (file, metadata) -&gt; {\r\n                          \r\n                                    String mimeType = &quot;application/json&quot;;\r\n                                    try {\r\n                                        mimeType = Files.probeContentType(Paths.get(file.toURI()));\r\n\r\n                                        if (mimeType == null) {\r\n                                            if (file.getAbsolutePath().contains(&quot;bulkdata&quot;)) {\r\n                                                mimeType = &quot;application/octet-stream&quot;;\r\n                                            }\r\n                                            if (file.getAbsolutePath().contains(&quot;.raw&quot;)) {\r\n                                                mimeType = &quot;application/octet-stream&quot;;\r\n                                            }\r\n                                            if (file.getAbsolutePath().contains(&quot;frames&quot;)) {\r\n                                                mimeType = &quot;multipart/related&quot;;\r\n                                            }\r\n                                            if (file.getAbsolutePath().contains(&quot;thumbnail&quot;)) {\r\n                                                mimeType = &quot;image/jpeg&quot;;\r\n                                            }\r\n                                        }\r\n                                    } catch (Exception ex) {\r\n                                        mimeType = &quot;application/octet-stream&quot;;\r\n                                    }\r\n\r\n                                    if (file.getName().endsWith(&quot;.gz&quot;)) {\r\n                                        metadata.setContentEncoding(&quot;gzip&quot;);\r\n                                        mimeType = &quot;application/json&quot;;\r\n                                    }\r\n\r\n                                    metadata.setContentType(mimeType);\r\n                                }\r\n                        );\r\n```\r\n\r\nDo you know a way to accomplish that?","title":"Amazon S3 Transfer Manager v2.x and metadata","body":"<p>I would like to use the new version (2.x) of Amazon S3 Transfer Manager to upload a directory to a bucket. I can do it without problems except for metadata.\nI need to set some metadata (content-type and content-encoding) for each file.\nI can do it with the version 1.x (below an example) but not with the new version</p>\n<pre><code>MultipleFileUpload upload = tm.uploadDirectory(\n                                bucket,\n                                prefix,\n                                filePath.toFile(),\n                                true,\n                                (file, metadata) -&gt; {\n                          \n                                    String mimeType = &quot;application/json&quot;;\n                                    try {\n                                        mimeType = Files.probeContentType(Paths.get(file.toURI()));\n\n                                        if (mimeType == null) {\n                                            if (file.getAbsolutePath().contains(&quot;bulkdata&quot;)) {\n                                                mimeType = &quot;application/octet-stream&quot;;\n                                            }\n                                            if (file.getAbsolutePath().contains(&quot;.raw&quot;)) {\n                                                mimeType = &quot;application/octet-stream&quot;;\n                                            }\n                                            if (file.getAbsolutePath().contains(&quot;frames&quot;)) {\n                                                mimeType = &quot;multipart/related&quot;;\n                                            }\n                                            if (file.getAbsolutePath().contains(&quot;thumbnail&quot;)) {\n                                                mimeType = &quot;image/jpeg&quot;;\n                                            }\n                                        }\n                                    } catch (Exception ex) {\n                                        mimeType = &quot;application/octet-stream&quot;;\n                                    }\n\n                                    if (file.getName().endsWith(&quot;.gz&quot;)) {\n                                        metadata.setContentEncoding(&quot;gzip&quot;);\n                                        mimeType = &quot;application/json&quot;;\n                                    }\n\n                                    metadata.setContentType(mimeType);\n                                }\n                        );\n</code></pre>\n<p>Do you know a way to accomplish that?</p>\n"},{"tags":["java","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694080354,"creation_date":1694080354,"answer_id":77058496,"question_id":77058443,"body_markdown":"`a.compareTo(b)` is either `0` or something else. There is no third possibility where it is not `0` nor something else.\r\n\r\n`a.stripTrailingZeros().equals(b.stripTrailingZeros())` is either `true` or not `true`. There is no third possibility.\r\n\r\nSo, the answer is **yes**.","title":"BigDecimal stripTrailingZeros and equality","body":"<p><code>a.compareTo(b)</code> is either <code>0</code> or something else. There is no third possibility where it is not <code>0</code> nor something else.</p>\n<p><code>a.stripTrailingZeros().equals(b.stripTrailingZeros())</code> is either <code>true</code> or not <code>true</code>. There is no third possibility.</p>\n<p>So, the answer is <strong>yes</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694080658,"creation_date":1694080658,"answer_id":77058537,"question_id":77058443,"body_markdown":"`BigDecimal.equals()` says\r\n\r\n&gt; Unlike compareTo, this method considers two BigDecimal objects equal only if they are equal in value and scale (thus 2.0 is not equal to 2.00 when compared by this method).\r\n\r\nSo while you might be able to get differing results with `equals()` using `compareTo()` won&#39;t be confused by the (possible) scale changes done with `stripTrailingZeros()`:\r\n\r\n&gt; For example, stripping the trailing zeros from the BigDecimal value 600.0, which has [BigInteger, scale] components equals to [6000, 1], yields 6E2 with [BigInteger, scale] components equals to [6, -2]. If this BigDecimal is numerically equal to zero, then BigDecimal.ZERO is returned.\r\n\r\nSince BigDecimal also doesn&#39;t support `NaN` or infinities, there&#39;s no tricky edge cases like `NaN != NaN` that would cause issues (besides the standard risks of floating point usage).","title":"BigDecimal stripTrailingZeros and equality","body":"<p><code>BigDecimal.equals()</code> says</p>\n<blockquote>\n<p>Unlike compareTo, this method considers two BigDecimal objects equal only if they are equal in value and scale (thus 2.0 is not equal to 2.00 when compared by this method).</p>\n</blockquote>\n<p>So while you might be able to get differing results with <code>equals()</code> using <code>compareTo()</code> won't be confused by the (possible) scale changes done with <code>stripTrailingZeros()</code>:</p>\n<blockquote>\n<p>For example, stripping the trailing zeros from the BigDecimal value 600.0, which has [BigInteger, scale] components equals to [6000, 1], yields 6E2 with [BigInteger, scale] components equals to [6, -2]. If this BigDecimal is numerically equal to zero, then BigDecimal.ZERO is returned.</p>\n</blockquote>\n<p>Since BigDecimal also doesn't support <code>NaN</code> or infinities, there's no tricky edge cases like <code>NaN != NaN</code> that would cause issues (besides the standard risks of floating point usage).</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694080852,"creation_date":1694080852,"answer_id":77058562,"question_id":77058443,"body_markdown":"Note that `stripTrailingZeros` can throw an `ArithmeticException` if the resulting `scale` overflows. For example;\r\n\r\n```\r\nnew BigDecimal(\r\n        new BigInteger(&quot;70&quot;),\r\n        Integer.MIN_VALUE\r\n).stripTrailingZeros(); // tries to set the scale to Integer.MIN_VALUE - 1 but can&#39;t\r\n```\r\n\r\nOther than such cases, the assertion should be true, because there is only one unique `BigDecimal` representation of each number, that has no trailing zeroes.","title":"BigDecimal stripTrailingZeros and equality","body":"<p>Note that <code>stripTrailingZeros</code> can throw an <code>ArithmeticException</code> if the resulting <code>scale</code> overflows. For example;</p>\n<pre><code>new BigDecimal(\n        new BigInteger(&quot;70&quot;),\n        Integer.MIN_VALUE\n).stripTrailingZeros(); // tries to set the scale to Integer.MIN_VALUE - 1 but can't\n</code></pre>\n<p>Other than such cases, the assertion should be true, because there is only one unique <code>BigDecimal</code> representation of each number, that has no trailing zeroes.</p>\n"}],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77058562,"answer_count":3,"score":1,"last_activity_date":1694080852,"creation_date":1694079913,"question_id":77058443,"body_markdown":"Given\r\n\r\n    BigDecimal a = ...;\r\n    BigDecimal b = ...;\r\n\r\nDo the following hold for _all possible values_ of `a` and `b`?\r\n\r\n    if (a.compareTo(b) == 0)\r\n        assert a.stripTrailingZeros().equals(b.stripTrailingZeros())\r\n    if (a.compareTo(b) != 0)\r\n        assert !(a.stripTrailingZeros().equals(b.stripTrailingZeros()))\r\n\r\n    if (a.stripTrailingZeros().equals(b.stripTrailingZeros()))\r\n        assert(a.compareTo(b) == 0)\r\n    if (!(a.stripTrailingZeros().equals(b.stripTrailingZeros())))\r\n        assert(a.compareTo(b) != 0)\r\n\r\nOr is there some edge case where the above assertions are not all true?","title":"BigDecimal stripTrailingZeros and equality","body":"<p>Given</p>\n<pre><code>BigDecimal a = ...;\nBigDecimal b = ...;\n</code></pre>\n<p>Do the following hold for <em>all possible values</em> of <code>a</code> and <code>b</code>?</p>\n<pre><code>if (a.compareTo(b) == 0)\n    assert a.stripTrailingZeros().equals(b.stripTrailingZeros())\nif (a.compareTo(b) != 0)\n    assert !(a.stripTrailingZeros().equals(b.stripTrailingZeros()))\n\nif (a.stripTrailingZeros().equals(b.stripTrailingZeros()))\n    assert(a.compareTo(b) == 0)\nif (!(a.stripTrailingZeros().equals(b.stripTrailingZeros())))\n    assert(a.compareTo(b) != 0)\n</code></pre>\n<p>Or is there some edge case where the above assertions are not all true?</p>\n"},{"tags":["java","spring","cassandra"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694078323,"post_id":77058181,"comment_id":135844918,"body_markdown":"_&quot;Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=cassandra/:9042, hostId=null, hashCode=65654666)&quot;_","body":"<i>&quot;Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=cassandra/:9042, hostId=null, hashCode=65654666)&quot;</i>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694078384,"post_id":77058181,"comment_id":135844937,"body_markdown":"There is no `spring-boot-starter-data-cassandra` 4.1.3, even if it would you shouldn&#39;t include versions for Spring Boot managed starters.","body":"There is no <code>spring-boot-starter-data-cassandra</code> 4.1.3, even if it would you shouldn&#39;t include versions for Spring Boot managed starters."},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1694078760,"post_id":77058181,"comment_id":135845014,"body_markdown":"Connected to cassandra at 127.0.0.1:9042\n[cqlsh 6.1.0 | Cassandra 4.1.3 | CQL spec 3.4.6 | Native protocol v5]\nUse HELP for help.\ncassandra@cqlsh&gt;\ncassandra@cqlsh&gt; desc keyspaces;\n\ncassandra is running fine","body":"Connected to cassandra at 127.0.0.1:9042 [cqlsh 6.1.0 | Cassandra 4.1.3 | CQL spec 3.4.6 | Native protocol v5] Use HELP for help. cassandra@cqlsh&gt; cassandra@cqlsh&gt; desc keyspaces;  cassandra is running fine"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1694079207,"post_id":77058181,"comment_id":135845131,"body_markdown":"Its a typo spring-boot-data-cassandra is 3.1.1 and spring-data-cassandra-parent is 4.1.3","body":"Its a typo spring-boot-data-cassandra is 3.1.1 and spring-data-cassandra-parent is 4.1.3"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694088009,"post_id":77058181,"comment_id":135846803,"body_markdown":"Don&#39;t mess around with versions, the version for `spring-boot-starter-data-cassandra` should be managed by your `spring-boot-starter-parent` and don&#39;t mix versions from different spring boot versions as that is trouble waiting to happen. ALso don&#39;t just change a parent version or dependency version as that will cascade into all sorts of issues.","body":"Don&#39;t mess around with versions, the version for <code>spring-boot-starter-data-cassandra</code> should be managed by your <code>spring-boot-starter-parent</code> and don&#39;t mix versions from different spring boot versions as that is trouble waiting to happen. ALso don&#39;t just change a parent version or dependency version as that will cascade into all sorts of issues."}],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694080741,"creation_date":1694080741,"answer_id":77058552,"question_id":77058181,"body_markdown":"I see no _blocking_ error with the code you provided. But as mentionned above this is the only thing you need in your POM.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n &lt;version&gt;3.1.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe error message tells us the host `cassandra` is not resolved by your java \r\ncode.\r\n\r\n```\r\nCould not reach any contact point, make sure \r\nyou&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more)\r\n```\r\n\r\nIn a comment, you provided an output from `cqlsh` telling us the DB is started and working but the message give you the **name of your cluster, and not the host of the cassandra node.**. Check what the cqlsh output look likes with a docker image..obviously ` Test Cluster` is not the host.\r\n\r\n```\r\nConnected to Test Cluster at 127.0.0.1:9042\r\n[cqlsh 6.0.0 | Cassandra 4.0.7-9cb79586cc78 | CQL spec 3.4.5 | Native protocol v5]\r\nUse HELP for help.\r\ncqlsh&gt; \r\n```\r\n\r\n**Couple of ideas:**\r\n\r\n- Connect ssh to the cassandra node and show the IP with `ifconfig`\r\n- Change &quot;cassandra&quot; by correct IP of add an entry to `/etc/config`\r\n\r\n\r\n\r\n\r\n","title":"Unable to connect to cassandra 4.1.3 version from springoot 3.1.1 version","body":"<p>I see no <em>blocking</em> error with the code you provided. But as mentionned above this is the only thing you need in your POM.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n &lt;version&gt;3.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The error message tells us the host <code>cassandra</code> is not resolved by your java\ncode.</p>\n<pre><code>Could not reach any contact point, make sure \nyou've provided valid addresses (showing first 1 nodes, use getAllErrors() for more)\n</code></pre>\n<p>In a comment, you provided an output from <code>cqlsh</code> telling us the DB is started and working but the message give you the <strong>name of your cluster, and not the host of the cassandra node.</strong>. Check what the cqlsh output look likes with a docker image..obviously <code> Test Cluster</code> is not the host.</p>\n<pre><code>Connected to Test Cluster at 127.0.0.1:9042\n[cqlsh 6.0.0 | Cassandra 4.0.7-9cb79586cc78 | CQL spec 3.4.5 | Native protocol v5]\nUse HELP for help.\ncqlsh&gt; \n</code></pre>\n<p><strong>Couple of ideas:</strong></p>\n<ul>\n<li>Connect ssh to the cassandra node and show the IP with <code>ifconfig</code></li>\n<li>Change &quot;cassandra&quot; by correct IP of add an entry to <code>/etc/config</code></li>\n</ul>\n"}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694080741,"creation_date":1694077976,"question_id":77058181,"body_markdown":"```none\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cassandraSessionFactory&#39; defined in class path resource [com/test/config/CassandraConfig.class]: Unsatisfied dependency expressed through method &#39;cassandraSessionFactory&#39; parameter 0: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [com/test/config/CassandraConfig.class]: Could not reach any contact point, make sure you&#39;ve provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=cassandra/&lt;unresolved&gt;:9042, hostId=null, hashCode=65654666): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n        at \r\n```\r\n\r\n```java\r\n@Bean\r\npublic CqlSessionFactoryBean cassandraSession() {\r\n    CqlSessionFactoryBean session = new CqlSessionFactoryBean();\r\n    session.setContactPoints(&quot;cassandra&quot;);\r\n    session.setKeyspaceCreations(getKeyspaceCreations());\r\n    session.setKeyspaceName(keySpace);\r\n    session.setPort(port);\r\n    session.setUsername(userName);\r\n    session.setPassword(password);\r\n    session.setLocalDatacenter(datacenter);\r\n    session.setSessionBuilderConfigurer(sessionBuilder -&gt; sessionBuilder\r\n            .withConfigLoader(DriverConfigLoader\r\n                    .programmaticBuilder()\r\n                    .withString(DefaultDriverOption.REQUEST_TIMEOUT, &quot;10 seconds&quot;)\r\n                    .build()));\r\n    return session;\r\n}\r\n```\r\n```xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n```xml\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n&lt;version&gt;4.1.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Unable to connect to cassandra 4.1.3 version from springoot 3.1.1 version","body":"<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cassandraSessionFactory' defined in class path resource [com/test/config/CassandraConfig.class]: Unsatisfied dependency expressed through method 'cassandraSessionFactory' parameter 0: Error creating bean with name 'cassandraSession' defined in class path resource [com/test/config/CassandraConfig.class]: Could not reach any contact point, make sure you've provided valid addresses (showing first 1 nodes, use getAllErrors() for more): Node(endPoint=cassandra/&lt;unresolved&gt;:9042, hostId=null, hashCode=65654666): [com.datastax.oss.driver.api.core.connection.ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request (io.netty.channel.StacklessClosedChannelException)]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.10.jar!/:6.0.10]\n        at \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CqlSessionFactoryBean cassandraSession() {\n    CqlSessionFactoryBean session = new CqlSessionFactoryBean();\n    session.setContactPoints(&quot;cassandra&quot;);\n    session.setKeyspaceCreations(getKeyspaceCreations());\n    session.setKeyspaceName(keySpace);\n    session.setPort(port);\n    session.setUsername(userName);\n    session.setPassword(password);\n    session.setLocalDatacenter(datacenter);\n    session.setSessionBuilderConfigurer(sessionBuilder -&gt; sessionBuilder\n            .withConfigLoader(DriverConfigLoader\n                    .programmaticBuilder()\n                    .withString(DefaultDriverOption.REQUEST_TIMEOUT, &quot;10 seconds&quot;)\n                    .build()));\n    return session;\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n&lt;version&gt;4.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","linux","processbuilder","io-redirection"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":3,"creation_date":1694017747,"post_id":77053644,"comment_id":135837045,"body_markdown":"`&lt;&lt; END` is shell syntax. The line `cat &lt;&lt; END &gt; output` would be followed by some text followed by a line `END` in a shell script or as input (`stdin`) for a shell. Where do you want the input to come from when running a process from your Java program?","body":"<code>&lt;&lt; END</code> is shell syntax. The line <code>cat &lt;&lt; END &gt; output</code> would be followed by some text followed by a line <code>END</code> in a shell script or as input (<code>stdin</code>) for a shell. Where do you want the input to come from when running a process from your Java program?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694025786,"post_id":77053644,"comment_id":135838546,"body_markdown":"Does this answer your question? [Exit(1) when running exec on java](https://stackoverflow.com/questions/68083327/exit1-when-running-exec-on-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/68083327/exit1-when-running-exec-on-java\">Exit(1) when running exec on java</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694025588,"creation_date":1694025273,"answer_id":77054468,"question_id":77053644,"body_markdown":"The command `cat &lt;&lt; END &gt; output` is a shell command so you need to run it via shell as \r\n\r\n     List &lt;String&gt; params = List.of(&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cat &lt;&lt; END &gt; output&quot;)","title":"How to have input-redirection with Javas ProcessBuilder?","body":"<p>The command <code>cat &lt;&lt; END &gt; output</code> is a shell command so you need to run it via shell as</p>\n<pre><code> List &lt;String&gt; params = List.of(&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cat &lt;&lt; END &gt; output&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11373023,"reputation":4495,"user_id":8338100,"display_name":"jurez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694025552,"creation_date":1694025552,"answer_id":77054491,"question_id":77053644,"body_markdown":"You need to call `os.close()` to let the process know that no more data is coming.","title":"How to have input-redirection with Javas ProcessBuilder?","body":"<p>You need to call <code>os.close()</code> to let the process know that no more data is coming.</p>\n"},{"tags":[],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694080581,"creation_date":1694080581,"answer_id":77058528,"question_id":77053644,"body_markdown":"I solved it by skipping the \r\n\r\n    &lt;&lt;END\r\n\r\nbut then opened an OutputStream after starting the process.\r\nOver that I put the files content into the process.\r\nFlushing and closing of the stream is important.\r\n\r\n    ProcessBuilder pb = new ProcessBuilder (params);\r\n\tProcess p = pb.start ();\r\n\t\t\t\t\t\r\n\tOutputStream os = p.getOutputStream ();\r\n\tos.write (content_string);\t\r\n\tos.flush ();\r\n\tos.close ();","title":"How to have input-redirection with Javas ProcessBuilder?","body":"<p>I solved it by skipping the</p>\n<pre><code>&lt;&lt;END\n</code></pre>\n<p>but then opened an OutputStream after starting the process.\nOver that I put the files content into the process.\nFlushing and closing of the stream is important.</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder (params);\nProcess p = pb.start ();\n                \nOutputStream os = p.getOutputStream ();\nos.write (content_string);  \nos.flush ();\nos.close ();\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694080581,"creation_date":1694016283,"question_id":77053644,"body_markdown":"How can I apply input redirection to Javas ProcessBuilder?\r\n\r\nE.g. use cat of Linux\r\n\r\n    cat x.txt &gt; output.txt\r\n\r\nMy code\r\n\r\n    // read x.txt with cat and redirect the output to output.txt\r\n    public static void main (String args []) throws Exception\r\n\t{\r\n\t\tList &lt;String&gt; params = new ArrayList &lt;String&gt; ();\r\n\t\tparams.add (&quot;cat&quot;);\r\n\t\tparams.add (&quot;x.txt&quot;);\t\t\r\n\t\tProcessBuilder pb = new ProcessBuilder (params);\r\n\t\tpb.redirectOutput (new File (&quot;output.txt&quot;));\r\n\t\tProcess p = pb.start ();\r\n\t\tp.waitFor (3, TimeUnit.SECONDS);\r\n        System.out.println (&quot;exit=&quot;+p.exitValue());\r\n\t}\r\n    \r\nThat works fine!\r\nBut how to change from file to input-redirection?\r\n\r\n    cat &lt;&lt; END &gt; output\r\n\r\nI tried this - but does not work.\r\n\r\n    public static void main (String args []) throws Exception\r\n\t{\r\n\t\tList &lt;String&gt; params = new ArrayList &lt;String&gt; ();\r\n\t\tparams.add (&quot;cat&quot;);\r\n\t\tparams.add (&quot;/dev/stdin&quot;);\r\n\t\tparams.add (&quot;&lt;&lt;&quot;;\r\n        params.add (&quot;END&quot;);\r\n\t\t\r\n\t\tProcessBuilder pb = new ProcessBuilder (params);\r\n\t\tpb.redirectOutput (new File (&quot;output.txt&quot;));\r\n\t\tProcess p = pb.start ();\r\n\t\tOutputStream os = p.getOutputStream ();\r\n\t\tos.write (&quot;\\nblabla\\nEND\\n&quot;.getBytes ());\r\n\t\tp.waitFor (3, TimeUnit.SECONDS);\r\n\t\tSystem.out.println (&quot;exit=&quot;+p.exitValue());\r\n\t}\r\n\r\nNo matter what I tried it returned with 1 (instead of 0 for success) or did not finish.\r\n","title":"How to have input-redirection with Javas ProcessBuilder?","body":"<p>How can I apply input redirection to Javas ProcessBuilder?</p>\n<p>E.g. use cat of Linux</p>\n<pre><code>cat x.txt &gt; output.txt\n</code></pre>\n<p>My code</p>\n<pre><code>// read x.txt with cat and redirect the output to output.txt\npublic static void main (String args []) throws Exception\n{\n    List &lt;String&gt; params = new ArrayList &lt;String&gt; ();\n    params.add (&quot;cat&quot;);\n    params.add (&quot;x.txt&quot;);       \n    ProcessBuilder pb = new ProcessBuilder (params);\n    pb.redirectOutput (new File (&quot;output.txt&quot;));\n    Process p = pb.start ();\n    p.waitFor (3, TimeUnit.SECONDS);\n    System.out.println (&quot;exit=&quot;+p.exitValue());\n}\n</code></pre>\n<p>That works fine!\nBut how to change from file to input-redirection?</p>\n<pre><code>cat &lt;&lt; END &gt; output\n</code></pre>\n<p>I tried this - but does not work.</p>\n<pre><code>public static void main (String args []) throws Exception\n{\n    List &lt;String&gt; params = new ArrayList &lt;String&gt; ();\n    params.add (&quot;cat&quot;);\n    params.add (&quot;/dev/stdin&quot;);\n    params.add (&quot;&lt;&lt;&quot;;\n    params.add (&quot;END&quot;);\n    \n    ProcessBuilder pb = new ProcessBuilder (params);\n    pb.redirectOutput (new File (&quot;output.txt&quot;));\n    Process p = pb.start ();\n    OutputStream os = p.getOutputStream ();\n    os.write (&quot;\\nblabla\\nEND\\n&quot;.getBytes ());\n    p.waitFor (3, TimeUnit.SECONDS);\n    System.out.println (&quot;exit=&quot;+p.exitValue());\n}\n</code></pre>\n<p>No matter what I tried it returned with 1 (instead of 0 for success) or did not finish.</p>\n"},{"tags":["java","opencv","java-17","unsatisfiedlinkerror"],"answers":[{"tags":[],"owner":{"account_id":24029930,"reputation":88,"user_id":18011018,"display_name":"jaragone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694080529,"creation_date":1691135394,"answer_id":76833960,"question_id":76833835,"body_markdown":"The error message failed to map segment from shared object often indicates an issue with memory mapping of shared libraries in Linux.\r\n\r\nOne of the likely causes of this issue could be that the file system which /tmp directory is located on is mounted with noexec (which means it doesn&#39;t allow execution of binaries) or possibly nosuid or nodev option. Some environments have this as a security measure. In such case, the JVM may not be able to execute the native libraries extracted from the JAR to the /tmp directory.\r\n\r\nYou can verify if the /tmp directory is mounted with noexec by running the command mount in your Ubuntu VM and inspecting its output. If it&#39;s indeed the case, there are a couple of solutions:\r\n\r\nRemount the /tmp directory without the noexec option:\r\nThis is performed using the command:\r\n\r\n    sudo mount -o remount,exec /tmp\r\n\r\nNote that it could decrease the security of your system.\r\n","title":"OpenCV UnsatisfiedLinkError when jar is run on x86-64 Ubuntu 22.04 VM","body":"<p>The error message failed to map segment from shared object often indicates an issue with memory mapping of shared libraries in Linux.</p>\n<p>One of the likely causes of this issue could be that the file system which /tmp directory is located on is mounted with noexec (which means it doesn't allow execution of binaries) or possibly nosuid or nodev option. Some environments have this as a security measure. In such case, the JVM may not be able to execute the native libraries extracted from the JAR to the /tmp directory.</p>\n<p>You can verify if the /tmp directory is mounted with noexec by running the command mount in your Ubuntu VM and inspecting its output. If it's indeed the case, there are a couple of solutions:</p>\n<p>Remount the /tmp directory without the noexec option:\nThis is performed using the command:</p>\n<pre><code>sudo mount -o remount,exec /tmp\n</code></pre>\n<p>Note that it could decrease the security of your system.</p>\n"}],"owner":{"account_id":90597,"reputation":8360,"user_id":249327,"accept_rate":80,"display_name":"nickdos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76833960,"answer_count":1,"score":0,"last_activity_date":1694080529,"creation_date":1691134363,"question_id":76833835,"body_markdown":"I&#39;m using [`org.openpnp:opencv:4.7.0-0`][1] in a Java maven project (Java version 17.0.6+10-LTS) and I&#39;m loading the library as recommended for Java &gt; 12 via `OpenCV.loadLocally();`. The project builds and **runs** perfectly on my M2 Mac. \r\n\r\nOn our DEV server that is an Ubuntu 22.04 x86-64 VM (with full JDK Java 17.0.6+10-Ubuntu-0ubuntu122.04), when I either run the jar built on my Mac or do a full build from sources on that machine, the jar produces the same error, when this code is executed:\r\n\r\n```\r\njava.lang.AssertionError: java.lang.UnsatisfiedLinkError: \r\n/tmp/opencv_openpnp12784852236417917500/nu/pattern/opencv/linux/x86_64/libopencv_java470.so: failed to map segment from shared object\r\n\r\n```\r\n\r\nAm I missing some step to run this on x86 Linux or is it just a bug in OpenPnP&#39;s OpenCV fork?\r\n\r\nPS I&#39;ve raised [an issue][2] in their issue tracker but responses there are slow or non-existent.\r\n\r\n\r\n  [1]: https://github.com/openpnp/opencv\r\n  [2]: https://github.com/openpnp/opencv/issues/98","title":"OpenCV UnsatisfiedLinkError when jar is run on x86-64 Ubuntu 22.04 VM","body":"<p>I'm using <a href=\"https://github.com/openpnp/opencv\" rel=\"nofollow noreferrer\"><code>org.openpnp:opencv:4.7.0-0</code></a> in a Java maven project (Java version 17.0.6+10-LTS) and I'm loading the library as recommended for Java &gt; 12 via <code>OpenCV.loadLocally();</code>. The project builds and <strong>runs</strong> perfectly on my M2 Mac.</p>\n<p>On our DEV server that is an Ubuntu 22.04 x86-64 VM (with full JDK Java 17.0.6+10-Ubuntu-0ubuntu122.04), when I either run the jar built on my Mac or do a full build from sources on that machine, the jar produces the same error, when this code is executed:</p>\n<pre><code>java.lang.AssertionError: java.lang.UnsatisfiedLinkError: \n/tmp/opencv_openpnp12784852236417917500/nu/pattern/opencv/linux/x86_64/libopencv_java470.so: failed to map segment from shared object\n\n</code></pre>\n<p>Am I missing some step to run this on x86 Linux or is it just a bug in OpenPnP's OpenCV fork?</p>\n<p>PS I've raised <a href=\"https://github.com/openpnp/opencv/issues/98\" rel=\"nofollow noreferrer\">an issue</a> in their issue tracker but responses there are slow or non-existent.</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694080389,"creation_date":1694080389,"answer_id":77058502,"question_id":76861012,"body_markdown":"I found the solution.\r\n\r\nInside the `uploadFileRequestTransformer` I can retrieve the file in this way\r\n\r\n    UploadFileRequest uploadFileRequest = uploadFileRequestBuilder.build();\r\n\r\n    File file = uploadFileRequest.source().toFile();","title":"Retrieve file path during S3TransferManager.uploadDirectory","body":"<p>I found the solution.</p>\n<p>Inside the <code>uploadFileRequestTransformer</code> I can retrieve the file in this way</p>\n<pre><code>UploadFileRequest uploadFileRequest = uploadFileRequestBuilder.build();\n\nFile file = uploadFileRequest.source().toFile();\n</code></pre>\n"}],"owner":{"account_id":217408,"reputation":1303,"user_id":1723127,"accept_rate":68,"display_name":"aGO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77058502,"answer_count":1,"score":0,"last_activity_date":1694080389,"creation_date":1691508321,"question_id":76861012,"body_markdown":"I want to upload a directory with the new version of S3TransferManager v2 (https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html).\r\n\r\nEverything works well except for the content type: I need to set the file content type according to the file name. For this reason, I thought to use the\r\n\r\n    UploadDirectoryRequest.Builder uploadFileRequestTransformer(Consumer&lt;UploadFileRequest.Builder&gt; uploadFileRequestTransformer)\r\n\r\nBut I don&#39;t know how can I retrieve the file path of the file that is going to be uploaded\r\n\r\nDo you have any idea?","title":"Retrieve file path during S3TransferManager.uploadDirectory","body":"<p>I want to upload a directory with the new version of S3TransferManager v2 (<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/transfer-manager.html</a>).</p>\n<p>Everything works well except for the content type: I need to set the file content type according to the file name. For this reason, I thought to use the</p>\n<pre><code>UploadDirectoryRequest.Builder uploadFileRequestTransformer(Consumer&lt;UploadFileRequest.Builder&gt; uploadFileRequestTransformer)\n</code></pre>\n<p>But I don't know how can I retrieve the file path of the file that is going to be uploaded</p>\n<p>Do you have any idea?</p>\n"},{"tags":["java","angular","docker","rabbitmq"],"owner":{"account_id":201350,"reputation":2144,"user_id":447738,"accept_rate":57,"display_name":"cksrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694080330,"creation_date":1694080330,"question_id":77058492,"body_markdown":"I have a rabbitmq Docker with the stomp plugin enabled.\r\nWhenever I try to establish a connection to the docker I receive the following error:\r\n`STOMP connection 172.19.0.1:54578 -&gt; 172.19.0.2:61613 terminated with reason {shutdown,                                                                             login_timeout}, closing it.\r\n`\r\n\r\nThe rabbitmq config is set as below:\r\n\r\n    loopback_users = none\r\n    listeners.tcp.default = 5672\r\n    default_pass = guest\r\n    default_user = guest\r\n    hipe_compile = false\r\n    management.listener.port = 15672\r\n    management.listener.ssl = false\r\n    stomp.listeners.tcp.1 = 61613\r\n    stomp.default_user = guest\r\n    stomp.default_pass = guest\r\n\r\nThe front end is set up with RxStomp as follows:\r\n\r\n    import { RxStompConfig } from &#39;@stomp/rx-stomp&#39;;\r\n\r\n    export const myRxStompConfig: RxStompConfig = {\r\n        // Which server?\r\n        brokerURL: &#39;ws://localhost:61613/topic/&#39;,\r\n\r\n        // Headers\r\n        // Typical keys: login, passcode, host\r\n        connectHeaders: {\r\n           login: &#39;guest&#39;,\r\n           passcode: &#39;guest&#39;,\r\n        },\r\n    }\r\n\r\nBackend\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketMessageBrokerConfig implements WebSocketMessageBrokerConfigurer \r\n    {\r\n\r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config){\r\n            config.enableSimpleBroker(&quot;/topic/&quot;, &quot;/queue/&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    }","title":"Rabbitmq with STOMP refuses connection from browser","body":"<p>I have a rabbitmq Docker with the stomp plugin enabled.\nWhenever I try to establish a connection to the docker I receive the following error:\n<code>STOMP connection 172.19.0.1:54578 -&gt; 172.19.0.2:61613 terminated with reason {shutdown,                                                                             login_timeout}, closing it. </code></p>\n<p>The rabbitmq config is set as below:</p>\n<pre><code>loopback_users = none\nlisteners.tcp.default = 5672\ndefault_pass = guest\ndefault_user = guest\nhipe_compile = false\nmanagement.listener.port = 15672\nmanagement.listener.ssl = false\nstomp.listeners.tcp.1 = 61613\nstomp.default_user = guest\nstomp.default_pass = guest\n</code></pre>\n<p>The front end is set up with RxStomp as follows:</p>\n<pre><code>import { RxStompConfig } from '@stomp/rx-stomp';\n\nexport const myRxStompConfig: RxStompConfig = {\n    // Which server?\n    brokerURL: 'ws://localhost:61613/topic/',\n\n    // Headers\n    // Typical keys: login, passcode, host\n    connectHeaders: {\n       login: 'guest',\n       passcode: 'guest',\n    },\n}\n</code></pre>\n<p>Backend</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketMessageBrokerConfig implements WebSocketMessageBrokerConfigurer \n{\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config){\n        config.enableSimpleBroker(&quot;/topic/&quot;, &quot;/queue/&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1694094427,"post_id":77058220,"comment_id":135848272,"body_markdown":"The [parameter type for `onDragDropped` is an `EventHandler&lt;DragEvent&gt;`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#setOnDragDropped(javafx.event.EventHandler)), not an `EventHandler&lt;MouseEvent&gt;`, so the parameter passed to the `handle()` method is `DragEvent`. The [JavaDocs for `DragEvent`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/DragEvent.html) show how to get the data being dragged from the `Dragboard`.","body":"The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Node.html#setOnDragDropped(javafx.event.EventHandler)\" rel=\"nofollow noreferrer\">parameter type for <code>onDragDropped</code> is an <code>EventHandler&lt;DragEvent&gt;</code></a>, not an <code>EventHandler&lt;MouseEvent&gt;</code>, so the parameter passed to the <code>handle()</code> method is <code>DragEvent</code>. The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/DragEvent.html\" rel=\"nofollow noreferrer\">JavaDocs for <code>DragEvent</code></a> show how to get the data being dragged from the <code>Dragboard</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1694094573,"post_id":77058220,"comment_id":135848312,"body_markdown":"As an aside, this doesn&#39;t always work perfectly cleanly, especially if you are dragging and dropping data represented by user defined classes. I&#39;ve often found the need to either put `String` data on the `Dragboard` from which I can reliably look up the data being dragged, or create some external mechanism to store the dragged data when the drag is initiated.","body":"As an aside, this doesn&#39;t always work perfectly cleanly, especially if you are dragging and dropping data represented by user defined classes. I&#39;ve often found the need to either put <code>String</code> data on the <code>Dragboard</code> from which I can reliably look up the data being dragged, or create some external mechanism to store the dragged data when the drag is initiated."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1694096969,"post_id":77058220,"comment_id":135848983,"body_markdown":"See the [Oracle drag and drop tutorial](https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm) and [paper doll app](https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm).","body":"See the <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm\" rel=\"nofollow noreferrer\">Oracle drag and drop tutorial</a> and <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm\" rel=\"nofollow noreferrer\">paper doll app</a>."}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694079008,"creation_date":1694078226,"question_id":77058220,"body_markdown":"I&#39;m attempting to acquire whatever I&#39;m dragging with my mouse cursor over a `BorderPane` in JavaFX.\r\n\r\nHow does one go about reading what is being currently carried by the mouse cursor, specifically when the _On Drag Dropped_ event is triggered?\r\n\r\nThere is a `getPickType` function in the `MouseEvent` class that&#39;s the argument of the callback function for the _On Drag Dropped_ event, however no documentation is provided for it in the JavaFX library installation I have. I wanted to make sure I&#39;m looking at the right thing here.\r\n\r\n","title":"How to detect what is dragged by mouse?","body":"<p>I'm attempting to acquire whatever I'm dragging with my mouse cursor over a <code>BorderPane</code> in JavaFX.</p>\n<p>How does one go about reading what is being currently carried by the mouse cursor, specifically when the <em>On Drag Dropped</em> event is triggered?</p>\n<p>There is a <code>getPickType</code> function in the <code>MouseEvent</code> class that's the argument of the callback function for the <em>On Drag Dropped</em> event, however no documentation is provided for it in the JavaFX library installation I have. I wanted to make sure I'm looking at the right thing here.</p>\n"},{"tags":["java","compiler-errors","package","cannot-find-symbol"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694055825,"post_id":77056325,"comment_id":135841893,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694058087,"post_id":77056325,"comment_id":135842028,"body_markdown":"Show us the other file. Then comment here once you edited your question.","body":"Show us the other file. Then comment here once you edited your question."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1694069157,"post_id":77056325,"comment_id":135843095,"body_markdown":"How exactly are you compiling the classes?","body":"How exactly are you compiling the classes?"},{"owner":{"account_id":29383867,"reputation":3,"user_id":22513693,"display_name":"ling131031003"},"score":1,"creation_date":1694071910,"post_id":77056325,"comment_id":135843616,"body_markdown":"@davidalayachew I have re-edited my question","body":"@davidalayachew I have re-edited my question"},{"owner":{"account_id":29383867,"reputation":3,"user_id":22513693,"display_name":"ling131031003"},"score":0,"creation_date":1694072007,"post_id":77056325,"comment_id":135843632,"body_markdown":"@Jesper I dont actually know what is compiling in Java. Do you meant the directories of the files? I put both the Main.java &amp; Organ.java under OrganProject folder.","body":"@Jesper I dont actually know what is compiling in Java. Do you meant the directories of the files? I put both the Main.java &amp; Organ.java under OrganProject folder."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1694078802,"post_id":77056325,"comment_id":135845029,"body_markdown":"I have answered your question. Let me know via comment (on my answer) if it doesn&#39;t work.","body":"I have answered your question. Let me know via comment (on my answer) if it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694078525,"creation_date":1694078525,"answer_id":77058249,"question_id":77056325,"body_markdown":"In your terminal, make a folder called `OrganProject`, then put your 2 files into there. Then, ***go outside the folder*** and call the following command in that terminal.\r\n\r\n```\r\njavac OrganProject/Main.java OrganProject/Organ.java\r\n```\r\n\r\nThis compiles your code, creating corresponding `.class` files. Then, while still being immediately outside of the `OrganProject` folder, call the following command in that terminal too.\r\n\r\n```\r\njava OrganProject/Main\r\n```\r\n\r\nThis will actually run the code. When I run your code, this is what I get.\r\n\r\n```\r\nName: eye\r\nCondition: good\r\n```","title":"Java: cannot find symbol when files are in same folder","body":"<p>In your terminal, make a folder called <code>OrganProject</code>, then put your 2 files into there. Then, <em><strong>go outside the folder</strong></em> and call the following command in that terminal.</p>\n<pre><code>javac OrganProject/Main.java OrganProject/Organ.java\n</code></pre>\n<p>This compiles your code, creating corresponding <code>.class</code> files. Then, while still being immediately outside of the <code>OrganProject</code> folder, call the following command in that terminal too.</p>\n<pre><code>java OrganProject/Main\n</code></pre>\n<p>This will actually run the code. When I run your code, this is what I get.</p>\n<pre><code>Name: eye\nCondition: good\n</code></pre>\n"}],"owner":{"account_id":29383867,"reputation":3,"user_id":22513693,"display_name":"ling131031003"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77058249,"answer_count":1,"score":0,"last_activity_date":1694078525,"creation_date":1694055224,"question_id":77056325,"body_markdown":"I created a file Organ.java\r\n```\r\npackage OrganProject;\r\n\r\npublic class Organ{\r\n\r\n    private String name;\r\n    private String condition;\r\n\r\n    public Organ(String name, String condition){\r\n\r\n        this.name = name;\r\n        this.condition = condition;\r\n\r\n    }\r\n\r\n    public String getName(){\r\n        return this.name;\r\n    }\r\n\r\n    public String getCondition(){\r\n        return this.condition;\r\n    }\r\n\r\n    public void setName(String name){\r\n        this.name = name;\r\n    }\r\n\r\n    public void setCondition(String condition){\r\n        this.condition = condition;\r\n    }\r\n\r\n    public void display(){\r\n        System.out.println(&quot;Name: &quot; + this.getName());\r\n        System.out.println(&quot;Condition: &quot; + this.getCondition());\r\n    }\r\n}\r\n```\r\n\r\n\r\n however, when I call this class in Main.java\r\n```\r\npackage OrganProject;\r\npublic class Main { \r\n    public static void main(String[] args) {\r\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\r\n        organ.display();\r\n    }\r\n}\r\n```\r\nThere was an error showing that \r\n```\r\nMain.java:7: error: cannot find symbol\r\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\r\n        ^\r\n  symbol:   class Organ\r\n  location: class Main\r\nMain.java:7: error: cannot find symbol\r\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\r\n                          ^\r\n  symbol:   class Organ\r\n  location: class Main\r\n2 errors\r\n```\r\n\r\nThe 2 files are all in the same folder called OrganProject; however, they seem unable to interlink each other. May I ask what is the reason behind it and how to resolve this problem?\r\n\r\n\r\n\r\nI had tried to create new folder and move the files into that new folder, hope can refresh the compile, however, it did not work.","title":"Java: cannot find symbol when files are in same folder","body":"<p>I created a file Organ.java</p>\n<pre><code>package OrganProject;\n\npublic class Organ{\n\n    private String name;\n    private String condition;\n\n    public Organ(String name, String condition){\n\n        this.name = name;\n        this.condition = condition;\n\n    }\n\n    public String getName(){\n        return this.name;\n    }\n\n    public String getCondition(){\n        return this.condition;\n    }\n\n    public void setName(String name){\n        this.name = name;\n    }\n\n    public void setCondition(String condition){\n        this.condition = condition;\n    }\n\n    public void display(){\n        System.out.println(&quot;Name: &quot; + this.getName());\n        System.out.println(&quot;Condition: &quot; + this.getCondition());\n    }\n}\n</code></pre>\n<p>however, when I call this class in Main.java</p>\n<pre><code>package OrganProject;\npublic class Main { \n    public static void main(String[] args) {\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\n        organ.display();\n    }\n}\n</code></pre>\n<p>There was an error showing that</p>\n<pre><code>Main.java:7: error: cannot find symbol\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\n        ^\n  symbol:   class Organ\n  location: class Main\nMain.java:7: error: cannot find symbol\n        Organ organ = new Organ(&quot;eye&quot;, &quot;good&quot;);\n                          ^\n  symbol:   class Organ\n  location: class Main\n2 errors\n</code></pre>\n<p>The 2 files are all in the same folder called OrganProject; however, they seem unable to interlink each other. May I ask what is the reason behind it and how to resolve this problem?</p>\n<p>I had tried to create new folder and move the files into that new folder, hope can refresh the compile, however, it did not work.</p>\n"},{"tags":["java","web-services","rest","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400268935,"creation_date":1400268935,"answer_id":23703297,"question_id":23691662,"body_markdown":"JAX-RS will build a `JAXBContext` based on what the JAX-RS method returns.  JAXB will then pull in more classes via transitive relationships.  This doesn&#39;t always cause all the classes to be processed.  To get more control over the `JAXBContext` created you can create a `ContextResolver` that builds the `JAXBContext` the way that you want.\r\n\r\n    import java.util.*;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.ext.*;\r\n    import javax.xml.bind.*;\r\n    import org.eclipse.persistence.jaxb.JAXBContextFactory;\r\n     \r\n    @Provider\r\n    @Produces(MediaType.APPLICATION_XML)\r\n    public class MyContextResolver implements ContextResolver&lt;JAXBContext&gt; {\r\n     \r\n        private JAXBContext jc;\r\n     \r\n        public MyContextResolver() {\r\n            try {\r\n               jc = // Build Your JAXBContext on all classes it needs to be aware of.\r\n            } catch(JAXBException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n        public JAXBContext getContext(Class&lt;?&gt; clazz) {\r\n           // Return the JAXBContext for any class it is aware of otherwise return null.\r\n        }\r\n     \r\n    }\r\n\r\nI have provided some additional details on how your `JAXBContext` should be built in an answer to your related question:\r\n\r\n  - https://stackoverflow.com/questions/23676605/exception-in-thread-main-javax-xml-bind-jaxbexception-class-nor-any-of-its-su/23677884#23677884","title":"JAXBException occurred : class com.jaxb.model.copy.copy.Snapshot nor any of its super class is known to this context..","body":"<p>JAX-RS will build a <code>JAXBContext</code> based on what the JAX-RS method returns.  JAXB will then pull in more classes via transitive relationships.  This doesn't always cause all the classes to be processed.  To get more control over the <code>JAXBContext</code> created you can create a <code>ContextResolver</code> that builds the <code>JAXBContext</code> the way that you want.</p>\n\n<pre><code>import java.util.*;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.ext.*;\nimport javax.xml.bind.*;\nimport org.eclipse.persistence.jaxb.JAXBContextFactory;\n\n@Provider\n@Produces(MediaType.APPLICATION_XML)\npublic class MyContextResolver implements ContextResolver&lt;JAXBContext&gt; {\n\n    private JAXBContext jc;\n\n    public MyContextResolver() {\n        try {\n           jc = // Build Your JAXBContext on all classes it needs to be aware of.\n        } catch(JAXBException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public JAXBContext getContext(Class&lt;?&gt; clazz) {\n       // Return the JAXBContext for any class it is aware of otherwise return null.\n    }\n\n}\n</code></pre>\n\n<p>I have provided some additional details on how your <code>JAXBContext</code> should be built in an answer to your related question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23676605/exception-in-thread-main-javax-xml-bind-jaxbexception-class-nor-any-of-its-su/23677884#23677884\">Exception in thread &quot;main&quot; javax.xml.bind.JAXBException: class nor any of its super class is known to this context</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694078152,"creation_date":1423587891,"answer_id":28437548,"question_id":23691662,"body_markdown":"Thanks to @blaise-doughan. I had a similar problem. My SOAP service worked fine but REST responses were lost because of what you have mentioned and I have merged his solution with my current Implementation:\r\n\r\n    @Provider\r\n    @Service(&quot;myManager&quot;)\r\n    @WebService(serviceName = &quot;MyService&quot;, portName = &quot;MyManagerImpl&quot;)\r\n    public class MyManagerImpl implements    MyService, ContextResolver&lt;JAXBContext&gt; {\r\n    private JAXBContext jc;\r\n\r\n    public MyManagerImpl() {\r\n        try {\r\n            jc = JAXBContext.newInstance(Children.class, MyResponse.class);\r\n        } catch(JAXBException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        public JAXBContext getContext(Class&lt;?&gt; aClass) {\r\n            return jc;\r\n    }\r\n\r\n    }\r\nNow everything work fine.\r\n","title":"JAXBException occurred : class com.jaxb.model.copy.copy.Snapshot nor any of its super class is known to this context..","body":"<p>Thanks to @blaise-doughan. I had a similar problem. My SOAP service worked fine but REST responses were lost because of what you have mentioned and I have merged his solution with my current Implementation:</p>\n<pre><code>@Provider\n@Service(&quot;myManager&quot;)\n@WebService(serviceName = &quot;MyService&quot;, portName = &quot;MyManagerImpl&quot;)\npublic class MyManagerImpl implements    MyService, ContextResolver&lt;JAXBContext&gt; {\nprivate JAXBContext jc;\n\npublic MyManagerImpl() {\n    try {\n        jc = JAXBContext.newInstance(Children.class, MyResponse.class);\n    } catch(JAXBException e) {\n        throw new RuntimeException(e);\n    }\n\n    public JAXBContext getContext(Class&lt;?&gt; aClass) {\n        return jc;\n}\n\n}\n</code></pre>\n<p>Now everything work fine.</p>\n"}],"owner":{"account_id":3804257,"reputation":527,"user_id":3157090,"accept_rate":5,"display_name":"user3157090"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694078152,"creation_date":1400206990,"question_id":23691662,"body_markdown":"Can someone help me to resolve the issue, \r\nJAXBException occurred : class com.jaxb.model.copy.copy.Snapshot nor any of its super class is known to this context.. \r\n\r\nInterface JaxbWebResource\r\n\r\n\tpackage com.jaxb.model.copy.copy;\r\n\t\r\n\timport javax.servlet.http.HttpServletRequest;\r\n\timport javax.ws.rs.GET;\r\n\timport javax.ws.rs.Path;\r\n\timport javax.ws.rs.PathParam;\r\n\timport javax.ws.rs.Produces;\r\n\timport javax.ws.rs.core.Context;\r\n\timport javax.ws.rs.core.Response;\r\n\t\r\n\t@Path(&quot;/jaxb&quot;)\r\n\tpublic interface JaxbWebResource\r\n\t{\r\n\t\t@GET\r\n\t\t@Produces({ &quot;application/xml&quot;, &quot;application/json&quot; })\r\n\t\tpublic Response readOffer(@Context HttpServletRequest req);\r\n\t}\r\n\r\nClass JaxbWebResourceImpl\r\n\r\n\r\n\tpackage com.jaxb.model.copy.copy;\r\n\t\r\n\timport javax.servlet.http.HttpServletRequest;\r\n\timport javax.ws.rs.core.Response;\r\n\timport javax.ws.rs.core.Response.Status;\r\n\timport javax.xml.bind.JAXBElement;\r\n\t\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\timport com.jaxb.model.copy.copy.Foo;\r\n\timport com.jaxb.model.copy.copy.Moo;\r\n\timport com.jaxb.model.copy.copy.ObjectFactory;\r\n\timport com.jaxb.model.copy.copy.Snapshot;\r\n\t\r\n\t@Component(&quot;jaxbWebResource&quot;)\r\n\tpublic class JaxbWebResourceImpl implements JaxbWebResource\r\n\t{\r\n\t\r\n\t\t@Override\r\n\t\tpublic Response readOffer(final HttpServletRequest req) {\r\n\t\r\n\t\t\tSystem.out.println(&quot;JaxbWebResourceImpl readMarketingOffer&quot;);\r\n\t\t\tSnapshot snapshot = new Snapshot();\r\n\t\t\tFoo.Detail.Bar barV = new Foo.Detail.Bar();\r\n\t\t\tbarV.setBaz(&quot;heloo baz&quot;);\r\n\t\t\tJAXBElement&lt;Foo.Detail.Bar&gt; bar = new ObjectFactory().createBar(barV);\r\n\t\t\tbar.setNil(true);\r\n\t\t\tFoo.Detail detail = new Foo.Detail();\r\n\t\t\tdetail.setBar(bar);\r\n\t\t\tFoo foo = new Foo();\r\n\t\t\tfoo.setDetail(detail);\r\n\t\t\tsnapshot.setMoo(foo);\r\n\t\r\n\t\t\treturn Response.status(Status.OK).entity(snapshot).build();\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nObjectFactory class\r\n\r\n        package com.jaxb.model.copy.copy;\r\n\t\r\n\timport javax.xml.bind.JAXBElement;\r\n\timport javax.xml.bind.annotation.*;\r\n\timport javax.xml.namespace.QName;\r\n\t\r\n\t@XmlRegistry\r\n\tpublic class ObjectFactory {\r\n\t\r\n\t    @XmlElementDecl(namespace=&quot;&quot;,name=&quot;bar&quot;)\r\n\t    public JAXBElement&lt;Moo.Detail.Bar&gt; createBar(Moo.Detail.Bar bar) {\r\n\t        return new JAXBElement&lt;Moo.Detail.Bar&gt;(new QName(&quot;bar&quot;), Moo.Detail.Bar.class, bar);\r\n\t    }\r\n\t\r\n\t}\r\n\r\nFoo class\r\n\tpackage com.jaxb.model.copy.copy;\r\n\t\r\n\timport java.math.BigDecimal;\r\n\t\r\n\timport javax.xml.bind.JAXBElement;\r\n\timport javax.xml.bind.annotation.XmlAccessType;\r\n\timport javax.xml.bind.annotation.XmlAccessorType;\r\n\timport javax.xml.bind.annotation.XmlAttribute;\r\n\timport javax.xml.bind.annotation.XmlElement;\r\n\timport javax.xml.bind.annotation.XmlElementRef;\r\n\timport javax.xml.bind.annotation.XmlRootElement;\r\n\timport javax.xml.bind.annotation.XmlSeeAlso;\r\n\timport javax.xml.bind.annotation.XmlType;\r\n\timport javax.xml.bind.annotation.XmlValue;\r\n\t\r\n\timport com.guthyrenker.soma.ws.rest.v1.model.ObjectFactory;\r\n\timport com.guthyrenker.soma.ws.rest.v1.model.WSMarketingOfferOP;\r\n\timport com.guthyrenker.soma.ws.rest.v1.model.WSMarketingOfferWEB;\r\n\timport com.jaxb.model.copy.Snapshot;\r\n\timport com.jverstry.annotations.generics.Market;\r\n\t\r\n\t@XmlRootElement\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\r\n\tpublic class Foo extends Moo{\r\n\t\r\n\t\t@XmlElement\r\n\t   String name;\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t    \r\n\t}\r\nMoo class\r\n\tpackage com.jaxb.model.copy.copy;\r\n\t\r\n\timport java.math.BigDecimal;\r\n\t\r\n\timport javax.xml.bind.JAXBElement;\r\n\timport javax.xml.bind.annotation.XmlAccessType;\r\n\timport javax.xml.bind.annotation.XmlAccessorType;\r\n\timport javax.xml.bind.annotation.XmlAttribute;\r\n\timport javax.xml.bind.annotation.XmlElement;\r\n\timport javax.xml.bind.annotation.XmlElementRef;\r\n\timport javax.xml.bind.annotation.XmlRootElement;\r\n\timport javax.xml.bind.annotation.XmlType;\r\n\timport javax.xml.bind.annotation.XmlValue;\r\n\t\r\n\timport com.jverstry.annotations.generics.Market;\r\n\t\r\n\t@XmlRootElement\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\tpublic class Moo {\r\n\t\r\n\t   \r\n\t\t @XmlElement\r\n\t\t\tprotected Detail detail;\r\n\t\t\r\n\t\t\tpublic Detail getDetail() {\r\n\t\t\t\treturn detail;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setDetail(Detail detail) {\r\n\t\t\t\tthis.detail = detail;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\t@XmlType(name = &quot;&quot;, propOrder = { &quot;bar&quot;})\r\n\t\t\tpublic static class Detail\r\n\t\t\t{\r\n\t\t\t\t@XmlElementRef(name=&quot;bar&quot;)\r\n\t\t\t    private JAXBElement&lt;Foo.Detail.Bar&gt; bar;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tpublic JAXBElement&lt;Foo.Detail.Bar&gt; getBar() {\r\n\t\t\t\t\treturn bar;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tpublic void setBar(JAXBElement&lt;Foo.Detail.Bar&gt; bar) {\r\n\t\t\t\t\tthis.bar = bar;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t\t\t\t@XmlType(name = &quot;&quot;, propOrder = { &quot;value&quot; })\r\n\t\t\t\t\tpublic static class Bar\r\n\t\t\t\t\t{\r\n\t\t\r\n\t\t\t\t    \t @XmlAttribute\r\n\t\t\t\t    \t protected String baz;\r\n\t\t\t\t    \t    \r\n\t\t\t\t    \t @XmlValue\r\n\t\t\t\t    \t\tprotected BigDecimal value;\r\n\t\t\r\n\t\t\t\t\t\t\tpublic String getBaz() {\r\n\t\t\t\t\t\t\t\treturn baz;\r\n\t\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t\t\tpublic void setBaz(String baz) {\r\n\t\t\t\t\t\t\t\tthis.baz = baz;\r\n\t\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t\t\tpublic BigDecimal getValue() {\r\n\t\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t\t}\r\n\t\t\r\n\t\t\t\t\t\t\tpublic void setValue(BigDecimal value) {\r\n\t\t\t\t\t\t\t\tthis.value = value;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\nSnapshot class\r\n\tpackage com.jaxb.model.copy.copy;\r\n\t\r\n\timport java.util.Date;\r\n\t\r\n\timport javax.xml.bind.annotation.XmlAccessType;\r\n\timport javax.xml.bind.annotation.XmlAccessorType;\r\n\timport javax.xml.bind.annotation.XmlAttribute;\r\n\timport javax.xml.bind.annotation.XmlElement;\r\n\timport javax.xml.bind.annotation.XmlRootElement;\r\n\timport javax.xml.bind.annotation.XmlType;\r\n\t\r\n\timport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\timport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n\timport com.guthyrenker.soma.ws.rest.v1.adapter.JsonDateTimeSerializer;\r\n\t/**\r\n\t * @author Srinivasa Kankipati\r\n\t * @since 1.0\r\n\t */\r\n\t@XmlAccessorType(XmlAccessType.FIELD)\r\n\t@XmlType(propOrder = { &quot;mask&quot;, &quot;xmlns&quot;, &quot;currentAsOf&quot;,&quot;moo&quot; })\r\n\t@XmlRootElement(name = &quot;snapshot&quot;)\r\n\tpublic class Snapshot&lt;T extends Moo&gt;\r\n\t{\r\n\t\t@XmlAttribute\r\n\t\tpublic String mask;\r\n\t\r\n\t\t@XmlElement\r\n\t\tpublic Date currentAsOf;\r\n\t\r\n\t\t@XmlAttribute\r\n\t\t@JsonIgnore\r\n\t\tpublic String xmlns;\r\n\t\t\r\n\t\t@XmlElement(name = &quot;moo&quot;)\r\n\t\tprivate Moo moo;\r\n\t\r\n\t\tpublic String getMask() {\r\n\t\t\treturn mask;\r\n\t\t}\r\n\t\r\n\t\tpublic void setMask(String mask) {\r\n\t\t\tthis.mask = mask;\r\n\t\t}\r\n\t\r\n\t\tpublic Date getCurrentAsOf() {\r\n\t\t\treturn currentAsOf;\r\n\t\t}\r\n\t\r\n\t\tpublic void setCurrentAsOf(Date currentAsOf) {\r\n\t\t\tthis.currentAsOf = currentAsOf;\r\n\t\t}\r\n\t\r\n\t\tpublic String getXmlns() {\r\n\t\t\treturn xmlns;\r\n\t\t}\r\n\t\r\n\t\tpublic void setXmlns(String xmlns) {\r\n\t\t\tthis.xmlns = xmlns;\r\n\t\t}\r\n\r\n\t\tpublic Moo getMoo() {\r\n\t\t\treturn moo;\r\n\t\t}\r\n\r\n\t\tpublic void setMoo(Moo moo) {\r\n\t\t\tthis.moo = moo;\r\n\t\t}\r\n\t}\r\n","title":"JAXBException occurred : class com.jaxb.model.copy.copy.Snapshot nor any of its super class is known to this context..","body":"<p>Can someone help me to resolve the issue, \nJAXBException occurred : class com.jaxb.model.copy.copy.Snapshot nor any of its super class is known to this context.. </p>\n\n<p>Interface JaxbWebResource</p>\n\n<pre><code>package com.jaxb.model.copy.copy;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.Response;\n\n@Path(\"/jaxb\")\npublic interface JaxbWebResource\n{\n    @GET\n    @Produces({ \"application/xml\", \"application/json\" })\n    public Response readOffer(@Context HttpServletRequest req);\n}\n</code></pre>\n\n<p>Class JaxbWebResourceImpl</p>\n\n<pre><code>package com.jaxb.model.copy.copy;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.xml.bind.JAXBElement;\n\nimport org.springframework.stereotype.Component;\n\nimport com.jaxb.model.copy.copy.Foo;\nimport com.jaxb.model.copy.copy.Moo;\nimport com.jaxb.model.copy.copy.ObjectFactory;\nimport com.jaxb.model.copy.copy.Snapshot;\n\n@Component(\"jaxbWebResource\")\npublic class JaxbWebResourceImpl implements JaxbWebResource\n{\n\n    @Override\n    public Response readOffer(final HttpServletRequest req) {\n\n        System.out.println(\"JaxbWebResourceImpl readMarketingOffer\");\n        Snapshot snapshot = new Snapshot();\n        Foo.Detail.Bar barV = new Foo.Detail.Bar();\n        barV.setBaz(\"heloo baz\");\n        JAXBElement&lt;Foo.Detail.Bar&gt; bar = new ObjectFactory().createBar(barV);\n        bar.setNil(true);\n        Foo.Detail detail = new Foo.Detail();\n        detail.setBar(bar);\n        Foo foo = new Foo();\n        foo.setDetail(detail);\n        snapshot.setMoo(foo);\n\n        return Response.status(Status.OK).entity(snapshot).build();\n\n    }\n\n}\n</code></pre>\n\n<p>ObjectFactory class</p>\n\n<pre><code>    package com.jaxb.model.copy.copy;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.*;\nimport javax.xml.namespace.QName;\n\n@XmlRegistry\npublic class ObjectFactory {\n\n    @XmlElementDecl(namespace=\"\",name=\"bar\")\n    public JAXBElement&lt;Moo.Detail.Bar&gt; createBar(Moo.Detail.Bar bar) {\n        return new JAXBElement&lt;Moo.Detail.Bar&gt;(new QName(\"bar\"), Moo.Detail.Bar.class, bar);\n    }\n\n}\n</code></pre>\n\n<p>Foo class\n    package com.jaxb.model.copy.copy;</p>\n\n<pre><code>import java.math.BigDecimal;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementRef;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSeeAlso;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.bind.annotation.XmlValue;\n\nimport com.guthyrenker.soma.ws.rest.v1.model.ObjectFactory;\nimport com.guthyrenker.soma.ws.rest.v1.model.WSMarketingOfferOP;\nimport com.guthyrenker.soma.ws.rest.v1.model.WSMarketingOfferWEB;\nimport com.jaxb.model.copy.Snapshot;\nimport com.jverstry.annotations.generics.Market;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n\npublic class Foo extends Moo{\n\n    @XmlElement\n   String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p>Moo class\n    package com.jaxb.model.copy.copy;</p>\n\n<pre><code>import java.math.BigDecimal;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementRef;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.bind.annotation.XmlValue;\n\nimport com.jverstry.annotations.generics.Market;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Moo {\n\n\n     @XmlElement\n        protected Detail detail;\n\n        public Detail getDetail() {\n            return detail;\n        }\n\n        public void setDetail(Detail detail) {\n            this.detail = detail;\n        }\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = \"\", propOrder = { \"bar\"})\n        public static class Detail\n        {\n            @XmlElementRef(name=\"bar\")\n            private JAXBElement&lt;Foo.Detail.Bar&gt; bar;\n\n\n                public JAXBElement&lt;Foo.Detail.Bar&gt; getBar() {\n                return bar;\n            }\n\n            public void setBar(JAXBElement&lt;Foo.Detail.Bar&gt; bar) {\n                this.bar = bar;\n            }\n\n\n\n\n            @XmlAccessorType(XmlAccessType.FIELD)\n            @XmlType(name = \"\", propOrder = { \"value\" })\n                public static class Bar\n                {\n\n                     @XmlAttribute\n                     protected String baz;\n\n                     @XmlValue\n                        protected BigDecimal value;\n\n                        public String getBaz() {\n                            return baz;\n                        }\n\n                        public void setBaz(String baz) {\n                            this.baz = baz;\n                        }\n\n                        public BigDecimal getValue() {\n                            return value;\n                        }\n\n                        public void setValue(BigDecimal value) {\n                            this.value = value;\n                        }\n                }\n        }\n}\n</code></pre>\n\n<p>Snapshot class\n    package com.jaxb.model.copy.copy;</p>\n\n<pre><code>import java.util.Date;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.guthyrenker.soma.ws.rest.v1.adapter.JsonDateTimeSerializer;\n/**\n * @author Srinivasa Kankipati\n * @since 1.0\n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = { \"mask\", \"xmlns\", \"currentAsOf\",\"moo\" })\n@XmlRootElement(name = \"snapshot\")\npublic class Snapshot&lt;T extends Moo&gt;\n{\n    @XmlAttribute\n    public String mask;\n\n    @XmlElement\n    public Date currentAsOf;\n\n    @XmlAttribute\n    @JsonIgnore\n    public String xmlns;\n\n    @XmlElement(name = \"moo\")\n    private Moo moo;\n\n    public String getMask() {\n        return mask;\n    }\n\n    public void setMask(String mask) {\n        this.mask = mask;\n    }\n\n    public Date getCurrentAsOf() {\n        return currentAsOf;\n    }\n\n    public void setCurrentAsOf(Date currentAsOf) {\n        this.currentAsOf = currentAsOf;\n    }\n\n    public String getXmlns() {\n        return xmlns;\n    }\n\n    public void setXmlns(String xmlns) {\n        this.xmlns = xmlns;\n    }\n\n    public Moo getMoo() {\n        return moo;\n    }\n\n    public void setMoo(Moo moo) {\n        this.moo = moo;\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","maven","encoding","java-8"],"comments":[{"owner":{"account_id":889930,"reputation":924,"user_id":928408,"accept_rate":28,"display_name":"Sebastian L"},"score":1,"creation_date":1623854006,"post_id":68003423,"comment_id":120197298,"body_markdown":"I having similar issues. Rolled back all local changes and still got the issue. Worked earlier today and pretty sure I haven&#39;t had any updates.","body":"I having similar issues. Rolled back all local changes and still got the issue. Worked earlier today and pretty sure I haven&#39;t had any updates."},{"owner":{"account_id":8717071,"reputation":1448,"user_id":6521310,"accept_rate":50,"display_name":"Shylajhaa"},"score":0,"creation_date":1623860661,"post_id":68003423,"comment_id":120200529,"body_markdown":"@SebastianL Please find my answer, it worked for me","body":"@SebastianL Please find my answer, it worked for me"},{"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"score":0,"creation_date":1689333913,"post_id":68003423,"comment_id":135202077,"body_markdown":"Windows User: Search for resolver-status.properties files in entire .m2 folder using file-explorer then delete all those searched files and rerun maven command. It will start working","body":"Windows User: Search for resolver-status.properties files in entire .m2 folder using file-explorer then delete all those searched files and rerun maven command. It will start working"}],"answers":[{"tags":[],"owner":{"account_id":8717071,"reputation":1448,"user_id":6521310,"accept_rate":50,"display_name":"Shylajhaa"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1623860631,"creation_date":1623860631,"answer_id":68006608,"question_id":68003423,"body_markdown":"Found out that the java version that maven was pointing to was different from the java version I was using.\r\nSeems like maven always points to the latest version of java.\r\n\r\nFirst check if this is the issue by running `mvn --version`\r\n\r\nIf there is a mismatch in java version set JAVA_HOME by running\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nNow run `mvn --version`. Maven should point to the right Java version.\r\n\r\nWhen you run `mvn install` next time, maven automatically picks up the version set in JAVA_HOME","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Found out that the java version that maven was pointing to was different from the java version I was using.\nSeems like maven always points to the latest version of java.</p>\n<p>First check if this is the issue by running <code>mvn --version</code></p>\n<p>If there is a mismatch in java version set JAVA_HOME by running</p>\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n<p>Now run <code>mvn --version</code>. Maven should point to the right Java version.</p>\n<p>When you run <code>mvn install</code> next time, maven automatically picks up the version set in JAVA_HOME</p>\n"},{"tags":[],"owner":{"account_id":19393894,"reputation":361,"user_id":14181948,"display_name":"Alexey Poletaev"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1625051220,"creation_date":1625050773,"answer_id":68193490,"question_id":68003423,"body_markdown":"In my case the problem was in the 3rd party library, incorrect charаcters somehow were saved to the **resolver-status.properties** file (example of incorrect line: `maven-metadata-nexus-releases.xml.lastUpda\\u0000\\u0000\\....`) which is located under the `~/.m2/repository/path-to-the-library`. Just removed the folder with the library and rebuilt the project.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>In my case the problem was in the 3rd party library, incorrect charаcters somehow were saved to the <strong>resolver-status.properties</strong> file (example of incorrect line: <code>maven-metadata-nexus-releases.xml.lastUpda\\u0000\\u0000\\....</code>) which is located under the <code>~/.m2/repository/path-to-the-library</code>. Just removed the folder with the library and rebuilt the project.</p>\n"},{"tags":[],"owner":{"account_id":1597009,"reputation":5417,"user_id":1478852,"accept_rate":63,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1627311370,"creation_date":1627311370,"answer_id":68532125,"question_id":68003423,"body_markdown":"I removed all artifacts from my ~/.m2 directory and re-ran mvn build. \r\nThis time, build succeeded!","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>I removed all artifacts from my ~/.m2 directory and re-ran mvn build.\nThis time, build succeeded!</p>\n"},{"tags":[],"owner":{"account_id":2091713,"reputation":65,"user_id":1861396,"display_name":"kamdzi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627460641,"creation_date":1627460641,"answer_id":68556866,"question_id":68003423,"body_markdown":"Problem is likely in one of your dependencies (same as suggested by Alexey). For me the issue was to find the right dependency that got resolver-status.properties corrupted. What helped was running mvn clean install in debug mode (using Intellig configuration debug) and putting th endpoint in Properties.java (exact line should be in a stacktrace when you run with -e or -X option). In debug you can easily find which dependency is corrupted and remove only this dependency instead of entire .m2 catalog","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Problem is likely in one of your dependencies (same as suggested by Alexey). For me the issue was to find the right dependency that got resolver-status.properties corrupted. What helped was running mvn clean install in debug mode (using Intellig configuration debug) and putting th endpoint in Properties.java (exact line should be in a stacktrace when you run with -e or -X option). In debug you can easily find which dependency is corrupted and remove only this dependency instead of entire .m2 catalog</p>\n"},{"tags":[],"owner":{"account_id":13597048,"reputation":3418,"user_id":9808792,"display_name":"micycle"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1630436825,"creation_date":1630436825,"answer_id":69004125,"question_id":68003423,"body_markdown":"To find which file is malformed (as to not have to delete your entire Maven repository) you can debug it like so:\r\n\r\n1) Add a breakpoint to the relevant line in `java.util.Properties` (as detailed in the error stack trace) and then run any Maven action in debug mode.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2) When the code hits that breakpoint, find and select `TrackingFileManager.read(File)` in the call stack.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3) Now find path of the file that caused the issue.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4) The file is indeed malformed... Delete the file (and Maven will re-download it during the next action).\r\n\r\n[![enter image description here][4]][4]\r\n\r\n5) The correct file (after having been deleted and re-downloaded):\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ph5nF.png\r\n  [2]: https://i.stack.imgur.com/v0hn8.png\r\n  [3]: https://i.stack.imgur.com/3yV1X.png\r\n  [4]: https://i.stack.imgur.com/2NNg9.png\r\n  [5]: https://i.stack.imgur.com/d9Bc4.png","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>To find which file is malformed (as to not have to delete your entire Maven repository) you can debug it like so:</p>\n<ol>\n<li>Add a breakpoint to the relevant line in <code>java.util.Properties</code> (as detailed in the error stack trace) and then run any Maven action in debug mode.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ph5nF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ph5nF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>When the code hits that breakpoint, find and select <code>TrackingFileManager.read(File)</code> in the call stack.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/v0hn8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v0hn8.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Now find path of the file that caused the issue.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3yV1X.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3yV1X.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>The file is indeed malformed... Delete the file (and Maven will re-download it during the next action).</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/2NNg9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2NNg9.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>The correct file (after having been deleted and re-downloaded):</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/d9Bc4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d9Bc4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10147842,"reputation":2431,"user_id":10100205,"display_name":"Roy van Santen"},"down_vote_count":0,"up_vote_count":173,"is_accepted":false,"score":173,"last_activity_date":1655882154,"creation_date":1631707687,"answer_id":69192826,"question_id":68003423,"body_markdown":"For me it turned out to be a corrupted dependency as well.  \r\nI did not want to go through the process of setting up the debugger, so decided to look for files containing `\\u0000` in my `~/.m2` directory by running:\r\n\r\n```\r\ngrep -rnw ~/.m2 -e &#39;\\u0000&#39;\r\n``` \r\nafter that you will get the files which are corrupted, delete those files and then build the maven.\r\n\r\nNote that you have to specify your repository folder if you configured it different to the default. Read your `~/.m2/settings.xml` and use the value from `localRepository` instead. E.g.:\r\n\r\n    &lt;settings&gt;\r\n      &lt;localRepository&gt;/else/where&lt;/localRepository&gt;\r\n\r\nuse:\r\n```\r\ngrep -rnw /else/where -e &#39;\\u0000&#39;\r\n```\r\n\r\nand if you want all these files removed, pipe the file names to `xargs rm`:\r\n```\r\ngrep -lrnw /else/where -e &#39;\\u0000&#39; | xargs rm\r\n```\r\n\r\n\r\n    \r\n","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>For me it turned out to be a corrupted dependency as well.<br />\nI did not want to go through the process of setting up the debugger, so decided to look for files containing <code>\\u0000</code> in my <code>~/.m2</code> directory by running:</p>\n<pre><code>grep -rnw ~/.m2 -e '\\u0000'\n</code></pre>\n<p>after that you will get the files which are corrupted, delete those files and then build the maven.</p>\n<p>Note that you have to specify your repository folder if you configured it different to the default. Read your <code>~/.m2/settings.xml</code> and use the value from <code>localRepository</code> instead. E.g.:</p>\n<pre><code>&lt;settings&gt;\n  &lt;localRepository&gt;/else/where&lt;/localRepository&gt;\n</code></pre>\n<p>use:</p>\n<pre><code>grep -rnw /else/where -e '\\u0000'\n</code></pre>\n<p>and if you want all these files removed, pipe the file names to <code>xargs rm</code>:</p>\n<pre><code>grep -lrnw /else/where -e '\\u0000' | xargs rm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22083784,"reputation":99,"user_id":16342956,"display_name":"patel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639125103,"creation_date":1639125103,"answer_id":70301717,"question_id":68003423,"body_markdown":"removing .m2 folder and re-installing the dependency worked for me.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>removing .m2 folder and re-installing the dependency worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3446214,"reputation":379,"user_id":2886980,"display_name":"Rafi"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1649152883,"creation_date":1643026294,"answer_id":70833675,"question_id":68003423,"body_markdown":"Actually most of those answers are correct, but a little bit incomplete. Message shows up, because `resolver-status.properties` files get corrupted and they contain \\u0000 as shown in micycle&#39;s answer. It sometimes helps to delete corrupted files and rerun maven command. Sometimes problem disappears and sometimes not. The question emerges WHY those files get corrupted. Well, it seems that maven contains a bug in resolver: https://issues.apache.org/jira/browse/MRESOLVER-216\r\n\r\nIt seems that synchronization of multiple threads responsible for resolving dependencies is broken and in some conditions multiple threads resolve the same artifact and they break `resolver-status.properties` as shown by micycle.\r\n\r\nIn case your build still does not complete successfully despite deleting broken files you might want to limit resolver threads to one. To do that use JVM property:\r\n\r\n```\r\n-Daether.metadataResolver.threads=1\r\n```\r\n\r\nIf you are using IntelliJ Idea use `Settings-&gt;Build,Execution,Deployment-&gt;Maven-&gt;Runner` field `VMOptions`:\r\n\r\n[![IntelliJ IDEA 2021.3.1][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YHjb2.png\r\n\r\nAfter making this change remember to delete broken files (or whole `.m2` directory) because once the files become corrupted they won&#39;t be fixed. Then rerun your Maven build.\r\n","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Actually most of those answers are correct, but a little bit incomplete. Message shows up, because <code>resolver-status.properties</code> files get corrupted and they contain \\u0000 as shown in micycle's answer. It sometimes helps to delete corrupted files and rerun maven command. Sometimes problem disappears and sometimes not. The question emerges WHY those files get corrupted. Well, it seems that maven contains a bug in resolver: <a href=\"https://issues.apache.org/jira/browse/MRESOLVER-216\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MRESOLVER-216</a></p>\n<p>It seems that synchronization of multiple threads responsible for resolving dependencies is broken and in some conditions multiple threads resolve the same artifact and they break <code>resolver-status.properties</code> as shown by micycle.</p>\n<p>In case your build still does not complete successfully despite deleting broken files you might want to limit resolver threads to one. To do that use JVM property:</p>\n<pre><code>-Daether.metadataResolver.threads=1\n</code></pre>\n<p>If you are using IntelliJ Idea use <code>Settings-&gt;Build,Execution,Deployment-&gt;Maven-&gt;Runner</code> field <code>VMOptions</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/YHjb2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YHjb2.png\" alt=\"IntelliJ IDEA 2021.3.1\" /></a></p>\n<p>After making this change remember to delete broken files (or whole <code>.m2</code> directory) because once the files become corrupted they won't be fixed. Then rerun your Maven build.</p>\n"},{"tags":[],"owner":{"account_id":7812280,"reputation":141,"user_id":5908133,"display_name":"fsimone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646846353,"creation_date":1646846353,"answer_id":71413458,"question_id":68003423,"body_markdown":"deleting &quot;resolver-status.properties&quot; under\r\n\r\n\\.m2\\repository\\kr\\motd\\maven\\os-maven-plugin\r\n\r\nresolve problem for me","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>deleting &quot;resolver-status.properties&quot; under</p>\n<p>.m2\\repository\\kr\\motd\\maven\\os-maven-plugin</p>\n<p>resolve problem for me</p>\n"},{"tags":[],"owner":{"account_id":23209048,"reputation":1,"user_id":17302824,"display_name":"SHRAWAN CHOUDHARY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663796420,"creation_date":1663164998,"answer_id":73718437,"question_id":68003423,"body_markdown":"In my case, when we build the project or run any Maven command for the first time,  dependencies or properties are getting saved in the repository folder (default location: ~/.m2/repository).\r\n\r\nI have used multiple Maven and Java versions in the past, so some files are corrupted or valid for those specific versions.\r\n\r\nI deleted this &quot;repository&quot; folder then built the project with Maven, and this time it built successfully.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>In my case, when we build the project or run any Maven command for the first time,  dependencies or properties are getting saved in the repository folder (default location: ~/.m2/repository).</p>\n<p>I have used multiple Maven and Java versions in the past, so some files are corrupted or valid for those specific versions.</p>\n<p>I deleted this &quot;repository&quot; folder then built the project with Maven, and this time it built successfully.</p>\n"},{"tags":[],"owner":{"account_id":1711539,"reputation":154,"user_id":1569502,"display_name":"Shaolin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670320212,"creation_date":1670320212,"answer_id":74700424,"question_id":68003423,"body_markdown":"Upgrading from 3.8.1 to 3.8.6 fixed the problem.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Upgrading from 3.8.1 to 3.8.6 fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":26282955,"reputation":96,"user_id":19951158,"display_name":"Evghenii Racila"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1671634509,"creation_date":1671634272,"answer_id":74877831,"question_id":68003423,"body_markdown":"You don&#39;t actually need to delete the whole local maven repo, just the **resolver-status.properties** files in there, for mac:\r\n\r\n```find .m2/ -name resolver-status.properties -delete``` \r\n\r\nworks as a charm. I&#39;ve even added an alias, as I use it pretty frequently, once in a couple of weeks.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>You don't actually need to delete the whole local maven repo, just the <strong>resolver-status.properties</strong> files in there, for mac:</p>\n<p><code>find .m2/ -name resolver-status.properties -delete</code></p>\n<p>works as a charm. I've even added an alias, as I use it pretty frequently, once in a couple of weeks.</p>\n"},{"tags":[],"owner":{"account_id":27445171,"reputation":1,"user_id":20939095,"display_name":"Mukunda Gaddam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672941102,"creation_date":1672941102,"answer_id":75022473,"question_id":68003423,"body_markdown":"Just do a Global search for  resolver-status.properties and delete that file and restart the IDE. That should resolve the issue.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Just do a Global search for  resolver-status.properties and delete that file and restart the IDE. That should resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":24502728,"reputation":921,"user_id":18418131,"display_name":"mahipalkeizer"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1674551334,"creation_date":1674551334,"answer_id":75219393,"question_id":68003423,"body_markdown":"I wrote an answer for another [Question][1], this is similar issue. Below Solution worked for me.\r\n\r\ngo to your .m2 directory in home directory and for every dependence delete the &quot;resolver-status.properties&quot;. You can do that using \r\n\r\n    find ~/.m2/ -name resolver-status.properties -delete\r\n\r\nIt will find all &quot;resolver-status.properties&quot; and -delete flag will delete them.\r\n\r\nNow reload maven project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17043037/ant-malformed-uxxxx-encoding-in-propertyfile-task/71408534#71408534","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>I wrote an answer for another <a href=\"https://stackoverflow.com/questions/17043037/ant-malformed-uxxxx-encoding-in-propertyfile-task/71408534#71408534\">Question</a>, this is similar issue. Below Solution worked for me.</p>\n<p>go to your .m2 directory in home directory and for every dependence delete the &quot;resolver-status.properties&quot;. You can do that using</p>\n<pre><code>find ~/.m2/ -name resolver-status.properties -delete\n</code></pre>\n<p>It will find all &quot;resolver-status.properties&quot; and -delete flag will delete them.</p>\n<p>Now reload maven project.</p>\n"},{"tags":[],"owner":{"account_id":12006973,"reputation":61,"user_id":8785016,"display_name":"Purba"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1675071664,"creation_date":1675071664,"answer_id":75282545,"question_id":68003423,"body_markdown":"Go to .m2 repository, then run the below cmd from there\r\nFINDSTR /S /M &quot;u0&quot; resolver-status.properties\r\nThis will enlist all the corrupted resolver properties files, delete them and you are good to GO!","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Go to .m2 repository, then run the below cmd from there\nFINDSTR /S /M &quot;u0&quot; resolver-status.properties\nThis will enlist all the corrupted resolver properties files, delete them and you are good to GO!</p>\n"},{"tags":[],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1691745089,"creation_date":1691498105,"answer_id":76859629,"question_id":68003423,"body_markdown":"Here is the solution for this issue for Windows users (didn&#39;t see any better solution for Windows users).\r\n\r\nOpen command prompt from .m2/repository/ folder and run the below FINDSTR command:\r\n\r\n    FINDSTR /S /M &quot;u0&quot; resolver-status.properties\r\n\r\nThis command will filter out the resolver-status.properties that has corrupt encoding.\r\n\r\nOnce you find the list of resolver-status.properties files, just delete them and then build your app.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>Here is the solution for this issue for Windows users (didn't see any better solution for Windows users).</p>\n<p>Open command prompt from .m2/repository/ folder and run the below FINDSTR command:</p>\n<pre><code>FINDSTR /S /M &quot;u0&quot; resolver-status.properties\n</code></pre>\n<p>This command will filter out the resolver-status.properties that has corrupt encoding.</p>\n<p>Once you find the list of resolver-status.properties files, just delete them and then build your app.</p>\n"},{"tags":[],"owner":{"account_id":29385923,"reputation":1,"user_id":22515376,"display_name":"JYHU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694077889,"creation_date":1694077764,"answer_id":77058150,"question_id":68003423,"body_markdown":"First, switch to directory \r\n```\r\ncd ~/.m2\r\n```\r\nthen execute command line :\r\n```\r\nfind ./ -name resolver-status.properties |xargs -I {} ls -l {}\r\n```\r\nit will delete error files which was created by error building, then it works.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>First, switch to directory</p>\n<pre><code>cd ~/.m2\n</code></pre>\n<p>then execute command line :</p>\n<pre><code>find ./ -name resolver-status.properties |xargs -I {} ls -l {}\n</code></pre>\n<p>it will delete error files which was created by error building, then it works.</p>\n"}],"owner":{"account_id":8717071,"reputation":1448,"user_id":6521310,"accept_rate":50,"display_name":"Shylajhaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114050,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"answer_count":17,"score":103,"last_activity_date":1694077889,"creation_date":1623849327,"question_id":68003423,"body_markdown":"While running mvn install in my project, I end up with this error. While a lot of answers and resources point out errors in `/` vs `\\`, I want to mention that I have no local changes and this repo just works fine for others in my team. It worked fine for me as well before.\r\n\r\n*Running on Mac Os 10.15.7 with JDK 1.8.0_291*\r\n\r\nPlease find the full stacktrace:\r\n\r\n```none\r\n[ERROR] Malformed \\uxxxx encoding.\r\njava.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\r\n    at java.util.Properties.loadConvert (Properties.java:672)\r\n    at java.util.Properties.load0 (Properties.java:455)\r\n    at java.util.Properties.load (Properties.java:408)\r\n    at org.eclipse.aether.internal.impl.TrackingFileManager.read (TrackingFileManager.java:56)\r\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read (DefaultUpdateCheckManager.java:511)\r\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata (DefaultUpdateCheckManager.java:250)\r\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve (DefaultMetadataResolver.java:302)\r\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata (DefaultMetadataResolver.java:181)\r\n    at org.apache.maven.repository.internal.DefaultVersionRangeResolver.getVersions (DefaultVersionRangeResolver.java:198)\r\n    at org.apache.maven.repository.internal.DefaultVersionRangeResolver.resolveVersionRange (DefaultVersionRangeResolver.java:148)\r\n    at org.apache.maven.repository.internal.DefaultModelResolver.resolveModel (DefaultModelResolver.java:197)\r\n    at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally (DefaultModelBuilder.java:1070)\r\n    at org.apache.maven.model.building.DefaultModelBuilder.readParent (DefaultModelBuilder.java:846)\r\n    at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:337)\r\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom (DefaultArtifactDescriptorReader.java:292)\r\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor (DefaultArtifactDescriptorReader.java:171)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor (DefaultDependencyCollector.java:538)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult (DefaultDependencyCollector.java:523)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:410)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\r\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies (DefaultDependencyCollector.java:254)\r\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies (DefaultRepositorySystem.java:284)\r\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:169)\r\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:567)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n```\r\n\r\nI have already tried the following:\r\n\r\n 1. Reinstalled java on my mac\r\n 2. Reinstalled maven\r\n 3. Tried to invalidate cache and restart IntelliJ multiple times.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding while mvn install","body":"<p>While running mvn install in my project, I end up with this error. While a lot of answers and resources point out errors in <code>/</code> vs <code>\\</code>, I want to mention that I have no local changes and this repo just works fine for others in my team. It worked fine for me as well before.</p>\n<p><em>Running on Mac Os 10.15.7 with JDK 1.8.0_291</em></p>\n<p>Please find the full stacktrace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Malformed \\uxxxx encoding.\njava.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\n    at java.util.Properties.loadConvert (Properties.java:672)\n    at java.util.Properties.load0 (Properties.java:455)\n    at java.util.Properties.load (Properties.java:408)\n    at org.eclipse.aether.internal.impl.TrackingFileManager.read (TrackingFileManager.java:56)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read (DefaultUpdateCheckManager.java:511)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata (DefaultUpdateCheckManager.java:250)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve (DefaultMetadataResolver.java:302)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata (DefaultMetadataResolver.java:181)\n    at org.apache.maven.repository.internal.DefaultVersionRangeResolver.getVersions (DefaultVersionRangeResolver.java:198)\n    at org.apache.maven.repository.internal.DefaultVersionRangeResolver.resolveVersionRange (DefaultVersionRangeResolver.java:148)\n    at org.apache.maven.repository.internal.DefaultModelResolver.resolveModel (DefaultModelResolver.java:197)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally (DefaultModelBuilder.java:1070)\n    at org.apache.maven.model.building.DefaultModelBuilder.readParent (DefaultModelBuilder.java:846)\n    at org.apache.maven.model.building.DefaultModelBuilder.build (DefaultModelBuilder.java:337)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom (DefaultArtifactDescriptorReader.java:292)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor (DefaultArtifactDescriptorReader.java:171)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor (DefaultDependencyCollector.java:538)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult (DefaultDependencyCollector.java:523)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:410)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse (DefaultDependencyCollector.java:506)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:458)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:362)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:349)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies (DefaultDependencyCollector.java:254)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies (DefaultRepositorySystem.java:284)\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:169)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n</code></pre>\n<p>I have already tried the following:</p>\n<ol>\n<li>Reinstalled java on my mac</li>\n<li>Reinstalled maven</li>\n<li>Tried to invalidate cache and restart IntelliJ multiple times.</li>\n</ol>\n"},{"tags":["java"],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694077312,"creation_date":1687146006,"question_id":76503489,"body_markdown":"I am reading the source code AbstractQueuedSynchronizer#ConditionObject of Java 8, I got a question here:\r\n\r\nthe addConditionWaiter method in AbstractQueuedSynchronizer#ConditionObject is defined as follows：\r\n\r\n```java\r\nprivate Node addConditionWaiter() {\r\n    Node t = lastWaiter;\r\n    // If lastWaiter is cancelled, clean out.\r\n    if (t != null &amp;&amp; t.waitStatus != Node.CONDITION) {\r\n        unlinkCancelledWaiters();\r\n        t = lastWaiter;\r\n    }\r\n    Node node = new Node(Thread.currentThread(), Node.CONDITION);\r\n    if (t == null)\r\n        firstWaiter = node;\r\n    else\r\n        t.nextWaiter = node;\r\n    lastWaiter = node;\r\n    return node;\r\n}\r\n```\r\n\r\nI have a question for the following code snippet:\r\n\r\n\r\n```java\r\nNode t = lastWaiter;\r\n// If lastWaiter is cancelled, clean out.\r\nif (t != null &amp;&amp; t.waitStatus != Node.CONDITION) {\r\n    unlinkCancelledWaiters();\r\n    t = lastWaiter;\r\n}\r\n```\r\n\r\nThe comment says: ```If lastWaiter is cancelled, clean out.``` ,why the if check is ```t != null &amp;&amp; t.waitStatus != Node.CONDITION```.\r\n\r\nIt checks lastWaiter&#39;s waitStatus is not Node.CONDITION, it looks it has nothing to do ```If lastWaiter is cancelled, clean out.```","title":"A question about the addConditionWaiter method in AbstractQueuedSynchronizer#ConditionObject","body":"<p>I am reading the source code AbstractQueuedSynchronizer#ConditionObject of Java 8, I got a question here:</p>\n<p>the addConditionWaiter method in AbstractQueuedSynchronizer#ConditionObject is defined as follows：</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Node addConditionWaiter() {\n    Node t = lastWaiter;\n    // If lastWaiter is cancelled, clean out.\n    if (t != null &amp;&amp; t.waitStatus != Node.CONDITION) {\n        unlinkCancelledWaiters();\n        t = lastWaiter;\n    }\n    Node node = new Node(Thread.currentThread(), Node.CONDITION);\n    if (t == null)\n        firstWaiter = node;\n    else\n        t.nextWaiter = node;\n    lastWaiter = node;\n    return node;\n}\n</code></pre>\n<p>I have a question for the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Node t = lastWaiter;\n// If lastWaiter is cancelled, clean out.\nif (t != null &amp;&amp; t.waitStatus != Node.CONDITION) {\n    unlinkCancelledWaiters();\n    t = lastWaiter;\n}\n</code></pre>\n<p>The comment says: <code>If lastWaiter is cancelled, clean out.</code> ,why the if check is <code>t != null &amp;&amp; t.waitStatus != Node.CONDITION</code>.</p>\n<p>It checks lastWaiter's waitStatus is not Node.CONDITION, it looks it has nothing to do <code>If lastWaiter is cancelled, clean out.</code></p>\n"},{"tags":["java","amazon-web-services","aws-cloudformation","amazon-ecs"],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694076940,"creation_date":1694076940,"question_id":77058063,"body_markdown":"I have an ECS service which is created from a CloudFormation yaml code.\r\nNow, i want to delete it, so simply i removed the code block which contained the creation of this stack from the yaml.\r\nBut while deploying that code, the AWS console says that the ECS can&#39;t be deleted while the services are active ??\r\n\r\nShouldn&#39;t the AWS / CloudFormation take care of making the tasks zero and then delete it ??\r\n\r\nIf not, what is the workaround here ?","title":"Delete an ECS stack using Cloudformation yaml code","body":"<p>I have an ECS service which is created from a CloudFormation yaml code.\nNow, i want to delete it, so simply i removed the code block which contained the creation of this stack from the yaml.\nBut while deploying that code, the AWS console says that the ECS can't be deleted while the services are active ??</p>\n<p>Shouldn't the AWS / CloudFormation take care of making the tasks zero and then delete it ??</p>\n<p>If not, what is the workaround here ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1694074107,"post_id":77057513,"comment_id":135844028,"body_markdown":"You generally don&#39;t have to worry about unexplained downvotes - especially if they are followed by upvotes. People&#39;s opinions are their own, a single downvote doesn&#39;t mean much.","body":"You generally don&#39;t have to worry about unexplained downvotes - especially if they are followed by upvotes. People&#39;s opinions are their own, a single downvote doesn&#39;t mean much."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694076202,"post_id":77057513,"comment_id":135844498,"body_markdown":"No. Self referencing would be if you would inject `Course` as a field into the `JavaConfig` or as a constructor argument. As the configuration class would then needed to be constructed to inject the dependency into itself, effectively adding a dependency on itself through this. Using a bean created through an `@Bean` method is not self referencing.","body":"No. Self referencing would be if you would inject <code>Course</code> as a field into the <code>JavaConfig</code> or as a constructor argument. As the configuration class would then needed to be constructed to inject the dependency into itself, effectively adding a dependency on itself through this. Using a bean created through an <code>@Bean</code> method is not self referencing."},{"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"score":1,"creation_date":1694076618,"post_id":77057513,"comment_id":135844576,"body_markdown":"@M.Deinum&#160;Wow, please answer the question instead of comment!! I saw you in the Java top users, can you give me some examples and tell me what I missed? Thank you!!!","body":"@M.Deinum Wow, please answer the question instead of comment!! I saw you in the Java top users, can you give me some examples and tell me what I missed? Thank you!!!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694076880,"post_id":77057513,"comment_id":135844636,"body_markdown":"I already wrote an answer... WIth both field and constructor sample.","body":"I already wrote an answer... WIth both field and constructor sample."},{"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"score":0,"creation_date":1694077151,"post_id":77057513,"comment_id":135844689,"body_markdown":"@M.Deinum&#160;Thanks a lot!! And, what does &quot;as opposed to an autowired field in the configuration class&quot; mean?","body":"@M.Deinum Thanks a lot!! And, what does &quot;as opposed to an autowired field in the configuration class&quot; mean?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694077930,"post_id":77057513,"comment_id":135844833,"body_markdown":"That is what you are doing in your sample. You aren&#39;t using an autowired field (as in my answer) but just a method argument in your `@Bean` method.","body":"That is what you are doing in your sample. You aren&#39;t using an autowired field (as in my answer) but just a method argument in your <code>@Bean</code> method."}],"answers":[{"tags":[],"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694074032,"creation_date":1694074032,"answer_id":77057728,"question_id":77057513,"body_markdown":"&gt; Self-referencing refers to the situation where Bean A calls Bean B within the same configuration class, or when other Beans are used as parameters, right?\r\n\r\nSelf referencing means that you use the bean as an dependency in the class itself, demonstrated on [Baeldung][1]:\r\n\r\n    @Component\r\n    public class MyBean {\r\n        @Autowired\r\n        private MyBean self;\r\n    \r\n        public void doSomething() {\r\n            // use self reference here\r\n        }\r\n    }\r\n\r\nHowever, the snipped you provided in the question talks about Bean methods. These methods provide Beans to the system. Consuming such a Bean in the same class is similar to a self reference, not 100% the same but you run into the same issue: circular dependencies.\r\n\r\n&gt; Regarding this point, I&#39;m not sure how to implement it. Should I add @Lazy? This seems impractical, and I&#39;m not sure if I&#39;m missing any concepts.\r\n\r\nTo resolve circular dependencies you could add @Lazy, this can work but I would not recommend it as startup problems effectively turn into runtime problems if something goes the wrong way. You could move the consuming beans into their own configuration class, thus splitting providers and consumers into two classes which removes the circular dependency.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-self-injection","title":"What does &quot;as opposed to an autowired field in the configuration class&quot; mean?","body":"<blockquote>\n<p>Self-referencing refers to the situation where Bean A calls Bean B within the same configuration class, or when other Beans are used as parameters, right?</p>\n</blockquote>\n<p>Self referencing means that you use the bean as an dependency in the class itself, demonstrated on <a href=\"https://www.baeldung.com/spring-self-injection\" rel=\"nofollow noreferrer\">Baeldung</a>:</p>\n<pre><code>@Component\npublic class MyBean {\n    @Autowired\n    private MyBean self;\n\n    public void doSomething() {\n        // use self reference here\n    }\n}\n</code></pre>\n<p>However, the snipped you provided in the question talks about Bean methods. These methods provide Beans to the system. Consuming such a Bean in the same class is similar to a self reference, not 100% the same but you run into the same issue: circular dependencies.</p>\n<blockquote>\n<p>Regarding this point, I'm not sure how to implement it. Should I add @Lazy? This seems impractical, and I'm not sure if I'm missing any concepts.</p>\n</blockquote>\n<p>To resolve circular dependencies you could add @Lazy, this can work but I would not recommend it as startup problems effectively turn into runtime problems if something goes the wrong way. You could move the consuming beans into their own configuration class, thus splitting providers and consumers into two classes which removes the circular dependency.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694076618,"creation_date":1694076618,"answer_id":77058017,"question_id":77057513,"body_markdown":"You are misunderstanding self-referencing in the case of an `@Configuration` class. Self referencing is when you would inject the `Course` as a field (or constructor argument into the `JavaConfig`. \r\n\r\n```java\r\n@Configuration\r\npublic class JavaConfig {\r\n\r\n @Autowired\r\n private Course course;  \r\n\r\n @Bean\r\n Course course() {\r\n   return new Course();\r\n }\r\n}\r\n```\r\n\r\nNow the `JavaConfig` has a field of type `Course`. Which is constructed by the same `JavaConfig` class. To inject the `course` field it would need to do `new JavaConfig().course()` but the call to `course()` can only done if all dependencies have been injected. Hence the `JavaConfig` effectively has a dependency on itself. \r\n\r\nWith a constructor it would be more visible\r\n\r\n```java\r\n@Configuration\r\npublic class JavaConfig {\r\n\r\n private Course course;  \r\n\r\n public JavaConfig(Course course) {\r\n   this.course=course;\r\n }\r\n\r\n @Bean\r\n Course course() {\r\n   return new Course();\r\n }\r\n}\r\n```\r\n\r\nSpring needs to be able to call the `course()` method to fulfill the constuctor argument, but to do so it needs to construct a `JavaConfig` which is now impossible. \r\n\r\nMarking the field/argument with `@Lazy` will circumvent this as it will delay the injection of the actual `Course` until it is actually needed (i.e. methods are called on it). Until then it will inject a proxy for the `Course` object.\r\n\r\nMaking the `course()` bean method `static` will also solve it as you don&#39;t need an instance of `JavaConfig` to call the `course()` method because of the `static` nature. ","title":"What does &quot;as opposed to an autowired field in the configuration class&quot; mean?","body":"<p>You are misunderstanding self-referencing in the case of an <code>@Configuration</code> class. Self referencing is when you would inject the <code>Course</code> as a field (or constructor argument into the <code>JavaConfig</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaConfig {\n\n @Autowired\n private Course course;  \n\n @Bean\n Course course() {\n   return new Course();\n }\n}\n</code></pre>\n<p>Now the <code>JavaConfig</code> has a field of type <code>Course</code>. Which is constructed by the same <code>JavaConfig</code> class. To inject the <code>course</code> field it would need to do <code>new JavaConfig().course()</code> but the call to <code>course()</code> can only done if all dependencies have been injected. Hence the <code>JavaConfig</code> effectively has a dependency on itself.</p>\n<p>With a constructor it would be more visible</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaConfig {\n\n private Course course;  \n\n public JavaConfig(Course course) {\n   this.course=course;\n }\n\n @Bean\n Course course() {\n   return new Course();\n }\n}\n</code></pre>\n<p>Spring needs to be able to call the <code>course()</code> method to fulfill the constuctor argument, but to do so it needs to construct a <code>JavaConfig</code> which is now impossible.</p>\n<p>Marking the field/argument with <code>@Lazy</code> will circumvent this as it will delay the injection of the actual <code>Course</code> until it is actually needed (i.e. methods are called on it). Until then it will inject a proxy for the <code>Course</code> object.</p>\n<p>Making the <code>course()</code> bean method <code>static</code> will also solve it as you don't need an instance of <code>JavaConfig</code> to call the <code>course()</code> method because of the <code>static</code> nature.</p>\n"}],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":77058017,"answer_count":2,"score":3,"last_activity_date":1694076618,"creation_date":1694072330,"question_id":77057513,"body_markdown":"[Documentation is here!](https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html)\r\n\r\nI can&#39;t understand the bold part of the following sentence, ...maybe entire sentence :(\r\n\r\n&gt; Trying to inject the results from @Bean methods on the same configuration class is effectively a self-reference scenario as well. **Either lazily resolve such references in the method signature where it is actually needed (as opposed to an autowired field in the configuration class) or declare the affected @Bean methods as static, decoupling them from the containing configuration class instance and its lifecycle.** Otherwise, such beans are only considered in the fallback phase, with matching beans on other configuration classes selected as primary candidates instead (if available).\r\n\r\n**To ensure that I understand this sentence correctly, let me first explain my understanding.**\r\n\r\nSelf-referencing refers to the situation where Bean A calls Bean B within the same configuration class, or when other Beans are used as parameters, right?\r\n\r\nLike this.\r\n\r\n```java\r\n@Configuration\r\npublic class JavaConfig {\r\n    @Bean\r\n    Course course() {\r\n        Course course = new Course();\r\n\r\n        return course;\r\n    }\r\n\r\n    @Bean\r\n    Teacher teacher(Course course) {    // self-reference\r\n        Teacher teacher = new Teacher();\r\n        Course course1 = course();      // self-reference\r\n        System.out.println(course);\r\n        teacher.setCourse(course);\r\n\r\n        return teacher;\r\n    }\r\n\r\n    @Bean\r\n    String[] courseList() {\r\n        String[] cs = {&quot;OS&quot;, &quot;Network&quot;};\r\n\r\n        return cs;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Course {\r\n    @Resource(name = &quot;courseList&quot;)\r\n    private String[] courseList;\r\n}\r\n\r\npublic class Teacher {\r\n    private Course course;\r\n    public void setCourse(Course course) {\r\n        this.course = course;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Teacher{&quot; +\r\n                &quot;course=&quot; + course +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nIf my concept description above is correct, then I can proceed with the solution as described in the documentation.\r\n\r\n1. declare the affected @Bean methods as static.\r\n\r\n   I think this should be correct, `CGLIB` directly invoke `static Course course` method, rather than invoke `proxy object`.\r\n\r\n```java\r\n@Configuration\r\npublic class JavaConfig {\r\n    @Bean\r\n    static Course course() {  // add static qualifier\r\n        Course course = new Course();\r\n\r\n        return course;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n2. Either lazily resolve such references in the method signature where it is actually needed(**as opposed to an autowired field in the configuration class**)\r\n\r\n   Regarding this point, I&#39;m not sure how to implement it. Should I add `@Lazy`? This seems impractical, and I&#39;m not sure if I&#39;m missing any concepts.\r\n","title":"What does &quot;as opposed to an autowired field in the configuration class&quot; mean?","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html\" rel=\"nofollow noreferrer\">Documentation is here!</a></p>\n<p>I can't understand the bold part of the following sentence, ...maybe entire sentence :(</p>\n<blockquote>\n<p>Trying to inject the results from @Bean methods on the same configuration class is effectively a self-reference scenario as well. <strong>Either lazily resolve such references in the method signature where it is actually needed (as opposed to an autowired field in the configuration class) or declare the affected @Bean methods as static, decoupling them from the containing configuration class instance and its lifecycle.</strong> Otherwise, such beans are only considered in the fallback phase, with matching beans on other configuration classes selected as primary candidates instead (if available).</p>\n</blockquote>\n<p><strong>To ensure that I understand this sentence correctly, let me first explain my understanding.</strong></p>\n<p>Self-referencing refers to the situation where Bean A calls Bean B within the same configuration class, or when other Beans are used as parameters, right?</p>\n<p>Like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaConfig {\n    @Bean\n    Course course() {\n        Course course = new Course();\n\n        return course;\n    }\n\n    @Bean\n    Teacher teacher(Course course) {    // self-reference\n        Teacher teacher = new Teacher();\n        Course course1 = course();      // self-reference\n        System.out.println(course);\n        teacher.setCourse(course);\n\n        return teacher;\n    }\n\n    @Bean\n    String[] courseList() {\n        String[] cs = {&quot;OS&quot;, &quot;Network&quot;};\n\n        return cs;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Course {\n    @Resource(name = &quot;courseList&quot;)\n    private String[] courseList;\n}\n\npublic class Teacher {\n    private Course course;\n    public void setCourse(Course course) {\n        this.course = course;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Teacher{&quot; +\n                &quot;course=&quot; + course +\n                '}';\n    }\n}\n</code></pre>\n<p>If my concept description above is correct, then I can proceed with the solution as described in the documentation.</p>\n<ol>\n<li><p>declare the affected @Bean methods as static.</p>\n<p>I think this should be correct, <code>CGLIB</code> directly invoke <code>static Course course</code> method, rather than invoke <code>proxy object</code>.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaConfig {\n    @Bean\n    static Course course() {  // add static qualifier\n        Course course = new Course();\n\n        return course;\n    }\n\n    // ...\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Either lazily resolve such references in the method signature where it is actually needed(<strong>as opposed to an autowired field in the configuration class</strong>)</p>\n<p>Regarding this point, I'm not sure how to implement it. Should I add <code>@Lazy</code>? This seems impractical, and I'm not sure if I'm missing any concepts.</p>\n</li>\n</ol>\n"},{"tags":["java","maven","tomcat","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1430306649,"creation_date":1430306649,"answer_id":29942277,"question_id":29941730,"body_markdown":"I&#39;m not very familiar with this plugin, but the best place for finding solutions to these kinds of problems is to have a look at the [plugin/ goal documentation][1].\r\n\r\nI guess the parameter [keepDependenciesWithProvidedScope][2] is what you are looking for.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#keepDependenciesWithProvidedScope","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>I'm not very familiar with this plugin, but the best place for finding solutions to these kinds of problems is to have a look at the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow\">plugin/ goal documentation</a>.</p>\n\n<p>I guess the parameter <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#keepDependenciesWithProvidedScope\" rel=\"nofollow\">keepDependenciesWithProvidedScope</a> is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":6179607,"reputation":583,"user_id":4815537,"display_name":"Mahieddine M. Ichir"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1434016633,"creation_date":1434016633,"answer_id":30777492,"question_id":29941730,"body_markdown":"I had the same issue and If I can suggest a solution it would be to use the [maven-assembly-plugin][1] which will address your problem :\r\n\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;jar-with-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;descriptors&gt;\r\n\t\t\t\t\t\t\t\t&lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\r\n\t\t\t\t\t\t\t&lt;/descriptors&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.mypackage.MainClass&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nAnd here is a sample of the assembly.xml which will allow you include &quot;provided&quot; scope artifacts:\r\n\r\n    &lt;assembly\r\n\txmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\r\n\t&lt;id&gt;jar-with-dependencies&lt;/id&gt;\r\n\t&lt;formats&gt;\r\n\t\t&lt;format&gt;jar&lt;/format&gt;\r\n\t&lt;/formats&gt;\r\n\t\r\n\t&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\t&lt;dependencySets&gt;\r\n\t\t&lt;dependencySet&gt;\r\n\t\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n\t\t\t&lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n\t\t\t&lt;unpack&gt;true&lt;/unpack&gt;\r\n\t\t&lt;/dependencySet&gt;\r\n\t\t&lt;dependencySet&gt;\r\n\t\t\t&lt;outputDirectory&gt;/lib&lt;/outputDirectory&gt;\r\n\t\t\t&lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n\t\t\t&lt;unpack&gt;false&lt;/unpack&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependencySet&gt;\r\n\t&lt;/dependencySets&gt;\r\n&lt;/assembly&gt;\r\n\r\nI&#39;am just having classpath issues in the generated artifact in the Manifest file!\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/usage.html","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>I had the same issue and If I can suggest a solution it would be to use the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/usage.html\" rel=\"nofollow\">maven-assembly-plugin</a> which will address your problem :</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jar-with-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptors&gt;\n                            &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\n                        &lt;/descriptors&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.mypackage.MainClass&lt;/mainClass&gt;\n                            &lt;/manifest&gt;                             \n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And here is a sample of the assembly.xml which will allow you include \"provided\" scope artifacts:</p>\n\n<pre><code>&lt;assembly\nxmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd\"&gt;\n&lt;id&gt;jar-with-dependencies&lt;/id&gt;\n&lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n&lt;/formats&gt;\n\n&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n&lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n        &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n        &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n        &lt;unpack&gt;true&lt;/unpack&gt;\n    &lt;/dependencySet&gt;\n    &lt;dependencySet&gt;\n        &lt;outputDirectory&gt;/lib&lt;/outputDirectory&gt;\n        &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n        &lt;unpack&gt;false&lt;/unpack&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'am just having classpath issues in the generated artifact in the Manifest file!</p>\n"},{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645892494,"creation_date":1645892494,"answer_id":71278328,"question_id":29941730,"body_markdown":"I had the same issue, but I found we misunderstood how this plug-in works. If some dependencies are bundled into the shaded jar, they will be removed from the dependencies in the pom.xml in the shaded jar. So you should change nothing, just left their scope runtime. ","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>I had the same issue, but I found we misunderstood how this plug-in works. If some dependencies are bundled into the shaded jar, they will be removed from the dependencies in the pom.xml in the shaded jar. So you should change nothing, just left their scope runtime.</p>\n"},{"tags":[],"owner":{"account_id":8733,"reputation":5830,"user_id":15882,"accept_rate":100,"display_name":"Jarett Millard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660336790,"creation_date":1660336790,"answer_id":73339573,"question_id":29941730,"body_markdown":"The configuration setting you need is `&lt;useDependencyReducedPomInJar&gt;true&lt;/useDependencyReducedPomInJar&gt;`. This will create a file named `dependency-reduced-pom.xml` with the references to the shaded jar(s) removed. You can also use `&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;` if the shaded jars have their own transitive dependencies to add them to the modified pom.","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>The configuration setting you need is <code>&lt;useDependencyReducedPomInJar&gt;true&lt;/useDependencyReducedPomInJar&gt;</code>. This will create a file named <code>dependency-reduced-pom.xml</code> with the references to the shaded jar(s) removed. You can also use <code>&lt;promoteTransitiveDependencies&gt;true&lt;/promoteTransitiveDependencies&gt;</code> if the shaded jars have their own transitive dependencies to add them to the modified pom.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694076462,"creation_date":1694076462,"answer_id":77057999,"question_id":29941730,"body_markdown":"Same issue solved with a separate module\r\n```\r\n...\r\n&lt;artifactId&gt;subset-of-tomcat-catalina-classes&lt;/artifactId&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    ...\r\n```\r\n\r\nThen in main module:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.59&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;${project.groupId&gt;&lt;/groupId&gt;\r\n    &lt;artifactId&gt;subset-of-tomcat-catalina-classes&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;!-- classes relocated =&gt; compile scope --&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>Same issue solved with a separate module</p>\n<pre><code>...\n&lt;artifactId&gt;subset-of-tomcat-catalina-classes&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\n        &lt;version&gt;7.0.59&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    ...\n</code></pre>\n<p>Then in main module:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\n    &lt;version&gt;7.0.59&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;${project.groupId&gt;&lt;/groupId&gt;\n    &lt;artifactId&gt;subset-of-tomcat-catalina-classes&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;!-- classes relocated =&gt; compile scope --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6228446,"reputation":134,"user_id":4845980,"display_name":"Dimitar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6297,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1694076462,"creation_date":1430305173,"question_id":29941730,"body_markdown":"I am using the maven shade plugin to package my application into a jar file. One of my dependencies is to Tomcat:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\r\n        &lt;version&gt;7.0.59&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe scope of this dependency is **provided** as the container itself will supply its JAR files. However, I do need to add a few single classes from this dependency to my JAR file. I tried adding a filter and specifying the name of the class that is to be added, but it seems that **provided** dependencies are ignored by the shade plugin.\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifact&gt;org.apache.tomcat:tomcat-catalina&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;org/apache/catalina/deploy/LoginConfig.class&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nAny ideas how what I need can be achieved?","title":"How do you use the maven shade plugin to include only specific classes from a dependency with scope &quot;provided&quot;?","body":"<p>I am using the maven shade plugin to package my application into a jar file. One of my dependencies is to Tomcat:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-catalina&lt;/artifactId&gt;\n    &lt;version&gt;7.0.59&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The scope of this dependency is <strong>provided</strong> as the container itself will supply its JAR files. However, I do need to add a few single classes from this dependency to my JAR file. I tried adding a filter and specifying the name of the class that is to be added, but it seems that <strong>provided</strong> dependencies are ignored by the shade plugin.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;org.apache.tomcat:tomcat-catalina&lt;/artifact&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;org/apache/catalina/deploy/LoginConfig.class&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Any ideas how what I need can be achieved?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1693903256,"post_id":77042967,"comment_id":135817299,"body_markdown":"Just to be clear: you&#39;re saying that you have **no** stacktrace?","body":"Just to be clear: you&#39;re saying that you have <b>no</b> stacktrace?"},{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":0,"creation_date":1693903924,"post_id":77042967,"comment_id":135817410,"body_markdown":"Did you double check if the path that you are giving exist? Maybe you have typo there and that why you can not load your icon","body":"Did you double check if the path that you are giving exist? Maybe you have typo there and that why you can not load your icon"},{"owner":{"account_id":4461861,"reputation":33,"user_id":8016440,"display_name":"user8016440"},"score":0,"creation_date":1693906977,"post_id":77042967,"comment_id":135817950,"body_markdown":"No stacktrace: &quot;Could not find an option named &quot;stacktrace&quot;.&quot;\nWith the icon, it was just typing in &quot;help&quot; where it had been &quot;build&quot; or something similar. The icon is visible beside the line numbers, it just decided not to work.\n\nLooking at solutions that have something to do with calling &quot;databaseFactory,&quot; but I have the feeling it is some kind of update issue: some parts are out of sync.","body":"No stacktrace: &quot;Could not find an option named &quot;stacktrace&quot;.&quot; With the icon, it was just typing in &quot;help&quot; where it had been &quot;build&quot; or something similar. The icon is visible beside the line numbers, it just decided not to work.  Looking at solutions that have something to do with calling &quot;databaseFactory,&quot; but I have the feeling it is some kind of update issue: some parts are out of sync."},{"owner":{"account_id":4461861,"reputation":33,"user_id":8016440,"display_name":"user8016440"},"score":0,"creation_date":1693909229,"post_id":77042967,"comment_id":135818383,"body_markdown":"I don&#39;t know how I did it, or what I did, but after repeated updates, doctor, clean, etc., I somehow seem to have got it to work... and will try to rebuild on what I have.","body":"I don&#39;t know how I did it, or what I did, but after repeated updates, doctor, clean, etc., I somehow seem to have got it to work... and will try to rebuild on what I have."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1693913516,"post_id":77042967,"comment_id":135819251,"body_markdown":"you can execute gradle commands manually on the terminal like `./gradlew assembleDebug`. There you can add the stacktrace parameter.","body":"you can execute gradle commands manually on the terminal like <code>.&#47;gradlew assembleDebug</code>. There you can add the stacktrace parameter."},{"owner":{"account_id":4461861,"reputation":33,"user_id":8016440,"display_name":"user8016440"},"score":0,"creation_date":1693913641,"post_id":77042967,"comment_id":135819279,"body_markdown":"Tried that:\n\n./gradlew : The term &#39;./gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\nAt line:1 char:1                                                                             \n+ ./gradlew assembleDebug","body":"Tried that:  ./gradlew : The term &#39;./gradlew&#39; is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again. At line:1 char:1                                                                              + ./gradlew assembleDebug"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693915168,"creation_date":1693915168,"answer_id":77044317,"question_id":77042967,"body_markdown":"Try These;\r\n\r\n1:Clean and Rebuild Your Project.\r\n\r\n&gt; In Android Studio, try cleaning and rebuilding your Flutter project.\r\n&gt; Go to &quot;Build&quot; &gt; &quot;Clean Project&quot; and then &quot;Build&quot; &gt; &quot;Rebuild Project.&quot;\r\n&gt; This can sometimes resolve build-related issues.\r\n\r\n2:Check Your Project Configuration:\r\n\r\n&gt; Review your project&#39;s configuration files, such as pubspec.yaml, and\r\n&gt; make sure there are no syntax errors or inconsistencies in your\r\n&gt; Flutter project setup. Also, ensure that the Flutter SDK path in\r\n&gt; Android Studio is correctly configured.\r\n\r\n3:Check for Changes in Dependencies:\r\n\r\n&gt; If you recently made changes to your project&#39;s dependencies (e.g.,\r\n&gt; added or updated packages), make sure that those changes are correctly\r\n&gt; reflected in your pubspec.yaml file. Sometimes, issues can arise from\r\n&gt; conflicting or outdated dependencies.\r\n\r\n4:Check Gradle Configuration:\r\n\r\n&gt; Inspect your project&#39;s Gradle files (usually found in the android\r\n&gt; directory) to ensure there are no issues with Gradle configurations.\r\n&gt; Pay attention to any custom Gradle tasks or scripts that may be\r\n&gt; causing problems.\r\n\r\n5:Update Flutter:\r\n\r\n&gt; Ensure that you are using the latest version of Flutter by running\r\n&gt; flutter upgrade in your terminal. Outdated Flutter versions can\r\n&gt; sometimes lead to compatibility issues.\r\n\r\n6:Check Flutter Doctor:\r\n\r\n&gt; Run Flutter Doctor in your terminal to check for any issues with your\r\n&gt; Flutter installation. It will provide feedback on potential problems\r\n&gt; and suggest solutions.\r\n\r\n7:Check for IDE Updates:\r\n\r\n&gt; Ensure that Android Studio and any Flutter-related plugins or\r\n&gt; extensions are up-to-date. Sometimes, updating Android Studio or the\r\n&gt; Flutter plugin can resolve build issues.\r\n\r\n8:Check for System Environment Variables:\r\n\r\n&gt; Occasionally, issues can arise from incorrect system environment\r\n&gt; variables or paths. Ensure that your system&#39;s PATH variable includes\r\n&gt; the correct paths to your Flutter and Java installations.\r\n\r\n9: Reimport the Project:\r\n\r\n&gt; In Android Studio, you can try reimporting the project. Go to &quot;File&quot; &gt;\r\n&gt; &quot;Invalidate Caches / Restart,&quot; and then select &quot;Invalidate and\r\n&gt; Restart.&quot; This can help refresh the project&#39;s settings.\r\n\r\n","title":"Is this a java problem or a problem with flutter?","body":"<p>Try These;</p>\n<p>1:Clean and Rebuild Your Project.</p>\n<blockquote>\n<p>In Android Studio, try cleaning and rebuilding your Flutter project.\nGo to &quot;Build&quot; &gt; &quot;Clean Project&quot; and then &quot;Build&quot; &gt; &quot;Rebuild Project.&quot;\nThis can sometimes resolve build-related issues.</p>\n</blockquote>\n<p>2:Check Your Project Configuration:</p>\n<blockquote>\n<p>Review your project's configuration files, such as pubspec.yaml, and\nmake sure there are no syntax errors or inconsistencies in your\nFlutter project setup. Also, ensure that the Flutter SDK path in\nAndroid Studio is correctly configured.</p>\n</blockquote>\n<p>3:Check for Changes in Dependencies:</p>\n<blockquote>\n<p>If you recently made changes to your project's dependencies (e.g.,\nadded or updated packages), make sure that those changes are correctly\nreflected in your pubspec.yaml file. Sometimes, issues can arise from\nconflicting or outdated dependencies.</p>\n</blockquote>\n<p>4:Check Gradle Configuration:</p>\n<blockquote>\n<p>Inspect your project's Gradle files (usually found in the android\ndirectory) to ensure there are no issues with Gradle configurations.\nPay attention to any custom Gradle tasks or scripts that may be\ncausing problems.</p>\n</blockquote>\n<p>5:Update Flutter:</p>\n<blockquote>\n<p>Ensure that you are using the latest version of Flutter by running\nflutter upgrade in your terminal. Outdated Flutter versions can\nsometimes lead to compatibility issues.</p>\n</blockquote>\n<p>6:Check Flutter Doctor:</p>\n<blockquote>\n<p>Run Flutter Doctor in your terminal to check for any issues with your\nFlutter installation. It will provide feedback on potential problems\nand suggest solutions.</p>\n</blockquote>\n<p>7:Check for IDE Updates:</p>\n<blockquote>\n<p>Ensure that Android Studio and any Flutter-related plugins or\nextensions are up-to-date. Sometimes, updating Android Studio or the\nFlutter plugin can resolve build issues.</p>\n</blockquote>\n<p>8:Check for System Environment Variables:</p>\n<blockquote>\n<p>Occasionally, issues can arise from incorrect system environment\nvariables or paths. Ensure that your system's PATH variable includes\nthe correct paths to your Flutter and Java installations.</p>\n</blockquote>\n<p>9: Reimport the Project:</p>\n<blockquote>\n<p>In Android Studio, you can try reimporting the project. Go to &quot;File&quot; &gt;\n&quot;Invalidate Caches / Restart,&quot; and then select &quot;Invalidate and\nRestart.&quot; This can help refresh the project's settings.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693932189,"creation_date":1693932189,"answer_id":77046312,"question_id":77042967,"body_markdown":"Try these;\r\n\r\n1: \r\n\r\n&gt; Go to pubspec.yaml file, try doing Packages get | Pub get, and then\r\n&gt; build the project again.\r\n\r\n2: Try this in terminal \r\n\r\n&gt; flutter clean\r\n&gt; \r\n&gt; flutter pub get\r\n\r\n3: run in your terminal\r\n\r\n&gt; flutter channel stable\r\n&gt; \r\n&gt; flutter upgrade --force\r\n&gt; \r\n&gt; flutter pub cache repair\r\n\r\nnext,\r\n\r\n        cd &lt;YOUR APP FOLDER&gt;\r\n    \r\n    flutter clean\r\n\r\n4: \r\n\r\n&gt; flutter clean,\r\n&gt; \r\n&gt; flutter pub get,\r\n&gt; \r\n&gt; flutter build appbundle --release --no-tree-shake-icons\r\n\r\n5: \r\n\r\n&gt; Delete your pubspec.lock, and press &#39;Pub Get&#39; in your pubspec.yaml,\r\n&gt; it&#39;ll regenerate pubspec.lock file again and should fix the problem.\r\n\r\nI hope one of these will work for you!!","title":"Is this a java problem or a problem with flutter?","body":"<p>Try these;</p>\n<p>1:</p>\n<blockquote>\n<p>Go to pubspec.yaml file, try doing Packages get | Pub get, and then\nbuild the project again.</p>\n</blockquote>\n<p>2: Try this in terminal</p>\n<blockquote>\n<p>flutter clean</p>\n<p>flutter pub get</p>\n</blockquote>\n<p>3: run in your terminal</p>\n<blockquote>\n<p>flutter channel stable</p>\n<p>flutter upgrade --force</p>\n<p>flutter pub cache repair</p>\n</blockquote>\n<p>next,</p>\n<pre><code>    cd &lt;YOUR APP FOLDER&gt;\n\nflutter clean\n</code></pre>\n<p>4:</p>\n<blockquote>\n<p>flutter clean,</p>\n<p>flutter pub get,</p>\n<p>flutter build appbundle --release --no-tree-shake-icons</p>\n</blockquote>\n<p>5:</p>\n<blockquote>\n<p>Delete your pubspec.lock, and press 'Pub Get' in your pubspec.yaml,\nit'll regenerate pubspec.lock file again and should fix the problem.</p>\n</blockquote>\n<p>I hope one of these will work for you!!</p>\n"},{"tags":[],"owner":{"account_id":4461861,"reputation":33,"user_id":8016440,"display_name":"user8016440"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694076162,"creation_date":1694076162,"answer_id":77057959,"question_id":77042967,"body_markdown":"At this point, I think it&#39;s a problem with some packages not syncing with each other, after some updates/upgrades.\r\nI assume this should work itself out in a few days.","title":"Is this a java problem or a problem with flutter?","body":"<p>At this point, I think it's a problem with some packages not syncing with each other, after some updates/upgrades.\nI assume this should work itself out in a few days.</p>\n"}],"owner":{"account_id":4461861,"reputation":33,"user_id":8016440,"display_name":"user8016440"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1694076162,"creation_date":1693903055,"question_id":77042967,"body_markdown":"Programs that worked until a day or so ago are suddenly not &quot;running,&quot; even if changes are as minor as changing an icon.\r\nThe error message I am getting is:\r\n\r\n&gt;Execution failed for task &#39;:app:compileFlutterBuildDebug&#39;.\r\n&gt;&gt; Cannot invoke &quot;java.io.File.getAbsoluteFile()&quot; because &quot;dir&quot; is null\r\n\r\nUnfortunately, I can&#39;t seem to get Android Studio to recognise --stacktrace, --info or --scan as &quot;available flutter commands and options.&quot;\r\n\r\nAndroid Studio, flutter, etc., are all up-to-date, and I even reinstalled java and rebooted.\r\nAny suggestions on where I should look for solutions? is it a problem with flutter, java, or maybe my network?","title":"Is this a java problem or a problem with flutter?","body":"<p>Programs that worked until a day or so ago are suddenly not &quot;running,&quot; even if changes are as minor as changing an icon.\nThe error message I am getting is:</p>\n<blockquote>\n<p>Execution failed for task ':app:compileFlutterBuildDebug'.</p>\n<blockquote>\n<p>Cannot invoke &quot;java.io.File.getAbsoluteFile()&quot; because &quot;dir&quot; is null</p>\n</blockquote>\n</blockquote>\n<p>Unfortunately, I can't seem to get Android Studio to recognise --stacktrace, --info or --scan as &quot;available flutter commands and options.&quot;</p>\n<p>Android Studio, flutter, etc., are all up-to-date, and I even reinstalled java and rebooted.\nAny suggestions on where I should look for solutions? is it a problem with flutter, java, or maybe my network?</p>\n"},{"tags":["java","selenium-webdriver","winappdriver"],"answers":[{"tags":[],"owner":{"account_id":13986508,"reputation":7,"user_id":10101482,"display_name":"Steam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694075307,"creation_date":1694075307,"answer_id":77057866,"question_id":77031654,"body_markdown":"For beginners it&#39;s much comfortable to use C# and visual studio.","title":"During the start of java code with appium and winappdriver got invalid argument message","body":"<p>For beginners it's much comfortable to use C# and visual studio.</p>\n"}],"owner":{"account_id":13986508,"reputation":7,"user_id":10101482,"display_name":"Steam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694075307,"creation_date":1693732790,"question_id":77031654,"body_markdown":"I&#39;m quite new in automation, so I tried to do some simple example with starting notepad in combination with appium and winappdriver.\r\n\r\nthis is the code which is used in java(Eclipse IDE)\r\n\r\n```\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport io.appium.java_client.windows.WindowsDriver;\r\n\r\n\r\n\r\npublic class WinAppDriverTest {\r\n\t static WindowsDriver driver;\r\n\r\n\tpublic static void main(String[] args) throws MalformedURLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tDesiredCapabilities appCapabilities = new DesiredCapabilities(); //org.openqa.selenium.remote.DesiredCapabilities;\r\n\t\tappCapabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;);\r\n\t\tdriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), appCapabilities);\r\n\t}\r\n\r\n}\r\n```\r\nThis is the contents of pom.xml file\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;de.simple.automation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;MavenProjectSimple&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n   \t \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nIf I try to execute the java file I get some Error message in console\r\n\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: Bad capabilities. Specify either app or appTopLevelWindow to create a session \r\nHost info: host: &#39;DESKTOP-someName&#39;, ip: &#39;170.25.221.122&#39;\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.8&#39;\r\nDriver info: io.appium.java_client.windows.WindowsDriver\r\nCommand: [null, newSession {capabilities=[{appium:app=C:\\Windows\\System32\\notepad.exe, appium:automationName=Windows, platformName=windows}], desiredCapabilities=Capabilities {app: C:\\Windows\\System32\\notepad..., appium:automationName: Windows, platformName: windows}}]\r\nCapabilities {app: C:\\Windows\\System32\\notepad..., appium:automationName: Windows, platformName: windows}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\r\n\tat io.appium.java_client.windows.WindowsDriver.&lt;init&gt;(WindowsDriver.java:50)\r\n\tat WinAppDriverTest.main(WinAppDriverTest.java:19)\r\n```\r\nin WinAppDriver I can see this message\r\n\r\n```\r\nWindows Application Driver listening for requests at: http://127.0.0.1:4723/\r\nPress ENTER to exit.\r\n\r\n\r\n==========================================\r\nPOST /session HTTP/1.1\r\nAccept: */*\r\nContent-Length: 229\r\nContent-Type: application/json; charset=utf-8\r\nHost: 127.0.0.1:4723\r\nUser-Agent: appium/8.5.1 (selenium/4.10.0 (java windows))\r\nX-Idempotency-Key: 30ebcf38-12e5-45d9-8461-b307b5c6c7d9\r\n\r\n{\r\n  &quot;capabilities&quot;: {\r\n    &quot;firstMatch&quot;: [\r\n      {\r\n      }\r\n    ],\r\n    &quot;alwaysMatch&quot;: {\r\n      &quot;appium:app&quot;: &quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;,\r\n      &quot;appium:automationName&quot;: &quot;Windows&quot;,\r\n      &quot;platformName&quot;: &quot;windows&quot;\r\n    }\r\n  }\r\n}\r\nHTTP/1.1 400 Bad Request\r\nContent-Length: 141\r\nContent-Type: application/json\r\n\r\n{&quot;status&quot;:100,&quot;value&quot;:{&quot;error&quot;:&quot;invalid argument&quot;,&quot;message&quot;:&quot;Bad capabilities. Specify either app or appTopLevelWindow to create a session&quot;}}\r\n```\r\n\r\nThank you for advice\r\n\r\nI have  also replaced in java replaced ip address with some other ip which I can see in cmd -&gt; ipconfig\r\nBut it didn&#39;t solve my problem\r\n\r\n`driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), appCapabilities);`","title":"During the start of java code with appium and winappdriver got invalid argument message","body":"<p>I'm quite new in automation, so I tried to do some simple example with starting notepad in combination with appium and winappdriver.</p>\n<p>this is the code which is used in java(Eclipse IDE)</p>\n<pre><code>import org.openqa.selenium.remote.DesiredCapabilities;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport io.appium.java_client.windows.WindowsDriver;\n\n\n\npublic class WinAppDriverTest {\n     static WindowsDriver driver;\n\n    public static void main(String[] args) throws MalformedURLException {\n        // TODO Auto-generated method stub\n        DesiredCapabilities appCapabilities = new DesiredCapabilities(); //org.openqa.selenium.remote.DesiredCapabilities;\n        appCapabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;);\n        driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), appCapabilities);\n    }\n\n}\n</code></pre>\n<p>This is the contents of pom.xml file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;de.simple.automation&lt;/groupId&gt;\n  &lt;artifactId&gt;MavenProjectSimple&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>If I try to execute the java file I get some Error message in console</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: Bad capabilities. Specify either app or appTopLevelWindow to create a session \nHost info: host: 'DESKTOP-someName', ip: '170.25.221.122'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.8'\nDriver info: io.appium.java_client.windows.WindowsDriver\nCommand: [null, newSession {capabilities=[{appium:app=C:\\Windows\\System32\\notepad.exe, appium:automationName=Windows, platformName=windows}], desiredCapabilities=Capabilities {app: C:\\Windows\\System32\\notepad..., appium:automationName: Windows, platformName: windows}}]\nCapabilities {app: C:\\Windows\\System32\\notepad..., appium:automationName: Windows, platformName: windows}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:140)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:133)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:182)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:274)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:101)\n    at io.appium.java_client.windows.WindowsDriver.&lt;init&gt;(WindowsDriver.java:50)\n    at WinAppDriverTest.main(WinAppDriverTest.java:19)\n</code></pre>\n<p>in WinAppDriver I can see this message</p>\n<pre><code>Windows Application Driver listening for requests at: http://127.0.0.1:4723/\nPress ENTER to exit.\n\n\n==========================================\nPOST /session HTTP/1.1\nAccept: */*\nContent-Length: 229\nContent-Type: application/json; charset=utf-8\nHost: 127.0.0.1:4723\nUser-Agent: appium/8.5.1 (selenium/4.10.0 (java windows))\nX-Idempotency-Key: 30ebcf38-12e5-45d9-8461-b307b5c6c7d9\n\n{\n  &quot;capabilities&quot;: {\n    &quot;firstMatch&quot;: [\n      {\n      }\n    ],\n    &quot;alwaysMatch&quot;: {\n      &quot;appium:app&quot;: &quot;C:\\\\Windows\\\\System32\\\\notepad.exe&quot;,\n      &quot;appium:automationName&quot;: &quot;Windows&quot;,\n      &quot;platformName&quot;: &quot;windows&quot;\n    }\n  }\n}\nHTTP/1.1 400 Bad Request\nContent-Length: 141\nContent-Type: application/json\n\n{&quot;status&quot;:100,&quot;value&quot;:{&quot;error&quot;:&quot;invalid argument&quot;,&quot;message&quot;:&quot;Bad capabilities. Specify either app or appTopLevelWindow to create a session&quot;}}\n</code></pre>\n<p>Thank you for advice</p>\n<p>I have  also replaced in java replaced ip address with some other ip which I can see in cmd -&gt; ipconfig\nBut it didn't solve my problem</p>\n<p><code>driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), appCapabilities);</code></p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1566109039,"creation_date":1459677314,"answer_id":36383948,"question_id":36382970,"body_markdown":"If you&#39;re using *Java Configuration*, you can use something like following in your `configure` method:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/employee/me&quot;).authenticated()\r\n                    .antMatchers(&quot;/**&quot;).permitAll();\r\n    }","title":"Allow all URLs but one in Spring security","body":"<p>If you're using <em>Java Configuration</em>, you can use something like following in your <code>configure</code> method:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .authorizeRequests()\n                .antMatchers(\"/employee/me\").authenticated()\n                .antMatchers(\"/**\").permitAll();\n}\n</code></pre>\n"}],"owner":{"account_id":6629588,"reputation":2033,"user_id":5118663,"accept_rate":62,"display_name":"Sathyakumar Seshachalam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62757,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":36383948,"answer_count":1,"score":46,"last_activity_date":1694074689,"creation_date":1459670319,"question_id":36382970,"body_markdown":"I would like to protect just a single URL, while allowing anonymous access for everything else. \r\n\r\nThe Java configuration examples i&#39;m seeing in the internet all seem to indicate that you need to explicitly `permitAll` each and every URL, and appropriate `hasRole` for URLs that need to be protected. This in my case, creates a really unwieldy java code which I have modify every time I add a new URL to the application. Is there an easier java configuration that I can use.\r\n\r\nAnd note also that in my case, the URL i&#39;m protecting is a sub-resource, say `employee/me`, I would like `employee/list`, etc., to be anonymously accessible.","title":"Allow all URLs but one in Spring security","body":"<p>I would like to protect just a single URL, while allowing anonymous access for everything else. </p>\n\n<p>The Java configuration examples i'm seeing in the internet all seem to indicate that you need to explicitly <code>permitAll</code> each and every URL, and appropriate <code>hasRole</code> for URLs that need to be protected. This in my case, creates a really unwieldy java code which I have modify every time I add a new URL to the application. Is there an easier java configuration that I can use.</p>\n\n<p>And note also that in my case, the URL i'm protecting is a sub-resource, say <code>employee/me</code>, I would like <code>employee/list</code>, etc., to be anonymously accessible.</p>\n"},{"tags":["java","oracle","mybatis"],"comments":[{"owner":{"account_id":790,"reputation":23125,"user_id":1030,"accept_rate":98,"display_name":"ninesided"},"score":1,"creation_date":1430732124,"post_id":30026785,"comment_id":48170401,"body_markdown":"and presumably running the select from the sequence works perfectly when logged in to the database as the same user that Java is logged in as?","body":"and presumably running the select from the sequence works perfectly when logged in to the database as the same user that Java is logged in as?"},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430732198,"post_id":30026785,"comment_id":48170447,"body_markdown":"`SELECT mySeq.nextval\n    FROM dual` change to `SELECT nextVal(&#39;mySeq&#39;)`","body":"<code>SELECT mySeq.nextval     FROM dual</code> change to <code>SELECT nextVal(&#39;mySeq&#39;)</code>"},{"owner":{"display_name":"user2504767"},"score":0,"creation_date":1430732442,"post_id":30026785,"comment_id":48170577,"body_markdown":"@Afsun Khammadli: With your solution I get the error ORA-00904: &quot;NEXTVAL&quot;: invalid identifier","body":"@Afsun Khammadli: With your solution I get the error ORA-00904: &quot;NEXTVAL&quot;: invalid identifier"},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430732586,"post_id":30026785,"comment_id":48170658,"body_markdown":"For what you will use sequence nextval?I think you will use for inserting isn&#39;t it?","body":"For what you will use sequence nextval?I think you will use for inserting isn&#39;t it?"},{"owner":{"display_name":"user2504767"},"score":0,"creation_date":1430732696,"post_id":30026785,"comment_id":48170716,"body_markdown":"Yes for an SQL Insert, but first I need to get the next Sequence number and than I put the sequence number into a XML Insert Statement as parameter","body":"Yes for an SQL Insert, but first I need to get the next Sequence number and than I put the sequence number into a XML Insert Statement as parameter"},{"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"score":0,"creation_date":1430732872,"post_id":30026785,"comment_id":48170808,"body_markdown":"`&lt;insert id=&quot;insertMyObject&quot; parameterType=&quot;MyObject&quot; useGeneratedKeys=&quot;true&quot;&gt;\n \n        &lt;selectKey keyProperty=&quot;objectId&quot; resultType=&quot;int&quot; order=&quot;BEFORE&quot;&gt;\n            SELECT nextVal(&#39;my_sequence&#39;)\n            &lt;!-- or -&gt;  SELECT my_sequence.nextVal from dual   --&gt;\n        &lt;/selectKey&gt;\n \n        INSERT INTO myobject_table (objectId,objectName)\n            VALUES (#{objectId},#{objectName})\n \n    &lt;/insert&gt;` Please check this.","body":"<code>&lt;insert id=&quot;insertMyObject&quot; parameterType=&quot;MyObject&quot; useGeneratedKeys=&quot;true&quot;&gt;           &lt;selectKey keyProperty=&quot;objectId&quot; resultType=&quot;int&quot; order=&quot;BEFORE&quot;&gt;             SELECT nextVal(&#39;my_sequence&#39;)             &lt;!-- or -&gt;  SELECT my_sequence.nextVal from dual   --&gt;         &lt;&#47;selectKey&gt;           INSERT INTO myobject_table (objectId,objectName)             VALUES (#{objectId},#{objectName})       &lt;&#47;insert&gt;</code> Please check this."},{"owner":{"account_id":254603,"reputation":15157,"user_id":534120,"display_name":"tbone"},"score":0,"creation_date":1430762349,"post_id":30026785,"comment_id":48189383,"body_markdown":"maybe try adding a public synonym, or specify schema/owner (select SOMESCHEMA.SOMESEQ.nextval ...)","body":"maybe try adding a public synonym, or specify schema/owner (select SOMESCHEMA.SOMESEQ.nextval ...)"}],"answers":[{"tags":[],"owner":{"account_id":2075927,"reputation":2068,"user_id":1849276,"accept_rate":100,"display_name":"Afsun Khammadli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492067231,"creation_date":1430733651,"answer_id":30027349,"question_id":30026785,"body_markdown":"I think you use nextval for inserting.Try following:&lt;br&gt;\r\n\r\n    &lt;insert id=&quot;insertPerson&quot; parameterType=&quot;Person&quot; useGeneratedKeys=&quot;true&quot;&gt; \r\n      &lt;selectKey keyProperty=&quot;personId&quot; resultType=&quot;int&quot; order=&quot;BEFORE&quot;&gt;\r\n        SELECT nextVal(&#39;mySeq&#39;)\r\n      &lt;/selectKey&gt;\r\n      INSERT INTO person (personId,PersonName) VALUES (#{personId},#{personName}) \r\n    &lt;/insert&gt;\r\n\r\nAlso instead of `SELECT nextVal(&#39;mySeq&#39;)` you can use this `SELECT mySeq.nextVal from dual`\r\n","title":"How to call a Oracle database sequence number by using MyBatis?","body":"<p>I think you use nextval for inserting.Try following:<br></p>\n\n<pre><code>&lt;insert id=\"insertPerson\" parameterType=\"Person\" useGeneratedKeys=\"true\"&gt; \n  &lt;selectKey keyProperty=\"personId\" resultType=\"int\" order=\"BEFORE\"&gt;\n    SELECT nextVal('mySeq')\n  &lt;/selectKey&gt;\n  INSERT INTO person (personId,PersonName) VALUES (#{personId},#{personName}) \n&lt;/insert&gt;\n</code></pre>\n\n<p>Also instead of <code>SELECT nextVal('mySeq')</code> you can use this <code>SELECT mySeq.nextVal from dual</code></p>\n"},{"tags":[],"owner":{"account_id":4638300,"reputation":133,"user_id":3758849,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597225351,"creation_date":1597225351,"answer_id":63373902,"question_id":30026785,"body_markdown":"I was able to achieve this,\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; \r\n\r\n   \r\n\r\n    &lt;select id=&quot;getUploadId&quot; resultType=&quot;int&quot;&gt;\r\n\t\tselect {schema}.SEQUENCE_NAME.NEXTVAL from dual\r\n\t&lt;/select&gt;","title":"How to call a Oracle database sequence number by using MyBatis?","body":"<p>I was able to achieve this,</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.5.2&lt;/version&gt;\n    &lt;/dependency&gt; \n\n\n\n&lt;select id=&quot;getUploadId&quot; resultType=&quot;int&quot;&gt;\n    select {schema}.SEQUENCE_NAME.NEXTVAL from dual\n&lt;/select&gt;\n</code></pre>\n"}],"owner":{"display_name":"user2504767"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694073945,"creation_date":1430731869,"question_id":30026785,"body_markdown":"I want to call a sequence number from my Oracle Database 10g by using MyBatis, but I only get an error message like the following: \r\n\r\n    ORA-02289: Sequence is not available.\r\n\r\nHow can I call a sequence number from an Oracle Database?\r\n\r\nHere is my Maven Project Dependency concerning the current MyBatis Version:\r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n\t   &lt;version&gt;1.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  \r\nHere is my Dao Java class:\r\n       \r\n    long mySeqNumber = myDaoClass.getNewNumber(); // here I get an exception\r\n\r\n\r\nHere is my xml declaration:\r\n\r\n    &lt;select id=&quot;getNewNumber&quot; resultType=&quot;java.lang.Long&quot; &gt;\r\n\t\tSELECT mySeq.nextval\r\n\t\tFROM dual\r\n\t&lt;/select&gt;\r\n","title":"How to call a Oracle database sequence number by using MyBatis?","body":"<p>I want to call a sequence number from my Oracle Database 10g by using MyBatis, but I only get an error message like the following: </p>\n\n<pre><code>ORA-02289: Sequence is not available.\n</code></pre>\n\n<p>How can I call a sequence number from an Oracle Database?</p>\n\n<p>Here is my Maven Project Dependency concerning the current MyBatis Version:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n   &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n   &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Here is my Dao Java class:</p>\n\n<pre><code>long mySeqNumber = myDaoClass.getNewNumber(); // here I get an exception\n</code></pre>\n\n<p>Here is my xml declaration:</p>\n\n<pre><code>&lt;select id=\"getNewNumber\" resultType=\"java.lang.Long\" &gt;\n    SELECT mySeq.nextval\n    FROM dual\n&lt;/select&gt;\n</code></pre>\n"},{"tags":["java","exception","scilab"],"comments":[{"owner":{"account_id":13291626,"reputation":2913,"user_id":9595931,"display_name":"St&#233;phane Mottelet"},"score":0,"creation_date":1693988131,"post_id":77049920,"comment_id":135830555,"body_markdown":"Are you using Scilab within Java using JavaSci (https://help.scilab.org/javasci_step_by_step) or Java classes within Scilab ?","body":"Are you using Scilab within Java using JavaSci (<a href=\"https://help.scilab.org/javasci_step_by_step\" rel=\"nofollow noreferrer\">help.scilab.org/javasci_step_by_step</a>) or Java classes within Scilab ?"}],"answers":[{"tags":[],"owner":{"account_id":14915615,"reputation":181,"user_id":10769525,"display_name":"drino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693986849,"creation_date":1693986849,"answer_id":77049977,"question_id":77049920,"body_markdown":"Have you tried to throw a RuntimeException ? That could be helpful in order to identify the origin of the problem.\r\n\r\nI would also try to print in out rather that err.\r\n\r\nTry folowwing code : \r\n\r\n```\r\npublic class DScope\r\n{\r\n    public void exceptiontest(int val)\r\n    {\r\n        System.out.println(&quot;Inspecting: &#39;&quot; + val + &quot;&#39;&quot;);\r\n        if (val &lt; 0)\r\n        {\r\n            throw new RuntimeException(&quot;value is &lt;0&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Scilab Java integration: Exception handling?","body":"<p>Have you tried to throw a RuntimeException ? That could be helpful in order to identify the origin of the problem.</p>\n<p>I would also try to print in out rather that err.</p>\n<p>Try folowwing code :</p>\n<pre><code>public class DScope\n{\n    public void exceptiontest(int val)\n    {\n        System.out.println(&quot;Inspecting: '&quot; + val + &quot;'&quot;);\n        if (val &lt; 0)\n        {\n            throw new RuntimeException(&quot;value is &lt;0&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18559181,"reputation":1,"user_id":14283913,"display_name":"AlexB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694073756,"creation_date":1693986263,"question_id":77049920,"body_markdown":"I am working with Scilab Java integration, i. e. calling Java classes within Scilab to do some external device communication. I am using Scilab 2023.1.0 and OpenJDK jdk8u352-b08 to compile the java classes. When my Java code causes an exception, I do not get the information about what is wrong.\r\n\r\nExample java code:\r\n\r\n```\r\npublic class DScope\r\n{\r\n\r\n    public void exceptiontest(int val) throws Exception\r\n    {\r\n        System.err.println(&quot;Inspecting: &#39;&quot; + val + &quot;&#39;&quot;);\r\n        if (val &lt; 0)\r\n        {\r\n            throw new Exception(&quot;value is &lt;0&quot;);\r\n        }\r\n\t\t\r\n    }\r\n}\r\n```\r\n\r\nScilab result:\r\n\r\n```\r\n--&gt; myDScope = DScope.new();\r\n\r\n--&gt; myDScope.exceptiontest(8)\r\n\r\n--&gt; myDScope.exceptiontest(-8)\r\n\r\nUndefinierte Operation f&#252;r die gegebenen Operanden.\r\nFunktion %eo_e f&#252;r &#220;berladung pr&#252;fen oder definieren.\r\n```\r\n\r\n\r\nI also tried to output some information with System.err.println, but this does not reach the Scilab console.","title":"Scilab Java integration: Exception handling?","body":"<p>I am working with Scilab Java integration, i. e. calling Java classes within Scilab to do some external device communication. I am using Scilab 2023.1.0 and OpenJDK jdk8u352-b08 to compile the java classes. When my Java code causes an exception, I do not get the information about what is wrong.</p>\n<p>Example java code:</p>\n<pre><code>public class DScope\n{\n\n    public void exceptiontest(int val) throws Exception\n    {\n        System.err.println(&quot;Inspecting: '&quot; + val + &quot;'&quot;);\n        if (val &lt; 0)\n        {\n            throw new Exception(&quot;value is &lt;0&quot;);\n        }\n        \n    }\n}\n</code></pre>\n<p>Scilab result:</p>\n<pre><code>--&gt; myDScope = DScope.new();\n\n--&gt; myDScope.exceptiontest(8)\n\n--&gt; myDScope.exceptiontest(-8)\n\nUndefinierte Operation für die gegebenen Operanden.\nFunktion %eo_e für Überladung prüfen oder definieren.\n</code></pre>\n<p>I also tried to output some information with System.err.println, but this does not reach the Scilab console.</p>\n"},{"tags":["java","android","openfire","smack"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688119332,"post_id":76584095,"comment_id":135034211,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"score":0,"creation_date":1694072395,"post_id":76584095,"comment_id":135843711,"body_markdown":"Please note that Openfire 4.7.3 has an important security issue. I strongly recommend that you upgrade to 4.7.5 or later. Please refer to https://discourse.igniterealtime.org/t/cve-2023-32315-openfire-vulnerability-update for details on the security issue.","body":"Please note that Openfire 4.7.3 has an important security issue. I strongly recommend that you upgrade to 4.7.5 or later. Please refer to <a href=\"https://discourse.igniterealtime.org/t/cve-2023-32315-openfire-vulnerability-update\" rel=\"nofollow noreferrer\">discourse.igniterealtime.org/t/&hellip;</a> for details on the security issue."}],"answers":[{"tags":[],"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694072317,"creation_date":1694072317,"answer_id":77057509,"question_id":76584095,"body_markdown":"Both Smack and Openfire support the Stream Management feature (as defined in [XEP-0198: Stream Management](https://xmpp.org/extensions/xep-0198.html)).\r\n\r\nIn Smack, you can enable it using this method:\r\n```java\r\nXMPPTCPConnection connection = new XMPPTCPConnection(config);\r\nconnection.setUseStreamManagement(true);\r\n```\r\n\r\nHowever, I believe that, by default, this already is enabled.","title":"Enabling stream management to use it in smack android application openfire v4.7.3","body":"<p>Both Smack and Openfire support the Stream Management feature (as defined in <a href=\"https://xmpp.org/extensions/xep-0198.html\" rel=\"nofollow noreferrer\">XEP-0198: Stream Management</a>).</p>\n<p>In Smack, you can enable it using this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XMPPTCPConnection connection = new XMPPTCPConnection(config);\nconnection.setUseStreamManagement(true);\n</code></pre>\n<p>However, I believe that, by default, this already is enabled.</p>\n"}],"owner":{"account_id":25539255,"reputation":19,"user_id":19325668,"display_name":"Ramy Elberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694072317,"creation_date":1688066885,"question_id":76584095,"body_markdown":"I encountered an issue where messages are not delivered when the Wi-Fi or cellular data is turned off on an Android device. Even after re-enabling the network connection, the messages remain undelivered. How can I address this situation in the code using Openfire and Smack?\r\n\r\n","title":"Enabling stream management to use it in smack android application openfire v4.7.3","body":"<p>I encountered an issue where messages are not delivered when the Wi-Fi or cellular data is turned off on an Android device. Even after re-enabling the network connection, the messages remain undelivered. How can I address this situation in the code using Openfire and Smack?</p>\n"},{"tags":["java","plugins","openfire"],"answers":[{"tags":[],"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694072140,"creation_date":1694072140,"answer_id":77057487,"question_id":77045032,"body_markdown":"The error suggests that your `plugin.xml` file does not have a `class` element, but from what you copied, it clearly is there, in the right place. Maybe the `plugin.xml` file is stored in the wrong directory?\r\n\r\nAs an aside: if you want to define a dependency to another Openfire plugin, you can use something like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;plugin&gt;\r\n    &lt;name&gt;Kartngo Plugin&lt;/name&gt;\r\n    &lt;class&gt;java.kartNGoPlugin.KartngoPlugin&lt;/class&gt;\r\n    &lt;description&gt;A custom plugin for Kartngo&lt;/description&gt;\r\n    &lt;author&gt;Ahmed Hatem&lt;/author&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;licenseType&gt;gpl&lt;/licenseType&gt;\r\n\r\n    &lt;!-- Optional: Plugin dependencies --&gt;\r\n    &lt;parentPlugin&gt;OtherPlugin&lt;/parentPlugin&gt;\r\n\r\n    &lt;!-- Specify the web interface for the plugin --&gt;\r\n    &lt;adminconsole&gt;\r\n        &lt;tab id=&quot;mytab&quot; name=&quot;Kartngo Plugin&quot;&gt;\r\n            &lt;sidebar id=&quot;mysidebar&quot; name=&quot;Kartngo Plugin&quot;&gt;\r\n                &lt;item id=&quot;my-plugin&quot; name=&quot;Kartngo Page&quot;\r\n                    url=&quot;kartngo.jsp&quot;\r\n                    description=&quot;kartngo jsp plugin&quot; /&gt;\r\n            &lt;/sidebar&gt;\r\n        &lt;/tab&gt;\r\n    &lt;/adminconsole&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis does not work to declare dependencies to libraries - you need to do that in the `pom.xml` file, but if you need your plugin to only load when another plugin is available (and share their classpaths), then the above will do the trick.","title":"Cannot invoke &quot;org.dom4j.Node.getText()&quot; because the return value of &quot;org.dom4j.Document.selectSingleNode(String)&quot; is null","body":"<p>The error suggests that your <code>plugin.xml</code> file does not have a <code>class</code> element, but from what you copied, it clearly is there, in the right place. Maybe the <code>plugin.xml</code> file is stored in the wrong directory?</p>\n<p>As an aside: if you want to define a dependency to another Openfire plugin, you can use something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;plugin&gt;\n    &lt;name&gt;Kartngo Plugin&lt;/name&gt;\n    &lt;class&gt;java.kartNGoPlugin.KartngoPlugin&lt;/class&gt;\n    &lt;description&gt;A custom plugin for Kartngo&lt;/description&gt;\n    &lt;author&gt;Ahmed Hatem&lt;/author&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;licenseType&gt;gpl&lt;/licenseType&gt;\n\n    &lt;!-- Optional: Plugin dependencies --&gt;\n    &lt;parentPlugin&gt;OtherPlugin&lt;/parentPlugin&gt;\n\n    &lt;!-- Specify the web interface for the plugin --&gt;\n    &lt;adminconsole&gt;\n        &lt;tab id=&quot;mytab&quot; name=&quot;Kartngo Plugin&quot;&gt;\n            &lt;sidebar id=&quot;mysidebar&quot; name=&quot;Kartngo Plugin&quot;&gt;\n                &lt;item id=&quot;my-plugin&quot; name=&quot;Kartngo Page&quot;\n                    url=&quot;kartngo.jsp&quot;\n                    description=&quot;kartngo jsp plugin&quot; /&gt;\n            &lt;/sidebar&gt;\n        &lt;/tab&gt;\n    &lt;/adminconsole&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This does not work to declare dependencies to libraries - you need to do that in the <code>pom.xml</code> file, but if you need your plugin to only load when another plugin is available (and share their classpaths), then the above will do the trick.</p>\n"}],"owner":{"account_id":29371550,"reputation":1,"user_id":22504063,"display_name":"Ahmed Hatem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694072140,"creation_date":1693921231,"question_id":77045032,"body_markdown":"I am using Openfire and I have a task to create a custom plugin for it, after creating the plugin and trying to upload it I get this error:\r\n\r\n&gt; org.jivesoftware.openfire.container.PluginManager - An exception\r\n&gt; occurred while loading plugin &#39;kartngo-plugin&#39;:\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.dom4j.Node.getText()&quot; because the return value of\r\n&gt; &quot;org.dom4j.Document.selectSingleNode(String)&quot; is null\r\n\r\nI have no clue why it does this, I even read the documentary on how to create the plugin from their website.\r\n\r\nMy problem is, the condition that the error occurs in, has an if condition to check if the object is null or not, so I don&#39;t know how I am getting this error.\r\n\r\nThis is the full error:\r\n\r\n&gt; 2023.09.05 15:28:54 [1;31mERROR[m [Jetty-QTP-AdminConsole-53]: plugin-admin.jsp - Plugin manager failed to install plugin: kartngo-plugin.jar\r\n2023.09.05 15:28:58 [1;31mERROR[m [PluginMonitorExec-2]: org.jivesoftware.openfire.container.PluginManager - An exception occurred while loading plugin &#39;kartngo-plugin&#39;:\r\njava.lang.NullPointerException: Cannot invoke &quot;org.dom4j.Node.getText()&quot; because the return value of &quot;org.dom4j.Document.selectSingleNode(String)&quot; is null\r\n\tat org.jivesoftware.openfire.container.PluginManager.loadPlugin(PluginManager.java:581) [xmppserver-4.7.5.jar:4.7.5]\r\n\tat org.jivesoftware.openfire.container.PluginMonitor$MonitorTask$4.call(PluginMonitor.java:370) [xmppserver-4.7.5.jar:4.7.5]\r\n\tat org.jivesoftware.openfire.container.PluginMonitor$MonitorTask$4.call(PluginMonitor.java:358) [xmppserver-4.7.5.jar:4.7.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:317) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:1589) [?:?]\r\n\r\n(please excuse me if the way of writing the question is bad/wrong, this is my first question to write on stackoverflow, but I wanted to know how to solve this error)\r\n\r\nThese are my plugin.java, my JSP file, and my plugin.xml that I created to try to upload the plugin into Openfire.\r\n\r\nplugin.java:\r\n\r\n```\r\nimport java.io.File;\r\n\r\nimport org.jivesoftware.openfire.container.Plugin;\r\nimport org.jivesoftware.openfire.container.PluginManager;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.xmpp.component.Component;\r\n\r\n\r\npublic abstract class KartngoPlugin implements Plugin{\r\n\t\r\n    private static final Logger Log = LoggerFactory.getLogger(KartngoPlugin.class);\r\n\r\n\t@Override\r\n\tpublic void initializePlugin(PluginManager manager, File pluginDirectory) {\r\n\t\t\t\t\r\n\t\tLog.info(&quot;Kartngo_Plugin Initialized Successfully at &quot; + new java.util.Date());\r\n\t\t\r\n\t    org.jivesoftware.admin.AuthCheckFilter.addExclude(&quot;kartNGoPlugin&quot;);\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void destroyPlugin() {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nJSP file:\r\n\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Kartngo Plugin Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Kartngo Plugin Page&lt;/h1&gt;\r\n    &lt;p&gt;Current Date: &lt;%= new java.util.Date() %&gt;&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nplugin.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;plugin&gt;\r\n    &lt;name&gt;Kartngo Plugin&lt;/name&gt;\r\n    &lt;class&gt;java.kartNGoPlugin.KartngoPlugin&lt;/class&gt;\r\n    &lt;description&gt;A custom plugin for Kartngo&lt;/description&gt;\r\n    &lt;author&gt;Ahmed Hatem&lt;/author&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;licenseType&gt;gpl&lt;/licenseType&gt;\r\n\r\n    &lt;!-- Optional: Plugin dependencies --&gt;\r\n    &lt;!-- &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;plugin-name&gt;OtherPlugin&lt;/plugin-name&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; --&gt;\r\n\r\n    &lt;!-- Specify the web interface for the plugin --&gt;\r\n\t&lt;adminconsole&gt;\r\n\t    &lt;tab id=&quot;mytab&quot; name=&quot;Kartngo Plugin&quot;&gt;\r\n\t        &lt;sidebar id=&quot;mysidebar&quot; name=&quot;Kartngo Plugin&quot;&gt;\r\n\t            &lt;item id=&quot;my-plugin&quot; name=&quot;Kartngo Page&quot;\r\n\t                url=&quot;kartngo.jsp&quot;\r\n\t                description=&quot;kartngo jsp plugin&quot; /&gt;\r\n\t        &lt;/sidebar&gt;\r\n\t    &lt;/tab&gt;\r\n\t&lt;/adminconsole&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cannot invoke &quot;org.dom4j.Node.getText()&quot; because the return value of &quot;org.dom4j.Document.selectSingleNode(String)&quot; is null","body":"<p>I am using Openfire and I have a task to create a custom plugin for it, after creating the plugin and trying to upload it I get this error:</p>\n<blockquote>\n<p>org.jivesoftware.openfire.container.PluginManager - An exception\noccurred while loading plugin 'kartngo-plugin':\njava.lang.NullPointerException: Cannot invoke\n&quot;org.dom4j.Node.getText()&quot; because the return value of\n&quot;org.dom4j.Document.selectSingleNode(String)&quot; is null</p>\n</blockquote>\n<p>I have no clue why it does this, I even read the documentary on how to create the plugin from their website.</p>\n<p>My problem is, the condition that the error occurs in, has an if condition to check if the object is null or not, so I don't know how I am getting this error.</p>\n<p>This is the full error:</p>\n<blockquote>\n<p>2023.09.05 15:28:54 [1;31mERROR[m [Jetty-QTP-AdminConsole-53]: plugin-admin.jsp - Plugin manager failed to install plugin: kartngo-plugin.jar\n2023.09.05 15:28:58 [1;31mERROR[m [PluginMonitorExec-2]: org.jivesoftware.openfire.container.PluginManager - An exception occurred while loading plugin 'kartngo-plugin':\njava.lang.NullPointerException: Cannot invoke &quot;org.dom4j.Node.getText()&quot; because the return value of &quot;org.dom4j.Document.selectSingleNode(String)&quot; is null\nat org.jivesoftware.openfire.container.PluginManager.loadPlugin(PluginManager.java:581) [xmppserver-4.7.5.jar:4.7.5]\nat org.jivesoftware.openfire.container.PluginMonitor$MonitorTask$4.call(PluginMonitor.java:370) [xmppserver-4.7.5.jar:4.7.5]\nat org.jivesoftware.openfire.container.PluginMonitor$MonitorTask$4.call(PluginMonitor.java:358) [xmppserver-4.7.5.jar:4.7.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:317) [?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) [?:?]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) [?:?]\nat java.lang.Thread.run(Thread.java:1589) [?:?]</p>\n</blockquote>\n<p>(please excuse me if the way of writing the question is bad/wrong, this is my first question to write on stackoverflow, but I wanted to know how to solve this error)</p>\n<p>These are my plugin.java, my JSP file, and my plugin.xml that I created to try to upload the plugin into Openfire.</p>\n<p>plugin.java:</p>\n<pre><code>import java.io.File;\n\nimport org.jivesoftware.openfire.container.Plugin;\nimport org.jivesoftware.openfire.container.PluginManager;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.xmpp.component.Component;\n\n\npublic abstract class KartngoPlugin implements Plugin{\n    \n    private static final Logger Log = LoggerFactory.getLogger(KartngoPlugin.class);\n\n    @Override\n    public void initializePlugin(PluginManager manager, File pluginDirectory) {\n                \n        Log.info(&quot;Kartngo_Plugin Initialized Successfully at &quot; + new java.util.Date());\n        \n        org.jivesoftware.admin.AuthCheckFilter.addExclude(&quot;kartNGoPlugin&quot;);\n        \n    }\n\n    @Override\n    public void destroyPlugin() {\n\n    }\n\n}\n</code></pre>\n<p>JSP file:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Kartngo Plugin Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Kartngo Plugin Page&lt;/h1&gt;\n    &lt;p&gt;Current Date: &lt;%= new java.util.Date() %&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>plugin.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;plugin&gt;\n    &lt;name&gt;Kartngo Plugin&lt;/name&gt;\n    &lt;class&gt;java.kartNGoPlugin.KartngoPlugin&lt;/class&gt;\n    &lt;description&gt;A custom plugin for Kartngo&lt;/description&gt;\n    &lt;author&gt;Ahmed Hatem&lt;/author&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;licenseType&gt;gpl&lt;/licenseType&gt;\n\n    &lt;!-- Optional: Plugin dependencies --&gt;\n    &lt;!-- &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;plugin-name&gt;OtherPlugin&lt;/plugin-name&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; --&gt;\n\n    &lt;!-- Specify the web interface for the plugin --&gt;\n    &lt;adminconsole&gt;\n        &lt;tab id=&quot;mytab&quot; name=&quot;Kartngo Plugin&quot;&gt;\n            &lt;sidebar id=&quot;mysidebar&quot; name=&quot;Kartngo Plugin&quot;&gt;\n                &lt;item id=&quot;my-plugin&quot; name=&quot;Kartngo Page&quot;\n                    url=&quot;kartngo.jsp&quot;\n                    description=&quot;kartngo jsp plugin&quot; /&gt;\n            &lt;/sidebar&gt;\n        &lt;/tab&gt;\n    &lt;/adminconsole&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":19569697,"reputation":11,"user_id":14321120,"display_name":"Subham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694071988,"creation_date":1694048928,"question_id":77056020,"body_markdown":"I&#39;m currently working on an Android project which uses some external libraries. Without these libraries, the application runs fine. However, when I add them, I seem to get this error in my Android app logs:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.h2.server.web.WebServlet&quot; on path: DexPathList[[],nativeLibraryDirectories=[/system/lib, /vendor/lib]]\r\n\r\n(this is thrown for each and every external lib class)\r\n\r\nThe only issue I have is that the DexPathList class doesn&#39;t seem to be recognizing and using the existing .dex files.\r\n[apk dex](https://i.stack.imgur.com/1gZdM.png) \r\n\r\nI&#39;ve tried existing solutions here on StackOverflow and have had 0 success (multiDexEnabled=true, multidex dependency, instant run is disabled, cleaning caches, reinstalling, etc).\r\n\r\nDoes anyone know how these dex files are loaded internally or if there is any way I can fix this?","title":"H2: Class not found for DexPathList (sources is an empty array)","body":"<p>I'm currently working on an Android project which uses some external libraries. Without these libraries, the application runs fine. However, when I add them, I seem to get this error in my Android app logs:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.h2.server.web.WebServlet&quot; on path: DexPathList[[],nativeLibraryDirectories=[/system/lib, /vendor/lib]]</p>\n</blockquote>\n<p>(this is thrown for each and every external lib class)</p>\n<p>The only issue I have is that the DexPathList class doesn't seem to be recognizing and using the existing .dex files.\n<a href=\"https://i.stack.imgur.com/1gZdM.png\" rel=\"nofollow noreferrer\">apk dex</a></p>\n<p>I've tried existing solutions here on StackOverflow and have had 0 success (multiDexEnabled=true, multidex dependency, instant run is disabled, cleaning caches, reinstalling, etc).</p>\n<p>Does anyone know how these dex files are loaded internally or if there is any way I can fix this?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":16780055,"reputation":107,"user_id":12130462,"display_name":"Magdalena Fairfax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578565672,"creation_date":1578482653,"answer_id":59644800,"question_id":59625653,"body_markdown":"You can  use java refection to iterate through the methods\r\n\r\n    public class RunCarConfiguration {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        System.out.println(&quot;Testing grouped car ...&quot;);\r\n        Class&lt;CarConfiguration&gt; obj = CarConfiguration.class;\r\n\r\n        // Process @ColorOption\r\n        if (obj.isAnnotationPresent(ColorOptions.class)) {\r\n            Annotation annotation = obj.getAnnotation(ColorOptions.class);\r\n            ColorOptions colorOptions = (ColorOptions) annotation;\r\n\r\n            System.out.printf(&quot;%nColor :%s&quot;, colorOptions.color());\r\n            System.out.printf(&quot;%nLastModified :%s%n%n&quot;,\r\n                    colorOptions.lastModified());\r\n\r\n        }\r\n   \r\n\r\n    Map &lt;ColorOptions.Color, Car&gt; groupedCar = new HashMap&lt;ColorOptions.Color, Car&gt;();\r\n        // Process @Test\r\n        for (Method method : obj.getDeclaredMethods()) {\r\n\r\n            // if method is annotated with @Test\r\n            if (method.isAnnotationPresent(ColorOptions.class)) {\r\n                Annotation annotation = obj.getAnnotation(ColorOptions.class);\r\n                ColorOptions colorOptions = (ColorOptions) annotation;\r\n\r\n                try {\r\n                    method.invoke(obj.newInstance());\r\n                    if (method.isAnnotationPresent(ColorOptions.class)) {\r\n                        System.out.printf(&quot;Test &#39;%s&#39; - has method annnotation %s %n&quot; ,\r\n                                method.getReturnType().getName(), \r\n                                method.getAnnotation(ColorOptions.class).color());\r\n                        groupedCar.put( method.getAnnotation(ColorOptions.class).color(),\r\n                                (Car)method.invoke(obj.newInstance()));\r\n                    }\r\n\r\n                } catch (Throwable ex) {\r\n                    System.out.printf(&quot;Test &#39;%s&#39; - failed: %s %n&quot; ,\r\n                            method.getName(), ex.getCause());\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n","title":"How to get annotation metadata of spring beans","body":"<p>You can  use java refection to iterate through the methods</p>\n\n<pre><code>public class RunCarConfiguration {\npublic static void main(String[] args) throws Exception {\n\n    System.out.println(\"Testing grouped car ...\");\n    Class&lt;CarConfiguration&gt; obj = CarConfiguration.class;\n\n    // Process @ColorOption\n    if (obj.isAnnotationPresent(ColorOptions.class)) {\n        Annotation annotation = obj.getAnnotation(ColorOptions.class);\n        ColorOptions colorOptions = (ColorOptions) annotation;\n\n        System.out.printf(\"%nColor :%s\", colorOptions.color());\n        System.out.printf(\"%nLastModified :%s%n%n\",\n                colorOptions.lastModified());\n\n    }\n\n\nMap &lt;ColorOptions.Color, Car&gt; groupedCar = new HashMap&lt;ColorOptions.Color, Car&gt;();\n    // Process @Test\n    for (Method method : obj.getDeclaredMethods()) {\n\n        // if method is annotated with @Test\n        if (method.isAnnotationPresent(ColorOptions.class)) {\n            Annotation annotation = obj.getAnnotation(ColorOptions.class);\n            ColorOptions colorOptions = (ColorOptions) annotation;\n\n            try {\n                method.invoke(obj.newInstance());\n                if (method.isAnnotationPresent(ColorOptions.class)) {\n                    System.out.printf(\"Test '%s' - has method annnotation %s %n\" ,\n                            method.getReturnType().getName(), \n                            method.getAnnotation(ColorOptions.class).color());\n                    groupedCar.put( method.getAnnotation(ColorOptions.class).color(),\n                            (Car)method.invoke(obj.newInstance()));\n                }\n\n            } catch (Throwable ex) {\n                System.out.printf(\"Test '%s' - failed: %s %n\" ,\n                        method.getName(), ex.getCause());\n            }\n        }\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16780055,"reputation":107,"user_id":12130462,"display_name":"Magdalena Fairfax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578650625,"creation_date":1578650625,"answer_id":59679465,"question_id":59625653,"body_markdown":"Have you tried ComponentScan\r\n\r\n    @Configuration\r\n    @ComponentScan(includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION,\r\n        classes = ColorOption.class))\r\n    public class ComponentScanAnnotationFilterApp { }\r\n\r\n","title":"How to get annotation metadata of spring beans","body":"<p>Have you tried ComponentScan</p>\n\n<pre><code>@Configuration\n@ComponentScan(includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION,\n    classes = ColorOption.class))\npublic class ComponentScanAnnotationFilterApp { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26945447,"reputation":1,"user_id":20515514,"display_name":"王协龙"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694071659,"creation_date":1694071659,"answer_id":77057434,"question_id":59625653,"body_markdown":"1. get BeanDefinition\r\n```\r\nBeanDefinition beanDefinition =applicationContext.getBeanDefinition(&quot;beanName&quot;);\r\n\r\n```\r\n2. get AnnotatedTypeMetadata\r\n```\r\n MergedAnnotation&lt; ColorOptions &gt; tenantFunMergedAnnotation = ((AnnotatedTypeMetadata) beanDefinition.getSource()).getAnnotations().get(ColorOptions.class);\r\n\r\n```","title":"How to get annotation metadata of spring beans","body":"<ol>\n<li>get BeanDefinition</li>\n</ol>\n<pre><code>BeanDefinition beanDefinition =applicationContext.getBeanDefinition(&quot;beanName&quot;);\n\n</code></pre>\n<ol start=\"2\">\n<li>get AnnotatedTypeMetadata</li>\n</ol>\n<pre><code> MergedAnnotation&lt; ColorOptions &gt; tenantFunMergedAnnotation = ((AnnotatedTypeMetadata) beanDefinition.getSource()).getAnnotations().get(ColorOptions.class);\n\n</code></pre>\n"}],"owner":{"account_id":6761945,"reputation":55,"user_id":5208354,"display_name":"Peter H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694071659,"creation_date":1578389761,"question_id":59625653,"body_markdown":"In my spring project I have multiple implementations of an interface.\r\n\r\n    interface Car {\r\n\r\n    }\r\n\r\n    @Component\r\n    @ColorOptions({Color.RED})\r\n    class SportsCar implements Car {\r\n    \r\n    }\r\n    \r\n    class Truck implements Car {\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    class CarConfiguration {\r\n    \r\n        @Bean\r\n        @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n        @ColorOptions({Color.GREEN, Color.BLUE})\r\n        public Truck oldTruck() {\r\n            return new Truck();\r\n        }\r\n    \r\n        @Bean\r\n        @ColorOptions({Color.BLUE})\r\n        public Truck newTruck() {\r\n            return new Truck();\r\n        }\r\n    }\r\n\r\nWhat I would like to achieve is to create a spring bean which would be a `Map` containing all the implementations of the interface which would be grouped based on the metadata provided in the `ColorOptions` annotation.\r\n\r\n        @Bean\r\n        public Map&lt;Color, List&lt;Car&gt;&gt; groupedCars(List&lt;Car&gt; cars) {\r\n            // ???\r\n            return null;\r\n        }\r\n\r\nThe `org.springframework.beans.factory.ListableBeanFactory#findAnnotationOnBean` provides an option to do it but I was able only to receive the values only in case I annotated a class. In case of spring beans which were defined in methods I do not get anything. Also I would like to avoid injecting the whole `ApplicationContext` and inject just the implementations of the interface. How can I implement that?","title":"How to get annotation metadata of spring beans","body":"<p>In my spring project I have multiple implementations of an interface.</p>\n\n<pre><code>interface Car {\n\n}\n\n@Component\n@ColorOptions({Color.RED})\nclass SportsCar implements Car {\n\n}\n\nclass Truck implements Car {\n\n}\n\n@Configuration\nclass CarConfiguration {\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    @ColorOptions({Color.GREEN, Color.BLUE})\n    public Truck oldTruck() {\n        return new Truck();\n    }\n\n    @Bean\n    @ColorOptions({Color.BLUE})\n    public Truck newTruck() {\n        return new Truck();\n    }\n}\n</code></pre>\n\n<p>What I would like to achieve is to create a spring bean which would be a <code>Map</code> containing all the implementations of the interface which would be grouped based on the metadata provided in the <code>ColorOptions</code> annotation.</p>\n\n<pre><code>    @Bean\n    public Map&lt;Color, List&lt;Car&gt;&gt; groupedCars(List&lt;Car&gt; cars) {\n        // ???\n        return null;\n    }\n</code></pre>\n\n<p>The <code>org.springframework.beans.factory.ListableBeanFactory#findAnnotationOnBean</code> provides an option to do it but I was able only to receive the values only in case I annotated a class. In case of spring beans which were defined in methods I do not get anything. Also I would like to avoid injecting the whole <code>ApplicationContext</code> and inject just the implementations of the interface. How can I implement that?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":1,"creation_date":1465412433,"post_id":37710721,"comment_id":62895435,"body_markdown":"Try with regular non-secure url `http://nexus.....`...","body":"Try with regular non-secure url <code>http:&#47;&#47;nexus.....</code>..."},{"owner":{"account_id":1337754,"reputation":1329,"user_id":1280060,"accept_rate":50,"display_name":"jdex"},"score":0,"creation_date":1694728821,"post_id":37710721,"comment_id":135933454,"body_markdown":"Admin deleted my answer but since maven `3.9.0` , the ssl insecure switch is `-Daether.connector.https.securityMode=insecure` because they changed the transport away from `wagon`","body":"Admin deleted my answer but since maven <code>3.9.0</code> , the ssl insecure switch is <code>-Daether.connector.https.securityMode=insecure</code> because they changed the transport away from <code>wagon</code>"}],"answers":[{"tags":[],"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465412539,"creation_date":1465412539,"answer_id":37710809,"question_id":37710721,"body_markdown":"It seems like your JDK does not have the CA root for the SSL certificate from the repository.\r\n\r\nYou can find a nice article [here][1] about downloading those certificates and adding it to your Java JDK. \r\n\r\n\r\n  [1]: https://web.liferay.com/web/neil.griffin/blog/-/blogs/fixing-suncertpathbuilderexception-caused-by-maven-downloading-from-self-signed-repository","title":"maven repository sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:","body":"<p>It seems like your JDK does not have the CA root for the SSL certificate from the repository.</p>\n\n<p>You can find a nice article <a href=\"https://web.liferay.com/web/neil.griffin/blog/-/blogs/fixing-suncertpathbuilderexception-caused-by-maven-downloading-from-self-signed-repository\" rel=\"nofollow\">here</a> about downloading those certificates and adding it to your Java JDK. </p>\n"},{"tags":[],"owner":{"account_id":2014782,"reputation":1337,"user_id":1802348,"display_name":"positivecrux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465451504,"creation_date":1465451504,"answer_id":37717837,"question_id":37710721,"body_markdown":"you need to enter your certificate inside java cacert file,Please make sure you are selecting root ca certicate not the last one in hierarchy.\r\n\r\n[This][1] link demonstrate it the best.\r\n\r\nStep 1 : Download certificate\r\nStep 2 : store inside cacert\r\n\r\nThat is it! your problem resolved.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37411410/1802348","title":"maven repository sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:","body":"<p>you need to enter your certificate inside java cacert file,Please make sure you are selecting root ca certicate not the last one in hierarchy.</p>\n\n<p><a href=\"https://stackoverflow.com/a/37411410/1802348\">This</a> link demonstrate it the best.</p>\n\n<p>Step 1 : Download certificate\nStep 2 : store inside cacert</p>\n\n<p>That is it! your problem resolved.</p>\n"},{"tags":[],"owner":{"account_id":11275079,"reputation":1,"user_id":8269340,"display_name":"Bipin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499453550,"creation_date":1499433735,"answer_id":44971886,"question_id":37710721,"body_markdown":"Check that run keytool -import.. command from jre which exists uder jdk.\r\nlike this.\r\n\r\n1.Open cmd as admin...\r\n\r\n1. go to path: C:\\Program Files\\Java\\jdk1.8.0_65\\bin&gt;\r\n\r\n1. run bellow command. \r\n\r\n\r\n    keytool -import -noprompt -trustcacerts -alias certPen -file  D:\\certificates\\ca-cert.pem -keystore &quot;C:\\Program Files\\Java\\jdk1.8.0_60\\jre\\lib\\security\\cacerts&quot;\r\n\r\n\r\nand if u facing problem of file not found then set your all permission from\r\nRight click on cacerts → choose properties → select Securit tab → Allow all permissions to all the Group and user names.\r\n\r\n","title":"maven repository sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:","body":"<p>Check that run keytool -import.. command from jre which exists uder jdk.\nlike this.</p>\n\n<p>1.Open cmd as admin...</p>\n\n<ol>\n<li><p>go to path: C:\\Program Files\\Java\\jdk1.8.0_65\\bin></p></li>\n<li><p>run bellow command. </p>\n\n<p>keytool -import -noprompt -trustcacerts -alias certPen -file  D:\\certificates\\ca-cert.pem -keystore \"C:\\Program Files\\Java\\jdk1.8.0_60\\jre\\lib\\security\\cacerts\"</p></li>\n</ol>\n\n<p>and if u facing problem of file not found then set your all permission from\nRight click on cacerts → choose properties → select Securit tab → Allow all permissions to all the Group and user names.</p>\n"}],"owner":{"account_id":1673330,"reputation":1599,"user_id":1539343,"accept_rate":31,"display_name":"user1539343"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24858,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694070579,"creation_date":1465412210,"question_id":37710721,"body_markdown":"I have the fragment of pom.xml which tries to resolve the fitbit dependency:\r\n\r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;name&gt;FitBit GitHub Repo&lt;/name&gt;\r\n    \t\t\t&lt;id&gt;fitbit4j&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://nexus.vanntett.net/content/repositories/fitbit/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n\r\nI am getting the below error:\r\n\r\n\r\n    Failed to collect dependencies at com.fitbit:fitbit4j:jar:1.0.26: Failed to read artifact descriptor for com.fitbit:fitbit4j:jar:1.0.26: Could not transfer artifact com.fitbit:fitbit4j:pom:1.0.26 from/to fitbit4j (https://nexus.vanntett.net/content/repositories/fitbit/): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]\r\n\r\nI used these parameters in eclipse:\r\n    -Dmaven.wagon.http.ssl.insecure=true -   Dmaven.wagon.http.ssl.allowall=true\r\n\r\nwhich didn&#39;t work.\r\n\r\nPlease help.\r\n\r\nThanks","title":"maven repository sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:","body":"<p>I have the fragment of pom.xml which tries to resolve the fitbit dependency:</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;name&gt;FitBit GitHub Repo&lt;/name&gt;\n            &lt;id&gt;fitbit4j&lt;/id&gt;\n            &lt;url&gt;https://nexus.vanntett.net/content/repositories/fitbit/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n\n<p>I am getting the below error:</p>\n\n<pre><code>Failed to collect dependencies at com.fitbit:fitbit4j:jar:1.0.26: Failed to read artifact descriptor for com.fitbit:fitbit4j:jar:1.0.26: Could not transfer artifact com.fitbit:fitbit4j:pom:1.0.26 from/to fitbit4j (https://nexus.vanntett.net/content/repositories/fitbit/): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]\n</code></pre>\n\n<p>I used these parameters in eclipse:\n    -Dmaven.wagon.http.ssl.insecure=true -   Dmaven.wagon.http.ssl.allowall=true</p>\n\n<p>which didn't work.</p>\n\n<p>Please help.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"score":2,"creation_date":1502550146,"post_id":45651144,"comment_id":78261626,"body_markdown":"Please include the code you are using for the download","body":"Please include the code you are using for the download"}],"answers":[{"tags":[],"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574690641,"creation_date":1574690641,"answer_id":59033654,"question_id":45651144,"body_markdown":"Do not close your client after a request if you are pooling the connections.\r\n\r\nThat is, you are probably doing something like this:\r\n\r\n    PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\r\n    ...\r\n    CloseableHttpClient httpclient = HttpClients.custom()\r\n         .setConnectionManager(pool)\r\n         .build();\r\n\r\n    try { // try-with-resources\r\n        HttpGet httpget = new HttpGet(url.toURI());\r\n        try (CloseableHttpResponse response = httpclient.execute(httpget);\r\n                 InputStream fis = response.getEntity().getContent();\r\n                ReadableByteChannel channel = Channels.newChannel(fis)) {\r\n                 // ... get data ...\r\n         } finally {\r\n             httpclient.close(); &lt;====== !!\r\n         }\r\n    } catch (IOException | URISyntaxException e) {\r\n        // exception handling ...\r\n    }\r\n\r\nThat `httpclient.close()` is causing your next pooled connection to fail.\r\n\r\n----\r\n\r\n&lt;sup&gt;Taken from: https://stackoverflow.com/a/59033548/1329340&lt;/sup&gt;","title":"java.lang.IllegalStateException: Connection pool shut down at","body":"<p>Do not close your client after a request if you are pooling the connections.</p>\n\n<p>That is, you are probably doing something like this:</p>\n\n<pre><code>PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\n...\nCloseableHttpClient httpclient = HttpClients.custom()\n     .setConnectionManager(pool)\n     .build();\n\ntry { // try-with-resources\n    HttpGet httpget = new HttpGet(url.toURI());\n    try (CloseableHttpResponse response = httpclient.execute(httpget);\n             InputStream fis = response.getEntity().getContent();\n            ReadableByteChannel channel = Channels.newChannel(fis)) {\n             // ... get data ...\n     } finally {\n         httpclient.close(); &lt;====== !!\n     }\n} catch (IOException | URISyntaxException e) {\n    // exception handling ...\n}\n</code></pre>\n\n<p>That <code>httpclient.close()</code> is causing your next pooled connection to fail.</p>\n\n<hr>\n\n<p><sup>Taken from: <a href=\"https://stackoverflow.com/a/59033548/1329340\">https://stackoverflow.com/a/59033548/1329340</a></sup></p>\n"},{"tags":[],"owner":{"account_id":7300240,"reputation":645,"user_id":5563327,"display_name":"123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670132236,"creation_date":1670132236,"answer_id":74673139,"question_id":45651144,"body_markdown":"in the databricks runtime environment, i found success using the solution from this article mixed with a small variation on the prefix for the configuration key:\r\n\r\n`spark.hadoop.fs.s3a.connection.maximum 3`\r\n\r\nthe original article solution said to use:\r\n\r\n`fs.s3a.connection.maximum`\r\n\r\n\r\nhttps://kb.databricks.com/en_US/jobs/job-fails-connection-pool","title":"java.lang.IllegalStateException: Connection pool shut down at","body":"<p>in the databricks runtime environment, i found success using the solution from this article mixed with a small variation on the prefix for the configuration key:</p>\n<p><code>spark.hadoop.fs.s3a.connection.maximum 3</code></p>\n<p>the original article solution said to use:</p>\n<p><code>fs.s3a.connection.maximum</code></p>\n<p><a href=\"https://kb.databricks.com/en_US/jobs/job-fails-connection-pool\" rel=\"nofollow noreferrer\">https://kb.databricks.com/en_US/jobs/job-fails-connection-pool</a></p>\n"}],"owner":{"account_id":11535300,"reputation":39,"user_id":8452988,"display_name":"Ash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8526,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1694070265,"creation_date":1502546671,"question_id":45651144,"body_markdown":"While downloading file from S3 it is failing and giving me this exception\r\n\r\n&gt;java.lang.IllegalStateException: Connection pool shut down\r\n\r\n&gt; at org.apache.http.util.Asserts.check(Asserts.java:34) \t\r\n&gt; at\r\n&gt; org.apache.http.pool.AbstractConnPool.lease(AbstractConnPool.java:184)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:251)\r\n&gt; \t at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \t\r\n&gt; atsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \t at\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\r\n&gt; \tat com.amazonaws.http.conn.$Proxy70.requestConnection(Unknown Source)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:175)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1190)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649)\r\n&gt; \tat\r\n&gt; com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4221)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4168)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1249)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.transfer.TransferManager.doDownload(TransferManager.java:1053)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.transfer.TransferManager.doDownload(TransferManager.java:1007)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.transfer.TransferManager.download(TransferManager.java:845)\r\n&gt; \tat\r\n&gt; com.amazonaws.services.s3.transfer.TransferManager.download(TransferManager.java:801)\r\n&gt; \tat\r\n&gt; com.capitalone.homeloans.imaging.common.s3communicator.AsyncS3Manager.lambda$download$0(AsyncS3Manager.java:82)\r\n&gt; \tat\r\n&gt; java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n","title":"java.lang.IllegalStateException: Connection pool shut down at","body":"<p>While downloading file from S3 it is failing and giving me this exception</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Connection pool shut down</p>\n  \n  <p>at org.apache.http.util.Asserts.check(Asserts.java:34)<br>\n  at\n  org.apache.http.pool.AbstractConnPool.lease(AbstractConnPool.java:184)\n    at\n  org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:251)\n     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>\n  atsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n     at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n    at com.amazonaws.http.conn.$Proxy70.requestConnection(Unknown Source)\n    at\n  org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:175)\n    at\n  org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at\n  org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at\n  com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1190)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667)\n    at\n  com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649)\n    at\n  com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513)\n    at\n  com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4221)\n    at\n  com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4168)\n    at\n  com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1249)\n    at\n  com.amazonaws.services.s3.transfer.TransferManager.doDownload(TransferManager.java:1053)\n    at\n  com.amazonaws.services.s3.transfer.TransferManager.doDownload(TransferManager.java:1007)\n    at\n  com.amazonaws.services.s3.transfer.TransferManager.download(TransferManager.java:845)\n    at\n  com.amazonaws.services.s3.transfer.TransferManager.download(TransferManager.java:801)\n    at\n  com.capitalone.homeloans.imaging.common.s3communicator.AsyncS3Manager.lambda$download$0(AsyncS3Manager.java:82)\n    at\n  java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1590)\n    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","graalvm"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693822004,"post_id":77036746,"comment_id":135806285,"body_markdown":"The error says nothing about `OAuthBearerSaslClientCallbackHandler` being *missing*. Do you have the correct library versions?","body":"The error says nothing about <code>OAuthBearerSaslClientCallbackHandler</code> being <i>missing</i>. Do you have the correct library versions?"},{"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"score":0,"creation_date":1693823786,"post_id":77036746,"comment_id":135806603,"body_markdown":"As I wrote - it works in plain java.","body":"As I wrote - it works in plain java."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1693901577,"post_id":77036746,"comment_id":135816960,"body_markdown":"Please provide all your GraalVM config files, CLI parameters, etc... (and/or Spring Boot native config) The error comes probably from GraalVM removing something you need.","body":"Please provide all your GraalVM config files, CLI parameters, etc... (and/or Spring Boot native config) The error comes probably from GraalVM removing something you need."}],"answers":[{"tags":[],"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694070096,"creation_date":1694069726,"answer_id":77057233,"question_id":77036746,"body_markdown":"Use GraalVM&#39;s native image agent:\r\n```\r\njava -agentlib:native-image-agent=config-merge-dir=PATH_TO_YOUR_SPRING_BOOT_PROJECT\\src\\main\\resources\\META-INF\\native-image -jar PATH_TO_YOUR_SPRING_BOOT_PROJECT\\target\\NAME_OF_FAT_JAR.jar\r\n```\r\nIt will produce reachability files in your project&#39;s resources folder. Then build your project using org.graalvm.buildtools:native-maven-plugin. The plugin will automatically pick up the files produced by the agent if you save them in resources\\META-INF. If you still get missing classes, resources etc. during the execution - repeat the run. It will merge newly found information with previously created files.\r\nVery rudimentary documentation can be found here: https://www.graalvm.org/22.0/reference-manual/native-image/Agent/","title":"GraalVM native missing kafka clients OAuthBearerSaslClientCallbackHandler","body":"<p>Use GraalVM's native image agent:</p>\n<pre><code>java -agentlib:native-image-agent=config-merge-dir=PATH_TO_YOUR_SPRING_BOOT_PROJECT\\src\\main\\resources\\META-INF\\native-image -jar PATH_TO_YOUR_SPRING_BOOT_PROJECT\\target\\NAME_OF_FAT_JAR.jar\n</code></pre>\n<p>It will produce reachability files in your project's resources folder. Then build your project using org.graalvm.buildtools:native-maven-plugin. The plugin will automatically pick up the files produced by the agent if you save them in resources\\META-INF. If you still get missing classes, resources etc. during the execution - repeat the run. It will merge newly found information with previously created files.\nVery rudimentary documentation can be found here: <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.0/reference-manual/native-image/Agent/</a></p>\n"}],"owner":{"account_id":10344759,"reputation":672,"user_id":7630061,"display_name":"Matthias Danetzky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77057233,"answer_count":1,"score":0,"last_activity_date":1694070096,"creation_date":1693821368,"question_id":77036746,"body_markdown":"I am trying to create a GraalVM compiled native executable connecting to kafka using org.springframework.kafka:spring-kafka. In plain java everything works fine. After compiling into native executable it fails to start throwing:\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: \r\nCould not find a public no-argument constructor for \r\norg.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClientCallbackHandler\r\n```\r\nI&#39;ve tried reflect-config.json as well as graalvm-reachability-metadata. Both to no avail. I couldn&#39;t find any working instruction via google, hence this post.\r\nI am using spring-boot 3.1.3.","title":"GraalVM native missing kafka clients OAuthBearerSaslClientCallbackHandler","body":"<p>I am trying to create a GraalVM compiled native executable connecting to kafka using org.springframework.kafka:spring-kafka. In plain java everything works fine. After compiling into native executable it fails to start throwing:</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: \nCould not find a public no-argument constructor for \norg.apache.kafka.common.security.oauthbearer.internals.OAuthBearerSaslClientCallbackHandler\n</code></pre>\n<p>I've tried reflect-config.json as well as graalvm-reachability-metadata. Both to no avail. I couldn't find any working instruction via google, hence this post.\nI am using spring-boot 3.1.3.</p>\n"},{"tags":["java","spring","spring-boot","authentication","websocket"],"comments":[{"owner":{"account_id":1962736,"reputation":311,"user_id":1763792,"display_name":"almondandapricot"},"score":0,"creation_date":1611582592,"post_id":45405332,"comment_id":116490710,"body_markdown":"Great write-up. Is it a worse approach, to actually defer authentication even further, to the handling of the first SEND frame? as opposed to the CONNECT frame. I am not yet clear on any benefits it might yield, but is it perhaps a no-no, compared to the way you describe in the answer?","body":"Great write-up. Is it a worse approach, to actually defer authentication even further, to the handling of the first SEND frame? as opposed to the CONNECT frame. I am not yet clear on any benefits it might yield, but is it perhaps a no-no, compared to the way you describe in the answer?"},{"owner":{"account_id":1962736,"reputation":311,"user_id":1763792,"display_name":"almondandapricot"},"score":0,"creation_date":1611583030,"post_id":45405332,"comment_id":116490945,"body_markdown":"...first SEND or SUBSCRIBE, in fact","body":"...first SEND or SUBSCRIBE, in fact"},{"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1611663114,"post_id":45405332,"comment_id":116517877,"body_markdown":"IMHO it&#39;s better to do it on CONNECT (and STOMP to support v1.2), because it&#39;s a common entrypoint instead of SEND, SUBSCRIBE, BEGIN, or any other Frame that may be introduce in future RFC","body":"IMHO it&#39;s better to do it on CONNECT (and STOMP to support v1.2), because it&#39;s a common entrypoint instead of SEND, SUBSCRIBE, BEGIN, or any other Frame that may be introduce in future RFC"}],"answers":[{"tags":[],"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"down_vote_count":1,"up_vote_count":136,"is_accepted":true,"score":135,"last_activity_date":1635849935,"creation_date":1501453751,"answer_id":45405333,"question_id":45405332,"body_markdown":"As stated above the documentation looks unclear (IMHO), until Spring provide some clear documentation, here is a boilerplate to save you from spending two days trying to understand what the security chain is doing.\r\n\r\nA really nice attempt was made by [Rob-Leggett](https://github.com/Rob-Leggett/angular_websockets_security) but, he was [forking some Springs class](https://github.com/Rob-Leggett/angular_websockets_security/tree/master/security/src/main/java/au/com/example/security/spring/security/config) and I don&#39;t feel comfortable doing so.\r\n\r\nThings to know before you start:\r\n\r\n- *Security chain* and *Security config* for **http** and **WebSocket** are completely independent.\r\n- Spring `AuthenticationProvider` take not part at all in Websocket authentication.\r\n- The authentication won&#39;t happen on HTTP negotiation endpoint in our case, because none of the JavaScripts STOMP (websocket) libraries I know sends the necessary authentication headers along with the HTTP request.\r\n- Once set on CONNECT request, the *user* (`simpUser`) will be stored in the websocket session and no more authentication will be required on further messages.\r\n\r\n### Maven deps\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### WebSocket configuration\r\nThe below config register a simple message broker (a simple endpoint that we will later protect).\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends WebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        public void configureMessageBroker(final MessageBrokerRegistry config) {\r\n            // These are endpoints the client can subscribes to.\r\n            config.enableSimpleBroker(&quot;/queue/topic&quot;);\r\n            // Message received with one of those below destinationPrefixes will be automatically router to controllers @MessageMapping\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n            // Handshake endpoint\r\n            registry.addEndpoint(&quot;stomp&quot;); // If you want to you can chain setAllowedOrigins(&quot;*&quot;)\r\n        }\r\n    }\r\n\r\n### Spring security config\r\nSince the Stomp protocol rely on a first HTTP Request, we&#39;ll need to authorize HTTP call to our stomp handshake endpoint.\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            // This is not for websocket authorization, and this should most likely not be altered.\r\n            http\r\n                    .httpBasic().disable()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests().antMatchers(&quot;/stomp&quot;).permitAll()\r\n                    .anyRequest().denyAll();\r\n        }\r\n    }\r\n\r\n&lt;br /&gt;\r\nThen we&#39;ll create a service responsible for authenticating users.\r\n\r\n    @Component\r\n    public class WebSocketAuthenticatorService {\r\n        // This method MUST return a UsernamePasswordAuthenticationToken instance, the spring security chain is testing it with &#39;instanceof&#39; later on. So don&#39;t use a subclass of it or any other class\r\n        public UsernamePasswordAuthenticationToken getAuthenticatedOrFail(final String  username, final String password) throws AuthenticationException {\r\n            if (username == null || username.trim().isEmpty()) {\r\n                throw new AuthenticationCredentialsNotFoundException(&quot;Username was null or empty.&quot;);\r\n            }\r\n            if (password == null || password.trim().isEmpty()) {\r\n                throw new AuthenticationCredentialsNotFoundException(&quot;Password was null or empty.&quot;);\r\n            }\r\n            // Add your own logic for retrieving user in fetchUserFromDb()\r\n            if (fetchUserFromDb(username, password) == null) {\r\n                throw new BadCredentialsException(&quot;Bad credentials for user &quot; + username);\r\n            }\r\n\r\n            // null credentials, we do not pass the password along\r\n            return new UsernamePasswordAuthenticationToken(\r\n                    username,\r\n                    null,\r\n                    Collections.singleton((GrantedAuthority) () -&gt; &quot;USER&quot;) // MUST provide at least one role\r\n            );\r\n        }\r\n    }\r\nNote that: `UsernamePasswordAuthenticationToken` **MUST** have at least one GrantedAuthority, if you use another constructor, Spring will auto-set `isAuthenticated = false`.\r\n\r\n\r\n&lt;br /&gt;\r\nAlmost there, now we need to create an Interceptor that will set the `simpUser` header or throw `AuthenticationException` on CONNECT messages.\r\n\r\n    @Component\r\n    public class AuthChannelInterceptorAdapter extends ChannelInterceptor {\r\n        private static final String USERNAME_HEADER = &quot;login&quot;;\r\n        private static final String PASSWORD_HEADER = &quot;passcode&quot;;\r\n        private final WebSocketAuthenticatorService webSocketAuthenticatorService;\r\n\r\n        @Inject\r\n        public AuthChannelInterceptorAdapter(final WebSocketAuthenticatorService webSocketAuthenticatorService) {\r\n            this.webSocketAuthenticatorService = webSocketAuthenticatorService;\r\n        }\r\n\r\n        @Override\r\n        public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) throws AuthenticationException {\r\n            final StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n\r\n            if (StompCommand.CONNECT == accessor.getCommand()) {\r\n                final String username = accessor.getFirstNativeHeader(USERNAME_HEADER);\r\n                final String password = accessor.getFirstNativeHeader(PASSWORD_HEADER);\r\n\r\n                final UsernamePasswordAuthenticationToken user = webSocketAuthenticatorService.getAuthenticatedOrFail(username, password);\r\n\r\n                accessor.setUser(user);\r\n            }\r\n            return message;\r\n        }\r\n    }\r\nNote that: `preSend()` **MUST** return a `UsernamePasswordAuthenticationToken`, another element in the spring security chain test this.\r\nNote that: If your `UsernamePasswordAuthenticationToken` was built without passing `GrantedAuthority`, the authentication will fail, because the constructor without granted authorities auto set `authenticated = false` **THIS IS AN IMPORTANT DETAIL which is not documented in spring-security**.\r\n\r\n&lt;br /&gt;\r\nFinally create two more class to handle respectively Authorization and Authentication.\r\n\r\n    @Configuration\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 99)\r\n    public class WebSocketAuthenticationSecurityConfig extends  WebSocketMessageBrokerConfigurer {\r\n        @Inject\r\n        private AuthChannelInterceptorAdapter authChannelInterceptorAdapter;\r\n        \r\n        @Override\r\n        public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n            // Endpoints are already registered on WebSocketConfig, no need to add more.\r\n        }\r\n\r\n        @Override\r\n        public void configureClientInboundChannel(final ChannelRegistration registration) {\r\n            registration.setInterceptors(authChannelInterceptorAdapter);\r\n        }\r\n\r\n    }\r\n\r\nNote that: The `@Order` is **CRUCIAL** don&#39;t forget it, it allows our interceptor to be registered first in the security chain.\r\n\r\n    @Configuration\r\n    public class WebSocketAuthorizationSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        protected void configureInbound(final MessageSecurityMetadataSourceRegistry messages) {\r\n            // You can customize your authorization mapping here.\r\n            messages.anyMessage().authenticated();\r\n        }\r\n\r\n        // TODO: For test purpose (and simplicity) i disabled CSRF, but you should re-enable this and provide a CRSF endpoint.\r\n        @Override\r\n        protected boolean sameOriginDisabled() {\r\n            return true;\r\n        }\r\n    }","title":"Websocket Authentication and Authorization in Spring","body":"<p>As stated above the documentation looks unclear (IMHO), until Spring provide some clear documentation, here is a boilerplate to save you from spending two days trying to understand what the security chain is doing.</p>\n<p>A really nice attempt was made by <a href=\"https://github.com/Rob-Leggett/angular_websockets_security\" rel=\"noreferrer\">Rob-Leggett</a> but, he was <a href=\"https://github.com/Rob-Leggett/angular_websockets_security/tree/master/security/src/main/java/au/com/example/security/spring/security/config\" rel=\"noreferrer\">forking some Springs class</a> and I don't feel comfortable doing so.</p>\n<p>Things to know before you start:</p>\n<ul>\n<li><em>Security chain</em> and <em>Security config</em> for <strong>http</strong> and <strong>WebSocket</strong> are completely independent.</li>\n<li>Spring <code>AuthenticationProvider</code> take not part at all in Websocket authentication.</li>\n<li>The authentication won't happen on HTTP negotiation endpoint in our case, because none of the JavaScripts STOMP (websocket) libraries I know sends the necessary authentication headers along with the HTTP request.</li>\n<li>Once set on CONNECT request, the <em>user</em> (<code>simpUser</code>) will be stored in the websocket session and no more authentication will be required on further messages.</li>\n</ul>\n<h3>Maven deps</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>WebSocket configuration</h3>\n<p>The below config register a simple message broker (a simple endpoint that we will later protect).</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(final MessageBrokerRegistry config) {\n        // These are endpoints the client can subscribes to.\n        config.enableSimpleBroker(&quot;/queue/topic&quot;);\n        // Message received with one of those below destinationPrefixes will be automatically router to controllers @MessageMapping\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\n        // Handshake endpoint\n        registry.addEndpoint(&quot;stomp&quot;); // If you want to you can chain setAllowedOrigins(&quot;*&quot;)\n    }\n}\n</code></pre>\n<h3>Spring security config</h3>\n<p>Since the Stomp protocol rely on a first HTTP Request, we'll need to authorize HTTP call to our stomp handshake endpoint.</p>\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        // This is not for websocket authorization, and this should most likely not be altered.\n        http\n                .httpBasic().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/stomp&quot;).permitAll()\n                .anyRequest().denyAll();\n    }\n}\n</code></pre>\n<br />\nThen we'll create a service responsible for authenticating users.\n<pre><code>@Component\npublic class WebSocketAuthenticatorService {\n    // This method MUST return a UsernamePasswordAuthenticationToken instance, the spring security chain is testing it with 'instanceof' later on. So don't use a subclass of it or any other class\n    public UsernamePasswordAuthenticationToken getAuthenticatedOrFail(final String  username, final String password) throws AuthenticationException {\n        if (username == null || username.trim().isEmpty()) {\n            throw new AuthenticationCredentialsNotFoundException(&quot;Username was null or empty.&quot;);\n        }\n        if (password == null || password.trim().isEmpty()) {\n            throw new AuthenticationCredentialsNotFoundException(&quot;Password was null or empty.&quot;);\n        }\n        // Add your own logic for retrieving user in fetchUserFromDb()\n        if (fetchUserFromDb(username, password) == null) {\n            throw new BadCredentialsException(&quot;Bad credentials for user &quot; + username);\n        }\n\n        // null credentials, we do not pass the password along\n        return new UsernamePasswordAuthenticationToken(\n                username,\n                null,\n                Collections.singleton((GrantedAuthority) () -&gt; &quot;USER&quot;) // MUST provide at least one role\n        );\n    }\n}\n</code></pre>\n<p>Note that: <code>UsernamePasswordAuthenticationToken</code> <strong>MUST</strong> have at least one GrantedAuthority, if you use another constructor, Spring will auto-set <code>isAuthenticated = false</code>.</p>\n<br />\nAlmost there, now we need to create an Interceptor that will set the `simpUser` header or throw `AuthenticationException` on CONNECT messages.\n<pre><code>@Component\npublic class AuthChannelInterceptorAdapter extends ChannelInterceptor {\n    private static final String USERNAME_HEADER = &quot;login&quot;;\n    private static final String PASSWORD_HEADER = &quot;passcode&quot;;\n    private final WebSocketAuthenticatorService webSocketAuthenticatorService;\n\n    @Inject\n    public AuthChannelInterceptorAdapter(final WebSocketAuthenticatorService webSocketAuthenticatorService) {\n        this.webSocketAuthenticatorService = webSocketAuthenticatorService;\n    }\n\n    @Override\n    public Message&lt;?&gt; preSend(final Message&lt;?&gt; message, final MessageChannel channel) throws AuthenticationException {\n        final StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n\n        if (StompCommand.CONNECT == accessor.getCommand()) {\n            final String username = accessor.getFirstNativeHeader(USERNAME_HEADER);\n            final String password = accessor.getFirstNativeHeader(PASSWORD_HEADER);\n\n            final UsernamePasswordAuthenticationToken user = webSocketAuthenticatorService.getAuthenticatedOrFail(username, password);\n\n            accessor.setUser(user);\n        }\n        return message;\n    }\n}\n</code></pre>\n<p>Note that: <code>preSend()</code> <strong>MUST</strong> return a <code>UsernamePasswordAuthenticationToken</code>, another element in the spring security chain test this.\nNote that: If your <code>UsernamePasswordAuthenticationToken</code> was built without passing <code>GrantedAuthority</code>, the authentication will fail, because the constructor without granted authorities auto set <code>authenticated = false</code> <strong>THIS IS AN IMPORTANT DETAIL which is not documented in spring-security</strong>.</p>\n<br />\nFinally create two more class to handle respectively Authorization and Authentication.\n<pre><code>@Configuration\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\npublic class WebSocketAuthenticationSecurityConfig extends  WebSocketMessageBrokerConfigurer {\n    @Inject\n    private AuthChannelInterceptorAdapter authChannelInterceptorAdapter;\n    \n    @Override\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\n        // Endpoints are already registered on WebSocketConfig, no need to add more.\n    }\n\n    @Override\n    public void configureClientInboundChannel(final ChannelRegistration registration) {\n        registration.setInterceptors(authChannelInterceptorAdapter);\n    }\n\n}\n</code></pre>\n<p>Note that: The <code>@Order</code> is <strong>CRUCIAL</strong> don't forget it, it allows our interceptor to be registered first in the security chain.</p>\n<pre><code>@Configuration\npublic class WebSocketAuthorizationSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {\n    @Override\n    protected void configureInbound(final MessageSecurityMetadataSourceRegistry messages) {\n        // You can customize your authorization mapping here.\n        messages.anyMessage().authenticated();\n    }\n\n    // TODO: For test purpose (and simplicity) i disabled CSRF, but you should re-enable this and provide a CRSF endpoint.\n    @Override\n    protected boolean sameOriginDisabled() {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7338059,"reputation":71,"user_id":5588692,"display_name":"tbw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579507574,"creation_date":1530563807,"answer_id":51143404,"question_id":45405332,"body_markdown":"for java client side use this tested example:\r\n\r\n    StompHeaders connectHeaders = new StompHeaders();\r\n    connectHeaders.add(&quot;login&quot;, &quot;test1&quot;);\r\n    connectHeaders.add(&quot;passcode&quot;, &quot;test&quot;);\r\n    stompClient.connect(WS_HOST_PORT, new WebSocketHttpHeaders(), connectHeaders, new MySessionHandler());","title":"Websocket Authentication and Authorization in Spring","body":"<p>for java client side use this tested example:</p>\n\n<pre><code>StompHeaders connectHeaders = new StompHeaders();\nconnectHeaders.add(\"login\", \"test1\");\nconnectHeaders.add(\"passcode\", \"test\");\nstompClient.connect(WS_HOST_PORT, new WebSocketHttpHeaders(), connectHeaders, new MySessionHandler());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3065469,"reputation":1545,"user_id":2597267,"display_name":"Borislav Markov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621604315,"creation_date":1621604315,"answer_id":67637958,"question_id":45405332,"body_markdown":"Going with spring authentication is a pain. You can do it in a simple way. Create a web Filter and read the Authorization token by yourself, then perform the authentication.\r\n```\r\n@Component\r\npublic class CustomAuthenticationFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n            throws IOException, ServletException {\r\n        if (servletRequest instanceof HttpServletRequest) {\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            String authorization = request.getHeader(&quot;Authorization&quot;);\r\n            if (/*Your condition here*/) {\r\n                // logged\r\n                filterChain.doFilter(servletRequest, servletResponse);\r\n            } else {\r\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n                response.setContentType(MediaType.APPLICATION_JSON_UTF8_VALUE);\r\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: &quot;\\Bad login\\&quot;}&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\nThen in your configuration define the filter using the spring mechanism:\r\n```\r\n@Configuration\r\npublic class SomeConfig {\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CustomAuthenticationFilter&gt; securityFilter(\r\n            CustomAuthenticationFilter customAuthenticationFilter){\r\n        FilterRegistrationBean&lt;CustomAuthenticationFilter&gt; registrationBean\r\n                = new FilterRegistrationBean&lt;&gt;();\r\n\r\n        registrationBean.setFilter(customAuthenticationFilter);\r\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\r\n        return registrationBean;\r\n    }\r\n}\r\n```\r\n","title":"Websocket Authentication and Authorization in Spring","body":"<p>Going with spring authentication is a pain. You can do it in a simple way. Create a web Filter and read the Authorization token by yourself, then perform the authentication.</p>\n<pre><code>@Component\npublic class CustomAuthenticationFilter implements Filter {\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        if (servletRequest instanceof HttpServletRequest) {\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\n            String authorization = request.getHeader(&quot;Authorization&quot;);\n            if (/*Your condition here*/) {\n                // logged\n                filterChain.doFilter(servletRequest, servletResponse);\n            } else {\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\n                response.setContentType(MediaType.APPLICATION_JSON_UTF8_VALUE);\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: &quot;\\Bad login\\&quot;}&quot;);\n            }\n        }\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>Then in your configuration define the filter using the spring mechanism:</p>\n<pre><code>@Configuration\npublic class SomeConfig {\n    @Bean\n    public FilterRegistrationBean&lt;CustomAuthenticationFilter&gt; securityFilter(\n            CustomAuthenticationFilter customAuthenticationFilter){\n        FilterRegistrationBean&lt;CustomAuthenticationFilter&gt; registrationBean\n                = new FilterRegistrationBean&lt;&gt;();\n\n        registrationBean.setFilter(customAuthenticationFilter);\n        registrationBean.addUrlPatterns(&quot;/*&quot;);\n        return registrationBean;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18555370,"reputation":197,"user_id":13520621,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686322815,"creation_date":1686322815,"answer_id":76441425,"question_id":45405332,"body_markdown":"If you are using [this][1] Stomp Client library for Android then you actually can add Http headers to initial handshake request.\r\n\r\nHere is an example:\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;Authorization&quot;, &quot;Your auth token&quot;);\r\n        \r\n    StompClient stompClient = Stomp.over(Stomp.ConnectionProvider.OKHTTP, \r\n            &quot;ws://example.com/api/websocket&quot;, headers);\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/NaikSoftware/StompProtocolAndroid","title":"Websocket Authentication and Authorization in Spring","body":"<p>If you are using <a href=\"https://github.com/NaikSoftware/StompProtocolAndroid\" rel=\"nofollow noreferrer\">this</a> Stomp Client library for Android then you actually can add Http headers to initial handshake request.</p>\n<p>Here is an example:</p>\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;Authorization&quot;, &quot;Your auth token&quot;);\n    \nStompClient stompClient = Stomp.over(Stomp.ConnectionProvider.OKHTTP, \n        &quot;ws://example.com/api/websocket&quot;, headers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694069994,"creation_date":1694069994,"answer_id":77057255,"question_id":45405332,"body_markdown":"### Spring 3 and disabled CSRF protection\r\n\r\nIt also can be done with `@EnableWebSocketMessageBroker` and **disabled** csrf protection (in case if you don&#39;t need it). And in that case, you configuration will be quite simple.\r\n\r\nHere is my example. It&#39;s on Kotlin, but I think it&#39;s still easy to get the idea.\r\n\r\nSecurity configuration:\r\n\r\n```kotlin\r\nimport org.springframework.context.annotation.Bean\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.messaging.Message\r\nimport org.springframework.security.authorization.AuthorizationManager\r\nimport org.springframework.security.config.annotation.web.socket.EnableWebSocketSecurity\r\nimport org.springframework.security.messaging.access.intercept.MessageMatcherDelegatingAuthorizationManager\r\n\r\n\r\n@Configuration\r\n@EnableWebSocketSecurity\r\nclass SecurityConfig {\r\n\r\n    @Bean\r\n    fun messageAuthorizationManager(messages: MessageMatcherDelegatingAuthorizationManager.Builder): AuthorizationManager&lt;Message&lt;*&gt;&gt; {\r\n        messages.nullDestMatcher().authenticated()\r\n            .simpSubscribeDestMatchers(&quot;/app/notifications&quot;).permitAll()\r\n            .simpSubscribeDestMatchers(&quot;/queue/tasks/**&quot;).hasAuthority(&quot;SCOPE_tasks.read&quot;)\r\n            .simpDestMatchers(&quot;/app/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n        return messages.build()\r\n    }\r\n\r\n}\r\n```\r\n\r\nCustom CSRF interceptor:\r\n```kotlin\r\nimport org.springframework.messaging.Message\r\nimport org.springframework.messaging.MessageChannel\r\nimport org.springframework.messaging.support.ChannelInterceptor\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component(&quot;csrfChannelInterceptor&quot;)\r\nclass CustomCsrfChannelInterceptor : ChannelInterceptor {\r\n\r\n    override fun preSend(message: Message&lt;*&gt;, channel: MessageChannel): Message&lt;*&gt;? {\r\n        return message;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd that&#39;s it. You can configure authorization/authentication politics in the config, using all the advantages of `@EnableWebSocketMessageBroker` and you don&#39;t have to deal with the CSRF protection if you don&#39;t need it. Unfortunately, at present, there is no easier way to disable the protection.\r\n\r\n\r\nLink to the comprehensive Spring&#39;s guide: [https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-authorization][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-authorization","title":"Websocket Authentication and Authorization in Spring","body":"<h3>Spring 3 and disabled CSRF protection</h3>\n<p>It also can be done with <code>@EnableWebSocketMessageBroker</code> and <strong>disabled</strong> csrf protection (in case if you don't need it). And in that case, you configuration will be quite simple.</p>\n<p>Here is my example. It's on Kotlin, but I think it's still easy to get the idea.</p>\n<p>Security configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.messaging.Message\nimport org.springframework.security.authorization.AuthorizationManager\nimport org.springframework.security.config.annotation.web.socket.EnableWebSocketSecurity\nimport org.springframework.security.messaging.access.intercept.MessageMatcherDelegatingAuthorizationManager\n\n\n@Configuration\n@EnableWebSocketSecurity\nclass SecurityConfig {\n\n    @Bean\n    fun messageAuthorizationManager(messages: MessageMatcherDelegatingAuthorizationManager.Builder): AuthorizationManager&lt;Message&lt;*&gt;&gt; {\n        messages.nullDestMatcher().authenticated()\n            .simpSubscribeDestMatchers(&quot;/app/notifications&quot;).permitAll()\n            .simpSubscribeDestMatchers(&quot;/queue/tasks/**&quot;).hasAuthority(&quot;SCOPE_tasks.read&quot;)\n            .simpDestMatchers(&quot;/app/**&quot;).hasRole(&quot;ADMIN&quot;)\n        return messages.build()\n    }\n\n}\n</code></pre>\n<p>Custom CSRF interceptor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.messaging.Message\nimport org.springframework.messaging.MessageChannel\nimport org.springframework.messaging.support.ChannelInterceptor\nimport org.springframework.stereotype.Component\n\n@Component(&quot;csrfChannelInterceptor&quot;)\nclass CustomCsrfChannelInterceptor : ChannelInterceptor {\n\n    override fun preSend(message: Message&lt;*&gt;, channel: MessageChannel): Message&lt;*&gt;? {\n        return message;\n    }\n\n}\n</code></pre>\n<p>And that's it. You can configure authorization/authentication politics in the config, using all the advantages of <code>@EnableWebSocketMessageBroker</code> and you don't have to deal with the CSRF protection if you don't need it. Unfortunately, at present, there is no easier way to disable the protection.</p>\n<p>Link to the comprehensive Spring's guide: <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-authorization\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/integrations/websocket.html#websocket-authorization</a></p>\n"}],"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74002,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":45405333,"answer_count":5,"score":77,"last_activity_date":1694069994,"creation_date":1501453751,"question_id":45405332,"body_markdown":"I&#39;ve been struggling a lot to properly implement Stomp (websocket) **Authentication** and **Authorization** with Spring-Security. *For posterity i&#39;ll answer my own question to provide a guide.*\n\n&lt;br /&gt;\n\n### The Problem\nSpring WebSocket documentation (for Authentication) looks unclear ATM (IMHO). And i couldn&#39;t understand how to properly handle **Authentication** and **Authorization**.\n\n&lt;br /&gt;\n\n### What i want\n- Authenticate users with login/password.\n- Prevent anonymous users to CONNECT though WebSocket.\n- Add authorization layer (user, admin, ...).\n- Having `Principal` available in controllers.\n\n&lt;br /&gt;\n\n### What i don&#39;t want\n- Authenticate on HTTP negotiation endpoints (since most of JavaScript libraries don&#39;t sends authentication headers along with the HTTP negotiation call).","title":"Websocket Authentication and Authorization in Spring","body":"<p>I've been struggling a lot to properly implement Stomp (websocket) <strong>Authentication</strong> and <strong>Authorization</strong> with Spring-Security. <em>For posterity i'll answer my own question to provide a guide.</em></p>\n<br />\n<h3>The Problem</h3>\n<p>Spring WebSocket documentation (for Authentication) looks unclear ATM (IMHO). And i couldn't understand how to properly handle <strong>Authentication</strong> and <strong>Authorization</strong>.</p>\n<br />\n<h3>What i want</h3>\n<ul>\n<li>Authenticate users with login/password.</li>\n<li>Prevent anonymous users to CONNECT though WebSocket.</li>\n<li>Add authorization layer (user, admin, ...).</li>\n<li>Having <code>Principal</code> available in controllers.</li>\n</ul>\n<br />\n<h3>What i don't want</h3>\n<ul>\n<li>Authenticate on HTTP negotiation endpoints (since most of JavaScript libraries don't sends authentication headers along with the HTTP negotiation call).</li>\n</ul>\n"},{"tags":["java","testing","contains","assert","hamcrest"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1694069453,"post_id":77057159,"comment_id":135843136,"body_markdown":"Please provide a [mcve]","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"score":0,"creation_date":1694069699,"post_id":77057159,"comment_id":135843185,"body_markdown":"It&#39;s in the question description. The `assertThat` fails.","body":"It&#39;s in the question description. The <code>assertThat</code> fails."}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694069673,"creation_date":1694069542,"answer_id":77057209,"question_id":77057159,"body_markdown":"Check this out: https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(T...)\r\n\r\n`containsInAnyOrder` expects an array of elements to match with the provided `actual` list.\r\nYou are passing `expected` as list.  And `actual` is not a List of List.\r\nSo, it will try to search for an entire list as an element in `actual`.\r\n\r\nProbably you will need to use `containsInAnyOrder(expected.toArray())`.\r\n\r\nI.e.\r\n```\r\nassertThat(actual, containsInAnyOrder(expected.toArray()));\r\n```\r\n\r\nTry it out.","title":"How does `containsInAnyOrder` compare items?","body":"<p>Check this out: <a href=\"https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(T...)\" rel=\"nofollow noreferrer\">https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#containsInAnyOrder(T...)</a></p>\n<p><code>containsInAnyOrder</code> expects an array of elements to match with the provided <code>actual</code> list.\nYou are passing <code>expected</code> as list.  And <code>actual</code> is not a List of List.\nSo, it will try to search for an entire list as an element in <code>actual</code>.</p>\n<p>Probably you will need to use <code>containsInAnyOrder(expected.toArray())</code>.</p>\n<p>I.e.</p>\n<pre><code>assertThat(actual, containsInAnyOrder(expected.toArray()));\n</code></pre>\n<p>Try it out.</p>\n"}],"owner":{"account_id":4504119,"reputation":1834,"user_id":3706638,"accept_rate":100,"display_name":"S.Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77057209,"answer_count":1,"score":-2,"last_activity_date":1694069673,"creation_date":1694068959,"question_id":77057159,"body_markdown":"I&#39;ve got a `CustomField` class and I&#39;ve overriden the equals and hashcode methods. But when I try to compare 2 lists of `CustomField` objects, it fails. \r\nWhy wouldn&#39;t the `containsInAnyOrder` work in the following:\r\n```\r\nOverrides:\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        CustomField that = (CustomField) o;\r\n        return Objects.equals(this.id, that.id) &amp;&amp;\r\n                Objects.equals(this.name, that.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.name);\r\n    }\r\n\r\n```\r\n```\r\n        List&lt;CustomField&gt; actual = ImmutableList.of(\r\n                new CustomField(1L, &quot;1L&quot;),\r\n                new CustomField(2L, &quot;2L&quot;),\r\n                new CustomField(3L, &quot;3L&quot;)\r\n        );\r\n        List&lt;CustomField&gt; expected = ImmutableList.of(\r\n                new CustomField(1L, &quot;1L&quot;),\r\n                new CustomField(2L, &quot;2L&quot;),\r\n                new CustomField(3L, &quot;3L&quot;)\r\n        );\r\n        assertThat(actual, containsInAnyOrder(expected)); /// why does this fail?\r\n```","title":"How does `containsInAnyOrder` compare items?","body":"<p>I've got a <code>CustomField</code> class and I've overriden the equals and hashcode methods. But when I try to compare 2 lists of <code>CustomField</code> objects, it fails.\nWhy wouldn't the <code>containsInAnyOrder</code> work in the following:</p>\n<pre><code>Overrides:\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        CustomField that = (CustomField) o;\n        return Objects.equals(this.id, that.id) &amp;&amp;\n                Objects.equals(this.name, that.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.name);\n    }\n\n</code></pre>\n<pre><code>        List&lt;CustomField&gt; actual = ImmutableList.of(\n                new CustomField(1L, &quot;1L&quot;),\n                new CustomField(2L, &quot;2L&quot;),\n                new CustomField(3L, &quot;3L&quot;)\n        );\n        List&lt;CustomField&gt; expected = ImmutableList.of(\n                new CustomField(1L, &quot;1L&quot;),\n                new CustomField(2L, &quot;2L&quot;),\n                new CustomField(3L, &quot;3L&quot;)\n        );\n        assertThat(actual, containsInAnyOrder(expected)); /// why does this fail?\n</code></pre>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1606142982,"post_id":64970647,"comment_id":114864045,"body_markdown":"_this problem might be hard to follow without any Code Examples_ well, it&#39;s not answerable without (never seen anything near your description, but that could be just me :) - strip it down to a [mcve] (which is what you&#39;ll have to do anyway, to pinpoint what&#39;s going wrong)","body":"<i>this problem might be hard to follow without any Code Examples</i> well, it&#39;s not answerable without (never seen anything near your description, but that could be just me :) - strip it down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (which is what you&#39;ll have to do anyway, to pinpoint what&#39;s going wrong)"},{"owner":{"account_id":20042245,"reputation":71,"user_id":14692742,"display_name":"klstm"},"score":0,"creation_date":1606298368,"post_id":64970647,"comment_id":114919865,"body_markdown":"I have edited my question and added a small working code example that illustrates my problem. Is it possible to reopen this question or should i open a new one?","body":"I have edited my question and added a small working code example that illustrates my problem. Is it possible to reopen this question or should i open a new one?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1606306896,"post_id":64970647,"comment_id":114923617,"body_markdown":"definitely no repost :) Taking your word for this being reproducible (no time to check myself right now) - voted to re-open","body":"definitely no repost :) Taking your word for this being reproducible (no time to check myself right now) - voted to re-open"},{"owner":{"account_id":3884753,"reputation":10795,"user_id":3216427,"display_name":"joanis"},"score":0,"creation_date":1606321955,"post_id":64970647,"comment_id":114931261,"body_markdown":"I&#39;m going to vote to reopen, but I still have some reservations: the question is very long, the code is very long. So it&#39;s a lot of work just to figure out what you&#39;re asking. If you could reduce the question to just the problem with as little else as possible, it would be better. Even if it gets reopened (my vote won&#39;t be enough), there is a risk it will get closed again as needing more focus.","body":"I&#39;m going to vote to reopen, but I still have some reservations: the question is very long, the code is very long. So it&#39;s a lot of work just to figure out what you&#39;re asking. If you could reduce the question to just the problem with as little else as possible, it would be better. Even if it gets reopened (my vote won&#39;t be enough), there is a risk it will get closed again as needing more focus."},{"owner":{"account_id":20042245,"reputation":71,"user_id":14692742,"display_name":"klstm"},"score":0,"creation_date":1606375845,"post_id":64970647,"comment_id":114946408,"body_markdown":"Thank you for reopening. My problem/the question is very long because it is very specific...The only part i could think of leaving out would be the Controller for the FXML as it is pretty basic. If you find anything to be redundant or unnecessary, let me know and i will gladly reduce the question further.","body":"Thank you for reopening. My problem/the question is very long because it is very specific...The only part i could think of leaving out would be the Controller for the FXML as it is pretty basic. If you find anything to be redundant or unnecessary, let me know and i will gladly reduce the question further."}],"owner":{"account_id":20042245,"reputation":71,"user_id":14692742,"display_name":"klstm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1694069573,"creation_date":1606142731,"question_id":64970647,"body_markdown":"I am currently working on a JavaFx Application. Fx is supposed to only be responsible for UI Content, while the pretty complex functionality is inside a different already finished project, which was created using Swing. To accomplish this, I built an FXML using Scenebuilder, then passed a number of Swing Panels into seperate SwingNodes and passed the SwingNodes into different Tabs of a TabPane (all done inside the start() method of my Application class). Upon starting the Program everything looks fine, the Swing and Fx Content is shown correctly and the functionality works as well. However when resizing the Application Window manually, the SwingNode Content misbehaves, sometimes the Tab remains empty, sometimes only a part of the Node is painted, sometimes it just shows completly black.\r\n\r\nRight now, the actual started Program is the &quot;old&quot; Swing Project, which at some Point uses Platform.startup() to start the FX Application. This is necessary for functionality reasons. The Swing Panels at that point get passed into SwingNodes, which are located within the Fx Project.\r\n\r\nI have tried to &quot;update&quot; the SwingNodes by continuosly setting the SwingNode-Content on Window Resizing. \r\nAlso I tried to repaint Swing Content. Both attempts to no success.\r\n\r\nWhat am I missing? Why is the SwingNode Content not resizing with the rest of the window?\r\nIs the Swing Content possibly too large to function properly?\r\nOr is there possibly some multi-threading Problem?\r\n\r\nI understand that this problem might be hard to follow without any Code Examples. I am currently working on creating a minimalistic Version of both projects, to reproduce my Problem and will update as soon as it is done.\r\n\r\nEDIT:\r\nI believe i was able to reproduce the problem and have tried to include everything down below. `fx` is passed to the `swing` BuildPath, but not the other way around. \r\n When running `swing` a FX window opens, containing three tabs, all filled with SwingNodes. However when this window gets resized by the user, only the active tab&#180;s SwingNode gets repainted properly. The other two tabs still contain the Nodes, however the Elements only reappear once the mouse has hovered over them -this doesnt work for the label. I have experimented with using repaint on the SwingNodes, to no success so far, so I have chosen to not include it here.\r\n\r\nSECOND EDIT: Removed the FXML and FXML Controller Class, to make the question a little bit smaller. The FXML is just a simple TabPane with 3 Tabs built in SceneBuilder, the Controller only contains the Getters for the 3 Tabs.\r\n\r\n\r\n[Tab 2 after resizing and hovering over 3 of the 10 Buttons][1]\r\n\r\n[The Structure of the Fx Project in ProjectExplorer][2]\r\n\r\n\r\n[The Structure of the Swing Project in ProjectExplorer][3]\r\n\r\n\r\nThe Project `fx` contains the class `MainFx` which extends Application and a Controller `DebugWindowController` for the FXML File. Also there is an Interface\r\n`MainInterface` which is implemented by the class `Main` in the project `swing`\r\n\r\nClass `MainFx`\r\n\r\n    package controllers;\r\n    \r\n    import interfaces.MainInterface;\r\n    import javafx.application.Application;\r\n    import javafx.embed.swing.SwingNode;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MainFx extends Application {\r\n    \r\n      private DebugWindowController debugWindowController;\r\n      private AnchorPane            mainRoot;\r\n      private final SwingNode       swingNode1    = new SwingNode();\r\n      private final SwingNode       swingNode2    = new SwingNode();\r\n      private final SwingNode       swingNode3    = new SwingNode();\r\n      private MainInterface         mainInterface = null;\r\n    \r\n    \r\n    \r\n      @Override\r\n      public void start(Stage primaryStage) {\r\n    \r\n        try {\r\n    \r\n          FXMLLoader debugWindowLoader = new FXMLLoader(getClass().getResource(&quot;/view/DebugWindow.fxml&quot;));\r\n          mainRoot = debugWindowLoader.load();\r\n          debugWindowController = debugWindowLoader.getController();\r\n    \r\n          Scene scene1 = new Scene(mainRoot);\r\n    \r\n          fillFxTabPane();\r\n    \r\n          primaryStage.setScene(scene1);\r\n          primaryStage.show();\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      private void fillFxTabPane() {\r\n        swingNode1.setContent(mainInterface.getPanel1());\r\n        swingNode2.setContent(mainInterface.getPanel2());\r\n        swingNode3.setContent(mainInterface.getPanel3());\r\n    \r\n        debugWindowController.getTab1().setContent(swingNode1);\r\n        debugWindowController.getTab2().setContent(swingNode2);\r\n        debugWindowController.getTab3().setContent(swingNode3);\r\n      }\r\n    \r\n      public MainInterface getMainInterface() {\r\n        return mainInterface;\r\n      }\r\n    \r\n      public void setMainInterface(MainInterface mainInterface) {\r\n        this.mainInterface = mainInterface;\r\n      }\r\n    \r\n    }\r\n\r\n\r\nInterface `MainInterface`\r\n\r\n    package interfaces;\r\n    \r\n    import javax.swing.JComponent;\r\n    \r\n    public interface MainInterface {\r\n    \r\n    \r\n      JComponent getPanel1();\r\n    \r\n      JComponent getPanel2();\r\n    \r\n      JComponent getPanel3();\r\n    \r\n    }\r\n\r\nThe project `swing` consists of only one Class which contains the main() Method that is used to start the program.\r\nClass `Main`\r\n\r\n    package swing;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    import controllers.MainFx;\r\n    import interfaces.MainInterface;\r\n    import javafx.application.Platform;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    public class Main implements MainInterface {\r\n    \r\n      private JPanel panel1;\r\n      private JPanel panel2;\r\n      private JPanel panel3;\r\n    \r\n    \r\n      public Main() {\r\n    \r\n        panel1 = new JPanel();\r\n        JLabel label1 = new JLabel(&quot;Panel1&quot;);\r\n        panel1.add(label1);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          JButton button = new JButton(&quot;B&quot; + (i + 1));\r\n          panel1.add(button);\r\n        }\r\n    \r\n        panel2 = new JPanel();\r\n        JLabel label2 = new JLabel(&quot;Panel2&quot;);\r\n        panel2.add(label2);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          JButton button = new JButton(&quot;B&quot; + (i + 1));\r\n          panel2.add(button);\r\n        }\r\n    \r\n        panel3 = new JPanel();\r\n        JLabel label3 = new JLabel(&quot;Panel3&quot;);\r\n        panel3.add(label3);\r\n        for (int i = 0; i &lt; 10; i++) {\r\n          JButton button = new JButton(&quot;B&quot; + (i + 1));\r\n          panel3.add(button);\r\n        }\r\n    \r\n        MainFx mainFx = new MainFx();\r\n    \r\n        mainFx.setMainInterface(this);\r\n        Platform.startup(() -&gt; {// launch JavaFx application\r\n    \r\n          Stage stage = new Stage();\r\n          try {\r\n            mainFx.start(stage);\r\n          } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n          }\r\n        });\r\n    \r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        Main main = new Main();\r\n    \r\n      }\r\n    \r\n      @Override\r\n      public JComponent getPanel1() {\r\n        return panel1;\r\n      }\r\n    \r\n      @Override\r\n      public JComponent getPanel2() {\r\n        return panel2;\r\n      }\r\n    \r\n      @Override\r\n      public JComponent getPanel3() {\r\n        return panel3;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/adR3h.png\r\n  [2]: https://i.stack.imgur.com/nyWBS.png\r\n  [3]: https://i.stack.imgur.com/ZtnMI.png","title":"Swing Content not properly shown in JavaFx Application","body":"<p>I am currently working on a JavaFx Application. Fx is supposed to only be responsible for UI Content, while the pretty complex functionality is inside a different already finished project, which was created using Swing. To accomplish this, I built an FXML using Scenebuilder, then passed a number of Swing Panels into seperate SwingNodes and passed the SwingNodes into different Tabs of a TabPane (all done inside the start() method of my Application class). Upon starting the Program everything looks fine, the Swing and Fx Content is shown correctly and the functionality works as well. However when resizing the Application Window manually, the SwingNode Content misbehaves, sometimes the Tab remains empty, sometimes only a part of the Node is painted, sometimes it just shows completly black.</p>\n<p>Right now, the actual started Program is the &quot;old&quot; Swing Project, which at some Point uses Platform.startup() to start the FX Application. This is necessary for functionality reasons. The Swing Panels at that point get passed into SwingNodes, which are located within the Fx Project.</p>\n<p>I have tried to &quot;update&quot; the SwingNodes by continuosly setting the SwingNode-Content on Window Resizing.\nAlso I tried to repaint Swing Content. Both attempts to no success.</p>\n<p>What am I missing? Why is the SwingNode Content not resizing with the rest of the window?\nIs the Swing Content possibly too large to function properly?\nOr is there possibly some multi-threading Problem?</p>\n<p>I understand that this problem might be hard to follow without any Code Examples. I am currently working on creating a minimalistic Version of both projects, to reproduce my Problem and will update as soon as it is done.</p>\n<p>EDIT:\nI believe i was able to reproduce the problem and have tried to include everything down below. <code>fx</code> is passed to the <code>swing</code> BuildPath, but not the other way around.\nWhen running <code>swing</code> a FX window opens, containing three tabs, all filled with SwingNodes. However when this window gets resized by the user, only the active tab´s SwingNode gets repainted properly. The other two tabs still contain the Nodes, however the Elements only reappear once the mouse has hovered over them -this doesnt work for the label. I have experimented with using repaint on the SwingNodes, to no success so far, so I have chosen to not include it here.</p>\n<p>SECOND EDIT: Removed the FXML and FXML Controller Class, to make the question a little bit smaller. The FXML is just a simple TabPane with 3 Tabs built in SceneBuilder, the Controller only contains the Getters for the 3 Tabs.</p>\n<p><a href=\"https://i.stack.imgur.com/adR3h.png\" rel=\"nofollow noreferrer\">Tab 2 after resizing and hovering over 3 of the 10 Buttons</a></p>\n<p><a href=\"https://i.stack.imgur.com/nyWBS.png\" rel=\"nofollow noreferrer\">The Structure of the Fx Project in ProjectExplorer</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZtnMI.png\" rel=\"nofollow noreferrer\">The Structure of the Swing Project in ProjectExplorer</a></p>\n<p>The Project <code>fx</code> contains the class <code>MainFx</code> which extends Application and a Controller <code>DebugWindowController</code> for the FXML File. Also there is an Interface\n<code>MainInterface</code> which is implemented by the class <code>Main</code> in the project <code>swing</code></p>\n<p>Class <code>MainFx</code></p>\n<pre><code>package controllers;\n\nimport interfaces.MainInterface;\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingNode;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\npublic class MainFx extends Application {\n\n  private DebugWindowController debugWindowController;\n  private AnchorPane            mainRoot;\n  private final SwingNode       swingNode1    = new SwingNode();\n  private final SwingNode       swingNode2    = new SwingNode();\n  private final SwingNode       swingNode3    = new SwingNode();\n  private MainInterface         mainInterface = null;\n\n\n\n  @Override\n  public void start(Stage primaryStage) {\n\n    try {\n\n      FXMLLoader debugWindowLoader = new FXMLLoader(getClass().getResource(&quot;/view/DebugWindow.fxml&quot;));\n      mainRoot = debugWindowLoader.load();\n      debugWindowController = debugWindowLoader.getController();\n\n      Scene scene1 = new Scene(mainRoot);\n\n      fillFxTabPane();\n\n      primaryStage.setScene(scene1);\n      primaryStage.show();\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  private void fillFxTabPane() {\n    swingNode1.setContent(mainInterface.getPanel1());\n    swingNode2.setContent(mainInterface.getPanel2());\n    swingNode3.setContent(mainInterface.getPanel3());\n\n    debugWindowController.getTab1().setContent(swingNode1);\n    debugWindowController.getTab2().setContent(swingNode2);\n    debugWindowController.getTab3().setContent(swingNode3);\n  }\n\n  public MainInterface getMainInterface() {\n    return mainInterface;\n  }\n\n  public void setMainInterface(MainInterface mainInterface) {\n    this.mainInterface = mainInterface;\n  }\n\n}\n</code></pre>\n<p>Interface <code>MainInterface</code></p>\n<pre><code>package interfaces;\n\nimport javax.swing.JComponent;\n\npublic interface MainInterface {\n\n\n  JComponent getPanel1();\n\n  JComponent getPanel2();\n\n  JComponent getPanel3();\n\n}\n</code></pre>\n<p>The project <code>swing</code> consists of only one Class which contains the main() Method that is used to start the program.\nClass <code>Main</code></p>\n<pre><code>package swing;\n\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\nimport controllers.MainFx;\nimport interfaces.MainInterface;\nimport javafx.application.Platform;\nimport javafx.stage.Stage;\n\n\npublic class Main implements MainInterface {\n\n  private JPanel panel1;\n  private JPanel panel2;\n  private JPanel panel3;\n\n\n  public Main() {\n\n    panel1 = new JPanel();\n    JLabel label1 = new JLabel(&quot;Panel1&quot;);\n    panel1.add(label1);\n    for (int i = 0; i &lt; 10; i++) {\n      JButton button = new JButton(&quot;B&quot; + (i + 1));\n      panel1.add(button);\n    }\n\n    panel2 = new JPanel();\n    JLabel label2 = new JLabel(&quot;Panel2&quot;);\n    panel2.add(label2);\n    for (int i = 0; i &lt; 10; i++) {\n      JButton button = new JButton(&quot;B&quot; + (i + 1));\n      panel2.add(button);\n    }\n\n    panel3 = new JPanel();\n    JLabel label3 = new JLabel(&quot;Panel3&quot;);\n    panel3.add(label3);\n    for (int i = 0; i &lt; 10; i++) {\n      JButton button = new JButton(&quot;B&quot; + (i + 1));\n      panel3.add(button);\n    }\n\n    MainFx mainFx = new MainFx();\n\n    mainFx.setMainInterface(this);\n    Platform.startup(() -&gt; {// launch JavaFx application\n\n      Stage stage = new Stage();\n      try {\n        mainFx.start(stage);\n      } catch (Exception ex) {\n        ex.printStackTrace();\n      }\n    });\n\n  }\n\n  public static void main(String[] args) {\n\n    Main main = new Main();\n\n  }\n\n  @Override\n  public JComponent getPanel1() {\n    return panel1;\n  }\n\n  @Override\n  public JComponent getPanel2() {\n    return panel2;\n  }\n\n  @Override\n  public JComponent getPanel3() {\n    return panel3;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","h2"],"answers":[{"tags":[],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694068978,"creation_date":1694068978,"answer_id":77057162,"question_id":77057039,"body_markdown":"I&#39;ve managed to quickly resolve the issue I was facing, even though it took me a few hours of debugging. The problem was related to the **@EqualsAndHashCode** annotation in my **Discount** entity. It turns out that this annotation was generating **equals()** and **hashCode()** methods that considered all fields, including the **products** field, which represents a many-to-many relationship with the Product entity. This led to circular references and potential infinite recursion.\r\n\r\nTo resolve the issue, I made adjustments to the @EqualsAndHashCode annotation as follows:\r\n```java\r\n@Entity\r\n@Table(name = &quot;discounts&quot;)\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic class Discount {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @EqualsAndHashCode.Include\r\n    private Integer discountId;\r\n    // Other fields and annotations...\r\n}\r\n```\r\n\r\nwe can also exlcude the `prodcuts`from generating `equals()` and `hashCode()`\r\n```\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;Product&gt; products;\r\n```\r\n\r\nI hope this answer helps other who might encounter similar issue, if you have further explanation or alternative suggestion, please dont&#39;t hesitate to share. Your insights are highly valuable.\r\n","title":"Hibernate Many-to-Many Relationship Not Loading Related Entities in Spring Boot 3.1.2","body":"<p>I've managed to quickly resolve the issue I was facing, even though it took me a few hours of debugging. The problem was related to the <strong>@EqualsAndHashCode</strong> annotation in my <strong>Discount</strong> entity. It turns out that this annotation was generating <strong>equals()</strong> and <strong>hashCode()</strong> methods that considered all fields, including the <strong>products</strong> field, which represents a many-to-many relationship with the Product entity. This led to circular references and potential infinite recursion.</p>\n<p>To resolve the issue, I made adjustments to the @EqualsAndHashCode annotation as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;discounts&quot;)\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Discount {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @EqualsAndHashCode.Include\n    private Integer discountId;\n    // Other fields and annotations...\n}\n</code></pre>\n<p>we can also exlcude the <code>prodcuts</code>from generating <code>equals()</code> and <code>hashCode()</code></p>\n<pre><code>    @EqualsAndHashCode.Exclude\n    private Set&lt;Product&gt; products;\n</code></pre>\n<p>I hope this answer helps other who might encounter similar issue, if you have further explanation or alternative suggestion, please dont't hesitate to share. Your insights are highly valuable.</p>\n"}],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694068978,"creation_date":1694067744,"question_id":77057039,"body_markdown":"I&#39;m working on a Spring Boot (v `3.1.2`) application with Hibernate and facing an issue with a many-to-many relationship between Product and Discount entities. Here are my entity classes:\r\n```java\r\n@Entity\r\n@Table(name = &quot;products&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Product {\r\n    // ... (fields and annotations)\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;products&quot;)\r\n    private Set&lt;Discount&gt; discounts = new HashSet&lt;&gt;();\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;discounts&quot;)\r\n@EqualsAndHashCode\r\npublic class Discount {\r\n    // ... (fields and annotations)\r\n    \r\n    @ManyToMany(cascade = {CascadeType.ALL})\r\n    @JoinTable(\r\n            name = &quot;discounts_products&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;discount_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;product_id&quot;) }\r\n    )\r\n    private Set&lt;Product&gt; products  = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nI have a repository for the Product entity with a basic findAll method:\r\n\r\n```Java\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\r\n}\r\n```\r\nWhen I call productRepository.findAll(pageable), the discounts collection in the Product entities is always **empty**, even though I have matching data in my H2 database. Here&#39;s my application configuration:\r\n```yml\r\nspring:\r\n    config:\r\n        activate:\r\n            on-profile: dev\r\n    datasource:\r\n        driverClassName: org.h2.Driver\r\n        password: &#39;&#39;\r\n        url: jdbc:h2:mem:testdb\r\n        username: sa\r\n    h2:\r\n        console:\r\n            enabled: true\r\n    jpa:\r\n        hibernate:\r\n            ddl-auto: update\r\n        show-sql: true\r\n        defer-datasource-initialization: true\r\n    sql:\r\n        init:\r\n            data-locations: classpath:sql/categories.sql, classpath:sql/products.sql, classpath:sql/discounts.sql\r\n            mode: always\r\n\r\n```\r\nI&#39;ve verified that the data in the database matches using the following SQL query:\r\n\r\n```sql\r\nselect * from products p left join discounts_products dp on p.product_id = dp.product_id left join discounts d on d.discount_id=p.product_id;\r\n```\r\n\r\nWhat could be causing the discounts collection not to load, even though the data seems to be there in the database?\r\n\r\nAny help or insights would be greatly appreciated. Thank you!","title":"Hibernate Many-to-Many Relationship Not Loading Related Entities in Spring Boot 3.1.2","body":"<p>I'm working on a Spring Boot (v <code>3.1.2</code>) application with Hibernate and facing an issue with a many-to-many relationship between Product and Discount entities. Here are my entity classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;products&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class Product {\n    // ... (fields and annotations)\n    \n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;products&quot;)\n    private Set&lt;Discount&gt; discounts = new HashSet&lt;&gt;();\n}\n\n@Entity\n@Table(name = &quot;discounts&quot;)\n@EqualsAndHashCode\npublic class Discount {\n    // ... (fields and annotations)\n    \n    @ManyToMany(cascade = {CascadeType.ALL})\n    @JoinTable(\n            name = &quot;discounts_products&quot;,\n            joinColumns = { @JoinColumn(name = &quot;discount_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;product_id&quot;) }\n    )\n    private Set&lt;Product&gt; products  = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>I have a repository for the Product entity with a basic findAll method:</p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\n}\n</code></pre>\n<p>When I call productRepository.findAll(pageable), the discounts collection in the Product entities is always <strong>empty</strong>, even though I have matching data in my H2 database. Here's my application configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n    config:\n        activate:\n            on-profile: dev\n    datasource:\n        driverClassName: org.h2.Driver\n        password: ''\n        url: jdbc:h2:mem:testdb\n        username: sa\n    h2:\n        console:\n            enabled: true\n    jpa:\n        hibernate:\n            ddl-auto: update\n        show-sql: true\n        defer-datasource-initialization: true\n    sql:\n        init:\n            data-locations: classpath:sql/categories.sql, classpath:sql/products.sql, classpath:sql/discounts.sql\n            mode: always\n\n</code></pre>\n<p>I've verified that the data in the database matches using the following SQL query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from products p left join discounts_products dp on p.product_id = dp.product_id left join discounts d on d.discount_id=p.product_id;\n</code></pre>\n<p>What could be causing the discounts collection not to load, even though the data seems to be there in the database?</p>\n<p>Any help or insights would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","maven","dependencies","maven-shade-plugin","relocation"],"answers":[{"tags":[],"owner":{"account_id":18173504,"reputation":61,"user_id":13222704,"display_name":"Nandor Dukat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694068885,"creation_date":1694068885,"answer_id":77057143,"question_id":77054002,"body_markdown":"I solved the problem.\r\n\r\nIt was a : symbol instead of . in the include section...\r\n\r\n&lt;include&gt;dev.demeng.sentinel.wrapper&lt;/include&gt;","title":"Include&amp;relocate maven dependency in another module java","body":"<p>I solved the problem.</p>\n<p>It was a : symbol instead of . in the include section...</p>\n<p>dev.demeng.sentinel.wrapper</p>\n"}],"owner":{"account_id":18173504,"reputation":61,"user_id":13222704,"display_name":"Nandor Dukat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77057143,"answer_count":1,"score":0,"last_activity_date":1694068885,"creation_date":1694019988,"question_id":77054002,"body_markdown":"I have a multi module maven project which I build with maven&#39;s shade plugin. I have a module called &quot;distribution&quot; which includes all the other modules and then builds. My problem is that I have a maven dependency which I have in another module and I cannot find a solution where the distribution module includes it in the shaded jar.\r\n\r\nThe core module which contains the dependency (group id dev.demeng):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;InventoryArchiver-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n        &lt;artifactId&gt;InventoryArchiver-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;papermc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;!-- Vault --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n        &lt;repository&gt;\r\n            &lt;id&gt;demeng-repo&lt;/id&gt;\r\n            &lt;name&gt;Demeng&#39;s Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repo.demeng.dev/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.demeng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sentinel-java-wrapper&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nDistribution pom:\r\n\r\n    &lt;artifactId&gt;InventoryArchiver-distribution&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n        &lt;artifactId&gt;InventoryArchiver-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;clean install&lt;/defaultGoal&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;dev.nandi0813:InventoryArchiver-*&lt;/include&gt;\r\n                                    &lt;include&gt;dev.demeng.sentinel.wrapper&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n\r\n                            &lt;relocations&gt;\r\n                                &lt;relocation&gt;\r\n                                    &lt;pattern&gt;dev.demeng.sentinel.wrapper&lt;/pattern&gt;\r\n                                    &lt;shadedPattern&gt;dev.nandi0813.inventoryarchiver.sentinel&lt;/shadedPattern&gt;\r\n                                &lt;/relocation&gt;\r\n                            &lt;/relocations&gt;\r\n\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\r\n                            &lt;finalName&gt;inventoryArchiver-${project.version}&lt;/finalName&gt;\r\n                            &lt;outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n            &lt;artifactId&gt;InventoryArchiver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n            &lt;artifactId&gt;InventoryArchiver-spigot_1_8&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n            &lt;artifactId&gt;InventoryArchiver-spigot_1_12_2&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\r\n            &lt;artifactId&gt;InventoryArchiver-spigot_1_13_2&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n&lt;/project&gt;","title":"Include&amp;relocate maven dependency in another module java","body":"<p>I have a multi module maven project which I build with maven's shade plugin. I have a module called &quot;distribution&quot; which includes all the other modules and then builds. My problem is that I have a maven dependency which I have in another module and I cannot find a solution where the distribution module includes it in the shaded jar.</p>\n<p>The core module which contains the dependency (group id dev.demeng):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;InventoryArchiver-core&lt;/artifactId&gt;\n&lt;version&gt;${project.parent.version}&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n    &lt;artifactId&gt;InventoryArchiver-parent&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;papermc-repo&lt;/id&gt;\n        &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;repository&gt;\n        &lt;id&gt;sonatype&lt;/id&gt;\n        &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;!-- Vault --&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n\n    &lt;repository&gt;\n        &lt;id&gt;demeng-repo&lt;/id&gt;\n        &lt;name&gt;Demeng's Repository&lt;/name&gt;\n        &lt;url&gt;https://repo.demeng.dev/releases&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.papermc.paper&lt;/groupId&gt;\n        &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n        &lt;version&gt;1.19.4-R0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\n        &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.demeng&lt;/groupId&gt;\n        &lt;artifactId&gt;sentinel-java-wrapper&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Distribution pom:</p>\n<pre><code>&lt;artifactId&gt;InventoryArchiver-distribution&lt;/artifactId&gt;\n&lt;version&gt;${project.parent.version}&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n    &lt;artifactId&gt;InventoryArchiver-parent&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;defaultGoal&gt;clean install&lt;/defaultGoal&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n\n                        &lt;artifactSet&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;dev.nandi0813:InventoryArchiver-*&lt;/include&gt;\n                                &lt;include&gt;dev.demeng.sentinel.wrapper&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/artifactSet&gt;\n\n                        &lt;relocations&gt;\n                            &lt;relocation&gt;\n                                &lt;pattern&gt;dev.demeng.sentinel.wrapper&lt;/pattern&gt;\n                                &lt;shadedPattern&gt;dev.nandi0813.inventoryarchiver.sentinel&lt;/shadedPattern&gt;\n                            &lt;/relocation&gt;\n                        &lt;/relocations&gt;\n\n                        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n\n                        &lt;finalName&gt;inventoryArchiver-${project.version}&lt;/finalName&gt;\n                        &lt;outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n        &lt;artifactId&gt;InventoryArchiver-core&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n        &lt;artifactId&gt;InventoryArchiver-spigot_1_8&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n        &lt;artifactId&gt;InventoryArchiver-spigot_1_12_2&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.nandi0813&lt;/groupId&gt;\n        &lt;artifactId&gt;InventoryArchiver-spigot_1_13_2&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694068777,"creation_date":1694068777,"answer_id":77057129,"question_id":77052599,"body_markdown":"When you copied and pasted their code you forgot to copy and paste the project configuration, in the article they use Java 8 and you&#39;re using Java 9 or higher. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want to try to replicate the behaviour you should add [this line][2] from jmeter startup script to your project runtime settings. \r\n\r\nI know you like to copy and paste so I&#39;ll make the process easier for you and copy and paste it here just in case:\r\n\r\n    --add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\r\n\r\nAlso it appears that guys from Octoperf also like to copy and paste content from BlazeMeter from 2014 without mentioning the original authors:\r\n\r\n - [JMeter Command Line Overview: 5 Ways To Launch a Test][3]\r\n - [jmeter-from-code][4]\r\n\r\nYou might also be interested in [jmeter-java-dsl][5] project which provides more handy API for creating JMeter tests in Java, saving them to .jmx and running them. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/41Wt4.png\r\n  [2]: https://github.com/apache/jmeter/blob/rel/v5.6.2/bin/jmeter#L129\r\n  [3]: https://www.blazemeter.com/blog/jmeter-command-line\r\n  [4]: https://bitbucket.org/blazemeter/jmeter-from-code/src/master/\r\n  [5]: https://abstracta.github.io/jmeter-java-dsl/","title":"I get an error while using jmeter SaveService.saveTree to save the test as jmx file","body":"<p>When you copied and pasted their code you forgot to copy and paste the project configuration, in the article they use Java 8 and you're using Java 9 or higher.</p>\n<p><a href=\"https://i.stack.imgur.com/41Wt4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41Wt4.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want to try to replicate the behaviour you should add <a href=\"https://github.com/apache/jmeter/blob/rel/v5.6.2/bin/jmeter#L129\" rel=\"nofollow noreferrer\">this line</a> from jmeter startup script to your project runtime settings.</p>\n<p>I know you like to copy and paste so I'll make the process easier for you and copy and paste it here just in case:</p>\n<pre><code>--add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\n</code></pre>\n<p>Also it appears that guys from Octoperf also like to copy and paste content from BlazeMeter from 2014 without mentioning the original authors:</p>\n<ul>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-command-line\" rel=\"nofollow noreferrer\">JMeter Command Line Overview: 5 Ways To Launch a Test</a></li>\n<li><a href=\"https://bitbucket.org/blazemeter/jmeter-from-code/src/master/\" rel=\"nofollow noreferrer\">jmeter-from-code</a></li>\n</ul>\n<p>You might also be interested in <a href=\"https://abstracta.github.io/jmeter-java-dsl/\" rel=\"nofollow noreferrer\">jmeter-java-dsl</a> project which provides more handy API for creating JMeter tests in Java, saving them to .jmx and running them.</p>\n"}],"owner":{"account_id":29379695,"reputation":3,"user_id":22510489,"display_name":"Krystian Żmuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77057129,"answer_count":1,"score":0,"last_activity_date":1694068777,"creation_date":1694008514,"question_id":77052599,"body_markdown":"I wanted to switch from jmx files to code in Java, so I found some example code at [Octoperf.com](https://octoperf.com/blog/2023/03/29/jmeter-in-code/#additional-elements) and tried to run it (I only entered different location for jmeter):\r\n\r\n```\r\nimport org.apache.jmeter.assertions.ResponseAssertion;\r\nimport org.apache.jmeter.assertions.gui.AssertionGui;\r\nimport org.apache.jmeter.config.Arguments;\r\nimport org.apache.jmeter.config.gui.ArgumentsPanel;\r\nimport org.apache.jmeter.control.LoopController;\r\nimport org.apache.jmeter.control.gui.LoopControlPanel;\r\nimport org.apache.jmeter.control.gui.TestPlanGui;\r\nimport org.apache.jmeter.engine.StandardJMeterEngine;\r\nimport org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor;\r\nimport org.apache.jmeter.extractor.json.jsonpath.gui.JSONPostProcessorGui;\r\nimport org.apache.jmeter.protocol.http.control.gui.HttpTestSampleGui;\r\nimport org.apache.jmeter.protocol.http.sampler.HTTPSampler;\r\nimport org.apache.jmeter.reporters.ResultCollector;\r\nimport org.apache.jmeter.reporters.Summariser;\r\nimport org.apache.jmeter.samplers.SampleSaveConfiguration;\r\nimport org.apache.jmeter.save.SaveService;\r\nimport org.apache.jmeter.testelement.TestElement;\r\nimport org.apache.jmeter.testelement.TestPlan;\r\nimport org.apache.jmeter.threads.ThreadGroup;\r\nimport org.apache.jmeter.threads.gui.ThreadGroupGui;\r\nimport org.apache.jmeter.util.JMeterUtils;\r\nimport org.apache.jorphan.collections.HashTree;\r\n\r\nimport java.io.FileOutputStream;\r\n\r\npublic class JmeterBasicTest {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // Create the Jmeter engine\r\n        StandardJMeterEngine jm = new StandardJMeterEngine();\r\n\r\n        // Set some configuration\r\n        String jmeterHome = &quot;/opt/homebrew/Cellar/jmeter/5.6.2&quot;;\r\n        JMeterUtils.setJMeterHome(jmeterHome);\r\n        JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/libexec/bin/jmeter.properties&quot;);\r\n        JMeterUtils.initLocale();\r\n\r\n        // Create a new hash tree to hold our test elements\r\n        HashTree testPlanTree = new HashTree();\r\n\r\n        // Create a sampler\r\n        HTTPSampler httpSamplerOne = new HTTPSampler();\r\n        httpSamplerOne.setDomain(&quot;octoperf.com&quot;);\r\n        httpSamplerOne.setPort(443);\r\n        httpSamplerOne.setPath(&quot;/blog/2023/02/22/jmeter-logging/&quot;);\r\n        httpSamplerOne.setMethod(&quot;GET&quot;);\r\n        httpSamplerOne.setName(&quot;HTTP Request One&quot;);\r\n        httpSamplerOne.setProtocol(&quot;https&quot;);\r\n        httpSamplerOne.setProperty(TestElement.TEST_CLASS, HTTPSampler.class.getName());\r\n        httpSamplerOne.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\r\n\r\n        // Create another sampler\r\n        HTTPSampler httpSamplerTwo = new HTTPSampler();\r\n        httpSamplerTwo.setDomain(&quot;octoperf.com&quot;);\r\n        httpSamplerTwo.setPort(443);\r\n        httpSamplerTwo.setPath(&quot;blog/2023/01/16/uncommon-performance-testing/&quot;);\r\n        httpSamplerTwo.setMethod(&quot;GET&quot;);\r\n        httpSamplerTwo.setName(&quot;HTTP Request&quot;);\r\n        httpSamplerTwo.setProtocol(&quot;https&quot;);\r\n        httpSamplerTwo.setProperty(TestElement.TEST_CLASS, HTTPSampler.class.getName());\r\n        httpSamplerTwo.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\r\n\r\n        // JSON Post Processor\r\n        JSONPostProcessor jsonExtractor = new JSONPostProcessor();\r\n        jsonExtractor.setName(&quot;JSON Extractor&quot;);\r\n        jsonExtractor.setRefNames(&quot;foo&quot;);\r\n        jsonExtractor.setJsonPathExpressions(&quot;$.title&quot;);\r\n        jsonExtractor.setProperty(TestElement.TEST_CLASS, JSONPostProcessor.class.getName());\r\n        jsonExtractor.setProperty(TestElement.GUI_CLASS, JSONPostProcessorGui.class.getName());\r\n\r\n        // Response Assertion\r\n        ResponseAssertion ra = new ResponseAssertion();\r\n        ra.setProperty(TestElement.GUI_CLASS, AssertionGui.class.getName());\r\n        ra.setName(JMeterUtils.getResString(&quot;assertion_title&quot;));\r\n        ra.setTestFieldResponseCode();\r\n        ra.setToEqualsType();\r\n        ra.addTestString(&quot;200&quot;);\r\n\r\n        // Create a loop controller\r\n        LoopController loopController = new LoopController();\r\n        loopController.setLoops(10);\r\n        loopController.setFirst(true);\r\n        loopController.setProperty(TestElement.TEST_CLASS, LoopController.class.getName());\r\n        loopController.setProperty(TestElement.GUI_CLASS, LoopControlPanel.class.getName());\r\n        loopController.initialize();\r\n\r\n        // Create a thread group\r\n        ThreadGroup threadGroup = new ThreadGroup();\r\n        threadGroup.setName(&quot;First Thread Group&quot;);\r\n        threadGroup.setNumThreads(2);\r\n        threadGroup.setRampUp(1);\r\n        threadGroup.setSamplerController(loopController);\r\n        threadGroup.setProperty(TestElement.TEST_CLASS, ThreadGroup.class.getName());\r\n        threadGroup.setProperty(TestElement.GUI_CLASS, ThreadGroupGui.class.getName());\r\n\r\n        // Create a test plan\r\n        TestPlan testPlan = new TestPlan(&quot;Test Plan&quot;);\r\n        testPlan.setProperty(TestElement.TEST_CLASS, TestPlan.class.getName());\r\n        testPlan.setProperty(TestElement.GUI_CLASS, TestPlanGui.class.getName());\r\n        testPlan.setUserDefinedVariables((Arguments) new ArgumentsPanel().createTestElement());\r\n\r\n        // Add the test plan to our hash tree, this is the top level of our test\r\n        testPlanTree.add(testPlan);\r\n\r\n        // Create another hash tree and add the thread group to our test plan\r\n        HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\r\n\r\n        // Create a hash tree to add the post processor to\r\n        HashTree httpSamplerOneTree = new HashTree();\r\n        httpSamplerOneTree.add(httpSamplerOne, jsonExtractor);\r\n        httpSamplerOneTree.add(httpSamplerOne, ra);\r\n\r\n        // Add the http sampler to the hash tree that contains the thread group\r\n        threadGroupHashTree.add(httpSamplerOneTree);\r\n        threadGroupHashTree.add(httpSamplerTwo);\r\n\r\n        SaveService.saveTree(testPlanTree, new FileOutputStream(jmeterHome + &quot;/bin/FirstTest.jmx&quot;));\r\n\r\n        // Summariser\r\n        Summariser summariser = null;\r\n        String summariserName = JMeterUtils.getPropDefault(&quot;summarise.names&quot;, &quot;summary response&quot;);\r\n        if (summariserName.length() &gt; 0) {\r\n            summariser = new Summariser(summariserName);\r\n        }\r\n\r\n        ResultCollector logger = new ResultCollector(summariser);\r\n        testPlanTree.add(testPlanTree.getArray()[0], logger);\r\n\r\n        // Write to a file\r\n        ResultCollector rc = new ResultCollector();\r\n        rc.setEnabled(true);\r\n        rc.setErrorLogging(false);\r\n        rc.isSampleWanted(true);\r\n        SampleSaveConfiguration ssc = new SampleSaveConfiguration();\r\n        ssc.setTime(true);\r\n        ssc.setAssertionResultsFailureMessage(true);\r\n        ssc.setThreadCounts(true);\r\n        rc.setSaveConfig(ssc);\r\n        rc.setFilename(jmeterHome + &quot;/bin/FirstTest.jtl&quot;);\r\n        testPlanTree.add(testPlanTree.getArray()[0], rc);\r\n\r\n        // Configure\r\n        jm.configure(testPlanTree);\r\n\r\n        // Run\r\n        jm.run();\r\n    }\r\n}\r\n```\r\n\r\nI get a following error for SaveService.SaveTree in line 120\r\n\r\n```\r\nException in thread &quot;main&quot; com.thoughtworks.xstream.converters.ConversionException: No converter available\r\n---- Debugging information ----\r\nmessage             : No converter available\r\ntype                : java.util.IdentityHashMap\r\nconverter           : com.thoughtworks.xstream.converters.reflection.SerializableConverter\r\nmessage[1]          : Unable to make private void java.util.IdentityHashMap.readObject(java.io.ObjectInputStream) throws java.io.IOException,java.lang.ClassNotFoundException accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @30c7da1e\r\nconverter[1]        : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\nmessage[2]          : Unable to make field transient java.util.Set java.util.AbstractMap.keySet accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @30c7da1e\r\n-------------------------------\r\n```\r\n\r\nI searched on the web for the solution but was unable to find one.\r\nI updated Jmeter, added necessary plugins via plugin manager, added jmeter dependencies to gradle in the project we use.","title":"I get an error while using jmeter SaveService.saveTree to save the test as jmx file","body":"<p>I wanted to switch from jmx files to code in Java, so I found some example code at <a href=\"https://octoperf.com/blog/2023/03/29/jmeter-in-code/#additional-elements\" rel=\"nofollow noreferrer\">Octoperf.com</a> and tried to run it (I only entered different location for jmeter):</p>\n<pre><code>import org.apache.jmeter.assertions.ResponseAssertion;\nimport org.apache.jmeter.assertions.gui.AssertionGui;\nimport org.apache.jmeter.config.Arguments;\nimport org.apache.jmeter.config.gui.ArgumentsPanel;\nimport org.apache.jmeter.control.LoopController;\nimport org.apache.jmeter.control.gui.LoopControlPanel;\nimport org.apache.jmeter.control.gui.TestPlanGui;\nimport org.apache.jmeter.engine.StandardJMeterEngine;\nimport org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor;\nimport org.apache.jmeter.extractor.json.jsonpath.gui.JSONPostProcessorGui;\nimport org.apache.jmeter.protocol.http.control.gui.HttpTestSampleGui;\nimport org.apache.jmeter.protocol.http.sampler.HTTPSampler;\nimport org.apache.jmeter.reporters.ResultCollector;\nimport org.apache.jmeter.reporters.Summariser;\nimport org.apache.jmeter.samplers.SampleSaveConfiguration;\nimport org.apache.jmeter.save.SaveService;\nimport org.apache.jmeter.testelement.TestElement;\nimport org.apache.jmeter.testelement.TestPlan;\nimport org.apache.jmeter.threads.ThreadGroup;\nimport org.apache.jmeter.threads.gui.ThreadGroupGui;\nimport org.apache.jmeter.util.JMeterUtils;\nimport org.apache.jorphan.collections.HashTree;\n\nimport java.io.FileOutputStream;\n\npublic class JmeterBasicTest {\n\n    public static void main(String[] args) throws Exception {\n\n        // Create the Jmeter engine\n        StandardJMeterEngine jm = new StandardJMeterEngine();\n\n        // Set some configuration\n        String jmeterHome = &quot;/opt/homebrew/Cellar/jmeter/5.6.2&quot;;\n        JMeterUtils.setJMeterHome(jmeterHome);\n        JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/libexec/bin/jmeter.properties&quot;);\n        JMeterUtils.initLocale();\n\n        // Create a new hash tree to hold our test elements\n        HashTree testPlanTree = new HashTree();\n\n        // Create a sampler\n        HTTPSampler httpSamplerOne = new HTTPSampler();\n        httpSamplerOne.setDomain(&quot;octoperf.com&quot;);\n        httpSamplerOne.setPort(443);\n        httpSamplerOne.setPath(&quot;/blog/2023/02/22/jmeter-logging/&quot;);\n        httpSamplerOne.setMethod(&quot;GET&quot;);\n        httpSamplerOne.setName(&quot;HTTP Request One&quot;);\n        httpSamplerOne.setProtocol(&quot;https&quot;);\n        httpSamplerOne.setProperty(TestElement.TEST_CLASS, HTTPSampler.class.getName());\n        httpSamplerOne.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n\n        // Create another sampler\n        HTTPSampler httpSamplerTwo = new HTTPSampler();\n        httpSamplerTwo.setDomain(&quot;octoperf.com&quot;);\n        httpSamplerTwo.setPort(443);\n        httpSamplerTwo.setPath(&quot;blog/2023/01/16/uncommon-performance-testing/&quot;);\n        httpSamplerTwo.setMethod(&quot;GET&quot;);\n        httpSamplerTwo.setName(&quot;HTTP Request&quot;);\n        httpSamplerTwo.setProtocol(&quot;https&quot;);\n        httpSamplerTwo.setProperty(TestElement.TEST_CLASS, HTTPSampler.class.getName());\n        httpSamplerTwo.setProperty(TestElement.GUI_CLASS, HttpTestSampleGui.class.getName());\n\n        // JSON Post Processor\n        JSONPostProcessor jsonExtractor = new JSONPostProcessor();\n        jsonExtractor.setName(&quot;JSON Extractor&quot;);\n        jsonExtractor.setRefNames(&quot;foo&quot;);\n        jsonExtractor.setJsonPathExpressions(&quot;$.title&quot;);\n        jsonExtractor.setProperty(TestElement.TEST_CLASS, JSONPostProcessor.class.getName());\n        jsonExtractor.setProperty(TestElement.GUI_CLASS, JSONPostProcessorGui.class.getName());\n\n        // Response Assertion\n        ResponseAssertion ra = new ResponseAssertion();\n        ra.setProperty(TestElement.GUI_CLASS, AssertionGui.class.getName());\n        ra.setName(JMeterUtils.getResString(&quot;assertion_title&quot;));\n        ra.setTestFieldResponseCode();\n        ra.setToEqualsType();\n        ra.addTestString(&quot;200&quot;);\n\n        // Create a loop controller\n        LoopController loopController = new LoopController();\n        loopController.setLoops(10);\n        loopController.setFirst(true);\n        loopController.setProperty(TestElement.TEST_CLASS, LoopController.class.getName());\n        loopController.setProperty(TestElement.GUI_CLASS, LoopControlPanel.class.getName());\n        loopController.initialize();\n\n        // Create a thread group\n        ThreadGroup threadGroup = new ThreadGroup();\n        threadGroup.setName(&quot;First Thread Group&quot;);\n        threadGroup.setNumThreads(2);\n        threadGroup.setRampUp(1);\n        threadGroup.setSamplerController(loopController);\n        threadGroup.setProperty(TestElement.TEST_CLASS, ThreadGroup.class.getName());\n        threadGroup.setProperty(TestElement.GUI_CLASS, ThreadGroupGui.class.getName());\n\n        // Create a test plan\n        TestPlan testPlan = new TestPlan(&quot;Test Plan&quot;);\n        testPlan.setProperty(TestElement.TEST_CLASS, TestPlan.class.getName());\n        testPlan.setProperty(TestElement.GUI_CLASS, TestPlanGui.class.getName());\n        testPlan.setUserDefinedVariables((Arguments) new ArgumentsPanel().createTestElement());\n\n        // Add the test plan to our hash tree, this is the top level of our test\n        testPlanTree.add(testPlan);\n\n        // Create another hash tree and add the thread group to our test plan\n        HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\n\n        // Create a hash tree to add the post processor to\n        HashTree httpSamplerOneTree = new HashTree();\n        httpSamplerOneTree.add(httpSamplerOne, jsonExtractor);\n        httpSamplerOneTree.add(httpSamplerOne, ra);\n\n        // Add the http sampler to the hash tree that contains the thread group\n        threadGroupHashTree.add(httpSamplerOneTree);\n        threadGroupHashTree.add(httpSamplerTwo);\n\n        SaveService.saveTree(testPlanTree, new FileOutputStream(jmeterHome + &quot;/bin/FirstTest.jmx&quot;));\n\n        // Summariser\n        Summariser summariser = null;\n        String summariserName = JMeterUtils.getPropDefault(&quot;summarise.names&quot;, &quot;summary response&quot;);\n        if (summariserName.length() &gt; 0) {\n            summariser = new Summariser(summariserName);\n        }\n\n        ResultCollector logger = new ResultCollector(summariser);\n        testPlanTree.add(testPlanTree.getArray()[0], logger);\n\n        // Write to a file\n        ResultCollector rc = new ResultCollector();\n        rc.setEnabled(true);\n        rc.setErrorLogging(false);\n        rc.isSampleWanted(true);\n        SampleSaveConfiguration ssc = new SampleSaveConfiguration();\n        ssc.setTime(true);\n        ssc.setAssertionResultsFailureMessage(true);\n        ssc.setThreadCounts(true);\n        rc.setSaveConfig(ssc);\n        rc.setFilename(jmeterHome + &quot;/bin/FirstTest.jtl&quot;);\n        testPlanTree.add(testPlanTree.getArray()[0], rc);\n\n        // Configure\n        jm.configure(testPlanTree);\n\n        // Run\n        jm.run();\n    }\n}\n</code></pre>\n<p>I get a following error for SaveService.SaveTree in line 120</p>\n<pre><code>Exception in thread &quot;main&quot; com.thoughtworks.xstream.converters.ConversionException: No converter available\n---- Debugging information ----\nmessage             : No converter available\ntype                : java.util.IdentityHashMap\nconverter           : com.thoughtworks.xstream.converters.reflection.SerializableConverter\nmessage[1]          : Unable to make private void java.util.IdentityHashMap.readObject(java.io.ObjectInputStream) throws java.io.IOException,java.lang.ClassNotFoundException accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @30c7da1e\nconverter[1]        : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\nmessage[2]          : Unable to make field transient java.util.Set java.util.AbstractMap.keySet accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @30c7da1e\n-------------------------------\n</code></pre>\n<p>I searched on the web for the solution but was unable to find one.\nI updated Jmeter, added necessary plugins via plugin manager, added jmeter dependencies to gradle in the project we use.</p>\n"},{"tags":["java","hashmap","resize"],"comments":[{"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"score":1,"creation_date":1694045584,"post_id":77055831,"comment_id":135841128,"body_markdown":"Why are you reusing the same `buckets` reference in your constructor? `MyHashMap hashMap = new MyHashMap(newTableSize);` is a notoriously bad idea. You should not use raw types like this and instead make your HashMap class generic.","body":"Why are you reusing the same <code>buckets</code> reference in your constructor? <code>MyHashMap hashMap = new MyHashMap(newTableSize);</code> is a notoriously bad idea. You should not use raw types like this and instead make your HashMap class generic."}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694045840,"creation_date":1694045511,"answer_id":77055878,"question_id":77055831,"body_markdown":"So your test does this:\r\n```java\r\nfor (int i = 0; i &lt; 1000000; i++) {\r\n    m.put(&quot;hi&quot; + i, i);\r\n```\r\nWhich mean that in your 10 thousand milliseconds, you need to do 1 million iterations, meaning 0.01 milliseconds are available per iteration, i.e. you need to process 100 iterations of this loop every millisecond.\r\n\r\nIs it so surprising that it might time out? Remember, some time may be spent in garbage collection during that as well.\r\n\r\nAlthough probably the real reason:  \r\nYour `put` calls `resize`, which creates a new MyHashMap and then uses `put`, which can then call `resize` and possibly go into a loop.\r\n\r\n***P.S.***  \r\nI noticed that in your `put` method, you seem to needlessly be using `Integer` rather than `int`, which adds a small amount of overhead, boxing and unboxing the values.","title":"Resize in custom HashMap - test timed out","body":"<p>So your test does this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 1000000; i++) {\n    m.put(&quot;hi&quot; + i, i);\n</code></pre>\n<p>Which mean that in your 10 thousand milliseconds, you need to do 1 million iterations, meaning 0.01 milliseconds are available per iteration, i.e. you need to process 100 iterations of this loop every millisecond.</p>\n<p>Is it so surprising that it might time out? Remember, some time may be spent in garbage collection during that as well.</p>\n<p>Although probably the real reason:<br />\nYour <code>put</code> calls <code>resize</code>, which creates a new MyHashMap and then uses <code>put</code>, which can then call <code>resize</code> and possibly go into a loop.</p>\n<p><em><strong>P.S.</strong></em><br />\nI noticed that in your <code>put</code> method, you seem to needlessly be using <code>Integer</code> rather than <code>int</code>, which adds a small amount of overhead, boxing and unboxing the values.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694066848,"creation_date":1694066848,"answer_id":77056982,"question_id":77055831,"body_markdown":"The problem is that your constructor creates only one `buckets` and uses this for all `hashTable` entries:\r\n\r\n        buckets = createBucket();\r\n        hashTable = createTable(bucketSize);\r\n        for (int i = 0; i &lt; bucketSize; i++) {\r\n            hashTable[i] = buckets;\r\n        }\r\n\r\nThat means that no matter what hashcode your keys have, they end up in the same `buckets` list.\r\n\r\nYour `resize()` method then does excessive work:\r\n\r\n            for (int i = 0; i &lt; bucketSize; i++) {\r\n                // Loop through each item in current hash table&#39;s buckets\r\n                for (Node node : hashTable[i]) {\r\n                    hashMap.put(node.key, node.value);\r\n                }\r\n            }\r\n\r\nSince all `hashTable` entries effectively contain the same `buckets` list, this  tries to add the entries `bucketSize` times.\r\n\r\nTo fix it you **must** in the constructor create a new `buckets` list for every `hashTable` entry:\r\n\r\n        hashTable = createTable(bucketSize);\r\n        for (int i = 0; i &lt; bucketSize; i++) {\r\n            hashTable[i] = createBucket();\r\n        }\r\n","title":"Resize in custom HashMap - test timed out","body":"<p>The problem is that your constructor creates only one <code>buckets</code> and uses this for all <code>hashTable</code> entries:</p>\n<pre><code>    buckets = createBucket();\n    hashTable = createTable(bucketSize);\n    for (int i = 0; i &lt; bucketSize; i++) {\n        hashTable[i] = buckets;\n    }\n</code></pre>\n<p>That means that no matter what hashcode your keys have, they end up in the same <code>buckets</code> list.</p>\n<p>Your <code>resize()</code> method then does excessive work:</p>\n<pre><code>        for (int i = 0; i &lt; bucketSize; i++) {\n            // Loop through each item in current hash table's buckets\n            for (Node node : hashTable[i]) {\n                hashMap.put(node.key, node.value);\n            }\n        }\n</code></pre>\n<p>Since all <code>hashTable</code> entries effectively contain the same <code>buckets</code> list, this  tries to add the entries <code>bucketSize</code> times.</p>\n<p>To fix it you <strong>must</strong> in the constructor create a new <code>buckets</code> list for every <code>hashTable</code> entry:</p>\n<pre><code>    hashTable = createTable(bucketSize);\n    for (int i = 0; i &lt; bucketSize; i++) {\n        hashTable[i] = createBucket();\n    }\n</code></pre>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77056982,"answer_count":2,"score":-2,"last_activity_date":1694066848,"creation_date":1694044228,"question_id":77055831,"body_markdown":"I am implementing hashmap from scratch.\r\nI have my constructor:\r\n```\r\n    public MyHashMap(int initialCapacity) {\r\n        resizeFactor = 2;\r\n        loadFactor = 0.75;\r\n        bucketSize = initialCapacity;\r\n        size = 0;\r\n        buckets = createBucket();\r\n        hashTable = createTable(bucketSize);\r\n        for (int i = 0; i &lt; bucketSize; i++) {\r\n            hashTable[i] = buckets;\r\n        }\r\n    }\r\n``` \r\nMy put method:\r\n```\r\n    public void put(K key, V value) {\r\n        if (key == null) throw new IllegalArgumentException(&quot;first argument to put() is null&quot;);\r\n\r\n        // Get hash code\r\n        Integer hashCode = key.hashCode();\r\n        // Compute index by modulo\r\n        Integer index = Math.floorMod(hashCode, bucketSize);\r\n        // Check if the item exists in the bucket\r\n        for (Node node : hashTable[index]) {\r\n            if (node.key.equals(key)) {\r\n                node.value = value;\r\n                return;\r\n            }\r\n        }\r\n        hashTable[index].add(createNode(key, value));\r\n        size += 1;\r\n\r\n        if ( 1.0 * size/ bucketSize &gt; loadFactor) {\r\n            int newTableSize = bucketSize * resizeFactor;\r\n            resize(newTableSize);\r\n        }\r\n    }\r\n```\r\n**There is some problem with my resize method because the test for resize failed and I do not seem to understand why**\r\n```\r\n    private void resize(int newTableSize) {\r\n        MyHashMap hashMap = new MyHashMap(newTableSize);\r\n            // Loop through each bucket(/index) in the current hash table\r\n            for (int i = 0; i &lt; bucketSize; i++) {\r\n                // Loop through each item in current hash table&#39;s buckets\r\n                for (Node node : hashTable[i]) {\r\n                    hashMap.put(node.key, node.value);\r\n                }\r\n            }\r\n        this.size = hashMap.size;\r\n        this.bucketSize = newTableSize;\r\n        this.hashTable = hashMap.hashTable;\r\n    }\r\n```\r\nThe test: (you may assume there is for sure nothing wrong with the test)\r\n```\r\n    public void testResize() {\r\n        sanityResizeTest(new MyHashMap&lt;&gt;(), 16, 0.75);\r\n        sanityResizeTest(new MyHashMap&lt;&gt;(32), 32, 0.75);\r\n        sanityResizeTest(new MyHashMap&lt;&gt;(64, 0.5), 64, 0.5);\r\n    }\r\n\r\n    public static void sanityResizeTest(MyHashMap&lt;String, Integer&gt; m, int initialCapacity, double loadFactor) {\r\n        // Times out after 10 seconds\r\n        assertTimeoutPreemptively(Duration.ofSeconds(10), () -&gt; {\r\n            int backingArrayCapacity = sizeOfBackingArray(m);\r\n            assertThat(backingArrayCapacity).isEqualTo(initialCapacity);\r\n            for (int i = 0; i &lt; 1000000; i++) {\r\n                m.put(&quot;hi&quot; + i, i);\r\n                if (1.0 * i / backingArrayCapacity &gt; loadFactor) {\r\n                    assertThat(sizeOfBackingArray(m)).isGreaterThan(backingArrayCapacity);\r\n                    backingArrayCapacity = sizeOfBackingArray(m);\r\n                }\r\n            }\r\n        });\r\n    }\r\n```\r\n```\r\nsizeOfBackingArray:\r\n    /** Returns the length of the backing array of the given map.\r\n     *  Be sure that you only use one instance variable to hold the buckets,\r\n     *  otherwise this will not work properly.\r\n```\r\n\r\nWhat I don&#39;t understand\r\n-----------------------\r\n```\r\norg.opentest4j.AssertionFailedError: execution timed out after 10000 ms\r\n\tat org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:158)\r\n\tat org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:119)\r\n\tat org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:101)\r\n\tat org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:97)\r\n\tat org.junit.jupiter.api.Assertions.assertTimeoutPreemptively(Assertions.java:3398)\r\n\tat hashmap.TestMyHashMap.sanityResizeTest(TestMyHashMap.java:182)\r\n\tat hashmap.TestMyHashMap.testResize(TestMyHashMap.java:175)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n```\r\n\r\nI&#39;m not exactly sure why would it time out because the `put` and `resize` methods look fine to me.\r\nAny help will be greatly appreciated.","title":"Resize in custom HashMap - test timed out","body":"<p>I am implementing hashmap from scratch.\nI have my constructor:</p>\n<pre><code>    public MyHashMap(int initialCapacity) {\n        resizeFactor = 2;\n        loadFactor = 0.75;\n        bucketSize = initialCapacity;\n        size = 0;\n        buckets = createBucket();\n        hashTable = createTable(bucketSize);\n        for (int i = 0; i &lt; bucketSize; i++) {\n            hashTable[i] = buckets;\n        }\n    }\n</code></pre>\n<p>My put method:</p>\n<pre><code>    public void put(K key, V value) {\n        if (key == null) throw new IllegalArgumentException(&quot;first argument to put() is null&quot;);\n\n        // Get hash code\n        Integer hashCode = key.hashCode();\n        // Compute index by modulo\n        Integer index = Math.floorMod(hashCode, bucketSize);\n        // Check if the item exists in the bucket\n        for (Node node : hashTable[index]) {\n            if (node.key.equals(key)) {\n                node.value = value;\n                return;\n            }\n        }\n        hashTable[index].add(createNode(key, value));\n        size += 1;\n\n        if ( 1.0 * size/ bucketSize &gt; loadFactor) {\n            int newTableSize = bucketSize * resizeFactor;\n            resize(newTableSize);\n        }\n    }\n</code></pre>\n<p><strong>There is some problem with my resize method because the test for resize failed and I do not seem to understand why</strong></p>\n<pre><code>    private void resize(int newTableSize) {\n        MyHashMap hashMap = new MyHashMap(newTableSize);\n            // Loop through each bucket(/index) in the current hash table\n            for (int i = 0; i &lt; bucketSize; i++) {\n                // Loop through each item in current hash table's buckets\n                for (Node node : hashTable[i]) {\n                    hashMap.put(node.key, node.value);\n                }\n            }\n        this.size = hashMap.size;\n        this.bucketSize = newTableSize;\n        this.hashTable = hashMap.hashTable;\n    }\n</code></pre>\n<p>The test: (you may assume there is for sure nothing wrong with the test)</p>\n<pre><code>    public void testResize() {\n        sanityResizeTest(new MyHashMap&lt;&gt;(), 16, 0.75);\n        sanityResizeTest(new MyHashMap&lt;&gt;(32), 32, 0.75);\n        sanityResizeTest(new MyHashMap&lt;&gt;(64, 0.5), 64, 0.5);\n    }\n\n    public static void sanityResizeTest(MyHashMap&lt;String, Integer&gt; m, int initialCapacity, double loadFactor) {\n        // Times out after 10 seconds\n        assertTimeoutPreemptively(Duration.ofSeconds(10), () -&gt; {\n            int backingArrayCapacity = sizeOfBackingArray(m);\n            assertThat(backingArrayCapacity).isEqualTo(initialCapacity);\n            for (int i = 0; i &lt; 1000000; i++) {\n                m.put(&quot;hi&quot; + i, i);\n                if (1.0 * i / backingArrayCapacity &gt; loadFactor) {\n                    assertThat(sizeOfBackingArray(m)).isGreaterThan(backingArrayCapacity);\n                    backingArrayCapacity = sizeOfBackingArray(m);\n                }\n            }\n        });\n    }\n</code></pre>\n<pre><code>sizeOfBackingArray:\n    /** Returns the length of the backing array of the given map.\n     *  Be sure that you only use one instance variable to hold the buckets,\n     *  otherwise this will not work properly.\n</code></pre>\n<h2>What I don't understand</h2>\n<pre><code>org.opentest4j.AssertionFailedError: execution timed out after 10000 ms\n    at org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:158)\n    at org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:119)\n    at org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:101)\n    at org.junit.jupiter.api.AssertTimeout.assertTimeoutPreemptively(AssertTimeout.java:97)\n    at org.junit.jupiter.api.Assertions.assertTimeoutPreemptively(Assertions.java:3398)\n    at hashmap.TestMyHashMap.sanityResizeTest(TestMyHashMap.java:182)\n    at hashmap.TestMyHashMap.testResize(TestMyHashMap.java:175)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n</code></pre>\n<p>I'm not exactly sure why would it time out because the <code>put</code> and <code>resize</code> methods look fine to me.\nAny help will be greatly appreciated.</p>\n"},{"tags":["java","performance","design-patterns","singleton","benchmarking"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694066486,"post_id":77056902,"comment_id":135842743,"body_markdown":"I hope you&#39;re testing this for fun, and not because you intend to use DCL somewhere? If you want a (lazily loaded) singleton, just use an `enum`.","body":"I hope you&#39;re testing this for fun, and not because you intend to use DCL somewhere? If you want a (lazily loaded) singleton, just use an <code>enum</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1695375972,"post_id":77056902,"comment_id":136019178,"body_markdown":"A local variable is not a magic accelerator. When you’re still reading the field as many times as without the local variable, there is no benefit at all. When you also forget to assign the field, you create a new instance on every call, so the performance drawback is the least thing to worry about, as you don’t have a singleton anymore.","body":"A local variable is not a magic accelerator. When you’re still reading the field as many times as without the local variable, there is no benefit at all. When you also forget to assign the field, you create a new instance on every call, so the performance drawback is the least thing to worry about, as you don’t have a singleton anymore."}],"owner":{"account_id":24638884,"reputation":21,"user_id":18537219,"display_name":"Janis Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694065851,"creation_date":1694065851,"question_id":77056902,"body_markdown":"&gt; local variable increases performance by 25 percent - Joshua Bloch &quot;Effective Java, Second Edition&quot;, p. 283-284\r\n\r\nI&#39;m new to benchmark test, and i want to do a test for DoubleCheckLockingSingleton.\r\nBut the result seems like the performance of DoubleCheckLockingSingletonWithoutLocalVar is better?\r\n\r\n\r\n\r\nI&#39;m using https://github.com/openjdk/jmh\r\n\r\nThe benchmark result:\r\n```\r\n# JMH version: 1.33\r\n# VM version: JDK 17.0.6, OpenJDK 64-Bit Server VM, 17.0.6+10-b829.9\r\n# VM invoker: /home/repo/idea-IU-231.9011.34/jbr/bin/java\r\n# VM options: -javaagent:/home/repo/idea-IU-231.9011.34/lib/idea_rt.jar=46469:/home/repo/idea-IU-231.9011.34/bin -Dfile.encoding=UTF-8\r\n# Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\r\n# Warmup: 5 iterations, 10 s each\r\n# Measurement: 5 iterations, 10 s each\r\n# Timeout: 10 min per iteration\r\n# Threads: 10 threads, will synchronize iterations\r\n# Benchmark mode: Throughput, ops/time\r\n# Benchmark: org.example.MyBenchmarkTest.measureWithLocalVar\r\n\r\nBenchmark                                Mode  Cnt           Score           Error  Units\r\nMyBenchmarkTest.measureWithLocalVar     thrpt    5    14543289.188 &#177;   1754652.871  ops/s\r\nMyBenchmarkTest.measureWithoutLocalVar  thrpt    5  2238795119.169 &#177; 942222432.066  ops/s\r\n```\r\n\r\nMyBenchmarkTest file\r\n```\r\n@State(Scope.Benchmark)\r\n@BenchmarkMode(Mode.Throughput)\r\npublic class MyBenchmarkTest {\r\n    @Benchmark\r\n    @Threads(10)\r\n    public DoubleCheckLockingSingleton measureWithLocalVar() {\r\n        return  DoubleCheckLockingSingleton.getInstance();\r\n    }\r\n\r\n    @Benchmark\r\n    @Threads(10)\r\n    public DoubleCheckLockingSingletonWithoutLocalVar measureWithoutLocalVar() {\r\n        return DoubleCheckLockingSingletonWithoutLocalVar.getInstance();\r\n    }\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options options = new OptionsBuilder()\r\n                .include(MyBenchmarkTest.class.getSimpleName())\r\n                .forks(1)\r\n                .build();\r\n\r\n        new Runner(options).run();\r\n    }\r\n }\r\n```\r\n\r\nDoubleCheckLocking file\r\n```\r\npublic class DoubleCheckLockingSingleton {\r\n   \r\n    private static volatile DoubleCheckLockingSingleton instance = null;\r\n\r\n    public static DoubleCheckLockingSingleton getInstance(){\r\n        DoubleCheckLockingSingleton result = instance;\r\n\r\n        if(result ==null){\r\n            synchronized (DoubleCheckLockingSingleton.class){\r\n                result = instance;\r\n                if(result==null){\r\n                    result = new DoubleCheckLockingSingleton();\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\npublic class DoubleCheckLockingSingletonWithoutLocalVar {\r\n\r\n    private static volatile DoubleCheckLockingSingletonWithoutLocalVar instance = null;\r\n\r\n    public static DoubleCheckLockingSingletonWithoutLocalVar getInstance(){\r\n        if(instance ==null){\r\n            synchronized (DoubleCheckLockingSingletonWithoutLocalVar.class){\r\n                if(instance==null){\r\n                    instance = new DoubleCheckLockingSingletonWithoutLocalVar();\r\n                }\r\n            }\r\n        }\r\n        return instance;\r\n    }\r\n}\r\n```\r\nCan somebody give me a hand? thanks!","title":"Query about using Benchmark test singleton design pattern","body":"<blockquote>\n<p>local variable increases performance by 25 percent - Joshua Bloch &quot;Effective Java, Second Edition&quot;, p. 283-284</p>\n</blockquote>\n<p>I'm new to benchmark test, and i want to do a test for DoubleCheckLockingSingleton.\nBut the result seems like the performance of DoubleCheckLockingSingletonWithoutLocalVar is better?</p>\n<p>I'm using <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jmh</a></p>\n<p>The benchmark result:</p>\n<pre><code># JMH version: 1.33\n# VM version: JDK 17.0.6, OpenJDK 64-Bit Server VM, 17.0.6+10-b829.9\n# VM invoker: /home/repo/idea-IU-231.9011.34/jbr/bin/java\n# VM options: -javaagent:/home/repo/idea-IU-231.9011.34/lib/idea_rt.jar=46469:/home/repo/idea-IU-231.9011.34/bin -Dfile.encoding=UTF-8\n# Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\n# Warmup: 5 iterations, 10 s each\n# Measurement: 5 iterations, 10 s each\n# Timeout: 10 min per iteration\n# Threads: 10 threads, will synchronize iterations\n# Benchmark mode: Throughput, ops/time\n# Benchmark: org.example.MyBenchmarkTest.measureWithLocalVar\n\nBenchmark                                Mode  Cnt           Score           Error  Units\nMyBenchmarkTest.measureWithLocalVar     thrpt    5    14543289.188 ±   1754652.871  ops/s\nMyBenchmarkTest.measureWithoutLocalVar  thrpt    5  2238795119.169 ± 942222432.066  ops/s\n</code></pre>\n<p>MyBenchmarkTest file</p>\n<pre><code>@State(Scope.Benchmark)\n@BenchmarkMode(Mode.Throughput)\npublic class MyBenchmarkTest {\n    @Benchmark\n    @Threads(10)\n    public DoubleCheckLockingSingleton measureWithLocalVar() {\n        return  DoubleCheckLockingSingleton.getInstance();\n    }\n\n    @Benchmark\n    @Threads(10)\n    public DoubleCheckLockingSingletonWithoutLocalVar measureWithoutLocalVar() {\n        return DoubleCheckLockingSingletonWithoutLocalVar.getInstance();\n    }\n\n    public static void main(String[] args) throws RunnerException {\n        Options options = new OptionsBuilder()\n                .include(MyBenchmarkTest.class.getSimpleName())\n                .forks(1)\n                .build();\n\n        new Runner(options).run();\n    }\n }\n</code></pre>\n<p>DoubleCheckLocking file</p>\n<pre><code>public class DoubleCheckLockingSingleton {\n   \n    private static volatile DoubleCheckLockingSingleton instance = null;\n\n    public static DoubleCheckLockingSingleton getInstance(){\n        DoubleCheckLockingSingleton result = instance;\n\n        if(result ==null){\n            synchronized (DoubleCheckLockingSingleton.class){\n                result = instance;\n                if(result==null){\n                    result = new DoubleCheckLockingSingleton();\n                }\n            }\n        }\n        return result;\n    }\n}\n\npublic class DoubleCheckLockingSingletonWithoutLocalVar {\n\n    private static volatile DoubleCheckLockingSingletonWithoutLocalVar instance = null;\n\n    public static DoubleCheckLockingSingletonWithoutLocalVar getInstance(){\n        if(instance ==null){\n            synchronized (DoubleCheckLockingSingletonWithoutLocalVar.class){\n                if(instance==null){\n                    instance = new DoubleCheckLockingSingletonWithoutLocalVar();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p>Can somebody give me a hand? thanks!</p>\n"},{"tags":["java","maven","github-actions","maven-compiler-plugin"],"answers":[{"tags":[],"owner":{"account_id":14152045,"reputation":89,"user_id":10223737,"display_name":"gdnmhr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662403212,"creation_date":1662403212,"answer_id":73613531,"question_id":73611784,"body_markdown":"I found the answer by myself, turns out that I unintentionally ran maven with sudo (I got some other error before that and thought it was a harmless fix).\r\n\r\nThe setup-java action seems to only update JAVA_HOME for the standard user though, thus maven tried to use version 11 which is preinstalled on the runner.","title":"maven-comiler-plugin: Fatal error compiling: error: release version 17 not supported","body":"<p>I found the answer by myself, turns out that I unintentionally ran maven with sudo (I got some other error before that and thought it was a harmless fix).</p>\n<p>The setup-java action seems to only update JAVA_HOME for the standard user though, thus maven tried to use version 11 which is preinstalled on the runner.</p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694065375,"creation_date":1694065375,"answer_id":77056873,"question_id":73611784,"body_markdown":"Set JAVA_HOME on your windows to your Java 17 installation path. restart the IDE or command line. ","title":"maven-comiler-plugin: Fatal error compiling: error: release version 17 not supported","body":"<p>Set JAVA_HOME on your windows to your Java 17 installation path. restart the IDE or command line.</p>\n"}],"owner":{"account_id":14152045,"reputation":89,"user_id":10223737,"display_name":"gdnmhr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25200,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73613531,"answer_count":2,"score":3,"last_activity_date":1694065375,"creation_date":1662392331,"question_id":73611784,"body_markdown":"I tried to create a very simple JavaFX project with maven and use GitHub actions to build a linux package from it. This is the workflow file:\r\n\r\n```lang-yaml\r\n# This workflow will build a Java project with Maven\r\n# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-maven\r\n\r\nname: Linux Client\r\n\r\non:\r\n  workflow_dispatch:\r\n  push:\r\n    branches: [ master ]\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v2\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v2\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n      - name: Debug\r\n        run: mvn -version\r\n      - name: Build with Maven\r\n        run: sudo mvn -e -B install --file pom.xml\r\n      - name: Upload DEB package\r\n        uses: actions/upload-artifact@v2\r\n        with:\r\n          name: Installer files\r\n          path: target/installer/*\r\n```\r\nadopted from [https://github.com/dlemmermann/JPackageScriptFX][2].\r\n\r\nThe workflow file sets up JDK 17 and `mvn -version` seems to have the correct output:\r\n\r\n    Run mvn -version\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: /usr/share/apache-maven-3.8.6\r\n    Java version: 17.0.4.1, vendor: Eclipse Adoptium, runtime: /usr/lib/jvm/temurin-17-jdk-amd64\r\n    Default locale: en, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;5.15.0-1017-azure&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nThe build fails with `Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project TestMaven: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]`.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://github.com/gdnmhr/TestMaven\r\n  [2]: https://github.com/dlemmermann/JPackageScriptFX\r\n","title":"maven-comiler-plugin: Fatal error compiling: error: release version 17 not supported","body":"<p>I tried to create a very simple JavaFX project with maven and use GitHub actions to build a linux package from it. This is the workflow file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># This workflow will build a Java project with Maven\n# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-maven\n\nname: Linux Client\n\non:\n  workflow_dispatch:\n  push:\n    branches: [ master ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v2\n      - name: Set up JDK 17\n        uses: actions/setup-java@v2\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n      - name: Debug\n        run: mvn -version\n      - name: Build with Maven\n        run: sudo mvn -e -B install --file pom.xml\n      - name: Upload DEB package\n        uses: actions/upload-artifact@v2\n        with:\n          name: Installer files\n          path: target/installer/*\n</code></pre>\n<p>adopted from <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">https://github.com/dlemmermann/JPackageScriptFX</a>.</p>\n<p>The workflow file sets up JDK 17 and <code>mvn -version</code> seems to have the correct output:</p>\n<pre><code>Run mvn -version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /usr/share/apache-maven-3.8.6\nJava version: 17.0.4.1, vendor: Eclipse Adoptium, runtime: /usr/lib/jvm/temurin-17-jdk-amd64\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-1017-azure&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>The build fails with <code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project TestMaven: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]</code>.</p>\n<p>What am I doing wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9795,"page":197,"page_size":100}
