{"items":[{"tags":["java","sql","google-cloud-platform"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1642434645,"post_id":70743998,"comment_id":125064043,"body_markdown":"Okay, well you&#39;ve got part of the code there... where are you stuck?","body":"Okay, well you&#39;ve got part of the code there... where are you stuck?"},{"owner":{"account_id":23967201,"reputation":1,"user_id":17956509,"display_name":"Kemel_251"},"score":0,"creation_date":1642434803,"post_id":70743998,"comment_id":125064100,"body_markdown":"Sorry, it&#180;s my first time asking in stack overflow. I want to get the data from the JSON I upload in the bucket. How can I do it with that public static class GCSEvent {]???","body":"Sorry, it&#180;s my first time asking in stack overflow. I want to get the data from the JSON I upload in the bucket. How can I do it with that public static class GCSEvent {]???"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1642434926,"post_id":70743998,"comment_id":125064152,"body_markdown":"Okay, if the problem isn&#39;t actually related to the SQL insertion, I suggest you take that part out of the question. There&#39;s sample code in https://cloud.google.com/functions/docs/calling/storage#functions-calling-storage-java that logs the bucket, object name etc in response to a Storage trigger.","body":"Okay, if the problem isn&#39;t actually related to the SQL insertion, I suggest you take that part out of the question. There&#39;s sample code in <a href=\"https://cloud.google.com/functions/docs/calling/storage#functions-calling-storage-java\" rel=\"nofollow noreferrer\">cloud.google.com/functions/docs/calling/&hellip;</a> that logs the bucket, object name etc in response to a Storage trigger."},{"owner":{"account_id":23967201,"reputation":1,"user_id":17956509,"display_name":"Kemel_251"},"score":0,"creation_date":1642435017,"post_id":70743998,"comment_id":125064193,"body_markdown":"Okay, thank you so much :)","body":"Okay, thank you so much :)"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1642449022,"post_id":70743998,"comment_id":125068769,"body_markdown":"download the file, read the file, parse the JSON, build your query, run your query on the database. It&#39;s the main steps that you have to implement.","body":"download the file, read the file, parse the JSON, build your query, run your query on the database. It&#39;s the main steps that you have to implement."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643212507,"post_id":70743998,"comment_id":125280530,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23967201,"reputation":1,"user_id":17956509,"display_name":"Kemel_251"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642434825,"creation_date":1642434312,"question_id":70743998,"body_markdown":"I&#39;m trying to upload a JSON to a cloud bucket to trigger one cloud function to upload the JSON&#39;s data to a SQL table. I would like to know how to upload bucket data with an INSERT INTO query once GCSEvent is triggered.\r\n\r\n\r\n```\r\npackage com.example;\r\n\r\nimport com.example.Example.GCSEvent;\r\nimport com.google.cloud.functions.BackgroundFunction;\r\nimport com.google.cloud.functions.Context;\r\nimport java.util.logging.Logger;\r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class Example implements BackgroundFunction&lt;GCSEvent&gt; {\r\n  private static final Logger logger = Logger.getLogger(Example.class.getName());\r\n\r\n  @Override\r\n  public void accept(GCSEvent event, Context context) {\r\n    logger.info(&quot;Processing file: &quot; + event.name);\r\n    HikariConfig config = new HikariConfig();\r\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, &quot;***&quot;));\r\n    config.setUsername(&quot;root&quot;);\r\n    config.setPassword(&quot;&quot;);\r\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, &quot;***&quot;);\r\n  }\r\n\r\n  public static class GCSEvent {\r\n    String bucket;\r\n    String name;\r\n    String metageneration;\r\n  }\r\n}\r\n```","title":"How can I upload data from Java Cloud Function to SQL table?","body":"<p>I'm trying to upload a JSON to a cloud bucket to trigger one cloud function to upload the JSON's data to a SQL table. I would like to know how to upload bucket data with an INSERT INTO query once GCSEvent is triggered.</p>\n<pre><code>package com.example;\n\nimport com.example.Example.GCSEvent;\nimport com.google.cloud.functions.BackgroundFunction;\nimport com.google.cloud.functions.Context;\nimport java.util.logging.Logger;\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class Example implements BackgroundFunction&lt;GCSEvent&gt; {\n  private static final Logger logger = Logger.getLogger(Example.class.getName());\n\n  @Override\n  public void accept(GCSEvent event, Context context) {\n    logger.info(&quot;Processing file: &quot; + event.name);\n    HikariConfig config = new HikariConfig();\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, &quot;***&quot;));\n    config.setUsername(&quot;root&quot;);\n    config.setPassword(&quot;&quot;);\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, &quot;***&quot;);\n  }\n\n  public static class GCSEvent {\n    String bucket;\n    String name;\n    String metageneration;\n  }\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","aggregation-framework"],"answers":[{"tags":[],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642434450,"creation_date":1642434450,"answer_id":70744025,"question_id":70722816,"body_markdown":"I have found a solution for this.\r\nHere is the solution to this.\r\n\r\nHere are the imports.\r\n```\r\nimport static org.springframework.data.mongodb.core.aggregation.ComparisonOperators.Eq.valueOf;\r\nimport org.springframework.data.mongodb.core.aggregation.Aggregation;\r\nimport org.springframework.data.mongodb.core.aggregation.AggregationResults;\r\nimport org.springframework.data.mongodb.core.aggregation.ArrayOperators.Filter;\r\nimport org.springframework.data.mongodb.core.query.Criteria;\r\n```\r\n\r\n```\r\nAggregation aggregation = Aggregation.newAggregation(\r\n\t\t\t\tAggregation.match(new Criteria(&quot;organizationId&quot;).is(orgId)),\r\n\t\t\t\tAggregation.project(&quot;domains&quot;)\r\n\t\t\t\t\t\t.and(Filter.filter(&quot;domains&quot;).as(&quot;domains&quot;).by(valueOf(&quot;domains.activeInd&quot;).equalToValue(true)))\r\n\t\t\t\t\t\t.as(&quot;domains&quot;)\r\n\t\t);\r\n\r\nAggregationResults&lt;outputclass&gt; resultObject = mongoTemplate.aggregate(aggregation, &quot;collection_name&quot;,\r\n\t\t\t\toutputclass.class);\r\nList&lt;outputclass&gt; resultList=resultObject.getMappedResults();\r\n```\r\nThis works only with mongoTemplate.\r\n and if you don&#39;t know how to configure mongo template then here it is \r\n```\r\nMongoTemplate mongoTemplate= new MongoTemplate(mongoClientObject, dbName);\r\n```\r\n","title":"Java Spring-boot code for aggregate operation with projection and filter in MongoDB","body":"<p>I have found a solution for this.\nHere is the solution to this.</p>\n<p>Here are the imports.</p>\n<pre><code>import static org.springframework.data.mongodb.core.aggregation.ComparisonOperators.Eq.valueOf;\nimport org.springframework.data.mongodb.core.aggregation.Aggregation;\nimport org.springframework.data.mongodb.core.aggregation.AggregationResults;\nimport org.springframework.data.mongodb.core.aggregation.ArrayOperators.Filter;\nimport org.springframework.data.mongodb.core.query.Criteria;\n</code></pre>\n<pre><code>Aggregation aggregation = Aggregation.newAggregation(\n                Aggregation.match(new Criteria(&quot;organizationId&quot;).is(orgId)),\n                Aggregation.project(&quot;domains&quot;)\n                        .and(Filter.filter(&quot;domains&quot;).as(&quot;domains&quot;).by(valueOf(&quot;domains.activeInd&quot;).equalToValue(true)))\n                        .as(&quot;domains&quot;)\n        );\n\nAggregationResults&lt;outputclass&gt; resultObject = mongoTemplate.aggregate(aggregation, &quot;collection_name&quot;,\n                outputclass.class);\nList&lt;outputclass&gt; resultList=resultObject.getMappedResults();\n</code></pre>\n<p>This works only with mongoTemplate.\nand if you don't know how to configure mongo template then here it is</p>\n<pre><code>MongoTemplate mongoTemplate= new MongoTemplate(mongoClientObject, dbName);\n</code></pre>\n"}],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70744025,"answer_count":1,"score":0,"last_activity_date":1642434450,"creation_date":1642260516,"question_id":70722816,"body_markdown":"I have a Mongo query that should be converted to Java Spring-boot code,\r\n\r\nQuery\r\n```\r\ndb.orgConfigData.aggregate([\r\n    {&quot;$match&quot; : { &quot;organizationId&quot;: 339975}},\r\n    {$project: {\r\n        \r\ndomains:{\r\n$filter: {\r\ninput: &quot;$domains&quot;,\r\nas : &quot;domains&quot;,\r\ncond: {$eq: [&quot;$$domains.activeInd&quot;, true]}\r\n}\r\n}}\r\n}])\r\n\r\n```\r\nI have tried using the below code for the beginning  but got stuck on how to add a filter in the projection in java spring \r\n\r\n```\r\nMatchOperation matchStage = Aggregation.match(new Criteria(&quot;organizationId&quot;).is(orgId));\r\nProjectionOperation projectStage = Aggregation.project(?);\r\n```\r\n\r\ncan someone help me with the code for the above query?\r\nThanks in advance.\r\n","title":"Java Spring-boot code for aggregate operation with projection and filter in MongoDB","body":"<p>I have a Mongo query that should be converted to Java Spring-boot code,</p>\n<p>Query</p>\n<pre><code>db.orgConfigData.aggregate([\n    {&quot;$match&quot; : { &quot;organizationId&quot;: 339975}},\n    {$project: {\n        \ndomains:{\n$filter: {\ninput: &quot;$domains&quot;,\nas : &quot;domains&quot;,\ncond: {$eq: [&quot;$$domains.activeInd&quot;, true]}\n}\n}}\n}])\n\n</code></pre>\n<p>I have tried using the below code for the beginning  but got stuck on how to add a filter in the projection in java spring</p>\n<pre><code>MatchOperation matchStage = Aggregation.match(new Criteria(&quot;organizationId&quot;).is(orgId));\nProjectionOperation projectStage = Aggregation.project(?);\n</code></pre>\n<p>can someone help me with the code for the above query?\nThanks in advance.</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1642430893,"post_id":70742867,"comment_id":125062462,"body_markdown":"if still stuck follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"if still stuck follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":16464176,"reputation":173,"user_id":11894598,"display_name":"abdul khan"},"score":0,"creation_date":1642434258,"post_id":70742867,"comment_id":125063889,"body_markdown":"Hi @PeterThomas : Really sorry the solution that suggested did not worked in my case as I want to set the environment variables at runtime which I am setting in karate-config.js and use it java custom java code.","body":"Hi @PeterThomas : Really sorry the solution that suggested did not worked in my case as I want to set the environment variables at runtime which I am setting in karate-config.js and use it java custom java code."},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1642434611,"post_id":70742867,"comment_id":125064032,"body_markdown":"I have only one extra comment. the system property name is `karate.env`. if that doesn&#39;t work, try passing parameters to java code from karate, there are plenty of examples if you search and read the docs","body":"I have only one extra comment. the system property name is <code>karate.env</code>. if that doesn&#39;t work, try passing parameters to java code from karate, there are plenty of examples if you search and read the docs"}],"owner":{"account_id":16464176,"reputation":173,"user_id":11894598,"display_name":"abdul khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642430879,"answer_count":0,"score":1,"last_activity_date":1642434418,"creation_date":1642429326,"question_id":70742867,"body_markdown":"I am setting the environment variable using karate-config.js if its null: \r\n\r\n \r\n\r\n     if (!env) {\r\n        env = &#39;sit&#39;;\r\n      }\r\n\r\nI am able to fetch env value in karate feature file, however my test case requirement is to pick the excel data based on environment\r\n\r\nWhen I am using the below code to read the file name based on env, I am getting null as env\r\n\r\n  \r\n\r\n    file= file.replace(&quot;RequestData.xlsx&quot;,&quot;RequestData-&quot;+System.getProperty(&quot;env&quot;)+&quot;.xlsx&quot;);\r\n\r\n","title":"How to set System Environment Variables from karate-config.js and read in java class","body":"<p>I am setting the environment variable using karate-config.js if its null:</p>\n<pre><code> if (!env) {\n    env = 'sit';\n  }\n</code></pre>\n<p>I am able to fetch env value in karate feature file, however my test case requirement is to pick the excel data based on environment</p>\n<p>When I am using the below code to read the file name based on env, I am getting null as env</p>\n<pre><code>file= file.replace(&quot;RequestData.xlsx&quot;,&quot;RequestData-&quot;+System.getProperty(&quot;env&quot;)+&quot;.xlsx&quot;);\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1642421133,"post_id":70739507,"comment_id":125058303,"body_markdown":"[mcve] please - demonstrating what _exactly_ you want to achieve and how it doesn&#39;t work.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please - demonstrating what <i>exactly</i> you want to achieve and how it doesn&#39;t work."},{"owner":{"account_id":1831939,"reputation":903,"user_id":1663157,"accept_rate":72,"display_name":"Nomistake"},"score":0,"creation_date":1642592352,"post_id":70739507,"comment_id":125110136,"body_markdown":"James_D anwsered it correctly, thus my question was clear enough.","body":"James_D anwsered it correctly, thus my question was clear enough."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642434198,"creation_date":1642429914,"answer_id":70743009,"question_id":70739507,"body_markdown":"The scene and the canvas it contains *are* positioned immediately below the title bar. The problem is the way you have positioned the text in the canvas.\r\n\r\nThe text is positioned in the canvas according to the coordinates provided and the current values of the `GraphicsContext`&#39;s `textAlign` property (which determines how the `x` coordinate is used) and `textBaseline` property (which determines how the `y` coordinate is used). See the &quot;Text Attributes&quot; section of the attributes table in the [documentation](https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/canvas/GraphicsContext.html).\r\n\r\nThe default `textBaseline` property is `VPos.BASELINE`, which means the *baseline* of the text will be positioned with the provided y-coordinate, which is `0` in your case. Thus the text baseline will be at `0` (the top of the canvas), and most of the text (everything except any descenders) will be above the top of the canvas and not be visible.\r\n\r\nTo position the *top* of the text at the y-coordinate `0`, set the `textBaseline` to `TOP`:\r\n\r\n    gc.setTextBaseline(VPos.TOP);\r\n    gc.strokeText(String.format(&quot;%d&quot;,test), 0, 0);\r\n\r\n","title":"Positioning Canvas in relation to the title bar of the window","body":"<p>The scene and the canvas it contains <em>are</em> positioned immediately below the title bar. The problem is the way you have positioned the text in the canvas.</p>\n<p>The text is positioned in the canvas according to the coordinates provided and the current values of the <code>GraphicsContext</code>'s <code>textAlign</code> property (which determines how the <code>x</code> coordinate is used) and <code>textBaseline</code> property (which determines how the <code>y</code> coordinate is used). See the &quot;Text Attributes&quot; section of the attributes table in the <a href=\"https://openjfx.io/javadoc/16/javafx.graphics/javafx/scene/canvas/GraphicsContext.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>The default <code>textBaseline</code> property is <code>VPos.BASELINE</code>, which means the <em>baseline</em> of the text will be positioned with the provided y-coordinate, which is <code>0</code> in your case. Thus the text baseline will be at <code>0</code> (the top of the canvas), and most of the text (everything except any descenders) will be above the top of the canvas and not be visible.</p>\n<p>To position the <em>top</em> of the text at the y-coordinate <code>0</code>, set the <code>textBaseline</code> to <code>TOP</code>:</p>\n<pre><code>gc.setTextBaseline(VPos.TOP);\ngc.strokeText(String.format(&quot;%d&quot;,test), 0, 0);\n</code></pre>\n"}],"owner":{"account_id":1831939,"reputation":903,"user_id":1663157,"accept_rate":72,"display_name":"Nomistake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642493406,"accepted_answer_id":70743009,"answer_count":1,"score":-1,"last_activity_date":1642434198,"creation_date":1642413673,"question_id":70739507,"body_markdown":"I have a graphic context:\r\n\r\n    gc.strokeText(String.format(&quot;%d&quot;,test), 0, 0);\r\n\r\nI add this to the stage like this:\r\n\r\n    p.getChildren().addAll(canvas);\r\n\r\nI get this result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat can i do, or is there a way to prevent the canvas to start behind title bar?\r\n(I can do this by setting the start position x,y, but that seems a oncomfortabel solution)\r\n\r\nIs there a way to set the canvas just below the title bar, no matter how high this title bar is.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P1Ip8.png","title":"Positioning Canvas in relation to the title bar of the window","body":"<p>I have a graphic context:</p>\n<pre><code>gc.strokeText(String.format(&quot;%d&quot;,test), 0, 0);\n</code></pre>\n<p>I add this to the stage like this:</p>\n<pre><code>p.getChildren().addAll(canvas);\n</code></pre>\n<p>I get this result:</p>\n<p><a href=\"https://i.stack.imgur.com/P1Ip8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1Ip8.png\" alt=\"enter image description here\" /></a></p>\n<p>What can i do, or is there a way to prevent the canvas to start behind title bar?\n(I can do this by setting the start position x,y, but that seems a oncomfortabel solution)</p>\n<p>Is there a way to set the canvas just below the title bar, no matter how high this title bar is.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1642433466,"post_id":70743680,"comment_id":125063570,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data) and indicate the exact data you want to get.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a> and indicate the exact data you want to get."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1642434288,"post_id":70743680,"comment_id":125063902,"body_markdown":"In addition to what Alex asked, please: 1) Edit your question to include the output of the `Log` statements in your code. 2) Implement `onCancelled` as you&#39;re ignoring potential errors. At its minimum it should be: `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`.","body":"In addition to what Alex asked, please: 1) Edit your question to include the output of the <code>Log</code> statements in your code. 2) Implement <code>onCancelled</code> as you&#39;re ignoring potential errors. At its minimum it should be: <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643211361,"post_id":70743680,"comment_id":125279949,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":21105999,"reputation":1,"user_id":15514979,"display_name":"Abdullah Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642434179,"creation_date":1642432807,"question_id":70743680,"body_markdown":"Just trying to get url the url that I have stored in that node. It is a audio file url that I have stored in the storage.\r\n \r\n```\r\nValueEventListener changeListener = new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot snapshot) {\r\n        String change = snapshot.getValue(String.class);\r\n        if(snapshot.hasChildren()){\r\n            if(snapshot.hasChild(&quot;song&quot;)){\r\n                String song_url = (String) snapshot.child(&quot;song&quot;).getValue();\r\n               \r\n                Log.d(&quot;tansen&quot;,&quot;[SUCCESS] url: &quot;+song_url);\r\n            }\r\n            else{\r\n                Log.d(&quot;tansen&quot;,&quot;[FAILURE] snapshot.hasChild()&quot;);\r\n            }\r\n        }\r\n        else{\r\n            Log.d(&quot;tansen&quot;,&quot;[FAILURE] snapshot.hasChildren()&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError error) {\r\n\r\n    }\r\n};\r\nFirebaseDatabase database = FirebaseDatabase.getInstance();\r\nDatabaseReference dbRef = database.getReference(&quot;/tansen-37eb3-default-rtdb/song&quot;);\r\ndbRef.addValueEventListener(changeListener);\r\n```\r\n","title":"Unable to read data from Firebase Realtime database","body":"<p>Just trying to get url the url that I have stored in that node. It is a audio file url that I have stored in the storage.</p>\n<pre><code>ValueEventListener changeListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot snapshot) {\n        String change = snapshot.getValue(String.class);\n        if(snapshot.hasChildren()){\n            if(snapshot.hasChild(&quot;song&quot;)){\n                String song_url = (String) snapshot.child(&quot;song&quot;).getValue();\n               \n                Log.d(&quot;tansen&quot;,&quot;[SUCCESS] url: &quot;+song_url);\n            }\n            else{\n                Log.d(&quot;tansen&quot;,&quot;[FAILURE] snapshot.hasChild()&quot;);\n            }\n        }\n        else{\n            Log.d(&quot;tansen&quot;,&quot;[FAILURE] snapshot.hasChildren()&quot;);\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError error) {\n\n    }\n};\nFirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference dbRef = database.getReference(&quot;/tansen-37eb3-default-rtdb/song&quot;);\ndbRef.addValueEventListener(changeListener);\n</code></pre>\n"},{"tags":["java","apache-camel","activemq"],"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":2,"creation_date":1600412619,"post_id":63950509,"comment_id":113085255,"body_markdown":"Did you disable caching and reduce the pre-fetch, as shown in the documentation you linked? Respecting message priorities with slow consumers is often a challenge, because the priority selection and caching mechanisms are somewhat in conflict with one another.","body":"Did you disable caching and reduce the pre-fetch, as shown in the documentation you linked? Respecting message priorities with slow consumers is often a challenge, because the priority selection and caching mechanisms are somewhat in conflict with one another."},{"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"score":0,"creation_date":1600413379,"post_id":63950509,"comment_id":113085545,"body_markdown":"Yes I set :\nprioritizedMessages=&quot;true&quot; useCache=&quot;false&quot; queuePrefetch=&quot;1&quot;\nI also noticed this old parameter that I kept expireMessagesPeriod=&quot;0&quot;","body":"Yes I set : prioritizedMessages=&quot;true&quot; useCache=&quot;false&quot; queuePrefetch=&quot;1&quot; I also noticed this old parameter that I kept expireMessagesPeriod=&quot;0&quot;"},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":1,"creation_date":1600415215,"post_id":63950509,"comment_id":113086307,"body_markdown":"With the documented settings, I find I can produce a thousand messages with priority 4, then one with priority 9, no consumers running. Then I connect a consumer, and I get the priority-9 message first. Do you see a different sequence of events with this test? Does the problem depend on some particular pattern of production and consumption in your system? The priority mechanism does seem to be basically working for me.","body":"With the documented settings, I find I can produce a thousand messages with priority 4, then one with priority 9, no consumers running. Then I connect a consumer, and I get the priority-9 message first. Do you see a different sequence of events with this test? Does the problem depend on some particular pattern of production and consumption in your system? The priority mechanism does seem to be basically working for me."},{"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"score":0,"creation_date":1600422498,"post_id":63950509,"comment_id":113089875,"body_markdown":"I did your test. publish low prio message, publish high prio message. Start consumers.\nIn this case indeed it worked well.\nI let the system run to consume all high prio messages. After that  the queue still contained thousands of low prio messages. I added then few high prio messages. It worked but only after a while. I had to wait about 30 minutes. I have to see if it can be related to some kahadb timings / checkpoints or something else. Thanks for you help in any case","body":"I did your test. publish low prio message, publish high prio message. Start consumers. In this case indeed it worked well. I let the system run to consume all high prio messages. After that  the queue still contained thousands of low prio messages. I added then few high prio messages. It worked but only after a while. I had to wait about 30 minutes. I have to see if it can be related to some kahadb timings / checkpoints or something else. Thanks for you help in any case"},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":1,"creation_date":1600423358,"post_id":63950509,"comment_id":113090268,"body_markdown":"I suspect it&#39;s just the result of paging behaviour. You might need set `maxPageSize` for the queue to a much lower of much higher value. Depending on the circumstances, either might help, for different reasons. Or just use different queues for different priorities ;)","body":"I suspect it&#39;s just the result of paging behaviour. You might need set <code>maxPageSize</code> for the queue to a much lower of much higher value. Depending on the circumstances, either might help, for different reasons. Or just use different queues for different priorities ;)"},{"owner":{"account_id":2672970,"reputation":331,"user_id":2309920,"display_name":"Viral Lalakia"},"score":0,"creation_date":1600513152,"post_id":63950509,"comment_id":113115552,"body_markdown":"@greg, you have reduced `queuePrefetch` as per KevinBoone&#39;s suggestion and you are using `queuePrefetch=1`. I would suggest to use `queuePrefetch=0`. I have had similar issue in the past where I was using `queuePrefetch=1` which was the reason behind each consumer working on a task and having one more message lined up for that particular consumer only. This pre-fetched message will be the next message for that consumer regardless new high priority message in the queue. So if you have 1000 consumers, each will have one message pre-fetched and new high priority message won&#39;t be picked up ASAP.","body":"@greg, you have reduced <code>queuePrefetch</code> as per KevinBoone&#39;s suggestion and you are using <code>queuePrefetch=1</code>. I would suggest to use <code>queuePrefetch=0</code>. I have had similar issue in the past where I was using <code>queuePrefetch=1</code> which was the reason behind each consumer working on a task and having one more message lined up for that particular consumer only. This pre-fetched message will be the next message for that consumer regardless new high priority message in the queue. So if you have 1000 consumers, each will have one message pre-fetched and new high priority message won&#39;t be picked up ASAP."},{"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"score":0,"creation_date":1601637590,"post_id":63950509,"comment_id":113474843,"body_markdown":"Thanks I will try with 0 !!","body":"Thanks I will try with 0 !!"}],"owner":{"account_id":5655489,"reputation":308,"user_id":4474819,"display_name":"greg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642434157,"creation_date":1600411173,"question_id":63950509,"body_markdown":"I push the messages in a  queue with different priorities. I can see that the JMSpriority header is correctly set using the ActiveMQ web interface. \r\n\r\nHere is my test. I first push big amount of messages with low priority in the queue. We have a slow consumer &quot;pattern&quot; so all messages starts to accumulates and are properly enqueued. KahaDB is used for storage.\r\nThen I push high priority messages.\r\n\r\nThe issue is that as long as I don&#39;t click on the queue to display the messages in the activeMQ web interface the messages are not sorted, and high priority messages are not dispatched to the consumers. As soon as I click on the queue, I immediately see a page refresh that results in the proper sorting, seeing high priority message on the top. This messages will be then dispatched asap and &quot;disappear&quot; from the enqueued message list, as expected.\r\n\r\nSo obviously there is something wrong somewhere since prioritisation involve this manual step. I I used the configuration as described here https://activemq.apache.org/how-can-i-support-priority-queues.\r\n\r\nI already think about a workaround using JMX to force a queue sort, but really I&#39;d like to avoid this !\r\n\r\nI&#39;am using AMQ version 5.15, spring and camel.","title":"ActiveMQ prioritisation strange behaviour","body":"<p>I push the messages in a  queue with different priorities. I can see that the JMSpriority header is correctly set using the ActiveMQ web interface.</p>\n<p>Here is my test. I first push big amount of messages with low priority in the queue. We have a slow consumer &quot;pattern&quot; so all messages starts to accumulates and are properly enqueued. KahaDB is used for storage.\nThen I push high priority messages.</p>\n<p>The issue is that as long as I don't click on the queue to display the messages in the activeMQ web interface the messages are not sorted, and high priority messages are not dispatched to the consumers. As soon as I click on the queue, I immediately see a page refresh that results in the proper sorting, seeing high priority message on the top. This messages will be then dispatched asap and &quot;disappear&quot; from the enqueued message list, as expected.</p>\n<p>So obviously there is something wrong somewhere since prioritisation involve this manual step. I I used the configuration as described here <a href=\"https://activemq.apache.org/how-can-i-support-priority-queues\" rel=\"nofollow noreferrer\">https://activemq.apache.org/how-can-i-support-priority-queues</a>.</p>\n<p>I already think about a workaround using JMX to force a queue sort, but really I'd like to avoid this !</p>\n<p>I'am using AMQ version 5.15, spring and camel.</p>\n"},{"tags":["java","jaxb"],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1503432508,"creation_date":1377546996,"answer_id":18452018,"question_id":18451870,"body_markdown":"When marshalling to an `OutputStream` using a combination of the following produces the expected output.\r\n\r\n        marshaller.setProperty(&quot;com.sun.xml.bind.xmlHeaders&quot;, &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot;);\r\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n\r\nThe problem you are seeing occurs when you marshal to a `Writer`, which appears to be a bug in the JAXB reference implementation.  You can raise an issue at the link below:\r\n\r\n  - https://java.net/jira/browse/JAXB/\r\n\r\n---\r\n\r\nYou could always do:\r\n\r\n    JAXBContext context;\r\n\r\n    try {\r\n        context = JAXBContext.newInstance(heartbeat.getClass());\r\n        StringWriter writer = new StringWriter();\r\n        writer.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot;);\r\n        Marshaller marshaller = context.createMarshaller();\r\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n\r\n        heartbeat.setHeader(header);\r\n        heartbeat.setHeartbeatEvent(event);\r\n\r\n        marshaller.marshal(heartbeat, writer);\r\n        String stringXML = writer.toString();\r\n        return stringXML;\r\n\r\n    } catch (JAXBException e) {\r\n        throw new RuntimeException(&quot;Problems generating XML in specified &quot;\r\n                + &quot;encoding, underlying problem is &quot; + e.getMessage(),\r\n                e);\r\n    }\r\n\r\n\r\n---\r\n\r\n[**EclipseLink JAXB (MOXy)**][1] also supports the `com.sun.xml.bind.xmlHeaders` and it works correctly when marshalling to a `Writer` (I&#39;m the MOXy lead)\r\n\r\n  - http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/#moxy","title":"Altering the XML header produced by the JAXB marshaller","body":"<p>When marshalling to an <code>OutputStream</code> using a combination of the following produces the expected output.</p>\n\n<pre><code>    marshaller.setProperty(\"com.sun.xml.bind.xmlHeaders\", \"&lt;?xml version=\\\"1.0\\\"?&gt;\");\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n</code></pre>\n\n<p>The problem you are seeing occurs when you marshal to a <code>Writer</code>, which appears to be a bug in the JAXB reference implementation.  You can raise an issue at the link below:</p>\n\n<ul>\n<li><a href=\"https://java.net/jira/browse/JAXB/\" rel=\"noreferrer\">https://java.net/jira/browse/JAXB/</a></li>\n</ul>\n\n<hr>\n\n<p>You could always do:</p>\n\n<pre><code>JAXBContext context;\n\ntry {\n    context = JAXBContext.newInstance(heartbeat.getClass());\n    StringWriter writer = new StringWriter();\n    writer.append(\"&lt;?xml version=\\\"1.0\\\"?&gt;\");\n    Marshaller marshaller = context.createMarshaller();\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n\n    heartbeat.setHeader(header);\n    heartbeat.setHeartbeatEvent(event);\n\n    marshaller.marshal(heartbeat, writer);\n    String stringXML = writer.toString();\n    return stringXML;\n\n} catch (JAXBException e) {\n    throw new RuntimeException(\"Problems generating XML in specified \"\n            + \"encoding, underlying problem is \" + e.getMessage(),\n            e);\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://www.eclipse.org/eclipselink/#moxy\" rel=\"noreferrer\"><strong>EclipseLink JAXB (MOXy)</strong></a> also supports the <code>com.sun.xml.bind.xmlHeaders</code> and it works correctly when marshalling to a <code>Writer</code> (I'm the MOXy lead)</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html\" rel=\"noreferrer\">http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6480648,"reputation":119,"user_id":5017767,"display_name":"Gopi Krishna"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1443717653,"creation_date":1443717168,"answer_id":32892565,"question_id":18451870,"body_markdown":"This worked for me\r\n&gt; `marshaller.setProperty(&quot;com.sun.xml.internal.bind.xmlHeaders&quot;, \r\n&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;);`","title":"Altering the XML header produced by the JAXB marshaller","body":"<p>This worked for me</p>\n\n<blockquote>\n  <p><code>marshaller.setProperty(\"com.sun.xml.internal.bind.xmlHeaders\", \n  \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\");</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1826042,"reputation":31,"user_id":3256398,"display_name":"plejaden"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642434080,"creation_date":1642432759,"answer_id":70743671,"question_id":18451870,"body_markdown":"In JAXB 3.0.1 the above mentioned constants cause a PropertyException:\r\n\r\n     jakarta.xml.bind.PropertyException: name: com.sun.xml.bind.xmlDeclaration value: false\r\n\r\nIn this case, the XML preamble can be configured with these marshaller constants:\r\n\r\n    marshaller.setProperty(&quot;org.glassfish.jaxb.xmlHeaders&quot;, &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; ?&gt;&quot;);\r\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\r\n\r\n - https://eclipse-ee4j.github.io/jaxb-ri/3.0.0/docs/ch05.html","title":"Altering the XML header produced by the JAXB marshaller","body":"<p>In JAXB 3.0.1 the above mentioned constants cause a PropertyException:</p>\n<pre><code> jakarta.xml.bind.PropertyException: name: com.sun.xml.bind.xmlDeclaration value: false\n</code></pre>\n<p>In this case, the XML preamble can be configured with these marshaller constants:</p>\n<pre><code>marshaller.setProperty(&quot;org.glassfish.jaxb.xmlHeaders&quot;, &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; ?&gt;&quot;);\nmarshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);\n</code></pre>\n<ul>\n<li><a href=\"https://eclipse-ee4j.github.io/jaxb-ri/3.0.0/docs/ch05.html\" rel=\"nofollow noreferrer\">https://eclipse-ee4j.github.io/jaxb-ri/3.0.0/docs/ch05.html</a></li>\n</ul>\n"}],"owner":{"account_id":1944634,"reputation":2303,"user_id":1750067,"accept_rate":69,"display_name":"JME"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38660,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":18452018,"answer_count":3,"score":11,"last_activity_date":1642434080,"creation_date":1377546447,"question_id":18451870,"body_markdown":"I am currently using the following code to marshal an object into an xml string\r\n\r\n        JAXBContext context;\r\n        \r\n        try {\r\n            context = JAXBContext.newInstance(heartbeat.getClass());\r\n            StringWriter writer = new StringWriter();\r\n            Marshaller marshaller = context.createMarshaller();\r\n            \r\n            heartbeat.setHeader(header);\r\n            heartbeat.setHeartbeatEvent(event);\r\n            \r\n            marshaller.marshal(heartbeat, writer);\r\n            String stringXML = writer.toString();\r\n            return stringXML;\r\n    \r\n        } catch (JAXBException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Problems generating XML in specified &quot;\r\n\t\t\t\t\t+ &quot;encoding, underlying problem is &quot; + e.getMessage(),\r\n\t\t\t\t\te);\r\n        }\r\n\r\nWhich produces the following header\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\r\nMy desired output is the following\r\n\r\n    &lt;?xml version=\\&quot;1.0\\&quot;?&gt;\r\n\r\nBy adding this to the marshaller\r\n\r\n    marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.FALSE);\r\n    marshaller.setProperty(&quot;com.sun.xml.bind.xmlHeaders&quot;, &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot;);\r\n \r\nI receive\r\n \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\r\nand changing the JAXB_FRAGMENT property to TRUE removes the header entirely. I have been following the https://stackoverflow.com/questions/277996/jaxb-remove-standalone-yes-from-generated-xml thread attempting to solve the problem but I have had no luck so far. Can someone please give me some insight on how to get my desired header from the JAXB marshaller?\r\n","title":"Altering the XML header produced by the JAXB marshaller","body":"<p>I am currently using the following code to marshal an object into an xml string</p>\n\n<pre><code>    JAXBContext context;\n\n    try {\n        context = JAXBContext.newInstance(heartbeat.getClass());\n        StringWriter writer = new StringWriter();\n        Marshaller marshaller = context.createMarshaller();\n\n        heartbeat.setHeader(header);\n        heartbeat.setHeartbeatEvent(event);\n\n        marshaller.marshal(heartbeat, writer);\n        String stringXML = writer.toString();\n        return stringXML;\n\n    } catch (JAXBException e) {\n        throw new RuntimeException(\"Problems generating XML in specified \"\n                + \"encoding, underlying problem is \" + e.getMessage(),\n                e);\n    }\n</code></pre>\n\n<p>Which produces the following header</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n</code></pre>\n\n<p>My desired output is the following</p>\n\n<pre><code>&lt;?xml version=\\\"1.0\\\"?&gt;\n</code></pre>\n\n<p>By adding this to the marshaller</p>\n\n<pre><code>marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.FALSE);\nmarshaller.setProperty(\"com.sun.xml.bind.xmlHeaders\", \"&lt;?xml version=\\\"1.0\\\"?&gt;\");\n</code></pre>\n\n<p>I receive</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;&lt;?xml version=\"1.0\"?&gt;\n</code></pre>\n\n<p>and changing the JAXB_FRAGMENT property to TRUE removes the header entirely. I have been following the <a href=\"https://stackoverflow.com/questions/277996/jaxb-remove-standalone-yes-from-generated-xml\">JAXB - Remove &#39;standalone=&quot;yes&quot;&#39; from generated XML</a> thread attempting to solve the problem but I have had no luck so far. Can someone please give me some insight on how to get my desired header from the JAXB marshaller?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642433671,"creation_date":1642433671,"answer_id":70743856,"question_id":70743763,"body_markdown":"There are several ways of solving this, popular options are:\r\n\r\n1. Don&#39;t do a separate SELECT, just issue a DELETE. And if you get OptimisticLockException from Hibernate, then you know for sure the record didn&#39;t exist. It looks like you&#39;re using Spring Data, you can either create a `@Modifying` method for this or just use `repo.getOne()` instead of `repo.findXxx()`.\r\n2. Use Repeatable Read isolation level - the database should return an error if another transaction updated the record concurrently. Eg. here are [PostgreSQL docs][1] (technically in PG this is a Snapshot isolation level though).\r\n3. Use pessimistic locking with `select .. for update`, this will not allow DML operations to proceed with the row until it&#39;s unlocked (transaction is finished).\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/transaction-iso.html#XACT-REPEATABLE-READ","title":"How can I prevent Race Condition","body":"<p>There are several ways of solving this, popular options are:</p>\n<ol>\n<li>Don't do a separate SELECT, just issue a DELETE. And if you get OptimisticLockException from Hibernate, then you know for sure the record didn't exist. It looks like you're using Spring Data, you can either create a <code>@Modifying</code> method for this or just use <code>repo.getOne()</code> instead of <code>repo.findXxx()</code>.</li>\n<li>Use Repeatable Read isolation level - the database should return an error if another transaction updated the record concurrently. Eg. here are <a href=\"https://www.postgresql.org/docs/current/transaction-iso.html#XACT-REPEATABLE-READ\" rel=\"nofollow noreferrer\">PostgreSQL docs</a> (technically in PG this is a Snapshot isolation level though).</li>\n<li>Use pessimistic locking with <code>select .. for update</code>, this will not allow DML operations to proceed with the row until it's unlocked (transaction is finished).</li>\n</ol>\n"}],"owner":{"account_id":22184313,"reputation":3,"user_id":16427502,"display_name":"Mannualky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642433671,"creation_date":1642433222,"question_id":70743763,"body_markdown":"How can I prevent Race Condition in this method:\r\n\r\n    @Lock\r\n     public boolean delete(int id) {\r\n        someEntity byId = someRepository.findById(id).orElseThrow(() -&gt; new NotFoundException());\r\n        someRepository.delete(byId);\r\n        return true;\r\n    }\r\n\r\nI have done @Lock\r\n\r\n    @Aspect\r\n    @Component\r\n    @EnableAspectJAutoProxy\r\n    public class LockAspect {\r\n        private final ReentrantLock reentrantLock;\r\n\r\n    public LockAspect() {\r\n        reentrantLock = new ReentrantLock();\r\n    }\r\n\r\n    @Around(&quot;@annotation(com.example.aspect.Lock)&quot;)\r\n    public void aroundDelete(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\r\n        reentrantLock.lock();\r\n        try {\r\n            proceedingJoinPoint.proceed();\r\n        } finally {\r\n            reentrantLock.unlock();\r\n        }\r\n    }\r\n\r\nBut this lock only blocks the app not really solves the problem the same with \r\n\r\nAlso I was thing about `@Transactional(isolation=Isolation.REPEATABLE_READ)` or `@Transactional(isolation= Isolation.SERIALIZABLE)` annotation above the `delete` method  but I&#39;m not sure if that will solve the problem. It is spring app.","title":"How can I prevent Race Condition","body":"<p>How can I prevent Race Condition in this method:</p>\n<pre><code>@Lock\n public boolean delete(int id) {\n    someEntity byId = someRepository.findById(id).orElseThrow(() -&gt; new NotFoundException());\n    someRepository.delete(byId);\n    return true;\n}\n</code></pre>\n<p>I have done @Lock</p>\n<pre><code>@Aspect\n@Component\n@EnableAspectJAutoProxy\npublic class LockAspect {\n    private final ReentrantLock reentrantLock;\n\npublic LockAspect() {\n    reentrantLock = new ReentrantLock();\n}\n\n@Around(&quot;@annotation(com.example.aspect.Lock)&quot;)\npublic void aroundDelete(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n    reentrantLock.lock();\n    try {\n        proceedingJoinPoint.proceed();\n    } finally {\n        reentrantLock.unlock();\n    }\n}\n</code></pre>\n<p>But this lock only blocks the app not really solves the problem the same with</p>\n<p>Also I was thing about <code>@Transactional(isolation=Isolation.REPEATABLE_READ)</code> or <code>@Transactional(isolation= Isolation.SERIALIZABLE)</code> annotation above the <code>delete</code> method  but I'm not sure if that will solve the problem. It is spring app.</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":143938,"reputation":6057,"user_id":352636,"accept_rate":97,"display_name":"Stephen"},"score":2,"creation_date":1281617978,"post_id":3467860,"comment_id":3617435,"body_markdown":"Yesterday&#39;s date in what format? As a Calendar object? As a string? As a util.Date? As a sql.Date?","body":"Yesterday&#39;s date in what format? As a Calendar object? As a string? As a util.Date? As a sql.Date?"}],"answers":[{"tags":[],"owner":{"account_id":1059,"reputation":8462,"user_id":1406,"accept_rate":85,"display_name":"Thierry Roy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281617998,"creation_date":1281617998,"answer_id":3467881,"question_id":3467860,"body_markdown":"Use [Joda-Time][1]:\r\n\r\n    new org.joda.time.DateTime().minusDays(1).toDate();\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>Use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda-Time</a>:</p>\n\n<pre><code>new org.joda.time.DateTime().minusDays(1).toDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160547,"reputation":7975,"user_id":380691,"accept_rate":86,"display_name":"Shawn D."},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1281618378,"creation_date":1281618378,"answer_id":3467933,"question_id":3467860,"body_markdown":"Can&#39;t you do something like \r\n\r\n    new Date( new Date().getTime() - 86400000 );\r\n\r\nto get the current time, subtract the # of milliseconds in a day, and build a new date object from that?","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>Can't you do something like </p>\n\n<pre><code>new Date( new Date().getTime() - 86400000 );\n</code></pre>\n\n<p>to get the current time, subtract the # of milliseconds in a day, and build a new date object from that?</p>\n"},{"tags":[],"owner":{"account_id":143938,"reputation":6057,"user_id":352636,"accept_rate":97,"display_name":"Stephen"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1281619747,"creation_date":1281618485,"answer_id":3467949,"question_id":3467860,"body_markdown":"Assuming you want a `java.util.Date` object (since you used `getTime()` in your question and that returns a `java.util.Date`), you could do:\r\n\r\n    // Get yesterday&#39;s date. System.currentTimeMillis() returns the\r\n    // number of milliseconds between the epoch and today, and the\r\n    // 86400000 is the number of milliseconds in a day.\r\n    new Date(System.currentTimeMillis() - 86400000);\r\n\r\n\r\nOops, didn&#39;t see your first day of the month query before. I came up with the following to get that using `util.Date`, but I think this is about the time you want to switch to using `Joda` or `Calendar`... (dear SO, please don&#39;t vote me down for the horrendousness of the following...)\r\n\r\n    // This will return the day of the week as an integer, 0 to 6.\r\n    new Date(System.currentTimeMillis() - ((new Date().getDate()-1) * 86400000)).getDay();","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>Assuming you want a <code>java.util.Date</code> object (since you used <code>getTime()</code> in your question and that returns a <code>java.util.Date</code>), you could do:</p>\n\n<pre><code>// Get yesterday's date. System.currentTimeMillis() returns the\n// number of milliseconds between the epoch and today, and the\n// 86400000 is the number of milliseconds in a day.\nnew Date(System.currentTimeMillis() - 86400000);\n</code></pre>\n\n<p>Oops, didn't see your first day of the month query before. I came up with the following to get that using <code>util.Date</code>, but I think this is about the time you want to switch to using <code>Joda</code> or <code>Calendar</code>... (dear SO, please don't vote me down for the horrendousness of the following...)</p>\n\n<pre><code>// This will return the day of the week as an integer, 0 to 6.\nnew Date(System.currentTimeMillis() - ((new Date().getDate()-1) * 86400000)).getDay();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1281630520,"creation_date":1281629752,"answer_id":3469745,"question_id":3467860,"body_markdown":"If it really has to be a one-liner and it doesn&#39;t matter if the code is understandable, I think the following statement should work:\r\n\r\n    Date yesterday = new SimpleDateFormat(&quot;yyyyMMdd&quot;).parse(\r\n        &quot;&quot;+(Integer.parseInt(new SimpleDateFormat(&quot;yyyyMMdd&quot;).format(new Date()))-1));\r\n\r\nIt formats the current date as &quot;yyyyMMdd&quot;, e.g. &quot;20100812&quot; for today, parses it as an int: 20100812, subtracts one: 20100811, and then parses the date &quot;20100811&quot; using the previous format. It will also work if today is the first of a month, since the 0th of a month is parsed by a lenient DateFormat as the last day of the previous month.\r\n\r\nThe format &quot;yyyyDDD&quot; ought to work as well (D being day of year).\r\n\r\nFor the first day of the current month, you can use a similar trick:\r\n\r\n    Date firstday = new SimpleDateFormat(&quot;yyyyMMdd&quot;).parse(\r\n        new SimpleDateFormat(&quot;yyyyMM&quot;).format(new Date())+&quot;01&quot;);","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>If it really has to be a one-liner and it doesn't matter if the code is understandable, I think the following statement should work:</p>\n\n<pre><code>Date yesterday = new SimpleDateFormat(\"yyyyMMdd\").parse(\n    \"\"+(Integer.parseInt(new SimpleDateFormat(\"yyyyMMdd\").format(new Date()))-1));\n</code></pre>\n\n<p>It formats the current date as \"yyyyMMdd\", e.g. \"20100812\" for today, parses it as an int: 20100812, subtracts one: 20100811, and then parses the date \"20100811\" using the previous format. It will also work if today is the first of a month, since the 0th of a month is parsed by a lenient DateFormat as the last day of the previous month.</p>\n\n<p>The format \"yyyyDDD\" ought to work as well (D being day of year).</p>\n\n<p>For the first day of the current month, you can use a similar trick:</p>\n\n<pre><code>Date firstday = new SimpleDateFormat(\"yyyyMMdd\").parse(\n    new SimpleDateFormat(\"yyyyMM\").format(new Date())+\"01\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":706131,"reputation":9,"user_id":610260,"display_name":"Shalini Pabreja"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326533529,"creation_date":1297277985,"answer_id":4949230,"question_id":3467860,"body_markdown":"This should be done as follows:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal .add(Calendar.DAY_OF_MONTH,-1);\r\n    cal .getTime();\r\n\r\nWhen you are doing this:\r\n\r\n    Calendar.getInstance().add(Calendar.DAY_OF_MONTH,-1).getTime()\r\n\r\nYou are essentially asking a method (`add()`) that returns void to run `.getTime()`. That can&#39;t work.\r\n","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>This should be done as follows:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal .add(Calendar.DAY_OF_MONTH,-1);\ncal .getTime();\n</code></pre>\n\n<p>When you are doing this:</p>\n\n<pre><code>Calendar.getInstance().add(Calendar.DAY_OF_MONTH,-1).getTime()\n</code></pre>\n\n<p>You are essentially asking a method (<code>add()</code>) that returns void to run <code>.getTime()</code>. That can't work.</p>\n"},{"tags":[],"owner":{"account_id":5858289,"reputation":1,"user_id":4614873,"display_name":"Andres Arenas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425048271,"creation_date":1425045987,"answer_id":28766972,"question_id":3467860,"body_markdown":"This is what I use in JasperReports:\r\n\r\n    // Today\r\n    new java.util.Date().format(&#39;yyyy-MM-dd&#39;)\r\n    // Yesterday\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date()-1)\r\n\r\n    // First Day of current month\r\n    new java.util.Date().format(&#39;yyyy&#39;) + &quot;-&quot; + new java.util.Date().format(&#39;MM&#39;) + &quot;-01&quot;\r\n\r\nI prefer to use the ISO format `YYYY-MM-DD` because is recognized everywhere and avoid the regional formats confusion (`dd/mm` position on the date field).","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>This is what I use in JasperReports:</p>\n\n<pre><code>// Today\nnew java.util.Date().format('yyyy-MM-dd')\n// Yesterday\nnew SimpleDateFormat(\"yyyy-MM-dd\").format(new Date()-1)\n\n// First Day of current month\nnew java.util.Date().format('yyyy') + \"-\" + new java.util.Date().format('MM') + \"-01\"\n</code></pre>\n\n<p>I prefer to use the ISO format <code>YYYY-MM-DD</code> because is recognized everywhere and avoid the regional formats confusion (<code>dd/mm</code> position on the date field).</p>\n"},{"tags":[],"owner":{"account_id":8886975,"reputation":21,"user_id":6634937,"display_name":"Darko Margetic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642433614,"creation_date":1642432717,"answer_id":70743657,"question_id":3467860,"body_markdown":"    //Yesterday\t(LocalDate)\r\n    java.time.LocalDate.now().minusDays(1)\r\n    \r\n    //Yesterday\t(java.sql.Date)\r\n    java.sql.Date.valueOf( java.time.LocalDate.now().minusDays(1) )\r\n    \r\n    //Yesterday\t(java.util.Date)\r\n    java.util.Date.from( java.time.LocalDate.now().minusDays(1).atStartOfDay(java.time.ZoneId.systemDefault()).toInstant() )\r\n    \r\n    \r\n    //First day of current month (LocalDate)\r\n    java.time.LocalDate.now().withDayOfMonth(1)\r\n    \r\n    //First day of current month (java.sql.Date)\r\n    java.sql.Date.valueOf( java.time.LocalDate.now().withDayOfMonth(1) )\r\n    \r\n    //First day of current month (java.util.Date)\r\n    java.util.Date.from( java.time.LocalDate.now().withDayOfMonth(1).atStartOfDay(java.time.ZoneId.systemDefault()).toInstant() )\r\n\r\n","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<pre><code>//Yesterday (LocalDate)\njava.time.LocalDate.now().minusDays(1)\n\n//Yesterday (java.sql.Date)\njava.sql.Date.valueOf( java.time.LocalDate.now().minusDays(1) )\n\n//Yesterday (java.util.Date)\njava.util.Date.from( java.time.LocalDate.now().minusDays(1).atStartOfDay(java.time.ZoneId.systemDefault()).toInstant() )\n\n\n//First day of current month (LocalDate)\njava.time.LocalDate.now().withDayOfMonth(1)\n\n//First day of current month (java.sql.Date)\njava.sql.Date.valueOf( java.time.LocalDate.now().withDayOfMonth(1) )\n\n//First day of current month (java.util.Date)\njava.util.Date.from( java.time.LocalDate.now().withDayOfMonth(1).atStartOfDay(java.time.ZoneId.systemDefault()).toInstant() )\n</code></pre>\n"}],"owner":{"account_id":116255,"reputation":847,"user_id":304910,"accept_rate":67,"display_name":"chun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9121,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3469745,"answer_count":7,"score":5,"last_activity_date":1642433614,"creation_date":1281617864,"question_id":3467860,"body_markdown":"i am using a reporting tools which only support one line expression\r\n\r\nBy example I want to get the Date of yesterday \r\n\r\nthe class Calendar has a add method, but it returns void so\r\n\r\n    Calendar.getInstance().add(Calendar.DAY_OF_MONTH,-1).getTime()\r\n\r\ndidn&#39;t work\r\n\r\ndon&#39;t know how to get this done\r\n\r\nThanks","title":"Only one expression to get the Date of yesterday and the first day of month","body":"<p>i am using a reporting tools which only support one line expression</p>\n\n<p>By example I want to get the Date of yesterday </p>\n\n<p>the class Calendar has a add method, but it returns void so</p>\n\n<pre><code>Calendar.getInstance().add(Calendar.DAY_OF_MONTH,-1).getTime()\n</code></pre>\n\n<p>didn't work</p>\n\n<p>don't know how to get this done</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1642257949,"post_id":70722096,"comment_id":125025313,"body_markdown":"If I have to guess, it would be an encoding issue in the operating system.   Netbeans is probably using the proper encoding (For example UTF_16) in its settings","body":"If I have to guess, it would be an encoding issue in the operating system.   Netbeans is probably using the proper encoding (For example UTF_16) in its settings"},{"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"score":0,"creation_date":1642258186,"post_id":70722096,"comment_id":125025372,"body_markdown":"How do I change the encoding in NetBeans","body":"How do I change the encoding in NetBeans"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1642258317,"post_id":70722096,"comment_id":125025412,"body_markdown":"Why do you want to change NetBeans..it is working properly there..  You need to see how you are working with Strings in your java code (Used for translations), are you doing any encoding specifically, for example new String (..., UTF-16), or are you depending on the OS encoding?\n\nPlease see https://stackoverflow.com/questions/4133195/how-to-change-file-encoding-in-netbeans for netbeans..  Also if you are using Maven, or Gradle, then you can set resource encoding there as well","body":"Why do you want to change NetBeans..it is working properly there..  You need to see how you are working with Strings in your java code (Used for translations), are you doing any encoding specifically, for example new String (..., UTF-16), or are you depending on the OS encoding?  Please see <a href=\"https://stackoverflow.com/questions/4133195/how-to-change-file-encoding-in-netbeans\" title=\"how to change file encoding in netbeans\">stackoverflow.com/questions/4133195/&hellip;</a> for netbeans..  Also if you are using Maven, or Gradle, then you can set resource encoding there as well"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1642258685,"post_id":70722096,"comment_id":125025507,"body_markdown":"@SMA If it’s the same characters appearing in reverse order, it has nothing to do with UTF-16 or any other charset.  It’s more likely the [ComponentOrientation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#applyComponentOrientation(java.awt.ComponentOrientation)).","body":"@SMA If it’s the same characters appearing in reverse order, it has nothing to do with UTF-16 or any other charset.  It’s more likely the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Container.html#applyComponentOrientation(java.awt.ComponentOrientation)\" rel=\"nofollow noreferrer\">ComponentOrientation</a>."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1642259067,"post_id":70722096,"comment_id":125025592,"body_markdown":"@VGR You might be correct, however that would be strange if the ComponentOrientation acts different in Netbeans vs OS...it would be interesting to find out, but you make a valid point","body":"@VGR You might be correct, however that would be strange if the ComponentOrientation acts different in Netbeans vs OS...it would be interesting to find out, but you make a valid point"},{"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"score":0,"creation_date":1642259452,"post_id":70722096,"comment_id":125025679,"body_markdown":"@VGR You are right, but what is the solution?","body":"@VGR You are right, but what is the solution?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642259713,"post_id":70722096,"comment_id":125025749,"body_markdown":"Try adding this right before you call `pack()` on your Frame:  `frame.applyComponentOrientation(ComponentOrientation.getOrientation(Locale.getDefault()));`  (I assume the default locale of everyone running an Arabic application will be a right-to-left locale.)","body":"Try adding this right before you call <code>pack()</code> on your Frame:  <code>frame.applyComponentOrientation(ComponentOrientation.getOrie&zwnj;&#8203;ntation(Locale.getDe&zwnj;&#8203;fault()));</code>  (I assume the default locale of everyone running an Arabic application will be a right-to-left locale.)"},{"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"score":0,"creation_date":1642259824,"post_id":70722096,"comment_id":125025771,"body_markdown":"But guys, have you noticed that some of the JLabel are reversed and some are not, and this is strange and confusing in the matter","body":"But guys, have you noticed that some of the JLabel are reversed and some are not, and this is strange and confusing in the matter"},{"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"score":0,"creation_date":1642260162,"post_id":70722096,"comment_id":125025844,"body_markdown":"@VGR I put the code in formWindowOpened it shows me an error in the word frame which is at the beginning","body":"@VGR I put the code in formWindowOpened it shows me an error in the word frame which is at the beginning"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642261004,"post_id":70722096,"comment_id":125026043,"body_markdown":"Replace `frame` with the variable which contains your Frame or JFrame.  If you are extending Frame or JFrame directly, use `this`.","body":"Replace <code>frame</code> with the variable which contains your Frame or JFrame.  If you are extending Frame or JFrame directly, use <code>this</code>."},{"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"score":0,"creation_date":1642261402,"post_id":70722096,"comment_id":125026168,"body_markdown":"JFrame.applyComponentOrientation(ComponentOrientation.getOrientation(Locale.getDefault()));\n        // Frame name is orders\n        orders.applyComponentOrientation(ComponentOrientation.getOrientation(Locale.getDefault()));\n\n\nWrite it in the first way, or the second way, or the other way, because the two give me an error, knowing that the name of the frame is orders","body":"JFrame.applyComponentOrientation(ComponentOrientation.getOri&zwnj;&#8203;entation(Locale.getD&zwnj;&#8203;efault()));         // Frame name is orders         orders.applyComponentOrientation(ComponentOrientation.getOri&zwnj;&#8203;entation(Locale.getD&zwnj;&#8203;efault()));   Write it in the first way, or the second way, or the other way, because the two give me an error, knowing that the name of the frame is orders"}],"answers":[{"tags":[],"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642431706,"creation_date":1642431706,"answer_id":70743421,"question_id":70722096,"body_markdown":"Well guys, I finally discovered the error which is the font type. I put the font type in NetBeans **(Times New Roman)**\r\nAnd I discovered that NetBeans supports this type of font, but Windows does not support it, so it makes the sheep inverted and only this problem and I hope that no one will fall into this slander after me: and it is better to use this type of font **(Tahoma)** because all devices support it And it does not show any problem, thank you","title":"Arabic text reversed when I build the project in NetBeans","body":"<p>Well guys, I finally discovered the error which is the font type. I put the font type in NetBeans <strong>(Times New Roman)</strong>\nAnd I discovered that NetBeans supports this type of font, but Windows does not support it, so it makes the sheep inverted and only this problem and I hope that no one will fall into this slander after me: and it is better to use this type of font <strong>(Tahoma)</strong> because all devices support it And it does not show any problem, thank you</p>\n"}],"owner":{"account_id":20534299,"reputation":39,"user_id":17113149,"display_name":"Youssef Ahmed"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70743421,"answer_count":1,"score":1,"last_activity_date":1642433238,"creation_date":1642255145,"question_id":70722096,"body_markdown":"When I run my project under NetBeans it works, and the Arabic text is formatted correctly. But when I build the project and send it to the client, the Arabic text is reversed.\r\n\r\nThe same thing also happens to me. When I open the jar file of the project, I see that the language is reversed. I need a solution knowing that Arabic words are written inside jLabel.\r\n\r\nWhen I run the project from within NetBeans, these are the correct results:\r\n\r\n![NetBeans Run Result][1]\r\n\r\nAnd these are the incorrect results when I open the jar file after building the project:\r\n\r\n![jar File Result After Building The Project][2]\r\n\r\n  [1]: https://i.stack.imgur.com/JklT0.jpg\r\n  [2]: https://i.stack.imgur.com/ToK4b.jpg\r\n\r\n\r\n","title":"Arabic text reversed when I build the project in NetBeans","body":"<p>When I run my project under NetBeans it works, and the Arabic text is formatted correctly. But when I build the project and send it to the client, the Arabic text is reversed.</p>\n<p>The same thing also happens to me. When I open the jar file of the project, I see that the language is reversed. I need a solution knowing that Arabic words are written inside jLabel.</p>\n<p>When I run the project from within NetBeans, these are the correct results:</p>\n<p><img src=\"https://i.stack.imgur.com/JklT0.jpg\" alt=\"NetBeans Run Result\" /></p>\n<p>And these are the incorrect results when I open the jar file after building the project:</p>\n<p><img src=\"https://i.stack.imgur.com/ToK4b.jpg\" alt=\"jar File Result After Building The Project\" /></p>\n"},{"tags":["java","gif","stddraw"],"comments":[{"owner":{"account_id":124071,"reputation":2551,"user_id":318937,"accept_rate":72,"display_name":"Jubstuff"},"score":0,"creation_date":1543700566,"post_id":53575083,"comment_id":94014868,"body_markdown":"Hi @TheProgrammeur! It would be great if you could write us in the question what you tried so far, so that people can help you on your specific issue :)","body":"Hi @TheProgrammeur! It would be great if you could write us in the question what you tried so far, so that people can help you on your specific issue :)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1543740575,"post_id":53575083,"comment_id":94021040,"body_markdown":"What on earth is `stdDraw`? Which GUI component toolkit is being used (e.g. Swing, AWT, Java-FX..)? For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"What on earth is <code>stdDraw</code>? Which GUI component toolkit is being used (e.g. Swing, AWT, Java-FX..)? For better help sooner, <a href=\"https://stackoverflow.com/posts/53575083/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":14862745,"reputation":1,"user_id":10732963,"display_name":"TheProgrammeur"},"score":0,"creation_date":1543788410,"post_id":53575083,"comment_id":94033632,"body_markdown":"&lt;pre&gt;\nStdDraw.setCanvasSize(700, 700);\nStdDraw.enableDoubleBuffering();\nStdDraw.picture(0.5, 0.5, &quot;./image/planet.gif&quot;);\nStdDraw.show();\n&lt;code&gt;\n\nThis doesn&#39;t work but if I put a &#39;.jpg&#39; it&#39;s good why ?","body":"&lt;pre&gt; StdDraw.setCanvasSize(700, 700); StdDraw.enableDoubleBuffering(); StdDraw.picture(0.5, 0.5, &quot;./image/planet.gif&quot;); StdDraw.show(); &lt;code&gt;  This doesn&#39;t work but if I put a &#39;.jpg&#39; it&#39;s good why ?"},{"owner":{"account_id":12430311,"reputation":101,"user_id":10227439,"display_name":"Orion"},"score":0,"creation_date":1546368767,"post_id":53575083,"comment_id":94833273,"body_markdown":"@Andrew it&#39;s a library developed by Princeton for educational purposes https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html","body":"@Andrew it&#39;s a library developed by Princeton for educational purposes <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1546368929,"post_id":53575083,"comment_id":94833314,"body_markdown":"*&quot;This doesn&#39;t work but ..&quot;* Tip: Add @Jubstuff (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;This doesn&#39;t work but ..&quot;</i> Tip: Add @Jubstuff (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."}],"answers":[{"tags":[],"owner":{"account_id":486952,"reputation":271,"user_id":2104705,"display_name":"Wojciech Domalewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642433228,"creation_date":1642433228,"answer_id":70743764,"question_id":53575083,"body_markdown":"All you need to show a gif is a single declaration, where xPos and yPos are image coordinates with respect to lower left corner of window.\r\n\r\n    \r\n    StdDraw.picture(xPos,yPos, &quot;image.gif&quot;);\r\n\r\nI hope you know that default coordinates of the right top corner are (1, 1).\r\n\r\nImage should be saved in project&#39;s home directory.","title":"StdDraw - Java - Show a gif","body":"<p>All you need to show a gif is a single declaration, where xPos and yPos are image coordinates with respect to lower left corner of window.</p>\n<pre><code>StdDraw.picture(xPos,yPos, &quot;image.gif&quot;);\n</code></pre>\n<p>I hope you know that default coordinates of the right top corner are (1, 1).</p>\n<p>Image should be saved in project's home directory.</p>\n"}],"owner":{"account_id":14862745,"reputation":1,"user_id":10732963,"display_name":"TheProgrammeur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642433228,"creation_date":1543698655,"question_id":53575083,"body_markdown":"I&#39;m making a game and I want show a gif with the stdDraw method but this doesn&#39;t work. So if someone can explain me a method to show a gif with stdDraw, this will be cool !","title":"StdDraw - Java - Show a gif","body":"<p>I'm making a game and I want show a gif with the stdDraw method but this doesn't work. So if someone can explain me a method to show a gif with stdDraw, this will be cool !</p>\n"},{"tags":["java","spring-boot","spring-mvc","logging","microservices"],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642433132,"creation_date":1642433132,"answer_id":70743747,"question_id":70743551,"body_markdown":"It&#39;s a little unclear what your current log setup is, but I&#39;ll assume you&#39;ve got a vanilla out of the box spring boot logging (using default logback impl, no logging config in place).\r\n\r\nFirst, the ref doc for this is found here: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-logging.html\r\n\r\nWhat you&#39;re trying to do is customize the pattern or layout.  The docs for doing this in logback (the spring boot default logging impl) are here: https://logback.qos.ch/manual/layouts.html\r\n\r\nThe easiest way is to add the property `logging.pattern.console` to your application.properties.  Note that if you have an additional logging config in your app (e.g. there&#39;s a file named `logback.xml` or similar in your app) this won&#39;t work.\r\n\r\nThe default console pattern for spring boot is, I believe,\r\n\r\n    %d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${sys:PID} --- [%15.15t] %-40.40logger{1.} : %m%n%wEx\r\n\r\nSo to Add what you want would be something like:\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${sys:PID} --- [%15.15t] %-40.40logger{1.} : Amigo %m%n%wEx\r\n\r\nNote, I haven&#39;t tested this so you may need to fiddle a bit.","title":"Trying to append a string as prefix to all existing loggers for SpringBoot application","body":"<p>It's a little unclear what your current log setup is, but I'll assume you've got a vanilla out of the box spring boot logging (using default logback impl, no logging config in place).</p>\n<p>First, the ref doc for this is found here: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-logging.html</a></p>\n<p>What you're trying to do is customize the pattern or layout.  The docs for doing this in logback (the spring boot default logging impl) are here: <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html</a></p>\n<p>The easiest way is to add the property <code>logging.pattern.console</code> to your application.properties.  Note that if you have an additional logging config in your app (e.g. there's a file named <code>logback.xml</code> or similar in your app) this won't work.</p>\n<p>The default console pattern for spring boot is, I believe,</p>\n<pre><code>%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${sys:PID} --- [%15.15t] %-40.40logger{1.} : %m%n%wEx\n</code></pre>\n<p>So to Add what you want would be something like:</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${sys:PID} --- [%15.15t] %-40.40logger{1.} : Amigo %m%n%wEx\n</code></pre>\n<p>Note, I haven't tested this so you may need to fiddle a bit.</p>\n"}],"owner":{"account_id":13566887,"reputation":1,"user_id":9786648,"display_name":"Latha Voggu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642433132,"creation_date":1642432294,"question_id":70743551,"body_markdown":"I am being new to the spring-boot application, I have a scenario where I need to add a string as a prefix for existing loggers in the current application. I tried [this solution][1], but it didn&#39;t work for me. Can anyone help me out with this?\r\n\r\nex: logger.info(&quot;Started Test Application...&quot;) ==&gt; Started Test Application...\r\nneed to add a string of &quot;Amigo&quot; as a prefix   ==&gt; Amigo Started Test Application...\r\n\r\nmostly I wanted to add that string to all existing logs at one go. any simple solution instead of adding manually to all loggers.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47670234/adding-string-prefix-to-every-log-message-in-spring-mvc-log4j","title":"Trying to append a string as prefix to all existing loggers for SpringBoot application","body":"<p>I am being new to the spring-boot application, I have a scenario where I need to add a string as a prefix for existing loggers in the current application. I tried <a href=\"https://stackoverflow.com/questions/47670234/adding-string-prefix-to-every-log-message-in-spring-mvc-log4j\">this solution</a>, but it didn't work for me. Can anyone help me out with this?</p>\n<p>ex: logger.info(&quot;Started Test Application...&quot;) ==&gt; Started Test Application...\nneed to add a string of &quot;Amigo&quot; as a prefix   ==&gt; Amigo Started Test Application...</p>\n<p>mostly I wanted to add that string to all existing logs at one go. any simple solution instead of adding manually to all loggers.</p>\n"},{"tags":["java","android","google-play","admob","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444606584,"creation_date":1444606584,"answer_id":33071286,"question_id":33071159,"body_markdown":"You need to add a rule for the Ad view, set it to &quot;below&quot; the gl surface view.\r\n    \r\n    \r\n    int id = 173; //random number\r\n    mGLSurfaceView.setId(id);\r\n    params.addRule(RelativeLayout.BELOW, id);\r\n\r\nIf using API level 17+ you can use:\r\n\r\n    View.generateViewId()\r\n\r\nOr reserve that number in xml.","title":"admob ad banner overlapping my game screen android","body":"<p>You need to add a rule for the Ad view, set it to \"below\" the gl surface view.</p>\n\n<pre><code>int id = 173; //random number\nmGLSurfaceView.setId(id);\nparams.addRule(RelativeLayout.BELOW, id);\n</code></pre>\n\n<p>If using API level 17+ you can use:</p>\n\n<pre><code>View.generateViewId()\n</code></pre>\n\n<p>Or reserve that number in xml.</p>\n"}],"owner":{"account_id":5393986,"reputation":21,"user_id":4295709,"accept_rate":33,"display_name":"Randa Lethpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642433067,"creation_date":1444605658,"question_id":33071159,"body_markdown":"i successfully integrated admob ads but i have an issue about placing banner ad under the screen of the game without overlapping the view of my game my current problem is like the picture [Pic 1][1] and i want it to be like this picture \r\n\r\nThanks\r\n[Cute Baby Girl Names][2]\r\n[Pic2][3]\r\n\r\nNB:im using java admob code this is my code \r\n\r\n    package com.xxxx.xxxxx;\r\n    import org.cocos2d.actions.CCActionManager;\r\n    import org.cocos2d.layers.CCScene;\r\n    import org.cocos2d.nodes.CCDirector;\r\n    import org.cocos2d.nodes.CCSpriteFrameCache;\r\n    import org.cocos2d.nodes.CCTextureCache;\r\n    import org.cocos2d.opengl.CCGLSurfaceView;\r\n    import org.cocos2d.sound.SoundEngine;\r\n    import com.google.android.gms.ads.AdRequest;\r\n    import com.google.android.gms.ads.AdSize;\r\n    import com.google.android.gms.ads.AdView;\r\n    import com.google.android.gms.ads.InterstitialAd;\r\n    import com.ideastudio.incroyableAventuresAlaadin.R;\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.app.AlertDialog.Builder;\r\n    import android.content.DialogInterface;\r\n    import android.os.Bundle;\r\n    import android.util.DisplayMetrics;\r\n    import android.view.KeyEvent;\r\n    import android.view.ViewGroup.LayoutParams;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.WindowManager;\r\n    import android.widget.RelativeLayout;\r\n\r\n    public class xxxxxx extends Activity{\r\n\t/** Called when the activity is first created. */\r\n\t\r\n\tpublic static xxxxx app;\r\n\t\r\n\tpublic static CCGLSurfaceView mGLSurfaceView;\r\n\tprivate boolean isCreated = false; \r\n\r\n\tprivate static final String AD_UNIT_ID = &quot;ca-app-pub-xxxxxxxx&quot;;\r\n\tprivate static final String AD_INTERSTITIAL_UNIT_ID = &quot;ca-app-pub-xxxxx&quot;;\r\n\t\r\n\t/** The interstitial ad. */\r\n\tprivate InterstitialAd interstitialAd;\r\n\tprivate AdView adView = null;\r\n\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tif( !isCreated ){\r\n\t\t\tisCreated = true;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tapp = this;\r\n\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n\t\tgetWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n\t\t\t\tWindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n\t\tRelativeLayout layout = new RelativeLayout(this);\r\n\t\tlayout.setLayoutParams(new RelativeLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));\r\n\t\t\r\n\t\t\r\n\t\tmGLSurfaceView = new CCGLSurfaceView(this);\r\n\t\t\r\n\t\t\r\n\t\t// Create the adView\r\n\t\tadView = new AdView(this);\r\n\t\tadView.setAdSize(AdSize.BANNER);\r\n\t\tadView.setAdUnitId(AD_UNIT_ID);\r\n\r\n\t\t// Add the adView to it\r\n\t\tRelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(\r\n\t\t\t\tLayoutParams.WRAP_CONTENT,\r\n\t\t\t\tLayoutParams.WRAP_CONTENT);\r\n\t\tparams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM ,RelativeLayout.TRUE);\r\n        params.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\r\n\t\tadView.setLayoutParams(params);\r\n\t\t\r\n\t\tlayout.addView(mGLSurfaceView);\r\n\t\tlayout.addView(adView);\r\n\t\t\r\n\t\tsetContentView(layout);\r\n\t\t\r\n\t\t\r\n\t\t// Create an ad request. Check logcat output for the hashed device ID to\r\n\t    // get test ads on a physical device.\r\n\t \t\tAdRequest adRequest = new AdRequest.Builder().build();\r\n\t \t\tadView.loadAd(adRequest);\r\n    \r\n \t\t//-----------------------------------------------------Interstitial Add\r\n \t\t// Create an Interstitial ad.\r\n \t    interstitialAd = new InterstitialAd(this);\r\n \t    interstitialAd.setAdUnitId(AD_INTERSTITIAL_UNIT_ID);\r\n \t\t // Load the interstitial ad.\r\n \t    AdRequest interstitialAdRequest = new AdRequest.Builder().build();\r\n \t    interstitialAd.loadAd(interstitialAdRequest);\r\n \t    \r\n \t    /////////////////////////////////////////////////////////////////////////////\r\n\t\tCommon.game_initialize();\r\n\t\tgetScaledCoordinate();\r\n\t\tCCDirector.sharedDirector().attachInView(mGLSurfaceView); \r\n\r\n\t\t// attach the OpenGL view to a window\r\n\t\tCommon.sound_engine = SoundEngine.sharedEngine();\r\n\t\tloadSound();\r\n\r\n\t\tCCScene scene = CCScene.node();\r\n\t\tscene.addChild(new HelloWorldLayer(), 1);\r\n\t\tCCDirector.sharedDirector().runWithScene(scene);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStart() {\r\n\t\tsuper.onStart();\r\n\t}\r\n\r\n\t@Override    \r\n\tpublic void onPause() {\r\n\t\tif (adView != null) {\r\n\t\t      adView.pause();\r\n\t\t    }\r\n\t\t\r\n\t\t\r\n\t\tsuper.onPause();\r\n\r\n\t\tMediaGlobal._shared().pauseMusic();\r\n\r\n\t\tif(GameLayer.sharedGameLayer() != null){\r\n\t\t\tGameLayer.sharedGameLayer().onPause(null);\r\n\t\t}\r\n\t\tCCDirector.sharedDirector().pause();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onResume() {\r\n\t\tsuper.onResume();\r\n\r\n        if (adView != null) {\r\n\t        adView.resume();\r\n\t      }\r\n        \r\n\t\tMediaGlobal._shared().resumeMusic();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onDestroy() {\r\n\t\t\r\n\t\tif (adView != null) {\r\n\t  \t      adView.destroy();\r\n\t  \t    }\r\n\t  \t    \r\n\t\t\r\n\t\tisCreated = false;\r\n\r\n\t\tMediaGlobal._shared().stopMusic();\r\n\t\tCommon.sound_engine.realesAllEffects();\r\n\r\n\t\tsuper.onDestroy();\r\n\t\tCCDirector.sharedDirector().end();       \r\n\r\n\t\tCCTextureCache.sharedTextureCache().removeAllTextures();\r\n\t\tCCTextureCache.sharedTextureCache().removeAllTextures();\r\n\t\tCCSpriteFrameCache.sharedSpriteFrameCache().removeAllSpriteFrames();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\t\tif(keyCode == KeyEvent.KEYCODE_BACK){\r\n\t\t\texitGameDialog();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn super.onKeyDown(keyCode, event);\r\n\t}\r\n\r\n\tpublic void exitGameDialog() {\r\n\t\tBuilder builder = new AlertDialog.Builder(FlyingPanda.this)\r\n\t\t\t\t.setIcon(R.drawable.icon)\r\n\t\t\t\t.setTitle(&quot;Quitter le jeu?&quot;)\r\n\t\t\t\t.setMessage(&quot;Est-vous s&#251;r?&quot;)\r\n\t\t\t\t.setNegativeButton(&quot;Non&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.setPositiveButton(&quot;Oui&quot;,\r\n\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\tint whichButton) {\r\n\t\t\t\t\t\t\t\tCCActionManager.sharedManager()\r\n\t\t\t\t\t\t\t\t\t\t.removeAllActions();\r\n\t\t\t\t\t\t\t\tCCDirector.sharedDirector().end();\r\n\t\t\t\t\t\t\t\tfinish();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\tbuilder.create().show();\r\n\t}\r\n\r\n\tprivate void loadSound() {\r\n\t\tSoundEngine.purgeSharedEngine();\r\n\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.bomb);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.bounce);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.death);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.fly);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.gamebg);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.gameover);\r\n\t\tCommon.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.jumppad);\r\n\t}\r\n\r\n\tprivate void getScaledCoordinate() {\r\n\t\tDisplayMetrics displayMetrics = new DisplayMetrics();\r\n\t\tgetWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n\r\n\t\tCommon.SCREEN_WIDTH = displayMetrics.widthPixels;\r\n\t\tCommon.SCREEN_HEIGHT = displayMetrics.heightPixels;\r\n\t\tCommon.kXForIPhone = Common.SCREEN_WIDTH / 480.0f;\r\n\t\tCommon.kYForIPhone = Common.SCREEN_HEIGHT / 320.0f;\r\n\t}\r\n\r\n\r\n    // Admob Setting\r\n \t////////////////////////////////////////////////////////////////////////////////\r\n\r\n \tpublic void setHideAdView(final boolean bHide) {\r\n \t\trunOnUiThread(new Runnable() {\r\n \t\t    public void run() {\r\n \t\t    \tif(bHide) {\r\n \t\t\t\t\tadView.setVisibility(View.INVISIBLE);\r\n \t\t\t\t}\r\n \t\t\t\telse {\r\n \t\t\t\t\tadView.setVisibility(View.VISIBLE);\r\n \t\t\t\t}\r\n \t\t    }\r\n \t\t});\r\n \t\t\r\n \t\t\r\n \t}\r\n\r\n \tpublic void showInterstitialAds()\r\n \t{\r\n \t\trunOnUiThread(new Runnable() {\r\n \t\t    public void run() {\r\n\r\n \t\t \t    // Load the interstitial ad.\r\n \t\t \t    AdRequest interstitialAdRequest = new AdRequest.Builder().build();\r\n \t\t \t    interstitialAd.loadAd(interstitialAdRequest);\r\n \t\t \t\t\r\n \t\t\t\tinterstitialAd.show();\r\n \t\t    }\r\n \t\t});\r\n \t}\r\n\t\r\n      }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HI9by.png\r\n  [2]: https://www.mygirlynames.com/\r\n  [3]: http://i.stack.imgur.com/niGH6.png","title":"admob ad banner overlapping my game screen android","body":"<p>i successfully integrated admob ads but i have an issue about placing banner ad under the screen of the game without overlapping the view of my game my current problem is like the picture <a href=\"https://i.stack.imgur.com/HI9by.png\" rel=\"nofollow noreferrer\">Pic 1</a> and i want it to be like this picture</p>\n<p>Thanks\n<a href=\"https://www.mygirlynames.com/\" rel=\"nofollow noreferrer\">Cute Baby Girl Names</a>\n<a href=\"https://i.stack.imgur.com/niGH6.png\" rel=\"nofollow noreferrer\">Pic2</a></p>\n<p>NB:im using java admob code this is my code</p>\n<pre><code>package com.xxxx.xxxxx;\nimport org.cocos2d.actions.CCActionManager;\nimport org.cocos2d.layers.CCScene;\nimport org.cocos2d.nodes.CCDirector;\nimport org.cocos2d.nodes.CCSpriteFrameCache;\nimport org.cocos2d.nodes.CCTextureCache;\nimport org.cocos2d.opengl.CCGLSurfaceView;\nimport org.cocos2d.sound.SoundEngine;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdSize;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.InterstitialAd;\nimport com.ideastudio.incroyableAventuresAlaadin.R;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.AlertDialog.Builder;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.util.DisplayMetrics;\nimport android.view.KeyEvent;\nimport android.view.ViewGroup.LayoutParams;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.widget.RelativeLayout;\n\npublic class xxxxxx extends Activity{\n/** Called when the activity is first created. */\n\npublic static xxxxx app;\n\npublic static CCGLSurfaceView mGLSurfaceView;\nprivate boolean isCreated = false; \n\nprivate static final String AD_UNIT_ID = &quot;ca-app-pub-xxxxxxxx&quot;;\nprivate static final String AD_INTERSTITIAL_UNIT_ID = &quot;ca-app-pub-xxxxx&quot;;\n\n/** The interstitial ad. */\nprivate InterstitialAd interstitialAd;\nprivate AdView adView = null;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    if( !isCreated ){\n        isCreated = true;\n    } else {\n        return;\n    }\n    \n    app = this;\n\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    RelativeLayout layout = new RelativeLayout(this);\n    layout.setLayoutParams(new RelativeLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));\n    \n    \n    mGLSurfaceView = new CCGLSurfaceView(this);\n    \n    \n    // Create the adView\n    adView = new AdView(this);\n    adView.setAdSize(AdSize.BANNER);\n    adView.setAdUnitId(AD_UNIT_ID);\n\n    // Add the adView to it\n    RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(\n            LayoutParams.WRAP_CONTENT,\n            LayoutParams.WRAP_CONTENT);\n    params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM ,RelativeLayout.TRUE);\n    params.addRule(RelativeLayout.CENTER_HORIZONTAL, RelativeLayout.TRUE);\n    adView.setLayoutParams(params);\n    \n    layout.addView(mGLSurfaceView);\n    layout.addView(adView);\n    \n    setContentView(layout);\n    \n    \n    // Create an ad request. Check logcat output for the hashed device ID to\n    // get test ads on a physical device.\n        AdRequest adRequest = new AdRequest.Builder().build();\n        adView.loadAd(adRequest);\n\n    //-----------------------------------------------------Interstitial Add\n    // Create an Interstitial ad.\n    interstitialAd = new InterstitialAd(this);\n    interstitialAd.setAdUnitId(AD_INTERSTITIAL_UNIT_ID);\n     // Load the interstitial ad.\n    AdRequest interstitialAdRequest = new AdRequest.Builder().build();\n    interstitialAd.loadAd(interstitialAdRequest);\n    \n    /////////////////////////////////////////////////////////////////////////////\n    Common.game_initialize();\n    getScaledCoordinate();\n    CCDirector.sharedDirector().attachInView(mGLSurfaceView); \n\n    // attach the OpenGL view to a window\n    Common.sound_engine = SoundEngine.sharedEngine();\n    loadSound();\n\n    CCScene scene = CCScene.node();\n    scene.addChild(new HelloWorldLayer(), 1);\n    CCDirector.sharedDirector().runWithScene(scene);\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n}\n\n@Override    \npublic void onPause() {\n    if (adView != null) {\n          adView.pause();\n        }\n    \n    \n    super.onPause();\n\n    MediaGlobal._shared().pauseMusic();\n\n    if(GameLayer.sharedGameLayer() != null){\n        GameLayer.sharedGameLayer().onPause(null);\n    }\n    CCDirector.sharedDirector().pause();\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n\n    if (adView != null) {\n        adView.resume();\n      }\n    \n    MediaGlobal._shared().resumeMusic();\n}\n\n@Override\npublic void onDestroy() {\n    \n    if (adView != null) {\n          adView.destroy();\n        }\n        \n    \n    isCreated = false;\n\n    MediaGlobal._shared().stopMusic();\n    Common.sound_engine.realesAllEffects();\n\n    super.onDestroy();\n    CCDirector.sharedDirector().end();       \n\n    CCTextureCache.sharedTextureCache().removeAllTextures();\n    CCTextureCache.sharedTextureCache().removeAllTextures();\n    CCSpriteFrameCache.sharedSpriteFrameCache().removeAllSpriteFrames();\n}\n\n@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if(keyCode == KeyEvent.KEYCODE_BACK){\n        exitGameDialog();\n        return false;\n    }\n    return super.onKeyDown(keyCode, event);\n}\n\npublic void exitGameDialog() {\n    Builder builder = new AlertDialog.Builder(FlyingPanda.this)\n            .setIcon(R.drawable.icon)\n            .setTitle(&quot;Quitter le jeu?&quot;)\n            .setMessage(&quot;Est-vous sûr?&quot;)\n            .setNegativeButton(&quot;Non&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int whichButton) {\n                }\n            })\n            .setPositiveButton(&quot;Oui&quot;,\n                    new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog,\n                                int whichButton) {\n                            CCActionManager.sharedManager()\n                                    .removeAllActions();\n                            CCDirector.sharedDirector().end();\n                            finish();\n                        }\n                    });\n    builder.create().show();\n}\n\nprivate void loadSound() {\n    SoundEngine.purgeSharedEngine();\n\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.bomb);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.bounce);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.death);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.fly);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.gamebg);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.gameover);\n    Common.sound_engine.preloadEffect(CCDirector.sharedDirector().getActivity().getApplication(), R.raw.jumppad);\n}\n\nprivate void getScaledCoordinate() {\n    DisplayMetrics displayMetrics = new DisplayMetrics();\n    getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n\n    Common.SCREEN_WIDTH = displayMetrics.widthPixels;\n    Common.SCREEN_HEIGHT = displayMetrics.heightPixels;\n    Common.kXForIPhone = Common.SCREEN_WIDTH / 480.0f;\n    Common.kYForIPhone = Common.SCREEN_HEIGHT / 320.0f;\n}\n\n\n// Admob Setting\n////////////////////////////////////////////////////////////////////////////////\n\npublic void setHideAdView(final boolean bHide) {\n    runOnUiThread(new Runnable() {\n        public void run() {\n            if(bHide) {\n                adView.setVisibility(View.INVISIBLE);\n            }\n            else {\n                adView.setVisibility(View.VISIBLE);\n            }\n        }\n    });\n    \n    \n}\n\npublic void showInterstitialAds()\n{\n    runOnUiThread(new Runnable() {\n        public void run() {\n\n            // Load the interstitial ad.\n            AdRequest interstitialAdRequest = new AdRequest.Builder().build();\n            interstitialAd.loadAd(interstitialAdRequest);\n            \n            interstitialAd.show();\n        }\n    });\n}\n\n  }\n</code></pre>\n"},{"tags":["java","multithreading","collections","java.util.concurrent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642201170,"post_id":70717426,"comment_id":125016927,"body_markdown":"The simple answer is performance, `synchronisation` has a cost, even the [JavaDocs (for `Vector`)](https://docs.oracle.com/javase/10/docs/api/java/util/Vector.html) suggest using `ArrayList` where thread safety is not an issue - *&quot;Vector is synchronized. If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;*","body":"The simple answer is performance, <code>synchronisation</code> has a cost, even the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">JavaDocs (for <code>Vector</code>)</a> suggest using <code>ArrayList</code> where thread safety is not an issue - <i>&quot;Vector is synchronized. If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;</i>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642201213,"post_id":70717426,"comment_id":125016939,"body_markdown":"You might also find [Why are synchronize expensive in Java?](https://stackoverflow.com/questions/1671089/why-are-synchronize-expensive-in-java) useful","body":"You might also find <a href=\"https://stackoverflow.com/questions/1671089/why-are-synchronize-expensive-in-java\">Why are synchronize expensive in Java?</a> useful"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1642201312,"post_id":70717426,"comment_id":125016961,"body_markdown":"Part of the issue is that `Collections.synchronizedList` does not create a new synchronized list, it simply wraps the existing `ArrayList` functions with a mutex. Try using `Vector` instead. It might be a bit faster. However, it will probably end up being a little slower.","body":"Part of the issue is that <code>Collections.synchronizedList</code> does not create a new synchronized list, it simply wraps the existing <code>ArrayList</code> functions with a mutex. Try using <code>Vector</code> instead. It might be a bit faster. However, it will probably end up being a little slower."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":2,"creation_date":1642201440,"post_id":70717426,"comment_id":125016994,"body_markdown":"The JVM also uses a system of biasing locks to a single thread. This lets it pretend a synchronized object is not synchronized when it is only accessed from a single thread. However, this comes with the downside of being slower than a regular lock if it later needs to be accessed by another thread. This optimization is likely why you don&#39;t see a large difference in performance.","body":"The JVM also uses a system of biasing locks to a single thread. This lets it pretend a synchronized object is not synchronized when it is only accessed from a single thread. However, this comes with the downside of being slower than a regular lock if it later needs to be accessed by another thread. This optimization is likely why you don&#39;t see a large difference in performance."},{"owner":{"account_id":15892507,"reputation":193,"user_id":13874918,"display_name":"al pal"},"score":0,"creation_date":1642205367,"post_id":70717426,"comment_id":125017650,"body_markdown":"@Locke I am using preview version of JDK19 and seems that biased locking has been disabled since jdk15 (https://quarkus.io/blog/biased-locking-help/). The interesting thing is that if I use 2 threads it wouldn&#39;t degrade the performance at all!","body":"@Locke I am using preview version of JDK19 and seems that biased locking has been disabled since jdk15 (<a href=\"https://quarkus.io/blog/biased-locking-help/\" rel=\"nofollow noreferrer\">quarkus.io/blog/biased-locking-help</a>). The interesting thing is that if I use 2 threads it wouldn&#39;t degrade the performance at all!"},{"owner":{"account_id":15892507,"reputation":193,"user_id":13874918,"display_name":"al pal"},"score":0,"creation_date":1642206605,"post_id":70717426,"comment_id":125017821,"body_markdown":"@Locke I even tried it with HashMap. And with multiple threads(tried up to 7 threads on my 10 core Mac), the performance gets not worse but better as opposed to non-synchronized single thread case!","body":"@Locke I even tried it with HashMap. And with multiple threads(tried up to 7 threads on my 10 core Mac), the performance gets not worse but better as opposed to non-synchronized single thread case!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642234432,"post_id":70717426,"comment_id":125020855,"body_markdown":"@alpal &quot;_I have run the following code to measure the time and performance difference between adding elements to ArrayList vs synchronized version of it, and surprisingly haven&#39;t find any significant difference!_&quot; this is a very arrogant statement and kind of laughable considering that this has been analyzed and benchmarked by probably thousands of software engineers and all of them concluded the opposite. And you ended your statement with an exclamation point! LOL","body":"@alpal &quot;<i>I have run the following code to measure the time and performance difference between adding elements to ArrayList vs synchronized version of it, and surprisingly haven&#39;t find any significant difference!</i>&quot; this is a very arrogant statement and kind of laughable considering that this has been analyzed and benchmarked by probably thousands of software engineers and all of them concluded the opposite. And you ended your statement with an exclamation point! LOL"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642432906,"creation_date":1642215038,"answer_id":70718524,"question_id":70717426,"body_markdown":"`synchronization`, when it is actually used, really does cost. However, hotspot is pretty decent at realizing that a mutex isn&#39;t actually doing anything useful and eliminating it. That&#39;s what you&#39;re seeing.\r\n\r\nSo, why isn&#39;t `ArrayList` just synchronized out of the box / why isn&#39;t the advice &#39;use Vector, not ArrayList&#39;? Many separate reasons:\r\n\r\n1. Most important take-home reason (the rest is just historic peculiarity): Because a synchronized list is mostly useless. See below.\r\n\r\n2. __Modern day__ JVMs are pretty good at eliminating synchronized where it doesn&#39;t do anything. Which is why you are having a hard time using simple timing code to see any difference. But that wasn&#39;t always the case. ArrayList was introduced in java 1.2. Vector (a synchronized arraylist with a different API) is older than that: 1.0. ArrayList was introduced for 2 separate reasons: Partly to clean up that API, and partly because &#39;synchronize it!&#39; was slow. __NOW__ it is no longer slow, but Java 1.2 is [23 years old](https://en.wikipedia.org/wiki/Java_version_history). Rerun your code on java 1.2 if you can find it anywhere and report back to me :)\r\n3. Everything about Vector is deprecated, obsolete, and non-idiomatic. Part of that is simply &#39;because&#39;. 23 years ago, the advice &#39;use ArrayList, not Vector&#39; was correct for a bunch of reasons. Including &quot;Because it is faster&quot; (even if that is no longer true today). Now the reason to use ArrayList and not Vector is mostly: &quot;Because ArrayList is what everybody is familiar with, Vector is not, when in rome act like romans, don&#39;t rock the boat for no reason whatsoever&quot;. This shows up in all sorts of pragmatic ways: The name &#39;Vector&#39; is now being reused in the java ecosystem for something completely different (accessing hardware registers that aren&#39;t exactly 64-bit, part of Project Panama), for example.\r\n\r\n---\r\n\r\nWhy is a synchronized list mostly useless?\r\n\r\na non-synchronized (&#39;thread safe&#39;) implementation breaks completely; the spec says: Anything can happen. A synchronized (&#39;thread safe&#39;) implementation does not break completely; instead, you get 1 of a permutation of options, with no guarantees whatsoever about which ones are more or less likely. __That&#39;s not really more useful than utter chaos, though!__ For example, if I write this code:\r\n\r\n```\r\nList a = new Vector&lt;String&gt;();\r\nThread x = new Thread(() -&gt; a.add(&quot;Hello&quot;));\r\nThread y = new Thread(() -&gt; a.add(&quot;World&quot;));\r\nx.start();\r\ny.start();\r\nx.join();\r\ny.join();\r\nSystem.out.println(a);\r\n```\r\n\r\nThen it is legal for this app to print `[Hello, World]`, but it is also legal for this app to print `[World, Hello]`. __There is no way to know__, and a VM is free to always return the one, or always return the other, or flip a coin, or make it depend on the phase of the moon. Vector is synchronized and this is still useless to me. Nobody wants to write algorithms that need to deal with a combinatory explosion of permutations!!\r\n\r\nWith ArrayList, however, which is not &#39;thread safe&#39;, it gets much much worse. There are way more permutations here. The JVM can do any of these without breaking spec:\r\n\r\n* [Hello, World]\r\n* [World, Hello]\r\n* [Hello]\r\n* [World]\r\n* [null, Hello]\r\n* [World, World]\r\n* []\r\n* [WhatTheHeckReally]\r\n* pause, play the macarena over the speaker system, then crash.\r\n\r\nAnything goes - the spec says the behaviour is unspecified. In practice, the first 4 are all entirely possible.\r\n\r\nAvoiding this mess is good, but the permutations that the synchronized Vector offers is just.. less bad. But still bad, so who cares? You want this code to be 100% reliable: You want code to do the same thing every time (unless I _want_ randomness, but then use `java.util.Random` which has specs that explicitly spell out how it is random. Threads are free to be non-random, so if you MUST have randomness, you can&#39;t use that either).\r\n\r\nIn order to make stuff reliable, the operation needs to be either done by the object itself (you call ONE method and that is the only interaction your thread does with it), or, you need external locks.\r\n\r\nFor example, if I want put &#39;1&#39; in a hashmap for a key that isn&#39;t htere yet, and increment the number if it is, this code __DOES NOT WORK__:\r\n\r\n```\r\nMap&lt;String, Integer&gt; myMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n\r\n...\r\n\r\nString k = ...;\r\nif (myMap.containsKey(k)) myMap.put(k, myMap.get(k) + 1);\r\nelse myMap.put(k, 1);\r\n```\r\n\r\nSeems fine? Nope, broken:\r\n\r\n* Thread 1 calls myMap.containsKey and sees the answer is `false`.\r\n* Thread 1 so happens to get pre-empted and freezes right there, after the if, before the `put`.\r\n* Thread 2 runs, and increments for the same key. It, too, finds `myMap,containsKey` returning false. It therefore runs `myMap.put(k, 1)`.\r\n* Thread 1 continues running, and runs.. `myMap.put(k, 1)`\r\n* The map now contains `k = 1`, even though `incrementFor(k)` was run __twice__. Your app is broken.\r\n\r\nSee? Synchronization? It was completely useless here. What you want is either a lock:\r\n\r\n```\r\nsynchronized (something) {\r\n  String k = ...;\r\n  if (myMap.containsKey(k)) myMap.put(k, myMap.get(k) + 1);\r\n  else myMap.put(k, 1);\r\n}\r\n```\r\n\r\nand this is completely fine - no matter how had you try running `incrementFor(k)` simultaneously, it&#39;ll dutifully count every invocation, or, better yet, we ask the map to do it for us, to have a map that just _has_ an increment function or similar. `HashMap` does not. I guess `Collections.synchronizedList` could return an object that has extra methods, but as the name suggest, that implementation then neccessarily uses locking, and there are more efficient ways to do it.\r\n\r\nThis task is better done with `ConcurrentHashMap`, and using the right method:\r\n\r\n```\r\nConcurrentHashMap&lt;String, Integer&gt; myMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n...\r\n\r\nmyMap.merge(k, 1, (a, b) -&gt; a + b);\r\n```\r\n\r\nThat does it in __one__ call. (merge is the same as `.put(k, 1)` if k isn&#39;t in the map already, but if it is, it is the same as `.put(k, RESULT)` where RESULT is the result of running `a + b` where a is &#39;what was in the map&#39; and &#39;b&#39; is the value you are trying to add (So, 1, in this case).\r\n\r\nA non-synchronized list can still mess up a single call, but if your &#39;job&#39; involves more than one call, a synchronized one in the sense of e.g. `Collections.synchronizedMap` or `j.u.Vector` __cannot__ safely do this.\r\n\r\nAnd that&#39;s, in the end, why the advice is to not use synchronized stuff - even though it is probably not really a performance issue, there is almost no point in doing it. If you actually have concurrency needs it is unlikely that synchronizing the thing internally is going to help you, and in the case where it does, it&#39;s somewhat likely that some more specific type in the `java.util.concurrent` package can do it faster (because when concurrency _IS_ happening, `synchronized` most definitely is not free at all).\r\n\r\n","title":"Why not to use synchronized ArrayList even in single thread cases?","body":"<p><code>synchronization</code>, when it is actually used, really does cost. However, hotspot is pretty decent at realizing that a mutex isn't actually doing anything useful and eliminating it. That's what you're seeing.</p>\n<p>So, why isn't <code>ArrayList</code> just synchronized out of the box / why isn't the advice 'use Vector, not ArrayList'? Many separate reasons:</p>\n<ol>\n<li><p>Most important take-home reason (the rest is just historic peculiarity): Because a synchronized list is mostly useless. See below.</p>\n</li>\n<li><p><strong>Modern day</strong> JVMs are pretty good at eliminating synchronized where it doesn't do anything. Which is why you are having a hard time using simple timing code to see any difference. But that wasn't always the case. ArrayList was introduced in java 1.2. Vector (a synchronized arraylist with a different API) is older than that: 1.0. ArrayList was introduced for 2 separate reasons: Partly to clean up that API, and partly because 'synchronize it!' was slow. <strong>NOW</strong> it is no longer slow, but Java 1.2 is <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">23 years old</a>. Rerun your code on java 1.2 if you can find it anywhere and report back to me :)</p>\n</li>\n<li><p>Everything about Vector is deprecated, obsolete, and non-idiomatic. Part of that is simply 'because'. 23 years ago, the advice 'use ArrayList, not Vector' was correct for a bunch of reasons. Including &quot;Because it is faster&quot; (even if that is no longer true today). Now the reason to use ArrayList and not Vector is mostly: &quot;Because ArrayList is what everybody is familiar with, Vector is not, when in rome act like romans, don't rock the boat for no reason whatsoever&quot;. This shows up in all sorts of pragmatic ways: The name 'Vector' is now being reused in the java ecosystem for something completely different (accessing hardware registers that aren't exactly 64-bit, part of Project Panama), for example.</p>\n</li>\n</ol>\n<hr />\n<p>Why is a synchronized list mostly useless?</p>\n<p>a non-synchronized ('thread safe') implementation breaks completely; the spec says: Anything can happen. A synchronized ('thread safe') implementation does not break completely; instead, you get 1 of a permutation of options, with no guarantees whatsoever about which ones are more or less likely. <strong>That's not really more useful than utter chaos, though!</strong> For example, if I write this code:</p>\n<pre><code>List a = new Vector&lt;String&gt;();\nThread x = new Thread(() -&gt; a.add(&quot;Hello&quot;));\nThread y = new Thread(() -&gt; a.add(&quot;World&quot;));\nx.start();\ny.start();\nx.join();\ny.join();\nSystem.out.println(a);\n</code></pre>\n<p>Then it is legal for this app to print <code>[Hello, World]</code>, but it is also legal for this app to print <code>[World, Hello]</code>. <strong>There is no way to know</strong>, and a VM is free to always return the one, or always return the other, or flip a coin, or make it depend on the phase of the moon. Vector is synchronized and this is still useless to me. Nobody wants to write algorithms that need to deal with a combinatory explosion of permutations!!</p>\n<p>With ArrayList, however, which is not 'thread safe', it gets much much worse. There are way more permutations here. The JVM can do any of these without breaking spec:</p>\n<ul>\n<li>[Hello, World]</li>\n<li>[World, Hello]</li>\n<li>[Hello]</li>\n<li>[World]</li>\n<li>[null, Hello]</li>\n<li>[World, World]</li>\n<li>[]</li>\n<li>[WhatTheHeckReally]</li>\n<li>pause, play the macarena over the speaker system, then crash.</li>\n</ul>\n<p>Anything goes - the spec says the behaviour is unspecified. In practice, the first 4 are all entirely possible.</p>\n<p>Avoiding this mess is good, but the permutations that the synchronized Vector offers is just.. less bad. But still bad, so who cares? You want this code to be 100% reliable: You want code to do the same thing every time (unless I <em>want</em> randomness, but then use <code>java.util.Random</code> which has specs that explicitly spell out how it is random. Threads are free to be non-random, so if you MUST have randomness, you can't use that either).</p>\n<p>In order to make stuff reliable, the operation needs to be either done by the object itself (you call ONE method and that is the only interaction your thread does with it), or, you need external locks.</p>\n<p>For example, if I want put '1' in a hashmap for a key that isn't htere yet, and increment the number if it is, this code <strong>DOES NOT WORK</strong>:</p>\n<pre><code>Map&lt;String, Integer&gt; myMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n\n...\n\nString k = ...;\nif (myMap.containsKey(k)) myMap.put(k, myMap.get(k) + 1);\nelse myMap.put(k, 1);\n</code></pre>\n<p>Seems fine? Nope, broken:</p>\n<ul>\n<li>Thread 1 calls myMap.containsKey and sees the answer is <code>false</code>.</li>\n<li>Thread 1 so happens to get pre-empted and freezes right there, after the if, before the <code>put</code>.</li>\n<li>Thread 2 runs, and increments for the same key. It, too, finds <code>myMap,containsKey</code> returning false. It therefore runs <code>myMap.put(k, 1)</code>.</li>\n<li>Thread 1 continues running, and runs.. <code>myMap.put(k, 1)</code></li>\n<li>The map now contains <code>k = 1</code>, even though <code>incrementFor(k)</code> was run <strong>twice</strong>. Your app is broken.</li>\n</ul>\n<p>See? Synchronization? It was completely useless here. What you want is either a lock:</p>\n<pre><code>synchronized (something) {\n  String k = ...;\n  if (myMap.containsKey(k)) myMap.put(k, myMap.get(k) + 1);\n  else myMap.put(k, 1);\n}\n</code></pre>\n<p>and this is completely fine - no matter how had you try running <code>incrementFor(k)</code> simultaneously, it'll dutifully count every invocation, or, better yet, we ask the map to do it for us, to have a map that just <em>has</em> an increment function or similar. <code>HashMap</code> does not. I guess <code>Collections.synchronizedList</code> could return an object that has extra methods, but as the name suggest, that implementation then neccessarily uses locking, and there are more efficient ways to do it.</p>\n<p>This task is better done with <code>ConcurrentHashMap</code>, and using the right method:</p>\n<pre><code>ConcurrentHashMap&lt;String, Integer&gt; myMap = new ConcurrentHashMap&lt;&gt;();\n\n...\n\nmyMap.merge(k, 1, (a, b) -&gt; a + b);\n</code></pre>\n<p>That does it in <strong>one</strong> call. (merge is the same as <code>.put(k, 1)</code> if k isn't in the map already, but if it is, it is the same as <code>.put(k, RESULT)</code> where RESULT is the result of running <code>a + b</code> where a is 'what was in the map' and 'b' is the value you are trying to add (So, 1, in this case).</p>\n<p>A non-synchronized list can still mess up a single call, but if your 'job' involves more than one call, a synchronized one in the sense of e.g. <code>Collections.synchronizedMap</code> or <code>j.u.Vector</code> <strong>cannot</strong> safely do this.</p>\n<p>And that's, in the end, why the advice is to not use synchronized stuff - even though it is probably not really a performance issue, there is almost no point in doing it. If you actually have concurrency needs it is unlikely that synchronizing the thing internally is going to help you, and in the case where it does, it's somewhat likely that some more specific type in the <code>java.util.concurrent</code> package can do it faster (because when concurrency <em>IS</em> happening, <code>synchronized</code> most definitely is not free at all).</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642234977,"creation_date":1642225327,"answer_id":70719138,"question_id":70717426,"body_markdown":"If you get weird benchmark results, the first thing you need to do is to verify your benchmark. And your benchmark is flawed for quite a few reasons. \r\n- no proper warmup. It is not only the typical JIT warmup, but biased locking is disabled the first few seconds on JVM startup.\r\n- insufficient number of iterations\r\n- in theory the code could be optimized out due to dead code elimination\r\n\r\nSo I rewrote your benchmark using JMH: a micro benchmarking framework.\r\n\r\n    package com;\r\n    \r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Fork;\r\n    import org.openjdk.jmh.annotations.Measurement;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OperationsPerInvocation;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    import org.openjdk.jmh.annotations.Scope;\r\n    import org.openjdk.jmh.annotations.State;\r\n    import org.openjdk.jmh.annotations.Warmup;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.stream.IntStream;\r\n    \r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n    @State(Scope.Benchmark)\r\n    @OperationsPerInvocation(SyncArrayListBenchmark.OPERATIONS_PER_INVOCATION)\r\n    public class SyncArrayListBenchmark {\r\n    \r\n        public static final int OPERATIONS_PER_INVOCATION = 100_000_000;\r\n    \r\n    \r\n        @Benchmark\r\n        public int arrayList() {\r\n            List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(OPERATIONS_PER_INVOCATION);\r\n    \r\n            IntStream.range(0, OPERATIONS_PER_INVOCATION).sequential().forEach(i -&gt; l1.add(i));\r\n    \r\n            return l1.size();\r\n        }\r\n    \r\n        @Benchmark\r\n        public int synchronized_arrayList() {\r\n            List&lt;Integer&gt; l1 = Collections.synchronizedList(new ArrayList&lt;&gt;(OPERATIONS_PER_INVOCATION));\r\n    \r\n            IntStream.range(0, OPERATIONS_PER_INVOCATION).sequential().forEach(i -&gt; l1.add(i));\r\n    \r\n            return l1.size();\r\n        }\r\n    }\r\n\r\n\r\nThe results of running with JDK 11:\r\n\r\n\r\n    Benchmark                                      Mode  Cnt  Score   Error  Units\r\n    SyncArrayListBenchmark.arrayList               avgt   25  4.986 &#177; 0.100  ns/op\r\n    SyncArrayListBenchmark.synchronized_arrayList  avgt   25  6.447 &#177; 0.104  ns/op\r\n\r\n\r\nThe results of running with JDK 17:\r\n\r\n    Benchmark                                      Mode  Cnt   Score   Error  Units\r\n    SyncArrayListBenchmark.arrayList               avgt   25   6.819 &#177; 0.300  ns/op\r\n    SyncArrayListBenchmark.synchronized_arrayList  avgt   25  10.374 &#177; 0.427  ns/op\r\n\r\nConclusion:\r\n\r\nAs you can see, the impact of synchronized ArrayList is significant.\r\n\r\nWith JDK 11, the average latency is 29% higher even though biased locking is used. \r\n\r\n\r\nWith JDK 17, the impact of synchronized ArrayList is even worse since on average latency the benchmark is 52% higher.  With JDK 15, biased locking has been disabled by default and is about to be removed completely. So it is likely to be a contributing factor.\r\n\r\nWhat is &#39;interesting&#39; is that the synchronized version of JDK 11 is faster than the unsynchronized version of 17. I&#39;m not sure what the cause is; perhaps related to GC changes. \r\n\r\nI leave that as an exercise to the reader. JMH has some great profilers. The first thing I would do is to get rid of allocations and thereby excluding the garbage collector.","title":"Why not to use synchronized ArrayList even in single thread cases?","body":"<p>If you get weird benchmark results, the first thing you need to do is to verify your benchmark. And your benchmark is flawed for quite a few reasons.</p>\n<ul>\n<li>no proper warmup. It is not only the typical JIT warmup, but biased locking is disabled the first few seconds on JVM startup.</li>\n<li>insufficient number of iterations</li>\n<li>in theory the code could be optimized out due to dead code elimination</li>\n</ul>\n<p>So I rewrote your benchmark using JMH: a micro benchmarking framework.</p>\n<pre><code>package com;\n\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Fork;\nimport org.openjdk.jmh.annotations.Measurement;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OperationsPerInvocation;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\nimport org.openjdk.jmh.annotations.Scope;\nimport org.openjdk.jmh.annotations.State;\nimport org.openjdk.jmh.annotations.Warmup;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@State(Scope.Benchmark)\n@OperationsPerInvocation(SyncArrayListBenchmark.OPERATIONS_PER_INVOCATION)\npublic class SyncArrayListBenchmark {\n\n    public static final int OPERATIONS_PER_INVOCATION = 100_000_000;\n\n\n    @Benchmark\n    public int arrayList() {\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(OPERATIONS_PER_INVOCATION);\n\n        IntStream.range(0, OPERATIONS_PER_INVOCATION).sequential().forEach(i -&gt; l1.add(i));\n\n        return l1.size();\n    }\n\n    @Benchmark\n    public int synchronized_arrayList() {\n        List&lt;Integer&gt; l1 = Collections.synchronizedList(new ArrayList&lt;&gt;(OPERATIONS_PER_INVOCATION));\n\n        IntStream.range(0, OPERATIONS_PER_INVOCATION).sequential().forEach(i -&gt; l1.add(i));\n\n        return l1.size();\n    }\n}\n</code></pre>\n<p>The results of running with JDK 11:</p>\n<pre><code>Benchmark                                      Mode  Cnt  Score   Error  Units\nSyncArrayListBenchmark.arrayList               avgt   25  4.986 ± 0.100  ns/op\nSyncArrayListBenchmark.synchronized_arrayList  avgt   25  6.447 ± 0.104  ns/op\n</code></pre>\n<p>The results of running with JDK 17:</p>\n<pre><code>Benchmark                                      Mode  Cnt   Score   Error  Units\nSyncArrayListBenchmark.arrayList               avgt   25   6.819 ± 0.300  ns/op\nSyncArrayListBenchmark.synchronized_arrayList  avgt   25  10.374 ± 0.427  ns/op\n</code></pre>\n<p>Conclusion:</p>\n<p>As you can see, the impact of synchronized ArrayList is significant.</p>\n<p>With JDK 11, the average latency is 29% higher even though biased locking is used.</p>\n<p>With JDK 17, the impact of synchronized ArrayList is even worse since on average latency the benchmark is 52% higher.  With JDK 15, biased locking has been disabled by default and is about to be removed completely. So it is likely to be a contributing factor.</p>\n<p>What is 'interesting' is that the synchronized version of JDK 11 is faster than the unsynchronized version of 17. I'm not sure what the cause is; perhaps related to GC changes.</p>\n<p>I leave that as an exercise to the reader. JMH has some great profilers. The first thing I would do is to get rid of allocations and thereby excluding the garbage collector.</p>\n"}],"owner":{"account_id":15892507,"reputation":193,"user_id":13874918,"display_name":"al pal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70719138,"answer_count":2,"score":0,"last_activity_date":1642432906,"creation_date":1642200859,"question_id":70717426,"body_markdown":"I have run the following code to measure the time and performance difference between adding elements to ArrayList vs synchronized version of it, and surprisingly haven&#39;t find any significant difference! And by significant I mean the difference doesn&#39;t give you any information on which you can prefer one to another!  \r\n\r\nAnd my question is that if performance wise they are almost the same then why are they even providing the non-synchronized version in the first place? And why not to use the synchronized version for both multi-thread and single-thread cases? \r\n\r\nFYI, as can be seen I didn&#39;t warmed up JVM, and also I understand that garbage collection will most probably run in between iterations to free up old arrays, but I don&#39;t think that matters since we have it for both cases and also even if you run it for just one iteration you would get the same result!\r\n```lang-java\r\n    int size = 100_000_000;\r\n    long totalTime = 0;\r\n    for(int j=0; j&lt;20; j++) {\r\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(size);\r\n        //List&lt;Integer&gt; l1 = Collections.synchronizedList(new ArrayList&lt;&gt;(size));\r\n\r\n        long t1 = System.nanoTime();\r\n\r\n        IntStream.range(0, size).sequential().forEach(i -&gt; l1.add(i));\r\n\r\n        long t2 = System.nanoTime();\r\n        totalTime += t2-t1;\r\n    }\r\n    System.out.println(&quot;time (ms):&quot; + TimeUnit.NANOSECONDS.toMillis(totalTime/20));\r\n```","title":"Why not to use synchronized ArrayList even in single thread cases?","body":"<p>I have run the following code to measure the time and performance difference between adding elements to ArrayList vs synchronized version of it, and surprisingly haven't find any significant difference! And by significant I mean the difference doesn't give you any information on which you can prefer one to another!</p>\n<p>And my question is that if performance wise they are almost the same then why are they even providing the non-synchronized version in the first place? And why not to use the synchronized version for both multi-thread and single-thread cases?</p>\n<p>FYI, as can be seen I didn't warmed up JVM, and also I understand that garbage collection will most probably run in between iterations to free up old arrays, but I don't think that matters since we have it for both cases and also even if you run it for just one iteration you would get the same result!</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int size = 100_000_000;\n    long totalTime = 0;\n    for(int j=0; j&lt;20; j++) {\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(size);\n        //List&lt;Integer&gt; l1 = Collections.synchronizedList(new ArrayList&lt;&gt;(size));\n\n        long t1 = System.nanoTime();\n\n        IntStream.range(0, size).sequential().forEach(i -&gt; l1.add(i));\n\n        long t2 = System.nanoTime();\n        totalTime += t2-t1;\n    }\n    System.out.println(&quot;time (ms):&quot; + TimeUnit.NANOSECONDS.toMillis(totalTime/20));\n</code></pre>\n"},{"tags":["java","pointers","arraylist"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1642425619,"post_id":70741982,"comment_id":125060057,"body_markdown":"It stores the reference to those objects. &quot;Pointer&quot; is not a term you usually use in Java. See also [&quot;Is Java pass-by-reference or pass-by-value&quot;](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"It stores the reference to those objects. &quot;Pointer&quot; is not a term you usually use in Java. See also <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">&quot;Is Java pass-by-reference or pass-by-value&quot;</a>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642425655,"post_id":70741982,"comment_id":125060073,"body_markdown":"&quot;Pointer&quot;, &quot;Reference&quot;... potayto potahto. Same meaning in broad strokes, just in java we call it &#39;a reference&#39;.","body":"&quot;Pointer&quot;, &quot;Reference&quot;... potayto potahto. Same meaning in broad strokes, just in java we call it &#39;a reference&#39;."},{"owner":{"display_name":"user17788823"},"score":0,"creation_date":1642428331,"post_id":70741982,"comment_id":125061328,"body_markdown":"My doubt was why is that we have two pointers pointing to an object. For example poppa po-+int to object while pointer present at index location 1 points to same object.","body":"My doubt was why is that we have two pointers pointing to an object. For example poppa po-+int to object while pointer present at index location 1 points to same object."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642432836,"creation_date":1642428058,"answer_id":70742590,"question_id":70741982,"body_markdown":"&gt; `Bear momma = new Bear();`\r\n\r\nThis code is shorthand for this:\r\n\r\n```\r\nBear momma; [1]\r\nnew Bear(); [2]\r\nmomma = that thing; [3]\r\n```\r\n\r\nThe first line creates a new variable, and names it momma. In java, __all__ variables are tiny. Think post-it note with a title. So, this grabs a post-it note, writes a title on it, and leaves it blank.\r\n\r\nThe second line makes an entire bear, which is considerably larger than a post-it note. Remember that: If you want a new bear, `new Bear()` needs to be executed by you or somebody else&#39;s code.\r\n\r\nThe third line simply writes the __address__ of where the bear lives on your post-it.\r\n\r\nPost-its are tiny; they have enough room for a primitive (`int`, `long`, `byte`, `double`, `float`, `short`, `boolean`, `character` - that&#39;s all the primitives, hardcoded in the language).. or an address.\r\n\r\nWhenever you call a method, you make a _copy_ of your postit (postits are small and you have plenty) and hand the copy to the method. When the method is done, it tosses those postits in the trash.\r\n\r\nLet&#39;s try some stuff. Let&#39;s say bears have a `setName` method.\r\n\r\n```\r\nBear bear1 = new Bear();\r\nBear bear2 = bear1;\r\nbear1.setName(&quot;Bruno&quot;);\r\nSystem.out.println(bear2.getName());\r\n```\r\n\r\nThis will print Bruno! - we have 2 postits, both with the same address on it. There is only one bear.\r\n\r\n---\r\n\r\n```\r\nBear bear = new Bear();\r\nbear.setName(&quot;Bruno&quot;);\r\ntest(bear);\r\nSystem.out.println(bear.getName());\r\n\r\npublic void test(Bear bear) {\r\n  bear.setName(&quot;Brenda&quot;);\r\n}\r\n```\r\n\r\nThis will print &quot;Brenda&quot;. We made a new bear, then we have a post-it with the address to this bear. Then we make a copy of this postit, hand it to the test method. The method then follows the address on the post it (`.` is java for: Follow (&quot;Dereference&quot; is the official term) and tells the bear it finds there what its name is.\r\n\r\n---\r\n\r\n```\r\nprivate static final Bear brenda = new Bear(&quot;brenda&quot;);\r\n\r\n...\r\n\r\nBear bear = new Bear();\r\nbear1.setName(&quot;Bruno&quot;);\r\ntest(bear);\r\nSystem.out.println(bear1.getName());\r\n\r\npublic void test(Bear bear) {\r\n  bear = brenda;\r\n}\r\n```\r\n\r\nThis prints Bruno! You may have expected Brenda. Remember, `=` in java is: &quot;Wipe out your postit and copy over the address of this postit&quot;.\r\n\r\nThe main code hands a copy of a postit to the test method. This test method then wipes this postit out, writes the address of another bear on it, and then tosses the note in the trash. The `test` method does nothing useful here.\r\n\r\n---\r\n\r\nArrayLists are lists of postits. Not lists of bears - that would require an entire zoo, much too unwieldy.\r\n\r\n```\r\nBear bear = new Bear();\r\nList&lt;Bear&gt; bears = new ArrayList&lt;Bear&gt;();\r\nbears.add(bear);\r\ntest(bears);\r\nSystem.out.println(bears.get(0));\r\n\r\npublic void test(List&lt;Bear&gt; bears) {\r\n  bears.clear();\r\n  bears.add(brenda);\r\n}\r\n```\r\n\r\nThe above code&#39;s test method removes the postit with the first bear&#39;s address on it from the list, then adds a new postit with brenda&#39;s address on it. The main code then gets a copy of the first postit from the list. Which will have the address of brenda. (Why a copy? Everything is a copy, all the time. Java is copying millions of postits. From a CPU perspective it&#39;s just copying a single number around).\r\n\r\n---\r\n\r\n```\r\nBear bear = new Bear(&quot;bruno&quot;);\r\nbear = new Bear(&quot;brenda&quot;);\r\n```\r\n\r\nThis makes a new bear, writes on your one post-it note its address.\r\n\r\nIt then makes another bear (we now have 2 bears). It then scratches out the address to bruno and writes the address to brenda on it.\r\n\r\nWhat happens to bruno? Bruno is lost in the woods. There are now zero post-its in the world with Bruno&#39;s address on it, so this information (where bruno lives) is lost. Bruno is still around, but we don&#39;t know where. The forest is vast, it doesn&#39;t matter, we&#39;ll never run into him.\r\n\r\nEventually, the garbage collector will get rid of bruno entirely. Poor bruno.\r\n","title":"For the code given what will be stored in ArrayList? What are shallow pointers in Java?","body":"<blockquote>\n<p><code>Bear momma = new Bear();</code></p>\n</blockquote>\n<p>This code is shorthand for this:</p>\n<pre><code>Bear momma; [1]\nnew Bear(); [2]\nmomma = that thing; [3]\n</code></pre>\n<p>The first line creates a new variable, and names it momma. In java, <strong>all</strong> variables are tiny. Think post-it note with a title. So, this grabs a post-it note, writes a title on it, and leaves it blank.</p>\n<p>The second line makes an entire bear, which is considerably larger than a post-it note. Remember that: If you want a new bear, <code>new Bear()</code> needs to be executed by you or somebody else's code.</p>\n<p>The third line simply writes the <strong>address</strong> of where the bear lives on your post-it.</p>\n<p>Post-its are tiny; they have enough room for a primitive (<code>int</code>, <code>long</code>, <code>byte</code>, <code>double</code>, <code>float</code>, <code>short</code>, <code>boolean</code>, <code>character</code> - that's all the primitives, hardcoded in the language).. or an address.</p>\n<p>Whenever you call a method, you make a <em>copy</em> of your postit (postits are small and you have plenty) and hand the copy to the method. When the method is done, it tosses those postits in the trash.</p>\n<p>Let's try some stuff. Let's say bears have a <code>setName</code> method.</p>\n<pre><code>Bear bear1 = new Bear();\nBear bear2 = bear1;\nbear1.setName(&quot;Bruno&quot;);\nSystem.out.println(bear2.getName());\n</code></pre>\n<p>This will print Bruno! - we have 2 postits, both with the same address on it. There is only one bear.</p>\n<hr />\n<pre><code>Bear bear = new Bear();\nbear.setName(&quot;Bruno&quot;);\ntest(bear);\nSystem.out.println(bear.getName());\n\npublic void test(Bear bear) {\n  bear.setName(&quot;Brenda&quot;);\n}\n</code></pre>\n<p>This will print &quot;Brenda&quot;. We made a new bear, then we have a post-it with the address to this bear. Then we make a copy of this postit, hand it to the test method. The method then follows the address on the post it (<code>.</code> is java for: Follow (&quot;Dereference&quot; is the official term) and tells the bear it finds there what its name is.</p>\n<hr />\n<pre><code>private static final Bear brenda = new Bear(&quot;brenda&quot;);\n\n...\n\nBear bear = new Bear();\nbear1.setName(&quot;Bruno&quot;);\ntest(bear);\nSystem.out.println(bear1.getName());\n\npublic void test(Bear bear) {\n  bear = brenda;\n}\n</code></pre>\n<p>This prints Bruno! You may have expected Brenda. Remember, <code>=</code> in java is: &quot;Wipe out your postit and copy over the address of this postit&quot;.</p>\n<p>The main code hands a copy of a postit to the test method. This test method then wipes this postit out, writes the address of another bear on it, and then tosses the note in the trash. The <code>test</code> method does nothing useful here.</p>\n<hr />\n<p>ArrayLists are lists of postits. Not lists of bears - that would require an entire zoo, much too unwieldy.</p>\n<pre><code>Bear bear = new Bear();\nList&lt;Bear&gt; bears = new ArrayList&lt;Bear&gt;();\nbears.add(bear);\ntest(bears);\nSystem.out.println(bears.get(0));\n\npublic void test(List&lt;Bear&gt; bears) {\n  bears.clear();\n  bears.add(brenda);\n}\n</code></pre>\n<p>The above code's test method removes the postit with the first bear's address on it from the list, then adds a new postit with brenda's address on it. The main code then gets a copy of the first postit from the list. Which will have the address of brenda. (Why a copy? Everything is a copy, all the time. Java is copying millions of postits. From a CPU perspective it's just copying a single number around).</p>\n<hr />\n<pre><code>Bear bear = new Bear(&quot;bruno&quot;);\nbear = new Bear(&quot;brenda&quot;);\n</code></pre>\n<p>This makes a new bear, writes on your one post-it note its address.</p>\n<p>It then makes another bear (we now have 2 bears). It then scratches out the address to bruno and writes the address to brenda on it.</p>\n<p>What happens to bruno? Bruno is lost in the woods. There are now zero post-its in the world with Bruno's address on it, so this information (where bruno lives) is lost. Bruno is still around, but we don't know where. The forest is vast, it doesn't matter, we'll never run into him.</p>\n<p>Eventually, the garbage collector will get rid of bruno entirely. Poor bruno.</p>\n"}],"owner":{"display_name":"user17788823"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70742590,"answer_count":1,"score":-1,"last_activity_date":1642432836,"creation_date":1642425280,"question_id":70741982,"body_markdown":"Suppose we have three Bear objects: momma, poppa, and baby. We create a &quot;bears&quot; ArrayList and add pointers to the three bears to the ArrayList.\r\n\r\n```\r\n// Create three bears \r\nBear momma = new Bear();\r\nBear poppa = new Bear(); \r\nBear baby = new Bear(); \r\n \r\n// Create an ArrayList, add the three Bear pointers \r\nArrayList bears = new ArrayList();\r\nbears.add(momma); \r\nbears.add(poppa);\r\nbears.add(baby);\r\n```\r\n\r\nThe above code produces the memory structure shown in the document.\r\n\r\nNotice that the line bears.add(momma) does not add a copy of the momma Bear object to the ArrayList. Instead, it just adds a pointer to the momma Bear object to the ArrayList. It is common in Java to have such &quot;shallow&quot; pointers to an object – there is one object with many pointers spread around pointing to it.\r\n\r\nFor memory structure please refer to the diagram on page 3 of the document given below:\r\n[Document][1]\r\n\r\n\r\n  [1]: https://web.stanford.edu/class/archive/cs/cs108/cs108.1082/106a-java-handouts/HO49ArrayList.pdf\r\n\r\nMy doubts,\r\n\r\n1)Can someone explain what the above paragraph is trying to say?\r\n\r\n2) What is the meaning of shallow pointer in java as stated in the document?\r\n\r\n3) what is exactly stored in the ArrayList. In the image showing the structure, it is shown that there are two pointers to each element in ArrayList.\r\n\r\nFrom my knowledge, ArrayLists can only store reference variables to objects. However, what is the pointer that points from inside the blocks in the ArrayList.\r\n\r\nWhat is it that is stored in ArrayLists?\r\n","title":"For the code given what will be stored in ArrayList? What are shallow pointers in Java?","body":"<p>Suppose we have three Bear objects: momma, poppa, and baby. We create a &quot;bears&quot; ArrayList and add pointers to the three bears to the ArrayList.</p>\n<pre><code>// Create three bears \nBear momma = new Bear();\nBear poppa = new Bear(); \nBear baby = new Bear(); \n \n// Create an ArrayList, add the three Bear pointers \nArrayList bears = new ArrayList();\nbears.add(momma); \nbears.add(poppa);\nbears.add(baby);\n</code></pre>\n<p>The above code produces the memory structure shown in the document.</p>\n<p>Notice that the line bears.add(momma) does not add a copy of the momma Bear object to the ArrayList. Instead, it just adds a pointer to the momma Bear object to the ArrayList. It is common in Java to have such &quot;shallow&quot; pointers to an object – there is one object with many pointers spread around pointing to it.</p>\n<p>For memory structure please refer to the diagram on page 3 of the document given below:\n<a href=\"https://web.stanford.edu/class/archive/cs/cs108/cs108.1082/106a-java-handouts/HO49ArrayList.pdf\" rel=\"nofollow noreferrer\">Document</a></p>\n<p>My doubts,</p>\n<p>1)Can someone explain what the above paragraph is trying to say?</p>\n<ol start=\"2\">\n<li><p>What is the meaning of shallow pointer in java as stated in the document?</p>\n</li>\n<li><p>what is exactly stored in the ArrayList. In the image showing the structure, it is shown that there are two pointers to each element in ArrayList.</p>\n</li>\n</ol>\n<p>From my knowledge, ArrayLists can only store reference variables to objects. However, what is the pointer that points from inside the blocks in the ArrayList.</p>\n<p>What is it that is stored in ArrayLists?</p>\n"},{"tags":["java","list","linked-list","nodes","dynamic-data"],"answers":[{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642420499,"creation_date":1642420499,"answer_id":70740939,"question_id":70740913,"body_markdown":"you need a Null check at\r\n\r\n\r\n    while (c.compareTo(n.data) &lt; 0) {\r\n                n = n.next;\r\n    }\r\n\r\nThis must be\r\n\r\n    while (n != null &amp;&amp; c.compareTo(n.data) &lt; 0) {\r\n                n = n.next;\r\n    }\r\n\r\n\r\nThis would still fail at the next line, as the handling is missing. In case you hit the end of list, you need to figure out where to insert the new node, after creating it.","title":"How can I add elements into a linked list alphabetically?","body":"<p>you need a Null check at</p>\n<pre><code>while (c.compareTo(n.data) &lt; 0) {\n            n = n.next;\n}\n</code></pre>\n<p>This must be</p>\n<pre><code>while (n != null &amp;&amp; c.compareTo(n.data) &lt; 0) {\n            n = n.next;\n}\n</code></pre>\n<p>This would still fail at the next line, as the handling is missing. In case you hit the end of list, you need to figure out where to insert the new node, after creating it.</p>\n"}],"owner":{"account_id":20028751,"reputation":83,"user_id":17944655,"display_name":"Miles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642432721,"creation_date":1642420329,"question_id":70740913,"body_markdown":"I&#39;m trying to add nodes of a `Car` object into a linked list, but instead of sorting the input and then creating the list, I want to insert the inputs to the correct spot while they are being taken.\r\n\r\nI&#39;ve tried this using this method but there&#39;s a very strange bug that I am unable to resolve.\r\n\r\nHere&#39;s my Car class with the `compareTo` method I&#39;m using for this:\r\n\r\n```\r\npublic class Car implements Comparable&lt;Car&gt;{\r\n    String ID;\r\n    int regYear;\r\n    public Car(String id, int reg){\r\n        ID = id;\r\n        regYear = reg;\r\n    }\r\n    public int compareTo(Car c2){\r\n        return ID.compareTo(c2.ID);\r\n    }\r\n    public String toString(){\r\n        return &quot;ID: &quot; + ID + &quot;, Reg Year&quot; + regYear;\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the linked list class:\r\n```\r\npublic class MyLinkedList {\r\n\r\n    Node start;\r\n\r\n    public void add(Car c) {\r\n        Node node = new Node(c);\r\n        if (start == null) {\r\n            start = node;\r\n        } else {\r\n            Node n = start;\r\n\r\n            while (c.compareTo(n.data) &lt; 0) {\r\n                n = n.next;\r\n            }\r\n            n.next = node;\r\n        }\r\n    }\r\n```\r\n\r\nNow if I add two unsorted elements, let&#39;s say one with ID `B` first and one with ID `A` second, I get this: \r\n\r\n&gt;    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;data&quot; because &quot;n&quot; is null\r\nreferring to the n.data in the while loop.\r\n\r\nIf I add two already sorted elements, ID `A` first and ID `B` second, everything&#39;s just fine.\r\n\r\nIf I add elements `A C B D`, it only adds `A` and `D` to the list and ignores `C` and `B` since they are unsorted.\r\n\r\nWhat am I missing?","title":"How can I add elements into a linked list alphabetically?","body":"<p>I'm trying to add nodes of a <code>Car</code> object into a linked list, but instead of sorting the input and then creating the list, I want to insert the inputs to the correct spot while they are being taken.</p>\n<p>I've tried this using this method but there's a very strange bug that I am unable to resolve.</p>\n<p>Here's my Car class with the <code>compareTo</code> method I'm using for this:</p>\n<pre><code>public class Car implements Comparable&lt;Car&gt;{\n    String ID;\n    int regYear;\n    public Car(String id, int reg){\n        ID = id;\n        regYear = reg;\n    }\n    public int compareTo(Car c2){\n        return ID.compareTo(c2.ID);\n    }\n    public String toString(){\n        return &quot;ID: &quot; + ID + &quot;, Reg Year&quot; + regYear;\n    }\n}\n</code></pre>\n<p>Here's the linked list class:</p>\n<pre><code>public class MyLinkedList {\n\n    Node start;\n\n    public void add(Car c) {\n        Node node = new Node(c);\n        if (start == null) {\n            start = node;\n        } else {\n            Node n = start;\n\n            while (c.compareTo(n.data) &lt; 0) {\n                n = n.next;\n            }\n            n.next = node;\n        }\n    }\n</code></pre>\n<p>Now if I add two unsorted elements, let's say one with ID <code>B</code> first and one with ID <code>A</code> second, I get this:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;data&quot; because &quot;n&quot; is null\nreferring to the n.data in the while loop.</p>\n</blockquote>\n<p>If I add two already sorted elements, ID <code>A</code> first and ID <code>B</code> second, everything's just fine.</p>\n<p>If I add elements <code>A C B D</code>, it only adds <code>A</code> and <code>D</code> to the list and ignores <code>C</code> and <code>B</code> since they are unsorted.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config","spring-cloud-config-server"],"answers":[{"tags":[],"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642432696,"creation_date":1642431119,"answer_id":70743269,"question_id":70740341,"body_markdown":"OK, I finally found it! \\\r\nApparently, we need to explicitly specify the subdirectories with an *application placeholder* in the `spring.cloud.config.server.native.search-locations` property which is IMO vaguely described [here in docs](https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html#_file_system_backend):\r\n\r\n&gt; The search locations can contain placeholders for {application}, {profile}, and {label}. In this way, you can segregate the directories in the path and choose a strategy that makes sense for you (such as subdirectory per application or subdirectory per profile).\r\n\r\nSo, in my case, I had to define the `search-locations` as this:\r\n```yml\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        native:\r\n         search-locations:\r\n          - /path/to/config/repo\r\n          - /path/to/config/repo/{application}\r\n```\r\n\r\nNow it can properly serve both *application-specific and profile-specific* config properties.\r\n\r\nAlthough this suffices for my case, I still have no clue why the file-based and the git-based approaches differ so much (i.e. why should we explicitly set subdirectories for application-specific configs in a file-based approach whereas it can automatically serve them in the git-based approach?)","title":"Spring Cloud Config Server does not serve application-specific properties in native mode","body":"<p>OK, I finally found it! <br />\nApparently, we need to explicitly specify the subdirectories with an <em>application placeholder</em> in the <code>spring.cloud.config.server.native.search-locations</code> property which is IMO vaguely described <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html#_file_system_backend\" rel=\"nofollow noreferrer\">here in docs</a>:</p>\n<blockquote>\n<p>The search locations can contain placeholders for {application}, {profile}, and {label}. In this way, you can segregate the directories in the path and choose a strategy that makes sense for you (such as subdirectory per application or subdirectory per profile).</p>\n</blockquote>\n<p>So, in my case, I had to define the <code>search-locations</code> as this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    config:\n      server:\n        native:\n         search-locations:\n          - /path/to/config/repo\n          - /path/to/config/repo/{application}\n</code></pre>\n<p>Now it can properly serve both <em>application-specific and profile-specific</em> config properties.</p>\n<p>Although this suffices for my case, I still have no clue why the file-based and the git-based approaches differ so much (i.e. why should we explicitly set subdirectories for application-specific configs in a file-based approach whereas it can automatically serve them in the git-based approach?)</p>\n"}],"owner":{"account_id":7193224,"reputation":634,"user_id":5492826,"accept_rate":25,"display_name":"emrekgn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70743269,"answer_count":1,"score":0,"last_activity_date":1642432696,"creation_date":1642417699,"question_id":70740341,"body_markdown":"I have a Spring Cloud Config Server v3.0.5 which serves configuration properties from a Git repository like this:\r\n\r\n```bash\r\n|\r\n|-- foo-service/\r\n|   |-- application.yml\r\n|-- bar-service/\r\n|   |-- application.yml\r\n|-- application-common.yml\r\n|-- application-kafka.yml\r\n|-- ...\r\n```\r\n\r\nAs you can see, there is a sub-directory for each microservice that contains application-specific configurations and some common configurations in the root directory that we can fetch by profiles (common, kafka etc.)\r\n\r\nSo, for example, we can fetch *application-specific and/or profile-specific config properties* like this: \r\n```bash\r\n# Successfully returns application-specific properties\r\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application.yml\r\n# Successfully returns application-specific + common + kafka properties\r\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application,common,kafka.yml\r\n```\r\n\r\nBut, during development, we&#39;d like to use a native file-based repository so that we don&#39;t need to commit every config change and test it locally easily.\r\n\r\nSo, in the config server, I&#39;ve set active profiles to `native` and also set `spring.cloud.config.server.native.search-locations` to the same repository path.\r\n\r\nBut when I try to fetch application-specific configurations (i.e. config files in sub-directories), it returns empty:\r\n\r\n```bash\r\n# This returns empty response:\r\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application.yml\r\n{}\r\n\r\n# This returns only profile-specific configs but **omits** foo-service applcations configs:\r\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application,common,kafka.yml\r\n...\r\n```\r\n\r\nWhat am I missing here? Why can&#39;t it also return application-specific properties? Do I have to set yet another configuration for the config server?\r\n\r\nAny help is appreciated. Thanks.","title":"Spring Cloud Config Server does not serve application-specific properties in native mode","body":"<p>I have a Spring Cloud Config Server v3.0.5 which serves configuration properties from a Git repository like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>|\n|-- foo-service/\n|   |-- application.yml\n|-- bar-service/\n|   |-- application.yml\n|-- application-common.yml\n|-- application-kafka.yml\n|-- ...\n</code></pre>\n<p>As you can see, there is a sub-directory for each microservice that contains application-specific configurations and some common configurations in the root directory that we can fetch by profiles (common, kafka etc.)</p>\n<p>So, for example, we can fetch <em>application-specific and/or profile-specific config properties</em> like this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># Successfully returns application-specific properties\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application.yml\n# Successfully returns application-specific + common + kafka properties\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application,common,kafka.yml\n</code></pre>\n<p>But, during development, we'd like to use a native file-based repository so that we don't need to commit every config change and test it locally easily.</p>\n<p>So, in the config server, I've set active profiles to <code>native</code> and also set <code>spring.cloud.config.server.native.search-locations</code> to the same repository path.</p>\n<p>But when I try to fetch application-specific configurations (i.e. config files in sub-directories), it returns empty:</p>\n<pre class=\"lang-sh prettyprint-override\"><code># This returns empty response:\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application.yml\n{}\n\n# This returns only profile-specific configs but **omits** foo-service applcations configs:\ncurl http://&lt;CONFIG_SERVICE_URL&gt;/foo-service-application,common,kafka.yml\n...\n</code></pre>\n<p>What am I missing here? Why can't it also return application-specific properties? Do I have to set yet another configuration for the config server?</p>\n<p>Any help is appreciated. Thanks.</p>\n"},{"tags":["java","if-statement","flow-control"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1642427834,"post_id":70742520,"comment_id":125061071,"body_markdown":"you only initialize y in conditional blocks. your compiler will not go and check all your conditions to see if all scenario&#39;s are covered.","body":"you only initialize y in conditional blocks. your compiler will not go and check all your conditions to see if all scenario&#39;s are covered."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1642427867,"post_id":70742520,"comment_id":125061091,"body_markdown":"Convert that series of `if`s to `if-else if-else`","body":"Convert that series of <code>if</code>s to <code>if-else if-else</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1642427897,"post_id":70742520,"comment_id":125061110,"body_markdown":"a simple `int y = 0;` solves the issue. The compiler does not know that your 3 `if`s cover all the cases.","body":"a simple <code>int y = 0;</code> solves the issue. The compiler does not know that your 3 <code>if</code>s cover all the cases."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1642428327,"post_id":70742520,"comment_id":125061325,"body_markdown":"The essential thing to understand: a compiler isn&#39;t a human. Albeit the compiler **could** figure out here that there is no path to the print *without* assigning a value to y ... well, it just doesn&#39;t.","body":"The essential thing to understand: a compiler isn&#39;t a human. Albeit the compiler <b>could</b> figure out here that there is no path to the print <i>without</i> assigning a value to y ... well, it just doesn&#39;t."},{"owner":{"account_id":23964060,"reputation":13,"user_id":17953803,"display_name":"vichakshana deegau"},"score":0,"creation_date":1642428828,"post_id":70742520,"comment_id":125061532,"body_markdown":"@FedericoklezCulloca, thanks. it worked in if , else if and else series. but I relly need to understand why it works in if, if else , else and doesn&#39;t work in if series. because all the scenarios were covered in if series.","body":"@FedericoklezCulloca, thanks. it worked in if , else if and else series. but I relly need to understand why it works in if, if else , else and doesn&#39;t work in if series. because all the scenarios were covered in if series."},{"owner":{"account_id":23964060,"reputation":13,"user_id":17953803,"display_name":"vichakshana deegau"},"score":0,"creation_date":1642429167,"post_id":70742520,"comment_id":125061687,"body_markdown":"@Stultuske thanks. but when I used if, else if, else it executed. if compiler doesn&#39;t check all of that cases, how did it execute?  That&#39;s what I&#39;m looking answers for.","body":"@Stultuske thanks. but when I used if, else if, else it executed. if compiler doesn&#39;t check all of that cases, how did it execute?  That&#39;s what I&#39;m looking answers for."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1642429234,"post_id":70742520,"comment_id":125061716,"body_markdown":"@vichakshanadeegau because that&#39;s how [the language is defined](https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html). In particular see example 16-2. The compiler does not consider the possible values of `num`, only the structure of your code.","body":"@vichakshanadeegau because that&#39;s how <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html\" rel=\"nofollow noreferrer\">the language is defined</a>. In particular see example 16-2. The compiler does not consider the possible values of <code>num</code>, only the structure of your code."},{"owner":{"account_id":23964060,"reputation":13,"user_id":17953803,"display_name":"vichakshana deegau"},"score":0,"creation_date":1642429414,"post_id":70742520,"comment_id":125061777,"body_markdown":"@GhostCat, thanks, then how did it executed when using a if, else if and else?","body":"@GhostCat, thanks, then how did it executed when using a if, else if and else?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1642429648,"post_id":70742520,"comment_id":125061881,"body_markdown":"@vichakshanadeegau because of the difference between if and else. Now: if ( a &gt; x || a == x || a &lt; x ) -&gt; this also covers all the possibilities, but the compiler won&#39;t know. if ( a &gt; x ) { doOneThing(); } else { } -&gt; always covers everything","body":"@vichakshanadeegau because of the difference between if and else. Now: if ( a &gt; x || a == x || a &lt; x ) -&gt; this also covers all the possibilities, but the compiler won&#39;t know. if ( a &gt; x ) { doOneThing(); } else { } -&gt; always covers everything"},{"owner":{"account_id":23964060,"reputation":13,"user_id":17953803,"display_name":"vichakshana deegau"},"score":0,"creation_date":1642430248,"post_id":70742520,"comment_id":125062156,"body_markdown":"@Stultuske strait to the point.. :-) thanks it helped a lot.","body":"@Stultuske strait to the point.. :-) thanks it helped a lot."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642432129,"creation_date":1642428136,"answer_id":70742606,"question_id":70742520,"body_markdown":"Before accessing a variable it must be initialized.\r\n\r\nStatic and instance variables are initialed implicitly even if you are not providing a value while declaring them. But with local variables, it&#39;s not the case, they must be assigned explicitly before you can use them.\r\n\r\nYou are not using **else** statement and it&#39;s not obvious to the compile that you&#39;ve covered all possible cases.\r\n\r\nTry this instead, you&#39;ll see that now variable **y** changes accordingly to the user input:\r\n```\r\n        int y;\r\n        if (num &lt; 100) {\r\n            y=100;\r\n        }\r\n        else if (num &gt; 100) {\r\n            y=200;\r\n        }\r\n        else {\r\n            y=300;\r\n        }\r\n```","title":"Compiler thinks variable is not assigned, but if statements cover all values","body":"<p>Before accessing a variable it must be initialized.</p>\n<p>Static and instance variables are initialed implicitly even if you are not providing a value while declaring them. But with local variables, it's not the case, they must be assigned explicitly before you can use them.</p>\n<p>You are not using <strong>else</strong> statement and it's not obvious to the compile that you've covered all possible cases.</p>\n<p>Try this instead, you'll see that now variable <strong>y</strong> changes accordingly to the user input:</p>\n<pre><code>        int y;\n        if (num &lt; 100) {\n            y=100;\n        }\n        else if (num &gt; 100) {\n            y=200;\n        }\n        else {\n            y=300;\n        }\n</code></pre>\n"}],"owner":{"account_id":23964060,"reputation":13,"user_id":17953803,"display_name":"vichakshana deegau"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1642428219,"accepted_answer_id":70742606,"answer_count":1,"score":0,"last_activity_date":1642432129,"creation_date":1642427740,"question_id":70742520,"body_markdown":"In this code there is a compile time error. \r\n\r\n&gt; &quot;Example.java:17: error: variable y might not have been initialized&quot;. \r\n\r\nCan anyone explain what&#39;s the reason for this error and how to fix it? \r\n\r\n    import java.util.*;\r\n    class Example{\r\n      public static void main (String args[]){\r\n        Scanner input=new Scanner(System.in);\r\n        System.out.println(&quot;Input an integer : &quot;);\r\n        int num=input.nextInt();\r\n        int y;\r\n        if(num&gt;100){\r\n          y=200;\r\n        }\r\n        if(num&lt;100){\r\n          y=200;\r\n        }\r\n        if(num==100){\r\n          y=200;\r\n        }\r\n        System.out.println(y);\r\n        \r\n      }\r\n    }\r\n\r\n","title":"Compiler thinks variable is not assigned, but if statements cover all values","body":"<p>In this code there is a compile time error.</p>\n<blockquote>\n<p>&quot;Example.java:17: error: variable y might not have been initialized&quot;.</p>\n</blockquote>\n<p>Can anyone explain what's the reason for this error and how to fix it?</p>\n<pre><code>import java.util.*;\nclass Example{\n  public static void main (String args[]){\n    Scanner input=new Scanner(System.in);\n    System.out.println(&quot;Input an integer : &quot;);\n    int num=input.nextInt();\n    int y;\n    if(num&gt;100){\n      y=200;\n    }\n    if(num&lt;100){\n      y=200;\n    }\n    if(num==100){\n      y=200;\n    }\n    System.out.println(y);\n    \n  }\n}\n</code></pre>\n"},{"tags":["java","compression","gzip"],"answers":[{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1399889524,"creation_date":1399889524,"answer_id":23606319,"question_id":23606047,"body_markdown":"your missing code will be something like\r\n\r\n    byte[] buffer = new byte[1024];\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \r\n    int len;\r\n    while ((len = gzipper.read(buffer)) &gt; 0) {\r\n        out.write(buffer, 0, len);\r\n    }\r\n    \r\n    gzipper.close();\r\n    out.close();\r\n    return out.toByteArray();\r\n\r\n","title":"Decompressing a byte[] using GzipInputStream","body":"<p>your missing code will be something like</p>\n\n<pre><code>byte[] buffer = new byte[1024];\nByteArrayOutputStream out = new ByteArrayOutputStream();\n\nint len;\nwhile ((len = gzipper.read(buffer)) &gt; 0) {\n    out.write(buffer, 0, len);\n}\n\ngzipper.close();\nout.close();\nreturn out.toByteArray();\n</code></pre>\n"}],"owner":{"account_id":423386,"reputation":3269,"user_id":802742,"accept_rate":84,"display_name":"Joshua Kissoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12196,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":23606319,"answer_count":1,"score":7,"last_activity_date":1642432028,"creation_date":1399888731,"question_id":23606047,"body_markdown":"I have a class that compresses and decompresses a byte array; \r\n\r\n\r\n    public class Compressor\r\n    {\r\n        public static byte[] compress(final byte[] input) throws IOException\r\n        {\r\n            try (ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n                    GZIPOutputStream gzipper = new GZIPOutputStream(bout))\r\n            {\r\n                gzipper.write(input, 0, input.length);\r\n                gzipper.close();\r\n\r\n                return bout.toByteArray();\r\n            }\r\n        }\r\n\r\n        public static byte[] decompress(final byte[] input) throws IOException\r\n        {\r\n            try (ByteArrayInputStream bin = new ByteArrayInputStream(input);\r\n                    GZIPInputStream gzipper = new GZIPInputStream(bin))\r\n            {\r\n                // Not sure where to go here\r\n            }\r\n        }\r\n    }\r\n\r\nHow do I decompress the input and return a byte array?\r\n\r\n**Note:** I don&#39;t want to do any conversion to strings because of character encoding issues.","title":"Decompressing a byte[] using GzipInputStream","body":"<p>I have a class that compresses and decompresses a byte array; </p>\n\n<pre><code>public class Compressor\n{\n    public static byte[] compress(final byte[] input) throws IOException\n    {\n        try (ByteArrayOutputStream bout = new ByteArrayOutputStream();\n                GZIPOutputStream gzipper = new GZIPOutputStream(bout))\n        {\n            gzipper.write(input, 0, input.length);\n            gzipper.close();\n\n            return bout.toByteArray();\n        }\n    }\n\n    public static byte[] decompress(final byte[] input) throws IOException\n    {\n        try (ByteArrayInputStream bin = new ByteArrayInputStream(input);\n                GZIPInputStream gzipper = new GZIPInputStream(bin))\n        {\n            // Not sure where to go here\n        }\n    }\n}\n</code></pre>\n\n<p>How do I decompress the input and return a byte array?</p>\n\n<p><strong>Note:</strong> I don't want to do any conversion to strings because of character encoding issues.</p>\n"},{"tags":["java","localization","numbers","string-formatting"],"comments":[{"owner":{"account_id":320193,"reputation":7715,"user_id":638344,"accept_rate":75,"display_name":"Chris"},"score":2,"creation_date":1354885896,"post_id":13763700,"comment_id":18919176,"body_markdown":"why don&#39;t you parse your &quot;String-Number&quot; into a number first and do the formatting with number formatter afterwards?","body":"why don&#39;t you parse your &quot;String-Number&quot; into a number first and do the formatting with number formatter afterwards?"},{"owner":{"account_id":281804,"reputation":438,"user_id":578319,"display_name":"wziska"},"score":0,"creation_date":1354886737,"post_id":13763700,"comment_id":18919555,"body_markdown":"My &quot;String-Number&quot; can be a string containing number, so I can&#39;t parse it to number.","body":"My &quot;String-Number&quot; can be a string containing number, so I can&#39;t parse it to number."}],"answers":[{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1642431901,"creation_date":1354885976,"answer_id":13763815,"question_id":13763700,"body_markdown":"From the [documentation][1], you have to:\r\n\r\n - supply a locale (as you are doing in your example)\r\n - include the &#39;`,`&#39; flag to **show locale-specific grouping separators** \r\n\r\nSo your example would become:\r\n\r\n    String.format(Locale.GERMAN, &quot;%,d&quot;, 1234567890) \r\n\r\nNote the additional &#39;`,`&#39; flag before the &#39;d&#39;.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","title":"java String.format: numbers with localization","body":"<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">documentation</a>, you have to:</p>\n<ul>\n<li>supply a locale (as you are doing in your example)</li>\n<li>include the '<code>,</code>' flag to <strong>show locale-specific grouping separators</strong></li>\n</ul>\n<p>So your example would become:</p>\n<pre><code>String.format(Locale.GERMAN, &quot;%,d&quot;, 1234567890) \n</code></pre>\n<p>Note the additional '<code>,</code>' flag before the 'd'.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1354886335,"creation_date":1354886335,"answer_id":13763905,"question_id":13763700,"body_markdown":"An alternative to `String.format()` is to use MessageFormat:\r\n\r\n    MessageFormat format = new MessageFormat(&quot;The number is {0, number}&quot;, Locale.GERMAN);\r\n    String s = format.format(new Object[] {number});","title":"java String.format: numbers with localization","body":"<p>An alternative to <code>String.format()</code> is to use MessageFormat:</p>\n\n<pre><code>MessageFormat format = new MessageFormat(\"The number is {0, number}\", Locale.GERMAN);\nString s = format.format(new Object[] {number});\n</code></pre>\n"}],"owner":{"account_id":281804,"reputation":438,"user_id":578319,"display_name":"wziska"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24259,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":13763815,"answer_count":2,"score":21,"last_activity_date":1642431959,"creation_date":1354885576,"question_id":13763700,"body_markdown":"Is it possible to localize numbers in `String.format` call the same way as `NumberFormat.format` does?\r\n\r\nI&#39;ve expected it simply to use\r\n\r\n    String.format(locale, &quot;%d&quot;, number)\r\n\r\nbut this doesn&#39;t return the same result as `NumberFormat`. For example:\r\n\r\n    String.format(Locale.GERMAN, &quot;%d&quot;, 1234567890) \r\n\r\ngives: &quot;1234567890&quot;, while \r\n\r\n    NumberFormat.getNumberInstance(Locale.GERMAN).format(1234567890)\r\n\r\ngives: &quot;1.234.567.890&quot;\r\n\r\nIf it can&#39;t be done, what&#39;s recommended way for localizing text including numbers?\r\n","title":"java String.format: numbers with localization","body":"<p>Is it possible to localize numbers in <code>String.format</code> call the same way as <code>NumberFormat.format</code> does?</p>\n<p>I've expected it simply to use</p>\n<pre><code>String.format(locale, &quot;%d&quot;, number)\n</code></pre>\n<p>but this doesn't return the same result as <code>NumberFormat</code>. For example:</p>\n<pre><code>String.format(Locale.GERMAN, &quot;%d&quot;, 1234567890) \n</code></pre>\n<p>gives: &quot;1234567890&quot;, while</p>\n<pre><code>NumberFormat.getNumberInstance(Locale.GERMAN).format(1234567890)\n</code></pre>\n<p>gives: &quot;1.234.567.890&quot;</p>\n<p>If it can't be done, what's recommended way for localizing text including numbers?</p>\n"},{"tags":["java","spring","spring-boot","type-conversion"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1642431704,"post_id":70743394,"comment_id":125062769,"body_markdown":"You cannot, you can only validate after conversions.","body":"You cannot, you can only validate after conversions."},{"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"score":0,"creation_date":1642431917,"post_id":70743394,"comment_id":125062855,"body_markdown":"But if I need to - do I need to put the validation to the converter?","body":"But if I need to - do I need to put the validation to the converter?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642432035,"post_id":70743394,"comment_id":125062898,"body_markdown":"No because you simply cannot. Next to that you shouldn&#39;t mix concerns, a converter converts, not validates.","body":"No because you simply cannot. Next to that you shouldn&#39;t mix concerns, a converter converts, not validates."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1642432268,"post_id":70743394,"comment_id":125063018,"body_markdown":"`@Valid` is what you might put on incoming entities in your controller or at fields of the incoming entities.","body":"<code>@Valid</code> is what you might put on incoming entities in your controller or at fields of the incoming entities."}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642431579,"creation_date":1642431579,"question_id":70743394,"body_markdown":"I am using spring boot converter for REST controller but I need to validate data before converting it. \r\n\r\nI tried to put `@Valid` annotation to converter&#39;s `convert` method but got this:\r\n\r\n&gt; nested exception is javax.validation.ConstraintDeclarationException:\r\n&gt; HV000151: A method overriding another method must not redefine the\r\n&gt; parameter constraint configuration, but method\r\n&gt; MyCustomConverter#convert(String) redefines the configuration of\r\n&gt; Converter#convert(Object)\r\n\r\nWhat&#39;s the best way to implement this validation?","title":"Spring boot converter validation - were to put it and how?","body":"<p>I am using spring boot converter for REST controller but I need to validate data before converting it.</p>\n<p>I tried to put <code>@Valid</code> annotation to converter's <code>convert</code> method but got this:</p>\n<blockquote>\n<p>nested exception is javax.validation.ConstraintDeclarationException:\nHV000151: A method overriding another method must not redefine the\nparameter constraint configuration, but method\nMyCustomConverter#convert(String) redefines the configuration of\nConverter#convert(Object)</p>\n</blockquote>\n<p>What's the best way to implement this validation?</p>\n"},{"tags":["java","sockets","datainputstream","dataoutputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1642431495,"post_id":70741523,"comment_id":125062695,"body_markdown":"You need to flush after sending the file, right now, likely the server still has a partial unflushed buffer, while the client is waiting for more data. As an aside, in your client, don&#39;t flush inside the loop, flush *after* the loop.","body":"You need to flush after sending the file, right now, likely the server still has a partial unflushed buffer, while the client is waiting for more data. As an aside, in your client, don&#39;t flush inside the loop, flush <i>after</i> the loop."}],"owner":{"account_id":14816440,"reputation":21,"user_id":10700302,"display_name":"Sven Nijkamp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642431459,"creation_date":1642423258,"question_id":70741523,"body_markdown":"I&#39;m trying to setup a server-client file transfer where one user sends a file to the server, and the server sends that file to another user (users in this case are instances of the Client.java class).\r\n\r\nFrom the first client to the server, everything goes as it should, but then the server should send a long, which is the file size, and then send the actual file. The client then should read that long as the file size, and then read and write the file, but with reading the file size something goes wrong. \r\n\r\nAnyone that can spot what goes wrong?\r\n\r\nClient class:\r\n```\r\nprivate void SEND() {\r\n    try {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter the full path of the file:&quot;);\r\n        String path = scanner.nextLine();\r\n\r\n        LIST();\r\n        System.out.println(&quot;To who do you want to send the file? &quot;);\r\n        String receiver = scanner.nextLine();\r\n        message.setBody(receiver);\r\n\r\n        message.setHeader(&quot;SEND&quot;);\r\n\r\n        writer.println(message.getHeader() + &quot; &quot; + message.getUsername() + &quot; &quot; + message.getBody());\r\n\r\n        int bytes = 0;\r\n        File file = new File(path);\r\n        FileInputStream fileInputStream;\r\n        fileInputStream = new FileInputStream(file);\r\n\r\n        byte[] byteArray = new byte[(int) file.length()];\r\n        // send file size\r\n        dataOutputStream.writeLong(byteArray.length);\r\n        // break file into chunks\r\n        byte[] buffer = new byte[4 * 1024];\r\n        while ((bytes = fileInputStream.read(buffer)) != -1) {\r\n            dataOutputStream.write(buffer, 0, bytes);\r\n            dataOutputStream.flush();\r\n        }\r\n        fileInputStream.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic void RECEIVE() {\r\n    try {\r\n        long size = dataInputStream.readLong();\r\n        Scanner scanner = new Scanner(System.in);\r\n        char choice = scanner.next().charAt(0);\r\n\r\n        while (!(choice == &#39;y&#39;) &amp;&amp; !(choice == &#39;n&#39;)) {\r\n            System.out.println(&quot;incorrect option, please enter y/n&quot;);\r\n            choice = scanner.next().charAt(0);\r\n        }\r\n\r\n\r\n        if (choice == &#39;y&#39;) {\r\n            System.out.println(&quot;Downloading file...&quot;);\r\n            int bytes = 0;\r\n            FileOutputStream fileOutputStream = new FileOutputStream(FILE_STORE_PLACE);\r\n            System.out.println(size);\r\n            byte[] buffer = new byte[4 * 1024];\r\n            while (size &gt; 0 &amp;&amp; (bytes = dataInputStream.read(buffer, 0, (int) Math.min(buffer.length, size))) != -1) {\r\n                fileOutputStream.write(buffer, 0, bytes);\r\n                size -= bytes;      // read upto file size\r\n            }\r\n            System.out.println(&quot;File received&quot;);\r\n            fileOutputStream.close();\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nServer class:\r\n```\r\n// User sends their file to the server, which then reads al its contents and puts them in a file\r\npublic void SEND(String[] messageSplit) {\r\n    try {\r\n        int bytes = 0;\r\n        long size = dataInputStream.readLong();     // read file size\r\n        System.out.println(size);\r\n        byte[] buffer = new byte[4 * 1024];\r\n\r\n        ClientHandler receiver = findConnectedUser(messageSplit[2]);\r\n\r\n        promptReceiver(receiver, size);\r\n        receiver.dataOutputStream.writeLong(size);\r\n        receiver.dataOutputStream.flush();\r\n        //write incoming data to the receiver\r\n        while (size &gt; 0 &amp;&amp; (bytes = dataInputStream.read(buffer, 0, (int) Math.min(buffer.length, size))) != -1) {\r\n            receiver.dataOutputStream.write(buffer, 0, bytes);\r\n            size -= bytes;      // read upto file size\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic void promptReceiver(ClientHandler client, long size) {\r\n    client.writer.println(&quot;would like to send you a file, do you want to receive this file? (&quot; + size + &quot; bytes) (type y/n)&quot;);\r\n}\r\n\r\npublic ClientHandler findConnectedUser(String username) {\r\n    for (ClientHandler client : connectedUsers) {\r\n        if (client.getUsername().equals(username)) {\r\n            return client;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n","title":"DataInputStream not getting the right value","body":"<p>I'm trying to setup a server-client file transfer where one user sends a file to the server, and the server sends that file to another user (users in this case are instances of the Client.java class).</p>\n<p>From the first client to the server, everything goes as it should, but then the server should send a long, which is the file size, and then send the actual file. The client then should read that long as the file size, and then read and write the file, but with reading the file size something goes wrong.</p>\n<p>Anyone that can spot what goes wrong?</p>\n<p>Client class:</p>\n<pre><code>private void SEND() {\n    try {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter the full path of the file:&quot;);\n        String path = scanner.nextLine();\n\n        LIST();\n        System.out.println(&quot;To who do you want to send the file? &quot;);\n        String receiver = scanner.nextLine();\n        message.setBody(receiver);\n\n        message.setHeader(&quot;SEND&quot;);\n\n        writer.println(message.getHeader() + &quot; &quot; + message.getUsername() + &quot; &quot; + message.getBody());\n\n        int bytes = 0;\n        File file = new File(path);\n        FileInputStream fileInputStream;\n        fileInputStream = new FileInputStream(file);\n\n        byte[] byteArray = new byte[(int) file.length()];\n        // send file size\n        dataOutputStream.writeLong(byteArray.length);\n        // break file into chunks\n        byte[] buffer = new byte[4 * 1024];\n        while ((bytes = fileInputStream.read(buffer)) != -1) {\n            dataOutputStream.write(buffer, 0, bytes);\n            dataOutputStream.flush();\n        }\n        fileInputStream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void RECEIVE() {\n    try {\n        long size = dataInputStream.readLong();\n        Scanner scanner = new Scanner(System.in);\n        char choice = scanner.next().charAt(0);\n\n        while (!(choice == 'y') &amp;&amp; !(choice == 'n')) {\n            System.out.println(&quot;incorrect option, please enter y/n&quot;);\n            choice = scanner.next().charAt(0);\n        }\n\n\n        if (choice == 'y') {\n            System.out.println(&quot;Downloading file...&quot;);\n            int bytes = 0;\n            FileOutputStream fileOutputStream = new FileOutputStream(FILE_STORE_PLACE);\n            System.out.println(size);\n            byte[] buffer = new byte[4 * 1024];\n            while (size &gt; 0 &amp;&amp; (bytes = dataInputStream.read(buffer, 0, (int) Math.min(buffer.length, size))) != -1) {\n                fileOutputStream.write(buffer, 0, bytes);\n                size -= bytes;      // read upto file size\n            }\n            System.out.println(&quot;File received&quot;);\n            fileOutputStream.close();\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Server class:</p>\n<pre><code>// User sends their file to the server, which then reads al its contents and puts them in a file\npublic void SEND(String[] messageSplit) {\n    try {\n        int bytes = 0;\n        long size = dataInputStream.readLong();     // read file size\n        System.out.println(size);\n        byte[] buffer = new byte[4 * 1024];\n\n        ClientHandler receiver = findConnectedUser(messageSplit[2]);\n\n        promptReceiver(receiver, size);\n        receiver.dataOutputStream.writeLong(size);\n        receiver.dataOutputStream.flush();\n        //write incoming data to the receiver\n        while (size &gt; 0 &amp;&amp; (bytes = dataInputStream.read(buffer, 0, (int) Math.min(buffer.length, size))) != -1) {\n            receiver.dataOutputStream.write(buffer, 0, bytes);\n            size -= bytes;      // read upto file size\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void promptReceiver(ClientHandler client, long size) {\n    client.writer.println(&quot;would like to send you a file, do you want to receive this file? (&quot; + size + &quot; bytes) (type y/n)&quot;);\n}\n\npublic ClientHandler findConnectedUser(String username) {\n    for (ClientHandler client : connectedUsers) {\n        if (client.getUsername().equals(username)) {\n            return client;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","bluetooth","android-mediasession"],"owner":{"account_id":15287741,"reputation":143,"user_id":11030252,"display_name":"Viktor Pesic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1642431412,"creation_date":1642354285,"question_id":70732484,"body_markdown":"I am trying to read Bluetooth Headphone&#39;s buttons input and I successfully made it so the play button next button and back button works but volume up and down won&#39;t work.\r\nSo when I click play, it processed in onPlay(), but when I click next(hold volume up button) or back(hold volume down button) it is caught in onMediaButtonEvent()\r\nJust pressing volume up and down not working.\r\n\r\n     public class BluetoothListener extends Service {\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n    private MediaSessionCompat.Callback callback = new MediaSessionCompat.Callback()\r\n    {\r\n        @Override\r\n        public void onPlay() {\r\n            super.onPlay();\r\n            Toast.makeText(getApplication(),&quot;Play Button is pressed!&quot;,Toast.LENGTH_SHORT).show();\r\n            Log.d(&quot;RACKU&quot;,&quot;racku&quot;);\r\n        }\r\n\r\n\r\n\r\n        @Override\r\n        public boolean onMediaButtonEvent(Intent mediaButtonEvent) {\r\n            String intentAction = mediaButtonEvent.getAction();\r\n            if (Intent.ACTION_MEDIA_BUTTON.equals(intentAction))\r\n            {\r\n                KeyEvent event = mediaButtonEvent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\r\n                if (event != null)\r\n                {\r\n\r\n\r\n                    int action = event.getAction();\r\n                    if (action == KeyEvent.ACTION_DOWN) {\r\n                        switch (event.getKeyCode()) {\r\n                            case KeyEvent.KEYCODE_MEDIA_FAST_FORWARD:\r\n                                Toast.makeText(getApplication(),&quot;Fast forward is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_MEDIA_NEXT:\r\n                                Toast.makeText(getApplication(),&quot;Next is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE:\r\n                                Toast.makeText(getApplication(),&quot;Play is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_MEDIA_PREVIOUS:\r\n                                Toast.makeText(getApplication(),&quot;Previous is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_MEDIA_REWIND:\r\n                                Toast.makeText(getApplication(),&quot;Rewind is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_MEDIA_STOP:\r\n                                Toast.makeText(getApplication(),&quot;Stop Button is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_VOLUME_UP:\r\n                                Toast.makeText(getApplication(),&quot;Volume up is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                            case KeyEvent.KEYCODE_VOLUME_DOWN:\r\n                                Toast.makeText(getApplication(),&quot;Volume down is pressed!&quot;, Toast.LENGTH_SHORT).show();\r\n                                return true;\r\n                        }\r\n                        return false;\r\n\r\n                    }\r\n                }\r\n            }\r\n            return super.onMediaButtonEvent(mediaButtonEvent);\r\n        }\r\n    };\r\n\r\n    private MediaSessionCompat mediaSession;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        mediaSession = new MediaSessionCompat(this, &quot;MEDIA&quot;);\r\n        mediaSession.setCallback(callback);\r\n        mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\r\n        PlaybackStateCompat.Builder mStateBuilder = new PlaybackStateCompat.Builder()\r\n                .setActions(\r\n                        PlaybackStateCompat.ACTION_PLAY |\r\n                                PlaybackStateCompat.ACTION_PAUSE |\r\n                                PlaybackStateCompat.ACTION_SKIP_TO_PREVIOUS |\r\n                                PlaybackStateCompat.ACTION_SKIP_TO_NEXT |\r\n                                PlaybackStateCompat.ACTION_PLAY_PAUSE);\r\n\r\n        mediaSession.setPlaybackState(mStateBuilder.build());\r\n        mediaSession.setActive(true);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        mediaSession.release();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        MediaButtonReceiver.handleIntent(mediaSession, intent);\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n     }\r\nAndroid manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.hp&quot;&gt;\r\n    \r\n    \r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Hp&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        \r\n    \r\n            &lt;receiver android:name=&quot;androidx.media.session.MediaButtonReceiver&quot; android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.media.VOLUME_CHANGED_ACTION&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n    \r\n            &lt;service android:name=&quot;BluetoothListener&quot; android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.media.VOLUME_CHANGED_ACTION&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n","title":"Bluetooth headphone&#39;s buttons listener android, Play next and back works but volume up and down dont","body":"<p>I am trying to read Bluetooth Headphone's buttons input and I successfully made it so the play button next button and back button works but volume up and down won't work.\nSo when I click play, it processed in onPlay(), but when I click next(hold volume up button) or back(hold volume down button) it is caught in onMediaButtonEvent()\nJust pressing volume up and down not working.</p>\n<pre><code> public class BluetoothListener extends Service {\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\nprivate MediaSessionCompat.Callback callback = new MediaSessionCompat.Callback()\n{\n    @Override\n    public void onPlay() {\n        super.onPlay();\n        Toast.makeText(getApplication(),&quot;Play Button is pressed!&quot;,Toast.LENGTH_SHORT).show();\n        Log.d(&quot;RACKU&quot;,&quot;racku&quot;);\n    }\n\n\n\n    @Override\n    public boolean onMediaButtonEvent(Intent mediaButtonEvent) {\n        String intentAction = mediaButtonEvent.getAction();\n        if (Intent.ACTION_MEDIA_BUTTON.equals(intentAction))\n        {\n            KeyEvent event = mediaButtonEvent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n            if (event != null)\n            {\n\n\n                int action = event.getAction();\n                if (action == KeyEvent.ACTION_DOWN) {\n                    switch (event.getKeyCode()) {\n                        case KeyEvent.KEYCODE_MEDIA_FAST_FORWARD:\n                            Toast.makeText(getApplication(),&quot;Fast forward is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_MEDIA_NEXT:\n                            Toast.makeText(getApplication(),&quot;Next is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_MEDIA_PLAY_PAUSE:\n                            Toast.makeText(getApplication(),&quot;Play is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_MEDIA_PREVIOUS:\n                            Toast.makeText(getApplication(),&quot;Previous is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_MEDIA_REWIND:\n                            Toast.makeText(getApplication(),&quot;Rewind is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_MEDIA_STOP:\n                            Toast.makeText(getApplication(),&quot;Stop Button is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_VOLUME_UP:\n                            Toast.makeText(getApplication(),&quot;Volume up is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                        case KeyEvent.KEYCODE_VOLUME_DOWN:\n                            Toast.makeText(getApplication(),&quot;Volume down is pressed!&quot;, Toast.LENGTH_SHORT).show();\n                            return true;\n                    }\n                    return false;\n\n                }\n            }\n        }\n        return super.onMediaButtonEvent(mediaButtonEvent);\n    }\n};\n\nprivate MediaSessionCompat mediaSession;\n\n@Override\npublic void onCreate() {\n    mediaSession = new MediaSessionCompat(this, &quot;MEDIA&quot;);\n    mediaSession.setCallback(callback);\n    mediaSession.setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS | MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS);\n    PlaybackStateCompat.Builder mStateBuilder = new PlaybackStateCompat.Builder()\n            .setActions(\n                    PlaybackStateCompat.ACTION_PLAY |\n                            PlaybackStateCompat.ACTION_PAUSE |\n                            PlaybackStateCompat.ACTION_SKIP_TO_PREVIOUS |\n                            PlaybackStateCompat.ACTION_SKIP_TO_NEXT |\n                            PlaybackStateCompat.ACTION_PLAY_PAUSE);\n\n    mediaSession.setPlaybackState(mStateBuilder.build());\n    mediaSession.setActive(true);\n}\n\n@Override\npublic void onDestroy() {\n    mediaSession.release();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    MediaButtonReceiver.handleIntent(mediaSession, intent);\n    return super.onStartCommand(intent, flags, startId);\n}\n }\n</code></pre>\n<p>Android manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.hp&quot;&gt;\n\n\n\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Hp&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    \n\n        &lt;receiver android:name=&quot;androidx.media.session.MediaButtonReceiver&quot; android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n                &lt;action android:name=&quot;android.media.VOLUME_CHANGED_ACTION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;service android:name=&quot;BluetoothListener&quot; android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n                &lt;action android:name=&quot;android.media.VOLUME_CHANGED_ACTION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","neo4j"],"owner":{"account_id":8343340,"reputation":11,"user_id":6267972,"display_name":"bipin yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642431353,"creation_date":1642159333,"question_id":70709831,"body_markdown":"*We are using neo4j and postgres together in our. application. There are so many use cases where we need to do transaction for neo4j and postgres atomically. So we have used the ChainedTransactionManager with both Jpa and neo4j transactionManager.*\r\n\r\nNeo4j Server version : 4.4.0\r\nBelow are the neo4j dependencies in the code:\r\n\r\n```\r\n    |         +--- org.neo4j:neo4j-ogm-core:3.2.16\r\n    |         |    +--- org.neo4j:neo4j-ogm-api:3.2.16\r\n    |         |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.9 -&gt; 2.11.2 (*)\r\n    |         |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.9.9 -&gt; 2.11.2 (*)\r\n    |         |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.9 -&gt; 2.11.2 (*)\r\n    |         |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n    |         |    +--- org.apache.commons:commons-lang3:3.8 -&gt; 3.7\r\n    |         |    \\--- io.github.classgraph:classgraph:4.8.86\r\n    |         +--- org.neo4j:neo4j-ogm-api:3.2.16 (*)\r\n    |         +--- org.neo4j:neo4j-ogm-bolt-driver:3.2.16\r\n    |         |    +--- org.neo4j:neo4j-ogm-api:3.2.16 (*)\r\n    |         |    \\--- org.neo4j.driver:neo4j-java-driver:4.0.2\r\n```\r\n\r\nWith this some time in our application we have seen below issue even though we are not doing neo4j transaction.\r\n\r\n``` java\r\n    import javax.persistence.EntityManagerFactory;\r\n    import org.neo4j.ogm.config.Configuration;\r\n    import org.neo4j.ogm.session.SessionFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\r\n    import org.springframework.data.neo4j.transaction.Neo4jTransactionManager;\r\n    import org.springframework.data.transaction.ChainedTransactionManager;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n    @org.springframework.context.annotation.Configuration\r\n\r\n    @EnableNeo4jRepositories(basePackages = &quot;com.fb.logistics.network.masterdata.repository.graph&quot;)\r\n    @EnableJpaRepositories(basePackages = {&quot;com.fb.logistics.network.availability.repository&quot;,\r\n            &quot;com.fb.logistics.network.itinerary.repository&quot;,\r\n            &quot;com.fb.logistics.network.traversalpath.repository&quot;,\r\n            &quot;com.fb.logistics.network.common.repository&quot;,\r\n            &quot;com.fb.logistics.network.masterdata.repository.relational&quot;})\r\n    @EntityScan(basePackages = {&quot;com.fb.logistics.network&quot;})\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration {\r\n\r\n        @Value(&quot;${com.neo4j.uri}&quot;)\r\n        private String uri;\r\n\r\n        @Value(&quot;${com.neo4j.username}&quot;)\r\n        private String username;\r\n\r\n        @Value(&quot;${com.neo4j.password}&quot;)\r\n        private String password;\r\n\r\n        @Value(&quot;${com.neo4j.auth.enabled}&quot;)\r\n        private boolean authEnabled;\r\n\r\n        @Bean\r\n        public SessionFactory sessionFactory(Configuration configuration) {\r\n            return new SessionFactory(configuration, &quot;com.fb.logistics.network.masterdata&quot;);\r\n        }\r\n\r\n        @Bean\r\n        public Configuration configuration() {\r\n            Configuration.Builder builder = new Configuration.Builder();\r\n            builder.uri(uri);\r\n            if (authEnabled) {\r\n                builder.credentials(username, password);\r\n            }\r\n            return builder.build();\r\n        }\r\n\r\n\r\n        @Bean(&quot;neo4jTransactionManager&quot;)\r\n        public Neo4jTransactionManager transactionManager(SessionFactory sessionFactory) {\r\n            return new Neo4jTransactionManager(sessionFactory);\r\n        }\r\n\r\n        @Bean(&quot;jpaTransactionManager&quot;)\r\n        public JpaTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n\r\n        @Bean(name = &quot;transactionManager&quot;)\r\n        @Primary\r\n        public ChainedTransactionManager chainedTransactionManager(Neo4jTransactionManager neo4jTransactionManager,\r\n                                                                   JpaTransactionManager jpaTransactionManager) {\r\n            return new ChainedTransactionManager(neo4jTransactionManager, jpaTransactionManager);\r\n        }\r\n    }\r\n```\r\n\r\nBelow is the stacktrace which we have seen while doing some postgres transaction commit:\r\n\r\n```\r\n    org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is mixed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Server at neo4j-core-xxx-69.test-iti-123.neo4j.io:7687 is no longer available; nested exception is org.neo4j.ogm.exception.TransactionException: Server at server-orch-0037.neo4j.io:7687 is no longer available\r\n    \tat org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:177)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:633)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \tat com.fb.logistics.network.itinerary.handler.cron.impl.ComputeItineraryCronHandler$$EnhancerBySpringCGLIB$$6d7bb9f1.execute(&lt;generated&gt;)\r\n    \tat com.fb.logistics.network.itinerary.service.impl.ItineraryGenerationServiceImpl.generateItineraries(ItineraryGenerationServiceImpl.java:58)\r\n    \tat com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.process(CiCronEventsTimeoutWrapper.java:117)\r\n    \tat com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.handleEvent(CiCronEventsTimeoutWrapper.java:112)\r\n    \tat com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.lambda$execute$0(CiCronEventsTimeoutWrapper.java:81)\r\n    \tat com.fb.logistics.event.AggregateEventConsumer.executeServiceLogic(AggregateEventConsumer.java:164)\r\n    \tat com.fb.logistics.event.AggregateEventConsumer.invokeIdempotentConsumer(AggregateEventConsumer.java:157)\r\n    \tat com.fb.logistics.event.AggregateEventConsumer.execute(AggregateEventConsumer.java:118)\r\n    \tat com.fb.logistics.event.AggregateEventConsumer.accept(AggregateEventConsumer.java:93)\r\n    \tat com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.execute(CiCronEventsTimeoutWrapper.java:85)\r\n    \tat com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.processEvent(CiCronEventsTimeoutWrapper.java:56)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.execute(MethodExecutionAction.java:116)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.executeWithArgs(MethodExecutionAction.java:93)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.execute(MethodExecutionAction.java:78)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.GenericCommand$1.execute(GenericCommand.java:48)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.AbstractHystrixCommand.process(AbstractHystrixCommand.java:145)\r\n    \tat com.netflix.hystrix.contrib.javanica.command.GenericCommand.run(GenericCommand.java:45)\r\n    \tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\r\n    \tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\r\n    \tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\r\n    \tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n    \tat datadog.trace.instrumentation.rxjava.TracedOnSubscribe.call(TracedOnSubscribe.java:47)\r\n    \tat datadog.trace.instrumentation.rxjava.TracedOnSubscribe.call(TracedOnSubscribe.java:14)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n    \tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n    \tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\r\n    \tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n    \tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n    \tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\n    \tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n    \tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n    \tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n    \tat rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\r\n    \tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\r\n    \tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\r\n    \tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\r\n    \tat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available; nested exception is org.neo4j.ogm.exception.TransactionException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\r\n    \tat org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:140)\r\n    \tat org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:305)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:74)\r\n    \tat org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:150)\r\n    \t... 58 common frames omitted\r\n    Caused by: org.neo4j.ogm.exception.TransactionException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\r\n    \tat org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:111)\r\n    \tat org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:288)\r\n    \t... 62 common frames omitted\r\n    Caused by: org.neo4j.driver.exceptions.SessionExpiredException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\r\n    \tat org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:143)\r\n    \tat org.neo4j.driver.internal.InternalTransaction.commit(InternalTransaction.java:39)\r\n    \tat org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:96)\r\n    \t... 63 common frames omitted\r\n    \tSuppressed: org.neo4j.driver.internal.util.ErrorUtil$InternalExceptionCause: null\r\n    \t\tat org.neo4j.driver.internal.handlers.RoutingResponseHandler.handledServiceUnavailableException(RoutingResponseHandler.java:109)\r\n    \t\tat org.neo4j.driver.internal.handlers.RoutingResponseHandler.handledError(RoutingResponseHandler.java:90)\r\n    \t\tat org.neo4j.driver.internal.handlers.RoutingResponseHandler.onFailure(RoutingResponseHandler.java:62)\r\n    \t\tat org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleChannelError(InboundMessageDispatcher.java:161)\r\n    \t\tat org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.fail(ChannelErrorHandler.java:99)\r\n    \t\tat org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.channelInactive(ChannelErrorHandler.java:77)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1106)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \t\tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t\t... 1 common frames omitted\r\n    Caused by: org.neo4j.driver.exceptions.ServiceUnavailableException: Connection to the database terminated. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.\r\n    \tat org.neo4j.driver.internal.util.ErrorUtil.newConnectionTerminatedError(ErrorUtil.java:53)\r\n    \tat org.neo4j.driver.internal.util.ErrorUtil.newConnectionTerminatedError(ErrorUtil.java:46)\r\n    \tat org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.channelInactive(ChannelErrorHandler.java:76)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1106)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t... 1 common frames omitted\r\n\r\n```\r\n","title":"Heuristic completion: outcome state is mixed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException","body":"<p><em>We are using neo4j and postgres together in our. application. There are so many use cases where we need to do transaction for neo4j and postgres atomically. So we have used the ChainedTransactionManager with both Jpa and neo4j transactionManager.</em></p>\n<p>Neo4j Server version : 4.4.0\nBelow are the neo4j dependencies in the code:</p>\n<pre><code>    |         +--- org.neo4j:neo4j-ogm-core:3.2.16\n    |         |    +--- org.neo4j:neo4j-ogm-api:3.2.16\n    |         |    |    +--- com.fasterxml.jackson.core:jackson-databind:2.9.9 -&gt; 2.11.2 (*)\n    |         |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.9.9 -&gt; 2.11.2 (*)\n    |         |    |    +--- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.9 -&gt; 2.11.2 (*)\n    |         |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n    |         |    +--- org.apache.commons:commons-lang3:3.8 -&gt; 3.7\n    |         |    \\--- io.github.classgraph:classgraph:4.8.86\n    |         +--- org.neo4j:neo4j-ogm-api:3.2.16 (*)\n    |         +--- org.neo4j:neo4j-ogm-bolt-driver:3.2.16\n    |         |    +--- org.neo4j:neo4j-ogm-api:3.2.16 (*)\n    |         |    \\--- org.neo4j.driver:neo4j-java-driver:4.0.2\n</code></pre>\n<p>With this some time in our application we have seen below issue even though we are not doing neo4j transaction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import javax.persistence.EntityManagerFactory;\n    import org.neo4j.ogm.config.Configuration;\n    import org.neo4j.ogm.session.SessionFactory;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Primary;\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n    import org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories;\n    import org.springframework.data.neo4j.transaction.Neo4jTransactionManager;\n    import org.springframework.data.transaction.ChainedTransactionManager;\n    import org.springframework.orm.jpa.JpaTransactionManager;\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\n\n    @org.springframework.context.annotation.Configuration\n\n    @EnableNeo4jRepositories(basePackages = &quot;com.fb.logistics.network.masterdata.repository.graph&quot;)\n    @EnableJpaRepositories(basePackages = {&quot;com.fb.logistics.network.availability.repository&quot;,\n            &quot;com.fb.logistics.network.itinerary.repository&quot;,\n            &quot;com.fb.logistics.network.traversalpath.repository&quot;,\n            &quot;com.fb.logistics.network.common.repository&quot;,\n            &quot;com.fb.logistics.network.masterdata.repository.relational&quot;})\n    @EntityScan(basePackages = {&quot;com.fb.logistics.network&quot;})\n    @EnableTransactionManagement\n    public class DatabaseConfiguration {\n\n        @Value(&quot;${com.neo4j.uri}&quot;)\n        private String uri;\n\n        @Value(&quot;${com.neo4j.username}&quot;)\n        private String username;\n\n        @Value(&quot;${com.neo4j.password}&quot;)\n        private String password;\n\n        @Value(&quot;${com.neo4j.auth.enabled}&quot;)\n        private boolean authEnabled;\n\n        @Bean\n        public SessionFactory sessionFactory(Configuration configuration) {\n            return new SessionFactory(configuration, &quot;com.fb.logistics.network.masterdata&quot;);\n        }\n\n        @Bean\n        public Configuration configuration() {\n            Configuration.Builder builder = new Configuration.Builder();\n            builder.uri(uri);\n            if (authEnabled) {\n                builder.credentials(username, password);\n            }\n            return builder.build();\n        }\n\n\n        @Bean(&quot;neo4jTransactionManager&quot;)\n        public Neo4jTransactionManager transactionManager(SessionFactory sessionFactory) {\n            return new Neo4jTransactionManager(sessionFactory);\n        }\n\n        @Bean(&quot;jpaTransactionManager&quot;)\n        public JpaTransactionManager jpaTransactionManager(EntityManagerFactory entityManagerFactory) {\n            return new JpaTransactionManager(entityManagerFactory);\n        }\n\n        @Bean(name = &quot;transactionManager&quot;)\n        @Primary\n        public ChainedTransactionManager chainedTransactionManager(Neo4jTransactionManager neo4jTransactionManager,\n                                                                   JpaTransactionManager jpaTransactionManager) {\n            return new ChainedTransactionManager(neo4jTransactionManager, jpaTransactionManager);\n        }\n    }\n</code></pre>\n<p>Below is the stacktrace which we have seen while doing some postgres transaction commit:</p>\n<pre><code>    org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is mixed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Server at neo4j-core-xxx-69.test-iti-123.neo4j.io:7687 is no longer available; nested exception is org.neo4j.ogm.exception.TransactionException: Server at server-orch-0037.neo4j.io:7687 is no longer available\n        at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:177)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:633)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:386)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n        at com.fb.logistics.network.itinerary.handler.cron.impl.ComputeItineraryCronHandler$$EnhancerBySpringCGLIB$$6d7bb9f1.execute(&lt;generated&gt;)\n        at com.fb.logistics.network.itinerary.service.impl.ItineraryGenerationServiceImpl.generateItineraries(ItineraryGenerationServiceImpl.java:58)\n        at com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.process(CiCronEventsTimeoutWrapper.java:117)\n        at com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.handleEvent(CiCronEventsTimeoutWrapper.java:112)\n        at com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.lambda$execute$0(CiCronEventsTimeoutWrapper.java:81)\n        at com.fb.logistics.event.AggregateEventConsumer.executeServiceLogic(AggregateEventConsumer.java:164)\n        at com.fb.logistics.event.AggregateEventConsumer.invokeIdempotentConsumer(AggregateEventConsumer.java:157)\n        at com.fb.logistics.event.AggregateEventConsumer.execute(AggregateEventConsumer.java:118)\n        at com.fb.logistics.event.AggregateEventConsumer.accept(AggregateEventConsumer.java:93)\n        at com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.execute(CiCronEventsTimeoutWrapper.java:85)\n        at com.fb.logistics.network.itinerary.messaging.listener.CiCronEventsTimeoutWrapper.processEvent(CiCronEventsTimeoutWrapper.java:56)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.execute(MethodExecutionAction.java:116)\n        at com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.executeWithArgs(MethodExecutionAction.java:93)\n        at com.netflix.hystrix.contrib.javanica.command.MethodExecutionAction.execute(MethodExecutionAction.java:78)\n        at com.netflix.hystrix.contrib.javanica.command.GenericCommand$1.execute(GenericCommand.java:48)\n        at com.netflix.hystrix.contrib.javanica.command.AbstractHystrixCommand.process(AbstractHystrixCommand.java:145)\n        at com.netflix.hystrix.contrib.javanica.command.GenericCommand.run(GenericCommand.java:45)\n        at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\n        at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\n        at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\n        at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n        at datadog.trace.instrumentation.rxjava.TracedOnSubscribe.call(TracedOnSubscribe.java:47)\n        at datadog.trace.instrumentation.rxjava.TracedOnSubscribe.call(TracedOnSubscribe.java:14)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\n        at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\n        at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\n        at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\n        at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n        at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n        at rx.Observable.unsafeSubscribe(Observable.java:10327)\n        at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\n        at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\n        at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\n        at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\n        at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available; nested exception is org.neo4j.ogm.exception.TransactionException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\n        at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:140)\n        at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:305)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n        at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:74)\n        at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:150)\n        ... 58 common frames omitted\n    Caused by: org.neo4j.ogm.exception.TransactionException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\n        at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:111)\n        at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:288)\n        ... 62 common frames omitted\n    Caused by: org.neo4j.driver.exceptions.SessionExpiredException: Server at neo4j-core-d8c94312-69.production-orch-0037.neo4j.io:7687 is no longer available\n        at org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:143)\n        at org.neo4j.driver.internal.InternalTransaction.commit(InternalTransaction.java:39)\n        at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:96)\n        ... 63 common frames omitted\n        Suppressed: org.neo4j.driver.internal.util.ErrorUtil$InternalExceptionCause: null\n            at org.neo4j.driver.internal.handlers.RoutingResponseHandler.handledServiceUnavailableException(RoutingResponseHandler.java:109)\n            at org.neo4j.driver.internal.handlers.RoutingResponseHandler.handledError(RoutingResponseHandler.java:90)\n            at org.neo4j.driver.internal.handlers.RoutingResponseHandler.onFailure(RoutingResponseHandler.java:62)\n            at org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleChannelError(InboundMessageDispatcher.java:161)\n            at org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.fail(ChannelErrorHandler.java:99)\n            at org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.channelInactive(ChannelErrorHandler.java:77)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n            at org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1106)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\n            at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n            at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n            at org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\n            at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n            at org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n            at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n            ... 1 common frames omitted\n    Caused by: org.neo4j.driver.exceptions.ServiceUnavailableException: Connection to the database terminated. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.\n        at org.neo4j.driver.internal.util.ErrorUtil.newConnectionTerminatedError(ErrorUtil.java:53)\n        at org.neo4j.driver.internal.util.ErrorUtil.newConnectionTerminatedError(ErrorUtil.java:46)\n        at org.neo4j.driver.internal.async.inbound.ChannelErrorHandler.channelInactive(ChannelErrorHandler.java:76)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInputClosed(ByteToMessageDecoder.java:389)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelInactive(ByteToMessageDecoder.java:354)\n        at org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1106)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:241)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:262)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:248)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannel$AbstractUnsafe$8.run(AbstractChannel.java:818)\n        at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497)\n        at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        ... 1 common frames omitted\n\n</code></pre>\n"},{"tags":["java","api","testing","rest-assured","pojo"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642426246,"creation_date":1642426246,"answer_id":70742188,"question_id":70742030,"body_markdown":"Not sure if I understood correctly. So maybe this answer goes in the totally wrong direction.\r\n\r\nIf you have lots of Classes and member variables, to streamline handling, you could introduce a level of abstraction.\r\nAs an example: \r\n - instead of a class and its member variables, you could have a HashMap that stores [variable name] as key, and [variable value] as value.\r\n - for multiple object of the same class, instantiate multiple HashMaps\r\n - maybe hold all those produced HashMaps in a Collection like a List\r\n - maybe even have an &#39;outer&#39; HashMap, that maps [class name] to [collection]\r\n - in the end it might look like this: HashMap[class name -&gt; Collection], Collection contains multiple &#39;object&#39; HashMaps. Object HashMaps map their [member variable name] to the [meber variable value]\r\n\r\nNow, to the JSON part: Google&#39;s GSON already has classes in place that do exactly that (object abstraction), so you now have an easy bridge between JSON and Java.\r\n\r\nAnd then you bring it all together and only write ONE serializer and ONE deserializer for ALL classes you wanna handle.\r\n","title":"Can we deal with JSON data directly instead of creating POJO classes while creating Rest Assured framework?","body":"<p>Not sure if I understood correctly. So maybe this answer goes in the totally wrong direction.</p>\n<p>If you have lots of Classes and member variables, to streamline handling, you could introduce a level of abstraction.\nAs an example:</p>\n<ul>\n<li>instead of a class and its member variables, you could have a HashMap that stores [variable name] as key, and [variable value] as value.</li>\n<li>for multiple object of the same class, instantiate multiple HashMaps</li>\n<li>maybe hold all those produced HashMaps in a Collection like a List</li>\n<li>maybe even have an 'outer' HashMap, that maps [class name] to [collection]</li>\n<li>in the end it might look like this: HashMap[class name -&gt; Collection], Collection contains multiple 'object' HashMaps. Object HashMaps map their [member variable name] to the [meber variable value]</li>\n</ul>\n<p>Now, to the JSON part: Google's GSON already has classes in place that do exactly that (object abstraction), so you now have an easy bridge between JSON and Java.</p>\n<p>And then you bring it all together and only write ONE serializer and ONE deserializer for ALL classes you wanna handle.</p>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642431307,"creation_date":1642431307,"answer_id":70743326,"question_id":70742030,"body_markdown":"In the end, you still have to put value to POJO or any kinds of object (Map, List, JSON objects...) to create a json payload. I don&#39;t like the idea manipulating data directly, it&#39;s so rigid.\r\nTo make your work less tedious, some techniques can be applied:\r\n\r\n- Create inner classes if you don&#39;t want to create too many POJO classes separatly.\r\n- Use Builder pattern (Intellij suggestion or @Builder annotation in lombok) to create POJO instance more straightforward (comparing to basic Setter).\r\n- Create POJO instance with default value for each property, then only the property that matters.\r\n- Separate the creation of POJO object in other packages, like `PersonFactory` to build `Person` instance. It will help make test cleaner.","title":"Can we deal with JSON data directly instead of creating POJO classes while creating Rest Assured framework?","body":"<p>In the end, you still have to put value to POJO or any kinds of object (Map, List, JSON objects...) to create a json payload. I don't like the idea manipulating data directly, it's so rigid.\nTo make your work less tedious, some techniques can be applied:</p>\n<ul>\n<li>Create inner classes if you don't want to create too many POJO classes separatly.</li>\n<li>Use Builder pattern (Intellij suggestion or @Builder annotation in lombok) to create POJO instance more straightforward (comparing to basic Setter).</li>\n<li>Create POJO instance with default value for each property, then only the property that matters.</li>\n<li>Separate the creation of POJO object in other packages, like <code>PersonFactory</code> to build <code>Person</code> instance. It will help make test cleaner.</li>\n</ul>\n"}],"owner":{"account_id":11066069,"reputation":45,"user_id":8125854,"display_name":"saurabh "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642431307,"creation_date":1642425491,"question_id":70742030,"body_markdown":"I have seen in many Rest Assured frameworks that we create POJO classes for Serialization &amp; deserialization but let&#39;s say we have to automate more than 50-70 APIs thus, creating POJO classes for all seems tedious work so can we deal with JSON objects and data directly? We can get rid of getters and setters by using Lombok annotations but still, we will have to set variables. just curious about what should be the best practice we can follow?","title":"Can we deal with JSON data directly instead of creating POJO classes while creating Rest Assured framework?","body":"<p>I have seen in many Rest Assured frameworks that we create POJO classes for Serialization &amp; deserialization but let's say we have to automate more than 50-70 APIs thus, creating POJO classes for all seems tedious work so can we deal with JSON objects and data directly? We can get rid of getters and setters by using Lombok annotations but still, we will have to set variables. just curious about what should be the best practice we can follow?</p>\n"},{"tags":["java","junit","reflection","annotations"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642295060,"post_id":70726617,"comment_id":125033139,"body_markdown":"Use `getClass()` in the constructor?","body":"Use <code>getClass()</code> in the constructor?"},{"owner":{"account_id":10830839,"reputation":61,"user_id":7965289,"display_name":"Ganesh Budhathoki"},"score":0,"creation_date":1642295087,"post_id":70726617,"comment_id":125033146,"body_markdown":"could polymorphism be a possible answer? what if you define start() in your subclass MyTest and pass class name from there? Although that way you might have to define it in every Test class you write.","body":"could polymorphism be a possible answer? what if you define start() in your subclass MyTest and pass class name from there? Although that way you might have to define it in every Test class you write."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1642296141,"post_id":70726617,"comment_id":125033247,"body_markdown":"Ganesh,  what you are suggesting will work (although can&#39;t use polymorphism as @BeforeAll can only be used in static methods). However, I was hoping I wouldn&#39;t have to do this for every test (which could be hundreds)","body":"Ganesh,  what you are suggesting will work (although can&#39;t use polymorphism as @BeforeAll can only be used in static methods). However, I was hoping I wouldn&#39;t have to do this for every test (which could be hundreds)"},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1642296375,"post_id":70726617,"comment_id":125033270,"body_markdown":"@johannes Kuhn Can&#39;t use this reference when calling super(..) but can do this MethodHandles.lookup().lookupClass(). But still would like to do it via reflexion though.","body":"@johannes Kuhn Can&#39;t use this reference when calling super(..) but can do this MethodHandles.lookup().lookupClass(). But still would like to do it via reflexion though."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642344309,"post_id":70726617,"comment_id":125040674,"body_markdown":"I mean in the constructor of `MyAbstractClass`: `public MyAbstractClass() {Class&lt;?&gt; clazz = getClass(); ...}`.","body":"I mean in the constructor of <code>MyAbstractClass</code>: <code>public MyAbstractClass() {Class&lt;?&gt; clazz = getClass(); ...}</code>."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":0,"creation_date":1642345247,"post_id":70726617,"comment_id":125040930,"body_markdown":"I need to get the name of the subclass (MyTest) in the superclass (MyAbstractClass). If I do what you mention, I will get MyAbstractClass in MyAbstractClass.","body":"I need to get the name of the subclass (MyTest) in the superclass (MyAbstractClass). If I do what you mention, I will get MyAbstractClass in MyAbstractClass."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1642384106,"post_id":70726617,"comment_id":125049134,"body_markdown":"Nope, you will get `MyTest`. [Example](https://ideone.com/ZbSrUm).","body":"Nope, you will get <code>MyTest</code>. <a href=\"https://ideone.com/ZbSrUm\" rel=\"nofollow noreferrer\">Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642431232,"creation_date":1642430519,"answer_id":70743138,"question_id":70726617,"body_markdown":"The presence of the `@BeforeAll` annotation suggests you are using JUnit&#160;5. In this case, you can use.\r\n\r\n```java\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.TestInfo;\r\n\r\npublic class MyAbstractClass {\r\n    @BeforeAll\r\n    public static void start(TestInfo ti) {\r\n        Config cfg=readConfig(ti.getTestClass().orElseThrow(IllegalStateException::new));\r\n        //Use config to do one time set-up\r\n    }\r\n\r\n    private static Config readConfig(Class&lt;?&gt; testClass) {\r\n         MyAnnotation ann = testClass.getAnnotation(MyAnnotation.class);\r\n         return new Config(ann.host(), ann.port());\r\n    }\r\n}\r\n```\r\n\r\nSee also the [`TestInfo` API documentation].\r\n\r\nThis is not “Reflection Magic” but a feature provided by JUnit itself, but it’s also only JUnit which knows that the invocation of a `static` method annotated with `@BeforeAll` is associated with a particular test class it is going to process.\r\n\r\n[`TestInfo` API documentation]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html","title":"Reading custom annotation for JUNIT","body":"<p>The presence of the <code>@BeforeAll</code> annotation suggests you are using JUnit 5. In this case, you can use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.TestInfo;\n\npublic class MyAbstractClass {\n    @BeforeAll\n    public static void start(TestInfo ti) {\n        Config cfg=readConfig(ti.getTestClass().orElseThrow(IllegalStateException::new));\n        //Use config to do one time set-up\n    }\n\n    private static Config readConfig(Class&lt;?&gt; testClass) {\n         MyAnnotation ann = testClass.getAnnotation(MyAnnotation.class);\n         return new Config(ann.host(), ann.port());\n    }\n}\n</code></pre>\n<p>See also the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\"><code>TestInfo</code> API documentation</a>.</p>\n<p>This is not “Reflection Magic” but a feature provided by JUnit itself, but it’s also only JUnit which knows that the invocation of a <code>static</code> method annotated with <code>@BeforeAll</code> is associated with a particular test class it is going to process.</p>\n"}],"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70743138,"answer_count":1,"score":0,"last_activity_date":1642431232,"creation_date":1642294236,"question_id":70726617,"body_markdown":"I have a custom annotation which I use as config to start off one time set-up for Junit.\r\n\r\n\r\n    @Target(TYPE) @Retention(RUNTIME)\r\n    public @interface MyAnnotation{\r\n       String host();\r\n       int port();\r\n    }\r\n\r\nTest class:\r\n\r\n    @MyAnnotation(host=&quot;0.0.0.0&quot;, port=4567)\r\n    public class MyTest extends MyAbstractClass{\r\n       @Test\r\n       public void myTest(){\r\n          //do testy things\r\n       }   \r\n    }\r\n\r\nSuperclass:\r\n\r\n    public class MyAbstractClass{\r\n    \r\n       @BeforeAll\r\n       public static void start(){\r\n        Config cfg = readConfig();\r\n        //Use config to do one time set-up\r\n       }\r\n    \r\n       private static Config readConfig(){\r\n          MyAnnotation ann = MyTest.class.getAnnotation(MyAnnotation.class);\r\n          return new Config(ann.host(), ann.port());\r\n       }\r\n    }\r\n\r\nSo currently, I hardcode the name of the test class (**MyTest**) in **readConfig(..)**.\r\nThis won&#39;t work when I add a second test class.\r\n\r\nOne way to solve it is:\r\n \r\n\r\n - Add another @BeforeAll method in MyTest which will call the @BeforeAll in super-class and pass the class name as a param.\r\n\r\nHowever, I am curious if I can read the name of the **executing** subclass in the superclass via some reflexion magic.\r\nAny ideas are most welcome.\r\n\r\nThanks","title":"Reading custom annotation for JUNIT","body":"<p>I have a custom annotation which I use as config to start off one time set-up for Junit.</p>\n<pre><code>@Target(TYPE) @Retention(RUNTIME)\npublic @interface MyAnnotation{\n   String host();\n   int port();\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@MyAnnotation(host=&quot;0.0.0.0&quot;, port=4567)\npublic class MyTest extends MyAbstractClass{\n   @Test\n   public void myTest(){\n      //do testy things\n   }   \n}\n</code></pre>\n<p>Superclass:</p>\n<pre><code>public class MyAbstractClass{\n\n   @BeforeAll\n   public static void start(){\n    Config cfg = readConfig();\n    //Use config to do one time set-up\n   }\n\n   private static Config readConfig(){\n      MyAnnotation ann = MyTest.class.getAnnotation(MyAnnotation.class);\n      return new Config(ann.host(), ann.port());\n   }\n}\n</code></pre>\n<p>So currently, I hardcode the name of the test class (<strong>MyTest</strong>) in <strong>readConfig(..)</strong>.\nThis won't work when I add a second test class.</p>\n<p>One way to solve it is:</p>\n<ul>\n<li>Add another @BeforeAll method in MyTest which will call the @BeforeAll in super-class and pass the class name as a param.</li>\n</ul>\n<p>However, I am curious if I can read the name of the <strong>executing</strong> subclass in the superclass via some reflexion magic.\nAny ideas are most welcome.</p>\n<p>Thanks</p>\n"},{"tags":["java","xml","xsd","jaxb"],"owner":{"account_id":9242054,"reputation":145,"user_id":6865098,"display_name":"jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1639191349,"answer_count":0,"score":1,"last_activity_date":1642430982,"creation_date":1639183518,"question_id":70311829,"body_markdown":"I want to add xmlns:xsi and xsi:noNamespaceSchemaLocation in an xml root element.  \r\nI need something like this:\r\n\r\n    &lt;Product xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;product_1.xsd&quot;&gt;\r\n\r\ni tried using the code below:\r\n\r\n    JAXBContext contextObj = JAXBContext.newInstance(Product.class);\r\n    Marshaller marshallerObj = contextObj.createMarshaller();\r\n    marshallerObj.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n    marshallerObj.setProperty(Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION, &quot;product_1.xsd&quot;);\r\n\r\nThe code, however, generated this output:\r\n\r\n    &lt;IMARKET xsi:noNamespaceSchemaLocation=&quot;product_1.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\r\nWhy is it getting reversed? Is there any way to maintain the order?\r\n","title":"add namespace information in xml root element","body":"<p>I want to add xmlns:xsi and xsi:noNamespaceSchemaLocation in an xml root element.<br />\nI need something like this:</p>\n<pre><code>&lt;Product xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;product_1.xsd&quot;&gt;\n</code></pre>\n<p>i tried using the code below:</p>\n<pre><code>JAXBContext contextObj = JAXBContext.newInstance(Product.class);\nMarshaller marshallerObj = contextObj.createMarshaller();\nmarshallerObj.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\nmarshallerObj.setProperty(Marshaller.JAXB_NO_NAMESPACE_SCHEMA_LOCATION, &quot;product_1.xsd&quot;);\n</code></pre>\n<p>The code, however, generated this output:</p>\n<pre><code>&lt;IMARKET xsi:noNamespaceSchemaLocation=&quot;product_1.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n</code></pre>\n<p>Why is it getting reversed? Is there any way to maintain the order?</p>\n"},{"tags":["java","maven-compiler-plugin","intellij-idea2017"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1510906408,"post_id":47346038,"comment_id":81643767,"body_markdown":"by removing the compilerArgs?","body":"by removing the compilerArgs?"},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1510906500,"post_id":47346038,"comment_id":81643805,"body_markdown":"@Stultuske This is not a good solution. You see, I need this attribute and it is supported by maven compiler plugin 3.0. `mvn clean compile` takes it. Intellj does not.","body":"@Stultuske This is not a good solution. You see, I need this attribute and it is supported by maven compiler plugin 3.0. <code>mvn clean compile</code> takes it. Intellj does not."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1510906626,"post_id":47346038,"comment_id":81643871,"body_markdown":"whether it&#39;s a good solution or not, your error message is saying that either you&#39;ve used a tag you&#39;re not allowed to use, or you&#39;ve used it in the wrong place. leaving it there won&#39;t solve the issue neither","body":"whether it&#39;s a good solution or not, your error message is saying that either you&#39;ve used a tag you&#39;re not allowed to use, or you&#39;ve used it in the wrong place. leaving it there won&#39;t solve the issue neither"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1510906692,"post_id":47346038,"comment_id":81643909,"body_markdown":"ok, and are you sure that&#39;s the version your intellij instance uses?","body":"ok, and are you sure that&#39;s the version your intellij instance uses?"},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1510906740,"post_id":47346038,"comment_id":81643938,"body_markdown":"No, I am not, but I am am not really sure how intellij and maven integrates.","body":"No, I am not, but I am am not really sure how intellij and maven integrates."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1510906828,"post_id":47346038,"comment_id":81643991,"body_markdown":"you can tell intellij to use your local maven setup, instead of the embedded one","body":"you can tell intellij to use your local maven setup, instead of the embedded one"},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1511511391,"post_id":47346038,"comment_id":81892217,"body_markdown":"@Stultuske seems you was right all along xD. There were some versioning issues. Thank you anyway.","body":"@Stultuske seems you was right all along xD. There were some versioning issues. Thank you anyway."}],"answers":[{"tags":[],"owner":{"account_id":7611917,"reputation":2415,"user_id":5772498,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1510907008,"creation_date":1510906752,"answer_id":47346131,"question_id":47346038,"body_markdown":"I suggest you try maven-compiler-plugin version 3.7.0.\r\n\r\nIf you stay on version 3.0, update your setup so it looks like this example: http://maven.apache.org/plugins-archives/maven-compiler-plugin-3.0/examples/pass-compiler-arguments.html\r\n\r\nIf you can go up to 3.7.0, take a look at this example (which is very similar to your code):\r\nhttps://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html#","title":"How to solve Element compilerArgs is not allowed here Error in maven compiler plugin?","body":"<p>I suggest you try maven-compiler-plugin version 3.7.0.</p>\n\n<p>If you stay on version 3.0, update your setup so it looks like this example: <a href=\"http://maven.apache.org/plugins-archives/maven-compiler-plugin-3.0/examples/pass-compiler-arguments.html\" rel=\"noreferrer\">http://maven.apache.org/plugins-archives/maven-compiler-plugin-3.0/examples/pass-compiler-arguments.html</a></p>\n\n<p>If you can go up to 3.7.0, take a look at this example (which is very similar to your code):\n<a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html#\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/examples/pass-compiler-arguments.html#</a></p>\n"},{"tags":[],"owner":{"account_id":2874479,"reputation":789,"user_id":2466971,"display_name":"gleitonfranco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621385666,"creation_date":1621385666,"answer_id":67595617,"question_id":47346038,"body_markdown":"Changing the tag name to compilerArguments or another allowed by the IDE may work.","title":"How to solve Element compilerArgs is not allowed here Error in maven compiler plugin?","body":"<p>Changing the tag name to compilerArguments or another allowed by the IDE may work.</p>\n"},{"tags":[],"owner":{"account_id":7427874,"reputation":374,"user_id":5649810,"display_name":"lubrum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625861204,"creation_date":1625861204,"answer_id":68322227,"question_id":47346038,"body_markdown":"I was with almost the same problem. \r\n\r\nI was with jdk 16, maven compiler 3.8.1 and IntelliJ version 2021.1.3.\r\n\r\nAfter any changes in pom.xml, a small icon on the right showed to me (**Load Maven Changes**). After clicking that button, the issue was solved. ","title":"How to solve Element compilerArgs is not allowed here Error in maven compiler plugin?","body":"<p>I was with almost the same problem.</p>\n<p>I was with jdk 16, maven compiler 3.8.1 and IntelliJ version 2021.1.3.</p>\n<p>After any changes in pom.xml, a small icon on the right showed to me (<strong>Load Maven Changes</strong>). After clicking that button, the issue was solved.</p>\n"},{"tags":[],"owner":{"account_id":9057807,"reputation":319,"user_id":6745434,"display_name":"Gitesh kumar Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642430758,"creation_date":1642430758,"answer_id":70743182,"question_id":47346038,"body_markdown":"This is how I solved it without making any changes into the pom.xml\r\n\r\n    mvn clean compile -Dmaven.compiler.forceJavacCompilerUse=true\r\n\r\nThis will highlight the actual compilation error in the console to solve.","title":"How to solve Element compilerArgs is not allowed here Error in maven compiler plugin?","body":"<p>This is how I solved it without making any changes into the pom.xml</p>\n<pre><code>mvn clean compile -Dmaven.compiler.forceJavacCompilerUse=true\n</code></pre>\n<p>This will highlight the actual compilation error in the console to solve.</p>\n"}],"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47346131,"answer_count":4,"score":2,"last_activity_date":1642430758,"creation_date":1510906366,"question_id":47346038,"body_markdown":"I am using the maven compiler plugin 3.0 and I get the error &quot;Element compilerArgs is not allowed here&quot;. This seems to work for command line but I get this Error in the IDE,.I use IDEA 2017.2 community edition. There is likely some schema missing somewhere, but I am not sure. Does anyone have a good way to solve issues like this, that is not to send a bug report to JetBrains and wait for a fix?\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.7&lt;/source&gt;\r\n            &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-DspecificArg&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to solve Element compilerArgs is not allowed here Error in maven compiler plugin?","body":"<p>I am using the maven compiler plugin 3.0 and I get the error \"Element compilerArgs is not allowed here\". This seems to work for command line but I get this Error in the IDE,.I use IDEA 2017.2 community edition. There is likely some schema missing somewhere, but I am not sure. Does anyone have a good way to solve issues like this, that is not to send a bug report to JetBrains and wait for a fix?</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.7&lt;/source&gt;\n        &lt;target&gt;1.7&lt;/target&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-DspecificArg&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","sql","string","date","date-formatting"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1642084638,"post_id":70698289,"comment_id":124982162,"body_markdown":"&quot;SQL Date values do not have a time component&quot; is mentioned 6 times in the official javadoc of that class: https://docs.oracle.com/javase/7/docs/api/java/sql/Date.html - That&#39;s why your first source for debugging should always be to look at the official documentation!","body":"&quot;SQL Date values do not have a time component&quot; is mentioned 6 times in the official javadoc of that class: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Date.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/sql/Date.html</a> - That&#39;s why your first source for debugging should always be to look at the official documentation!"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1642140446,"post_id":70698289,"comment_id":124997009,"body_markdown":"I don&#39;t think you should be using a `java.sql.Date` if you want a class that can store information about *something like this `2022-01-13 14:33:07.996`*. A `java.sql.Date` simply has year, month of year and day of month as its attributes, nothing more, no time of day, no hours, minutes, seconds or smaller (if you don&#39;t believe it, read [a document that contains a remarkable set of the words *deprecated* and *deprecation*](https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html)). You&#39;ll be best adviced using one of the solutions provided by @BasilBorque.","body":"I don&#39;t think you should be using a <code>java.sql.Date</code> if you want a class that can store information about <i>something like this <code>2022-01-13 14:33:07.996</code></i>. A <code>java.sql.Date</code> simply has year, month of year and day of month as its attributes, nothing more, no time of day, no hours, minutes, seconds or smaller (if you don&#39;t believe it, read <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html\" rel=\"nofollow noreferrer\">a document that contains a remarkable set of the words <i>deprecated</i> and <i>deprecation</i></a>). You&#39;ll be best adviced using one of the solutions provided by @BasilBorque."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642430361,"creation_date":1642089514,"answer_id":70699492,"question_id":70698289,"body_markdown":"# tl;dr\r\n\r\nTo write date-time values to a database, use appropriate objects, not text. For a date-only value, use `LocalDate`.\r\n\r\n    myPreparedStatement\r\n    .setObject(\r\n        … ,\r\n        LocalDateTime\r\n        .parse( &quot;2022-01-13 14:33:07.996&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\r\n        .toLocalDate()\r\n    )\r\n\r\n# Avoid legacy date-time classes\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n# Date-only\r\n\r\nYou said: \r\n\r\n&gt; 2022-01-13 14:33:07.996 in java sql date format\r\n\r\nThat is a contradiction. A `java.sql.Date` object represents a date-only, not a date with time-of-day. \r\n\r\n# `java.time.LocalDateTime`\r\n\r\nParse your input string as a `LocalDateTime` because it lacks any indicator of time zone or offset. Replace the SPACE in the middle with a `T` to comply with the [ISO 8601][1] standard. \r\n\r\n    String input = &quot;2022-01-13 14:33:07.996&quot;.replace( &quot; &quot; , &quot;T&quot; ) ;\r\n    LocalDateTime ldt = LocalDateTime.parse( input ) ;\r\n\r\n# `java.time.LocalDate`\r\n\r\nExtract the date portion.\r\n\r\n    LocalDate ld = ldt.toLocalDate() ;\r\n\r\n# Database access\r\n\r\nWrite to database.\r\n\r\n    myPreparedStatement.setObject( … , ld ) ;\r\n\r\nRetrieve from database.\r\n\r\n    LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\r\n\r\nThese matters have been covered many many times already on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"convert string date to sql date format","body":"<h1>tl;dr</h1>\n<p>To write date-time values to a database, use appropriate objects, not text. For a date-only value, use <code>LocalDate</code>.</p>\n<pre><code>myPreparedStatement\n.setObject(\n    … ,\n    LocalDateTime\n    .parse( &quot;2022-01-13 14:33:07.996&quot;.replace( &quot; &quot; , &quot;T&quot; ) )\n    .toLocalDate()\n)\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1>Date-only</h1>\n<p>You said:</p>\n<blockquote>\n<p>2022-01-13 14:33:07.996 in java sql date format</p>\n</blockquote>\n<p>That is a contradiction. A <code>java.sql.Date</code> object represents a date-only, not a date with time-of-day.</p>\n<h1><code>java.time.LocalDateTime</code></h1>\n<p>Parse your input string as a <code>LocalDateTime</code> because it lacks any indicator of time zone or offset. Replace the SPACE in the middle with a <code>T</code> to comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard.</p>\n<pre><code>String input = &quot;2022-01-13 14:33:07.996&quot;.replace( &quot; &quot; , &quot;T&quot; ) ;\nLocalDateTime ldt = LocalDateTime.parse( input ) ;\n</code></pre>\n<h1><code>java.time.LocalDate</code></h1>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate ld = ldt.toLocalDate() ;\n</code></pre>\n<h1>Database access</h1>\n<p>Write to database.</p>\n<pre><code>myPreparedStatement.setObject( … , ld ) ;\n</code></pre>\n<p>Retrieve from database.</p>\n<pre><code>LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n<p>These matters have been covered many many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":18133122,"reputation":29,"user_id":13187998,"display_name":"gbeto Jean-Jos&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70699492,"answer_count":1,"score":-1,"last_activity_date":1642430361,"creation_date":1642084177,"question_id":70698289,"body_markdown":"I want to convert this string &quot;2022-01-13 14:33:07.996&quot; to java sql date. I have read the answers and I have converted the string to java util date and then to java sql date. I just don&#39;t know how to get the full date in java sql date format\r\n\r\n```\r\nString dateStart = &quot;2022-01-13 14:33:07.996&quot;;\r\n         DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;); \r\n\t\t Date date1 = dateFormat.parse(dateStart);\r\n\t\t java.util.Date utilDate = date1;\r\n\t\t java.sql.Date sqlDate = new java.sql.Date(date1.getTime());\r\nSystem.out.println(sqlDate);\r\n\r\n```\r\n\r\nin out put i get this\r\n\r\n```\r\n2022-01-13\r\n\r\n```\r\nbut I want something like this ```2022-01-13 14:33:07.996``` in java sql date format\r\n","title":"convert string date to sql date format","body":"<p>I want to convert this string &quot;2022-01-13 14:33:07.996&quot; to java sql date. I have read the answers and I have converted the string to java util date and then to java sql date. I just don't know how to get the full date in java sql date format</p>\n<pre><code>String dateStart = &quot;2022-01-13 14:33:07.996&quot;;\n         DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;); \n         Date date1 = dateFormat.parse(dateStart);\n         java.util.Date utilDate = date1;\n         java.sql.Date sqlDate = new java.sql.Date(date1.getTime());\nSystem.out.println(sqlDate);\n\n</code></pre>\n<p>in out put i get this</p>\n<pre><code>2022-01-13\n\n</code></pre>\n<p>but I want something like this <code>2022-01-13 14:33:07.996</code> in java sql date format</p>\n"},{"tags":["java","file","rabbitmq","messaging"],"comments":[{"owner":{"account_id":318361,"reputation":5787,"user_id":635549,"accept_rate":100,"display_name":"galath"},"score":0,"creation_date":1437985151,"post_id":31648066,"comment_id":51241968,"body_markdown":"Hello and welcome to StackOverflow. Please take some time to read the [help page](http://stackoverflow.com/help), especially the sections named &quot;What topics can I ask about here?&quot; and &quot;What types of questions should I avoid asking?&quot;. And more importantly, please read the [Stack Overflow question checklist](http://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist). You might also want to learn about [Minimal, Complete, and Verifiable Examples](http://stackoverflow.com/help/mcve).","body":"Hello and welcome to StackOverflow. Please take some time to read the <a href=\"http://stackoverflow.com/help\">help page</a>, especially the sections named &quot;What topics can I ask about here?&quot; and &quot;What types of questions should I avoid asking?&quot;. And more importantly, please read the <a href=\"http://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."},{"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"score":0,"creation_date":1437985214,"post_id":31648066,"comment_id":51241992,"body_markdown":"Convert file byte data in base64 encoded string. Base64 encoding is standard to convert byte data to string and vice-versa,","body":"Convert file byte data in base64 encoded string. Base64 encoding is standard to convert byte data to string and vice-versa,"}],"answers":[{"tags":[],"owner":{"account_id":3551875,"reputation":835,"user_id":2966556,"display_name":"Manmay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642429889,"creation_date":1437989413,"answer_id":31649509,"question_id":31648066,"body_markdown":"You can convert the file content into byte array and send the byte[] as below.\r\n\r\n```\r\nbyte[] fileData = // get content from file as byte[]  [Refer Here][1]\r\nString fileType  = // get file type from file\r\n\r\nMessage message = MessageBuilder.withBody(fileData).setHeader(&quot;ContentType&quot;, fileType).build();\r\n\r\nrabbitTemplate.send(&quot;exchnage name&quot;, &quot;routing key&quot;, message); \r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/858980/file-to-byte-in-java","title":"How to send and receive file with Java RabbitMQ?","body":"<p>You can convert the file content into byte array and send the byte[] as below.</p>\n<pre><code>byte[] fileData = // get content from file as byte[]  [Refer Here][1]\nString fileType  = // get file type from file\n\nMessage message = MessageBuilder.withBody(fileData).setHeader(&quot;ContentType&quot;, fileType).build();\n\nrabbitTemplate.send(&quot;exchnage name&quot;, &quot;routing key&quot;, message); \n</code></pre>\n"}],"owner":{"account_id":6689807,"reputation":23,"user_id":5159633,"display_name":"Kamila Dini Nabilati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9864,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":31649509,"answer_count":1,"score":0,"last_activity_date":1642429889,"creation_date":1437984974,"question_id":31648066,"body_markdown":"How to send file with Java RabbitMQ?\r\nEspecially using message converter. \r\n\r\nI&#39;m using Spring Framework, can send String or ArrayList but can&#39;t send File. I&#39;m only use `convertAndSend` and `convertAndReceive` to send File but get : \r\n\r\n    org.springframework.amqp.AmqpIOException: java.io.FileNotFoundException\r\n\r\nI don&#39;t know how to use message converter. The code from &lt;a href=&quot;https://github.com/spring-projects/spring-amqp-samples/tree/master/helloworld/src/main/java/org/springframework/amqp/helloworld/async&quot;&gt;here&lt;/a&gt; and change some class :\r\n\r\nHelloWorldHandler.java\r\n\r\n    package org.springframework.amqp.helloworld.async;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n\r\n    import org.springframework.amqp.core.Message;\r\n\r\n    public class HelloWorldHandler {\r\n\t\r\n\t    public void handleMessage(File message) throws IOException {\r\n\t\t    BufferedReader br = new BufferedReader(new FileReader(message));\r\n\t\t    System.out.println(br.readLine());\r\n\t    }\r\n    }\r\n\r\nProducerConfiguration.java\r\n\r\n    package org.springframework.amqp.helloworld.async;\r\n\r\n    import java.io.File;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n\r\n    import org.springframework.amqp.rabbit.connection.CachingConnectionFactory;\r\n    import org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\n    import org.springframework.amqp.rabbit.core.RabbitTemplate;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.config.BeanPostProcessor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\r\n\r\n    @Configuration\r\n    public class ProducerConfiguration {\r\n\r\n\t    protected final String helloWorldQueueName = &quot;hello.world.queue&quot;;\r\n\r\n\t    @Bean\r\n\t    public RabbitTemplate rabbitTemplate() {\r\n\t\t    RabbitTemplate template = new RabbitTemplate(connectionFactory());\r\n\t\t    template.setRoutingKey(this.helloWorldQueueName);\r\n\t\t    return template;\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public ConnectionFactory connectionFactory() {\r\n\t\t    CachingConnectionFactory connectionFactory = new CachingConnectionFactory(&quot;x.x.x.x&quot;);\r\n\t\t    connectionFactory.setUsername(&quot;username&quot;);\r\n\t\t    connectionFactory.setPassword(&quot;password&quot;);\r\n\t\t    return connectionFactory;\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public ScheduledProducer scheduledProducer() {\r\n\t\t    return new ScheduledProducer();\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public BeanPostProcessor postProcessor() {\r\n\t\t    return new ScheduledAnnotationBeanPostProcessor();\r\n\t    }\r\n\r\n\r\n\t    static class ScheduledProducer {\r\n\r\n\t\t    @Autowired\r\n\t\t    private volatile RabbitTemplate rabbitTemplate;\r\n\r\n\t\t    private final AtomicInteger counter = new AtomicInteger();\r\n\r\n\t\t    @Scheduled(fixedRate = 3000)\r\n\t\t    public void sendMessage() {\r\n\t\t\t    rabbitTemplate.convertAndSend(new File(&quot;test.txt&quot;));\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\n","title":"How to send and receive file with Java RabbitMQ?","body":"<p>How to send file with Java RabbitMQ?\nEspecially using message converter. </p>\n\n<p>I'm using Spring Framework, can send String or ArrayList but can't send File. I'm only use <code>convertAndSend</code> and <code>convertAndReceive</code> to send File but get : </p>\n\n<pre><code>org.springframework.amqp.AmqpIOException: java.io.FileNotFoundException\n</code></pre>\n\n<p>I don't know how to use message converter. The code from <a href=\"https://github.com/spring-projects/spring-amqp-samples/tree/master/helloworld/src/main/java/org/springframework/amqp/helloworld/async\" rel=\"nofollow\">here</a> and change some class :</p>\n\n<p>HelloWorldHandler.java</p>\n\n<pre><code>package org.springframework.amqp.helloworld.async;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport org.springframework.amqp.core.Message;\n\npublic class HelloWorldHandler {\n\n    public void handleMessage(File message) throws IOException {\n        BufferedReader br = new BufferedReader(new FileReader(message));\n        System.out.println(br.readLine());\n    }\n}\n</code></pre>\n\n<p>ProducerConfiguration.java</p>\n\n<pre><code>package org.springframework.amqp.helloworld.async;\n\nimport java.io.File;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport org.springframework.amqp.rabbit.connection.CachingConnectionFactory;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor;\n\n@Configuration\npublic class ProducerConfiguration {\n\n    protected final String helloWorldQueueName = \"hello.world.queue\";\n\n    @Bean\n    public RabbitTemplate rabbitTemplate() {\n        RabbitTemplate template = new RabbitTemplate(connectionFactory());\n        template.setRoutingKey(this.helloWorldQueueName);\n        return template;\n    }\n\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory(\"x.x.x.x\");\n        connectionFactory.setUsername(\"username\");\n        connectionFactory.setPassword(\"password\");\n        return connectionFactory;\n    }\n\n    @Bean\n    public ScheduledProducer scheduledProducer() {\n        return new ScheduledProducer();\n    }\n\n    @Bean\n    public BeanPostProcessor postProcessor() {\n        return new ScheduledAnnotationBeanPostProcessor();\n    }\n\n\n    static class ScheduledProducer {\n\n        @Autowired\n        private volatile RabbitTemplate rabbitTemplate;\n\n        private final AtomicInteger counter = new AtomicInteger();\n\n        @Scheduled(fixedRate = 3000)\n        public void sendMessage() {\n            rabbitTemplate.convertAndSend(new File(\"test.txt\"));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642429355,"creation_date":1642429355,"answer_id":70742873,"question_id":70742534,"body_markdown":"The `AUTO` generation strategy of hibernate is `SEQUENCE`, which creates and uses _one common database sequence for all entities_.\r\n\r\nTo get the behavior you want, you can specify a dedicated sequence for each table, e.g. as described here: https://stackoverflow.com/a/4561233  \r\nNote that hibernate may be configured to reserve multiple IDs at once for performance reasons, so even with a dedicated sequence per entity, there might still be gaps in the IDs.\r\n\r\n---\r\n\r\nTo reduce the setup effort (and the chance of having ID gaps), you could also switch to `IDENTITY`, which internally also creates and uses a dedicated sequence for the table. However, the entity id is then only assigned upon insert, so there are possible perfomance drawbacks (since hibernate cannot delay the inserts e.g. until the end of a transaction).\r\n\r\nhttps://thorben-janssen.com/jpa-generate-primary-keys/","title":"How to solve problem with common auto_increment id for all tables","body":"<p>The <code>AUTO</code> generation strategy of hibernate is <code>SEQUENCE</code>, which creates and uses <em>one common database sequence for all entities</em>.</p>\n<p>To get the behavior you want, you can specify a dedicated sequence for each table, e.g. as described here: <a href=\"https://stackoverflow.com/a/4561233\">https://stackoverflow.com/a/4561233</a><br />\nNote that hibernate may be configured to reserve multiple IDs at once for performance reasons, so even with a dedicated sequence per entity, there might still be gaps in the IDs.</p>\n<hr />\n<p>To reduce the setup effort (and the chance of having ID gaps), you could also switch to <code>IDENTITY</code>, which internally also creates and uses a dedicated sequence for the table. However, the entity id is then only assigned upon insert, so there are possible perfomance drawbacks (since hibernate cannot delay the inserts e.g. until the end of a transaction).</p>\n<p><a href=\"https://thorben-janssen.com/jpa-generate-primary-keys/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/jpa-generate-primary-keys/</a></p>\n"}],"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642429355,"creation_date":1642427807,"question_id":70742534,"body_markdown":"I have many tables, but they have common auto increment. For example, I create my first user it has id 1, then I create a message it has id 2, then I create a comment to message and it has id 3 but it should have id = 1 cause I don&#39;t have any other comments or messages\r\n\r\nMy user:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    \r\n    @AllArgsConstructor\r\n    @Table(name = &quot;usr&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;role&quot;)\r\n        private Role role;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;status&quot;)\r\n        private Status status;\r\n    \r\n    //    @OneToMany(mappedBy = &quot;author&quot;)\r\n    //    private List&lt;Message&gt; messages;\r\n    \r\n    //    @OneToMany(mappedBy = &quot;author&quot;)\r\n    //    private List&lt;Comment&gt; comments;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;gender_id&quot;)\r\n        private Gender gender;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;address_id&quot;)\r\n        private Address address;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;user_subscriptions&quot;,\r\n                joinColumns =  @JoinColumn(name = &quot;channel_id&quot;) ,\r\n                inverseJoinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;))\r\n        private Set&lt;User&gt; subscribers;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;user_subscriptions&quot;,\r\n                joinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;) ,\r\n                inverseJoinColumns =  @JoinColumn(name = &quot;channel_id&quot;))\r\n        private Set&lt;User&gt; subscriptions;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;file_id&quot;)\r\n        private FileEntity fileEntity;\r\n    \r\n    }\r\n\r\nMy message:\r\n \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;message&quot;)\r\n    public class Message {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;text&quot;)\r\n        private String text;\r\n    \r\n        @Column(name = &quot;tag&quot;)\r\n        private String tag;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User author;\r\n    \r\n        @Column(name = &quot;header&quot;)\r\n        private String header;\r\n    \r\n        @Column(name = &quot;like_count&quot;)\r\n        private Integer likeCount = 0;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;message_likes&quot;,\r\n                joinColumns = { @JoinColumn(name = &quot;message_id&quot;) },\r\n                inverseJoinColumns = { @JoinColumn(name = &quot;user_id&quot;)}\r\n        )\r\n        private Set&lt;User&gt; likes;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;file_id&quot;)\r\n        private FileEntity fileEntity;\r\n    \r\n    \r\n    }\r\n\r\nMy comment:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;comment&quot;)\r\n    public class Comment {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;header&quot;)\r\n        private String header;\r\n    \r\n        @Column(name = &quot;text&quot;)\r\n        private String text;\r\n    \r\n        @Column(name = &quot;like_count&quot;)\r\n        private Integer likeCount = 0;\r\n    \r\n        @ManyToOne()\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User author;\r\n    \r\n        @ManyToOne()\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        private Message message;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;comment_likes&quot;,\r\n                joinColumns = { @JoinColumn(name = &quot;comment_id&quot;) },\r\n                inverseJoinColumns = { @JoinColumn(name = &quot;user_id&quot;)}\r\n        )\r\n        private Set&lt;User&gt; likes;\r\n    }\r\nI would appreciate any help.\r\n\r\n","title":"How to solve problem with common auto_increment id for all tables","body":"<p>I have many tables, but they have common auto increment. For example, I create my first user it has id 1, then I create a message it has id 2, then I create a comment to message and it has id 3 but it should have id = 1 cause I don't have any other comments or messages</p>\n<p>My user:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n\n@AllArgsConstructor\n@Table(name = &quot;usr&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;role&quot;)\n    private Role role;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;status&quot;)\n    private Status status;\n\n//    @OneToMany(mappedBy = &quot;author&quot;)\n//    private List&lt;Message&gt; messages;\n\n//    @OneToMany(mappedBy = &quot;author&quot;)\n//    private List&lt;Comment&gt; comments;\n\n    @OneToOne\n    @JoinColumn(name = &quot;gender_id&quot;)\n    private Gender gender;\n\n    @OneToOne\n    @JoinColumn(name = &quot;address_id&quot;)\n    private Address address;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;user_subscriptions&quot;,\n            joinColumns =  @JoinColumn(name = &quot;channel_id&quot;) ,\n            inverseJoinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;))\n    private Set&lt;User&gt; subscribers;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;user_subscriptions&quot;,\n            joinColumns =  @JoinColumn(name = &quot;subscriber_id&quot;) ,\n            inverseJoinColumns =  @JoinColumn(name = &quot;channel_id&quot;))\n    private Set&lt;User&gt; subscriptions;\n\n    @OneToOne\n    @JoinColumn(name = &quot;file_id&quot;)\n    private FileEntity fileEntity;\n\n}\n</code></pre>\n<p>My message:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;message&quot;)\npublic class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = &quot;text&quot;)\n    private String text;\n\n    @Column(name = &quot;tag&quot;)\n    private String tag;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User author;\n\n    @Column(name = &quot;header&quot;)\n    private String header;\n\n    @Column(name = &quot;like_count&quot;)\n    private Integer likeCount = 0;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;message_likes&quot;,\n            joinColumns = { @JoinColumn(name = &quot;message_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;user_id&quot;)}\n    )\n    private Set&lt;User&gt; likes;\n\n    @OneToOne\n    @JoinColumn(name = &quot;file_id&quot;)\n    private FileEntity fileEntity;\n\n\n}\n</code></pre>\n<p>My comment:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;comment&quot;)\npublic class Comment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;header&quot;)\n    private String header;\n\n    @Column(name = &quot;text&quot;)\n    private String text;\n\n    @Column(name = &quot;like_count&quot;)\n    private Integer likeCount = 0;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User author;\n\n    @ManyToOne()\n    @JoinColumn(name = &quot;message_id&quot;)\n    private Message message;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;comment_likes&quot;,\n            joinColumns = { @JoinColumn(name = &quot;comment_id&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;user_id&quot;)}\n    )\n    private Set&lt;User&gt; likes;\n}\n</code></pre>\n<p>I would appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","java-module"],"comments":[{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":1,"creation_date":1642340872,"post_id":70730327,"comment_id":125039763,"body_markdown":"@xerx593 I&#39;m sorry, it should be `src/test/java` as you noted. I have updated the post accordingly.","body":"@xerx593 I&#39;m sorry, it should be <code>src&#47;test&#47;java</code> as you noted. I have updated the post accordingly."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642340959,"post_id":70730327,"comment_id":125039787,"body_markdown":"phew... i am glad it was only a typo! :-) next issue: final field constructor of that bean (it is too early!) (cause/root of the error message)","body":"phew... i am glad it was only a typo! :-) next issue: final field constructor of that bean (it is too early!) (cause/root of the error message)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642341044,"post_id":70730327,"comment_id":125039808,"body_markdown":"..and last: you can(*should*!) have `src/main/java/module-info.java`**+** `src/test/java/module-info.java` ;);)  (or does your &quot;main requires junit&quot; (e.g.)?)","body":"..and last: you can(<i>should</i>!) have <code>src&#47;main&#47;java&#47;module-info.java</code>**+** <code>src&#47;test&#47;java&#47;module-info.java</code> ;);)  (or does your &quot;main requires junit&quot; (e.g.)?)"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1642341231,"post_id":70730327,"comment_id":125039844,"body_markdown":"I&#39;m not sure I follow? Adding `@SpringApplication` implies (according to its JavaDoc) that &quot;Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.&quot;","body":"I&#39;m not sure I follow? Adding <code>@SpringApplication</code> implies (according to its JavaDoc) that &quot;Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.&quot;"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1642341458,"post_id":70730327,"comment_id":125039917,"body_markdown":"And by &quot;too early&quot;, why does dependency injection work when starting the app from the `main` method? And why does it work when executing the tests without the `module-info.java` files? It should be &quot;equally early&quot; in those cases?","body":"And by &quot;too early&quot;, why does dependency injection work when starting the app from the <code>main</code> method? And why does it work when executing the tests without the <code>module-info.java</code> files? It should be &quot;equally early&quot; in those cases?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642341483,"post_id":70730327,"comment_id":125039922,"body_markdown":"yes, all true, good, but not contradicting with the fact that it is &quot;too early&quot;(..for the details, we can crawl the source code, but I assume/it sounds plausible to me: we should not &quot;constuctor inject&quot; (final field) on a &quot;root configuration&quot;...we have alternatives)","body":"yes, all true, good, but not contradicting with the fact that it is &quot;too early&quot;(..for the details, we can crawl the source code, but I assume/it sounds plausible to me: we should not &quot;constuctor inject&quot; (final field) on a &quot;root configuration&quot;...we have alternatives)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642341584,"post_id":70730327,"comment_id":125039951,"body_markdown":"In Spring: @Configuration is also a &quot;@Bean&quot; ...and like any &quot;defautl configuration&quot; it has default scope.: singleton....one object is created (by spring) when it is accessed...and we get the same object whenever we access it again...)","body":"In Spring: @Configuration is also a &quot;@Bean&quot; ...and like any &quot;defautl configuration&quot; it has default scope.: singleton....one object is created (by spring) when it is accessed...and we get the same object whenever we access it again...)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642341870,"post_id":70730327,"comment_id":125040030,"body_markdown":"I assume: removing `final` (and constructor), adding `@Autowired`, will already fix... alternatively: make `ApplkicationConfig` &quot;a child&quot; of &quot;SpringBootApp&quot; (`Second`) ((static) inner class), alternatively: declare it (@Bean) directly in `Second`","body":"I assume: removing <code>final</code> (and constructor), adding <code>@Autowired</code>, will already fix... alternatively: make <code>ApplkicationConfig</code> &quot;a child&quot; of &quot;SpringBootApp&quot; (<code>Second</code>) ((static) inner class), alternatively: declare it (@Bean) directly in <code>Second</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642342717,"post_id":70730327,"comment_id":125040256,"body_markdown":"How can `Second` &quot;@Import&quot; `ApplicationConfigurtaion` before knowing `First` i.e. being created??","body":"How can <code>Second</code> &quot;@Import&quot; <code>ApplicationConfigurtaion</code> before knowing <code>First</code> i.e. being created??"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642342992,"post_id":70730327,"comment_id":125040336,"body_markdown":"so we can tackle the &quot;import&quot; (inner config/bean e.g.), or the &quot;before knowing vs. being created&quot; (field injection/ one of the above)","body":"so we can tackle the &quot;import&quot; (inner config/bean e.g.), or the &quot;before knowing vs. being created&quot; (field injection/ one of the above)"},{"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"score":0,"creation_date":1642429267,"post_id":70730327,"comment_id":125061727,"body_markdown":"in the end, I created a separate `Application` class with the `@SpringBootApplication` annotation, see my [answer](https://stackoverflow.com/a/70742794/303598). However, that still does not answer why the code worked in the first place when before the `module-info.java` were created","body":"in the end, I created a separate <code>Application</code> class with the <code>@SpringBootApplication</code> annotation, see my <a href=\"https://stackoverflow.com/a/70742794/303598\">answer</a>. However, that still does not answer why the code worked in the first place when before the <code>module-info.java</code> were created"}],"answers":[{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642429283,"creation_date":1642428964,"answer_id":70742794,"question_id":70730327,"body_markdown":"Based on the feedback in the comments by @xerx593, I have implemented a workaround in which I have pulled out the `@SpringBootApplication` class to a separate `Application` class and updated the test accordingly:\r\n\r\n```bash\r\n  |\r\n  +-- second\r\n  |     + pom.xml\r\n  |     + src/main/java/module-info.java\r\n  |     + src/main/java/com.example.second/Application.java\r\n  |     + src/main/java/com.example.second/ApplicationConfig.java\r\n  |     + src/main/java/com.example.second/Second.java\r\n  |     + src/test/java/com.example.second/ApplicationTest.java\r\n```\r\n\r\n_Application.java_\r\n```java\r\npackage com.example.second;\r\n\r\nimport java.util.Arrays;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\n\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\n_ApplicationConfig.java_\r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class ApplicationConfig {\r\n\r\n    @Bean\r\n    First first() {\r\n        return new First();\r\n    }\r\n}\r\n```\r\n\r\n_Second.java_\r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class Second {\r\n\r\n    private final First first;\r\n\r\n    public Second(First first) {\r\n        this.first = first;\r\n    }\r\n}\r\n```\r\n\r\n_ApplicationTest.java_\r\n```java\r\npackage com.example.second;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest(classes = Application.class)\r\nclass ApplicationTest {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n}\r\n```\r\n","title":"NoSuchBeanDefinitionException / UnsatisfiedDependencyException when testing Spring Boot app with Java modules","body":"<p>Based on the feedback in the comments by @xerx593, I have implemented a workaround in which I have pulled out the <code>@SpringBootApplication</code> class to a separate <code>Application</code> class and updated the test accordingly:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>  |\n  +-- second\n  |     + pom.xml\n  |     + src/main/java/module-info.java\n  |     + src/main/java/com.example.second/Application.java\n  |     + src/main/java/com.example.second/ApplicationConfig.java\n  |     + src/main/java/com.example.second/Second.java\n  |     + src/test/java/com.example.second/ApplicationTest.java\n</code></pre>\n<p><em>Application.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport java.util.Arrays;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\n\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p><em>ApplicationConfig.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    First first() {\n        return new First();\n    }\n}\n</code></pre>\n<p><em>Second.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Second {\n\n    private final First first;\n\n    public Second(First first) {\n        this.first = first;\n    }\n}\n</code></pre>\n<p><em>ApplicationTest.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest(classes = Application.class)\nclass ApplicationTest {\n\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70742794,"answer_count":1,"score":1,"last_activity_date":1642429283,"creation_date":1642338574,"question_id":70730327,"body_markdown":"How can I mitigate that the `NoSuchBeanDefinitionException` and the related `UnsatisfiedDependencyException` occur when testing a multimode Spring Boot app that has been configured with Java 9 modules?\r\n\r\n\r\nAfter adding `module-info.java` files to my multi module project, my Spring Boot application test started to fail:\r\n\r\n_test failure_\r\n```txt\r\ncontextLoads  Time elapsed: 0 s  &lt;&lt;&lt; ERROR!\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \r\n   Error creating bean with name &#39;second&#39;: \r\n   Unsatisfied dependency expressed through constructor parameter 0; \r\n   nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n   No qualifying bean of type &#39;com.example.first.First&#39; available: \r\n   expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n   No qualifying bean of type &#39;com.example.first.First&#39; available: \r\n   expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\n\r\n_folder structure_ \r\n```bash\r\nparent\r\n  |\r\n  + pom.xml\r\n  |\r\n  +-- first\r\n  |     + pom.xml\r\n  |     + src/main/java/module-info.java\r\n  |     + src/main/java/com.example.first/First.java\r\n  |\r\n  +-- second\r\n  |     + pom.xml\r\n  |     + src/main/java/module-info.java\r\n  |     + src/main/java/com.example.second/ApplicationConfig.java\r\n  |     + src/main/java/com.example.second/Second.java\r\n  |     + src/test/java/com.example.second/SecondTest.java\r\n```\r\n\r\n### Parent Module\r\n\r\nA Maven parent module containing just the parent pom file.\r\n\r\n_pom.xml_\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;second&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;first&lt;/module&gt;\r\n        &lt;module&gt;second&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n### First Module\r\n\r\nA simple Java module that only contains a single Java class and that does have any Spring dependencies.\r\n\r\n_pom.xml_\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n_First.java_\r\n```java\r\npackage com.example.first;\r\n\r\npublic class First {\r\n}\r\n```\r\n\r\n_first module-info.java_\r\n```java\r\nmodule com.example.first {\r\n    exports com.example.first;\r\n\r\n    opens com.example.first;\r\n}\r\n```\r\n\r\n### Second Module\r\n\r\nThe application module that depends on the first module in addition to the required Spring dependencies. It its responsible for configuring Spring beans, running the application, etc.\r\n\r\n_pom.xml_\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;second&lt;/artifactId&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;first&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n_Second.java_ \r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Second {\r\n\r\n    private final First first;\r\n\r\n    public Second(First first) {\r\n        this.first = first;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ApplicationConfig.class, args);\r\n        System.out.println(&quot;started&quot;);\r\n    }\r\n}\r\n```\r\n\r\n_ApplicationConfig.java_ \r\n```java\r\npackage com.example.second;\r\n\r\nimport com.example.first.First;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class ApplicationConfig {\r\n\r\n    @Bean\r\n    First first() {\r\n        return new First();\r\n    }\r\n}\r\n```\r\n\r\n_SecondTest.java_\r\n```java\r\npackage com.example.second;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass SecondTest {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n}\r\n```\r\n\r\n\r\n### Observations\r\n\r\n- The test fail regardless if I use Maven, e.g. `mvn test` or if I attempt to debug them from within my IDE.\r\n- It is possible to start the application invoking the `Second#main()`, both from within the IDE as well as from command line using `java -jar second/target/second-0.1.0-SNAPSHOT.jar` so dependency injection and auto wiring works in this case (the jar file has to be built without tests in this case since they are failing, e.g. `mvn package -DskipTests=true`) so the `First` bean is created and autowired correctly in this case.\r\n- The test pass if both `module-info.java` files are deleted, so the error seem to be related to Java modules","title":"NoSuchBeanDefinitionException / UnsatisfiedDependencyException when testing Spring Boot app with Java modules","body":"<p>How can I mitigate that the <code>NoSuchBeanDefinitionException</code> and the related <code>UnsatisfiedDependencyException</code> occur when testing a multimode Spring Boot app that has been configured with Java 9 modules?</p>\n<p>After adding <code>module-info.java</code> files to my multi module project, my Spring Boot application test started to fail:</p>\n<p><em>test failure</em></p>\n<pre><code>contextLoads  Time elapsed: 0 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: \n   Error creating bean with name 'second': \n   Unsatisfied dependency expressed through constructor parameter 0; \n   nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \n   No qualifying bean of type 'com.example.first.First' available: \n   expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \n   No qualifying bean of type 'com.example.first.First' available: \n   expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p><em>folder structure</em></p>\n<pre class=\"lang-sh prettyprint-override\"><code>parent\n  |\n  + pom.xml\n  |\n  +-- first\n  |     + pom.xml\n  |     + src/main/java/module-info.java\n  |     + src/main/java/com.example.first/First.java\n  |\n  +-- second\n  |     + pom.xml\n  |     + src/main/java/module-info.java\n  |     + src/main/java/com.example.second/ApplicationConfig.java\n  |     + src/main/java/com.example.second/Second.java\n  |     + src/test/java/com.example.second/SecondTest.java\n</code></pre>\n<h3>Parent Module</h3>\n<p>A Maven parent module containing just the parent pom file.</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;first&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;second&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;first&lt;/module&gt;\n        &lt;module&gt;second&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<h3>First Module</h3>\n<p>A simple Java module that only contains a single Java class and that does have any Spring dependencies.</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;first&lt;/artifactId&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>First.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.first;\n\npublic class First {\n}\n</code></pre>\n<p><em>first module-info.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.first {\n    exports com.example.first;\n\n    opens com.example.first;\n}\n</code></pre>\n<h3>Second Module</h3>\n<p>The application module that depends on the first module in addition to the required Spring dependencies. It its responsible for configuring Spring beans, running the application, etc.</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;second&lt;/artifactId&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;first&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>Second.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Second {\n\n    private final First first;\n\n    public Second(First first) {\n        this.first = first;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(ApplicationConfig.class, args);\n        System.out.println(&quot;started&quot;);\n    }\n}\n</code></pre>\n<p><em>ApplicationConfig.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport com.example.first.First;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    First first() {\n        return new First();\n    }\n}\n</code></pre>\n<p><em>SecondTest.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.second;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass SecondTest {\n\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<h3>Observations</h3>\n<ul>\n<li>The test fail regardless if I use Maven, e.g. <code>mvn test</code> or if I attempt to debug them from within my IDE.</li>\n<li>It is possible to start the application invoking the <code>Second#main()</code>, both from within the IDE as well as from command line using <code>java -jar second/target/second-0.1.0-SNAPSHOT.jar</code> so dependency injection and auto wiring works in this case (the jar file has to be built without tests in this case since they are failing, e.g. <code>mvn package -DskipTests=true</code>) so the <code>First</code> bean is created and autowired correctly in this case.</li>\n<li>The test pass if both <code>module-info.java</code> files are deleted, so the error seem to be related to Java modules</li>\n</ul>\n"},{"tags":["java","collections","conventions"],"answers":[{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":406,"is_accepted":true,"score":406,"last_activity_date":1302427559,"creation_date":1302427205,"answer_id":5610838,"question_id":5610822,"body_markdown":"You can use [`Collections.list()`][1] to convert an `Enumeration` to a `List` in one line:\r\n\r\n    List&lt;T&gt; list = Collections.list(enumeration);\r\n\r\nThere&#39;s no similar method to get a `Set`, however you can still do it one line:\r\n\r\n    Set&lt;T&gt; set = new HashSet&lt;T&gt;(Collections.list(enumeration));\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#list%28java.util.Enumeration%29","title":"Convert Enumeration to a Set/List","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#list%28java.util.Enumeration%29\"><code>Collections.list()</code></a> to convert an <code>Enumeration</code> to a <code>List</code> in one line:</p>\n\n<pre><code>List&lt;T&gt; list = Collections.list(enumeration);\n</code></pre>\n\n<p>There's no similar method to get a <code>Set</code>, however you can still do it one line:</p>\n\n<pre><code>Set&lt;T&gt; set = new HashSet&lt;T&gt;(Collections.list(enumeration));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1555090682,"creation_date":1302427226,"answer_id":5610841,"question_id":5610822,"body_markdown":"How about this: [Collections.list(Enumeration&lt;T&gt; e)][1] returns an `ArrayList&lt;T&gt;`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#list-java.util.Enumeration-","title":"Convert Enumeration to a Set/List","body":"<p>How about this: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#list-java.util.Enumeration-\" rel=\"noreferrer\">Collections.list(Enumeration e)</a> returns an <code>ArrayList&lt;T&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":4635520,"reputation":192,"user_id":3756878,"display_name":"S_intg"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1433410368,"creation_date":1433410067,"answer_id":30640057,"question_id":5610822,"body_markdown":"I needed same thing and this solution work fine, hope it can help someone also\r\n\r\n    Enumeration[] array = Enumeration.values();\r\n    List&lt;Enumeration&gt; list = Arrays.asList(array);\r\n\r\nthen you can get the .name() of your enumeration.","title":"Convert Enumeration to a Set/List","body":"<p>I needed same thing and this solution work fine, hope it can help someone also</p>\n\n<pre><code>Enumeration[] array = Enumeration.values();\nList&lt;Enumeration&gt; list = Arrays.asList(array);\n</code></pre>\n\n<p>then you can get the .name() of your enumeration.</p>\n"},{"tags":[],"owner":{"account_id":9969649,"reputation":520,"user_id":7376172,"display_name":"Timur Levadny"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1494356852,"creation_date":1483562819,"answer_id":41472950,"question_id":5610822,"body_markdown":"If you need `Set` rather than `List`, you can use [EnumSet.allOf()][1].\r\n\r\n    Set&lt;EnumerationClass&gt; set = EnumSet.allOf(EnumerationClass.class);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html#allOf(java.lang.Class)\r\n\r\n**Update**: JakeRobb is right. My answer is about java.lang.Enum instead of java.util.Enumeration. Sorry for unrelated answer.","title":"Convert Enumeration to a Set/List","body":"<p>If you need <code>Set</code> rather than <code>List</code>, you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html#allOf(java.lang.Class)\" rel=\"noreferrer\">EnumSet.allOf()</a>.</p>\n\n<pre><code>Set&lt;EnumerationClass&gt; set = EnumSet.allOf(EnumerationClass.class);\n</code></pre>\n\n<p><strong>Update</strong>: JakeRobb is right. My answer is about java.lang.Enum instead of java.util.Enumeration. Sorry for unrelated answer.</p>\n"},{"tags":[],"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1492519895,"creation_date":1492519164,"answer_id":43472429,"question_id":5610822,"body_markdown":"When using guava (See [doc][1]) there is `Iterators.forEnumeration`. Given an `Enumeration x` you can do the following:\r\n\r\nto get a immutable Set:\r\n\r\n    ImmutableSet.copyOf(Iterators.forEnumeration(x));\r\n\r\nto get a immutable List:\r\n\r\n    ImmutableList.copyOf(Iterators.forEnumeration(x));\r\n\r\n\r\nto get a hashSet:\r\n\r\n\r\n    Sets.newHashSet(Iterators.forEnumeration(x));\r\n\r\n\r\n[1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#forEnumeration-java.util.Enumeration-","title":"Convert Enumeration to a Set/List","body":"<p>When using guava (See <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterators.html#forEnumeration-java.util.Enumeration-\" rel=\"noreferrer\">doc</a>) there is <code>Iterators.forEnumeration</code>. Given an <code>Enumeration x</code> you can do the following:</p>\n\n<p>to get a immutable Set:</p>\n\n<pre><code>ImmutableSet.copyOf(Iterators.forEnumeration(x));\n</code></pre>\n\n<p>to get a immutable List:</p>\n\n<pre><code>ImmutableList.copyOf(Iterators.forEnumeration(x));\n</code></pre>\n\n<p>to get a hashSet:</p>\n\n<pre><code>Sets.newHashSet(Iterators.forEnumeration(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617204240,"creation_date":1617202319,"answer_id":66890193,"question_id":5610822,"body_markdown":"There&#39;s also in Apache commons-collections\r\n`EnumerationUtils.toList(enumeration)`","title":"Convert Enumeration to a Set/List","body":"<p>There's also in Apache commons-collections\n<code>EnumerationUtils.toList(enumeration)</code></p>\n"}],"owner":{"account_id":49962,"reputation":4212,"user_id":148926,"accept_rate":84,"display_name":"Anton Kraievyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140639,"favorite_count":0,"down_vote_count":0,"up_vote_count":226,"accepted_answer_id":5610838,"answer_count":6,"score":226,"last_activity_date":1642429116,"creation_date":1302427072,"question_id":5610822,"body_markdown":"Is there some one-liner bridge method to dump a given *Enumeration* to `java.util.List` or `java.util.Set`?\r\n\r\nSomething built-in like `Arrays.asList()` or `Collection.toArray()` should exist somewhere, but I&#39;m unable to find that in my IntelliJ debugger&#39;s evaluator window (and Google/SO results, too).","title":"Convert Enumeration to a Set/List","body":"<p>Is there some one-liner bridge method to dump a given <em>Enumeration</em> to <code>java.util.List</code> or <code>java.util.Set</code>?</p>\n<p>Something built-in like <code>Arrays.asList()</code> or <code>Collection.toArray()</code> should exist somewhere, but I'm unable to find that in my IntelliJ debugger's evaluator window (and Google/SO results, too).</p>\n"},{"tags":["java","tic-tac-toe"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642384845,"post_id":70735688,"comment_id":125049215,"body_markdown":"*&quot;I am trying to repeat it using the switch case at the very end&quot;* -- that isn&#39;t going to work. You repeat anything in Java with a ***loop***, here a while loop. The switch statement can be used to check user input and change the loop control condition, but won&#39;t loop by itself. Also, side issue is that you&#39;re comparing Strings wrong, not `==` but rather `.equals`","body":"<i>&quot;I am trying to repeat it using the switch case at the very end&quot;</i> -- that isn&#39;t going to work. You repeat anything in Java with a <b><i>loop</i></b>, here a while loop. The switch statement can be used to check user input and change the loop control condition, but won&#39;t loop by itself. Also, side issue is that you&#39;re comparing Strings wrong, not <code>==</code> but rather <code>.equals</code>"},{"owner":{"account_id":23944983,"reputation":9,"user_id":17937449,"display_name":"Sarah Mcwilliams"},"score":0,"creation_date":1642434707,"post_id":70735688,"comment_id":125064070,"body_markdown":"Noted about the string issue, thanks. The other day i was trying to use a while loop in Main right after the static variables and before the checkWinner method and the console said that &quot;while(true) {&quot; and &quot;static String checkWinner&quot; are illegal starts of type. I am not sure what that means or why i cannot use the while loop.","body":"Noted about the string issue, thanks. The other day i was trying to use a while loop in Main right after the static variables and before the checkWinner method and the console said that &quot;while(true) {&quot; and &quot;static String checkWinner&quot; are illegal starts of type. I am not sure what that means or why i cannot use the while loop."}],"owner":{"account_id":23944983,"reputation":9,"user_id":17937449,"display_name":"Sarah Mcwilliams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642429013,"creation_date":1642383892,"question_id":70735688,"body_markdown":"preface: I&#39;m a beginner so the solution may be obvious and I&#39;m not seeing it. I am making a tic tac toe program and I want to make it where the game can be played over and over. I have an idea of how I think it should go but I&#39;m not sure how to implement it. any help or criticism is welcome. (I am trying to repeat it using the switch case at the very end)\r\nFULL CODE:\r\n\r\n    import java.util.*;\r\n    import java.util.Random;\r\n    public class Main {\r\n\r\n    static String[] board;\r\n    static String turn;\r\n    static int counterX=0;\r\n    static int counterO=0;\r\n    static String continuePlaying;\r\n  \r\n     static String checkWinner()\r\n    {\r\n        for (int a = 0; a &lt; 8; a++) {\r\n            String line = null;\r\n  \r\n            switch (a) {\r\n            case 0:\r\n                line = board[0] + board[1] + board[2];\r\n                break;\r\n            case 1:\r\n                line = board[3] + board[4] + board[5];\r\n                break;\r\n            case 2:\r\n                line = board[6] + board[7] + board[8];\r\n                break;\r\n            case 3:\r\n                line = board[0] + board[3] + board[6];\r\n                break;\r\n            case 4:\r\n                line = board[1] + board[4] + board[7];\r\n                break;\r\n            case 5:\r\n                line = board[2] + board[5] + board[8];\r\n                break;\r\n            case 6:\r\n                line = board[0] + board[4] + board[8];\r\n                break;\r\n            case 7:\r\n                line = board[2] + board[4] + board[6];\r\n                break;\r\n            }\r\n            \r\n            //For X winner\r\n            if (line.equals(&quot;XXX&quot;)) {\r\n                return &quot;X&quot;;\r\n            }\r\n              \r\n            // For O winner\r\n            else if (line.equals(&quot;OOO&quot;)) {\r\n                return &quot;O&quot;;\r\n            }\r\n        }\r\n          \r\n        for (int a = 0; a &lt; 9; a++) {\r\n            if (Arrays.asList(board).contains(\r\n                    String.valueOf(a + 1))) {\r\n                break;\r\n            }\r\n            else if (a == 8) {\r\n                return &quot;draw&quot;;\r\n            }\r\n        }\r\n  \r\n       \r\n       // To enter the X Or O at the exact place on board.\r\n        System.out.println(\r\n            turn + &quot;&#39;s turn; enter a slot number to place &quot;\r\n            + turn + &quot; in:&quot;);\r\n        return null;\r\n    }\r\n    \r\n    static void printBoard()\r\n    {\r\n        System.out.println(&quot;|---|---|---|&quot;);\r\n        System.out.println(&quot;| &quot; + board[0] + &quot; | &quot;\r\n                           + board[1] + &quot; | &quot; + board[2]\r\n                           + &quot; |&quot;);\r\n        System.out.println(&quot;|-----------|&quot;);\r\n        System.out.println(&quot;| &quot; + board[3] + &quot; | &quot;\r\n                           + board[4] + &quot; | &quot; + board[5]\r\n                           + &quot; |&quot;);\r\n        System.out.println(&quot;|-----------|&quot;);\r\n        System.out.println(&quot;| &quot; + board[6] + &quot; | &quot;\r\n                           + board[7] + &quot; | &quot; + board[8]\r\n                           + &quot; |&quot;);\r\n        System.out.println(&quot;|---|---|---|&quot;);\r\n    }\r\n \r\n    public static void main(String[] args)\r\n    {\r\n        Scanner in = new Scanner(System.in);\r\n        board = new String[9];\r\n     final int min=0;\r\n     final int max=1;\r\n     int num = (int)Math.floor(Math.random()*(max-min+1)+min);\r\n      //random number between 0-1\r\n      if (num==min){\r\n            System.out.println(\r\n                &quot;X will play first. Enter a slot number to place X in:&quot;);\r\n                turn=&quot;X&quot;;}else{\r\n                      System.out.println(\r\n                &quot;O will play first. Enter a slot number to place O in:&quot;);\r\n                turn=&quot;O&quot;;\r\n                }\r\n            String winner = null;\r\n\r\n  \r\n        for (int a = 0; a &lt; 9; a++) {\r\n            board[a] = String.valueOf(a + 1);\r\n        }\r\n  \r\n        System.out.println(&quot;Welcome to 3x3 Tic Tac Toe.&quot;);\r\n        printBoard();\r\n  \r\n\r\n\r\n  \r\n        while (winner == null) {\r\n            int numInput;\r\n            \r\n           // Exception handling.\r\n           // numInput will take input from user like from 1 to 9.\r\n           // If it is not in range from 1 to 9.\r\n           // then it will show you an error &quot;Invalid input.&quot;\r\n            try {\r\n                numInput = in.nextInt();\r\n                if (!(numInput &gt; 0 &amp;&amp; numInput &lt;= 9)) {\r\n                    System.out.println(\r\n                        &quot;Invalid input; re-enter slot number:&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n            catch (InputMismatchException e) {\r\n                System.out.println(\r\n                    &quot;Invalid input; re-enter slot number:&quot;);\r\n                continue;\r\n            }\r\n              \r\n            // This game has two player x and O.\r\n            // Here is the logic to decide the turn.\r\n            if (board[numInput - 1].equals(\r\n                    String.valueOf(numInput))) {\r\n                board[numInput - 1] = turn;\r\n  \r\n                if (turn.equals(&quot;X&quot;)) {\r\n                    turn = &quot;O&quot;;\r\n                }\r\n                else {\r\n                    turn = &quot;X&quot;;\r\n                }\r\n  \r\n                printBoard();\r\n                winner = checkWinner();\r\n            }\r\n            else {\r\n                System.out.println(\r\n                    &quot;Slot already taken; re-enter slot number:&quot;);\r\n            }\r\n        }\r\n\r\n        if (winner.equalsIgnoreCase(&quot;draw&quot;)) {\r\n            System.out.println(\r\n                &quot;It&#39;s a draw! Thanks for playing.&quot;);\r\n        }\r\n        \r\n        else {\r\n            System.out.println(\r\n                &quot;Congratulations! &quot; + winner\r\n                + &quot;&#39;s have won! Thanks for playing.&quot;);\r\n              \r\n    \r\n        }\r\n        if (winner==&quot;X&quot;) {\r\n          counterX++;\r\n        System.out.println(&quot;X&#39;s have &quot;+ counterX + &quot;(s) wins.&quot;);\r\n         System.out.println(&quot;Os have &quot;+ counterO + &quot;(s) wins.&quot;);\r\n        }\r\n        else if (winner==&quot;O&quot;){\r\n          counterO++;\r\n        System.out.println(&quot;X&#39;s have &quot;+ counterX + &quot;(s) wins.&quot;);\r\n         System.out.println(&quot;Os have &quot;+ counterO + &quot;(s) wins.&quot;);\r\n        }\r\n      System.out.println(&quot;Continue playing? Enter 1 to continue or 0 to end.&quot;);\r\n      int play=in.nextInt();\r\n      switch(play) {\r\n        case 0:\r\n          continuePlaying = &quot;N&quot;;\r\n          java.lang.System.exit(0); \r\n            break;\r\n        case 1:\r\n         continuePlaying = &quot;Y&quot;;\r\n          break;\r\n      }\r\n        }\r\n    }","title":"trying to loop or create a new board- tic tac toe java program","body":"<p>preface: I'm a beginner so the solution may be obvious and I'm not seeing it. I am making a tic tac toe program and I want to make it where the game can be played over and over. I have an idea of how I think it should go but I'm not sure how to implement it. any help or criticism is welcome. (I am trying to repeat it using the switch case at the very end)\nFULL CODE:</p>\n<pre><code>import java.util.*;\nimport java.util.Random;\npublic class Main {\n\nstatic String[] board;\nstatic String turn;\nstatic int counterX=0;\nstatic int counterO=0;\nstatic String continuePlaying;\n\n static String checkWinner()\n{\n    for (int a = 0; a &lt; 8; a++) {\n        String line = null;\n\n        switch (a) {\n        case 0:\n            line = board[0] + board[1] + board[2];\n            break;\n        case 1:\n            line = board[3] + board[4] + board[5];\n            break;\n        case 2:\n            line = board[6] + board[7] + board[8];\n            break;\n        case 3:\n            line = board[0] + board[3] + board[6];\n            break;\n        case 4:\n            line = board[1] + board[4] + board[7];\n            break;\n        case 5:\n            line = board[2] + board[5] + board[8];\n            break;\n        case 6:\n            line = board[0] + board[4] + board[8];\n            break;\n        case 7:\n            line = board[2] + board[4] + board[6];\n            break;\n        }\n        \n        //For X winner\n        if (line.equals(&quot;XXX&quot;)) {\n            return &quot;X&quot;;\n        }\n          \n        // For O winner\n        else if (line.equals(&quot;OOO&quot;)) {\n            return &quot;O&quot;;\n        }\n    }\n      \n    for (int a = 0; a &lt; 9; a++) {\n        if (Arrays.asList(board).contains(\n                String.valueOf(a + 1))) {\n            break;\n        }\n        else if (a == 8) {\n            return &quot;draw&quot;;\n        }\n    }\n\n   \n   // To enter the X Or O at the exact place on board.\n    System.out.println(\n        turn + &quot;'s turn; enter a slot number to place &quot;\n        + turn + &quot; in:&quot;);\n    return null;\n}\n\nstatic void printBoard()\n{\n    System.out.println(&quot;|---|---|---|&quot;);\n    System.out.println(&quot;| &quot; + board[0] + &quot; | &quot;\n                       + board[1] + &quot; | &quot; + board[2]\n                       + &quot; |&quot;);\n    System.out.println(&quot;|-----------|&quot;);\n    System.out.println(&quot;| &quot; + board[3] + &quot; | &quot;\n                       + board[4] + &quot; | &quot; + board[5]\n                       + &quot; |&quot;);\n    System.out.println(&quot;|-----------|&quot;);\n    System.out.println(&quot;| &quot; + board[6] + &quot; | &quot;\n                       + board[7] + &quot; | &quot; + board[8]\n                       + &quot; |&quot;);\n    System.out.println(&quot;|---|---|---|&quot;);\n}\n\npublic static void main(String[] args)\n{\n    Scanner in = new Scanner(System.in);\n    board = new String[9];\n final int min=0;\n final int max=1;\n int num = (int)Math.floor(Math.random()*(max-min+1)+min);\n  //random number between 0-1\n  if (num==min){\n        System.out.println(\n            &quot;X will play first. Enter a slot number to place X in:&quot;);\n            turn=&quot;X&quot;;}else{\n                  System.out.println(\n            &quot;O will play first. Enter a slot number to place O in:&quot;);\n            turn=&quot;O&quot;;\n            }\n        String winner = null;\n\n\n    for (int a = 0; a &lt; 9; a++) {\n        board[a] = String.valueOf(a + 1);\n    }\n\n    System.out.println(&quot;Welcome to 3x3 Tic Tac Toe.&quot;);\n    printBoard();\n\n\n\n\n    while (winner == null) {\n        int numInput;\n        \n       // Exception handling.\n       // numInput will take input from user like from 1 to 9.\n       // If it is not in range from 1 to 9.\n       // then it will show you an error &quot;Invalid input.&quot;\n        try {\n            numInput = in.nextInt();\n            if (!(numInput &gt; 0 &amp;&amp; numInput &lt;= 9)) {\n                System.out.println(\n                    &quot;Invalid input; re-enter slot number:&quot;);\n                continue;\n            }\n        }\n        catch (InputMismatchException e) {\n            System.out.println(\n                &quot;Invalid input; re-enter slot number:&quot;);\n            continue;\n        }\n          \n        // This game has two player x and O.\n        // Here is the logic to decide the turn.\n        if (board[numInput - 1].equals(\n                String.valueOf(numInput))) {\n            board[numInput - 1] = turn;\n\n            if (turn.equals(&quot;X&quot;)) {\n                turn = &quot;O&quot;;\n            }\n            else {\n                turn = &quot;X&quot;;\n            }\n\n            printBoard();\n            winner = checkWinner();\n        }\n        else {\n            System.out.println(\n                &quot;Slot already taken; re-enter slot number:&quot;);\n        }\n    }\n\n    if (winner.equalsIgnoreCase(&quot;draw&quot;)) {\n        System.out.println(\n            &quot;It's a draw! Thanks for playing.&quot;);\n    }\n    \n    else {\n        System.out.println(\n            &quot;Congratulations! &quot; + winner\n            + &quot;'s have won! Thanks for playing.&quot;);\n          \n\n    }\n    if (winner==&quot;X&quot;) {\n      counterX++;\n    System.out.println(&quot;X's have &quot;+ counterX + &quot;(s) wins.&quot;);\n     System.out.println(&quot;Os have &quot;+ counterO + &quot;(s) wins.&quot;);\n    }\n    else if (winner==&quot;O&quot;){\n      counterO++;\n    System.out.println(&quot;X's have &quot;+ counterX + &quot;(s) wins.&quot;);\n     System.out.println(&quot;Os have &quot;+ counterO + &quot;(s) wins.&quot;);\n    }\n  System.out.println(&quot;Continue playing? Enter 1 to continue or 0 to end.&quot;);\n  int play=in.nextInt();\n  switch(play) {\n    case 0:\n      continuePlaying = &quot;N&quot;;\n      java.lang.System.exit(0); \n        break;\n    case 1:\n     continuePlaying = &quot;Y&quot;;\n      break;\n  }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642417053,"post_id":70740000,"comment_id":125056753,"body_markdown":"You are writing a full integration test, that is what `@SpringBootTest` is. What you want is to use `@WebMvcTest` for your specific controller instead.","body":"You are writing a full integration test, that is what <code>@SpringBootTest</code> is. What you want is to use <code>@WebMvcTest</code> for your specific controller instead."}],"answers":[{"tags":[],"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642417316,"creation_date":1642417316,"answer_id":70740253,"question_id":70740000,"body_markdown":"I feel like there are two different questions in this one.\r\n\r\nFirst your problem is, that your entire SpringBootApplication is started because you are using ```@SpringBootTest``` use ```@WebMvcTest``` instead. You also &quot;need&quot; to use \r\n\r\n    @LocalServerPort \r\n    private int port;\r\n\r\nto actually access the port you add with `(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`\r\n\r\n\r\nYour second problem \r\n\r\n&gt; On top of that, the data is not being flushed after executing each class, so the first one works fine and the rest throw a @Unique exception because the data is already there.\r\n\r\nCan easily be fixed by annotating your test with `@Transactional` tho I don&#39;t believe this to be the solution for your actual problem.\r\n\r\n","title":"How can I run a REST Controller test without loading data.sql?","body":"<p>I feel like there are two different questions in this one.</p>\n<p>First your problem is, that your entire SpringBootApplication is started because you are using <code>@SpringBootTest</code> use <code>@WebMvcTest</code> instead. You also &quot;need&quot; to use</p>\n<pre><code>@LocalServerPort \nprivate int port;\n</code></pre>\n<p>to actually access the port you add with <code>(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code></p>\n<p>Your second problem</p>\n<blockquote>\n<p>On top of that, the data is not being flushed after executing each class, so the first one works fine and the rest throw a @Unique exception because the data is already there.</p>\n</blockquote>\n<p>Can easily be fixed by annotating your test with <code>@Transactional</code> tho I don't believe this to be the solution for your actual problem.</p>\n"},{"tags":[],"owner":{"account_id":16750375,"reputation":23,"user_id":12169711,"display_name":"andresdt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642428632,"creation_date":1642428632,"answer_id":70742719,"question_id":70740000,"body_markdown":"Thanks both for your answers. I had to do the following changes:\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(controllers = GameController.class)\r\npublic class GameControllerTest {\r\n\r\n\t@Autowired\r\n\tMockMvc mockMvc;\r\n\r\n\t@MockBean\r\n\tprivate GameService gameService;\r\n\r\n    // I also have to mock all the services called from gameService:\r\n\r\n\t@MockBean\r\n\tprivate UserService userService;\r\n\r\n\t@MockBean\r\n\tprivate PlayerService playerService;\r\n\r\n\t@MockBean\r\n\tprivate DataSource dataSource; \r\n\r\n    // (...)\r\n```\r\n\r\nI didn&#39;t know that I also had to mock the services that were not called directly by the service. This way, `@WebMvcTest` works as expected.","title":"How can I run a REST Controller test without loading data.sql?","body":"<p>Thanks both for your answers. I had to do the following changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = GameController.class)\npublic class GameControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    private GameService gameService;\n\n    // I also have to mock all the services called from gameService:\n\n    @MockBean\n    private UserService userService;\n\n    @MockBean\n    private PlayerService playerService;\n\n    @MockBean\n    private DataSource dataSource; \n\n    // (...)\n</code></pre>\n<p>I didn't know that I also had to mock the services that were not called directly by the service. This way, <code>@WebMvcTest</code> works as expected.</p>\n"}],"owner":{"account_id":16750375,"reputation":23,"user_id":12169711,"display_name":"andresdt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70742719,"answer_count":2,"score":0,"last_activity_date":1642428632,"creation_date":1642416034,"question_id":70740000,"body_markdown":"I&#39;m developing a Spring Boot application and I&#39;m having some trouble setting up RESTController tests. The problem is that, when I run the test classes individually, they all work. However, when I try to run all the test classes at once, only the first one works and the others throw `java.lang.IllegalStateException: Failed to load ApplicationContext`. I have been debugging this and the problematic line is the following:\r\n\r\n`INSERT INTO users(username,password, email) VALUES (&#39;admin&#39;,&#39;$2a$10$bicbzJTFskk8.sHWJauxCu2RzDIqXk/zCxQDZ5ByLQw0m0lQ6l2Pa&#39;, &#39;admin@mail.com&#39;) [23505-200]\r\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:spring-boot/target/classes/db/hsqldb/data.sql]: INSERT INTO users(username,password, email) VALUES (&#39;admin&#39;,&#39;$2a$10$bicbzJTFskk8.sHWJauxCu2RzDIqXk/zCxQDZ5ByLQw0m0lQ6l2Pa&#39;, &#39;admin@mail.com&#39;); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.PRIMARY_KEY_4D ON PUBLIC.USERS(USERNAME) VALUES 1&quot;; SQL statement:\r\n`\r\n\r\nThis leads me to think that the `data.sql` script is being executed on every test (which I believe should not be the case since my controller tests shouldn&#39;t rely on DB data). On top of that, the data is not being flushed after executing each class, so the first one works fine and the rest throw a `@Unique` exception because the data is already there.\r\n\r\nMy REST controller tests look like this:\r\n\r\n```java\r\n@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc(addFilters = false)\r\npublic class GameControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    GameService gameService;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        Game game1 = new Game();\r\n        game1.setId(1);\r\n\r\n        Game game2 = new Game();\r\n        game2.setId(2);\r\n\r\n        Lobby lobby = new Lobby();\r\n\r\n        when(gameService.findAll()).thenReturn(List.of(game1, game2));\r\n        when(gameService.createFromLobby(lobby)).thenReturn(game1);\r\n        when(gameService.gameCount()).thenReturn(List.of(game1, game2).size());\r\n        when(gameService.findGameById(1)).thenReturn(game1);\r\n\r\n    }\r\n\r\n    @Test\r\n    void testGetAllGames() throws Exception {\r\n        mockMvc.perform(get(&quot;/games&quot;)).andExpect(status().isOk()).andExpect(jsonPath(&quot;$&quot;, hasSize(2)))\r\n                .andExpect(jsonPath(&quot;$[0].id&quot;, is(1)))\r\n                .andExpect(jsonPath(&quot;$[1].id&quot;, is(2)));\r\n    }\r\n```\r\n\r\nAs you can see, I also tried to use `@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)` but it does not fix the problem.","title":"How can I run a REST Controller test without loading data.sql?","body":"<p>I'm developing a Spring Boot application and I'm having some trouble setting up RESTController tests. The problem is that, when I run the test classes individually, they all work. However, when I try to run all the test classes at once, only the first one works and the others throw <code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>. I have been debugging this and the problematic line is the following:</p>\n<p><code>INSERT INTO users(username,password, email) VALUES ('admin','$2a$10$bicbzJTFskk8.sHWJauxCu2RzDIqXk/zCxQDZ5ByLQw0m0lQ6l2Pa', 'admin@mail.com') [23505-200] Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:spring-boot/target/classes/db/hsqldb/data.sql]: INSERT INTO users(username,password, email) VALUES ('admin','$2a$10$bicbzJTFskk8.sHWJauxCu2RzDIqXk/zCxQDZ5ByLQw0m0lQ6l2Pa', 'admin@mail.com'); nested exception is org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.PRIMARY_KEY_4D ON PUBLIC.USERS(USERNAME) VALUES 1&quot;; SQL statement: </code></p>\n<p>This leads me to think that the <code>data.sql</code> script is being executed on every test (which I believe should not be the case since my controller tests shouldn't rely on DB data). On top of that, the data is not being flushed after executing each class, so the first one works fine and the rest throw a <code>@Unique</code> exception because the data is already there.</p>\n<p>My REST controller tests look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc(addFilters = false)\npublic class GameControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    GameService gameService;\n\n    @BeforeEach\n    void setup() {\n        Game game1 = new Game();\n        game1.setId(1);\n\n        Game game2 = new Game();\n        game2.setId(2);\n\n        Lobby lobby = new Lobby();\n\n        when(gameService.findAll()).thenReturn(List.of(game1, game2));\n        when(gameService.createFromLobby(lobby)).thenReturn(game1);\n        when(gameService.gameCount()).thenReturn(List.of(game1, game2).size());\n        when(gameService.findGameById(1)).thenReturn(game1);\n\n    }\n\n    @Test\n    void testGetAllGames() throws Exception {\n        mockMvc.perform(get(&quot;/games&quot;)).andExpect(status().isOk()).andExpect(jsonPath(&quot;$&quot;, hasSize(2)))\n                .andExpect(jsonPath(&quot;$[0].id&quot;, is(1)))\n                .andExpect(jsonPath(&quot;$[1].id&quot;, is(2)));\n    }\n</code></pre>\n<p>As you can see, I also tried to use <code>@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)</code> but it does not fix the problem.</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642428508,"creation_date":1642428508,"answer_id":70742689,"question_id":70725001,"body_markdown":"I&#39;ve found out that I have to put `maven { url &#39;https://jitpack.io&#39; }` inside a `settings.gradle` file, not the `top-level build` one and it works now. ","title":"How to add StompProtocolAndroid to Android Studio gradle?","body":"<p>I've found out that I have to put <code>maven { url 'https://jitpack.io' }</code> inside a <code>settings.gradle</code> file, not the <code>top-level build</code> one and it works now.</p>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70742689,"answer_count":1,"score":0,"last_activity_date":1642428508,"creation_date":1642277047,"question_id":70725001,"body_markdown":"I&#39;m new to java and its build scripts. I&#39;ve already got a spring boot messaging service with `stomp` and `sockjs`. I want to send and receive messages from an android app. I&#39;d like to use https://github.com/NaikSoftware/StompProtocolAndroid for the stomp client. I have problems setting it up, though. \r\n\r\nI followed the steps described on that side, but it&#39;s kinda outdated. The server example linked there https://github.com/NaikSoftware/stomp-protocol-example-server has one `build.gradle` file and on my android studio there are two files, so I&#39;m kinda confused where to put them properties. \r\n\r\nI have cleaned android studio project with default `build.gradle` files. They look like this:\r\n\r\nfirst file:\r\n```gradle\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nsecond file:\r\n```gradle\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.chatapp&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nand I added `maven { url &quot;https://jitpack.io&quot; }` to the first file right under `mavenCentral()`\r\n\r\nand `implementation &#39;com.github.NaikSoftware:StompProtocolAndroid:{latest version}&#39;` to the second file in the `dependencies` scope.\r\n\r\nIt syncs properly with a warning: `Failed to resolve: com.githubAffected Modules: &lt;a href=&quot;someLongPath/app/build.gradle&quot;&gt;app&lt;/a&gt;`\r\n\r\nbut when I build I get whole bunch of errors:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried to open them links but it returns &quot;error 404&quot; which means that these websites don&#39;t exist. \r\n\r\nI also googled this error: `Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.`\r\n\r\nI found some &quot;fixes&quot;, but they don&#39;t work for me, probably they&#39;re also outdated.\r\n\r\nHow can I add this library to my android app?\r\n\r\n  [1]: https://i.stack.imgur.com/OWP4k.png","title":"How to add StompProtocolAndroid to Android Studio gradle?","body":"<p>I'm new to java and its build scripts. I've already got a spring boot messaging service with <code>stomp</code> and <code>sockjs</code>. I want to send and receive messages from an android app. I'd like to use <a href=\"https://github.com/NaikSoftware/StompProtocolAndroid\" rel=\"nofollow noreferrer\">https://github.com/NaikSoftware/StompProtocolAndroid</a> for the stomp client. I have problems setting it up, though.</p>\n<p>I followed the steps described on that side, but it's kinda outdated. The server example linked there <a href=\"https://github.com/NaikSoftware/stomp-protocol-example-server\" rel=\"nofollow noreferrer\">https://github.com/NaikSoftware/stomp-protocol-example-server</a> has one <code>build.gradle</code> file and on my android studio there are two files, so I'm kinda confused where to put them properties.</p>\n<p>I have cleaned android studio project with default <code>build.gradle</code> files. They look like this:</p>\n<p>first file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>second file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.chatapp&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.android.volley:volley:1.2.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>and I added <code>maven { url &quot;https://jitpack.io&quot; }</code> to the first file right under <code>mavenCentral()</code></p>\n<p>and <code>implementation 'com.github.NaikSoftware:StompProtocolAndroid:{latest version}'</code> to the second file in the <code>dependencies</code> scope.</p>\n<p>It syncs properly with a warning: <code>Failed to resolve: com.githubAffected Modules: &lt;a href=&quot;someLongPath/app/build.gradle&quot;&gt;app&lt;/a&gt;</code></p>\n<p>but when I build I get whole bunch of errors:</p>\n<p><a href=\"https://i.stack.imgur.com/OWP4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OWP4k.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to open them links but it returns &quot;error 404&quot; which means that these websites don't exist.</p>\n<p>I also googled this error: <code>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</code></p>\n<p>I found some &quot;fixes&quot;, but they don't work for me, probably they're also outdated.</p>\n<p>How can I add this library to my android app?</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1582151854,"post_id":60310267,"comment_id":106683581,"body_markdown":"I&#39;m not understanding what you&#39;re asking.  You mention Lambda and API Gateway but I don&#39;t see anything related to that.  Your link is just a S3 upload and your code seems to be trying to *output* a file and then put that file to S3.","body":"I&#39;m not understanding what you&#39;re asking.  You mention Lambda and API Gateway but I don&#39;t see anything related to that.  Your link is just a S3 upload and your code seems to be trying to <i>output</i> a file and then put that file to S3."},{"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"score":0,"creation_date":1582155416,"post_id":60310267,"comment_id":106684578,"body_markdown":"Yep. Trying to put a file to s3 as clearly stated in the title. The file successfully uploads to s3 but the it is blank","body":"Yep. Trying to put a file to s3 as clearly stated in the title. The file successfully uploads to s3 but the it is blank"}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582153344,"creation_date":1582152164,"answer_id":60310425,"question_id":60310267,"body_markdown":"You&#39;re using an output stream as input to the upload request. Just use File, and include content type, for example:\r\n\r\n    File file = new File(fileName);\r\n    PutObjectRequest request = new PutObjectRequest(&quot;bucketname&quot;, &quot;keyname&quot;, file);\r\n    ObjectMetadata metadata = new ObjectMetadata();\r\n    metadata.setContentType(&quot;application/pdf&quot;);\r\n    request.setMetadata(metadata);\r\n    s3Client.putObject(request);","title":"AWS Lambda and S3 - uploaded pdf file is blank","body":"<p>You're using an output stream as input to the upload request. Just use File, and include content type, for example:</p>\n\n<pre><code>File file = new File(fileName);\nPutObjectRequest request = new PutObjectRequest(\"bucketname\", \"keyname\", file);\nObjectMetadata metadata = new ObjectMetadata();\nmetadata.setContentType(\"application/pdf\");\nrequest.setMetadata(metadata);\ns3Client.putObject(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1607982992,"creation_date":1582906100,"answer_id":60455420,"question_id":60310267,"body_markdown":"Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url.\r\n\r\n - server gets a file with this byte -&gt; 0010 (this will not be\r\n   interpreted right, because a standard byte has 8 bits)\r\n - so, we encode it in base 64 -&gt; doesn&#39;t matter what result, decode it\r\n   to get a standard byte -&gt; 0000 0010 (now this is a standard byte and\r\n   is interpreted right by aws)\r\n - This source here helped a lot as well --&gt;\r\n   https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\r\n\r\n \r\n```\r\n\r\n            Base64.Encoder enc = Base64.getEncoder();\r\n            byte[] encbytes = enc.encode(file.getBytes());\r\n            for (int i = 0; i &lt; encbytes.length; i++)\r\n            {\r\n                System.out.printf(&quot;%c&quot;, (char) encbytes[i]);\r\n                if (i != 0 &amp;&amp; i % 4 == 0)\r\n                    System.out.print(&#39; &#39;);\r\n            }\r\n            Base64.Decoder dec = Base64.getDecoder();\r\n            byte[] barray2 = dec.decode(encbytes);\r\n            InputStream fis = new ByteArrayInputStream(barray2);\r\n    \r\n            PutObjectResult objectResult = s3client.putObject(&quot;xxx&quot;, \r\n            file.getOriginalFilename(), fis, data);\r\n\r\n\r\n``` \r\nAnother very important piece to include is that the API Gateway settings must be properly configured to support binary data types. AWS Console --&gt; API Gateway --&gt; Settings --&gt; include what I have below in the attached photo\r\n[![ ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EPcd7.png","title":"AWS Lambda and S3 - uploaded pdf file is blank","body":"<p>Turns out that this will do this trick. Its all about encoding, thanks to the help of @KunLun. In my scenario, file is the multipart file (pdf) that is passed to aws via a POST to the url.</p>\n<ul>\n<li>server gets a file with this byte -&gt; 0010 (this will not be\ninterpreted right, because a standard byte has 8 bits)</li>\n<li>so, we encode it in base 64 -&gt; doesn't matter what result, decode it\nto get a standard byte -&gt; 0000 0010 (now this is a standard byte and\nis interpreted right by aws)</li>\n<li>This source here helped a lot as well --&gt;\n<a href=\"https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2\" rel=\"nofollow noreferrer\">https://www.javaworld.com/article/3240006/base64-encoding-and-decoding-in-java-8.html?page=2</a></li>\n</ul>\n<pre><code>\n            Base64.Encoder enc = Base64.getEncoder();\n            byte[] encbytes = enc.encode(file.getBytes());\n            for (int i = 0; i &lt; encbytes.length; i++)\n            {\n                System.out.printf(&quot;%c&quot;, (char) encbytes[i]);\n                if (i != 0 &amp;&amp; i % 4 == 0)\n                    System.out.print(' ');\n            }\n            Base64.Decoder dec = Base64.getDecoder();\n            byte[] barray2 = dec.decode(encbytes);\n            InputStream fis = new ByteArrayInputStream(barray2);\n    \n            PutObjectResult objectResult = s3client.putObject(&quot;xxx&quot;, \n            file.getOriginalFilename(), fis, data);\n\n\n</code></pre>\n<p>Another very important piece to include is that the API Gateway settings must be properly configured to support binary data types. AWS Console --&gt; API Gateway --&gt; Settings --&gt; include what I have below in the attached photo\n<a href=\"https://i.stack.imgur.com/EPcd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EPcd7.png\" alt=\" \" /></a></p>\n"},{"tags":[],"owner":{"account_id":9400120,"reputation":473,"user_id":7795583,"display_name":"Marjun Villegas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642428385,"creation_date":1642428385,"answer_id":70742662,"question_id":60310267,"body_markdown":"When you are uploading files using FORM-DATA from client to server-side, The server will get that file as base64. So, you have to decode it in order to get the actual file to be uploaded to your aws S3 bucket.\r\n\r\nQuick reference using nodeJS.\r\n\r\n    const decodedFile = Buffer.from(&lt;--add your encode base64 file --&gt;, &#39;base64&#39;); \r\n\r\nThat [const decodedFile] is going to be your value for the {Body} params for s3.\r\nYou can do the same concept or logic to any programming language out there!\r\n\r\nThank you.","title":"AWS Lambda and S3 - uploaded pdf file is blank","body":"<p>When you are uploading files using FORM-DATA from client to server-side, The server will get that file as base64. So, you have to decode it in order to get the actual file to be uploaded to your aws S3 bucket.</p>\n<p>Quick reference using nodeJS.</p>\n<pre><code>const decodedFile = Buffer.from(&lt;--add your encode base64 file --&gt;, 'base64'); \n</code></pre>\n<p>That [const decodedFile] is going to be your value for the {Body} params for s3.\nYou can do the same concept or logic to any programming language out there!</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":12010931,"reputation":474,"user_id":8787628,"display_name":"Llama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5049,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60455420,"answer_count":3,"score":3,"last_activity_date":1642428385,"creation_date":1582151232,"question_id":60310267,"body_markdown":" I have a pretty simple function that uploads a PDF file to an AWS S3  (https://codedestine.com/aws-s3-putobject-java/) using AWS Lambda with Amazon \r\n API Gateway.\r\n\r\nI try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.\r\n\r\nThis is the method I use to upload the PDF file on AWS S3.\r\n\r\n```\r\npublic static void uploadFile2(MultipartFile mpFile, String fileName) throws IOException{\r\n   \r\n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\r\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\r\n\r\n    OutputStream ops = new FileOutputStream(file);\r\n    ops.write(mpFile.getBytes());\r\n\r\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\r\n\r\n}\r\n```\r\n\r\nWhy the uploaded PDF file is blank?","title":"AWS Lambda and S3 - uploaded pdf file is blank","body":"<p>I have a pretty simple function that uploads a PDF file to an AWS S3  (<a href=\"https://codedestine.com/aws-s3-putobject-java/\" rel=\"nofollow noreferrer\">https://codedestine.com/aws-s3-putobject-java/</a>) using AWS Lambda with Amazon\nAPI Gateway.</p>\n<p>I try to upload a PDF file which has 2 pages with text. After upload, the PDF file(on AWS S3) has 2 blank pages.</p>\n<p>This is the method I use to upload the PDF file on AWS S3.</p>\n<pre><code>public static void uploadFile2(MultipartFile mpFile, String fileName) throws IOException{\n   \n    String dirPath = System.getProperty(&quot;java.io.tmpdir&quot;, &quot;/tmp&quot;);\n    File file = new File(dirPath  + &quot;/&quot; + fileName);\n\n    OutputStream ops = new FileOutputStream(file);\n    ops.write(mpFile.getBytes());\n\n    s3client.putObject(&quot;fakebucketname&quot;, fileName, file);\n\n}\n</code></pre>\n<p>Why the uploaded PDF file is blank?</p>\n"},{"tags":["java","swing","jformattedtextfield"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1438925618,"post_id":31870342,"comment_id":51659076,"body_markdown":"*&quot;Also clearing this textfield with releaseNoTextField.setText(&quot;&quot;) is not working, is there another way to do this ?&quot;* - Have you tried `setValue(null)`?","body":"<i>&quot;Also clearing this textfield with releaseNoTextField.setText(&quot;&quot;) is not working, is there another way to do this ?&quot;</i> - Have you tried <code>setValue(null)</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1438925626,"post_id":31870342,"comment_id":51659080,"body_markdown":"What means `is not working`?","body":"What means <code>is not working</code>?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1438925939,"post_id":31870342,"comment_id":51659227,"body_markdown":"I &quot;think&quot; it&#39;s a requirement between the `JFormattedTextField`, `NumberFormatter` and `NumberFormat` that `&quot;&quot;` is not a valid number, therefore it&#39;s rejecting your attempt to remove the last character.  This requirement is been enforced by `numberFormatter.setAllowsInvalid`.  If you don&#39;t really care about the format of the value, but simply restricting the user&#39;s input, you could use a `JTextField` and `DocumentFilter`","body":"I &quot;think&quot; it&#39;s a requirement between the <code>JFormattedTextField</code>, <code>NumberFormatter</code> and <code>NumberFormat</code> that <code>&quot;&quot;</code> is not a valid number, therefore it&#39;s rejecting your attempt to remove the last character.  This requirement is been enforced by <code>numberFormatter.setAllowsInvalid</code>.  If you don&#39;t really care about the format of the value, but simply restricting the user&#39;s input, you could use a <code>JTextField</code> and <code>DocumentFilter</code>"},{"owner":{"account_id":4229929,"reputation":349,"user_id":3462473,"accept_rate":52,"display_name":"user3462473"},"score":0,"creation_date":1438931479,"post_id":31870342,"comment_id":51661495,"body_markdown":"@MadProgrammer  is there any way I can prompt the error after user leaves the field along with clearing the text ?","body":"@MadProgrammer  is there any way I can prompt the error after user leaves the field along with clearing the text ?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1438933255,"post_id":31870342,"comment_id":51662401,"body_markdown":"If you&#39;re using `setAllowsInvalid(true)`, then the field should be reset after the user leaves the field. normally, I&#39;d use an `InputVerifier`, but I&#39;m not sure that would suitable for a `JFormattedTextField`","body":"If you&#39;re using <code>setAllowsInvalid(true)</code>, then the field should be reset after the user leaves the field. normally, I&#39;d use an <code>InputVerifier</code>, but I&#39;m not sure that would suitable for a <code>JFormattedTextField</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1438933307,"post_id":31870342,"comment_id":51662428,"body_markdown":"Actually, I lie, apparently you can use a `InputVerifer`, have a look at the [JavaDocs](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html) for an example","body":"Actually, I lie, apparently you can use a <code>InputVerifer</code>, have a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JavaDocs</a> for an example"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1438938132,"post_id":31870342,"comment_id":51665445,"body_markdown":"@user3462473 [for more infor... read](http://stackoverflow.com/q/7378821/714968)","body":"@user3462473 <a href=\"http://stackoverflow.com/q/7378821/714968\">for more infor... read</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1639945654,"creation_date":1438926309,"answer_id":31870538,"question_id":31870342,"body_markdown":"&gt; I have a JFormattedTextField which accepts number of 8 digits only, but when I try to clear the textfield with backspace button it doesnt delete first character of number (same behavior with delete button too), I have to presee Esc key to delete this character each time.\r\n\r\nThis is a restriction been applied by `numberFormatter.setAllowsInvalid(false);` which sees a blank `String` (`&quot;&quot;`) as not been a valid numerical value.  If you use `numberFormatter.setAllowsInvalid(true);` you can remove all the characters, but you can also enter any value you like.  \r\n\r\nThe field will be validated AFTER the user leaves the field though.\r\n\r\nIf you don&#39;t care about the value been formatted (`12, 345, 678`), then you could use a `DocumentFilter` applied to a plain `JTextField` an implement the logic you require within it.  See [Implementing a Document Filter](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) and [DocumentFilter Examples](https://www.javatips.net/api/javax.swing.text.documentfilter) for more details.\r\n\r\n&gt; Also clearing this textfield with releaseNoTextField.setText(&quot;&quot;) is not working, is there another way to do this ?\r\n\r\nYou should (always) be using `setValue` for `JFormattedTextField` and you should true `setValue(null)` to clear the field","title":"Clearing contents of JFormattedTextField not working?","body":"<blockquote>\n<p>I have a JFormattedTextField which accepts number of 8 digits only, but when I try to clear the textfield with backspace button it doesnt delete first character of number (same behavior with delete button too), I have to presee Esc key to delete this character each time.</p>\n</blockquote>\n<p>This is a restriction been applied by <code>numberFormatter.setAllowsInvalid(false);</code> which sees a blank <code>String</code> (<code>&quot;&quot;</code>) as not been a valid numerical value.  If you use <code>numberFormatter.setAllowsInvalid(true);</code> you can remove all the characters, but you can also enter any value you like.</p>\n<p>The field will be validated AFTER the user leaves the field though.</p>\n<p>If you don't care about the value been formatted (<code>12, 345, 678</code>), then you could use a <code>DocumentFilter</code> applied to a plain <code>JTextField</code> an implement the logic you require within it.  See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a Document Filter</a> and <a href=\"https://www.javatips.net/api/javax.swing.text.documentfilter\" rel=\"nofollow noreferrer\">DocumentFilter Examples</a> for more details.</p>\n<blockquote>\n<p>Also clearing this textfield with releaseNoTextField.setText(&quot;&quot;) is not working, is there another way to do this ?</p>\n</blockquote>\n<p>You should (always) be using <code>setValue</code> for <code>JFormattedTextField</code> and you should true <code>setValue(null)</code> to clear the field</p>\n"},{"tags":[],"owner":{"account_id":11130371,"reputation":21,"user_id":8170522,"display_name":"Hana Ziquel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497620053,"creation_date":1497618933,"answer_id":44590204,"question_id":31870342,"body_markdown":"`releaseNoTextField.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);`","title":"Clearing contents of JFormattedTextField not working?","body":"<p><code>releaseNoTextField.setFocusLostBehavior(javax.swing.JFormattedTextField.COMMIT);</code></p>\n"},{"tags":[],"owner":{"account_id":22823593,"reputation":11,"user_id":16973152,"display_name":"Till Woitendorf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642428067,"creation_date":1642428067,"answer_id":70742594,"question_id":31870342,"body_markdown":"What if you don&#39;t want to allow invalid input but the empty textfield shall be still allowed ? Just overwrite the stringToValue()-method from the NumberFormatter\r\n\r\n    NumberFormat intFormat = NumberFormat.getIntegerInstance();\r\n    intFormat.setGroupingUsed(false);\r\n    NumberFormatter numberFormatter = new NumberFormatter(intFormat){\r\n    \t@Override\r\n    \tpublic Object stringToValue(String text) throws ParseException {\r\n    \t\tif (text.length() == 0)\r\n    \t\t\treturn null;\r\n    \t\treturn super.stringToValue(text);\r\n    \t}\r\n    };\r\n    numberFormatter.setValueClass(Integer.class); \r\n    numberFormatter.setAllowsInvalid(false);\r\n    numberFormatter.setMinimum(0);\r\n    numberFormatter.setMaximum(99999999);","title":"Clearing contents of JFormattedTextField not working?","body":"<p>What if you don't want to allow invalid input but the empty textfield shall be still allowed ? Just overwrite the stringToValue()-method from the NumberFormatter</p>\n<pre><code>NumberFormat intFormat = NumberFormat.getIntegerInstance();\nintFormat.setGroupingUsed(false);\nNumberFormatter numberFormatter = new NumberFormatter(intFormat){\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        if (text.length() == 0)\n            return null;\n        return super.stringToValue(text);\n    }\n};\nnumberFormatter.setValueClass(Integer.class); \nnumberFormatter.setAllowsInvalid(false);\nnumberFormatter.setMinimum(0);\nnumberFormatter.setMaximum(99999999);\n</code></pre>\n"}],"owner":{"account_id":4229929,"reputation":349,"user_id":3462473,"accept_rate":52,"display_name":"user3462473"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3661,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31870538,"answer_count":3,"score":4,"last_activity_date":1642428067,"creation_date":1438925444,"question_id":31870342,"body_markdown":"1. I have a `JFormattedTextField` which accepts number of 8 digits only, but when I try to clear the textfield with backspace button it doesnt delete first character of number (same behavior with delete button too), I have to presee Esc key to delete this character each time.\r\n\r\n        NumberFormat intFormat = NumberFormat.getIntegerInstance();\r\n\t\tintFormat.setGroupingUsed(false);\r\n\t\tNumberFormatter numberFormatter = new NumberFormatter(intFormat);\r\n\t\tnumberFormatter.setValueClass(Integer.class); \r\n\t\tnumberFormatter.setAllowsInvalid(false);\r\n\t\tnumberFormatter.setMinimum(0);\r\n\t\tnumberFormatter.setMaximum(99999999);\r\n\t\t\r\n\t\treleaseNoTextField = new JFormattedTextField(numberFormatter);\r\n\r\nwhat&#39;s the problem here ?\r\n\r\n2. Also clearing this textfield with `releaseNoTextField.setText(&quot;&quot;)` is not working, is there another way to do this ?\r\n\t\t","title":"Clearing contents of JFormattedTextField not working?","body":"<ol>\n<li><p>I have a <code>JFormattedTextField</code> which accepts number of 8 digits only, but when I try to clear the textfield with backspace button it doesnt delete first character of number (same behavior with delete button too), I have to presee Esc key to delete this character each time.</p>\n\n<pre><code>NumberFormat intFormat = NumberFormat.getIntegerInstance();\nintFormat.setGroupingUsed(false);\nNumberFormatter numberFormatter = new NumberFormatter(intFormat);\nnumberFormatter.setValueClass(Integer.class); \nnumberFormatter.setAllowsInvalid(false);\nnumberFormatter.setMinimum(0);\nnumberFormatter.setMaximum(99999999);\n\nreleaseNoTextField = new JFormattedTextField(numberFormatter);\n</code></pre></li>\n</ol>\n\n<p>what's the problem here ?</p>\n\n<ol start=\"2\">\n<li>Also clearing this textfield with <code>releaseNoTextField.setText(\"\")</code> is not working, is there another way to do this ?</li>\n</ol>\n"},{"tags":["java","maven","apache-poi","classpath","pdfbox"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642253913,"post_id":70721936,"comment_id":125024399,"body_markdown":"Why do you need the PDFbox source code as a full fledged project? Maven can download the source code for the dependencies, and if you debug your project and you step into PDFbox code, you should be able to step through it. No need to have it as project locally. This should also solve your versioning problems.","body":"Why do you need the PDFbox source code as a full fledged project? Maven can download the source code for the dependencies, and if you debug your project and you step into PDFbox code, you should be able to step through it. No need to have it as project locally. This should also solve your versioning problems."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642254863,"post_id":70721936,"comment_id":125024620,"body_markdown":"@dunni First of all, it would only solve my versioning problems if I wanted to use the same version as the library uses. I would rather use the current version. Second, this is a general problem and question, i.e., not just about this specific situation. Same type of problem exists if I want to use two libraries which depend on different versions of a third library.","body":"@dunni First of all, it would only solve my versioning problems if I wanted to use the same version as the library uses. I would rather use the current version. Second, this is a general problem and question, i.e., not just about this specific situation. Same type of problem exists if I want to use two libraries which depend on different versions of a third library."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1642254993,"post_id":70721936,"comment_id":125024641,"body_markdown":"Ok, but i still don&#39;t understand the real problem. If you have 2 libraries, which depend on different versions of the third library, in your application runtime classpath you only end up with one version of the third library, and that&#39;s the one you want to debug, right? Maven will not put both versions of the 3rd party library in the resulting classpath.","body":"Ok, but i still don&#39;t understand the real problem. If you have 2 libraries, which depend on different versions of the third library, in your application runtime classpath you only end up with one version of the third library, and that&#39;s the one you want to debug, right? Maven will not put both versions of the 3rd party library in the resulting classpath."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642255159,"post_id":70721936,"comment_id":125024684,"body_markdown":"The reason why i&#39;m asking for clarification is, that your question currently sounds to me like an https://en.wikipedia.org/wiki/XY_problem","body":"The reason why i&#39;m asking for clarification is, that your question currently sounds to me like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/XY_problem</a>"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642255693,"post_id":70721936,"comment_id":125024815,"body_markdown":"I want to use two libraries in my application, PDFBox (so I can do some things with PDFs) and POI (so I can do some things with Word docs). I want to use the current version of PDFBox, to have the latest code and security fixes or whatever. The pom.xml for the current version of POI, however, specifies a previous version of PDFBox. So it puts the previous version on the classpath, and I cannot step through current-version source with it, as it is not the version being used.","body":"I want to use two libraries in my application, PDFBox (so I can do some things with PDFs) and POI (so I can do some things with Word docs). I want to use the current version of PDFBox, to have the latest code and security fixes or whatever. The pom.xml for the current version of POI, however, specifies a previous version of PDFBox. So it puts the previous version on the classpath, and I cannot step through current-version source with it, as it is not the version being used."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642255814,"post_id":70721936,"comment_id":125024845,"body_markdown":"But it should only put the previous version on the classpath in the case, where you removed the direct dependency to PDFBox and added it as project. Otherwise Maven should resolve both versions and only put one on the classpath. You could check that with `mvn dependency:tree`. The older PDFBox version, which is brought in by POI, should then have a remark like &quot;omitted for conflict with...&quot;.","body":"But it should only put the previous version on the classpath in the case, where you removed the direct dependency to PDFBox and added it as project. Otherwise Maven should resolve both versions and only put one on the classpath. You could check that with <code>mvn dependency:tree</code>. The older PDFBox version, which is brought in by POI, should then have a remark like &quot;omitted for conflict with...&quot;."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642255852,"post_id":70721936,"comment_id":125024855,"body_markdown":"If that doesn&#39;t work, then you have a problem with Maven (or the Eclipse integration), because Maven is able to deal with such situations and will resolve it usually correctly.","body":"If that doesn&#39;t work, then you have a problem with Maven (or the Eclipse integration), because Maven is able to deal with such situations and will resolve it usually correctly."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642256878,"post_id":70721936,"comment_id":125025067,"body_markdown":"So, if instead of making it an eclipse project, I just put a dependency in my application pom for the current version, it won&#39;t load the previous version? What happens when the POI library calls a method that has changed (or been deleted) in the new version? If Maven just fails to load it, I don&#39;t understand why there aren&#39;t failed applications all over the place. This would also mean it is not possible to change the library,","body":"So, if instead of making it an eclipse project, I just put a dependency in my application pom for the current version, it won&#39;t load the previous version? What happens when the POI library calls a method that has changed (or been deleted) in the new version? If Maven just fails to load it, I don&#39;t understand why there aren&#39;t failed applications all over the place. This would also mean it is not possible to change the library,"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642257005,"post_id":70721936,"comment_id":125025099,"body_markdown":"Correct, Maven will use the version that you put directly as dependency. If POI doesn&#39;t work with this version, then you have to downgrade your version to make it work. Maven doesn&#39;t &quot;fail&quot; to load it, this is expected behaviour (since you cannot have 2 versions of the same library on the classpath, as you already noticed). Not sure what you mean with your last sentence.","body":"Correct, Maven will use the version that you put directly as dependency. If POI doesn&#39;t work with this version, then you have to downgrade your version to make it work. Maven doesn&#39;t &quot;fail&quot; to load it, this is expected behaviour (since you cannot have 2 versions of the same library on the classpath, as you already noticed). Not sure what you mean with your last sentence."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642258127,"post_id":70721936,"comment_id":125025357,"body_markdown":"ok, thanks -- I do not understand how large modern applications deal with this in general. POI loaded 61 libraries as maven dependencies, I don&#39;t see how an application with a list of dependencies of any size keeps from having version conflicts. And I can downgrade my own use in this case; when the conflict is between two libraries you want to use, that isn&#39;t possible. I figured since we have this tool for managing the elaborate dependencies we end up with, that someone had used classloaders or something so the actual dependencies could be honored. Thanks for the help.","body":"ok, thanks -- I do not understand how large modern applications deal with this in general. POI loaded 61 libraries as maven dependencies, I don&#39;t see how an application with a list of dependencies of any size keeps from having version conflicts. And I can downgrade my own use in this case; when the conflict is between two libraries you want to use, that isn&#39;t possible. I figured since we have this tool for managing the elaborate dependencies we end up with, that someone had used classloaders or something so the actual dependencies could be honored. Thanks for the help."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1642335397,"post_id":70721936,"comment_id":125038642,"body_markdown":"From experience i can tell you, that version and dependency management can be a pain in large projects. But if you hit indeed a point where you need two different versions, then creating a separate application for a specific usecase is usually easier than managing classloaders within an application.","body":"From experience i can tell you, that version and dependency management can be a pain in large projects. But if you hit indeed a point where you need two different versions, then creating a separate application for a specific usecase is usually easier than managing classloaders within an application."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1642427775,"post_id":70721936,"comment_id":125061048,"body_markdown":"You can also exclude (see &quot;&lt;exclusions&gt;&quot; ) the 2.0.24 dependency in the POI dependency segment of the pom.xml.","body":"You can also exclude (see &quot;&lt;exclusions&gt;&quot; ) the 2.0.24 dependency in the POI dependency segment of the pom.xml."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1642551506,"post_id":70721936,"comment_id":125099634,"body_markdown":"I&#39;ve added the PDFBox dependency to POI because of PPT/WMF/EMF rendering and we usually upgrade that dependency. So no need to downgrade in your case, as you don&#39;t use that feature anyway. The heap of other dependencies come from Batik. Look at the 5.2.0 pom.xml and you&#39;ll see a lot of optional dependencies. Exclude those and run your tests. Also in the JPMS context, those are marked static/optional.","body":"I&#39;ve added the PDFBox dependency to POI because of PPT/WMF/EMF rendering and we usually upgrade that dependency. So no need to downgrade in your case, as you don&#39;t use that feature anyway. The heap of other dependencies come from Batik. Look at the 5.2.0 pom.xml and you&#39;ll see a lot of optional dependencies. Exclude those and run your tests. Also in the JPMS context, those are marked static/optional."}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642427858,"creation_date":1642253751,"question_id":70721936,"body_markdown":"I have a Java application for which I&#39;m using PDFBox; the latest stable release of PDFBox is 2.0.25. I want to step through PDFBox code after my project calls it. \r\n\r\nI have downloaded the PDFBox source, imported it as a Maven project into an eclipse workspace, and put that project on the build path for the application project. I removed the PDFBox dependency from the pom.xml for my application, and did Maven update and clean rebuild for things.\r\n\r\nHowever, another part of my application uses POI, and it also depends on PDFBox, specifically 2.0.24. So the PDFBox 2.0.24 jar is in the &#39;referenced libraries&#39; for the application, and I&#39;ve verified that sometimes, when a PDFBox reference is made, it uses the 2.0.24 from the referenced libraries instead of my local 2.0.25 library.\r\n\r\nObviously in strict classpath terms this is problematic -- a classloader will run down the list of available full pathnames until it finds one, and it isn&#39;t evaluating library versions. I know this can theoretically be done, on a runtime level, with classloaders, but don&#39;t know how to apply that in my situation. How can this get resolved correctly in the general case? The general case wouldn&#39;t have to be a debugging situation, it could be 2 (or more) libraries attempting to use different versions of a common library just to get their work done.\r\n\r\nIn my current situation, I&#39;ve tried putting a PDFBox dependency before the POI dependency in the dependency list in the pom.xml. I don&#39;t know any other way to influence which jar the runtime might use. Is there some way to specify that the POI code use a different classloader or something?","title":"How can I debug my specific version of an open-source lib when there&#39;s a maven dependency for a previous version of that lib","body":"<p>I have a Java application for which I'm using PDFBox; the latest stable release of PDFBox is 2.0.25. I want to step through PDFBox code after my project calls it.</p>\n<p>I have downloaded the PDFBox source, imported it as a Maven project into an eclipse workspace, and put that project on the build path for the application project. I removed the PDFBox dependency from the pom.xml for my application, and did Maven update and clean rebuild for things.</p>\n<p>However, another part of my application uses POI, and it also depends on PDFBox, specifically 2.0.24. So the PDFBox 2.0.24 jar is in the 'referenced libraries' for the application, and I've verified that sometimes, when a PDFBox reference is made, it uses the 2.0.24 from the referenced libraries instead of my local 2.0.25 library.</p>\n<p>Obviously in strict classpath terms this is problematic -- a classloader will run down the list of available full pathnames until it finds one, and it isn't evaluating library versions. I know this can theoretically be done, on a runtime level, with classloaders, but don't know how to apply that in my situation. How can this get resolved correctly in the general case? The general case wouldn't have to be a debugging situation, it could be 2 (or more) libraries attempting to use different versions of a common library just to get their work done.</p>\n<p>In my current situation, I've tried putting a PDFBox dependency before the POI dependency in the dependency list in the pom.xml. I don't know any other way to influence which jar the runtime might use. Is there some way to specify that the POI code use a different classloader or something?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1380697431,"post_id":19131094,"comment_id":28293292,"body_markdown":"**Which** such class are you using? There&#39;s no class by that name in the JDK itself, so you&#39;ll need to give us the fully-qualified class name. And: chances are it does *not* actually make anything thread-safe as annotations themselves can&#39;t modify the behaviour or the class they are applied to (unless you *also* use some bytecode weaving, classloader magic or proxying).","body":"<b>Which</b> such class are you using? There&#39;s no class by that name in the JDK itself, so you&#39;ll need to give us the fully-qualified class name. And: chances are it does <i>not</i> actually make anything thread-safe as annotations themselves can&#39;t modify the behaviour or the class they are applied to (unless you <i>also</i> use some bytecode weaving, classloader magic or proxying)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":17,"creation_date":1380698933,"post_id":19131094,"comment_id":28293851,"body_markdown":"It would be great if thread safety were that easy, unfortunately it&#39;s not!","body":"It would be great if thread safety were that easy, unfortunately it&#39;s not!"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1380699295,"post_id":19131094,"comment_id":28294010,"body_markdown":"The annotation was imported from a package. That package has documentation. What does that documentation say?","body":"The annotation was imported from a package. That package has documentation. What does that documentation say?"},{"owner":{"account_id":67105,"reputation":4349,"user_id":196533,"accept_rate":34,"display_name":"chrisjleu"},"score":0,"creation_date":1425973241,"post_id":19131094,"comment_id":46169363,"body_markdown":"SO question for more information about [&quot;@GuardedBy, @ThreadSafe, @NotThreadSafe&quot;](http://stackoverflow.com/questions/11362298/guardedby-threadsafe-notthreadsafe).","body":"SO question for more information about <a href=\"http://stackoverflow.com/questions/11362298/guardedby-threadsafe-notthreadsafe\">&quot;@GuardedBy, @ThreadSafe, @NotThreadSafe&quot;</a>."},{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":0,"creation_date":1610474312,"post_id":19131094,"comment_id":116143022,"body_markdown":"Does this answer your question? [@GuardedBy , @ThreadSafe ,@NotThreadSafe](https://stackoverflow.com/questions/11362298/guardedby-threadsafe-notthreadsafe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11362298/guardedby-threadsafe-notthreadsafe\">@GuardedBy , @ThreadSafe ,@NotThreadSafe</a>"}],"answers":[{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1492026763,"creation_date":1380695382,"answer_id":19131132,"question_id":19131094,"body_markdown":"See [@ThreadSafe Annotation][1]:\r\n\r\n&gt; Place this annotation on methods that can safely be called from more\r\n&gt; than one thread concurrently. **The method implementer must ensure\r\n&gt; thread safety using a variety of possible techniques** including\r\n&gt; immutable data, synchronized shared data, or not using any shared data\r\n&gt; at all.\r\n\r\nIt does not make the class Thread Safe, the programmer does it Thread Safe and adds the annotation.\r\n\r\nYou might want to see [this][2] helpful link too.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20131026140133/http://checkthread.org/annotation-threadsafe.html\r\n  [2]: https://web.archive.org/web/20150315141738/http://surelogic.com:80/promises/apidocs/com/surelogic/ThreadSafe.html","title":"Annotation called ThreadSafe","body":"<p>See <a href=\"https://web.archive.org/web/20131026140133/http://checkthread.org/annotation-threadsafe.html\" rel=\"noreferrer\">@ThreadSafe Annotation</a>:</p>\n\n<blockquote>\n  <p>Place this annotation on methods that can safely be called from more\n  than one thread concurrently. <strong>The method implementer must ensure\n  thread safety using a variety of possible techniques</strong> including\n  immutable data, synchronized shared data, or not using any shared data\n  at all.</p>\n</blockquote>\n\n<p>It does not make the class Thread Safe, the programmer does it Thread Safe and adds the annotation.</p>\n\n<p>You might want to see <a href=\"https://web.archive.org/web/20150315141738/http://surelogic.com:80/promises/apidocs/com/surelogic/ThreadSafe.html\" rel=\"noreferrer\">this</a> helpful link too.</p>\n"},{"tags":[],"owner":{"account_id":10793477,"reputation":81,"user_id":7940105,"display_name":"flounder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642427839,"creation_date":1641225804,"answer_id":70568404,"question_id":19131094,"body_markdown":"The `@ThreadSafe` annotation is used:\r\n- to express the thread safety guarantee to the users of the annotated class, so that they can quickly understand whether they should use this class in a multi-threaded environment. Perhaps more importantly, it gives them guarantee that this will also be true in the future.\r\n- for the maintainers of the code to be aware that their changes must not break the thread safety promise. This is important because client code may depend on this class being thread-safe.\r\n- by IDEs and static analysis tools to help you identify potential concurrency-related problems when using this class.\r\n\r\nThe annotation does not change the way the code itself operates, and putting it on a class that does not guarantee thread safety is a mistake.","title":"Annotation called ThreadSafe","body":"<p>The <code>@ThreadSafe</code> annotation is used:</p>\n<ul>\n<li>to express the thread safety guarantee to the users of the annotated class, so that they can quickly understand whether they should use this class in a multi-threaded environment. Perhaps more importantly, it gives them guarantee that this will also be true in the future.</li>\n<li>for the maintainers of the code to be aware that their changes must not break the thread safety promise. This is important because client code may depend on this class being thread-safe.</li>\n<li>by IDEs and static analysis tools to help you identify potential concurrency-related problems when using this class.</li>\n</ul>\n<p>The annotation does not change the way the code itself operates, and putting it on a class that does not guarantee thread safety is a mistake.</p>\n"}],"owner":{"account_id":946167,"reputation":8733,"user_id":973391,"accept_rate":41,"display_name":"Phoenix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30737,"favorite_count":0,"down_vote_count":5,"up_vote_count":23,"answer_count":2,"score":18,"last_activity_date":1642427839,"creation_date":1380695230,"question_id":19131094,"body_markdown":"\r\n    @ThreadSafe\t\r\n    public class A\r\n    {\r\n    }\r\n\r\nDoes this annotation actually make the class *Thread Safe* or is it just for readability?","title":"Annotation called ThreadSafe","body":"<pre><code>@ThreadSafe \npublic class A\n{\n}\n</code></pre>\n\n<p>Does this annotation actually make the class <em>Thread Safe</em> or is it just for readability?</p>\n"},{"tags":["java","parallel-processing"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642416541,"post_id":70739049,"comment_id":125056595,"body_markdown":"Using Kafka may be a good idea, but wouldn’t prevent the problem of duplicate inserts on its own. A good strategy is to design a way to detect duplicates based on the contents of the message. If you can move to using UUIDs as primary keys, the source of data to insert can also generate the UUID.","body":"Using Kafka may be a good idea, but wouldn’t prevent the problem of duplicate inserts on its own. A good strategy is to design a way to detect duplicates based on the contents of the message. If you can move to using UUIDs as primary keys, the source of data to insert can also generate the UUID."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1642426977,"post_id":70739049,"comment_id":125060674,"body_markdown":"How many requests do you have per unit of time? And how quickly do you have to process the requests? Can you add a delay to the processing?","body":"How many requests do you have per unit of time? And how quickly do you have to process the requests? Can you add a delay to the processing?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1642427583,"post_id":70739049,"comment_id":125060950,"body_markdown":"One option is to use idempotency keys and build something based on that. Stripe API has it explained here for example https://stripe.com/docs/api/idempotent_requests. But you still need to keep those keys somewhere and do some kind of locking on that. I think a good solution depends highly on the exact business logic.","body":"One option is to use idempotency keys and build something based on that. Stripe API has it explained here for example <a href=\"https://stripe.com/docs/api/idempotent_requests\" rel=\"nofollow noreferrer\">stripe.com/docs/api/idempotent_requests</a>. But you still need to keep those keys somewhere and do some kind of locking on that. I think a good solution depends highly on the exact business logic."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1642427824,"post_id":70739049,"comment_id":125061068,"body_markdown":"**Opinions about this?** renders your request off topic. Remember that this is a Q&amp;A place for specific questions on programming. Not something where people discuss options based on opinions and such. And note that your question is like &quot;one big wall of text&quot; is another reddish flag.","body":"<b>Opinions about this?</b> renders your request off topic. Remember that this is a Q&amp;A place for specific questions on programming. Not something where people discuss options based on opinions and such. And note that your question is like &quot;one big wall of text&quot; is another reddish flag."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642427675,"creation_date":1642427675,"answer_id":70742508,"question_id":70739049,"body_markdown":"One of the options is to **group tasks** so that 1 server processes a 100 of requests, 2nd server will process the next 200 requests. You can even group them by customer name so that 2 servers don&#39;t concurrently work with the same customer.\r\n\r\nThis can be done without Kafka, with plain old relational DB. You just need to insert your tasks into DB. Then each service could SELECT from the table like this (this is PG syntax, Oracle can support the same with small changes):\r\n\r\n    select * from tasks \r\n    order by customer \r\n    limit 100\r\n    for update skip locked\r\n\r\nThis allows to:\r\n1. Batch the tasks in groups\r\n2. Group tasks by fields (like customer)\r\n3. Lock in progress records (`for update`)\r\n4. And allow other services to skip and go to the next batch (`skip locked`)\r\n\r\nBut this does require some delay to gather a batch. On the other hand batch processing is usually more efficient, so you may end up handling requests faster.\r\n ","title":"Parallel processing in multi server environment, Java","body":"<p>One of the options is to <strong>group tasks</strong> so that 1 server processes a 100 of requests, 2nd server will process the next 200 requests. You can even group them by customer name so that 2 servers don't concurrently work with the same customer.</p>\n<p>This can be done without Kafka, with plain old relational DB. You just need to insert your tasks into DB. Then each service could SELECT from the table like this (this is PG syntax, Oracle can support the same with small changes):</p>\n<pre><code>select * from tasks \norder by customer \nlimit 100\nfor update skip locked\n</code></pre>\n<p>This allows to:</p>\n<ol>\n<li>Batch the tasks in groups</li>\n<li>Group tasks by fields (like customer)</li>\n<li>Lock in progress records (<code>for update</code>)</li>\n<li>And allow other services to skip and go to the next batch (<code>skip locked</code>)</li>\n</ol>\n<p>But this does require some delay to gather a batch. On the other hand batch processing is usually more efficient, so you may end up handling requests faster.</p>\n"}],"owner":{"account_id":3899382,"reputation":554,"user_id":3227576,"accept_rate":85,"display_name":"user3227576"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1642427759,"answer_count":1,"score":2,"last_activity_date":1642427675,"creation_date":1642411527,"question_id":70739049,"body_markdown":"I have a system which receives a lot of messages (by JMS) from a provider. The messages are consumed by currently up to 4 servers. The provider sends some of these messages doubled and at the same millisecond... some messages depends on each other. For example one message contains the customer information, the next about his products. \r\n\r\nCurrently the software, which is deployed on up to 4 servers, listens to the queue and processes the message. Processing means some mapping and storing the data into our database, which is a Oracle or PostGres Database (depends on the installation, but always a relational database). Concurrent modifications are detected by optimistic locking and we have an generic retry mechanism which fixes this issues, when they occur. So no big pain on updates.\r\n\r\nBut inserts are a problem... for example we receive 2 customer messages in the same ms... the software checks if the customer exists... if it not, it creates it... but if this happens at the same time, both of them try to create the customer. We solved this issue by DB-Constraints (the customerNumber must be unique) or in more complicated cases (where a DB-Constraints is not suitable) by pessimistic locking over a database table (an entry for insert is generated in the locking table, the other insert thread fails to create this entry and knows, that a insert is ongoing and stops it&#39;s processing). This worked so far... i guess not the best and prettiest solution, but it worked.\r\n\r\nProblem is our processing load grows, we find more and more issues where inserts duplicates data... which causes a lot of problems with the rest of our business logic and must be prevented... the current way is to secure these methods with pessimistic locking by using locking db table... \r\n\r\nCurrently i&#39;m not sure if we are going into the right direction and may be our design is wrong from the ground... can anyone offer me alternative ideas for this issue? May be some design patterns with advantages and disadvantages?\r\n\r\nOur current alternative is to group and load balance the messages (for example with KAFKA). This should make sure that the messages of one customer are processed by one thread =&gt; so the concurrent insert is not possible. Opinions about this?\r\n\r\nEnvironment: Java (EJB), Wildfly, Oracle/PostGre DB\r\n","title":"Parallel processing in multi server environment, Java","body":"<p>I have a system which receives a lot of messages (by JMS) from a provider. The messages are consumed by currently up to 4 servers. The provider sends some of these messages doubled and at the same millisecond... some messages depends on each other. For example one message contains the customer information, the next about his products.</p>\n<p>Currently the software, which is deployed on up to 4 servers, listens to the queue and processes the message. Processing means some mapping and storing the data into our database, which is a Oracle or PostGres Database (depends on the installation, but always a relational database). Concurrent modifications are detected by optimistic locking and we have an generic retry mechanism which fixes this issues, when they occur. So no big pain on updates.</p>\n<p>But inserts are a problem... for example we receive 2 customer messages in the same ms... the software checks if the customer exists... if it not, it creates it... but if this happens at the same time, both of them try to create the customer. We solved this issue by DB-Constraints (the customerNumber must be unique) or in more complicated cases (where a DB-Constraints is not suitable) by pessimistic locking over a database table (an entry for insert is generated in the locking table, the other insert thread fails to create this entry and knows, that a insert is ongoing and stops it's processing). This worked so far... i guess not the best and prettiest solution, but it worked.</p>\n<p>Problem is our processing load grows, we find more and more issues where inserts duplicates data... which causes a lot of problems with the rest of our business logic and must be prevented... the current way is to secure these methods with pessimistic locking by using locking db table...</p>\n<p>Currently i'm not sure if we are going into the right direction and may be our design is wrong from the ground... can anyone offer me alternative ideas for this issue? May be some design patterns with advantages and disadvantages?</p>\n<p>Our current alternative is to group and load balance the messages (for example with KAFKA). This should make sure that the messages of one customer are processed by one thread =&gt; so the concurrent insert is not possible. Opinions about this?</p>\n<p>Environment: Java (EJB), Wildfly, Oracle/PostGre DB</p>\n"},{"tags":["java","android","xml","android-alertdialog"],"comments":[{"owner":{"account_id":8652943,"reputation":22446,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":0,"creation_date":1642426864,"post_id":70742158,"comment_id":125060620,"body_markdown":"use  `CardView settingsSupportBtn = (CardView) view.findViewById(R.id.settings_support_btn);`  as cardview is on alert dialog","body":"use  <code>CardView settingsSupportBtn = (CardView) view.findViewById(R.id.settings_support_btn);</code>  as cardview is on alert dialog"},{"owner":{"account_id":21192804,"reputation":1215,"user_id":15584964,"display_name":"RaBaKa 78"},"score":0,"creation_date":1642426944,"post_id":70742158,"comment_id":125060650,"body_markdown":"have you initialized the `settingSupportBtn`?","body":"have you initialized the <code>settingSupportBtn</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19193743,"reputation":264,"user_id":14022951,"display_name":"A Sarshar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642427028,"creation_date":1642427028,"answer_id":70742361,"question_id":70742158,"body_markdown":"Change this line \r\n\r\n    CardView settingsSupportBtn = (CardView) findViewById(R.id.settings_support_btn);\r\n\r\nto \r\n\r\n    CardView settingsSupportBtn = (CardView) view.findViewById(R.id.settings_support_btn);","title":"How to put an onClick on a CardView in an AlertDialog","body":"<p>Change this line</p>\n<pre><code>CardView settingsSupportBtn = (CardView) findViewById(R.id.settings_support_btn);\n</code></pre>\n<p>to</p>\n<pre><code>CardView settingsSupportBtn = (CardView) view.findViewById(R.id.settings_support_btn);\n</code></pre>\n"}],"owner":{"account_id":23881466,"reputation":51,"user_id":17882111,"display_name":"busooCombo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70742361,"answer_count":1,"score":1,"last_activity_date":1642427028,"creation_date":1642426140,"question_id":70742158,"body_markdown":"I&#39;m trying to do a StartActivity of a CardView in an AlertDialog but it does not work\r\n\r\nI couldn&#39;t find anything similar on the internet, I also tried with a Button, I got the same error (see LogCat at the bottom of the post)\r\n\r\n\r\n\r\n**Here is my layout of my AlertDialog:**\r\n\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginStart=&quot;15dp&quot;\r\n    android:layout_marginEnd=&quot;15dp&quot;\r\n    app:cardBackgroundColor=&quot;@color/main_color_bg&quot;\r\n    app:cardCornerRadius=&quot;4.5dp&quot;\r\n    app:cardElevation=&quot;12dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/settings_support_btn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            android:layout_marginStart=&quot;15dp&quot;\r\n            android:layout_marginEnd=&quot;15dp&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/content_background&quot;\r\n            app:cardCornerRadius=&quot;4.5dp&quot;\r\n            app:cardElevation=&quot;12dp&quot;&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n        \r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\n**Here my Main**\r\n\r\n```\r\nAlertDialog settingsDialog;\r\n\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n//Other code here...\r\n\r\n  AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n  View view = getLayoutInflater().inflate(R.layout.settings_dialog, null);\r\n        CardView settingsSupportBtn = (CardView) findViewById(R.id.settings_support_btn);\r\n        settingsSupportBtn.setOnClickListener(view1 -&gt; {\r\n            startActivity(new Intent(Main.this, SettingsSupport.class));\r\n            settingsDialog.dismiss();\r\n        });\r\n\r\n        builder.setView(view);\r\n        settingsDialog = builder.create();\r\n\r\n        clickEvent();\r\n}\r\n\r\npublic void clickEvent() {\r\n  settingsBtn.setOnClickListener(view -&gt; {\r\n        settingsDialog.show();\r\n });\r\n\r\n}\r\n\r\n```\r\n\r\n**Here is my LogCat:**\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.package.test.android/com.package.test.android.Main}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n...\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n```\r\n\r\n","title":"How to put an onClick on a CardView in an AlertDialog","body":"<p>I'm trying to do a StartActivity of a CardView in an AlertDialog but it does not work</p>\n<p>I couldn't find anything similar on the internet, I also tried with a Button, I got the same error (see LogCat at the bottom of the post)</p>\n<p><strong>Here is my layout of my AlertDialog:</strong></p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;15dp&quot;\n    android:layout_marginEnd=&quot;15dp&quot;\n    app:cardBackgroundColor=&quot;@color/main_color_bg&quot;\n    app:cardCornerRadius=&quot;4.5dp&quot;\n    app:cardElevation=&quot;12dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:id=&quot;@+id/settings_support_btn&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;65dp&quot;\n            android:layout_marginStart=&quot;15dp&quot;\n            android:layout_marginEnd=&quot;15dp&quot;\n            android:layout_marginTop=&quot;15dp&quot;\n            app:cardBackgroundColor=&quot;@color/content_background&quot;\n            app:cardCornerRadius=&quot;4.5dp&quot;\n            app:cardElevation=&quot;12dp&quot;&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n        \n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p><strong>Here my Main</strong></p>\n<pre><code>AlertDialog settingsDialog;\n\nprotected void onCreate(Bundle savedInstanceState) {\n//Other code here...\n\n  AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\n  View view = getLayoutInflater().inflate(R.layout.settings_dialog, null);\n        CardView settingsSupportBtn = (CardView) findViewById(R.id.settings_support_btn);\n        settingsSupportBtn.setOnClickListener(view1 -&gt; {\n            startActivity(new Intent(Main.this, SettingsSupport.class));\n            settingsDialog.dismiss();\n        });\n\n        builder.setView(view);\n        settingsDialog = builder.create();\n\n        clickEvent();\n}\n\npublic void clickEvent() {\n  settingsBtn.setOnClickListener(view -&gt; {\n        settingsDialog.show();\n });\n\n}\n\n</code></pre>\n<p><strong>Here is my LogCat:</strong></p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.package.test.android/com.package.test.android.Main}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n...\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.cardview.widget.CardView.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n"},{"tags":["java","parent"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642426943,"creation_date":1642426943,"answer_id":70742342,"question_id":70741052,"body_markdown":"I don&#39;t think this is possible to achieve with final fields. You have something similar to circular dependency - you need the parent to initialize the child, and at the same time you need the children when initializing that same parent. The best i can come up with is making the parent non-final and using the setter method to enforce setting the field only once.\r\n\r\n    public class Track {\r\n    \r\n        private Course parent;\r\n        private final Tee tee;\r\n        private final Hole hole;\r\n    \r\n        public Track(Tee tee, Hole hole) {\r\n            this.tee = tee;\r\n            this.hole = hole;\r\n        }\r\n    \r\n        public void setParent(Course parent) {\r\n            if (this.parent != null) {\r\n                //already has been set, so not allowing it\r\n                //or throw exception, whatever you need\r\n                return;\r\n            }\r\n            this.parent = parent;\r\n        }\r\n    }\r\n\r\nThis should make the parent field effectively final.","title":"How do i finalize &quot;parent-child&quot; relationships between non-inherited classes?","body":"<p>I don't think this is possible to achieve with final fields. You have something similar to circular dependency - you need the parent to initialize the child, and at the same time you need the children when initializing that same parent. The best i can come up with is making the parent non-final and using the setter method to enforce setting the field only once.</p>\n<pre><code>public class Track {\n\n    private Course parent;\n    private final Tee tee;\n    private final Hole hole;\n\n    public Track(Tee tee, Hole hole) {\n        this.tee = tee;\n        this.hole = hole;\n    }\n\n    public void setParent(Course parent) {\n        if (this.parent != null) {\n            //already has been set, so not allowing it\n            //or throw exception, whatever you need\n            return;\n        }\n        this.parent = parent;\n    }\n}\n</code></pre>\n<p>This should make the parent field effectively final.</p>\n"}],"owner":{"account_id":20230349,"reputation":105,"user_id":14837054,"display_name":"jaylawl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642426943,"creation_date":1642421042,"question_id":70741052,"body_markdown":"Golf course example:\r\nWe have the classes `Course`, `Track`, `Tee`, and `Hole`.\r\n\r\n```\r\npublic class Course {\r\n    private final List&lt;Track&gt; tracks;\r\n}\r\n```\r\n\r\n```\r\npublic class Track {\r\n    private final Course parent;\r\n    private final Tee tee;\r\n    private final Hole hole;\r\n}\r\n```\r\n\r\n```\r\npublic class Tee {\r\n    private final Track parent;\r\n}\r\n```\r\n\r\n```\r\npublic class Hole {\r\n    private final Track parent;\r\n}\r\n```\r\n\r\nThere is a lot of parenting going on here.\r\n- `Course` must consist of 18 tracks, as is normal in golf.\r\n- `Track` must come with each a `Tee` and `Hole`, but must also specify a parent `Course` which it belongs to\r\n- `Tee` and `Hole` must also specify a parent, but an instance of `Track`, to which they each belong to.\r\n\r\nBut I am running into a problem. When i try to call the constructor of `Track`...\r\n```\r\npublic Track(Course parent, Tee tee, Hole hole) {//}\r\n```\r\n... i must pass both an instance of `Tee` and `Hole`, but...\r\n```\r\npublic Hole(Track parent) {//}\r\n```\r\n... the constructors of these demand that I pass an instance of `Track`. And i&#39;m stuck with a recursive problem.\r\n\r\nI could &quot;workaround&quot; this by not making each `parent` member of these classes `final` anymore, but that just feels hacky, like bad practice - and there is no reason for them to not be final as they will never change in my use case.\r\n\r\nSomething else i can think of, is outsourcing &quot;parent-child&quot; relationships like these to a different manager-type class; not too excited about doing something like that either though.\r\n\r\n**Question**\r\n\r\nWhat is the proper way to handle such &quot;parent-child&quot; relationships, with the goal in mind to have them finalized and having simple and quick access to methods like `#getParent()`?\r\n\r\nThank you","title":"How do i finalize &quot;parent-child&quot; relationships between non-inherited classes?","body":"<p>Golf course example:\nWe have the classes <code>Course</code>, <code>Track</code>, <code>Tee</code>, and <code>Hole</code>.</p>\n<pre><code>public class Course {\n    private final List&lt;Track&gt; tracks;\n}\n</code></pre>\n<pre><code>public class Track {\n    private final Course parent;\n    private final Tee tee;\n    private final Hole hole;\n}\n</code></pre>\n<pre><code>public class Tee {\n    private final Track parent;\n}\n</code></pre>\n<pre><code>public class Hole {\n    private final Track parent;\n}\n</code></pre>\n<p>There is a lot of parenting going on here.</p>\n<ul>\n<li><code>Course</code> must consist of 18 tracks, as is normal in golf.</li>\n<li><code>Track</code> must come with each a <code>Tee</code> and <code>Hole</code>, but must also specify a parent <code>Course</code> which it belongs to</li>\n<li><code>Tee</code> and <code>Hole</code> must also specify a parent, but an instance of <code>Track</code>, to which they each belong to.</li>\n</ul>\n<p>But I am running into a problem. When i try to call the constructor of <code>Track</code>...</p>\n<pre><code>public Track(Course parent, Tee tee, Hole hole) {//}\n</code></pre>\n<p>... i must pass both an instance of <code>Tee</code> and <code>Hole</code>, but...</p>\n<pre><code>public Hole(Track parent) {//}\n</code></pre>\n<p>... the constructors of these demand that I pass an instance of <code>Track</code>. And i'm stuck with a recursive problem.</p>\n<p>I could &quot;workaround&quot; this by not making each <code>parent</code> member of these classes <code>final</code> anymore, but that just feels hacky, like bad practice - and there is no reason for them to not be final as they will never change in my use case.</p>\n<p>Something else i can think of, is outsourcing &quot;parent-child&quot; relationships like these to a different manager-type class; not too excited about doing something like that either though.</p>\n<p><strong>Question</strong></p>\n<p>What is the proper way to handle such &quot;parent-child&quot; relationships, with the goal in mind to have them finalized and having simple and quick access to methods like <code>#getParent()</code>?</p>\n<p>Thank you</p>\n"},{"tags":["java","android","android-studio","mvvm","android-mvvm"],"comments":[{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1642427191,"post_id":70742324,"comment_id":125060773,"body_markdown":"Check similar questions https://stackoverflow.com/questions/53903762/viewmodelproviders-is-deprecated-in-1-1-0","body":"Check similar questions <a href=\"https://stackoverflow.com/questions/53903762/viewmodelproviders-is-deprecated-in-1-1-0\" title=\"viewmodelproviders is deprecated in 1 1 0\">stackoverflow.com/questions/53903762/&hellip;</a>"},{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":0,"creation_date":1642427263,"post_id":70742324,"comment_id":125060807,"body_markdown":"It should be new ViewModelProvider(this).get(MyViewModel.class);","body":"It should be new ViewModelProvider(this).get(MyViewModel.class);"}],"owner":{"account_id":22805515,"reputation":19,"user_id":16957613,"display_name":"Shakil Hossen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642426838,"creation_date":1642426838,"question_id":70742324,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E46gb.png\r\n\r\nI use That Library `implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;`\r\nWhen I Create The Project it is Working perfectly but I need to update my app. it is not working","title":"ViewModelProviders.of(this).get not working How I resolve that?","body":"<p><a href=\"https://i.stack.imgur.com/E46gb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E46gb.png\" alt=\"enter image description here\" /></a></p>\n<p>I use That Library <code>implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'</code>\nWhen I Create The Project it is Working perfectly but I need to update my app. it is not working</p>\n"},{"tags":["java","testing","mocking","mockito"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1642430669,"post_id":70742319,"comment_id":125062361,"body_markdown":"the wrong argument matcher  seems to be the eq(...). Try to replace it with a String of your choice.","body":"the wrong argument matcher  seems to be the eq(...). Try to replace it with a String of your choice."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1642438269,"post_id":70742319,"comment_id":125065431,"body_markdown":"Are you sure you&#39;re correctly setting up the mock?","body":"Are you sure you&#39;re correctly setting up the mock?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642552942,"post_id":70742319,"comment_id":125099920,"body_markdown":"I can&#39;t reproduce this from the code given and my own stubs for the missing types. Please provide a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"I can&#39;t reproduce this from the code given and my own stubs for the missing types. Please provide a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":23966185,"reputation":31,"user_id":17955651,"display_name":"helloabc123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642426814,"creation_date":1642426814,"question_id":70742319,"body_markdown":"I have the following method in an interface:\r\n\r\n    &lt;T extends RequestSource&gt; CompletableFuture&lt;PaymentResponse&gt; requestAsync(PaymentRequest&lt;T&gt; paymentRequest, String idempotencyKey);\r\n\r\nAnd have the following line in my test case so that i can mock the method:\r\n        \r\n```when(client.requestAsync(Mockito.any(), eq(request.getIdempotencyKey()))).thenReturn(CompletableFuture.completedFuture(pResponse.from(pProcessed)));```\r\n\r\nBut i get the following:\r\n\r\n    You cannot use argument matchers outside of verification or stubbing.\r\n    Examples of correct usage of argument matchers:\r\n        when(mock.get(anyInt())).thenReturn(null);\r\n        doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n        verify(mock).someMethod(contains(&quot;foo&quot;))\r\n    \r\n    This message may appear after an NullPointerException if the last matcher is returning an object \r\n    like any() but the stubbed method signature expect a primitive argument, in this case,\r\n    use primitive alternatives.\r\n        when(mock.get(any())); // bad use, will raise NPE\r\n        when(mock.get(anyInt())); // correct usage use\r\n\r\n\r\nIt seems to me that the Mockito.any() is not a suitable but I&#39;m not sure what to put in it. Any suggestions?","title":"How to mock generics within method parameters","body":"<p>I have the following method in an interface:</p>\n<pre><code>&lt;T extends RequestSource&gt; CompletableFuture&lt;PaymentResponse&gt; requestAsync(PaymentRequest&lt;T&gt; paymentRequest, String idempotencyKey);\n</code></pre>\n<p>And have the following line in my test case so that i can mock the method:</p>\n<p><code>when(client.requestAsync(Mockito.any(), eq(request.getIdempotencyKey()))).thenReturn(CompletableFuture.completedFuture(pResponse.from(pProcessed)));</code></p>\n<p>But i get the following:</p>\n<pre><code>You cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n</code></pre>\n<p>It seems to me that the Mockito.any() is not a suitable but I'm not sure what to put in it. Any suggestions?</p>\n"},{"tags":["java","java-17","openjdk-17"],"answers":[{"tags":[],"owner":{"account_id":2690669,"reputation":18637,"user_id":2613885,"display_name":"Aleksey Shipilev"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1642426686,"creation_date":1642175902,"answer_id":70713288,"question_id":70709971,"body_markdown":"Unfortunately (?), the easiest way to know for sure what those categories map to is to look at OpenJDK source code. The NMT tag you are looking for is [mtServiceability][1]. This would show that &quot;serviceability&quot; are basically diagnostic interfaces in JDK/JVM: JVMTI, heap dumps, etc.\r\n\r\nBut the same kind of thing is clear from observing that stack trace sample you are showing mentions `ThreadStackTrace::dump_stack_at_safepoint` -- that is something that dumps the thread information, for example for `jstack`, heap dump, etc. If you have a suspicion for the memory leak in that code, you might try to build a MCVE demonstrating it, and submitting the bug against OpenJDK, or showing it to a fellow OpenJDK developer. You probably know better what your application is doing to cause thread dumps, focus there.\r\n\r\nThat being said, I don&#39;t see [any obvious memory leaks][2] in `StackFrameInfo`, neither can I reproduce any leak with stress tests, so maybe what you are seeing is &quot;just&quot; thread dumping over the larger and larger thread stacks. Or you capture it when thread dump is happening. Or... It is hard to say without the MCVE.\r\n\r\n**Update**: After playing with MCVE, I realized that it reproduces with 17.0.1, but not with either mainline development JDK, or JDK 18 EA, or JDK 17.0.2 EA. I tested with 17.0.2 EA before, so was not seeing it, dang. Bisection between 17.0.1 and 17.0.2 EA shows it was fixed with [JDK-8273902][3] backport. 17.0.2 releases this week, so the bug should disappear after you upgrade.\r\n\r\n  [1]: https://github.com/openjdk/jdk/search?q=mtServiceability\r\n  [2]: https://github.com/openjdk/jdk/blob/ac98b22040f854de79813a1c2a97fc399d3bcc42/src/hotspot/share/services/threadService.cpp#L570-L600\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8273902","title":"What is &#39;serviceability memory category&#39; of Native Memory Tracking?","body":"<p>Unfortunately (?), the easiest way to know for sure what those categories map to is to look at OpenJDK source code. The NMT tag you are looking for is <a href=\"https://github.com/openjdk/jdk/search?q=mtServiceability\" rel=\"noreferrer\">mtServiceability</a>. This would show that &quot;serviceability&quot; are basically diagnostic interfaces in JDK/JVM: JVMTI, heap dumps, etc.</p>\n<p>But the same kind of thing is clear from observing that stack trace sample you are showing mentions <code>ThreadStackTrace::dump_stack_at_safepoint</code> -- that is something that dumps the thread information, for example for <code>jstack</code>, heap dump, etc. If you have a suspicion for the memory leak in that code, you might try to build a MCVE demonstrating it, and submitting the bug against OpenJDK, or showing it to a fellow OpenJDK developer. You probably know better what your application is doing to cause thread dumps, focus there.</p>\n<p>That being said, I don't see <a href=\"https://github.com/openjdk/jdk/blob/ac98b22040f854de79813a1c2a97fc399d3bcc42/src/hotspot/share/services/threadService.cpp#L570-L600\" rel=\"noreferrer\">any obvious memory leaks</a> in <code>StackFrameInfo</code>, neither can I reproduce any leak with stress tests, so maybe what you are seeing is &quot;just&quot; thread dumping over the larger and larger thread stacks. Or you capture it when thread dump is happening. Or... It is hard to say without the MCVE.</p>\n<p><strong>Update</strong>: After playing with MCVE, I realized that it reproduces with 17.0.1, but not with either mainline development JDK, or JDK 18 EA, or JDK 17.0.2 EA. I tested with 17.0.2 EA before, so was not seeing it, dang. Bisection between 17.0.1 and 17.0.2 EA shows it was fixed with <a href=\"https://bugs.openjdk.java.net/browse/JDK-8273902\" rel=\"noreferrer\">JDK-8273902</a> backport. 17.0.2 releases this week, so the bug should disappear after you upgrade.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642194548,"creation_date":1642192743,"answer_id":70716283,"question_id":70709971,"body_markdown":"One possible reason for some memory fluctuations would be some other process using dynamic attach to attach on JVM and debug the application and transfer application wise information to the debugger. **Serviceability** is closely related with jdb (java debugger).\r\n\r\n[https://openjdk.java.net/groups/serviceability/][1]\r\n[![enter image description here][2]][2]\r\n\r\nThe open JDK has this also analytically  [documented][3]\r\n\r\n&gt; **Serviceability in HotSpot**\r\n&gt; \r\n&gt;The HotSpot Virtual Machine contains several technologies that allow its operation &gt;to be observed by another Java process:\r\n&gt;\r\n&gt;**The Serviceability Agent(SA).** The Serviceability Agent is a Sun private &gt;component in the HotSpot repository that was developed by HotSpot engineers to &gt;assist in debugging HotSpot. They then realized that SA could be used to craft &gt;serviceability tools for end users since it can expose Java objects as well as &gt;HotSpot data structures both in running processes and in core files.\r\n&gt;\r\n&gt;**jvmstat performance counters.** HotSpot maintains several performance counters &gt;that are exposed to external processes via a Sun private shared memory mechanism. &gt;These counters are sometimes called perfdata.\r\n&gt;\r\n&gt;**The Java Virtual Machine Tool Interface (JVM TI)**. This is a standard C &gt;interface that is the reference implementation of JSR 163 - JavaTM Platform &gt;Profiling Architecture JVM TI is implemented by HotSpot and allows a native code &gt;&#39;agent&#39; to inspect and modify the state of the JVM.\r\n&gt;\r\n&gt;**The Monitoring and Management interface.** This is a Sun private API that allows &gt;aspects of HotSpot to be monitored and managed.\r\n&gt;\r\n&gt;**Dynamic Attach.** This is a Sun private mechanism that allows an external process &gt;to start a thread in HotSpot that can then be used to launch an agent to run in &gt;that HotSpot, and to send information about the state of HotSpot back to the &gt;external process.\r\n&gt;\r\n&gt;**DTrace.** DTrace is the award winning dynamic trace facility built into Solaris &gt;10 and later versions. DTrace probes have been added to HotSpot that allow &gt;monitoring of many aspects of operation when HotSpot runs on Solaris. In addition, &gt;HotSpot contains a jhelper.d file that enables dtrace to show Java frames in stack &gt;traces.\r\n&gt;\r\n&gt;**pstack support.** pstack is a Solaris utility that prints stack traces of all &gt;threads in a process. HotSpot includes support that allows pstack to show Java &gt;stack frames.\r\n\r\n\r\n  [1]: https://openjdk.java.net/groups/serviceability/\r\n  [2]: https://i.stack.imgur.com/OkMWg.png\r\n  [3]: https://openjdk.java.net/groups/hotspot/docs/Serviceability.html","title":"What is &#39;serviceability memory category&#39; of Native Memory Tracking?","body":"<p>One possible reason for some memory fluctuations would be some other process using dynamic attach to attach on JVM and debug the application and transfer application wise information to the debugger. <strong>Serviceability</strong> is closely related with jdb (java debugger).</p>\n<p><a href=\"https://openjdk.java.net/groups/serviceability/\" rel=\"nofollow noreferrer\">https://openjdk.java.net/groups/serviceability/</a>\n<a href=\"https://i.stack.imgur.com/OkMWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkMWg.png\" alt=\"enter image description here\" /></a></p>\n<p>The open JDK has this also analytically  <a href=\"https://openjdk.java.net/groups/hotspot/docs/Serviceability.html\" rel=\"nofollow noreferrer\">documented</a></p>\n<blockquote>\n<p><strong>Serviceability in HotSpot</strong></p>\n<p>The HotSpot Virtual Machine contains several technologies that allow its operation &gt;to be observed by another Java process:</p>\n<p><strong>The Serviceability Agent(SA).</strong> The Serviceability Agent is a Sun private &gt;component in the HotSpot repository that was developed by HotSpot engineers to &gt;assist in debugging HotSpot. They then realized that SA could be used to craft &gt;serviceability tools for end users since it can expose Java objects as well as &gt;HotSpot data structures both in running processes and in core files.</p>\n<p><strong>jvmstat performance counters.</strong> HotSpot maintains several performance counters &gt;that are exposed to external processes via a Sun private shared memory mechanism. &gt;These counters are sometimes called perfdata.</p>\n<p><strong>The Java Virtual Machine Tool Interface (JVM TI)</strong>. This is a standard C &gt;interface that is the reference implementation of JSR 163 - JavaTM Platform &gt;Profiling Architecture JVM TI is implemented by HotSpot and allows a native code &gt;'agent' to inspect and modify the state of the JVM.</p>\n<p><strong>The Monitoring and Management interface.</strong> This is a Sun private API that allows &gt;aspects of HotSpot to be monitored and managed.</p>\n<p><strong>Dynamic Attach.</strong> This is a Sun private mechanism that allows an external process &gt;to start a thread in HotSpot that can then be used to launch an agent to run in &gt;that HotSpot, and to send information about the state of HotSpot back to the &gt;external process.</p>\n<p><strong>DTrace.</strong> DTrace is the award winning dynamic trace facility built into Solaris &gt;10 and later versions. DTrace probes have been added to HotSpot that allow &gt;monitoring of many aspects of operation when HotSpot runs on Solaris. In addition, &gt;HotSpot contains a jhelper.d file that enables dtrace to show Java frames in stack &gt;traces.</p>\n<p><strong>pstack support.</strong> pstack is a Solaris utility that prints stack traces of all &gt;threads in a process. HotSpot includes support that allows pstack to show Java &gt;stack frames.</p>\n</blockquote>\n"}],"owner":{"account_id":5659371,"reputation":2152,"user_id":4477463,"accept_rate":22,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":70713288,"answer_count":2,"score":16,"last_activity_date":1642426686,"creation_date":1642160038,"question_id":70709971,"body_markdown":"I have an java app (JDK13) running in a docker container. Recently I moved the app to JDK17 (OpenJDK17) and found a gradual increase of memory usage by docker container. \r\n\r\nDuring investigation I found that the &#39;serviceability memory category&#39; NMT grows constantly (15mb per an hour). I checked the page https://docs.oracle.com/en/java/javase/17/troubleshoot/diagnostic-tools.html#GUID-5EF7BB07-C903-4EBD-A9C2-EC0E44048D37 but this category is not mentioned there.\r\n\r\nCould anyone explain what this serviceability category means and what can cause such gradual increase? \r\nAlso there are some additional new memory categories comparing to JDK13. Maybe someone knows where I can read details about them. \r\n\r\nHere is the result of command `jcmd 1 VM.native_memory summary`\r\n\r\n    Native Memory Tracking:\r\n    \r\n    (Omitting categories weighting less than 1KB)\r\n    \r\n    Total: reserved=4431401KB, committed=1191617KB\r\n    -                 Java Heap (reserved=2097152KB, committed=479232KB)\r\n                                (mmap: reserved=2097152KB, committed=479232KB) \r\n     \r\n    -                     Class (reserved=1052227KB, committed=22403KB)\r\n                                (classes #29547)\r\n                                (  instance classes #27790, array classes #1757)\r\n                                (malloc=3651KB #79345) \r\n                                (mmap: reserved=1048576KB, committed=18752KB) \r\n                                (  Metadata:   )\r\n                                (    reserved=139264KB, committed=130816KB)\r\n                                (    used=130309KB)\r\n                                (    waste=507KB =0.39%)\r\n                                (  Class space:)\r\n                                (    reserved=1048576KB, committed=18752KB)\r\n                                (    used=18149KB)\r\n                                (    waste=603KB =3.21%)\r\n     \r\n    -                    Thread (reserved=387638KB, committed=40694KB)\r\n                                (thread #378)\r\n                                (stack: reserved=386548KB, committed=39604KB)\r\n                                (malloc=650KB #2271) \r\n                                (arena=440KB #752)\r\n     \r\n    -                      Code (reserved=253202KB, committed=76734KB)\r\n                                (malloc=5518KB #23715) \r\n                                (mmap: reserved=247684KB, committed=71216KB) \r\n     \r\n    -                        GC (reserved=152419KB, committed=92391KB)\r\n                                (malloc=40783KB #34817) \r\n                                (mmap: reserved=111636KB, committed=51608KB) \r\n     \r\n    -                  Compiler (reserved=1506KB, committed=1506KB)\r\n                                (malloc=1342KB #2557) \r\n                                (arena=165KB #5)\r\n     \r\n    -                  Internal (reserved=5579KB, committed=5579KB)\r\n                                (malloc=5543KB #33822) \r\n                                (mmap: reserved=36KB, committed=36KB) \r\n     \r\n    -                     Other (reserved=231161KB, committed=231161KB)\r\n                                (malloc=231161KB #347) \r\n     \r\n    -                    Symbol (reserved=30558KB, committed=30558KB)\r\n                                (malloc=28887KB #769230) \r\n                                (arena=1670KB #1)\r\n     \r\n    -    Native Memory Tracking (reserved=16412KB, committed=16412KB)\r\n                                (malloc=575KB #8281) \r\n                                (tracking overhead=15837KB)\r\n     \r\n    -        Shared class space (reserved=12288KB, committed=12136KB)\r\n                                (mmap: reserved=12288KB, committed=12136KB) \r\n     \r\n    -               Arena Chunk (reserved=18743KB, committed=18743KB)\r\n                                (malloc=18743KB) \r\n     \r\n    -                   Tracing (reserved=32KB, committed=32KB)\r\n                                (arena=32KB #1)\r\n     \r\n    -                   Logging (reserved=7KB, committed=7KB)\r\n                                (malloc=7KB #289) \r\n     \r\n    -                 Arguments (reserved=1KB, committed=1KB)\r\n                                (malloc=1KB #53) \r\n     \r\n    -                    Module (reserved=1045KB, committed=1045KB)\r\n                                (malloc=1045KB #5026) \r\n     \r\n    -                 Safepoint (reserved=8KB, committed=8KB)\r\n                                (mmap: reserved=8KB, committed=8KB) \r\n     \r\n    -           Synchronization (reserved=204KB, committed=204KB)\r\n                                (malloc=204KB #2026) \r\n     \r\n    -            Serviceability (reserved=31187KB, committed=31187KB)\r\n                                (malloc=31187KB #49714) \r\n     \r\n    -                 Metaspace (reserved=140032KB, committed=131584KB)\r\n                                (malloc=768KB #622) \r\n                                (mmap: reserved=139264KB, committed=130816KB) \r\n     \r\n    -      String Deduplication (reserved=1KB, committed=1KB)\r\n                                (malloc=1KB #8) \r\n\r\n\r\n\r\nThe detailed information about increasing part of memory is:\r\n\r\n    [0x00007f6ccb970cbe] OopStorage::try_add_block()+0x2e\r\n    [0x00007f6ccb97132d] OopStorage::allocate()+0x3d\r\n    [0x00007f6ccbb34ee8] StackFrameInfo::StackFrameInfo(javaVFrame*, bool)+0x68\r\n    [0x00007f6ccbb35a64] ThreadStackTrace::dump_stack_at_safepoint(int)+0xe4\r\n                                 (malloc=6755KB type=Serviceability #10944)\r\n\r\n**Update#1 from 2022-01-17:**\r\n\r\nThanks to @Aleksey Shipilev for help! We were able to find a place which causes the issue, is related to many ThreadMXBean#.dumpAllThreads calls. Here is MCVE, Test.java:\r\n\r\nRun with: \r\n\r\n    java -Xmx512M -XX:NativeMemoryTracking=detail Test.java \r\n\r\nand check periodically serviceability category in result of \r\n\r\n    jcmd YOUR_PID VM.native_memory summary \r\n\r\nTest java:\r\n\r\n    import java.lang.management.ManagementFactory;\r\n    import java.lang.management.ThreadInfo;\r\n    import java.lang.management.ThreadMXBean;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Test {\r\n    \r\n        private static final int RUNNING = 40;\r\n        private static final int WAITING = 460;\r\n    \r\n        private final Object monitor = new Object();\r\n        private final ThreadMXBean threadMxBean = ManagementFactory.getThreadMXBean();\r\n        private final ExecutorService executorService = Executors.newFixedThreadPool(RUNNING + WAITING);\r\n    \r\n        void startRunningThread() {\r\n            executorService.submit(() -&gt; {\r\n                while (true) {\r\n                }\r\n            });\r\n        }\r\n    \r\n        void startWaitingThread() {\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    monitor.wait();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        void startThreads() {\r\n            for (int i = 0; i &lt; RUNNING; i++) {\r\n                startRunningThread();\r\n            }\r\n    \r\n            for (int i = 0; i &lt; WAITING; i++) {\r\n                startWaitingThread();\r\n            }\r\n        }\r\n    \r\n        void shutdown() {\r\n            executorService.shutdown();\r\n            try {\r\n                executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        \r\n        public static void main(String[] args) throws InterruptedException {\r\n            Test test = new Test();\r\n    \r\n            Runtime.getRuntime().addShutdownHook(new Thread(test::shutdown));\r\n    \r\n            test.startThreads();\r\n    \r\n            for (int i = 0; i &lt; 12000; i++) {\r\n                ThreadInfo[] threadInfos = test.threadMxBean.dumpAllThreads(false, false);\r\n                System.out.println(&quot;ThreadInfos: &quot; + threadInfos.length);\r\n    \r\n                Thread.sleep(100);\r\n            }\r\n    \r\n            test.shutdown();\r\n        }\r\n    }\r\n\r\n","title":"What is &#39;serviceability memory category&#39; of Native Memory Tracking?","body":"<p>I have an java app (JDK13) running in a docker container. Recently I moved the app to JDK17 (OpenJDK17) and found a gradual increase of memory usage by docker container.</p>\n<p>During investigation I found that the 'serviceability memory category' NMT grows constantly (15mb per an hour). I checked the page <a href=\"https://docs.oracle.com/en/java/javase/17/troubleshoot/diagnostic-tools.html#GUID-5EF7BB07-C903-4EBD-A9C2-EC0E44048D37\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/17/troubleshoot/diagnostic-tools.html#GUID-5EF7BB07-C903-4EBD-A9C2-EC0E44048D37</a> but this category is not mentioned there.</p>\n<p>Could anyone explain what this serviceability category means and what can cause such gradual increase?\nAlso there are some additional new memory categories comparing to JDK13. Maybe someone knows where I can read details about them.</p>\n<p>Here is the result of command <code>jcmd 1 VM.native_memory summary</code></p>\n<pre><code>Native Memory Tracking:\n\n(Omitting categories weighting less than 1KB)\n\nTotal: reserved=4431401KB, committed=1191617KB\n-                 Java Heap (reserved=2097152KB, committed=479232KB)\n                            (mmap: reserved=2097152KB, committed=479232KB) \n \n-                     Class (reserved=1052227KB, committed=22403KB)\n                            (classes #29547)\n                            (  instance classes #27790, array classes #1757)\n                            (malloc=3651KB #79345) \n                            (mmap: reserved=1048576KB, committed=18752KB) \n                            (  Metadata:   )\n                            (    reserved=139264KB, committed=130816KB)\n                            (    used=130309KB)\n                            (    waste=507KB =0.39%)\n                            (  Class space:)\n                            (    reserved=1048576KB, committed=18752KB)\n                            (    used=18149KB)\n                            (    waste=603KB =3.21%)\n \n-                    Thread (reserved=387638KB, committed=40694KB)\n                            (thread #378)\n                            (stack: reserved=386548KB, committed=39604KB)\n                            (malloc=650KB #2271) \n                            (arena=440KB #752)\n \n-                      Code (reserved=253202KB, committed=76734KB)\n                            (malloc=5518KB #23715) \n                            (mmap: reserved=247684KB, committed=71216KB) \n \n-                        GC (reserved=152419KB, committed=92391KB)\n                            (malloc=40783KB #34817) \n                            (mmap: reserved=111636KB, committed=51608KB) \n \n-                  Compiler (reserved=1506KB, committed=1506KB)\n                            (malloc=1342KB #2557) \n                            (arena=165KB #5)\n \n-                  Internal (reserved=5579KB, committed=5579KB)\n                            (malloc=5543KB #33822) \n                            (mmap: reserved=36KB, committed=36KB) \n \n-                     Other (reserved=231161KB, committed=231161KB)\n                            (malloc=231161KB #347) \n \n-                    Symbol (reserved=30558KB, committed=30558KB)\n                            (malloc=28887KB #769230) \n                            (arena=1670KB #1)\n \n-    Native Memory Tracking (reserved=16412KB, committed=16412KB)\n                            (malloc=575KB #8281) \n                            (tracking overhead=15837KB)\n \n-        Shared class space (reserved=12288KB, committed=12136KB)\n                            (mmap: reserved=12288KB, committed=12136KB) \n \n-               Arena Chunk (reserved=18743KB, committed=18743KB)\n                            (malloc=18743KB) \n \n-                   Tracing (reserved=32KB, committed=32KB)\n                            (arena=32KB #1)\n \n-                   Logging (reserved=7KB, committed=7KB)\n                            (malloc=7KB #289) \n \n-                 Arguments (reserved=1KB, committed=1KB)\n                            (malloc=1KB #53) \n \n-                    Module (reserved=1045KB, committed=1045KB)\n                            (malloc=1045KB #5026) \n \n-                 Safepoint (reserved=8KB, committed=8KB)\n                            (mmap: reserved=8KB, committed=8KB) \n \n-           Synchronization (reserved=204KB, committed=204KB)\n                            (malloc=204KB #2026) \n \n-            Serviceability (reserved=31187KB, committed=31187KB)\n                            (malloc=31187KB #49714) \n \n-                 Metaspace (reserved=140032KB, committed=131584KB)\n                            (malloc=768KB #622) \n                            (mmap: reserved=139264KB, committed=130816KB) \n \n-      String Deduplication (reserved=1KB, committed=1KB)\n                            (malloc=1KB #8) \n</code></pre>\n<p>The detailed information about increasing part of memory is:</p>\n<pre><code>[0x00007f6ccb970cbe] OopStorage::try_add_block()+0x2e\n[0x00007f6ccb97132d] OopStorage::allocate()+0x3d\n[0x00007f6ccbb34ee8] StackFrameInfo::StackFrameInfo(javaVFrame*, bool)+0x68\n[0x00007f6ccbb35a64] ThreadStackTrace::dump_stack_at_safepoint(int)+0xe4\n                             (malloc=6755KB type=Serviceability #10944)\n</code></pre>\n<p><strong>Update#1 from 2022-01-17:</strong></p>\n<p>Thanks to @Aleksey Shipilev for help! We were able to find a place which causes the issue, is related to many ThreadMXBean#.dumpAllThreads calls. Here is MCVE, Test.java:</p>\n<p>Run with:</p>\n<pre><code>java -Xmx512M -XX:NativeMemoryTracking=detail Test.java \n</code></pre>\n<p>and check periodically serviceability category in result of</p>\n<pre><code>jcmd YOUR_PID VM.native_memory summary \n</code></pre>\n<p>Test java:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadInfo;\nimport java.lang.management.ThreadMXBean;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class Test {\n\n    private static final int RUNNING = 40;\n    private static final int WAITING = 460;\n\n    private final Object monitor = new Object();\n    private final ThreadMXBean threadMxBean = ManagementFactory.getThreadMXBean();\n    private final ExecutorService executorService = Executors.newFixedThreadPool(RUNNING + WAITING);\n\n    void startRunningThread() {\n        executorService.submit(() -&gt; {\n            while (true) {\n            }\n        });\n    }\n\n    void startWaitingThread() {\n        executorService.submit(() -&gt; {\n            try {\n                monitor.wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    void startThreads() {\n        for (int i = 0; i &lt; RUNNING; i++) {\n            startRunningThread();\n        }\n\n        for (int i = 0; i &lt; WAITING; i++) {\n            startWaitingThread();\n        }\n    }\n\n    void shutdown() {\n        executorService.shutdown();\n        try {\n            executorService.awaitTermination(5, TimeUnit.SECONDS);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    \n    public static void main(String[] args) throws InterruptedException {\n        Test test = new Test();\n\n        Runtime.getRuntime().addShutdownHook(new Thread(test::shutdown));\n\n        test.startThreads();\n\n        for (int i = 0; i &lt; 12000; i++) {\n            ThreadInfo[] threadInfos = test.threadMxBean.dumpAllThreads(false, false);\n            System.out.println(&quot;ThreadInfos: &quot; + threadInfos.length);\n\n            Thread.sleep(100);\n        }\n\n        test.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1606269123,"post_id":64997286,"comment_id":114911699,"body_markdown":"Your error mentions .m2 - that suggests Maven to me.  If your pom.xml calls for the spring-boot-starter-parent it&#39;ll bring the Spring JAR into the project.  If you are not using Maven, you should.  If you cannot you should add the JAR to a /lib file and add all those JARs to the CLASSPATH in your project configuration.  Stick with IntelliJ - it&#39;s worlds better than Eclipse.","body":"Your error mentions .m2 - that suggests Maven to me.  If your pom.xml calls for the spring-boot-starter-parent it&#39;ll bring the Spring JAR into the project.  If you are not using Maven, you should.  If you cannot you should add the JAR to a /lib file and add all those JARs to the CLASSPATH in your project configuration.  Stick with IntelliJ - it&#39;s worlds better than Eclipse."},{"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"score":1,"creation_date":1606281820,"post_id":64997286,"comment_id":114914095,"body_markdown":"Thanks - I appreciate it.  And yes I am using Maven.  There isn&#39;t any sort of a parent tag in the pom.xml file.  Regarding correcting the classpath - I can see where the spring-context-5.2.8.RELEASE library is listed in the dependencies.  I&#39;m just not sure how to correct the issue.","body":"Thanks - I appreciate it.  And yes I am using Maven.  There isn&#39;t any sort of a parent tag in the pom.xml file.  Regarding correcting the classpath - I can see where the spring-context-5.2.8.RELEASE library is listed in the dependencies.  I&#39;m just not sure how to correct the issue."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1606302669,"post_id":64997286,"comment_id":114921816,"body_markdown":"Find the parent and use it. You should be using Soring Boot, not raw Soring.","body":"Find the parent and use it. You should be using Soring Boot, not raw Soring."}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1606291615,"creation_date":1606291615,"answer_id":65000672,"question_id":64997286,"body_markdown":"As error suggests:\r\n\r\n    Correct the classpath of your application so that it contains a single, compatible version of org.springframework.context.ConfigurableApplicationContext\r\n\r\nyou need to make sure your classpath contains only one such class. You can use Navigate | Class action to see if there are multiple versions of this class exists in project and exclude the duplicated library dependency in Maven `pom.xml` file.","title":"&#39;Correct the classpath of your application&#39; in a Springboot Configuration in IntelliJ","body":"<p>As error suggests:</p>\n<pre><code>Correct the classpath of your application so that it contains a single, compatible version of org.springframework.context.ConfigurableApplicationContext\n</code></pre>\n<p>you need to make sure your classpath contains only one such class. You can use Navigate | Class action to see if there are multiple versions of this class exists in project and exclude the duplicated library dependency in Maven <code>pom.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":15332453,"reputation":321,"user_id":11156297,"display_name":"Zoe Lubanza"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1642426671,"creation_date":1642426671,"answer_id":70742287,"question_id":64997286,"body_markdown":"If you&#39;ve added Spring dependencies in your **pom.xml** file, they might be conflicting with the Spring dependencies in the **lib** folder in your project directory. Deleting the **lib** folder will fix this. (just make sure your project does not depend on other libraries in the **lib** folder before deleting).","title":"&#39;Correct the classpath of your application&#39; in a Springboot Configuration in IntelliJ","body":"<p>If you've added Spring dependencies in your <strong>pom.xml</strong> file, they might be conflicting with the Spring dependencies in the <strong>lib</strong> folder in your project directory. Deleting the <strong>lib</strong> folder will fix this. (just make sure your project does not depend on other libraries in the <strong>lib</strong> folder before deleting).</p>\n"}],"owner":{"account_id":19033204,"reputation":457,"user_id":13894850,"display_name":"Tim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12766,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65000672,"answer_count":2,"score":5,"last_activity_date":1642426671,"creation_date":1606267800,"question_id":64997286,"body_markdown":"I have such an application with an IntelliJ-Idea IDE that has a Springboot configuration that errors out and gives the following recommendation:\r\n\r\n    The following method did not exist:\r\n\r\n    org.springframework.context.ConfigurableApplicationContext.setApplicationStartup(Lorg/springframework/core/metrics/ApplicationStartup;)V\r\n\r\n    The method&#39;s class, org.springframework.context.ConfigurableApplicationContext, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/tlmitch/.m2/repository/org/springframework/spring-context/5.2.8.RELEASE/spring-context-5.2.8.RELEASE.jar!/org/springframework/context/ConfigurableApplicationContext.class\r\n\r\n    Correct the classpath of your application so that it contains a single, compatible version of org.springframework.context.ConfigurableApplicationContext\r\n\r\n\r\n\r\nI&#39;m relatively new to IntelliJ-Idea and Springboot.  If this were say Eclipse - I would probably just go to the Java Build Path and add the jar file that contains the class.\r\n\r\nI&#39;m less familiar with IntelliJ.  So far if something is missing, I&#39;ve just been running &#39;npm install&#39; and that usually takes care of it.\r\n\r\nAny suggestions?\r\n\r\nThanks much\r\n\r\n","title":"&#39;Correct the classpath of your application&#39; in a Springboot Configuration in IntelliJ","body":"<p>I have such an application with an IntelliJ-Idea IDE that has a Springboot configuration that errors out and gives the following recommendation:</p>\n<pre><code>The following method did not exist:\n\norg.springframework.context.ConfigurableApplicationContext.setApplicationStartup(Lorg/springframework/core/metrics/ApplicationStartup;)V\n\nThe method's class, org.springframework.context.ConfigurableApplicationContext, is available from the following locations:\n\njar:file:/C:/Users/tlmitch/.m2/repository/org/springframework/spring-context/5.2.8.RELEASE/spring-context-5.2.8.RELEASE.jar!/org/springframework/context/ConfigurableApplicationContext.class\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.context.ConfigurableApplicationContext\n</code></pre>\n<p>I'm relatively new to IntelliJ-Idea and Springboot.  If this were say Eclipse - I would probably just go to the Java Build Path and add the jar file that contains the class.</p>\n<p>I'm less familiar with IntelliJ.  So far if something is missing, I've just been running 'npm install' and that usually takes care of it.</p>\n<p>Any suggestions?</p>\n<p>Thanks much</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":4628781,"reputation":7731,"user_id":3751845,"accept_rate":67,"display_name":"NaN"},"score":4,"creation_date":1430378604,"post_id":29961456,"comment_id":48043315,"body_markdown":"The easiesst way is to create a new Iterator each time. See http://stackoverflow.com/questions/7689261/why-iterator-doesnt-have-any-reset-method","body":"The easiesst way is to create a new Iterator each time. See <a href=\"http://stackoverflow.com/questions/7689261/why-iterator-doesnt-have-any-reset-method\" title=\"why iterator doesnt have any reset method\">stackoverflow.com/questions/7689261/&hellip;</a>"},{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":1,"creation_date":1430378699,"post_id":29961456,"comment_id":48043380,"body_markdown":"If this means that `getQuestionIterator()` is an expensive call (i.e., it does file I/O), you can save loaded questions into some in-memory collection and iterate over it on all but first iteration of outer loop (`for (Person)`)","body":"If this means that <code>getQuestionIterator()</code> is an expensive call (i.e., it does file I/O), you can save loaded questions into some in-memory collection and iterate over it on all but first iteration of outer loop (<code>for (Person)</code>)"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1430378959,"post_id":29961456,"comment_id":48043533,"body_markdown":"Reopened because it seems the iterator is expensive to re-create (which was not posited in the duplicate question).","body":"Reopened because it seems the iterator is expensive to re-create (which was not posited in the duplicate question)."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1430381527,"creation_date":1430378653,"answer_id":29961528,"question_id":29961456,"body_markdown":"It depends on the exact contents of your code block, but why not flip the loops? Have the outer loop go over the file, and for each iteration, go over all the `Person`s:\r\n\r\n    Iterator&lt;String&gt; itr = getQuestionIterator(File file);\r\n    while(itr.hasNext()) \r\n    {\r\n        String question = itr.next();\r\n        for(Person p : persons)\r\n        {    \r\n            ........\r\n            ........\r\n        }\r\n    }","title":"How to copy an iterator to another one?","body":"<p>It depends on the exact contents of your code block, but why not flip the loops? Have the outer loop go over the file, and for each iteration, go over all the <code>Person</code>s:</p>\n\n<pre><code>Iterator&lt;String&gt; itr = getQuestionIterator(File file);\nwhile(itr.hasNext()) \n{\n    String question = itr.next();\n    for(Person p : persons)\n    {    \n        ........\n        ........\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1430378722,"creation_date":1430378722,"answer_id":29961555,"question_id":29961456,"body_markdown":"You can only iterate an Iterator once.\r\n\r\nIf you need to &quot;reset&quot; it, and recreating the Iterator is expensive (such as reading from a file), you could copy the data into a temporary Collection (such as an ArrayList). But that requires enough memory to hold everything at once.\r\n\r\nAnother approach could be (depends on what your program does) to swap the order of loop nesting: Iterate over your iterator just once, and over your `Person`s in the inner loop (since you already have all those in memory). Obviously, this processes things in a different order which may or may not be easy to accomodate for you.","title":"How to copy an iterator to another one?","body":"<p>You can only iterate an Iterator once.</p>\n\n<p>If you need to \"reset\" it, and recreating the Iterator is expensive (such as reading from a file), you could copy the data into a temporary Collection (such as an ArrayList). But that requires enough memory to hold everything at once.</p>\n\n<p>Another approach could be (depends on what your program does) to swap the order of loop nesting: Iterate over your iterator just once, and over your <code>Person</code>s in the inner loop (since you already have all those in memory). Obviously, this processes things in a different order which may or may not be easy to accomodate for you.</p>\n"},{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1642426668,"creation_date":1430379681,"answer_id":29961835,"question_id":29961456,"body_markdown":"An `Iterator` is the smallest possible API to work off data sequentially, hence it abstracts from the underlying data source. As it can only move forwards (`next()`) without any option to reset or rewind, it is a one-way object that must be thrown away after usage. And due to the limited API it offers, it is not possible to simply &quot;copy&quot; it without knowing the implementation and/or the underlying data source.\r\n\r\nSo there are four ways to handle your problem:\r\n\r\n**(1) Re-aquire a new iterator from the underlying data source**\r\n\r\nJust call `getQuestionIterator(File file)` every time you need to iterate over the data (again).\r\n\r\n - Advantage: Easy to use, easy to implement. No cache required.\r\n - Disadvantage: Performance (e.g. file has to be read/parsed again). Underlying data source might have been changed in the meantime.\r\n\r\n**(2) Combine all processing code into one single iterating loop**\r\n\r\nInstead of...\r\n\r\n    iterator = /* get new iterator */\r\n    while (iterator.hasNext()) {\r\n        String question = iterator.next();\r\n        /* first processing step */\r\n    }\r\n    iterator = /* get new iterator */\r\n    while (iterator.hasNext()) {\r\n        String question = iterator.next();\r\n        /* second processing step */\r\n    }\r\n    iterator = /* get new iterator */\r\n    while (iterator.hasNext()) {\r\n        String question = iterator.next();\r\n        /* third processing step */\r\n    }\r\n    ...\r\n\r\n...combine all steps:\r\n\r\n    iterator = /* get new iterator */\r\n    while (iterator.hasNext()) {\r\n        String question = iterator.next();\r\n        /* first processing step */\r\n        /* second processing step */\r\n        /* third processing step */\r\n        ...\r\n    }\r\n\r\n - Advantage: Only one iterator required. No cache required.\r\n - Disadvantage: Not always possible, e.g. if processing steps have dependencies.\r\n\r\n**(3) Copy all elements into a local cache (`Collection`)**\r\n\r\nIterate over all items once and put them into a local collection that you can use to aquire an arbitrary number of iterators:\r\n\r\n    // read everything into a local cache\r\n    Collection&lt;String&gt; cache = new ArrayList&lt;&gt;();\r\n    while (iterator.hasNext()) cache.add(iterator.next());\r\n\r\n    // now you can get as many iterators from cache as required:\r\n    Iterator&lt;String&gt; iter = cache.iterator();\r\n    // use iter\r\n\r\n    iter = cache.iterator(); // once more\r\n    // use iter\r\n    ...\r\n\r\n - Advantage: Simple to implement, fast, once all data is in the cache.\r\n - Disadvantage: Additional memory for cache required.\r\n\r\n**(4) Modify your data source API to let its implementation handle the problem**\r\n\r\nMeaning: Change `getQuestionIterator(File file)` to return an `Iterable&lt;String&gt;` instead of an `Iterator&lt;String&gt;`. You can gain an arbitrary number of iterators from an `Iterable`:\r\n\r\n    Iterable&lt;String&gt; iterable = getQuestionIterator(File file);\r\n    Iterator&lt;String&gt; iter = iterable.iterator();\r\n    // use iter\r\n\r\n    iter = iterable.iterator(); // once more\r\n    // use iter\r\n\r\n - Advantage: The underlying data source knows best how to cache your data. No need to copy your data in case the underlying data source already uses a cache.\r\n - Disadvantage: It is not always possible to change the API.","title":"How to copy an iterator to another one?","body":"<p>An <code>Iterator</code> is the smallest possible API to work off data sequentially, hence it abstracts from the underlying data source. As it can only move forwards (<code>next()</code>) without any option to reset or rewind, it is a one-way object that must be thrown away after usage. And due to the limited API it offers, it is not possible to simply &quot;copy&quot; it without knowing the implementation and/or the underlying data source.</p>\n<p>So there are four ways to handle your problem:</p>\n<p><strong>(1) Re-aquire a new iterator from the underlying data source</strong></p>\n<p>Just call <code>getQuestionIterator(File file)</code> every time you need to iterate over the data (again).</p>\n<ul>\n<li>Advantage: Easy to use, easy to implement. No cache required.</li>\n<li>Disadvantage: Performance (e.g. file has to be read/parsed again). Underlying data source might have been changed in the meantime.</li>\n</ul>\n<p><strong>(2) Combine all processing code into one single iterating loop</strong></p>\n<p>Instead of...</p>\n<pre><code>iterator = /* get new iterator */\nwhile (iterator.hasNext()) {\n    String question = iterator.next();\n    /* first processing step */\n}\niterator = /* get new iterator */\nwhile (iterator.hasNext()) {\n    String question = iterator.next();\n    /* second processing step */\n}\niterator = /* get new iterator */\nwhile (iterator.hasNext()) {\n    String question = iterator.next();\n    /* third processing step */\n}\n...\n</code></pre>\n<p>...combine all steps:</p>\n<pre><code>iterator = /* get new iterator */\nwhile (iterator.hasNext()) {\n    String question = iterator.next();\n    /* first processing step */\n    /* second processing step */\n    /* third processing step */\n    ...\n}\n</code></pre>\n<ul>\n<li>Advantage: Only one iterator required. No cache required.</li>\n<li>Disadvantage: Not always possible, e.g. if processing steps have dependencies.</li>\n</ul>\n<p><strong>(3) Copy all elements into a local cache (<code>Collection</code>)</strong></p>\n<p>Iterate over all items once and put them into a local collection that you can use to aquire an arbitrary number of iterators:</p>\n<pre><code>// read everything into a local cache\nCollection&lt;String&gt; cache = new ArrayList&lt;&gt;();\nwhile (iterator.hasNext()) cache.add(iterator.next());\n\n// now you can get as many iterators from cache as required:\nIterator&lt;String&gt; iter = cache.iterator();\n// use iter\n\niter = cache.iterator(); // once more\n// use iter\n...\n</code></pre>\n<ul>\n<li>Advantage: Simple to implement, fast, once all data is in the cache.</li>\n<li>Disadvantage: Additional memory for cache required.</li>\n</ul>\n<p><strong>(4) Modify your data source API to let its implementation handle the problem</strong></p>\n<p>Meaning: Change <code>getQuestionIterator(File file)</code> to return an <code>Iterable&lt;String&gt;</code> instead of an <code>Iterator&lt;String&gt;</code>. You can gain an arbitrary number of iterators from an <code>Iterable</code>:</p>\n<pre><code>Iterable&lt;String&gt; iterable = getQuestionIterator(File file);\nIterator&lt;String&gt; iter = iterable.iterator();\n// use iter\n\niter = iterable.iterator(); // once more\n// use iter\n</code></pre>\n<ul>\n<li>Advantage: The underlying data source knows best how to cache your data. No need to copy your data in case the underlying data source already uses a cache.</li>\n<li>Disadvantage: It is not always possible to change the API.</li>\n</ul>\n"}],"owner":{"account_id":3803770,"reputation":355,"user_id":3156704,"accept_rate":45,"display_name":"Amitsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23663,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":29961835,"answer_count":3,"score":22,"last_activity_date":1642426668,"creation_date":1430378450,"question_id":29961456,"body_markdown":"I need to iterate over the set of values for each iteration of for loop, but only for first iteration it works fine. Thereafter the `itr.hasNext()` returns `false`. \r\n\r\n\r\n\r\n    Iterator&lt;String&gt; itr = getQuestionIterator(File file);\r\n    \r\n    for(Person p : persons)\r\n    {\r\n        while(itr.hasNext())\r\n        {\r\n            String question = itr.next();\r\n            ........\r\n            ........\r\n        }\r\n    }\r\n\r\nThis behaviour is clear to me.\r\n\r\nOne solution could be calling `getQuestionIterator(File file)` method in for loop so for each for loop iteration it gets reinitialized. But this is very inefficient approach as `itr` is independent.\r\n\r\nI tried this `Iterator&lt;String&gt; temp = itr` , but it didn&#39;t work also as it holds the reference only. \r\n\r\nIs there any way to copy the iterator into another one or any other better approach?","title":"How to copy an iterator to another one?","body":"<p>I need to iterate over the set of values for each iteration of for loop, but only for first iteration it works fine. Thereafter the <code>itr.hasNext()</code> returns <code>false</code>. </p>\n\n<pre><code>Iterator&lt;String&gt; itr = getQuestionIterator(File file);\n\nfor(Person p : persons)\n{\n    while(itr.hasNext())\n    {\n        String question = itr.next();\n        ........\n        ........\n    }\n}\n</code></pre>\n\n<p>This behaviour is clear to me.</p>\n\n<p>One solution could be calling <code>getQuestionIterator(File file)</code> method in for loop so for each for loop iteration it gets reinitialized. But this is very inefficient approach as <code>itr</code> is independent.</p>\n\n<p>I tried this <code>Iterator&lt;String&gt; temp = itr</code> , but it didn't work also as it holds the reference only. </p>\n\n<p>Is there any way to copy the iterator into another one or any other better approach?</p>\n"},{"tags":["java","eclipse","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1642429103,"post_id":70742255,"comment_id":125061653,"body_markdown":"Yes you have to completely set up the given tree viewer in configureTreeViewer, and a table viewer in configureTableViewer. Look at something like the standard file search results page `org.eclipse.search.internal.ui.text.FileSearchPage`","body":"Yes you have to completely set up the given tree viewer in configureTreeViewer, and a table viewer in configureTableViewer. Look at something like the standard file search results page <code>org.eclipse.search.internal.ui.text.FileSearchPage</code>"},{"owner":{"account_id":20267464,"reputation":93,"user_id":14864319,"display_name":"Cydonia"},"score":0,"creation_date":1642430971,"post_id":70742255,"comment_id":125062496,"body_markdown":"What would completely mean? Set the content provider and the label provider for the Viewer? The `FileSearchPage` is very complex and big, much more than what I would need at the moment.","body":"What would completely mean? Set the content provider and the label provider for the Viewer? The <code>FileSearchPage</code> is very complex and big, much more than what I would need at the moment."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1642435266,"post_id":70742255,"comment_id":125064304,"body_markdown":"Viewers always need a content provider and almost always a label provider,","body":"Viewers always need a content provider and almost always a label provider,"},{"owner":{"account_id":20267464,"reputation":93,"user_id":14864319,"display_name":"Cydonia"},"score":0,"creation_date":1642579824,"post_id":70742255,"comment_id":125105125,"body_markdown":"I have done that but I still have the problem of the result page not rendering when the actual search button is clicked. I see that the search okay (I print it out in the console for myself) but the search page closes and that&#39;s it. Do you have any idea of why this could happen?","body":"I have done that but I still have the problem of the result page not rendering when the actual search button is clicked. I see that the search okay (I print it out in the console for myself) but the search page closes and that&#39;s it. Do you have any idea of why this could happen?"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1642582176,"post_id":70742255,"comment_id":125105923,"body_markdown":"This is quite a complex API which I haven&#39;t looked at in a long time, any number of things might not be right. I suggest you use debug to see what the search view is doing - `org.eclipse.search2.internal.ui.SearchView`, maybe the `internalShowSearchPage` method.","body":"This is quite a complex API which I haven&#39;t looked at in a long time, any number of things might not be right. I suggest you use debug to see what the search view is doing - <code>org.eclipse.search2.internal.ui.SearchView</code>, maybe the <code>internalShowSearchPage</code> method."}],"owner":{"account_id":20267464,"reputation":93,"user_id":14864319,"display_name":"Cydonia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642426569,"creation_date":1642426569,"question_id":70742255,"body_markdown":"I have 2 extension points for a search page (which successfully renders) and a search results page (which doesn&#39;t render).\r\n```\r\n&lt;extension point=&quot;org.eclipse.search.searchPages&quot;&gt;\r\n   &lt;page id=&quot;org.eclipse.jdt.ui.JavaSearchPage&quot;\r\n\t\ticon=&quot;icons/full/obj16/jsearch_obj.png&quot;\r\n\t\tlabel=&quot;%JavaSearchPage.label&quot;\r\n\t\tsizeHint=&quot;460,160&quot;\r\n\t\textensions=&quot;java:90, jav:90&quot;\r\n\t\tshowScopeSection=&quot;true&quot;\r\n\t\tcanSearchEnclosingProjects=&quot;true&quot;\r\n\t\tclass=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchPage&quot;&gt;\r\n\t&lt;/page&gt;\r\n&lt;/extension&gt;\r\n```\r\n```\r\n&lt;extension\r\n\tid=&quot;JavaSearchResultPage&quot;\r\n\tpoint=&quot;org.eclipse.search.searchResultViewPages&quot;&gt;\r\n\t&lt;viewPage\r\n\t\tid=&quot;org.eclipse.jdt.ui.JavaSearchResultPage&quot;\r\n\t\tsearchResultClass=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchResult&quot;\r\n\t\tclass=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchResultPage&quot;&gt;\r\n\t&lt;/viewPage&gt;\r\n&lt;/extension&gt;\r\n```\r\nOf course, the classes which I have are (not the Java default ones) have been put in the xml.\r\nI have a class SomethingSearchPage which: ```extends DialogPage implements ISearchPage``` and has a ```createControl()``` and ```performAction()``` which both seem to work since the actual search page renders and the ```performAction()``` is called when I hit the search button.\r\n\r\nThe problem is: I cannot get a results page in any way! \r\n\r\nI have 2 classes for the result: ```SomethingSearchResult extends AbstractTextSearchResult``` and ```SomethingSearchResultPage extends AbstractTextSearchViewPage```. Do I need a View and a Content Provider? How can I connect these the search result page actually renders?","title":"How to display a search result page in Eclipse?","body":"<p>I have 2 extension points for a search page (which successfully renders) and a search results page (which doesn't render).</p>\n<pre><code>&lt;extension point=&quot;org.eclipse.search.searchPages&quot;&gt;\n   &lt;page id=&quot;org.eclipse.jdt.ui.JavaSearchPage&quot;\n        icon=&quot;icons/full/obj16/jsearch_obj.png&quot;\n        label=&quot;%JavaSearchPage.label&quot;\n        sizeHint=&quot;460,160&quot;\n        extensions=&quot;java:90, jav:90&quot;\n        showScopeSection=&quot;true&quot;\n        canSearchEnclosingProjects=&quot;true&quot;\n        class=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchPage&quot;&gt;\n    &lt;/page&gt;\n&lt;/extension&gt;\n</code></pre>\n<pre><code>&lt;extension\n    id=&quot;JavaSearchResultPage&quot;\n    point=&quot;org.eclipse.search.searchResultViewPages&quot;&gt;\n    &lt;viewPage\n        id=&quot;org.eclipse.jdt.ui.JavaSearchResultPage&quot;\n        searchResultClass=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchResult&quot;\n        class=&quot;org.eclipse.jdt.internal.ui.search.JavaSearchResultPage&quot;&gt;\n    &lt;/viewPage&gt;\n&lt;/extension&gt;\n</code></pre>\n<p>Of course, the classes which I have are (not the Java default ones) have been put in the xml.\nI have a class SomethingSearchPage which: <code>extends DialogPage implements ISearchPage</code> and has a <code>createControl()</code> and <code>performAction()</code> which both seem to work since the actual search page renders and the <code>performAction()</code> is called when I hit the search button.</p>\n<p>The problem is: I cannot get a results page in any way!</p>\n<p>I have 2 classes for the result: <code>SomethingSearchResult extends AbstractTextSearchResult</code> and <code>SomethingSearchResultPage extends AbstractTextSearchViewPage</code>. Do I need a View and a Content Provider? How can I connect these the search result page actually renders?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":19193743,"reputation":264,"user_id":14022951,"display_name":"A Sarshar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642426566,"creation_date":1642426566,"answer_id":70742252,"question_id":70740331,"body_markdown":"You can use TextWatcher for your EditTexts.\r\nWhen user change text in editText then calculate again\r\n\r\n        yourEditText.addTextChangedListener(new TextWatcher() {\r\n    \r\n       @Override\r\n       public void afterTextChanged(Editable s) {}\r\n    \r\n       @Override    \r\n       public void beforeTextChanged(CharSequence s, int start,\r\n         int count, int after) {\r\n       }\r\n    \r\n       @Override    \r\n       public void onTextChanged(CharSequence s, int start,\r\n         int before, int count) {\r\n          \r\n       }\r\n      });","title":"How to automatically update data when parameters are altered in Android Studio","body":"<p>You can use TextWatcher for your EditTexts.\nWhen user change text in editText then calculate again</p>\n<pre><code>    yourEditText.addTextChangedListener(new TextWatcher() {\n\n   @Override\n   public void afterTextChanged(Editable s) {}\n\n   @Override    \n   public void beforeTextChanged(CharSequence s, int start,\n     int count, int after) {\n   }\n\n   @Override    \n   public void onTextChanged(CharSequence s, int start,\n     int before, int count) {\n      \n   }\n  });\n</code></pre>\n"}],"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70742252,"answer_count":1,"score":0,"last_activity_date":1642426566,"creation_date":1642417663,"question_id":70740331,"body_markdown":"Basically, I made a fragment with a few ```EditText```s where the user can insert data about himself, such as bodyweight, height, age, etc.. I also added a ```TextView``` which displays that person&#39;s basal metabolic rate depending on the data that was inserted, but the problem is, whenever I change the person&#39;s information, it doesn&#39;t automatically update.\r\nI&#39;m assuming this is because the calculations are made inside the ```onCreateView``` method, thus it only calculates BMR if I statically pre-insert the respective data.\r\nSo, how can I make it so whenever I change the value of a certain variable (f.e age) it will also automatically re-calculate the value of the person&#39;s BMR?\r\n\r\n**JAVA**\r\n ```\r\npublic class home_fragment extends Fragment {\r\n\r\n    TextView genderSelector;\r\n    TextView activitySelector;\r\n    TextView goalSelector;\r\n    TextView metabolicRate;\r\n    EditText eHeight; String height;\r\n    EditText eWeight; String weight;\r\n    EditText eAge; String age;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_home_fragment, container, false);\r\n\r\n       \r\n\r\n\r\n        activitySelector = (TextView) view.findViewById(R.id.tvActivitySelector);\r\n        genderSelector = (TextView) view.findViewById(R.id.tvGenderSelector);\r\n        goalSelector = (TextView) view.findViewById(R.id.tvGoalSelector);\r\n        metabolicRate = (TextView) view.findViewById(R.id.tvBasalMetabolicRateCalculator);\r\n        \r\n        eHeight = (EditText) view.findViewById(R.id.etHeight);\r\n        eWeight = (EditText) view.findViewById(R.id.etWeight);\r\n        eAge = (EditText) view.findViewById(R.id.etAge);\r\n\r\n        eHeight.setText(&quot;181&quot;);\r\n        eWeight.setText(&quot;80&quot;);\r\n        eAge.setText(&quot;17&quot;);\r\n        genderSelector.setText(&quot;Female&quot;);\r\n\r\n        height = eHeight.getText().toString();\r\n        weight = eWeight.getText().toString();\r\n        age = eAge.getText().toString();\r\n\r\n\r\n        if (!height.equals(null) &amp;&amp; !weight.equals(null) &amp;&amp; !age.equals(null)) {\r\n            double h = Double.parseDouble(height);\r\n            double w = Double.parseDouble(weight);\r\n            double a = Double.parseDouble(age);\r\n\r\n            metabolicRate.setText(Double.toString(calculate(h, w, a, genderSelector)));\r\n\r\n        }\r\n\r\n        activitySelector.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(getActivity(), ActivityLevel.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        goalSelector.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(getActivity(), Goal.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    private double calculate(double h, double w, double a, TextView g) {\r\n        if (g.getText().toString().equals(&quot;Male&quot;)) {\r\n            return 5 + (10 * w) + (6.25 * h) - (5 * a);\r\n        } else {\r\n            return -161 + (10 * w) + (6.25 * h) - (5 * a);\r\n        }\r\n    }\r\n}\r\n ```\r\n\r\n**XML**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.profile_fragment&quot;\r\n    android:background=&quot;@color/lightgrey&quot;\r\n    android:id=&quot;@+id/profile_frag&quot;&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/ProfileInformation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n            android:background=&quot;@color/grey&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Profile&quot;\r\n                android:textColor=&quot;@color/textGray&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_marginLeft=&quot;13dp&quot;\r\n                android:textSize=&quot;19dp&quot;\r\n                android:layout_marginBottom=&quot;6dp&quot;/&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/HeightProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/ProfileInformation&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvHeight&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Height (cm)&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/etHeight&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;18dp&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:hint=&quot;cm&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:textColorHint=&quot;@color/textGray&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:cursorVisible=&quot;true&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                android:textCursorDrawable=&quot;@null&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:gravity=&quot;right&quot;\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/WeightProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/HeightProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvWeight&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Weight (kg)&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/etWeight&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;18dp&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:hint=&quot;kg&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:textColorHint=&quot;@color/textGray&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:cursorVisible=&quot;true&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                android:textCursorDrawable=&quot;@null&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:gravity=&quot;right&quot;\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/GenderProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/WeightProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvGender&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Gender&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvGenderSelector&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:text=&quot;Male&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/AgeProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/GenderProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;60dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvAge&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Age&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/etAge&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;18dp&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:hint=&quot;years&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:textColorHint=&quot;@color/textGray&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:cursorVisible=&quot;true&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                android:textCursorDrawable=&quot;@null&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:gravity=&quot;right&quot;\r\n                /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/ActivityProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/AgeProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;90dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvActivity&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Activity&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvActivitySelector&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Moderate&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/GoalProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/ActivityProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;80dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvGoal&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Goal&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvGoalSelector&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Lose weight&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;&gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/CustomizeMealsProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/GoalProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Customize meals&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/ResultInformation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n            android:layout_below=&quot;@id/CustomizeMealsProfile&quot;\r\n            android:background=&quot;@color/grey&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Results&quot;\r\n                android:textColor=&quot;@color/textGray&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;\r\n                android:layout_marginLeft=&quot;13dp&quot;\r\n                android:textSize=&quot;19dp&quot;\r\n                android:layout_marginBottom=&quot;6dp&quot;/&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/BasalMetabolicRateProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/ResultInformation&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;190dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvBasalMetabolicRate&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Basal Metabolic Rate&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvBasalMetabolicRateCalculator&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:text=&quot;kcal&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:textSize=&quot;18dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;/&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/BodyMassIndexProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/BasalMetabolicRateProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;190dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvBodyMassIndex&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Body Mass Index&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/WaterRequirementProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/BodyMassIndexProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;210dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvWaterRequirement&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Water Requirement (ml)&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/DailyCaloricRequirementProfile&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_below=&quot;@id/WaterRequirementProfile&quot;\r\n            android:background=&quot;@color/lightblack&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            &gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;230dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:elevation=&quot;1dp&quot;\r\n                android:background=&quot;@color/lightblack&quot;\r\n                &gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tvCaloricRequirement&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:text=&quot;Daily Caloric Requirement&quot;\r\n                    android:textColor=&quot;@color/textGray&quot;\r\n                    android:layout_marginLeft=&quot;13dp&quot;\r\n\r\n                    /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"How to automatically update data when parameters are altered in Android Studio","body":"<p>Basically, I made a fragment with a few <code>EditText</code>s where the user can insert data about himself, such as bodyweight, height, age, etc.. I also added a <code>TextView</code> which displays that person's basal metabolic rate depending on the data that was inserted, but the problem is, whenever I change the person's information, it doesn't automatically update.\nI'm assuming this is because the calculations are made inside the <code>onCreateView</code> method, thus it only calculates BMR if I statically pre-insert the respective data.\nSo, how can I make it so whenever I change the value of a certain variable (f.e age) it will also automatically re-calculate the value of the person's BMR?</p>\n<p><strong>JAVA</strong></p>\n<pre><code>public class home_fragment extends Fragment {\n\n   TextView genderSelector;\n   TextView activitySelector;\n   TextView goalSelector;\n   TextView metabolicRate;\n   EditText eHeight; String height;\n   EditText eWeight; String weight;\n   EditText eAge; String age;\n\n\n\n\n   @Override\n   public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                            Bundle savedInstanceState) {\n\n       // Inflate the layout for this fragment\n       View view = inflater.inflate(R.layout.fragment_home_fragment, container, false);\n\n      \n\n\n       activitySelector = (TextView) view.findViewById(R.id.tvActivitySelector);\n       genderSelector = (TextView) view.findViewById(R.id.tvGenderSelector);\n       goalSelector = (TextView) view.findViewById(R.id.tvGoalSelector);\n       metabolicRate = (TextView) view.findViewById(R.id.tvBasalMetabolicRateCalculator);\n       \n       eHeight = (EditText) view.findViewById(R.id.etHeight);\n       eWeight = (EditText) view.findViewById(R.id.etWeight);\n       eAge = (EditText) view.findViewById(R.id.etAge);\n\n       eHeight.setText(&quot;181&quot;);\n       eWeight.setText(&quot;80&quot;);\n       eAge.setText(&quot;17&quot;);\n       genderSelector.setText(&quot;Female&quot;);\n\n       height = eHeight.getText().toString();\n       weight = eWeight.getText().toString();\n       age = eAge.getText().toString();\n\n\n       if (!height.equals(null) &amp;&amp; !weight.equals(null) &amp;&amp; !age.equals(null)) {\n           double h = Double.parseDouble(height);\n           double w = Double.parseDouble(weight);\n           double a = Double.parseDouble(age);\n\n           metabolicRate.setText(Double.toString(calculate(h, w, a, genderSelector)));\n\n       }\n\n       activitySelector.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View v) {\n               Intent i = new Intent(getActivity(), ActivityLevel.class);\n               startActivity(i);\n           }\n       });\n\n       goalSelector.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View v) {\n               Intent i = new Intent(getActivity(), Goal.class);\n               startActivity(i);\n           }\n       });\n\n       return view;\n   }\n\n   private double calculate(double h, double w, double a, TextView g) {\n       if (g.getText().toString().equals(&quot;Male&quot;)) {\n           return 5 + (10 * w) + (6.25 * h) - (5 * a);\n       } else {\n           return -161 + (10 * w) + (6.25 * h) - (5 * a);\n       }\n   }\n}\n</code></pre>\n<p><strong>XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.profile_fragment&quot;\n    android:background=&quot;@color/lightgrey&quot;\n    android:id=&quot;@+id/profile_frag&quot;&gt;\n\n\n    &lt;ScrollView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/ProfileInformation&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:background=&quot;@color/grey&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Profile&quot;\n                android:textColor=&quot;@color/textGray&quot;\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_marginLeft=&quot;13dp&quot;\n                android:textSize=&quot;19dp&quot;\n                android:layout_marginBottom=&quot;6dp&quot;/&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/HeightProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/ProfileInformation&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvHeight&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Height (cm)&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/etHeight&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;18dp&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:hint=&quot;cm&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:textColorHint=&quot;@color/textGray&quot;\n                android:textSize=&quot;18dp&quot;\n                android:cursorVisible=&quot;true&quot;\n                android:background=&quot;@color/lightblack&quot;\n                android:textCursorDrawable=&quot;@null&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:gravity=&quot;right&quot;\n                /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/WeightProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/HeightProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;120dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvWeight&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Weight (kg)&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/etWeight&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;18dp&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:hint=&quot;kg&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:textColorHint=&quot;@color/textGray&quot;\n                android:textSize=&quot;18dp&quot;\n                android:cursorVisible=&quot;true&quot;\n                android:background=&quot;@color/lightblack&quot;\n                android:textCursorDrawable=&quot;@null&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:gravity=&quot;right&quot;\n                /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/GenderProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/WeightProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;80dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvGender&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Gender&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/tvGenderSelector&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:text=&quot;Male&quot;\n                android:textSize=&quot;18dp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n\n                /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/AgeProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/GenderProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;60dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvAge&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Age&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/etAge&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;18dp&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:hint=&quot;years&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:textColorHint=&quot;@color/textGray&quot;\n                android:textSize=&quot;18dp&quot;\n                android:cursorVisible=&quot;true&quot;\n                android:background=&quot;@color/lightblack&quot;\n                android:textCursorDrawable=&quot;@null&quot;\n                android:layout_marginRight=&quot;10dp&quot;\n                android:gravity=&quot;right&quot;\n                /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/ActivityProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/AgeProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;90dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvActivity&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Activity&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvActivitySelector&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Moderate&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:textSize=&quot;18dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;&gt;\n\n            &lt;/TextView&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/GoalProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/ActivityProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;80dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvGoal&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Goal&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvGoalSelector&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Lose weight&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:textSize=&quot;18dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;&gt;\n\n            &lt;/TextView&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/CustomizeMealsProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/GoalProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;150dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tv&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Customize meals&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/ResultInformation&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:layout_below=&quot;@id/CustomizeMealsProfile&quot;\n            android:background=&quot;@color/grey&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Results&quot;\n                android:textColor=&quot;@color/textGray&quot;\n                android:layout_alignParentBottom=&quot;true&quot;\n                android:layout_marginLeft=&quot;13dp&quot;\n                android:textSize=&quot;19dp&quot;\n                android:layout_marginBottom=&quot;6dp&quot;/&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/BasalMetabolicRateProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/ResultInformation&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;190dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvBasalMetabolicRate&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Basal Metabolic Rate&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tvBasalMetabolicRateCalculator&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_alignParentRight=&quot;true&quot;\n                android:text=&quot;kcal&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:textSize=&quot;18dp&quot;\n                android:layout_marginRight=&quot;10dp&quot;/&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/BodyMassIndexProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/BasalMetabolicRateProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;190dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvBodyMassIndex&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Body Mass Index&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/WaterRequirementProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/BodyMassIndexProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;210dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvWaterRequirement&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Water Requirement (ml)&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/DailyCaloricRequirementProfile&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_below=&quot;@id/WaterRequirementProfile&quot;\n            android:background=&quot;@color/lightblack&quot;\n            android:layout_marginTop=&quot;1dp&quot;\n            &gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;230dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:elevation=&quot;1dp&quot;\n                android:background=&quot;@color/lightblack&quot;\n                &gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvCaloricRequirement&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_centerVertical=&quot;true&quot;\n                    android:text=&quot;Daily Caloric Requirement&quot;\n                    android:textColor=&quot;@color/textGray&quot;\n                    android:layout_marginLeft=&quot;13dp&quot;\n\n                    /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","javafx","gluonfx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642271940,"post_id":70723405,"comment_id":125028719,"body_markdown":"Did you try the Gluon samples? There is a sample using [RestClient](https://github.com/gluonhq/gluon-samples/blob/master/gluon-connect-rest-provider/src/main/java/com/gluonhq/samples/connect/rest/RestObjectView.java#L84) that uses a json converter. Then you can check if [getInputStream()](https://github.com/gluonhq/gluon-samples/blob/master/gluon-connect-rest-provider/src/main/java/com/gluonhq/samples/connect/rest/SingleItemInputConverter.java#L48) works or not.","body":"Did you try the Gluon samples? There is a sample using <a href=\"https://github.com/gluonhq/gluon-samples/blob/master/gluon-connect-rest-provider/src/main/java/com/gluonhq/samples/connect/rest/RestObjectView.java#L84\" rel=\"nofollow noreferrer\">RestClient</a> that uses a json converter. Then you can check if <a href=\"https://github.com/gluonhq/gluon-samples/blob/master/gluon-connect-rest-provider/src/main/java/com/gluonhq/samples/connect/rest/SingleItemInputConverter.java#L48\" rel=\"nofollow noreferrer\">getInputStream()</a> works or not."},{"owner":{"account_id":325764,"reputation":53,"user_id":647146,"accept_rate":83,"display_name":"Jinx3y"},"score":0,"creation_date":1642413277,"post_id":70723405,"comment_id":125055274,"body_markdown":"I have tried the samples (gluon-connect-rest-provider)...they work fine for GETting info from StackOverflow, but do nothing to explain a POST call with attached message body - or did I miss something? I have tried to &quot;rewire&quot; the sample using what I need, but have so far had no success","body":"I have tried the samples (gluon-connect-rest-provider)...they work fine for GETting info from StackOverflow, but do nothing to explain a POST call with attached message body - or did I miss something? I have tried to &quot;rewire&quot; the sample using what I need, but have so far had no success"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642414118,"post_id":70723405,"comment_id":125055603,"body_markdown":"Have you tried setting the [`contentType`](https://docs.gluonhq.com/connect/javadoc/2.0.1/com.gluonhq.connect/com/gluonhq/connect/provider/RestClient.html#contentType(java.lang.String)) for the rest client (not only via `header`)?","body":"Have you tried setting the <a href=\"https://docs.gluonhq.com/connect/javadoc/2.0.1/com.gluonhq.connect/com/gluonhq/connect/provider/RestClient.html#contentType(java.lang.String)\" rel=\"nofollow noreferrer\"><code>contentType</code></a> for the rest client (not only via <code>header</code>)?"},{"owner":{"account_id":325764,"reputation":53,"user_id":647146,"accept_rate":83,"display_name":"Jinx3y"},"score":0,"creation_date":1642414479,"post_id":70723405,"comment_id":125055742,"body_markdown":"I have tried both setting it via .contentType(&quot;&quot;) and via.header(&quot;&quot;,&quot;&quot;) (as well as omitting it altogether).","body":"I have tried both setting it via .contentType(&quot;&quot;) and via.header(&quot;&quot;,&quot;&quot;) (as well as omitting it altogether)."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642416247,"post_id":70723405,"comment_id":125056473,"body_markdown":"Hmm, if you use POST, you should be _writing_ the object, not _reading_ it, shouldn&#39;t you? Let me add a simple POST sample","body":"Hmm, if you use POST, you should be <i>writing</i> the object, not <i>reading</i> it, shouldn&#39;t you? Let me add a simple POST sample"}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642416767,"creation_date":1642416767,"answer_id":70740147,"question_id":70723405,"body_markdown":"This is a quick demo of `RestClient` with `GET` and `POST`:\r\n\r\n`ToDoItem` class:\r\n```\r\npublic class ToDoItem {\r\n    private int userId;\r\n    private int id;\r\n    private String title;\r\n    private boolean completed;\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public boolean isCompleted() {\r\n        return completed;\r\n    }\r\n\r\n    public void setCompleted(boolean completed) {\r\n        this.completed = completed;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ToDoItem{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, id=&quot; + id +\r\n                &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, completed=&quot; + completed +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n`GET` test:\r\n\r\n```\r\npublic void getTest() {\r\n\r\n        RestClient restClient = RestClient.create()\r\n                .method(&quot;GET&quot;)\r\n                .host(&quot;http://jsonplaceholder.typicode.com&quot;)\r\n                .path(&quot;/todos/1&quot;);\r\n\r\n        GluonObservableObject&lt;ToDoItem&gt; singleToDoItem = \r\n            DataProvider.retrieveObject(\r\n                restClient.createObjectDataReader(ToDoItem.class));\r\n\r\n        singleToDoItem.setOnSucceeded(e -&gt; \r\n            System.out.println(&quot;ToDoItem successfully retrieved: &quot; + singleToDoItem.get()));\r\n        singleToDoItem.setOnFailed(e -&gt; {\r\n            System.out.println(&quot;ToDoItem GET error&quot;);\r\n            if (singleToDoItem.getException() != null) {\r\n                singleToDoItem.getException().printStackTrace();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n`POST` test:\r\n\r\n```\r\npublic void postTest() {\r\n        ToDoItem toDoItem = new ToDoItem();\r\n        toDoItem.setCompleted(Math.random() &gt; 0.5);\r\n        toDoItem.setTitle(UUID.randomUUID().toString());\r\n        toDoItem.setUserId(1);\r\n\r\n        // write a new todo item to a rest source\r\n        RestClient restClient = RestClient.create()\r\n                .method(&quot;POST&quot;)\r\n                .contentType(&quot;application/json&quot;)\r\n                .host(&quot;http://jsonplaceholder.typicode.com&quot;)\r\n                .path(&quot;/todos&quot;);\r\n\r\n        GluonObservableObject&lt;ToDoItem&gt; obsToDoItem = \r\n                DataProvider.storeObject(toDoItem,\r\n                    restClient.createObjectDataWriter(ToDoItem.class));\r\n\r\n        obsToDoItem.setOnSucceeded(e -&gt; \r\n            System.out.println(&quot;ToDoItem successfully written: &quot; + obsToDoItem.get()));\r\n        obsToDoItem.setOnFailed(e -&gt; {\r\n                System.out.println(&quot;ToDoItem POST error&quot;);\r\n                if (obsToDoItem.getException() != null) {\r\n                    obsToDoItem.getException().printStackTrace();\r\n                }\r\n            });\r\n    }\r\n```\r\n\r\nRunning both should give you something like this:\r\n\r\n```\r\nToDoItem successfully retrieved: ToDoItem{userId=1, id=1, title=&#39;delectus aut autem&#39;, completed=false}\r\n\r\nToDoItem successfully written: ToDoItem{userId=1, id=201, title=&#39;6977035b-7a0c-4e6a-82e5-141b414db92a&#39;, completed=false}\r\n```","title":"Query with ElasticSearch body using GluonhqConnect.Provider.RestClient","body":"<p>This is a quick demo of <code>RestClient</code> with <code>GET</code> and <code>POST</code>:</p>\n<p><code>ToDoItem</code> class:</p>\n<pre><code>public class ToDoItem {\n    private int userId;\n    private int id;\n    private String title;\n    private boolean completed;\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public boolean isCompleted() {\n        return completed;\n    }\n\n    public void setCompleted(boolean completed) {\n        this.completed = completed;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ToDoItem{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, id=&quot; + id +\n                &quot;, title='&quot; + title + '\\'' +\n                &quot;, completed=&quot; + completed +\n                '}';\n    }\n}\n</code></pre>\n<p><code>GET</code> test:</p>\n<pre><code>public void getTest() {\n\n        RestClient restClient = RestClient.create()\n                .method(&quot;GET&quot;)\n                .host(&quot;http://jsonplaceholder.typicode.com&quot;)\n                .path(&quot;/todos/1&quot;);\n\n        GluonObservableObject&lt;ToDoItem&gt; singleToDoItem = \n            DataProvider.retrieveObject(\n                restClient.createObjectDataReader(ToDoItem.class));\n\n        singleToDoItem.setOnSucceeded(e -&gt; \n            System.out.println(&quot;ToDoItem successfully retrieved: &quot; + singleToDoItem.get()));\n        singleToDoItem.setOnFailed(e -&gt; {\n            System.out.println(&quot;ToDoItem GET error&quot;);\n            if (singleToDoItem.getException() != null) {\n                singleToDoItem.getException().printStackTrace();\n            }\n        });\n    }\n</code></pre>\n<p><code>POST</code> test:</p>\n<pre><code>public void postTest() {\n        ToDoItem toDoItem = new ToDoItem();\n        toDoItem.setCompleted(Math.random() &gt; 0.5);\n        toDoItem.setTitle(UUID.randomUUID().toString());\n        toDoItem.setUserId(1);\n\n        // write a new todo item to a rest source\n        RestClient restClient = RestClient.create()\n                .method(&quot;POST&quot;)\n                .contentType(&quot;application/json&quot;)\n                .host(&quot;http://jsonplaceholder.typicode.com&quot;)\n                .path(&quot;/todos&quot;);\n\n        GluonObservableObject&lt;ToDoItem&gt; obsToDoItem = \n                DataProvider.storeObject(toDoItem,\n                    restClient.createObjectDataWriter(ToDoItem.class));\n\n        obsToDoItem.setOnSucceeded(e -&gt; \n            System.out.println(&quot;ToDoItem successfully written: &quot; + obsToDoItem.get()));\n        obsToDoItem.setOnFailed(e -&gt; {\n                System.out.println(&quot;ToDoItem POST error&quot;);\n                if (obsToDoItem.getException() != null) {\n                    obsToDoItem.getException().printStackTrace();\n                }\n            });\n    }\n</code></pre>\n<p>Running both should give you something like this:</p>\n<pre><code>ToDoItem successfully retrieved: ToDoItem{userId=1, id=1, title='delectus aut autem', completed=false}\n\nToDoItem successfully written: ToDoItem{userId=1, id=201, title='6977035b-7a0c-4e6a-82e5-141b414db92a', completed=false}\n</code></pre>\n"}],"owner":{"account_id":325764,"reputation":53,"user_id":647146,"accept_rate":83,"display_name":"Jinx3y"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70740147,"answer_count":1,"score":0,"last_activity_date":1642426382,"creation_date":1642264906,"question_id":70723405,"body_markdown":"I am trying to use the **com.gluonhq.connect.provider.RestClient** to query an API that is Elastic Search enabled.\r\n\r\n    Maven:\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;connect&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have attempted to make a request using the following:\r\n\r\n    private GluonObservableObject&lt;Item&gt; getData() {\r\n        RestClient myApiClient = RestClient.create()\r\n                .method(&quot;POST&quot;)\r\n                .host(applicationProperties.getAPIURL())\r\n                .path(&quot;search&quot;)\r\n                .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n                .header(&quot;Content-type&quot;, &quot;application/json&quot;)\r\n                .queryParam(&quot;private_key&quot;, applicationProperties.getAPIKEY())\r\n                .dataString(ITEMREQUEST);\r\n\r\n        return DataProvider.retrieveObject(\r\n                myApiClient.createObjectDataReader(Item.class));\r\n    }\r\n\r\n...where the dataString is a json-formatted String representing the body of the request (I can assume the request is correctly formatted because I tested it in Postman and the request returned the expected data).\r\nIf it helps, here is the **elasticsearch request body**:\r\n\r\n     {\r\n      &quot;indexes&quot;: &quot;idx1, idx2&quot;,\r\n      &quot;columns&quot;: &quot;col1,col2,col3,col4,col5&quot;,\r\n      &quot;body&quot;: {\r\n        &quot;query&quot;: {\r\n          &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n              {\r\n                &quot;wildcard&quot;: {\r\n                  &quot;NameCombined_en&quot;: &quot;*&quot;\r\n                }\r\n              }\r\n            ],\r\n            &quot;filter&quot;: [\r\n              {\r\n                &quot;range&quot;: {\r\n                  &quot;ID&quot;: {\r\n                    &quot;gte&quot;: &quot;20000&quot;\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        &quot;from&quot;: 0,\r\n        &quot;size&quot;: 100\r\n      }\r\n    }\r\n\r\nThe problem I have is that the (gluon) RestClient and, by extension, the DataProvider.retrieveObject method return exactly...nothing.\r\n\r\nI&#39;m pretty sure I&#39;m doing something wrong and I&#39;m fairly certain it is the .dataString() method (which requires an &quot;entity&quot;), but I have not found an alternative to use as a way of passing the body into the request. \r\n\r\nThe reasoning behind using the **com.gluonhq.connect** library is to avoid having to also create my own Observable lists (by hand) - the library automatically spits one out, providing the data is suitably formatted...and present. At least, that&#39;s my understanding of it.\r\n\r\nCan someone point me in the right direction? I have found no indication or explanation of how to do POST requests with this library.\r\n\r\nUPDATE 20220117\r\n\r\nMain.java\r\n\r\n    public class Main extends Application {\r\n    ApplicationProperties applicationProperties = new ApplicationProperties();\r\n    private static final String RESTLIST_VIEW = HOME_VIEW;\r\n    private static final String RESTOBJECT_VIEW = &quot;RestObjectView&quot;;\r\n\r\n\r\n    private final AppManager appManager = AppManager.initialize(this::postInit);\r\n\r\n    @Override\r\n    public void init() {\r\n        appManager.addViewFactory(RESTOBJECT_VIEW, () -&gt; new RestObjectView(applicationProperties.APIURL, applicationProperties.APIKEY));\r\n\r\n        updateDrawer();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        appManager.start(stage);\r\n    }\r\n\r\n    private void postInit(Scene scene) {\r\n        Swatch.BLUE.assignTo(scene);\r\n\r\n        ((Stage) scene.getWindow()).getIcons().add(new Image(Objects.requireNonNull(Main.class.getResourceAsStream(&quot;/icon.png&quot;))));\r\n    }\r\n\r\n    private void updateDrawer() {\r\n        NavigationDrawer navigationDrawer = appManager.getDrawer();\r\n        NavigationDrawer.Header header = new NavigationDrawer.Header(&quot;Gluon Mobile&quot;, &quot;Gluon Connect Rest Provider Sample&quot;,\r\n                new Avatar(21, new Image(getClass().getResourceAsStream(&quot;/icon.png&quot;))));\r\n        navigationDrawer.setHeader(header);\r\n        NavigationDrawer.Item listItem = new NavigationDrawer.Item(&quot;List Viewer&quot;, MaterialDesignIcon.VIEW_LIST.graphic());\r\n        NavigationDrawer.Item objectItem = new NavigationDrawer.Item(&quot;Object Viewer&quot;, MaterialDesignIcon.INSERT_DRIVE_FILE.graphic());\r\n        navigationDrawer.getItems().addAll(listItem, objectItem);\r\n        navigationDrawer.selectedItemProperty().addListener((obs, oldItem, newItem) -&gt; {\r\n            if (newItem.equals(listItem)) {\r\n                appManager.switchView(RESTLIST_VIEW);\r\n            } else if (newItem.equals(objectItem)) {\r\n                appManager.switchView(RESTOBJECT_VIEW);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;javafx.platform&quot;, &quot;Desktop&quot;);\r\n\r\n        launch(args);\r\n    }\r\n\r\nRestObjectView.java\r\n\r\n    public class RestObjectView extends View {\r\n\r\n    public RestObjectView(String apiurl, String apikey) {\r\n\r\n        Label lbItemId = new Label();\r\n        Label lbName = new Label();\r\n        Label lbDescription = new Label();\r\n        Label lbLvlItem = new Label();\r\n        Label lbLvlEquip = new Label();\r\n\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.setVgap(5.0);\r\n        gridPane.setHgap(5.0);\r\n        gridPane.setPadding(new Insets(5.0));\r\n        gridPane.addRow(0, new Label(&quot;Item ID:&quot;), lbItemId);\r\n        gridPane.addRow(1, new Label(&quot;Name:&quot;), lbName);\r\n        gridPane.addRow(2, new Label(&quot;Description:&quot;), lbDescription);\r\n        gridPane.addRow(3, new Label(&quot;Item Level:&quot;), lbLvlItem);\r\n        gridPane.addRow(4, new Label(&quot;Equip Level:&quot;), lbLvlEquip);\r\n        gridPane.getColumnConstraints().add(new ColumnConstraints(75));\r\n\r\n        lbItemId.setWrapText(true);\r\n        lbName.setWrapText(true);\r\n        lbDescription.setWrapText(true);\r\n        lbLvlItem.setWrapText(false);\r\n        lbLvlEquip.setWrapText(false);\r\n\r\n        setCenter(gridPane);\r\n\r\n        // create a RestClient to the specific URL\r\n        RestClient restClient = RestClient.create()\r\n                .method(&quot;POST&quot;)\r\n                .host(apiurl)\r\n                .path(&quot;Item&quot;)\r\n                .queryParam(&quot;private_key&quot;, apikey);\r\n\r\n        // create a custom Converter that is able to parse the response into a single object\r\n        InputStreamInputConverter&lt;Item&gt; converter = new SingleItemInputConverter&lt;&gt;(Item.class);\r\n\r\n        // retrieve an object from the DataProvider\r\n        GluonObservableObject&lt;Item&gt; item = DataProvider.retrieveObject(restClient.createObjectDataReader(converter));\r\n\r\n        // when the object is initialized, bind its properties to the JavaFX UI controls\r\n        item.initializedProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            if (newValue) {\r\n                lbItemId.textProperty().bind(item.get().itemIdProperty().asString());\r\n                lbName.textProperty().bind(item.get().nameProperty());\r\n                lbDescription.textProperty().bind(item.get().descriptionProperty());\r\n                lbLvlItem.textProperty().bind(item.get().levelItemProperty().asString());\r\n                lbLvlEquip.textProperty().bind(item.get().levelEquipProperty().asString());\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void updateAppBar(AppBar appBar) {\r\n        appBar.setNavIcon(MaterialDesignIcon.MENU.button(e -&gt; getAppManager().getDrawer().open()));\r\n        appBar.setTitleText(&quot;Rest Object Viewer&quot;);\r\n    }\r\n\r\n}","title":"Query with ElasticSearch body using GluonhqConnect.Provider.RestClient","body":"<p>I am trying to use the <strong>com.gluonhq.connect.provider.RestClient</strong> to query an API that is Elastic Search enabled.</p>\n<pre><code>Maven:\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n        &lt;artifactId&gt;connect&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have attempted to make a request using the following:</p>\n<pre><code>private GluonObservableObject&lt;Item&gt; getData() {\n    RestClient myApiClient = RestClient.create()\n            .method(&quot;POST&quot;)\n            .host(applicationProperties.getAPIURL())\n            .path(&quot;search&quot;)\n            .header(&quot;accept&quot;, &quot;application/json&quot;)\n            .header(&quot;Content-type&quot;, &quot;application/json&quot;)\n            .queryParam(&quot;private_key&quot;, applicationProperties.getAPIKEY())\n            .dataString(ITEMREQUEST);\n\n    return DataProvider.retrieveObject(\n            myApiClient.createObjectDataReader(Item.class));\n}\n</code></pre>\n<p>...where the dataString is a json-formatted String representing the body of the request (I can assume the request is correctly formatted because I tested it in Postman and the request returned the expected data).\nIf it helps, here is the <strong>elasticsearch request body</strong>:</p>\n<pre><code> {\n  &quot;indexes&quot;: &quot;idx1, idx2&quot;,\n  &quot;columns&quot;: &quot;col1,col2,col3,col4,col5&quot;,\n  &quot;body&quot;: {\n    &quot;query&quot;: {\n      &quot;bool&quot;: {\n        &quot;must&quot;: [\n          {\n            &quot;wildcard&quot;: {\n              &quot;NameCombined_en&quot;: &quot;*&quot;\n            }\n          }\n        ],\n        &quot;filter&quot;: [\n          {\n            &quot;range&quot;: {\n              &quot;ID&quot;: {\n                &quot;gte&quot;: &quot;20000&quot;\n              }\n            }\n          }\n        ]\n      }\n    },\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 100\n  }\n}\n</code></pre>\n<p>The problem I have is that the (gluon) RestClient and, by extension, the DataProvider.retrieveObject method return exactly...nothing.</p>\n<p>I'm pretty sure I'm doing something wrong and I'm fairly certain it is the .dataString() method (which requires an &quot;entity&quot;), but I have not found an alternative to use as a way of passing the body into the request.</p>\n<p>The reasoning behind using the <strong>com.gluonhq.connect</strong> library is to avoid having to also create my own Observable lists (by hand) - the library automatically spits one out, providing the data is suitably formatted...and present. At least, that's my understanding of it.</p>\n<p>Can someone point me in the right direction? I have found no indication or explanation of how to do POST requests with this library.</p>\n<p>UPDATE 20220117</p>\n<p>Main.java</p>\n<pre><code>public class Main extends Application {\nApplicationProperties applicationProperties = new ApplicationProperties();\nprivate static final String RESTLIST_VIEW = HOME_VIEW;\nprivate static final String RESTOBJECT_VIEW = &quot;RestObjectView&quot;;\n\n\nprivate final AppManager appManager = AppManager.initialize(this::postInit);\n\n@Override\npublic void init() {\n    appManager.addViewFactory(RESTOBJECT_VIEW, () -&gt; new RestObjectView(applicationProperties.APIURL, applicationProperties.APIKEY));\n\n    updateDrawer();\n}\n\n@Override\npublic void start(Stage stage) {\n    appManager.start(stage);\n}\n\nprivate void postInit(Scene scene) {\n    Swatch.BLUE.assignTo(scene);\n\n    ((Stage) scene.getWindow()).getIcons().add(new Image(Objects.requireNonNull(Main.class.getResourceAsStream(&quot;/icon.png&quot;))));\n}\n\nprivate void updateDrawer() {\n    NavigationDrawer navigationDrawer = appManager.getDrawer();\n    NavigationDrawer.Header header = new NavigationDrawer.Header(&quot;Gluon Mobile&quot;, &quot;Gluon Connect Rest Provider Sample&quot;,\n            new Avatar(21, new Image(getClass().getResourceAsStream(&quot;/icon.png&quot;))));\n    navigationDrawer.setHeader(header);\n    NavigationDrawer.Item listItem = new NavigationDrawer.Item(&quot;List Viewer&quot;, MaterialDesignIcon.VIEW_LIST.graphic());\n    NavigationDrawer.Item objectItem = new NavigationDrawer.Item(&quot;Object Viewer&quot;, MaterialDesignIcon.INSERT_DRIVE_FILE.graphic());\n    navigationDrawer.getItems().addAll(listItem, objectItem);\n    navigationDrawer.selectedItemProperty().addListener((obs, oldItem, newItem) -&gt; {\n        if (newItem.equals(listItem)) {\n            appManager.switchView(RESTLIST_VIEW);\n        } else if (newItem.equals(objectItem)) {\n            appManager.switchView(RESTOBJECT_VIEW);\n        }\n    });\n}\n\npublic static void main(String[] args) {\n    System.setProperty(&quot;javafx.platform&quot;, &quot;Desktop&quot;);\n\n    launch(args);\n}\n</code></pre>\n<p>RestObjectView.java</p>\n<pre><code>public class RestObjectView extends View {\n\npublic RestObjectView(String apiurl, String apikey) {\n\n    Label lbItemId = new Label();\n    Label lbName = new Label();\n    Label lbDescription = new Label();\n    Label lbLvlItem = new Label();\n    Label lbLvlEquip = new Label();\n\n    GridPane gridPane = new GridPane();\n    gridPane.setVgap(5.0);\n    gridPane.setHgap(5.0);\n    gridPane.setPadding(new Insets(5.0));\n    gridPane.addRow(0, new Label(&quot;Item ID:&quot;), lbItemId);\n    gridPane.addRow(1, new Label(&quot;Name:&quot;), lbName);\n    gridPane.addRow(2, new Label(&quot;Description:&quot;), lbDescription);\n    gridPane.addRow(3, new Label(&quot;Item Level:&quot;), lbLvlItem);\n    gridPane.addRow(4, new Label(&quot;Equip Level:&quot;), lbLvlEquip);\n    gridPane.getColumnConstraints().add(new ColumnConstraints(75));\n\n    lbItemId.setWrapText(true);\n    lbName.setWrapText(true);\n    lbDescription.setWrapText(true);\n    lbLvlItem.setWrapText(false);\n    lbLvlEquip.setWrapText(false);\n\n    setCenter(gridPane);\n\n    // create a RestClient to the specific URL\n    RestClient restClient = RestClient.create()\n            .method(&quot;POST&quot;)\n            .host(apiurl)\n            .path(&quot;Item&quot;)\n            .queryParam(&quot;private_key&quot;, apikey);\n\n    // create a custom Converter that is able to parse the response into a single object\n    InputStreamInputConverter&lt;Item&gt; converter = new SingleItemInputConverter&lt;&gt;(Item.class);\n\n    // retrieve an object from the DataProvider\n    GluonObservableObject&lt;Item&gt; item = DataProvider.retrieveObject(restClient.createObjectDataReader(converter));\n\n    // when the object is initialized, bind its properties to the JavaFX UI controls\n    item.initializedProperty().addListener((obs, oldValue, newValue) -&gt; {\n        if (newValue) {\n            lbItemId.textProperty().bind(item.get().itemIdProperty().asString());\n            lbName.textProperty().bind(item.get().nameProperty());\n            lbDescription.textProperty().bind(item.get().descriptionProperty());\n            lbLvlItem.textProperty().bind(item.get().levelItemProperty().asString());\n            lbLvlEquip.textProperty().bind(item.get().levelEquipProperty().asString());\n        }\n    });\n}\n\n@Override\nprotected void updateAppBar(AppBar appBar) {\n    appBar.setNavIcon(MaterialDesignIcon.MENU.button(e -&gt; getAppManager().getDrawer().open()));\n    appBar.setTitleText(&quot;Rest Object Viewer&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","retrofit","retrofit2","multipart"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1641215602,"post_id":70566172,"comment_id":124741801,"body_markdown":"Well, your JSON contains the NAME of a file. If you want to send the FILE CONTENT, then well: you have to write code for that. You need to READ the file, take its bytes, encode them somehow, and add that to your JSON structure, and then do the reverse on the other end.","body":"Well, your JSON contains the NAME of a file. If you want to send the FILE CONTENT, then well: you have to write code for that. You need to READ the file, take its bytes, encode them somehow, and add that to your JSON structure, and then do the reverse on the other end."},{"owner":{"account_id":22324450,"reputation":41,"user_id":16546642,"display_name":"JB08"},"score":0,"creation_date":1641633684,"post_id":70566172,"comment_id":124859165,"body_markdown":"Thanks @GhostCat. If use this approach, then the backend team will also have to modify the code and add the decoding logic there right? So, if I don&#39;t find any other solution then I think I have no other option than this. Also, should I convert the file into Base64 to send as a string/byte[] ?","body":"Thanks @GhostCat. If use this approach, then the backend team will also have to modify the code and add the decoding logic there right? So, if I don&#39;t find any other solution then I think I have no other option than this. Also, should I convert the file into Base64 to send as a string/byte[] ?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1641755492,"post_id":70566172,"comment_id":124883582,"body_markdown":"Sounds correct.","body":"Sounds correct."}],"answers":[{"tags":[],"owner":{"account_id":9436038,"reputation":921,"user_id":7018008,"display_name":"Dulanga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641543157,"creation_date":1641543157,"answer_id":70618333,"question_id":70566172,"body_markdown":"You have to use form data for your `POST` API then you can achieve this. you have to get some help from your back-end developer as well. check this below example code. Try this way and let me know your finding\r\n\r\n    @Multipart\r\n    @POST(&quot;expenses/upload&quot;)\r\n    Observable&lt;UploadExpensesWithImageResponse&gt; uploadExpensesWithImageAPI(\r\n            @Header(&quot;Authorization&quot;) String accessToken,\r\n            @Part  MultipartBody.Part[] picture,\r\n            @Part(&quot;store_id&quot;) RequestBody store_id,\r\n            @Part(&quot;amount&quot;) RequestBody amount,\r\n            @Part(&quot;expense_date&quot;) RequestBody expense_date);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GDoP6.png","title":"I want to pass json object as a raw data using @Body in retrofit, but I am unable to add an image file inside the Request Object, how can I achieve it","body":"<p>You have to use form data for your <code>POST</code> API then you can achieve this. you have to get some help from your back-end developer as well. check this below example code. Try this way and let me know your finding</p>\n<pre><code>@Multipart\n@POST(&quot;expenses/upload&quot;)\nObservable&lt;UploadExpensesWithImageResponse&gt; uploadExpensesWithImageAPI(\n        @Header(&quot;Authorization&quot;) String accessToken,\n        @Part  MultipartBody.Part[] picture,\n        @Part(&quot;store_id&quot;) RequestBody store_id,\n        @Part(&quot;amount&quot;) RequestBody amount,\n        @Part(&quot;expense_date&quot;) RequestBody expense_date);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GDoP6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDoP6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19345875,"reputation":51,"user_id":14144456,"display_name":"Kashif Ali Bhatti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642426133,"creation_date":1642426133,"answer_id":70742157,"question_id":70566172,"body_markdown":"You can convert your bitmap into a base64 string and send it to the server.\r\n\r\nBut you should send the multipart request. As I read your comment there is a list of objects that you want to send to the server. You should create a POJO that contains your list of data and then send it along with the multipart request.\r\n\r\nHere is some code example:\r\n\r\n    class SyncUpData {\r\n    @SerializedName(&quot;Products&quot;)\r\n    var products: List&lt;ProductDTO&gt;? = null\r\n\r\n    @SerializedName(&quot;ProductTax&quot;)\r\n    var productTax: List&lt;ProductTaxDTO&gt;? = null\r\n    }\r\n\r\n\r\nAnd along with your multipart request do like this:\r\n\r\n\r\n        val str = GsonBuilder().create().toJson(syncUpObj)\r\n        val jsonObject: JSONObject = JSONObject(str)\r\n        val body = jsonObject.toString(1)\r\n        \r\n        val syncUp = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), body)\r\n\r\nYour API Call:\r\n\r\n    @Multipart\r\n    @POST(&quot;&quot;)\r\n    Call&lt;ResponseDTO&gt; syncUpNow(@Part MultipartBody.Part[] images,\r\n                                            @Part(&quot;syncUp&quot;) RequestBody myObj","title":"I want to pass json object as a raw data using @Body in retrofit, but I am unable to add an image file inside the Request Object, how can I achieve it","body":"<p>You can convert your bitmap into a base64 string and send it to the server.</p>\n<p>But you should send the multipart request. As I read your comment there is a list of objects that you want to send to the server. You should create a POJO that contains your list of data and then send it along with the multipart request.</p>\n<p>Here is some code example:</p>\n<pre><code>class SyncUpData {\n@SerializedName(&quot;Products&quot;)\nvar products: List&lt;ProductDTO&gt;? = null\n\n@SerializedName(&quot;ProductTax&quot;)\nvar productTax: List&lt;ProductTaxDTO&gt;? = null\n}\n</code></pre>\n<p>And along with your multipart request do like this:</p>\n<pre><code>    val str = GsonBuilder().create().toJson(syncUpObj)\n    val jsonObject: JSONObject = JSONObject(str)\n    val body = jsonObject.toString(1)\n    \n    val syncUp = RequestBody.create(&quot;multipart/form-data&quot;.toMediaTypeOrNull(), body)\n</code></pre>\n<p>Your API Call:</p>\n<pre><code>@Multipart\n@POST(&quot;&quot;)\nCall&lt;ResponseDTO&gt; syncUpNow(@Part MultipartBody.Part[] images,\n                                        @Part(&quot;syncUp&quot;) RequestBody myObj\n</code></pre>\n"}],"owner":{"account_id":22324450,"reputation":41,"user_id":16546642,"display_name":"JB08"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642426133,"creation_date":1641214936,"question_id":70566172,"body_markdown":"Data in JSON format I need to pass is: \r\n```json\r\n{\r\n   &quot;user&quot;:{\r\n      &quot;email&quot;:&quot;xxxx&quot;,\r\n      &quot;password&quot;:&quot;xxxx&quot;,\r\n      &quot;first_name&quot;:&quot;XXXX&quot;,\r\n      &quot;last_name&quot;:&quot;XXXX&quot;,\r\n      &quot;date_of_birth&quot;:&quot;XXXX&quot;,\r\n      &quot;image&quot;:&quot;myFile.jpg&quot;,\r\n      &quot;location&quot;:&quot;XXXX&quot;,\r\n      &quot;my_list1&quot;:[\r\n         {\r\n            &quot;first_name&quot;:&quot;XXXX&quot;,\r\n            &quot;last_name&quot;:&quot;XXXX&quot;,\r\n            &quot;telephone_number&quot;:&quot;XXXX&quot;\r\n         },\r\n         {\r\n            &quot;first_name&quot;:&quot;XXXX&quot;,\r\n            &quot;last_name&quot;:&quot;XXXX&quot;,\r\n            &quot;telephone_number&quot;:&quot;XXXX&quot;\r\n         }\r\n      ],\r\n      &quot;my_list2&quot;:[\r\n         {\r\n            &quot;id&quot;:&quot;1&quot;\r\n         },\r\n         {\r\n            &quot;id&quot;:&quot;2&quot;\r\n         }\r\n      ]\r\n   }\r\n}\r\n```\r\n\r\nI can not add an image in mainRequestObj while using:\r\n```\r\n@POST(&quot;users&quot;)\r\nCall&lt;MainResponse&gt; register(@Header(&quot;abc&quot;) String abc,@Body MainRequestObj mainRequestObj);\r\n```\r\n\r\nIs there any way I can pass the image as a file in the raw body format? I am using retrofit 2.9.0. Thanks in advance!","title":"I want to pass json object as a raw data using @Body in retrofit, but I am unable to add an image file inside the Request Object, how can I achieve it","body":"<p>Data in JSON format I need to pass is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;user&quot;:{\n      &quot;email&quot;:&quot;xxxx&quot;,\n      &quot;password&quot;:&quot;xxxx&quot;,\n      &quot;first_name&quot;:&quot;XXXX&quot;,\n      &quot;last_name&quot;:&quot;XXXX&quot;,\n      &quot;date_of_birth&quot;:&quot;XXXX&quot;,\n      &quot;image&quot;:&quot;myFile.jpg&quot;,\n      &quot;location&quot;:&quot;XXXX&quot;,\n      &quot;my_list1&quot;:[\n         {\n            &quot;first_name&quot;:&quot;XXXX&quot;,\n            &quot;last_name&quot;:&quot;XXXX&quot;,\n            &quot;telephone_number&quot;:&quot;XXXX&quot;\n         },\n         {\n            &quot;first_name&quot;:&quot;XXXX&quot;,\n            &quot;last_name&quot;:&quot;XXXX&quot;,\n            &quot;telephone_number&quot;:&quot;XXXX&quot;\n         }\n      ],\n      &quot;my_list2&quot;:[\n         {\n            &quot;id&quot;:&quot;1&quot;\n         },\n         {\n            &quot;id&quot;:&quot;2&quot;\n         }\n      ]\n   }\n}\n</code></pre>\n<p>I can not add an image in mainRequestObj while using:</p>\n<pre><code>@POST(&quot;users&quot;)\nCall&lt;MainResponse&gt; register(@Header(&quot;abc&quot;) String abc,@Body MainRequestObj mainRequestObj);\n</code></pre>\n<p>Is there any way I can pass the image as a file in the raw body format? I am using retrofit 2.9.0. Thanks in advance!</p>\n"},{"tags":["java","spring-mvc","httpurlconnection"],"comments":[{"owner":{"account_id":5439705,"reputation":1442,"user_id":4328100,"accept_rate":67,"display_name":"Mohammadreza Khatami"},"score":0,"creation_date":1545212787,"post_id":53848399,"comment_id":94544484,"body_markdown":"where you call handleException() ?","body":"where you call handleException() ?"},{"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"score":1,"creation_date":1545213038,"post_id":53848399,"comment_id":94544635,"body_markdown":"It&#39;s done automatically by Spring, if `@Validated` fails.","body":"It&#39;s done automatically by Spring, if <code>@Validated</code> fails."},{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1545214666,"post_id":53848399,"comment_id":94545628,"body_markdown":"What is the URL and access method in `HttpURLConnection connection` ?","body":"What is the URL and access method in <code>HttpURLConnection connection</code> ?"},{"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"score":0,"creation_date":1545224098,"post_id":53848399,"comment_id":94550683,"body_markdown":"URL is `www.test.de/doMagic` and access method is of course `Post` since the validation is successfully triggered.","body":"URL is <code>www.test.de&#47;doMagic</code> and access method is of course <code>Post</code> since the validation is successfully triggered."},{"owner":{"account_id":5439705,"reputation":1442,"user_id":4328100,"accept_rate":67,"display_name":"Mohammadreza Khatami"},"score":0,"creation_date":1545239096,"post_id":53848399,"comment_id":94559813,"body_markdown":"Please post your JsonDTO","body":"Please post your JsonDTO"},{"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"score":0,"creation_date":1545297808,"post_id":53848399,"comment_id":94578736,"body_markdown":"The JsonDTO is not the problem, see my edit.","body":"The JsonDTO is not the problem, see my edit."},{"owner":{"account_id":9711280,"reputation":838,"user_id":7203065,"accept_rate":83,"display_name":"Sachin Kumar"},"score":1,"creation_date":1545298428,"post_id":53848399,"comment_id":94579059,"body_markdown":"Is there any reason that you prefer HttpURLConnection. If you are using spring on client side as well, then you can use Spring&#39;s RestTemplate and configure an error handler to handle failed requests and read the response body.","body":"Is there any reason that you prefer HttpURLConnection. If you are using spring on client side as well, then you can use Spring&#39;s RestTemplate and configure an error handler to handle failed requests and read the response body."},{"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"score":0,"creation_date":1545302667,"post_id":53848399,"comment_id":94581314,"body_markdown":"Client site is &quot;plain&quot; Java without Spring.","body":"Client site is &quot;plain&quot; Java without Spring."}],"answers":[{"tags":[],"owner":{"account_id":23833147,"reputation":3,"user_id":17839186,"display_name":"Onur Akbal M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642425964,"creation_date":1642425964,"answer_id":70742127,"question_id":53848399,"body_markdown":"You could create an object specifically for returning error responses. That way, you can say whatever you want.\r\nLike: `ResponseEntity&lt;ResponseStatus&gt;`","title":"Read Error Message with HttpURLConnection send by Spring","body":"<p>You could create an object specifically for returning error responses. That way, you can say whatever you want.\nLike: <code>ResponseEntity&lt;ResponseStatus&gt;</code></p>\n"}],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642425964,"creation_date":1545212540,"question_id":53848399,"body_markdown":"I have a Spring-MVC controller using Json request parameters. If the validation of this parameter fails, I want to send a custom error message.\r\n\r\nTherefore, I added this ExceptionHandler to my controller which seams to work (breakpoint is reached during debugging).  \r\n\r\n**Controller Class:**\r\n\r\n    @ExceptionHandler\r\n\t@ResponseBody\r\n    public ResponseEntity&lt;String&gt; handleException(MethodArgumentNotValidException exception) {\r\n         return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Custom Message&quot;);\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/doMagic&quot;, method = RequestMethod.POST, \r\n\t\t\t\t\tconsumes = MediaType.APPLICATION_JSON_VALUE, produces = &quot;application/json; charset=utf-8&quot;)\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;String&gt; getAllStudies(@Validated @RequestBody JsonDTO params)\r\n\t{\r\n        ...\r\n    }\r\nOn the client site I use the HttpURLConnection from Java utils. \r\n \r\n**Client Class:**\r\n\r\n\tprivate static String getErrorString(HttpURLConnection connection) throws IOException{\r\n\t\tif(connection.getErrorStream() != null) {\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\r\n\t\t\tString inputLine;\r\n\t\t\tStringBuffer response = new StringBuffer();\r\n\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t\treturn response.toString();\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\nThe problem is, the error message is always\r\n\r\n`Server returned HTTP response code: 400 for URL: www.test.de/doMagic`\r\n\r\nHow do I receive my `Custom Message`?\r\n\r\n**Edit:**\r\n\r\nIf I change the return status of the ExceptionHandler to `HttpStatus.OK`, the `Custom Message`is send successfully and can be read by the client. So, the problem seams to be a Spring Bean (?) or the HttpConnection replacing the body in case of an error status.  ","title":"Read Error Message with HttpURLConnection send by Spring","body":"<p>I have a Spring-MVC controller using Json request parameters. If the validation of this parameter fails, I want to send a custom error message.</p>\n\n<p>Therefore, I added this ExceptionHandler to my controller which seams to work (breakpoint is reached during debugging).  </p>\n\n<p><strong>Controller Class:</strong></p>\n\n<pre><code>@ExceptionHandler\n@ResponseBody\npublic ResponseEntity&lt;String&gt; handleException(MethodArgumentNotValidException exception) {\n     return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(\"Custom Message\");\n}\n\n@RequestMapping(value = \"/doMagic\", method = RequestMethod.POST, \n                consumes = MediaType.APPLICATION_JSON_VALUE, produces = \"application/json; charset=utf-8\")\n@ResponseBody\npublic ResponseEntity&lt;String&gt; getAllStudies(@Validated @RequestBody JsonDTO params)\n{\n    ...\n}\n</code></pre>\n\n<p>On the client site I use the HttpURLConnection from Java utils. </p>\n\n<p><strong>Client Class:</strong></p>\n\n<pre><code>private static String getErrorString(HttpURLConnection connection) throws IOException{\n    if(connection.getErrorStream() != null) {\n        BufferedReader in = new BufferedReader(new InputStreamReader(connection.getErrorStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        return response.toString();\n    } else {\n        return null;\n    }\n</code></pre>\n\n<p>The problem is, the error message is always</p>\n\n<p><code>Server returned HTTP response code: 400 for URL: www.test.de/doMagic</code></p>\n\n<p>How do I receive my <code>Custom Message</code>?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>If I change the return status of the ExceptionHandler to <code>HttpStatus.OK</code>, the <code>Custom Message</code>is send successfully and can be read by the client. So, the problem seams to be a Spring Bean (?) or the HttpConnection replacing the body in case of an error status.  </p>\n"},{"tags":["java","tomcat","websocket"],"answers":[{"tags":[],"owner":{"account_id":7432880,"reputation":103,"user_id":5653212,"display_name":"neko-cat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504176203,"creation_date":1504176203,"answer_id":45979530,"question_id":45976817,"body_markdown":"I found a solution.\r\nThis question is dupricated.\r\n\r\nI read https://stackoverflow.com/questions/35994611/got-404-error-on-tomcat-7-0-47-websocket and editted my pom.xml. \r\n\r\nFollowing is the whole of my pom.xml.\r\n\t\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;websocket-sample&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;websocket-sample&lt;/name&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;8.5.20&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat-websocket&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;8.5.20&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.websocket&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n","title":"WebSocket with embedded Tomcat is 404","body":"<p>I found a solution.\nThis question is dupricated.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/35994611/got-404-error-on-tomcat-7-0-47-websocket\">Got 404 error on tomcat 7.0.47 websocket</a> and editted my pom.xml. </p>\n\n<p>Following is the whole of my pom.xml.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;websocket-sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;websocket-sample&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;version&gt;8.5.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-websocket&lt;/artifactId&gt;\n            &lt;version&gt;8.5.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9099276,"reputation":31,"user_id":9505410,"display_name":"Jos&#233; Ricardo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528380925,"creation_date":1528374208,"answer_id":50741145,"question_id":45976817,"body_markdown":"Just add the following dependency to `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-websocket&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.20&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"WebSocket with embedded Tomcat is 404","body":"<p>Just add the following dependency to <code>pom.xml</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-websocket&lt;/artifactId&gt;\n    &lt;version&gt;8.5.20&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404462,"reputation":773,"user_id":772789,"accept_rate":71,"display_name":"hbCyber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642425892,"creation_date":1642425892,"answer_id":70742108,"question_id":45976817,"body_markdown":"What solved the issue for me was switching from the `javax.websocket-api` dependency to the Tomcat-specific `tomcat-embed-websocket` dependency instead **and** switching all my imports (`ServerEndpoint`, `onMessage`, etc.) to the Tomcat-specific `jakarta.websocket.*` packages instead of the `javax.websocket.x` packages.\r\n\r\nHere is the endpoint code that worked for me -- notice that there are no `javax.websocket` imports and instead I have `jakarta.websocket` imports:\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import jakarta.websocket.EncodeException;\r\n    import jakarta.websocket.OnMessage;\r\n    import jakarta.websocket.Session;\r\n    import jakarta.websocket.server.ServerEndpoint;\r\n    \r\n    @ServerEndpoint(&quot;/echo&quot;)\r\n    public class EchoEndpoint {\r\n    \t// Implementation.\r\n    \t@OnMessage\r\n        public void onMessage(\r\n    \t\tSession session, \r\n    \t\tString message) \r\n    \t\tthrows \r\n    \t\t\tIOException,\r\n    \t\t\tEncodeException {\r\n    \t\t// Send the same message back.\r\n    \t\tsession.getBasicRemote().sendText(message);\r\n        }\r\n    }\r\n\r\nAnd my `pom.xml` file dependencies:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n        &lt;version&gt;10.1.0-M8&lt;/version&gt;\r\n    &lt;/dependency&gt;    \t\t\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-websocket --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n        &lt;version&gt;10.1.0-M8&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\r\n\r\nAs far as I can tell, the `pom.xml` should **not** contain the `javax.websocket` dependency at all, to ensure there are no collisions/clashes between that one and the Tomcat-specific `tomcat-embed-websocket` dependency.","title":"WebSocket with embedded Tomcat is 404","body":"<p>What solved the issue for me was switching from the <code>javax.websocket-api</code> dependency to the Tomcat-specific <code>tomcat-embed-websocket</code> dependency instead <strong>and</strong> switching all my imports (<code>ServerEndpoint</code>, <code>onMessage</code>, etc.) to the Tomcat-specific <code>jakarta.websocket.*</code> packages instead of the <code>javax.websocket.x</code> packages.</p>\n<p>Here is the endpoint code that worked for me -- notice that there are no <code>javax.websocket</code> imports and instead I have <code>jakarta.websocket</code> imports:</p>\n<pre><code>import java.io.IOException;\n\nimport jakarta.websocket.EncodeException;\nimport jakarta.websocket.OnMessage;\nimport jakarta.websocket.Session;\nimport jakarta.websocket.server.ServerEndpoint;\n\n@ServerEndpoint(&quot;/echo&quot;)\npublic class EchoEndpoint {\n    // Implementation.\n    @OnMessage\n    public void onMessage(\n        Session session, \n        String message) \n        throws \n            IOException,\n            EncodeException {\n        // Send the same message back.\n        session.getBasicRemote().sendText(message);\n    }\n}\n</code></pre>\n<p>And my <code>pom.xml</code> file dependencies:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;10.1.0-M8&lt;/version&gt;\n&lt;/dependency&gt;           \n&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-websocket --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n    &lt;version&gt;10.1.0-M8&lt;/version&gt;\n&lt;/dependency&gt;   \n</code></pre>\n<p>As far as I can tell, the <code>pom.xml</code> should <strong>not</strong> contain the <code>javax.websocket</code> dependency at all, to ensure there are no collisions/clashes between that one and the Tomcat-specific <code>tomcat-embed-websocket</code> dependency.</p>\n"}],"owner":{"account_id":7432880,"reputation":103,"user_id":5653212,"display_name":"neko-cat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1642425892,"creation_date":1504168225,"question_id":45976817,"body_markdown":"I made two classes:\r\n\r\n1. Main class with embedded Tomcat(8.5.20)\r\n2. ServerEndpoint of Websocket\r\n\r\nI run the main class on IntelliJ IDEA\r\nand run this JavaScript: `new WebSocket(&#39;ws://localhost:8080/ws&#39;)`\r\nin the console of Google Chrome.\r\n\r\nI expected the response code is 200, but actually it is 404.\r\n\r\nHow can I fix this?\r\n\r\n\r\nMain class:\r\n\r\n\tpackage webapp;\r\n\r\n\r\n\timport org.apache.catalina.LifecycleException;\r\n\timport org.apache.catalina.startup.Tomcat;\r\n\r\n\timport javax.servlet.ServletException;\r\n\timport java.io.File;\r\n\r\n\tpublic class Main {\r\n\t    private static final String STATIC_DIR = &quot;src/main/static/&quot;;\r\n\r\n\t    public static void main(String[] args) throws ServletException, LifecycleException {\r\n\t        Tomcat tomcat = new Tomcat();\r\n\t        tomcat.setPort(8080);\r\n\r\n\t        File staticDir = new File(STATIC_DIR);\r\n\t        tomcat.addWebapp(&quot;/&quot;, staticDir.getAbsolutePath());\r\n\r\n\t        tomcat.start();\r\n\t        tomcat.getServer().await();\r\n\t    }\r\n\t}\r\n\r\n\r\nServerEndpoint:\r\n\r\n\tpackage webapp.websocket;\r\n\r\n\timport javax.websocket.OnClose;\r\n\timport javax.websocket.OnMessage;\r\n\timport javax.websocket.OnOpen;\r\n\timport javax.websocket.Session;\r\n\timport javax.websocket.server.ServerEndpoint;\r\n\r\n\t@ServerEndpoint(&quot;/ws&quot;)\r\n\tpublic class SampleWebSocket {\r\n\r\n\t    @OnOpen\r\n\t    public void onOpen(Session session) {\r\n\t        System.out.println(&quot;open&quot;);\r\n\t    }\r\n\r\n\r\n\t    @OnClose\r\n\t    public void onClose(Session session) {\r\n\t        System.out.println(&quot;close&quot;);\r\n\t    }\r\n\r\n\t    @OnMessage\r\n\t    public String onMessage(String text) {\r\n\t        System.out.println(&quot;message:&quot; + text);\r\n\t        return &quot;Server:&quot; + text;\r\n\t    }\r\n\t}\r\n\r\n\r\nThank you.","title":"WebSocket with embedded Tomcat is 404","body":"<p>I made two classes:</p>\n\n<ol>\n<li>Main class with embedded Tomcat(8.5.20)</li>\n<li>ServerEndpoint of Websocket</li>\n</ol>\n\n<p>I run the main class on IntelliJ IDEA\nand run this JavaScript: <code>new WebSocket('ws://localhost:8080/ws')</code>\nin the console of Google Chrome.</p>\n\n<p>I expected the response code is 200, but actually it is 404.</p>\n\n<p>How can I fix this?</p>\n\n<p>Main class:</p>\n\n<pre><code>package webapp;\n\n\nimport org.apache.catalina.LifecycleException;\nimport org.apache.catalina.startup.Tomcat;\n\nimport javax.servlet.ServletException;\nimport java.io.File;\n\npublic class Main {\n    private static final String STATIC_DIR = \"src/main/static/\";\n\n    public static void main(String[] args) throws ServletException, LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        tomcat.setPort(8080);\n\n        File staticDir = new File(STATIC_DIR);\n        tomcat.addWebapp(\"/\", staticDir.getAbsolutePath());\n\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n}\n</code></pre>\n\n<p>ServerEndpoint:</p>\n\n<pre><code>package webapp.websocket;\n\nimport javax.websocket.OnClose;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.server.ServerEndpoint;\n\n@ServerEndpoint(\"/ws\")\npublic class SampleWebSocket {\n\n    @OnOpen\n    public void onOpen(Session session) {\n        System.out.println(\"open\");\n    }\n\n\n    @OnClose\n    public void onClose(Session session) {\n        System.out.println(\"close\");\n    }\n\n    @OnMessage\n    public String onMessage(String text) {\n        System.out.println(\"message:\" + text);\n        return \"Server:\" + text;\n    }\n}\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1642424280,"post_id":70741677,"comment_id":125059540,"body_markdown":"Can you describe in more detail what exactly you want to happen? Currently, I can&#39;t tell what behavior you are after. So please [edit] your question to add your expected output.","body":"Can you describe in more detail what exactly you want to happen? Currently, I can&#39;t tell what behavior you are after. So please <a href=\"https://stackoverflow.com/posts/70741677/edit\">edit</a> your question to add your expected output."},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":0,"creation_date":1642424353,"post_id":70741677,"comment_id":125059563,"body_markdown":"if you want characters to be printed on same line, please use ``System.out.print()`` instead of ``System.out.println()``","body":"if you want characters to be printed on same line, please use <code>System.out.print()</code> instead of <code>System.out.println()</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642424366,"post_id":70741677,"comment_id":125059570,"body_markdown":"Are you by any chance looking for `System.out.print(colors)`? (note: `colors` is an odd name for this array).","body":"Are you by any chance looking for <code>System.out.print(colors)</code>? (note: <code>colors</code> is an odd name for this array)."},{"owner":{"account_id":2173513,"reputation":379,"user_id":1924813,"display_name":"user1924813"},"score":0,"creation_date":1642424593,"post_id":70741677,"comment_id":125059667,"body_markdown":"each character from each line to join together (to spell &quot;Hello World!)","body":"each character from each line to join together (to spell &quot;Hello World!)"},{"owner":{"account_id":23803283,"reputation":126,"user_id":17813175,"display_name":"Mohaideen Samsudeen"},"score":0,"creation_date":1642425569,"post_id":70741677,"comment_id":125060030,"body_markdown":"@user1924813, you can use one liner ```sample.chars().mapToObj(c -&gt; (char) c).forEach(System.out::println);```  which will each character in one line","body":"@user1924813, you can use one liner <code>sample.chars().mapToObj(c -&gt; (char) c).forEach(System.out::println);</code>  which will each character in one line"}],"answers":[{"tags":[],"owner":{"account_id":2755390,"reputation":464,"user_id":2483716,"accept_rate":40,"display_name":"user39950"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642424343,"creation_date":1642424343,"answer_id":70741766,"question_id":70741677,"body_markdown":"Maybe you want\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        \r\n        public static void main(String[] args) {\r\n            String sample = (&quot;Hello World!&quot;);\r\n            List&lt;Character&gt; colors = new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;sample.length();i++) {\r\n            \r\n            colors.add(sample.charAt(i);\r\n            }\r\n\r\n            System.out.println(colors);\r\n        }\r\n    }","title":"Is there a way to get separate line characters in an array to output in the console panel on one line?","body":"<p>Maybe you want</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        String sample = (&quot;Hello World!&quot;);\n        List&lt;Character&gt; colors = new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;sample.length();i++) {\n        \n        colors.add(sample.charAt(i);\n        }\n\n        System.out.println(colors);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642424633,"creation_date":1642424633,"answer_id":70741832,"question_id":70741677,"body_markdown":"colors is a an ArrayList, so when you&#39;re running `System.out.print(colors)`, it uses the default toString implementation of ArrayList, which is all elements with commas between them wrapped by[].  \r\n\r\nif you want to print it as a regular sentence, you can either print it element at a time (`colors.foreach(System.out::print)`) or concatenate it into a string and print it","title":"Is there a way to get separate line characters in an array to output in the console panel on one line?","body":"<p>colors is a an ArrayList, so when you're running <code>System.out.print(colors)</code>, it uses the default toString implementation of ArrayList, which is all elements with commas between them wrapped by[].</p>\n<p>if you want to print it as a regular sentence, you can either print it element at a time (<code>colors.foreach(System.out::print)</code>) or concatenate it into a string and print it</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642425009,"creation_date":1642425009,"answer_id":70741908,"question_id":70741677,"body_markdown":"If you don&#39;t want an array of characters to be printed as separate characters, don&#39;t use `println(array)`.  Instead, either write a loop to print each character without anything added, or convert to a String.\r\n\r\n    public class Main {    \r\n        public static void main(String[] args) {\r\n            String sample = (&quot;Hello World!&quot;);\r\n            for (int i=0; i&lt;sample.length(); i++) {\r\n                System.out.print(sample.charAt(i));\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nThe above in itself is not too useful, since you&#39;re not doing anything except taking the string apart and printing each character. But then again, I don&#39;t understand your intent.  Maybe you want to print strings of increasing length?\r\n\r\n    public class Main {    \r\n        public static void main(String[] args) {\r\n            String sample = (&quot;Hello World!&quot;);\r\n            for (int i=2; i&lt;=sample.length(); i++) {\r\n                System.out.println(sample.substring(0, i));\r\n            }\r\n        }\r\n    }\r\n\r\nIn this second example, `i` is the index of the first character not printed (i.e., one past the end), and since I assume you don&#39;t want a zero-length string printed, the counting starts at 2.","title":"Is there a way to get separate line characters in an array to output in the console panel on one line?","body":"<p>If you don't want an array of characters to be printed as separate characters, don't use <code>println(array)</code>.  Instead, either write a loop to print each character without anything added, or convert to a String.</p>\n<pre><code>public class Main {    \n    public static void main(String[] args) {\n        String sample = (&quot;Hello World!&quot;);\n        for (int i=0; i&lt;sample.length(); i++) {\n            System.out.print(sample.charAt(i));\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The above in itself is not too useful, since you're not doing anything except taking the string apart and printing each character. But then again, I don't understand your intent.  Maybe you want to print strings of increasing length?</p>\n<pre><code>public class Main {    \n    public static void main(String[] args) {\n        String sample = (&quot;Hello World!&quot;);\n        for (int i=2; i&lt;=sample.length(); i++) {\n            System.out.println(sample.substring(0, i));\n        }\n    }\n}\n</code></pre>\n<p>In this second example, <code>i</code> is the index of the first character not printed (i.e., one past the end), and since I assume you don't want a zero-length string printed, the counting starts at 2.</p>\n"}],"owner":{"account_id":2173513,"reputation":379,"user_id":1924813,"display_name":"user1924813"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70741832,"answer_count":3,"score":0,"last_activity_date":1642425009,"creation_date":1642423954,"question_id":70741677,"body_markdown":"I wrote some code in Java, but am having trouble making the character output in Console panel all on one line...\r\n\r\nHere&#39;s the code\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString sample = (&quot;Hello World!&quot;);\r\n\t\tList&lt;Character&gt; colors = new ArrayList&lt;&gt;();\r\n\t\tfor(int i=0;i&lt;sample.length();i++) {\r\n\t\t\r\n\t\tcolors.add(sample.charAt(i);\r\n\t\tSystem.out.println(colors);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe out put when I run the code is like this:\r\n\r\n```\r\n[H]\r\n[H, e]\r\n[H, e, l]\r\n[H, e, l, l]\r\n[H, e, l, l, o]\r\n[H, e, l, l, o,  ]\r\n[H, e, l, l, o,  , W]\r\n[H, e, l, l, o,  , W, o]\r\n[H, e, l, l, o,  , W, o, r]\r\n[H, e, l, l, o,  , W, o, r, l]\r\n[H, e, l, l, o,  , W, o, r, l, d]\r\n[H, e, l, l, o,  , W, o, r, l, d, !]\r\n```\r\n\r\nAny help greatly appreciated...\r\n","title":"Is there a way to get separate line characters in an array to output in the console panel on one line?","body":"<p>I wrote some code in Java, but am having trouble making the character output in Console panel all on one line...</p>\n<p>Here's the code</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        String sample = (&quot;Hello World!&quot;);\n        List&lt;Character&gt; colors = new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;sample.length();i++) {\n        \n        colors.add(sample.charAt(i);\n        System.out.println(colors);\n        }\n    }\n}\n</code></pre>\n<p>The out put when I run the code is like this:</p>\n<pre><code>[H]\n[H, e]\n[H, e, l]\n[H, e, l, l]\n[H, e, l, l, o]\n[H, e, l, l, o,  ]\n[H, e, l, l, o,  , W]\n[H, e, l, l, o,  , W, o]\n[H, e, l, l, o,  , W, o, r]\n[H, e, l, l, o,  , W, o, r, l]\n[H, e, l, l, o,  , W, o, r, l, d]\n[H, e, l, l, o,  , W, o, r, l, d, !]\n</code></pre>\n<p>Any help greatly appreciated...</p>\n"},{"tags":["java","java-8","comparator","priority-queue","min-heap"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642397861,"creation_date":1642397861,"answer_id":70736942,"question_id":70736921,"body_markdown":"\r\n              else if(A[0]&gt;B[0]){\r\n                  return 0;\r\n              } \r\n\r\nshould be\r\n\r\n\r\n              else if(A[0] == B[0]){\r\n                  return 0;\r\n              } \r\n\r\nYou should return 0 if they&#39;re equal.","title":"Why is this minHeap implementation incorrect?","body":"<pre><code>          else if(A[0]&gt;B[0]){\n              return 0;\n          } \n</code></pre>\n<p>should be</p>\n<pre><code>          else if(A[0] == B[0]){\n              return 0;\n          } \n</code></pre>\n<p>You should return 0 if they're equal.</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642424972,"creation_date":1642398604,"answer_id":70737025,"question_id":70736921,"body_markdown":"Your condition is going to wrong way. Your condition should be **`IF(no1[0] == no2[0]) THEN return 0`**, **`IF(no1[0] &gt; no2[0]) THEN return 1 ELSE return -1`**\r\n\r\n**Change**\r\n```\r\nif(A[0] &lt; B[0])\r\n  return -1; \r\nelse if(A[0] &gt; B[0])\r\n  return 0; \r\nelse\r\n  return 1;\r\n```\r\n\r\n**To**\r\n```\r\nif(A[0] == B[0])\r\n  return 0; \r\n\r\nif(A[0] &gt; B[0])\r\n  return 1;\r\nelse\r\n  return -1; \r\n```","title":"Why is this minHeap implementation incorrect?","body":"<p>Your condition is going to wrong way. Your condition should be <strong><code>IF(no1[0] == no2[0]) THEN return 0</code></strong>, <strong><code>IF(no1[0] &gt; no2[0]) THEN return 1 ELSE return -1</code></strong></p>\n<p><strong>Change</strong></p>\n<pre><code>if(A[0] &lt; B[0])\n  return -1; \nelse if(A[0] &gt; B[0])\n  return 0; \nelse\n  return 1;\n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>if(A[0] == B[0])\n  return 0; \n\nif(A[0] &gt; B[0])\n  return 1;\nelse\n  return -1; \n</code></pre>\n"}],"owner":{"account_id":22338831,"reputation":41,"user_id":16558909,"display_name":"calvinhobbes123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642424972,"creation_date":1642397623,"question_id":70736921,"body_markdown":"I am using a PriorityQueue to solve the Meeting Rooms II problem from Leetcode. I have developed my own solution that fails on certain test cases, yet from my eyes it is indistinguishable from the provided solution, yet that solution passes all tests. What is the difference between the two? The main difference I see is with the passed comparator to the minHeap, but my understanding was that a PriorityQueue by default would keep the smallest number at the head.\r\n\r\nGiven Solution:\r\n```class Solution {\r\n    public int minMeetingRooms(int[][] intervals) {\r\n        \r\n    // Check for the base case. If there are no intervals, return 0\r\n    if (intervals.length == 0) {\r\n      return 0;\r\n    }\r\n\r\n    // Min heap\r\n    PriorityQueue&lt;Integer&gt; allocator =\r\n        new PriorityQueue&lt;Integer&gt;(\r\n            intervals.length,\r\n            new Comparator&lt;Integer&gt;() {\r\n              public int compare(Integer a, Integer b) {\r\n                return a - b;\r\n              }\r\n            });\r\n\r\n    // Sort the intervals by start time\r\n    Arrays.sort(\r\n        intervals,\r\n        new Comparator&lt;int[]&gt;() {\r\n          public int compare(final int[] a, final int[] b) {\r\n            return a[0] - b[0];\r\n          }\r\n        });\r\n\r\n    // Add the first meeting\r\n    allocator.add(intervals[0][1]);\r\n\r\n    // Iterate over remaining intervals\r\n    for (int i = 1; i &lt; intervals.length; i++) {\r\n\r\n      // If the room due to free up the earliest is free, assign that room to this meeting.\r\n      if (intervals[i][0] &gt;= allocator.peek()) {\r\n        allocator.poll();\r\n      }\r\n\r\n      // If a new room is to be assigned, then also we add to the heap,\r\n      // If an old room is allocated, then also we have to add to the heap with updated end time.\r\n      allocator.add(intervals[i][1]);\r\n    }\r\n\r\n    // The size of the heap tells us the minimum rooms required for all the meetings.\r\n    return allocator.size();\r\n  }\r\n}\r\n```\r\nMy Implementation:\r\n```class Solution {\r\n    public int minMeetingRooms(int[][] intervals) {\r\n        if (intervals.length == 0) {\r\n            return 0;\r\n        }\r\n        Comparator&lt;int[]&gt; comp = new Comparator&lt;int[]&gt;(){\r\n          public int compare(int[] A, int[] B){\r\n              if(A[0]&lt;B[0]){\r\n                 return -1; \r\n              }\r\n              else if(A[0]&gt;B[0]){\r\n                  return 0;\r\n              } \r\n              else{\r\n                  return 1;\r\n              } \r\n          }  \r\n        };\r\n        Arrays.sort(intervals, comp);\r\n        PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\r\n        minHeap.add(intervals[0][1]);\r\n        for(int i = 1; i&lt;intervals.length; i++){   \r\n            if(intervals[i][0] &gt;= minHeap.peek()){\r\n                minHeap.poll();\r\n            }\r\n            minHeap.add(intervals[i][1]);\r\n        }\r\n        return minHeap.size();\r\n    }\r\n}\r\n```","title":"Why is this minHeap implementation incorrect?","body":"<p>I am using a PriorityQueue to solve the Meeting Rooms II problem from Leetcode. I have developed my own solution that fails on certain test cases, yet from my eyes it is indistinguishable from the provided solution, yet that solution passes all tests. What is the difference between the two? The main difference I see is with the passed comparator to the minHeap, but my understanding was that a PriorityQueue by default would keep the smallest number at the head.</p>\n<p>Given Solution:</p>\n<pre><code>    public int minMeetingRooms(int[][] intervals) {\n        \n    // Check for the base case. If there are no intervals, return 0\n    if (intervals.length == 0) {\n      return 0;\n    }\n\n    // Min heap\n    PriorityQueue&lt;Integer&gt; allocator =\n        new PriorityQueue&lt;Integer&gt;(\n            intervals.length,\n            new Comparator&lt;Integer&gt;() {\n              public int compare(Integer a, Integer b) {\n                return a - b;\n              }\n            });\n\n    // Sort the intervals by start time\n    Arrays.sort(\n        intervals,\n        new Comparator&lt;int[]&gt;() {\n          public int compare(final int[] a, final int[] b) {\n            return a[0] - b[0];\n          }\n        });\n\n    // Add the first meeting\n    allocator.add(intervals[0][1]);\n\n    // Iterate over remaining intervals\n    for (int i = 1; i &lt; intervals.length; i++) {\n\n      // If the room due to free up the earliest is free, assign that room to this meeting.\n      if (intervals[i][0] &gt;= allocator.peek()) {\n        allocator.poll();\n      }\n\n      // If a new room is to be assigned, then also we add to the heap,\n      // If an old room is allocated, then also we have to add to the heap with updated end time.\n      allocator.add(intervals[i][1]);\n    }\n\n    // The size of the heap tells us the minimum rooms required for all the meetings.\n    return allocator.size();\n  }\n}\n</code></pre>\n<p>My Implementation:</p>\n<pre><code>    public int minMeetingRooms(int[][] intervals) {\n        if (intervals.length == 0) {\n            return 0;\n        }\n        Comparator&lt;int[]&gt; comp = new Comparator&lt;int[]&gt;(){\n          public int compare(int[] A, int[] B){\n              if(A[0]&lt;B[0]){\n                 return -1; \n              }\n              else if(A[0]&gt;B[0]){\n                  return 0;\n              } \n              else{\n                  return 1;\n              } \n          }  \n        };\n        Arrays.sort(intervals, comp);\n        PriorityQueue&lt;Integer&gt; minHeap = new PriorityQueue&lt;Integer&gt;();\n        minHeap.add(intervals[0][1]);\n        for(int i = 1; i&lt;intervals.length; i++){   \n            if(intervals[i][0] &gt;= minHeap.peek()){\n                minHeap.poll();\n            }\n            minHeap.add(intervals[i][1]);\n        }\n        return minHeap.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1642417496,"post_id":70740210,"comment_id":125056908,"body_markdown":"Take a look at the java.time package and classes such as LocalDate and methods such as [`isBefore`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-)","body":"Take a look at the java.time package and classes such as LocalDate and methods such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>"},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1642417829,"post_id":70740210,"comment_id":125057017,"body_markdown":"@f1sh, yes that&#39;s what I&#39;m using, but my issue is more with year for example when the second month is in the next year","body":"@f1sh, yes that&#39;s what I&#39;m using, but my issue is more with year for example when the second month is in the next year"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1642433053,"post_id":70740210,"comment_id":125063388,"body_markdown":"@Cesar There is no “next year” when dealing with month-day.","body":"@Cesar There is no “next year” when dealing with month-day."},{"owner":{"account_id":12250884,"reputation":2900,"user_id":8941307,"display_name":"Pieterjan"},"score":0,"creation_date":1682084075,"post_id":70740210,"comment_id":134164384,"body_markdown":"The best way to do a season-check is by splitting the period at Newyear. Then you simply set all year numbers to 2000 and check if the date is within one of both ranges. EG winter (2022/12/21 - 2023/03/20) - year numbers are different so we split it - (2000/12/21 - 2000/12/31 and 2000/01/01 - 2000/03/20) - Now check if Christmas 2000/12/25 is within one of these ranges. Example code [here](https://github.com/MintPlayer/MintPlayer.SeasonChecker/blob/master/MintPlayer.SeasonChecker/SeasonChecker.cs#L87-L124)","body":"The best way to do a season-check is by splitting the period at Newyear. Then you simply set all year numbers to 2000 and check if the date is within one of both ranges. EG winter (2022/12/21 - 2023/03/20) - year numbers are different so we split it - (2000/12/21 - 2000/12/31 and 2000/01/01 - 2000/03/20) - Now check if Christmas 2000/12/25 is within one of these ranges. Example code <a href=\"https://github.com/MintPlayer/MintPlayer.SeasonChecker/blob/master/MintPlayer.SeasonChecker/SeasonChecker.cs#L87-L124\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642419884,"creation_date":1642418312,"answer_id":70740479,"question_id":70740210,"body_markdown":"Thats one way of doing it:\r\n\r\n```\r\nboolean isDateBetween(String dateToTest, String lowerDate, String upperDate) {\r\n    int anyYear = 2000;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n    LocalDate d1 = LocalDate.parse(lowerDate + &quot;/&quot; + anyYear, formatter);\r\n    LocalDate d2 = LocalDate.parse(upperDate + &quot;/&quot; + anyYear, formatter);\r\n    if (d2.isBefore(d1)) {\r\n      d1 = d1.minusYears(1);\r\n    }\r\n    LocalDate testDate = LocalDate.parse(dateToTest + &quot;/&quot; + anyYear, formatter);\r\n    return testDate.isEqual(d1) || testDate.isAfter(d1) &amp;&amp; (testDate.isEqual(d2) || testDate.isBefore(d2));\r\n  }\r\n```\r\n\r\nTest:\r\n\r\n```\r\n    boolean result1 = isDateBetween(&quot;17/01&quot;, &quot;01/11&quot;, &quot;19/01&quot;);\r\n    boolean result2 = isDateBetween(&quot;17/01&quot;, &quot;06/06&quot;, &quot;07/08&quot;);\r\n    System.out.println(result1);\r\n    System.out.println(result2);\r\n```\r\n\r\nPrints:\r\n\r\n```\r\ntrue\r\nfalse\r\n```\r\n\r\nHaven&#39;t tested it properly, but it should work.","title":"Calculate if today date between 2 other dates - But only with day and month","body":"<p>Thats one way of doing it:</p>\n<pre><code>boolean isDateBetween(String dateToTest, String lowerDate, String upperDate) {\n    int anyYear = 2000;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n    LocalDate d1 = LocalDate.parse(lowerDate + &quot;/&quot; + anyYear, formatter);\n    LocalDate d2 = LocalDate.parse(upperDate + &quot;/&quot; + anyYear, formatter);\n    if (d2.isBefore(d1)) {\n      d1 = d1.minusYears(1);\n    }\n    LocalDate testDate = LocalDate.parse(dateToTest + &quot;/&quot; + anyYear, formatter);\n    return testDate.isEqual(d1) || testDate.isAfter(d1) &amp;&amp; (testDate.isEqual(d2) || testDate.isBefore(d2));\n  }\n</code></pre>\n<p>Test:</p>\n<pre><code>    boolean result1 = isDateBetween(&quot;17/01&quot;, &quot;01/11&quot;, &quot;19/01&quot;);\n    boolean result2 = isDateBetween(&quot;17/01&quot;, &quot;06/06&quot;, &quot;07/08&quot;);\n    System.out.println(result1);\n    System.out.println(result2);\n</code></pre>\n<p>Prints:</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>Haven't tested it properly, but it should work.</p>\n"},{"tags":[],"owner":{"account_id":3866220,"reputation":39,"user_id":3202725,"display_name":"Ajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642419063,"creation_date":1642419063,"answer_id":70740638,"question_id":70740210,"body_markdown":"Extract the day and month of the 3 dates into 6 variables such as:\r\ndd1, mm1, dd2, mm2, dd3 and mm3.\r\n\r\nOnce you have those numbers, do a simple number comparison in an if statement.","title":"Calculate if today date between 2 other dates - But only with day and month","body":"<p>Extract the day and month of the 3 dates into 6 variables such as:\ndd1, mm1, dd2, mm2, dd3 and mm3.</p>\n<p>Once you have those numbers, do a simple number comparison in an if statement.</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642420903,"creation_date":1642420525,"answer_id":70740947,"question_id":70740210,"body_markdown":"Use the `java.time.MonthDay` class to represent the *dates*. It has methods like `isAfter()`, `isBefore()` and `compareTo()` to compare two instances.  \r\nOne problem is handling the case when the period covers a year change, that is, when the start date is after the end date.\r\n\r\n```` java\r\n    boolean checkInterval(String testDate, String startDate, String endDate) {\r\n        var format = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\r\n        var test = MonthDay.parse(testDate, format);\r\n        var start = MonthDay.parse(startDate, format);\r\n        var end = MonthDay.parse(endDate, format);\r\n\r\n        if (end.isBefore(start)) {\r\n            // end must be in *next* year\r\n            return !(test.isBefore(start) &amp;&amp; test.isAfter(end));\r\n        } else {\r\n            // start and end on same year\r\n            return !(test.isBefore(start) || test.isAfter(end));\r\n        }\r\n    }\r\n````\r\n\r\nSince `isAfter()` and `isBefore()` returns false if the `MonthDay`s are equal, the code is using `! isAfter()` instead of `isBefore()` and vice-versa. (`! isAfter()` will return `true` if the `MonthDay`s are equal or if the first (`this`) is **before** the argument - mathematically `x &gt;= y` is the same as `not(x &lt; y)`)","title":"Calculate if today date between 2 other dates - But only with day and month","body":"<p>Use the <code>java.time.MonthDay</code> class to represent the <em>dates</em>. It has methods like <code>isAfter()</code>, <code>isBefore()</code> and <code>compareTo()</code> to compare two instances.<br />\nOne problem is handling the case when the period covers a year change, that is, when the start date is after the end date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    boolean checkInterval(String testDate, String startDate, String endDate) {\n        var format = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\n        var test = MonthDay.parse(testDate, format);\n        var start = MonthDay.parse(startDate, format);\n        var end = MonthDay.parse(endDate, format);\n\n        if (end.isBefore(start)) {\n            // end must be in *next* year\n            return !(test.isBefore(start) &amp;&amp; test.isAfter(end));\n        } else {\n            // start and end on same year\n            return !(test.isBefore(start) || test.isAfter(end));\n        }\n    }\n</code></pre>\n<p>Since <code>isAfter()</code> and <code>isBefore()</code> returns false if the <code>MonthDay</code>s are equal, the code is using <code>! isAfter()</code> instead of <code>isBefore()</code> and vice-versa. (<code>! isAfter()</code> will return <code>true</code> if the <code>MonthDay</code>s are equal or if the first (<code>this</code>) is <strong>before</strong> the argument - mathematically <code>x &gt;= y</code> is the same as <code>not(x &lt; y)</code>)</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642424827,"creation_date":1642420746,"answer_id":70740986,"question_id":70740210,"body_markdown":"When the year is omitted, the maximum span between `FirstInterval` and `SecondInterval` is 12 month.\r\n\r\nThe samples are using day/month combinations that allows the assumption that all dates are in the same year. This means that the `FirstInterval` may never be greater than `SecondInterval`, otherwise the end of the period must be in the following year.\r\n\r\nBut in that case, it is impossible to determine whether the `todayDate` fits into the period because it may belong to &quot;this&quot; year or to the &quot;following&quot; year (and we don&#39;t know which is right).\r\n\r\nSo to be able to get a deterministic output, we have to assume that all three dates are for the same year.\r\n\r\nA solution may look like this:\r\n\r\n    public final boolean isDateBetween( final String todayDate, final String firstInterval, final String secondInterval ) \r\n    {\r\n      var formatter = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\r\n      var lowerRange = MonthDay.parse( firstInterval, formatter );\r\n      var upperRange = MonthDay.parse( secondInterval, formatter );\r\n      if( !upperRange.isAfter( lowerRange ) ) throw new Error();\r\n      var testDate = MonthDay.parse( todayDate, formatter );\r\n    \r\n      var retValue = !testDate.isBefore( lowerRange ) &amp;&amp; !testDate.isAfter( upperRange );\r\n    \r\n      return retValue;\r\n    }\r\n\r\nOf course, a proper error handling is missing here and needs to be added.\r\n\r\nBut let&#39;s assume that the time range has a meaning like &quot;Season of the Year&quot;, and we want to know if a `todayDate` is in Winter or not.\r\n\r\nSuch a solution may look like this:\r\n\r\n    public final boolean isDayInSeason( final String today, final String begin, final String end ) \r\n    {\r\n      boolean retValue = false;\r\n      var formatter = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\r\n      var lowerRange = MonthDay.parse( begin, formatter );\r\n      var upperRange = MonthDay.parse( end, formatter );\r\n      if( !upperRange.isAfter( lowerRange ) )\r\n      {\r\n         retValue = isDayInSeason( today, lowerRange, &quot;31/12&quot; ) || isDayInSeason( today, &quot;01/01&quot;, upperRange );\r\n      }\r\n      else\r\n      {\r\n         var testDate = MonthDay.parse( todayDate, formatter );\r\n         retValue = !testDate.isBefore( lowerRange ) &amp;&amp; !testDate.isAfter( upperRange );\r\n      }\r\n      return retValue;\r\n    }\r\n\r\n","title":"Calculate if today date between 2 other dates - But only with day and month","body":"<p>When the year is omitted, the maximum span between <code>FirstInterval</code> and <code>SecondInterval</code> is 12 month.</p>\n<p>The samples are using day/month combinations that allows the assumption that all dates are in the same year. This means that the <code>FirstInterval</code> may never be greater than <code>SecondInterval</code>, otherwise the end of the period must be in the following year.</p>\n<p>But in that case, it is impossible to determine whether the <code>todayDate</code> fits into the period because it may belong to &quot;this&quot; year or to the &quot;following&quot; year (and we don't know which is right).</p>\n<p>So to be able to get a deterministic output, we have to assume that all three dates are for the same year.</p>\n<p>A solution may look like this:</p>\n<pre><code>public final boolean isDateBetween( final String todayDate, final String firstInterval, final String secondInterval ) \n{\n  var formatter = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\n  var lowerRange = MonthDay.parse( firstInterval, formatter );\n  var upperRange = MonthDay.parse( secondInterval, formatter );\n  if( !upperRange.isAfter( lowerRange ) ) throw new Error();\n  var testDate = MonthDay.parse( todayDate, formatter );\n\n  var retValue = !testDate.isBefore( lowerRange ) &amp;&amp; !testDate.isAfter( upperRange );\n\n  return retValue;\n}\n</code></pre>\n<p>Of course, a proper error handling is missing here and needs to be added.</p>\n<p>But let's assume that the time range has a meaning like &quot;Season of the Year&quot;, and we want to know if a <code>todayDate</code> is in Winter or not.</p>\n<p>Such a solution may look like this:</p>\n<pre><code>public final boolean isDayInSeason( final String today, final String begin, final String end ) \n{\n  boolean retValue = false;\n  var formatter = DateTimeFormatter.ofPattern(&quot;dd/MM&quot;);\n  var lowerRange = MonthDay.parse( begin, formatter );\n  var upperRange = MonthDay.parse( end, formatter );\n  if( !upperRange.isAfter( lowerRange ) )\n  {\n     retValue = isDayInSeason( today, lowerRange, &quot;31/12&quot; ) || isDayInSeason( today, &quot;01/01&quot;, upperRange );\n  }\n  else\n  {\n     var testDate = MonthDay.parse( todayDate, formatter );\n     retValue = !testDate.isBefore( lowerRange ) &amp;&amp; !testDate.isAfter( upperRange );\n  }\n  return retValue;\n}\n</code></pre>\n"}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642769633,"accepted_answer_id":70740479,"answer_count":4,"score":0,"last_activity_date":1642424827,"creation_date":1642417116,"question_id":70740210,"body_markdown":"I&#39;m in a weird situation,\r\nI want to calculate if a date is between 2 other date, but only with day and month.\r\n\r\nExample (with dd/mm) : \r\n\r\n - today date : 17/01\r\n - FirstInterval : 01/11\r\n - SecondInterval : 19/01\r\n\r\nShould be TRUE.\r\n\r\nAnd this example :\r\n - today date : 17/01\r\n - FirstInterval : 06/06\r\n - SecondInterval : 08/08\r\n\r\nShould be FALSE\r\n\r\nIs there a simple method to deal with this ? I don&#39;t really know how to deal with years with those dates.\r\n\r\nThanks","title":"Calculate if today date between 2 other dates - But only with day and month","body":"<p>I'm in a weird situation,\nI want to calculate if a date is between 2 other date, but only with day and month.</p>\n<p>Example (with dd/mm) :</p>\n<ul>\n<li>today date : 17/01</li>\n<li>FirstInterval : 01/11</li>\n<li>SecondInterval : 19/01</li>\n</ul>\n<p>Should be TRUE.</p>\n<p>And this example :</p>\n<ul>\n<li>today date : 17/01</li>\n<li>FirstInterval : 06/06</li>\n<li>SecondInterval : 08/08</li>\n</ul>\n<p>Should be FALSE</p>\n<p>Is there a simple method to deal with this ? I don't really know how to deal with years with those dates.</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","logging","log4j","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":23965923,"reputation":1,"user_id":17955431,"display_name":"Phillip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642424745,"creation_date":1642424745,"answer_id":70741855,"question_id":70741782,"body_markdown":"From the error it looks like your imports are incorrect, since v2 it should be import `org.apache.logging.log4j.Logger;` I believe.","title":"java.lang.ClassNotFoundException: org.apache.log4j.Logger - Eclipse still searching for old class after upgrading from version 1 to 2.17.0","body":"<p>From the error it looks like your imports are incorrect, since v2 it should be import <code>org.apache.logging.log4j.Logger;</code> I believe.</p>\n"}],"owner":{"account_id":16209378,"reputation":31,"user_id":11703807,"display_name":"Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642424745,"creation_date":1642424414,"question_id":70741782,"body_markdown":"I am working on a Dynamic Web Project in Eclipse and I have recently upgraded log4j from version 1 to the latest version i.e 2.17.0. I have also made all the changes in code according to new Jar file. \r\n\r\nNow I am facing a strange issue, whenever I try to download a pdf, it throws this exception\r\n\r\n&quot;java.lang.NoClassDefFoundError: org/apache/log4j/Logger] with root cause\r\njava.lang.ClassNotFoundException: org.apache.log4j.Logger&quot;\r\n\r\nI am using the log.4j library in a lot of different places and it&#39;s working fine. Except for this one place where the code tries to find the old class of log4j. \r\n\r\nHere&#39;s my code, it is throwing an error on this line &quot;PDDocument.load(f);&quot;\r\n\r\n\tpublic static boolean merge(List&lt;File&gt; PDFFiles, File targetFile){\r\n\t\tPDFMergerUtility ut = new PDFMergerUtility();\r\n\t\tut.setDestinationFileName(targetFile.getAbsolutePath());\r\n\t\tfor (File f : PDFFiles) {\r\n\t\t\ttry {\r\n\t\t\t\tPDDocument.load(f);\r\n\t\t\t\tut.addSource(f);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tlgr.error(e);\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tut.mergeDocuments();\r\n\t\t} catch (COSVisitorException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tlgr.error(e);\r\n\r\n\t\t\treturn false;\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tlgr.error(e);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}","title":"java.lang.ClassNotFoundException: org.apache.log4j.Logger - Eclipse still searching for old class after upgrading from version 1 to 2.17.0","body":"<p>I am working on a Dynamic Web Project in Eclipse and I have recently upgraded log4j from version 1 to the latest version i.e 2.17.0. I have also made all the changes in code according to new Jar file.</p>\n<p>Now I am facing a strange issue, whenever I try to download a pdf, it throws this exception</p>\n<p>&quot;java.lang.NoClassDefFoundError: org/apache/log4j/Logger] with root cause\njava.lang.ClassNotFoundException: org.apache.log4j.Logger&quot;</p>\n<p>I am using the log.4j library in a lot of different places and it's working fine. Except for this one place where the code tries to find the old class of log4j.</p>\n<p>Here's my code, it is throwing an error on this line &quot;PDDocument.load(f);&quot;</p>\n<pre><code>public static boolean merge(List&lt;File&gt; PDFFiles, File targetFile){\n    PDFMergerUtility ut = new PDFMergerUtility();\n    ut.setDestinationFileName(targetFile.getAbsolutePath());\n    for (File f : PDFFiles) {\n        try {\n            PDDocument.load(f);\n            ut.addSource(f);\n        } catch (IOException e) {\n            lgr.error(e);\n\n        }\n        \n    }\n    try {\n        ut.mergeDocuments();\n    } catch (COSVisitorException e) {\n        // TODO Auto-generated catch block\n        lgr.error(e);\n\n        return false;\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        lgr.error(e);\n\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","android","api"],"answers":[{"tags":[],"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642424514,"creation_date":1642424514,"answer_id":70741804,"question_id":70739022,"body_markdown":"I think you have two problems here.   \r\n\r\nHere&#39;s the [documentation][1] for the api endpoint you&#39;re using. Notice that the API Key parameter is ``apikey`` not ``api_key``.\r\n\r\nThe other problem is that you cannot use a random string as an api key. An API key purpose is for the api provider to be able to authorise, limit and eventually bill your api usage. You need to use the api key which was provided to you by accuweather upon creating an account with them. Here is [their pricing and packages page][2].\r\n\r\nYou can read more on the topic [here][3].\r\n\r\n\r\n  [1]: https://developer.accuweather.com/accuweather-forecast-api/apis/get/forecasts/v1/daily/5day/%7BlocationKey%7D\r\n  [2]: https://developer.accuweather.com/packages\r\n  [3]: https://www.fortinet.com/resources/cyberglossary/api-key","title":"API is not working while doing apk from tutorial. &quot;errorcode&quot;:&quot;steps.oauth.v2.FailedToResolveAPIKey&quot;","body":"<p>I think you have two problems here.</p>\n<p>Here's the <a href=\"https://developer.accuweather.com/accuweather-forecast-api/apis/get/forecasts/v1/daily/5day/%7BlocationKey%7D\" rel=\"nofollow noreferrer\">documentation</a> for the api endpoint you're using. Notice that the API Key parameter is <code>apikey</code> not <code>api_key</code>.</p>\n<p>The other problem is that you cannot use a random string as an api key. An API key purpose is for the api provider to be able to authorise, limit and eventually bill your api usage. You need to use the api key which was provided to you by accuweather upon creating an account with them. Here is <a href=\"https://developer.accuweather.com/packages\" rel=\"nofollow noreferrer\">their pricing and packages page</a>.</p>\n<p>You can read more on the topic <a href=\"https://www.fortinet.com/resources/cyberglossary/api-key\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":23963419,"reputation":3,"user_id":17953217,"display_name":"PanG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70741804,"answer_count":1,"score":0,"last_activity_date":1642424514,"creation_date":1642411358,"question_id":70739022,"body_markdown":"I am doing an application from this tutorial: https://youtu.be/xi94n-gwpWA\r\nApk shows 5day weather for specific location.\r\n\r\nI am using AccuWeather API (https://developer.accuweather.com/)\r\n\r\nI&#39;ve done all the same as it is on the video and when I compile the apk it is all ok, but when I click on link generated after I run my apk as it is on the vid (01:15, link above) it gives me an error:\r\n\r\n    {&quot;fault&quot;:{&quot;faultstring&quot;:&quot;Failed to resolve API Key variable request.queryparam.apikey&quot;,&quot;detail&quot;:{&quot;errorcode&quot;:&quot;steps.oauth.v2.FailedToResolveAPIKey&quot;}}}\r\n\r\nIt should be data in JSON generated by an API instead of that error.\r\n\r\nThis is my code:\r\n\r\n    package com.example.pogoda;\r\n\r\n    import android.net.Uri;\r\n    import android.util.Log;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.Scanner;\r\n\r\n    public class NetworkUtils {\r\n    private static final String TAG = &quot;NetworkUtils&quot;;\r\n        private final static String WEATHERDB_BASE_URL=\r\n            &quot;http://dataservice.accuweather.com/forecasts/v1/daily/5day/1385520&quot;;\r\n\r\n        private final static String API_KEY = &quot;here is my api key&quot;;\r\n\r\n        private final static String PARAM_API_KEY = &quot;api_key&quot;;\r\n\r\n        public static URL buildUrlForWeather(){\r\n            Uri builtUri = Uri.parse(WEATHERDB_BASE_URL).buildUpon()\r\n                .appendQueryParameter(PARAM_API_KEY, API_KEY)\r\n                .build();\r\n\r\n            URL url = null;\r\n            try {\r\n                url= new URL(builtUri.toString());\r\n            }catch (MalformedURLException e)    {\r\n                e.printStackTrace();\r\n            }\r\n\r\n             Log.i(TAG, &quot;buildUrlForWeather: url: &quot;+url);\r\n            return url;\r\n\r\n    }\r\n\r\n    public static String getResponseFromHttpUrl(URL url) throws IOException {\r\n        HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n        try {\r\n            InputStream in = urlConnection.getInputStream();\r\n\r\n            Scanner scanner = new Scanner(in);\r\n            scanner.useDelimiter(&quot;\\\\A&quot;);\r\n\r\n            boolean hasInput = scanner.hasNext();\r\n            if(hasInput) {\r\n                return scanner.next();\r\n            }else {\r\n                return null;\r\n            }\r\n        } finally {\r\n            urlConnection.disconnect();\r\n        }\r\n    }\r\n\r\nIf something is not really clear for you guys, ask questions please. As it is my first post here I may made some mistakes.","title":"API is not working while doing apk from tutorial. &quot;errorcode&quot;:&quot;steps.oauth.v2.FailedToResolveAPIKey&quot;","body":"<p>I am doing an application from this tutorial: <a href=\"https://youtu.be/xi94n-gwpWA\" rel=\"nofollow noreferrer\">https://youtu.be/xi94n-gwpWA</a>\nApk shows 5day weather for specific location.</p>\n<p>I am using AccuWeather API (<a href=\"https://developer.accuweather.com/\" rel=\"nofollow noreferrer\">https://developer.accuweather.com/</a>)</p>\n<p>I've done all the same as it is on the video and when I compile the apk it is all ok, but when I click on link generated after I run my apk as it is on the vid (01:15, link above) it gives me an error:</p>\n<pre><code>{&quot;fault&quot;:{&quot;faultstring&quot;:&quot;Failed to resolve API Key variable request.queryparam.apikey&quot;,&quot;detail&quot;:{&quot;errorcode&quot;:&quot;steps.oauth.v2.FailedToResolveAPIKey&quot;}}}\n</code></pre>\n<p>It should be data in JSON generated by an API instead of that error.</p>\n<p>This is my code:</p>\n<pre><code>package com.example.pogoda;\n\nimport android.net.Uri;\nimport android.util.Log;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Scanner;\n\npublic class NetworkUtils {\nprivate static final String TAG = &quot;NetworkUtils&quot;;\n    private final static String WEATHERDB_BASE_URL=\n        &quot;http://dataservice.accuweather.com/forecasts/v1/daily/5day/1385520&quot;;\n\n    private final static String API_KEY = &quot;here is my api key&quot;;\n\n    private final static String PARAM_API_KEY = &quot;api_key&quot;;\n\n    public static URL buildUrlForWeather(){\n        Uri builtUri = Uri.parse(WEATHERDB_BASE_URL).buildUpon()\n            .appendQueryParameter(PARAM_API_KEY, API_KEY)\n            .build();\n\n        URL url = null;\n        try {\n            url= new URL(builtUri.toString());\n        }catch (MalformedURLException e)    {\n            e.printStackTrace();\n        }\n\n         Log.i(TAG, &quot;buildUrlForWeather: url: &quot;+url);\n        return url;\n\n}\n\npublic static String getResponseFromHttpUrl(URL url) throws IOException {\n    HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n    try {\n        InputStream in = urlConnection.getInputStream();\n\n        Scanner scanner = new Scanner(in);\n        scanner.useDelimiter(&quot;\\\\A&quot;);\n\n        boolean hasInput = scanner.hasNext();\n        if(hasInput) {\n            return scanner.next();\n        }else {\n            return null;\n        }\n    } finally {\n        urlConnection.disconnect();\n    }\n}\n</code></pre>\n<p>If something is not really clear for you guys, ask questions please. As it is my first post here I may made some mistakes.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642418082,"post_id":70740362,"comment_id":125057115,"body_markdown":"Why? What you are basically doing is adding the model to itself, which eventually will (as you noticed) lead to a stackoverflow when preparing the request. So don&#39;t do this.","body":"Why? What you are basically doing is adding the model to itself, which eventually will (as you noticed) lead to a stackoverflow when preparing the request. So don&#39;t do this."},{"owner":{"account_id":14765511,"reputation":647,"user_id":10663685,"display_name":"Nexussim Lements"},"score":0,"creation_date":1642418160,"post_id":70740362,"comment_id":125057156,"body_markdown":"My AJAX is expecting a xhr status along the view, this is why I need to return modelandview and not just a view.","body":"My AJAX is expecting a xhr status along the view, this is why I need to return modelandview and not just a view."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1642424089,"post_id":70740362,"comment_id":125059476,"body_markdown":"Where do I state that you cannot use a `ModelAndView`? But what you are doing is wrong, you are adding the model to the modelandview, and you are basically adding hte model to itself. `ModelAndView.addObject` will add that object to the model. Now what you are adding is the model. So you are basically doing `model.add(model)`...","body":"Where do I state that you cannot use a <code>ModelAndView</code>? But what you are doing is wrong, you are adding the model to the modelandview, and you are basically adding hte model to itself. <code>ModelAndView.addObject</code> will add that object to the model. Now what you are adding is the model. So you are basically doing <code>model.add(model)</code>..."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642424383,"creation_date":1642424383,"answer_id":70741777,"question_id":70740362,"body_markdown":"When you use `ModelAndView`, Spring does not expect you to manually create a `Model`.\r\n\r\nSpring expects that you set the attributes that you want for model to have directly on the model object contained inside `ModelAndView`.\r\n\r\nSo it should be\r\n\r\n    modelAndView.getModel().put(&quot;attribute1&quot;, object1);\r\n    modelAndView.getModel().put(&quot;attribute2&quot;, object2);","title":"Java Spring adding model to ModelAndView throws StackOverflowException","body":"<p>When you use <code>ModelAndView</code>, Spring does not expect you to manually create a <code>Model</code>.</p>\n<p>Spring expects that you set the attributes that you want for model to have directly on the model object contained inside <code>ModelAndView</code>.</p>\n<p>So it should be</p>\n<pre><code>modelAndView.getModel().put(&quot;attribute1&quot;, object1);\nmodelAndView.getModel().put(&quot;attribute2&quot;, object2);\n</code></pre>\n"}],"owner":{"account_id":14765511,"reputation":647,"user_id":10663685,"display_name":"Nexussim Lements"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70741777,"answer_count":1,"score":0,"last_activity_date":1642424383,"creation_date":1642417821,"question_id":70740362,"body_markdown":"Is there any way to prevent StackOverflowException when adding model into modelandview?\r\n\r\nI have a method that returns a modelandview but I&#39;ve seen that if I try to add model to modelandview it throws and StackOverflowException because Model already has modelandview, is there any way to add it without need to remove modelandview from model first?\r\n\r\n    \t((BindingAwareModelMap) model).remove(&quot;org.springframework.validation.BindingResult.modelAndView&quot;);\r\n\t\t((BindingAwareModelMap) model).remove(&quot;modelAndView&quot;);\r\n\t\tmodelAndView.addObject(model);\r\n\t\treturn modelAndView;","title":"Java Spring adding model to ModelAndView throws StackOverflowException","body":"<p>Is there any way to prevent StackOverflowException when adding model into modelandview?</p>\n<p>I have a method that returns a modelandview but I've seen that if I try to add model to modelandview it throws and StackOverflowException because Model already has modelandview, is there any way to add it without need to remove modelandview from model first?</p>\n<pre><code>    ((BindingAwareModelMap) model).remove(&quot;org.springframework.validation.BindingResult.modelAndView&quot;);\n    ((BindingAwareModelMap) model).remove(&quot;modelAndView&quot;);\n    modelAndView.addObject(model);\n    return modelAndView;\n</code></pre>\n"},{"tags":["java","spring-boot","azure-cosmosdb","azure-java-sdk"],"comments":[{"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"score":0,"creation_date":1642517078,"post_id":70713434,"comment_id":125087923,"body_markdown":"Hi DarthVader could you please share you reason for setting &quot;x-ms-max-item-count&quot;? Also, are you looking to do that in the Base java SDK and/or in reactive spring repository?","body":"Hi DarthVader could you please share you reason for setting &quot;x-ms-max-item-count&quot;? Also, are you looking to do that in the Base java SDK and/or in reactive spring repository?"},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1642522329,"post_id":70713434,"comment_id":125090324,"body_markdown":"Done it already. cause it is getting batches of 100 docs for a query. with reactive was able to do it with byPage(token, size). One caveat is that, I had to block first otherwise returns all pages.","body":"Done it already. cause it is getting batches of 100 docs for a query. with reactive was able to do it with byPage(token, size). One caveat is that, I had to block first otherwise returns all pages."}],"answers":[{"tags":[],"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642424199,"creation_date":1642424199,"answer_id":70741737,"question_id":70713434,"body_markdown":"x-ms-max-item-count cannot be directly set but can only be set using CosmosPagedFluX#byPage API in the java V4 SDK.\r\n\r\nIn non-reactive spring repository this can be set using the “pageSize” in CosmosPageRequest object. Please review the Pagination section in this [blog post][1]\r\n\r\nIn reactive spring repository there is no way of setting &quot;x-ms-max-item-count.\r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/cosmosdb/read-data-spring-azure-cosmos-db-v3/","title":"Cosmosdb spring boot sdk setting x-ms-max-item-count","body":"<p>x-ms-max-item-count cannot be directly set but can only be set using CosmosPagedFluX#byPage API in the java V4 SDK.</p>\n<p>In non-reactive spring repository this can be set using the “pageSize” in CosmosPageRequest object. Please review the Pagination section in this <a href=\"https://devblogs.microsoft.com/cosmosdb/read-data-spring-azure-cosmos-db-v3/\" rel=\"nofollow noreferrer\">blog post</a></p>\n<p>In reactive spring repository there is no way of setting &quot;x-ms-max-item-count.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70741737,"answer_count":1,"score":4,"last_activity_date":1642424199,"creation_date":1642176650,"question_id":70713434,"body_markdown":"How can I set `x-ms-max-item-count` from java sdk?\r\n\r\nis there an option to set page size to retrieve documents? currently it is limited to 100, i would like to increase it to 1000? how can i do it through the java SDK?\r\n\r\nI am using `ReactiveCosmosTemplate` and have a bean of `CosmosClientBuilder` that I configure connection and consistency level.\r\n\r\nBut I cant find the max-item-count for a query. 100 batches is very small for me, I need to increase it. How can I do that?\r\n\r\nI couldnt find it anywhere. \r\n\r\n","title":"Cosmosdb spring boot sdk setting x-ms-max-item-count","body":"<p>How can I set <code>x-ms-max-item-count</code> from java sdk?</p>\n<p>is there an option to set page size to retrieve documents? currently it is limited to 100, i would like to increase it to 1000? how can i do it through the java SDK?</p>\n<p>I am using <code>ReactiveCosmosTemplate</code> and have a bean of <code>CosmosClientBuilder</code> that I configure connection and consistency level.</p>\n<p>But I cant find the max-item-count for a query. 100 batches is very small for me, I need to increase it. How can I do that?</p>\n<p>I couldnt find it anywhere.</p>\n"},{"tags":["java","arrays","string","sorting"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1642422948,"post_id":70741446,"comment_id":125059018,"body_markdown":"Does this answer your question? [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642422972,"post_id":70741446,"comment_id":125059031,"body_markdown":"this is because you pass your instance of your array, instead of it&#39;s contents, to the println method. for arrays, there is no implementation of toString","body":"this is because you pass your instance of your array, instead of it&#39;s contents, to the println method. for arrays, there is no implementation of toString"},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1642423095,"post_id":70741446,"comment_id":125059075,"body_markdown":"by using toStirng, the square brackets and the commas will also be printed but i want the output as a string. what should i do?","body":"by using toStirng, the square brackets and the commas will also be printed but i want the output as a string. what should i do?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642423231,"post_id":70741446,"comment_id":125059133,"body_markdown":"Note: You can also create a new String from your sorted char arrays and use those for printing: `System.out.print(String.valueOf(ch)+&quot; &quot;);` - which is probably what you want","body":"Note: You can also create a new String from your sorted char arrays and use those for printing: <code>System.out.print(String.valueOf(ch)+&quot; &quot;);</code> - which is probably what you want"},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1642423312,"post_id":70741446,"comment_id":125059169,"body_markdown":"@oh god spiders i did that but the output is again same","body":"@oh god spiders i did that but the output is again same"},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1642423344,"post_id":70741446,"comment_id":125059183,"body_markdown":"and pls provide an alternative if you can","body":"and pls provide an alternative if you can"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642423469,"post_id":70741446,"comment_id":125059229,"body_markdown":"I already gave you the solution. See:  https://ideone.com/4Mgoye for an example. You see there that it uses the code i told you to, with input &quot;cba abc&quot; and prints it as sorted &quot;abc abc&quot;.","body":"I already gave you the solution. See:  <a href=\"https://ideone.com/4Mgoye\" rel=\"nofollow noreferrer\">ideone.com/4Mgoye</a> for an example. You see there that it uses the code i told you to, with input &quot;cba abc&quot; and prints it as sorted &quot;abc abc&quot;."},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1642423692,"post_id":70741446,"comment_id":125059308,"body_markdown":"@oh god spiders can you explain why the output is correct when we are using String.valueOf method i havent heard of this method till now","body":"@oh god spiders can you explain why the output is correct when we are using String.valueOf method i havent heard of this method till now"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643213842,"post_id":70741446,"comment_id":125281142,"body_markdown":"@Zootopia I have code for your anagram question that just got deleted. If you could open a chat, I can share that code with you.","body":"@Zootopia I have code for your anagram question that just got deleted. If you could open a chat, I can share that code with you."},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1643216582,"post_id":70741446,"comment_id":125282506,"body_markdown":"@hfontanez thank you very much but actually i understood the problem of my code i need to sort strings and then compare them but anyways thanks","body":"@hfontanez thank you very much but actually i understood the problem of my code i need to sort strings and then compare them but anyways thanks"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643221825,"post_id":70741446,"comment_id":125284670,"body_markdown":"@Zootopia actually, you want to compare the size of the strings first. If the strings are not of equal size, they are not anagrams. Then, you need to get the `char[]` from each string and sort them. Lastly, you call `Arrays.equal(char[], char[])`. That returns a boolean value. True means they are anagrams!  Oh, and don&#39;t forget to call `toLowerCase()` before you extract the `char[]`from each string.","body":"@Zootopia actually, you want to compare the size of the strings first. If the strings are not of equal size, they are not anagrams. Then, you need to get the <code>char[]</code> from each string and sort them. Lastly, you call <code>Arrays.equal(char[], char[])</code>. That returns a boolean value. True means they are anagrams!  Oh, and don&#39;t forget to call <code>toLowerCase()</code> before you extract the <code>char[]</code>from each string."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642424188,"creation_date":1642423790,"answer_id":70741644,"question_id":70741446,"body_markdown":"When you are trying to print ,\r\n\r\n     System.out.print(ch+&quot; &quot;);\r\n\r\nthis will print the default implementation of the toString method of the Object class( unless you override the toString method present for arrays) \r\n\r\nTo solve your problem, you can first convert it into string and print. \r\n \r\n\r\n    Scanner sc=new Scanner(System.in);\r\n               System.out.println(&quot;Enter the string&quot;);\r\n               String str=sc.nextLine();\r\n               String arr[]=str.split(&quot; &quot;);\r\n               int l=arr.length;\r\n               for(int i=0;i&lt;l;i++)\r\n               {\r\n                   String w=arr[i];\r\n                   char ch[]=w.toCharArray();\r\n                   Arrays.sort(ch);\r\n                   System.out.print(new String(ch)+&quot; &quot;);\r\n                }\r\n\r\nwhich gives the required output \r\n\r\n    Enter the string\r\n    your eyes\r\n    oruy eesy \r\n\r\n","title":"An unexpected error in a sorting program in java","body":"<p>When you are trying to print ,</p>\n<pre><code> System.out.print(ch+&quot; &quot;);\n</code></pre>\n<p>this will print the default implementation of the toString method of the Object class( unless you override the toString method present for arrays)</p>\n<p>To solve your problem, you can first convert it into string and print.</p>\n<pre><code>Scanner sc=new Scanner(System.in);\n           System.out.println(&quot;Enter the string&quot;);\n           String str=sc.nextLine();\n           String arr[]=str.split(&quot; &quot;);\n           int l=arr.length;\n           for(int i=0;i&lt;l;i++)\n           {\n               String w=arr[i];\n               char ch[]=w.toCharArray();\n               Arrays.sort(ch);\n               System.out.print(new String(ch)+&quot; &quot;);\n            }\n</code></pre>\n<p>which gives the required output</p>\n<pre><code>Enter the string\nyour eyes\noruy eesy \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642423905,"creation_date":1642423905,"answer_id":70741666,"question_id":70741446,"body_markdown":"The easiest way to achieve what you want is to construct a new String from your sorted char array and print that String:\r\n\r\n    System.out.print(String.valueOf(ch)+&quot; &quot;);\r\n\r\nSee: https://ideone.com/4Mgoye\r\nfor an example.\r\n\r\nArrays by default do not provide an override for the toString() method and will use the default implementation of java.lang.Object - See [How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?](https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4) for more background information on this.\r\n\r\nWhile Strings themself of course can get printed without problems, so using Sting.valueOf to generate a String from your char array will allow you to print that String without much hassle.","title":"An unexpected error in a sorting program in java","body":"<p>The easiest way to achieve what you want is to construct a new String from your sorted char array and print that String:</p>\n<pre><code>System.out.print(String.valueOf(ch)+&quot; &quot;);\n</code></pre>\n<p>See: <a href=\"https://ideone.com/4Mgoye\" rel=\"nofollow noreferrer\">https://ideone.com/4Mgoye</a>\nfor an example.</p>\n<p>Arrays by default do not provide an override for the toString() method and will use the default implementation of java.lang.Object - See <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\">How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?</a> for more background information on this.</p>\n<p>While Strings themself of course can get printed without problems, so using Sting.valueOf to generate a String from your char array will allow you to print that String without much hassle.</p>\n"}],"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642423981,"accepted_answer_id":70741666,"answer_count":2,"score":1,"last_activity_date":1642424188,"creation_date":1642422892,"question_id":70741446,"body_markdown":"This is a program to sort every word in a sentence in ascending order.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    class sorteveryword\r\n       {\r\n           void main()\r\n           {\r\n               Scanner sc=new Scanner(System.in);\r\n               System.out.println(&quot;Enter the string&quot;);\r\n               String str=sc.nextLine();\r\n               String arr[]=str.split(&quot; &quot;);\r\n               int l=arr.length;\r\n               for(int i=0;i&lt;l;i++)\r\n               {\r\n                   String w=arr[i];\r\n                   char ch[]=w.toCharArray();\r\n                   Arrays.sort(ch);\r\n                   System.out.print(ch+&quot; &quot;);\r\n                }\r\n            }    \r\n        }   \r\n\r\nThis code seems perfect to me but when I am printing something it is showing this output.\r\n\r\n    Enter the string\r\n    ab bc\r\n    [C@55fba33b [C@51c42d5c \r\n\r\nI really don&#39;t know why this is happening.\r\n\r\nPlease help. And also please provide an alternative.\r\n\r\nI want the output as\r\n\r\n    Enter the string\r\n    your eyes\r\n    oruy eesy","title":"An unexpected error in a sorting program in java","body":"<p>This is a program to sort every word in a sentence in ascending order.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nclass sorteveryword\n   {\n       void main()\n       {\n           Scanner sc=new Scanner(System.in);\n           System.out.println(&quot;Enter the string&quot;);\n           String str=sc.nextLine();\n           String arr[]=str.split(&quot; &quot;);\n           int l=arr.length;\n           for(int i=0;i&lt;l;i++)\n           {\n               String w=arr[i];\n               char ch[]=w.toCharArray();\n               Arrays.sort(ch);\n               System.out.print(ch+&quot; &quot;);\n            }\n        }    \n    }   \n</code></pre>\n<p>This code seems perfect to me but when I am printing something it is showing this output.</p>\n<pre><code>Enter the string\nab bc\n[C@55fba33b [C@51c42d5c \n</code></pre>\n<p>I really don't know why this is happening.</p>\n<p>Please help. And also please provide an alternative.</p>\n<p>I want the output as</p>\n<pre><code>Enter the string\nyour eyes\noruy eesy\n</code></pre>\n"},{"tags":["java","jboss","resteasy"],"answers":[{"tags":[],"owner":{"account_id":7167552,"reputation":869,"user_id":5476186,"display_name":"Austin Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616116300,"creation_date":1616116300,"answer_id":66701270,"question_id":66701269,"body_markdown":"I was typing out my question and, while looking into it one last time before submitting, I found the issue and figured I&#39;d throw it out there just in case someone else has this issue.\r\n\r\nIt turns out that there is another resteasy dependency that needed to be pulled in because, otherwise, an old version is pulled in. When using the newer version of `resteasy-client`, the other dependency being pulled in was `org.jboss.resteasy:resteasy-jaxb-provider:3.9.1.Final`. I added the newer version to my pom (`org.jboss.resteasy:resteasy-jaxb-provider:4.5.9.Final`) and everything seems to now work.\r\n\r\nNot sure why this is the case. I would think if the dependency was being pulled in anyway by `resteasy-client`, it should&#39;ve been pulling in the same version.","title":"RestEasyClient IncompatibleClassChangeError (ResteasyProviderFactory.getContextData(java.lang.Class))","body":"<p>I was typing out my question and, while looking into it one last time before submitting, I found the issue and figured I'd throw it out there just in case someone else has this issue.</p>\n<p>It turns out that there is another resteasy dependency that needed to be pulled in because, otherwise, an old version is pulled in. When using the newer version of <code>resteasy-client</code>, the other dependency being pulled in was <code>org.jboss.resteasy:resteasy-jaxb-provider:3.9.1.Final</code>. I added the newer version to my pom (<code>org.jboss.resteasy:resteasy-jaxb-provider:4.5.9.Final</code>) and everything seems to now work.</p>\n<p>Not sure why this is the case. I would think if the dependency was being pulled in anyway by <code>resteasy-client</code>, it should've been pulling in the same version.</p>\n"},{"tags":[],"owner":{"account_id":5612501,"reputation":154,"user_id":4444822,"display_name":"Alberto Soto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642423570,"creation_date":1642423570,"answer_id":70741598,"question_id":66701269,"body_markdown":"We were facing the same issue and your reply really helped to find out the mistake. To let other users check the error in detail, further details are:\r\n- KC 15.* and KC16.1 uses, in their main pom.xml, resteasy version 3.*\r\n```\r\n       &lt;resteasy.version&gt;3.15.1.Final&lt;/resteasy.version&gt;\r\n        &lt;resteasy.undertow.version&gt;${resteasy.version}&lt;/resteasy.undertow.version&gt;\r\n```\r\n- When you check the version for the container in the server, you can see that, from KC16, the new Widlfly server uses resteasy v4.*\r\n- This concept causes a difference in the jars, while it has the behavior to have scope provided (but is not). As you mentioned, the solution to that is the following.\r\n\r\n```\r\n    &lt;properties&gt;        \r\n        &lt;resteasy.version&gt;4.5.9.Final&lt;/resteasy.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;&lt;/dependencyManagement&gt;\r\n```\r\n- This will force 3 main API changes to consider:\r\n\r\n```\r\n    final ResteasyClient client = new ResteasyClientBuilder()\r\n            .disableTrustManager()\r\n            .socketTimeout(60, TimeUnit.SECONDS)\r\n            .establishConnectionTimeout(10, TimeUnit.SECONDS)\r\n/// will need to change to the new methods:\r\n        final ResteasyClient client = new ResteasyClientBuilderImpl()\r\n            .disableTrustManager()\r\n            .readTimeout(60, TimeUnit.SECONDS)\r\n            .connectTimeout(10, TimeUnit.SECONDS)\r\n```\r\n- And also this change:\r\n\r\n```\r\nHttpServletResponse contextData = ResteasyProviderFactory.getContextData(HttpServletResponse.class);\r\n//Change to\r\nResteasyProviderFactory resteasyProviderFactory = ResteasyProviderFactoryImpl.getInstance();\r\nHttpServletResponse contextData = resteasyProviderFactory.getContextData(HttpServletResponse.class);\r\n```\r\n\r\nYou r previous reply help us to understand under the hood the problem, but, anyway, users shall  have more info. See the image bellow as a running KC16 container showing all related libs [![kc 16 related libs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IQOoq.png","title":"RestEasyClient IncompatibleClassChangeError (ResteasyProviderFactory.getContextData(java.lang.Class))","body":"<p>We were facing the same issue and your reply really helped to find out the mistake. To let other users check the error in detail, further details are:</p>\n<ul>\n<li>KC 15.* and KC16.1 uses, in their main pom.xml, resteasy version 3.*</li>\n</ul>\n<pre><code>       &lt;resteasy.version&gt;3.15.1.Final&lt;/resteasy.version&gt;\n        &lt;resteasy.undertow.version&gt;${resteasy.version}&lt;/resteasy.undertow.version&gt;\n</code></pre>\n<ul>\n<li>When you check the version for the container in the server, you can see that, from KC16, the new Widlfly server uses resteasy v4.*</li>\n<li>This concept causes a difference in the jars, while it has the behavior to have scope provided (but is not). As you mentioned, the solution to that is the following.</li>\n</ul>\n<pre><code>    &lt;properties&gt;        \n        &lt;resteasy.version&gt;4.5.9.Final&lt;/resteasy.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n                &lt;version&gt;${resteasy.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n           &lt;/dependencies&gt;&lt;/dependencyManagement&gt;\n</code></pre>\n<ul>\n<li>This will force 3 main API changes to consider:</li>\n</ul>\n<pre><code>    final ResteasyClient client = new ResteasyClientBuilder()\n            .disableTrustManager()\n            .socketTimeout(60, TimeUnit.SECONDS)\n            .establishConnectionTimeout(10, TimeUnit.SECONDS)\n/// will need to change to the new methods:\n        final ResteasyClient client = new ResteasyClientBuilderImpl()\n            .disableTrustManager()\n            .readTimeout(60, TimeUnit.SECONDS)\n            .connectTimeout(10, TimeUnit.SECONDS)\n</code></pre>\n<ul>\n<li>And also this change:</li>\n</ul>\n<pre><code>HttpServletResponse contextData = ResteasyProviderFactory.getContextData(HttpServletResponse.class);\n//Change to\nResteasyProviderFactory resteasyProviderFactory = ResteasyProviderFactoryImpl.getInstance();\nHttpServletResponse contextData = resteasyProviderFactory.getContextData(HttpServletResponse.class);\n</code></pre>\n<p>You r previous reply help us to understand under the hood the problem, but, anyway, users shall  have more info. See the image bellow as a running KC16 container showing all related libs <a href=\"https://i.stack.imgur.com/IQOoq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQOoq.png\" alt=\"kc 16 related libs\" /></a></p>\n"}],"owner":{"account_id":7167552,"reputation":869,"user_id":5476186,"display_name":"Austin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642423570,"creation_date":1616116300,"question_id":66701269,"body_markdown":"When using `org.jboss.resteasy:resteasy-client:4.5.9.Final`, I&#39;m getting this exception: `Caused by: java.lang.IncompatibleClassChangeError: Expected static method &#39;java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)&#39;`\r\n\r\nHowever, when I use an earlier version, it seems to work fine. (Or at least it works well enough to fool me.)\r\n\r\nHere&#39;s my simplified pom:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;example-project&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n    &lt;keycloak.version&gt;12.0.4&lt;/keycloak.version&gt;\r\n    &lt;!-- Seems to work with this version, but not 4.5.9.Final --&gt;\r\n    &lt;resteasy.version&gt;3.6.2.Final&lt;/resteasy.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n      &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here&#39;s my code:\r\n\r\n``` lang-java\r\npackage org.example.keycloak;\r\n\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport org.keycloak.OAuth2Constants;\r\nimport org.keycloak.admin.client.Keycloak;\r\nimport org.keycloak.admin.client.KeycloakBuilder;\r\n\r\npublic class KeycloakClientAuthExample {\r\n    public static void main(String[] args) {\r\n        Keycloak keycloak = KeycloakBuilder.builder()\r\n                .serverUrl(&quot;http://localhost:8080/auth&quot;)\r\n                .grantType(OAuth2Constants.PASSWORD)\r\n                .realm(&quot;DungeoneersDemo&quot;)\r\n                .clientId(&quot;dungeoneers-data&quot;)\r\n                .clientSecret(&quot;11111111-2222-3333-4444-555555555555&quot;)\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;pass&quot;)\r\n                .resteasyClient(\r\n                     // new ResteasyClientBuilderImpl() // &lt;-- For 4.5.9.Final \r\n                        new ResteasyClientBuilder()\r\n                                .connectionPoolSize(10).build()\r\n                ).build();\r\n\r\n        keycloak.tokenManager().getAccessToken();\r\n\r\n        AccessTokenResponse atr =\r\n                keycloak.tokenManager().getAccessToken();\r\n        System.out.println(atr.getToken());\r\n    }\r\n}\r\n```\r\n\r\nSeems to work and I get what looks enough to me like a bearer token: `eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2bWhhWUQ..etc...`\r\n\r\nHowever, when I update my `resteasy.version` to the a later version✳ (`4.5.9.Final`), I get an error:\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:78)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.getClientInitializedResteasyProviderFactory(RegisterBuiltin.java:54)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl.getProviderFactory(ResteasyClientBuilderImpl.java:372)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl.build(ResteasyClientBuilderImpl.java:390)\r\n\tat org.sandbox.security.openidc.keycloak.KeycloakClientAuthExample.main(KeycloakClientAuthExample.java:22)\r\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.core.providerfactory.CommonProviders.processProviderContracts(CommonProviders.java:93)\r\n\tat org.jboss.resteasy.core.providerfactory.ClientHelper.processProviderContracts(ClientHelper.java:104)\r\n\tat org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.processProviderContracts(ResteasyProviderFactoryImpl.java:841)\r\n\tat org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.registerProvider(ResteasyProviderFactoryImpl.java:829)\r\n\tat org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.registerProvider(ResteasyProviderFactoryImpl.java:816)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:109)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:74)\r\n\t... 4 more\r\nCaused by: java.lang.RuntimeException: RESTEASY003325: Failed to construct public org.jboss.resteasy.plugins.providers.jaxb.JAXBElementProvider()\r\n\tat org.jboss.resteasy.core.ConstructorInjectorImpl.constructOutsideRequest(ConstructorInjectorImpl.java:250)\r\n\tat org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:209)\r\n\tat org.jboss.resteasy.core.providerfactory.Utils.createProviderInstance(Utils.java:102)\r\n\tat org.jboss.resteasy.core.providerfactory.CommonProviders.processProviderContracts(CommonProviders.java:87)\r\n\t... 10 more\r\nCaused by: java.lang.IncompatibleClassChangeError: Expected static method &#39;java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)&#39;\r\n\tat org.jboss.resteasy.plugins.providers.jaxb.AbstractJAXBProvider.&lt;init&gt;(AbstractJAXBProvider.java:52)\r\n\tat org.jboss.resteasy.plugins.providers.jaxb.JAXBElementProvider.&lt;init&gt;(JAXBElementProvider.java:46)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\tat org.jboss.resteasy.core.ConstructorInjectorImpl.constructOutsideRequest(ConstructorInjectorImpl.java:225)\r\n\t... 13 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n✳ Note: When upgrading to the later version, `ResteasyClientBuilder` was abstracted and the constructor call needed to be replaced with `new ResteasyClientBuilderImpl()`.","title":"RestEasyClient IncompatibleClassChangeError (ResteasyProviderFactory.getContextData(java.lang.Class))","body":"<p>When using <code>org.jboss.resteasy:resteasy-client:4.5.9.Final</code>, I'm getting this exception: <code>Caused by: java.lang.IncompatibleClassChangeError: Expected static method 'java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)'</code></p>\n<p>However, when I use an earlier version, it seems to work fine. (Or at least it works well enough to fool me.)</p>\n<p>Here's my simplified pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;example-project&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;keycloak.version&gt;12.0.4&lt;/keycloak.version&gt;\n    &lt;!-- Seems to work with this version, but not 4.5.9.Final --&gt;\n    &lt;resteasy.version&gt;3.6.2.Final&lt;/resteasy.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n      &lt;version&gt;${keycloak.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n      &lt;version&gt;${resteasy.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.keycloak;\n\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\nimport org.keycloak.OAuth2Constants;\nimport org.keycloak.admin.client.Keycloak;\nimport org.keycloak.admin.client.KeycloakBuilder;\n\npublic class KeycloakClientAuthExample {\n    public static void main(String[] args) {\n        Keycloak keycloak = KeycloakBuilder.builder()\n                .serverUrl(&quot;http://localhost:8080/auth&quot;)\n                .grantType(OAuth2Constants.PASSWORD)\n                .realm(&quot;DungeoneersDemo&quot;)\n                .clientId(&quot;dungeoneers-data&quot;)\n                .clientSecret(&quot;11111111-2222-3333-4444-555555555555&quot;)\n                .username(&quot;user&quot;)\n                .password(&quot;pass&quot;)\n                .resteasyClient(\n                     // new ResteasyClientBuilderImpl() // &lt;-- For 4.5.9.Final \n                        new ResteasyClientBuilder()\n                                .connectionPoolSize(10).build()\n                ).build();\n\n        keycloak.tokenManager().getAccessToken();\n\n        AccessTokenResponse atr =\n                keycloak.tokenManager().getAccessToken();\n        System.out.println(atr.getToken());\n    }\n}\n</code></pre>\n<p>Seems to work and I get what looks enough to me like a bearer token: <code>eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2bWhhWUQ..etc...</code></p>\n<p>However, when I update my <code>resteasy.version</code> to the a later version✳ (<code>4.5.9.Final</code>), I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:78)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.getClientInitializedResteasyProviderFactory(RegisterBuiltin.java:54)\n    at org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl.getProviderFactory(ResteasyClientBuilderImpl.java:372)\n    at org.jboss.resteasy.client.jaxrs.internal.ResteasyClientBuilderImpl.build(ResteasyClientBuilderImpl.java:390)\n    at org.sandbox.security.openidc.keycloak.KeycloakClientAuthExample.main(KeycloakClientAuthExample.java:22)\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.core.providerfactory.CommonProviders.processProviderContracts(CommonProviders.java:93)\n    at org.jboss.resteasy.core.providerfactory.ClientHelper.processProviderContracts(ClientHelper.java:104)\n    at org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.processProviderContracts(ResteasyProviderFactoryImpl.java:841)\n    at org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.registerProvider(ResteasyProviderFactoryImpl.java:829)\n    at org.jboss.resteasy.core.providerfactory.ResteasyProviderFactoryImpl.registerProvider(ResteasyProviderFactoryImpl.java:816)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:109)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:74)\n    ... 4 more\nCaused by: java.lang.RuntimeException: RESTEASY003325: Failed to construct public org.jboss.resteasy.plugins.providers.jaxb.JAXBElementProvider()\n    at org.jboss.resteasy.core.ConstructorInjectorImpl.constructOutsideRequest(ConstructorInjectorImpl.java:250)\n    at org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:209)\n    at org.jboss.resteasy.core.providerfactory.Utils.createProviderInstance(Utils.java:102)\n    at org.jboss.resteasy.core.providerfactory.CommonProviders.processProviderContracts(CommonProviders.java:87)\n    ... 10 more\nCaused by: java.lang.IncompatibleClassChangeError: Expected static method 'java.lang.Object org.jboss.resteasy.spi.ResteasyProviderFactory.getContextData(java.lang.Class)'\n    at org.jboss.resteasy.plugins.providers.jaxb.AbstractJAXBProvider.&lt;init&gt;(AbstractJAXBProvider.java:52)\n    at org.jboss.resteasy.plugins.providers.jaxb.JAXBElementProvider.&lt;init&gt;(JAXBElementProvider.java:46)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\n    at org.jboss.resteasy.core.ConstructorInjectorImpl.constructOutsideRequest(ConstructorInjectorImpl.java:225)\n    ... 13 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>✳ Note: When upgrading to the later version, <code>ResteasyClientBuilder</code> was abstracted and the constructor call needed to be replaced with <code>new ResteasyClientBuilderImpl()</code>.</p>\n"},{"tags":["java","jsp","heroku","servlets","tomcat9"],"comments":[{"owner":{"account_id":13570044,"reputation":412,"user_id":9789035,"display_name":"Gabriel Garc&#237;a Garrido"},"score":0,"creation_date":1643824607,"post_id":69050214,"comment_id":125444173,"body_markdown":"same error for me, And I have an installation script and it was working with the same command one month ago","body":"same error for me, And I have an installation script and it was working with the same command one month ago"},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1643913479,"post_id":69050214,"comment_id":125472182,"body_markdown":"@GabrielGarc&#237;aGarrido I think they stopped war support, we can just upload Maven Based Projects.","body":"@GabrielGarc&#237;aGarrido I think they stopped war support, we can just upload Maven Based Projects."},{"owner":{"account_id":13570044,"reputation":412,"user_id":9789035,"display_name":"Gabriel Garc&#237;a Garrido"},"score":1,"creation_date":1644339194,"post_id":69050214,"comment_id":125578345,"body_markdown":"It was my error in this case i forgot to set the java home!","body":"It was my error in this case i forgot to set the java home!"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642423516,"creation_date":1630700563,"question_id":69050214,"body_markdown":"I tried to deploy Java Dynamic Application .war file through a Heroku app by Heroku CLI, both Ubuntu and Windows are returning the name error log: \r\n\r\n    Uploading store.war\r\n    events.js:291\r\n      throw er; // Unhandled &#39;error&#39; event\r\n      ^\r\n\r\n    Error: spawn java ENOENT\r\n        at Process.ChildProcess._handle.onexit (internal/child_process.js:268:19)\r\n        at onErrorNT (internal/child_process.js:470:16)\r\n        at processTicksAndRejections (internal/process/task_queues.js:84:21)\r\n    Emitted &#39;error&#39; event on ChildProcess instance at:\r\n        at Process.ChildProcess._handle.onexit (internal/child_process.js:274:12)\r\n        at onErrorNT (internal/child_process.js:470:16)\r\n        at processTicksAndRejections (internal/process/task_queues.js:84:21) {\r\n      errno: &#39;ENOENT&#39;,\r\n      code: &#39;ENOENT&#39;,\r\n      syscall: &#39;spawn java&#39;,\r\n      path: &#39;java&#39;,\r\n      spawnargs: [\r\n        &#39;-Dheroku.appName=shielded-waters-44449&#39;,\r\n        &#39;-Xmx1g&#39;,\r\n        &#39;-Dheroku.warFile=C:\\\\Users\\\\user\\\\Desktop\\\\store.war&#39;,\r\n        &#39;-jar&#39;,\r\n        &#39;C:\\\\Users\\\\josue\\\\AppData\\\\Local\\\\heroku\\\\node_modules\\\\@heroku-cli\\\\plugin-java\\\\lib\\\\heroku-deploy-complete.jar&#39;\r\n      ]\r\n    }\r\n\r\nFound that this error occurs in another applications, but didn&#39;t find one where it happens when using deploy command on Heroku CLI. Already tried to the CLI but the problem remains.","title":"Heroku deploy java .war file returns Error: spawn java ENOENT","body":"<p>I tried to deploy Java Dynamic Application .war file through a Heroku app by Heroku CLI, both Ubuntu and Windows are returning the name error log:</p>\n<pre><code>Uploading store.war\nevents.js:291\n  throw er; // Unhandled 'error' event\n  ^\n\nError: spawn java ENOENT\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:268:19)\n    at onErrorNT (internal/child_process.js:470:16)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)\nEmitted 'error' event on ChildProcess instance at:\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:274:12)\n    at onErrorNT (internal/child_process.js:470:16)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21) {\n  errno: 'ENOENT',\n  code: 'ENOENT',\n  syscall: 'spawn java',\n  path: 'java',\n  spawnargs: [\n    '-Dheroku.appName=shielded-waters-44449',\n    '-Xmx1g',\n    '-Dheroku.warFile=C:\\\\Users\\\\user\\\\Desktop\\\\store.war',\n    '-jar',\n    'C:\\\\Users\\\\josue\\\\AppData\\\\Local\\\\heroku\\\\node_modules\\\\@heroku-cli\\\\plugin-java\\\\lib\\\\heroku-deploy-complete.jar'\n  ]\n}\n</code></pre>\n<p>Found that this error occurs in another applications, but didn't find one where it happens when using deploy command on Heroku CLI. Already tried to the CLI but the problem remains.</p>\n"},{"tags":["java","rest","jax-rs","query-string"],"comments":[{"owner":{"account_id":18801760,"reputation":33,"user_id":13711918,"display_name":"PEDRO MIGUEL COSTA"},"score":0,"creation_date":1642376993,"post_id":70735087,"comment_id":125048201,"body_markdown":"When I use the link in the browser all works just fine","body":"When I use the link in the browser all works just fine"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642386773,"post_id":70735087,"comment_id":125049458,"body_markdown":"Not an expert, but try without `@Consumes`.  The `GET` method handles only key-value pairs in the URL, and `@Consumes` may be confusing the code (`@Confuses`?)","body":"Not an expert, but try without <code>@Consumes</code>.  The <code>GET</code> method handles only key-value pairs in the URL, and <code>@Consumes</code> may be confusing the code (<code>@Confuses</code>?)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1642387795,"post_id":70735087,"comment_id":125049597,"body_markdown":"`&amp;` may be being interpreted by your shell. Try enclsing your URL in `&#39;` characters.","body":"<code>&amp;</code> may be being interpreted by your shell. Try enclsing your URL in <code>&#39;</code> characters."}],"answers":[{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642423319,"creation_date":1642423319,"answer_id":70741541,"question_id":70735087,"body_markdown":"The problem is in the &quot;@Consumes({&quot;application/json&quot;, &quot;application/xml&quot;})&quot; this means that the addEvent method is expecting an Input Json object and you are sending values separated by commas in the tests.\r\n\r\nyou should send a json object like this:\r\n```\r\n{\r\n&#39;name&#39;=&#39;test&#39;,\r\n&#39;data&#39;=&#39;25082001&#39;,\r\n&#39;type&#39;=&#39;basketball&#39;\r\n}\r\n```\r\nand you should test through postman.","title":"Rest - QueryParam getting null values","body":"<p>The problem is in the &quot;@Consumes({&quot;application/json&quot;, &quot;application/xml&quot;})&quot; this means that the addEvent method is expecting an Input Json object and you are sending values separated by commas in the tests.</p>\n<p>you should send a json object like this:</p>\n<pre><code>{\n'name'='test',\n'data'='25082001',\n'type'='basketball'\n}\n</code></pre>\n<p>and you should test through postman.</p>\n"}],"owner":{"account_id":18801760,"reputation":33,"user_id":13711918,"display_name":"PEDRO MIGUEL COSTA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642439313,"answer_count":1,"score":-1,"last_activity_date":1642423319,"creation_date":1642375991,"question_id":70735087,"body_markdown":"I have the following method:\r\n\r\n    @Path(&quot;/criar_evento&quot;)\r\n    @GET\r\n    @Consumes({&quot;application/json&quot;, &quot;application/xml&quot;})\r\n    @Produces({&quot;application/json&quot;, &quot;application/xml&quot;})\r\n    public synchronized Evento addEvento(@QueryParam(&quot;nome&quot;) String nome, @QueryParam(&quot;data&quot;) String data, @QueryParam(&quot;tipo&quot;) String tipo) {\r\n        Evento evento = new Evento(nome,data,tipo);\r\n        System.out.println(nome + &quot;\\n&quot; + data + &quot;\\n&quot; + tipo);\r\n        return evento;\r\n    }\r\n\r\nWhen I try to run this terminal code:\r\n\r\n    curl http://localhost:8001/sd/evento/criar_evento?nome=teste&amp;data=25082001&amp;tipo=basket\r\n\r\nI get the data and tipo as null values but not the name\r\n\r\nHere is the output on the server:\r\n\r\n    teste\r\n    null\r\n    null\r\n\r\nBut if I try for example: \r\n\r\n    curl http://localhost:8001/sd/evento/criar_evento?data=25082001&amp;tipo=basket&amp;nome=teste\r\n\r\nIn the server I get:\r\n\r\n    null\r\n    25082001\r\n    null\r\n\r\nAny ideas in how to fix this?\r\n\r\n\r\n","title":"Rest - QueryParam getting null values","body":"<p>I have the following method:</p>\n<pre><code>@Path(&quot;/criar_evento&quot;)\n@GET\n@Consumes({&quot;application/json&quot;, &quot;application/xml&quot;})\n@Produces({&quot;application/json&quot;, &quot;application/xml&quot;})\npublic synchronized Evento addEvento(@QueryParam(&quot;nome&quot;) String nome, @QueryParam(&quot;data&quot;) String data, @QueryParam(&quot;tipo&quot;) String tipo) {\n    Evento evento = new Evento(nome,data,tipo);\n    System.out.println(nome + &quot;\\n&quot; + data + &quot;\\n&quot; + tipo);\n    return evento;\n}\n</code></pre>\n<p>When I try to run this terminal code:</p>\n<pre><code>curl http://localhost:8001/sd/evento/criar_evento?nome=teste&amp;data=25082001&amp;tipo=basket\n</code></pre>\n<p>I get the data and tipo as null values but not the name</p>\n<p>Here is the output on the server:</p>\n<pre><code>teste\nnull\nnull\n</code></pre>\n<p>But if I try for example:</p>\n<pre><code>curl http://localhost:8001/sd/evento/criar_evento?data=25082001&amp;tipo=basket&amp;nome=teste\n</code></pre>\n<p>In the server I get:</p>\n<pre><code>null\n25082001\nnull\n</code></pre>\n<p>Any ideas in how to fix this?</p>\n"},{"tags":["java","performance","enums","storage"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642415647,"post_id":70739818,"comment_id":125056251,"body_markdown":"&quot;I am aware of instance testing and casting, and prefer using it to identification by enum&quot; ideally you&#39;d use neither: you&#39;d just use straight polymorphism, and never need to care about the type of the subclass.","body":"&quot;I am aware of instance testing and casting, and prefer using it to identification by enum&quot; ideally you&#39;d use neither: you&#39;d just use straight polymorphism, and never need to care about the type of the subclass."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1642415808,"post_id":70739818,"comment_id":125056303,"body_markdown":"&quot;Which of the following is the correct way to go and/or more efficient performance wise?&quot; they are equally correct, and I doubt there is any meaningful performance difference. I would go for a) because it&#39;s less boilerplate than explicitly overriding the getter in all the subclasses.","body":"&quot;Which of the following is the correct way to go and/or more efficient performance wise?&quot; they are equally correct, and I doubt there is any meaningful performance difference. I would go for a) because it&#39;s less boilerplate than explicitly overriding the getter in all the subclasses."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1642422685,"post_id":70739818,"comment_id":125058921,"body_markdown":"@AndyTurner – What about of having a `List&lt;Animal&gt;` and now wanting all the cats from it? Straight polymorphism does not do the job here, you need a discriminator now – either the `enum` as suggested here, or the concrete subclass …","body":"@AndyTurner – What about of having a <code>List&lt;Animal&gt;</code> and now wanting all the cats from it? Straight polymorphism does not do the job here, you need a discriminator now – either the <code>enum</code> as suggested here, or the concrete subclass …"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642415799,"creation_date":1642415799,"answer_id":70739956,"question_id":70739818,"body_markdown":"Well, I think you shouldn&#39;t care about performance in this case, because both memory footprint of your objects and cost of calling getters are likely to be the same (very cheap).\r\n\r\nAs soon as you are using abstract class with some common functionality I&#39;d suggest approach b) for consistency with the rest of the code (in case we have only those two options you suggest).\r\n\r\nAlternatively, you could have `protected final` field in your abstract class along with the getter. Something like this:\r\n```java\r\npublic abstract class Animal {\r\n  @Getter protected final AnimalType type;\r\n\r\n  public Animal(AnimalType type) {\r\n    this.type = type;\r\n  }\r\n}\r\n\r\npublic class Cat extends Animal {\r\n  public Cat() {\r\n    super(AnimalType.CAT);\r\n  }\r\n}\r\n```\r\nThis approach encapsulates all the common code in your abstract class, but requires the type to be explicitly passed in constructors of inherited classes.","title":"What&#39;s the correct way to store and get the enum of a child-class?","body":"<p>Well, I think you shouldn't care about performance in this case, because both memory footprint of your objects and cost of calling getters are likely to be the same (very cheap).</p>\n<p>As soon as you are using abstract class with some common functionality I'd suggest approach b) for consistency with the rest of the code (in case we have only those two options you suggest).</p>\n<p>Alternatively, you could have <code>protected final</code> field in your abstract class along with the getter. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Animal {\n  @Getter protected final AnimalType type;\n\n  public Animal(AnimalType type) {\n    this.type = type;\n  }\n}\n\npublic class Cat extends Animal {\n  public Cat() {\n    super(AnimalType.CAT);\n  }\n}\n</code></pre>\n<p>This approach encapsulates all the common code in your abstract class, but requires the type to be explicitly passed in constructors of inherited classes.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642422279,"creation_date":1642421957,"answer_id":70741233,"question_id":70739818,"body_markdown":"My preference is for approach a): storing the `enum` in the base class and providing a final `getter` for it.\r\nThe second approach does not force the contract that `getType()` will always return the real animal type, because an implementation could look like this:\r\n\r\n    public class DraftAnimal extends Animal\r\n    { \r\n      …\r\n\r\n      @Override\r\n      public final AnimalType getType() \r\n      {\r\n        // DO NOT DO THIS!\r\n        return today.equals( christmas ) ? AnimalType.REINDEER : AnimalType.HORSE;\r\n      }\r\n    }\r\n\r\nConfessed, the sample looks silly … but you want to block those silly ideas right from the design.\r\n","title":"What&#39;s the correct way to store and get the enum of a child-class?","body":"<p>My preference is for approach a): storing the <code>enum</code> in the base class and providing a final <code>getter</code> for it.\nThe second approach does not force the contract that <code>getType()</code> will always return the real animal type, because an implementation could look like this:</p>\n<pre><code>public class DraftAnimal extends Animal\n{ \n  …\n\n  @Override\n  public final AnimalType getType() \n  {\n    // DO NOT DO THIS!\n    return today.equals( christmas ) ? AnimalType.REINDEER : AnimalType.HORSE;\n  }\n}\n</code></pre>\n<p>Confessed, the sample looks silly … but you want to block those silly ideas right from the design.</p>\n"}],"owner":{"account_id":20230349,"reputation":105,"user_id":14837054,"display_name":"jaylawl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642454233,"answer_count":2,"score":1,"last_activity_date":1642422452,"creation_date":1642415113,"question_id":70739818,"body_markdown":"Let us presume we&#39;re dealing with a &quot;classic&quot; code-example:\r\n\r\nI have the classes `Animal`, `Cat`, `Dog`, `Horse` and some more animals.\r\n`Animal` is an abstract class which all the animals extend.\r\n\r\nAdditionally, I also have the enum `AnimalType`:\r\n```\r\npublic enum AnimalType {\r\n    CAT, DOG, HORSE, ...\r\n}\r\n```\r\n\r\nThis is a scenario where using such an enum is neccessary. I am aware of instance testing and casting, and prefer using it to identification by enum. But it is needed here, so please refrain from turning this into a debate about that if possible.\r\n\r\n**Question**:\r\n\r\nWhich of the following is the correct way to go and/or more efficient performance wise?:\r\n\r\na) \r\n```\r\npublic abstract class Animal {\r\n\r\n    @Getter private final AnimalType type;\r\n\r\n    public Animal(AnimalType type) {\r\n        this.type = type;\r\n    }\r\n\r\n}\r\n```\r\n\r\nor\r\n\r\nb)\r\n```\r\npublic abstract class Animal {\r\n\r\n    public Animal() {\r\n    }\r\n\r\n    public abstract AnimalType getType();\r\n\r\n}\r\n\r\npublic class Cat extends Animal {\r\n\r\n    @Override\r\n    public AnimalType getType() {\r\n        return AnimalType.CAT;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn words: Should i store the enum of a child class in a member of the parent abstract class or make it &quot;quasi-static&quot; return from an abstract method?\r\n\r\n","title":"What&#39;s the correct way to store and get the enum of a child-class?","body":"<p>Let us presume we're dealing with a &quot;classic&quot; code-example:</p>\n<p>I have the classes <code>Animal</code>, <code>Cat</code>, <code>Dog</code>, <code>Horse</code> and some more animals.\n<code>Animal</code> is an abstract class which all the animals extend.</p>\n<p>Additionally, I also have the enum <code>AnimalType</code>:</p>\n<pre><code>public enum AnimalType {\n    CAT, DOG, HORSE, ...\n}\n</code></pre>\n<p>This is a scenario where using such an enum is neccessary. I am aware of instance testing and casting, and prefer using it to identification by enum. But it is needed here, so please refrain from turning this into a debate about that if possible.</p>\n<p><strong>Question</strong>:</p>\n<p>Which of the following is the correct way to go and/or more efficient performance wise?:</p>\n<p>a)</p>\n<pre><code>public abstract class Animal {\n\n    @Getter private final AnimalType type;\n\n    public Animal(AnimalType type) {\n        this.type = type;\n    }\n\n}\n</code></pre>\n<p>or</p>\n<p>b)</p>\n<pre><code>public abstract class Animal {\n\n    public Animal() {\n    }\n\n    public abstract AnimalType getType();\n\n}\n\npublic class Cat extends Animal {\n\n    @Override\n    public AnimalType getType() {\n        return AnimalType.CAT;\n    }\n\n}\n</code></pre>\n<p>In words: Should i store the enum of a child class in a member of the parent abstract class or make it &quot;quasi-static&quot; return from an abstract method?</p>\n"},{"tags":["java","oop","collections","queue","stack"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1642421765,"post_id":70741179,"comment_id":125058566,"body_markdown":"You haven&#39;t asked a question, nor provided any details about the error.","body":"You haven&#39;t asked a question, nor provided any details about the error."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642421881,"post_id":70741179,"comment_id":125058608,"body_markdown":"In your push method you check if the size is already greater than 0 and only then actually push something into the stack. I don&#39;t know how you expect an empty stack to ever fill with that logic.","body":"In your push method you check if the size is already greater than 0 and only then actually push something into the stack. I don&#39;t know how you expect an empty stack to ever fill with that logic."}],"answers":[{"tags":[],"owner":{"account_id":16034524,"reputation":156,"user_id":11572579,"display_name":"Abhishek pruthvi V M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642422085,"creation_date":1642422085,"answer_id":70741265,"question_id":70741179,"body_markdown":"Replace the below code \r\n\r\n   \r\n\r\n     public void push(int x) {\r\n        if(mainS.size()&gt;0){\r\n             mainS.push(x);\r\n        }\r\n      }\r\n\r\nwith \r\n\r\n        public void push(int x) {\r\n             mainS.push(x);\r\n       }\r\n\r\nYou are checking the size of the stack should be greater than 0 before you are pushing. But it will be 0 when you create it and you will never push if it&#39;s 0 so it will always be empty.","title":"Receiving a error saying that stack is empty in java leetcode","body":"<p>Replace the below code</p>\n<pre><code> public void push(int x) {\n    if(mainS.size()&gt;0){\n         mainS.push(x);\n    }\n  }\n</code></pre>\n<p>with</p>\n<pre><code>    public void push(int x) {\n         mainS.push(x);\n   }\n</code></pre>\n<p>You are checking the size of the stack should be greater than 0 before you are pushing. But it will be 0 when you create it and you will never push if it's 0 so it will always be empty.</p>\n"}],"owner":{"account_id":23965417,"reputation":1,"user_id":17954985,"display_name":"nishchay007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70741265,"answer_count":1,"score":-2,"last_activity_date":1642422085,"creation_date":1642421658,"question_id":70741179,"body_markdown":"The code for the same is here \r\n\r\n\r\nclass MyQueue {\r\n    \r\n    Stack&lt;Integer&gt; mainS;\r\n    Stack&lt;Integer&gt; helperS;\r\n     // Stack&lt;Integer&gt; mainS =new Stack&lt;&gt;();\r\n     // Stack&lt;Integer&gt; helperS =new Stack&lt;&gt;();\r\n\r\n    public MyQueue() {\r\n          mainS =new Stack&lt;&gt;();\r\n          helperS =new Stack&lt;&gt;();\r\n    }\r\n    \r\n    public void push(int x) {\r\n        if(mainS.size()&gt;0){\r\n             mainS.push(x);\r\n        }\r\n       \r\n    }\r\n    \r\n    public int pop() {\r\n        while(mainS.size() &gt;1){\r\n            helperS.push((mainS.pop()));\r\n        }\r\n        int val = mainS.pop();\r\n\r\n        mainS.add(helperS.pop());\r\n\r\n        return val;\r\n    }\r\n    \r\n    public int peek() {\r\n        while(mainS.size() &gt;1){\r\n            helperS.push((mainS.pop()));\r\n        }\r\n        int val1 = mainS.pop();\r\n        helperS.push(val1);\r\n\r\n        mainS.add(helperS.pop());\r\n\r\n        return val1;\r\n    }\r\n    \r\n    public boolean empty() {\r\n        if(mainS.size()==0) return true;\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Your MyQueue object will be instantiated and called as such:\r\n * MyQueue obj = new MyQueue();\r\n * obj.push(x);\r\n * int param_2 = obj.pop();\r\n * int param_3 = obj.peek();\r\n * boolean param_4 = obj.empty();\r\n */\r\n\r\n\r\n\r\n\r\nThe error coming is that \r\n*java.util.EmptyStackException\r\n\r\n  at line 102, java.base/java.util.Stack.peek\r\n\r\n  at line 84, java.base/java.util.Stack.pop\r\n\r\n  at line 35, MyQueue.peek\r\n\r\n  at line 69, __Driver__.__helperSelectMethod__\r\n\r\n  at line 89, __Driver__.__helper__\r\n\r\n  at line 110, __Driver__.main*\r\n\r\nThe Logic is correct \r\nPlease help someone.","title":"Receiving a error saying that stack is empty in java leetcode","body":"<p>The code for the same is here</p>\n<p>class MyQueue {</p>\n<pre><code>Stack&lt;Integer&gt; mainS;\nStack&lt;Integer&gt; helperS;\n // Stack&lt;Integer&gt; mainS =new Stack&lt;&gt;();\n // Stack&lt;Integer&gt; helperS =new Stack&lt;&gt;();\n\npublic MyQueue() {\n      mainS =new Stack&lt;&gt;();\n      helperS =new Stack&lt;&gt;();\n}\n\npublic void push(int x) {\n    if(mainS.size()&gt;0){\n         mainS.push(x);\n    }\n   \n}\n\npublic int pop() {\n    while(mainS.size() &gt;1){\n        helperS.push((mainS.pop()));\n    }\n    int val = mainS.pop();\n\n    mainS.add(helperS.pop());\n\n    return val;\n}\n\npublic int peek() {\n    while(mainS.size() &gt;1){\n        helperS.push((mainS.pop()));\n    }\n    int val1 = mainS.pop();\n    helperS.push(val1);\n\n    mainS.add(helperS.pop());\n\n    return val1;\n}\n\npublic boolean empty() {\n    if(mainS.size()==0) return true;\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>/**</p>\n<ul>\n<li>Your MyQueue object will be instantiated and called as such:</li>\n<li>MyQueue obj = new MyQueue();</li>\n<li>obj.push(x);</li>\n<li>int param_2 = obj.pop();</li>\n<li>int param_3 = obj.peek();</li>\n<li>boolean param_4 = obj.empty();\n*/</li>\n</ul>\n<p>The error coming is that\n*java.util.EmptyStackException</p>\n<p>at line 102, java.base/java.util.Stack.peek</p>\n<p>at line 84, java.base/java.util.Stack.pop</p>\n<p>at line 35, MyQueue.peek</p>\n<p>at line 69, <strong>Driver</strong>.<strong>helperSelectMethod</strong></p>\n<p>at line 89, <strong>Driver</strong>.<strong>helper</strong></p>\n<p>at line 110, <strong>Driver</strong>.main*</p>\n<p>The Logic is correct\nPlease help someone.</p>\n"},{"tags":["java","spring-mvc","junit5","spring-test"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1633065814,"post_id":69395613,"comment_id":122665550,"body_markdown":"Most probably a version mismatch. Please post your full Gradle or Maven build file.","body":"Most probably a version mismatch. Please post your full Gradle or Maven build file."}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633105268,"creation_date":1633105268,"answer_id":69409098,"question_id":69395613,"body_markdown":"The missing method `org.junit.platform.commons.util.AnnotationUtils.findAnnotation(Class&lt;?&gt;, Class&lt;A&gt;, boolean)` was introduced in JUnit Platform 1.8.\r\n\r\nSo, you need to make sure that you upgrade to `junit-platform-commons` 1.8.1.\r\n\r\nUsing the `junit-bom` will help to simplify such upgrades to ensure you use compatible versions of all JUnit 5 artifacts.","title":"Got an error with Junit platform v.5.8.1 java.lang.NoSuchMethodError: org.junit.platform.commons.util.AnnotationUtils.findAnnotation","body":"<p>The missing method <code>org.junit.platform.commons.util.AnnotationUtils.findAnnotation(Class&lt;?&gt;, Class&lt;A&gt;, boolean)</code> was introduced in JUnit Platform 1.8.</p>\n<p>So, you need to make sure that you upgrade to <code>junit-platform-commons</code> 1.8.1.</p>\n<p>Using the <code>junit-bom</code> will help to simplify such upgrades to ensure you use compatible versions of all JUnit 5 artifacts.</p>\n"}],"owner":{"account_id":22907195,"reputation":91,"user_id":17045083,"display_name":"Volodymyr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5778,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1642421920,"creation_date":1633018428,"question_id":69395613,"body_markdown":"I run into an issue with this code:\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass ApiRestControllerTest {\r\n\r\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n  private MockMvc mockMvc;\r\n\r\n  @InjectMocks\r\n  private ApiRestController apiRestController;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    mockMvc = MockMvcBuilders\r\n        .standaloneSetup(apiRestController)\r\n        .build();\r\n  }\r\n\r\n  @Test\r\n  void shouldReturnsVersion() throws Exception {\r\n    mockMvc.perform(get(&quot;/api/v1/version&quot;))\r\n        .andExpect(status().isOk())\r\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\r\n        .andExpect(content().json(OBJECT_MAPPER.writeValueAsString(new VersionResponse(VERSION))));\r\n  }\r\n} \r\n```\r\nI got an error:\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\nCaused by: java.lang.NoSuchMethodError: org.junit.platform.commons.util.AnnotationUtils.findAnnotation(Ljava/lang/Class;Ljava/lang/Class;Z)Ljava/util/Optional;\r\n\tat org.junit.jupiter.engine.descriptor.DisplayNameUtils.getDisplayNameGenerator(DisplayNameUtils.java:110)\r\n\tat org.junit.jupiter.engine.descriptor.DisplayNameUtils.lambda$createDisplayNameSupplierForClass$2(DisplayNameUtils.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:88)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.&lt;init&gt;(JupiterTestDescriptor.java:69)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.&lt;init&gt;(ClassBasedTestDescriptor.java:96)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.&lt;init&gt;(ClassTestDescriptor.java:51)\r\n\tat org.junit.jupiter.engine.discovery.ClassSelectorResolver.newClassTestDescriptor(ClassSelectorResolver.java:119\r\n```\r\n\r\nI use JUnit **5.8.1**, but for lower versions, like 5.7.2 it works fine,\r\n","title":"Got an error with Junit platform v.5.8.1 java.lang.NoSuchMethodError: org.junit.platform.commons.util.AnnotationUtils.findAnnotation","body":"<p>I run into an issue with this code:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ApiRestControllerTest {\n\n  private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n  private MockMvc mockMvc;\n\n  @InjectMocks\n  private ApiRestController apiRestController;\n\n  @BeforeEach\n  void setUp() {\n    mockMvc = MockMvcBuilders\n        .standaloneSetup(apiRestController)\n        .build();\n  }\n\n  @Test\n  void shouldReturnsVersion() throws Exception {\n    mockMvc.perform(get(&quot;/api/v1/version&quot;))\n        .andExpect(status().isOk())\n        .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n        .andExpect(content().json(OBJECT_MAPPER.writeValueAsString(new VersionResponse(VERSION))));\n  }\n} \n</code></pre>\n<p>I got an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.NoSuchMethodError: org.junit.platform.commons.util.AnnotationUtils.findAnnotation(Ljava/lang/Class;Ljava/lang/Class;Z)Ljava/util/Optional;\n    at org.junit.jupiter.engine.descriptor.DisplayNameUtils.getDisplayNameGenerator(DisplayNameUtils.java:110)\n    at org.junit.jupiter.engine.descriptor.DisplayNameUtils.lambda$createDisplayNameSupplierForClass$2(DisplayNameUtils.java:98)\n    at org.junit.jupiter.engine.descriptor.DisplayNameUtils.determineDisplayName(DisplayNameUtils.java:88)\n    at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.&lt;init&gt;(JupiterTestDescriptor.java:69)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.&lt;init&gt;(ClassBasedTestDescriptor.java:96)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.&lt;init&gt;(ClassTestDescriptor.java:51)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver.newClassTestDescriptor(ClassSelectorResolver.java:119\n</code></pre>\n<p>I use JUnit <strong>5.8.1</strong>, but for lower versions, like 5.7.2 it works fine,</p>\n"},{"tags":["java","swagger","spring-restdocs","springdoc"],"comments":[{"owner":{"account_id":7084914,"reputation":61,"user_id":11130103,"display_name":"Dimio"},"score":0,"creation_date":1669037343,"post_id":70732267,"comment_id":131544898,"body_markdown":"You couldn&#39;t find a better solution? Without creating a class to wrap.","body":"You couldn&#39;t find a better solution? Without creating a class to wrap."}],"answers":[{"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642421919,"creation_date":1642421919,"answer_id":70741228,"question_id":70732267,"body_markdown":"A hack around this would be to create a new class to wrap that type: \r\n\r\n``` java \r\npublic class ReducedCustomPage extends CustomPage&lt;ReducedVersion&gt; {\r\n\r\n}\r\n```\r\n\r\nThen your controller would look like this:\r\n```java\r\n@CustomPageableAsQueryParam\r\n    @Operation(summary = &quot;&quot;, operationId = &quot;get_all_version&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Versions found an returned&quot;,\r\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = ReducedCustomPage.class)))\r\n    })\r\n    @GetMapping(path = &quot;/versions&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;ReducedCustomPage&gt; getVersions(\r\n            @ParameterObject\r\n            @PageableDefault(sort = {&quot;releaseTime&quot;}, direction = Sort.Direction.DESC) Pageable pageable,\r\n            @Parameter(description = &quot;Version type to filter the list&quot;) @RequestParam(required = false) VersionType type) {\r\n```","title":"Springdoc with a generic return type","body":"<p>A hack around this would be to create a new class to wrap that type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReducedCustomPage extends CustomPage&lt;ReducedVersion&gt; {\n\n}\n</code></pre>\n<p>Then your controller would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CustomPageableAsQueryParam\n    @Operation(summary = &quot;&quot;, operationId = &quot;get_all_version&quot;)\n    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Versions found an returned&quot;,\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = ReducedCustomPage.class)))\n    })\n    @GetMapping(path = &quot;/versions&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;ReducedCustomPage&gt; getVersions(\n            @ParameterObject\n            @PageableDefault(sort = {&quot;releaseTime&quot;}, direction = Sort.Direction.DESC) Pageable pageable,\n            @Parameter(description = &quot;Version type to filter the list&quot;) @RequestParam(required = false) VersionType type) {\n</code></pre>\n"}],"owner":{"account_id":13559347,"reputation":196,"user_id":9781655,"display_name":"Oromis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3999,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70741228,"answer_count":1,"score":1,"last_activity_date":1642421919,"creation_date":1642352627,"question_id":70732267,"body_markdown":"I have a custom Page to return when the user does a query with a Pageable. This Page has a generic parameter and I want to specify it in my Swagger documentation.\r\nHere is the current result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhere `elements` is a list of instances of my generic type.\r\n\r\nThe signature function I actually have:\r\n\r\n```java\r\n@CustomPageableAsQueryParam\r\n    @Operation(summary = &quot;&quot;, operationId = &quot;get_all_version&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Versions found an returned&quot;,\r\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class)))\r\n    })\r\n    @GetMapping(path = &quot;/versions&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;CustomPage&lt;ReducedVersion&gt;&gt; getVersions(\r\n            @ParameterObject\r\n            @PageableDefault(sort = {&quot;releaseTime&quot;}, direction = Sort.Direction.DESC) Pageable pageable,\r\n            @Parameter(description = &quot;Version type to filter the list&quot;) @RequestParam(required = false) VersionType type) {\r\n```\r\nIdeally, I would be able to do `@Schema(implementation = CustomPage&lt;ReducedVersion&gt;.class)`, but it&#39;s not possible in Java.\r\n\r\nDoes Spring provide a way to overcome this limitation?\r\n\r\nThanks for your future answers!\r\n\r\n  [1]: https://i.stack.imgur.com/uwzxQ.png","title":"Springdoc with a generic return type","body":"<p>I have a custom Page to return when the user does a query with a Pageable. This Page has a generic parameter and I want to specify it in my Swagger documentation.\nHere is the current result:</p>\n<p><a href=\"https://i.stack.imgur.com/uwzxQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uwzxQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Where <code>elements</code> is a list of instances of my generic type.</p>\n<p>The signature function I actually have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CustomPageableAsQueryParam\n    @Operation(summary = &quot;&quot;, operationId = &quot;get_all_version&quot;)\n    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Versions found an returned&quot;,\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = CustomPage.class)))\n    })\n    @GetMapping(path = &quot;/versions&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;CustomPage&lt;ReducedVersion&gt;&gt; getVersions(\n            @ParameterObject\n            @PageableDefault(sort = {&quot;releaseTime&quot;}, direction = Sort.Direction.DESC) Pageable pageable,\n            @Parameter(description = &quot;Version type to filter the list&quot;) @RequestParam(required = false) VersionType type) {\n</code></pre>\n<p>Ideally, I would be able to do <code>@Schema(implementation = CustomPage&lt;ReducedVersion&gt;.class)</code>, but it's not possible in Java.</p>\n<p>Does Spring provide a way to overcome this limitation?</p>\n<p>Thanks for your future answers!</p>\n"},{"tags":["java","jboss7.x"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1622140497,"post_id":67708424,"comment_id":119713073,"body_markdown":"That looks like a very odd message. How are you deploying your application and what version of WildFly or JBoss EAP are you targeting?","body":"That looks like a very odd message. How are you deploying your application and what version of WildFly or JBoss EAP are you targeting?"}],"answers":[{"tags":[],"owner":{"account_id":23965494,"reputation":1,"user_id":17955056,"display_name":"Diego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642421671,"creation_date":1642421671,"answer_id":70741181,"question_id":67708424,"body_markdown":"Your module-alias in jboss-deployment-structure.xml has to start with &quot;deployment.&quot;. For example:\r\n\r\n    &lt;module-alias name=&quot;deployment.demoWar&quot; /&gt;\r\n\r\n","title":"Illegal Argument Exception is thrown while deploying ear file in JBOSS server","body":"<p>Your module-alias in jboss-deployment-structure.xml has to start with &quot;deployment.&quot;. For example:</p>\n<pre><code>&lt;module-alias name=&quot;deployment.demoWar&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":21730876,"reputation":1,"user_id":16039637,"display_name":"ritika raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642421671,"creation_date":1622044158,"question_id":67708424,"body_markdown":"    {&quot;WFLYCTL0080: Failed services&quot; =&gt;{&quot;jboss.deployment.unit.\\&quot;novartis-clinpro-ear.ear\\&quot;.\r\n    CONFIGURE_MODULE&quot; =&gt;&quot;WFLYSRV0153: Failed to process phase CONFIGURE_MODULE of deployment \\&quot;novartis-clinpro-ear.ear\\&quot; \r\n    Caused by:java.lang.IllegalArgumentException: WFLYSRV0099: &#39;novartis-clinpro-web.war&#39; cannot be loaded from a ServiceModuleLoader \r\n    as its name does not start with &#39;deployment.&quot;}}\r\n\r\nBasically I am migrating java 1.6 version to 1.8 for an application and trying to deploy it in JBOSS server.using Maven to build the codes.\r\n","title":"Illegal Argument Exception is thrown while deploying ear file in JBOSS server","body":"<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt;{&quot;jboss.deployment.unit.\\&quot;novartis-clinpro-ear.ear\\&quot;.\nCONFIGURE_MODULE&quot; =&gt;&quot;WFLYSRV0153: Failed to process phase CONFIGURE_MODULE of deployment \\&quot;novartis-clinpro-ear.ear\\&quot; \nCaused by:java.lang.IllegalArgumentException: WFLYSRV0099: 'novartis-clinpro-web.war' cannot be loaded from a ServiceModuleLoader \nas its name does not start with 'deployment.&quot;}}\n</code></pre>\n<p>Basically I am migrating java 1.6 version to 1.8 for an application and trying to deploy it in JBOSS server.using Maven to build the codes.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"score":0,"creation_date":1457418282,"post_id":35860426,"comment_id":59385352,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":7844116,"reputation":912,"user_id":5929690,"accept_rate":50,"display_name":"Rahul Sharma"},"score":0,"creation_date":1457418465,"post_id":35860426,"comment_id":59385426,"body_markdown":"As you might have seen, Array class doesn&#39;t have many array manipulation methods. When you create an array, the methods in the array class are called internally by java since you never use the new keyword for creating an array. The Arrays class is basically a utility class which provides more methods for array manipulation.","body":"As you might have seen, Array class doesn&#39;t have many array manipulation methods. When you create an array, the methods in the array class are called internally by java since you never use the new keyword for creating an array. The Arrays class is basically a utility class which provides more methods for array manipulation."}],"answers":[{"tags":[],"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1642421649,"creation_date":1457418491,"answer_id":35860504,"question_id":35860426,"body_markdown":"They simply serve different purposes with a different set of methods:\r\n\r\n### [java.lang.reflect.Array][1]\r\n\r\n&gt; The Array class provides static methods to dynamically create and access Java arrays.\r\n\r\nThis class is essentially a utility class with static methods to manipulate arrays on a lower level. It is usually used for advanced techniques where access to arrays is required through the reflection API.\r\n\r\n### [java.util.Arrays][2]\r\n\r\n&gt; This class contains various methods for manipulating arrays (such as sorting and searching). This class also contains a static factory that allows arrays to be viewed as lists.\r\n\r\nThis class is essentially a utility class with static methods to work on raw arrays and to provide a bridge from raw arrays to Collection based arrays (`List`).\r\n\r\nFor example, you can easily fill an array with a particular value:\r\n\r\n```java\r\nimport java.util.Arrays;\r\n    \r\nint[] array = new int[1024];\r\nArrays.fill(array, 42);\r\n```\r\n\r\nAnother useful method is `toString` which returns a formatted representation of a given array:\r\n\r\n\r\n```java\r\nSystem.err.println(Arrays.toString(array));  \r\n\r\n// [42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, ...]\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html","title":"What is the difference between Array and Arrays class in Java?","body":"<p>They simply serve different purposes with a different set of methods:</p>\n<h3><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Array.html\" rel=\"nofollow noreferrer\">java.lang.reflect.Array</a></h3>\n<blockquote>\n<p>The Array class provides static methods to dynamically create and access Java arrays.</p>\n</blockquote>\n<p>This class is essentially a utility class with static methods to manipulate arrays on a lower level. It is usually used for advanced techniques where access to arrays is required through the reflection API.</p>\n<h3><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">java.util.Arrays</a></h3>\n<blockquote>\n<p>This class contains various methods for manipulating arrays (such as sorting and searching). This class also contains a static factory that allows arrays to be viewed as lists.</p>\n</blockquote>\n<p>This class is essentially a utility class with static methods to work on raw arrays and to provide a bridge from raw arrays to Collection based arrays (<code>List</code>).</p>\n<p>For example, you can easily fill an array with a particular value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n    \nint[] array = new int[1024];\nArrays.fill(array, 42);\n</code></pre>\n<p>Another useful method is <code>toString</code> which returns a formatted representation of a given array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.err.println(Arrays.toString(array));  \n\n// [42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, ...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457418535,"creation_date":1457418535,"answer_id":35860514,"question_id":35860426,"body_markdown":"**Array** :- This class can be used to create array in run time using reflection.\r\n\r\n**Arrays** :- Utility class,which contains static methods to manipulate(sort,max,min etc.) the values stored in array.","title":"What is the difference between Array and Arrays class in Java?","body":"<p><strong>Array</strong> :- This class can be used to create array in run time using reflection.</p>\n\n<p><strong>Arrays</strong> :- Utility class,which contains static methods to manipulate(sort,max,min etc.) the values stored in array.</p>\n"},{"tags":[],"owner":{"account_id":263754,"reputation":594,"user_id":549534,"display_name":"ivanenok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457418651,"creation_date":1457418651,"answer_id":35860542,"question_id":35860426,"body_markdown":"guess do yo mean java.sql.Array and java.util.Arrays, if so first class related to JDBC for mapping db types to java types and second related to set of operations for working with array types (sorting, searching and etc)","title":"What is the difference between Array and Arrays class in Java?","body":"<p>guess do yo mean java.sql.Array and java.util.Arrays, if so first class related to JDBC for mapping db types to java types and second related to set of operations for working with array types (sorting, searching and etc)</p>\n"}],"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16901,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1457452869,"accepted_answer_id":35860504,"answer_count":3,"score":6,"last_activity_date":1642421649,"creation_date":1457418149,"question_id":35860426,"body_markdown":"I&#39;m new to Java and is learning the concept of array. I have encountered two Java classes: Array and Arrays. I was just wondering what&#39;s the difference between the two classes? \r\n","title":"What is the difference between Array and Arrays class in Java?","body":"<p>I'm new to Java and is learning the concept of array. I have encountered two Java classes: Array and Arrays. I was just wondering what's the difference between the two classes? </p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11196620,"reputation":586,"user_id":8215084,"display_name":"Tanmay Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565093080,"creation_date":1565091385,"answer_id":57375169,"question_id":57374805,"body_markdown":"You have a cyclic dependency which give this error \r\n\r\n&gt; root causes include a too low setting for -Xss and illegal cyclic\r\n&gt; inheritance dependencies.\r\n&gt; \r\n&gt; So in the catilina.properties file there the offending\r\n&gt; &gt;org.bouncycastle.asn1.DEREncodableVector-&gt;org.bouncycastle.asn1.ASN1EncodableVector]\r\n\r\n\r\nSo you can also skip this dependency by adding the \r\n\r\n    org.apache.catalina.startup.ContextConfig.jarsToSkip=bcprov*.jar\r\nin the `catalina.properties` file \r\n\r\n\r\nOr else try to exclude this jar in the lib folder \r\n\r\n    bcprov-jdk15on-147.jar\r\n\r\n[![enter image description here][1]][1]\r\n  [1]: https://i.stack.imgur.com/HqvYE.png\r\n\r\nFind this in your catilina.properties and the following .","title":"How to solve Failed to start component [StandardEngine[Catalina].StandardHost[localhost]?","body":"<p>You have a cyclic dependency which give this error </p>\n\n<blockquote>\n  <p>root causes include a too low setting for -Xss and illegal cyclic\n  inheritance dependencies.</p>\n  \n  <p>So in the catilina.properties file there the offending</p>\n  \n  <blockquote>\n    <p>org.bouncycastle.asn1.DEREncodableVector->org.bouncycastle.asn1.ASN1EncodableVector]</p>\n  </blockquote>\n</blockquote>\n\n<p>So you can also skip this dependency by adding the </p>\n\n<pre><code>org.apache.catalina.startup.ContextConfig.jarsToSkip=bcprov*.jar\n</code></pre>\n\n<p>in the <code>catalina.properties</code> file </p>\n\n<p>Or else try to exclude this jar in the lib folder </p>\n\n<pre><code>bcprov-jdk15on-147.jar\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HqvYE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HqvYE.png\" alt=\"enter image description here\"></a>\nFind this in your catilina.properties and the following .</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565091500,"creation_date":1565091500,"answer_id":57375199,"question_id":57374805,"body_markdown":"&gt; Caused by: java.lang.IllegalStateException: Unable to complete the scan for annotations for web application [/Smarter] due to a StackOverflowError. Possible root causes include a too low setting for -Xss and illegal cyclic inheritance dependencies. The class hierarchy being processed was [org.bouncycastle.asn1.ASN1EncodableVector-&gt;org.bouncycastle.asn1.DEREncodableVector-&gt;org.bouncycastle.asn1.ASN1EncodableVector]\r\n\r\nYou have circular inheritance dependency (thus StackOverflow during annotation scanning) in Bouncy Castle due to (most likely) multiple inclusion of dependency jars of different version. Refer this [very good post][1], the solution is provided. For explanation refer the answer by &#39;user2473519&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17584495/unable-to-complete-the-scan-for-annotations-for-web-application-app-due-to-a","title":"How to solve Failed to start component [StandardEngine[Catalina].StandardHost[localhost]?","body":"<blockquote>\n  <p>Caused by: java.lang.IllegalStateException: Unable to complete the scan for annotations for web application [/Smarter] due to a StackOverflowError. Possible root causes include a too low setting for -Xss and illegal cyclic inheritance dependencies. The class hierarchy being processed was [org.bouncycastle.asn1.ASN1EncodableVector->org.bouncycastle.asn1.DEREncodableVector->org.bouncycastle.asn1.ASN1EncodableVector]</p>\n</blockquote>\n\n<p>You have circular inheritance dependency (thus StackOverflow during annotation scanning) in Bouncy Castle due to (most likely) multiple inclusion of dependency jars of different version. Refer this <a href=\"https://stackoverflow.com/questions/17584495/unable-to-complete-the-scan-for-annotations-for-web-application-app-due-to-a\">very good post</a>, the solution is provided. For explanation refer the answer by 'user2473519'</p>\n"}],"owner":{"account_id":15790706,"reputation":19,"user_id":11394039,"display_name":"Mani Bellamkonda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642421618,"creation_date":1565090196,"question_id":57374805,"body_markdown":"when I run my tomcat server sometimes it gets errors like `Failed to start component [StandardEngine[Catalina].StandardHost[localhost]` and Unable to complete the scan for annotations for web application, but sometimes it runs well. Why doesn&#39;t the tomcat server run sometimes?\r\n\r\nI provided the errors I received below, could you please tell me that how to solve the problem?\r\n\r\n\r\n\r\n    Aug 06, 2019 4:34:07 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:Smarter&#39; did not find a matching property.\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version:        Apache Tomcat/8.0.41\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Jan 18 2017 22:19:39 UTC\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server number:         8.0.41.0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 10\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            10.0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\Program Files\\Java\\jre1.8.0_151\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.8.0_151-b12\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\endorsed\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=Cp1252\r\n    Aug 06, 2019 4:34:07 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre1.8.0_151\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:/Program Files/Java/jre1.8.0_151/bin/server;C:/Program Files/Java/jre1.8.0_151/bin;C:/Program Files/Java/jre1.8.0_151/lib/amd64;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_151\\bin;D:\\softwares\\apache-maven-3.5.0\\bin;C:\\gradle-4.4.1-all\\gradle-4.4.1\\bin;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit\\;C:\\curl;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Users\\Abc\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\Abc\\AppData\\Roaming\\npm;;D:\\softwares\\eclipse;;.\r\n    Aug 06, 2019 4:34:07 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Aug 06, 2019 4:34:08 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\r\n    INFO: Using a shared selector for servlet write/read\r\n    Aug 06, 2019 4:34:08 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Aug 06, 2019 4:34:08 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\r\n    INFO: Using a shared selector for servlet write/read\r\n    Aug 06, 2019 4:34:08 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 1530 ms\r\n    Aug 06, 2019 4:34:08 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Aug 06, 2019 4:34:08 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/8.0.41\r\n    Aug 06, 2019 4:34:11 PM org.apache.jasper.servlet.TldScanner scanJars\r\n    INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Aug 06, 2019 4:34:14 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Smarter]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Smarter]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \t... 6 more\r\n    Caused by: java.lang.IllegalStateException: Unable to complete the scan for annotations for web application [/Smarter] due to a StackOverflowError. Possible root causes include a too low setting for -Xss and illegal cyclic inheritance dependencies. The class hierarchy being processed was [org.bouncycastle.asn1.ASN1EncodableVector-&gt;org.bouncycastle.asn1.DEREncodableVector-&gt;org.bouncycastle.asn1.ASN1EncodableVector]\r\n    \tat org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:2108)\r\n    \tat org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2054)\r\n    \tat org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1999)\r\n    \tat org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1969)\r\n    \tat org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1923)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1166)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:783)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 6 more\r\n    \r\n    Aug 06, 2019 4:34:14 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:789)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 6 more\r\n    \r\n    Aug 06, 2019 4:34:14 PM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:789)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n    \t... 11 more\r\n    \r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Aug 06, 2019 4:34:14 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:883)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:879)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    \r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Aug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:883)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:879)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n\r\n","title":"How to solve Failed to start component [StandardEngine[Catalina].StandardHost[localhost]?","body":"<p>when I run my tomcat server sometimes it gets errors like <code>Failed to start component [StandardEngine[Catalina].StandardHost[localhost]</code> and Unable to complete the scan for annotations for web application, but sometimes it runs well. Why doesn't the tomcat server run sometimes?</p>\n\n<p>I provided the errors I received below, could you please tell me that how to solve the problem?</p>\n\n<pre><code>Aug 06, 2019 4:34:07 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:Smarter' did not find a matching property.\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version:        Apache Tomcat/8.0.41\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Jan 18 2017 22:19:39 UTC\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server number:         8.0.41.0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 10\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            10.0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          amd64\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\Program Files\\Java\\jre1.8.0_151\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           1.8.0_151-b12\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=E:\\WITH OUT SOP IOT\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Djava.endorsed.dirs=C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\endorsed\nAug 06, 2019 4:34:07 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=Cp1252\nAug 06, 2019 4:34:07 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre1.8.0_151\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:/Program Files/Java/jre1.8.0_151/bin/server;C:/Program Files/Java/jre1.8.0_151/bin;C:/Program Files/Java/jre1.8.0_151/lib/amd64;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Java\\jdk1.8.0_151\\bin;D:\\softwares\\apache-maven-3.5.0\\bin;C:\\gradle-4.4.1-all\\gradle-4.4.1\\bin;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit\\;C:\\curl;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Users\\Abc\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft VS Code\\bin;C:\\Users\\Abc\\AppData\\Roaming\\npm;;D:\\softwares\\eclipse;;.\nAug 06, 2019 4:34:07 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-nio-8080\"]\nAug 06, 2019 4:34:08 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nAug 06, 2019 4:34:08 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-nio-8009\"]\nAug 06, 2019 4:34:08 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nAug 06, 2019 4:34:08 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1530 ms\nAug 06, 2019 4:34:08 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nAug 06, 2019 4:34:08 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/8.0.41\nAug 06, 2019 4:34:11 PM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nAug 06, 2019 4:34:14 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Smarter]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Smarter]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    ... 6 more\nCaused by: java.lang.IllegalStateException: Unable to complete the scan for annotations for web application [/Smarter] due to a StackOverflowError. Possible root causes include a too low setting for -Xss and illegal cyclic inheritance dependencies. The class hierarchy being processed was [org.bouncycastle.asn1.ASN1EncodableVector-&gt;org.bouncycastle.asn1.DEREncodableVector-&gt;org.bouncycastle.asn1.ASN1EncodableVector]\n    at org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:2108)\n    at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2054)\n    at org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1999)\n    at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1969)\n    at org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1923)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1166)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:783)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5213)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 6 more\n\nAug 06, 2019 4:34:14 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:943)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:789)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 6 more\n\nAug 06, 2019 4:34:14 PM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:789)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:441)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 11 more\n\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-nio-8080\"]\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-nio-8009\"]\nAug 06, 2019 4:34:14 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"http-nio-8080\"]\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"http-nio-8080\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:883)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:879)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"ajp-nio-8009\"]\nAug 06, 2019 4:34:14 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"ajp-nio-8009\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:316)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:492)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:883)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:551)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:589)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:879)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:292)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing","websocket"],"comments":[{"owner":{"account_id":12201936,"reputation":414,"user_id":8906016,"display_name":"canillas"},"score":0,"creation_date":1642422839,"post_id":70741146,"comment_id":125058969,"body_markdown":"&#39;@WithMockUser&#39; is only for simpler role based security. Maybe you need to create a &#39;@TestConfiguration&#39; class where you can create your &#39;logged user&#39;. Check this: https://stackoverflow.com/questions/15203485/spring-test-security-how-to-mock-authentication","body":"&#39;@WithMockUser&#39; is only for simpler role based security. Maybe you need to create a &#39;@TestConfiguration&#39; class where you can create your &#39;logged user&#39;. Check this: <a href=\"https://stackoverflow.com/questions/15203485/spring-test-security-how-to-mock-authentication\" title=\"spring test security how to mock authentication\">stackoverflow.com/questions/15203485/&hellip;</a>"},{"owner":{"account_id":75390,"reputation":2404,"user_id":216288,"accept_rate":94,"display_name":"Alexandre Cassagne"},"score":0,"creation_date":1642427223,"post_id":70741146,"comment_id":125060796,"body_markdown":"@canillas thank you, but for now, I am ok with a simple mock user. However, the spring security Principal is not loaded using the above, na&#239;ve approach. The user only needs to have the role = &quot;USER&quot;, but the connection is rejected. Do you understand why/how to fix that?","body":"@canillas thank you, but for now, I am ok with a simple mock user. However, the spring security Principal is not loaded using the above, na&#239;ve approach. The user only needs to have the role = &quot;USER&quot;, but the connection is rejected. Do you understand why/how to fix that?"},{"owner":{"account_id":3071985,"reputation":63,"user_id":2602413,"display_name":"user2602413"},"score":0,"creation_date":1695247560,"post_id":70741146,"comment_id":136000692,"body_markdown":"Same problem for me. Any solution?","body":"Same problem for me. Any solution?"}],"owner":{"account_id":75390,"reputation":2404,"user_id":216288,"accept_rate":94,"display_name":"Alexandre Cassagne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642421492,"creation_date":1642421492,"question_id":70741146,"body_markdown":"I am working on implementing WebSocket integration tests. I cannot get the mock user to be passed to the client.\r\n\r\n\r\n```java\r\n@WithMockUser(value = &quot;user&quot;, roles = &quot;USER&quot;)\r\nvoid test() throws ExecutionException, InterruptedException, TimeoutException {\r\n\twebSocketStompClient = new WebSocketStompClient(\r\n\t\tnew SockJsClient(List.of(new WebSocketTransport(new StandardWebSocketClient())))\r\n\t);\r\n\t\r\n\tStompSession session = webSocketStompClient\r\n\t\t.connect(String.format(&quot;ws://localhost:%d/ws&quot;, port),\r\n\t\t\tnew StompSessionHandlerAdapter() {\r\n\t\t\t}\r\n\t\t)\r\n\t\t.get(1, SECONDS);\r\n}\r\n```\r\n\r\n\r\nUnfortunately, I receive the following error:\r\n\r\n```\r\nTopicInterceptorIT &gt; test() FAILED\r\n    java.util.concurrent.ExecutionException at TopicInterceptorIT.java:57\r\n        Caused by: org.springframework.messaging.simp.stomp.ConnectionLostException at DefaultStompSession.java:518\r\n2022-01-17 12:04:19.415  WARN [,,,] 44518 --- [   XNIO-1 I/O-9] w.s.h.ExceptionWebSocketHandlerDecorator : Unhandled exception after connection closed for ExceptionWebSocketHandlerDecorator [delegate=LoggingWebSocketHandlerDecorator [delegate=WebSocketMsgEnhancer [delegate=SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]]]]\r\norg.springframework.messaging.MessageDeliveryException: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]; nested exception is org.springframework.security.access.AccessDeniedException: Access is denied\r\n```\r\n\r\nDo I have to manually create the access token and inject it into the request headers? Or is there an approach similar to the `@WithMockUser` over `MockMvc` familiar when testing REST endpoints?\r\n","title":"Mock user authentication in Spring Boot WebSocket integration tests","body":"<p>I am working on implementing WebSocket integration tests. I cannot get the mock user to be passed to the client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WithMockUser(value = &quot;user&quot;, roles = &quot;USER&quot;)\nvoid test() throws ExecutionException, InterruptedException, TimeoutException {\n    webSocketStompClient = new WebSocketStompClient(\n        new SockJsClient(List.of(new WebSocketTransport(new StandardWebSocketClient())))\n    );\n    \n    StompSession session = webSocketStompClient\n        .connect(String.format(&quot;ws://localhost:%d/ws&quot;, port),\n            new StompSessionHandlerAdapter() {\n            }\n        )\n        .get(1, SECONDS);\n}\n</code></pre>\n<p>Unfortunately, I receive the following error:</p>\n<pre><code>TopicInterceptorIT &gt; test() FAILED\n    java.util.concurrent.ExecutionException at TopicInterceptorIT.java:57\n        Caused by: org.springframework.messaging.simp.stomp.ConnectionLostException at DefaultStompSession.java:518\n2022-01-17 12:04:19.415  WARN [,,,] 44518 --- [   XNIO-1 I/O-9] w.s.h.ExceptionWebSocketHandlerDecorator : Unhandled exception after connection closed for ExceptionWebSocketHandlerDecorator [delegate=LoggingWebSocketHandlerDecorator [delegate=WebSocketMsgEnhancer [delegate=SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]]]]\norg.springframework.messaging.MessageDeliveryException: Failed to send message to ExecutorSubscribableChannel[clientInboundChannel]; nested exception is org.springframework.security.access.AccessDeniedException: Access is denied\n</code></pre>\n<p>Do I have to manually create the access token and inject it into the request headers? Or is there an approach similar to the <code>@WithMockUser</code> over <code>MockMvc</code> familiar when testing REST endpoints?</p>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1432287550,"post_id":30387371,"comment_id":48874423,"body_markdown":"Have you tried using `new Sort(Direction.ASC, &quot;y.titulo&quot;)`?","body":"Have you tried using <code>new Sort(Direction.ASC, &quot;y.titulo&quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4996035,"reputation":4281,"user_id":4098074,"accept_rate":19,"display_name":"Tony Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432264156,"creation_date":1432264156,"answer_id":30387749,"question_id":30387371,"body_markdown":"What is the signature of your Repository? It should look something like this:\r\n\r\n    public interface FooRepo extends JpaRepository&lt;T, ID&gt; {\r\n    ....\r\n    }\r\n\r\nI suspect you used Banco for T. So to fix this, you can try 2 options:\r\n\r\n1) Move the method in to the Repository for Oferta\r\n\r\n2) Move this method into Custom Repository (I think this is better) http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementation","title":"Spring Data sorting on wrong Table","body":"<p>What is the signature of your Repository? It should look something like this:</p>\n\n<pre><code>public interface FooRepo extends JpaRepository&lt;T, ID&gt; {\n....\n}\n</code></pre>\n\n<p>I suspect you used Banco for T. So to fix this, you can try 2 options:</p>\n\n<p>1) Move the method in to the Repository for Oferta</p>\n\n<p>2) Move this method into Custom Repository (I think this is better) <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementation\" rel=\"nofollow\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementation</a></p>\n"},{"tags":[],"owner":{"account_id":20362684,"reputation":1,"user_id":14936683,"display_name":"lee fugui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609753200,"creation_date":1609753200,"answer_id":65560473,"question_id":30387371,"body_markdown":"i guess your pageable is like：\r\n\r\n    Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\r\n    Pageable pageable = new PageRequest(offset, limit,sort)\r\n\r\ndo not use the Sort change your pageable like :\r\n\r\n    // Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\r\n    Pageable pageable = new PageRequest(offset, limit)\r\nUse sql to achieve the order by function :\r\n\r\n    @Query(value = &quot;SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM Banco b LEFT JOIN b.blackList a)) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by y.titulo asc &quot;,\r\n        countQuery = &quot;SELECT COUNT(y) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)&quot;)\r\nPage&lt;OfertaBancoDto&gt; randomSearch(Set&lt;StatusOferta&gt; filtroStatus, Pageable pageable);","title":"Spring Data sorting on wrong Table","body":"<p>i guess your pageable is like：</p>\n<pre><code>Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\nPageable pageable = new PageRequest(offset, limit,sort)\n</code></pre>\n<p>do not use the Sort change your pageable like :</p>\n<pre><code>// Sort sort = new Sort(Sort.Direction.DESC, &quot;id&quot;);\nPageable pageable = new PageRequest(offset, limit)\n</code></pre>\n<p>Use sql to achieve the order by function :</p>\n<pre><code>@Query(value = &quot;SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM Banco b LEFT JOIN b.blackList a)) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by y.titulo asc &quot;,\n    countQuery = &quot;SELECT COUNT(y) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)&quot;)\n</code></pre>\n<p>Page randomSearch(Set filtroStatus, Pageable pageable);</p>\n"}],"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642421090,"creation_date":1432261244,"question_id":30387371,"body_markdown":"I have an app running Spring Data + Hibernate and the following query:\r\n\r\n    @Query(value = &quot;SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM Banco b LEFT JOIN b.blackList a)) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)&quot;,\r\n\t\t\tcountQuery = &quot;SELECT COUNT(y) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)&quot;)\r\n\tPage&lt;OfertaBancoDto&gt; randomSearch(Set&lt;StatusOferta&gt; filtroStatus, Pageable pageable);\r\n\r\nEverytime I try to issue an orderby: \r\n\r\n\r\n    new PageRequest(0, 10, new Sort(Direction.ASC, &quot;titulo&quot;));\r\n\r\nthe result query is (b.titulo is the problem, since b represents the wrong table):\r\n\r\n    SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM com.foo.entity.Banco b LEFT JOIN b.blackList a)) FROM com.foo.entity.Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM com.foo.entity.Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by b.titulo asc\r\n\r\nThe correct query should be:\r\n\r\n    SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM com.foo.entity.Banco b LEFT JOIN b.blackList a)) FROM com.foo.entity.Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM com.foo.entity.Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by y.titulo asc\r\n\r\nHow can I specify the table the orderby should filter on?","title":"Spring Data sorting on wrong Table","body":"<p>I have an app running Spring Data + Hibernate and the following query:</p>\n\n<pre><code>@Query(value = \"SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM Banco b LEFT JOIN b.blackList a)) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)\",\n        countQuery = \"SELECT COUNT(y) FROM Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1)\")\nPage&lt;OfertaBancoDto&gt; randomSearch(Set&lt;StatusOferta&gt; filtroStatus, Pageable pageable);\n</code></pre>\n\n<p>Everytime I try to issue an orderby: </p>\n\n<pre><code>new PageRequest(0, 10, new Sort(Direction.ASC, \"titulo\"));\n</code></pre>\n\n<p>the result query is (b.titulo is the problem, since b represents the wrong table):</p>\n\n<pre><code>SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM com.foo.entity.Banco b LEFT JOIN b.blackList a)) FROM com.foo.entity.Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM com.foo.entity.Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by b.titulo asc\n</code></pre>\n\n<p>The correct query should be:</p>\n\n<pre><code>SELECT NEW com.foo.dto.OfertaBancoDto(y,(SELECT CASE a.id WHEN NULL THEN 0 ELSE 1 END FROM com.foo.entity.Banco b LEFT JOIN b.blackList a)) FROM com.foo.entity.Oferta y WHERE y.id IN (SELECT DISTINCT (o.id) FROM com.foo.entity.Oferta o WHERE o.status IN (?1) AND o.dataRemocao IS NULL AND o.status = 1) order by y.titulo asc\n</code></pre>\n\n<p>How can I specify the table the orderby should filter on?</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":4002522,"reputation":751,"user_id":3298175,"display_name":"jboot"},"score":0,"creation_date":1642420618,"post_id":70740870,"comment_id":125058124,"body_markdown":"Try supplying a collection (e.g. List) of strings instead of a single concatenated String.","body":"Try supplying a collection (e.g. List) of strings instead of a single concatenated String."},{"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"score":0,"creation_date":1642421156,"post_id":70740870,"comment_id":125058314,"body_markdown":"@jboot, I have tried to pass it as List&lt;String&gt;, but getting same error","body":"@jboot, I have tried to pass it as List&lt;String&gt;, but getting same error"},{"owner":{"account_id":4002522,"reputation":751,"user_id":3298175,"display_name":"jboot"},"score":0,"creation_date":1642422042,"post_id":70740870,"comment_id":125058665,"body_markdown":"Ah, I think it&#39;s because you&#39;re still getting a query similar to `(alert_id,event_id) in (&#39;(1,1)&#39;, &#39;(7,8)&#39;)`. So you&#39;re not getting tuples, but strings. I don&#39;t know exactly how to do it, but I would start experimenting using nested lists (e.g. `List&lt;List&lt;Integer&gt;&gt;`) if I were you. You might need another (perhaps even custom made) class that translates into a record instead of an array. Another option could be to find some PostgreSQL casting mechanism to turn them into records. Lastly you could also look into PostgreSQL arrays in combination with the `var = ANY(array)` expression.","body":"Ah, I think it&#39;s because you&#39;re still getting a query similar to <code>(alert_id,event_id) in (&#39;(1,1)&#39;, &#39;(7,8)&#39;)</code>. So you&#39;re not getting tuples, but strings. I don&#39;t know exactly how to do it, but I would start experimenting using nested lists (e.g. <code>List&lt;List&lt;Integer&gt;&gt;</code>) if I were you. You might need another (perhaps even custom made) class that translates into a record instead of an array. Another option could be to find some PostgreSQL casting mechanism to turn them into records. Lastly you could also look into PostgreSQL arrays in combination with the <code>var = ANY(array)</code> expression."},{"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"score":0,"creation_date":1642426559,"post_id":70740870,"comment_id":125060469,"body_markdown":"@jboot, I tried List&lt;List&lt;Integer&gt;&gt;, but getting same error","body":"@jboot, I tried List&lt;List&lt;Integer&gt;&gt;, but getting same error"}],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642420113,"creation_date":1642420113,"question_id":70740870,"body_markdown":"I&#39;m trying to execute below query from repo class\r\n\r\n    @Query(value = &quot;select alert_id,event_id,created_ts,created_user from product_config.alert_event_map where (alert_id,event_id) in (:combStr)&quot;,nativeQuery=true)\r\n    \tList&lt;Object[]&gt; fetchAlertDummy(@Param(&quot;combStr&quot;) String value);\r\n\r\nBut I&#39;m getting below error\r\n \r\n\r\n    ERROR: operator does not exist: record = character varying\r\n      Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n      Position: 112\r\n\r\nInvoking repo class method like below,\r\n\r\n    StringBuilder strBul=new StringBuilder();\r\n    \t\t\tstrBul.append(&quot;(1,1)&quot;).append(&quot;,&quot;).append(&quot;(7,8)&quot;);\r\n    \t\t\tList&lt;Object[]&gt; objArr = alertEventMapRepo.fetchAlertDummy(strBul.toString());\r\nBut the same query working fine in Postgresql DB,\r\n\r\n    select alert_id,event_id,created_ts,created_user from product_config.alert_event_map where (alert_id,event_id) in ((1,1),(7,8))\r\n\r\nHere alert_id and event_id are numeric column. I&#39;m trying to combine two columns in where clause. Please help me here, How to achieve this. Thanks in advance.","title":"Getting operator does not exist: record = character varying error, while executing query from repo class","body":"<p>I'm trying to execute below query from repo class</p>\n<pre><code>@Query(value = &quot;select alert_id,event_id,created_ts,created_user from product_config.alert_event_map where (alert_id,event_id) in (:combStr)&quot;,nativeQuery=true)\n    List&lt;Object[]&gt; fetchAlertDummy(@Param(&quot;combStr&quot;) String value);\n</code></pre>\n<p>But I'm getting below error</p>\n<pre><code>ERROR: operator does not exist: record = character varying\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 112\n</code></pre>\n<p>Invoking repo class method like below,</p>\n<pre><code>StringBuilder strBul=new StringBuilder();\n            strBul.append(&quot;(1,1)&quot;).append(&quot;,&quot;).append(&quot;(7,8)&quot;);\n            List&lt;Object[]&gt; objArr = alertEventMapRepo.fetchAlertDummy(strBul.toString());\n</code></pre>\n<p>But the same query working fine in Postgresql DB,</p>\n<pre><code>select alert_id,event_id,created_ts,created_user from product_config.alert_event_map where (alert_id,event_id) in ((1,1),(7,8))\n</code></pre>\n<p>Here alert_id and event_id are numeric column. I'm trying to combine two columns in where clause. Please help me here, How to achieve this. Thanks in advance.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642406672,"post_id":70737633,"comment_id":125053014,"body_markdown":"I&#39;m not sure Hibernate supports this, at least I&#39;m not aware of any such mapping. User types might be an option but given all the other things to keep in mind (lazy loading, first level cache, cascading etc.) this will be pretty hard to get right if doable at all.","body":"I&#39;m not sure Hibernate supports this, at least I&#39;m not aware of any such mapping. User types might be an option but given all the other things to keep in mind (lazy loading, first level cache, cascading etc.) this will be pretty hard to get right if doable at all."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642419040,"creation_date":1642418283,"answer_id":70740471,"question_id":70737633,"body_markdown":"Even if there would be ways to make this work with Hibernate (which may be hard as @Thomas suggested), you would most probably loose the foreign key constraint validation.\r\n\r\nNeither postresql nor mysql (just 2 examples) seem to support this:  \r\npostgresql: https://stackoverflow.com/questions/41054507/postgresql-array-of-elements-that-each-are-a-foreign-key  \r\nmysql: https://stackoverflow.com/questions/54013842/array-of-foreign-keys-in-one-column\r\n\r\nSo it might be best to stick with the standard association table.","title":"Mapping array column of ids for another entity in Hibernate","body":"<p>Even if there would be ways to make this work with Hibernate (which may be hard as @Thomas suggested), you would most probably loose the foreign key constraint validation.</p>\n<p>Neither postresql nor mysql (just 2 examples) seem to support this:<br />\npostgresql: <a href=\"https://stackoverflow.com/questions/41054507/postgresql-array-of-elements-that-each-are-a-foreign-key\">PostgreSQL array of elements that each are a foreign key</a><br />\nmysql: <a href=\"https://stackoverflow.com/questions/54013842/array-of-foreign-keys-in-one-column\">Array of foreign keys in one column</a></p>\n<p>So it might be best to stick with the standard association table.</p>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642419040,"creation_date":1642403270,"question_id":70737633,"body_markdown":"Say I have the following data in Postgresql table entity_b, which has an array column of ids from table entity_a:\r\n\r\n    id | e_a_ids[]\r\n    ---+----------\r\n    b1 | a1,a2,a3\r\n    b2 | a1,a3\r\n\r\nI want to map in Hibernate these two entities with annotations:\r\n\r\n    @Entity\r\n    class EntityA {\r\n        Set&lt;EntityB&gt; entityBs;\r\n    }\r\n\r\n    @Entity\r\n    class EntityB {\r\n        Set&lt;EntityA&gt; entityAs;\r\n    }\r\n\r\nI have found examples of custom hibernate type that works with array column, but those are for primitives not for another entity type. I can also use a normal id column instead of an array column with the traditional many to many method by introducing another mapping table, but thats not so much a question to ask here then.\r\n\r\nHow can a bidirectional mapping with an array column of ids for another entity be mapped in Hibernate for a Postgresql database tables?\r\n","title":"Mapping array column of ids for another entity in Hibernate","body":"<p>Say I have the following data in Postgresql table entity_b, which has an array column of ids from table entity_a:</p>\n<pre><code>id | e_a_ids[]\n---+----------\nb1 | a1,a2,a3\nb2 | a1,a3\n</code></pre>\n<p>I want to map in Hibernate these two entities with annotations:</p>\n<pre><code>@Entity\nclass EntityA {\n    Set&lt;EntityB&gt; entityBs;\n}\n\n@Entity\nclass EntityB {\n    Set&lt;EntityA&gt; entityAs;\n}\n</code></pre>\n<p>I have found examples of custom hibernate type that works with array column, but those are for primitives not for another entity type. I can also use a normal id column instead of an array column with the traditional many to many method by introducing another mapping table, but thats not so much a question to ask here then.</p>\n<p>How can a bidirectional mapping with an array column of ids for another entity be mapped in Hibernate for a Postgresql database tables?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642417701,"creation_date":1642417701,"answer_id":70740343,"question_id":70740208,"body_markdown":"According to the documentation, ES actually advises you to **not** use (termQuery) against TextFields, which address_number is:\r\n\r\n&gt; Term query edit\r\n&gt; \r\n&gt; Returns documents that contain an exact term in a provided field.\r\n&gt; \r\n&gt; You can use the term query to find documents based on a precise value\r\n&gt; such as a price, a product ID, or a username.\r\n&gt; \r\n&gt; **Avoid using the term query for text fields**\r\n\r\n&gt; \r\n&gt; By default, Elasticsearch changes the values of text fields as part of\r\n&gt; analysis. This can make finding exact matches for text field values\r\n&gt; difficult.\r\n&gt; \r\n&gt; To search text field values, **use the match query instead**.\r\n\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-term-query.html#query-dsl-term-query\r\n\r\nYou should use match instead:\r\n\r\nExample:\r\n\r\n    QueryBuilders.matchQuery(&quot;address_number&quot;, &quot;6&quot;)\r\n\r\n","title":"Elastic search: How to finding exact value","body":"<p>According to the documentation, ES actually advises you to <strong>not</strong> use (termQuery) against TextFields, which address_number is:</p>\n<blockquote>\n<p>Term query edit</p>\n<p>Returns documents that contain an exact term in a provided field.</p>\n<p>You can use the term query to find documents based on a precise value\nsuch as a price, a product ID, or a username.</p>\n<p><strong>Avoid using the term query for text fields</strong></p>\n</blockquote>\n<blockquote>\n<p>By default, Elasticsearch changes the values of text fields as part of\nanalysis. This can make finding exact matches for text field values\ndifficult.</p>\n<p>To search text field values, <strong>use the match query instead</strong>.</p>\n</blockquote>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-term-query.html#query-dsl-term-query\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/master/query-dsl-term-query.html#query-dsl-term-query</a></p>\n<p>You should use match instead:</p>\n<p>Example:</p>\n<pre><code>QueryBuilders.matchQuery(&quot;address_number&quot;, &quot;6&quot;)\n</code></pre>\n"}],"owner":{"account_id":22474235,"reputation":31,"user_id":16674220,"display_name":"Domenico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642419023,"creation_date":1642417109,"question_id":70740208,"body_markdown":"I am using the **ElasticSearch version 7.4** with Java API Client.\r\nI am facing an issue raleted to finding exact value: \r\n\r\nMy mapping: \r\n\r\n&gt; elasticsearch.address.mapping={&quot;properties&quot;:{&quot;address&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;analyzer&quot;:\r\n&gt; &quot;folding&quot;},&quot;id&quot;:{&quot;type&quot;:&quot;long&quot;},&quot;ward_name&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;analyzer&quot;:&quot;folding&quot;},\r\n&gt; &quot;**address_number**&quot;:{&quot;type&quot;:&quot;text&quot;, &quot;index&quot; : &quot;not_analyzed&quot;}}}\r\n\r\nMy java code:\r\n\r\n&gt; BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n&gt; boolQueryBuilder.must(QueryBuilders.termQuery(&quot;address_number&quot;, &quot;6&quot;));\r\n\r\nI have got some results:\r\n- 6/12\r\n- 6/10\r\n- 6\r\n- 16/6\r\n\r\nI only want to get the address number **6**, and will skip another results\r\n\r\nPlease help me on this. Thanks all\r\n\r\n","title":"Elastic search: How to finding exact value","body":"<p>I am using the <strong>ElasticSearch version 7.4</strong> with Java API Client.\nI am facing an issue raleted to finding exact value:</p>\n<p>My mapping:</p>\n<blockquote>\n<p>elasticsearch.address.mapping={&quot;properties&quot;:{&quot;address&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;analyzer&quot;:\n&quot;folding&quot;},&quot;id&quot;:{&quot;type&quot;:&quot;long&quot;},&quot;ward_name&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;analyzer&quot;:&quot;folding&quot;},\n&quot;<strong>address_number</strong>&quot;:{&quot;type&quot;:&quot;text&quot;, &quot;index&quot; : &quot;not_analyzed&quot;}}}</p>\n</blockquote>\n<p>My java code:</p>\n<blockquote>\n<p>BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\nboolQueryBuilder.must(QueryBuilders.termQuery(&quot;address_number&quot;, &quot;6&quot;));</p>\n</blockquote>\n<p>I have got some results:</p>\n<ul>\n<li>6/12</li>\n<li>6/10</li>\n<li>6</li>\n<li>16/6</li>\n</ul>\n<p>I only want to get the address number <strong>6</strong>, and will skip another results</p>\n<p>Please help me on this. Thanks all</p>\n"},{"tags":["java","android","timer","countdowntimer"],"comments":[{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1497238242,"post_id":44490897,"comment_id":75975946,"body_markdown":"What can you see for ` thx.setText(millisUntilFinished + &quot;&quot;);` ? Without division","body":"What can you see for ` thx.setText(millisUntilFinished + &quot;&quot;);` ? Without division"},{"owner":{"account_id":10564088,"reputation":641,"user_id":7782880,"accept_rate":100,"display_name":"Branson Camp"},"score":0,"creation_date":1497238625,"post_id":44490897,"comment_id":75976028,"body_markdown":"9901, 8901, 7900, 6897, 5896, 4890, 3890, 2889, 1888, (1888), ready","body":"9901, 8901, 7900, 6897, 5896, 4890, 3890, 2889, 1888, (1888), ready"},{"owner":{"account_id":7703701,"reputation":131,"user_id":5835296,"display_name":"J. Knight"},"score":0,"creation_date":1497238948,"post_id":44490897,"comment_id":75976094,"body_markdown":"How about instantiating the start time e.g. 10000 above the timer and then on tick you could just decrement that value by 1000 and then divide that number for your output. This would give you much more control and precision.","body":"How about instantiating the start time e.g. 10000 above the timer and then on tick you could just decrement that value by 1000 and then divide that number for your output. This would give you much more control and precision."},{"owner":{"account_id":10564088,"reputation":641,"user_id":7782880,"accept_rate":100,"display_name":"Branson Camp"},"score":0,"creation_date":1497239596,"post_id":44490897,"comment_id":75976230,"body_markdown":"@J. Knight Simple yet effective solution that I should have thought of before.","body":"@J. Knight Simple yet effective solution that I should have thought of before."}],"answers":[{"tags":[],"owner":{"account_id":7706779,"reputation":194,"user_id":5837488,"accept_rate":45,"display_name":"William Willi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1497238118,"creation_date":1497238118,"answer_id":44491017,"question_id":44490897,"body_markdown":"Try this one for counter:\r\n\r\n\r\n       public void CountDown() {\r\n        final TextView textic = (TextView) findViewById(R.id.tvConuter);\r\n\r\n        CountDownTimer Count = new CountDownTimer(10000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                long str = millisUntilFinished / 1000;\r\n                String TimeFinished = String.valueOf(str);\r\n                textic.setText(TimeFinished);\r\n            }\r\n            public void onFinish() {\r\n                textic.setText(&quot;STOP&quot;);\r\n               \r\n            }\r\n        };\r\n        Count.start();\r\n    }\r\n\r\nThis worked perfectly for me.","title":"Make countdown timer go from 10sec to 1sec","body":"<p>Try this one for counter:</p>\n\n<pre><code>   public void CountDown() {\n    final TextView textic = (TextView) findViewById(R.id.tvConuter);\n\n    CountDownTimer Count = new CountDownTimer(10000, 1000) {\n        public void onTick(long millisUntilFinished) {\n            long str = millisUntilFinished / 1000;\n            String TimeFinished = String.valueOf(str);\n            textic.setText(TimeFinished);\n        }\n        public void onFinish() {\n            textic.setText(\"STOP\");\n\n        }\n    };\n    Count.start();\n}\n</code></pre>\n\n<p>This worked perfectly for me.</p>\n"},{"tags":[],"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497239552,"creation_date":1497239552,"answer_id":44491171,"question_id":44490897,"body_markdown":"I would suggest to use `Timer()` or `Handler()` class.\r\n\r\n    int tick = 0;\r\n        Handler handler = new Handler();\r\n        Runnable r = new Runnable() {void run(){\r\n    if (i &lt; 10) {\r\n    handler.postDelayed()}\r\n    else {\r\n    //finished\r\n    tick = 0;\r\n    }}};\r\n\r\nstarting:\r\n\r\n`handler.post(r);`","title":"Make countdown timer go from 10sec to 1sec","body":"<p>I would suggest to use <code>Timer()</code> or <code>Handler()</code> class.</p>\n\n<pre><code>int tick = 0;\n    Handler handler = new Handler();\n    Runnable r = new Runnable() {void run(){\nif (i &lt; 10) {\nhandler.postDelayed()}\nelse {\n//finished\ntick = 0;\n}}};\n</code></pre>\n\n<p>starting:</p>\n\n<p><code>handler.post(r);</code></p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497247652,"creation_date":1497247652,"answer_id":44492415,"question_id":44490897,"body_markdown":"    new CountDownTimer(10000, 1000) {\r\n\r\n    public void onTick(long millisUntilFinished) {\r\n        mTextField.setText(&quot;seconds: &quot; + millisUntilFinished / 1000);\r\n       //here you can have your logic to set text to edittext\r\n    }\r\n\r\n    public void onFinish() {\r\n        mTextField.setText(&quot;done!&quot;);\r\n    }\r\n\r\n    }.start();","title":"Make countdown timer go from 10sec to 1sec","body":"<pre><code>new CountDownTimer(10000, 1000) {\n\npublic void onTick(long millisUntilFinished) {\n    mTextField.setText(\"seconds: \" + millisUntilFinished / 1000);\n   //here you can have your logic to set text to edittext\n}\n\npublic void onFinish() {\n    mTextField.setText(\"done!\");\n}\n\n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1497250121,"creation_date":1497249437,"answer_id":44492812,"question_id":44490897,"body_markdown":"This is just my investigation on CountDownTimer when I used CountDownTimer \r\n few month before and its work fine in my application.\r\n\r\n    public void onTick(long millisUntilFinished)\r\n\r\nThis millisUntilFinished will give the remaining time in millisecond, and last 1000 millisecond is to call onFinish() method, So onTick method will get called until the remaining time is more than (1000(for OnFinish)  + 1000(for counter)) milliseconds, if the last remaining millisecond is less than 2000millisecond it will skip the onTick() and it will directly call onFinish() when timer ends. For more details just see [Handler][1] method in this source.\r\n\r\nSo the main problem is when we give some X(our case 10000)milliseconds, but to start the counter it&#39;s taking some 50 to 150 milliseconds, So if we add that millisecond in our total time we will get the counter until end,\r\n\r\nSo you can try like this, Nothing change just I added 150 milliseconds in your total time.\r\n\r\n    void startTimer() {\r\n        cTimer = new CountDownTimer(10150, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                c.setText(&quot;Please wait &quot; + millisUntilFinished/1000 + &quot; seconds&quot;);\r\n                thx.setText(millisUntilFinished/1000 + &quot;&quot;);\r\n                thx.setAlpha(.5f);\r\n                thx.setClickable(false);\r\n    \r\n            }\r\n            public void onFinish() {\r\n            c.setText(&quot;done&quot;);\r\n                thx.setText(&quot;ready&quot;);\r\n                thx.setAlpha(1f);\r\n                thx.setClickable(true);\r\n            }\r\n        };\r\n        cTimer.start();\r\n    }\r\n\r\nLet me know if its works or not, If you ask me why you are not using Handler, I can say [CountDownTime][2] internally using Handler.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/os/CountDownTimer.java#handleMessage\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/os/CountDownTimer.java","title":"Make countdown timer go from 10sec to 1sec","body":"<p>This is just my investigation on CountDownTimer when I used CountDownTimer \n few month before and its work fine in my application.</p>\n\n<pre><code>public void onTick(long millisUntilFinished)\n</code></pre>\n\n<p>This millisUntilFinished will give the remaining time in millisecond, and last 1000 millisecond is to call onFinish() method, So onTick method will get called until the remaining time is more than (1000(for OnFinish)  + 1000(for counter)) milliseconds, if the last remaining millisecond is less than 2000millisecond it will skip the onTick() and it will directly call onFinish() when timer ends. For more details just see <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/os/CountDownTimer.java#handleMessage\" rel=\"nofollow noreferrer\">Handler</a> method in this source.</p>\n\n<p>So the main problem is when we give some X(our case 10000)milliseconds, but to start the counter it's taking some 50 to 150 milliseconds, So if we add that millisecond in our total time we will get the counter until end,</p>\n\n<p>So you can try like this, Nothing change just I added 150 milliseconds in your total time.</p>\n\n<pre><code>void startTimer() {\n    cTimer = new CountDownTimer(10150, 1000) {\n        public void onTick(long millisUntilFinished) {\n            c.setText(\"Please wait \" + millisUntilFinished/1000 + \" seconds\");\n            thx.setText(millisUntilFinished/1000 + \"\");\n            thx.setAlpha(.5f);\n            thx.setClickable(false);\n\n        }\n        public void onFinish() {\n        c.setText(\"done\");\n            thx.setText(\"ready\");\n            thx.setAlpha(1f);\n            thx.setClickable(true);\n        }\n    };\n    cTimer.start();\n}\n</code></pre>\n\n<p>Let me know if its works or not, If you ask me why you are not using Handler, I can say <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/os/CountDownTimer.java\" rel=\"nofollow noreferrer\">CountDownTime</a> internally using Handler.</p>\n"},{"tags":[],"owner":{"account_id":17090963,"reputation":13,"user_id":12367125,"display_name":"MetalHepple"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642418969,"creation_date":1640082328,"answer_id":70433940,"question_id":44490897,"body_markdown":"    private void countDownTimer(int seconds) {\r\n\r\n        countDownTimer = new CountDownTimer(seconds * 1000L, 1000 - 500) {\r\n\r\n            public void onTick(long millisUntilFinished) {\r\n\r\n                //Convert to seconds\r\n                int secondsUnillFinished = (int) (millisUntilFinished / 1000);\r\n\r\n                //Set text to seconds\r\n                textView.setText(String.valueOf(secondsUnillFinished));\r\n\r\n                //At zero, do something\r\n                if(secondsUnillFinished == 0) {\r\n                    countDownTimer.cancel();\r\n                    textView.setVisibility(View.INVISIBLE);\r\n                }\r\n            }\r\n\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            public void onFinish() {\r\n               //Dont put anything here\r\n            }\r\n\r\n        }.start();\r\n    }","title":"Make countdown timer go from 10sec to 1sec","body":"<pre><code>private void countDownTimer(int seconds) {\n\n    countDownTimer = new CountDownTimer(seconds * 1000L, 1000 - 500) {\n\n        public void onTick(long millisUntilFinished) {\n\n            //Convert to seconds\n            int secondsUnillFinished = (int) (millisUntilFinished / 1000);\n\n            //Set text to seconds\n            textView.setText(String.valueOf(secondsUnillFinished));\n\n            //At zero, do something\n            if(secondsUnillFinished == 0) {\n                countDownTimer.cancel();\n                textView.setVisibility(View.INVISIBLE);\n            }\n        }\n\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        public void onFinish() {\n           //Dont put anything here\n        }\n\n    }.start();\n}\n</code></pre>\n"}],"owner":{"account_id":10564088,"reputation":641,"user_id":7782880,"accept_rate":100,"display_name":"Branson Camp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44492812,"answer_count":5,"score":5,"last_activity_date":1642418969,"creation_date":1497237051,"question_id":44490897,"body_markdown":"I have a CountDown timer that counts down from 10000ms to 0ms in increments of 1 second each to make a button clickable after 10 seconds. Although the timer is accurate and does what the code says, I would like to change the way the seconds are expressed but I don&#39;t know how.\r\n\r\njava:\r\n\r\n    void startTimer() {\r\n        cTimer = new CountDownTimer(10000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                c.setText(&quot;Please wait &quot; + millisUntilFinished/1000 + &quot; seconds&quot;);\r\n                thx.setText(millisUntilFinished/1000 + &quot;&quot;);\r\n                thx.setAlpha(.5f);\r\n                thx.setClickable(false);\r\n\r\n            }\r\n            public void onFinish() {\r\n            c.setText(&quot;done&quot;);\r\n                thx.setText(&quot;ready&quot;);\r\n                thx.setAlpha(1f);\r\n                thx.setClickable(true);\r\n            }\r\n        };\r\n        cTimer.start();\r\n    }\r\n\r\n\r\nOutputted (Every second): `9, 8, 7, 6, 5, 4, 3, 2, 1, (still 1), ready`\r\n\r\nDesired: (Every second): `10, 9, 8, 7, 6, 5, 4, 3, 2, 1, ready`\r\n\r\nThanks,\r\n\r\nB\r\n\r\n**EDIT:**\r\n\r\nI added 1 to the countdown, `thx.setText(((millisUntilFinished/1000) + 1) + &quot;&quot;);`\r\n\r\nNew output: `10, 9, 8, 7, 6, 5, 4 ,3 , 2, (Still 2), ready`\r\n\r\nCloser... but not quite.\r\n\r\n\r\n\r\n","title":"Make countdown timer go from 10sec to 1sec","body":"<p>I have a CountDown timer that counts down from 10000ms to 0ms in increments of 1 second each to make a button clickable after 10 seconds. Although the timer is accurate and does what the code says, I would like to change the way the seconds are expressed but I don't know how.</p>\n\n<p>java:</p>\n\n<pre><code>void startTimer() {\n    cTimer = new CountDownTimer(10000, 1000) {\n        public void onTick(long millisUntilFinished) {\n            c.setText(\"Please wait \" + millisUntilFinished/1000 + \" seconds\");\n            thx.setText(millisUntilFinished/1000 + \"\");\n            thx.setAlpha(.5f);\n            thx.setClickable(false);\n\n        }\n        public void onFinish() {\n        c.setText(\"done\");\n            thx.setText(\"ready\");\n            thx.setAlpha(1f);\n            thx.setClickable(true);\n        }\n    };\n    cTimer.start();\n}\n</code></pre>\n\n<p>Outputted (Every second): <code>9, 8, 7, 6, 5, 4, 3, 2, 1, (still 1), ready</code></p>\n\n<p>Desired: (Every second): <code>10, 9, 8, 7, 6, 5, 4, 3, 2, 1, ready</code></p>\n\n<p>Thanks,</p>\n\n<p>B</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I added 1 to the countdown, <code>thx.setText(((millisUntilFinished/1000) + 1) + \"\");</code></p>\n\n<p>New output: <code>10, 9, 8, 7, 6, 5, 4 ,3 , 2, (Still 2), ready</code></p>\n\n<p>Closer... but not quite.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1642417227,"post_id":70740228,"comment_id":125056813,"body_markdown":"You don&#39;t have a terminal operation, so the stream is never evaluated. Try adding `.forEach(num -&gt; {});` after the `map` (or use `forEach` instead of `map`). (I&#39;m also assuming `nums` is non-empty).","body":"You don&#39;t have a terminal operation, so the stream is never evaluated. Try adding <code>.forEach(num -&gt; {});</code> after the <code>map</code> (or use <code>forEach</code> instead of <code>map</code>). (I&#39;m also assuming <code>nums</code> is non-empty)."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1642417509,"post_id":70740228,"comment_id":125056910,"body_markdown":"There has to be a good canonical &quot;because you don&#39;t have a terminal operation&quot; target question...","body":"There has to be a good canonical &quot;because you don&#39;t have a terminal operation&quot; target question..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642417523,"post_id":70740228,"comment_id":125056915,"body_markdown":"@T.J.Crowder yeah, you&#39;d think.","body":"@T.J.Crowder yeah, you&#39;d think."},{"owner":{"account_id":7935039,"reputation":31,"user_id":5991400,"display_name":"NJS"},"score":0,"creation_date":1642417706,"post_id":70740228,"comment_id":125056972,"body_markdown":"Thank you. After adding &quot;.collect(Collectors.toList())&quot;, I can catch the RuntimeExceptino.","body":"Thank you. After adding &quot;.collect(Collectors.toList())&quot;, I can catch the RuntimeExceptino."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1642417714,"post_id":70740228,"comment_id":125056974,"body_markdown":"@Lino good find.","body":"@Lino good find."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1642418034,"post_id":70740228,"comment_id":125057096,"body_markdown":"@Lino maybe I just didn&#39;t think far enough away from the phrase &quot;terminal operation&quot;... :)","body":"@Lino maybe I just didn&#39;t think far enough away from the phrase &quot;terminal operation&quot;... :)"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642417507,"creation_date":1642417507,"answer_id":70740301,"question_id":70740228,"body_markdown":"As it says in [the Javadoc of the `java.util.stream` package](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html) (emphasis added):\r\n\r\n&gt; Intermediate operations return a new stream. They are always lazy; executing an intermediate operation such as filter() does not actually perform any filtering, but instead creates a new stream that, when traversed, contains the elements of the initial stream that match the given predicate. **Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.**\r\n\r\n[`map` is an intermediate operation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)), and you don&#39;t have a terminal operation. As such, the pipeline source is not traversed.\r\n\r\nChange `map` to `forEach` (and remove the `return`):\r\n\r\n    nums.stream().forEach((num) -&gt; {\r\n        test();\r\n    });\r\n\r\n(I assume also that `nums` is non-empty).","title":"Why stream don&#39;t throw RuntimeException?","body":"<p>As it says in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">the Javadoc of the <code>java.util.stream</code> package</a> (emphasis added):</p>\n<blockquote>\n<p>Intermediate operations return a new stream. They are always lazy; executing an intermediate operation such as filter() does not actually perform any filtering, but instead creates a new stream that, when traversed, contains the elements of the initial stream that match the given predicate. <strong>Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.</strong></p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map</code> is an intermediate operation</a>, and you don't have a terminal operation. As such, the pipeline source is not traversed.</p>\n<p>Change <code>map</code> to <code>forEach</code> (and remove the <code>return</code>):</p>\n<pre><code>nums.stream().forEach((num) -&gt; {\n    test();\n});\n</code></pre>\n<p>(I assume also that <code>nums</code> is non-empty).</p>\n"}],"owner":{"account_id":7935039,"reputation":31,"user_id":5991400,"display_name":"NJS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642417691,"answer_count":1,"score":0,"last_activity_date":1642417926,"creation_date":1642417203,"question_id":70740228,"body_markdown":"Test method always throw RuntimeException. And I can catch the RuntimeException\r\n```\r\nvoid test() {\r\n    throw new RuntimeException();\r\n}\r\n```\r\n```\r\nSystem.out.println(&quot;start&quot;);\r\ntry {    \r\n\ttest();\r\n}\r\ncatch(RuntimeException e) {\r\n\tSystem.out.println(e);\r\n}\r\nSystem.out.println(&quot;end&quot;);\r\n```\r\nThis codes show the below result. \r\n&gt; start&lt;br/&gt;\r\n&gt; java.lang.RuntimeException&lt;br/&gt;\r\n&gt; end&lt;br/&gt;\r\n\r\nBut, In a stream, I can&#39;t catch the RuntimeException.\r\n\r\n```\r\nSystem.out.println(&quot;start&quot;);\r\ntry {    \r\n    nums.stream().map((num) -&gt; {\r\n    \ttest();\r\n    \treturn null;\r\n    });\r\n}\r\ncatch(RuntimeException e) {\r\n\tSystem.out.println(e);\r\n}\r\nSystem.out.println(&quot;end&quot;);\r\n```\r\nThis codes show the below result. \r\n&gt; start&lt;br/&gt;\r\n&gt; end&lt;br/&gt;\r\n\r\nWhy I can&#39;t catch the RuntimeException in stream.","title":"Why stream don&#39;t throw RuntimeException?","body":"<p>Test method always throw RuntimeException. And I can catch the RuntimeException</p>\n<pre><code>void test() {\n    throw new RuntimeException();\n}\n</code></pre>\n<pre><code>System.out.println(&quot;start&quot;);\ntry {    \n    test();\n}\ncatch(RuntimeException e) {\n    System.out.println(e);\n}\nSystem.out.println(&quot;end&quot;);\n</code></pre>\n<p>This codes show the below result.</p>\n<blockquote>\n<p>start<br/>\njava.lang.RuntimeException<br/>\nend<br/></p>\n</blockquote>\n<p>But, In a stream, I can't catch the RuntimeException.</p>\n<pre><code>System.out.println(&quot;start&quot;);\ntry {    \n    nums.stream().map((num) -&gt; {\n        test();\n        return null;\n    });\n}\ncatch(RuntimeException e) {\n    System.out.println(e);\n}\nSystem.out.println(&quot;end&quot;);\n</code></pre>\n<p>This codes show the below result.</p>\n<blockquote>\n<p>start<br/>\nend<br/></p>\n</blockquote>\n<p>Why I can't catch the RuntimeException in stream.</p>\n"},{"tags":["java","aws-lambda","aws-amplify"],"owner":{"account_id":23825794,"reputation":71,"user_id":17832858,"display_name":"Mink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642417656,"creation_date":1642417656,"question_id":70740329,"body_markdown":"I&#39;m totally new with these AWS stuff. I&#39;m trying to establish a jdbc connection in my lambda function with my local database.  This my my gradle file config \r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation platform(&#39;software.amazon.awssdk:bom:2.15.0&#39;)\r\n        implementation &#39;com.amazonaws:aws-lambda-java-core:1.2.0&#39;\r\n        implementation &#39;com.amazonaws:aws-lambda-java-events:2.2.7&#39;\r\n        implementation &#39;org.mariadb.jdbc:mariadb-java-client:2.7.3&#39;\r\n        implementation &#39;mysql:mysql-connector-java:8.0.27&#39;\r\n    }\r\n    \r\n    jar.baseName = &#39;latest_build&#39;\r\n    \r\n    task buildZip(type: Zip) {\r\n        from compileJava\r\n        from processResources\r\n        into(&#39;lib&#39;) {\r\n            from configurations.runtimeClasspath\r\n        }\r\n        archiveFileName = &#39;latest_build.zip&#39;\r\n    }\r\n    \r\n    build.dependsOn buildZip\r\n\r\nThis is my handler\r\n\r\n    public class LambdaRequestHandler implements RequestHandler&lt;RequestClass, ResponseClass&gt;{\r\n\r\n    public ResponseClass handleRequest(RequestClass request, Context context){\r\n        String greetingString = String.format(&quot;Hello %s %s!&quot;, request.firstName, request.lastName);\r\n        \r\n        Connection con = null;\r\n\r\n        String connURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n        String username = &quot;root&quot;;\r\n        String password = &quot;123456&quot;;\r\n\r\n        try {\r\n            Class.forName(&quot;org.mysql.jdbc.Driver&quot;);\r\n            con = DriverManager.getConnection(connURL, username, password);\r\n            System.out.println(&quot;connection created&quot;);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return new ResponseClass(greetingString);\r\n      }\r\n    }\r\n\r\nWhenever I run **amplify mock function**, I always get **java.lang.ClassNotFoundException: org.mysql.jdbc.Driver**  \r\nIt seems that my code never reaches the connection Jar files, but these files are shown in my build zip folder. Is there anyway I can load these files only on my local device?","title":"Cannot load external library in Amplify lambda function","body":"<p>I'm totally new with these AWS stuff. I'm trying to establish a jdbc connection in my lambda function with my local database.  This my my gradle file config</p>\n<pre><code>apply plugin: 'java'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation platform('software.amazon.awssdk:bom:2.15.0')\n    implementation 'com.amazonaws:aws-lambda-java-core:1.2.0'\n    implementation 'com.amazonaws:aws-lambda-java-events:2.2.7'\n    implementation 'org.mariadb.jdbc:mariadb-java-client:2.7.3'\n    implementation 'mysql:mysql-connector-java:8.0.27'\n}\n\njar.baseName = 'latest_build'\n\ntask buildZip(type: Zip) {\n    from compileJava\n    from processResources\n    into('lib') {\n        from configurations.runtimeClasspath\n    }\n    archiveFileName = 'latest_build.zip'\n}\n\nbuild.dependsOn buildZip\n</code></pre>\n<p>This is my handler</p>\n<pre><code>public class LambdaRequestHandler implements RequestHandler&lt;RequestClass, ResponseClass&gt;{\n\npublic ResponseClass handleRequest(RequestClass request, Context context){\n    String greetingString = String.format(&quot;Hello %s %s!&quot;, request.firstName, request.lastName);\n    \n    Connection con = null;\n\n    String connURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\n    String username = &quot;root&quot;;\n    String password = &quot;123456&quot;;\n\n    try {\n        Class.forName(&quot;org.mysql.jdbc.Driver&quot;);\n        con = DriverManager.getConnection(connURL, username, password);\n        System.out.println(&quot;connection created&quot;);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return new ResponseClass(greetingString);\n  }\n}\n</code></pre>\n<p>Whenever I run <strong>amplify mock function</strong>, I always get <strong>java.lang.ClassNotFoundException: org.mysql.jdbc.Driver</strong><br />\nIt seems that my code never reaches the connection Jar files, but these files are shown in my build zip folder. Is there anyway I can load these files only on my local device?</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1583234190,"post_id":60505923,"comment_id":107039751,"body_markdown":"Whenever you sign a PDF interoperably, all of its pages are signed. So do you probably mean that you want to sign the PDF with one signature and get visualizations of the signature on each document page? Or do you mean something else entirely?","body":"Whenever you sign a PDF interoperably, all of its pages are signed. So do you probably mean that you want to sign the PDF with one signature and get visualizations of the signature on each document page? Or do you mean something else entirely?"},{"owner":{"account_id":3252816,"reputation":265,"user_id":2742660,"display_name":"Seshidhar G"},"score":0,"creation_date":1583234264,"post_id":60505923,"comment_id":107039791,"body_markdown":"The last comment in this [link](https://stackoverflow.com/questions/35701597/how-to-show-digital-pdf-signature-in-all-documents-page-using-itext) might resolve your issue","body":"The last comment in this <a href=\"https://stackoverflow.com/questions/35701597/how-to-show-digital-pdf-signature-in-all-documents-page-using-itext\">link</a> might resolve your issue"},{"owner":{"account_id":14814716,"reputation":1,"user_id":10699150,"display_name":"K A Pandian"},"score":0,"creation_date":1583236281,"post_id":60505923,"comment_id":107040831,"body_markdown":"@mkl Yes we want to visualise of the signature on each document page.","body":"@mkl Yes we want to visualise of the signature on each document page."},{"owner":{"account_id":14814716,"reputation":1,"user_id":10699150,"display_name":"K A Pandian"},"score":0,"creation_date":1583239038,"post_id":60505923,"comment_id":107042239,"body_markdown":"@mkl Please help me to resolve this","body":"@mkl Please help me to resolve this"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1583252660,"post_id":60505923,"comment_id":107050156,"body_markdown":"First of all, you surely know that having multiple appearances of the same signature is against the spirit or even the letter of the PDF specification. Nonetheless you can still create such signatures with multiple visualizations which Adobe Reader validates positively. If you&#39;re ok with actually patching iText, you may want to follow [this answer](https://stackoverflow.com/a/40757386/1729265). If you are not, you may want to port [this iTextSharp](https://stackoverflow.com/a/47762053/1729265) implementation.","body":"First of all, you surely know that having multiple appearances of the same signature is against the spirit or even the letter of the PDF specification. Nonetheless you can still create such signatures with multiple visualizations which Adobe Reader validates positively. If you&#39;re ok with actually patching iText, you may want to follow <a href=\"https://stackoverflow.com/a/40757386/1729265\">this answer</a>. If you are not, you may want to port <a href=\"https://stackoverflow.com/a/47762053/1729265\">this iTextSharp</a> implementation."}],"owner":{"account_id":14814716,"reputation":1,"user_id":10699150,"display_name":"K A Pandian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642417446,"answer_count":0,"score":0,"last_activity_date":1642417472,"creation_date":1583233770,"question_id":60505923,"body_markdown":"Everyone we required some help to resolve our problem. We are trying to sign all pages in a PDF using iText Java but unable to get proper result. Signing all pages with same signature is not happening and signing is happening last page of the PDF document.\r\n\r\nAlso we have tried with addAnnotation method like\r\n\r\n    stamper.addAnnotation(fieldSign, p)\r\n\r\nHere i have added tried code snippet. \r\n\r\n    String sourcefile= &quot;User_Application_withoutsign.pdf&quot;;\r\n    System.out.println(&quot;Path---&gt;&quot;+sourcefile);\r\n    destFile= &quot;User_Application_signed.pdf&quot;;\r\n    reader =  new PdfReader(sourcefile);\r\n\r\n    Rectangle cropBox = reader.getCropBox(1);\r\n    Rectangle rectangle = null;\r\n    String user=null;\r\n    rectangle = new Rectangle(cropBox.getLeft(50),cropBox.getBottom(), cropBox.getLeft(500),cropBox.getBottom(100));\r\n    //rectangle.setWi\r\n    fout = new FileOutputStream(destFile);\r\n    PdfStamper stamper = PdfStamper.createSignature(reader, fout, &#39;\\0&#39;, null, true);\r\n    appearance = stamper.getSignatureAppearance();\r\n    appearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);          \r\n    Calendar currentDat = Calendar.getInstance();\r\n    currentDat.add(currentDat.MINUTE, 5);\r\n    appearance.setSignDate(currentDat);\r\n    appearance.setLayer2Text(&quot;Signed By&quot;);\r\n    appearance.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\r\n    appearance.setImage(null);\r\n    appearance.setVisibleSignature(rectangle, reader.getNumberOfPages(), null);\r\n    int contentEstimated = 8192;\r\n    HashMap&lt;PdfName, Integer&gt; exc = new HashMap();\r\n    exc.put(PdfName.CONTENTS, contentEstimated * 2 + 2);\r\n\r\n    PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\r\n    dic.setReason(appearance.getReason());\r\n    dic.setLocation(appearance.getLocation());\r\n    dic.setDate(new PdfDate(appearance.getSignDate()));\r\n\r\n    appearance.setCryptoDictionary(dic);\r\n\r\n    // Multiple Page Signature Annotations\r\n    /*PdfWriter pdfWriter = stamper.getWriter();\r\n    for (int p = 1; p &lt;= reader.getNumberOfPages(); p++) {\r\n        PdfFormField fieldSign = PdfFormField.createSignature(pdfWriter);\r\n        fieldSign.setValue(dic);\r\n        fieldSign.setFieldName(&quot;Test&quot;);\r\n        fieldSign.setWidget(rectangle, PdfAnnotation.HIGHLIGHT_NONE);\r\n        fieldSign.setFieldFlags(PdfAnnotation.FLAGS_READONLY);\r\n        stamper.addAnnotation(fieldSign, p);\r\n    }*/\r\n    //End Annotations\r\n\r\n    appearance.preClose(exc);\r\n    BufferedReader resreader = new BufferedReader(new FileReader(&quot;certificate.xml&quot;));\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    String line = null;\r\n    String ls = System.getProperty(&quot;line.separator&quot;);\r\n    while ((line = resreader.readLine()) != null) {\r\n        stringBuilder.append(line);\r\n        stringBuilder.append(ls);\r\n    }\r\n\r\n    stringBuilder.deleteCharAt(stringBuilder.length() - 1);\r\n    resreader.close();\r\n    String response = stringBuilder.toString();\r\n    System.out.println(&quot;Response Signature:&quot;+response);\r\n    String pkcsResponse = new XmlSigning().parseXml(response.trim());\r\n    System.out.println(&quot;DSA:&quot;+pkcsResponse);\r\n    byte[] sigbytes = Base64.decodeBase64(pkcsResponse);\r\n    byte[] paddedSig = new byte[contentEstimated];\r\n    System.arraycopy(sigbytes, 0, paddedSig, 0, sigbytes.length);\r\n    PdfDictionary dic2 = new PdfDictionary();\r\n    dic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\r\n    appearance.close(dic2);\r\n\r\nSo kindly guide me to resolve this problem.\r\n\r\n","title":"Sign PDF all pages Using iText Java","body":"<p>Everyone we required some help to resolve our problem. We are trying to sign all pages in a PDF using iText Java but unable to get proper result. Signing all pages with same signature is not happening and signing is happening last page of the PDF document.</p>\n\n<p>Also we have tried with addAnnotation method like</p>\n\n<pre><code>stamper.addAnnotation(fieldSign, p)\n</code></pre>\n\n<p>Here i have added tried code snippet. </p>\n\n<pre><code>String sourcefile= \"User_Application_withoutsign.pdf\";\nSystem.out.println(\"Path---&gt;\"+sourcefile);\ndestFile= \"User_Application_signed.pdf\";\nreader =  new PdfReader(sourcefile);\n\nRectangle cropBox = reader.getCropBox(1);\nRectangle rectangle = null;\nString user=null;\nrectangle = new Rectangle(cropBox.getLeft(50),cropBox.getBottom(), cropBox.getLeft(500),cropBox.getBottom(100));\n//rectangle.setWi\nfout = new FileOutputStream(destFile);\nPdfStamper stamper = PdfStamper.createSignature(reader, fout, '\\0', null, true);\nappearance = stamper.getSignatureAppearance();\nappearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);          \nCalendar currentDat = Calendar.getInstance();\ncurrentDat.add(currentDat.MINUTE, 5);\nappearance.setSignDate(currentDat);\nappearance.setLayer2Text(\"Signed By\");\nappearance.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\nappearance.setImage(null);\nappearance.setVisibleSignature(rectangle, reader.getNumberOfPages(), null);\nint contentEstimated = 8192;\nHashMap&lt;PdfName, Integer&gt; exc = new HashMap();\nexc.put(PdfName.CONTENTS, contentEstimated * 2 + 2);\n\nPdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\ndic.setReason(appearance.getReason());\ndic.setLocation(appearance.getLocation());\ndic.setDate(new PdfDate(appearance.getSignDate()));\n\nappearance.setCryptoDictionary(dic);\n\n// Multiple Page Signature Annotations\n/*PdfWriter pdfWriter = stamper.getWriter();\nfor (int p = 1; p &lt;= reader.getNumberOfPages(); p++) {\n    PdfFormField fieldSign = PdfFormField.createSignature(pdfWriter);\n    fieldSign.setValue(dic);\n    fieldSign.setFieldName(\"Test\");\n    fieldSign.setWidget(rectangle, PdfAnnotation.HIGHLIGHT_NONE);\n    fieldSign.setFieldFlags(PdfAnnotation.FLAGS_READONLY);\n    stamper.addAnnotation(fieldSign, p);\n}*/\n//End Annotations\n\nappearance.preClose(exc);\nBufferedReader resreader = new BufferedReader(new FileReader(\"certificate.xml\"));\nStringBuilder stringBuilder = new StringBuilder();\nString line = null;\nString ls = System.getProperty(\"line.separator\");\nwhile ((line = resreader.readLine()) != null) {\n    stringBuilder.append(line);\n    stringBuilder.append(ls);\n}\n\nstringBuilder.deleteCharAt(stringBuilder.length() - 1);\nresreader.close();\nString response = stringBuilder.toString();\nSystem.out.println(\"Response Signature:\"+response);\nString pkcsResponse = new XmlSigning().parseXml(response.trim());\nSystem.out.println(\"DSA:\"+pkcsResponse);\nbyte[] sigbytes = Base64.decodeBase64(pkcsResponse);\nbyte[] paddedSig = new byte[contentEstimated];\nSystem.arraycopy(sigbytes, 0, paddedSig, 0, sigbytes.length);\nPdfDictionary dic2 = new PdfDictionary();\ndic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\nappearance.close(dic2);\n</code></pre>\n\n<p>So kindly guide me to resolve this problem.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1642418019,"post_id":70740138,"comment_id":125057090,"body_markdown":"https://stackoverflow.com/questions/44736604/how-to-store-objects-in-android-room","body":"<a href=\"https://stackoverflow.com/questions/44736604/how-to-store-objects-in-android-room\" title=\"how to store objects in android room\">stackoverflow.com/questions/44736604/&hellip;</a>"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":0,"creation_date":1642418894,"post_id":70740138,"comment_id":125057427,"body_markdown":"I guess type convertor will help you to store this object into string and will return you in object form when needed.","body":"I guess type convertor will help you to store this object into string and will return you in object form when needed."},{"owner":{"account_id":11064136,"reputation":45,"user_id":8124428,"display_name":"Pedro Moreira"},"score":0,"creation_date":1642529726,"post_id":70740138,"comment_id":125093400,"body_markdown":"the solution on the link, works fine. thanks @SMA","body":"the solution on the link, works fine. thanks @SMA"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642417221,"creation_date":1642417221,"answer_id":70740232,"question_id":70740138,"body_markdown":"I do not think there is a provision of saving Views in Room. The Room Database can be used to store the **data that you will be displaying or not displaying in the views**.\r\n\r\nWhat you can do is \r\n1. Store a series of boolean values and info .\r\n2. Depending on the boolean value display or don&#39;t display the view and populate accordingly with the data stored in room","title":"How to store object type in Room (java Android)","body":"<p>I do not think there is a provision of saving Views in Room. The Room Database can be used to store the <strong>data that you will be displaying or not displaying in the views</strong>.</p>\n<p>What you can do is</p>\n<ol>\n<li>Store a series of boolean values and info .</li>\n<li>Depending on the boolean value display or don't display the view and populate accordingly with the data stored in room</li>\n</ol>\n"}],"owner":{"account_id":11064136,"reputation":45,"user_id":8124428,"display_name":"Pedro Moreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642417221,"creation_date":1642416713,"question_id":70740138,"body_markdown":"i want to store a Object type in Room database.\r\n\r\n    @ColumnInfo(name = &quot;control&quot;)\r\n    private Object control;\r\n\r\nThis object is to store widgets like, TextViews, Buttons, .... but, i had this error :\r\n\r\n&gt; Cannot figure out how to save this field into database. You can consider adding a type converter for it.\r\n    \r\nHow can i solve it?\r\n\r\n ","title":"How to store object type in Room (java Android)","body":"<p>i want to store a Object type in Room database.</p>\n<pre><code>@ColumnInfo(name = &quot;control&quot;)\nprivate Object control;\n</code></pre>\n<p>This object is to store widgets like, TextViews, Buttons, .... but, i had this error :</p>\n<blockquote>\n<p>Cannot figure out how to save this field into database. You can consider adding a type converter for it.</p>\n</blockquote>\n<p>How can i solve it?</p>\n"},{"tags":["java","maven","ubuntu","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616141597,"post_id":66704357,"comment_id":117914716,"body_markdown":"this is my maven : mvn -v java path `Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre` so try to update java path with `/jre` at the end and tell me if it worked.","body":"this is my maven : mvn -v java path <code>Java home: &#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-amd64&#47;jre</code> so try to update java path with <code>&#47;jre</code> at the end and tell me if it worked."},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616141722,"post_id":66704357,"comment_id":117914761,"body_markdown":"@MohamedBdr By doing that I get the error I mentioned initially.","body":"@MohamedBdr By doing that I get the error I mentioned initially."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1616141983,"post_id":66704357,"comment_id":117914855,"body_markdown":"@ThunderKnight Have you installed Java via a packet manager?","body":"@ThunderKnight Have you installed Java via a packet manager?"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616142040,"post_id":66704357,"comment_id":117914874,"body_markdown":"@JanezKuhar I have installed it with the help of terminal","body":"@JanezKuhar I have installed it with the help of terminal"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1616142343,"post_id":66704357,"comment_id":117915000,"body_markdown":"It may be that you&#39;ve installed [`openjdk-11-jre`](https://packages.ubuntu.com/bionic/java/openjdk-11-jre) instead of [`openjdk-11-jdk`](https://packages.ubuntu.com/bionic/java/openjdk-11-jdk).","body":"It may be that you&#39;ve installed <a href=\"https://packages.ubuntu.com/bionic/java/openjdk-11-jre\" rel=\"nofollow noreferrer\"><code>openjdk-11-jre</code></a> instead of <a href=\"https://packages.ubuntu.com/bionic/java/openjdk-11-jdk\" rel=\"nofollow noreferrer\"><code>openjdk-11-jdk</code></a>."},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616142455,"post_id":66704357,"comment_id":117915053,"body_markdown":"How do I check whether I have `openjdk-11-jre` or `openjdk-11-jdk`","body":"How do I check whether I have <code>openjdk-11-jre</code> or <code>openjdk-11-jdk</code>"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616142538,"post_id":66704357,"comment_id":117915087,"body_markdown":"@JanezKuhar What do you get after running `java -version`","body":"@JanezKuhar What do you get after running <code>java -version</code>"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616142579,"post_id":66704357,"comment_id":117915102,"body_markdown":"try this command too `sudo apt list --installed | grep -i openjdk`","body":"try this command too <code>sudo apt list --installed | grep -i openjdk</code>"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616142674,"post_id":66704357,"comment_id":117915132,"body_markdown":"I get ```WARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nopenjdk-11-jdk-headless/focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic]\nopenjdk-11-jdk/focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic]\nopenjdk-11-jre-headless/focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic]\nopenjdk-11-jre/focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic]\n```","body":"I get <code>WARNING: apt does not have a stable CLI interface. Use with caution in scripts.  openjdk-11-jdk-headless&#47;focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic] openjdk-11-jdk&#47;focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic] openjdk-11-jre-headless&#47;focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic] openjdk-11-jre&#47;focal-updates,focal-security,now 11.0.10+9-0ubuntu1~20.04 amd64 [installed,automatic] </code>"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616143147,"post_id":66704357,"comment_id":117915295,"body_markdown":"can you try this `JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/jre/bin` and don&#39;t forget to use `source ~/.bash_profile` and please tell me did you use bashrc or bash_profile ?","body":"can you try this <code>JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-amd64&#47;jre&#47;bin</code> and don&#39;t forget to use <code>source ~&#47;.bash_profile</code> and please tell me did you use bashrc or bash_profile ?"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616143327,"post_id":66704357,"comment_id":117915353,"body_markdown":"@Mohamed `source ~/.bash_profile` to use this command where? Also, I don&#39;t know about about `bashrc`, I used this link to download https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04","body":"@Mohamed <code>source ~&#47;.bash_profile</code> to use this command where? Also, I don&#39;t know about about <code>bashrc</code>, I used this link to download <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616143730,"post_id":66704357,"comment_id":117915549,"body_markdown":"alright so you set here all the environment variables to `/etc/environment` so you need to run `source /etc/environment` every time you make a change so please try to update your java path to /jre/bin and then you must run `source /etc/environment` and then try mvn again","body":"alright so you set here all the environment variables to <code>&#47;etc&#47;environment</code> so you need to run <code>source &#47;etc&#47;environment</code> every time you make a change so please try to update your java path to /jre/bin and then you must run <code>source &#47;etc&#47;environment</code> and then try mvn again"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616143869,"post_id":66704357,"comment_id":117915616,"body_markdown":"@MohamedBdr Sorry, but can you please give the commands as an answer, will really appreciate it, I am not very well used to ubuntu","body":"@MohamedBdr Sorry, but can you please give the commands as an answer, will really appreciate it, I am not very well used to ubuntu"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616144000,"post_id":66704357,"comment_id":117915670,"body_markdown":"no problem 1- `sudo nano /etc/environment` 2- `JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64/jre/bin&quot;` 3- `source /etc/environment` 4- `mvn clean javadoc:jar package`","body":"no problem 1- <code>sudo nano &#47;etc&#47;environment</code> 2- <code>JAVA_HOME=&quot;&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-amd64&#47;jre&#47;bin&quot;</code> 3- <code>source &#47;etc&#47;environment</code> 4- <code>mvn clean javadoc:jar package</code>"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616144588,"post_id":66704357,"comment_id":117915937,"body_markdown":"@MohamedBdr I did this what should I set PATH variable now?","body":"@MohamedBdr I did this what should I set PATH variable now?"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616144978,"post_id":66704357,"comment_id":117916080,"body_markdown":"`export PATH=$PATH:/usr/lib/jvm/java-11-openjdk-amd64/bin` you need to insert that inside your bash profile `vi ~/.bash_profile` and please tell me what `echo $PATH` shows","body":"<code>export PATH=$PATH:&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-amd64&#47;bin</code> you need to insert that inside your bash profile <code>vi ~&#47;.bash_profile</code> and please tell me what <code>echo $PATH</code> shows"},{"owner":{"account_id":20640535,"reputation":977,"user_id":15153326,"display_name":"Mohamed Bdr"},"score":0,"creation_date":1616145028,"post_id":66704357,"comment_id":117916105,"body_markdown":"and did you have `/usr/java` path or not `cd /usr/java`","body":"and did you have <code>&#47;usr&#47;java</code> path or not <code>cd &#47;usr&#47;java</code>"},{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1616145082,"post_id":66704357,"comment_id":117916126,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/230117/discussion-between-thunderknight-and-mohamed-bdr).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/230117/discussion-between-thunderknight-and-mohamed-bdr\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1616151695,"creation_date":1616151695,"answer_id":66706921,"question_id":66704357,"body_markdown":"I would remove the [above listed packages](https://stackoverflow.com/questions/66704357/the-java-home-environment-variable-is-not-defined-correctly-error-on-running-mvn/66706921#comment117915132_66704357) with pattern `openjdk-11-.*` (see [this question](https://askubuntu.com/questions/1086462/how-can-i-remove-uninstall-list-of-packages-immediately-after-searching-them-wi)) and install Java [like this](https://stackoverflow.com/questions/52504825/how-to-install-jdk-11-under-ubuntu).","title":"Error &quot;the JAVA_HOME environment variable is not defined correctly&quot; on running &quot;mvn clean javadoc:jar package&quot;","body":"<p>I would remove the <a href=\"https://stackoverflow.com/questions/66704357/the-java-home-environment-variable-is-not-defined-correctly-error-on-running-mvn/66706921#comment117915132_66704357\">above listed packages</a> with pattern <code>openjdk-11-.*</code> (see <a href=\"https://askubuntu.com/questions/1086462/how-can-i-remove-uninstall-list-of-packages-immediately-after-searching-them-wi\">this question</a>) and install Java <a href=\"https://stackoverflow.com/questions/52504825/how-to-install-jdk-11-under-ubuntu\">like this</a>.</p>\n"},{"tags":[],"owner":{"account_id":12975935,"reputation":88,"user_id":9934732,"display_name":"CKey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634549697,"creation_date":1616155318,"answer_id":66707817,"question_id":66704357,"body_markdown":"Hmm..., probably the file doesn’t exist for running javadoc. Does the file */usr/lib/jvm/java-11-openjdk-amd64/bin/javadoc* exist?\r\n\r\nPlease try:\r\n\r\n```\r\nsudo apt install openjdk-11-jdk\r\n```\r\n\r\n\r\n","title":"Error &quot;the JAVA_HOME environment variable is not defined correctly&quot; on running &quot;mvn clean javadoc:jar package&quot;","body":"<p>Hmm..., probably the file doesn’t exist for running javadoc. Does the file <em>/usr/lib/jvm/java-11-openjdk-amd64/bin/javadoc</em> exist?</p>\n<p>Please try:</p>\n<pre><code>sudo apt install openjdk-11-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5667597,"reputation":495,"user_id":4483352,"display_name":"Baron_Samedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642416798,"creation_date":1642416798,"answer_id":70740154,"question_id":66704357,"body_markdown":"On my Mac (big Sur) I was getting the same problem. After reading this [article][1] ; this command worked for my enviroment:\r\n\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\n\r\n\r\n\r\n  [1]: https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/","title":"Error &quot;the JAVA_HOME environment variable is not defined correctly&quot; on running &quot;mvn clean javadoc:jar package&quot;","body":"<p>On my Mac (big Sur) I was getting the same problem. After reading this <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"nofollow noreferrer\">article</a> ; this command worked for my enviroment:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n"}],"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2254,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":66706921,"answer_count":3,"score":-1,"last_activity_date":1642416798,"creation_date":1616140532,"question_id":66704357,"body_markdown":"When I try to execute the command\r\n\r\n`mvn clean javadoc:jar package`\r\n\r\nit shows\r\n\r\n&gt; the JAVA_HOME environment variable is not defined correctly. This environment variable is needed to run this program.\r\n\r\n&gt; NB: JAVA_HOME should point to a JDK, not a JRE.\r\n\r\nI checked out the already asked question *https://stackoverflow.com/questions/13961615/unable-to-find-javadoc-command-maven* and the solution I tried above were taken from this solution only. I am new to Ubuntu. How can I fix this?\r\n\r\nWhereas when I run `echo $JAVA_HOME` it prints:\r\n\r\n```lang-none\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n```\r\n\r\nI also tried setting the `JAVA_HOME` to:\r\n\r\n 1. `/etc/launchd.conf/java-11-openjdk-amd64`\r\n 2. `/usr/libexec/java-11-openjdk-amd64`\r\n 3. `/usr/libexec/java-11-openjdk-amd64/`\r\n\r\nWhen I run `mvn -v`, it prints:\r\n\r\n```lang-none\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.10, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_IN, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.8.0-45-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\nAnd when I run `echo $JAVA_HOME` it prints:\r\n\r\n```lang-none\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n```\r\n","title":"Error &quot;the JAVA_HOME environment variable is not defined correctly&quot; on running &quot;mvn clean javadoc:jar package&quot;","body":"<p>When I try to execute the command</p>\n<p><code>mvn clean javadoc:jar package</code></p>\n<p>it shows</p>\n<blockquote>\n<p>the JAVA_HOME environment variable is not defined correctly. This environment variable is needed to run this program.</p>\n</blockquote>\n<blockquote>\n<p>NB: JAVA_HOME should point to a JDK, not a JRE.</p>\n</blockquote>\n<p>I checked out the already asked question <em><a href=\"https://stackoverflow.com/questions/13961615/unable-to-find-javadoc-command-maven\">Unable to find javadoc command - maven</a></em> and the solution I tried above were taken from this solution only. I am new to Ubuntu. How can I fix this?</p>\n<p>Whereas when I run <code>echo $JAVA_HOME</code> it prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n<p>I also tried setting the <code>JAVA_HOME</code> to:</p>\n<ol>\n<li><code>/etc/launchd.conf/java-11-openjdk-amd64</code></li>\n<li><code>/usr/libexec/java-11-openjdk-amd64</code></li>\n<li><code>/usr/libexec/java-11-openjdk-amd64/</code></li>\n</ol>\n<p>When I run <code>mvn -v</code>, it prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Apache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.10, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.8.0-45-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>And when I run <code>echo $JAVA_HOME</code> it prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n"},{"tags":["java","json","jsonpath"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642413491,"post_id":70739330,"comment_id":125055356,"body_markdown":"Look at gson or jackson.","body":"Look at gson or jackson."},{"owner":{"account_id":6568910,"reputation":488,"user_id":5077628,"display_name":"amant singh"},"score":2,"creation_date":1642413651,"post_id":70739330,"comment_id":125055421,"body_markdown":"https://github.com/wnameless/json-flattener ?","body":"<a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">github.com/wnameless/json-flattener</a> ?"},{"owner":{"account_id":11290880,"reputation":189,"user_id":8280028,"display_name":"Akshay Mishra"},"score":0,"creation_date":1642415959,"post_id":70739330,"comment_id":125056375,"body_markdown":"@tgdavies I am using jackson in my project but it doesn&#39;t provide any util for this. Not sure of gson but tried googling but couldn&#39;t find much for creating json.","body":"@tgdavies I am using jackson in my project but it doesn&#39;t provide any util for this. Not sure of gson but tried googling but couldn&#39;t find much for creating json."},{"owner":{"account_id":11290880,"reputation":189,"user_id":8280028,"display_name":"Akshay Mishra"},"score":0,"creation_date":1642415983,"post_id":70739330,"comment_id":125056389,"body_markdown":"@amantsingh this could work. Thanks.","body":"@amantsingh this could work. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642414345,"creation_date":1642414345,"answer_id":70739639,"question_id":70739330,"body_markdown":"Well, long time ago in a company far away I used apache OGNL library that could do something like this. Here is the link: [OGNL][1]. But also, today most JSON parsing is done with Jackson or Gson libs. Also a quick search in google &quot;apache jsonpath library&quot; gave some nice links. See this one: [JSONPath - Apache Camel][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-ognl/\r\n  [2]: https://camel.apache.org/components/3.14.x/languages/jsonpath-language.html","title":"Create JSON from map of json path/dot notation and value in java","body":"<p>Well, long time ago in a company far away I used apache OGNL library that could do something like this. Here is the link: <a href=\"https://commons.apache.org/proper/commons-ognl/\" rel=\"nofollow noreferrer\">OGNL</a>. But also, today most JSON parsing is done with Jackson or Gson libs. Also a quick search in google &quot;apache jsonpath library&quot; gave some nice links. See this one: <a href=\"https://camel.apache.org/components/3.14.x/languages/jsonpath-language.html\" rel=\"nofollow noreferrer\">JSONPath - Apache Camel</a></p>\n"},{"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642416558,"creation_date":1642416558,"answer_id":70740107,"question_id":70739330,"body_markdown":"Implemented the comment from @amant singh. https://github.com/wnameless/json-flattener\r\n\r\n&gt; Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.github.wnameless.json&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-flattener&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.13.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&gt; Test:\r\n\t\r\n    Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n\tmap.put(&quot;name1.name2.name3&quot;, &quot;value1&quot;);\r\n\tmap.put(&quot;name1.name2.name4&quot;, &quot;value2&quot;);\r\n\tmap.put(&quot;name1.name5[0]&quot;, &quot;value3&quot;);\r\n\tmap.put(&quot;name1.name5[1]&quot;, &quot;value4&quot;);\r\n\r\n\tSystem.out.println(map);\r\n\tString unflatten = JsonUnflattener.unflatten(map);\r\n\tSystem.out.println(unflatten);\r\n\r\n\r\n&gt; Output: \r\n\r\n    {name1.name5[1]=value4, name1.name5[0]=value3, name1.name2.name3=value1, name1.name2.name4=value2}\r\n    {&quot;name1&quot;:{&quot;name5&quot;:[&quot;value3&quot;,&quot;value4&quot;],&quot;name2&quot;:{&quot;name3&quot;:&quot;value1&quot;,&quot;name4&quot;:&quot;value2&quot;}}}","title":"Create JSON from map of json path/dot notation and value in java","body":"<p>Implemented the comment from @amant singh. <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">https://github.com/wnameless/json-flattener</a></p>\n<blockquote>\n<p>Maven dependency:</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.wnameless.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json-flattener&lt;/artifactId&gt;\n    &lt;version&gt;0.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>Test:</p>\n</blockquote>\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;name1.name2.name3&quot;, &quot;value1&quot;);\nmap.put(&quot;name1.name2.name4&quot;, &quot;value2&quot;);\nmap.put(&quot;name1.name5[0]&quot;, &quot;value3&quot;);\nmap.put(&quot;name1.name5[1]&quot;, &quot;value4&quot;);\n\nSystem.out.println(map);\nString unflatten = JsonUnflattener.unflatten(map);\nSystem.out.println(unflatten);\n</code></pre>\n<blockquote>\n<p>Output:</p>\n</blockquote>\n<pre><code>{name1.name5[1]=value4, name1.name5[0]=value3, name1.name2.name3=value1, name1.name2.name4=value2}\n{&quot;name1&quot;:{&quot;name5&quot;:[&quot;value3&quot;,&quot;value4&quot;],&quot;name2&quot;:{&quot;name3&quot;:&quot;value1&quot;,&quot;name4&quot;:&quot;value2&quot;}}}\n</code></pre>\n"}],"owner":{"account_id":11290880,"reputation":189,"user_id":8280028,"display_name":"Akshay Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642416558,"creation_date":1642412809,"question_id":70739330,"body_markdown":"I have a map of json path and its associated value. I want to create json using this path key and attach value at the end. Something like input as:\r\n\r\n```\r\n{key: &quot;name1.name2.name3&quot;, value: &quot;value1&quot;},\r\n{key:&quot;name1.name2.name4&quot;, value: &quot;value2&quot;},\r\n{key:&quot;name1.name5[0]&quot;, value: &quot;value3&quot;},\r\n{key:&quot;name1.name5[1]&quot;, value: &quot;value4&quot;}\r\n```\r\nOutput as:\r\n```\r\n{&quot;name1&quot;:\r\n   {&quot;name2&quot;:\r\n     {&quot;name3&quot;:&quot;value1&quot;,\r\n      &quot;name4&quot;:&quot;value2&quot;\r\n     }\r\n   },\r\n   &quot;name5&quot;:[&quot;value3&quot;,&quot;value4&quot;]\r\n}\r\n```\r\nThere can be a list as well. Is there any library I can use?","title":"Create JSON from map of json path/dot notation and value in java","body":"<p>I have a map of json path and its associated value. I want to create json using this path key and attach value at the end. Something like input as:</p>\n<pre><code>{key: &quot;name1.name2.name3&quot;, value: &quot;value1&quot;},\n{key:&quot;name1.name2.name4&quot;, value: &quot;value2&quot;},\n{key:&quot;name1.name5[0]&quot;, value: &quot;value3&quot;},\n{key:&quot;name1.name5[1]&quot;, value: &quot;value4&quot;}\n</code></pre>\n<p>Output as:</p>\n<pre><code>{&quot;name1&quot;:\n   {&quot;name2&quot;:\n     {&quot;name3&quot;:&quot;value1&quot;,\n      &quot;name4&quot;:&quot;value2&quot;\n     }\n   },\n   &quot;name5&quot;:[&quot;value3&quot;,&quot;value4&quot;]\n}\n</code></pre>\n<p>There can be a list as well. Is there any library I can use?</p>\n"},{"tags":["java","android","textview"],"owner":{"account_id":19878334,"reputation":11,"user_id":14562864,"display_name":"Mihai Sabaila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642416399,"creation_date":1642414687,"question_id":70739712,"body_markdown":"I created a dynamic `TextView` with the following sequence:\r\n\r\n```\r\nCre_TextView (&quot;t3&quot;,10,(left10*ux),(top10*uy),(width10*ux),(height10*uy),&quot;FFFFFFFF&quot;,&quot;FF000000&quot;, &quot;&quot;,24,0,1,0);\r\n```\r\n\r\nI have below :\r\n\r\n```java\r\npublic final void Cre_TextView(String p1, int p2, float p3, float p4, float p5, float p6, String p7, String p8, String p9, int p10, int p11, int p12, int p13) {\r\n    SpannableString spanString = new SpannableString((CharSequence) p9);\r\n    if (p11 == 1){\r\n        spanString.setSpan(new UnderlineSpan(), 0, spanString.length(), 0);\r\n        spanString.setSpan(new StyleSpan(1), 0, spanString.length(), 0);\r\n        spanString.setSpan(new StyleSpan(2), 0, spanString.length(), 0);\r\n    } \r\n    else {\r\n        spanString.setSpan(new StyleSpan(1), 0, spanString.length(), 0);\r\n        spanString.setSpan(new StyleSpan(0), 0, spanString.length(), 0);\r\n    }\r\n\r\n    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    View var10000 = this.findViewById(p12);\r\n    RelativeLayout baza = (RelativeLayout) var10000;\r\n    TextView tv = new TextView((Context) this);\r\n    tv.setId(p2);\r\n    tv.setX(p3);\r\n    tv.setY(p4);\r\n    tv.setWidth((int) p5);\r\n    tv.setHeight((int) p6);\r\n    tv.setBackgroundColor(Color.parseColor(&quot;#&quot; + p7));\r\n    tv.setTextColor(Color.parseColor(&quot;#&quot; + p8));\r\n\r\n    if (p13 == 1) \r\n        tv.setBackgroundResource(R.drawable.reflected_gradient_effect);\r\n\r\n    if (p13 == 2) \r\n        tv.setBackgroundResource(R.drawable.button_bg_rounded_corners);\r\n\r\n    tv.setGravity(17);\r\n    tv.setTextSize((float) p10 * uy);\r\n    tv.setText((CharSequence) spanString);\r\n    baza.addView((View) tv);\r\n}\r\n```\r\n\r\nI created this `TextView` in the main procedure with ID number 10. In a secondary procedure you had to assign a value via `setText()`. How do I access the dynamically created `TextView` in the main procedure?","title":"How do I access the activity_main from the secondary procedure","body":"<p>I created a dynamic <code>TextView</code> with the following sequence:</p>\n<pre><code>Cre_TextView (&quot;t3&quot;,10,(left10*ux),(top10*uy),(width10*ux),(height10*uy),&quot;FFFFFFFF&quot;,&quot;FF000000&quot;, &quot;&quot;,24,0,1,0);\n</code></pre>\n<p>I have below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void Cre_TextView(String p1, int p2, float p3, float p4, float p5, float p6, String p7, String p8, String p9, int p10, int p11, int p12, int p13) {\n    SpannableString spanString = new SpannableString((CharSequence) p9);\n    if (p11 == 1){\n        spanString.setSpan(new UnderlineSpan(), 0, spanString.length(), 0);\n        spanString.setSpan(new StyleSpan(1), 0, spanString.length(), 0);\n        spanString.setSpan(new StyleSpan(2), 0, spanString.length(), 0);\n    } \n    else {\n        spanString.setSpan(new StyleSpan(1), 0, spanString.length(), 0);\n        spanString.setSpan(new StyleSpan(0), 0, spanString.length(), 0);\n    }\n\n    LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View var10000 = this.findViewById(p12);\n    RelativeLayout baza = (RelativeLayout) var10000;\n    TextView tv = new TextView((Context) this);\n    tv.setId(p2);\n    tv.setX(p3);\n    tv.setY(p4);\n    tv.setWidth((int) p5);\n    tv.setHeight((int) p6);\n    tv.setBackgroundColor(Color.parseColor(&quot;#&quot; + p7));\n    tv.setTextColor(Color.parseColor(&quot;#&quot; + p8));\n\n    if (p13 == 1) \n        tv.setBackgroundResource(R.drawable.reflected_gradient_effect);\n\n    if (p13 == 2) \n        tv.setBackgroundResource(R.drawable.button_bg_rounded_corners);\n\n    tv.setGravity(17);\n    tv.setTextSize((float) p10 * uy);\n    tv.setText((CharSequence) spanString);\n    baza.addView((View) tv);\n}\n</code></pre>\n<p>I created this <code>TextView</code> in the main procedure with ID number 10. In a secondary procedure you had to assign a value via <code>setText()</code>. How do I access the dynamically created <code>TextView</code> in the main procedure?</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1642414984,"post_id":70739644,"comment_id":125055953,"body_markdown":"What does &quot;updateEntity&quot; do? Is it an alias for `EntityManager#refresh`?","body":"What does &quot;updateEntity&quot; do? Is it an alias for <code>EntityManager#refresh</code>?"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1642415485,"post_id":70739644,"comment_id":125056181,"body_markdown":"@M.Prokhorov Nope, it just does this : repository.findById(id).get().setName(&quot;NEW NAME&quot;); inside a new transaction","body":"@M.Prokhorov Nope, it just does this : repository.findById(id).get().setName(&quot;NEW NAME&quot;); inside a new transaction"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1642415823,"post_id":70739644,"comment_id":125056311,"body_markdown":"@M.Prokhorov damn you just solve my problematic, I use em.refresh(myEntity1); in my main service after calling the sub-service and I do retrieve changes I wanted. Thxxx! it seemed to be so easy once I get the solution","body":"@M.Prokhorov damn you just solve my problematic, I use em.refresh(myEntity1); in my main service after calling the sub-service and I do retrieve changes I wanted. Thxxx! it seemed to be so easy once I get the solution"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1642415903,"post_id":70739644,"comment_id":125056346,"body_markdown":"It&#39;s the 1st level cache in action. It won&#39;t reload the entity (unless explicitly told to), since you&#39;ve just loaded it.","body":"It&#39;s the 1st level cache in action. It won&#39;t reload the entity (unless explicitly told to), since you&#39;ve just loaded it."}],"answers":[{"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642416388,"creation_date":1642416388,"answer_id":70740072,"question_id":70739644,"body_markdown":"After edition from the inner transaction, the entity must be explicitly reloaded inside the outer transaction by calling `EntityManager#refresh`. (Thx to @M.Prokhorov for the clue)\r\n\r\n```java\r\nentityManager.refresh(myEntity1);\r\n```\r\n\r\nAs @Kayaman said in comment of my question: \r\n\r\n&gt; It&#39;s the 1st level cache in action. It won&#39;t reload the entity (unless\r\n&gt; explicitly told to), since you&#39;ve just loaded it.","title":"Outer transaction can not retrieve changes from inner transaction if entity already loaded once","body":"<p>After edition from the inner transaction, the entity must be explicitly reloaded inside the outer transaction by calling <code>EntityManager#refresh</code>. (Thx to @M.Prokhorov for the clue)</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.refresh(myEntity1);\n</code></pre>\n<p>As @Kayaman said in comment of my question:</p>\n<blockquote>\n<p>It's the 1st level cache in action. It won't reload the entity (unless\nexplicitly told to), since you've just loaded it.</p>\n</blockquote>\n"}],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70740072,"answer_count":1,"score":0,"last_activity_date":1642416388,"creation_date":1642414374,"question_id":70739644,"body_markdown":" - I have a `@Transactional` main service loading from repository an entity. \r\n - Then this service call a sub-service having `@Transactional(propagation = Propagation.REQUIRES_NEW)` loading the same entity to update one of its properties\r\n\r\n```java\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void updateEntity(Long id) {\r\n\r\n        repository.findById(id).get().setName(&quot;NEW NAME&quot;);\r\n    }\r\n```\r\n\r\n\r\n- Unfortunately, the update done from the sub-service is not visible from the main service, even if I try to reload the entity from repository and no matter which isolation level I choose (READ_UNCOMMITTED, READ_COMMITTED, REPEATABLE_READ, SERIALIZABLE).\r\n\r\n\r\nHere is the code of the main service :\r\n\r\n```java\r\n    @Transactional\r\n    public void transactional() {\r\n\r\n        MyEntity myEntity1 = repository.findById(1L).get();\r\n        log.info(&quot;{} - {}&quot;, myEntity1, myEntity1.getName()); // &quot;OLD NAME&quot;\r\n\r\n        subService.updateEntity(1L);\r\n\r\n        MyEntity myEntity2 = repository.findById(1L).get();\r\n        log.info(&quot;{} - {}&quot;, myEntity2, myEntity2.getName()); // &quot;OLD NAME&quot; again, and same reference as myEntity1\r\n    }\r\n```\r\n\r\nNevertheless, If I don&#39;t load once the entity in the main service before calling the sub-service, I DO see changes from the inner transaction.\r\n\r\n```java\r\n    @Transactional\r\n    public void transactional() {\r\n\r\n        subService.updateEntity(1L);\r\n\r\n        MyEntity myEntity2 = repository.findById(1L).get();\r\n        log.info(&quot;{} - {}&quot;, myEntity2, myEntity2.getName()); // &quot;NEW NAME&quot;\r\n    }\r\n```\r\n\r\nI guess what I want to achieve is not a standard way of doing things, but I really want to understand why if an entity is loaded once in an outer transaction, I can not retrieve changes from inner transaction(s).","title":"Outer transaction can not retrieve changes from inner transaction if entity already loaded once","body":"<ul>\n<li>I have a <code>@Transactional</code> main service loading from repository an entity.</li>\n<li>Then this service call a sub-service having <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> loading the same entity to update one of its properties</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void updateEntity(Long id) {\n\n        repository.findById(id).get().setName(&quot;NEW NAME&quot;);\n    }\n</code></pre>\n<ul>\n<li>Unfortunately, the update done from the sub-service is not visible from the main service, even if I try to reload the entity from repository and no matter which isolation level I choose (READ_UNCOMMITTED, READ_COMMITTED, REPEATABLE_READ, SERIALIZABLE).</li>\n</ul>\n<p>Here is the code of the main service :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public void transactional() {\n\n        MyEntity myEntity1 = repository.findById(1L).get();\n        log.info(&quot;{} - {}&quot;, myEntity1, myEntity1.getName()); // &quot;OLD NAME&quot;\n\n        subService.updateEntity(1L);\n\n        MyEntity myEntity2 = repository.findById(1L).get();\n        log.info(&quot;{} - {}&quot;, myEntity2, myEntity2.getName()); // &quot;OLD NAME&quot; again, and same reference as myEntity1\n    }\n</code></pre>\n<p>Nevertheless, If I don't load once the entity in the main service before calling the sub-service, I DO see changes from the inner transaction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public void transactional() {\n\n        subService.updateEntity(1L);\n\n        MyEntity myEntity2 = repository.findById(1L).get();\n        log.info(&quot;{} - {}&quot;, myEntity2, myEntity2.getName()); // &quot;NEW NAME&quot;\n    }\n</code></pre>\n<p>I guess what I want to achieve is not a standard way of doing things, but I really want to understand why if an entity is loaded once in an outer transaction, I can not retrieve changes from inner transaction(s).</p>\n"},{"tags":["java","redis","jedis","redis-cluster"],"owner":{"account_id":4135644,"reputation":365,"user_id":3392380,"display_name":"Sodrul Amin Shaon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642416352,"creation_date":1642410596,"question_id":70738873,"body_markdown":"How can I create and test publish/subscribe module using updated Jedis library? Previously I was using jedis library version 3.7.0, from that version my code was something like.\r\n\r\n**Subscriber Process**\r\n\r\n    import redis.clients.jedis.JedisCluster;\r\n    import redis.clients.jedis.JedisPubSub;\r\n     \r\n    public class ChannelSubscribe {\r\n     \r\n      public static void main(String[] args) {\r\n             \r\n        JedisCluster jedis = null;\r\n     \r\n        try {\r\n                 \r\n        /* Creating JedisCluster object for connecting with redis-cluster server */\r\n        jedis = new JedisCluster();\r\n             \r\n        /* Creating JedisPubSub object for subscribing with channels */\r\n        JedisPubSub jedisPubSub = new JedisPubSub() {\r\n                     \r\n            @Override\r\n            public void onMessage(String channel, String message) {\r\n                System.out.println(&quot;Channel &quot; + channel + &quot; has sent a message : &quot; + message );\r\n                if(channel.equals(&quot;C1&quot;)) {\r\n                    /* Unsubscribe from channel C1 after first message is received. */ \r\n                    unsubscribe(channel);\r\n                }\r\n            }\r\n                     \r\n            @Override\r\n            public void onSubscribe(String channel, int subscribedChannels) {\r\n                System.out.println(&quot;Client is Subscribed to channel : &quot;+ channel);\r\n                System.out.println(&quot;Client is Subscribed to &quot;+ subscribedChannels + &quot; no. of channels&quot;);\r\n            }\r\n                 \r\n            @Override\r\n            public void onUnsubscribe(String channel, int subscribedChannels) {\r\n                System.out.println(&quot;Client is Unsubscribed from channel : &quot;+ channel);\r\n                System.out.println(&quot;Client is Subscribed to &quot;+ subscribedChannels + &quot; no. of channels&quot;);\r\n            }\r\n                 \r\n        };\r\n                 \r\n        /* Subscribing to channel C1 and C2 */\r\n        jedis.subscribe(jedisPubSub, &quot;C1&quot;, &quot;C2&quot;);\r\n                 \r\n        } catch(Exception ex) {         \r\n                 \r\n            System.out.println(&quot;Exception : &quot; + ex.getMessage());   \r\n                 \r\n        }      \r\n      }\r\n    }\r\n\r\n**Publisher Process**\r\n\r\n    import redis.clients.jedis.JedisCluster;\r\n     \r\n    public class ChannelPublish {\r\n     \r\n      public static void main(String[] args) {\r\n             \r\n        JedisCluster jedis = null;\r\n             \r\n        try {           \r\n            /* Creating JedisCluster object for connecting with redis server */\r\n            jedis = new JedisCluster();\r\n                 \r\n            /* Publishing message to channel C1 */\r\n            jedis.publish(&quot;C1&quot;, &quot;First message to channel C1&quot;);\r\n                 \r\n            /* Publishing message to channel C2 */\r\n            jedis.publish(&quot;C2&quot;, &quot;First message to channel C2&quot;);\r\n             \r\n            /* Publishing message to channel C1 */\r\n            jedis.publish(&quot;C1&quot;, &quot;Second message to channel C1&quot;);\r\n                 \r\n            /* Publishing message to channel C2 */\r\n            jedis.publish(&quot;C2&quot;, &quot;Second message to channel C2&quot;);\r\n             \r\n        } catch(Exception ex) {         \r\n                 \r\n            System.out.println(&quot;Exception : &quot; + ex.getMessage());\r\n        } \r\n      }\r\n    }\r\n\r\nNow I am trying to update jedis library to latest(**4.0.1**) one. But in this latest library I think the subscribe method has been shifted to `JedisPubSub` class or I am not sure where.\r\n\r\nBut now I can&#39;t find any working example of pub/sub module for cluster. I have so far tried, \r\n\r\n    //pool configuration\r\n            GenericObjectPoolConfig&lt;Connection&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\n            poolConfig.setMinIdle(5);\r\n            poolConfig.setMaxIdle(100);\r\n            poolConfig.setMaxWait(Duration.ofMillis(5000));\r\n    \r\n            //jedis configuration\r\n            JedisClientConfig jedisClientConfig = DefaultJedisClientConfig.builder()\r\n                    .password(config.getRedisPassword())\r\n                    .ssl(false)\r\n                    .build();\r\n    \r\n            //host and port\r\n            HostAndPort hostAndPort = new HostAndPort(config.getRedisHost(), config.getRedisPort());\r\n    \r\n            ConnectionPool connectionPool = new ConnectionPool(hostAndPort, jedisClientConfig, poolConfig);\r\n            Connection connection = connectionPool.getResource();\r\n    \r\n            //create a jedis pub sub instance\r\n            JedisPubSub pubSub = new JedisPubSub() {\r\n                @Override\r\n                public void onMessage(String channel, String message) {\r\n                    super.onMessage(channel, message);\r\n                }\r\n    \r\n                @Override\r\n                public void onPMessage(String pattern, String channel, String message) {\r\n                    super.onPMessage(pattern, channel, message);\r\n                }\r\n    \r\n                @Override\r\n                public void onSubscribe(String channel, int subscribedChannels) {\r\n                    super.onSubscribe(channel, subscribedChannels);\r\n                }\r\n    \r\n                @Override\r\n                public void onUnsubscribe(String channel, int subscribedChannels) {\r\n                    super.onUnsubscribe(channel, subscribedChannels);\r\n                }\r\n    \r\n                @Override\r\n                public void onPUnsubscribe(String pattern, int subscribedChannels) {\r\n                    super.onPUnsubscribe(pattern, subscribedChannels);\r\n                }\r\n    \r\n                @Override\r\n                public void onPSubscribe(String pattern, int subscribedChannels) {\r\n                    super.onPSubscribe(pattern, subscribedChannels);\r\n                }\r\n    \r\n                @Override\r\n                public void onPong(String pattern) {\r\n                    super.onPong(pattern);\r\n                }\r\n            };\r\n            \r\n            pubSub.proceed(connection, &quot;test&quot;);\r\n\r\nBut getting error called \r\n\r\n&gt; redis.clients.jedis.exceptions.JedisConnectionException:\r\n&gt; java.net.SocketTimeoutException: Read timed out \tat\r\n&gt; redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:204)\r\n&gt; \tat\r\n&gt; redis.clients.jedis.util.RedisInputStream.readByte(RedisInputStream.java:42)\r\n&gt; \tat redis.clients.jedis.Protocol.process(Protocol.java:126) \tat\r\n&gt; redis.clients.jedis.Protocol.read(Protocol.java:192) \tat\r\n&gt; redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\r\n&gt; \tat\r\n&gt; redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\r\n&gt; \tat redis.clients.jedis.JedisPubSub.process(JedisPubSub.java:131) \tat\r\n&gt; redis.clients.jedis.JedisPubSub.proceed(JedisPubSub.java:124) \tat\r\n&gt; switchbalancetest.Test.jedisUpdateTest(Test.java:78) \tat\r\n&gt; switchbalancetest.Test.main(Test.java:40) Caused by:\r\n&gt; java.net.SocketTimeoutException: Read timed out \tat\r\n&gt; java.net.SocketInputStream.socketRead0(Native Method) \tat\r\n&gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:171) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:141) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:127) \tat\r\n&gt; redis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:198)\r\n&gt; \t... 9 more\r\n\r\nAnd in redis server log I found error that says,\r\n&gt; Bad message length or signature received from Cluster bus.\r\n\r\nIn current library, I thought subscribe method should be available under [UnifiedJedis][1] Class. But, I can&#39;t find it there. How can I successfully do this ?\r\n\r\n\r\n  [1]: https://javadoc.io/static/redis.clients/jedis/4.0.1/redis/clients/jedis/UnifiedJedis.html","title":"How to create a Pub/Sub module in redis-cluster using Jedis Library 4.0.0","body":"<p>How can I create and test publish/subscribe module using updated Jedis library? Previously I was using jedis library version 3.7.0, from that version my code was something like.</p>\n<p><strong>Subscriber Process</strong></p>\n<pre><code>import redis.clients.jedis.JedisCluster;\nimport redis.clients.jedis.JedisPubSub;\n \npublic class ChannelSubscribe {\n \n  public static void main(String[] args) {\n         \n    JedisCluster jedis = null;\n \n    try {\n             \n    /* Creating JedisCluster object for connecting with redis-cluster server */\n    jedis = new JedisCluster();\n         \n    /* Creating JedisPubSub object for subscribing with channels */\n    JedisPubSub jedisPubSub = new JedisPubSub() {\n                 \n        @Override\n        public void onMessage(String channel, String message) {\n            System.out.println(&quot;Channel &quot; + channel + &quot; has sent a message : &quot; + message );\n            if(channel.equals(&quot;C1&quot;)) {\n                /* Unsubscribe from channel C1 after first message is received. */ \n                unsubscribe(channel);\n            }\n        }\n                 \n        @Override\n        public void onSubscribe(String channel, int subscribedChannels) {\n            System.out.println(&quot;Client is Subscribed to channel : &quot;+ channel);\n            System.out.println(&quot;Client is Subscribed to &quot;+ subscribedChannels + &quot; no. of channels&quot;);\n        }\n             \n        @Override\n        public void onUnsubscribe(String channel, int subscribedChannels) {\n            System.out.println(&quot;Client is Unsubscribed from channel : &quot;+ channel);\n            System.out.println(&quot;Client is Subscribed to &quot;+ subscribedChannels + &quot; no. of channels&quot;);\n        }\n             \n    };\n             \n    /* Subscribing to channel C1 and C2 */\n    jedis.subscribe(jedisPubSub, &quot;C1&quot;, &quot;C2&quot;);\n             \n    } catch(Exception ex) {         \n             \n        System.out.println(&quot;Exception : &quot; + ex.getMessage());   \n             \n    }      \n  }\n}\n</code></pre>\n<p><strong>Publisher Process</strong></p>\n<pre><code>import redis.clients.jedis.JedisCluster;\n \npublic class ChannelPublish {\n \n  public static void main(String[] args) {\n         \n    JedisCluster jedis = null;\n         \n    try {           \n        /* Creating JedisCluster object for connecting with redis server */\n        jedis = new JedisCluster();\n             \n        /* Publishing message to channel C1 */\n        jedis.publish(&quot;C1&quot;, &quot;First message to channel C1&quot;);\n             \n        /* Publishing message to channel C2 */\n        jedis.publish(&quot;C2&quot;, &quot;First message to channel C2&quot;);\n         \n        /* Publishing message to channel C1 */\n        jedis.publish(&quot;C1&quot;, &quot;Second message to channel C1&quot;);\n             \n        /* Publishing message to channel C2 */\n        jedis.publish(&quot;C2&quot;, &quot;Second message to channel C2&quot;);\n         \n    } catch(Exception ex) {         \n             \n        System.out.println(&quot;Exception : &quot; + ex.getMessage());\n    } \n  }\n}\n</code></pre>\n<p>Now I am trying to update jedis library to latest(<strong>4.0.1</strong>) one. But in this latest library I think the subscribe method has been shifted to <code>JedisPubSub</code> class or I am not sure where.</p>\n<p>But now I can't find any working example of pub/sub module for cluster. I have so far tried,</p>\n<pre><code>//pool configuration\n        GenericObjectPoolConfig&lt;Connection&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\n        poolConfig.setMinIdle(5);\n        poolConfig.setMaxIdle(100);\n        poolConfig.setMaxWait(Duration.ofMillis(5000));\n\n        //jedis configuration\n        JedisClientConfig jedisClientConfig = DefaultJedisClientConfig.builder()\n                .password(config.getRedisPassword())\n                .ssl(false)\n                .build();\n\n        //host and port\n        HostAndPort hostAndPort = new HostAndPort(config.getRedisHost(), config.getRedisPort());\n\n        ConnectionPool connectionPool = new ConnectionPool(hostAndPort, jedisClientConfig, poolConfig);\n        Connection connection = connectionPool.getResource();\n\n        //create a jedis pub sub instance\n        JedisPubSub pubSub = new JedisPubSub() {\n            @Override\n            public void onMessage(String channel, String message) {\n                super.onMessage(channel, message);\n            }\n\n            @Override\n            public void onPMessage(String pattern, String channel, String message) {\n                super.onPMessage(pattern, channel, message);\n            }\n\n            @Override\n            public void onSubscribe(String channel, int subscribedChannels) {\n                super.onSubscribe(channel, subscribedChannels);\n            }\n\n            @Override\n            public void onUnsubscribe(String channel, int subscribedChannels) {\n                super.onUnsubscribe(channel, subscribedChannels);\n            }\n\n            @Override\n            public void onPUnsubscribe(String pattern, int subscribedChannels) {\n                super.onPUnsubscribe(pattern, subscribedChannels);\n            }\n\n            @Override\n            public void onPSubscribe(String pattern, int subscribedChannels) {\n                super.onPSubscribe(pattern, subscribedChannels);\n            }\n\n            @Override\n            public void onPong(String pattern) {\n                super.onPong(pattern);\n            }\n        };\n        \n        pubSub.proceed(connection, &quot;test&quot;);\n</code></pre>\n<p>But getting error called</p>\n<blockquote>\n<p>redis.clients.jedis.exceptions.JedisConnectionException:\njava.net.SocketTimeoutException: Read timed out   at\nredis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:204)\nat\nredis.clients.jedis.util.RedisInputStream.readByte(RedisInputStream.java:42)\nat redis.clients.jedis.Protocol.process(Protocol.java:126)  at\nredis.clients.jedis.Protocol.read(Protocol.java:192)  at\nredis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\nat\nredis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\nat redis.clients.jedis.JedisPubSub.process(JedisPubSub.java:131)    at\nredis.clients.jedis.JedisPubSub.proceed(JedisPubSub.java:124)     at\nswitchbalancetest.Test.jedisUpdateTest(Test.java:78)  at\nswitchbalancetest.Test.main(Test.java:40) Caused by:\njava.net.SocketTimeoutException: Read timed out   at\njava.net.SocketInputStream.socketRead0(Native Method)     at\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116)     at\njava.net.SocketInputStream.read(SocketInputStream.java:171)   at\njava.net.SocketInputStream.read(SocketInputStream.java:141)   at\njava.net.SocketInputStream.read(SocketInputStream.java:127)   at\nredis.clients.jedis.util.RedisInputStream.ensureFill(RedisInputStream.java:198)\n... 9 more</p>\n</blockquote>\n<p>And in redis server log I found error that says,</p>\n<blockquote>\n<p>Bad message length or signature received from Cluster bus.</p>\n</blockquote>\n<p>In current library, I thought subscribe method should be available under <a href=\"https://javadoc.io/static/redis.clients/jedis/4.0.1/redis/clients/jedis/UnifiedJedis.html\" rel=\"nofollow noreferrer\">UnifiedJedis</a> Class. But, I can't find it there. How can I successfully do this ?</p>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1531298528,"post_id":51280906,"comment_id":89539190,"body_markdown":"Can you please show us the source code for `@MyAnnotation`","body":"Can you please show us the source code for <code>@MyAnnotation</code>"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1531298630,"post_id":51280906,"comment_id":89539265,"body_markdown":"@Prashant added thanks","body":"@Prashant added thanks"},{"owner":{"account_id":2474911,"reputation":63,"user_id":2155735,"display_name":"Mohankumar D"},"score":0,"creation_date":1605628579,"post_id":51280906,"comment_id":114705909,"body_markdown":"@sunleo have you fixed this issue. Can you explain bit here.","body":"@sunleo have you fixed this issue. Can you explain bit here."}],"answers":[{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642416118,"creation_date":1531298947,"answer_id":51281105,"question_id":51280906,"body_markdown":"It might not work because you call dummyMethod() from the same class. Try moving dummyMethod() to another service class. The reason is that calls within the same class does not go though the Spring proxy. The call to getArticleById() is proxied and will be handled by AOP but dummyMethod() might as well be a private method.","title":"AOP for annotation is not working in Spring Boot","body":"<p>It might not work because you call dummyMethod() from the same class. Try moving dummyMethod() to another service class. The reason is that calls within the same class does not go though the Spring proxy. The call to getArticleById() is proxied and will be handled by AOP but dummyMethod() might as well be a private method.</p>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642416118,"creation_date":1531298358,"question_id":51280906,"body_markdown":"I have myannotation and whenever my method(which has myannotation) is executed then AOP should be called but which is not working in my spring boot controller.But which is working for methods which has other annotations.Please help me to understand about what happens.\r\n\r\n**Update: MyAnnotation**\r\n   \r\n\r\n     @Retention(RUNTIME)\r\n        @Target({ METHOD, CONSTRUCTOR })\r\n        public @interface MyAnnotation {\r\n        }\r\n\r\n    @Aspect\r\n    @Component\r\n    public class AnnotationAspect {\r\n    \tprivate static final String POINTCUT_METHOD1 = &quot;@annotation(com.somepackage.MyAnnotation)&quot;;\r\n    \t\r\n    \t\r\n    \t@Around(POINTCUT_METHOD1)\r\n    \tpublic Object weaveJoinPoint(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Beforeee &quot; + joinPoint);\r\n    \t\t\tjoinPoint.proceed();\r\n    \t\t} finally {\r\n    \t\t\tSystem.out.println(&quot;Afterrr &quot; + joinPoint);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n**Scenario 1:(Working)**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;user&quot;)\r\n    public class ArticleController {\r\n    \r\n    \t@GetMapping(&quot;article/{id}&quot;)\r\n    \t@MyAnnotation // here it is\r\n    \tpublic ResponseEntity&lt;String&gt; getArticleById(@PathVariable(&quot;id&quot;) Integer id) \r\n     {\r\n    \t\treturn new ResponseEntity&lt;String&gt;(dummyMethod(), HttpStatus.OK);\r\n    \t}\r\n    \r\n    \tpublic String dummyMethod() {\r\n    \t\tSystem.out.println(&quot;Dummy method with MyAnnotation&quot;);\r\n    \t\treturn &quot;HelloWorld!&quot;;\r\n    \t}\r\n    }\r\n\r\n**Log:(Working)**\r\n\r\n    Beforeee execution(ResponseEntity com.mypackage.getArticleById(Integer))\r\n    Dummy method with MyAnnotation\r\n    Afterrr execution(ResponseEntity com.mypackage.getArticleById(Integer))\r\n\r\n**Scenario 2:(Not Working)**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;user&quot;)\r\n    public class ArticleController {\r\n    \r\n    \t@GetMapping(&quot;article/{id}&quot;)    \t\r\n    \tpublic ResponseEntity&lt;String&gt; getArticleById(@PathVariable(&quot;id&quot;) Integer id) \r\n     {\r\n    \t\treturn new ResponseEntity&lt;String&gt;(dummyMethod(), HttpStatus.OK);\r\n    \t}\r\n        @MyAnnotation //here it is\r\n    \tpublic String dummyMethod() {\r\n    \t\tSystem.out.println(&quot;Dummy method with MyAnnotation&quot;);\r\n    \t\treturn &quot;HelloWorld!&quot;;\r\n    \t}\r\n    }\r\n\r\nLog:(Not Working)\r\n\r\n    Dummy method with MyAnnotation\r\n**Scenario 3: (Not Working)**\r\n\r\n    @Service\r\n    public class ArticleService {\r\n    @MyAnnotation //here it is\r\n    public String dummyMethod() {\r\n        \t\tSystem.out.println(&quot;Dummy method with MyAnnotation&quot;);\r\n        \t\treturn &quot;HelloWorld!&quot;;\r\n        \t}\r\n    }\r\n","title":"AOP for annotation is not working in Spring Boot","body":"<p>I have myannotation and whenever my method(which has myannotation) is executed then AOP should be called but which is not working in my spring boot controller.But which is working for methods which has other annotations.Please help me to understand about what happens.</p>\n\n<p><strong>Update: MyAnnotation</strong></p>\n\n<pre><code> @Retention(RUNTIME)\n    @Target({ METHOD, CONSTRUCTOR })\n    public @interface MyAnnotation {\n    }\n\n@Aspect\n@Component\npublic class AnnotationAspect {\n    private static final String POINTCUT_METHOD1 = \"@annotation(com.somepackage.MyAnnotation)\";\n\n\n    @Around(POINTCUT_METHOD1)\n    public Object weaveJoinPoint(ProceedingJoinPoint joinPoint) throws Throwable {\n        try {\n            System.out.println(\"Beforeee \" + joinPoint);\n            joinPoint.proceed();\n        } finally {\n            System.out.println(\"Afterrr \" + joinPoint);\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Scenario 1:(Working)</strong></p>\n\n<pre><code>@Controller\n@RequestMapping(\"user\")\npublic class ArticleController {\n\n    @GetMapping(\"article/{id}\")\n    @MyAnnotation // here it is\n    public ResponseEntity&lt;String&gt; getArticleById(@PathVariable(\"id\") Integer id) \n {\n        return new ResponseEntity&lt;String&gt;(dummyMethod(), HttpStatus.OK);\n    }\n\n    public String dummyMethod() {\n        System.out.println(\"Dummy method with MyAnnotation\");\n        return \"HelloWorld!\";\n    }\n}\n</code></pre>\n\n<p><strong>Log:(Working)</strong></p>\n\n<pre><code>Beforeee execution(ResponseEntity com.mypackage.getArticleById(Integer))\nDummy method with MyAnnotation\nAfterrr execution(ResponseEntity com.mypackage.getArticleById(Integer))\n</code></pre>\n\n<p><strong>Scenario 2:(Not Working)</strong></p>\n\n<pre><code>@Controller\n@RequestMapping(\"user\")\npublic class ArticleController {\n\n    @GetMapping(\"article/{id}\")     \n    public ResponseEntity&lt;String&gt; getArticleById(@PathVariable(\"id\") Integer id) \n {\n        return new ResponseEntity&lt;String&gt;(dummyMethod(), HttpStatus.OK);\n    }\n    @MyAnnotation //here it is\n    public String dummyMethod() {\n        System.out.println(\"Dummy method with MyAnnotation\");\n        return \"HelloWorld!\";\n    }\n}\n</code></pre>\n\n<p>Log:(Not Working)</p>\n\n<pre><code>Dummy method with MyAnnotation\n</code></pre>\n\n<p><strong>Scenario 3: (Not Working)</strong></p>\n\n<pre><code>@Service\npublic class ArticleService {\n@MyAnnotation //here it is\npublic String dummyMethod() {\n            System.out.println(\"Dummy method with MyAnnotation\");\n            return \"HelloWorld!\";\n        }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1579097828,"creation_date":1321624282,"answer_id":8183463,"question_id":8183205,"body_markdown":"From [ThreadPoolExecutor][1] JavaDoc (emphasis mine)\r\n\r\n&gt; New tasks submitted in method `execute(java.lang.Runnable)` will be rejected **when the `Executor` has been shut down**, and also when the `Executor` uses finite bounds for both maximum threads and work queue capacity, and is saturated. In either case, the execute method invokes the `RejectedExecutionHandler.rejectedExecution(java.lang.Runnable, java.util.concurrent.ThreadPoolExecutor)` method of its `RejectedExecutionHandler`. Four predefined handler policies are provided:\r\n&gt; \r\n&gt; 1. In the default `ThreadPoolExecutor.AbortPolicy`, the handler throws a runtime `RejectedExecutionException` upon rejection.\r\n&gt; 2. In `ThreadPoolExecutor.CallerRunsPolicy`, the thread that invokes execute itself runs the task. This provides a simple feedback control mechanism that will slow down the rate that new tasks are submitted.\r\n&gt; 3. In `ThreadPoolExecutor.DiscardPolicy`, a task that cannot be executed is simply dropped.\r\n&gt; 4. In `ThreadPoolExecutor.DiscardOldestPolicy`, if the executor is not shut down, the task at the head of the work queue is dropped, and then execution is retried (which can fail again, causing this to be repeated.)\r\n&gt; \r\n&gt; It is possible to define and use other kinds of `RejectedExecutionHandler` classes. Doing so requires some care especially when policies are designed to work only under particular capacity or queuing policies.\r\n\r\nPresumably therefore, reloading the war triggers a shutdown of the `Executor`. Try putting the relevant libraries in the war, so that Tomcat&#39;s `ClassLoader` has a better chance of correctly reloading your app.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"What could be the cause of RejectedExecutionException","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">ThreadPoolExecutor</a> JavaDoc (emphasis mine)</p>\n\n<blockquote>\n  <p>New tasks submitted in method <code>execute(java.lang.Runnable)</code> will be rejected <strong>when the <code>Executor</code> has been shut down</strong>, and also when the <code>Executor</code> uses finite bounds for both maximum threads and work queue capacity, and is saturated. In either case, the execute method invokes the <code>RejectedExecutionHandler.rejectedExecution(java.lang.Runnable, java.util.concurrent.ThreadPoolExecutor)</code> method of its <code>RejectedExecutionHandler</code>. Four predefined handler policies are provided:</p>\n  \n  <ol>\n  <li>In the default <code>ThreadPoolExecutor.AbortPolicy</code>, the handler throws a runtime <code>RejectedExecutionException</code> upon rejection.</li>\n  <li>In <code>ThreadPoolExecutor.CallerRunsPolicy</code>, the thread that invokes execute itself runs the task. This provides a simple feedback control mechanism that will slow down the rate that new tasks are submitted.</li>\n  <li>In <code>ThreadPoolExecutor.DiscardPolicy</code>, a task that cannot be executed is simply dropped.</li>\n  <li>In <code>ThreadPoolExecutor.DiscardOldestPolicy</code>, if the executor is not shut down, the task at the head of the work queue is dropped, and then execution is retried (which can fail again, causing this to be repeated.)</li>\n  </ol>\n  \n  <p>It is possible to define and use other kinds of <code>RejectedExecutionHandler</code> classes. Doing so requires some care especially when policies are designed to work only under particular capacity or queuing policies.</p>\n</blockquote>\n\n<p>Presumably therefore, reloading the war triggers a shutdown of the <code>Executor</code>. Try putting the relevant libraries in the war, so that Tomcat's <code>ClassLoader</code> has a better chance of correctly reloading your app.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1642416108,"creation_date":1535463980,"answer_id":52059445,"question_id":8183205,"body_markdown":"Just to add to OrangeDog&#39;s excellent answer, the contract of an `Executor` is indeed such that its `execute` method will throw `RejectedExecutionException` when the executor is saturated (i.e. there is no space in the queue).\r\n\r\nHowever, it would have been useful if it **blocked** instead, automatically waiting until there is space in the queue for the new task.\r\n\r\nWith the following custom `BlockingQueue` it&#39;s possible to achieve that:\r\n\r\n    public final class ThreadPoolQueue extends ArrayBlockingQueue&lt;Runnable&gt; {\r\n    \r\n    \tpublic ThreadPoolQueue(int capacity) {\r\n    \t\tsuper(capacity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean offer(Runnable e) {\r\n    \t\ttry {\r\n    \t\t\tput(e);\r\n    \t\t} catch (InterruptedException e1) {\r\n                Thread.currentThread().interrupt();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nThat essentially implements the backpressure algorithm, slowing the producer whenever the executor saturates.\r\n\r\nUse it as:\r\n\r\n    int n = Runtime.getRuntime().availableProcessors();\r\n    ThreadPoolExecutor executor = new ThreadPoolExecutor(0, n, 1, TimeUnit.MINUTES, new ThreadPoolQueue(n));\r\n    for (Runnable task : tasks) {\r\n        executor.execute(task); // will never throw, nor will queue more than n tasks\r\n    }\r\n    executor.shutdown();\r\n    executor.awaitTermination(1, TimeUnit.HOURS);\r\n","title":"What could be the cause of RejectedExecutionException","body":"<p>Just to add to OrangeDog's excellent answer, the contract of an <code>Executor</code> is indeed such that its <code>execute</code> method will throw <code>RejectedExecutionException</code> when the executor is saturated (i.e. there is no space in the queue).</p>\n<p>However, it would have been useful if it <strong>blocked</strong> instead, automatically waiting until there is space in the queue for the new task.</p>\n<p>With the following custom <code>BlockingQueue</code> it's possible to achieve that:</p>\n<pre><code>public final class ThreadPoolQueue extends ArrayBlockingQueue&lt;Runnable&gt; {\n\n    public ThreadPoolQueue(int capacity) {\n        super(capacity);\n    }\n\n    @Override\n    public boolean offer(Runnable e) {\n        try {\n            put(e);\n        } catch (InterruptedException e1) {\n            Thread.currentThread().interrupt();\n            return false;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>That essentially implements the backpressure algorithm, slowing the producer whenever the executor saturates.</p>\n<p>Use it as:</p>\n<pre><code>int n = Runtime.getRuntime().availableProcessors();\nThreadPoolExecutor executor = new ThreadPoolExecutor(0, n, 1, TimeUnit.MINUTES, new ThreadPoolQueue(n));\nfor (Runnable task : tasks) {\n    executor.execute(task); // will never throw, nor will queue more than n tasks\n}\nexecutor.shutdown();\nexecutor.awaitTermination(1, TimeUnit.HOURS);\n</code></pre>\n"}],"owner":{"account_id":134484,"reputation":3552,"user_id":336657,"accept_rate":65,"display_name":"jpprade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106561,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":8183463,"answer_count":2,"score":90,"last_activity_date":1642416108,"creation_date":1321623199,"question_id":8183205,"body_markdown":"I am getting this exception on my tomcat server (+liferay)\r\n\r\n    java.util.concurrent.RejectedExecutionException\r\n\r\nmy class is like that :\r\n\r\n    public class SingleExecutor extends ThreadPoolExecutor {\r\n      public SingleExecutor(){\r\n        super(1, 1,0L, TimeUnit.MILLISECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\r\n      }\r\n\r\n      @Override\r\n      public void execute(Runnable command) {\r\n\t\tif(command instanceof AccessLogInsert){\r\n\t\t\tAccessLogInsert ali = (AccessLogInsert)command;\r\n\t\t\tali.setConn(conn);\r\n\t\t\tali.setPs(ps);\r\n\t\t}\r\n\t\tsuper.execute(command);\r\n      }\r\n    }\r\n\r\nI get this exception on the line `super.execute(command);`\r\nThis error can occur when the queue is full but the `LinkedBlockingQueue` size is 2^31, and  I am sure that there is no so many command waiting.\r\n\r\nAt start everything is stable, but after I redeploy a war it starts occuring. This class is not part of the war but in a jar in tomcat/lib.\r\n\r\nDo you have any idea why this happend and how to fix it ?\r\n","title":"What could be the cause of RejectedExecutionException","body":"<p>I am getting this exception on my tomcat server (+liferay)</p>\n\n<pre><code>java.util.concurrent.RejectedExecutionException\n</code></pre>\n\n<p>my class is like that :</p>\n\n<pre><code>public class SingleExecutor extends ThreadPoolExecutor {\n  public SingleExecutor(){\n    super(1, 1,0L, TimeUnit.MILLISECONDS,new LinkedBlockingQueue&lt;Runnable&gt;());\n  }\n\n  @Override\n  public void execute(Runnable command) {\n    if(command instanceof AccessLogInsert){\n        AccessLogInsert ali = (AccessLogInsert)command;\n        ali.setConn(conn);\n        ali.setPs(ps);\n    }\n    super.execute(command);\n  }\n}\n</code></pre>\n\n<p>I get this exception on the line <code>super.execute(command);</code>\nThis error can occur when the queue is full but the <code>LinkedBlockingQueue</code> size is 2^31, and  I am sure that there is no so many command waiting.</p>\n\n<p>At start everything is stable, but after I redeploy a war it starts occuring. This class is not part of the war but in a jar in tomcat/lib.</p>\n\n<p>Do you have any idea why this happend and how to fix it ?</p>\n"},{"tags":["java","python","arraylist","set","internals"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1405812569,"post_id":24845926,"comment_id":38579077,"body_markdown":"Languages are different. All languages don&#39;t behave the same way even if they use the same terminology.","body":"Languages are different. All languages don&#39;t behave the same way even if they use the same terminology."},{"owner":{"account_id":2408004,"reputation":690,"user_id":2103884,"accept_rate":74,"display_name":"zyl1024"},"score":0,"creation_date":1405812895,"post_id":24845926,"comment_id":38579119,"body_markdown":"@Kayaman I know they are different and I am aware of this difference. I want to know how Java accomplishes this while Python does not. Now the way Python works seems more reasonable: the `set` should not be responsible of monitoring the `hashcode` of its elements all the time and change accordingly. But I don&#39;t think there is a mechanism for `ArrayList` to report its `hashcode` change every time its element changes. So how does it work?","body":"@Kayaman I know they are different and I am aware of this difference. I want to know how Java accomplishes this while Python does not. Now the way Python works seems more reasonable: the <code>set</code> should not be responsible of monitoring the <code>hashcode</code> of its elements all the time and change accordingly. But I don&#39;t think there is a mechanism for <code>ArrayList</code> to report its <code>hashcode</code> change every time its element changes. So how does it work?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1405813037,"post_id":24845926,"comment_id":38579142,"body_markdown":"It&#39;s a known fact, that if an object changes its hashcode while it&#39;s in a `HashSet` (or similar hash-related construct) the results are undefined. That&#39;s why you should only put immutable things in them.","body":"It&#39;s a known fact, that if an object changes its hashcode while it&#39;s in a <code>HashSet</code> (or similar hash-related construct) the results are undefined. That&#39;s why you should only put immutable things in them."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1405813363,"post_id":24845926,"comment_id":38579210,"body_markdown":"@zyl1024 actually what you&#39;re trying to do doesn&#39;t make sense unless you have a very specific (and bizarre) use-case: the usage of `set` enforces the uniqueness of the lists (any two lists in the set should NOT be identical). But, if the lists keep changing - how do you enforce that ? now take the same problem to a multithreaded environment and you got yourself into a real mess...","body":"@zyl1024 actually what you&#39;re trying to do doesn&#39;t make sense unless you have a very specific (and bizarre) use-case: the usage of <code>set</code> enforces the uniqueness of the lists (any two lists in the set should NOT be identical). But, if the lists keep changing - how do you enforce that ? now take the same problem to a multithreaded environment and you got yourself into a real mess..."}],"answers":[{"tags":[],"owner":{"account_id":3046467,"reputation":25673,"user_id":2581969,"display_name":"roippi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405815372,"creation_date":1405815372,"answer_id":24846179,"question_id":24845926,"body_markdown":"Lists are unhashable in python because they do not define `__hash__`.  There are reasons for that, but you could conceivably define your own mutable class that does, provided that said hash does not change across the lifetime of the object.  For example, using `id(x)` as the hash.  In fact, you&#39;ve probably unknowingly implemented exactly that in a lot of your own classes.\r\n\r\nI&#39;ll quote from the [docs][1] on &quot;hashable&quot;:\r\n\r\n&gt; All of Python’s immutable built-in objects are hashable, while no\r\n&gt; mutable containers (such as lists or dictionaries) are. Objects which\r\n&gt; are instances of user-defined classes are hashable by default; they\r\n&gt; all compare unequal (except with themselves), and their hash value is\r\n&gt; their `id()`.\r\n\r\nMutability and hashability are coupled, but not at all the same thing.\r\n\r\n\r\n  [1]: https://docs.python.org/2/glossary.html#term-hashable","title":"Add List to Set is Possible in Java but not in Python?","body":"<p>Lists are unhashable in python because they do not define <code>__hash__</code>.  There are reasons for that, but you could conceivably define your own mutable class that does, provided that said hash does not change across the lifetime of the object.  For example, using <code>id(x)</code> as the hash.  In fact, you've probably unknowingly implemented exactly that in a lot of your own classes.</p>\n\n<p>I'll quote from the <a href=\"https://docs.python.org/2/glossary.html#term-hashable\" rel=\"nofollow\">docs</a> on \"hashable\":</p>\n\n<blockquote>\n  <p>All of Python’s immutable built-in objects are hashable, while no\n  mutable containers (such as lists or dictionaries) are. Objects which\n  are instances of user-defined classes are hashable by default; they\n  all compare unequal (except with themselves), and their hash value is\n  their <code>id()</code>.</p>\n</blockquote>\n\n<p>Mutability and hashability are coupled, but not at all the same thing.</p>\n"},{"tags":[],"owner":{"account_id":3359772,"reputation":123,"user_id":2821828,"accept_rate":25,"display_name":"songofhawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642416053,"creation_date":1642416053,"answer_id":70740003,"question_id":24845926,"body_markdown":"This [post][1] explained it clearly. In a nutshell, Java and Python all use an internal hash_table to implement a set, and use hash code as key, the difference is Python require the variable to be hashed being immutable, and Java not, which can cause wired behaviour:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://levelup.gitconnected.com/mutables-in-a-set-python-vs-java-e1293536abe9\r\n  [2]: https://i.stack.imgur.com/3fQok.png","title":"Add List to Set is Possible in Java but not in Python?","body":"<p>This <a href=\"https://levelup.gitconnected.com/mutables-in-a-set-python-vs-java-e1293536abe9\" rel=\"nofollow noreferrer\">post</a> explained it clearly. In a nutshell, Java and Python all use an internal hash_table to implement a set, and use hash code as key, the difference is Python require the variable to be hashed being immutable, and Java not, which can cause wired behaviour:</p>\n<p><a href=\"https://i.stack.imgur.com/3fQok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3fQok.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2408004,"reputation":690,"user_id":2103884,"accept_rate":74,"display_name":"zyl1024"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24846179,"answer_count":2,"score":2,"last_activity_date":1642416053,"creation_date":1405812452,"question_id":24845926,"body_markdown":"I am new to Python and just stumbled on adding `list` to `set`. Now I know the [reason][1] why this is not possible is that `list` is mutable so its `hashcode` (or the Python corresponding concept) will change. Reflecting on my programming in Java, I found that I have done this many times. \r\n\r\n    HashSet&lt;ArrayList&lt;String&gt;&gt; masterCollection = new HashSet&lt;ArrayList&lt;String&gt;&gt;();\r\n    ArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();\r\n    masterCollection.add(a);\r\n    a.add(&quot;Hello, World&quot;);\r\n    for(ArrayList&lt;String&gt; list : masterCollection) {\r\n        // do something to list\r\n    }\r\n\r\nI did not notice any abnormal behaviors of the above code. I even used `ArrayList` as keys to `HashMap` and succeeded in accomplishing my task. \r\n\r\nTherefore, I want to ask how internally Python is different in Java in this aspect and whether there are something I need to pay attention to when writing the above code. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1306631/python-add-list-to-set","title":"Add List to Set is Possible in Java but not in Python?","body":"<p>I am new to Python and just stumbled on adding <code>list</code> to <code>set</code>. Now I know the <a href=\"https://stackoverflow.com/questions/1306631/python-add-list-to-set\">reason</a> why this is not possible is that <code>list</code> is mutable so its <code>hashcode</code> (or the Python corresponding concept) will change. Reflecting on my programming in Java, I found that I have done this many times. </p>\n\n<pre><code>HashSet&lt;ArrayList&lt;String&gt;&gt; masterCollection = new HashSet&lt;ArrayList&lt;String&gt;&gt;();\nArrayList&lt;String&gt; a = new ArrayList&lt;String&gt;();\nmasterCollection.add(a);\na.add(\"Hello, World\");\nfor(ArrayList&lt;String&gt; list : masterCollection) {\n    // do something to list\n}\n</code></pre>\n\n<p>I did not notice any abnormal behaviors of the above code. I even used <code>ArrayList</code> as keys to <code>HashMap</code> and succeeded in accomplishing my task. </p>\n\n<p>Therefore, I want to ask how internally Python is different in Java in this aspect and whether there are something I need to pay attention to when writing the above code. </p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1642417733,"post_id":70739897,"comment_id":125056979,"body_markdown":"Do you really need TableB to have ids? Having ids hints that TableB actually *MAY BE* an entity. Just double-checking on the sanity of the design.","body":"Do you really need TableB to have ids? Having ids hints that TableB actually <i>MAY BE</i> an entity. Just double-checking on the sanity of the design."},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1642422742,"post_id":70739897,"comment_id":125058940,"body_markdown":"@NikosParaskevopoulos thanks. table b is just a storage table, which is not an entity in the business logic (more like a reference data table)","body":"@NikosParaskevopoulos thanks. table b is just a storage table, which is not an entity in the business logic (more like a reference data table)"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1642426848,"post_id":70739897,"comment_id":125060611,"body_markdown":"I am not sure if there is any hack in JPA or any Hibernate-specific configuration to use an element collection with a join. I am afraid that you may have to turn the reference table into a full blown entity. Wait to see if someone knows more anyway. Good luck!","body":"I am not sure if there is any hack in JPA or any Hibernate-specific configuration to use an element collection with a join. I am afraid that you may have to turn the reference table into a full blown entity. Wait to see if someone knows more anyway. Good luck!"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":1,"creation_date":1642551532,"post_id":70739897,"comment_id":125099642,"body_markdown":"@NikosParaskevopoulos I have created a database view to join the mapping table and table b together and use element collection on that view. Not a pure JPA solution but it works.","body":"@NikosParaskevopoulos I have created a database view to join the mapping table and table b together and use element collection on that view. Not a pure JPA solution but it works."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1642585356,"post_id":70739897,"comment_id":125107221,"body_markdown":"No, actually I think it is a good solution, nice :) Maybe post an answer?","body":"No, actually I think it is a good solution, nice :) Maybe post an answer?"},{"owner":{"account_id":20993600,"reputation":232,"user_id":15425970,"display_name":"Prachi Patel"},"score":0,"creation_date":1661275562,"post_id":70739897,"comment_id":129731852,"body_markdown":"This can be done using @ElementCollection but as you have written the values in the &quot;mapping table&quot; both columns can have duplicates. I think if you will use &#39;@ElementCollection&#39; it will constrain you not to add duplicate values in one of the columns so yeah that error you will face. I am making this point here because you have written duplicate values so it will be beneficial if you use &#39;@ManyToMany&#39; mapping.","body":"This can be done using @ElementCollection but as you have written the values in the &quot;mapping table&quot; both columns can have duplicates. I think if you will use &#39;@ElementCollection&#39; it will constrain you not to add duplicate values in one of the columns so yeah that error you will face. I am making this point here because you have written duplicate values so it will be beneficial if you use &#39;@ManyToMany&#39; mapping."}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642415499,"creation_date":1642415499,"question_id":70739897,"body_markdown":"Say I have the following tables in database:\r\n\r\n    id | ...   (table a)\r\n    ---+----\r\n    a1 | ...\r\n    a2 | ...\r\n\r\n    a_id | b_id   (mapping table a and b)\r\n    -----+----\r\n      a1 | b1\r\n      a1 | b2\r\n      a2 | b2\r\n\r\n    id | value   (table b)\r\n    ---+------\r\n    b1 | &quot;one&quot;\r\n    b2 | &quot;two&quot;\r\n\r\nI want to map a JPA entity with Hibernate for table a:\r\n\r\n    @Entity\r\n    class EntityA {\r\n        List&lt;String&gt; values;\r\n    }\r\n\r\nso that `values` is `&quot;one&quot;, &quot;two&quot;` for `&quot;a1&quot;` and `&quot;two&quot;` for `&quot;a2&quot;` in the example. I don&#39;t need an entity for table b, just a single column in table b to be included in `EntityA`, can this be done with `@ElementCollection` and how?","title":"Using @ElementCollection to map a column from another table","body":"<p>Say I have the following tables in database:</p>\n<pre><code>id | ...   (table a)\n---+----\na1 | ...\na2 | ...\n\na_id | b_id   (mapping table a and b)\n-----+----\n  a1 | b1\n  a1 | b2\n  a2 | b2\n\nid | value   (table b)\n---+------\nb1 | &quot;one&quot;\nb2 | &quot;two&quot;\n</code></pre>\n<p>I want to map a JPA entity with Hibernate for table a:</p>\n<pre><code>@Entity\nclass EntityA {\n    List&lt;String&gt; values;\n}\n</code></pre>\n<p>so that <code>values</code> is <code>&quot;one&quot;, &quot;two&quot;</code> for <code>&quot;a1&quot;</code> and <code>&quot;two&quot;</code> for <code>&quot;a2&quot;</code> in the example. I don't need an entity for table b, just a single column in table b to be included in <code>EntityA</code>, can this be done with <code>@ElementCollection</code> and how?</p>\n"},{"tags":["java","kotlin","elasticsearch","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642415436,"creation_date":1642415046,"answer_id":70739805,"question_id":70739556,"body_markdown":"You should always use a client library version that is compatible with the server version. In this case you&#39;re using a recent version of the client library (i.e. 7.16.3) with an older version of the server (i.e. 7.7), you&#39;re not supposed to do that, or you should [expect some backward incompatibility issues](https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html):\r\n\r\n&gt;  The client must have the same major version (e.g. 2.x, or 5.x) as the nodes in the cluster. Clients may connect to clusters which have a different minor version (e.g. 2.3.x) but **it is possible that new functionality may not be supported.** Ideally, the client should have the same version as the cluster.\r\n\r\nIf you use the [Java client 7.7](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.7/index.html) instead, you won&#39;t have any problems.\r\n\r\nAlso, as you can see from the latest [Java Client source code](https://github.com/elastic/elasticsearch/blob/35a79bc7d404bd8181a97b32a86db8962c953933/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L2490-L2566), the `compatible-with` value is hardcoded into the HTTP header value. If a header is found to not have that compatibility check, it is [modified automatically](https://github.com/elastic/elasticsearch/blob/35a79bc7d404bd8181a97b32a86db8962c953933/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L2623-L2660) to include it, so there&#39;s no way to turn it off. ","title":"How to disable compatibility header in Elasticsearch Java API Client?","body":"<p>You should always use a client library version that is compatible with the server version. In this case you're using a recent version of the client library (i.e. 7.16.3) with an older version of the server (i.e. 7.7), you're not supposed to do that, or you should <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html\" rel=\"nofollow noreferrer\">expect some backward incompatibility issues</a>:</p>\n<blockquote>\n<p>The client must have the same major version (e.g. 2.x, or 5.x) as the nodes in the cluster. Clients may connect to clusters which have a different minor version (e.g. 2.3.x) but <strong>it is possible that new functionality may not be supported.</strong> Ideally, the client should have the same version as the cluster.</p>\n</blockquote>\n<p>If you use the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/7.7/index.html\" rel=\"nofollow noreferrer\">Java client 7.7</a> instead, you won't have any problems.</p>\n<p>Also, as you can see from the latest <a href=\"https://github.com/elastic/elasticsearch/blob/35a79bc7d404bd8181a97b32a86db8962c953933/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L2490-L2566\" rel=\"nofollow noreferrer\">Java Client source code</a>, the <code>compatible-with</code> value is hardcoded into the HTTP header value. If a header is found to not have that compatibility check, it is <a href=\"https://github.com/elastic/elasticsearch/blob/35a79bc7d404bd8181a97b32a86db8962c953933/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L2623-L2660\" rel=\"nofollow noreferrer\">modified automatically</a> to include it, so there's no way to turn it off.</p>\n"}],"owner":{"account_id":16251658,"reputation":65,"user_id":11735664,"display_name":"Maksim Konovalov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70739805,"answer_count":1,"score":1,"last_activity_date":1642415436,"creation_date":1642413952,"question_id":70739556,"body_markdown":"I&#39;m trying to config my application to interaction with Elastcisearch server v7.7 using [Java API Client][1] v7.16.3. But when I try to index new document, I get the following error:\r\n\r\n```\r\n{&quot;error&quot;:&quot;Content-Type header [application/vnd.elasticsearch+json; compatible-with=7] is not supported&quot;,&quot;status&quot;:406}\r\n```\r\n\r\nAs far as I understand, the reason is the [compatibility `Content-type` header][2] which value contains `compatible-with=7`. Elasticsearch v7.7 doesn&#39;t support this content-type (while Elasticsearch v7.15 works fine with it). Here is my configuration:\r\n\r\n```\r\n    fun configElasticsearchRestClient(\r\n        host: String,\r\n        username: String,\r\n        password: String\r\n    ): ElasticsearchClient {\r\n        val elasticsearchRestClient =  RestClient.builder(HttpHost.create(host))\r\n            .build()\r\n        val transport: ElasticsearchTransport = RestClientTransport(\r\n            elasticsearchRestClient,\r\n            JacksonJsonpMapper()\r\n        )\r\n        return ElasticsearchClient(transport)\r\n    }\r\n```\r\n\r\nAnd here is indexing method:\r\n```\r\n    fun index(document: SomeDocument) {\r\n        val indexRequest = IndexRequest.Builder&lt;ObjectNode&gt;()\r\n            .index(&quot;some-index&quot;)\r\n            .document(document)\r\n            .id(document.getId())\r\n            .version(document.getVersion())\r\n            .versionType(External)\r\n            .build()\r\n\r\n        elasticsearchClient.index(indexRequest)\r\n    }\r\n```\r\n\r\nIs it possible do disable compatibility headers for Java API Client?\r\nOr is there any another way to use Java API Client for Elasticsearch server v7.7?\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/api-conventions.html","title":"How to disable compatibility header in Elasticsearch Java API Client?","body":"<p>I'm trying to config my application to interaction with Elastcisearch server v7.7 using <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">Java API Client</a> v7.16.3. But when I try to index new document, I get the following error:</p>\n<pre><code>{&quot;error&quot;:&quot;Content-Type header [application/vnd.elasticsearch+json; compatible-with=7] is not supported&quot;,&quot;status&quot;:406}\n</code></pre>\n<p>As far as I understand, the reason is the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/api-conventions.html\" rel=\"nofollow noreferrer\">compatibility <code>Content-type</code> header</a> which value contains <code>compatible-with=7</code>. Elasticsearch v7.7 doesn't support this content-type (while Elasticsearch v7.15 works fine with it). Here is my configuration:</p>\n<pre><code>    fun configElasticsearchRestClient(\n        host: String,\n        username: String,\n        password: String\n    ): ElasticsearchClient {\n        val elasticsearchRestClient =  RestClient.builder(HttpHost.create(host))\n            .build()\n        val transport: ElasticsearchTransport = RestClientTransport(\n            elasticsearchRestClient,\n            JacksonJsonpMapper()\n        )\n        return ElasticsearchClient(transport)\n    }\n</code></pre>\n<p>And here is indexing method:</p>\n<pre><code>    fun index(document: SomeDocument) {\n        val indexRequest = IndexRequest.Builder&lt;ObjectNode&gt;()\n            .index(&quot;some-index&quot;)\n            .document(document)\n            .id(document.getId())\n            .version(document.getVersion())\n            .versionType(External)\n            .build()\n\n        elasticsearchClient.index(indexRequest)\n    }\n</code></pre>\n<p>Is it possible do disable compatibility headers for Java API Client?\nOr is there any another way to use Java API Client for Elasticsearch server v7.7?</p>\n"},{"tags":["java","class","import","stddraw"],"comments":[{"owner":{"account_id":2525480,"reputation":1724,"user_id":2194951,"display_name":"Luke"},"score":1,"creation_date":1441350701,"post_id":32389190,"comment_id":52652945,"body_markdown":"FYI, the documentation means that StdDraw extends Object. That is, it&#39;s a special kind of Object. All classes in Java extend Object implicitly! Little bit more info here ( http://stackoverflow.com/questions/19114997/why-does-every-object-in-java-implicitly-extend-java-lang-object-class ) if you&#39;re interested.","body":"FYI, the documentation means that StdDraw extends Object. That is, it&#39;s a special kind of Object. All classes in Java extend Object implicitly! Little bit more info here ( <a href=\"http://stackoverflow.com/questions/19114997/why-does-every-object-in-java-implicitly-extend-java-lang-object-class\" title=\"why does every object in java implicitly extend java lang object class\">stackoverflow.com/questions/19114997/&hellip;</a> ) if you&#39;re interested."}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441347959,"creation_date":1441341373,"answer_id":32390155,"question_id":32389190,"body_markdown":"if you want to use StdDraw you must have\r\n \r\n- either the sources\r\n- or the classes (best zipped up as jar)\r\n\r\nas preferred way you use the sources (see http://introcs.cs.princeton.edu/java/15inout/). it says there &quot;To use these libraries, download StdIn.java, StdOut.java, StdDraw.java, and StdAudio.java into the same directory as your program. &quot;\r\n\r\nonce you did this the imports should be working.\r\n\r\nNOTE: all four files are not in packages, so you should &#39;download&#39; them into the &#39;standard&#39; package. That means you have to download them to the root package of your project.\r\n\r\nby the way: don&#39;t import `import java.lang.Object.StdDraw;` but do just import `import StdDraw;`","title":"How to import correct package for StdDraw?","body":"<p>if you want to use StdDraw you must have</p>\n\n<ul>\n<li>either the sources</li>\n<li>or the classes (best zipped up as jar)</li>\n</ul>\n\n<p>as preferred way you use the sources (see <a href=\"http://introcs.cs.princeton.edu/java/15inout/\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/15inout/</a>). it says there \"To use these libraries, download StdIn.java, StdOut.java, StdDraw.java, and StdAudio.java into the same directory as your program. \"</p>\n\n<p>once you did this the imports should be working.</p>\n\n<p>NOTE: all four files are not in packages, so you should 'download' them into the 'standard' package. That means you have to download them to the root package of your project.</p>\n\n<p>by the way: don't import <code>import java.lang.Object.StdDraw;</code> but do just import <code>import StdDraw;</code></p>\n"},{"tags":[],"owner":{"account_id":486952,"reputation":271,"user_id":2104705,"display_name":"Wojciech Domalewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642415288,"creation_date":1642415288,"answer_id":70739848,"question_id":32389190,"body_markdown":"1) First of all check encoding of your IDE. It should be set to UTF-8. It is important if you are using MS Windows operating system.\r\n\r\n2) Then create StdDraw.java class in the same package as the package of your program you are writing. Remove class declaration, leave only package declaration.\r\n\r\n2) Then visit this page: https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java .\r\n\r\n3) Copy all its contents (Ctr-A, Ctrl-C) and then paste it into StdDraw.java file you created previously.\r\n\r\n4) StdDraw.java has its own main method so try to run it in order to check that the library works correctly. You should see a window with four strange figures :) .\r\n\r\n5) Don&#39;t touch StdDraw.java anymore. Now you can easily import StdDraw library and refer to its methods with name of the class.\r\n\r\nEnjoy\r\n\r\n","title":"How to import correct package for StdDraw?","body":"<ol>\n<li><p>First of all check encoding of your IDE. It should be set to UTF-8. It is important if you are using MS Windows operating system.</p>\n</li>\n<li><p>Then create StdDraw.java class in the same package as the package of your program you are writing. Remove class declaration, leave only package declaration.</p>\n</li>\n<li><p>Then visit this page: <a href=\"https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java</a> .</p>\n</li>\n<li><p>Copy all its contents (Ctr-A, Ctrl-C) and then paste it into StdDraw.java file you created previously.</p>\n</li>\n<li><p>StdDraw.java has its own main method so try to run it in order to check that the library works correctly. You should see a window with four strange figures :) .</p>\n</li>\n<li><p>Don't touch StdDraw.java anymore. Now you can easily import StdDraw library and refer to its methods with name of the class.</p>\n</li>\n</ol>\n<p>Enjoy</p>\n"}],"owner":{"account_id":3075710,"reputation":9433,"user_id":2605112,"accept_rate":42,"display_name":"makansij"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642415288,"creation_date":1441333854,"question_id":32389190,"body_markdown":"I want to use the StdDraw package,  and I&#39;ve tried many different ways of importing it.  \r\n\r\nOf course I tried:\r\n\r\n`import StdDraw;`\r\n\r\nBut, when I look at the documentation from Princeton [here](http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html), it shows that StdDraw is part of `Objects`, so I try this:\r\n\r\n`import java.lang.Object.StdDraw;`\r\n\r\nHowever, this results in an error:\r\n\r\n    error: cannot find symbol in\r\n    import java.lang.Object.StdDraw;\r\n\r\nI saw this question [here](https://stackoverflow.com/questions/29136723/how-to-import-stddraw-correctly) but it does not answer this question either.  \r\n\r\nHow do I import `StdDraw`? thank you.  \r\n","title":"How to import correct package for StdDraw?","body":"<p>I want to use the StdDraw package,  and I've tried many different ways of importing it.  </p>\n\n<p>Of course I tried:</p>\n\n<p><code>import StdDraw;</code></p>\n\n<p>But, when I look at the documentation from Princeton <a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\">here</a>, it shows that StdDraw is part of <code>Objects</code>, so I try this:</p>\n\n<p><code>import java.lang.Object.StdDraw;</code></p>\n\n<p>However, this results in an error:</p>\n\n<pre><code>error: cannot find symbol in\nimport java.lang.Object.StdDraw;\n</code></pre>\n\n<p>I saw this question <a href=\"https://stackoverflow.com/questions/29136723/how-to-import-stddraw-correctly\">here</a> but it does not answer this question either.  </p>\n\n<p>How do I import <code>StdDraw</code>? thank you.  </p>\n"},{"tags":["java","tomcat","tomcat9","ojdbc"],"comments":[{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1642368572,"post_id":70733906,"comment_id":125046603,"body_markdown":"I bet the missing Oralce jar is declared as a `provided`-scoped dependency and is expected to be found under Tomcat&#39;s `lib` folder, but went missing after updating Tomcat&#39;s version.","body":"I bet the missing Oralce jar is declared as a <code>provided</code>-scoped dependency and is expected to be found under Tomcat&#39;s <code>lib</code> folder, but went missing after updating Tomcat&#39;s version."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642371320,"post_id":70733906,"comment_id":125047176,"body_markdown":"@JockX looks like the class is found but it doesn&#39;t have a noargs ctor.","body":"@JockX looks like the class is found but it doesn&#39;t have a noargs ctor."}],"answers":[{"tags":[],"owner":{"account_id":17598499,"reputation":166,"user_id":12768970,"display_name":"Saurabh Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642399973,"creation_date":1642399973,"answer_id":70737188,"question_id":70733906,"body_markdown":"I am sure you must be using Oracle JDBC and UCP binaries from 21.1 release instead of 19.3 release. You can check and validate the ojdbc and ucp jar version using below command:\r\n&lt;br&gt;\r\njava -jar ucp.jar\r\n&lt;br&gt;\r\njava -jar ojdbc8.jar\r\n\r\nThe issue you have described above is a known issue with ucp 21.1 release jars. In order to fix the issue, you can simply switch to ucp/jdbc 21.3 release. Please make sure to upgrade both ucp.jar and ojdbc8.jar to 21.3, not just one. Also, make sure to remove all duplicate jars(if any) from the class-path.\r\nHere is a related thread for the same issue:&lt;br&gt;\r\nhttps://stackoverflow.com/questions/68022959/ojdbc8-jars-upgrade-to-21-1-0-0-throws-nosuchmethod-exception-ucpservletcontextl\r\n","title":"Problem with oracle.ucp.jdbc.UCPServletContextListener","body":"<p>I am sure you must be using Oracle JDBC and UCP binaries from 21.1 release instead of 19.3 release. You can check and validate the ojdbc and ucp jar version using below command:\n<br>\njava -jar ucp.jar\n<br>\njava -jar ojdbc8.jar</p>\n<p>The issue you have described above is a known issue with ucp 21.1 release jars. In order to fix the issue, you can simply switch to ucp/jdbc 21.3 release. Please make sure to upgrade both ucp.jar and ojdbc8.jar to 21.3, not just one. Also, make sure to remove all duplicate jars(if any) from the class-path.\nHere is a related thread for the same issue:<br>\n<a href=\"https://stackoverflow.com/questions/68022959/ojdbc8-jars-upgrade-to-21-1-0-0-throws-nosuchmethod-exception-ucpservletcontextl\">Ojdbc8 jars upgrade to 21.1.0.0 throws Nosuchmethod exception UCPservletContextListener init</a></p>\n"},{"tags":[],"owner":{"account_id":13486318,"reputation":21,"user_id":9730030,"display_name":"Luis Fern&#225;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642415028,"creation_date":1642415028,"answer_id":70739802,"question_id":70733906,"body_markdown":"Weirdly, uninstalling and deleting all tomcat versions previously used and installing a new one and setting up a new configuration made the error stop happening and the app is running nicely again.\r\n\r\nI had done this before with no results, but this time it did work.","title":"Problem with oracle.ucp.jdbc.UCPServletContextListener","body":"<p>Weirdly, uninstalling and deleting all tomcat versions previously used and installing a new one and setting up a new configuration made the error stop happening and the app is running nicely again.</p>\n<p>I had done this before with no results, but this time it did work.</p>\n"}],"owner":{"account_id":13486318,"reputation":21,"user_id":9730030,"display_name":"Luis Fern&#225;ndez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642415028,"creation_date":1642364909,"question_id":70733906,"body_markdown":"I&#39;m running a small java application on TomCat 9.0.56 for class that has to connect to a database. I&#39;m using jdbc (ojdbc8 - 19.3.0.0). It was working fine untill it started displaying the following error:\r\n\r\n``16-Jan-2022 21:03:42.631 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Error configuring application listener [oracle.ucp.jdbc.UCPServletContextListener]\r\n\tjava.lang.NoSuchMethodException: oracle.ucp.jdbc.UCPServletContextListener.&lt;init&gt;()``\r\n\r\nI&#39;m new to tomcat and I&#39;m not sure how to fix this. I have re-installed everything but it hasn&#39;t worked again. Any idea?\r\n\r\nIDE - IntelliJ 2021.2.3\r\nJDK - 17.0.1\r\n","title":"Problem with oracle.ucp.jdbc.UCPServletContextListener","body":"<p>I'm running a small java application on TomCat 9.0.56 for class that has to connect to a database. I'm using jdbc (ojdbc8 - 19.3.0.0). It was working fine untill it started displaying the following error:</p>\n<p><code>16-Jan-2022 21:03:42.631 SEVERE [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.StandardContext.listenerStart Error configuring application listener [oracle.ucp.jdbc.UCPServletContextListener] java.lang.NoSuchMethodException: oracle.ucp.jdbc.UCPServletContextListener.&lt;init&gt;()</code></p>\n<p>I'm new to tomcat and I'm not sure how to fix this. I have re-installed everything but it hasn't worked again. Any idea?</p>\n<p>IDE - IntelliJ 2021.2.3\nJDK - 17.0.1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":6,"creation_date":1642404757,"post_id":70737803,"comment_id":125052408,"body_markdown":"I would recommend using [JSONObject](https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html) or [GSON](https://github.com/google/gson) to work with JSON properly to avoid making mistake like when escaping. Like in this case you would get into trouble if `content` contains a `&quot;`, if you directly substitute it.","body":"I would recommend using <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\">JSONObject</a> or <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> to work with JSON properly to avoid making mistake like when escaping. Like in this case you would get into trouble if <code>content</code> contains a <code>&quot;</code>, if you directly substitute it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1642405037,"post_id":70737803,"comment_id":125052484,"body_markdown":"As @RickyMo says, creating JSON by string operations is a bad idea.","body":"As @RickyMo says, creating JSON by string operations is a bad idea."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642405095,"post_id":70737803,"comment_id":125052506,"body_markdown":"You look like you try trying to do python or ruby-like string interpolation in Java.  Java  doesn&#39;t support support it.  But even if you did manage it, it would be an incorrect solution because it wouldn&#39;t properly escape the `content` string in the resulting JSON ... in cases where escaping is required.","body":"You look like you try trying to do python or ruby-like string interpolation in Java.  Java  doesn&#39;t support support it.  But even if you did manage it, it would be an incorrect solution because it wouldn&#39;t properly escape the <code>content</code> string in the resulting JSON ... in cases where escaping is required."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642405193,"post_id":70737803,"comment_id":125052539,"body_markdown":"PS ... that is not correct code in Python either.","body":"PS ... that is not correct code in Python either."},{"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"score":0,"creation_date":1642405394,"post_id":70737803,"comment_id":125052595,"body_markdown":"@StephenC Messed up the quotations whilst typing it here, corrected it now.","body":"@StephenC Messed up the quotations whilst typing it here, corrected it now."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642406197,"post_id":70737803,"comment_id":125052854,"body_markdown":"@TonyStark - You missed my point.  It is not a Python syntax problem I am talking about.  It is the fact that `context` will be substituted without doing proper &gt;JSON&lt; escaping.","body":"@TonyStark - You missed my point.  It is not a Python syntax problem I am talking about.  It is the fact that <code>context</code> will be substituted without doing proper &gt;JSON&lt; escaping."},{"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"score":0,"creation_date":1642406288,"post_id":70737803,"comment_id":125052886,"body_markdown":"@StephenC I do understand that. Looking at building a proper json now without string interpolation, guess I&#39;ll have to add maven dependencies which I haven&#39;t done before :)","body":"@StephenC I do understand that. Looking at building a proper json now without string interpolation, guess I&#39;ll have to add maven dependencies which I haven&#39;t done before :)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1642406412,"post_id":70737803,"comment_id":125052929,"body_markdown":"It will be easier to learn how to do dependencies than to write everything yourself.  (And that applies in Python too!)","body":"It will be easier to learn how to do dependencies than to write everything yourself.  (And that applies in Python too!)"}],"answers":[{"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642414729,"creation_date":1642414729,"answer_id":70739726,"question_id":70737803,"body_markdown":"You could use `String.format` like this:\r\n    \r\n     String.format(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;, &quot;url&quot;);\r\n\r\nor with a variable `context`\r\n\r\n     String.format(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;, context);","title":"Including variables in json of OutputStreamWriter","body":"<p>You could use <code>String.format</code> like this:</p>\n<pre><code> String.format(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;, &quot;url&quot;);\n</code></pre>\n<p>or with a variable <code>context</code></p>\n<pre><code> String.format(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;, context);\n</code></pre>\n"}],"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642414729,"creation_date":1642404333,"question_id":70737803,"body_markdown":"I&#39;m converting a curl command to a java program, and I&#39;m facing difficulties wherein I pass a variable to a function and have to include that variable as a json value to be passed as a POST request.\r\n\r\nIn python, I&#39;d do something like this if it makes sense. I&#39;d like to know what&#39;s the best way to do this in Java.\r\n```python3\r\ndata = &#39;{&quot;url&quot;:\\&quot;%s\\&quot;}&#39;%url\r\n```\r\n\r\nThis is the block of code I&#39;m trying to change right now : \r\n```java\r\nOutputStreamWriter writer = new OutputStreamWriter(httpConn.getOutputStream());\r\nwriter.write(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;%content);\r\n```\r\n\r\nPassing a string like `writer.write(&quot;{\\&quot;name\\&quot;:\\&quot;content\\&quot;}&quot;);` works, however I want to include a variable there.","title":"Including variables in json of OutputStreamWriter","body":"<p>I'm converting a curl command to a java program, and I'm facing difficulties wherein I pass a variable to a function and have to include that variable as a json value to be passed as a POST request.</p>\n<p>In python, I'd do something like this if it makes sense. I'd like to know what's the best way to do this in Java.</p>\n<pre class=\"lang-py prettyprint-override\"><code>data = '{&quot;url&quot;:\\&quot;%s\\&quot;}'%url\n</code></pre>\n<p>This is the block of code I'm trying to change right now :</p>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStreamWriter writer = new OutputStreamWriter(httpConn.getOutputStream());\nwriter.write(&quot;{\\&quot;name\\&quot;:\\&quot;%s\\&quot;}&quot;%content);\n</code></pre>\n<p>Passing a string like <code>writer.write(&quot;{\\&quot;name\\&quot;:\\&quot;content\\&quot;}&quot;);</code> works, however I want to include a variable there.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1642414646,"post_id":70739650,"comment_id":125055809,"body_markdown":"You will need to see the source code of the script. A parameter like `--help` has to be implemented (either manually or by something like args4j) by the application in order to do something.","body":"You will need to see the source code of the script. A parameter like <code>--help</code> has to be implemented (either manually or by something like args4j) by the application in order to do something."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1642414736,"post_id":70739650,"comment_id":125055838,"body_markdown":"There are no generic arguments that a java program would support. As said above, what argument it would accept depends on the program and developer. You should either read the code, or read your program&#39;s documentation to find out.","body":"There are no generic arguments that a java program would support. As said above, what argument it would accept depends on the program and developer. You should either read the code, or read your program&#39;s documentation to find out."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1642417905,"post_id":70739650,"comment_id":125057047,"body_markdown":"You might want to consider reading the documentation for that jar.","body":"You might want to consider reading the documentation for that jar."}],"answers":[{"tags":[],"owner":{"account_id":23430754,"reputation":13,"user_id":17489641,"display_name":"Sebastiano Bortoletti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642414666,"creation_date":1642414666,"answer_id":70739709,"question_id":70739650,"body_markdown":"check the arguments of the file (main(String[] args)) where is used args\r\n","title":"How to check which are the arguments of a jar script?","body":"<p>check the arguments of the file (main(String[] args)) where is used args</p>\n"}],"owner":{"account_id":17220933,"reputation":928,"user_id":12467726,"display_name":"Jeni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1642414666,"creation_date":1642414399,"question_id":70739650,"body_markdown":"I am trying to launch a jar script, but I am not sure about which arguments should I specify. \r\n\r\nAs `java -jar script.jar --help` does not work, do you know how can I achieve this?\r\n\r\nThanks!","title":"How to check which are the arguments of a jar script?","body":"<p>I am trying to launch a jar script, but I am not sure about which arguments should I specify.</p>\n<p>As <code>java -jar script.jar --help</code> does not work, do you know how can I achieve this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","mysql","maven","mariadb"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1642414853,"post_id":70739701,"comment_id":125055893,"body_markdown":"DELIMITER is client command, not SQL statement. You must reassign the delimiter in the method which will execute your multiquery.","body":"DELIMITER is client command, not SQL statement. You must reassign the delimiter in the method which will execute your multiquery."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1642414956,"post_id":70739701,"comment_id":125055935,"body_markdown":"Try running the drop and create in separate db calls, and don’t set the delimiter.","body":"Try running the drop and create in separate db calls, and don’t set the delimiter."},{"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"score":0,"creation_date":1642414970,"post_id":70739701,"comment_id":125055945,"body_markdown":"@Akina i&#39;ve this method `createProcedureStatoRiscossione(c, sqlCreaNP);`, in this method i need to reassign delimiter?","body":"@Akina i&#39;ve this method <code>createProcedureStatoRiscossione(c, sqlCreaNP);</code>, in this method i need to reassign delimiter?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1642415083,"post_id":70739701,"comment_id":125056002,"body_markdown":"This method is a method in your program. I tell about the method which sends the SQL query text to MySQL server.","body":"This method is a method in your program. I tell about the method which sends the SQL query text to MySQL server."},{"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"score":0,"creation_date":1642415788,"post_id":70739701,"comment_id":125056295,"body_markdown":"@Bohemian, i&#39;ve tried to split into two db calls, the first one i&#39;ts ok, but the second one ( the create procedure ) returns the following mysql error ` You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39; at line 1` and i don&#39;t know why","body":"@Bohemian, i&#39;ve tried to split into two db calls, the first one i&#39;ts ok, but the second one ( the create procedure ) returns the following mysql error ` You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39; at line 1` and i don&#39;t know why"}],"owner":{"account_id":22323778,"reputation":302,"user_id":16546065,"display_name":"64Bit1990"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642414623,"creation_date":1642414623,"question_id":70739701,"body_markdown":"I am developing a script in Java with which I manipulate files and execute queries on the DB, in particular I use MariaDB.\r\nIn the script I need to create a procedure, called `NP_update_collection_state`.\r\n\r\nBut when I run the script the error `You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;delimiter ;; CREATE PROCEDURE ....`\r\n\r\nDo you have any suggestions or advice? It is the first time that this error has occurred to me and I cannot understand the problem.\r\nReading about problems here on stack I noticed that the problem could come from `delimiter`, I tried to remove it but I always get syntax error.\r\n\r\n- My procedure:\r\n```\r\nString sqlCreaNP =  &quot;DROP PROCEDURE IF EXISTS `NP_aggiorna_stato_riscossione`; &quot;+\r\n &quot;delimiter ;; &quot;+\r\n &quot;CREATE PROCEDURE `NP_aggiorna_stato_riscossione`() &quot;+\r\n &quot;BEGIN &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n   &quot;DECLARE finito INTEGER DEFAULT 0; &quot;+\r\n   &quot;DECLARE M_saldato INTEGER DEFAULT NULL ;&quot;+\r\n   &quot;DECLARE M_parametroDiTolleranza decimal(11,2) DEFAULT 3; &quot;+\r\n   &quot;DECLARE contatore INT DEFAULT 0; &quot;+\r\n   &quot;DECLARE righeTrovate INT DEFAULT 0; &quot;+\r\n   &quot;DECLARE W_eseguito INT DEFAULT 0; &quot;+\r\n   &quot; &quot;+\r\n    &quot;DECLARE W_idDoc bigint(13) unsigned zerofill DEFAULT NULL; &quot;+\r\n    &quot;DECLARE W_docImporto decimal(11,2) DEFAULT 0; &quot;+\r\n    &quot;DECLARE W_versato decimal(11,2) DEFAULT 0; &quot;+\r\n    &quot;DECLARE W_ancoraDaVersare decimal(11,2) DEFAULT 0; &quot;+\r\n    &quot; &quot;+\r\n    &quot; &quot;+\r\n    &quot;DEClARE CF_cursor CURSOR FOR &quot;+\r\n        &quot;SELECT tbl_versamenti_f24.idDoc, tbl_documento.docImporto, sum(importoDebito), (tbl_documento.docImporto - sum(importoDebito)-tbl_statoriscossione.docVersato) &quot;+\r\n        &quot;FROM tbl_versamenti_f24 INNER join tbl_documento on tbl_versamenti_f24.idDoc=tbl_documento.idDoc &quot;+\r\n        &quot;inner join tbl_statoriscossione on tbl_statoriscossione.idDoc=tbl_versamenti_f24.idDoc &quot;+\r\n        &quot;where tbl_versamenti_f24.idDoc is not null &quot;+\r\n        &quot;group by tbl_versamenti_f24.idDoc &quot;+\r\n        &quot;order by 4; &quot;+\r\n        &quot; &quot;+   \r\n        &quot; &quot;+\r\n    &quot;DECLARE CONTINUE HANDLER &quot;+ \r\n    &quot;FOR NOT FOUND SET finito = 1; &quot;+\r\n    &quot; &quot;+  \r\n    &quot; &quot;+\r\n    &quot;SELECT &#39; &#39; as &#39;*** Inizio riconciliazione ***&#39;, curdate() as &#39;data iniziale&#39;, curtime() as &#39;ora iniziale&#39;; &quot;+\r\n    &quot;INSERT INTO tbl_splog (marcatura,evento,valore) values (current_timestamp(),&#39;Inizio riconciliazione&#39;,&#39;NP&#39;); &quot;+\r\n&quot; &quot;+\r\n&quot; &quot;+\r\n    &quot;SELECT eseguito into W_eseguito from tbl_controllo where evento = &#39;NP_aggiorna_stato_riscossione&#39;; &quot;+\r\n    &quot; &quot;+\r\n    &quot; &quot;+\r\n        &quot;update tbl_statoriscossione &quot;+\r\n            &quot;set docPagato = 1 &quot;+\r\n            &quot;where docImporto &lt;=0; &quot;+\r\n &quot; &quot;+\r\n    &quot;OPEN CF_cursor; &quot;+\r\n    &quot;set righeTrovate = FOUND_ROWS(); &quot;+\r\n    &quot;select righeTrovate; &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n &quot;get_dati: LOOP &quot;+\r\n    &quot;FETCH CF_cursor INTO W_idDoc,W_docImporto,W_versato,W_ancoraDaVersare; &quot;+\r\n    &quot;IF finito THEN &quot;+ \r\n        &quot;LEAVE get_dati; &quot;+\r\n    &quot;END IF; &quot;+\r\n    &quot; &quot;+\r\n        &quot;set M_saldato = 0; &quot;+\r\n        &quot;if (M_parametroDiTolleranza &gt; W_ancoraDaVersare)  &quot;+\r\n        &quot;then &quot;+\r\n            &quot;set M_saldato = 1; &quot;+\r\n        &quot;end if; &quot;+\r\n        &quot;UPDATE tbl_statoriscossione &quot;+\r\n        &quot;SET docVersato = W_versato, quantoManca = W_ancoraDaVersare, docPagato = M_saldato &quot;+\r\n        &quot;where idDoc = W_idDoc; &quot;+\r\n &quot; &quot;+\r\n &quot;END LOOP get_dati; &quot;+\t\r\n &quot; &quot;+\r\n &quot;CLOSE CF_cursor; &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n &quot; &quot;+\r\n   &quot; -- update tbl_rata A join tbl_versamento_new S on S.idBol = A.idBol &quot;+\r\n   &quot; -- set A.pagato = 1; &quot;+\r\n&quot; &quot;+\r\n&quot; &quot;+     \r\n&quot; &quot;+ \r\n&quot; &quot;+ \r\n &quot;END &quot;+\r\n &quot;;; &quot;+\r\n &quot;delimiter ;&quot;;\r\n```","title":"Java project - mariadb syntax error when i try to create a procedure","body":"<p>I am developing a script in Java with which I manipulate files and execute queries on the DB, in particular I use MariaDB.\nIn the script I need to create a procedure, called <code>NP_update_collection_state</code>.</p>\n<p>But when I run the script the error <code>You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter ;; CREATE PROCEDURE ....</code></p>\n<p>Do you have any suggestions or advice? It is the first time that this error has occurred to me and I cannot understand the problem.\nReading about problems here on stack I noticed that the problem could come from <code>delimiter</code>, I tried to remove it but I always get syntax error.</p>\n<ul>\n<li>My procedure:</li>\n</ul>\n<pre><code>String sqlCreaNP =  &quot;DROP PROCEDURE IF EXISTS `NP_aggiorna_stato_riscossione`; &quot;+\n &quot;delimiter ;; &quot;+\n &quot;CREATE PROCEDURE `NP_aggiorna_stato_riscossione`() &quot;+\n &quot;BEGIN &quot;+\n &quot; &quot;+\n &quot; &quot;+\n   &quot;DECLARE finito INTEGER DEFAULT 0; &quot;+\n   &quot;DECLARE M_saldato INTEGER DEFAULT NULL ;&quot;+\n   &quot;DECLARE M_parametroDiTolleranza decimal(11,2) DEFAULT 3; &quot;+\n   &quot;DECLARE contatore INT DEFAULT 0; &quot;+\n   &quot;DECLARE righeTrovate INT DEFAULT 0; &quot;+\n   &quot;DECLARE W_eseguito INT DEFAULT 0; &quot;+\n   &quot; &quot;+\n    &quot;DECLARE W_idDoc bigint(13) unsigned zerofill DEFAULT NULL; &quot;+\n    &quot;DECLARE W_docImporto decimal(11,2) DEFAULT 0; &quot;+\n    &quot;DECLARE W_versato decimal(11,2) DEFAULT 0; &quot;+\n    &quot;DECLARE W_ancoraDaVersare decimal(11,2) DEFAULT 0; &quot;+\n    &quot; &quot;+\n    &quot; &quot;+\n    &quot;DEClARE CF_cursor CURSOR FOR &quot;+\n        &quot;SELECT tbl_versamenti_f24.idDoc, tbl_documento.docImporto, sum(importoDebito), (tbl_documento.docImporto - sum(importoDebito)-tbl_statoriscossione.docVersato) &quot;+\n        &quot;FROM tbl_versamenti_f24 INNER join tbl_documento on tbl_versamenti_f24.idDoc=tbl_documento.idDoc &quot;+\n        &quot;inner join tbl_statoriscossione on tbl_statoriscossione.idDoc=tbl_versamenti_f24.idDoc &quot;+\n        &quot;where tbl_versamenti_f24.idDoc is not null &quot;+\n        &quot;group by tbl_versamenti_f24.idDoc &quot;+\n        &quot;order by 4; &quot;+\n        &quot; &quot;+   \n        &quot; &quot;+\n    &quot;DECLARE CONTINUE HANDLER &quot;+ \n    &quot;FOR NOT FOUND SET finito = 1; &quot;+\n    &quot; &quot;+  \n    &quot; &quot;+\n    &quot;SELECT ' ' as '*** Inizio riconciliazione ***', curdate() as 'data iniziale', curtime() as 'ora iniziale'; &quot;+\n    &quot;INSERT INTO tbl_splog (marcatura,evento,valore) values (current_timestamp(),'Inizio riconciliazione','NP'); &quot;+\n&quot; &quot;+\n&quot; &quot;+\n    &quot;SELECT eseguito into W_eseguito from tbl_controllo where evento = 'NP_aggiorna_stato_riscossione'; &quot;+\n    &quot; &quot;+\n    &quot; &quot;+\n        &quot;update tbl_statoriscossione &quot;+\n            &quot;set docPagato = 1 &quot;+\n            &quot;where docImporto &lt;=0; &quot;+\n &quot; &quot;+\n    &quot;OPEN CF_cursor; &quot;+\n    &quot;set righeTrovate = FOUND_ROWS(); &quot;+\n    &quot;select righeTrovate; &quot;+\n &quot; &quot;+\n &quot; &quot;+\n &quot;get_dati: LOOP &quot;+\n    &quot;FETCH CF_cursor INTO W_idDoc,W_docImporto,W_versato,W_ancoraDaVersare; &quot;+\n    &quot;IF finito THEN &quot;+ \n        &quot;LEAVE get_dati; &quot;+\n    &quot;END IF; &quot;+\n    &quot; &quot;+\n        &quot;set M_saldato = 0; &quot;+\n        &quot;if (M_parametroDiTolleranza &gt; W_ancoraDaVersare)  &quot;+\n        &quot;then &quot;+\n            &quot;set M_saldato = 1; &quot;+\n        &quot;end if; &quot;+\n        &quot;UPDATE tbl_statoriscossione &quot;+\n        &quot;SET docVersato = W_versato, quantoManca = W_ancoraDaVersare, docPagato = M_saldato &quot;+\n        &quot;where idDoc = W_idDoc; &quot;+\n &quot; &quot;+\n &quot;END LOOP get_dati; &quot;+ \n &quot; &quot;+\n &quot;CLOSE CF_cursor; &quot;+\n &quot; &quot;+\n &quot; &quot;+\n &quot; &quot;+\n &quot; &quot;+\n &quot; &quot;+\n   &quot; -- update tbl_rata A join tbl_versamento_new S on S.idBol = A.idBol &quot;+\n   &quot; -- set A.pagato = 1; &quot;+\n&quot; &quot;+\n&quot; &quot;+     \n&quot; &quot;+ \n&quot; &quot;+ \n &quot;END &quot;+\n &quot;;; &quot;+\n &quot;delimiter ;&quot;;\n</code></pre>\n"},{"tags":["java","frequency","audacity"],"answers":[{"tags":[],"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642414381,"creation_date":1642414381,"answer_id":70739647,"question_id":70642954,"body_markdown":"It&#39;s easy for the brain to separate voices: [Cocktail_party_effect][1].\r\nBut its very hard for a computer. \r\nIt&#39;s not simply a matter of frequency, you have to recognize the voice and filter the rest out.\r\nFor example, Google has made some progress recently in that field using AI ([VoiceFilter-Lite][2]).\r\nYou could try some [unofficial implementations][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cocktail_party_effect\r\n  [2]: https://ai.googleblog.com/2020/11/improving-on-device-speech-recognition.html\r\n  [3]: https://paperswithcode.com/paper/voicefilter-targeted-voice-separation-by","title":"Stacked speech editing","body":"<p>It's easy for the brain to separate voices: <a href=\"https://en.wikipedia.org/wiki/Cocktail_party_effect\" rel=\"nofollow noreferrer\">Cocktail_party_effect</a>.\nBut its very hard for a computer.\nIt's not simply a matter of frequency, you have to recognize the voice and filter the rest out.\nFor example, Google has made some progress recently in that field using AI (<a href=\"https://ai.googleblog.com/2020/11/improving-on-device-speech-recognition.html\" rel=\"nofollow noreferrer\">VoiceFilter-Lite</a>).\nYou could try some <a href=\"https://paperswithcode.com/paper/voicefilter-targeted-voice-separation-by\" rel=\"nofollow noreferrer\">unofficial implementations</a>.</p>\n"}],"owner":{"account_id":23881569,"reputation":1,"user_id":17882196,"display_name":"Max Stout"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642414381,"creation_date":1641743312,"question_id":70642954,"body_markdown":"I&#39;m making a fan edit of an artist and I want to use a clip of her speaking, but the interviewer was speaking at the same time. I&#39;m currently in Audacity trying to manipulate the sound file with my weak understanding of sound and audio editing. From what I can remember about sound, there are usually differences in the frequency or pitch between gendered speech. Does anyone have knowledge of how I could isolate the lower/higher frequencies of the file and reduce/ remove them to better isolate her voice?[Sound file snip][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dthFP.png","title":"Stacked speech editing","body":"<p>I'm making a fan edit of an artist and I want to use a clip of her speaking, but the interviewer was speaking at the same time. I'm currently in Audacity trying to manipulate the sound file with my weak understanding of sound and audio editing. From what I can remember about sound, there are usually differences in the frequency or pitch between gendered speech. Does anyone have knowledge of how I could isolate the lower/higher frequencies of the file and reduce/ remove them to better isolate her voice?<a href=\"https://i.stack.imgur.com/dthFP.png\" rel=\"nofollow noreferrer\">Sound file snip</a></p>\n"},{"tags":["java","maven","testing","amazon-dynamodb"],"comments":[{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":1,"creation_date":1555431778,"post_id":55710652,"comment_id":98105933,"body_markdown":"try this https://medium.com/@sandeep12.rao/integration-testing-with-dynamo-db-a6404a903c8f","body":"try this <a href=\"https://medium.com/@sandeep12.rao/integration-testing-with-dynamo-db-a6404a903c8f\" rel=\"nofollow noreferrer\">medium.com/@sandeep12.rao/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1555518858,"creation_date":1555518858,"answer_id":55732307,"question_id":55710652,"body_markdown":"I found two possible approaches, [DynamoDBEmbedded][1] and [Localstack][2]. Regarding the latter, as disclaimed in the website:\r\n\r\n&gt; LocalStack provides an easy-to-use test/mocking framework for\r\n&gt; developing Cloud applications. It spins up a testing environment on\r\n&gt; your local machine that provides the same functionality and APIs as\r\n&gt; the real AWS cloud environment.\r\n\r\nIt mocks several aws services including dynamodb. Example:\r\n\r\n1) In my pom.xml under dependencies:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;cloud.localstack&lt;/groupId&gt;\r\n       &lt;artifactId&gt;localstack-utils&lt;/artifactId&gt;\r\n       &lt;version&gt;0.1.19&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n2) Add these headers to you unit test class:\r\n\r\n    @RunWith(LocalstackDockerTestRunner.class)\r\n    @LocalstackDockerProperties(randomizePorts = true, services = {&quot;dynamodb&quot;})\r\n\r\n\r\n3) Make sure your application is pointing to localstack url, e.g. dynamo will wait for you at `http://localhost:4569`. More information [here][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31845157/4828060\r\n  [2]: https://localstack.cloud/\r\n  [3]: https://github.com/localstack/localstack\r\n\r\n--------------\r\n\r\nRegarding the former, i.e. [DynamoDBEmbedded][1], we can do the following:\r\n\r\n1) In pom.xml under dependencies:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n       &lt;artifactId&gt;DynamoDBLocal&lt;/artifactId&gt;\r\n       &lt;version&gt;1.11.477&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n2) Then in our unit test:\r\n\r\n    private AmazonDynamoDB amazonDynamoDB;\r\n\r\n    @Before\r\n    public void setup() throws Exception {\r\n\r\n        amazonDynamoDB =  DynamoDBEmbedded.create().amazonDynamoDB();//dynamoDB.getAmazonDynamoDB();\r\n        amazonDynamoDB.createTable(new CreateTableRequest()\r\n                .withTableName(TABLE_NAME)\r\n                .withKeySchema(new KeySchemaElement().withAttributeName(ITEM).withKeyType(KeyType.HASH))\r\n                .withAttributeDefinitions(\r\n                        new AttributeDefinition().withAttributeName(ITEM).withAttributeType(ScalarAttributeType.S))\r\n                .withProvisionedThroughput(new ProvisionedThroughput(10L, 15L))\r\n        );\r\n    }\r\n\r\nAnd make sure that our DAOs use this `amazonDynamoDB` instance.","title":"DynamoDB fake server for integration testing","body":"<p>I found two possible approaches, <a href=\"https://stackoverflow.com/a/31845157/4828060\">DynamoDBEmbedded</a> and <a href=\"https://localstack.cloud/\" rel=\"nofollow noreferrer\">Localstack</a>. Regarding the latter, as disclaimed in the website:</p>\n\n<blockquote>\n  <p>LocalStack provides an easy-to-use test/mocking framework for\n  developing Cloud applications. It spins up a testing environment on\n  your local machine that provides the same functionality and APIs as\n  the real AWS cloud environment.</p>\n</blockquote>\n\n<p>It mocks several aws services including dynamodb. Example:</p>\n\n<p>1) In my pom.xml under dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;cloud.localstack&lt;/groupId&gt;\n   &lt;artifactId&gt;localstack-utils&lt;/artifactId&gt;\n   &lt;version&gt;0.1.19&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>2) Add these headers to you unit test class:</p>\n\n<pre><code>@RunWith(LocalstackDockerTestRunner.class)\n@LocalstackDockerProperties(randomizePorts = true, services = {\"dynamodb\"})\n</code></pre>\n\n<p>3) Make sure your application is pointing to localstack url, e.g. dynamo will wait for you at <code>http://localhost:4569</code>. More information <a href=\"https://github.com/localstack/localstack\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<hr>\n\n<p>Regarding the former, i.e. <a href=\"https://stackoverflow.com/a/31845157/4828060\">DynamoDBEmbedded</a>, we can do the following:</p>\n\n<p>1) In pom.xml under dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n   &lt;artifactId&gt;DynamoDBLocal&lt;/artifactId&gt;\n   &lt;version&gt;1.11.477&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>2) Then in our unit test:</p>\n\n<pre><code>private AmazonDynamoDB amazonDynamoDB;\n\n@Before\npublic void setup() throws Exception {\n\n    amazonDynamoDB =  DynamoDBEmbedded.create().amazonDynamoDB();//dynamoDB.getAmazonDynamoDB();\n    amazonDynamoDB.createTable(new CreateTableRequest()\n            .withTableName(TABLE_NAME)\n            .withKeySchema(new KeySchemaElement().withAttributeName(ITEM).withKeyType(KeyType.HASH))\n            .withAttributeDefinitions(\n                    new AttributeDefinition().withAttributeName(ITEM).withAttributeType(ScalarAttributeType.S))\n            .withProvisionedThroughput(new ProvisionedThroughput(10L, 15L))\n    );\n}\n</code></pre>\n\n<p>And make sure that our DAOs use this <code>amazonDynamoDB</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642414366,"creation_date":1555536857,"answer_id":55736293,"question_id":55710652,"body_markdown":"In August 2018 [Amazon announced](https://aws.amazon.com/about-aws/whats-new/2018/08/use-amazon-dynamodb-local-more-easily-with-the-new-docker-image/) new [Docker image](https://hub.docker.com/r/amazon/dynamodb-local/) with Amazon DynamoDB Local onboard. It does not require downloading and running any JARs as well as adding using third-party OS-specific binaries (I&#39;m talking about `sqlite4java`).\r\n\r\nIt is as simple as starting a Docker container before the tests:\r\n\r\n    docker run -p 8000:8000 amazon/dynamodb-local\r\n\r\nYou can do that manually for local development, as described above, or use it in your CI pipeline. Many CI services provide an ability to start additional containers during the pipeline that can provide dependencies for your tests. Here is an example for Gitlab CI/CD:\r\n\r\n    test:\r\n      stage: test\r\n      image: openjdk:8-alpine\r\n      services:\r\n        - name: amazon/dynamodb-local\r\n          alias: dynamodb-local\r\n      script:\r\n        - DYNAMODB_LOCAL_URL=http://dynamodb-local:8000 ./gradlew clean test\r\n\r\nOr Bitbucket Pipelines:\r\n\r\n    definitions:\r\n      services:\r\n        dynamodb-local:\r\n          image: amazon/dynamodb-local\r\n    …\r\n    step:\r\n      name: test\r\n      image:\r\n        name: openjdk:8-alpine\r\n      services:\r\n        - dynamodb-local\r\n      script:\r\n        - DYNAMODB_LOCAL_URL=http://localhost:8000 ./gradlew clean test\r\n\r\nAfter you&#39;ve started the container you can create a client pointing to it:\r\n\r\n    private AmazonDynamoDB createAmazonDynamoDB(final DynamoDBLocal configuration) {\r\n        return AmazonDynamoDBClientBuilder\r\n            .standard()\r\n            .withEndpointConfiguration(\r\n                new AwsClientBuilder.EndpointConfiguration(\r\n                    &quot;http://localhost:8000&quot;,\r\n                    Regions.US_EAST_1.getName()\r\n                )\r\n            )\r\n            .withCredentials(\r\n                new AWSStaticCredentialsProvider(\r\n                    // DynamoDB Local works with any non-null credentials\r\n                    new BasicAWSCredentials(&quot;&quot;, &quot;&quot;)\r\n                )\r\n            )\r\n            .build();\r\n    }\r\n\r\nAnd if you&#39;re using JUnit 5, it can be a good idea to use a [JUnit 5 extensions for AWS](https://madhead.me/posts/aws-junit5) that will inject the client in your tests (yes, I&#39;m doing a self-promotion):\r\n\r\n 1. Add a dependency on `me.madhead.aws-junit5:dynamo-v1` (`dynamo-v2` for AWS Java SDK v2.x client)\r\n\r\n    *pom.xml*:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.madhead.aws-junit5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamo-v1&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    *build.gradle*\r\n\r\n        dependencies {\r\n            testImplementation(&quot;me.madhead.aws-junit5:dynamo-v1:6.0.3&quot;)\r\n        }\r\n\r\n 1. Use the extension in your tests:\r\n\r\n        @ExtendWith(DynamoDB.class)\r\n        class Test {\r\n            @AWSClient(\r\n                endpoint = Endpoint.class\r\n            )\r\n            private AmazonDynamoDB client;\r\n\r\n            @Test\r\n            void test() {\r\n                client.listTables();\r\n            }\r\n        }\r\n\r\nRead the full [user guide](https://madhead.github.io/aws-junit5/asciidoc), it&#39;s really short.","title":"DynamoDB fake server for integration testing","body":"<p>In August 2018 <a href=\"https://aws.amazon.com/about-aws/whats-new/2018/08/use-amazon-dynamodb-local-more-easily-with-the-new-docker-image/\" rel=\"nofollow noreferrer\">Amazon announced</a> new <a href=\"https://hub.docker.com/r/amazon/dynamodb-local/\" rel=\"nofollow noreferrer\">Docker image</a> with Amazon DynamoDB Local onboard. It does not require downloading and running any JARs as well as adding using third-party OS-specific binaries (I'm talking about <code>sqlite4java</code>).</p>\n<p>It is as simple as starting a Docker container before the tests:</p>\n<pre><code>docker run -p 8000:8000 amazon/dynamodb-local\n</code></pre>\n<p>You can do that manually for local development, as described above, or use it in your CI pipeline. Many CI services provide an ability to start additional containers during the pipeline that can provide dependencies for your tests. Here is an example for Gitlab CI/CD:</p>\n<pre><code>test:\n  stage: test\n  image: openjdk:8-alpine\n  services:\n    - name: amazon/dynamodb-local\n      alias: dynamodb-local\n  script:\n    - DYNAMODB_LOCAL_URL=http://dynamodb-local:8000 ./gradlew clean test\n</code></pre>\n<p>Or Bitbucket Pipelines:</p>\n<pre><code>definitions:\n  services:\n    dynamodb-local:\n      image: amazon/dynamodb-local\n…\nstep:\n  name: test\n  image:\n    name: openjdk:8-alpine\n  services:\n    - dynamodb-local\n  script:\n    - DYNAMODB_LOCAL_URL=http://localhost:8000 ./gradlew clean test\n</code></pre>\n<p>After you've started the container you can create a client pointing to it:</p>\n<pre><code>private AmazonDynamoDB createAmazonDynamoDB(final DynamoDBLocal configuration) {\n    return AmazonDynamoDBClientBuilder\n        .standard()\n        .withEndpointConfiguration(\n            new AwsClientBuilder.EndpointConfiguration(\n                &quot;http://localhost:8000&quot;,\n                Regions.US_EAST_1.getName()\n            )\n        )\n        .withCredentials(\n            new AWSStaticCredentialsProvider(\n                // DynamoDB Local works with any non-null credentials\n                new BasicAWSCredentials(&quot;&quot;, &quot;&quot;)\n            )\n        )\n        .build();\n}\n</code></pre>\n<p>And if you're using JUnit 5, it can be a good idea to use a <a href=\"https://madhead.me/posts/aws-junit5\" rel=\"nofollow noreferrer\">JUnit 5 extensions for AWS</a> that will inject the client in your tests (yes, I'm doing a self-promotion):</p>\n<ol>\n<li><p>Add a dependency on <code>me.madhead.aws-junit5:dynamo-v1</code> (<code>dynamo-v2</code> for AWS Java SDK v2.x client)</p>\n<p><em>pom.xml</em>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;me.madhead.aws-junit5&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamo-v1&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><em>build.gradle</em></p>\n<pre><code>dependencies {\n    testImplementation(&quot;me.madhead.aws-junit5:dynamo-v1:6.0.3&quot;)\n}\n</code></pre>\n</li>\n<li><p>Use the extension in your tests:</p>\n<pre><code>@ExtendWith(DynamoDB.class)\nclass Test {\n    @AWSClient(\n        endpoint = Endpoint.class\n    )\n    private AmazonDynamoDB client;\n\n    @Test\n    void test() {\n        client.listTables();\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Read the full <a href=\"https://madhead.github.io/aws-junit5/asciidoc\" rel=\"nofollow noreferrer\">user guide</a>, it's really short.</p>\n"}],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5047,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55732307,"answer_count":2,"score":4,"last_activity_date":1642414366,"creation_date":1555425169,"question_id":55710652,"body_markdown":"I am new to DynamoDB and I was wondering if there is any kind of embedded DynamoDB fake server available as a maven dependency/plugin, in order to run end-to-end tests as part of the maven build. E.g. something like [Achilles][1] but for DynamoDB instead of Cassandra. \r\n\r\nWorth mentioning that I found [this project][2], but I found it to be too unstable and I was not able to get it to work.\r\n\r\n\r\nThank you for your help.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/info.archinnov/achilles/5.0.0\r\n  [2]: https://dynamodb.jcabi.com/index.html","title":"DynamoDB fake server for integration testing","body":"<p>I am new to DynamoDB and I was wondering if there is any kind of embedded DynamoDB fake server available as a maven dependency/plugin, in order to run end-to-end tests as part of the maven build. E.g. something like <a href=\"https://mvnrepository.com/artifact/info.archinnov/achilles/5.0.0\" rel=\"nofollow noreferrer\">Achilles</a> but for DynamoDB instead of Cassandra. </p>\n\n<p>Worth mentioning that I found <a href=\"https://dynamodb.jcabi.com/index.html\" rel=\"nofollow noreferrer\">this project</a>, but I found it to be too unstable and I was not able to get it to work.</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["java","http","apache-camel","timeout","eofexception"],"comments":[{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":0,"creation_date":1642734637,"post_id":70705191,"comment_id":125156632,"body_markdown":"Just a hunch but the responses that get cut short are they large responses? I know Jetty has some pretty small defaults for request and response size. Maybe look into this. See this question https://stackoverflow.com/questions/49228950/jetty-and-max-content-size","body":"Just a hunch but the responses that get cut short are they large responses? I know Jetty has some pretty small defaults for request and response size. Maybe look into this. See this question <a href=\"https://stackoverflow.com/questions/49228950/jetty-and-max-content-size\" title=\"jetty and max content size\">stackoverflow.com/questions/49228950/jetty-and-max-content-s&zwnj;&#8203;ize</a>"},{"owner":{"account_id":23935187,"reputation":1,"user_id":17929012,"display_name":"lampmagic"},"score":0,"creation_date":1643446426,"post_id":70705191,"comment_id":125345296,"body_markdown":"@Namphibian Thank you for your reply. I will check the size of the request and response.","body":"@Namphibian Thank you for your reply. I will check the size of the request and response."},{"owner":{"account_id":23935187,"reputation":1,"user_id":17929012,"display_name":"lampmagic"},"score":0,"creation_date":1654852554,"post_id":70705191,"comment_id":128195962,"body_markdown":"I couldn&#39;t find out the reason of the error. So I make it retry the request while catching an exception.","body":"I couldn&#39;t find out the reason of the error. So I make it retry the request while catching an exception."}],"owner":{"account_id":23935187,"reputation":1,"user_id":17929012,"display_name":"lampmagic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642414353,"creation_date":1642125141,"question_id":70705191,"body_markdown":"We have an application that using Apache camel to call REST API.\r\nAnd we got EOFExceptions from jetty occasionally.\r\n\r\nSome more observations:\r\n- we&#39;re not using https\r\n- it happens very sporadically (once for per 10K ?)\r\n\r\nDoes anybody known the reason and how to resolve this problem?\r\n\r\nThaks.\r\n\r\nHere&#39;s the stack trace\r\n\r\n```\r\norg.apache.camel.CamelExchangeException: JettyClient failed cause by: HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]. Exchange[ID-SPAMDBP1-1641410557693-0-168236]. Caused by: [java.io.EOFException - HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]]\r\n\tat org.apache.camel.component.jetty9.JettyContentExchange9.doTaskCompleted(JettyContentExchange9.java:162)\r\n\tat org.apache.camel.component.jetty9.JettyContentExchange9$2.onComplete(JettyContentExchange9.java:246)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\r\n\tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\r\n\tat org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\r\n\tat org.eclipse.jetty.client.HttpReceiver.responseFailure(HttpReceiver.java:442)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.failAndClose(HttpReceiverOverHTTP.java:369)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.earlyEOF(HttpReceiverOverHTTP.java:338)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.shutdown(HttpReceiverOverHTTP.java:209)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:147)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n\tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: java.io.EOFException: HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\r\n\t... 18 common frames omitted\r\n```","title":"occasional EOFException from camel (jetty)","body":"<p>We have an application that using Apache camel to call REST API.\nAnd we got EOFExceptions from jetty occasionally.</p>\n<p>Some more observations:</p>\n<ul>\n<li>we're not using https</li>\n<li>it happens very sporadically (once for per 10K ?)</li>\n</ul>\n<p>Does anybody known the reason and how to resolve this problem?</p>\n<p>Thaks.</p>\n<p>Here's the stack trace</p>\n<pre><code>org.apache.camel.CamelExchangeException: JettyClient failed cause by: HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]. Exchange[ID-SPAMDBP1-1641410557693-0-168236]. Caused by: [java.io.EOFException - HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]]\n    at org.apache.camel.component.jetty9.JettyContentExchange9.doTaskCompleted(JettyContentExchange9.java:162)\n    at org.apache.camel.component.jetty9.JettyContentExchange9$2.onComplete(JettyContentExchange9.java:246)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\n    at org.eclipse.jetty.client.HttpReceiver.abort(HttpReceiver.java:552)\n    at org.eclipse.jetty.client.HttpReceiver.responseFailure(HttpReceiver.java:442)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.failAndClose(HttpReceiverOverHTTP.java:369)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.earlyEOF(HttpReceiverOverHTTP.java:338)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1551)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.shutdown(HttpReceiverOverHTTP.java:209)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:147)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.io.EOFException: HttpConnectionOverHTTP@413b2b34::SocketChannelEndPoint@3af7292{localhost/127.0.0.1:44904&lt;-&gt;/127.0.0.1:56676,ISHUT,fill=-,flush=-,to=0/0}{io=1/0,kio=1,kro=1}-&gt;HttpConnectionOverHTTP@413b2b34(l:/127.0.0.1:56676 &lt;-&gt; r:localhost/127.0.0.1:44904,closed=false)=&gt;HttpChannelOverHTTP@1f576404(exchange=HttpExchange@56d8659f req=TERMINATED/null@null res=PENDING/null@null)[send=HttpSenderOverHTTP@37f033df(req=QUEUED,snd=COMPLETED,failure=null)[HttpGenerator@2f8acc9e{s=START}],recv=HttpReceiverOverHTTP@5749001f(rsp=IDLE,failure=null)[HttpParser{s=CLOSED,0 of -1}]]\n    ... 18 common frames omitted\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8318,"page":1674,"page_size":100}
