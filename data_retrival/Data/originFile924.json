{"items":[{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667040284,"post_id":74193262,"comment_id":131079571,"body_markdown":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future.","body":"Sorry, I was wrong. It&#39;s a documented issue of the Jackson&#39;s creator-discovery mechanism (I&#39;ve provided the links in the answer), and it might be fixed in the future."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666704171,"creation_date":1666704171,"answer_id":74194780,"question_id":74193262,"body_markdown":"Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the `-parameters` needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you&#39;d instead get `arg0`, `arg1`, etc.\r\n\r\nSome frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the `-parameters` flag, but you probably still have to tell Jackson to use the constructor - either using `@JsonProperty` on the constructor parameter, or using `@JsonCreator`.","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>Until Java 8, the names of method and constructor parameters were not present in compiled byte code. In Java 8 and later, the <code>-parameters</code> needs to be explicitly set to get the parameter names in byte code. If the name is not available in byte code, it is not available through reflection; you'd instead get <code>arg0</code>, <code>arg1</code>, etc.</p>\n<p>Some frameworks have already been updated to use the parameter names, but a lot have not. As far as I know, Jackson belongs to the second group (most likely also to still support older Java versions). You can try to use the <code>-parameters</code> flag, but you probably still have to tell Jackson to use the constructor - either using <code>@JsonProperty</code> on the constructor parameter, or using <code>@JsonCreator</code>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667041628,"creation_date":1667039922,"answer_id":74244580,"question_id":74193262,"body_markdown":"#  Parameter names module\r\n\r\nTo make Jackson capable of detecting the required constructor based on the number of properties **without** making use of data-binding annotations `@JsonCreator` and `@JsonProperty` you can add a dependency to **Jackson Modules: Java 8** ([a link to the Maven repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3)).\r\n\r\nJackson Modules: Java 8 is an umbrella multi-module which includes [Parameter names module](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names).\r\n\r\nIf you are using Spring Boot, the only thing needed to register the module is to place `ParameterNamesModule` as a Bean into the Spring&#39;s Context, and it would be grabbed at the application start-up and registred automatically by the [`JacksonAutoConfiguration`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html) while `ObjectMapper` would be configured.\r\n\r\nAs explained [here](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator) you need to provide `JsonCreator.Mode.PROPERTIES` as argument while instantiating the module.\r\n\r\n    @Bean\r\n    public ParameterNamesModule parameterNamesModule() {\r\n        return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\r\n    }\r\n\r\nIf you&#39;re not using Spring in your project, then you would need to configure `ObjectMapper` manually:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nThere are **caveats**. Specifically there&#39;s an issue with detecting a *single-arg constructor*. Here&#39;s a quote from the [module-description](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names):\r\n\r\n&gt; **Preconditions:**\r\n&gt; \r\n&gt; * class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\r\n&gt; For more information about Java 8 API for accessing parameter names at\r\n&gt; runtime see this\r\n&gt; * if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\r\n&gt; deserialization\r\n&gt; * if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\r\n&gt; due to issues with constructor discovery that will be resolved in 2.7.\r\n&gt; * if class `Person` has a **single argument constructor**, its argument **needs to be annotated** with `@JsonProperty(&quot;propertyName&quot;)`. This is to\r\n&gt; **preserve legacy behavior**, see FasterXML/jackson-databind/#1498\r\n\r\nSo, to make the Jackson recognize a *single-arg constructor*, we need to apply `@JsonProperty` on the argument.\r\n\r\nHere&#39;s also a mention of this issue [`JsonCreator.Mode.PROPERTIES`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES) documentation:\r\n\r\n&gt; Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.\r\n&gt; \r\n&gt; **Note** that this mode is currently (2.5) always used for\r\n&gt; multiple-argument creators; the **only ambiguous case is that of a\r\n&gt; single-argument creator**.\r\n______________________________________________________________\r\n\r\nThis behavior **might be fixed** with Jackson 3 as [mentioned here](https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788).\r\n\r\n# Java 16 Records\r\n\r\nIf you&#39;re using JDK 16+ in your project, then you can make this final class to be a record.\r\n\r\nRecords **doesn&#39;t** declare a default no-args constructor, instead the compiler generates a so-called *canonical constructor*, declaring all the arguments from the record&#39;s header (*refer to the JLS [8.10.4. Record Constructor Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4) for more information*).\r\n\r\nAnd Jackson uses *canonical constructor* as a default creator to instantiate records.\r\n\r\nThe following record would be desirialized without issues:\r\n\r\n```\r\npublic record MyRec(String id) {}\r\n```","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<h1>Parameter names module</h1>\n<p>To make Jackson capable of detecting the required constructor based on the number of properties <strong>without</strong> making use of data-binding annotations <code>@JsonCreator</code> and <code>@JsonProperty</code> you can add a dependency to <strong>Jackson Modules: Java 8</strong> (<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3\" rel=\"nofollow noreferrer\">a link to the Maven repository</a>).</p>\n<p>Jackson Modules: Java 8 is an umbrella multi-module which includes <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">Parameter names module</a>.</p>\n<p>If you are using Spring Boot, the only thing needed to register the module is to place <code>ParameterNamesModule</code> as a Bean into the Spring's Context, and it would be grabbed at the application start-up and registred automatically by the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.html\" rel=\"nofollow noreferrer\"><code>JacksonAutoConfiguration</code></a> while <code>ObjectMapper</code> would be configured.</p>\n<p>As explained <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names#delegating-creator\" rel=\"nofollow noreferrer\">here</a> you need to provide <code>JsonCreator.Mode.PROPERTIES</code> as argument while instantiating the module.</p>\n<pre><code>@Bean\npublic ParameterNamesModule parameterNamesModule() {\n    return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\n}\n</code></pre>\n<p>If you're not using Spring in your project, then you would need to configure <code>ObjectMapper</code> manually:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\n</code></pre>\n<h3>Note</h3>\n<p>There are <strong>caveats</strong>. Specifically there's an issue with detecting a <em>single-arg constructor</em>. Here's a quote from the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">module-description</a>:</p>\n<blockquote>\n<p><strong>Preconditions:</strong></p>\n<ul>\n<li>class Person must be compiled with Java 8 compliant compiler with option to store formal parameter names turned on (-parameters option).\nFor more information about Java 8 API for accessing parameter names at\nruntime see this</li>\n<li>if there are multiple visible constructors and there is no default constructor, @JsonCreator is required to select constructor for\ndeserialization</li>\n<li>if used with jackson-databind lower than 2.6.0, @JsonCreator is required. In practice, @JsonCreator is also often required with 2.6.0+\ndue to issues with constructor discovery that will be resolved in 2.7.</li>\n<li>if class <code>Person</code> has a <strong>single argument constructor</strong>, its argument <strong>needs to be annotated</strong> with <code>@JsonProperty(&quot;propertyName&quot;)</code>. This is to\n<strong>preserve legacy behavior</strong>, see FasterXML/jackson-databind/#1498</li>\n</ul>\n</blockquote>\n<p>So, to make the Jackson recognize a <em>single-arg constructor</em>, we need to apply <code>@JsonProperty</code> on the argument.</p>\n<p>Here's also a mention of this issue <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES\" rel=\"nofollow noreferrer\"><code>JsonCreator.Mode.PROPERTIES</code></a> documentation:</p>\n<blockquote>\n<p>Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.</p>\n<p><strong>Note</strong> that this mode is currently (2.5) always used for\nmultiple-argument creators; the <strong>only ambiguous case is that of a\nsingle-argument creator</strong>.</p>\n</blockquote>\n<hr />\n<p>This behavior <strong>might be fixed</strong> with Jackson 3 as <a href=\"https://github.com/FasterXML/jackson-databind/issues/1498#issuecomment-325795788\" rel=\"nofollow noreferrer\">mentioned here</a>.</p>\n<h1>Java 16 Records</h1>\n<p>If you're using JDK 16+ in your project, then you can make this final class to be a record.</p>\n<p>Records <strong>doesn't</strong> declare a default no-args constructor, instead the compiler generates a so-called <em>canonical constructor</em>, declaring all the arguments from the record's header (<em>refer to the JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.10.4\" rel=\"nofollow noreferrer\">8.10.4. Record Constructor Declarations</a> for more information</em>).</p>\n<p>And Jackson uses <em>canonical constructor</em> as a default creator to instantiate records.</p>\n<p>The following record would be desirialized without issues:</p>\n<pre><code>public record MyRec(String id) {}\n</code></pre>\n"}],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74244580,"answer_count":2,"score":3,"last_activity_date":1667041628,"creation_date":1666696834,"question_id":74193262,"body_markdown":"There is a simple class with parameterized constructor. I&#39;m looking for a way to apply it for JSON deserialization with minimal annotations usage.\r\n\r\nHow to make Jackson recognize `id` field by its name without explicit `JsonProperty`?\r\n\r\n**Class:**\r\n\r\n    public final class MyRec {\r\n    \r\n        final String id;\r\n    \r\n        public MyRec1(String id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nDeserialization fails unless annotation `@JsonProperty(&quot;id&quot;)` is present on the field.\r\n    \r\n\r\n**Deserialization attempt:**\r\n\r\n    new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\r\n\r\n**Exception:**\r\n\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \r\n    cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException:\r\n    Cannot construct instance of `sample.MyRec` (although at least one Creator exists):\r\n      cannot deserialize from Object value (no delegate- or property-based Creator)\r\n      at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\r\n      at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)","title":"How to make Jackson recognize constructor field names as properties without explicit JsonProperty?","body":"<p>There is a simple class with parameterized constructor. I'm looking for a way to apply it for JSON deserialization with minimal annotations usage.</p>\n<p>How to make Jackson recognize <code>id</code> field by its name without explicit <code>JsonProperty</code>?</p>\n<p><strong>Class:</strong></p>\n<pre><code>public final class MyRec {\n\n    final String id;\n\n    public MyRec1(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Deserialization fails unless annotation <code>@JsonProperty(&quot;id&quot;)</code> is present on the field.</p>\n<p><strong>Deserialization attempt:</strong></p>\n<pre><code>new ObjectMapper().readValue(&quot;&quot;&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;&quot;&quot;, MyRec.class);\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>Cannot construct instance of `sample.MyRec` (although at least one Creator exists): \ncannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException:\nCannot construct instance of `sample.MyRec` (although at least one Creator exists):\n  cannot deserialize from Object value (no delegate- or property-based Creator)\n  at [Source: (String)&quot;{&quot;id&quot;:&quot;abc&quot;}&quot;; line: 1, column: 2]\n  at app//com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\n</code></pre>\n"},{"tags":["java","import","deprecated","suppress-warnings"],"comments":[{"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"score":4,"creation_date":1260219640,"post_id":1858021,"comment_id":1758993,"body_markdown":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained.","body":"Yeah that would be ideal, but in this case I am using a library for Hadoop that uses a portion of its API that was recently deprecated, so I don&#39;t really have a choice if I want to use this library. Plus this is just for a school project, not anything that will need to be maintained."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1283678637,"creation_date":1260164531,"answer_id":1858028,"question_id":1858021,"body_markdown":"As a hack you can not do the import and use the fully qualified name inside the code.\r\n\r\nYou might also try javac -Xlint:-deprecation not sure if that would address it.","title":"Suppress deprecated import warning in Java","body":"<p>As a hack you can not do the import and use the fully qualified name inside the code.</p>\n\n<p>You might also try javac -Xlint:-deprecation not sure if that would address it.</p>\n"},{"tags":[],"owner":{"account_id":67322,"reputation":2609,"user_id":197039,"display_name":"craigforster"},"down_vote_count":22,"up_vote_count":177,"is_accepted":false,"score":155,"last_activity_date":1667041115,"creation_date":1260164745,"answer_id":1858037,"question_id":1858021,"body_markdown":"Use this annotation on your class or method:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\r\nSince Java 9, you might need to add: \r\n\r\n    @SuppressWarnings(&quot;removal&quot;)\r\n\r\nIf the class was annotated with something like:\r\n\r\n    @Deprecated(since = &quot;3.14&quot;, forRemoval = true)","title":"Suppress deprecated import warning in Java","body":"<p>Use this annotation on your class or method:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\n</code></pre>\n<p>Since Java 9, you might need to add:</p>\n<pre><code>@SuppressWarnings(&quot;removal&quot;)\n</code></pre>\n<p>If the class was annotated with something like:</p>\n<pre><code>@Deprecated(since = &quot;3.14&quot;, forRemoval = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":956701,"reputation":101,"user_id":981870,"display_name":"Per-&#197;ke Minborg"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611278679,"creation_date":1319118235,"answer_id":7836855,"question_id":1858021,"body_markdown":"Suppose that you are overriding/implementing an interface with a deprecated method (such as the `getUnicodeStream(String columnLabel)` in `java.sql.ResultSet`) then you will not get rid of deprecation warnings just by using the annotation `@SuppressWarnings( &quot;deprecation&quot; )`, unless you also annotate the same new method with the `@Deprecated` annotation. This is logical, because otherwise you could _undeprecate_ a method by just overriding its interface description.","title":"Suppress deprecated import warning in Java","body":"<p>Suppose that you are overriding/implementing an interface with a deprecated method (such as the <code>getUnicodeStream(String columnLabel)</code> in <code>java.sql.ResultSet</code>) then you will not get rid of deprecation warnings just by using the annotation <code>@SuppressWarnings( &quot;deprecation&quot; )</code>, unless you also annotate the same new method with the <code>@Deprecated</code> annotation. This is logical, because otherwise you could <em>undeprecate</em> a method by just overriding its interface description.</p>\n"},{"tags":[],"owner":{"account_id":1363612,"reputation":479,"user_id":1300507,"display_name":"Tim"},"down_vote_count":8,"up_vote_count":19,"is_accepted":false,"score":11,"last_activity_date":1333017931,"creation_date":1333017931,"answer_id":9923815,"question_id":1858021,"body_markdown":"I solved this by changing the import to:\r\n\r\n    import package.*\r\n\r\nthen annotating the method that used the deprecated classes with`@SuppressWarnings(&quot;deprecation&quot;)`","title":"Suppress deprecated import warning in Java","body":"<p>I solved this by changing the import to:</p>\n\n<pre><code>import package.*\n</code></pre>\n\n<p>then annotating the method that used the deprecated classes with<code>@SuppressWarnings(\"deprecation\")</code></p>\n"},{"tags":[],"owner":{"account_id":430647,"reputation":9051,"user_id":814206,"accept_rate":96,"display_name":"Kasper van den Berg"},"down_vote_count":0,"up_vote_count":229,"is_accepted":true,"score":229,"last_activity_date":1388769602,"creation_date":1388769602,"answer_id":20909204,"question_id":1858021,"body_markdown":"To avoid the warning:\r\ndo *not* import the class\r\n\r\n**instead use the fully qualified class name**\r\n\r\nand use it in as few locations as possible.","title":"Suppress deprecated import warning in Java","body":"<p>To avoid the warning:\ndo <em>not</em> import the class</p>\n\n<p><strong>instead use the fully qualified class name</strong></p>\n\n<p>and use it in as few locations as possible.</p>\n"},{"tags":[],"owner":{"account_id":4140732,"reputation":21,"user_id":3396154,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394287143,"creation_date":1394285959,"answer_id":22270075,"question_id":1858021,"body_markdown":"you can use: \r\n\r\n&gt; javac FileName.java -Xlint:-deprecation\r\n\r\nBut then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. \r\n\r\nIn my case I was using `someListItem.addItem(&quot;red color&quot;)` whereas the compiler wanted me to use `someListItem.add(&quot;red color&quot;);`.","title":"Suppress deprecated import warning in Java","body":"<p>you can use: </p>\n\n<blockquote>\n  <p>javac FileName.java -Xlint:-deprecation</p>\n</blockquote>\n\n<p>But then this will give you warnings and also tell you the part of the code that is causing deprecation or using deprecated API. Now either you can run your code with these warnings or make appropriate changes in the code. </p>\n\n<p>In my case I was using <code>someListItem.addItem(\"red color\")</code> whereas the compiler wanted me to use <code>someListItem.add(\"red color\");</code>.</p>\n"},{"tags":[],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618838221,"creation_date":1618838221,"answer_id":67162778,"question_id":1858021,"body_markdown":"If `@SuppressWarnings(&quot;deprecation&quot;)` is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: `@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i6e9M.png","title":"Suppress deprecated import warning in Java","body":"<p>If <code>@SuppressWarnings(&quot;deprecation&quot;)</code> is not working for you like for me. You can find exact squid number in sonar lint plugin. And then you can simply suppress warning: <code>@SuppressWarnings(&quot;squid:CallToDeprecatedMethod&quot;)</code></p>\n<p><a href=\"https://i.stack.imgur.com/i6e9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i6e9M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":65278,"reputation":3062,"user_id":192236,"accept_rate":89,"display_name":"Ed Mazur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98075,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":20909204,"answer_count":7,"score":137,"last_activity_date":1667041115,"creation_date":1260164220,"question_id":1858021,"body_markdown":"In Java, if you import a deprecated class:\r\n\r\n    import SomeDeprecatedClass;\r\n\r\nYou get this warning: `The type SomeDeprecatedClass is deprecated`\r\n\r\nIs there a way to suppress this warning?","title":"Suppress deprecated import warning in Java","body":"<p>In Java, if you import a deprecated class:</p>\n\n<pre><code>import SomeDeprecatedClass;\n</code></pre>\n\n<p>You get this warning: <code>The type SomeDeprecatedClass is deprecated</code></p>\n\n<p>Is there a way to suppress this warning?</p>\n"},{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1666231636,"post_id":74123268,"comment_id":130888881,"body_markdown":"what authentication service did you use? if you create your own authentication service you need to store the session to the database so the same user will get the same","body":"what authentication service did you use? if you create your own authentication service you need to store the session to the database so the same user will get the same"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1666645295,"post_id":74123268,"comment_id":130982288,"body_markdown":"Your spring security code looks fine, but I don&#39;t think this is a Java / Spring-Boot issue.  I think you need to get App2 to share cookies with App1. I think this is something to solve in React.","body":"Your spring security code looks fine, but I don&#39;t think this is a Java / Spring-Boot issue.  I think you need to get App2 to share cookies with App1. I think this is something to solve in React."}],"answers":[{"tags":[],"owner":{"account_id":1611204,"reputation":650,"user_id":1490061,"display_name":"Stof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666744973,"creation_date":1666744082,"answer_id":74201481,"question_id":74123268,"body_markdown":"Several things here;\r\n\r\n1. You are exposing the token in cleartext (the iframe url). Even when HTTPS/TLS is used this URL itself is always cleartext and can be seen by anyone on the network at either end, or a middle party along the physical devices that relays network packets from client to server, anyone can see the token who are joined to the same wifi network as an example but the largest concern with exposing sensitive information in the URL is these URLs are logged everywhere, on the same device in unprotected files that other software can access, on all the devices on the network paths along the way (maybe even routed through countries you&#39;re not thinking can read this traffic), and on the server the same logs are created and often not protected either and these logs are almost always also sent of to a logging service like Datadog, SUMO, (hundreds others) who also see this sensitive token in the URL from these logs.\r\n\r\nBottom line, never, ever, send anything sensitive in a URL.\r\n\r\n2. Which JWT scheme are you implementing for the client?\r\n\r\n**a)** Is there a **private key** generated by the client and the public key sent to the server to form a JWT with encryption? Or;\r\n\r\n**b)** Is it using a **HMAC** which is essentially a signature accompanying the data to provide an integrity check, which only ensures data was not modified, this type of JWT has no encryption and therefore the JWT is entirely &#39;readable&#39; by anyone by design\r\n\r\n**c)** There is **no actual authentication** happening on the client at all, the client is provided the JWT **to avoid** having to do it.\r\n\r\n**If (a)** then the client generated a key/pair and it needs to send the public key to the server, not the server share anything with the client.\r\n\r\n**If (b)** then the client needs the shared secret to complete the signing, it will generate the JWT &#39;token&#39; itself new every time it makes a request to the microservices endpoints. \r\n\r\nSo you don&#39;t give a token to a client, the client generates (or rather constructs) it&#39;s own signature (the token) using the shared secret. The server also has the shared secret and can also construct and identical signature (token) on the server without the secret ever being sent over the communications channel with the data.\r\n\r\nYou will need to find an out-of-band method for a client to obtain the shared secret because sending it in the same communication method will defeat the entire purpose if having JWT.\r\n\r\n**If (c)** This is not a use case for JWT. If you do not do actual authentication on the client, then the client-side is not proven to be &#39;authentic&#39; using a security characteristic that is established to be a form of an authentication mechanism. Passing a string to a client endpoints from a server is only an authentication on the server, when the client later communicates using your method it is claiming it is the &#39;authentic&#39; server who &#39;authenticated&#39;, which it is not, it is the client..\r\n\r\nThat&#39;s why JWT is not making sense in this situation. If **you do not** ever what to do the authentication on the client side, then the client must be treated as unauthenticated and don&#39;t need authorisation (JWT) because they have no authentic identity established and are indistinguishable from one another.\r\n\r\nIf **you do** want client side authorisation, you need client side authentication first. Maybe you are having trouble with implementation of Authentication on a client, you may find OIDC easier","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>Several things here;</p>\n<ol>\n<li>You are exposing the token in cleartext (the iframe url). Even when HTTPS/TLS is used this URL itself is always cleartext and can be seen by anyone on the network at either end, or a middle party along the physical devices that relays network packets from client to server, anyone can see the token who are joined to the same wifi network as an example but the largest concern with exposing sensitive information in the URL is these URLs are logged everywhere, on the same device in unprotected files that other software can access, on all the devices on the network paths along the way (maybe even routed through countries you're not thinking can read this traffic), and on the server the same logs are created and often not protected either and these logs are almost always also sent of to a logging service like Datadog, SUMO, (hundreds others) who also see this sensitive token in the URL from these logs.</li>\n</ol>\n<p>Bottom line, never, ever, send anything sensitive in a URL.</p>\n<ol start=\"2\">\n<li>Which JWT scheme are you implementing for the client?</li>\n</ol>\n<p><strong>a)</strong> Is there a <strong>private key</strong> generated by the client and the public key sent to the server to form a JWT with encryption? Or;</p>\n<p><strong>b)</strong> Is it using a <strong>HMAC</strong> which is essentially a signature accompanying the data to provide an integrity check, which only ensures data was not modified, this type of JWT has no encryption and therefore the JWT is entirely 'readable' by anyone by design</p>\n<p><strong>c)</strong> There is <strong>no actual authentication</strong> happening on the client at all, the client is provided the JWT <strong>to avoid</strong> having to do it.</p>\n<p><strong>If (a)</strong> then the client generated a key/pair and it needs to send the public key to the server, not the server share anything with the client.</p>\n<p><strong>If (b)</strong> then the client needs the shared secret to complete the signing, it will generate the JWT 'token' itself new every time it makes a request to the microservices endpoints.</p>\n<p>So you don't give a token to a client, the client generates (or rather constructs) it's own signature (the token) using the shared secret. The server also has the shared secret and can also construct and identical signature (token) on the server without the secret ever being sent over the communications channel with the data.</p>\n<p>You will need to find an out-of-band method for a client to obtain the shared secret because sending it in the same communication method will defeat the entire purpose if having JWT.</p>\n<p><strong>If (c)</strong> This is not a use case for JWT. If you do not do actual authentication on the client, then the client-side is not proven to be 'authentic' using a security characteristic that is established to be a form of an authentication mechanism. Passing a string to a client endpoints from a server is only an authentication on the server, when the client later communicates using your method it is claiming it is the 'authentic' server who 'authenticated', which it is not, it is the client..</p>\n<p>That's why JWT is not making sense in this situation. If <strong>you do not</strong> ever what to do the authentication on the client side, then the client must be treated as unauthenticated and don't need authorisation (JWT) because they have no authentic identity established and are indistinguishable from one another.</p>\n<p>If <strong>you do</strong> want client side authorisation, you need client side authentication first. Maybe you are having trouble with implementation of Authentication on a client, you may find OIDC easier</p>\n"},{"tags":[],"owner":{"account_id":26711879,"reputation":391,"user_id":20317091,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666745522,"creation_date":1666745522,"answer_id":74201593,"question_id":74123268,"body_markdown":"If App2 is the child, then App1 should dictate the auth expiration protocols. Why not just set your session expiration equal to your token expiration?  Each time a user logs in to App1, decode the JWT and pass the expiration as a variable to App2.\r\n\r\nOr set a timeout equal to moments before expiration and silently pass token refresh requests until both expirations are nearly equal.\r\n\r\nAlso, don&#39;t pass tokens openly in this manner. Instead, pass encrypted headers or cookies. Or hash tokens and save them to a secure database for query or update as needed.","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>If App2 is the child, then App1 should dictate the auth expiration protocols. Why not just set your session expiration equal to your token expiration?  Each time a user logs in to App1, decode the JWT and pass the expiration as a variable to App2.</p>\n<p>Or set a timeout equal to moments before expiration and silently pass token refresh requests until both expirations are nearly equal.</p>\n<p>Also, don't pass tokens openly in this manner. Instead, pass encrypted headers or cookies. Or hash tokens and save them to a secure database for query or update as needed.</p>\n"},{"tags":[],"owner":{"account_id":24102338,"reputation":876,"user_id":18074007,"display_name":"Ahmed Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667040125,"creation_date":1667040125,"answer_id":74244607,"question_id":74123268,"body_markdown":"One possible way to sync the JWT token expiration from the container app to the child app&#39;s session is to use a **session listener** on the child app that will **invalidate the session** when the token expires. A session listener is a class that implements the **HttpSessionListener** interface and can perform actions when a session is created or destroyed. You can register a session listener in your child app by adding a **@WebListener** annotation or by declaring it in your **web.xml** file.\r\n\r\nTo invalidate the session when the token expires, you can store the token expiration time as a **session attribute** when you create the session in the **/user** endpoint. Then, in the **sessionDestroyed** method of the session listener, you can compare the current time with the stored expiration time and invalidate the session if the token has expired. This way, the child app will not accept any requests from the session after the token expiration and will require a new token from the container app.\r\n\r\n## Example\r\n\r\nHere is an example of a session listener class that invalidates the session when the token expires:\r\n\r\n```python\r\n@WebListener\r\npublic class TokenExpirationSessionListener implements HttpSessionListener {\r\n\r\n  @Override\r\n  public void sessionCreated(HttpSessionEvent se) {\r\n    // do nothing\r\n  }\r\n\r\n  @Override\r\n  public void sessionDestroyed(HttpSessionEvent se) {\r\n    // get the session and the token expiration time\r\n    HttpSession session = se.getSession();\r\n    Long tokenExpiration = (Long) session.getAttribute(&quot;tokenExpiration&quot;);\r\n\r\n    // check if the token has expired\r\n    if (tokenExpiration != null &amp;&amp; System.currentTimeMillis() &gt; tokenExpiration) {\r\n      // invalidate the session\r\n      session.invalidate();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is an example of how to store the token expiration time as a session attribute in the **/user** endpoint:\r\n\r\n```python\r\n// get the token from the query parameter\r\nString token = request.getParameter(&quot;token&quot;);\r\n\r\n// validate the token with the container app\r\nboolean isValid = validateToken(token);\r\n\r\n// if the token is valid, parse it and create the authentication object\r\nif (isValid) {\r\n  // parse the token and get the expiration time\r\n  Claims claims = Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n  Long expiration = claims.getExpiration().getTime();\r\n\r\n  // get the username and authorities from the claims\r\n  String username = claims.getSubject();\r\n  List&lt;GrantedAuthority&gt; authorities = getAuthoritiesFromClaims(claims);\r\n\r\n  // create the authentication object and set it to the security context\r\n  Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n  SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n  // get the session and store the token expiration time as a session attribute\r\n  HttpSession session = request.getSession();\r\n  session.setAttribute(&quot;tokenExpiration&quot;, expiration);\r\n}\r\n```","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>One possible way to sync the JWT token expiration from the container app to the child app's session is to use a <strong>session listener</strong> on the child app that will <strong>invalidate the session</strong> when the token expires. A session listener is a class that implements the <strong>HttpSessionListener</strong> interface and can perform actions when a session is created or destroyed. You can register a session listener in your child app by adding a <strong>@WebListener</strong> annotation or by declaring it in your <strong>web.xml</strong> file.</p>\n<p>To invalidate the session when the token expires, you can store the token expiration time as a <strong>session attribute</strong> when you create the session in the <strong>/user</strong> endpoint. Then, in the <strong>sessionDestroyed</strong> method of the session listener, you can compare the current time with the stored expiration time and invalidate the session if the token has expired. This way, the child app will not accept any requests from the session after the token expiration and will require a new token from the container app.</p>\n<h2>Example</h2>\n<p>Here is an example of a session listener class that invalidates the session when the token expires:</p>\n<pre class=\"lang-py prettyprint-override\"><code>@WebListener\npublic class TokenExpirationSessionListener implements HttpSessionListener {\n\n  @Override\n  public void sessionCreated(HttpSessionEvent se) {\n    // do nothing\n  }\n\n  @Override\n  public void sessionDestroyed(HttpSessionEvent se) {\n    // get the session and the token expiration time\n    HttpSession session = se.getSession();\n    Long tokenExpiration = (Long) session.getAttribute(&quot;tokenExpiration&quot;);\n\n    // check if the token has expired\n    if (tokenExpiration != null &amp;&amp; System.currentTimeMillis() &gt; tokenExpiration) {\n      // invalidate the session\n      session.invalidate();\n    }\n  }\n}\n</code></pre>\n<p>Here is an example of how to store the token expiration time as a session attribute in the <strong>/user</strong> endpoint:</p>\n<pre class=\"lang-py prettyprint-override\"><code>// get the token from the query parameter\nString token = request.getParameter(&quot;token&quot;);\n\n// validate the token with the container app\nboolean isValid = validateToken(token);\n\n// if the token is valid, parse it and create the authentication object\nif (isValid) {\n  // parse the token and get the expiration time\n  Claims claims = Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n  Long expiration = claims.getExpiration().getTime();\n\n  // get the username and authorities from the claims\n  String username = claims.getSubject();\n  List&lt;GrantedAuthority&gt; authorities = getAuthoritiesFromClaims(claims);\n\n  // create the authentication object and set it to the security context\n  Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\n  SecurityContextHolder.getContext().setAuthentication(authentication);\n\n  // get the session and store the token expiration time as a session attribute\n  HttpSession session = request.getSession();\n  session.setAttribute(&quot;tokenExpiration&quot;, expiration);\n}\n</code></pre>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667040125,"creation_date":1666172908,"question_id":74123268,"body_markdown":"We are implementing a microfrontend, microservices architecture.  \r\n\r\nApp1 is the microfrontend app - ui built on React, backend built on spring boot.  It handles the authentication and provides the token to it&#39;s child app.  The token is generated using Jwts as follows:\r\n\r\n    Jwts.build().setClaims(claims).setSubject(username).setExpiration(expirationDate)...\r\n\r\nApp2 is a child app of the microfrontend setup.  It&#39;s ui is built on React, backend built on spring boot.  App1 attaches App2 via react-iframe while passing the token as follows:\r\n\r\n    &lt;Iframe url={`${urlOfApp2}`?token={jwtToken}} ... /&gt;\r\n\r\nApp2 on `useEffect` checks if `window.location.search` has the `token` field and use this to set the Authenticcation in its security context.  This is done by calling endpoint `/user` in App2.  The App2 backend will then call an endpoint `/validate` from App1 to check if the token is valid.  If it is valid, App2 parses the token and creates  an `Authentication` object and saves it to its context as follows:\r\n\r\n    final Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nThis will create the JSESSIONID.  So everytime an endpoint from App2 is requested, for example `/someendpoint`, it will check if the request has the required authority as set in the code above.  The security config is as follows:\r\n\r\n    http...\r\n        .antMatchers(&quot;/user&quot;).permitAll()\r\n        .anyRequest().hasAuthority(&quot;SOME_AUTHORITY_PARSED_FROM_THE_TOKEN&quot;)...\r\n\r\nThis works as the `/user` is called once to check if token is valid and a session on App2 is initialized.  So for succeeding requests, it will check if it has the proper authority.\r\n\r\nThe problem is, the session on App2 has different expiration compared to that set on the token.  How can we sync the expiration on the session on App2 with the token provided by App1?","title":"How to sync JWT token from container app to child app&#39;s session","body":"<p>We are implementing a microfrontend, microservices architecture.</p>\n<p>App1 is the microfrontend app - ui built on React, backend built on spring boot.  It handles the authentication and provides the token to it's child app.  The token is generated using Jwts as follows:</p>\n<pre><code>Jwts.build().setClaims(claims).setSubject(username).setExpiration(expirationDate)...\n</code></pre>\n<p>App2 is a child app of the microfrontend setup.  It's ui is built on React, backend built on spring boot.  App1 attaches App2 via react-iframe while passing the token as follows:</p>\n<pre><code>&lt;Iframe url={`${urlOfApp2}`?token={jwtToken}} ... /&gt;\n</code></pre>\n<p>App2 on <code>useEffect</code> checks if <code>window.location.search</code> has the <code>token</code> field and use this to set the Authenticcation in its security context.  This is done by calling endpoint <code>/user</code> in App2.  The App2 backend will then call an endpoint <code>/validate</code> from App1 to check if the token is valid.  If it is valid, App2 parses the token and creates  an <code>Authentication</code> object and saves it to its context as follows:</p>\n<pre><code>final Authentication authentication = new UsernamePasswordAuthenticationToken(username, null, authorities);\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n<p>This will create the JSESSIONID.  So everytime an endpoint from App2 is requested, for example <code>/someendpoint</code>, it will check if the request has the required authority as set in the code above.  The security config is as follows:</p>\n<pre><code>http...\n    .antMatchers(&quot;/user&quot;).permitAll()\n    .anyRequest().hasAuthority(&quot;SOME_AUTHORITY_PARSED_FROM_THE_TOKEN&quot;)...\n</code></pre>\n<p>This works as the <code>/user</code> is called once to check if token is valid and a session on App2 is initialized.  So for succeeding requests, it will check if it has the proper authority.</p>\n<p>The problem is, the session on App2 has different expiration compared to that set on the token.  How can we sync the expiration on the session on App2 with the token provided by App1?</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1667039959,"post_id":74244545,"comment_id":131079517,"body_markdown":"Just to mention that this is a usually a bad practice. This ties your test to the implementation rather than testing the behaviour, so if an implementation changes, your tests will need to change considerably too. I&#39;m not saying this is always wrong, but it should be used only in extreme rare cases.","body":"Just to mention that this is a usually a bad practice. This ties your test to the implementation rather than testing the behaviour, so if an implementation changes, your tests will need to change considerably too. I&#39;m not saying this is always wrong, but it should be used only in extreme rare cases."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667075709,"post_id":74244545,"comment_id":131086505,"body_markdown":"Why do you have `@Spy` AND assign `PowerMockito.spy`? Not sure if a dupe: https://stackoverflow.com/q/74027324/112968","body":"Why do you have <code>@Spy</code> AND assign <code>PowerMockito.spy</code>? Not sure if a dupe: <a href=\"https://stackoverflow.com/q/74027324/112968\">stackoverflow.com/q/74027324/112968</a>"},{"owner":{"account_id":25288698,"reputation":1,"user_id":19115194,"display_name":"Yi Zhou"},"score":0,"creation_date":1667180492,"post_id":74244545,"comment_id":131102850,"body_markdown":"@Augusto This is just a demo, i just want to test how to mock private method in InjectMocks decorate&#39;s class","body":"@Augusto This is just a demo, i just want to test how to mock private method in InjectMocks decorate&#39;s class"}],"owner":{"account_id":25288698,"reputation":1,"user_id":19115194,"display_name":"Yi Zhou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667039821,"creation_date":1667039622,"question_id":74244545,"body_markdown":"I try to learn PowerMockitoand write a demo\r\n\r\nThis the parent class A\r\n\r\n```\r\npublic abstract class A {\r\n    protected String getRoot(Long id) {\r\n        if (id == 0) {\r\n            return &quot;root&quot;;\r\n        }\r\n        return &quot;not root&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd this is the childA\r\n```\r\npublic class ChildA extends A {\r\n    private String info;\r\n    public String getRootInfo(Long id) {\r\n        String rootInfo = getRoot(id);\r\n        return rootInfo;\r\n    }\r\n\r\n    private void initRootInfo(String info) {\r\n        this.info = info;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAnd now i want to mock the method A::initRootInfo，so i write a test case like this\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({A.class, ChildA.class})\r\npublic class ChildATest {\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private ChildA childA = PowerMockito.spy(new ChildA());\r\n\r\n    @Test\r\n    public void getRootInfoUT() throws Exception {\r\n        PowerMockito.doNothing().when(childA, &quot;initRootInfo&quot;, Mockito.anyString());\r\n\r\n        String rootInfo = childA.getRootInfo(0L);\r\n        Assertions.assertEquals(&quot;root&quot;, rootInfo);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen i run the test case, the PowerMockito call the real method initRootInfo, so that i get a little bit confused why the A::initRootInfo will be called really, shouldn&#39;t it be mock and replaced by PowerMockito? is there have something wrong i use PowerMockito?\r\n\r\n\r\nHow to mock private method by PowerMockito correctly","title":"Why mock private method by use PowerMock.when actually call the real method","body":"<p>I try to learn PowerMockitoand write a demo</p>\n<p>This the parent class A</p>\n<pre><code>public abstract class A {\n    protected String getRoot(Long id) {\n        if (id == 0) {\n            return &quot;root&quot;;\n        }\n        return &quot;not root&quot;;\n    }\n}\n\n</code></pre>\n<p>And this is the childA</p>\n<pre><code>public class ChildA extends A {\n    private String info;\n    public String getRootInfo(Long id) {\n        String rootInfo = getRoot(id);\n        return rootInfo;\n    }\n\n    private void initRootInfo(String info) {\n        this.info = info;\n    }\n}\n\n</code></pre>\n<p>And now i want to mock the method A::initRootInfo，so i write a test case like this</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({A.class, ChildA.class})\npublic class ChildATest {\n\n    @Spy\n    @InjectMocks\n    private ChildA childA = PowerMockito.spy(new ChildA());\n\n    @Test\n    public void getRootInfoUT() throws Exception {\n        PowerMockito.doNothing().when(childA, &quot;initRootInfo&quot;, Mockito.anyString());\n\n        String rootInfo = childA.getRootInfo(0L);\n        Assertions.assertEquals(&quot;root&quot;, rootInfo);\n    }\n}\n\n</code></pre>\n<p>When i run the test case, the PowerMockito call the real method initRootInfo, so that i get a little bit confused why the A::initRootInfo will be called really, shouldn't it be mock and replaced by PowerMockito? is there have something wrong i use PowerMockito?</p>\n<p>How to mock private method by PowerMockito correctly</p>\n"},{"tags":["java","mysql","database","spring-boot","database-connection"],"answers":[{"tags":[],"owner":{"account_id":26113553,"reputation":196,"user_id":20333579,"display_name":"codeapplied"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667039310,"creation_date":1667039310,"answer_id":74244513,"question_id":74244347,"body_markdown":"Modifying the MySQL configuration file will do the trick. Lot of bugs just blew up on my screen when I altered /etc/*/my.cnf but may be it might work.\r\n\r\n - Edit the `my.cnf`\r\n\r\n    `sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf`\r\n\r\n - Now try to locate the parameters you want\r\n`\r\n[mysqld]\r\nwait_timeout = [your value]\r\ninteractive_timeout = [value needed]\r\n`\r\n\r\nThen save it and exit\r\n\r\nI suggest to restart the MySQL `sudo /etc/init.d/mysql restart`\r\n\r\nThere is no possibility that you can put these at infinite, or I might be wrong. \r\n\r\n\r\n\r\n","title":"Configuring MySql wait_timeout and interactive_timeout in SpringBoot","body":"<p>Modifying the MySQL configuration file will do the trick. Lot of bugs just blew up on my screen when I altered /etc/*/my.cnf but may be it might work.</p>\n<ul>\n<li><p>Edit the <code>my.cnf</code></p>\n<p><code>sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</code></p>\n</li>\n<li><p>Now try to locate the parameters you want\n<code>[mysqld] wait_timeout = [your value] interactive_timeout = [value needed]</code></p>\n</li>\n</ul>\n<p>Then save it and exit</p>\n<p>I suggest to restart the MySQL <code>sudo /etc/init.d/mysql restart</code></p>\n<p>There is no possibility that you can put these at infinite, or I might be wrong.</p>\n"}],"owner":{"account_id":16737845,"reputation":1,"user_id":12098414,"display_name":"ALI RAZA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667039310,"creation_date":1667037632,"question_id":74244347,"body_markdown":"I want to set these two properties:**wait_timeout** and **interactive_timeout** in my SpringBoot project file (application.properties) for database sleep connections problem.\r\nBut I&#39;m unable to find help on this from internet not even from spring configurations appendix.\r\n\r\nI tried setting these properties from MySql command line,it worked there, but want to set in my spring boot configuration file. (application.properties)","title":"Configuring MySql wait_timeout and interactive_timeout in SpringBoot","body":"<p>I want to set these two properties:<strong>wait_timeout</strong> and <strong>interactive_timeout</strong> in my SpringBoot project file (application.properties) for database sleep connections problem.\nBut I'm unable to find help on this from internet not even from spring configurations appendix.</p>\n<p>I tried setting these properties from MySql command line,it worked there, but want to set in my spring boot configuration file. (application.properties)</p>\n"},{"tags":["java","stream","average"],"answers":[{"tags":[],"owner":{"account_id":12038015,"reputation":167,"user_id":8805898,"display_name":"Arifur Rahman Sujon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667036602,"creation_date":1667036234,"answer_id":74244221,"question_id":74243961,"body_markdown":"After taking input you can follow below code snippet\r\n\r\nWe can make a new map with name as key and average as value instead of calculating average multiple times\r\n\r\n     Map&lt;String, Double&gt; recordsWithAverage = records.entrySet()\r\n                .stream()\r\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble()));\r\n\r\n     recordsWithAverage.entrySet()\r\n                .stream()\r\n                .filter(e -&gt; e.getValue() &gt;= 4.50)\r\n                .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n                .forEach(pair -&gt; {\r\n                    System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), pair.getValue());\r\n                });    ","title":"Java stream API, how to sort by average?","body":"<p>After taking input you can follow below code snippet</p>\n<p>We can make a new map with name as key and average as value instead of calculating average multiple times</p>\n<pre><code> Map&lt;String, Double&gt; recordsWithAverage = records.entrySet()\n            .stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble()));\n\n recordsWithAverage.entrySet()\n            .stream()\n            .filter(e -&gt; e.getValue() &gt;= 4.50)\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n            .forEach(pair -&gt; {\n                System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), pair.getValue());\n            });    \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667039241,"creation_date":1667039241,"answer_id":74244505,"question_id":74243961,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String input = &quot;5\\r\\n&quot;\r\n            + &quot;John\\r\\n&quot;\r\n            + &quot;5.5\\r\\n&quot;\r\n            + &quot;John\\r\\n&quot;\r\n            + &quot;4.5\\r\\n&quot;\r\n            + &quot;Alice\\r\\n&quot;\r\n            + &quot;6\\r\\n&quot;\r\n            + &quot;Alice\\r\\n&quot;\r\n            + &quot;3\\r\\n&quot;\r\n            + &quot;George\\r\\n&quot;\r\n            + &quot;5\\r\\n&quot;;\r\n        Scanner in = new Scanner(input);\r\n        int size = in.nextInt();\r\n        Map&lt;String, List&lt;Double&gt;&gt; map = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; size; ++i)\r\n            map.computeIfAbsent(in.next(), k -&gt; new ArrayList&lt;&gt;()).add(in.nextDouble());\r\n\r\n        map.entrySet().stream()\r\n            .map(e -&gt; Map.entry(e.getKey(),\r\n                e.getValue().stream().mapToDouble(v -&gt; v).average().getAsDouble()))\r\n            .filter(e -&gt; e.getValue() &gt;= 4.50)\r\n            .sorted(Collections.reverseOrder(Comparator.comparing(Entry::getValue)))\r\n            .forEach(e -&gt; System.out.printf(&quot;%s -&gt; %.2f%n&quot;, e.getKey(), e.getValue()));\r\n    }\r\n\r\noutput:\r\n\r\n    George -&gt; 5.00\r\n    John -&gt; 5.00\r\n    Alice -&gt; 4.50\r\n\r\n","title":"Java stream API, how to sort by average?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String input = &quot;5\\r\\n&quot;\n        + &quot;John\\r\\n&quot;\n        + &quot;5.5\\r\\n&quot;\n        + &quot;John\\r\\n&quot;\n        + &quot;4.5\\r\\n&quot;\n        + &quot;Alice\\r\\n&quot;\n        + &quot;6\\r\\n&quot;\n        + &quot;Alice\\r\\n&quot;\n        + &quot;3\\r\\n&quot;\n        + &quot;George\\r\\n&quot;\n        + &quot;5\\r\\n&quot;;\n    Scanner in = new Scanner(input);\n    int size = in.nextInt();\n    Map&lt;String, List&lt;Double&gt;&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; size; ++i)\n        map.computeIfAbsent(in.next(), k -&gt; new ArrayList&lt;&gt;()).add(in.nextDouble());\n\n    map.entrySet().stream()\n        .map(e -&gt; Map.entry(e.getKey(),\n            e.getValue().stream().mapToDouble(v -&gt; v).average().getAsDouble()))\n        .filter(e -&gt; e.getValue() &gt;= 4.50)\n        .sorted(Collections.reverseOrder(Comparator.comparing(Entry::getValue)))\n        .forEach(e -&gt; System.out.printf(&quot;%s -&gt; %.2f%n&quot;, e.getKey(), e.getValue()));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>George -&gt; 5.00\nJohn -&gt; 5.00\nAlice -&gt; 4.50\n</code></pre>\n"}],"owner":{"account_id":25436272,"reputation":37,"user_id":19239946,"display_name":"ccc6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74244221,"answer_count":2,"score":-1,"last_activity_date":1667039241,"creation_date":1667033391,"question_id":74243961,"body_markdown":"Question:\r\n\r\n```\r\nCreate a program that keeps information about some students and their grades.\r\n\r\nYou will receive an integer number - n.\r\n\r\nThen, you will receive 2 \\* n rows of input.\r\n\r\nFirst, you will receive the student&#39;s name. Аfter that, you will receive their grade.\r\n\r\nIf the student does not exist, add them.\r\n\r\nKeep track of all of the grades of each student.\r\n\r\nWhen you finish reading the data, keep only the students which have an average grade higher or equal to 4.50.\r\n\r\nOrder the filtered students by their average grade in descending order.\r\n\r\nPrint the students and their average grade in the following format:\r\n\r\n&quot;{name} -\\&gt; {averageGrade}&quot;\r\n\r\nFormat the average grade to the second decimal place.\r\n```\r\n\r\nTest input:\r\n```\r\n5\r\nJohn\r\n5.5\r\nJohn\r\n4.5\r\nAlice\r\n6\r\nAlice\r\n3\r\nGeorge\r\n5\r\n```\r\n\r\nTest output: \r\n```\r\nJohn -&gt; 5.00\r\nGeorge -&gt; 5.00\r\nAlice -&gt; 4.50\r\n```\r\n\r\n\r\nMy answer:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        int n = Integer.parseInt(scanner.nextLine());\r\n\r\n        Map&lt;String, List&lt;Double&gt;&gt; records = new HashMap&lt;&gt;();\r\n\r\n        while(n &gt; 0){\r\n            String name = scanner.nextLine();\r\n            double grade = Double.parseDouble(scanner.nextLine());\r\n            records.putIfAbsent(name, new ArrayList&lt;&gt;());\r\n            records.get(name).add(grade);\r\n            n--;\r\n        }\r\n\r\n        records.entrySet().stream().filter(item -&gt; {\r\n            double average = item.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n\r\n            return average &gt;= 4.50;\r\n        }).sorted((a, b) -&gt; {\r\n            double average1 = a.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n            double average2 = b.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n\r\n            return (int) (average2 - average1);\r\n        }).forEach(pair -&gt; {\r\n            double average = pair.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\r\n            System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), average);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;m pretty sure I&#39;m not doing the sorting by average part correctly but I can&#39;t seem to find another way to go about it as the sorting requires an int and the average will always be a double?\r\n\r\nAny pointers/explanation will be greatly appreciated!","title":"Java stream API, how to sort by average?","body":"<p>Question:</p>\n<pre><code>Create a program that keeps information about some students and their grades.\n\nYou will receive an integer number - n.\n\nThen, you will receive 2 \\* n rows of input.\n\nFirst, you will receive the student's name. Аfter that, you will receive their grade.\n\nIf the student does not exist, add them.\n\nKeep track of all of the grades of each student.\n\nWhen you finish reading the data, keep only the students which have an average grade higher or equal to 4.50.\n\nOrder the filtered students by their average grade in descending order.\n\nPrint the students and their average grade in the following format:\n\n&quot;{name} -\\&gt; {averageGrade}&quot;\n\nFormat the average grade to the second decimal place.\n</code></pre>\n<p>Test input:</p>\n<pre><code>5\nJohn\n5.5\nJohn\n4.5\nAlice\n6\nAlice\n3\nGeorge\n5\n</code></pre>\n<p>Test output:</p>\n<pre><code>John -&gt; 5.00\nGeorge -&gt; 5.00\nAlice -&gt; 4.50\n</code></pre>\n<p>My answer:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        int n = Integer.parseInt(scanner.nextLine());\n\n        Map&lt;String, List&lt;Double&gt;&gt; records = new HashMap&lt;&gt;();\n\n        while(n &gt; 0){\n            String name = scanner.nextLine();\n            double grade = Double.parseDouble(scanner.nextLine());\n            records.putIfAbsent(name, new ArrayList&lt;&gt;());\n            records.get(name).add(grade);\n            n--;\n        }\n\n        records.entrySet().stream().filter(item -&gt; {\n            double average = item.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n\n            return average &gt;= 4.50;\n        }).sorted((a, b) -&gt; {\n            double average1 = a.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n            double average2 = b.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n\n            return (int) (average2 - average1);\n        }).forEach(pair -&gt; {\n            double average = pair.getValue().stream().mapToDouble(x -&gt; x).average().getAsDouble();\n            System.out.printf(&quot;%s -&gt; %.2f%n&quot;, pair.getKey(), average);\n        });\n    }\n}\n</code></pre>\n<p>I'm pretty sure I'm not doing the sorting by average part correctly but I can't seem to find another way to go about it as the sorting requires an int and the average will always be a double?</p>\n<p>Any pointers/explanation will be greatly appreciated!</p>\n"},{"tags":["java","intellij-idea","spring-boot"],"comments":[{"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":3,"creation_date":1419546977,"post_id":27650890,"comment_id":43719558,"body_markdown":"Could you add to your pom `&lt;dependency&gt;\n   &lt;groupId&gt;javax.el&lt;/groupId&gt;\n   &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n   &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Could you add to your pom <code>&lt;dependency&gt;    &lt;groupId&gt;javax.el&lt;&#47;groupId&gt;    &lt;artifactId&gt;javax.el-api&lt;&#47;artifactId&gt;    &lt;version&gt;2.2.4&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"score":2,"creation_date":1419573570,"post_id":27650890,"comment_id":43723553,"body_markdown":"Unfortunately, if I add the dependency, it starts the application and immediately stops without any errors. It is also strange why it would need this dependency if executed from IDE, if it works when executing the JAR alone.","body":"Unfortunately, if I add the dependency, it starts the application and immediately stops without any errors. It is also strange why it would need this dependency if executed from IDE, if it works when executing the JAR alone."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1419605826,"creation_date":1419605826,"answer_id":27658594,"question_id":27650890,"body_markdown":"The problem is probably that the EL implementation is in the Tomcat starter that you marked as &quot;provided&quot;. If it isn&#39;t provided (which it won&#39;t be for a JAR file) maybe you should just leave it out?","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>The problem is probably that the EL implementation is in the Tomcat starter that you marked as \"provided\". If it isn't provided (which it won't be for a JAR file) maybe you should just leave it out?</p>\n"},{"tags":[],"owner":{"account_id":7140279,"reputation":141,"user_id":5458232,"display_name":"dqromney"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1445120255,"creation_date":1445120255,"answer_id":33192173,"question_id":27650890,"body_markdown":"I had a similar problem when creating a WAR file using the Spring Initializr with Intellij, and by adding the following dependency the application executed without any errors, thank you:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I had a similar problem when creating a WAR file using the Spring Initializr with Intellij, and by adding the following dependency the application executed without any errors, thank you:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667039163,"creation_date":1667039163,"answer_id":74244497,"question_id":27650890,"body_markdown":"I&#39;ve reproduced the same issue:\r\n\r\n    Error creating bean with name &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;: Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\r\n\r\nUsing in `POM` versions of `Java 11` and `Spring Boot 1.3.0.RELEASE` instead of:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nto:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\n\r\nAnd working `POM` file was:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;springmvc&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n            &lt;!--&lt;version&gt;1.3.0.RELEASE&lt;/version&gt;--&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSo I could even skip any additional dependencies in other answers, which were mentioned above:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I've reproduced the same issue:</p>\n<pre><code>Error creating bean with name 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor': Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\n</code></pre>\n<p>Using in <code>POM</code> versions of <code>Java 11</code> and <code>Spring Boot 1.3.0.RELEASE</code> instead of:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And working <code>POM</code> file was:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;springmvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;!--&lt;version&gt;1.3.0.RELEASE&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>So I could even skip any additional dependencies in other answers, which were mentioned above:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22198,"reputation":5757,"user_id":54522,"accept_rate":94,"display_name":"Ariod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18861,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":27658594,"answer_count":3,"score":10,"last_activity_date":1667039163,"creation_date":1419543326,"question_id":27650890,"body_markdown":"I am trying to run a simple Spring Boot application that has the following Maven pom.file:\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;start-class&gt;com.ptkonline.EwsdProxyApplication&lt;/start-class&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIf I package the file using Maven, and run the application through `java -jar application.jar`, the application starts up normally. However, if I run it from IntelliJ by executing the main class, the startup fails with the following error:\r\n\r\n    2014-12-25 22:18:55.831 ERROR 3388 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39;: Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:199)\r\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\r\n        at com.ptkonline.EwsdProxyApplication.main(EwsdProxyApplication.java:13)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:483)\r\n        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\n    Caused by: javax.validation.ValidationException: Unable to instantiate Configuration.\r\n        at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\r\n        at org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:223)\r\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor$Jsr303ValidatorFactory.run(ConfigurationPropertiesBindingPostProcessor.java:361)\r\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.afterPropertiesSet(ConfigurationPropertiesBindingPostProcessor.java:174)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\r\n        ... 19 common frames omitted\r\n    Caused by: javax.validation.ValidationException: HV000183: Unable to load &#39;javax.el.ExpressionFactory&#39;. Check that you have the EL dependencies on the classpath\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:172)\r\n        at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:118)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\r\n        at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\r\n        at org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\r\n        at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\r\n        ... 24 common frames omitted\r\n\r\nHas anyone been able to run a Spring Boot application directly from IntelliJ? ","title":"Running Spring Boot within IntelliJ results in Unable to load &#39;javax.el.ExpressionFactory&#39;","body":"<p>I am trying to run a simple Spring Boot application that has the following Maven pom.file:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;start-class&gt;com.ptkonline.EwsdProxyApplication&lt;/start-class&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If I package the file using Maven, and run the application through <code>java -jar application.jar</code>, the application starts up normally. However, if I run it from IntelliJ by executing the main class, the startup fails with the following error:</p>\n\n<pre><code>2014-12-25 22:18:55.831 ERROR 3388 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor': Invocation of init method failed; nested exception is javax.validation.ValidationException: Unable to instantiate Configuration.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1566)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:615)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\n    at com.ptkonline.EwsdProxyApplication.main(EwsdProxyApplication.java:13)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.validation.ValidationException: Unable to instantiate Configuration.\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:279)\n    at org.springframework.validation.beanvalidation.LocalValidatorFactoryBean.afterPropertiesSet(LocalValidatorFactoryBean.java:223)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor$Jsr303ValidatorFactory.run(ConfigurationPropertiesBindingPostProcessor.java:361)\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.afterPropertiesSet(ConfigurationPropertiesBindingPostProcessor.java:174)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1625)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1562)\n    ... 19 common frames omitted\nCaused by: javax.validation.ValidationException: HV000183: Unable to load 'javax.el.ExpressionFactory'. Check that you have the EL dependencies on the classpath\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:172)\n    at org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator.&lt;init&gt;(ResourceBundleMessageInterpolator.java:118)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:110)\n    at org.hibernate.validator.internal.engine.ConfigurationImpl.&lt;init&gt;(ConfigurationImpl.java:86)\n    at org.hibernate.validator.HibernateValidator.createGenericConfiguration(HibernateValidator.java:41)\n    at javax.validation.Validation$GenericBootstrapImpl.configure(Validation.java:276)\n    ... 24 common frames omitted\n</code></pre>\n\n<p>Has anyone been able to run a Spring Boot application directly from IntelliJ? </p>\n"},{"tags":["java","android","kotlin","android-layout","android-view"],"comments":[{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":1,"creation_date":1666860061,"post_id":74219075,"comment_id":131036709,"body_markdown":"Well  based on your error, your `rvMaps` is `ConstraintLayout`, and you are referencing it as a `RecyclerView`, you might wanna check your `xml` if you are really referencing the correct `.id`, or perhaps post your `xml` so we can see it","body":"Well  based on your error, your <code>rvMaps</code> is <code>ConstraintLayout</code>, and you are referencing it as a <code>RecyclerView</code>, you might wanna check your <code>xml</code> if you are really referencing the correct <code>.id</code>, or perhaps post your <code>xml</code> so we can see it"},{"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"score":0,"creation_date":1666865067,"post_id":74219075,"comment_id":131038505,"body_markdown":"Your error clearly shows that you are providing the wrong references here. I think you should check your `xml` file `id` again.","body":"Your error clearly shows that you are providing the wrong references here. I think you should check your <code>xml</code> file <code>id</code> again."}],"answers":[{"tags":[],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667038684,"creation_date":1667038684,"answer_id":74244457,"question_id":74219075,"body_markdown":"Sorrry now it&#39;s fine I gave the Constraint Layout the id rvMaps and not the recyclerview","title":"ConstraintLayout cannot be cast to RecyclerView","body":"<p>Sorrry now it's fine I gave the Constraint Layout the id rvMaps and not the recyclerview</p>\n"}],"owner":{"account_id":21572641,"reputation":13,"user_id":15905312,"display_name":"FleetAdmiralJakob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74244457,"answer_count":1,"score":-1,"last_activity_date":1667038684,"creation_date":1666859773,"question_id":74219075,"body_markdown":"        val rvMaps = findViewById&lt;RecyclerView&gt;(R.id.rvMaps)\r\n        // Set layout manager on the recycler\r\n        rvMaps.layoutManager = LinearLayoutManager(this)\r\n\r\n How can I solve the problem?","title":"ConstraintLayout cannot be cast to RecyclerView","body":"<pre><code>    val rvMaps = findViewById&lt;RecyclerView&gt;(R.id.rvMaps)\n    // Set layout manager on the recycler\n    rvMaps.layoutManager = LinearLayoutManager(this)\n</code></pre>\n<p>How can I solve the problem?</p>\n"},{"tags":["javascript","java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667034262,"post_id":74244006,"comment_id":131078643,"body_markdown":"Have you tried adding `@PostMapping(..., consumes = MediaType.APPLICATION_JSON_VALUE, ...)` to the controller?","body":"Have you tried adding <code>@PostMapping(..., consumes = MediaType.APPLICATION_JSON_VALUE, ...)</code> to the controller?"},{"owner":{"account_id":26214430,"reputation":19,"user_id":19892732,"display_name":"gmma"},"score":0,"creation_date":1667034922,"post_id":74244006,"comment_id":131078767,"body_markdown":"Sadly adding consumes did not fix 415 error..","body":"Sadly adding consumes did not fix 415 error.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667036784,"post_id":74244006,"comment_id":131079043,"body_markdown":"415 could also mean (the media type is seemingly correct!) something is &quot;odd&quot; with request body! ...https://stackoverflow.com/a/62289106/592355 ...your DTO is shown &quot;as is&quot;?(..-&gt;constructors?)","body":"415 could also mean (the media type is seemingly correct!) something is &quot;odd&quot; with request body! ...<a href=\"https://stackoverflow.com/a/62289106/592355\">stackoverflow.com/a/62289106/592355</a> ...your DTO is shown &quot;as is&quot;?(..-&gt;constructors?)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667036891,"post_id":74244006,"comment_id":131079065,"body_markdown":"Please [edit] the post and provide a [MRE].","body":"Please <a href=\"https://stackoverflow.com/posts/74244006/edit\">edit</a> the post and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26214430,"reputation":19,"user_id":19892732,"display_name":"gmma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667038268,"creation_date":1667033803,"question_id":74244006,"body_markdown":"I&#39;m getting 415 error on spring, I used java script to send request.\r\nI already added jackson dependency to use json, but still not working. also weird thing is that other url with same code works.\r\n\r\nI added suggested code and it&#39;s still not working..\r\n\r\nClient code:\r\n```\r\nlet data = {\r\n  id: category.id,\r\n  act: &quot;addAdmin&quot;,\r\n  target: input,\r\n};\r\n\r\nfetch(&quot;http://localhost:8888/categoryset&quot;, {\r\n  method: &quot;POST&quot;,\r\n  header: {\r\n    &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n  },\r\n  body: JSON.stringify(data),\r\n});\r\n```\r\n\r\nServer code\r\n```\r\n// CategorySetDTO.java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class CategorySetDTO {\r\n    private String act;\r\n    private int id = -1;\r\n    private String target;\r\n}\r\n\r\n// ApiController.java\r\n@PostMapping(value = &quot;/categoryset&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\npublic String updateCategory(HttpServletRequest request, @RequestBody CategorySetDTO data) {\r\n    return pageService.updateCategory(request, data);\r\n}\r\n```","title":"I&#39;m getting 415 error on spring, but same other code works","body":"<p>I'm getting 415 error on spring, I used java script to send request.\nI already added jackson dependency to use json, but still not working. also weird thing is that other url with same code works.</p>\n<p>I added suggested code and it's still not working..</p>\n<p>Client code:</p>\n<pre><code>let data = {\n  id: category.id,\n  act: &quot;addAdmin&quot;,\n  target: input,\n};\n\nfetch(&quot;http://localhost:8888/categoryset&quot;, {\n  method: &quot;POST&quot;,\n  header: {\n    &quot;Content-Type&quot;: &quot;application/json&quot;,\n  },\n  body: JSON.stringify(data),\n});\n</code></pre>\n<p>Server code</p>\n<pre><code>// CategorySetDTO.java\n@Getter\n@Setter\n@NoArgsConstructor\npublic class CategorySetDTO {\n    private String act;\n    private int id = -1;\n    private String target;\n}\n\n// ApiController.java\n@PostMapping(value = &quot;/categoryset&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic String updateCategory(HttpServletRequest request, @RequestBody CategorySetDTO data) {\n    return pageService.updateCategory(request, data);\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","extentreports"],"comments":[{"owner":{"account_id":8037196,"reputation":958,"user_id":6059967,"display_name":"Justin Lambert"},"score":0,"creation_date":1594104937,"post_id":62769200,"comment_id":111001122,"body_markdown":"https://www.youtube.com/watch?v=1kYn44-5Fy4 This link will help you create method for failure","body":"<a href=\"https://www.youtube.com/watch?v=1kYn44-5Fy4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=1kYn44-5Fy4</a> This link will help you create method for failure"},{"owner":{"account_id":18486492,"reputation":23,"user_id":13481760,"display_name":"demon sky"},"score":0,"creation_date":1594113007,"post_id":62769200,"comment_id":111004886,"body_markdown":"thanks for your comment! i assumed that is code with testNG, i am asking how can we add screenshots to extent report.","body":"thanks for your comment! i assumed that is code with testNG, i am asking how can we add screenshots to extent report."}],"answers":[{"tags":[],"owner":{"account_id":18961441,"reputation":11,"user_id":13836855,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596133154,"creation_date":1596132791,"answer_id":63178977,"question_id":62769200,"body_markdown":"1. scenario.embed adds screenshot to cucumber default reporting. \n2. This link would solve your issue for attaching screenshot to extent report.\n\nhttps://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<ol>\n<li>scenario.embed adds screenshot to cucumber default reporting.</li>\n<li>This link would solve your issue for attaching screenshot to extent report.</li>\n</ol>\n<p><a href=\"https://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/\" rel=\"nofollow noreferrer\">https://www.toolsqa.com/selenium-cucumber-framework/cucumber-extent-report/</a></p>\n"},{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667037999,"creation_date":1666677539,"answer_id":74189644,"question_id":62769200,"body_markdown":"Try this below code logic\r\n\r\n        @After(order=1)\r\n    \tpublic void tearDown(Scenario scenario)\r\n    \t{\r\n    \t\tif(scenario.isFailed())\r\n    \t\t{\r\n    \t\t\t//take screenshot\r\n    \t\t\tString screenshotName =scenario.getName().replaceAll(&quot;&quot;, &quot;_&quot;);\r\n    \t\t\tbyte[] sourcepath =((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n    \t\t    scenario.attach(sourcepath, &quot;image/png&quot;, screenshotName);\r\n    \t\t}\t\t\r\n    \t}","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<p>Try this below code logic</p>\n<pre><code>    @After(order=1)\n    public void tearDown(Scenario scenario)\n    {\n        if(scenario.isFailed())\n        {\n            //take screenshot\n            String screenshotName =scenario.getName().replaceAll(&quot;&quot;, &quot;_&quot;);\n            byte[] sourcepath =((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n            scenario.attach(sourcepath, &quot;image/png&quot;, screenshotName);\n        }       \n    }\n</code></pre>\n"}],"owner":{"account_id":18486492,"reputation":23,"user_id":13481760,"display_name":"demon sky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5010,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667037999,"creation_date":1594102807,"question_id":62769200,"body_markdown":"I found no solutions for the screenshot of failed case to the extent report in Cucumber (Java). I have look elsewhere in Stack Overflow. Can anyone kindly help me troubleshoot? File `pom.xml` posting my dependencies for Cucumber reports\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n        &lt;version&gt;2.41.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\r\n     &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\r\n     &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n        &lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n/*runner class */ plugin and run method   \r\n\r\n         plugin = {&quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;}\r\n\r\n    public class testRunner{\r\n    \t@AfterClass\r\n    \t public static void writeExtentReport() {\r\n    \t\t Reporter.loadXMLConfig(new File(&quot;C:\\\\Users\\\\User\\\\eclipseworkspace\\\\test\\\\extent-config.xml&quot;));\t\r\n    }\r\n\r\n/* step class */\r\n\r\n      @After\r\n    \t\tpublic void execute_after_every_scenario(Scenario scenario) throws InterruptedException, IOException\r\n    \t\t{\r\n    \t\t\ttestbase.teardown(scenario);\r\n    \t\t}\r\n\r\n/* test base class */\r\nwhat is working are the screenshots saved in output folder\r\n**what is missing are the screenshots in extent report**\r\n\r\n    public static void teardown(Scenario scenario) throws InterruptedException, IOException\r\n    \t{\r\n    \t    Thread.sleep(2000);\r\n    \t    if (scenario.isFailed()) {\r\n    \t    \t   try {\r\n    \t\t    \t   String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;); \r\n    \t    \t\t   byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n    \t    \t    File screenshot_with_scenario_name = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE); \r\n    \t    \t  //  FileUtils.copyFile(screenshot_with_scenario_name, new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;));\r\n    \t    \t  \r\n    \t    \t    System.out.println(&quot;testing pring the screenshot&quot; + screenshotName);\t    \t  \r\n    \r\n                  File destinationPath = new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;);\r\n    \t    \t  \t  \r\n         //Copy taken screenshot from source location to destination location\r\n\t\t\t\t\tFiles.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); \r\n\r\n\t    \t    Reporter.addScreenCaptureFromPath(destinationPath.toString());\r\n                    Reporter.addScenarioLog(screenshotName);\r\n    \t    \t    \r\n    \t    \t    scenario.embed(screenshot, &quot;image/png&quot;);\r\n    \t   \r\n    \t    \t   } catch (IOException somePlatformsDontSupportScreenshots) {\r\n    \t    \t    System.err.println(somePlatformsDontSupportScreenshots.getMessage());\r\n    \t  \t   }  \r\n    \t    \t  }\r\n","title":"Cucumber extent report - how to add screenshot of failed case to the extent report","body":"<p>I found no solutions for the screenshot of failed case to the extent report in Cucumber (Java). I have look elsewhere in Stack Overflow. Can anyone kindly help me troubleshoot? File <code>pom.xml</code> posting my dependencies for Cucumber reports</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n    &lt;version&gt;2.41.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;com.vimalselvam&lt;/groupId&gt;\n &lt;artifactId&gt;cucumber-extentsreport&lt;/artifactId&gt;\n &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n    &lt;artifactId&gt;extentreports-cucumber4-adapter&lt;/artifactId&gt;\n    &lt;version&gt;1.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>/*runner class */ plugin and run method</p>\n<pre><code>     plugin = {&quot;com.cucumber.listener.ExtentCucumberFormatter:target/cucumber-reports/report.html&quot;}\n\npublic class testRunner{\n    @AfterClass\n     public static void writeExtentReport() {\n         Reporter.loadXMLConfig(new File(&quot;C:\\\\Users\\\\User\\\\eclipseworkspace\\\\test\\\\extent-config.xml&quot;));    \n}\n</code></pre>\n<p>/* step class */</p>\n<pre><code>  @After\n        public void execute_after_every_scenario(Scenario scenario) throws InterruptedException, IOException\n        {\n            testbase.teardown(scenario);\n        }\n</code></pre>\n<p>/* test base class */\nwhat is working are the screenshots saved in output folder\n<strong>what is missing are the screenshots in extent report</strong></p>\n<pre><code>public static void teardown(Scenario scenario) throws InterruptedException, IOException\n    {\n        Thread.sleep(2000);\n        if (scenario.isFailed()) {\n               try {\n                   String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;); \n                   byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n                File screenshot_with_scenario_name = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE); \n              //  FileUtils.copyFile(screenshot_with_scenario_name, new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;));\n              \n                System.out.println(&quot;testing pring the screenshot&quot; + screenshotName);              \n\n              File destinationPath = new File(&quot;C:\\\\Users\\\\User\\\\eclipse-workspace\\\\test\\\\testscreenshots\\\\&quot; + screenshotName + &quot;.png&quot;);\n                  \n     //Copy taken screenshot from source location to destination location\n                Files.copy(screenshot_with_scenario_name.toPath(), destinationPath.toPath()); \n\n            Reporter.addScreenCaptureFromPath(destinationPath.toString());\n                Reporter.addScenarioLog(screenshotName);\n                \n                scenario.embed(screenshot, &quot;image/png&quot;);\n       \n               } catch (IOException somePlatformsDontSupportScreenshots) {\n                System.err.println(somePlatformsDontSupportScreenshots.getMessage());\n           }  \n              }\n</code></pre>\n"},{"tags":["java","python"],"answers":[{"tags":[],"owner":{"account_id":4976,"reputation":2370,"user_id":7759,"accept_rate":83,"display_name":"lud0h"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1591888546,"creation_date":1251268116,"answer_id":1332697,"question_id":1332598,"body_markdown":"You could use the console commands\r\n\r\n    &gt;&gt;&gt;import os\r\n    &gt;&gt;&gt;os.system(&quot;java -version&quot;)\r\n    \r\n    java version &quot;1.5.0_19&quot;\r\n\r\nor see vartec&#39;s answer at \r\nhttps://stackoverflow.com/questions/4760215/running-shell-command-and-capturing-the-output\r\nabout storing the output","title":"How to determine whether java is installed on a system through python?","body":"<p>You could use the console commands</p>\n\n<pre><code>&gt;&gt;&gt;import os\n&gt;&gt;&gt;os.system(\"java -version\")\n\njava version \"1.5.0_19\"\n</code></pre>\n\n<p>or see vartec's answer at \n<a href=\"https://stackoverflow.com/questions/4760215/running-shell-command-and-capturing-the-output\">Running shell command and capturing the output</a>\nabout storing the output</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1251268548,"creation_date":1251268548,"answer_id":1332722,"question_id":1332598,"body_markdown":"There is no 100% reliable / portable way to do this, but the following procedure should give you some confidence that Java has been installed and configured properly (on a Linux):\r\n\r\n 1. Check that the &quot;JAVA_HOME&quot; environment variable has been set and that it points to a directory containing a &quot;bin&quot; directory and that the &quot;bin&quot; directory contains an executable &quot;java&quot; command.\r\n 2. Check that the &quot;java&quot; command found via a search of &quot;PATH&quot; is the one that was found in step 1.\r\n 3. Run the &quot;java&quot; command with &quot;-version&quot; to see if the output looks like a normal Java version stamp.\r\n\r\nThis doesn&#39;t guarantee that the user has not done something weird.\r\n\r\nActually, if it was me, I wouldn&#39;t bother with this.  I&#39;d just try to launch the Java app from Python assuming that the &quot;java&quot; on the user&#39;s path was the right one. If there were errors, I&#39;d report them.","title":"How to determine whether java is installed on a system through python?","body":"<p>There is no 100% reliable / portable way to do this, but the following procedure should give you some confidence that Java has been installed and configured properly (on a Linux):</p>\n\n<ol>\n<li>Check that the \"JAVA_HOME\" environment variable has been set and that it points to a directory containing a \"bin\" directory and that the \"bin\" directory contains an executable \"java\" command.</li>\n<li>Check that the \"java\" command found via a search of \"PATH\" is the one that was found in step 1.</li>\n<li>Run the \"java\" command with \"-version\" to see if the output looks like a normal Java version stamp.</li>\n</ol>\n\n<p>This doesn't guarantee that the user has not done something weird.</p>\n\n<p>Actually, if it was me, I wouldn't bother with this.  I'd just try to launch the Java app from Python assuming that the \"java\" on the user's path was the right one. If there were errors, I'd report them.</p>\n"},{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667037034,"creation_date":1667037034,"answer_id":74244304,"question_id":1332598,"body_markdown":"To **check if Java is installed** use [`shutil.which`](https://docs.python.org/3/library/shutil.html#shutil.which):\r\n\r\n    import shutil\r\n    if shutil.which(&quot;java&quot;):\r\n      print(&quot;Java is installed on the system&quot;)\r\n\r\n    # Out:\r\n    # /usr/bin/java\r\n\r\nTo **get the real path** resolving symbolic links use [`os.path.realpath`](https://docs.python.org/3/library/os.path.html#os.path.realpath):\r\n\r\n    os.path.realpath(shutil.which(&quot;java&quot;))\r\n\r\n    # Out:\r\n    # /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n\r\nTo **check which version of Java is installed** use [`subprocess.check_output`](https://docs.python.org/3/library/subprocess.html#subprocess.check_output):\r\n\r\n    from subprocess import check_output, STDOUT\r\n    \r\n    try:\r\n      print(check_output(&quot;java -version&quot;, stderr=STDOUT, shell=True).decode(&#39;utf-8&#39;))\r\n    except OSError:\r\n      print(&quot;java not found on path&quot;)\r\n\r\n    # Out:\r\n    # openjdk version &quot;11.0.16&quot; 2022-07-19\r\n    # OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu118.04)\r\n    # OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu118.04, mixed mode, sharing)\r\n\r\n\r\nNotice the `stderr=STDOUT` (the equivalent of `2&gt;&amp;1`). This is because the shell command `java -version` sends the output to STDERR (see [Why does &#39;java -version&#39; go to stderr?](https://stackoverflow.com/questions/13483443/why-does-java-version-go-to-stderr)).","title":"How to determine whether java is installed on a system through python?","body":"<p>To <strong>check if Java is installed</strong> use <a href=\"https://docs.python.org/3/library/shutil.html#shutil.which\" rel=\"nofollow noreferrer\"><code>shutil.which</code></a>:</p>\n<pre><code>import shutil\nif shutil.which(&quot;java&quot;):\n  print(&quot;Java is installed on the system&quot;)\n\n# Out:\n# /usr/bin/java\n</code></pre>\n<p>To <strong>get the real path</strong> resolving symbolic links use <a href=\"https://docs.python.org/3/library/os.path.html#os.path.realpath\" rel=\"nofollow noreferrer\"><code>os.path.realpath</code></a>:</p>\n<pre><code>os.path.realpath(shutil.which(&quot;java&quot;))\n\n# Out:\n# /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n</code></pre>\n<p>To <strong>check which version of Java is installed</strong> use <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.check_output\" rel=\"nofollow noreferrer\"><code>subprocess.check_output</code></a>:</p>\n<pre><code>from subprocess import check_output, STDOUT\n\ntry:\n  print(check_output(&quot;java -version&quot;, stderr=STDOUT, shell=True).decode('utf-8'))\nexcept OSError:\n  print(&quot;java not found on path&quot;)\n\n# Out:\n# openjdk version &quot;11.0.16&quot; 2022-07-19\n# OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu118.04)\n# OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu118.04, mixed mode, sharing)\n</code></pre>\n<p>Notice the <code>stderr=STDOUT</code> (the equivalent of <code>2&gt;&amp;1</code>). This is because the shell command <code>java -version</code> sends the output to STDERR (see <a href=\"https://stackoverflow.com/questions/13483443/why-does-java-version-go-to-stderr\">Why does 'java -version' go to stderr?</a>).</p>\n"}],"owner":{"account_id":52948,"reputation":539,"user_id":158310,"accept_rate":80,"display_name":"kush87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7039,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":1332697,"answer_count":3,"score":6,"last_activity_date":1667037034,"creation_date":1251266352,"question_id":1332598,"body_markdown":"Using Python, I want to know whether Java is installed.","title":"How to determine whether java is installed on a system through python?","body":"<p>Using Python, I want to know whether Java is installed.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1666985420,"post_id":74240004,"comment_id":131072165,"body_markdown":"I think this post should solve your problem. If it does, please let me/us know And we&#39;ll close your question as a duplicate, okay? https://stackoverflow.com/questions/1565388/increase-heap-size-in-java","body":"I think this post should solve your problem. If it does, please let me/us know And we&#39;ll close your question as a duplicate, okay? <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\" title=\"increase heap size in java\">stackoverflow.com/questions/1565388/increase-heap-size-in-ja&zwnj;&#8203;va</a>"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1666985692,"post_id":74240004,"comment_id":131072236,"body_markdown":"Unfortunately No , I cant change the heap size . This failing in AWS after deploying the application . Is there any better way to code this method","body":"Unfortunately No , I cant change the heap size . This failing in AWS after deploying the application . Is there any better way to code this method"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1666986568,"post_id":74240004,"comment_id":131072461,"body_markdown":"I believe you can change your heap size on AWS. I found this: https://stackoverflow.com/questions/63773664/how-to-increase-java-heap-size-in-aws-ecs as well as another post on SO about how to solve this.","body":"I believe you can change your heap size on AWS. I found this: <a href=\"https://stackoverflow.com/questions/63773664/how-to-increase-java-heap-size-in-aws-ecs\" title=\"how to increase java heap size in aws ecs\">stackoverflow.com/questions/63773664/&hellip;</a> as well as another post on SO about how to solve this."},{"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"score":0,"creation_date":1666987071,"post_id":74240004,"comment_id":131072601,"body_markdown":"I think you can improve it by marking each of the inputStream from your list, for garbage collection(inputStream=null) once you already add it to your copy of the pdf.","body":"I think you can improve it by marking each of the inputStream from your list, for garbage collection(inputStream=null) once you already add it to your copy of the pdf."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666987395,"creation_date":1666986844,"answer_id":74240280,"question_id":74240004,"body_markdown":"If you send it somwhere to OutputStream (eg. thru http - which seems to be true as you don&#39;t want to store it on disk) then instead of using intermediate ByteArrayOutpuStream (which is the RAM hog) - send it to the OutputStream directly - pass the OutputStream to the method creating the pdf, in this way you&#39;ll avoid holding it in memory at all.\r\n\r\n","title":"OutofMemory Java Heap Space When merging PDF using itext","body":"<p>If you send it somwhere to OutputStream (eg. thru http - which seems to be true as you don't want to store it on disk) then instead of using intermediate ByteArrayOutpuStream (which is the RAM hog) - send it to the OutputStream directly - pass the OutputStream to the method creating the pdf, in this way you'll avoid holding it in memory at all.</p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240280,"answer_count":1,"score":0,"last_activity_date":1667036676,"creation_date":1666984826,"question_id":74240004,"body_markdown":"I am trying to merge around 15 pdfs into a single PDF. It&#39;s working most of the time but sometimes getting OutofMemory Java Heap Space  error. I want to avoid temp file creation. Below is my code .\r\n```java\r\npublic static byte[] mergePdf(List &lt; InputStream &gt; inputStreams) {\r\n    Document document = new Document();\r\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    PdfCopy copy = new PdfSmartCopy(document, byteArrayOutputStream);\r\n    document.open();\r\n    for (InputStream inputStream: inputStreams) {\r\n        PdfReader pdfReader = new PdfReader(inputStream);\r\n        copy.addDocument(pdfReader);\r\n        copy.freeReader(pdfReader);\r\n        pdfReader.close();\r\n    }\r\n    document.close();\r\n    return byteArrayOutputStream.toByteArray();\r\n}\r\n```","title":"OutofMemory Java Heap Space When merging PDF using itext","body":"<p>I am trying to merge around 15 pdfs into a single PDF. It's working most of the time but sometimes getting OutofMemory Java Heap Space  error. I want to avoid temp file creation. Below is my code .</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] mergePdf(List &lt; InputStream &gt; inputStreams) {\n    Document document = new Document();\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    PdfCopy copy = new PdfSmartCopy(document, byteArrayOutputStream);\n    document.open();\n    for (InputStream inputStream: inputStreams) {\n        PdfReader pdfReader = new PdfReader(inputStream);\n        copy.addDocument(pdfReader);\n        copy.freeReader(pdfReader);\n        pdfReader.close();\n    }\n    document.close();\n    return byteArrayOutputStream.toByteArray();\n}\n</code></pre>\n"},{"tags":["java","methods","boolean","return"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665190752,"post_id":73993663,"comment_id":130648868,"body_markdown":"Once you first find a false case you return false. If you never find a false case, return true. You don&#39;t need `a` or the `break`, you can return from inside your loop.","body":"Once you first find a false case you return false. If you never find a false case, return true. You don&#39;t need <code>a</code> or the <code>break</code>, you can return from inside your loop."}],"answers":[{"tags":[],"owner":{"account_id":26560451,"reputation":36,"user_id":20188370,"display_name":"Malak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665190968,"creation_date":1665190968,"answer_id":73993707,"question_id":73993663,"body_markdown":"You can return false early from the method, if we reached the end without returning false, then return true:\r\n\r\n    public static boolean allMultipleOf(int[] ary, int n) {\r\n        for (int i = 0; i &lt; ary.length; i++) {\r\n            if (ary[i] % n != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"return statement in boolean method","body":"<p>You can return false early from the method, if we reached the end without returning false, then return true:</p>\n<pre><code>public static boolean allMultipleOf(int[] ary, int n) {\n    for (int i = 0; i &lt; ary.length; i++) {\n        if (ary[i] % n != 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26602524,"reputation":1,"user_id":20223939,"display_name":"Ganesh M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667036353,"creation_date":1666757489,"answer_id":74202624,"question_id":73993663,"body_markdown":"It should `return false`, the default of the boolean is print at this place.\r\n\r\nYou can make the return statement within the method. it return true.    \r\n\r\n```\r\npublic static boolean allMultipleOf(int[] ary, int n) {\r\n  boolean a = true;\r\n  for(int i = 0; i &lt; ary.length; i++) {\r\n    if (ary[i] % n == 0) {\r\n      a = true;\r\n      //System.out.println(a);\r\n      break;\r\n    } else {\r\n      a = false;\r\n    }\r\n  } \r\n  return a; \r\n}\r\n```","title":"return statement in boolean method","body":"<p>It should <code>return false</code>, the default of the boolean is print at this place.</p>\n<p>You can make the return statement within the method. it return true.</p>\n<pre><code>public static boolean allMultipleOf(int[] ary, int n) {\n  boolean a = true;\n  for(int i = 0; i &lt; ary.length; i++) {\n    if (ary[i] % n == 0) {\n      a = true;\n      //System.out.println(a);\n      break;\n    } else {\n      a = false;\n    }\n  } \n  return a; \n}\n</code></pre>\n"}],"owner":{"account_id":26560357,"reputation":3,"user_id":20188302,"display_name":"Sikefrikou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73993707,"answer_count":2,"score":0,"last_activity_date":1667036353,"creation_date":1665190195,"question_id":73993663,"body_markdown":"I do not understand what I should return. My method returns false if the last time it goes \r\nthrough the for-loop it is false. If the last time is true than it returns true. But I want it to return false regardless of where the false occurred.\r\n\r\n\r\n```\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            int number = 4;\r\n            int[] intArray = {4, 8, 12, 16};\r\n            System.out.println(allMultipleOf(intArray, number));\r\n        }\r\n```\r\n\r\n```\r\n        public static boolean allMultipleOf(int[] ary, int n){\r\n            boolean a = true;\r\n            for(int i = 0; i &lt; ary.length; i++){\r\n                if(ary[i] % n == 0){\r\n                    a = true;\r\n                    //System.out.println(a);\r\n                    break;\r\n                } else {\r\n                    a = false;\r\n                }\r\n            }\r\n    }\r\n        return a; //what should I return\r\n}\r\n```\r\n\r\n    ","title":"return statement in boolean method","body":"<p>I do not understand what I should return. My method returns false if the last time it goes\nthrough the for-loop it is false. If the last time is true than it returns true. But I want it to return false regardless of where the false occurred.</p>\n<pre><code>    public class test {\n        public static void main(String[] args) {\n            int number = 4;\n            int[] intArray = {4, 8, 12, 16};\n            System.out.println(allMultipleOf(intArray, number));\n        }\n</code></pre>\n<pre><code>        public static boolean allMultipleOf(int[] ary, int n){\n            boolean a = true;\n            for(int i = 0; i &lt; ary.length; i++){\n                if(ary[i] % n == 0){\n                    a = true;\n                    //System.out.println(a);\n                    break;\n                } else {\n                    a = false;\n                }\n            }\n    }\n        return a; //what should I return\n}\n</code></pre>\n"},{"tags":["java","string","char","uppercase","lowercase"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667023866,"creation_date":1667023866,"answer_id":74243171,"question_id":74243138,"body_markdown":"Your code seems on the righ track, but you need to toggle between both lower and upper case.  Try this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String s = &quot;lowerUppercase&quot;;\r\n    StringBuilder output = new StringBuilder();\r\n\r\n    for (int i=0; i &lt; s.length(); i++) {\r\n        if (s.charAt(i) &gt;= &#39;a&#39; &amp;&amp; s.charAt(i) &lt;= &#39;z&#39;) {\r\n            output.append(Character.toUpperCase(s.charAt(i)));\r\n        }\r\n        else {\r\n            output.append(Character.toLowerCase(s.charAt(i)));\r\n        }\r\n    }\r\n\r\n    System.out.println(output.toString());\r\n    // LOWERuPPERCASE\r\n\r\nNote that the above assumes that you would only have lower and upper case English alphabet letters in the input string.  If not, then the answer might have to change.","title":"Convert characters of a string to opposite case","body":"<p>Your code seems on the righ track, but you need to toggle between both lower and upper case.  Try this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;lowerUppercase&quot;;\nStringBuilder output = new StringBuilder();\n\nfor (int i=0; i &lt; s.length(); i++) {\n    if (s.charAt(i) &gt;= 'a' &amp;&amp; s.charAt(i) &lt;= 'z') {\n        output.append(Character.toUpperCase(s.charAt(i)));\n    }\n    else {\n        output.append(Character.toLowerCase(s.charAt(i)));\n    }\n}\n\nSystem.out.println(output.toString());\n// LOWERuPPERCASE\n</code></pre>\n<p>Note that the above assumes that you would only have lower and upper case English alphabet letters in the input string.  If not, then the answer might have to change.</p>\n"},{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667025187,"creation_date":1667024320,"answer_id":74243207,"question_id":74243138,"body_markdown":"Because you are calling the method on the entire string while you only wanna switch the case of the char at position i. Your code example sets the entire string to lowercase if the last letter is lowercase and to Uppercase in the other case.\r\n\r\nAlso String in Java is an immutable object, meaning that you cannot change its value once it&#39;s created, so you need a stringBuilder.\r\n\r\n```\r\n  public static void main(String[] args) {\r\n        String s = &quot;lowerUppercase&quot;;\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; s.length() - 1; i++) {\r\n            if (s.charAt(i) &gt;= &#39;a&#39; &amp;&amp; s.charAt(i) &lt;= &#39;z&#39;) {\r\n                sb.append(Character.toUpperCase(s.charAt(i)));\r\n            } else {\r\n                sb.append(Character.toLowerCase(s.charAt(i)));\r\n            }\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n```\r\n\r\nIf you&#39;d like to play with functional programming here&#39;s the functional version (It&#39;s not practical or anything, purely educational) :\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String s = &quot;lowerUppercase&quot;;\r\n\r\n        StringBuilder out = s.chars()\r\n                .map(i -&gt; {\r\n                    if (Character.isLowerCase(i)) {\r\n                        return Character.toUpperCase(i);\r\n                    } else if (Character.isUpperCase(i)) {\r\n                        return Character.toLowerCase(i);\r\n                    }\r\n                    return i;\r\n                }).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append);\r\n\r\n        System.out.println(out);\r\n    }","title":"Convert characters of a string to opposite case","body":"<p>Because you are calling the method on the entire string while you only wanna switch the case of the char at position i. Your code example sets the entire string to lowercase if the last letter is lowercase and to Uppercase in the other case.</p>\n<p>Also String in Java is an immutable object, meaning that you cannot change its value once it's created, so you need a stringBuilder.</p>\n<pre><code>  public static void main(String[] args) {\n        String s = &quot;lowerUppercase&quot;;\n        StringBuilder sb = new StringBuilder();\n\n        for (int i = 0; i &lt; s.length() - 1; i++) {\n            if (s.charAt(i) &gt;= 'a' &amp;&amp; s.charAt(i) &lt;= 'z') {\n                sb.append(Character.toUpperCase(s.charAt(i)));\n            } else {\n                sb.append(Character.toLowerCase(s.charAt(i)));\n            }\n        }\n        System.out.println(sb);\n    }\n</code></pre>\n<p>If you'd like to play with functional programming here's the functional version (It's not practical or anything, purely educational) :</p>\n<pre><code>    public static void main(String[] args) {\n        String s = &quot;lowerUppercase&quot;;\n\n        StringBuilder out = s.chars()\n                .map(i -&gt; {\n                    if (Character.isLowerCase(i)) {\n                        return Character.toUpperCase(i);\n                    } else if (Character.isUpperCase(i)) {\n                        return Character.toLowerCase(i);\n                    }\n                    return i;\n                }).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append);\n\n        System.out.println(out);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667036253,"creation_date":1667025828,"answer_id":74243346,"question_id":74243138,"body_markdown":"You now know why. Here is yet another way you could do it:\r\n\r\n    String s = &quot;Lower to UpperCase&quot;;\r\n\r\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        char c = s.charAt(i);\r\n        if (Character.isLowerCase(c)) {\r\n             sb.append(Character.toUpperCase(c));\r\n        }\r\n        else {\r\n            sb.append(Character.toLowerCase(c));\r\n        }\r\n    }\r\n    s = sb.toString();\r\n    System.out.println(s);\r\n\r\nThis will output to the Console Window:\r\n\r\n    lOWER TO uPPERcASE\r\n","title":"Convert characters of a string to opposite case","body":"<p>You now know why. Here is yet another way you could do it:</p>\n<pre><code>String s = &quot;Lower to UpperCase&quot;;\n\nStringBuilder sb = new StringBuilder(&quot;&quot;);\nfor (int i = 0; i &lt; s.length(); i++) {\n    char c = s.charAt(i);\n    if (Character.isLowerCase(c)) {\n         sb.append(Character.toUpperCase(c));\n    }\n    else {\n        sb.append(Character.toLowerCase(c));\n    }\n}\ns = sb.toString();\nSystem.out.println(s);\n</code></pre>\n<p>This will output to the Console Window:</p>\n<pre><code>lOWER TO uPPERcASE\n</code></pre>\n"}],"owner":{"account_id":26489575,"reputation":3,"user_id":20127653,"display_name":"raghava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74243171,"answer_count":3,"score":-1,"last_activity_date":1667036253,"creation_date":1667023158,"question_id":74243138,"body_markdown":"\r\n//HERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \r\n\r\n    public class LowerUpperCase {\r\n        \r\n        public static void main(String[] args) {\r\n            String s=&quot;lowerUppercase&quot;;\r\n           \r\n            \r\n            \r\n            for (int i = 0; i &lt; s.length()-1; i++) {\r\n    \r\n                if(s.charAt(i) &gt;=&#39;a&#39; &amp;&amp; s.charAt(i)&lt;=&#39;z&#39;){  //OR IF DONE THIS NOT WORKING\r\n    ```\r\n       if((s.charAt(i) &gt;=&#39;a&#39; &amp;&amp; s.charAt(i)&lt;=&#39;z&#39; ) || (s.charAt(i) &gt;=&#39;A&#39; &amp;&amp; s.charAt(i)&lt;=&#39;Z&#39;)){\r\n    ```\r\n    \r\n                   \r\n                     s=s.toLowerCase();//here should i go for \r\n    \r\n                }\r\n                else if(s.charAt(i) &gt;=&#39;A&#39; &amp;&amp; s.charAt(i)&lt;=&#39;Z&#39;){\r\n                   \r\n                    s=s.toUpperCase();\r\n    \r\n               }\r\n               \r\n                \r\n            }\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n//I ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\r\n\r\n\r\n\r\n```\r\nINPUT:LowerUpperCase\r\nOUTPUT:lOWERuPPERcASE  expected\r\n\r\nHERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \r\n\r\nI ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\r\n","title":"Convert characters of a string to opposite case","body":"<p>//HERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE</p>\n<pre><code>public class LowerUpperCase {\n    \n    public static void main(String[] args) {\n        String s=&quot;lowerUppercase&quot;;\n       \n        \n        \n        for (int i = 0; i &lt; s.length()-1; i++) {\n\n            if(s.charAt(i) &gt;='a' &amp;&amp; s.charAt(i)&lt;='z'){  //OR IF DONE THIS NOT WORKING\n```\n   if((s.charAt(i) &gt;='a' &amp;&amp; s.charAt(i)&lt;='z' ) || (s.charAt(i) &gt;='A' &amp;&amp; s.charAt(i)&lt;='Z')){\n```\n\n               \n                 s=s.toLowerCase();//here should i go for \n\n            }\n            else if(s.charAt(i) &gt;='A' &amp;&amp; s.charAt(i)&lt;='Z'){\n               \n                s=s.toUpperCase();\n\n           }\n           \n            \n        }\n        System.out.println(s);\n    }\n}\n</code></pre>\n<p>//I ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE</p>\n<pre><code>INPUT:LowerUpperCase\nOUTPUT:lOWERuPPERcASE  expected\n\nHERE WHY IS IT CONVERTING TO LOWER CASE BUT NOT TO UPPER CASE \n\nI ALWAYS GET OUTPUT LIKE loweruppercase or LOWERUPPERCASE\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666973724,"post_id":74238080,"comment_id":131068692,"body_markdown":"`mod11(7*3 - 30)` == `mod11(-3)` which should be 8, not 9. `(-7+1)/20` is just `0` due to integer arithmetic (unless you can coerce into the `double` call, in which case it&#39;s `-6/20` i.e. `-0.3`, so 10.7 is correct). Lastly, for positive values you can simply use `value % mod`, and negatives can use `mod + (value % mod)` in java, which may be quicker than doing `%` twice.","body":"<code>mod11(7*3 - 30)</code> == <code>mod11(-3)</code> which should be 8, not 9. <code>(-7+1)&#47;20</code> is just <code>0</code> due to integer arithmetic (unless you can coerce into the <code>double</code> call, in which case it&#39;s <code>-6&#47;20</code> i.e. <code>-0.3</code>, so 10.7 is correct). Lastly, for positive values you can simply use <code>value % mod</code>, and negatives can use <code>mod + (value % mod)</code> in java, which may be quicker than doing <code>%</code> twice."},{"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"score":0,"creation_date":1666974085,"post_id":74238080,"comment_id":131068801,"body_markdown":"thank you for the fast response, but I&#39;m trying to get the below result\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3","body":"thank you for the fast response, but I&#39;m trying to get the below result i = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667020447,"post_id":74238080,"comment_id":131076912,"body_markdown":"`-6/20` != `-6/9` != `5*5` , so the laws of mathematics can&#39;t really help you there.","body":"<code>-6&#47;20</code> != <code>-6&#47;9</code> != <code>5*5</code> , so the laws of mathematics can&#39;t really help you there."}],"answers":[{"tags":[],"owner":{"account_id":20565897,"reputation":36,"user_id":15095290,"display_name":"timmeh87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666974046,"creation_date":1666974046,"answer_id":74238183,"question_id":74238080,"body_markdown":"Your question is confusing.. the % operator is already the modulus operator, also known as remainder. ... so   14 % 11 = 3  is the same as mod11(14) = 3. There is no need to implement it as a new function.\r\n\r\nIn your equation, ((-7+1)/20) = -0.3, Its not clear why you would expect 3.\r\n\r\n11 - 0.3 is 10.7, so that is where that answer comes from. ","title":"implementing mod 11 function in Java","body":"<p>Your question is confusing.. the % operator is already the modulus operator, also known as remainder. ... so   14 % 11 = 3  is the same as mod11(14) = 3. There is no need to implement it as a new function.</p>\n<p>In your equation, ((-7+1)/20) = -0.3, Its not clear why you would expect 3.</p>\n<p>11 - 0.3 is 10.7, so that is where that answer comes from.</p>\n"},{"tags":[],"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667036049,"creation_date":1666974068,"answer_id":74238186,"question_id":74238080,"body_markdown":"I wrote two examples how to use it mathematical mod mathMod method and also default mod faultModCalJava mod. They will give the same result for positive numbers but for negative they have different output. More information here:\r\n\r\nhttps://en.wikipedia.org/wiki/Modulo_operation \r\n\r\n    public class MainClass2 {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Math mod:&quot; + mathMod(14, 11));\r\n            System.out.println(&quot;Math mod:&quot; + mathMod((3 * 7 - 30), 11));\r\n            System.out.println(&quot;Math mod:&quot; + mathMod(-13, 10));\r\n\r\n            System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava(14, 11));\r\n            System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava((3 * 7 - 30), 11));\r\n            System.out.println(&quot;Default Java mod:&quot; + defaultModCalJava(-13, 10));\r\n        }\r\n\r\n        private static int mathMod(int a, int m) {\r\n            int positiveM = Math.abs(m);\r\n            int result = a % positiveM;\r\n            if (result &lt; 0) {\r\n                result = result + positiveM;\r\n            }\r\n            return result;\r\n        }\r\n\r\n        private static int defaultModCalJava(int a, int m) {\r\n            return a % m;\r\n        }\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n\r\n    Math mod:3\r\n    Math mod:2\r\n    Math mod:7\r\n    Default Java mod: 3\r\n    Default Java mod: -9\r\n    Default Java mod:-3","title":"implementing mod 11 function in Java","body":"<p>I wrote two examples how to use it mathematical mod mathMod method and also default mod faultModCalJava mod. They will give the same result for positive numbers but for negative they have different output. More information here:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Modulo_operation</a></p>\n<pre><code>public class MainClass2 {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Math mod:&quot; + mathMod(14, 11));\n        System.out.println(&quot;Math mod:&quot; + mathMod((3 * 7 - 30), 11));\n        System.out.println(&quot;Math mod:&quot; + mathMod(-13, 10));\n\n        System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava(14, 11));\n        System.out.println(&quot;Default Java mod: &quot; + defaultModCalJava((3 * 7 - 30), 11));\n        System.out.println(&quot;Default Java mod:&quot; + defaultModCalJava(-13, 10));\n    }\n\n    private static int mathMod(int a, int m) {\n        int positiveM = Math.abs(m);\n        int result = a % positiveM;\n        if (result &lt; 0) {\n            result = result + positiveM;\n        }\n        return result;\n    }\n\n    private static int defaultModCalJava(int a, int m) {\n        return a % m;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Math mod:3\nMath mod:2\nMath mod:7\nDefault Java mod: 3\nDefault Java mod: -9\nDefault Java mod:-3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666991764,"creation_date":1666983189,"answer_id":74239760,"question_id":74238080,"body_markdown":"`%` is **not** a modulus operator. It is a [remainder operator](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17.3) and behaves as one would expect a remainder operator to behave.\r\n``` \r\nSystem.out.println(-10 % 3); //  -3 r -1 since 3 * -3 + -1 == -10\r\nSystem.out.println(10 % -3); //  -3 r  1 since -3 * -3 + 1 == 10 \r\nSystem.out.println(-10 % -3);//   3 r -1 since 3 * -3 + -1 == -10\r\nSystem.out.println(10 % 3);  //   3 r 1 since 3 * 3 + 1 == 10\r\n\r\nprints as expected\r\n-1\r\n1\r\n-1\r\n1\r\n```\r\nA true mod function for  `n = x mod(m)` says there is some `k` where `x - n = km`\r\n```\r\nn = 20 mod(3) = 2  and k = 6   20 - 2 = 6*3\r\nn = 20 mod(3) = -1 and k = 7   20 -(-1) = 3*7\r\n```           \r\n\r\nThe complete set of residues for any mod function is infinite and for the above is\r\n`n = x - mk` for any integral value of `k`\r\n           \r\nSo for the above the complete residue set would be `n = 20 - 3k`.  Any value returned would be a legitimate result.  The remainder function is simply a subset of size `one` of the aforementioned set of residues.\r\n\r\nHaving said that, this may help. This mod function simply corrects to the smallest positive value, assuming a positive modulus.\r\n```\r\nMod mod11 = Mod.forModulus(11);\r\nint k = mod11.of(-3);\r\nSystem.out.println(k);\r\n\r\nMod mod121 = Mod.forModulus(121);\r\nk = mod121.of(-12);\r\nSystem.out.println(k);\r\n```\r\nprints\r\n```\r\n8\r\n109\r\n```\r\nHere is a way to create mod function that just takes the target argument.\r\n```\r\n interface Mod {\r\n     int of(int value);\r\n     static Mod forModulus(int mod) {\r\n         return v-&gt; {\r\n             int u = v % mod;\r\n             return u &lt; 0 ? u + mod : u;\r\n         };\r\n     }\r\n }\r\n```\r\nThe above may need some tweaking either because I misunderstood your issue or because the mod function needs to be more complex to satisfy your congruency relationships.\r\n     ","title":"implementing mod 11 function in Java","body":"<p><code>%</code> is <strong>not</strong> a modulus operator. It is a <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.17.3\" rel=\"nofollow noreferrer\">remainder operator</a> and behaves as one would expect a remainder operator to behave.</p>\n<pre><code>System.out.println(-10 % 3); //  -3 r -1 since 3 * -3 + -1 == -10\nSystem.out.println(10 % -3); //  -3 r  1 since -3 * -3 + 1 == 10 \nSystem.out.println(-10 % -3);//   3 r -1 since 3 * -3 + -1 == -10\nSystem.out.println(10 % 3);  //   3 r 1 since 3 * 3 + 1 == 10\n\nprints as expected\n-1\n1\n-1\n1\n</code></pre>\n<p>A true mod function for  <code>n = x mod(m)</code> says there is some <code>k</code> where <code>x - n = km</code></p>\n<pre><code>n = 20 mod(3) = 2  and k = 6   20 - 2 = 6*3\nn = 20 mod(3) = -1 and k = 7   20 -(-1) = 3*7\n</code></pre>\n<p>The complete set of residues for any mod function is infinite and for the above is\n<code>n = x - mk</code> for any integral value of <code>k</code></p>\n<p>So for the above the complete residue set would be <code>n = 20 - 3k</code>.  Any value returned would be a legitimate result.  The remainder function is simply a subset of size <code>one</code> of the aforementioned set of residues.</p>\n<p>Having said that, this may help. This mod function simply corrects to the smallest positive value, assuming a positive modulus.</p>\n<pre><code>Mod mod11 = Mod.forModulus(11);\nint k = mod11.of(-3);\nSystem.out.println(k);\n\nMod mod121 = Mod.forModulus(121);\nk = mod121.of(-12);\nSystem.out.println(k);\n</code></pre>\n<p>prints</p>\n<pre><code>8\n109\n</code></pre>\n<p>Here is a way to create mod function that just takes the target argument.</p>\n<pre><code> interface Mod {\n     int of(int value);\n     static Mod forModulus(int mod) {\n         return v-&gt; {\n             int u = v % mod;\n             return u &lt; 0 ? u + mod : u;\n         };\n     }\n }\n</code></pre>\n<p>The above may need some tweaking either because I misunderstood your issue or because the mod function needs to be more complex to satisfy your congruency relationships.</p>\n"}],"owner":{"account_id":23453887,"reputation":43,"user_id":17509682,"display_name":"Mohammad Khaddam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1667036049,"creation_date":1666973377,"question_id":74238080,"body_markdown":"good day,\r\nwhat is the best way to implement the below function in java:\r\nmod11(x) which calculates x mod 11, we assume x is either an integer or a formula. For example, mod11(14) returns 3, and mod11(3*7-30) returns 2.\r\nI tried the below but it didn&#39;t work:\r\n`\r\n```\r\npublic static int PositiveMod(int value, int mod)\r\n    {\r\n        return ((value % mod + mod) % mod);\r\n    }\r\n```\r\n`\r\n\r\n`\r\n```\r\npublic static double PositiveMod(double value, double mod)\r\n    {\r\n        return ((value % mod + mod) % mod);\r\n    }\r\n```\r\n`\r\nfor example, i expect ((-7+1)/20) mod 11 to give out 3 but instead it gave me 10.7\r\nlike below\r\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3\r\n","title":"implementing mod 11 function in Java","body":"<p>good day,\nwhat is the best way to implement the below function in java:\nmod11(x) which calculates x mod 11, we assume x is either an integer or a formula. For example, mod11(14) returns 3, and mod11(3*7-30) returns 2.\nI tried the below but it didn't work:\n`</p>\n<pre><code>public static int PositiveMod(int value, int mod)\n    {\n        return ((value % mod + mod) % mod);\n    }\n</code></pre>\n<p>`</p>\n<p>`</p>\n<pre><code>public static double PositiveMod(double value, double mod)\n    {\n        return ((value % mod + mod) % mod);\n    }\n</code></pre>\n<p>`\nfor example, i expect ((-7+1)/20) mod 11 to give out 3 but instead it gave me 10.7\nlike below\ni = ((-7+1)/20) mod 11 = -6/9 mod 11 = 5*5 mod 11 = 3</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667033907,"creation_date":1667033907,"answer_id":74244015,"question_id":74236566,"body_markdown":"You are getting the following error:\r\n\r\n&gt; ATAL EXCEPTION: main Process: com.example.movies4u, PID: 4783 java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)&#39; on a null object reference\r\n\r\nBecause you are calling the `.child()` method on a `DatabaseReference` object that is null. So most likely you forgot to initialize it. To solve this, please add the following line of code:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\r\nAs a global variable inside the class where you&#39;re having the `addNewUser()` method.","title":"Getting null object reference error while inserting data to Realtime Database","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>ATAL EXCEPTION: main Process: com.example.movies4u, PID: 4783 java.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)' on a null object reference</p>\n</blockquote>\n<p>Because you are calling the <code>.child()</code> method on a <code>DatabaseReference</code> object that is null. So most likely you forgot to initialize it. To solve this, please add the following line of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\n</code></pre>\n<p>As a global variable inside the class where you're having the <code>addNewUser()</code> method.</p>\n"}],"owner":{"account_id":26715118,"reputation":21,"user_id":20319818,"display_name":"Nithin reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667035818,"creation_date":1666965979,"question_id":74236566,"body_markdown":"**Problem**\r\n\r\nGetting an error message saying of null object reference:\r\n\r\n**Error**\r\n\r\n&gt; FATAL EXCEPTION: main\r\n                 Process: com.example.movies4u, PID: 4783\r\n                 java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)&#39; on a null object reference\r\n                 \tat com.example.movies4u.activity_register.addNewUser(activity_register.java:242)\r\n                 \tat com.example.movies4u.activity_register.lambda$doRegister$2$com-example-movies4u-activity_register(activity_register.java:141)\r\n                 \tat com.example.movies4u.activity_register$$ExternalSyntheticLambda3.onSuccess(Unknown Source:8)\r\n                 \tat com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n                 \tat android.os.Handler.handleCallback(Handler.java:873)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                 \tat android.os.Looper.loop(Looper.java:224)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:7081)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)\r\n\r\n**RealtimeDatabase**\r\n\r\n![Text](https://i.ibb.co/TRyCR3S/database.png)\r\n\r\n**javaCode**\r\n\r\n    public void addNewUser(String curr_userId,String email, String username){\r\n            User user=new User(email,username);\r\n            userID=curr_userId;\r\n            if(userID!=null)\r\n            {\r\n                Log.d(TAG, &quot;adding user to database, userid-&quot;+userID+&quot;email-&quot;+email+&quot;username&quot;+username);\r\n    \r\n                myRef.child(activity_register.this.getString(R.string.dbname_users))\r\n                        .child(userID)\r\n                        .setValue(user);\r\n    \r\n                UserAccountSettings settings = new UserAccountSettings(username, username);\r\n                myRef.child(activity_register.this.getString(R.string.dbname_user_account_settings))\r\n                        .child(userID)\r\n                        .setValue(settings);\r\n            }\r\n            else {\r\n                Log.d(TAG, &quot;user is null&quot;);\r\n            }\r\n        }","title":"Getting null object reference error while inserting data to Realtime Database","body":"<p><strong>Problem</strong></p>\n<p>Getting an error message saying of null object reference:</p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.example.movies4u, PID: 4783\njava.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)' on a null object reference\nat com.example.movies4u.activity_register.addNewUser(activity_register.java:242)\nat com.example.movies4u.activity_register.lambda$doRegister$2$com-example-movies4u-activity_register(activity_register.java:141)\nat com.example.movies4u.activity_register$$ExternalSyntheticLambda3.onSuccess(Unknown Source:8)\nat com.google.android.gms.tasks.zzm.run(com.google.android.gms:play-services-tasks@@18.0.1:1)\nat android.os.Handler.handleCallback(Handler.java:873)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:224)\nat android.app.ActivityThread.main(ActivityThread.java:7081)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:604)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:928)</p>\n</blockquote>\n<p><strong>RealtimeDatabase</strong></p>\n<p><img src=\"https://i.ibb.co/TRyCR3S/database.png\" alt=\"Text\" /></p>\n<p><strong>javaCode</strong></p>\n<pre><code>public void addNewUser(String curr_userId,String email, String username){\n        User user=new User(email,username);\n        userID=curr_userId;\n        if(userID!=null)\n        {\n            Log.d(TAG, &quot;adding user to database, userid-&quot;+userID+&quot;email-&quot;+email+&quot;username&quot;+username);\n\n            myRef.child(activity_register.this.getString(R.string.dbname_users))\n                    .child(userID)\n                    .setValue(user);\n\n            UserAccountSettings settings = new UserAccountSettings(username, username);\n            myRef.child(activity_register.this.getString(R.string.dbname_user_account_settings))\n                    .child(userID)\n                    .setValue(settings);\n        }\n        else {\n            Log.d(TAG, &quot;user is null&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1667020424,"post_id":74242942,"comment_id":131076909,"body_markdown":"How are you testing on the Safari console?","body":"How are you testing on the Safari console?"},{"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"score":0,"creation_date":1667020590,"post_id":74242942,"comment_id":131076928,"body_markdown":"fetch(&quot;http://localhost:3000/api/v1/userapi/auth/app-status&quot;), I make use of the fetch method. it works fine on postman and swagger.","body":"fetch(&quot;<a href=\"http://localhost:3000/api/v1/userapi/auth/app-status&quot;\" rel=\"nofollow noreferrer\">localhost:3000/api/v1/userapi/auth/app-status&quot;</a>), I make use of the fetch method. it works fine on postman and swagger."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1667020831,"post_id":74242942,"comment_id":131076946,"body_markdown":"Effectively you are trying to fetch some content from your API at localhost from within the google.com home page. While that page has CORS restrictions you will not be able to do that and any browser will block you.","body":"Effectively you are trying to fetch some content from your API at localhost from within the google.com home page. While that page has CORS restrictions you will not be able to do that and any browser will block you."},{"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"score":0,"creation_date":1667023984,"post_id":74242942,"comment_id":131077258,"body_markdown":"Yes, even with the remote server the frontend, using react, is still complaining about having CORS error. He has not been able to consume any API","body":"Yes, even with the remote server the frontend, using react, is still complaining about having CORS error. He has not been able to consume any API"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1667035632,"post_id":74242942,"comment_id":131078859,"body_markdown":"in your first example you have enabled spring cors filter `cors()` and ALSO added a custom corsFilter, why do you need 2 filters for? also where are all your logs? where are your debug logs? where are your browser logs? Please read the spring security CORS chapter before asking on stack overflow","body":"in your first example you have enabled spring cors filter <code>cors()</code> and ALSO added a custom corsFilter, why do you need 2 filters for? also where are all your logs? where are your debug logs? where are your browser logs? Please read the spring security CORS chapter before asking on stack overflow"}],"owner":{"account_id":21449142,"reputation":1,"user_id":15801972,"display_name":"Sophia Okito"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667035551,"creation_date":1667019875,"question_id":74242942,"body_markdown":"My server application built with springboot keeps giving CORS error, I have tried all I can and even downgraded the to java 11 from java 17 but still not working.\r\n\r\nI keep getting this when i try to test with safari console.\r\n\r\n[blocked] The page at https://www.google.com/?client=safari&amp;channel=mac_bm was not allowed to display insecure content from http://localhost:3000/api/v1/userapi/auth/app-status.\r\n\r\nand this\r\n\r\nNot allowed to request resource\r\n\r\nand this \r\n\r\nFetch API cannot load http://localhost:3000/api/v1/userapi/auth/app-status due to access control checks.\r\n\r\nhere is a sample of my web security configuration\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final TokenProvider tokenProvider;\r\n\r\n    private final CustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n    private final UserModelDetailsService userModelDetailsService;\r\n    private final MyCORSFilter corsFilter;\r\n    private final JwtAuthenticationEntryPoint authenticationErrorHandler;\r\n    private final JwtAccessDeniedHandler jwtAccessDeniedHandler;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth.authenticationProvider(new DBAuthenticationProvider(userModelDetailsService));\r\n        auth.authenticationProvider(customAuthenticationProvider);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\r\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable().cors().configurationSource(corsConfigurationSource()).and()\r\n\r\n                .addFilterBefore(corsFilter, ChannelProcessingFilter.class)\r\n\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(authenticationErrorHandler)\r\n                .accessDeniedHandler(jwtAccessDeniedHandler)\r\n                .and()\r\n                .headers()\r\n                .frameOptions()\r\n                .sameOrigin()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/auth/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                .antMatchers(&quot;/documentation/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;).permitAll()\r\n\r\n                .anyRequest().authenticated()\r\n\r\n                .and()\r\n                .apply(securityConfigurerAdapter());\r\n    }\r\n\r\n    private JWTConfigurer securityConfigurerAdapter() {\r\n        return new JWTConfigurer(tokenProvider);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.addAllowedOrigin(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n```\r\n\r\nand also i tried using custom filter, still did not work.\r\n\r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class MyCORSFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws ServletException, IOException {\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n        System.out.println(&quot;i am here 000&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PATCH, PUT, HEAD&quot;);\r\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n\r\n        if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n```\r\n","title":"Why do I keep Getting CORS Error in Springboot Application After Enabling CORS?","body":"<p>My server application built with springboot keeps giving CORS error, I have tried all I can and even downgraded the to java 11 from java 17 but still not working.</p>\n<p>I keep getting this when i try to test with safari console.</p>\n<p>[blocked] The page at <a href=\"https://www.google.com/?client=safari&amp;channel=mac_bm\" rel=\"nofollow noreferrer\">https://www.google.com/?client=safari&amp;channel=mac_bm</a> was not allowed to display insecure content from http://localhost:3000/api/v1/userapi/auth/app-status.</p>\n<p>and this</p>\n<p>Not allowed to request resource</p>\n<p>and this</p>\n<p>Fetch API cannot load http://localhost:3000/api/v1/userapi/auth/app-status due to access control checks.</p>\n<p>here is a sample of my web security configuration</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n@RequiredArgsConstructor\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final TokenProvider tokenProvider;\n\n    private final CustomAuthenticationProvider customAuthenticationProvider;\n\n    private final UserModelDetailsService userModelDetailsService;\n    private final MyCORSFilter corsFilter;\n    private final JwtAuthenticationEntryPoint authenticationErrorHandler;\n    private final JwtAccessDeniedHandler jwtAccessDeniedHandler;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth.authenticationProvider(new DBAuthenticationProvider(userModelDetailsService));\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;)\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;);\n    }\n\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable().cors().configurationSource(corsConfigurationSource()).and()\n\n                .addFilterBefore(corsFilter, ChannelProcessingFilter.class)\n\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationErrorHandler)\n                .accessDeniedHandler(jwtAccessDeniedHandler)\n                .and()\n                .headers()\n                .frameOptions()\n                .sameOrigin()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/auth/**&quot;).permitAll()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/&quot;, &quot;/*.html&quot;, &quot;/favicon.ico&quot;, &quot;/**/*.html&quot;, &quot;/**/*.css&quot;, &quot;/**/*.js&quot;, &quot;/h2-console/**&quot;).permitAll()\n                .antMatchers(&quot;/documentation/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v3/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;).permitAll()\n\n                .anyRequest().authenticated()\n\n                .and()\n                .apply(securityConfigurerAdapter());\n    }\n\n    private JWTConfigurer securityConfigurerAdapter() {\n        return new JWTConfigurer(tokenProvider);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.addAllowedOrigin(&quot;*&quot;);\n        configuration.addAllowedHeader(&quot;*&quot;);\n        configuration.addAllowedMethod(&quot;*&quot;);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n</code></pre>\n<p>and also i tried using custom filter, still did not work.</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class MyCORSFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws ServletException, IOException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        System.out.println(&quot;i am here 000&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE, PATCH, PUT, HEAD&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n\n        if (&quot;OPTIONS&quot;.equals(request.getMethod())) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(req, res);\n        }\n\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":13655237,"reputation":1007,"user_id":9851955,"display_name":"arminvanbuuren"},"score":2,"creation_date":1536655395,"post_id":936684,"comment_id":91491124,"body_markdown":"`try{ throw new RuntimeEsception();} catch(RuntimeEcxeption e){return e.getstackTrace()[1].getClassName();`}","body":"<code>try{ throw new RuntimeEsception();} catch(RuntimeEcxeption e){return e.getstackTrace()[1].getClassName();</code>}"}],"answers":[{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":14,"up_vote_count":272,"is_accepted":true,"score":258,"last_activity_date":1393674395,"creation_date":1243889042,"answer_id":936696,"question_id":936684,"body_markdown":"In order to support refactoring correctly (rename class), then you should use either:\r\n\r\n     MyClass.class.getName(); // full name with package\r\n\r\nor (thanks to [@James Van Huis][1]):\r\n\r\n     MyClass.class.getSimpleName(); // class name and no more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java/936715#936715","title":"Getting the class name from a static method in Java","body":"<p>In order to support refactoring correctly (rename class), then you should use either:</p>\n\n<pre><code> MyClass.class.getName(); // full name with package\n</code></pre>\n\n<p>or (thanks to <a href=\"https://stackoverflow.com/questions/936684/getting-the-class-name-from-a-static-method-in-java/936715#936715\">@James Van Huis</a>):</p>\n\n<pre><code> MyClass.class.getSimpleName(); // class name and no more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1243889270,"creation_date":1243889270,"answer_id":936715,"question_id":936684,"body_markdown":"If you want the entire package name with it, call:\r\n\r\n    String name = MyClass.class.getCanonicalName();\r\n\r\nIf you only want the last element, call:\r\n\r\n    String name = MyClass.class.getSimpleName();\r\n\r\n","title":"Getting the class name from a static method in Java","body":"<p>If you want the entire package name with it, call:</p>\n\n<pre><code>String name = MyClass.class.getCanonicalName();\n</code></pre>\n\n<p>If you only want the last element, call:</p>\n\n<pre><code>String name = MyClass.class.getSimpleName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":4,"up_vote_count":126,"is_accepted":false,"score":122,"last_activity_date":1654874324,"creation_date":1243889418,"answer_id":936724,"question_id":936684,"body_markdown":"Do what @toolkit says. Do not do anything like this:\r\n\r\n    return new Object() { }.getClass().getEnclosingClass();\r\n\r\n(**Edit:** Or if you are using a Java version that came out well after this answer was originally written, use @Rein&#39;s answer.)","title":"Getting the class name from a static method in Java","body":"<p>Do what @toolkit says. Do not do anything like this:</p>\n<pre><code>return new Object() { }.getClass().getEnclosingClass();\n</code></pre>\n<p>(<strong>Edit:</strong> Or if you are using a Java version that came out well after this answer was originally written, use @Rein's answer.)</p>\n"},{"tags":[],"owner":{"account_id":8569,"reputation":12752,"user_id":15514,"accept_rate":95,"display_name":"Christoffer"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1243890228,"creation_date":1243890228,"answer_id":936776,"question_id":936684,"body_markdown":"Abuse the SecurityManager\r\n\r\n    System.getSecurityManager().getClassContext()[0].getName();\r\n\r\nOr, if not set, use an inner class that extends it (example below shamefully copied from &lt;a href=&quot;http://www.rgagnon.com/javadetails/java-0402.html&quot;&gt;Real&#39;s HowTo&lt;/a&gt;):\r\n\r\n    public static class CurrentClassGetter extends SecurityManager {\r\n        public String getClassName() {\r\n            return getClassContext()[1].getName(); \r\n        }\r\n    }\r\n","title":"Getting the class name from a static method in Java","body":"<p>Abuse the SecurityManager</p>\n\n<pre><code>System.getSecurityManager().getClassContext()[0].getName();\n</code></pre>\n\n<p>Or, if not set, use an inner class that extends it (example below shamefully copied from <a href=\"http://www.rgagnon.com/javadetails/java-0402.html\" rel=\"noreferrer\">Real's HowTo</a>):</p>\n\n<pre><code>public static class CurrentClassGetter extends SecurityManager {\n    public String getClassName() {\n        return getClassContext()[1].getName(); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":563306,"reputation":227,"user_id":191141,"display_name":"count ludwig"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1310715306,"creation_date":1255689687,"answer_id":1577359,"question_id":936684,"body_markdown":"I use this to init the Log4j Logger at the top of my classes (or annotate).\r\n\r\nPRO: Throwable is already loaded and you might save resources by not using the &quot;IO heavy&quot; SecurityManager.\r\n\r\nCON: Some question as to whether this will work for all JVMs. \r\n\r\n    // Log4j . Logger --- Get class name in static context by creating an anonymous Throwable and \r\n    // getting the top of its stack-trace. \r\n    // NOTE you must use: getClassName() because getClass() just returns StackTraceElement.class \r\n    static final Logger logger = Logger.getLogger(new Throwable() .getStackTrace()[0].getClassName()); ","title":"Getting the class name from a static method in Java","body":"<p>I use this to init the Log4j Logger at the top of my classes (or annotate).</p>\n\n<p>PRO: Throwable is already loaded and you might save resources by not using the \"IO heavy\" SecurityManager.</p>\n\n<p>CON: Some question as to whether this will work for all JVMs. </p>\n\n<pre><code>// Log4j . Logger --- Get class name in static context by creating an anonymous Throwable and \n// getting the top of its stack-trace. \n// NOTE you must use: getClassName() because getClass() just returns StackTraceElement.class \nstatic final Logger logger = Logger.getLogger(new Throwable() .getStackTrace()[0].getClassName()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":619306,"reputation":447,"user_id":358108,"display_name":"Keksi"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1310720357,"creation_date":1275624542,"answer_id":2971457,"question_id":936684,"body_markdown":"This instruction works fine:\r\n\r\n    Thread.currentThread().getStackTrace()[1].getClassName();\r\n","title":"Getting the class name from a static method in Java","body":"<p>This instruction works fine:</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[1].getClassName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":791966,"reputation":678,"user_id":1152982,"display_name":"lifelongcoug"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1312579249,"creation_date":1312579249,"answer_id":6962779,"question_id":936684,"body_markdown":"You could do something really sweet by using JNI like this:\r\n\r\nMyObject.java:\r\n\r\n    public class MyObject\r\n    {\r\n        static\r\n        {\r\n            System.loadLibrary( &quot;classname&quot; );\r\n        }\r\n\r\n        public static native String getClassName();\r\n\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( getClassName() );\r\n        }\r\n    }\r\n\r\nthen:\r\n\r\n    javac MyObject.java\r\n    javah -jni MyObject\r\n\r\nthen:\r\n\r\nMyObject.c:\r\n\r\n    #include &quot;MyObject.h&quot;\r\n\r\n    JNIEXPORT jstring JNICALL Java_MyObject_getClassName( JNIEnv *env, jclass cls )\r\n    {\r\n        jclass javaLangClass = (*env)-&gt;FindClass( env, &quot;java/lang/Class&quot; );\r\n        jmethodID getName = (*env)-&gt;GetMethodID( env, javaLangClass, &quot;getName&quot;,\r\n            &quot;()Ljava/lang/String;&quot; );\r\n        return (*env)-&gt;CallObjectMethod( env, cls, getName );\r\n    }\r\n\r\nThen compile the C up into a shared library called `libclassname.so` and run the java!\r\n\r\n*chuckle","title":"Getting the class name from a static method in Java","body":"<p>You could do something really sweet by using JNI like this:</p>\n\n<p>MyObject.java:</p>\n\n<pre><code>public class MyObject\n{\n    static\n    {\n        System.loadLibrary( \"classname\" );\n    }\n\n    public static native String getClassName();\n\n    public static void main( String[] args )\n    {\n        System.out.println( getClassName() );\n    }\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>javac MyObject.java\njavah -jni MyObject\n</code></pre>\n\n<p>then:</p>\n\n<p>MyObject.c:</p>\n\n<pre><code>#include \"MyObject.h\"\n\nJNIEXPORT jstring JNICALL Java_MyObject_getClassName( JNIEnv *env, jclass cls )\n{\n    jclass javaLangClass = (*env)-&gt;FindClass( env, \"java/lang/Class\" );\n    jmethodID getName = (*env)-&gt;GetMethodID( env, javaLangClass, \"getName\",\n        \"()Ljava/lang/String;\" );\n    return (*env)-&gt;CallObjectMethod( env, cls, getName );\n}\n</code></pre>\n\n<p>Then compile the C up into a shared library called <code>libclassname.so</code> and run the java!</p>\n\n<p>*chuckle</p>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372650192,"creation_date":1372650192,"answer_id":17397143,"question_id":936684,"body_markdown":"Verbatim use of caller&#39;s class like `MyClass.class.getName()` actually does the job, but is prone to copy/paste errors if you propagate this code to numerous classes/subclasses where you need this class name.\r\n\r\nAnd [Tom Hawtin&#39;s recipe](https://stackoverflow.com/a/936724/972463) is in fact not bad, one just needs to cook it the right way :)\r\n\r\nIn case you have a base class with a static method that may be called from subclasses, and this static method needs to know the actual caller&#39;s class, this may be achieved like the following:\r\n\r\n    class BaseClass {\r\n      static sharedStaticMethod (String callerClassName, Object... otherArgs) {\r\n        useCallerClassNameAsYouWish (callerClassName);\r\n        // and direct use of &#39;new Object() { }.getClass().getEnclosingClass().getName()&#39;\r\n        // instead of &#39;callerClassName&#39; is not going to help here,\r\n        // as it returns &quot;BaseClass&quot;\r\n      }\r\n    }\r\n\r\n    class SubClass1 extends BaseClass {\r\n      static someSubclassStaticMethod () {\r\n        // this call of the shared method is prone to copy/paste errors\r\n        sharedStaticMethod (SubClass1.class.getName(),\r\n                            other_arguments);\r\n        // and this call is safe to copy/paste\r\n        sharedStaticMethod (new Object() { }.getClass().getEnclosingClass().getName(),\r\n                            other_arguments);\r\n      }\r\n    }\r\n","title":"Getting the class name from a static method in Java","body":"<p>Verbatim use of caller's class like <code>MyClass.class.getName()</code> actually does the job, but is prone to copy/paste errors if you propagate this code to numerous classes/subclasses where you need this class name.</p>\n\n<p>And <a href=\"https://stackoverflow.com/a/936724/972463\">Tom Hawtin's recipe</a> is in fact not bad, one just needs to cook it the right way :)</p>\n\n<p>In case you have a base class with a static method that may be called from subclasses, and this static method needs to know the actual caller's class, this may be achieved like the following:</p>\n\n<pre><code>class BaseClass {\n  static sharedStaticMethod (String callerClassName, Object... otherArgs) {\n    useCallerClassNameAsYouWish (callerClassName);\n    // and direct use of 'new Object() { }.getClass().getEnclosingClass().getName()'\n    // instead of 'callerClassName' is not going to help here,\n    // as it returns \"BaseClass\"\n  }\n}\n\nclass SubClass1 extends BaseClass {\n  static someSubclassStaticMethod () {\n    // this call of the shared method is prone to copy/paste errors\n    sharedStaticMethod (SubClass1.class.getName(),\n                        other_arguments);\n    // and this call is safe to copy/paste\n    sharedStaticMethod (new Object() { }.getClass().getEnclosingClass().getName(),\n                        other_arguments);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1320533,"reputation":427,"user_id":1266464,"accept_rate":71,"display_name":"avalori"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392215112,"creation_date":1392215112,"answer_id":21730670,"question_id":936684,"body_markdown":"A refactoring-safe, cut&amp;paste-safe solution that avoids the definition of ad-hoc classes below.\r\n\r\nWrite a static method that recover the class name having care to include the class name in the method name:\r\n\r\n    private static String getMyClassName(){\r\n\t  return MyClass.class.getName();\r\n    }\r\n\r\nthen recall it in your static method:\r\n\r\n    public static void myMethod(){\r\n      Tracer.debug(getMyClassName(), &quot;message&quot;);\r\n    }\r\n\r\n\r\nRefactoring safety is given by avoiding the use of strings, cut&amp;paste safety is granted because if you cut&amp;paste the caller method you won&#39;t find the getMyClassName() in the target &quot;MyClass2&quot; class, so you will be forced to redefine and update it.","title":"Getting the class name from a static method in Java","body":"<p>A refactoring-safe, cut&amp;paste-safe solution that avoids the definition of ad-hoc classes below.</p>\n\n<p>Write a static method that recover the class name having care to include the class name in the method name:</p>\n\n<pre><code>private static String getMyClassName(){\n  return MyClass.class.getName();\n}\n</code></pre>\n\n<p>then recall it in your static method:</p>\n\n<pre><code>public static void myMethod(){\n  Tracer.debug(getMyClassName(), \"message\");\n}\n</code></pre>\n\n<p>Refactoring safety is given by avoiding the use of strings, cut&amp;paste safety is granted because if you cut&amp;paste the caller method you won't find the getMyClassName() in the target \"MyClass2\" class, so you will be forced to redefine and update it.</p>\n"},{"tags":[],"owner":{"account_id":6003397,"reputation":11,"user_id":4715997,"display_name":"phaderer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427365307,"creation_date":1427365307,"answer_id":29276022,"question_id":936684,"body_markdown":"I needed the class name in the static methods of multiple classes so I implemented a JavaUtil Class with the following method :\r\n\r\n\r\n    public static String getClassName() {\r\n        String className = Thread.currentThread().getStackTrace()[2].getClassName();\r\n        int lastIndex = className.lastIndexOf(&#39;.&#39;);\r\n        return className.substring(lastIndex + 1);\r\n    }\r\n\r\nHope it will help !","title":"Getting the class name from a static method in Java","body":"<p>I needed the class name in the static methods of multiple classes so I implemented a JavaUtil Class with the following method :</p>\n\n<pre><code>public static String getClassName() {\n    String className = Thread.currentThread().getStackTrace()[2].getClassName();\n    int lastIndex = className.lastIndexOf('.');\n    return className.substring(lastIndex + 1);\n}\n</code></pre>\n\n<p>Hope it will help !</p>\n"},{"tags":[],"owner":{"account_id":45368,"reputation":2517,"user_id":133702,"display_name":"Rein"},"down_vote_count":2,"up_vote_count":139,"is_accepted":false,"score":137,"last_activity_date":1428345231,"creation_date":1428344488,"answer_id":29477085,"question_id":936684,"body_markdown":"In Java 7+ you can do this in static method/fields:\r\n\r\n    MethodHandles.lookup().lookupClass()","title":"Getting the class name from a static method in Java","body":"<p>In Java 7+ you can do this in static method/fields:</p>\n\n<pre><code>MethodHandles.lookup().lookupClass()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434552615,"creation_date":1429528498,"answer_id":29746323,"question_id":936684,"body_markdown":"Since the question https://stackoverflow.com/questions/29492993/something-like-this-class-instead-of-classname-class is marked as a duplicate for this one (which is arguable because that question is about the class rather than class name), I&#39;m posting the answer here:\r\n\r\n    class MyService {\r\n        private static Class thisClass = MyService.class;\r\n        // or:\r\n        //private static Class thisClass = new Object() { }.getClass().getEnclosingClass();\r\n        ...\r\n        static void startService(Context context) {\r\n            Intent i = new Intent(context, thisClass);\r\n            context.startService(i);\r\n        }\r\n    }\r\n\r\nIt is important to define `thisClass` as **private** because:&lt;br/&gt;\r\n1) it must not be inherited: derived classes must either define their own `thisClass` or produce an error message&lt;br/&gt;\r\n2) references from other classes should be done as `ClassName.class` rather than `ClassName.thisClass`.\r\n\r\nWith `thisClass` defined, access to the class name becomes:\r\n\r\n    thisClass.getName()","title":"Getting the class name from a static method in Java","body":"<p>Since the question <a href=\"https://stackoverflow.com/questions/29492993/something-like-this-class-instead-of-classname-class\">Something like `this.class` instead of `ClassName.class`?</a> is marked as a duplicate for this one (which is arguable because that question is about the class rather than class name), I'm posting the answer here:</p>\n\n<pre><code>class MyService {\n    private static Class thisClass = MyService.class;\n    // or:\n    //private static Class thisClass = new Object() { }.getClass().getEnclosingClass();\n    ...\n    static void startService(Context context) {\n        Intent i = new Intent(context, thisClass);\n        context.startService(i);\n    }\n}\n</code></pre>\n\n<p>It is important to define <code>thisClass</code> as <strong>private</strong> because:<br/>\n1) it must not be inherited: derived classes must either define their own <code>thisClass</code> or produce an error message<br/>\n2) references from other classes should be done as <code>ClassName.class</code> rather than <code>ClassName.thisClass</code>.</p>\n\n<p>With <code>thisClass</code> defined, access to the class name becomes:</p>\n\n<pre><code>thisClass.getName()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1378183,"reputation":1194,"user_id":1311732,"display_name":"Franz&#233; Jr."},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1434039090,"creation_date":1434039090,"answer_id":30786054,"question_id":936684,"body_markdown":"If you are using reflection, you can get the Method object and then:\r\n\r\n    method.getDeclaringClass().getName()\r\nTo get the Method itself, you can probably use:\r\n\r\n    Class&lt;?&gt; c = Class.forName(&quot;class name&quot;);\r\n    Method  method = c.getDeclaredMethod (&quot;method name&quot;, parameterTypes)","title":"Getting the class name from a static method in Java","body":"<p>If you are using reflection, you can get the Method object and then:</p>\n\n<pre><code>method.getDeclaringClass().getName()\n</code></pre>\n\n<p>To get the Method itself, you can probably use:</p>\n\n<pre><code>Class&lt;?&gt; c = Class.forName(\"class name\");\nMethod  method = c.getDeclaredMethod (\"method name\", parameterTypes)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2033286,"reputation":3281,"user_id":1816338,"display_name":"Artyom Krivolapov"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1667035419,"creation_date":1509809374,"answer_id":47112323,"question_id":936684,"body_markdown":"So, we have a situation when we need to statically get class object or a class full/simple name without an explicit usage of `MyClass.class` syntax.\r\n\r\nIt can be really handy in some cases, e.g. logger instance for the [tag:kotlin] upper-level functions (in this case kotlin creates a static Java class not accessible from the kotlin code).\r\n\r\nWe have a few different variants for getting this info:\r\n\r\n 1. &lt;!-- language: java --&gt;\r\n    ```new Object(){}.getClass().getEnclosingClass();```&lt;br&gt;\r\n    noted by [Tom Hawtin - tackline](https://stackoverflow.com/a/936724/1816338)\r\n\r\n 2. &lt;!-- language: java --&gt;\r\n    ```getClassContext()[0].getName();``` from the `SecurityManager`&lt;br&gt;\r\n    noted by [Christoffer](https://stackoverflow.com/a/936776/1816338)\r\n\r\n 3. &lt;!-- language: java --&gt;\r\n    ```new Throwable().getStackTrace()[0].getClassName();```&lt;br&gt;\r\n    by [count ludwig](https://stackoverflow.com/a/1577359/1816338)\r\n\r\n 4. &lt;!-- language: java --&gt;\r\n    ```Thread.currentThread().getStackTrace()[1].getClassName();```&lt;br&gt;\r\n    from [Keksi](https://stackoverflow.com/a/2971457/1816338)\r\n\r\n 5. and finally awesome&lt;br&gt;\r\n    &lt;!-- language: java --&gt;\r\n    ```MethodHandles.lookup().lookupClass();```&lt;br&gt;\r\n    from [Rein](https://stackoverflow.com/a/29477085/1816338)\r\n\r\n&lt;br&gt;\r\nI&#39;ve prepared a [tag:JMH] benchmark for all variants and results are:\r\n\r\n    # Run complete. Total time: 00:04:18\r\n    \r\n    Benchmark                                                      Mode  Cnt      Score     Error  Units\r\n    StaticClassLookup.MethodHandles_lookup_lookupClass             avgt   30      3.630 &#177;   0.024  ns/op\r\n    StaticClassLookup.AnonymousObject_getClass_enclosingClass      avgt   30    282.486 &#177;   1.980  ns/op\r\n    StaticClassLookup.SecurityManager_classContext_1               avgt   30    680.385 &#177;  21.665  ns/op\r\n    StaticClassLookup.Thread_currentThread_stackTrace_1_className  avgt   30  11179.460 &#177; 286.293  ns/op\r\n    StaticClassLookup.Throwable_stackTrace_0_className             avgt   30  10221.209 &#177; 176.847  ns/op\r\n&lt;br&gt;\r\n\r\n### Conclusions\r\n\r\n 1. **Best variant to use**, rather clean and monstrously fast.&lt;br&gt;\r\n    **Available only since Java 7 and Android API 26!**\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     MethodHandles.lookup().lookupClass();\r\n\r\n 2. In case you need this functionality for Android or Java 6, you can use the second best variant. It&#39;s rather fast too, **but creates an anonymous class in each place of usage** :(\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     new Object(){}.getClass().getEnclosingClass();\r\n\r\n 3. If you need it in many places and don&#39;t want your bytecode to bloat due to tons of anonymous classes – `SecurityManager` is your friend (third best option).\r\n\r\n But you can&#39;t just call `getClassContext()` – it&#39;s protected in the `SecurityManager` class. You will need some helper class like this:\r\n \r\n &lt;!-- language: java --&gt;\r\n     \r\n     // Helper class\r\n     public final class CallerClassGetter extends SecurityManager\r\n     {\r\n     \tprivate static final CallerClassGetter INSTANCE = new CallerClassGetter();\r\n     \tprivate CallerClassGetter() {}\r\n     \r\n     \tpublic static Class&lt;?&gt; getCallerClass() {\r\n     \t\treturn INSTANCE.getClassContext()[1];\r\n     \t}\r\n     }\r\n     \r\n     // Usage example:\r\n     class FooBar\r\n     {\r\n     \tstatic final Logger LOGGER = LoggerFactory.getLogger(CallerClassGetter.getCallerClass())\r\n     }\r\n\r\n 4. You probably don&#39;t ever need to use last two variants based on the `getStackTrace()` from exception or the `Thread.currentThread()`. **Very** inefficient and can return only the class name as a `String`, not the `Class&lt;*&gt;` instance.\r\n\r\n&lt;br&gt;\r\n\r\n### P.S.\r\n\r\nIf you want to create a logger instance for static kotlin utils (like me :), you can use this helper:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    import org.slf4j.Logger\r\n    import org.slf4j.LoggerFactory\r\n    \r\n    // Should be inlined to get an actual class instead of the one where this helper declared\r\n    // Will work only since Java 7 and Android API 26!\r\n    @Suppress(&quot;NOTHING_TO_INLINE&quot;)\r\n    inline fun loggerFactoryStatic(): Logger\r\n        = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())\r\n\r\n\r\nUsage example:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    private val LOGGER = loggerFactoryStatic()\r\n    \r\n    /**\r\n     * Returns a pseudo-random, uniformly distributed value between the\r\n     * given least value (inclusive) and bound (exclusive).\r\n     *\r\n     * @param min the least value returned\r\n     * @param max the upper bound (exclusive)\r\n     *\r\n     * @return the next value\r\n     * @see java.util.concurrent.ThreadLocalRandom.nextDouble(double, double)\r\n     */\r\n    fun Random.nextDouble(min: Double = .0, max: Double = 1.0): Double {\r\n    \tif (min &gt;= max) {\r\n    \t\tif (min == max) return max\r\n    \t\tLOGGER.warn(&quot;nextDouble: min $min &gt; max $max&quot;)\r\n    \t\treturn min\r\n    \t}\r\n    \treturn nextDouble() * (max - min) + min\r\n    }","title":"Getting the class name from a static method in Java","body":"<p>So, we have a situation when we need to statically get class object or a class full/simple name without an explicit usage of <code>MyClass.class</code> syntax.</p>\n<p>It can be really handy in some cases, e.g. logger instance for the <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" aria-label=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\" aria-labelledby=\"kotlin-container\">kotlin</a> upper-level functions (in this case kotlin creates a static Java class not accessible from the kotlin code).</p>\n<p>We have a few different variants for getting this info:</p>\n<ol>\n<li><p><code>new Object(){}.getClass().getEnclosingClass();</code><br>\nnoted by <a href=\"https://stackoverflow.com/a/936724/1816338\">Tom Hawtin - tackline</a></p>\n</li>\n<li><p><code>getClassContext()[0].getName();</code> from the <code>SecurityManager</code><br>\nnoted by <a href=\"https://stackoverflow.com/a/936776/1816338\">Christoffer</a></p>\n</li>\n<li><p><code>new Throwable().getStackTrace()[0].getClassName();</code><br>\nby <a href=\"https://stackoverflow.com/a/1577359/1816338\">count ludwig</a></p>\n</li>\n<li><p><code>Thread.currentThread().getStackTrace()[1].getClassName();</code><br>\nfrom <a href=\"https://stackoverflow.com/a/2971457/1816338\">Keksi</a></p>\n</li>\n<li><p>and finally awesome<br></p>\n<p><code>MethodHandles.lookup().lookupClass();</code><br>\nfrom <a href=\"https://stackoverflow.com/a/29477085/1816338\">Rein</a></p>\n</li>\n</ol>\n<br>\nI've prepared a <a href=\"/questions/tagged/jmh\" class=\"post-tag\" title=\"show questions tagged &#39;jmh&#39;\" aria-label=\"show questions tagged &#39;jmh&#39;\" rel=\"tag\" aria-labelledby=\"jmh-container\">jmh</a> benchmark for all variants and results are:\n<pre><code># Run complete. Total time: 00:04:18\n\nBenchmark                                                      Mode  Cnt      Score     Error  Units\nStaticClassLookup.MethodHandles_lookup_lookupClass             avgt   30      3.630 ±   0.024  ns/op\nStaticClassLookup.AnonymousObject_getClass_enclosingClass      avgt   30    282.486 ±   1.980  ns/op\nStaticClassLookup.SecurityManager_classContext_1               avgt   30    680.385 ±  21.665  ns/op\nStaticClassLookup.Thread_currentThread_stackTrace_1_className  avgt   30  11179.460 ± 286.293  ns/op\nStaticClassLookup.Throwable_stackTrace_0_className             avgt   30  10221.209 ± 176.847  ns/op\n</code></pre>\n<br>\n<h3>Conclusions</h3>\n<ol>\n<li><strong>Best variant to use</strong>, rather clean and monstrously fast.<br>\n<strong>Available only since Java 7 and Android API 26!</strong></li>\n</ol>\n <pre class=\"lang-java prettyprint-override\"><code> MethodHandles.lookup().lookupClass();\n</code></pre>\n<ol start=\"2\">\n<li>In case you need this functionality for Android or Java 6, you can use the second best variant. It's rather fast too, <strong>but creates an anonymous class in each place of usage</strong> :(</li>\n</ol>\n <pre class=\"lang-java prettyprint-override\"><code> new Object(){}.getClass().getEnclosingClass();\n</code></pre>\n<ol start=\"3\">\n<li>If you need it in many places and don't want your bytecode to bloat due to tons of anonymous classes – <code>SecurityManager</code> is your friend (third best option).</li>\n</ol>\n<p>But you can't just call <code>getClassContext()</code> – it's protected in the <code>SecurityManager</code> class. You will need some helper class like this:</p>\n <pre class=\"lang-java prettyprint-override\"><code> // Helper class\n public final class CallerClassGetter extends SecurityManager\n {\n    private static final CallerClassGetter INSTANCE = new CallerClassGetter();\n    private CallerClassGetter() {}\n \n    public static Class&lt;?&gt; getCallerClass() {\n        return INSTANCE.getClassContext()[1];\n    }\n }\n \n // Usage example:\n class FooBar\n {\n    static final Logger LOGGER = LoggerFactory.getLogger(CallerClassGetter.getCallerClass())\n }\n</code></pre>\n<ol start=\"4\">\n<li>You probably don't ever need to use last two variants based on the <code>getStackTrace()</code> from exception or the <code>Thread.currentThread()</code>. <strong>Very</strong> inefficient and can return only the class name as a <code>String</code>, not the <code>Class&lt;*&gt;</code> instance.</li>\n</ol>\n<br>\n<h3>P.S.</h3>\n<p>If you want to create a logger instance for static kotlin utils (like me :), you can use this helper:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.slf4j.Logger\nimport org.slf4j.LoggerFactory\n\n// Should be inlined to get an actual class instead of the one where this helper declared\n// Will work only since Java 7 and Android API 26!\n@Suppress(&quot;NOTHING_TO_INLINE&quot;)\ninline fun loggerFactoryStatic(): Logger\n    = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass())\n</code></pre>\n<p>Usage example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val LOGGER = loggerFactoryStatic()\n\n/**\n * Returns a pseudo-random, uniformly distributed value between the\n * given least value (inclusive) and bound (exclusive).\n *\n * @param min the least value returned\n * @param max the upper bound (exclusive)\n *\n * @return the next value\n * @see java.util.concurrent.ThreadLocalRandom.nextDouble(double, double)\n */\nfun Random.nextDouble(min: Double = .0, max: Double = 1.0): Double {\n    if (min &gt;= max) {\n        if (min == max) return max\n        LOGGER.warn(&quot;nextDouble: min $min &gt; max $max&quot;)\n        return min\n    }\n    return nextDouble() * (max - min) + min\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4703500,"reputation":18590,"user_id":3806413,"accept_rate":0,"display_name":"0xAliHn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513950923,"creation_date":1513950923,"answer_id":47942701,"question_id":936684,"body_markdown":"I have used these two approach for both `static` and `non static` scenario:\r\n\r\n**Main class:**\r\n\r\n    //For non static approach\r\n    public AndroidLogger(Object classObject) {\r\n        mClassName = classObject.getClass().getSimpleName();\r\n    }\r\n\r\n    //For static approach\r\n    public AndroidLogger(String className) {\r\n        mClassName = className;\r\n    }\r\n\r\n\r\nHow to provide class name:\r\n\r\n**non static way:**\r\n\r\n    private AndroidLogger mLogger = new AndroidLogger(this);\r\n\r\n**Static way:**\r\n\r\n    private static AndroidLogger mLogger = new AndroidLogger(Myclass.class.getSimpleName());\r\n\r\n","title":"Getting the class name from a static method in Java","body":"<p>I have used these two approach for both <code>static</code> and <code>non static</code> scenario:</p>\n\n<p><strong>Main class:</strong></p>\n\n<pre><code>//For non static approach\npublic AndroidLogger(Object classObject) {\n    mClassName = classObject.getClass().getSimpleName();\n}\n\n//For static approach\npublic AndroidLogger(String className) {\n    mClassName = className;\n}\n</code></pre>\n\n<p>How to provide class name:</p>\n\n<p><strong>non static way:</strong></p>\n\n<pre><code>private AndroidLogger mLogger = new AndroidLogger(this);\n</code></pre>\n\n<p><strong>Static way:</strong></p>\n\n<pre><code>private static AndroidLogger mLogger = new AndroidLogger(Myclass.class.getSimpleName());\n</code></pre>\n"}],"owner":{"account_id":2772,"reputation":7970,"user_id":3898,"accept_rate":86,"display_name":"Miles D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219464,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":936696,"answer_count":15,"score":292,"last_activity_date":1667035419,"creation_date":1243888936,"question_id":936684,"body_markdown":"How can one get the name of the class from a static method in that class. For example\r\n\r\n    public class MyClass {\r\n        public static String getClassName() {\r\n            String name = ????; // what goes here so the string &quot;MyClass&quot; is returned\r\n            return name;\r\n        }\r\n    }\r\n\r\nTo put it in context, I actually want to return the class name as part of a message in an exception.","title":"Getting the class name from a static method in Java","body":"<p>How can one get the name of the class from a static method in that class. For example</p>\n\n<pre><code>public class MyClass {\n    public static String getClassName() {\n        String name = ????; // what goes here so the string \"MyClass\" is returned\n        return name;\n    }\n}\n</code></pre>\n\n<p>To put it in context, I actually want to return the class name as part of a message in an exception.</p>\n"},{"tags":["java","memory-leaks"],"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1346653532,"post_id":12242904,"comment_id":16409861,"body_markdown":"Anything the EDT holds onto, anything managed by a framework etc, instances held by the starting point of your app.","body":"Anything the EDT holds onto, anything managed by a framework etc, instances held by the starting point of your app."},{"owner":{"account_id":460181,"reputation":1363,"user_id":861114,"display_name":"cat916"},"score":0,"creation_date":1346653626,"post_id":12242904,"comment_id":16409889,"body_markdown":"Because java classes inherited from the only one class Object so this class was persist through java app","body":"Because java classes inherited from the only one class Object so this class was persist through java app"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1346653774,"post_id":12242904,"comment_id":16409922,"body_markdown":"@Geek EDT is the event dispatch thread, the background stuff that handles Swing/AWT. http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","body":"@Geek EDT is the event dispatch thread, the background stuff that handles Swing/AWT. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/&hellip;</a>"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1346653867,"post_id":12242904,"comment_id":16409945,"body_markdown":"Isn&#39;t it application dependent? How can you generalize this? You application may have class X and my application have class Y, so I feel answer for this question would be application dependent.","body":"Isn&#39;t it application dependent? How can you generalize this? You application may have class X and my application have class Y, so I feel answer for this question would be application dependent."}],"answers":[{"tags":[],"owner":{"account_id":496815,"reputation":27747,"user_id":1163019,"accept_rate":57,"display_name":"auselen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667034215,"creation_date":1346653680,"answer_id":12242950,"question_id":12242904,"body_markdown":"What you are asking is also called Garbage Collection Roots. From [Yourkit&#39;s documentation of GC roots](https://www.yourkit.com/docs/java/help/gc_roots.jsp):\r\n\r\n&gt;    There are several kinds of GC roots. One object can belong to more than one kind of root. The root kinds are:\r\n    \r\n&gt;    Class - class loaded by system class loader. Such classes can never be unloaded. They    can hold objects via static fields. Please note that classes loaded by custom class loaders are not roots, unless corresponding instances of java.lang.Class happen to be roots of other kind(s).  \r\n\r\n&gt;    Thread - live thread \r\n\r\n&gt;   Stack Local - local variable or parameter of Java method\r\n\r\n&gt;    JNI Local - local variable or parameter of JNI method\r\n\r\n&gt;    JNI Global - global JNI reference\r\n\r\n&gt;    Monitor Used - objects used as a monitor for synchronization\r\n\r\n&gt;    Held by JVM - objects held from garbage collection by JVM for its purposes. Actually the list of such objects depends on JVM implementation. Possible known cases are: the system class loader, a few important exception classes which the JVM knows about, a few pre-allocated objects for exception handling, and custom class loaders when they are in the process of loading classes. Unfortunately, JVM provides absolutely no additional detail for such objects. Thus it is up to the analyst to decide to which case a certain &quot;Held by JVM&quot; belongs.\r\n\r\nYou can also read it from [The Truth About Garbage Collection](http://java.sun.com/docs/books/performance/1st_edition/html/JPAppGC.fm.html) (dated).","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>What you are asking is also called Garbage Collection Roots. From <a href=\"https://www.yourkit.com/docs/java/help/gc_roots.jsp\" rel=\"nofollow noreferrer\">Yourkit's documentation of GC roots</a>:</p>\n<blockquote>\n<p>There are several kinds of GC roots. One object can belong to more than one kind of root. The root kinds are:</p>\n</blockquote>\n<blockquote>\n<p>Class - class loaded by system class loader. Such classes can never be unloaded. They    can hold objects via static fields. Please note that classes loaded by custom class loaders are not roots, unless corresponding instances of java.lang.Class happen to be roots of other kind(s).</p>\n</blockquote>\n<blockquote>\n<p>Thread - live thread</p>\n</blockquote>\n<blockquote>\n<p>Stack Local - local variable or parameter of Java method</p>\n</blockquote>\n<blockquote>\n<p>JNI Local - local variable or parameter of JNI method</p>\n</blockquote>\n<blockquote>\n<p>JNI Global - global JNI reference</p>\n</blockquote>\n<blockquote>\n<p>Monitor Used - objects used as a monitor for synchronization</p>\n</blockquote>\n<blockquote>\n<p>Held by JVM - objects held from garbage collection by JVM for its purposes. Actually the list of such objects depends on JVM implementation. Possible known cases are: the system class loader, a few important exception classes which the JVM knows about, a few pre-allocated objects for exception handling, and custom class loaders when they are in the process of loading classes. Unfortunately, JVM provides absolutely no additional detail for such objects. Thus it is up to the analyst to decide to which case a certain &quot;Held by JVM&quot; belongs.</p>\n</blockquote>\n<p>You can also read it from <a href=\"http://java.sun.com/docs/books/performance/1st_edition/html/JPAppGC.fm.html\" rel=\"nofollow noreferrer\">The Truth About Garbage Collection</a> (dated).</p>\n"},{"tags":[],"owner":{"account_id":1737481,"reputation":13912,"user_id":1589700,"accept_rate":75,"display_name":"Stephen Connolly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346653986,"creation_date":1346653986,"answer_id":12243000,"question_id":12242904,"body_markdown":"There is no &quot;universal&quot; answer to your question. Each program will only retain the &quot;active&quot; classes (assuming the program runs long enough under enough memory pressure to force inactive classes out)\r\n\r\nWhen your java program starts up, java will load your class containing the public static void main(String []) method... Any classes and objects it instantiated or references will be loaded on demand as you follow the chain of execution.\r\n\r\nIf the main class forks any threads that will create parallel live paths of execution.\r\n\r\nEach path of execution has an associated call stack.\r\n\r\nEvery class and object referenced by every call stack represents the starting point for the initial live set in java. Follow every reference from that live set and you will have found all the live objects. The JVM spec guarantees that all the live objects and classes will be retained. (that does not mean the others will not be retained by a lazy JVM, but they are not reachable so who cares)","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>There is no \"universal\" answer to your question. Each program will only retain the \"active\" classes (assuming the program runs long enough under enough memory pressure to force inactive classes out)</p>\n\n<p>When your java program starts up, java will load your class containing the public static void main(String []) method... Any classes and objects it instantiated or references will be loaded on demand as you follow the chain of execution.</p>\n\n<p>If the main class forks any threads that will create parallel live paths of execution.</p>\n\n<p>Each path of execution has an associated call stack.</p>\n\n<p>Every class and object referenced by every call stack represents the starting point for the initial live set in java. Follow every reference from that live set and you will have found all the live objects. The JVM spec guarantees that all the live objects and classes will be retained. (that does not mean the others will not be retained by a lazy JVM, but they are not reachable so who cares)</p>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":12242950,"answer_count":2,"score":0,"last_activity_date":1667034215,"creation_date":1346653332,"question_id":12242904,"body_markdown":"From this [IBM article on handling memory leaks in Java][1] :\r\n\r\n&gt; The garbage collector starts at the root nodes, classes that persist\r\n&gt; throughout the life of a Java application, and sweeps through all of\r\n&gt; the nodes that are referenced. As it traverses the nodes, it keeps\r\n&gt; track of which objects are actively being referenced. Any classes that\r\n&gt; are no longer being referenced are then eligible to be garbage\r\n&gt; collected. The memory resources used by these objects can be returned\r\n&gt; to the Java virtual machine (JVM) when the objects are deleted.\r\n\r\nWhat are the classes that persist through out the life of a Java application ? \r\n\r\n[1]:http://www.ibm.com/developerworks/library/j-leaks/","title":"Understanding memory leaks in Java . What are the classes that persist through out the life of a Java application? ","body":"<p>From this <a href=\"http://www.ibm.com/developerworks/library/j-leaks/\" rel=\"nofollow\">IBM article on handling memory leaks in Java</a> :</p>\n\n<blockquote>\n  <p>The garbage collector starts at the root nodes, classes that persist\n  throughout the life of a Java application, and sweeps through all of\n  the nodes that are referenced. As it traverses the nodes, it keeps\n  track of which objects are actively being referenced. Any classes that\n  are no longer being referenced are then eligible to be garbage\n  collected. The memory resources used by these objects can be returned\n  to the Java virtual machine (JVM) when the objects are deleted.</p>\n</blockquote>\n\n<p>What are the classes that persist through out the life of a Java application ? </p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666681604,"post_id":74190175,"comment_id":130988439,"body_markdown":"You shouldn&#39;t be injecting the config into your `UserService` but rather a `PasswordEncoder` and mock that.","body":"You shouldn&#39;t be injecting the config into your <code>UserService</code> but rather a <code>PasswordEncoder</code> and mock that."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666682092,"post_id":74190175,"comment_id":130988567,"body_markdown":"That being said, `webConfig.passwordEncoder()` returns `null` because you haven&#39;t registered any behavior for that and the default is to return `null`. As that leads to `null` you are trying to invoke `encode` on `null` and that will obviously lead to a `NullPointerException`. But as stated in my initial comment, you shouldb&#39;t be injecting that configuration class into your service, but rather a `PasswordEncoder` and mock that.","body":"That being said, <code>webConfig.passwordEncoder()</code> returns <code>null</code> because you haven&#39;t registered any behavior for that and the default is to return <code>null</code>. As that leads to <code>null</code> you are trying to invoke <code>encode</code> on <code>null</code> and that will obviously lead to a <code>NullPointerException</code>. But as stated in my initial comment, you shouldb&#39;t be injecting that configuration class into your service, but rather a <code>PasswordEncoder</code> and mock that."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667033999,"creation_date":1666682607,"answer_id":74190391,"question_id":74190175,"body_markdown":"\r\n```java\r\nwhen(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n```\r\n\r\nThis line is the problem (or more broadly your design but more on that later). `webConfig` is a mock, which means it will intercept all method calls and excert the registered behavior or the default if none. `webConfig.passwordEncoder()` is the first call on yuor mock and you haven&#39;t told the mock what to do, hence it will do the default which is to return `null`. You go then on by mocking the `encode` call on the return value, which will fail. \r\n\r\nYou should either tell Mockito to do something else by default (`@Mock(answer = Answers.RETURNS_DEEP_STUBS` instead of plain `@Mock`) or explicitly mock the call to `webConfig.passwordEncoder()` and return a mocked `PasswordEncoder` and then mock behavior on that for `encode`.\r\n\r\nHowever the fact that you inject the `WebConfig` and not a `PasswordEncoder` in your `UserService` is the actual problem (or the problem in your design). You should inject a `PasswordEncoder`. \r\n\r\n```java\r\n@Service\r\npublic class UserService {\r\n            \r\n    private final SecurityService securityService;\r\n    private final IUserRepository userRepository;\r\n    private final PasswordEncoder encoder;\r\n            \r\n    public UserService(SecurityService securityService, IUserRepository userRepository, PasswordEncoder encoder) {\r\n      this.securityService=securityService;\r\n      this.userRepository=userRepository;\r\n      this.encoder=encoder;\r\n    }\r\n\r\n    public User updateProfile (UserProfileDTO userProfileDTO) {\r\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\r\n        user.setFirstName(userProfileDTO.getFirstName());\r\n        user.setLastName(userProfileDTO.getLastName());\r\n        user.setEmail(securityService.getLoggedUser());\r\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\r\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\r\n        }\r\n        user.setPassword(encoder.encode(userProfileDTO.getPassword()));\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\nNow you can modify your test as well. \r\n\r\n```java \r\n@ExtendWith(MockitoExtension.class)\r\npublic class Test {\r\n            \r\n    @Mock\r\n    SecurityService securityService;\r\n            \r\n    @Mock\r\n    IUserRepository userRepository;\r\n            \r\n    @Mock\r\n    PasswordEncoder encoder;\r\n            \r\n    @InjectMocks\r\n    UserService userService;\r\n                   \r\n    @Test\r\n    public void updateProfileTest() {\r\n        UserProfileDTO userDTO = new UserProfileDTO();\r\n        userDTO.setEmail(&quot;john@simons&quot;);\r\n        userDTO.setFirstName(&quot;John&quot;);\r\n        userDTO.setLastName(&quot;Simons&quot;);\r\n        userDTO.setPassword(&quot;pass&quot;);\r\n        userDTO.setConfirmPassword(&quot;pass&quot;);\r\n            \r\n        User userForUpdate = new User();\r\n        userForUpdate.setFirstName(&quot;Joo&quot;);\r\n        userForUpdate.setLastName(&quot;Sim&quot;);\r\n        userForUpdate.setBalance(242.20);\r\n        userForUpdate.setEmail(&quot;john@simons&quot;);\r\n        userForUpdate.setPassword(&quot;pass&quot;);\r\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\r\n            \r\n        User userUpdated = new User();\r\n        userUpdated.setFirstName(&quot;John&quot;);\r\n        userUpdated.setLastName(&quot;Simons&quot;);\r\n        userUpdated.setBalance(242.20);\r\n        userUpdated.setEmail(&quot;john@simons&quot;);\r\n        userUpdated.setPassword(&quot;pass&quot;);\r\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\r\n\r\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\r\n        when(encoder.encode(any())).thenReturn(userUpdated.getPassword());\r\n        when(userRepository.save(any())).thenReturn(userUpdated);\r\n            \r\n        User test = userService.updateProfile(userDTO);\r\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\r\n    }\r\n}\r\n```\r\n\r\nNow your service just depends on the classes it needs instead of knowing something about the configuration. ","title":"Problem with password encoder in the test","body":"<pre class=\"lang-java prettyprint-override\"><code>when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n</code></pre>\n<p>This line is the problem (or more broadly your design but more on that later). <code>webConfig</code> is a mock, which means it will intercept all method calls and excert the registered behavior or the default if none. <code>webConfig.passwordEncoder()</code> is the first call on yuor mock and you haven't told the mock what to do, hence it will do the default which is to return <code>null</code>. You go then on by mocking the <code>encode</code> call on the return value, which will fail.</p>\n<p>You should either tell Mockito to do something else by default (<code>@Mock(answer = Answers.RETURNS_DEEP_STUBS</code> instead of plain <code>@Mock</code>) or explicitly mock the call to <code>webConfig.passwordEncoder()</code> and return a mocked <code>PasswordEncoder</code> and then mock behavior on that for <code>encode</code>.</p>\n<p>However the fact that you inject the <code>WebConfig</code> and not a <code>PasswordEncoder</code> in your <code>UserService</code> is the actual problem (or the problem in your design). You should inject a <code>PasswordEncoder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n            \n    private final SecurityService securityService;\n    private final IUserRepository userRepository;\n    private final PasswordEncoder encoder;\n            \n    public UserService(SecurityService securityService, IUserRepository userRepository, PasswordEncoder encoder) {\n      this.securityService=securityService;\n      this.userRepository=userRepository;\n      this.encoder=encoder;\n    }\n\n    public User updateProfile (UserProfileDTO userProfileDTO) {\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\n        user.setFirstName(userProfileDTO.getFirstName());\n        user.setLastName(userProfileDTO.getLastName());\n        user.setEmail(securityService.getLoggedUser());\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\n        }\n        user.setPassword(encoder.encode(userProfileDTO.getPassword()));\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<p>Now you can modify your test as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class Test {\n            \n    @Mock\n    SecurityService securityService;\n            \n    @Mock\n    IUserRepository userRepository;\n            \n    @Mock\n    PasswordEncoder encoder;\n            \n    @InjectMocks\n    UserService userService;\n                   \n    @Test\n    public void updateProfileTest() {\n        UserProfileDTO userDTO = new UserProfileDTO();\n        userDTO.setEmail(&quot;john@simons&quot;);\n        userDTO.setFirstName(&quot;John&quot;);\n        userDTO.setLastName(&quot;Simons&quot;);\n        userDTO.setPassword(&quot;pass&quot;);\n        userDTO.setConfirmPassword(&quot;pass&quot;);\n            \n        User userForUpdate = new User();\n        userForUpdate.setFirstName(&quot;Joo&quot;);\n        userForUpdate.setLastName(&quot;Sim&quot;);\n        userForUpdate.setBalance(242.20);\n        userForUpdate.setEmail(&quot;john@simons&quot;);\n        userForUpdate.setPassword(&quot;pass&quot;);\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\n            \n        User userUpdated = new User();\n        userUpdated.setFirstName(&quot;John&quot;);\n        userUpdated.setLastName(&quot;Simons&quot;);\n        userUpdated.setBalance(242.20);\n        userUpdated.setEmail(&quot;john@simons&quot;);\n        userUpdated.setPassword(&quot;pass&quot;);\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\n\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\n        when(encoder.encode(any())).thenReturn(userUpdated.getPassword());\n        when(userRepository.save(any())).thenReturn(userUpdated);\n            \n        User test = userService.updateProfile(userDTO);\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\n    }\n}\n</code></pre>\n<p>Now your service just depends on the classes it needs instead of knowing something about the configuration.</p>\n"}],"owner":{"account_id":26724163,"reputation":11,"user_id":20327490,"display_name":"person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667033999,"creation_date":1666681287,"question_id":74190175,"body_markdown":"When trying to test a method, I&#39;m getting a `NullPointerException` in this line of code:\r\n\r\n```java\r\nwhen(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n```\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(java.lang.CharSequence)&quot; because the return value of &quot;com.example.paymybuddy.security.WebConfig.passwordEncoder()&quot; is null \r\n```\r\n\r\nI have provided a mock of `WebConfig` class but it looks like still missing something. Thank you for your help in advance. \r\n\r\nMy code:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class Test {\r\n            \r\n    @Mock\r\n    SecurityService securityService;\r\n            \r\n    @Mock\r\n    IUserRepository userRepository;\r\n            \r\n    @Mock\r\n    WebConfig webConfig;\r\n            \r\n    @InjectMocks\r\n    UserService userService;\r\n                   \r\n    @Test\r\n    public void updateProfileTest() {\r\n        UserProfileDTO userDTO = new UserProfileDTO();\r\n        userDTO.setEmail(&quot;john@simons&quot;);\r\n        userDTO.setFirstName(&quot;John&quot;);\r\n        userDTO.setLastName(&quot;Simons&quot;);\r\n        userDTO.setPassword(&quot;pass&quot;);\r\n        userDTO.setConfirmPassword(&quot;pass&quot;);\r\n            \r\n        User userForUpdate = new User();\r\n        userForUpdate.setFirstName(&quot;Joo&quot;);\r\n        userForUpdate.setLastName(&quot;Sim&quot;);\r\n        userForUpdate.setBalance(242.20);\r\n        userForUpdate.setEmail(&quot;john@simons&quot;);\r\n        userForUpdate.setPassword(&quot;pass&quot;);\r\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\r\n            \r\n        User userUpdated = new User();\r\n        userUpdated.setFirstName(&quot;John&quot;);\r\n        userUpdated.setLastName(&quot;Simons&quot;);\r\n        userUpdated.setBalance(242.20);\r\n        userUpdated.setEmail(&quot;john@simons&quot;);\r\n        userUpdated.setPassword(&quot;pass&quot;);\r\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\r\n\r\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\r\n        when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\r\n        when(userRepository.save(any())).thenReturn(userUpdated);\r\n            \r\n        User test = userService.updateProfile(userDTO);\r\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\r\n    }\r\n}\r\n```\r\n```java                \r\n@Service\r\npublic class UserService {\r\n            \r\n    @Autowired\r\n    private SecurityService securityService;\r\n            \r\n    @Autowired\r\n    private IUserRepository userRepository;\r\n            \r\n    @Autowired\r\n    private WebConfig webConfig;\r\n            \r\n    public User updateProfile (UserProfileDTO userProfileDTO) {\r\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\r\n        user.setFirstName(userProfileDTO.getFirstName());\r\n        user.setLastName(userProfileDTO.getLastName());\r\n        user.setEmail(securityService.getLoggedUser());\r\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\r\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\r\n        }\r\n              user.setPassword(webConfig.passwordEncoder().encode(userProfileDTO.getPassword()));\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```            \r\n```java       \r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n        \r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n        return bCryptPasswordEncoder;\r\n    }\r\n        \r\n    @Bean\r\n    RequestRejectedHandler requestRejectedHandler() {\r\n        return new HttpStatusRequestRejectedHandler();\r\n    }\r\n}\r\n```\r\n","title":"Problem with password encoder in the test","body":"<p>When trying to test a method, I'm getting a <code>NullPointerException</code> in this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n</code></pre>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(java.lang.CharSequence)&quot; because the return value of &quot;com.example.paymybuddy.security.WebConfig.passwordEncoder()&quot; is null \n</code></pre>\n<p>I have provided a mock of <code>WebConfig</code> class but it looks like still missing something. Thank you for your help in advance.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class Test {\n            \n    @Mock\n    SecurityService securityService;\n            \n    @Mock\n    IUserRepository userRepository;\n            \n    @Mock\n    WebConfig webConfig;\n            \n    @InjectMocks\n    UserService userService;\n                   \n    @Test\n    public void updateProfileTest() {\n        UserProfileDTO userDTO = new UserProfileDTO();\n        userDTO.setEmail(&quot;john@simons&quot;);\n        userDTO.setFirstName(&quot;John&quot;);\n        userDTO.setLastName(&quot;Simons&quot;);\n        userDTO.setPassword(&quot;pass&quot;);\n        userDTO.setConfirmPassword(&quot;pass&quot;);\n            \n        User userForUpdate = new User();\n        userForUpdate.setFirstName(&quot;Joo&quot;);\n        userForUpdate.setLastName(&quot;Sim&quot;);\n        userForUpdate.setBalance(242.20);\n        userForUpdate.setEmail(&quot;john@simons&quot;);\n        userForUpdate.setPassword(&quot;pass&quot;);\n        userForUpdate.setRole(&quot;ROLE_USER&quot;);\n            \n        User userUpdated = new User();\n        userUpdated.setFirstName(&quot;John&quot;);\n        userUpdated.setLastName(&quot;Simons&quot;);\n        userUpdated.setBalance(242.20);\n        userUpdated.setEmail(&quot;john@simons&quot;);\n        userUpdated.setPassword(&quot;pass&quot;);\n        userUpdated.setRole(&quot;ROLE_USER&quot;);\n\n        when(userRepository.findByEmail(any())).thenReturn(userForUpdate);\n        when(webConfig.passwordEncoder().encode(any())).thenReturn(userUpdated.getPassword());\n        when(userRepository.save(any())).thenReturn(userUpdated);\n            \n        User test = userService.updateProfile(userDTO);\n        assertEquals(&quot;john@simons&quot;,test.getEmail());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n            \n    @Autowired\n    private SecurityService securityService;\n            \n    @Autowired\n    private IUserRepository userRepository;\n            \n    @Autowired\n    private WebConfig webConfig;\n            \n    public User updateProfile (UserProfileDTO userProfileDTO) {\n        User user = userRepository.findByEmail(securityService.getLoggedUser());\n        user.setFirstName(userProfileDTO.getFirstName());\n        user.setLastName(userProfileDTO.getLastName());\n        user.setEmail(securityService.getLoggedUser());\n        if(!userProfileDTO.getConfirmPassword().equals(userProfileDTO.getPassword())){\n            throw new PasswordException(&quot;Password confirmation not match&quot;);\n        }\n              user.setPassword(webConfig.passwordEncoder().encode(userProfileDTO.getPassword()));\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n        \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        return bCryptPasswordEncoder;\n    }\n        \n    @Bean\n    RequestRejectedHandler requestRejectedHandler() {\n        return new HttpStatusRequestRejectedHandler();\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","c","optimization"],"comments":[{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":3,"creation_date":1378977873,"post_id":18760256,"comment_id":27654567,"body_markdown":"With today&#39;s processors there&#39;s hardly any need to optimize..focus on your business logic..you can later optimize your code if that&#39;s really needed","body":"With today&#39;s processors there&#39;s hardly any need to optimize..focus on your business logic..you can later optimize your code if that&#39;s really needed"},{"owner":{"account_id":1123615,"reputation":16073,"user_id":1111371,"accept_rate":30,"display_name":"ugoren"},"score":0,"creation_date":1378978997,"post_id":18760256,"comment_id":27655280,"body_markdown":"Easy. Compare a well implemented Java data structure with a naive (but compiled with optimization) C equivalent.","body":"Easy. Compare a well implemented Java data structure with a naive (but compiled with optimization) C equivalent."},{"owner":{"account_id":3274305,"reputation":881,"user_id":2756827,"accept_rate":75,"display_name":"Antonio"},"score":0,"creation_date":1379063153,"post_id":18760256,"comment_id":27692785,"body_markdown":"I just want to mention that I were not asking for code nor is an specific coding problem. I know that I can write a program in Java which runs faster than the same program in C++ (Not Optimized) e.g. [link](http://stackoverflow.com/questions/2260157/why-java-is-running-faster-than-c-here). But I cannot figure out how to make a program in Java faster than its version (optimized) in C++. @Rekin and @Cyan draws insights about my question, But I would like to leave it open for a  while, or someone shows JVM runtime optimizations which are not applicable when compiling the C++ code, i.e. `gcc -O3`.","body":"I just want to mention that I were not asking for code nor is an specific coding problem. I know that I can write a program in Java which runs faster than the same program in C++ (Not Optimized) e.g. <a href=\"http://stackoverflow.com/questions/2260157/why-java-is-running-faster-than-c-here\">link</a>. But I cannot figure out how to make a program in Java faster than its version (optimized) in C++. @Rekin and @Cyan draws insights about my question, But I would like to leave it open for a  while, or someone shows JVM runtime optimizations which are not applicable when compiling the C++ code, i.e. <code>gcc -O3</code>."}],"answers":[{"tags":[],"owner":{"account_id":325643,"reputation":13388,"user_id":646947,"accept_rate":85,"display_name":"Cyan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1378991323,"creation_date":1378977668,"answer_id":18760307,"question_id":18760256,"body_markdown":"In theory, yes.\r\nIn practice, it is highly unlikely.\r\n\r\nOne of the fundamental assumption is that C/C++ is compiled once for a binary opcode target, and that Java is compiled for the specific machine it is running on. This should give an edge to Java. But the reality is that even C/C++ can have several optimization path, dynamically selected at run time, and get most of the benefit of specific-target compilation.\r\n\r\nConversely, as stated by Rekin, the Java JVM needs to dynamically profile the Java program to know what to optimize and how. Profiling is an expensive operation in itself, and that overhead can&#39;t be taken off Java JVM. On the other hand, selecting the right set of optimization for the current workload can give an edge. In practice, most C programs (but not all :) are well tuned for their task, and there is little left to optimize using profiling techniques.\r\n\r\nThere are other effects in Java which completely dwarf these compilation issues. Probably at first position is the Garbage Collector.\r\n\r\nGarbage collector first mission is to ease programming, take care of, and avoiding one of the most nasty recurrent bug of C/C++, memory leaks. This feature alone justify the large use of Java in many industrial environment.\r\n\r\nHowever, it has a cost. A very large one. According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead. So, whenever such amount of memory is lacking, GC overhead starts to become significant, putting performance to a crawl.\r\n\r\nAdversely, it may happen, in some circumstances, that freeing the algorithm of memory allocation charge may allow to *change the algorithm*, and adopt a better, faster one. In such a circumstance, Java can get the edge, and be faster than a C program.\r\n\r\nBut as you can guess, this is uncommon...\r\n","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>In theory, yes.\nIn practice, it is highly unlikely.</p>\n\n<p>One of the fundamental assumption is that C/C++ is compiled once for a binary opcode target, and that Java is compiled for the specific machine it is running on. This should give an edge to Java. But the reality is that even C/C++ can have several optimization path, dynamically selected at run time, and get most of the benefit of specific-target compilation.</p>\n\n<p>Conversely, as stated by Rekin, the Java JVM needs to dynamically profile the Java program to know what to optimize and how. Profiling is an expensive operation in itself, and that overhead can't be taken off Java JVM. On the other hand, selecting the right set of optimization for the current workload can give an edge. In practice, most C programs (but not all :) are well tuned for their task, and there is little left to optimize using profiling techniques.</p>\n\n<p>There are other effects in Java which completely dwarf these compilation issues. Probably at first position is the Garbage Collector.</p>\n\n<p>Garbage collector first mission is to ease programming, take care of, and avoiding one of the most nasty recurrent bug of C/C++, memory leaks. This feature alone justify the large use of Java in many industrial environment.</p>\n\n<p>However, it has a cost. A very large one. According to studies, it is necessary to have available about 5x the amount of strictly necessary memory to make sure garbage collector works with minimal overhead. So, whenever such amount of memory is lacking, GC overhead starts to become significant, putting performance to a crawl.</p>\n\n<p>Adversely, it may happen, in some circumstances, that freeing the algorithm of memory allocation charge may allow to <em>change the algorithm</em>, and adopt a better, faster one. In such a circumstance, Java can get the edge, and be faster than a C program.</p>\n\n<p>But as you can guess, this is uncommon...</p>\n"},{"tags":[],"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667033816,"creation_date":1378977899,"answer_id":18760379,"question_id":18760256,"body_markdown":"The fact that C/C++ programs are specifically written for a specific platform and directly compiled into machine code, they are bound to be more closer to the software/hardware platform they are running. Hence they would be faster.\r\n\r\nJava optimization is built into JVM and best optimization (in terms of how fast program would be executed) is achieved with just in time (JIT) way of processing bytecode. Though JIT proved to be more memory intensive. \r\n\r\nSo, comparing these strategy clearly shows that C/C++ native code would be faster; as JVM still have some overhead to convert bytecode into native even with JIT.\r\n\r\n\r\nBut this is the price paid for platform in dependency and java being more portable. \r\n\r\nTaken from [https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled][1], I found some of the scenario&#39;s when Java execution could outperform C/C++\r\n\r\n&gt; Lots of little memory allocations/deallocations. The major JVMs have\r\n&gt; extremely efficient memory subsystems, and garbage collection can be\r\n&gt; more efficient than requiring explicit freeing (plus it can shift\r\n&gt; memory addresses and such if it really wants to).\r\n&gt; \r\n&gt; Efficient access through deep hierarchies of method calls. The JVM is\r\n&gt; very good at eliding anything that is not necessary, usually better in\r\n&gt; my experience than most C++ compilers (including gcc and icc). In part\r\n&gt; this is because it can do dynamic analysis at runtime (i.e. it can\r\n&gt; overoptimize and only deoptimize if it detects a problem).\r\n&gt; \r\n&gt; Encapsulation of functionality into small short-lived objects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>The fact that C/C++ programs are specifically written for a specific platform and directly compiled into machine code, they are bound to be more closer to the software/hardware platform they are running. Hence they would be faster.</p>\n<p>Java optimization is built into JVM and best optimization (in terms of how fast program would be executed) is achieved with just in time (JIT) way of processing bytecode. Though JIT proved to be more memory intensive.</p>\n<p>So, comparing these strategy clearly shows that C/C++ native code would be faster; as JVM still have some overhead to convert bytecode into native even with JIT.</p>\n<p>But this is the price paid for platform in dependency and java being more portable.</p>\n<p>Taken from <a href=\"https://stackoverflow.com/questions/4516778/when-is-java-faster-than-c-or-when-is-jit-faster-then-precompiled\">when is java faster than c++ (or when is JIT faster then precompiled)?</a>, I found some of the scenario's when Java execution could outperform C/C++</p>\n<blockquote>\n<p>Lots of little memory allocations/deallocations. The major JVMs have\nextremely efficient memory subsystems, and garbage collection can be\nmore efficient than requiring explicit freeing (plus it can shift\nmemory addresses and such if it really wants to).</p>\n<p>Efficient access through deep hierarchies of method calls. The JVM is\nvery good at eliding anything that is not necessary, usually better in\nmy experience than most C++ compilers (including gcc and icc). In part\nthis is because it can do dynamic analysis at runtime (i.e. it can\noveroptimize and only deoptimize if it detects a problem).</p>\n<p>Encapsulation of functionality into small short-lived objects.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2047743,"reputation":7324,"user_id":1827457,"accept_rate":80,"display_name":"LtWorf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378979057,"creation_date":1378979057,"answer_id":18760785,"question_id":18760256,"body_markdown":"The overhead of the JVM is huge. It has to load several classes, which live inside zip (jar) files and need to be extracted.\r\n\r\nFor every class loaded, some static analysis methods will be run on it, to see if there is unreachable code, operand stack type problems and other things.\r\n\r\nThen, a profiler runs all the time to decide which parts of code are worth optimize, and usually this means that those methods need to be called a few thousand of times before they are optimized.\r\n\r\nBesides all that, you also get the garbage collector.\r\n\r\nI can&#39;t really imagine a properly written C program, compiled for the platform it&#39;s running on, being outperformed by a Java equivalent. Perhaps only if you hit some rare corner-case where the JVM has some optimization and the C compiler doesn&#39;t have that specific optimization implemented.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>The overhead of the JVM is huge. It has to load several classes, which live inside zip (jar) files and need to be extracted.</p>\n\n<p>For every class loaded, some static analysis methods will be run on it, to see if there is unreachable code, operand stack type problems and other things.</p>\n\n<p>Then, a profiler runs all the time to decide which parts of code are worth optimize, and usually this means that those methods need to be called a few thousand of times before they are optimized.</p>\n\n<p>Besides all that, you also get the garbage collector.</p>\n\n<p>I can't really imagine a properly written C program, compiled for the platform it's running on, being outperformed by a Java equivalent. Perhaps only if you hit some rare corner-case where the JVM has some optimization and the C compiler doesn't have that specific optimization implemented.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378981607,"creation_date":1378981607,"answer_id":18761738,"question_id":18760256,"body_markdown":"Where I have seen Java run faster than C is when there is limited resources and time to market is more important.  In this situation, you don&#39;t have as much time to write the code as efficiently as you could as in C and C++ you can end up doing things which are less efficient than what the JVM does for you. i.e. if you need the sort of things the JVM does already, it can be faster.\r\n\r\nIf you have a machines with enough resources, the developer time is more expensive/critical and you can end up with a working, stable system in less time and have time to profile/optimise while a C team might still be fixing all the core dumps.  Your mileage will vary.\r\n\r\nFor resources limited devices, C still dominates because you have control over resource allocation.  BTW Most mobile phone now run Java (or objective-C) fine.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>Where I have seen Java run faster than C is when there is limited resources and time to market is more important.  In this situation, you don't have as much time to write the code as efficiently as you could as in C and C++ you can end up doing things which are less efficient than what the JVM does for you. i.e. if you need the sort of things the JVM does already, it can be faster.</p>\n\n<p>If you have a machines with enough resources, the developer time is more expensive/critical and you can end up with a working, stable system in less time and have time to profile/optimise while a C team might still be fixing all the core dumps.  Your mileage will vary.</p>\n\n<p>For resources limited devices, C still dominates because you have control over resource allocation.  BTW Most mobile phone now run Java (or objective-C) fine.</p>\n"}],"owner":{"account_id":3274305,"reputation":881,"user_id":2756827,"accept_rate":75,"display_name":"Antonio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1379015374,"answer_count":4,"score":5,"last_activity_date":1667033816,"creation_date":1378977568,"question_id":18760256,"body_markdown":"Regarding the fact that C/C++ optimization are produced at compilation time, and Java optimizations are produced at runtime. Is it possible to get a Java program faster than the same program (optimized) in C?\r\n\r\nI understand that runtime optimizations can be better than compilation time. Hence I am wondering if the gain of these optimization can be compared to the overhead of running the JVM.","title":"Is it possible to get a Java program faster than the same program (optimized) in C?","body":"<p>Regarding the fact that C/C++ optimization are produced at compilation time, and Java optimizations are produced at runtime. Is it possible to get a Java program faster than the same program (optimized) in C?</p>\n\n<p>I understand that runtime optimizations can be better than compilation time. Hence I am wondering if the gain of these optimization can be compared to the overhead of running the JVM.</p>\n"},{"tags":["java","spring","amazon-s3","spring-webflux"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666957283,"post_id":74234580,"comment_id":131062943,"body_markdown":"(0. How to/who converts `Flux` parameter ??) 1. Why is it `@RequestBody`? (and not `@RequestPart` ..according to `consumes`) 2. Why `key=&#39;&#39;` (empty string)?","body":"(0. How to/who converts <code>Flux</code> parameter ??) 1. Why is it <code>@RequestBody</code>? (and not <code>@RequestPart</code> ..according to <code>consumes</code>) 2. Why <code>key=&#39;&#39;</code> (empty string)?"},{"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"score":0,"creation_date":1666957834,"post_id":74234580,"comment_id":131063141,"body_markdown":"can&#39;t change to `List&lt;MultiPartFile&gt;`, change to `@RequestPart` and send key say    _&quot;message&quot;: &quot;Content type &#39;image/tiff&#39; not supported for bodyType=software.amazon.awssdk.services.s3.model.Part&quot;_","body":"can&#39;t change to <code>List&lt;MultiPartFile&gt;</code>, change to <code>@RequestPart</code> and send key say    <i>&quot;message&quot;: &quot;Content type &#39;image/tiff&#39; not supported for bodyType=software.amazon.awssdk.services.s3.model.Part&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666969835,"creation_date":1666969835,"answer_id":74237365,"question_id":74234580,"body_markdown":"Change `@RequestBody Flux&lt;Part&gt; parts` to `@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; parts` fix all of this","title":"AWS S3 with Java – Reactive","body":"<p>Change <code>@RequestBody Flux&lt;Part&gt; parts</code> to <code>@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; parts</code> fix all of this</p>\n"}],"owner":{"account_id":21624444,"reputation":51,"user_id":15948953,"display_name":"Argun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74237365,"answer_count":1,"score":0,"last_activity_date":1667033594,"creation_date":1666955882,"question_id":74234580,"body_markdown":"I want to upload multipart file like here [article](https://github.com/eugenp/tutorials/tree/master/aws-modules/aws-reactive). \r\nHere is my code\r\n\r\n\r\n```\r\n@RequestMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, method = {RequestMethod.POST, RequestMethod.PUT})\r\npublic Mono&lt;ResponseEntity&lt;UploadResult&gt;&gt; multipartUploadHandler(@RequestHeader HttpHeaders headers, @RequestBody Flux&lt;Part&gt; parts) {\r\n\r\n    return parts\r\n            .ofType(FilePart.class) // We&#39;ll ignore other data for now\r\n            .flatMap((part) -&gt; saveFile(headers, s3config.getBucket(), part))\r\n            .collect(Collectors.toList())\r\n            .map((keys) -&gt; ResponseEntity.status(HttpStatus.CREATED)\r\n                    .body(new UploadResult(HttpStatus.CREATED, keys)));\r\n}\r\n```\r\nBut when I send a request, i get 415\r\n\r\n[![Postman](https://i.stack.imgur.com/YC6ED.png)](https://i.stack.imgur.com/YC6ED.png)\r\n\r\nWhat could be the problem?","title":"AWS S3 with Java – Reactive","body":"<p>I want to upload multipart file like here <a href=\"https://github.com/eugenp/tutorials/tree/master/aws-modules/aws-reactive\" rel=\"nofollow noreferrer\">article</a>.\nHere is my code</p>\n<pre><code>@RequestMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, method = {RequestMethod.POST, RequestMethod.PUT})\npublic Mono&lt;ResponseEntity&lt;UploadResult&gt;&gt; multipartUploadHandler(@RequestHeader HttpHeaders headers, @RequestBody Flux&lt;Part&gt; parts) {\n\n    return parts\n            .ofType(FilePart.class) // We'll ignore other data for now\n            .flatMap((part) -&gt; saveFile(headers, s3config.getBucket(), part))\n            .collect(Collectors.toList())\n            .map((keys) -&gt; ResponseEntity.status(HttpStatus.CREATED)\n                    .body(new UploadResult(HttpStatus.CREATED, keys)));\n}\n</code></pre>\n<p>But when I send a request, i get 415</p>\n<p><a href=\"https://i.stack.imgur.com/YC6ED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YC6ED.png\" alt=\"Postman\" /></a></p>\n<p>What could be the problem?</p>\n"},{"tags":["java","android","maven","kotlin","gradle"],"owner":{"account_id":7814869,"reputation":595,"user_id":5909910,"display_name":"Vahid Garousi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667033504,"creation_date":1666949808,"question_id":74233376,"body_markdown":"How can i publish unitTest and androidTest source sets to maven repository?\r\n\r\nI want to put the shared classes, utilities, composeTestRule extensions and … that I wrote for testing in the test source set of an android library and publish it.\r\n\r\nAnd finally, I will use the rest of the modules of my other projects as follows:\r\n\r\n\r\n```\r\ntestImplementation &quot;groupId:artifactId:version&quot;\r\nandroidTestImplementation &quot;groupId:artifactId:version&quot;\r\n```\r\n\r\n\r\n\r\nThe Gradle codes I have written for publication:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;cip.android.framework.compose_testing&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        minSdk 23\r\n        targetSdk 33\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    publishing {\r\n        singleVariant(&quot;release&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n        singleVariant(&quot;debug&quot;) {\r\n            withSourcesJar()\r\n            withJavadocJar()\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.9.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.5.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.6.1&#39;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\r\n    implementation &#39;androidx.compose.material:material:1.3.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\r\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\r\n\r\n}\r\n\r\n\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            // Creates a Maven publication called &quot;release&quot;.\r\n            release(MavenPublication) {\r\n                // Applies the component for the release build variant.\r\n                from components.release\r\n\r\n                // You can then customize attributes of the publication as shown below.\r\n                groupId = &#39;com.example.MyLibrary&#39;\r\n                artifactId = &#39;final&#39;\r\n                version = &#39;1.0&#39;\r\n            }\r\n            // Creates a Maven publication called “debug”.\r\n            debug(MavenPublication) {\r\n                // Applies the component for the debug build variant.\r\n                from components.debug\r\n\r\n                groupId = &#39;com.example.MyLibrary&#39;\r\n                artifactId = &#39;final-debug&#39;\r\n                version = &#39;1.0&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow can I achieve this?\r\n\r\n","title":"How can i publish unitTest and androidTest source sets to maven repository?","body":"<p>How can i publish unitTest and androidTest source sets to maven repository?</p>\n<p>I want to put the shared classes, utilities, composeTestRule extensions and … that I wrote for testing in the test source set of an android library and publish it.</p>\n<p>And finally, I will use the rest of the modules of my other projects as follows:</p>\n<pre><code>testImplementation &quot;groupId:artifactId:version&quot;\nandroidTestImplementation &quot;groupId:artifactId:version&quot;\n</code></pre>\n<p>The Gradle codes I have written for publication:</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'org.jetbrains.kotlin.android'\n    id 'maven-publish'\n}\n\nandroid {\n    namespace 'cip.android.framework.compose_testing'\n    compileSdk 33\n\n    defaultConfig {\n        minSdk 23\n        targetSdk 33\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    publishing {\n        singleVariant(&quot;release&quot;) {\n            withSourcesJar()\n            withJavadocJar()\n        }\n        singleVariant(&quot;debug&quot;) {\n            withSourcesJar()\n            withJavadocJar()\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.9.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.5.1'\n    implementation 'androidx.activity:activity-compose:1.6.1'\n    implementation &quot;androidx.compose.ui:ui:$compose_ui_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling-preview:$compose_ui_version&quot;\n    implementation 'androidx.compose.material:material:1.3.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-tooling:$compose_ui_version&quot;\n    debugImplementation &quot;androidx.compose.ui:ui-test-manifest:$compose_ui_version&quot;\n\n}\n\n\nafterEvaluate {\n    publishing {\n        publications {\n            // Creates a Maven publication called &quot;release&quot;.\n            release(MavenPublication) {\n                // Applies the component for the release build variant.\n                from components.release\n\n                // You can then customize attributes of the publication as shown below.\n                groupId = 'com.example.MyLibrary'\n                artifactId = 'final'\n                version = '1.0'\n            }\n            // Creates a Maven publication called “debug”.\n            debug(MavenPublication) {\n                // Applies the component for the debug build variant.\n                from components.debug\n\n                groupId = 'com.example.MyLibrary'\n                artifactId = 'final-debug'\n                version = '1.0'\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>How can I achieve this?</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1666962796,"post_id":74235760,"comment_id":131064768,"body_markdown":"`@SuppressWarnings(&quot;deprecation&quot;)`. If used in combination with others, use array literal syntax: `@SupressWarnings({ &quot;serial&quot;, &quot;deprecation&quot; })`. Always try to use the smallest possible scope - variable / field before method / constructor before entire class.","body":"<code>@SuppressWarnings(&quot;deprecation&quot;)</code>. If used in combination with others, use array literal syntax: <code>@SupressWarnings({ &quot;serial&quot;, &quot;deprecation&quot; })</code>. Always try to use the smallest possible scope - variable / field before method / constructor before entire class."},{"owner":{"account_id":26759297,"reputation":13,"user_id":20357502,"display_name":"StaticallyTyped"},"score":0,"creation_date":1666963695,"post_id":74235760,"comment_id":131065054,"body_markdown":"I have tried that method, restarted and built the editor, but it still warns me.","body":"I have tried that method, restarted and built the editor, but it still warns me."}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667031243,"creation_date":1667030889,"answer_id":74243760,"question_id":74235760,"body_markdown":"In Scala you can use the [`@nowarn`][1] annotation to this end. You can see a very nice rundown of how to use both this annotation locally or other options on the overall project [on this blog post by Lukas Rytz][2].\r\n\r\nIn your case, I believe you can use the following annotation:\r\n\r\n    @nowarn(&quot;cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass&quot;)\r\n\r\nYou can see an example of how I used this on [this commit][3].\r\n\r\nAs you can see, the annotation can be applied even to individual expression via type ascription, but you can also apply it to methods. In general, I like to keep my `@nowarn`s as specific and fine-scoped as possible. You can also tell the compiler to warn you when a `@nowarn` is not doing anything, so that you don&#39;t have to keep unused annotations around the code.\r\n\r\nIf you have deprecated APIs that you need to use (e.g. even though they are deprecated, you still need to test them) and the usages are all over the place, you might want to evaluate the option of configuring the warning suppression as a compiler option with something like\r\n\r\n    -Wconf:cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass\r\n\r\npassed to the compiler. [Here][4] is an example of this as well (we use Bazel instead of SBT but I&#39;m fairly sure that setting up SBT for this is quite simple).\r\n\r\nFor any other information, the blog post I linked above is an excellent source.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/api/2.13.2/scala/annotation/nowarn.html\r\n  [2]: https://www.scala-lang.org/2021/01/12/configuring-and-suppressing-warnings.html\r\n  [3]: https://github.com/digital-asset/daml/commit/0579ebdd770ab0f6a8cbbd45a09726dc79e9daa7\r\n  [4]: https://github.com/digital-asset/daml/commit/aec3390904ccc341648f4a9dc1761efb723d41b2#diff-c6df9dda4e353500adcf6736eeadbfd2d1053932e64675e96974bc69cf31e1b7R54","title":"I want to suppress deprecated API usage","body":"<p>In Scala you can use the <a href=\"https://www.scala-lang.org/api/2.13.2/scala/annotation/nowarn.html\" rel=\"nofollow noreferrer\"><code>@nowarn</code></a> annotation to this end. You can see a very nice rundown of how to use both this annotation locally or other options on the overall project <a href=\"https://www.scala-lang.org/2021/01/12/configuring-and-suppressing-warnings.html\" rel=\"nofollow noreferrer\">on this blog post by Lukas Rytz</a>.</p>\n<p>In your case, I believe you can use the following annotation:</p>\n<pre><code>@nowarn(&quot;cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass&quot;)\n</code></pre>\n<p>You can see an example of how I used this on <a href=\"https://github.com/digital-asset/daml/commit/0579ebdd770ab0f6a8cbbd45a09726dc79e9daa7\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n<p>As you can see, the annotation can be applied even to individual expression via type ascription, but you can also apply it to methods. In general, I like to keep my <code>@nowarn</code>s as specific and fine-scoped as possible. You can also tell the compiler to warn you when a <code>@nowarn</code> is not doing anything, so that you don't have to keep unused annotations around the code.</p>\n<p>If you have deprecated APIs that you need to use (e.g. even though they are deprecated, you still need to test them) and the usages are all over the place, you might want to evaluate the option of configuring the warning suppression as a compiler option with something like</p>\n<pre><code>-Wconf:cat=deprecation&amp;origin=your\\.package\\.YourDeprecatedClass\n</code></pre>\n<p>passed to the compiler. <a href=\"https://github.com/digital-asset/daml/commit/aec3390904ccc341648f4a9dc1761efb723d41b2#diff-c6df9dda4e353500adcf6736eeadbfd2d1053932e64675e96974bc69cf31e1b7R54\" rel=\"nofollow noreferrer\">Here</a> is an example of this as well (we use Bazel instead of SBT but I'm fairly sure that setting up SBT for this is quite simple).</p>\n<p>For any other information, the blog post I linked above is an excellent source.</p>\n"}],"owner":{"account_id":26759297,"reputation":13,"user_id":20357502,"display_name":"StaticallyTyped"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74243760,"answer_count":1,"score":1,"last_activity_date":1667031243,"creation_date":1666961800,"question_id":74235760,"body_markdown":"Environment: IntelliJ IDEA Ultimate 2022.2 Build 222.3345.118\r\n\r\nI have overridden the method with @Deprecated annotation.\r\nI want to suppress deprecated API usage on certain methods. But the Option+Enter action has only useless suggestions.\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/oOhmC.png)](https://i.stack.imgur.com/oOhmC.png)\r\n\r\nWe tried to suppress it by means of SupressWornings and //noinspection ScalaDeprecation. I would like to disable Inspection as a last resort because there are some warnings that I want to suppress and others that I do not want to.","title":"I want to suppress deprecated API usage","body":"<p>Environment: IntelliJ IDEA Ultimate 2022.2 Build 222.3345.118</p>\n<p>I have overridden the method with @Deprecated annotation.\nI want to suppress deprecated API usage on certain methods. But the Option+Enter action has only useless suggestions.</p>\n<p><a href=\"https://i.stack.imgur.com/oOhmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOhmC.png\" alt=\"enter image description here\" /></a></p>\n<p>We tried to suppress it by means of SupressWornings and //noinspection ScalaDeprecation. I would like to disable Inspection as a last resort because there are some warnings that I want to suppress and others that I do not want to.</p>\n"},{"tags":["java","database","hibernate","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343081747,"creation_date":1343081747,"answer_id":11621360,"question_id":11621086,"body_markdown":"Some of these can happen automatically under some circumstances, but unless you are configured to do them automatically, you need to do all three of them in this order:\r\n\r\n1. `Session.save()` updates Hibernate&#39;s view of the object from inside the JVM.\r\n2. `Session.flush()` updates the database&#39;s view of the object by issuing SQL statements.\r\n3. `Session.getTransaction().commit()` commits the transaction in the database.\r\n\r\nSee http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush()","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>Some of these can happen automatically under some circumstances, but unless you are configured to do them automatically, you need to do all three of them in this order:</p>\n\n<ol>\n<li><code>Session.save()</code> updates Hibernate's view of the object from inside the JVM.</li>\n<li><code>Session.flush()</code> updates the database's view of the object by issuing SQL statements.</li>\n<li><code>Session.getTransaction().commit()</code> commits the transaction in the database.</li>\n</ol>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#flush</a>()</p>\n"},{"tags":[],"owner":{"account_id":307266,"reputation":3397,"user_id":618467,"accept_rate":67,"display_name":"Tiago Farias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343096604,"creation_date":1343083011,"answer_id":11621534,"question_id":11621086,"body_markdown":"You probably forgot to save your objects to the database using a **session.flush()** BEFORE commiting to the database (`session.getTransaction().commit()`).\r\nAs the Hibernate reference itself states:\r\n\r\n&gt; Force this session to flush. Must be called at the end of a unit of\r\n&gt; work, before committing the transaction and closing the session\r\n&gt; (depending on flush-mode, Transaction.commit() calls this method).\r\n\r\nAnd also:\r\n\r\n&gt; \r\n&gt; &quot;Flushing is the process of synchronizing the underlying persistent\r\n&gt; store with persistable state held in memory.&quot;\r\n\r\n**Edit:**\r\n\r\nAfter reading a little bit about HSQLDB I saw some things that could be happening to you:\r\n\r\n1 - Because HSQLDB is not **Durable** by default (the D from &#39;ACID&#39;), it will not persist data to the disk immediately. I know. Not so cute. So you have to &quot;force&quot; the write of your changes when the last connection is finished, setting the property `shutdown=true`;\r\nFrom the user guide: \r\n\r\n&gt; You can use the shutdown=true connection property to ensure the\r\n&gt; database is persisted fully after the connections are closed.\r\n\r\n2 - To make your changes be written immediately to disk use the property `hsqldb.write_delay=false`;\r\n\r\nSo, you&#39;ll end up with something like this in your connection string:\r\n\r\n    ;shutdown=true;hsqldb.write_delay=false;\r\n  \r\n\r\nHope it helps!","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>You probably forgot to save your objects to the database using a <strong>session.flush()</strong> BEFORE commiting to the database (<code>session.getTransaction().commit()</code>).\nAs the Hibernate reference itself states:</p>\n\n<blockquote>\n  <p>Force this session to flush. Must be called at the end of a unit of\n  work, before committing the transaction and closing the session\n  (depending on flush-mode, Transaction.commit() calls this method).</p>\n</blockquote>\n\n<p>And also:</p>\n\n<blockquote>\n  <p>\"Flushing is the process of synchronizing the underlying persistent\n  store with persistable state held in memory.\"</p>\n</blockquote>\n\n<p><strong>Edit:</strong></p>\n\n<p>After reading a little bit about HSQLDB I saw some things that could be happening to you:</p>\n\n<p>1 - Because HSQLDB is not <strong>Durable</strong> by default (the D from 'ACID'), it will not persist data to the disk immediately. I know. Not so cute. So you have to \"force\" the write of your changes when the last connection is finished, setting the property <code>shutdown=true</code>;\nFrom the user guide: </p>\n\n<blockquote>\n  <p>You can use the shutdown=true connection property to ensure the\n  database is persisted fully after the connections are closed.</p>\n</blockquote>\n\n<p>2 - To make your changes be written immediately to disk use the property <code>hsqldb.write_delay=false</code>;</p>\n\n<p>So, you'll end up with something like this in your connection string:</p>\n\n<pre><code>;shutdown=true;hsqldb.write_delay=false;\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343410413,"creation_date":1343410413,"answer_id":11692777,"question_id":11621086,"body_markdown":"The solution to my problem is described in the first comment under question in this thread [link](https://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database)","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>The solution to my problem is described in the first comment under question in this thread <a href=\"https://stackoverflow.com/questions/8105618/entitymanager-does-not-write-to-database\">link</a></p>\n"},{"tags":[],"owner":{"account_id":20445496,"reputation":26,"user_id":15001405,"display_name":"hades"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612073249,"creation_date":1612037726,"answer_id":65972686,"question_id":11621086,"body_markdown":"Sometimes adding `;shutdown=true` to your connection string does not help when making changes through code.\r\n\r\nSo, every time you make changes (insert, delete, update, etc.) through code in the HSQLDB, just run the query &quot;SHUTDOWN SCRIPT&quot; manually from your code. This will shut down HSQLDB properly and will save the changes in the `.properties` and `.script` files instantly. \r\n\r\nYour query should look like this:\r\n```\r\nSQLQuery query = session.createSQLQuery(&quot;SHUTDOWN SCRIPT&quot;);\r\n```","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>Sometimes adding <code>;shutdown=true</code> to your connection string does not help when making changes through code.</p>\n<p>So, every time you make changes (insert, delete, update, etc.) through code in the HSQLDB, just run the query &quot;SHUTDOWN SCRIPT&quot; manually from your code. This will shut down HSQLDB properly and will save the changes in the <code>.properties</code> and <code>.script</code> files instantly.</p>\n<p>Your query should look like this:</p>\n<pre><code>SQLQuery query = session.createSQLQuery(&quot;SHUTDOWN SCRIPT&quot;);\n</code></pre>\n"}],"owner":{"account_id":1098762,"reputation":1373,"user_id":1091733,"accept_rate":77,"display_name":"polmarex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7679,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667030600,"creation_date":1343080231,"question_id":11621086,"body_markdown":"I took care of commiting transaction, but database remains empty after saving object. No errors, hibernate even shows SQL command of inserting. Everything is ok when I add `&lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;` line to my hibernate config xml, but I heard that this is not a good practice. I&#39;m using HSQLDB database. \r\n\r\nHere&#39;s piece of my code that inserts data.\r\n\r\n    \tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tClient c = new Client();\r\n\t\tc.setImie(&quot;John&quot;);\r\n\t\tc.setNazwisko(&quot;Kennedy&quot;); \r\n\t\tsession.save(c);\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.close();\r\n\r\n","title":"Data is not being inserted into HSQLDB database using Hibernate","body":"<p>I took care of commiting transaction, but database remains empty after saving object. No errors, hibernate even shows SQL command of inserting. Everything is ok when I add <code>&lt;property name=\"hibernate.connection.autocommit\"&gt;true&lt;/property&gt;</code> line to my hibernate config xml, but I heard that this is not a good practice. I'm using HSQLDB database. </p>\n\n<p>Here's piece of my code that inserts data.</p>\n\n<pre><code>    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    Client c = new Client();\n    c.setImie(\"John\");\n    c.setNazwisko(\"Kennedy\"); \n    session.save(c);\n    session.getTransaction().commit();\n    session.close();\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1667027391,"post_id":74243439,"comment_id":131077705,"body_markdown":"In its current form, the question is too broad. Please [edit] the post and add a focused questoin.","body":"In its current form, the question is too broad. Please <a href=\"https://stackoverflow.com/posts/74243439/edit\">edit</a> the post and add a focused questoin."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1667029245,"post_id":74243439,"comment_id":131077955,"body_markdown":"What about something simple as `Arrays.stream(ar).distinct().toArray()`?","body":"What about something simple as <code>Arrays.stream(ar).distinct().toArray()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9226704,"reputation":58,"user_id":12148763,"display_name":"Manish Purohit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667030253,"creation_date":1667027244,"answer_id":74243462,"question_id":74243439,"body_markdown":"Remove duplicates from the array:\r\n\r\n\r\n     public static int[] removeDuplicates(int[] a){\r\n       return Arrays.stream(a).distinct().toArray();\r\n    }\r\n","title":"What is the removeDuplicates(ar) sub method in Java?","body":"<p>Remove duplicates from the array:</p>\n<pre><code> public static int[] removeDuplicates(int[] a){\n   return Arrays.stream(a).distinct().toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1667027691,"answer_count":1,"score":-3,"last_activity_date":1667030253,"creation_date":1667026915,"question_id":74243439,"body_markdown":"**Code :**\r\n\r\n```\r\nclass Example{\r\n\tpublic static void main(String []args) {\r\n\t\tint[] ar={54,67,98,12,43,58,91,98,29,99,54,61};\r\n\t\tint[] newArray=removeDuplicates(ar);\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(ar));//[54,67,98,12,43,58,91,98,29,99,54,61]\r\n\t\tSystem.out.println(Arrays.toString(newArray));//[54,67,98,12,43,58,91,29,99,61]\r\n\t}\r\n}\r\n```\r\n\r\nI want that what is the sub-method for this code in Java.","title":"What is the removeDuplicates(ar) sub method in Java?","body":"<p><strong>Code :</strong></p>\n<pre><code>class Example{\n    public static void main(String []args) {\n        int[] ar={54,67,98,12,43,58,91,98,29,99,54,61};\n        int[] newArray=removeDuplicates(ar);\n        \n        System.out.println(Arrays.toString(ar));//[54,67,98,12,43,58,91,98,29,99,54,61]\n        System.out.println(Arrays.toString(newArray));//[54,67,98,12,43,58,91,29,99,61]\n    }\n}\n</code></pre>\n<p>I want that what is the sub-method for this code in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666616108,"post_id":74181247,"comment_id":130972259,"body_markdown":"Have you checked whether your `CLASSPATH` environment variable contains anything that points to a specific jdk?","body":"Have you checked whether your <code>CLASSPATH</code> environment variable contains anything that points to a specific jdk?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1666617833,"post_id":74181247,"comment_id":130972894,"body_markdown":"Fredericos comment is a good point to start. The `ClassFormatError` indicates that some class (i.e. an already compiled code) cannot be read by the JVM. So there seems to be some mismatch on your machine, when the JDK 10 compiler wants to read some already compiled classes and fails.","body":"Fredericos comment is a good point to start. The <code>ClassFormatError</code> indicates that some class (i.e. an already compiled code) cannot be read by the JVM. So there seems to be some mismatch on your machine, when the JDK 10 compiler wants to read some already compiled classes and fails."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1666617896,"post_id":74181247,"comment_id":130972922,"body_markdown":"I also directly tested the exact steps you have shown us. Works on my machine. Thumbs up (btw) for the well written question.","body":"I also directly tested the exact steps you have shown us. Works on my machine. Thumbs up (btw) for the well written question."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":1,"creation_date":1666619784,"post_id":74181247,"comment_id":130973723,"body_markdown":"@FedericoklezCulloca Thank you for the comment, I did not know of that env variable. However, it is not set `env | grep CLASSPATH` prints empty output","body":"@FedericoklezCulloca Thank you for the comment, I did not know of that env variable. However, it is not set <code>env | grep CLASSPATH</code> prints empty output"},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620003,"post_id":74181247,"comment_id":130973813,"body_markdown":"@Seelenvirtuose, I do not think the problem is reproducible in another machine. Its most likely a problem regarding my machine configuration that I do not know how to find. As I have tested it on another machine and a VM.","body":"@Seelenvirtuose, I do not think the problem is reproducible in another machine. Its most likely a problem regarding my machine configuration that I do not know how to find. As I have tested it on another machine and a VM."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1666620481,"post_id":74181247,"comment_id":130974007,"body_markdown":"What happens when you build with Java 11 and pass `-target 10` to `javac`?","body":"What happens when you build with Java 11 and pass <code>-target 10</code> to <code>javac</code>?"},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666620961,"post_id":74181247,"comment_id":130974201,"body_markdown":"@ElliottFrisch good suggestions. It seems I can build and run the sample with java 11 providing the target (getting the warning `warning: target release 10 conflicts with default source release 11`). Though I am not sure how I could use that to build the actual legacy system I need to work on. It uses gradle","body":"@ElliottFrisch good suggestions. It seems I can build and run the sample with java 11 providing the target (getting the warning <code>warning: target release 10 conflicts with default source release 11</code>). Though I am not sure how I could use that to build the actual legacy system I need to work on. It uses gradle"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1666621131,"post_id":74181247,"comment_id":130974269,"body_markdown":"@MiguelAlorda Like [this](https://stackoverflow.com/a/44263437/2970947).","body":"@MiguelAlorda Like <a href=\"https://stackoverflow.com/a/44263437/2970947\">this</a>."},{"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"score":0,"creation_date":1666621930,"post_id":74181247,"comment_id":130974603,"body_markdown":"@ElliottFrisch I just realised we do have the `sourceCompatibility` and `targetCompatibility` set to java 10, but I cannot simply run with java 11 as [gradle version (4.x) is not compatible with java 11](https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2). That is yet another migration that is needed on the legacy project","body":"@ElliottFrisch I just realised we do have the <code>sourceCompatibility</code> and <code>targetCompatibility</code> set to java 10, but I cannot simply run with java 11 as <a href=\"https://stackoverflow.com/questions/54358107/gradle-could-not-determine-java-version-from-11-0-2\">gradle version (4.x) is not compatible with java 11</a>. That is yet another migration that is needed on the legacy project"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666620231,"creation_date":1666619776,"answer_id":74182222,"question_id":74181247,"body_markdown":"So the problem is clearly not in the code you are compiling.  According to the stack trace, it is happening while loading and initializing the compiler.  The compiler hasn&#39;t actually started compiling anything yet.\r\n\r\nThe only things that I can think of to explain this are:\r\n\r\n  - Your (original) Java 10 download was corrupted&lt;sup&gt;1&lt;/sup&gt; resulting in an installation with a subtly corrupted Java compiler; e.g. a bit flip in one of the .class files in the compiler.\r\n\r\n  - Some critical library on your system is subtly corrupted, or has a subtle bug in it.\r\n\r\n  - It is a hardware (mother board, CPU, RAM) problem.  Or a firmware problem.\r\n\r\n  - It is some weird side-effect of a hacked system.\r\n\r\nIt might be worth trying to fetch a copy of the Java 10 installer another way and compare it with the installer that you have been installing.  Also, it is worth checking that the checksums (MD5, SHA256) for the download match the checksums that Oracle says they should be.\r\n\r\nIf those don&#39;t help, it is going to be difficult to track this down.  And IMO not worth the effort.\r\n\r\nMy advice would be to remove Java 10 from the list of platforms that you build and test for.  (And &quot;support&quot; if you are still trying to do that.)  And if you *really* need to build with Java 10, get hold of a different machine (with reliable hardware) and reinstall everything from scratch using known good downloads.\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - Without getting too &quot;tin foil hat&quot; about it, such a corruption could be caused by an undetected network transmission error, faulty hardware, or the interference of a &quot;deep packet inspection&quot; appliance.  Repeating the download *may* result in the same corruption.  However, the fact that other people report that they cannot reproduce this *suggests* that this is not simply due to a corrupted copy on the download server.&lt;/sup&gt;","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<p>So the problem is clearly not in the code you are compiling.  According to the stack trace, it is happening while loading and initializing the compiler.  The compiler hasn't actually started compiling anything yet.</p>\n<p>The only things that I can think of to explain this are:</p>\n<ul>\n<li><p>Your (original) Java 10 download was corrupted<sup>1</sup> resulting in an installation with a subtly corrupted Java compiler; e.g. a bit flip in one of the .class files in the compiler.</p>\n</li>\n<li><p>Some critical library on your system is subtly corrupted, or has a subtle bug in it.</p>\n</li>\n<li><p>It is a hardware (mother board, CPU, RAM) problem.  Or a firmware problem.</p>\n</li>\n<li><p>It is some weird side-effect of a hacked system.</p>\n</li>\n</ul>\n<p>It might be worth trying to fetch a copy of the Java 10 installer another way and compare it with the installer that you have been installing.  Also, it is worth checking that the checksums (MD5, SHA256) for the download match the checksums that Oracle says they should be.</p>\n<p>If those don't help, it is going to be difficult to track this down.  And IMO not worth the effort.</p>\n<p>My advice would be to remove Java 10 from the list of platforms that you build and test for.  (And &quot;support&quot; if you are still trying to do that.)  And if you <em>really</em> need to build with Java 10, get hold of a different machine (with reliable hardware) and reinstall everything from scratch using known good downloads.</p>\n<hr />\n<p><sup>1 - Without getting too &quot;tin foil hat&quot; about it, such a corruption could be caused by an undetected network transmission error, faulty hardware, or the interference of a &quot;deep packet inspection&quot; appliance.  Repeating the download <em>may</em> result in the same corruption.  However, the fact that other people report that they cannot reproduce this <em>suggests</em> that this is not simply due to a corrupted copy on the download server.</sup></p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666627811,"creation_date":1666627811,"answer_id":74183941,"question_id":74181247,"body_markdown":"I have reasons to believe that something related with security on your system is getting involved here and breaks the process.\r\n\r\nReason 1 \r\n\r\n    $ jdk-10.0.2/bin/javac Test.java\r\n    Exception in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\r\n\r\n`Ille` is very weird and 99% the process tried to write a message in the form of  `Illegal some description` but got interupted in the middle of it.\r\n\r\nReason 2\r\n\r\n \r\n\r\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\r\n        at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\r\n\r\nWhy does it even mention `Unsafe` here, there should not be any reason for it.","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<p>I have reasons to believe that something related with security on your system is getting involved here and breaks the process.</p>\n<p>Reason 1</p>\n<pre><code>$ jdk-10.0.2/bin/javac Test.java\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\n</code></pre>\n<p><code>Ille</code> is very weird and 99% the process tried to write a message in the form of  <code>Illegal some description</code> but got interupted in the middle of it.</p>\n<p>Reason 2</p>\n<pre><code>at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\n</code></pre>\n<p>Why does it even mention <code>Unsafe</code> here, there should not be any reason for it.</p>\n"},{"tags":[],"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667029966,"creation_date":1667029966,"answer_id":74243683,"question_id":74181247,"body_markdown":"# Self answer\r\n\r\nFor anyone who comes across a similar issue, I did not manage to fix it. I have tried all solutions suggested above.\r\n\r\nStill, as a temporary solution until we migrate to a Java long term support version, I ended up using a development container.\r\n\r\nFrom an alpine, I installed git, jdk 10 and some other development tools, mounted the source as volumes and ended up working inside the container.\r\n\r\nCurrently I just use it for building and running the software, as I am using IntelliJ as an IDE. Still, since it cannot build the software correctly, it&#39;s Intellisense suggestions are not good enough. I might end up moving into a full blown [VSCode devcontainter](https://code.visualstudio.com/docs/devcontainers/containers).","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<h1>Self answer</h1>\n<p>For anyone who comes across a similar issue, I did not manage to fix it. I have tried all solutions suggested above.</p>\n<p>Still, as a temporary solution until we migrate to a Java long term support version, I ended up using a development container.</p>\n<p>From an alpine, I installed git, jdk 10 and some other development tools, mounted the source as volumes and ended up working inside the container.</p>\n<p>Currently I just use it for building and running the software, as I am using IntelliJ as an IDE. Still, since it cannot build the software correctly, it's Intellisense suggestions are not good enough. I might end up moving into a full blown <a href=\"https://code.visualstudio.com/docs/devcontainers/containers\" rel=\"nofollow noreferrer\">VSCode devcontainter</a>.</p>\n"}],"owner":{"account_id":18772166,"reputation":653,"user_id":13688761,"display_name":"Miguel Alorda"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1667029966,"creation_date":1666615323,"question_id":74181247,"body_markdown":"# The problem\r\n\r\nI need to use JDK10 to compile a legacy project I have to work on. I know it is a short-term support release whose lifetime has ended. But before the project is updated to a newer Java version I need to be able to build and run it on my development machine.\r\n\r\n&gt; Note: The project does build correctly on its CI pipeline and does run on the production environment. The problem is not related to the project but to my machine.\r\n\r\nThe problem I am running into is I **cannot compile any java code with JDK10**, but **other JDKs** such as 8, 9, 11, 12 and 17 **do work**.\r\n\r\n# Reproduce the problem\r\n\r\nTo showcase my problem, I am trying to compile a simple hello world program `Test.java`:\r\n\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, world!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am using the prebuilt JDK from [OpenJDK][openjdk-archive], but I have also tried and reproduced this problem with the [Zulu][zulu-downloads] distribution.\r\n\r\nI can consistently reproduce the problem with:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk10/10.0.2/19aef61b38124481863b1413dce1855f/13/openjdk-10.0.2_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:10:31 (11,1 MB/s) - ‘openjdk-10.0.2_linux-x64_bin.tar.gz’ saved [204892533/204892533]\r\n$ tar -xzf openjdk-10.0.2_linux-x64_bin.tar.gz\r\n$ jdk-10.0.2/bin/java -version \r\nopenjdk version &quot;10.0.2&quot; 2018-07-17\r\nOpenJDK Runtime Environment 18.3 (build 10.0.2+13)\r\nOpenJDK 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\r\n$ jdk-10.0.2/bin/javac -version                             \r\njavac 10.0.2\r\n$ jdk-10.0.2/bin/javac Test.java\r\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\r\n\tat java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\r\n\tat java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:320)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:188)\r\n\tat java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:317)\r\n\tat java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:330)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:250)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:240)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.doEnterClass(Symtab.java:700)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:714)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:275)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.&lt;init&gt;(Symtab.java:485)\r\n\tat jdk.compiler/com.sun.tools.javac.code.Symtab.instance(Symtab.java:89)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.&lt;init&gt;(Attr.java:128)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Attr.instance(Attr.java:119)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Annotate.&lt;init&gt;(Annotate.java:109)\r\n\tat jdk.compiler/com.sun.tools.javac.comp.Annotate.instance(Annotate.java:84)\r\n\tat jdk.compiler/com.sun.tools.javac.jvm.ClassReader.&lt;init&gt;(ClassReader.java:235)\r\n\tat jdk.compiler/com.sun.tools.javac.jvm.ClassReader.instance(ClassReader.java:228)\r\n\tat jdk.compiler/com.sun.tools.javac.code.ClassFinder.&lt;init&gt;(ClassFinder.java:180)\r\n\tat jdk.compiler/com.sun.tools.javac.code.ClassFinder.instance(ClassFinder.java:173)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.&lt;init&gt;(JavaCompiler.java:386)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.instance(JavaCompiler.java:115)\r\n\tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:291)\r\n\tat jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\r\n\tat jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\r\n\tat jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\r\n```\r\n\r\n# Already checked\r\n\r\n## Other JDKs\r\n\r\nWith java 11 it works:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:08:42 (10,6 MB/s) - ‘openjdk-11.0.2_linux-x64_bin.tar.gz’ saved [187513052/187513052]\r\n\r\n$ tar -xzf openjdk-11.0.2_linux-x64_bin.tar.gz\r\n$ jdk-11.0.2/bin/java -version \r\nopenjdk version &quot;11.0.2&quot; 2019-01-15\r\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n$ jdk-11.0.2/bin/javac -version                             \r\njavac 11.0.2\r\n$ jdk-11.0.2/bin/javac Test.java\r\n$ jdk-11.0.2/bin/java Test\r\nHello, world!\r\n```\r\n\r\nIt also works with java 9:\r\n\r\n```shell\r\n$ wget https://download.java.net/java/GA/jdk9/9.0.4/binaries/openjdk-9.0.4_linux-x64_bin.tar.gz\r\n...\r\n2022-10-24 14:31:05 (11,0 MB/s) - ‘openjdk-9.0.4_linux-x64_bin.tar.gz’ saved [206018615/206018615]\r\n$ tar -xzf openjdk-9.0.4_linux-x64_bin.tar.gz\r\n$ jdk-9.0.4/bin/java -version \r\nopenjdk version &quot;9.0.4&quot;\r\nOpenJDK Runtime Environment (build 9.0.4+11)\r\nOpenJDK 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n$ jdk-9.0.4/bin/javac -version\r\njavac 9.0.4\r\n$ jdk-9.0.4/bin/javac Test.java\r\n$ jdk-9.0.4/bin/java Test     \r\nHello, world!\r\n```\r\n\r\nSame goes with java 8, 12 and 17.\r\n\r\nI have also tried the [Zulu distributions][zulu-downloads].\r\n\r\n## Fresh install\r\n\r\nI have tried installing a fresh [Ubuntu 22.04 Desktop image][ubuntu-22-04-download] on a VirtualBox. The problem cannot be reproduced. When downloading openjdk 10 and compiling/running the simple `Test.java` file, it does work as expected. It has to be related to my machine configuration.\r\n\r\n# OS information\r\n\r\nHere are some details about my OS:\r\n\r\n```shell\r\n$ cat /etc/os-release\r\nPRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION_ID=&quot;22.04&quot;\r\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\r\nVERSION_CODENAME=jammy\r\nID=ubuntu\r\nID_LIKE=debian\r\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\r\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\r\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\r\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\r\nUBUNTU_CODENAME=jammy\r\n$ uname --all                        \r\nLinux Work-Miguel 5.15.0-52-generic #58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n[openjdk-archive]: https://jdk.java.net/archive/\r\n[zulu-downloads]: https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\r\n[ubuntu-22-04-download]: https://releases.ubuntu.com/22.04/","title":"Cannot compile with openjdk10, but can with openjdk11 and openjdk9","body":"<h1>The problem</h1>\n<p>I need to use JDK10 to compile a legacy project I have to work on. I know it is a short-term support release whose lifetime has ended. But before the project is updated to a newer Java version I need to be able to build and run it on my development machine.</p>\n<blockquote>\n<p>Note: The project does build correctly on its CI pipeline and does run on the production environment. The problem is not related to the project but to my machine.</p>\n</blockquote>\n<p>The problem I am running into is I <strong>cannot compile any java code with JDK10</strong>, but <strong>other JDKs</strong> such as 8, 9, 11, 12 and 17 <strong>do work</strong>.</p>\n<h1>Reproduce the problem</h1>\n<p>To showcase my problem, I am trying to compile a simple hello world program <code>Test.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n</code></pre>\n<p>I am using the prebuilt JDK from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">OpenJDK</a>, but I have also tried and reproduced this problem with the <a href=\"https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">Zulu</a> distribution.</p>\n<p>I can consistently reproduce the problem with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk10/10.0.2/19aef61b38124481863b1413dce1855f/13/openjdk-10.0.2_linux-x64_bin.tar.gz\n...\n2022-10-24 14:10:31 (11,1 MB/s) - ‘openjdk-10.0.2_linux-x64_bin.tar.gz’ saved [204892533/204892533]\n$ tar -xzf openjdk-10.0.2_linux-x64_bin.tar.gz\n$ jdk-10.0.2/bin/java -version \nopenjdk version &quot;10.0.2&quot; 2018-07-17\nOpenJDK Runtime Environment 18.3 (build 10.0.2+13)\nOpenJDK 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)\n$ jdk-10.0.2/bin/javac -version                             \njavac 10.0.2\n$ jdk-10.0.2/bin/javac Test.java\nException in thread &quot;main&quot; java.lang.ClassFormatError: Ille in class file &lt;Unknown&gt;\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.defineAnonymousClass(Unsafe.java:1223)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:320)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:188)\n    at java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:317)\n    at java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:330)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:250)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:240)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.doEnterClass(Symtab.java:700)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:714)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.enterClass(Symtab.java:275)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.&lt;init&gt;(Symtab.java:485)\n    at jdk.compiler/com.sun.tools.javac.code.Symtab.instance(Symtab.java:89)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.&lt;init&gt;(Attr.java:128)\n    at jdk.compiler/com.sun.tools.javac.comp.Attr.instance(Attr.java:119)\n    at jdk.compiler/com.sun.tools.javac.comp.Annotate.&lt;init&gt;(Annotate.java:109)\n    at jdk.compiler/com.sun.tools.javac.comp.Annotate.instance(Annotate.java:84)\n    at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.&lt;init&gt;(ClassReader.java:235)\n    at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.instance(ClassReader.java:228)\n    at jdk.compiler/com.sun.tools.javac.code.ClassFinder.&lt;init&gt;(ClassFinder.java:180)\n    at jdk.compiler/com.sun.tools.javac.code.ClassFinder.instance(ClassFinder.java:173)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.&lt;init&gt;(JavaCompiler.java:386)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.instance(JavaCompiler.java:115)\n    at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:291)\n    at jdk.compiler/com.sun.tools.javac.main.Main.compile(Main.java:165)\n    at jdk.compiler/com.sun.tools.javac.Main.compile(Main.java:57)\n    at jdk.compiler/com.sun.tools.javac.Main.main(Main.java:43)\n</code></pre>\n<h1>Already checked</h1>\n<h2>Other JDKs</h2>\n<p>With java 11 it works:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz\n...\n2022-10-24 14:08:42 (10,6 MB/s) - ‘openjdk-11.0.2_linux-x64_bin.tar.gz’ saved [187513052/187513052]\n\n$ tar -xzf openjdk-11.0.2_linux-x64_bin.tar.gz\n$ jdk-11.0.2/bin/java -version \nopenjdk version &quot;11.0.2&quot; 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n$ jdk-11.0.2/bin/javac -version                             \njavac 11.0.2\n$ jdk-11.0.2/bin/javac Test.java\n$ jdk-11.0.2/bin/java Test\nHello, world!\n</code></pre>\n<p>It also works with java 9:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://download.java.net/java/GA/jdk9/9.0.4/binaries/openjdk-9.0.4_linux-x64_bin.tar.gz\n...\n2022-10-24 14:31:05 (11,0 MB/s) - ‘openjdk-9.0.4_linux-x64_bin.tar.gz’ saved [206018615/206018615]\n$ tar -xzf openjdk-9.0.4_linux-x64_bin.tar.gz\n$ jdk-9.0.4/bin/java -version \nopenjdk version &quot;9.0.4&quot;\nOpenJDK Runtime Environment (build 9.0.4+11)\nOpenJDK 64-Bit Server VM (build 9.0.4+11, mixed mode)\n$ jdk-9.0.4/bin/javac -version\njavac 9.0.4\n$ jdk-9.0.4/bin/javac Test.java\n$ jdk-9.0.4/bin/java Test     \nHello, world!\n</code></pre>\n<p>Same goes with java 8, 12 and 17.</p>\n<p>I have also tried the <a href=\"https://www.azul.com/downloads/?os=ubuntu&amp;architecture=x86-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">Zulu distributions</a>.</p>\n<h2>Fresh install</h2>\n<p>I have tried installing a fresh <a href=\"https://releases.ubuntu.com/22.04/\" rel=\"nofollow noreferrer\">Ubuntu 22.04 Desktop image</a> on a VirtualBox. The problem cannot be reproduced. When downloading openjdk 10 and compiling/running the simple <code>Test.java</code> file, it does work as expected. It has to be related to my machine configuration.</p>\n<h1>OS information</h1>\n<p>Here are some details about my OS:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cat /etc/os-release\nPRETTY_NAME=&quot;Ubuntu 22.04.1 LTS&quot;\nNAME=&quot;Ubuntu&quot;\nVERSION_ID=&quot;22.04&quot;\nVERSION=&quot;22.04.1 LTS (Jammy Jellyfish)&quot;\nVERSION_CODENAME=jammy\nID=ubuntu\nID_LIKE=debian\nHOME_URL=&quot;https://www.ubuntu.com/&quot;\nSUPPORT_URL=&quot;https://help.ubuntu.com/&quot;\nBUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;\nPRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;\nUBUNTU_CODENAME=jammy\n$ uname --all                        \nLinux Work-Miguel 5.15.0-52-generic #58-Ubuntu SMP Thu Oct 13 08:03:55 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-recyclerview"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1667001508,"post_id":74241602,"comment_id":131075248,"body_markdown":"`setContentView(R.layout.product_list_fragment);` – You&#39;re setting the `Activity`&#39;s layout to the `Fragment`&#39;s layout – which is the `&lt;RecyclerView&gt;` – and then trying to transact a `Fragment` into that `RecyclerView`. That&#39;s where it&#39;s throwing, when `LayoutInflater` asks the `Activity`&#39;s `RecyclerView` for `LayoutParams` in the `Fragment`&#39;s `onCreateView()`. Do you have a separate `Activity` layout that you meant to use there? Like something with an empty `&lt;FrameLayout&gt;` that&#39;s meant to hold the `Fragment`? In any case, you don&#39;t want to use the `Fragment`&#39;s.","body":"<code>setContentView(R.layout.product_list_fragment);</code> – You&#39;re setting the <code>Activity</code>&#39;s layout to the <code>Fragment</code>&#39;s layout – which is the <code>&lt;RecyclerView&gt;</code> – and then trying to transact a <code>Fragment</code> into that <code>RecyclerView</code>. That&#39;s where it&#39;s throwing, when <code>LayoutInflater</code> asks the <code>Activity</code>&#39;s <code>RecyclerView</code> for <code>LayoutParams</code> in the <code>Fragment</code>&#39;s <code>onCreateView()</code>. Do you have a separate <code>Activity</code> layout that you meant to use there? Like something with an empty <code>&lt;FrameLayout&gt;</code> that&#39;s meant to hold the <code>Fragment</code>? In any case, you don&#39;t want to use the <code>Fragment</code>&#39;s."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1667001943,"post_id":74241602,"comment_id":131075289,"body_markdown":"Looking again, I think you meant for `super(R.layout.main);` in the constructor to set the layout, so you can just get rid of the `setContentView()` call. You need to make sure, though, that the `R.id` in the `.add(R.id.productlist_recycler, …)` call is the right `android:id` for some `&lt;ViewGroup&gt;` in the `main` layout that the `Fragment` can be placed into.","body":"Looking again, I think you meant for <code>super(R.layout.main);</code> in the constructor to set the layout, so you can just get rid of the <code>setContentView()</code> call. You need to make sure, though, that the <code>R.id</code> in the <code>.add(R.id.productlist_recycler, …)</code> call is the right <code>android:id</code> for some <code>&lt;ViewGroup&gt;</code> in the <code>main</code> layout that the <code>Fragment</code> can be placed into."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1667002253,"post_id":74241602,"comment_id":131075333,"body_markdown":"Also, you need to `return v;` instead from `ProductListFragment`&#39;s `onCreateView()`.","body":"Also, you need to <code>return v;</code> instead from <code>ProductListFragment</code>&#39;s <code>onCreateView()</code>."},{"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"score":1,"creation_date":1667030201,"post_id":74241602,"comment_id":131078085,"body_markdown":"@MikeM. Thanks a lot. I do have a layout.main that has an FragmentContainerView. I thought the RecyclerView would function the same as it. Now my App doesn&#39;t give me the error anymore. It doesn&#39;t show the correct layout though, but I can fix that. Thanks a lot again.","body":"@MikeM. Thanks a lot. I do have a layout.main that has an FragmentContainerView. I thought the RecyclerView would function the same as it. Now my App doesn&#39;t give me the error anymore. It doesn&#39;t show the correct layout though, but I can fix that. Thanks a lot again."}],"owner":{"account_id":24217927,"reputation":13,"user_id":18173525,"display_name":"ShinyStar MaybeNot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667029771,"creation_date":1666997518,"question_id":74241602,"body_markdown":"In my task I have to make for the Recycle View it&#39;s own xml file. But now I get the error of &quot;RecyclerView has no LayoutManager&quot; at the point I inflate it.\r\n\r\nEven so my task states that I have to include the Fragment part and service like this:\r\n   1. Create a single instance of the MusicStoreService in the MainActivity and provide a getter method.\r\n   2. In the ProductListFragment use (MainActivity) getActivity() to access the parent activity and from there the service.\r\n   3. Pass the service on to the ProductListAdapter&#39;s constructor\r\n\r\nHere are the files:\r\n\r\nMain.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    MusicStoreService music;\r\n    public MainActivity() {\r\n        super(R.layout.main);\r\n        System.out.println(&quot;MS2021: MainActivity/&quot;+&quot;MainActivity&quot;.hashCode()+&quot;: MainActivity() - created&quot;);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        music = new MusicStoreServiceMock();\r\n     \r\n        setContentView(R.layout.product_list_fragment);\r\n\r\n        if (savedInstanceState == null) {\r\n            System.out.println(&quot;MS2021: MainActivity/&quot; + &quot;MainActivity&quot;.hashCode() + &quot; onCreate()&quot;);\r\n            getSupportFragmentManager().beginTransaction()\r\n                    .setReorderingAllowed(true)\r\n                    .add(R.id.productlist_recycler, ProductListFragment.class, null)\r\n                    .commit();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public MusicStoreService getMusic() {\r\n        return music;\r\n    }\r\n```\r\n\r\nProductListFragement.java\r\n```\r\npublic class ProductListFragment extends Fragment {\r\n    RecyclerView  recyclerView;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\r\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\r\n\r\n        recyclerView.setHasFixedSize(true);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n\r\n        try {\r\n            recyclerView.setAdapter(new ProductListAdapter(((MainActivity) getActivity()).getMusic()));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return super.onCreateView(inflater, container, savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        ProductListAdapter pld = null;\r\n        try {\r\n            pld = new ProductListAdapter(new MusicStoreServiceMock());\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        recyclerView.setAdapter(pld);\r\n    }\r\n}\r\n```\r\nProductListAdapter.java\r\n```\r\npublic class ProductListAdapter extends RecyclerView.Adapter&lt;ProductListAdapter.ViewHolder&gt;{\r\n\r\n    private List&lt;Product&gt; products;\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView produzer;\r\n        private TextView productName;\r\n        private TextView priceNumber;\r\n\r\n        public ViewHolder(View view,TextView produzer, TextView productName, TextView price) {\r\n            super(view);\r\n            this.produzer = produzer;\r\n            this.productName = productName;\r\n            this.priceNumber = price;\r\n        }\r\n\r\n        public TextView getProduzer() {\r\n            return produzer;\r\n        }\r\n\r\n        public TextView getProductName() {\r\n            return productName;\r\n        }\r\n\r\n        public TextView getPriceNumber() {\r\n            return priceNumber;\r\n        }\r\n\r\n        public void setProduzer(TextView produzer) {\r\n            this.produzer = produzer;\r\n        }\r\n\r\n        public void setProductName(TextView productName) {\r\n            this.productName = productName;\r\n        }\r\n\r\n        public void setPriceNumber(TextView priceNumber) {\r\n            this.priceNumber = priceNumber;\r\n        }\r\n    }\r\n\r\n\r\n    public ProductListAdapter(MusicStoreService dataSet) throws FileNotFoundException {\r\n        products = dataSet.getProducts();\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n\r\n        View view = LayoutInflater.from(viewGroup.getContext())\r\n                .inflate(R.layout\r\n                        .product_list_layout, viewGroup, false);\r\n\r\n        return new ViewHolder(view,view.findViewById(R.id.produzer),view.findViewById(R.id.productName),view.findViewById(R.id.priceNumber));\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\r\n        NumberFormat format = NumberFormat.getCurrencyInstance();\r\n        format.setCurrency(Currency.getInstance(&quot;EUR&quot;));\r\n        String price = format.format(products.get(position).getPrice().doubleValue());\r\n\r\n        viewHolder.getProduzer().setText(products.get(position).getManufacturer());\r\n        viewHolder.getProductName().setText(products.get(position).getName());\r\n        viewHolder.getPriceNumber().setText(price);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n}\r\n```\r\n\r\nproduct_list_fragment.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.recyclerview.widget.RecyclerView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/productlist_recycler&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:scrollbars=&quot;vertical&quot; /&gt;\r\n```\r\n\r\nproduct_list_layout.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/listLayout&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;7dp&quot;\r\n\r\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/produzer&quot;\r\n                android:layout_width=&quot;201dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Hoi&quot;\r\n\r\n                /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/productName&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Hoisss&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;16dp&quot;\r\n                /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/priceNumber&quot;\r\n            android:text=&quot;HoiNumber&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textAlignment=&quot;textEnd&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            tools:ignore=&quot;RtlCompat&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nMusicStoreService is an interface which is implemented in MusicStoreServiceMock.\r\n\r\nThe error from Logcat:\r\n```\r\nandroid.view.InflateException: Binary XML file line #2 in at.hlpinkafeld.android.musicstore:layout/product_list_fragment: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\r\n    Caused by: java.lang.IllegalStateException: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\r\n        at androidx.recyclerview.widget.RecyclerView.generateLayoutParams(RecyclerView.java:4514)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:673)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n        at at.hlpinkafeld.android.musicstore.fragments.ProductListFragment.onCreateView(ProductListFragment.java:32)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2985)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2895)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1455)\r\n        at android.app.Activity.performStart(Activity.java:8076)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3660)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\nI really apperiate any help or an explaination why the way I have it now won&#39;t work. \r\nAny help is really apperiated.\r\n","title":"How do I inflate a RecylerView? Why do I get an RecyclerView has no LayoutManager error?","body":"<p>In my task I have to make for the Recycle View it's own xml file. But now I get the error of &quot;RecyclerView has no LayoutManager&quot; at the point I inflate it.</p>\n<p>Even so my task states that I have to include the Fragment part and service like this:</p>\n<ol>\n<li>Create a single instance of the MusicStoreService in the MainActivity and provide a getter method.</li>\n<li>In the ProductListFragment use (MainActivity) getActivity() to access the parent activity and from there the service.</li>\n<li>Pass the service on to the ProductListAdapter's constructor</li>\n</ol>\n<p>Here are the files:</p>\n<p>Main.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MusicStoreService music;\n    public MainActivity() {\n        super(R.layout.main);\n        System.out.println(&quot;MS2021: MainActivity/&quot;+&quot;MainActivity&quot;.hashCode()+&quot;: MainActivity() - created&quot;);\n    }\n\n    @Nullable\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        music = new MusicStoreServiceMock();\n     \n        setContentView(R.layout.product_list_fragment);\n\n        if (savedInstanceState == null) {\n            System.out.println(&quot;MS2021: MainActivity/&quot; + &quot;MainActivity&quot;.hashCode() + &quot; onCreate()&quot;);\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .add(R.id.productlist_recycler, ProductListFragment.class, null)\n                    .commit();\n            System.out.println();\n        }\n    }\n\n    public MusicStoreService getMusic() {\n        return music;\n    }\n</code></pre>\n<p>ProductListFragement.java</p>\n<pre><code>public class ProductListFragment extends Fragment {\n    RecyclerView  recyclerView;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.product_list_fragment, container, false);\n        recyclerView = (RecyclerView) v.findViewById(R.id.productlist_recycler);\n\n        recyclerView.setHasFixedSize(true);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(layoutManager);\n\n        try {\n            recyclerView.setAdapter(new ProductListAdapter(((MainActivity) getActivity()).getMusic()));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return super.onCreateView(inflater, container, savedInstanceState);\n    }\n\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        ProductListAdapter pld = null;\n        try {\n            pld = new ProductListAdapter(new MusicStoreServiceMock());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        recyclerView.setAdapter(pld);\n    }\n}\n</code></pre>\n<p>ProductListAdapter.java</p>\n<pre><code>public class ProductListAdapter extends RecyclerView.Adapter&lt;ProductListAdapter.ViewHolder&gt;{\n\n    private List&lt;Product&gt; products;\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView produzer;\n        private TextView productName;\n        private TextView priceNumber;\n\n        public ViewHolder(View view,TextView produzer, TextView productName, TextView price) {\n            super(view);\n            this.produzer = produzer;\n            this.productName = productName;\n            this.priceNumber = price;\n        }\n\n        public TextView getProduzer() {\n            return produzer;\n        }\n\n        public TextView getProductName() {\n            return productName;\n        }\n\n        public TextView getPriceNumber() {\n            return priceNumber;\n        }\n\n        public void setProduzer(TextView produzer) {\n            this.produzer = produzer;\n        }\n\n        public void setProductName(TextView productName) {\n            this.productName = productName;\n        }\n\n        public void setPriceNumber(TextView priceNumber) {\n            this.priceNumber = priceNumber;\n        }\n    }\n\n\n    public ProductListAdapter(MusicStoreService dataSet) throws FileNotFoundException {\n        products = dataSet.getProducts();\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n\n        View view = LayoutInflater.from(viewGroup.getContext())\n                .inflate(R.layout\n                        .product_list_layout, viewGroup, false);\n\n        return new ViewHolder(view,view.findViewById(R.id.produzer),view.findViewById(R.id.productName),view.findViewById(R.id.priceNumber));\n    }\n\n\n    @Override\n    public void onBindViewHolder(ViewHolder viewHolder, final int position) {\n        NumberFormat format = NumberFormat.getCurrencyInstance();\n        format.setCurrency(Currency.getInstance(&quot;EUR&quot;));\n        String price = format.format(products.get(position).getPrice().doubleValue());\n\n        viewHolder.getProduzer().setText(products.get(position).getManufacturer());\n        viewHolder.getProductName().setText(products.get(position).getName());\n        viewHolder.getPriceNumber().setText(price);\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return products.size();\n    }\n}\n</code></pre>\n<p>product_list_fragment.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.recyclerview.widget.RecyclerView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/productlist_recycler&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:scrollbars=&quot;vertical&quot; /&gt;\n</code></pre>\n<p>product_list_layout.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/listLayout&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;7dp&quot;\n\n        tools:ignore=&quot;MissingConstraints&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            &gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/produzer&quot;\n                android:layout_width=&quot;201dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Hoi&quot;\n\n                /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/productName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Hoisss&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;16dp&quot;\n                /&gt;\n        &lt;/LinearLayout&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:id=&quot;@+id/priceNumber&quot;\n            android:text=&quot;HoiNumber&quot;\n            android:gravity=&quot;center&quot;\n            android:textAlignment=&quot;textEnd&quot;\n            android:textSize=&quot;20dp&quot;\n            tools:ignore=&quot;RtlCompat&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MusicStoreService is an interface which is implemented in MusicStoreServiceMock.</p>\n<p>The error from Logcat:</p>\n<pre><code>android.view.InflateException: Binary XML file line #2 in at.hlpinkafeld.android.musicstore:layout/product_list_fragment: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\n    Caused by: java.lang.IllegalStateException: RecyclerView has no LayoutManager androidx.recyclerview.widget.RecyclerView{f251fbc VFED.V... ......I. 0,0-0,0 #7f0901ed app:id/productlist_recycler}, adapter:null, layout:null, context:at.hlpinkafeld.android.musicstore.MainActivity@c57a6e8\n        at androidx.recyclerview.widget.RecyclerView.generateLayoutParams(RecyclerView.java:4514)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:673)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n        at at.hlpinkafeld.android.musicstore.fragments.ProductListFragment.onCreateView(ProductListFragment.java:32)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:3104)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:524)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1823)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1760)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2985)\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:2895)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:263)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:351)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1455)\n        at android.app.Activity.performStart(Activity.java:8076)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3660)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2210)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I really apperiate any help or an explaination why the way I have it now won't work.\nAny help is really apperiated.</p>\n"},{"tags":["java","string","split","substring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667006595,"post_id":74242187,"comment_id":131075754,"body_markdown":"What do you mean by &quot;efficient&quot;?","body":"What do you mean by &quot;efficient&quot;?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667006776,"post_id":74242187,"comment_id":131075775,"body_markdown":"See https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774","body":"See <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"score":0,"creation_date":1667006898,"post_id":74242187,"comment_id":131075789,"body_markdown":"Just any piece of code that works. I meant shorter rather than efficient.","body":"Just any piece of code that works. I meant shorter rather than efficient."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667007172,"post_id":74242187,"comment_id":131075819,"body_markdown":"Just use `split`. Which is neither time nor space efficient, as it uses a regex and makes copies of parts of the string you con&#39;t care about.","body":"Just use <code>split</code>. Which is neither time nor space efficient, as it uses a regex and makes copies of parts of the string you con&#39;t care about."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667007964,"post_id":74242187,"comment_id":131075887,"body_markdown":"Your examples all have the part you want to extract in position 9.  Is that always going to be the case?  Or will it vary? `abcd:e:fghijk:123:trwe` for example?","body":"Your examples all have the part you want to extract in position 9.  Is that always going to be the case?  Or will it vary? <code>abcd:e:fghijk:123:trwe</code> for example?"},{"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"score":0,"creation_date":1667020326,"post_id":74242187,"comment_id":131076902,"body_markdown":"&quot;What is a short way in Java using string functions to extract it?&quot; - The call to a dedicated method. I mean, if the correct abstraction of your requirement is indeed &quot;extract the string between the 3rd colon and the 4th colon&quot;, and you want to write fast efficient code, it&#39;s gonna be a few lines in said method.","body":"&quot;What is a short way in Java using string functions to extract it?&quot; - The call to a dedicated method. I mean, if the correct abstraction of your requirement is indeed &quot;extract the string between the 3rd colon and the 4th colon&quot;, and you want to write fast efficient code, it&#39;s gonna be a few lines in said method."}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1667029038,"creation_date":1667007554,"answer_id":74242285,"question_id":74242187,"body_markdown":"You can just split by &quot;:&quot; and get the fourth element:\r\n\r\nsomething like:\r\n\r\n```\r\nStream.of(&quot;ab:ab:ab:1:ab&quot;, &quot;ac:ac:ac:2:ac&quot;, &quot;ad:ad:ad:3:ad&quot;)\r\n      .map(s -&gt; s.split(&quot;:&quot;)[3])\r\n      .forEach(System.out::println);\r\n\r\n```\r\nOutput:\r\n```\r\n1\r\n2\r\n3","title":"Get substring between 3rd colon and 4th colon","body":"<p>You can just split by &quot;:&quot; and get the fourth element:</p>\n<p>something like:</p>\n<pre><code>Stream.of(&quot;ab:ab:ab:1:ab&quot;, &quot;ac:ac:ac:2:ac&quot;, &quot;ad:ad:ad:3:ad&quot;)\n      .map(s -&gt; s.split(&quot;:&quot;)[3])\n      .forEach(System.out::println);\n\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n2\n3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667016321,"creation_date":1667016321,"answer_id":74242749,"question_id":74242187,"body_markdown":"And as an alternative, replace the entire string with the desired item via a capture.\r\n- `(?:.*?:){3}` - non capturing group of three reluctant strings followed by a `:`\r\n- `(.*?)` - the capture of the target between 3rd and 4th colon.\r\n- `.*$` - the rest of the string to the end.\r\n- `$1` - the reference to the first (and only) capture group\r\n```\r\nString[] data = { &quot;ab:ab:ab:1:ab&quot;,\r\n &quot;ac:ac:ac:2:ac&quot;,\r\n &quot;ad:ad:ad:3:ad&quot;};\r\n\r\nfor (String str : data) {\r\n    System.out.println(str.replaceAll(&quot;(?:.*?:){3}(.*?):.*$&quot;,&quot;$1&quot;));\r\n}\r\n```\r\nprints\r\n```\r\n1\r\n2\r\n3","title":"Get substring between 3rd colon and 4th colon","body":"<p>And as an alternative, replace the entire string with the desired item via a capture.</p>\n<ul>\n<li><code>(?:.*?:){3}</code> - non capturing group of three reluctant strings followed by a <code>:</code></li>\n<li><code>(.*?)</code> - the capture of the target between 3rd and 4th colon.</li>\n<li><code>.*$</code> - the rest of the string to the end.</li>\n<li><code>$1</code> - the reference to the first (and only) capture group</li>\n</ul>\n<pre><code>String[] data = { &quot;ab:ab:ab:1:ab&quot;,\n &quot;ac:ac:ac:2:ac&quot;,\n &quot;ad:ad:ad:3:ad&quot;};\n\nfor (String str : data) {\n    System.out.println(str.replaceAll(&quot;(?:.*?:){3}(.*?):.*$&quot;,&quot;$1&quot;));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1\n2\n3\n</code></pre>\n"}],"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74242285,"answer_count":2,"score":0,"last_activity_date":1667029038,"creation_date":1667005892,"question_id":74242187,"body_markdown":"I have strings in the below pattern:\r\n\r\n    ab:ab:ab:1:ab\r\n    ac:ac:ac:2:ac\r\n    ad:ad:ad:3:ad\r\n\r\nI have to extract the string between the `3rd colon` and the `4th colon`.\r\n\r\nFor the above example strings, the results would be `&quot;1&quot;`, `&quot;2&quot;` and `&quot;3&quot;`.\r\n\r\nWhat is a short way in Java using string functions to extract it?\r\n","title":"Get substring between 3rd colon and 4th colon","body":"<p>I have strings in the below pattern:</p>\n<pre><code>ab:ab:ab:1:ab\nac:ac:ac:2:ac\nad:ad:ad:3:ad\n</code></pre>\n<p>I have to extract the string between the <code>3rd colon</code> and the <code>4th colon</code>.</p>\n<p>For the above example strings, the results would be <code>&quot;1&quot;</code>, <code>&quot;2&quot;</code> and <code>&quot;3&quot;</code>.</p>\n<p>What is a short way in Java using string functions to extract it?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1666984439,"post_id":74239099,"comment_id":131071936,"body_markdown":"In your client code call at first `generateData()` and afterwards call `saveToAnotherRepository()` when you need them both in a series. Your nesting of method calls, in particular each with a different transaction type, makes no sense to me and will fail as well.","body":"In your client code call at first <code>generateData()</code> and afterwards call <code>saveToAnotherRepository()</code> when you need them both in a series. Your nesting of method calls, in particular each with a different transaction type, makes no sense to me and will fail as well."},{"owner":{"account_id":4417609,"reputation":83,"user_id":3598686,"display_name":"adnan.mujkic"},"score":0,"creation_date":1667028385,"post_id":74239099,"comment_id":131077834,"body_markdown":"In the `generateData()` method, a large zip file is created, and therefore it needs to be in a read only transaction, because I get a Server Time-out otherwise. The `saveToAnotherMethod()` writes information about that zip itself, an thus thay can’t be called in two separate calls.","body":"In the <code>generateData()</code> method, a large zip file is created, and therefore it needs to be in a read only transaction, because I get a Server Time-out otherwise. The <code>saveToAnotherMethod()</code> writes information about that zip itself, an thus thay can’t be called in two separate calls."},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667065799,"post_id":74239099,"comment_id":131084673,"body_markdown":"It can; collect these information while you&#39;re in `generateData()` and utilize it afterwards in `saveToAnotherRepository(Map&lt;String, Object&gt; ids)` where it&#39;s needed.","body":"It can; collect these information while you&#39;re in <code>generateData()</code> and utilize it afterwards in <code>saveToAnotherRepository(Map&lt;String, Object&gt; ids)</code> where it&#39;s needed."}],"owner":{"account_id":4417609,"reputation":83,"user_id":3598686,"display_name":"adnan.mujkic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667028942,"creation_date":1666979126,"question_id":74239099,"body_markdown":"I have a method, which has to be read only for performance reasons. Inside that method i have to performe an repository update by calling another method which is not read only. \r\n\r\n````\r\n@Transactional(readOnly = true) \r\nvoid generateData(){\r\n    //...generating data and adding result to informationAboutGeneratedData\r\n\tsaveToAnotherRepository(informationAboutGeneratedData);\r\n}\r\n\r\n@Transactional(readOnly = false)\r\nvoid saveToAnotherRepository(informationAboutGeneratedData){\r\n\t// save entity to repository\r\n    AnotherRepository.save(informationAboutGeneratedData);\r\n}\r\n\r\n````\r\n\r\nis there a way to do that?\r\n\r\n","title":"Save entity to repository in a read only transaction","body":"<p>I have a method, which has to be read only for performance reasons. Inside that method i have to performe an repository update by calling another method which is not read only.</p>\n<pre><code>@Transactional(readOnly = true) \nvoid generateData(){\n    //...generating data and adding result to informationAboutGeneratedData\n    saveToAnotherRepository(informationAboutGeneratedData);\n}\n\n@Transactional(readOnly = false)\nvoid saveToAnotherRepository(informationAboutGeneratedData){\n    // save entity to repository\n    AnotherRepository.save(informationAboutGeneratedData);\n}\n\n</code></pre>\n<p>is there a way to do that?</p>\n"},{"tags":["java","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667028482,"creation_date":1666990557,"answer_id":74240824,"question_id":74240771,"body_markdown":"```java\r\npublic static String getContentFromFile(Path file) throws IOException {\r\n    StringBuilder buf = new StringBuilder();\r\n    boolean add = false;\r\n\r\n    for (String line : Files.readAllLines(file)) {\r\n        if (&quot;end.&quot;.equalsIgnoreCase(line.trim()))\r\n            break;\r\n        if (add)\r\n            buf.append(line).append(System.lineSeparator());\r\n        else if (&quot;procedure something:&quot;.equalsIgnoreCase(line.trim()))\r\n            add = true;\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"Get range of lines in file","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String getContentFromFile(Path file) throws IOException {\n    StringBuilder buf = new StringBuilder();\n    boolean add = false;\n\n    for (String line : Files.readAllLines(file)) {\n        if (&quot;end.&quot;.equalsIgnoreCase(line.trim()))\n            break;\n        if (add)\n            buf.append(line).append(System.lineSeparator());\n        else if (&quot;procedure something:&quot;.equalsIgnoreCase(line.trim()))\n            add = true;\n    }\n\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666990994,"creation_date":1666990994,"answer_id":74240887,"question_id":74240771,"body_markdown":"    final StringBuilder sb = new StringBuilder();\r\n    try (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\r\n        String line;\r\n        boolean rememberStuff = false;\r\n        while ((line = br.readLine()) != null) {\r\n            if (line.startsWith(&quot;procedure &quot;)) {\r\n                rememberStuff = true;\r\n            } else if (line.startsWith(&quot;end.&quot;)) {\r\n                rememberStuff = false;\r\n            } else if (rememberStuff) {\r\n                sb.append(line).append(&#39;\\n&#39;);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.err.println(&quot;Lines found between procedure and end:&quot;);\r\n    System.err.println(sb);\r\n\r\n","title":"Get range of lines in file","body":"<pre><code>final StringBuilder sb = new StringBuilder();\ntry (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\n    String line;\n    boolean rememberStuff = false;\n    while ((line = br.readLine()) != null) {\n        if (line.startsWith(&quot;procedure &quot;)) {\n            rememberStuff = true;\n        } else if (line.startsWith(&quot;end.&quot;)) {\n            rememberStuff = false;\n        } else if (rememberStuff) {\n            sb.append(line).append('\\n');\n        }\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\nSystem.err.println(&quot;Lines found between procedure and end:&quot;);\nSystem.err.println(sb);\n</code></pre>\n"}],"owner":{"account_id":10757515,"reputation":103,"user_id":7915012,"display_name":"papi3301"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240887,"answer_count":2,"score":0,"last_activity_date":1667028482,"creation_date":1666990229,"question_id":74240771,"body_markdown":"i would like to save in a string multiple lines from reading file, eg: I am reading one file.txt with the following content:\r\n\r\n```\r\ndef var x as int.\r\ndef var y as char.\r\n\r\nprocedure something:\r\n\t//here some content\r\nend.\r\n```\r\n\r\nI would like to catch content between &quot;procedure&quot; and &quot;end&quot;.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        String piContent = &quot;&quot;;\r\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                if(line.contains(&quot;procedure&quot;)){\r\n                    piContent = line;\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n}\r\n```\r\n\r\nI appreciate any help.","title":"Get range of lines in file","body":"<p>i would like to save in a string multiple lines from reading file, eg: I am reading one file.txt with the following content:</p>\n<pre><code>def var x as int.\ndef var y as char.\n\nprocedure something:\n    //here some content\nend.\n</code></pre>\n<p>I would like to catch content between &quot;procedure&quot; and &quot;end&quot;.</p>\n<pre><code>public static void main(String[] args) {\n        String piContent = &quot;&quot;;\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                if(line.contains(&quot;procedure&quot;)){\n                    piContent = line;\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n}\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","postgresql","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":3861784,"reputation":8519,"user_id":3199351,"accept_rate":35,"display_name":"Abdeali Chandanwala"},"score":0,"creation_date":1673253623,"post_id":61981787,"comment_id":132448281,"body_markdown":"this is a problem with H2 database as well. I was getting incorrect SQL syntax errors and hours later I found this and tried it and it started working. Good Question","body":"this is a problem with H2 database as well. I was getting incorrect SQL syntax errors and hours later I found this and tried it and it started working. Good Question"}],"answers":[{"tags":[],"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1590296825,"creation_date":1590296825,"answer_id":61981879,"question_id":61981787,"body_markdown":"user is a reserved word in SQL and Postgres. To avoid this, either you change the table name or define the table name as ```@Table(name=&quot;`user`&quot;)```\r\n\r\nplease check \r\nhttps://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>user is a reserved word in SQL and Postgres. To avoid this, either you change the table name or define the table name as <code>@Table(name=\"`user`\")</code></p>\n\n<p>please check \n<a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31\" rel=\"noreferrer\">https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/quote/User.java#L31</a></p>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1590297136,"creation_date":1590296827,"answer_id":61981880,"question_id":61981787,"body_markdown":"In PostgreSQL `user` is a reserved keyword. Use quotes like `&quot;user&quot;` for table name using `@Table`\r\n\r\n    @Table(name = &quot;\\&quot;user\\&quot;&quot;)\r\n    public class User {\r\n\r\nBetter naming for table name is to use a plural form like `users`.\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>In PostgreSQL <code>user</code> is a reserved keyword. Use quotes like <code>\"user\"</code> for table name using <code>@Table</code></p>\n\n<pre><code>@Table(name = \"\\\"user\\\"\")\npublic class User {\n</code></pre>\n\n<p>Better naming for table name is to use a plural form like <code>users</code>.</p>\n\n<pre><code>@Table(name = \"users\")\npublic class User {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17139376,"reputation":21,"user_id":12403754,"display_name":"Vyankatesh kulkarni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667028102,"creation_date":1667028102,"answer_id":74243523,"question_id":61981787,"body_markdown":"I was using `user` as a table name. changing it to `@Table(name=&quot;users&quot;)` worked for me.","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>I was using <code>user</code> as a table name. changing it to <code>@Table(name=&quot;users&quot;)</code> worked for me.</p>\n"}],"owner":{"account_id":15024828,"reputation":193,"user_id":10845042,"display_name":"Emmanuel Arthur Mandeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12963,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":61981880,"answer_count":3,"score":19,"last_activity_date":1667028102,"creation_date":1590295920,"question_id":61981787,"body_markdown":"guys. I&#39;m having a problem with a Spring boot 2.3.0  and PostgreSQL 12 project. I have an entity class I called User whose code is as follows:\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class User {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n    }\r\nAnd my application.properties file looks like this:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.hibernate.show-sql=true\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=*********\r\nThe concern is that when I execute my project I get a mistake like this:\r\n\r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists user cascade&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\r\n    Caused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou pr&#232;s de &#171; user &#187;\r\n      Position&#160;: 22\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \t... 18 common frames omitted\r\n    \r\n    2020-05-24 06:16:33.429  WARN 13636 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\r\n    Caused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou pr&#232;s de &#171; user &#187;\r\n      Position&#160;: 14\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\r\n    \t... 18 common frames omitted\r\n However when I change the name of my class e.g. to Person \r\n   \r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Person {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n    }\r\nI don&#39;t get any errors. Could someone help me with this in the following way or at least explain me what is wrong with the entity class User.\r\nI would also like to add that when in doubt I tested this code with MySQL as an alternative to PostgreSQL and got no errors.","title":"Is there a rule that forbids to name its entity class &quot;User&quot; when working with PostgreSQL and Spring Boot?","body":"<p>guys. I'm having a problem with a Spring boot 2.3.0  and PostgreSQL 12 project. I have an entity class I called User whose code is as follows:</p>\n\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\n@AllArgsConstructor\n@Builder\npublic class User {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n    private String email;\n    private String firstName;\n    private String lastName;\n    private int age;\n}\n</code></pre>\n\n<p>And my application.properties file looks like this:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.hibernate.show-sql=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=*********\n</code></pre>\n\n<p>The concern is that when I execute my project I get a mistake like this:</p>\n\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"drop table if exists user cascade\" via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\nCaused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou près de « user »\n  Position : 22\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    ... 18 common frames omitted\n\n2020-05-24 06:16:33.429  WARN 13636 --- [         task-1] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL \"create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))\" via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL \"create table user (id int8 generated by default as identity, age int4 not null, email varchar(255), first_name varchar(255), last_name varchar(255), username varchar(255), primary key (id))\" via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:314) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1249) [hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_252]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_252]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_252]\nCaused by: org.postgresql.util.PSQLException: ERREUR: erreur de syntaxe sur ou près de « user »\n  Position : 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273) ~[postgresql-42.2.12.jar:42.2.12]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268) ~[postgresql-42.2.12.jar:42.2.12]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.15.Final.jar:5.4.15.Final]\n    ... 18 common frames omitted\n</code></pre>\n\n<p>However when I change the name of my class e.g. to Person </p>\n\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\n@AllArgsConstructor\n@Builder\npublic class Person {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n    private String email;\n    private String firstName;\n    private String lastName;\n    private int age;\n}\n</code></pre>\n\n<p>I don't get any errors. Could someone help me with this in the following way or at least explain me what is wrong with the entity class User.\nI would also like to add that when in doubt I tested this code with MySQL as an alternative to PostgreSQL and got no errors.</p>\n"},{"tags":["java","arrays","apache-spark","pyspark","apache-spark-sql"],"comments":[{"owner":{"account_id":10559728,"reputation":686,"user_id":7779865,"display_name":"Artem Astashov"},"score":0,"creation_date":1632832057,"post_id":69361583,"comment_id":122595204,"body_markdown":"Do you have fixed amount of elements in map or it can be changed?","body":"Do you have fixed amount of elements in map or it can be changed?"},{"owner":{"account_id":14770323,"reputation":610,"user_id":10666991,"display_name":"Ofir"},"score":0,"creation_date":1632832680,"post_id":69361583,"comment_id":122595506,"body_markdown":"@ArtemAstashov The number is not fixed but it can be blocked with a large number if needed","body":"@ArtemAstashov The number is not fixed but it can be blocked with a large number if needed"}],"answers":[{"tags":[],"owner":{"account_id":5270084,"reputation":9870,"user_id":4307136,"display_name":"ggordon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1632853579,"creation_date":1632853579,"answer_id":69366797,"question_id":69361583,"body_markdown":"The following approach will work on variable length lists in `array_column`. The approach uses `explode` to expand the list of string elements in `array_column` before splitting each string element using `:` into two different columns `col_name` and `col_val` respectively. Finally a pivot is used with a group by to transpose the data into the desired format.\r\n\r\nThe following example uses the pyspark api but can easily be translated to the java/scala apis as they are similar. I assumed your dataset is in a dataframe named `input_df`\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\n\r\noutput_df = (\r\n    input_df.select(&quot;id&quot;,F.explode(&quot;array_column&quot;).alias(&quot;acol&quot;))\r\n            .select(\r\n                &quot;id&quot;,\r\n                F.split(&quot;acol&quot;,&quot;:&quot;)[0].alias(&quot;col_name&quot;),\r\n                F.split(&quot;acol&quot;,&quot;:&quot;)[1].cast(&quot;integer&quot;).alias(&quot;col_val&quot;)\r\n            )\r\n            .groupBy(&quot;id&quot;)\r\n            .pivot(&quot;col_name&quot;)\r\n            .max(&quot;col_val&quot;)\r\n)\r\n```\r\n\r\nLet me know if this works for you.","title":"Spark explode array of string to columns","body":"<p>The following approach will work on variable length lists in <code>array_column</code>. The approach uses <code>explode</code> to expand the list of string elements in <code>array_column</code> before splitting each string element using <code>:</code> into two different columns <code>col_name</code> and <code>col_val</code> respectively. Finally a pivot is used with a group by to transpose the data into the desired format.</p>\n<p>The following example uses the pyspark api but can easily be translated to the java/scala apis as they are similar. I assumed your dataset is in a dataframe named <code>input_df</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\n\noutput_df = (\n    input_df.select(&quot;id&quot;,F.explode(&quot;array_column&quot;).alias(&quot;acol&quot;))\n            .select(\n                &quot;id&quot;,\n                F.split(&quot;acol&quot;,&quot;:&quot;)[0].alias(&quot;col_name&quot;),\n                F.split(&quot;acol&quot;,&quot;:&quot;)[1].cast(&quot;integer&quot;).alias(&quot;col_val&quot;)\n            )\n            .groupBy(&quot;id&quot;)\n            .pivot(&quot;col_name&quot;)\n            .max(&quot;col_val&quot;)\n)\n</code></pre>\n<p>Let me know if this works for you.</p>\n"},{"tags":[],"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632854176,"creation_date":1632854176,"answer_id":69366917,"question_id":69361583,"body_markdown":"A very similar approach like ggordon&#39;s answer in Java:\r\n```lang-java\r\nimport static org.apache.spark.sql.functions.*;\r\n\r\nDataset&lt;Row&gt; df = ...\r\n\r\ndf.withColumn(&quot;array_column&quot;, explode(col(&quot;array_column&quot;)))\r\n        .withColumn(&quot;array_column&quot;, split(col(&quot;array_column&quot;), &quot;:&quot;))\r\n        .withColumn(&quot;key&quot;, col(&quot;array_column&quot;).getItem(0))\r\n        .withColumn(&quot;value&quot;, col(&quot;array_column&quot;).getItem(1))\r\n        .groupBy(col(&quot;id&quot;))\r\n        .pivot(col(&quot;key&quot;))\r\n        .agg(first(&quot;value&quot;)) //1\r\n        .show();\r\n```\r\nOutput:\r\n```lang-none\r\n+---+---+---+---+\r\n| id|  a|  b|  c|\r\n+---+---+---+---+\r\n| 12|456|225|126|\r\n| 11|123|125|456|\r\n+---+---+---+---+\r\n```\r\nI assume that the combination of `id` and and the key field in the array is unique. That&#39;s why the aggregation function used at `//1` is `first`. If this combination is not unique, the aggregation function could be changed to `collect_list` in order to get an array of all matching values.","title":"Spark explode array of string to columns","body":"<p>A very similar approach like ggordon's answer in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.apache.spark.sql.functions.*;\n\nDataset&lt;Row&gt; df = ...\n\ndf.withColumn(&quot;array_column&quot;, explode(col(&quot;array_column&quot;)))\n        .withColumn(&quot;array_column&quot;, split(col(&quot;array_column&quot;), &quot;:&quot;))\n        .withColumn(&quot;key&quot;, col(&quot;array_column&quot;).getItem(0))\n        .withColumn(&quot;value&quot;, col(&quot;array_column&quot;).getItem(1))\n        .groupBy(col(&quot;id&quot;))\n        .pivot(col(&quot;key&quot;))\n        .agg(first(&quot;value&quot;)) //1\n        .show();\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+---+---+---+---+\n| id|  a|  b|  c|\n+---+---+---+---+\n| 12|456|225|126|\n| 11|123|125|456|\n+---+---+---+---+\n</code></pre>\n<p>I assume that the combination of <code>id</code> and and the key field in the array is unique. That's why the aggregation function used at <code>//1</code> is <code>first</code>. If this combination is not unique, the aggregation function could be changed to <code>collect_list</code> in order to get an array of all matching values.</p>\n"},{"tags":[],"owner":{"account_id":3269897,"reputation":22672,"user_id":2753501,"accept_rate":75,"display_name":"ZygD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667027758,"creation_date":1659360521,"answer_id":73194452,"question_id":69361583,"body_markdown":"Extracting column names from strings inside columns:\r\n\r\n- create a proper JSON string (with quote symbols around json objects and values)\r\n- create schema using this column\r\n- create struct and explode it into columns\r\n\r\nInput example:\r\n\r\n```python\r\nfrom pyspark.sql import functions as F\r\ndf = spark.createDataFrame(\r\n    [(12, [&#39;a:123&#39;, &#39;b:125&#39;, &#39;c:456&#39;]),\r\n     (13, [&#39;a:443&#39;, &#39;b:225&#39;, &#39;c:126&#39;])],\r\n    [&#39;id&#39;, &#39;array_col&#39;])\r\n\r\ndf.show(truncate=0)\r\n# +---+---------------------+\r\n# |id |array_col            |\r\n# +---+---------------------+\r\n# |12 |[a:123, b:125, c:456]|\r\n# |13 |[a:443, b:225, c:126]|\r\n# +---+---------------------+\r\n```\r\n\r\nScript:\r\n\r\n```python\r\ndf = df.withColumn(&quot;array_col&quot;, F.expr(&quot;to_json(str_to_map(array_join(array_col, &#39;,&#39;)))&quot;))\r\njson_schema = spark.read.json(df.rdd.map(lambda row: row.array_col)).schema\r\ndf = df.withColumn(&quot;array_col&quot;, F.from_json(&quot;array_col&quot;, json_schema))\r\ndf = df.select(&quot;*&quot;, &quot;array_col.*&quot;).drop(&quot;array_col&quot;)\r\n\r\ndf.show()\r\n# +---+---+---+---+\r\n# | id|  a|  b|  c|\r\n# +---+---+---+---+\r\n# | 12|123|125|456|\r\n# | 13|443|225|126|\r\n# +---+---+---+---+\r\n```","title":"Spark explode array of string to columns","body":"<p>Extracting column names from strings inside columns:</p>\n<ul>\n<li>create a proper JSON string (with quote symbols around json objects and values)</li>\n<li>create schema using this column</li>\n<li>create struct and explode it into columns</li>\n</ul>\n<p>Input example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.sql import functions as F\ndf = spark.createDataFrame(\n    [(12, ['a:123', 'b:125', 'c:456']),\n     (13, ['a:443', 'b:225', 'c:126'])],\n    ['id', 'array_col'])\n\ndf.show(truncate=0)\n# +---+---------------------+\n# |id |array_col            |\n# +---+---------------------+\n# |12 |[a:123, b:125, c:456]|\n# |13 |[a:443, b:225, c:126]|\n# +---+---------------------+\n</code></pre>\n<p>Script:</p>\n<pre class=\"lang-py prettyprint-override\"><code>df = df.withColumn(&quot;array_col&quot;, F.expr(&quot;to_json(str_to_map(array_join(array_col, ',')))&quot;))\njson_schema = spark.read.json(df.rdd.map(lambda row: row.array_col)).schema\ndf = df.withColumn(&quot;array_col&quot;, F.from_json(&quot;array_col&quot;, json_schema))\ndf = df.select(&quot;*&quot;, &quot;array_col.*&quot;).drop(&quot;array_col&quot;)\n\ndf.show()\n# +---+---+---+---+\n# | id|  a|  b|  c|\n# +---+---+---+---+\n# | 12|123|125|456|\n# | 13|443|225|126|\n# +---+---+---+---+\n</code></pre>\n"}],"owner":{"account_id":14770323,"reputation":610,"user_id":10666991,"display_name":"Ofir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5799,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":69366797,"answer_count":3,"score":9,"last_activity_date":1667027758,"creation_date":1632831324,"question_id":69361583,"body_markdown":"I am using Spark with Java and I have a dataframe like this: \r\n```none\r\nid  | array_column\r\n-------------------\r\n12  | [a:123, b:125, c:456]\r\n13  | [a:443, b:225, c:126]\r\n```\r\n\r\nI want to explode `array_column` with the same id, however `explode` doesn&#39;t work, because I want dataframe to become:\r\n```none\r\nid  | a  | b  | c\r\n-------------------\r\n12  |123 |125 | 456 \r\n13  |443 |225 | 126\r\n```\r\n\r\n ","title":"Spark explode array of string to columns","body":"<p>I am using Spark with Java and I have a dataframe like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>id  | array_column\n-------------------\n12  | [a:123, b:125, c:456]\n13  | [a:443, b:225, c:126]\n</code></pre>\n<p>I want to explode <code>array_column</code> with the same id, however <code>explode</code> doesn't work, because I want dataframe to become:</p>\n<pre class=\"lang-none prettyprint-override\"><code>id  | a  | b  | c\n-------------------\n12  |123 |125 | 456 \n13  |443 |225 | 126\n</code></pre>\n"},{"tags":["java","sql","postgresql","stored-procedures","plpgsql"],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617045,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667026090,"creation_date":1363632215,"answer_id":15484437,"question_id":15483219,"body_markdown":"### Problems\r\n\r\n- Most importantly, the query in the `LOOP` is nonsense. You select rows from `carinstance`, but all conditions are on `rec`. This select *all* rows multiple times.\r\n\r\n- One `END` too many. `FOR` has no `END`, only `LOOP` has.\r\n\r\n- Whenever you feel the temptation to work with an explicit cursor in plpgsql, stop right there. Chances are, you are doing it wrong. A `FOR` loop has an implicit cursor anyway.\r\n\r\n- Don&#39;t mess with [mixed case identifiers without double quotes][1]. I converted all identifiers to lower case.\r\n\r\n- You use one simple query, spread out over a cursor and another query. This can all be much simpler.\r\n\r\n### Solution\r\n\r\nTry this simple SQL function instead:\r\n\r\n~~~pgsql\r\nCREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \r\n  RETURNS TABLE (license_plate text)\r\n  LANGUAGE sql AS\r\n$func$\r\nSELECT DISTINCT ci.license_plate\r\nFROM   carmodel    cm\r\nJOIN   carinstance ci USING (mid)\r\nWHERE  cm.category_name  = $1\r\nAND    ci.lname = $2\r\n$func$;\r\n~~~\r\n\r\nCall:\r\n\r\n    SELECT license_plate AS test FROM car_inst(\r\n             (SELECT category_name FROM reservation WHERE rid = ?)\r\n           , (SELECT lname FROM reservation WHERE rid = ?)\r\n           );  \r\n\r\nOr build it all into your function:\r\n\r\n~~~pgsql\r\nCREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \r\n  RETURNS TABLE (license_plate text)\r\n  LANGUAGE sql AS\r\n$func$\r\nSELECT DISTINCT ci.license_plate\r\nFROM   carmodel    cm\r\nJOIN   carinstance ci USING (mid)\r\nJOIN   reservation r1 ON r1.category_name = cm.category_name\r\nJOIN   reservation r2 ON r2.lname = ci.lname\r\nWHERE  r1.rid = $1\r\nAND    r2.rid = $2;\r\n$func$;\r\n~~~\r\n\r\nCall:\r\n\r\n    &quot;SELECT license_plate AS test FROM car_inst(? , ?)&quot;;  \r\n\r\n**Remember:** The `OUT` parameter `license_plate` is visible anywhere in the body of the function. Therefore you must table-qualify the column of the same name at all times to prevent a naming collision.\r\n\r\n`DISTINCT` may or may not be redundant.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS","title":"Calling a PostgreSQL function from Java","body":"<h3>Problems</h3>\n<ul>\n<li><p>Most importantly, the query in the <code>LOOP</code> is nonsense. You select rows from <code>carinstance</code>, but all conditions are on <code>rec</code>. This select <em>all</em> rows multiple times.</p>\n</li>\n<li><p>One <code>END</code> too many. <code>FOR</code> has no <code>END</code>, only <code>LOOP</code> has.</p>\n</li>\n<li><p>Whenever you feel the temptation to work with an explicit cursor in plpgsql, stop right there. Chances are, you are doing it wrong. A <code>FOR</code> loop has an implicit cursor anyway.</p>\n</li>\n<li><p>Don't mess with <a href=\"https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-IDENTIFIERS\" rel=\"nofollow noreferrer\">mixed case identifiers without double quotes</a>. I converted all identifiers to lower case.</p>\n</li>\n<li><p>You use one simple query, spread out over a cursor and another query. This can all be much simpler.</p>\n</li>\n</ul>\n<h3>Solution</h3>\n<p>Try this simple SQL function instead:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \n  RETURNS TABLE (license_plate text)\n  LANGUAGE sql AS\n$func$\nSELECT DISTINCT ci.license_plate\nFROM   carmodel    cm\nJOIN   carinstance ci USING (mid)\nWHERE  cm.category_name  = $1\nAND    ci.lname = $2\n$func$;\n</code></pre>\n<p>Call:</p>\n<pre><code>SELECT license_plate AS test FROM car_inst(\n         (SELECT category_name FROM reservation WHERE rid = ?)\n       , (SELECT lname FROM reservation WHERE rid = ?)\n       );  \n</code></pre>\n<p>Or build it all into your function:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION car_inst(_cname text, _loc text) \n  RETURNS TABLE (license_plate text)\n  LANGUAGE sql AS\n$func$\nSELECT DISTINCT ci.license_plate\nFROM   carmodel    cm\nJOIN   carinstance ci USING (mid)\nJOIN   reservation r1 ON r1.category_name = cm.category_name\nJOIN   reservation r2 ON r2.lname = ci.lname\nWHERE  r1.rid = $1\nAND    r2.rid = $2;\n$func$;\n</code></pre>\n<p>Call:</p>\n<pre><code>&quot;SELECT license_plate AS test FROM car_inst(? , ?)&quot;;  \n</code></pre>\n<p><strong>Remember:</strong> The <code>OUT</code> parameter <code>license_plate</code> is visible anywhere in the body of the function. Therefore you must table-qualify the column of the same name at all times to prevent a naming collision.</p>\n<p><code>DISTINCT</code> may or may not be redundant.</p>\n"}],"owner":{"account_id":1637717,"reputation":1023,"user_id":1510751,"accept_rate":30,"display_name":"ueg1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4210,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15484437,"answer_count":1,"score":2,"last_activity_date":1667026167,"creation_date":1363628104,"question_id":15483219,"body_markdown":"I have written a function that I would like to call in Java. But I don&#39;t think it is able to do anything with the query that I passed. Following is my code from java:\r\n\r\n    String QUERY_LOCATION = &quot;select (license_plate) as test from carInst( (select     category_name from reservation where rid = ?) , (select lname from reservation where rid =  ?))&quot;;  \r\n\t\t\t//PreparedStatement check_location = null;\r\n\t\t\tPreparedStatement check_location = connection.prepareStatement(QUERY_LOCATION);\r\n\t\t\tcheck_location.setInt(1, rid);\r\n\t\t\tcheck_location.setInt(2, rid);\r\n\t\t\trs = check_location.executeQuery();\r\n\t\t\tif (rs.next()) {\r\n\t\t\t\tSystem.out.print(&quot;Car found: &quot;+rs.getString(&quot;test&quot;)+&quot;\\n&quot;);\r\n\t\t\t\tlicense_plate = rs.getString(&quot;test&quot;);\r\n\t\t\t\tupdate_reservation.setString(5, license_plate);\r\n\t\t\t\t\r\n\t\t\t\tbool = false;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out\r\n\t\t\t\t\t\t.print(&quot;There is no car available\\n&quot;);\r\n\t\t\t}\r\n\r\nAnd following is my stored procedure written in PL/pgSQL (PostgreSQL): \r\n\r\n    CREATE OR REPLACE FUNCTION carInst(cname varchar(20), loc varchar(20) ) \r\n\tRETURNS TABLE (license_plate varchar(6) ) AS $$\r\n\tBEGIN \r\n\t\tDECLARE cur CURSOR \r\n\t\t\tFOR SELECT carinstance.license_plate, carmodel.category_name, carinstance.lname FROM carinstance,carmodel \r\n\t\t\t\tWHERE carinstance.mid = carmodel.mid ;\t\t\t\t\t\r\n\tBEGIN \r\n\t\tFOR rec IN cur LOOP\r\n\t\t\tRETURN QUERY SELECT distinct carinstance.license_plate FROM Carinstance \r\n\t\t\t\tWHERE rec.category_name  = cname\r\n\t\t\t\t\tAND rec.lname = loc\r\n\t\t\t\t\tAND rec.license_plate=carinstance.license_plate;\r\n\t    \tEND LOOP;\r\n\t    END; \r\n    END;\r\n    $$ LANGUAGE plpgsql;\r\n\r\nWhen I run the code in Java, the print statement prints a null value for Car found. I would really appreciate some help here. ","title":"Calling a PostgreSQL function from Java","body":"<p>I have written a function that I would like to call in Java. But I don't think it is able to do anything with the query that I passed. Following is my code from java:</p>\n<pre><code>String QUERY_LOCATION = &quot;select (license_plate) as test from carInst( (select     category_name from reservation where rid = ?) , (select lname from reservation where rid =  ?))&quot;;  \n        //PreparedStatement check_location = null;\n        PreparedStatement check_location = connection.prepareStatement(QUERY_LOCATION);\n        check_location.setInt(1, rid);\n        check_location.setInt(2, rid);\n        rs = check_location.executeQuery();\n        if (rs.next()) {\n            System.out.print(&quot;Car found: &quot;+rs.getString(&quot;test&quot;)+&quot;\\n&quot;);\n            license_plate = rs.getString(&quot;test&quot;);\n            update_reservation.setString(5, license_plate);\n            \n            bool = false;\n        } else {\n            System.out\n                    .print(&quot;There is no car available\\n&quot;);\n        }\n</code></pre>\n<p>And following is my stored procedure written in PL/pgSQL (PostgreSQL):</p>\n<pre><code>CREATE OR REPLACE FUNCTION carInst(cname varchar(20), loc varchar(20) ) \nRETURNS TABLE (license_plate varchar(6) ) AS $$\nBEGIN \n    DECLARE cur CURSOR \n        FOR SELECT carinstance.license_plate, carmodel.category_name, carinstance.lname FROM carinstance,carmodel \n            WHERE carinstance.mid = carmodel.mid ;                  \nBEGIN \n    FOR rec IN cur LOOP\n        RETURN QUERY SELECT distinct carinstance.license_plate FROM Carinstance \n            WHERE rec.category_name  = cname\n                AND rec.lname = loc\n                AND rec.license_plate=carinstance.license_plate;\n        END LOOP;\n    END; \nEND;\n$$ LANGUAGE plpgsql;\n</code></pre>\n<p>When I run the code in Java, the print statement prints a null value for Car found. I would really appreciate some help here.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":1,"creation_date":1667024531,"post_id":74243177,"comment_id":131077325,"body_markdown":"Can you post the stacktrace as well? However it also possible that the crash is due to `binding.refreshView.setRefreshing(false);` in `doInBackground`. Move that to `onPreExecute()` maybe.","body":"Can you post the stacktrace as well? However it also possible that the crash is due to <code>binding.refreshView.setRefreshing(false);</code> in <code>doInBackground</code>. Move that to <code>onPreExecute()</code> maybe."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667024966,"post_id":74243177,"comment_id":131077385,"body_markdown":"i did it. Please take a look","body":"i did it. Please take a look"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1667025414,"post_id":74243177,"comment_id":131077451,"body_markdown":"1. I still don&#39;t see the stacktrace. 2. Did you try moving the said line from `doInBackground` to `onPreExecute`?","body":"1. I still don&#39;t see the stacktrace. 2. Did you try moving the said line from <code>doInBackground</code> to <code>onPreExecute</code>?"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025541,"post_id":74243177,"comment_id":131077468,"body_markdown":"https://i.stack.imgur.com/gi1r7.png","body":"<a href=\"https://i.stack.imgur.com/gi1r7.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/gi1r7.png</a>"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025675,"post_id":74243177,"comment_id":131077482,"body_markdown":"yes i moved the said line","body":"yes i moved the said line"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1667025728,"post_id":74243177,"comment_id":131077489,"body_markdown":"Your `list` variable is `null`. Did you initialise it like `ArrayList&lt;satusModal&gt; list = new ArrayList()`?","body":"Your <code>list</code> variable is <code>null</code>. Did you initialise it like <code>ArrayList&lt;satusModal&gt; list = new ArrayList()</code>?"},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667025794,"post_id":74243177,"comment_id":131077497,"body_markdown":"yes. how can i send you full code","body":"yes. how can i send you full code"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1667026725,"post_id":74243177,"comment_id":131077622,"body_markdown":"Do not create a new adapter for every file added to the list. Makes no sense to do that in onProgressUpdate. Instead you should do that once in onPostExecute.","body":"Do not create a new adapter for every file added to the list. Makes no sense to do that in onProgressUpdate. Instead you should do that once in onPostExecute."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667041008,"post_id":74243177,"comment_id":131079698,"body_markdown":"@blackapps i want to show the image same time it is loaded for better UI.","body":"@blackapps i want to show the image same time it is loaded for better UI."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667059283,"post_id":74243177,"comment_id":131083263,"body_markdown":"You are on the wrong way. Design your app better. Images should be loaded lazy anyway so what you try to do makes no sense.","body":"You are on the wrong way. Design your app better. Images should be loaded lazy anyway so what you try to do makes no sense."},{"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"score":0,"creation_date":1667135655,"post_id":74243177,"comment_id":131094400,"body_markdown":"how would i do that","body":"how would i do that"}],"owner":{"account_id":9716431,"reputation":1,"user_id":19144451,"display_name":"SHAW"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667025884,"creation_date":1667024008,"question_id":74243177,"body_markdown":"I want to get photos from external storage and app breaks when refresh is done very fastly works fine with slow refreshing.\r\n\r\n`java.lang.RuntimeException: An error occurred while executing doInBackground()` is shown\r\n\r\n\r\n```\r\nnew AsyncTask&lt;Void, Void, Void&gt;()\r\n{\r\n    @Override\r\n    protected Void doInBackground(Void... voids) {\r\n\r\n        binding.refreshView.setRefreshing(false);\r\n\r\n        for (int i = 0; i &lt; allFiles.length; i++) {\r\n            File file = allFiles[i];\r\n\r\n            if (Uri.fromFile(file).toString().endsWith(&quot;.jpeg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.gif&quot;)\r\n                    || Uri.fromFile(file).toString().endsWith(&quot;.jpg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.png&quot;)) {\r\n                satusModal  modal = new satusModal(file.getAbsolutePath(), file.getName(), &quot;whats&quot; + i, Uri.fromFile(file));\r\n                list.add(modal);\r\n            }\r\n            publishProgress();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        super.onPreExecute();\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    @Override\r\n    protected void onProgressUpdate(Void... values) {\r\n        super.onProgressUpdate(values);\r\n        //\r\n        binding.progressBar.setVisibility(View.GONE);\r\n        if(list.size()&gt;=1) {\r\n\r\n            adapter = new WhatsAppAdapter(list,getContext());\r\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Void unused) {\r\n        super.onPostExecute(unused);\r\n\r\n        binding.progressBar.setVisibility(View.GONE);\r\n        if(list.size()&gt;=1) {\r\n\r\n\r\n            adapter = new WhatsAppAdapter(list,getContext());\r\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\r\n        else binding.warningNoStatus.setVisibility(View.VISIBLE);\r\n    }\r\n}.execute();\r\n```\r\n[Stacktrace][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gi1r7.png","title":"why does my app break when i try to get images from external storage with async task in android","body":"<p>I want to get photos from external storage and app breaks when refresh is done very fastly works fine with slow refreshing.</p>\n<p><code>java.lang.RuntimeException: An error occurred while executing doInBackground()</code> is shown</p>\n<pre><code>new AsyncTask&lt;Void, Void, Void&gt;()\n{\n    @Override\n    protected Void doInBackground(Void... voids) {\n\n        binding.refreshView.setRefreshing(false);\n\n        for (int i = 0; i &lt; allFiles.length; i++) {\n            File file = allFiles[i];\n\n            if (Uri.fromFile(file).toString().endsWith(&quot;.jpeg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.gif&quot;)\n                    || Uri.fromFile(file).toString().endsWith(&quot;.jpg&quot;) || Uri.fromFile(file).toString().endsWith(&quot;.png&quot;)) {\n                satusModal  modal = new satusModal(file.getAbsolutePath(), file.getName(), &quot;whats&quot; + i, Uri.fromFile(file));\n                list.add(modal);\n            }\n            publishProgress();\n        }\n        return null;\n    }\n\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        binding.progressBar.setVisibility(View.VISIBLE);\n    }\n\n    @Override\n    protected void onProgressUpdate(Void... values) {\n        super.onProgressUpdate(values);\n        //\n        binding.progressBar.setVisibility(View.GONE);\n        if(list.size()&gt;=1) {\n\n            adapter = new WhatsAppAdapter(list,getContext());\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\n    }\n\n    @Override\n    protected void onPostExecute(Void unused) {\n        super.onPostExecute(unused);\n\n        binding.progressBar.setVisibility(View.GONE);\n        if(list.size()&gt;=1) {\n\n\n            adapter = new WhatsAppAdapter(list,getContext());\n            binding.recyclerViewFromImagesFragment.setAdapter(adapter);}\n        else binding.warningNoStatus.setVisibility(View.VISIBLE);\n    }\n}.execute();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gi1r7.png\" rel=\"nofollow noreferrer\">Stacktrace</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667025635,"creation_date":1667025635,"answer_id":74243327,"question_id":74243228,"body_markdown":"You should use `i += 2` or `i += 3` instead of `i++`.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String s=&quot;4458709584234185639039774928229&quot;;\r\n        int length = s.length();\r\n        int step = 2;\r\n        if (length &gt; 30) step = 3;\r\n        for (int i = 0; i &lt; length; i += step)\r\n            System.out.println(&quot;Group: &quot; + s.substring(i, Math.min(length, i + step)));\r\n    }\r\n\r\noutput\r\n\r\n    Group: 445\r\n    Group: 870\r\n    Group: 958\r\n    Group: 423\r\n    Group: 418\r\n    Group: 563\r\n    Group: 903\r\n    Group: 977\r\n    Group: 492\r\n    Group: 822\r\n    Group: 9\r\n\r\n","title":"Grouping string into substring based on randomized length","body":"<p>You should use <code>i += 2</code> or <code>i += 3</code> instead of <code>i++</code>.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String s=&quot;4458709584234185639039774928229&quot;;\n    int length = s.length();\n    int step = 2;\n    if (length &gt; 30) step = 3;\n    for (int i = 0; i &lt; length; i += step)\n        System.out.println(&quot;Group: &quot; + s.substring(i, Math.min(length, i + step)));\n}\n</code></pre>\n<p>output</p>\n<pre><code>Group: 445\nGroup: 870\nGroup: 958\nGroup: 423\nGroup: 418\nGroup: 563\nGroup: 903\nGroup: 977\nGroup: 492\nGroup: 822\nGroup: 9\n</code></pre>\n"}],"owner":{"account_id":20213056,"reputation":5,"user_id":14824774,"display_name":"cvhvx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74243327,"answer_count":1,"score":0,"last_activity_date":1667025635,"creation_date":1667024508,"question_id":74243228,"body_markdown":"Using math.random(), I have to generate a string made up of numbers from 0-9 (inclusive) based off a random length from 25-50 (inclusive). I do this in the method stringAdd(). Then with the generated string, I have to essentially &quot;group&quot; it based on the length so that eventually I can add it to a total. If the length is above 30, I would group it by 3, otherwise, just group by 2. I need to use substring for this.\r\n\r\nThe first thing I do is make a loop for the generated string:\r\n```\r\nString randomString = &quot;&quot;;\r\nfor(int i = 0; i &lt; length; i++)\r\n{\r\n   int numbers = (int)(Math.random()*10);\r\n   randomString = randomString + numbers;\r\n}\r\nSystem.out.println(&quot;Generated string: &quot; + randomString);\r\n```\r\n\r\nlength is the parameter of the method. I pass in randomLength (int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;) in main. Upon running it, the randomized length was 30.\r\n\r\n```\r\nGenerated string: 445870958423418563903977492822\r\n```\r\n\r\nThen I make a loop for &quot;grouping&quot; the string, but this is where I&#39;m stuck. The output I want would be something like...\r\n\r\n```\r\nGroup: 44\r\nGroup: 58\r\nGroup: 70\r\nGroup: 95\r\n```\r\n...and so on...\r\n\r\nBut I&#39;m not too sure how to go on about it. I try this:\r\n```\r\nfor (int i = 0; i &lt;= length ;i++)\r\n{\r\n   if(length &gt; 30)\r\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 3));\r\n   else\r\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 2));\r\n}\r\n```\r\n\r\nBut then the output is this:\r\n```\r\nGroup: 0175\r\nGroup: 175\r\nGroup: 75\r\nGroup: 5\r\nGroup: \r\n```\r\nuntil it goes into an out of bounds exception.\r\n\r\nIs there a simple way of doing this without anything too advanced?","title":"Grouping string into substring based on randomized length","body":"<p>Using math.random(), I have to generate a string made up of numbers from 0-9 (inclusive) based off a random length from 25-50 (inclusive). I do this in the method stringAdd(). Then with the generated string, I have to essentially &quot;group&quot; it based on the length so that eventually I can add it to a total. If the length is above 30, I would group it by 3, otherwise, just group by 2. I need to use substring for this.</p>\n<p>The first thing I do is make a loop for the generated string:</p>\n<pre><code>String randomString = &quot;&quot;;\nfor(int i = 0; i &lt; length; i++)\n{\n   int numbers = (int)(Math.random()*10);\n   randomString = randomString + numbers;\n}\nSystem.out.println(&quot;Generated string: &quot; + randomString);\n</code></pre>\n<p>length is the parameter of the method. I pass in randomLength (int randomLength = (int)(Math.random() * (50 - 25) + 1) + 25;) in main. Upon running it, the randomized length was 30.</p>\n<pre><code>Generated string: 445870958423418563903977492822\n</code></pre>\n<p>Then I make a loop for &quot;grouping&quot; the string, but this is where I'm stuck. The output I want would be something like...</p>\n<pre><code>Group: 44\nGroup: 58\nGroup: 70\nGroup: 95\n</code></pre>\n<p>...and so on...</p>\n<p>But I'm not too sure how to go on about it. I try this:</p>\n<pre><code>for (int i = 0; i &lt;= length ;i++)\n{\n   if(length &gt; 30)\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 3));\n   else\n      System.out.println(&quot;Group: &quot; + randomString.substring(i, 2));\n}\n</code></pre>\n<p>But then the output is this:</p>\n<pre><code>Group: 0175\nGroup: 175\nGroup: 75\nGroup: 5\nGroup: \n</code></pre>\n<p>until it goes into an out of bounds exception.</p>\n<p>Is there a simple way of doing this without anything too advanced?</p>\n"},{"tags":["java","struct"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667013344,"post_id":74242357,"comment_id":131076313,"body_markdown":"You haven&#39;t asked a question. Please read [ask].","body":"You haven&#39;t asked a question. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667021542,"creation_date":1667021542,"answer_id":74243033,"question_id":74242357,"body_markdown":"You can get `InputStream` using `ByteArrayOutputStream` and `ByteArrayInputStream`. You don&#39;t need to create the file.\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    try (Writer writer = new OutputStreamWriter(bos)) {\r\n        writer.write(business.toString());\r\n        writer.write(position.toString());\r\n    }\r\n    InputStream inputStream = new ByteArrayInputStream(bos.toByteArray());\r\n","title":"how to create a file on fly in java structs","body":"<p>You can get <code>InputStream</code> using <code>ByteArrayOutputStream</code> and <code>ByteArrayInputStream</code>. You don't need to create the file.</p>\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\ntry (Writer writer = new OutputStreamWriter(bos)) {\n    writer.write(business.toString());\n    writer.write(position.toString());\n}\nInputStream inputStream = new ByteArrayInputStream(bos.toByteArray());\n</code></pre>\n"}],"owner":{"account_id":16627925,"reputation":11,"user_id":20341878,"display_name":"Kannuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667021542,"creation_date":1667008837,"question_id":74242357,"body_markdown":"i need to create a csv file based on array list values and how to upload it to ftp server i need file to get created on fly and pass it ftp method so it gets uploaded to ftp server\r\n\r\n```\r\npublic ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\r\n                       HttpServletRequest request, HttpServletResponse response) {\r\n   SessionInfoForm _form = (SessionInfoForm) form;\r\n   SisTransactionsSession _config = _form.getSisTransactionsSession();\r\n   String loggedInUser = _form.getLoggedinEmployeeDVO().getLoginId().toUpperCase();\r\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\r\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\r\n   File file= new File(&quot;PAYROLL_PRM.csv&quot;);\r\n   InputStream isFixedValue = null;\r\n   try {\r\n      // create FileWriter object with file as parameter\r\n      FileWriter fileWriter = new FileWriter(file);\r\n      // add data to csv\r\n      fileWriter.write(business.toString());\r\n      fileWriter.write(position.toString());\r\n\r\n      // closing writer connection\r\n      //fileWriter.flush();\r\n      isFixedValue = new BufferedInputStream(fileWriter.getInputStream());\r\n      fileWriter.close();\r\n   }\r\n   catch (IOException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   }\r\n   return mapping.findForward(&quot;success&quot;);\r\n}\r\n```\r\n\r\nthe below method works to upload file to ftp server\r\n\r\n```\r\nprivate boolean fileUpload(InputStream isUploadFile, String dirName, String loggedInUser,  String fileName){\r\n     boolean storeRetVal = false;\r\n  String fileType = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1, fileName.length());\r\n     storeRetVal = SISSFTPManager.getInstance().put(isUploadFile, dirName, fileName);\r\n     if (storeRetVal)\r\n     {\r\n         try {\r\n        if (fileType.trim().equalsIgnoreCase(&quot;csv&quot;)){\r\n           ICSAPI.getInstance().getSIMSOrderManager().createFileAudit(loggedInUser, fileName);\r\n        } else {\r\n\r\n        }\r\n   } catch (RemoteException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   } catch (SystemException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   } catch (ApplicationException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n   }\r\n     logger.info(&quot;BulkUploadAction:fileUpload SFTP Transfer file successfully!&quot;);\r\n     } else {\r\n         logger.error(&quot;BulkUploadAction:fileUpload SFTP Transfer file FAILED!&quot;);          \r\n     }       \r\n    \r\n  return storeRetVal;\r\n }\r\n```","title":"how to create a file on fly in java structs","body":"<p>i need to create a csv file based on array list values and how to upload it to ftp server i need file to get created on fly and pass it ftp method so it gets uploaded to ftp server</p>\n<pre><code>public ActionForward generatePayroll(ActionMapping mapping, ActionForm form,\n                       HttpServletRequest request, HttpServletResponse response) {\n   SessionInfoForm _form = (SessionInfoForm) form;\n   SisTransactionsSession _config = _form.getSisTransactionsSession();\n   String loggedInUser = _form.getLoggedinEmployeeDVO().getLoginId().toUpperCase();\n   String[] business = request.getParameterValues(&quot;selectedBusinessValues&quot;);\n   String[] position = request.getParameterValues(&quot;selectedPositionValues&quot;);\n   File file= new File(&quot;PAYROLL_PRM.csv&quot;);\n   InputStream isFixedValue = null;\n   try {\n      // create FileWriter object with file as parameter\n      FileWriter fileWriter = new FileWriter(file);\n      // add data to csv\n      fileWriter.write(business.toString());\n      fileWriter.write(position.toString());\n\n      // closing writer connection\n      //fileWriter.flush();\n      isFixedValue = new BufferedInputStream(fileWriter.getInputStream());\n      fileWriter.close();\n   }\n   catch (IOException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   }\n   return mapping.findForward(&quot;success&quot;);\n}\n</code></pre>\n<p>the below method works to upload file to ftp server</p>\n<pre><code>private boolean fileUpload(InputStream isUploadFile, String dirName, String loggedInUser,  String fileName){\n     boolean storeRetVal = false;\n  String fileType = fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1, fileName.length());\n     storeRetVal = SISSFTPManager.getInstance().put(isUploadFile, dirName, fileName);\n     if (storeRetVal)\n     {\n         try {\n        if (fileType.trim().equalsIgnoreCase(&quot;csv&quot;)){\n           ICSAPI.getInstance().getSIMSOrderManager().createFileAudit(loggedInUser, fileName);\n        } else {\n\n        }\n   } catch (RemoteException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   } catch (SystemException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   } catch (ApplicationException e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n   }\n     logger.info(&quot;BulkUploadAction:fileUpload SFTP Transfer file successfully!&quot;);\n     } else {\n         logger.error(&quot;BulkUploadAction:fileUpload SFTP Transfer file FAILED!&quot;);          \n     }       \n    \n  return storeRetVal;\n }\n</code></pre>\n"},{"tags":["java","javascript","angularjs","oauth","spring-boot"],"comments":[{"owner":{"account_id":1136595,"reputation":1803,"user_id":1121547,"display_name":"Jes&#250;s Quintana"},"score":0,"creation_date":1434879946,"post_id":30963165,"comment_id":49958451,"body_markdown":"You add the url oauth/auth to anonymous permission in Spring?","body":"You add the url oauth/auth to anonymous permission in Spring?"},{"owner":{"account_id":369208,"reputation":3085,"user_id":716456,"display_name":"Michael"},"score":0,"creation_date":1434882093,"post_id":30963165,"comment_id":49958925,"body_markdown":"Add &#39;Authorization&#39; header to the **Access-Control-Allow-Headers** list","body":"Add &#39;Authorization&#39; header to the <b>Access-Control-Allow-Headers</b> list"},{"owner":{"account_id":5499814,"reputation":305,"user_id":4369495,"accept_rate":33,"display_name":"karthik pamidimarri"},"score":0,"creation_date":1434882862,"post_id":30963165,"comment_id":49959092,"body_markdown":"@Michael I already added in the code these **Access-Control-Allow-Headers list** please see once, my credentials are not adding to request when i seen in browser console in the network.","body":"@Michael I already added in the code these <b>Access-Control-Allow-Headers list</b> please see once, my credentials are not adding to request when i seen in browser console in the network."},{"owner":{"account_id":369208,"reputation":3085,"user_id":716456,"display_name":"Michael"},"score":0,"creation_date":1434883220,"post_id":30963165,"comment_id":49959188,"body_markdown":"The OPTION request was sent from the browser to check access permission - not from angular. Not sure about the solution, but you should google for `CORS with credentials `","body":"The OPTION request was sent from the browser to check access permission - not from angular. Not sure about the solution, but you should google for <code>CORS with credentials </code>"}],"answers":[{"tags":[],"owner":{"account_id":6858,"reputation":6636,"user_id":11662,"accept_rate":50,"display_name":"Vilmantas Baranauskas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1434956262,"creation_date":1434956262,"answer_id":30973718,"question_id":30963165,"body_markdown":"In case of OPTIONS request, you should not do further processing, i.e. skip the call to `chain.doFilter(req, res)`, e.g.:\r\n\r\n        HttpServletRequest request = (HttpServletRequest) req;\r\n        HttpServletResponse response = (HttpServletResponse) resp;\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\r\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST,GET,DELETE&quot;);\r\n\t\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n     \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;content-type,access-control-request-headers,access-control-request-method,accept,origin,authorization,x-requested-with&quot;);\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        } else {\r\n            chain.doFilter(req, resp);\r\n        }\r\n\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>In case of OPTIONS request, you should not do further processing, i.e. skip the call to <code>chain.doFilter(req, res)</code>, e.g.:</p>\n\n<pre><code>    HttpServletRequest request = (HttpServletRequest) req;\n    HttpServletResponse response = (HttpServletResponse) resp;\n\n    response.addHeader(\"Access-Control-Allow-Origin\", \"*\");\n\n    if (\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST,GET,DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"content-type,access-control-request-headers,access-control-request-method,accept,origin,authorization,x-requested-with\");\n        response.setStatus(HttpServletResponse.SC_OK);\n    } else {\n        chain.doFilter(req, resp);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11196620,"reputation":586,"user_id":8215084,"display_name":"Tanmay Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667018037,"creation_date":1667018037,"answer_id":74242844,"question_id":30963165,"body_markdown":"For Oauth2 you will be having this configuration class which extends `AuthorizationServerConfigurerAdapter`. In this class you can add this code\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public static class AuthServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n       \r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer security) {\r\n            \r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.applyPermitDefaultValues();\r\n    \r\n           AuthorizationServerEndpointsConfigurer \r\n            source.registerCorsConfiguration(&quot;/oauth/token&quot;, config);\r\n            CorsFilter filter = new CorsFilter(source);\r\n            security.addTokenEndpointAuthenticationFilter(filter);\r\n        }\r\n    }\r\n\r\nThis will add the configs of cors for Oauth\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>For Oauth2 you will be having this configuration class which extends <code>AuthorizationServerConfigurerAdapter</code>. In this class you can add this code</p>\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic static class AuthServerConfiguration extends AuthorizationServerConfigurerAdapter {\n   \n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) {\n        \n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.applyPermitDefaultValues();\n\n       AuthorizationServerEndpointsConfigurer \n        source.registerCorsConfiguration(&quot;/oauth/token&quot;, config);\n        CorsFilter filter = new CorsFilter(source);\n        security.addTokenEndpointAuthenticationFilter(filter);\n    }\n}\n</code></pre>\n<p>This will add the configs of cors for Oauth</p>\n"}],"owner":{"account_id":5499814,"reputation":305,"user_id":4369495,"accept_rate":33,"display_name":"karthik pamidimarri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4664,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30973718,"answer_count":2,"score":2,"last_activity_date":1667018037,"creation_date":1434879752,"question_id":30963165,"body_markdown":"I am hitting one end point from my angularjs client app to login when I am doing that one I am getting the following ERROR in browser console\r\n\r\nOPTIONS http://localhost:8080/oauth/token \r\nXMLHttpRequest cannot load http://localhost:8080/oauth/token. Invalid HTTP status code 401\r\n\r\nIt&#39;s server side code to accept CORS from the client.\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Component\r\n    public class SimpleCORSFilter implements Filter {\r\n\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);\r\n    \t\tchain.doFilter(req, res);\r\n    \t}\r\n\r\n    \tpublic void init(FilterConfig filterConfig) {}\r\n\r\n    \tpublic void destroy() {}\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt&#39;s client side code which calling the http://localhost:8080/oauth/token\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    angular.module(&#39;frontendApp&#39;)\r\n      .factory(&#39;AuthServerProvider&#39;, function loginService($http, localStorageService, Base64, API_SERVER) {\r\n        return {\r\n          login: function (credentials) {\r\n            var data = &quot;username=&quot; + credentials.username + &quot;&amp;password=&quot;\r\n              + credentials.password + &quot;&amp;grant_type=password&amp;scope=read%20write&amp;&quot; +\r\n              &quot;client_secret=123456&amp;client_id=clientapp&quot;;\r\n            return $http.post(API_SERVER + &#39;oauth/token&#39;, data, {\r\n              headers: {\r\n                &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;,\r\n                &quot;Accept&quot;: &quot;application/json&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n                &quot;Authorization&quot;: &quot;Basic &quot; + Base64.encode(&quot;clientapp&quot; + &#39;:&#39; + &quot;123456&quot;)\r\n              }\r\n            }).success(function (response) {\r\n              var expiredAt = new Date();\r\n              expiredAt.setSeconds(expiredAt.getSeconds() + response.expires_in);\r\n              response.expires_at = expiredAt.getTime();\r\n              localStorageService.set(&#39;token&#39;, response);\r\n              return response;\r\n            });\r\n          },\r\n          logout: function () {\r\n            // logout from the server\r\n            $http.post(&#39;api/logout&#39;).then(function () {\r\n              localStorageService.clearAll();\r\n            });\r\n          },\r\n          getToken: function () {\r\n            return localStorageService.get(&#39;token&#39;);\r\n          },\r\n          hasValidToken: function () {\r\n            var token = this.getToken();\r\n            return token &amp;&amp; token.expires_at &amp;&amp; token.expires_at &gt; new Date().getTime();\r\n          }\r\n        };\r\n      });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"getting 401 to access http://localhost:8080/oauth/token","body":"<p>I am hitting one end point from my angularjs client app to login when I am doing that one I am getting the following ERROR in browser console</p>\n\n<p>OPTIONS <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a> \nXMLHttpRequest cannot load <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a>. Invalid HTTP status code 401</p>\n\n<p>It's server side code to accept CORS from the client.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Component\r\npublic class SimpleCORSFilter implements Filter {\r\n\r\n\tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\r\n\t\tresponse.setHeader(\"Access-Control-Max-Age\", \"3600\");\r\n\t\tresponse.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\r\n\t\tchain.doFilter(req, res);\r\n\t}\r\n\r\n\tpublic void init(FilterConfig filterConfig) {}\r\n\r\n\tpublic void destroy() {}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's client side code which calling the <a href=\"http://localhost:8080/oauth/token\" rel=\"nofollow\">http://localhost:8080/oauth/token</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>angular.module('frontendApp')\r\n  .factory('AuthServerProvider', function loginService($http, localStorageService, Base64, API_SERVER) {\r\n    return {\r\n      login: function (credentials) {\r\n        var data = \"username=\" + credentials.username + \"&amp;password=\"\r\n          + credentials.password + \"&amp;grant_type=password&amp;scope=read%20write&amp;\" +\r\n          \"client_secret=123456&amp;client_id=clientapp\";\r\n        return $http.post(API_SERVER + 'oauth/token', data, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            \"Accept\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            \"Authorization\": \"Basic \" + Base64.encode(\"clientapp\" + ':' + \"123456\")\r\n          }\r\n        }).success(function (response) {\r\n          var expiredAt = new Date();\r\n          expiredAt.setSeconds(expiredAt.getSeconds() + response.expires_in);\r\n          response.expires_at = expiredAt.getTime();\r\n          localStorageService.set('token', response);\r\n          return response;\r\n        });\r\n      },\r\n      logout: function () {\r\n        // logout from the server\r\n        $http.post('api/logout').then(function () {\r\n          localStorageService.clearAll();\r\n        });\r\n      },\r\n      getToken: function () {\r\n        return localStorageService.get('token');\r\n      },\r\n      hasValidToken: function () {\r\n        var token = this.getToken();\r\n        return token &amp;&amp; token.expires_at &amp;&amp; token.expires_at &gt; new Date().getTime();\r\n      }\r\n    };\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667017894,"creation_date":1667017894,"answer_id":74242836,"question_id":74027300,"body_markdown":"in Manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n\r\nThis is how to request and check results for runtime for api13\r\n\r\n     private void request_notification_api13_permission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n            if (this.checkSelfPermission(Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.POST_NOTIFICATIONS}, 22);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if (requestCode == 22) {\r\n            if (grantResults.length &gt; 0)\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                   // permission granted, perform required code\r\n\r\n                } else {\r\n                    // not granted\r\n                }\r\n        }\r\n    }\r\n\r\n\r\ncalling function will be like this:\r\n\r\n    request_notification_api13_permission();","title":"Android 13 (Tiramisu) Emulator Debug App Notification can&#39;t be turn on","body":"<p>in Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n</code></pre>\n<p>This is how to request and check results for runtime for api13</p>\n<pre><code> private void request_notification_api13_permission() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        if (this.checkSelfPermission(Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n\n            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.POST_NOTIFICATIONS}, 22);\n        }\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == 22) {\n        if (grantResults.length &gt; 0)\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n               // permission granted, perform required code\n\n            } else {\n                // not granted\n            }\n    }\n}\n</code></pre>\n<p>calling function will be like this:</p>\n<pre><code>request_notification_api13_permission();\n</code></pre>\n"}],"owner":{"account_id":1384549,"reputation":1703,"user_id":1316842,"accept_rate":100,"display_name":"JR Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74242836,"answer_count":1,"score":0,"last_activity_date":1667017894,"creation_date":1665487304,"question_id":74027300,"body_markdown":"Any idea how to enable the permission on the app? the permission was disabled by default on Android 13 Emulator. It was working on other emulator, just not Android 13 Emulator. By default, adding Firebase Messaging will add the Manifest.permission.POST_NOTIFICATIONS into the Manifest.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bi8NN.jpg\r\n\r\nrequestPermissionLauncher.launch(android.Manifest.permission.POST_NOTIFICATIONS);\r\n\r\nauto return isGranted = false","title":"Android 13 (Tiramisu) Emulator Debug App Notification can&#39;t be turn on","body":"<p>Any idea how to enable the permission on the app? the permission was disabled by default on Android 13 Emulator. It was working on other emulator, just not Android 13 Emulator. By default, adding Firebase Messaging will add the Manifest.permission.POST_NOTIFICATIONS into the Manifest.</p>\n<p><a href=\"https://i.stack.imgur.com/bi8NN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bi8NN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>requestPermissionLauncher.launch(android.Manifest.permission.POST_NOTIFICATIONS);</p>\n<p>auto return isGranted = false</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666998794,"post_id":74241689,"comment_id":131074928,"body_markdown":"Use a `TreeMap`?","body":"Use a <code>TreeMap</code>?"},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1666999010,"post_id":74241689,"comment_id":131074957,"body_markdown":"The thing is that I have to sort by a but then find the nearest element by b. Is there a way to sort by using two values?","body":"The thing is that I have to sort by a but then find the nearest element by b. Is there a way to sort by using two values?"},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":1,"creation_date":1666999013,"post_id":74241689,"comment_id":131074958,"body_markdown":"You must do `O(n)` operations to build something, even can be `O(n logn)` if it&#39;s some kind of tree structure. I think doing the iteration is the solution. If it&#39;s already sorted, you can do binary search and you will have `O(log n)` time complexity which is pretty good.","body":"You must do <code>O(n)</code> operations to build something, even can be <code>O(n logn)</code> if it&#39;s some kind of tree structure. I think doing the iteration is the solution. If it&#39;s already sorted, you can do binary search and you will have <code>O(log n)</code> time complexity which is pretty good."},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1666999263,"post_id":74241689,"comment_id":131074988,"body_markdown":"In terms of computing time, will be there any different between log(n) or n if n = 1000?. Data is stored in memory.","body":"In terms of computing time, will be there any different between log(n) or n if n = 1000?. Data is stored in memory."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666999322,"post_id":74241689,"comment_id":131074995,"body_markdown":"If the list is effectively sorted on `b`, you can use `Collections.binarySearch(x, Comparator.comparingInt(row -&gt; row.b))` to get the nearest index.","body":"If the list is effectively sorted on <code>b</code>, you can use <code>Collections.binarySearch(x, Comparator.comparingInt(row -&gt; row.b))</code> to get the nearest index."},{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":0,"creation_date":1666999854,"post_id":74241689,"comment_id":131075066,"body_markdown":"@daniel If you are doing it once, it won&#39;t be noticeable, otherwise it may be. Depends on the type of program.","body":"@daniel If you are doing it once, it won&#39;t be noticeable, otherwise it may be. Depends on the type of program."},{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1667230684,"post_id":74241689,"comment_id":131115541,"body_markdown":"@SandroJ I am doing it once per transaction","body":"@SandroJ I am doing it once per transaction"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008667,"creation_date":1667002374,"answer_id":74241984,"question_id":74241689,"body_markdown":"The simplest way to do this is by starting from a sorted list. Once the list is sorted, you can use a binary search to reduce the possible value down to 2, instead of finding an exact match like you would normally do when searching.\r\n\r\nAnother thing you will need to do is establish two base cases which will help you avoid index out of bound issues: The two cases are,\r\n\r\n - If the value is less than or equal to than the smallest number in the list, return list(0).\r\n - If the value is greater than or equal to the largest number in the list, return list(size - 1).\r\n\r\nOnce the bases cases are tried, then simply use binary search to reduce your choices to two values. Then all you need to do is compare the absolute values of the difference between the actual value and the number stored in the indices of the two choices in the list.\r\n\r\n```\r\npublic class ClosestInteger {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;Integer&gt; values = List.of(-23, -21, -3, 0, 1, 2, 3, 5, 8, 13, 44);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tRandom rand = new Random();\r\n\t\t\tint value = rand.nextInt(-50, 50);\r\n\t\t\tSystem.out.println(&quot;Closest value to &quot; + value + &quot;: &quot; + closestValue(values, value));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static int closestValue(List&lt;Integer&gt; list, int value) {\r\n\t\tif (list== null || list.isEmpty()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;List cannot be null or empty&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (value &lt;= list.get(0)) {\r\n\t\t\treturn list.get(0);\r\n\t\t}\r\n\t\t\r\n\t\tif (value &gt;= list.get(list.size() - 1)) {\r\n\t\t\treturn list.get(list.size() - 1);\r\n\t\t}\r\n\t\t\r\n\t\tint left = 0, right = list.size() - 1, mid = 0;\r\n\t\t\r\n\t\twhile (left &lt;= right) {\r\n\t\t\tmid = left + (right - left) / 2;\r\n\r\n\t\t\tif (list.get(mid) == value)\r\n\t\t\t\treturn value;\r\n\r\n\t\t\tif (list.get(mid) &lt; value) {\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn  Math.abs(value - list.get(left)) &lt;= Math.abs(value - list.get(right)) ? list.get(left) : list.get(right);\r\n\t}\r\n}\r\n```\r\nI came up with the following lambda function to find the closest integer (albeit, it might be slower than the one above - O(n)?) \r\n```\r\nprivate static int closestValue(List&lt;Integer&gt; list, int value) {\r\n\treturn list.stream()\r\n\t\t.sorted(Comparator.comparingInt(i -&gt; Math.abs(i - value)))\r\n\t\t.limit(1).findFirst().get();\r\n}\r\n```\r\n\r\n----------\r\nSample runs:\r\n```\r\nClosest value to 17: 13\r\nClosest value to 28: 13\r\nClosest value to -26: -23\r\nClosest value to 22: 13\r\nClosest value to 0: 0\r\nClosest value to -10: -3\r\nClosest value to -11: -3\r\nClosest value to -24: -23\r\nClosest value to -33: -23\r\nClosest value to -40: -23\r\n```\r\n----------\r\n```\r\nClosest value to 15: 13\r\nClosest value to 3: 3\r\nClosest value to -26: -23\r\nClosest value to -13: -21\r\nClosest value to -6: -3\r\nClosest value to 12: 13\r\nClosest value to 43: 44\r\nClosest value to -37: -23\r\nClosest value to 1: 1\r\nClosest value to 4: 5\r\n```\r\n----------\r\n\r\n```\r\nClosest value to 10: 8\r\nClosest value to 22: 13\r\nClosest value to 7: 8\r\nClosest value to -50: -23\r\nClosest value to -20: -21\r\nClosest value to -50: -23\r\nClosest value to 25: 13\r\nClosest value to 20: 13\r\nClosest value to -31: -23\r\nClosest value to -41: -23\r\n```","title":"How can you find the nearest value in a list in the following case?","body":"<p>The simplest way to do this is by starting from a sorted list. Once the list is sorted, you can use a binary search to reduce the possible value down to 2, instead of finding an exact match like you would normally do when searching.</p>\n<p>Another thing you will need to do is establish two base cases which will help you avoid index out of bound issues: The two cases are,</p>\n<ul>\n<li>If the value is less than or equal to than the smallest number in the list, return list(0).</li>\n<li>If the value is greater than or equal to the largest number in the list, return list(size - 1).</li>\n</ul>\n<p>Once the bases cases are tried, then simply use binary search to reduce your choices to two values. Then all you need to do is compare the absolute values of the difference between the actual value and the number stored in the indices of the two choices in the list.</p>\n<pre><code>public class ClosestInteger {\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; values = List.of(-23, -21, -3, 0, 1, 2, 3, 5, 8, 13, 44);\n        \n        for (int i = 0; i &lt; 10; i++) {\n            Random rand = new Random();\n            int value = rand.nextInt(-50, 50);\n            System.out.println(&quot;Closest value to &quot; + value + &quot;: &quot; + closestValue(values, value));\n        }\n    }\n\n    private static int closestValue(List&lt;Integer&gt; list, int value) {\n        if (list== null || list.isEmpty()) {\n            throw new IllegalArgumentException(&quot;List cannot be null or empty&quot;);\n        }\n        \n        if (value &lt;= list.get(0)) {\n            return list.get(0);\n        }\n        \n        if (value &gt;= list.get(list.size() - 1)) {\n            return list.get(list.size() - 1);\n        }\n        \n        int left = 0, right = list.size() - 1, mid = 0;\n        \n        while (left &lt;= right) {\n            mid = left + (right - left) / 2;\n\n            if (list.get(mid) == value)\n                return value;\n\n            if (list.get(mid) &lt; value) {\n                left = mid + 1;\n            }\n\n            else {\n                right = mid - 1;\n            }\n        }\n        \n        return  Math.abs(value - list.get(left)) &lt;= Math.abs(value - list.get(right)) ? list.get(left) : list.get(right);\n    }\n}\n</code></pre>\n<p>I came up with the following lambda function to find the closest integer (albeit, it might be slower than the one above - O(n)?)</p>\n<pre><code>private static int closestValue(List&lt;Integer&gt; list, int value) {\n    return list.stream()\n        .sorted(Comparator.comparingInt(i -&gt; Math.abs(i - value)))\n        .limit(1).findFirst().get();\n}\n</code></pre>\n<hr />\n<p>Sample runs:</p>\n<pre><code>Closest value to 17: 13\nClosest value to 28: 13\nClosest value to -26: -23\nClosest value to 22: 13\nClosest value to 0: 0\nClosest value to -10: -3\nClosest value to -11: -3\nClosest value to -24: -23\nClosest value to -33: -23\nClosest value to -40: -23\n</code></pre>\n<hr />\n<pre><code>Closest value to 15: 13\nClosest value to 3: 3\nClosest value to -26: -23\nClosest value to -13: -21\nClosest value to -6: -3\nClosest value to 12: 13\nClosest value to 43: 44\nClosest value to -37: -23\nClosest value to 1: 1\nClosest value to 4: 5\n</code></pre>\n<hr />\n<pre><code>Closest value to 10: 8\nClosest value to 22: 13\nClosest value to 7: 8\nClosest value to -50: -23\nClosest value to -20: -21\nClosest value to -50: -23\nClosest value to 25: 13\nClosest value to 20: 13\nClosest value to -31: -23\nClosest value to -41: -23\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667017066,"creation_date":1667017066,"answer_id":74242796,"question_id":74241689,"body_markdown":"You can use `Collections.binarySearch()` like this.\r\n\r\n    static class Row {\r\n        int a, b; \r\n        public int getA() { return a; } \r\n        public int getB() { return b; } \r\n        Row(int a, int b) { this.a = a; this.b = b; } \r\n        @Override public String toString() { return &quot;Row(&quot; + a + &quot;, &quot; + b + &quot;)&quot;; }\r\n    }\r\n\r\n    static final Comparator&lt;Row&gt; ORDER_BY_B = Comparator.comparing(Row::getB);\r\n\r\n    static Row find(int x, List&lt;Row&gt; rows) {\r\n        int size = rows.size();\r\n        int i = Collections.binarySearch(rows, new Row(0, x), ORDER_BY_B);\r\n        int index = i &gt;= 0 ? i : i &lt;= -size - 1 ? size - 1 : -i - 1;\r\n        return rows.get(index);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Row&gt; rows = Arrays.asList(\r\n            new Row(20, 2),\r\n            new Row(40, 4),\r\n            new Row(50, 5),\r\n            new Row(70, 7));\r\n        List&lt;Row&gt; orderByB = rows.stream().sorted(ORDER_BY_B).collect(Collectors.toList());\r\n        for (int i = 0; i &lt; 9; ++i)\r\n            System.out.println(&quot;find &quot; + i + &quot; : &quot; + find(i, orderByB));\r\n    }\r\n\r\noutput:\r\n\r\n    find 0 : Row(20, 2)\r\n    find 1 : Row(20, 2)\r\n    find 2 : Row(20, 2)\r\n    find 3 : Row(40, 4)\r\n    find 4 : Row(40, 4)\r\n    find 5 : Row(50, 5)\r\n    find 6 : Row(70, 7)\r\n    find 7 : Row(70, 7)\r\n    find 8 : Row(70, 7)\r\n\r\n","title":"How can you find the nearest value in a list in the following case?","body":"<p>You can use <code>Collections.binarySearch()</code> like this.</p>\n<pre><code>static class Row {\n    int a, b; \n    public int getA() { return a; } \n    public int getB() { return b; } \n    Row(int a, int b) { this.a = a; this.b = b; } \n    @Override public String toString() { return &quot;Row(&quot; + a + &quot;, &quot; + b + &quot;)&quot;; }\n}\n\nstatic final Comparator&lt;Row&gt; ORDER_BY_B = Comparator.comparing(Row::getB);\n\nstatic Row find(int x, List&lt;Row&gt; rows) {\n    int size = rows.size();\n    int i = Collections.binarySearch(rows, new Row(0, x), ORDER_BY_B);\n    int index = i &gt;= 0 ? i : i &lt;= -size - 1 ? size - 1 : -i - 1;\n    return rows.get(index);\n}\n\npublic static void main(String[] args) {\n    List&lt;Row&gt; rows = Arrays.asList(\n        new Row(20, 2),\n        new Row(40, 4),\n        new Row(50, 5),\n        new Row(70, 7));\n    List&lt;Row&gt; orderByB = rows.stream().sorted(ORDER_BY_B).collect(Collectors.toList());\n    for (int i = 0; i &lt; 9; ++i)\n        System.out.println(&quot;find &quot; + i + &quot; : &quot; + find(i, orderByB));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>find 0 : Row(20, 2)\nfind 1 : Row(20, 2)\nfind 2 : Row(20, 2)\nfind 3 : Row(40, 4)\nfind 4 : Row(40, 4)\nfind 5 : Row(50, 5)\nfind 6 : Row(70, 7)\nfind 7 : Row(70, 7)\nfind 8 : Row(70, 7)\n</code></pre>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74242796,"answer_count":2,"score":-2,"last_activity_date":1667017066,"creation_date":1666998623,"question_id":74241689,"body_markdown":"Let&#39;s assume that I have a list of the following objects:\r\n\r\n    class Row{\r\n       int a;\r\n       int b;\r\n    }\r\n\r\nData is set up in a way in which if sorted by a, the data automatically gets sorted by b. I need to write a function that takes in the parameters `(int x, List&lt;Row&gt; rows)` which finds the row whose b comes right after x. The number of records is 1000 so the basic and easy way to do it is to sort by a and then find the nearest element by using iteration. Is there another way to structure data in way in which I don&#39;t have to iterate through the entire list?","title":"How can you find the nearest value in a list in the following case?","body":"<p>Let's assume that I have a list of the following objects:</p>\n<pre><code>class Row{\n   int a;\n   int b;\n}\n</code></pre>\n<p>Data is set up in a way in which if sorted by a, the data automatically gets sorted by b. I need to write a function that takes in the parameters <code>(int x, List&lt;Row&gt; rows)</code> which finds the row whose b comes right after x. The number of records is 1000 so the basic and easy way to do it is to sort by a and then find the nearest element by using iteration. Is there another way to structure data in way in which I don't have to iterate through the entire list?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1666964780,"post_id":74236305,"comment_id":131065463,"body_markdown":"Your examples have 1 and 2 trailing zeroes, respectively. What determines the number of trailing zeroes?","body":"Your examples have 1 and 2 trailing zeroes, respectively. What determines the number of trailing zeroes?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":7,"creation_date":1666964783,"post_id":74236305,"comment_id":131065464,"body_markdown":"a `double` does not preserve trailing zeros after the comma. `123.400` and `123.4` is exactly the same and not stored differently.","body":"a <code>double</code> does not preserve trailing zeros after the comma. <code>123.400</code> and <code>123.4</code> is exactly the same and not stored differently."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666965313,"post_id":74236305,"comment_id":131065633,"body_markdown":"In other words, the compiler doesn&#39;t see any difference between these. It will use the closest binary Double equivalent which has no information about number of decimal places from the original decimal representation that you typed in code.","body":"In other words, the compiler doesn&#39;t see any difference between these. It will use the closest binary Double equivalent which has no information about number of decimal places from the original decimal representation that you typed in code."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1666981135,"post_id":74236305,"comment_id":131071043,"body_markdown":"Obligatory link to [Is floating point math broken?](/questions/588004), which OP should read if they think that either of those doubles is _actually_ the same as the decimal numbers in the code.","body":"Obligatory link to <a href=\"/questions/588004\">Is floating point math broken?</a>, which OP should read if they think that either of those doubles is <i>actually</i> the same as the decimal numbers in the code."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666965058,"creation_date":1666965058,"answer_id":74236386,"question_id":74236305,"body_markdown":"You could simply use `String.format(String, Double)` here and make the three decimal places fixed via pattern:\r\n\r\n```kotlin\r\nfun main() {\r\n    val a: Double = 123.400\r\n    val b: Double = 567.800\r\n\r\n    val aStr: String = String.format(&quot;%.3f&quot;, a)\r\n    val bStr: String = String.format(&quot;%.3f&quot;, b)\r\n\r\n    println(&quot;${a.toString()} and ${b.toString()}&quot;)\r\n    println(&quot;$aStr and $bStr&quot;)\r\n}\r\n```\r\n\r\nThis will output\r\n\r\n```none\r\n123.4 and 567.8\r\n123.400 and 567.800\r\n```","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>You could simply use <code>String.format(String, Double)</code> here and make the three decimal places fixed via pattern:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val a: Double = 123.400\n    val b: Double = 567.800\n\n    val aStr: String = String.format(&quot;%.3f&quot;, a)\n    val bStr: String = String.format(&quot;%.3f&quot;, b)\n\n    println(&quot;${a.toString()} and ${b.toString()}&quot;)\n    println(&quot;$aStr and $bStr&quot;)\n}\n</code></pre>\n<p>This will output</p>\n<pre class=\"lang-none prettyprint-override\"><code>123.4 and 567.8\n123.400 and 567.800\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666985198,"creation_date":1666985198,"answer_id":74240058,"question_id":74236305,"body_markdown":"Like people are saying in the comments, `Double`s don&#39;t actually *store* a specific number of trailing zeroes - *1.230000000000* and *1.23* are stored the same way. Even if you specify a certain number of zeroes, that info is lost.\r\n\r\nIf you need to store those numbers with an arbitrary number of trailing zeroes, you should probably store them as `String`s - that way they&#39;ll display correctly when you print them. Just convert them to `Double`s when you want to actually use them as numbers\r\n\r\n````\r\nval numberOne = &quot;123.400&quot;\r\nval numberTwo = &quot;567.80&quot;\r\n\r\n// just print them to get the formatting you want\r\nprintln(numberOne)\r\n// convert to Double to use it\r\nnumberOne.toDouble() * 2\r\n````\r\n\r\n----\r\n\r\nYour other option is to create a class that handles this extra data. A simple one would be\r\n\r\n````\r\ndata class TrailingDouble(private val asString: String) {\r\n    val value = asString.toDouble()\r\n    override fun toString() = asString\r\n}\r\n````\r\n\r\nwhere you expose a `value` property instead of the caller having to call `toDouble` all the time.\r\n\r\nOr you could do something a bit safer\r\n\r\n````\r\nclass TrailingDouble private constructor(private val asString: String) {\r\n    // validation done in the instance getters, which are the only thing\r\n    // that can instantiate one of these objects\r\n    val value = asString.toDouble()\r\n    override fun toString() = asString\r\n    \r\n    // override equals etc\r\n    \r\n    companion object {\r\n        fun newInstance(doubleString: String) =\r\n            if (doubleString.toDoubleOrNull() != null) TrailingDouble(doubleString) else null\r\n        // or if you like\r\n        fun String.toTrailingDoubleOrNull() =\r\n            toDoubleOrNull()?.let { TrailingDouble(this) }\r\n    }\r\n}\r\n````\r\n\r\nBy using a private constructor, you can guarantee only valid instances of `TrailingDouble` can be created. That means you can&#39;t really use a *data class* though (you can get around private constructors with the generated `copy` function) so you&#39;d have to write your own `equals` and `hashCode` functions.\r\n\r\n----\r\n\r\nAnd you can do the same approach with an actual `Double` if you like, specifying the number of trailing zeroes you want:\r\n\r\n````\r\nclass TrailingDouble(val value: Double, trailingZeroes: Int) {\r\n    private val asString: String\r\n    \r\n    init {\r\n        val decimalFormat = List(trailingZeroes.coerceAtLeast(1)) { &#39;0&#39; }.joinToString(&quot;&quot;)\r\n        asString = DecimalFormat(&quot;#,###.$decimalFormat&quot;).format(value)\r\n    }\r\n    \r\n    override fun toString() = asString\r\n    // equals etc\r\n}\r\n````\r\n\r\nBasically you pass in your double (no need for validation) and the number of trailing zeroes you want, and it produces the appropriate format string to create the string representation.\r\n\r\nThis one&#39;s a lot simpler, but it does require you know how many trailing zeroes you need for a particular `Double` (again, that information is not contained in the `Double` itself, it&#39;s separate). If you&#39;re starting with `String`s, the versions that work with a `String` are probably easier to actually *use*","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>Like people are saying in the comments, <code>Double</code>s don't actually <em>store</em> a specific number of trailing zeroes - <em>1.230000000000</em> and <em>1.23</em> are stored the same way. Even if you specify a certain number of zeroes, that info is lost.</p>\n<p>If you need to store those numbers with an arbitrary number of trailing zeroes, you should probably store them as <code>String</code>s - that way they'll display correctly when you print them. Just convert them to <code>Double</code>s when you want to actually use them as numbers</p>\n<pre><code>val numberOne = &quot;123.400&quot;\nval numberTwo = &quot;567.80&quot;\n\n// just print them to get the formatting you want\nprintln(numberOne)\n// convert to Double to use it\nnumberOne.toDouble() * 2\n</code></pre>\n<hr />\n<p>Your other option is to create a class that handles this extra data. A simple one would be</p>\n<pre><code>data class TrailingDouble(private val asString: String) {\n    val value = asString.toDouble()\n    override fun toString() = asString\n}\n</code></pre>\n<p>where you expose a <code>value</code> property instead of the caller having to call <code>toDouble</code> all the time.</p>\n<p>Or you could do something a bit safer</p>\n<pre><code>class TrailingDouble private constructor(private val asString: String) {\n    // validation done in the instance getters, which are the only thing\n    // that can instantiate one of these objects\n    val value = asString.toDouble()\n    override fun toString() = asString\n    \n    // override equals etc\n    \n    companion object {\n        fun newInstance(doubleString: String) =\n            if (doubleString.toDoubleOrNull() != null) TrailingDouble(doubleString) else null\n        // or if you like\n        fun String.toTrailingDoubleOrNull() =\n            toDoubleOrNull()?.let { TrailingDouble(this) }\n    }\n}\n</code></pre>\n<p>By using a private constructor, you can guarantee only valid instances of <code>TrailingDouble</code> can be created. That means you can't really use a <em>data class</em> though (you can get around private constructors with the generated <code>copy</code> function) so you'd have to write your own <code>equals</code> and <code>hashCode</code> functions.</p>\n<hr />\n<p>And you can do the same approach with an actual <code>Double</code> if you like, specifying the number of trailing zeroes you want:</p>\n<pre><code>class TrailingDouble(val value: Double, trailingZeroes: Int) {\n    private val asString: String\n    \n    init {\n        val decimalFormat = List(trailingZeroes.coerceAtLeast(1)) { '0' }.joinToString(&quot;&quot;)\n        asString = DecimalFormat(&quot;#,###.$decimalFormat&quot;).format(value)\n    }\n    \n    override fun toString() = asString\n    // equals etc\n}\n</code></pre>\n<p>Basically you pass in your double (no need for validation) and the number of trailing zeroes you want, and it produces the appropriate format string to create the string representation.</p>\n<p>This one's a lot simpler, but it does require you know how many trailing zeroes you need for a particular <code>Double</code> (again, that information is not contained in the <code>Double</code> itself, it's separate). If you're starting with <code>String</code>s, the versions that work with a <code>String</code> are probably easier to actually <em>use</em></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667016664,"creation_date":1667016664,"answer_id":74242773,"question_id":74236305,"body_markdown":"&gt; I have two Double value but different decimal places.\r\n\r\nDoubles don&#39;t store that information. In fact, they don&#39;t even store decimals. Computers are binary after all. Here&#39;s a secret:\r\n\r\n```\r\ndouble d = 0.1;\r\n```\r\n\r\nThat line, __is a total lie__. It does not store 0.1 in `d`. That is because it is __impossible to store this number__.\r\n\r\nBefore that makes you go: What.. the? Think about it: I divide 1 by 3 and ask you to write that down on a piece of paper. So, you start, 0.33333333.... and where do you end? See? As a human using decimal, you __cannot store this number__ on a piece of paper in decimal format.\r\n\r\nComputers don&#39;t do decimal, they do binary. They can store `0.5` perfectly. `0.25` is no problem either. But `0.1`? No, no can do. a tenth works out in decimal really nice, but in binary it doesn&#39;t (nothing does, except factors of 2, obviously). So, where in decimal you can write &#39;1/10&#39; on a piece of paper perfectly, but you cannot write &#39;1/3&#39; on a piece of paper perfectly, computers can only write X/Y where Y is a factor of 2 perfectly. 1/65536 - no problem. 1/10? Nope.\r\n\r\nSo why does the above compile? Because double/float math will round to the nearest representable number, and each mathematical operation is similarly rounded. Everything rounds, everywhere, at all times, silently, with no way to know how much error this rounding introduces.\r\n\r\nLet&#39;s see it in action!\r\n\r\n```\r\ndouble d = 0;\r\nfor (int i = 0; i &lt; 8; i++) d += 0.1;\r\ndouble e = 0.8;\r\nSystem.out.println(d == e); // prints... f... false? What?\r\nSystem.out.println(e); // prints &quot;0.8&quot;\r\nSystem.out.println(d); // prints &quot;0.7999999999999999&quot;\r\n```\r\n\r\nThus, when talking about &#39;formatting&#39; a double in the sense of &#39;I want x digits&#39;, this is __completely misleading__, because the thing that is in that variable has digits written out in binary and not in decimal, and is rounded to something that doesn&#39;t even make sense in decimal.\r\n\r\nThe simple upshot is that __all doubles are slightly wrong__ and if you are writing systems or applications where this slight error is not acceptable (trivial example: __Everything financial - you do NOT want to lose a random cent due to impossible to predict rounding errors!!__), then __you cannot use `double`__.\r\n\r\nThere are 2 broad solutions to this problem:\r\n\r\n1. Use atoms, in `int` or `long`.\r\n\r\nFor example, do not store an item that costs a buck and a half as `double price = 1.50`. Store it as `int price = 150;` - in other words, find the atomary (smallest hard/impossible to divide unit) for whatever it is you are attempting to store perfectly and store _that_. Given that there is such a thing as an atomary, when asked to divide you&#39;re hosed anyway and you need to think about it, there is no one set way to do it. For example, if I am a bank and I need to levy a transaction charge of €100,- to a partnership of 3 companies that are equal partners, then what do I do? Charge each €33,34? Charge each €33,33 and eat the cent? Roll some dice, charge one partner at random €33,34, and the other two €33,33? Demand that the parties involved appoint a main account, which gets charged all of it, or if not, the €33,34? Track in each account a residual charge of 0.33333333333333333333333 cents (tossing the remainder away as a rounding error that truly nobody is ever going to care about), even though generally in financial systems, you cannot convey the notion of fractional cents?\r\n\r\nThere is no right or wrong answer to this question, which means, `a / b` __cannot possibly work here__ - how could that ever know which of those 5 different things you wanted?\r\n\r\n2. Use the `java.math.BigDecimal` class, which stores in decimal, and stores perfectly. But note that if you ask BigDecimal to divide 1 by 3, it throws an exception, because that is not possible, so, apply caution.\r\n","title":"How to convert double to string with no zero absent in kotlin?","body":"<blockquote>\n<p>I have two Double value but different decimal places.</p>\n</blockquote>\n<p>Doubles don't store that information. In fact, they don't even store decimals. Computers are binary after all. Here's a secret:</p>\n<pre><code>double d = 0.1;\n</code></pre>\n<p>That line, <strong>is a total lie</strong>. It does not store 0.1 in <code>d</code>. That is because it is <strong>impossible to store this number</strong>.</p>\n<p>Before that makes you go: What.. the? Think about it: I divide 1 by 3 and ask you to write that down on a piece of paper. So, you start, 0.33333333.... and where do you end? See? As a human using decimal, you <strong>cannot store this number</strong> on a piece of paper in decimal format.</p>\n<p>Computers don't do decimal, they do binary. They can store <code>0.5</code> perfectly. <code>0.25</code> is no problem either. But <code>0.1</code>? No, no can do. a tenth works out in decimal really nice, but in binary it doesn't (nothing does, except factors of 2, obviously). So, where in decimal you can write '1/10' on a piece of paper perfectly, but you cannot write '1/3' on a piece of paper perfectly, computers can only write X/Y where Y is a factor of 2 perfectly. 1/65536 - no problem. 1/10? Nope.</p>\n<p>So why does the above compile? Because double/float math will round to the nearest representable number, and each mathematical operation is similarly rounded. Everything rounds, everywhere, at all times, silently, with no way to know how much error this rounding introduces.</p>\n<p>Let's see it in action!</p>\n<pre><code>double d = 0;\nfor (int i = 0; i &lt; 8; i++) d += 0.1;\ndouble e = 0.8;\nSystem.out.println(d == e); // prints... f... false? What?\nSystem.out.println(e); // prints &quot;0.8&quot;\nSystem.out.println(d); // prints &quot;0.7999999999999999&quot;\n</code></pre>\n<p>Thus, when talking about 'formatting' a double in the sense of 'I want x digits', this is <strong>completely misleading</strong>, because the thing that is in that variable has digits written out in binary and not in decimal, and is rounded to something that doesn't even make sense in decimal.</p>\n<p>The simple upshot is that <strong>all doubles are slightly wrong</strong> and if you are writing systems or applications where this slight error is not acceptable (trivial example: <strong>Everything financial - you do NOT want to lose a random cent due to impossible to predict rounding errors!!</strong>), then <strong>you cannot use <code>double</code></strong>.</p>\n<p>There are 2 broad solutions to this problem:</p>\n<ol>\n<li>Use atoms, in <code>int</code> or <code>long</code>.</li>\n</ol>\n<p>For example, do not store an item that costs a buck and a half as <code>double price = 1.50</code>. Store it as <code>int price = 150;</code> - in other words, find the atomary (smallest hard/impossible to divide unit) for whatever it is you are attempting to store perfectly and store <em>that</em>. Given that there is such a thing as an atomary, when asked to divide you're hosed anyway and you need to think about it, there is no one set way to do it. For example, if I am a bank and I need to levy a transaction charge of €100,- to a partnership of 3 companies that are equal partners, then what do I do? Charge each €33,34? Charge each €33,33 and eat the cent? Roll some dice, charge one partner at random €33,34, and the other two €33,33? Demand that the parties involved appoint a main account, which gets charged all of it, or if not, the €33,34? Track in each account a residual charge of 0.33333333333333333333333 cents (tossing the remainder away as a rounding error that truly nobody is ever going to care about), even though generally in financial systems, you cannot convey the notion of fractional cents?</p>\n<p>There is no right or wrong answer to this question, which means, <code>a / b</code> <strong>cannot possibly work here</strong> - how could that ever know which of those 5 different things you wanted?</p>\n<ol start=\"2\">\n<li>Use the <code>java.math.BigDecimal</code> class, which stores in decimal, and stores perfectly. But note that if you ask BigDecimal to divide 1 by 3, it throws an exception, because that is not possible, so, apply caution.</li>\n</ol>\n"}],"owner":{"account_id":3354707,"reputation":147,"user_id":2817936,"accept_rate":71,"display_name":"Barbiyong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667016664,"creation_date":1666964506,"question_id":74236305,"body_markdown":"I have two Double value but different decimal places.\r\n```\r\n123.400 // three decimal places\r\n567.80 // two decimal places\r\n```\r\nI try to convert Double value to String by using DecimalFormat\r\n```\r\nval stringFormat = DecimalFormat(&quot;#,###.000&quot;)\r\nprintln(stringFormat.format(123.400))\r\nprintln(stringFormat.format(567.80))\r\n    \r\nval stringFormatZeroAbsent = DecimalFormat(&quot;#,###.###&quot;)\r\nprintln(stringFormatZeroAbsent.format(123.400))\r\nprintln(stringFormatZeroAbsent.format(567.80))\r\n```\r\nSince &quot;0&quot; mean Digit and &quot;#&quot; mean Digit with zero shows as absent, so outputs are:\r\n```\r\n123.400\r\n567.800\r\n123.4\r\n567.8\r\n```\r\nThe actual result i want are:\r\n```\r\n123.400\r\n567.80\r\n```\r\nThat the zero not absent.","title":"How to convert double to string with no zero absent in kotlin?","body":"<p>I have two Double value but different decimal places.</p>\n<pre><code>123.400 // three decimal places\n567.80 // two decimal places\n</code></pre>\n<p>I try to convert Double value to String by using DecimalFormat</p>\n<pre><code>val stringFormat = DecimalFormat(&quot;#,###.000&quot;)\nprintln(stringFormat.format(123.400))\nprintln(stringFormat.format(567.80))\n    \nval stringFormatZeroAbsent = DecimalFormat(&quot;#,###.###&quot;)\nprintln(stringFormatZeroAbsent.format(123.400))\nprintln(stringFormatZeroAbsent.format(567.80))\n</code></pre>\n<p>Since &quot;0&quot; mean Digit and &quot;#&quot; mean Digit with zero shows as absent, so outputs are:</p>\n<pre><code>123.400\n567.800\n123.4\n567.8\n</code></pre>\n<p>The actual result i want are:</p>\n<pre><code>123.400\n567.80\n</code></pre>\n<p>That the zero not absent.</p>\n"},{"tags":["java","spring-boot","generics"],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667013830,"creation_date":1667011286,"answer_id":74242471,"question_id":74242325,"body_markdown":"If you override a method you cannot have a different signature, If the method you override requires a DTOManager.CreateRequest you cannot use a child class within the override method.\r\n\r\nYou have to &quot;support&quot; all types of input that the parent method could take.\r\n\r\nI believe that you need this because the permission validation relies on methods or fields of the child class. If so you should implement it inside the child class.\r\n","title":"Cannot override method that takes in parameter of inner class of generic","body":"<p>If you override a method you cannot have a different signature, If the method you override requires a DTOManager.CreateRequest you cannot use a child class within the override method.</p>\n<p>You have to &quot;support&quot; all types of input that the parent method could take.</p>\n<p>I believe that you need this because the permission validation relies on methods or fields of the child class. If so you should implement it inside the child class.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667016011,"creation_date":1667016011,"answer_id":74242729,"question_id":74242325,"body_markdown":"&gt;```java\r\n&gt; class ApplicationController&lt;\r\n&gt;        AppEntity extends ApplicationEntity,\r\n&gt; ```\r\n\r\nNo, stop right there. This is declaring a __type variable__ with the bound rules: &quot;Must be either `ApplicationEntity` or any subtype thereof&quot; and you named it `AppEntity`. This is going to make your head go in circles when you read the code later, &#39;I keep confusing reified types with type variables&#39; comprises 95% of all confusion about generics. I know it seems unreadable, but there really is just only one way to go about it, and that is to use __single capital letters__ for _all_ your type vars. So let&#39;s fix that right now:\r\n\r\n```\r\npublic abstract class ApplicationController&lt;\r\n        E extends ApplicationEntity,\r\n        S extends ApplicationService&lt;E&gt;,\r\n        M extends ApplicationDTOManager&gt; {\r\n```\r\n\r\nWhich then immediately lets us see a big problem in the next line:\r\n\r\n&gt; ```java\r\n&gt; public boolean hasCreatePermissions(M.CreationRequest requestBody) {}\r\n&gt; ```\r\n\r\nOf course that can&#39;t work. `M` is a type variable, at compile time the compiler has no idea what type it is. It could be bound to some type that doesn&#39;t even exist yet right now. You can&#39;t ask for a reified inner type on a type variable. You _can_ of course simply talk about `ApplicationDTOManager.CreationRequest` and that&#39;s presumably what you want.\r\n\r\nAlternatively, you&#39;re thinking that subtypes of ApplicationDTOManager may _also_ want to subclass `ApplicationDTOManager.CreationRequest`. This is possible, but then all ApplicationDTOManager types need to carry their associated CreationRequest type as a type variable. We thus fix a few things:\r\n\r\n```\r\npublic class ApplicationDTOManager&lt;R extends ApplicationDTOManager.CreationRequest&gt; {\r\n  public static class CreationRequest {}\r\n}\r\n```\r\n\r\nYou may have a non-static inner class named CreationRequest. I&#39;m going to stop you again on that - non-static inners have an invisible inner field of their outer&#39;s type, and combining that invisible voodoo magic with generics just doesn&#39;t work. Don&#39;t do it. You can explicitly make that field if you must have it, and make a constructor that takes it. This is what javac generates for you if you don&#39;t add `static` to your inner classes. But by making it explicit, you take control of the generics, which you have to here, and avoid confusion which given the nature of the question seems pertinent.\r\n\r\n&gt; I&#39;m told that this does not override any super class methods. Why?\r\n\r\nJava&#39;s method names __include all their erased types__. The name of this method:\r\n\r\n```\r\nclass List&lt;T extends Number&gt; {\r\n  int hello(String name, boolean[] hi, T arg) throws SQLException {}\r\n}\r\n```\r\n\r\nis, as far as the JVM is concerned, `hello(Ljava/lang/String;[ZLjava/lang/Number;)I`.\r\n\r\nYeah, no, really. `javap -c -v` a class file and you&#39;ll see it. (`I` is integer, `[` is array, `Z` is boolean, and `Ltxt;` encodes ref type names in JVM style, e.g. with slashes and dollars instead of dots). It&#39;s written `name(params)ret`.\r\n\r\nIf you then subtype something and introduce a method whose erased JVM name is __identical__, you&#39;re overriding. If you don&#39;t, it is not an override. Merely an overload. Overrides are dynamically dispatched. __But overloads are not__ - The names are all linked up __at compile time__. However, for any given &#39;JVM method name&#39;, the lookup is done dynamically based on the receiver type. In other words:\r\n\r\n```\r\nclass Fruit {\r\n  void hi(Fruit f) { System.out.println(&quot;Fruit Fruit&quot;); }\r\n  void hi(Apple a) { System.out.println(&quot;Fruit Apple&quot;); }\r\n}\r\n\r\nclass Apple extends Fruit {\r\n  void hi(Fruit f) { System.out.println(&quot;Apple Fruit&quot;); }\r\n  void hi(Apple a) { System.out.println(&quot;Apple Apple&quot;); }\r\n}\r\n\r\nFruit f = new Fruit();\r\nFruit a = new Apple();\r\na.hi(a);\r\n```\r\n\r\nWill print `Apple Fruit`. You&#39;d think it should print `Apple Apple` perhaps - we are calling apple&#39;s `hi` passing an apple, no? But the invocation `a.hi(a)` is invoking the method named `hi(Lfruit;)V` (because the type of `a` is Fruit). The receiver variable (`a`) has compile time type `Fruit`, but its real type is `Apple`. So, which of the `hi(Lfruit;)V` methods is chosen is done with dynamic dispatch - you get apple&#39;s `hi(Fruit)`. Deciding between going with `hi(Fruit)` and `hi(Apple)` __is done by the compiler only__. Given that the type of the expression `a` is Fruit, you get `hi(Fruit)`. The fact that if you resolve this expression, you get an object whose `.getClass()` returns `Apple.class`, doesn&#39;t change this.\r\n\r\nHence, what you wrote, does not override. Different name, even if you erase.\r\n\r\nToss generics in the mix and it gets funky. But you can do this.\r\n\r\n\r\n```\r\npublic abstract class ApplicationDTOManager&lt;I extends CreationRequest, O extends CreationResponse&gt; {\r\n\r\n    public abstract static class CreationRequest {}\r\n\r\n    public abstract static class CreationResponse {}\r\n\r\n}\r\n\r\npublic abstract class ApplicationController&lt;\r\n        E extends ApplicationEntity,\r\n        S extends ApplicationService&lt;AppEntity&gt;,\r\n        I extends CreationRequest,\r\n        O extends CreationResponse,\r\n        M extends ApplicationDTOManager&lt;I, O&gt;\r\n    &gt;\r\n// heck that&#39;s probably too many, at some point generics aren&#39;t worth it\r\n\r\n{\r\n  public abstract boolean hasCreatePermissions(I requestBody);\r\n}\r\n\r\n@RestController\r\npublic class UserResource extends ApplicationController&lt;\r\n    User,\r\n//     UserService&lt;User&gt;, // this seems wrong!\r\n    UserService, // UserService should extends ApplicationService&lt;User&gt;\r\n    UserDTOManager.CreationRequest,\r\n    UserDTOManager.CreationResponse,\r\n    UserDTOManager&gt; {\r\n    \r\n    @Override\r\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        // Stuff\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nNot sure all this is worth the pain, but, _if_ you insist on linking all this together with generics, the above is the only way. You cannot express the notion &#39;has an inner type that is a subtype of CreationRequest&#39; is a generics bound.\r\n","title":"Cannot override method that takes in parameter of inner class of generic","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationController&lt;\n       AppEntity extends ApplicationEntity,\n</code></pre>\n</blockquote>\n<p>No, stop right there. This is declaring a <strong>type variable</strong> with the bound rules: &quot;Must be either <code>ApplicationEntity</code> or any subtype thereof&quot; and you named it <code>AppEntity</code>. This is going to make your head go in circles when you read the code later, 'I keep confusing reified types with type variables' comprises 95% of all confusion about generics. I know it seems unreadable, but there really is just only one way to go about it, and that is to use <strong>single capital letters</strong> for <em>all</em> your type vars. So let's fix that right now:</p>\n<pre><code>public abstract class ApplicationController&lt;\n        E extends ApplicationEntity,\n        S extends ApplicationService&lt;E&gt;,\n        M extends ApplicationDTOManager&gt; {\n</code></pre>\n<p>Which then immediately lets us see a big problem in the next line:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasCreatePermissions(M.CreationRequest requestBody) {}\n</code></pre>\n</blockquote>\n<p>Of course that can't work. <code>M</code> is a type variable, at compile time the compiler has no idea what type it is. It could be bound to some type that doesn't even exist yet right now. You can't ask for a reified inner type on a type variable. You <em>can</em> of course simply talk about <code>ApplicationDTOManager.CreationRequest</code> and that's presumably what you want.</p>\n<p>Alternatively, you're thinking that subtypes of ApplicationDTOManager may <em>also</em> want to subclass <code>ApplicationDTOManager.CreationRequest</code>. This is possible, but then all ApplicationDTOManager types need to carry their associated CreationRequest type as a type variable. We thus fix a few things:</p>\n<pre><code>public class ApplicationDTOManager&lt;R extends ApplicationDTOManager.CreationRequest&gt; {\n  public static class CreationRequest {}\n}\n</code></pre>\n<p>You may have a non-static inner class named CreationRequest. I'm going to stop you again on that - non-static inners have an invisible inner field of their outer's type, and combining that invisible voodoo magic with generics just doesn't work. Don't do it. You can explicitly make that field if you must have it, and make a constructor that takes it. This is what javac generates for you if you don't add <code>static</code> to your inner classes. But by making it explicit, you take control of the generics, which you have to here, and avoid confusion which given the nature of the question seems pertinent.</p>\n<blockquote>\n<p>I'm told that this does not override any super class methods. Why?</p>\n</blockquote>\n<p>Java's method names <strong>include all their erased types</strong>. The name of this method:</p>\n<pre><code>class List&lt;T extends Number&gt; {\n  int hello(String name, boolean[] hi, T arg) throws SQLException {}\n}\n</code></pre>\n<p>is, as far as the JVM is concerned, <code>hello(Ljava/lang/String;[ZLjava/lang/Number;)I</code>.</p>\n<p>Yeah, no, really. <code>javap -c -v</code> a class file and you'll see it. (<code>I</code> is integer, <code>[</code> is array, <code>Z</code> is boolean, and <code>Ltxt;</code> encodes ref type names in JVM style, e.g. with slashes and dollars instead of dots). It's written <code>name(params)ret</code>.</p>\n<p>If you then subtype something and introduce a method whose erased JVM name is <strong>identical</strong>, you're overriding. If you don't, it is not an override. Merely an overload. Overrides are dynamically dispatched. <strong>But overloads are not</strong> - The names are all linked up <strong>at compile time</strong>. However, for any given 'JVM method name', the lookup is done dynamically based on the receiver type. In other words:</p>\n<pre><code>class Fruit {\n  void hi(Fruit f) { System.out.println(&quot;Fruit Fruit&quot;); }\n  void hi(Apple a) { System.out.println(&quot;Fruit Apple&quot;); }\n}\n\nclass Apple extends Fruit {\n  void hi(Fruit f) { System.out.println(&quot;Apple Fruit&quot;); }\n  void hi(Apple a) { System.out.println(&quot;Apple Apple&quot;); }\n}\n\nFruit f = new Fruit();\nFruit a = new Apple();\na.hi(a);\n</code></pre>\n<p>Will print <code>Apple Fruit</code>. You'd think it should print <code>Apple Apple</code> perhaps - we are calling apple's <code>hi</code> passing an apple, no? But the invocation <code>a.hi(a)</code> is invoking the method named <code>hi(Lfruit;)V</code> (because the type of <code>a</code> is Fruit). The receiver variable (<code>a</code>) has compile time type <code>Fruit</code>, but its real type is <code>Apple</code>. So, which of the <code>hi(Lfruit;)V</code> methods is chosen is done with dynamic dispatch - you get apple's <code>hi(Fruit)</code>. Deciding between going with <code>hi(Fruit)</code> and <code>hi(Apple)</code> <strong>is done by the compiler only</strong>. Given that the type of the expression <code>a</code> is Fruit, you get <code>hi(Fruit)</code>. The fact that if you resolve this expression, you get an object whose <code>.getClass()</code> returns <code>Apple.class</code>, doesn't change this.</p>\n<p>Hence, what you wrote, does not override. Different name, even if you erase.</p>\n<p>Toss generics in the mix and it gets funky. But you can do this.</p>\n<pre><code>public abstract class ApplicationDTOManager&lt;I extends CreationRequest, O extends CreationResponse&gt; {\n\n    public abstract static class CreationRequest {}\n\n    public abstract static class CreationResponse {}\n\n}\n\npublic abstract class ApplicationController&lt;\n        E extends ApplicationEntity,\n        S extends ApplicationService&lt;AppEntity&gt;,\n        I extends CreationRequest,\n        O extends CreationResponse,\n        M extends ApplicationDTOManager&lt;I, O&gt;\n    &gt;\n// heck that's probably too many, at some point generics aren't worth it\n\n{\n  public abstract boolean hasCreatePermissions(I requestBody);\n}\n\n@RestController\npublic class UserResource extends ApplicationController&lt;\n    User,\n//     UserService&lt;User&gt;, // this seems wrong!\n    UserService, // UserService should extends ApplicationService&lt;User&gt;\n    UserDTOManager.CreationRequest,\n    UserDTOManager.CreationResponse,\n    UserDTOManager&gt; {\n    \n    @Override\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        // Stuff\n    }\n\n\n}\n\n</code></pre>\n<p>Not sure all this is worth the pain, but, <em>if</em> you insist on linking all this together with generics, the above is the only way. You cannot express the notion 'has an inner type that is a subtype of CreationRequest' is a generics bound.</p>\n"}],"owner":{"account_id":21743569,"reputation":25,"user_id":16050570,"display_name":"Mansehaj Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74242729,"answer_count":2,"score":0,"last_activity_date":1667016011,"creation_date":1667008309,"question_id":74242325,"body_markdown":"Ok, I&#39;ll try to explain this as cleanly as I can.\r\n\r\nI&#39;ve created a generic abstract controller class that has a method `hasCreatePermissions` that looks something like this: \r\n\r\n\r\n```\r\npublic abstract class ApplicationController&lt;\r\n        AppEntity extends ApplicationEntity,\r\n        AppService extends ApplicationService&lt;AppEntity&gt;,\r\n        DTOManager extends ApplicationDTOManager\r\n&gt; {\r\n\r\n    // Other methods, properties, etc...\r\n    \r\n    public boolean hasCreatePermissions(DTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nEssentially, I want any class that overrides this method to be able to use its own DTOManager class as the parameter when it overrides this method.\r\n\r\nThe generic ApplicationDTOManager class looks like \r\n\r\n```\r\npublic abstract class ApplicationDTOManager {\r\n\r\n    public abstract class CreationRequest {}\r\n\r\n    public abstract class CreationResponse {}\r\n\r\n}\r\n```\r\n\r\nand any class that inherits ApplicationDTOManager can add classes that extend CreationRequest and CreationResponse for their own implementation of respective DTOs.\r\n\r\n\r\nHowever, lets say I try to extend it with a UserResource class (assume UserDTOManager exists with an implementation for CreationRequest):\r\n\r\n```\r\n@RestController\r\npublic class UserResource extends ApplicationController&lt;\r\n    User,\r\n    UserService&lt;User&gt;,\r\n    UserDTOManager\r\n&gt; {\r\n    \r\n    @Override\r\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\r\n        // Stuff\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI&#39;m told that this does not override any super class methods. Why? Is there any way to achieve this as I did not want to pass too many generics to my ApplicationController class, but also cannot have a constructor.","title":"Cannot override method that takes in parameter of inner class of generic","body":"<p>Ok, I'll try to explain this as cleanly as I can.</p>\n<p>I've created a generic abstract controller class that has a method <code>hasCreatePermissions</code> that looks something like this:</p>\n<pre><code>public abstract class ApplicationController&lt;\n        AppEntity extends ApplicationEntity,\n        AppService extends ApplicationService&lt;AppEntity&gt;,\n        DTOManager extends ApplicationDTOManager\n&gt; {\n\n    // Other methods, properties, etc...\n    \n    public boolean hasCreatePermissions(DTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        return false;\n    }\n\n\n}\n</code></pre>\n<p>Essentially, I want any class that overrides this method to be able to use its own DTOManager class as the parameter when it overrides this method.</p>\n<p>The generic ApplicationDTOManager class looks like</p>\n<pre><code>public abstract class ApplicationDTOManager {\n\n    public abstract class CreationRequest {}\n\n    public abstract class CreationResponse {}\n\n}\n</code></pre>\n<p>and any class that inherits ApplicationDTOManager can add classes that extend CreationRequest and CreationResponse for their own implementation of respective DTOs.</p>\n<p>However, lets say I try to extend it with a UserResource class (assume UserDTOManager exists with an implementation for CreationRequest):</p>\n<pre><code>@RestController\npublic class UserResource extends ApplicationController&lt;\n    User,\n    UserService&lt;User&gt;,\n    UserDTOManager\n&gt; {\n    \n    @Override\n    public boolean hasCreatePermissions(UserDTOManager.CreationRequest requestBody, Optional&lt;UUID&gt; requestingUser) {\n        // Stuff\n    }\n\n\n}\n</code></pre>\n<p>I'm told that this does not override any super class methods. Why? Is there any way to achieve this as I did not want to pass too many generics to my ApplicationController class, but also cannot have a constructor.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":15448309,"reputation":36,"user_id":11144554,"display_name":"Masoud Sarabadani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666941349,"creation_date":1666941349,"answer_id":74231822,"question_id":74231667,"body_markdown":"The question is not quiet clear but you have 2 ways to interact with your adapter class\r\n\r\n(this is not the right way but it works in this situation)\r\n1. just pass the instance of your dialog to the constructor of your Adapter Class \r\nand inside onbind method use that dialog instance to dismiss it\r\n\r\n2. create an interface, take it as a constructor argument in your adapter class,\r\ncall the function whenever your activity/fragment to be notified,\r\nand then when ever you want to create an instance of your adapter class, let the class implement the interface by passing &quot;this&quot; instead of that interface to your adapter instance.","title":"How to closed BottomSheetDialog when user click item in RecyclerView?","body":"<p>The question is not quiet clear but you have 2 ways to interact with your adapter class</p>\n<p>(this is not the right way but it works in this situation)</p>\n<ol>\n<li><p>just pass the instance of your dialog to the constructor of your Adapter Class\nand inside onbind method use that dialog instance to dismiss it</p>\n</li>\n<li><p>create an interface, take it as a constructor argument in your adapter class,\ncall the function whenever your activity/fragment to be notified,\nand then when ever you want to create an instance of your adapter class, let the class implement the interface by passing &quot;this&quot; instead of that interface to your adapter instance.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74231822,"answer_count":1,"score":2,"last_activity_date":1667014403,"creation_date":1666940320,"question_id":74231667,"body_markdown":"I&#39;m working with project where user can redirect to another page by selecting item in bottomsheet.\r\n\r\nThis is sample code for ```Fragment.java```\r\n\r\n```\r\nprivate BottomSheetDialog bottomsheet;\r\n\r\nprivate void displayBottomSheet(){\r\n   bottomsheet.show\r\n   View view = getLayoutInflater().inflate(R.layout.bottom_sheet, null, false);\r\n   RecyclerView recyclerView = view.findViewById(R.id.RecyclerView);\r\n\r\n   LinearLayoutManager linearLayoutManager = new \r\n   LinearLayoutManager(getContext().getApplicationContext());\r\n   recyclerView.setLayoutManager(linearLayoutManager);\r\n   RecyclerViewAdapter recyclerViewAdapter = new RecyclerViewAdapter(getContext(), \r\n   ..., ..., ...);\r\n   recyclerView.setAdapter(recyclerViewAdapter);\r\n\r\n   bottomsheet.setContentView(view);\r\n}\r\n```\r\nThis is sample code for my `RecyclerViewAdapter`\r\n\r\n```\r\nprivate void openFragmentScreen(int position, View view) {\r\n  // This is where the recyclerview item click listener to redirect in another fragment\r\n}\r\n```\r\n\r\n**I have done:**\r\n- ```recyclerview.onClickListener``` but its not working\r\n\r\n*Is there a way to call bottomsheetdialog in adapter class so I can easily use `bottomsheet.dismiss()` in my `openFragmentScreen()`?*","title":"How to closed BottomSheetDialog when user click item in RecyclerView?","body":"<p>I'm working with project where user can redirect to another page by selecting item in bottomsheet.</p>\n<p>This is sample code for <code>Fragment.java</code></p>\n<pre><code>private BottomSheetDialog bottomsheet;\n\nprivate void displayBottomSheet(){\n   bottomsheet.show\n   View view = getLayoutInflater().inflate(R.layout.bottom_sheet, null, false);\n   RecyclerView recyclerView = view.findViewById(R.id.RecyclerView);\n\n   LinearLayoutManager linearLayoutManager = new \n   LinearLayoutManager(getContext().getApplicationContext());\n   recyclerView.setLayoutManager(linearLayoutManager);\n   RecyclerViewAdapter recyclerViewAdapter = new RecyclerViewAdapter(getContext(), \n   ..., ..., ...);\n   recyclerView.setAdapter(recyclerViewAdapter);\n\n   bottomsheet.setContentView(view);\n}\n</code></pre>\n<p>This is sample code for my <code>RecyclerViewAdapter</code></p>\n<pre><code>private void openFragmentScreen(int position, View view) {\n  // This is where the recyclerview item click listener to redirect in another fragment\n}\n</code></pre>\n<p><strong>I have done:</strong></p>\n<ul>\n<li><code>recyclerview.onClickListener</code> but its not working</li>\n</ul>\n<p><em>Is there a way to call bottomsheetdialog in adapter class so I can easily use <code>bottomsheet.dismiss()</code> in my <code>openFragmentScreen()</code>?</em></p>\n"},{"tags":["java","arraylist","append"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":4,"creation_date":1395667027,"post_id":22610526,"comment_id":34427630,"body_markdown":"Use `stringList.add`. And it&#39;s &quot;appended&quot; to the end..","body":"Use <code>stringList.add</code>. And it&#39;s &quot;appended&quot; to the end.."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":4,"creation_date":1395667045,"post_id":22610526,"comment_id":34427643,"body_markdown":"What do you think this - `ArrayList.add(random);` will do? To which arraylist will it add?","body":"What do you think this - <code>ArrayList.add(random);</code> will do? To which arraylist will it add?"},{"owner":{"account_id":265464,"reputation":38243,"user_id":552438,"display_name":"Anthony Grist"},"score":1,"creation_date":1395667140,"post_id":22610526,"comment_id":34427711,"body_markdown":"If you want something that works like a stack, why not use a Stack?","body":"If you want something that works like a stack, why not use a Stack?"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1395667203,"post_id":22610526,"comment_id":34427765,"body_markdown":"@AnthonyGrist He&#39;s trying to implement a `Stack` that&#39;s backed by an `ArrayList`.","body":"@AnthonyGrist He&#39;s trying to implement a <code>Stack</code> that&#39;s backed by an <code>ArrayList</code>."},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667284,"post_id":22610526,"comment_id":34427825,"body_markdown":"@RohitJain I see now that it was wrong, I am new to programming and thought that you have to use the method &quot;add&quot; on an ArrayList, because the method belongs to that class, and then I thought that if you write &quot;random&quot; it will attach the string &quot;random&quot; to the ArrayList, but of course, that makes little sense because how would the computer know to add it to &quot;stringList&quot;, right?","body":"@RohitJain I see now that it was wrong, I am new to programming and thought that you have to use the method &quot;add&quot; on an ArrayList, because the method belongs to that class, and then I thought that if you write &quot;random&quot; it will attach the string &quot;random&quot; to the ArrayList, but of course, that makes little sense because how would the computer know to add it to &quot;stringList&quot;, right?"},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667343,"post_id":22610526,"comment_id":34427875,"body_markdown":"@AnthonyGrist I am doing this for a school exercise, and they want us to implement the stack ourselves, in order to get a better understanding of what a stack is","body":"@AnthonyGrist I am doing this for a school exercise, and they want us to implement the stack ourselves, in order to get a better understanding of what a stack is"},{"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"score":0,"creation_date":1395667455,"post_id":22610526,"comment_id":34427963,"body_markdown":"@MarounMaroun Thank you!! Of course, I stupidly got confused by that you have to create an object of a class type and then use the methods on the object, and not use methods directly on the class...","body":"@MarounMaroun Thank you!! Of course, I stupidly got confused by that you have to create an object of a class type and then use the methods on the object, and not use methods directly on the class..."}],"answers":[{"tags":[],"owner":{"account_id":3183512,"reputation":2784,"user_id":3444376,"display_name":"Edwin Torres"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1395672241,"creation_date":1395672241,"answer_id":22612588,"question_id":22610526,"body_markdown":"Here is the syntax, along with some other methods you might find useful:\r\n\r\n        //add to the end of the list\r\n        stringList.add(random);\r\n        \r\n        //add to the beginning of the list\r\n        stringList.add(0,  random);\r\n        \r\n        //replace the element at index 4 with random\r\n        stringList.set(4, random);\r\n        \r\n        //remove the element at index 5\r\n        stringList.remove(5);\r\n        \r\n        //remove all elements from the list\r\n        stringList.clear();","title":"How to append elements at the end of ArrayList in Java?","body":"<p>Here is the syntax, along with some other methods you might find useful:</p>\n\n<pre><code>    //add to the end of the list\n    stringList.add(random);\n\n    //add to the beginning of the list\n    stringList.add(0,  random);\n\n    //replace the element at index 4 with random\n    stringList.set(4, random);\n\n    //remove the element at index 5\n    stringList.remove(5);\n\n    //remove all elements from the list\n    stringList.clear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1509190818,"creation_date":1509190818,"answer_id":46989301,"question_id":22610526,"body_markdown":"I know this is an old question, but I wanted to make an answer of my own. here is another way to do this if you &quot;really&quot; want to add to the end of the list instead of using ```list.add(str)``` you can do it this way, but I don&#39;t recommend.\r\n\r\n     String[] items = new String[]{&quot;Hello&quot;, &quot;World&quot;};\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            Collections.addAll(list, items);\r\n            int endOfList = list.size();\r\n            list.add(endOfList, &quot;This goes end of list&quot;);\r\n            System.out.println(Collections.singletonList(list));\r\n\r\n*this is the &#39;Compact&#39; way of adding the item to the end of list.\r\nhere is a safer way to do this, with null checking and more.*\r\n\r\n    String[] items = new String[]{&quot;Hello&quot;, &quot;World&quot;};\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            Collections.addAll(list, items);\r\n            addEndOfList(list, &quot;Safer way&quot;);\r\n            System.out.println(Collections.singletonList(list));\r\n\r\n     private static void addEndOfList(List&lt;String&gt; list, String item){\r\n                try{\r\n                    list.add(getEndOfList(list), item);\r\n                } catch (IndexOutOfBoundsException e){\r\n                    System.out.println(e.toString());\r\n                }\r\n            }\r\n\r\n       private static int getEndOfList(List&lt;String&gt; list){\r\n            if(list != null) {\r\n                return list.size();\r\n            }\r\n            return -1;\r\n        }\r\n\r\nHeres another way to add items to the end of list, happy coding :)","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I know this is an old question, but I wanted to make an answer of my own. here is another way to do this if you \"really\" want to add to the end of the list instead of using <code>list.add(str)</code> you can do it this way, but I don't recommend.</p>\n\n<pre><code> String[] items = new String[]{\"Hello\", \"World\"};\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n        Collections.addAll(list, items);\n        int endOfList = list.size();\n        list.add(endOfList, \"This goes end of list\");\n        System.out.println(Collections.singletonList(list));\n</code></pre>\n\n<p><em>this is the 'Compact' way of adding the item to the end of list.\nhere is a safer way to do this, with null checking and more.</em></p>\n\n<pre><code>String[] items = new String[]{\"Hello\", \"World\"};\n        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n        Collections.addAll(list, items);\n        addEndOfList(list, \"Safer way\");\n        System.out.println(Collections.singletonList(list));\n\n private static void addEndOfList(List&lt;String&gt; list, String item){\n            try{\n                list.add(getEndOfList(list), item);\n            } catch (IndexOutOfBoundsException e){\n                System.out.println(e.toString());\n            }\n        }\n\n   private static int getEndOfList(List&lt;String&gt; list){\n        if(list != null) {\n            return list.size();\n        }\n        return -1;\n    }\n</code></pre>\n\n<p>Heres another way to add items to the end of list, happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":15181110,"reputation":25,"user_id":10954358,"display_name":"KEERTHAN SHETTY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556623131,"creation_date":1556623131,"answer_id":55919772,"question_id":22610526,"body_markdown":"    import java.util.*;\r\n    \r\n    \r\n    public class matrixcecil {\r\n        public static void main(String args[]){\r\n            List&lt;Integer&gt; k1=new ArrayList&lt;Integer&gt;(10);\r\n            k1.add(23);\r\n            k1.add(10);\r\n            k1.add(20);\r\n            k1.add(24);\r\n            int i=0;\r\n            while(k1.size()&lt;10){\r\n                if(i==(k1.get(k1.size()-1))){\r\n                    \r\n                }\r\n                 i=k1.get(k1.size()-1);\r\n                 k1.add(30);\r\n                 i++;\r\n                 break;\r\n            }\r\n            System.out.println(k1);\r\n        }\r\n        \r\n    }\r\n\r\nI think this example will help you for better solution.\r\n","title":"How to append elements at the end of ArrayList in Java?","body":"<pre><code>import java.util.*;\n\n\npublic class matrixcecil {\n    public static void main(String args[]){\n        List&lt;Integer&gt; k1=new ArrayList&lt;Integer&gt;(10);\n        k1.add(23);\n        k1.add(10);\n        k1.add(20);\n        k1.add(24);\n        int i=0;\n        while(k1.size()&lt;10){\n            if(i==(k1.get(k1.size()-1))){\n\n            }\n             i=k1.get(k1.size()-1);\n             k1.add(30);\n             i++;\n             break;\n        }\n        System.out.println(k1);\n    }\n\n}\n</code></pre>\n\n<p>I think this example will help you for better solution.</p>\n"},{"tags":[],"owner":{"account_id":8644224,"reputation":361,"user_id":6471931,"display_name":"Ambrown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575509492,"creation_date":1575509492,"answer_id":59186938,"question_id":22610526,"body_markdown":"I ran into a similar problem and just passed the end of the array to the `ArrayList.add()` index param like so:\r\n```\r\npublic class Stack {\r\n\r\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n\r\n    RandomStringGenerator rsg = new RandomStringGenerator();\r\n\r\n    private void push(){\r\n        String random = rsg.randomStringGenerator();\r\n        stringList.add(stringList.size(), random);\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I ran into a similar problem and just passed the end of the array to the <code>ArrayList.add()</code> index param like so:</p>\n\n<pre><code>public class Stack {\n\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n\n    RandomStringGenerator rsg = new RandomStringGenerator();\n\n    private void push(){\n        String random = rsg.randomStringGenerator();\n        stringList.add(stringList.size(), random);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3944591,"reputation":1835,"user_id":3257736,"accept_rate":66,"display_name":"Nora"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159226,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":22612588,"answer_count":4,"score":34,"last_activity_date":1667012644,"creation_date":1395666990,"question_id":22610526,"body_markdown":"I am wondering, how do I append an element to the end of an ArrayList in Java? Here is the code I have so far: \r\n\r\n    public class Stack {\r\n\r\n\t    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n\t\r\n\t    RandomStringGenerator rsg = new RandomStringGenerator();\r\n\r\n\t    private void push(){\r\n\t\t    String random = rsg.randomStringGenerator();\r\n\t\t    ArrayList.add(random);\r\n\t    }\r\n\t\r\n    }\r\n\r\n`randomStringGenerator` is a method which generates a random String. \r\n\r\nI basically want to always append the random string at the end of the ArrayList, much like a stack (Hence the name &quot;push&quot;).","title":"How to append elements at the end of ArrayList in Java?","body":"<p>I am wondering, how do I append an element to the end of an ArrayList in Java? Here is the code I have so far:</p>\n<pre><code>public class Stack {\n\n    private ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n\n    RandomStringGenerator rsg = new RandomStringGenerator();\n\n    private void push(){\n        String random = rsg.randomStringGenerator();\n        ArrayList.add(random);\n    }\n\n}\n</code></pre>\n<p><code>randomStringGenerator</code> is a method which generates a random String.</p>\n<p>I basically want to always append the random string at the end of the ArrayList, much like a stack (Hence the name &quot;push&quot;).</p>\n"},{"tags":["java","tomcat","deployment"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1367923147,"post_id":16416832,"comment_id":23538704,"body_markdown":"can you share the file content where these variable are defined","body":"can you share the file content where these variable are defined"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367923421,"post_id":16416832,"comment_id":23538842,"body_markdown":"&#39;service.bat&#39;, it&#39;s original and is placed in bin directory","body":"&#39;service.bat&#39;, it&#39;s original and is placed in bin directory"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367924936,"post_id":16416832,"comment_id":23539719,"body_markdown":"edited console output","body":"edited console output"},{"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"score":0,"creation_date":1367927894,"post_id":16416832,"comment_id":23541483,"body_markdown":"4g of ram installed :)","body":"4g of ram installed :)"}],"answers":[{"tags":[],"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1367934094,"creation_date":1367934094,"answer_id":16420604,"question_id":16416832,"body_markdown":"got the correct parameters(JAVA_OPTS) from [here][1]. I&#39;ve set them in setenv.bat.\r\n\r\n\r\n  [1]: http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>got the correct parameters(JAVA_OPTS) from <a href=\"http://www.mkyong.com/tomcat/tomcat-javalangoutofmemoryerror-permgen-space/\" rel=\"nofollow\">here</a>. I've set them in setenv.bat.</p>\n"},{"tags":[],"owner":{"account_id":1811316,"reputation":9110,"user_id":1647320,"accept_rate":85,"display_name":"sapy"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1524101521,"creation_date":1497940051,"answer_id":44645367,"question_id":16416832,"body_markdown":"This is your problem \r\n`Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m`\r\n\r\nSome systems ( May be windows JRE) understands `Xms` and `Xmx` values given in small letters. here 256m and 512m denotes 256MB and 512MB respectively .\r\n\r\nSome machine(JDK 1.7 on Ubuntu ) doesn&#39;t understand `small m for MB` . So when I changed Xms256m -Xmx512m , `to =&gt;` *Xms256**M** -Xmx512**M*** , it started working .\r\n\r\n&gt; P.S -&gt; I got this error while installing IntelliJ on Ubuntu 15 ( JDK\r\n&gt; 1.7) , I edited `/bin/idea.vmoptions` file of intelliJ and It started working.\r\n&gt; \r\n&gt; [Here is a list][1] of error you can get for wrongly setting **Xmx** and\r\n&gt; **Xms** values  -\r\n\r\n\r\n\r\n**java -Xmx4056M -Xms4056M HelloWorld**\r\n\r\nIssue:  Error occurred during initialization of VM , The size of the object heap + VM data exceeds the maximum representable size\r\n\r\n*Cause:  the value of either -Xms or -Xmx is higher than or close to the size of physical memory, as my machine has 4GB memory.*\r\n\r\n**java -Xmx1056M -Xms2056M HelloWorld**\r\n\r\nIssue:  Error occurred during initialization of VM , Incompatible minimum, and maximum heap sizes specified\r\n\r\n*Cause:  value of -Xms is higher than -Xmx*\r\n\r\n**java -Xms2056M HelloWorld**\r\n\r\nIssue: Error occurred during initialization of VM , Could not reserve enough space for object heap\r\n\r\n*Cause: Only -Xms was provided and -Xmx was not provided. you will also get this error if you have a typo and instead of -Xmx you have specified -Xms two times*\r\n\r\n\r\n**java -Xms1024 M -Xmx1024M HelloWorld**\r\n\r\nIssue: Error occurred during initialization of VM , Too small initial heap\r\n\r\n*Cause: If you had space between 1024 and M than JVM assumes the size of -Xms as 1024 bytes only and print error that it&#39;s too small for JVM to start*\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2012/12/invalid-initial-and-maximum-heap-size.html#ixzz4kWNUGAbF","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>This is your problem \n<code>Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m</code></p>\n\n<p>Some systems ( May be windows JRE) understands <code>Xms</code> and <code>Xmx</code> values given in small letters. here 256m and 512m denotes 256MB and 512MB respectively .</p>\n\n<p>Some machine(JDK 1.7 on Ubuntu ) doesn't understand <code>small m for MB</code> . So when I changed Xms256m -Xmx512m , <code>to =&gt;</code> <em>Xms256<strong>M</strong> -Xmx512<strong>M</em></strong> , it started working .</p>\n\n<blockquote>\n  <p>P.S -> I got this error while installing IntelliJ on Ubuntu 15 ( JDK\n  1.7) , I edited <code>/bin/idea.vmoptions</code> file of intelliJ and It started working.</p>\n  \n  <p><a href=\"http://javarevisited.blogspot.com/2012/12/invalid-initial-and-maximum-heap-size.html#ixzz4kWNUGAbF\" rel=\"noreferrer\">Here is a list</a> of error you can get for wrongly setting <strong>Xmx</strong> and\n  <strong>Xms</strong> values  -</p>\n</blockquote>\n\n<p><strong>java -Xmx4056M -Xms4056M HelloWorld</strong></p>\n\n<p>Issue:  Error occurred during initialization of VM , The size of the object heap + VM data exceeds the maximum representable size</p>\n\n<p><em>Cause:  the value of either -Xms or -Xmx is higher than or close to the size of physical memory, as my machine has 4GB memory.</em></p>\n\n<p><strong>java -Xmx1056M -Xms2056M HelloWorld</strong></p>\n\n<p>Issue:  Error occurred during initialization of VM , Incompatible minimum, and maximum heap sizes specified</p>\n\n<p><em>Cause:  value of -Xms is higher than -Xmx</em></p>\n\n<p><strong>java -Xms2056M HelloWorld</strong></p>\n\n<p>Issue: Error occurred during initialization of VM , Could not reserve enough space for object heap</p>\n\n<p><em>Cause: Only -Xms was provided and -Xmx was not provided. you will also get this error if you have a typo and instead of -Xmx you have specified -Xms two times</em></p>\n\n<p><strong>java -Xms1024 M -Xmx1024M HelloWorld</strong></p>\n\n<p>Issue: Error occurred during initialization of VM , Too small initial heap</p>\n\n<p><em>Cause: If you had space between 1024 and M than JVM assumes the size of -Xms as 1024 bytes only and print error that it's too small for JVM to start</em></p>\n"},{"tags":[],"owner":{"account_id":4526662,"reputation":2542,"user_id":3678249,"accept_rate":88,"display_name":"BartBiczBoży"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547137451,"creation_date":1547137451,"answer_id":54132942,"question_id":16416832,"body_markdown":"And in my case reason was to have `-Xms` option before `-javaagent`. Executing it in right order `java -javaagent:xxx -Xms256m` did the trick.","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>And in my case reason was to have <code>-Xms</code> option before <code>-javaagent</code>. Executing it in right order <code>java -javaagent:xxx -Xms256m</code> did the trick.</p>\n"},{"tags":[],"owner":{"account_id":14416320,"reputation":91,"user_id":10413681,"display_name":"Job Kavoya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551902302,"creation_date":1551902302,"answer_id":55031263,"question_id":16416832,"body_markdown":"I got the same error when initializing h2o for deep learning in R. Removed space between the set minimum memory size: \r\n\r\nh2o.init(min_mem_size = &quot;10 G&quot;) I got error:\r\n\r\nError occurred during initialization of VM\r\nToo small initial heap\r\n\r\nAfter removing space between 10 and G it worked:\r\n\r\nh2o.init(min_mem_size = &quot;10G&quot;)","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>I got the same error when initializing h2o for deep learning in R. Removed space between the set minimum memory size: </p>\n\n<p>h2o.init(min_mem_size = \"10 G\") I got error:</p>\n\n<p>Error occurred during initialization of VM\nToo small initial heap</p>\n\n<p>After removing space between 10 and G it worked:</p>\n\n<p>h2o.init(min_mem_size = \"10G\")</p>\n"},{"tags":[],"owner":{"account_id":1385848,"reputation":25317,"user_id":1317944,"accept_rate":79,"display_name":"The Quantum Physicist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569855847,"creation_date":1569855847,"answer_id":58170578,"question_id":16416832,"body_markdown":"This problem happened to me while trying to run Cassandra.\r\n\r\nUninstalling Java 32-bit and installing Java 64-bit solved this problem for me. ","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>This problem happened to me while trying to run Cassandra.</p>\n\n<p>Uninstalling Java 32-bit and installing Java 64-bit solved this problem for me. </p>\n"},{"tags":[],"owner":{"account_id":5969204,"reputation":12695,"user_id":4692049,"display_name":"avivamg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667012584,"creation_date":1590498407,"answer_id":62022874,"question_id":16416832,"body_markdown":"**The problem** : You try to initial the minimum and maximum heap size of your application though appears that you&#39;re having some syntax issue. You need to set it properly. Pay attention that you minimum and maximum size points are supported related to your machine memory that your application is running.\r\n\r\nFrom **Oracle [Documentation][1]**: \r\n\r\n    -Xms\r\n    The -Xms option sets the initial and minimum Java heap size.\r\n    The Java heap (the “heap”) is the part of the memory where blocks of memory\r\n    are allocated to objects and freed during garbage collection.\r\n \r\n    Note:\t-Xms does not limit the total amount of memory that the JVM can use.\r\n    Format: -Xms&lt;size&gt;[g|G|m|M|k|K]\r\n\r\n\r\n    -Xmx\r\n    This option sets the maximum Java heap size.\r\n    The Java heap (the “heap”) is the part of the memory where blocks of memory \r\n    are allocated to objects and freed during garbage collection.\r\n    Depending upon the kind of operating system you are running,\r\n    the maximum value you can set for the Java heap can vary.\r\n    \r\n    Note:\t-Xmx does not limit the total amount of memory that the JVM can use.\r\n    Operation\r\n    Format: -Xmx&lt;size&gt;[g|G|m|M|k|K]\r\n\r\n**Examples**: \r\n\r\nOn **java cli** `java -Xms:64m -Xmx:1g -jar app.jar`\r\n\r\nOn **docker-compose.yml** example (different syntax): \r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      jenkins:\r\n        image: jenkins/jenkins:lts\r\n        container_name: jenkins\r\n        user: jenkins\r\n        environment:\r\n          - JAVA_OPTS=-Xms512m -Xmx2048m \r\n        ports:\r\n          - &quot;0.0.0.0:8080:8080&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p><strong>The problem</strong> : You try to initial the minimum and maximum heap size of your application though appears that you're having some syntax issue. You need to set it properly. Pay attention that you minimum and maximum size points are supported related to your machine memory that your application is running.</p>\n<p>From <strong>Oracle <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/jrdocs/refman/optionX.html\" rel=\"nofollow noreferrer\">Documentation</a></strong>:</p>\n<pre><code>-Xms\nThe -Xms option sets the initial and minimum Java heap size.\nThe Java heap (the “heap”) is the part of the memory where blocks of memory\nare allocated to objects and freed during garbage collection.\n\nNote:   -Xms does not limit the total amount of memory that the JVM can use.\nFormat: -Xms&lt;size&gt;[g|G|m|M|k|K]\n\n\n-Xmx\nThis option sets the maximum Java heap size.\nThe Java heap (the “heap”) is the part of the memory where blocks of memory \nare allocated to objects and freed during garbage collection.\nDepending upon the kind of operating system you are running,\nthe maximum value you can set for the Java heap can vary.\n\nNote:   -Xmx does not limit the total amount of memory that the JVM can use.\nOperation\nFormat: -Xmx&lt;size&gt;[g|G|m|M|k|K]\n</code></pre>\n<p><strong>Examples</strong>:</p>\n<p>On <strong>java cli</strong> <code>java -Xms:64m -Xmx:1g -jar app.jar</code></p>\n<p>On <strong>docker-compose.yml</strong> example (different syntax):</p>\n<pre><code>version: '3'\nservices:\n  jenkins:\n    image: jenkins/jenkins:lts\n    container_name: jenkins\n    user: jenkins\n    environment:\n      - JAVA_OPTS=-Xms512m -Xmx2048m \n    ports:\n      - &quot;0.0.0.0:8080:8080&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6593027,"reputation":428,"user_id":5093657,"display_name":"Balkrushna Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593005011,"creation_date":1593005011,"answer_id":62556145,"question_id":16416832,"body_markdown":"You may get this issue even after physical memory available in the system.\r\nOn most 32-bit java version the maximum heap size will range from 1.4G to 1.6G. For more details Please got through on this [link][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/hotspotfaq.html#:~:text=The%20maximum%20theoretical%20heap%20limit,1.4G%20to%201.6G.\r\n\r\nIf you have to initialise JVM more than 1.4G to 1.6G of heap memory then you should install 64 bit java version.","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>You may get this issue even after physical memory available in the system.\nOn most 32-bit java version the maximum heap size will range from 1.4G to 1.6G. For more details Please got through on this <a href=\"https://www.oracle.com/java/technologies/hotspotfaq.html#:%7E:text=The%20maximum%20theoretical%20heap%20limit,1.4G%20to%201.6G.\" rel=\"nofollow noreferrer\">link</a></p>\n<p>If you have to initialise JVM more than 1.4G to 1.6G of heap memory then you should install 64 bit java version.</p>\n"}],"owner":{"account_id":1495268,"reputation":841,"user_id":1401370,"accept_rate":65,"display_name":"John Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88932,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":16420604,"answer_count":7,"score":19,"last_activity_date":1667012584,"creation_date":1367922712,"question_id":16416832,"body_markdown":"I&#39;ve faced the next problem:\r\nI&#39;m trying to start Tomcat manually via startup.bat, but it seems not to show any results, then I&#39;ve tried to run shutdown.bat and the console shows next:\r\n\r\n   \r\n\r\n     D:\\apache-tomcat-7.0.35\\bin&gt;startup.bat\r\n    Using CATALINA_BASE:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\apache-tomcat-7.0.35\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.6.0_31&quot;\r\n    Using CLASSPATH:       &quot;D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar&quot;\r\n    D:\\apache-tomcat-7.0.35\\bin&gt;shutdown.bat\r\n    Using CATALINA_BASE:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_HOME:   &quot;D:\\apache-tomcat-7.0.35&quot;\r\n    Using CATALINA_TMPDIR: &quot;D:\\apache-tomcat-7.0.35\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.6.0_31&quot;\r\n    Using CLASSPATH:       &quot;D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar&quot;\r\n    Invalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m\r\n    Could not create the Java virtual machine.\r\n\r\ncatalina.bat is original, also I&#39;ve checked all pathes and opts(i.e. JAVA_HOME, JRE_HOME, CATALINA_BASE, CATALINA_HOME, CATALINA_TMPDIR).\r\ntomcat version is 7.0.35\r\njava v 1.6\r\n","title":"Invalid initial heap size. Could not create the Java virtual machine","body":"<p>I've faced the next problem:\nI'm trying to start Tomcat manually via startup.bat, but it seems not to show any results, then I've tried to run shutdown.bat and the console shows next:</p>\n\n<pre><code> D:\\apache-tomcat-7.0.35\\bin&gt;startup.bat\nUsing CATALINA_BASE:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_HOME:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_TMPDIR: \"D:\\apache-tomcat-7.0.35\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.6.0_31\"\nUsing CLASSPATH:       \"D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar\"\nD:\\apache-tomcat-7.0.35\\bin&gt;shutdown.bat\nUsing CATALINA_BASE:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_HOME:   \"D:\\apache-tomcat-7.0.35\"\nUsing CATALINA_TMPDIR: \"D:\\apache-tomcat-7.0.35\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.6.0_31\"\nUsing CLASSPATH:       \"D:\\apache-tomcat-7.0.35\\bin\\bootstrap.jar;D:\\apache-tomcat-7.0.35\\bin\\tomcat-juli.jar\"\nInvalid initial heap size: -Xms256m -Xmx512m -XX:MaxPermSize=256m\nCould not create the Java virtual machine.\n</code></pre>\n\n<p>catalina.bat is original, also I've checked all pathes and opts(i.e. JAVA_HOME, JRE_HOME, CATALINA_BASE, CATALINA_HOME, CATALINA_TMPDIR).\ntomcat version is 7.0.35\njava v 1.6</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1999826,"reputation":4154,"user_id":2058757,"accept_rate":60,"display_name":"Sharp Edge"},"score":1,"creation_date":1666987715,"post_id":74240386,"comment_id":131072759,"body_markdown":"Is this your homework assignment ?","body":"Is this your homework assignment ?"}],"answers":[{"tags":[],"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666988398,"creation_date":1666988116,"answer_id":74240456,"question_id":74240386,"body_markdown":"Isn&#39;t this your problem?\r\n\r\n    inputFile = new Scanner(filename);\r\n\r\nIt should be \r\n\r\n    inputFile = new Scanner(fileObj);\r\n\r\nYou should read from the file object and not from the String filename. You have used it correctly for the first method where you count all the lines.","title":"Java word counter doesn&#39;t count all the words","body":"<p>Isn't this your problem?</p>\n<pre><code>inputFile = new Scanner(filename);\n</code></pre>\n<p>It should be</p>\n<pre><code>inputFile = new Scanner(fileObj);\n</code></pre>\n<p>You should read from the file object and not from the String filename. You have used it correctly for the first method where you count all the lines.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988953,"creation_date":1666988650,"answer_id":74240526,"question_id":74240386,"body_markdown":"**BE SIMPLE!!!**\r\n```java\r\npublic final class FileStats {\r\n\r\n    private final Path file;\r\n\r\n    public FileStats(String pathname) {\r\n        file = Paths.get(pathname);\r\n    }\r\n\r\n    public int getNumLines() throws IOException {\r\n        return Files.readAllLines(file).size();\r\n    }\r\n\r\n    public int getNumLinesThatContain(String key) throws IOException {\r\n        String lowerCaseKey = key.toLowerCase();\r\n\r\n        return (int)Files.readAllLines(file).stream()\r\n                         .map(String::toLowerCase)\r\n                         .filter(line -&gt; line.contains(lowerCaseKey))\r\n                         .count();\r\n    }\r\n\r\n}\r\n```","title":"Java word counter doesn&#39;t count all the words","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FileStats {\n\n    private final Path file;\n\n    public FileStats(String pathname) {\n        file = Paths.get(pathname);\n    }\n\n    public int getNumLines() throws IOException {\n        return Files.readAllLines(file).size();\n    }\n\n    public int getNumLinesThatContain(String key) throws IOException {\n        String lowerCaseKey = key.toLowerCase();\n\n        return (int)Files.readAllLines(file).stream()\n                         .map(String::toLowerCase)\n                         .filter(line -&gt; line.contains(lowerCaseKey))\n                         .count();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666991675,"creation_date":1666991675,"answer_id":74240989,"question_id":74240386,"body_markdown":"If you do it like this, you can write ONE method that does BOTH: If the argument is null, all lines are counted. If the argument is a String (Case doesn&#39;t matter.), only lines are counted that contain that String.\r\n\r\n    final String keyLowerCase = key == null ? null : key.toLowerCase();\r\n    int amountOfLines = 0;\r\n    try (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            if (keyLowerCase == null || line.toLowerCase().contains(keyLowerCase)) {\r\n                amountOfLines++;\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Java word counter doesn&#39;t count all the words","body":"<p>If you do it like this, you can write ONE method that does BOTH: If the argument is null, all lines are counted. If the argument is a String (Case doesn't matter.), only lines are counted that contain that String.</p>\n<pre><code>final String keyLowerCase = key == null ? null : key.toLowerCase();\nint amountOfLines = 0;\ntry (final BufferedReader br = Files.newBufferedReader(file.toPath(), StandardCharsets.UTF_8)) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        if (keyLowerCase == null || line.toLowerCase().contains(keyLowerCase)) {\n            amountOfLines++;\n        }\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667010136,"creation_date":1666995702,"answer_id":74241430,"question_id":74240386,"body_markdown":"This uses a `BufferedReader` to read in the lines as a stream. The `mark` and `reset` methods are used to essentially rewind the file for each method call. \r\n```\r\npublic class FileStatsTest {\r\n    public static void main(String[] args) {\r\n        String searchString = &quot;to&quot;;\r\n        String fileName = &quot;some file&quot;;\r\n        FileStats fs = new FileStats(fileName);\r\n        System.out.println(fs.getNumLines());\r\n        System.out.println(fs.getNumLinesThatContain(searchString));\r\n    }\r\n}\r\n\r\nclass FileStats {\r\n    private File file;\r\n    BufferedReader br;\r\n\r\n    public FileStats(String fileName) {\r\n        file = new File(fileName);\r\n        try {\r\n            br = new BufferedReader(new FileReader(file));\r\n            br.mark((int) file.length() + 1); // just file.length() won&#39;t work\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public int getNumLines() {\r\n        try {\r\n            br.reset(); // effectively reset to start of file\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n\r\n        return (int) br.lines().count();\r\n    }\r\n\r\n    public int getNumLinesThatContain(String key) {\r\n        String keyLC = key.toLowerCase();\r\n        try {\r\n            br.reset(); // effectively reset to start of file\r\n        } catch (IOException ioe) {\r\n            ioe.printStackTrace();\r\n        }\r\n        return (int) br.lines().filter(str -&gt; str.toLowerCase().contains(key))\r\n                .count();\r\n    }\r\n}\r\n```\r\n**Limitations**\r\n\r\n- This won&#39;t work for files larger than `Integer.MAX_VALUE-1` as mark only accepts an integer value.\r\n- the returned `count` is a `long` and cast to an `int`.  Not a problem since mark would fail long before the high order word of count is masked off from the cast. ","title":"Java word counter doesn&#39;t count all the words","body":"<p>This uses a <code>BufferedReader</code> to read in the lines as a stream. The <code>mark</code> and <code>reset</code> methods are used to essentially rewind the file for each method call.</p>\n<pre><code>public class FileStatsTest {\n    public static void main(String[] args) {\n        String searchString = &quot;to&quot;;\n        String fileName = &quot;some file&quot;;\n        FileStats fs = new FileStats(fileName);\n        System.out.println(fs.getNumLines());\n        System.out.println(fs.getNumLinesThatContain(searchString));\n    }\n}\n\nclass FileStats {\n    private File file;\n    BufferedReader br;\n\n    public FileStats(String fileName) {\n        file = new File(fileName);\n        try {\n            br = new BufferedReader(new FileReader(file));\n            br.mark((int) file.length() + 1); // just file.length() won't work\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n\n    public int getNumLines() {\n        try {\n            br.reset(); // effectively reset to start of file\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n\n        return (int) br.lines().count();\n    }\n\n    public int getNumLinesThatContain(String key) {\n        String keyLC = key.toLowerCase();\n        try {\n            br.reset(); // effectively reset to start of file\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n        return (int) br.lines().filter(str -&gt; str.toLowerCase().contains(key))\n                .count();\n    }\n}\n</code></pre>\n<p><strong>Limitations</strong></p>\n<ul>\n<li>This won't work for files larger than <code>Integer.MAX_VALUE-1</code> as mark only accepts an integer value.</li>\n<li>the returned <code>count</code> is a <code>long</code> and cast to an <code>int</code>.  Not a problem since mark would fail long before the high order word of count is masked off from the cast.</li>\n</ul>\n"}],"owner":{"account_id":26744491,"reputation":11,"user_id":20344740,"display_name":"Lizzie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1667010136,"creation_date":1666987593,"question_id":74240386,"body_markdown":"This is the program I need to make,\r\n\r\nMake a class that represents a file. This class will have the ability to calculate the number of lines in that file and the ability to search through the file.\r\nThe getNumLinesThatContain method will take a bit of text and determine how many lines contain that text. Make the comparison not care about case.\r\nExample: if the user is searching for hello and a line contains the text hello hello hello then this counts as one. Use the contains method defined on Strings to help with this.\r\nClass Name\r\nFileStats\r\nFields\r\n- filename : String\r\nMethods\r\n+ FileStats(filename : String)\r\n+ getNumLinesThatContain(key : String) : int\r\n+ getNumLines() : int\r\n\r\nThis is what I have so far,\r\n \r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Objects;\r\n    import java.util.Scanner;\r\n\r\n    public class FileStats {\r\n        private String filename;\r\n        Scanner inputFile;\r\n\r\n\r\n        public FileStats(String f) {\r\n            filename = f;\r\n        }\r\n\r\n        public int getNumLines() throws FileNotFoundException {\r\n            //make a variable to hold the filename\r\n            File fileObj = new File(filename);\r\n            inputFile = new Scanner(fileObj);\r\n            //keep track of the number lines\r\n            int numLines = 0;\r\n            //while there&#39;s more stuff to read...\r\n            while (inputFile.hasNext()) {\r\n                //read a line\r\n                String line = inputFile.nextLine();\r\n                //keep track of that line\r\n                numLines++;\r\n            }\r\n            //close the file\r\n            inputFile.close();\r\n            //return the result\r\n            return numLines;\r\n        }\r\n        public int getNumLinesThatContain(String key){\r\n            // variable to keep track of file name\r\n            File fileObj = new File(filename);\r\n            inputFile = new Scanner(filename);\r\n            //keep track of the number lines\r\n            int numLines = 0;\r\n\r\n            //while there is more stuff to read\r\n            while (inputFile.hasNext()){\r\n                //read a line\r\n                String line = inputFile.nextLine();\r\n                //keep track of the line if word\r\n                //this is where I think the problem is\r\n                if(line.toUpperCase().contains(key.toUpperCase())) {\r\n                    numLines++;\r\n                }\r\n            }\r\n            inputFile.close();\r\n            return numLines;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\nFor the method getNumLinesThatContain I just get 1s and 0s when I run the file. I have tried changing the if statement to one that compares line and key, to one that sees if they are equal, and the one shown checks to see if the line contains the key. I can&#39;t seem to figure out how to get the counter to count the lines that contain the key correctly. Please help.","title":"Java word counter doesn&#39;t count all the words","body":"<p>This is the program I need to make,</p>\n<p>Make a class that represents a file. This class will have the ability to calculate the number of lines in that file and the ability to search through the file.\nThe getNumLinesThatContain method will take a bit of text and determine how many lines contain that text. Make the comparison not care about case.\nExample: if the user is searching for hello and a line contains the text hello hello hello then this counts as one. Use the contains method defined on Strings to help with this.\nClass Name\nFileStats\nFields</p>\n<ul>\n<li>filename : String\nMethods</li>\n</ul>\n<ul>\n<li>FileStats(filename : String)</li>\n<li>getNumLinesThatContain(key : String) : int</li>\n<li>getNumLines() : int</li>\n</ul>\n<p>This is what I have so far,</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class FileStats {\n    private String filename;\n    Scanner inputFile;\n\n\n    public FileStats(String f) {\n        filename = f;\n    }\n\n    public int getNumLines() throws FileNotFoundException {\n        //make a variable to hold the filename\n        File fileObj = new File(filename);\n        inputFile = new Scanner(fileObj);\n        //keep track of the number lines\n        int numLines = 0;\n        //while there's more stuff to read...\n        while (inputFile.hasNext()) {\n            //read a line\n            String line = inputFile.nextLine();\n            //keep track of that line\n            numLines++;\n        }\n        //close the file\n        inputFile.close();\n        //return the result\n        return numLines;\n    }\n    public int getNumLinesThatContain(String key){\n        // variable to keep track of file name\n        File fileObj = new File(filename);\n        inputFile = new Scanner(filename);\n        //keep track of the number lines\n        int numLines = 0;\n\n        //while there is more stuff to read\n        while (inputFile.hasNext()){\n            //read a line\n            String line = inputFile.nextLine();\n            //keep track of the line if word\n            //this is where I think the problem is\n            if(line.toUpperCase().contains(key.toUpperCase())) {\n                numLines++;\n            }\n        }\n        inputFile.close();\n        return numLines;\n    }\n\n}\n</code></pre>\n<p>For the method getNumLinesThatContain I just get 1s and 0s when I run the file. I have tried changing the if statement to one that compares line and key, to one that sees if they are equal, and the one shown checks to see if the line contains the key. I can't seem to figure out how to get the counter to count the lines that contain the key correctly. Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":1,"creation_date":1295433313,"post_id":4734108,"comment_id":5231723,"body_markdown":"Closely related: http://stackoverflow.com/questions/794227/how-to-know-about-outofmemory-or-stackoverflow-errors-ahead-of-time","body":"Closely related: <a href=\"http://stackoverflow.com/questions/794227/how-to-know-about-outofmemory-or-stackoverflow-errors-ahead-of-time\" title=\"how to know about outofmemory or stackoverflow errors ahead of time\">stackoverflow.com/questions/794227/&hellip;</a>"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1295436504,"post_id":4734108,"comment_id":5232262,"body_markdown":"Since this is a good question, I&#39;ve updated the title to something I feel is more clearly associated with the meaning.  (Previously I thought you might be referring to the depth of a *particular* stack you&#39;d captured at runtime, for example).  Feel free to change it back if you disagree.","body":"Since this is a good question, I&#39;ve updated the title to something I feel is more clearly associated with the meaning.  (Previously I thought you might be referring to the depth of a <i>particular</i> stack you&#39;d captured at runtime, for example).  Feel free to change it back if you disagree."}],"answers":[{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1295433052,"creation_date":1295432746,"answer_id":4734125,"question_id":4734108,"body_markdown":"It depends on the amount of virtual memory allocated to the stack.\r\n\r\nhttp://www.odi.ch/weblog/posting.php?posting=411  \r\n\r\nYou can tune this with the `-Xss` VM parameter or with the &lt;code&gt;[Thread(ThreadGroup, Runnable, String, long)](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#Thread%28java.lang.ThreadGroup,%20java.lang.Runnable,%20java.lang.String,%20long%29)&lt;/code&gt; constructor.","title":"What is the maximum depth of the java call stack?","body":"<p>It depends on the amount of virtual memory allocated to the stack.</p>\n\n<p><a href=\"http://www.odi.ch/weblog/posting.php?posting=411\" rel=\"noreferrer\">http://www.odi.ch/weblog/posting.php?posting=411</a>  </p>\n\n<p>You can tune this with the <code>-Xss</code> VM parameter or with the <code><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#Thread%28java.lang.ThreadGroup,%20java.lang.Runnable,%20java.lang.String,%20long%29\" rel=\"noreferrer\">Thread(ThreadGroup, Runnable, String, long)</a></code> constructor.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1295433990,"creation_date":1295433990,"answer_id":4734321,"question_id":4734108,"body_markdown":"The stack size can be set with the `-Xss` command line switch but as a rule of thumb, it is deep enough, hundreds if not thousands of calls deep. (The default is platform dependent, but at least 256k in most platforms.)\r\n\r\nIf you get a stack overflow, 99% of the time it&#39;s caused by an error in the code.","title":"What is the maximum depth of the java call stack?","body":"<p>The stack size can be set with the <code>-Xss</code> command line switch but as a rule of thumb, it is deep enough, hundreds if not thousands of calls deep. (The default is platform dependent, but at least 256k in most platforms.)</p>\n\n<p>If you get a stack overflow, 99% of the time it's caused by an error in the code.</p>\n"},{"tags":[],"owner":{"account_id":3617892,"reputation":704,"user_id":3017330,"accept_rate":50,"display_name":"troy"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1470818823,"creation_date":1404635389,"answer_id":24594045,"question_id":4734108,"body_markdown":"I tested on my system and didn&#39;t find any constant value, sometimes stack overflow occurs after 8900 calls, sometimes only after 7700, random numbers.\r\n\r\n    \r\n    public class MainClass {\r\n    \t\r\n\t\tprivate static long depth=0L;\r\n\t\t\t\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tdeep(); \r\n\t\t}\r\n\t\t\r\n\t\tprivate static void deep(){\r\n\t\t\tSystem.err.println(++depth);\r\n\t\t\tdeep();\r\n\t\t}\r\n\r\n    }","title":"What is the maximum depth of the java call stack?","body":"<p>I tested on my system and didn't find any constant value, sometimes stack overflow occurs after 8900 calls, sometimes only after 7700, random numbers.</p>\n\n<pre><code>public class MainClass {\n\n    private static long depth=0L;\n\n    public static void main(String[] args){\n        deep(); \n    }\n\n    private static void deep(){\n        System.err.println(++depth);\n        deep();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593046,"reputation":1177,"user_id":6447563,"accept_rate":96,"display_name":"sixtytrees"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470816409,"creation_date":1468206002,"answer_id":38298536,"question_id":4734108,"body_markdown":"Compare these two calls:   \r\n(1) Static method:\r\n\r\n    public static void main(String[] args) {\r\n        int i = 14400; \r\n        while(true){   \r\n            int myResult = testRecursion(i);\r\n            System.out.println(myResult);\r\n            i++;\r\n        }\r\n    }\r\n    \r\n    public static int testRecursion(int number) {\r\n        if (number == 1) {\r\n            return 1;\r\n        } else {\r\n            int result = 1 + testRecursion(number - 1);\r\n            return result;\r\n        }    \r\n    }\r\n     //Exception in thread &quot;main&quot; java.lang.StackOverflowError after 62844\r\n\r\n   \r\n(2) Non-static method using a different class:\r\n\r\n    public static void main(String[] args) {\r\n        int i = 14400;\r\n        while(true){       \r\n            TestRecursion tr = new TestRecursion ();\r\n            int myResult = tr.testRecursion(i);\r\n            System.out.println(myResult);\r\n            i++;\r\n        }\r\n    } \r\n\t//Exception in thread &quot;main&quot; java.lang.StackOverflowError after 14002\r\n\r\nTest recursion class has `public int testRecursion(int number) {` as the only method.","title":"What is the maximum depth of the java call stack?","body":"<p>Compare these two calls:<br>\n(1) Static method:</p>\n\n<pre><code>public static void main(String[] args) {\n    int i = 14400; \n    while(true){   \n        int myResult = testRecursion(i);\n        System.out.println(myResult);\n        i++;\n    }\n}\n\npublic static int testRecursion(int number) {\n    if (number == 1) {\n        return 1;\n    } else {\n        int result = 1 + testRecursion(number - 1);\n        return result;\n    }    \n}\n //Exception in thread \"main\" java.lang.StackOverflowError after 62844\n</code></pre>\n\n<p>(2) Non-static method using a different class:</p>\n\n<pre><code>public static void main(String[] args) {\n    int i = 14400;\n    while(true){       \n        TestRecursion tr = new TestRecursion ();\n        int myResult = tr.testRecursion(i);\n        System.out.println(myResult);\n        i++;\n    }\n} \n//Exception in thread \"main\" java.lang.StackOverflowError after 14002\n</code></pre>\n\n<p>Test recursion class has <code>public int testRecursion(int number) {</code> as the only method.</p>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008940,"creation_date":1667008940,"answer_id":74242362,"question_id":4734108,"body_markdown":"While traversing a tree with huge depth, we could face this\r\n\r\n\r\n```\r\n\r\n/**\r\n * -Xss10M\r\n * max call stack count 92766\r\n * -Xss100M\r\n * max call stack count 2148286\r\n */\r\npublic class MaxCallStack {\r\n    private Integer stackCount = 0;\r\n\r\n    public static void main(String[] args) {\r\n        MaxCallStack maxStack = new MaxCallStack();\r\n        maxStack.evaluate();\r\n    }\r\n\r\n    private void evaluate() {\r\n        try {\r\n            Tree tree = new Tree();\r\n            tree.left = tree;\r\n            traverse(tree);\r\n        } catch (StackOverflowError e) {\r\n            System.out.println(String.format(&quot;max call stack count %s&quot;, stackCount));\r\n        }\r\n    }\r\n\r\n    private void traverse(Tree tree) {\r\n        stackCount++;\r\n        if (tree.left != null) {\r\n            traverse(tree.left);\r\n        }\r\n        if (tree.right != null) {\r\n            traverse(tree.right);\r\n        }\r\n    }\r\n\r\n    private class Tree {\r\n        Tree left;\r\n        Tree right;\r\n    }\r\n}\r\n\r\n```","title":"What is the maximum depth of the java call stack?","body":"<p>While traversing a tree with huge depth, we could face this</p>\n<pre><code>\n/**\n * -Xss10M\n * max call stack count 92766\n * -Xss100M\n * max call stack count 2148286\n */\npublic class MaxCallStack {\n    private Integer stackCount = 0;\n\n    public static void main(String[] args) {\n        MaxCallStack maxStack = new MaxCallStack();\n        maxStack.evaluate();\n    }\n\n    private void evaluate() {\n        try {\n            Tree tree = new Tree();\n            tree.left = tree;\n            traverse(tree);\n        } catch (StackOverflowError e) {\n            System.out.println(String.format(&quot;max call stack count %s&quot;, stackCount));\n        }\n    }\n\n    private void traverse(Tree tree) {\n        stackCount++;\n        if (tree.left != null) {\n            traverse(tree.left);\n        }\n        if (tree.right != null) {\n            traverse(tree.right);\n        }\n    }\n\n    private class Tree {\n        Tree left;\n        Tree right;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77765,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":4734125,"answer_count":5,"score":118,"last_activity_date":1667008940,"creation_date":1295432656,"question_id":4734108,"body_markdown":"How deep do I need to go into the call stack before I get a StackOverflowError? Is the answer platform dependent?","title":"What is the maximum depth of the java call stack?","body":"<p>How deep do I need to go into the call stack before I get a StackOverflowError? Is the answer platform dependent?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1664000274,"post_id":73832953,"comment_id":130375773,"body_markdown":"Is &quot;Maven Integration for WTP&quot; also installed?","body":"Is &quot;Maven Integration for WTP&quot; also installed?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664015264,"post_id":73832953,"comment_id":130377886,"body_markdown":"If you use maven you should only add libraries as maven dependencies and not change the deployment assembly yourself","body":"If you use maven you should only add libraries as maven dependencies and not change the deployment assembly yourself"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664019725,"post_id":73832953,"comment_id":130378656,"body_markdown":"@nitind Yes, m2e-wtp (1.5.2.20220906-1452) is installed.","body":"@nitind Yes, m2e-wtp (1.5.2.20220906-1452) is installed."},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664020336,"post_id":73832953,"comment_id":130378760,"body_markdown":"@Thorbj&#248;rnRavnAndersen The libraries are in the pom.xml. Opening the project&#39;s Properties, they are in the Java Build Path, Libraries tab, and in the Run Configuration, Source tab, under Default. All without action on my part. However they do not appear in `wtpwebapps/myapp/WEB-INF/lib` without being in the Deployment Assembly and this is not happening unless I put them  there myself with Add -&gt; Java Build Path Entries -&gt; Maven Dependencies.","body":"@Thorbj&#248;rnRavnAndersen The libraries are in the pom.xml. Opening the project&#39;s Properties, they are in the Java Build Path, Libraries tab, and in the Run Configuration, Source tab, under Default. All without action on my part. However they do not appear in <code>wtpwebapps&#47;myapp&#47;WEB-INF&#47;lib</code> without being in the Deployment Assembly and this is not happening unless I put them  there myself with Add -&gt; Java Build Path Entries -&gt; Maven Dependencies."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664029728,"post_id":73832953,"comment_id":130380385,"body_markdown":"I see.  Can you make this public on GitHub or similar for experimentation, or create a minimal viable project showing this behavior?","body":"I see.  Can you make this public on GitHub or similar for experimentation, or create a minimal viable project showing this behavior?"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664034916,"post_id":73832953,"comment_id":130381459,"body_markdown":"@Thorbj&#248;rnRavnAndersen I cannot put it on GitHub because it and many of its libraries are proprietary/commercial. I can try to duplicate it next week, but in 15 years I&#39;ve found duplicating anything of that size in Eclipse nigh impossible. It actually works on my MacBook, and I&#39;ve compared every dialog and library I can think but no luck. I don&#39;t understand how the same install steps on two different machines can create two different installations, or require updating different plugins.","body":"@Thorbj&#248;rnRavnAndersen I cannot put it on GitHub because it and many of its libraries are proprietary/commercial. I can try to duplicate it next week, but in 15 years I&#39;ve found duplicating anything of that size in Eclipse nigh impossible. It actually works on my MacBook, and I&#39;ve compared every dialog and library I can think but no luck. I don&#39;t understand how the same install steps on two different machines can create two different installations, or require updating different plugins."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664036885,"post_id":73832953,"comment_id":130381822,"body_markdown":"@thad different versions of eclipse perhaps?","body":"@thad different versions of eclipse perhaps?"},{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1664040408,"post_id":73832953,"comment_id":130382506,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248324/discussion-between-thad-and-thorbjorn-ravn-andersen).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248324/discussion-between-thad-and-thorbjorn-ravn-andersen\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":15633136,"reputation":51,"user_id":11278896,"display_name":"motte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666867925,"creation_date":1666867925,"answer_id":74220923,"question_id":73832953,"body_markdown":"Upgrade to latest udpate-site https://download.eclipse.org/m2e-wtp/releases/latest/ and update m2e-wtp. \r\nI had the same problem, the update solved it!","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>Upgrade to latest udpate-site <a href=\"https://download.eclipse.org/m2e-wtp/releases/latest/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/m2e-wtp/releases/latest/</a> and update m2e-wtp.\nI had the same problem, the update solved it!</p>\n"},{"tags":[],"owner":{"account_id":26491454,"reputation":1,"user_id":20129659,"display_name":"Justin Hsieh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667008746,"creation_date":1667008585,"answer_id":74242336,"question_id":73832953,"body_markdown":"I am using Eclipse 2021-03(4.19) and having the same problem(missing Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab after &quot;Maven --&gt; update project&quot;). However, when I update the pom.xml to use\r\n\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\r\n, the Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab WON&#39;T be removed after &quot;Maven --&gt; update project&quot; !\r\n\r\nI then try restoring original pom.xml settings as\r\n\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n\r\n, the Maven dependencies in Eclipse&#39;s &quot;Deployment Assembly&quot; tab again WILL be removed after &quot;Maven --&gt; update project&quot; !\r\n\r\n\r\nNot sure what happend inside Eclipse or m2e-wtp, but for your reference.","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>I am using Eclipse 2021-03(4.19) and having the same problem(missing Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab after &quot;Maven --&gt; update project&quot;). However, when I update the pom.xml to use</p>\n<pre><code>&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>, the Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab WON'T be removed after &quot;Maven --&gt; update project&quot; !</p>\n<p>I then try restoring original pom.xml settings as</p>\n<pre><code>&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>, the Maven dependencies in Eclipse's &quot;Deployment Assembly&quot; tab again WILL be removed after &quot;Maven --&gt; update project&quot; !</p>\n<p>Not sure what happend inside Eclipse or m2e-wtp, but for your reference.</p>\n"}],"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667008746,"creation_date":1663966983,"question_id":73832953,"body_markdown":"I have been having numerous problems with Eclipse on two different Macs since Eclipse upgraded to 2022-09 (4.25.0). After many fresh installs and imports, I am still having an issue with with the Maven plugin and Maven dependencies.\r\n\r\nMaven Integration for Eclipse (2.0.4.20220904-1703) is installed. Eclipse is launched with Java 17, a requirement for M2E 2.0.1 and above. The Maven Nature is present. The facet Dynamic Web Module 4.0 is enabled with Tomcat 9.0 as its runtime. I added Maven Dependencies equal to `WEB-INF/lib` to the Deployment Assembly. Doing so adds `&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;` to the `MAVEN2_CLASSPATH_CONTAINER` `&lt;classpathentry&gt;` in my project&#39;s `.classpath` file.\r\n\r\nHowever, if I select Project -&gt; Update Maven Project, Eclipse (or M2E) removes Maven Dependencies from the Deployment Assembly, removes the `org.eclipse.jst.component.dependency` attribute from `MAVEN2_CLASSPATH_CONTAINER`, and deletes the *.jar files from my project in Tomcat `wtpwebapps/myapp/WEB-INF/lib`. Of course my app will not deploy properly if I start the server.\r\n\r\nThe workaround I&#39;ve hit on is to open `./classpath` in a text editor and add `&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;` to `MAVEN2_CLASSPATH_CONTAINER`. Then when the server starts the correct *.jar files are copied to `wtpwebapps/myapp/WEB-INF/lib` and my app runs.\r\n\r\nThese steps are perfectly repeatable--I&#39;ve done it many times. I&#39;ve tried different combinations of Maven preferences, and still it happens exactly this way. The project&#39;s `pom.xml` is complete; it compiles, tests, and packages the project perfectly. Why is this Eclipse error happening? Why is M2E resetting the Deployment Attributes, and how can I stop this from happening? I&#39;ve tried setting `.classpath` to read-only, but then Maven will not update my project. It insists on stomping the correct settings.\r\n\r\nBTW, I see this problem *frequently* described here, but for much older versions of Eclipse and M2E (some going back over 10 years). I&#39;ve exhausted myself trying various recommendations. The closest I&#39;ve come is the workaround described above.","title":"Eclipse / M2E reset Deployment Assembly on each Update Maven Project","body":"<p>I have been having numerous problems with Eclipse on two different Macs since Eclipse upgraded to 2022-09 (4.25.0). After many fresh installs and imports, I am still having an issue with with the Maven plugin and Maven dependencies.</p>\n<p>Maven Integration for Eclipse (2.0.4.20220904-1703) is installed. Eclipse is launched with Java 17, a requirement for M2E 2.0.1 and above. The Maven Nature is present. The facet Dynamic Web Module 4.0 is enabled with Tomcat 9.0 as its runtime. I added Maven Dependencies equal to <code>WEB-INF/lib</code> to the Deployment Assembly. Doing so adds <code>&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</code> to the <code>MAVEN2_CLASSPATH_CONTAINER</code> <code>&lt;classpathentry&gt;</code> in my project's <code>.classpath</code> file.</p>\n<p>However, if I select Project -&gt; Update Maven Project, Eclipse (or M2E) removes Maven Dependencies from the Deployment Assembly, removes the <code>org.eclipse.jst.component.dependency</code> attribute from <code>MAVEN2_CLASSPATH_CONTAINER</code>, and deletes the *.jar files from my project in Tomcat <code>wtpwebapps/myapp/WEB-INF/lib</code>. Of course my app will not deploy properly if I start the server.</p>\n<p>The workaround I've hit on is to open <code>./classpath</code> in a text editor and add <code>&lt;attribute name=&quot;org.eclipse.jst.component.dependency&quot; value=&quot;/WEB-INF/lib&quot;/&gt;</code> to <code>MAVEN2_CLASSPATH_CONTAINER</code>. Then when the server starts the correct *.jar files are copied to <code>wtpwebapps/myapp/WEB-INF/lib</code> and my app runs.</p>\n<p>These steps are perfectly repeatable--I've done it many times. I've tried different combinations of Maven preferences, and still it happens exactly this way. The project's <code>pom.xml</code> is complete; it compiles, tests, and packages the project perfectly. Why is this Eclipse error happening? Why is M2E resetting the Deployment Attributes, and how can I stop this from happening? I've tried setting <code>.classpath</code> to read-only, but then Maven will not update my project. It insists on stomping the correct settings.</p>\n<p>BTW, I see this problem <em>frequently</em> described here, but for much older versions of Eclipse and M2E (some going back over 10 years). I've exhausted myself trying various recommendations. The closest I've come is the workaround described above.</p>\n"},{"tags":["java","spring","service","hosting"],"comments":[{"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"score":0,"creation_date":1666996514,"post_id":74241457,"comment_id":131074556,"body_markdown":"You should take a look at: https://spring.io/guides/gs/spring-boot-docker/","body":"You should take a look at: <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot-docker</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1666996829,"post_id":74241457,"comment_id":131074608,"body_markdown":"What operation system do you have? What you need is create service. You can google how to do it for your specific OS, it is platform dependent.","body":"What operation system do you have? What you need is create service. You can google how to do it for your specific OS, it is platform dependent."},{"owner":{"account_id":16832969,"reputation":11,"user_id":12170437,"display_name":"James"},"score":0,"creation_date":1666998524,"post_id":74241457,"comment_id":131074890,"body_markdown":"Thank you guys for the answer! I use win 10, as I said above, sadly I can&#39;t use docker because of the hyper-v","body":"Thank you guys for the answer! I use win 10, as I said above, sadly I can&#39;t use docker because of the hyper-v"}],"answers":[{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667007736,"creation_date":1667007736,"answer_id":74242297,"question_id":74241457,"body_markdown":"There are 2 steps:\r\n1) Get command line of execution of your application runned by IntelliJ. To do so:\r\n[![enter image description here][1]][1]\r\n\r\n2) You have to create a file with extension &quot;.bat&quot; (batch file) with the contents of the command copied above, than  follow the steps bellow to define it to run in the startup configuration of the windows 10:\r\nRun a batch file at loading of Windows 8 and 10 Once the shortcut is created, right-click the shortcut file and select Cut. Press Start, type Run, and press Enter . In the Run window, type shell:startup to open the Startup folder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zqix.png","title":"How can I host my Springboot application in my own computer like a background service?","body":"<p>There are 2 steps:</p>\n<ol>\n<li><p>Get command line of execution of your application runned by IntelliJ. To do so:\n<a href=\"https://i.stack.imgur.com/5zqix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zqix.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>You have to create a file with extension &quot;.bat&quot; (batch file) with the contents of the command copied above, than  follow the steps bellow to define it to run in the startup configuration of the windows 10:\nRun a batch file at loading of Windows 8 and 10 Once the shortcut is created, right-click the shortcut file and select Cut. Press Start, type Run, and press Enter . In the Run window, type shell:startup to open the Startup folder.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16832969,"reputation":11,"user_id":12170437,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74242297,"answer_count":1,"score":0,"last_activity_date":1667007736,"creation_date":1666995941,"question_id":74241457,"body_markdown":"I want to host my springboot application on my on PC, I want it to start with the computer, just like databases do. But I can&#39;t find anything related (probably because I am asking the &#39;wrong&#39; way). **There is any way to start the springboot application with my pc in the background, with no CMD showing or having to keep intelijj open?**\r\n\r\nI tried to search how to host the application, but didn&#39;t found any thing &#39;locally&#39; based, everything was how to host in X cloud or Y domain/host. What I want is to my application run on the background of my PC so I can use it as a personal system, but don&#39;t want to keep a cmd open or intelijj\r\n\r\nAlso I can&#39;t really use docker.. that was the way I was trying before, but I can&#39;t let Hyper-v active..","title":"How can I host my Springboot application in my own computer like a background service?","body":"<p>I want to host my springboot application on my on PC, I want it to start with the computer, just like databases do. But I can't find anything related (probably because I am asking the 'wrong' way). <strong>There is any way to start the springboot application with my pc in the background, with no CMD showing or having to keep intelijj open?</strong></p>\n<p>I tried to search how to host the application, but didn't found any thing 'locally' based, everything was how to host in X cloud or Y domain/host. What I want is to my application run on the background of my PC so I can use it as a personal system, but don't want to keep a cmd open or intelijj</p>\n<p>Also I can't really use docker.. that was the way I was trying before, but I can't let Hyper-v active..</p>\n"},{"tags":["java","spring-boot","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666897189,"post_id":74226990,"comment_id":131049892,"body_markdown":"i tried i got Map&lt;Stream&lt;String&gt;,List&lt;Trip&gt;&gt; but i want something like Map&lt;String,List&lt;Trip&gt;&gt;","body":"i tried i got Map&lt;Stream&lt;String&gt;,List&lt;Trip&gt;&gt; but i want something like Map&lt;String,List&lt;Trip&gt;&gt;"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666897511,"post_id":74226990,"comment_id":131049978,"body_markdown":"`Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; empMap = trip.stream().collect(\n   Collectors.groupingBy(t -&gt; t.getEmployee().stream().map(EMPLOYEE::getempid)))`","body":"<code>Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; empMap = trip.stream().collect(    Collectors.groupingBy(t -&gt; t.getEmployee().stream().map(EMPLOYEE::getempid)))</code>"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666899409,"post_id":74226990,"comment_id":131050509,"body_markdown":"I posted the code","body":"I posted the code"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666899694,"post_id":74226990,"comment_id":131050573,"body_markdown":"Better, instead of image, compile the code and post the compilation error as a text. See [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question)","body":"Better, instead of image, compile the code and post the compilation error as a text. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"score":0,"creation_date":1666901081,"post_id":74226990,"comment_id":131051001,"body_markdown":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        Type mismatch: cannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;","body":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:          Type mismatch: cannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666905176,"post_id":74226990,"comment_id":131052134,"body_markdown":"Since you&#39;re using JDK 8, I&#39;ve added a [Java 8 compliant solution](https://www.jdoodle.com/ia/ybt)","body":"Since you&#39;re using JDK 8, I&#39;ve added a <a href=\"https://www.jdoodle.com/ia/ybt\" rel=\"nofollow noreferrer\">Java 8 compliant solution</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666905451,"post_id":74226990,"comment_id":131052197,"body_markdown":"As I&#39;ve said in the answer, you can use a plain `class` instead of a record. To avoid dialing with the boilerplate code, sprinkle it with Lombok annotations, like you&#39;ve done with your domain classes.","body":"As I&#39;ve said in the answer, you can use a plain <code>class</code> instead of a record. To avoid dialing with the boilerplate code, sprinkle it with Lombok annotations, like you&#39;ve done with your domain classes."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666904586,"creation_date":1666899601,"answer_id":74227463,"question_id":74226990,"body_markdown":"To group the data by the property of a nested object and at the same time preserve a link to the enclosing object, you need to flatten the stream using an ***auxiliary object*** that would hold references to both *employee id* and enclosing `Trip` instance.\r\n\r\nA Java 16 [`record`](https://docs.oracle.com/en/java/javase/17/language/records.html) would fit into this role perfectly well. If you&#39;re using an earlier JDK version, you can implement it a plain `class` (*a quick and dirty way would be to use* `Map.Entry`*, but it decreases the readability, because of the faceless methods* `getKey()` *and* `getValue()` *require more effort to reason about the code*). I will go with a `record`, because this option is the most convenient.\r\n\r\nThe following line is all we need (*the rest would be automatically generated by the compiler*):\r\n\r\n```\r\npublic record TripEmployee(String empId, Trip trip) {}\r\n```\r\n\r\nThe first step is to flatten the stream data and turn the `Stream&lt;Trip&gt;` into `Stream&lt;TripEmployee&gt;`. Since it&#39;s *one-to-many* transformation, we need to use `flatMap()` operation to turn each `Employee` instance into a `TripEmployee`.\r\n\r\nAnd then we need to apply collect. In order to generate the resulting Map, we can make use of the collector [`groupingBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) with collector [`mapping()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)) as a *downstream*. In collector `mapping` always requires a *downstream collector* and this case we need to provide `toList()`.\r\n\r\n```\r\nList&lt;Trip&gt; trips = // initializing the list\r\n        \r\nMap&lt;String, List&lt;Trip&gt;&gt; empMap = trips.stream()\r\n    .flatMap(trip -&gt; trip.getEmpList().stream()\r\n        .map(emp -&gt; new TripEmployee(emp.getEmpId(), trip))\r\n    )\r\n    .collect(Collectors.groupingBy(\r\n        TripEmployee::empId,\r\n        Collectors.mapping(TripEmployee::trip,\r\n            Collectors.toList())\r\n    ));\r\n```\r\n\r\n[*A Java 8 compliant solution is available via this Link*](https://www.jdoodle.com/ia/ybt)","title":"Generate Map using list of list using stream in Java 8","body":"<p>To group the data by the property of a nested object and at the same time preserve a link to the enclosing object, you need to flatten the stream using an <em><strong>auxiliary object</strong></em> that would hold references to both <em>employee id</em> and enclosing <code>Trip</code> instance.</p>\n<p>A Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a> would fit into this role perfectly well. If you're using an earlier JDK version, you can implement it a plain <code>class</code> (<em>a quick and dirty way would be to use</em> <code>Map.Entry</code><em>, but it decreases the readability, because of the faceless methods</em> <code>getKey()</code> <em>and</em> <code>getValue()</code> <em>require more effort to reason about the code</em>). I will go with a <code>record</code>, because this option is the most convenient.</p>\n<p>The following line is all we need (<em>the rest would be automatically generated by the compiler</em>):</p>\n<pre><code>public record TripEmployee(String empId, Trip trip) {}\n</code></pre>\n<p>The first step is to flatten the stream data and turn the <code>Stream&lt;Trip&gt;</code> into <code>Stream&lt;TripEmployee&gt;</code>. Since it's <em>one-to-many</em> transformation, we need to use <code>flatMap()</code> operation to turn each <code>Employee</code> instance into a <code>TripEmployee</code>.</p>\n<p>And then we need to apply collect. In order to generate the resulting Map, we can make use of the collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> with collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> as a <em>downstream</em>. In collector <code>mapping</code> always requires a <em>downstream collector</em> and this case we need to provide <code>toList()</code>.</p>\n<pre><code>List&lt;Trip&gt; trips = // initializing the list\n        \nMap&lt;String, List&lt;Trip&gt;&gt; empMap = trips.stream()\n    .flatMap(trip -&gt; trip.getEmpList().stream()\n        .map(emp -&gt; new TripEmployee(emp.getEmpId(), trip))\n    )\n    .collect(Collectors.groupingBy(\n        TripEmployee::empId,\n        Collectors.mapping(TripEmployee::trip,\n            Collectors.toList())\n    ));\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/ybt\" rel=\"nofollow noreferrer\"><em>A Java 8 compliant solution is available via this Link</em></a></p>\n"},{"tags":[],"owner":{"account_id":2358516,"reputation":1085,"user_id":2065799,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666901057,"creation_date":1666901057,"answer_id":74227727,"question_id":74226990,"body_markdown":"Not sure which Java version you are using but since you have mentioned Stream, I will assume Java 8 at least.\r\n\r\nSecond assumption, not sure why but looking at your code (using `groupingBy` ) you want the whole `List&lt;Trip&gt;` which you get against an `empId` in a `Map`.\r\n\r\nTo have the better understanding first look at this code (without `Stream`): \r\n\r\n```\r\npublic Map&lt;String, List&lt;Trip&gt;&gt; doSomething(List&lt;Trip&gt; listTrip) {\r\n\r\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n    for (Trip trip : listTrip) {\r\n        employeeList.addAll(trip.getEmployee());\r\n    }\r\n\r\n    Map&lt;String, List&lt;Trip&gt;&gt; stringListMap = new HashMap&lt;&gt;();\r\n\r\n    for (Employee employee : employeeList) {\r\n        stringListMap.put(employee.getEmpId(), listTrip);\r\n    }\r\n    return stringListMap;\r\n}\r\n\r\n```\r\n\r\nYou can see I pulled an `employeeList` first , reason being your use case. And now you can see how easy was to create a map out of it.\r\nYou may use `Set` instead of `List` if you&#39;re worried about the duplicates.\r\n\r\nSo with `StreamApi` above code could be:\r\n\r\n```\r\n   public Map&lt;String, List&lt;Trip&gt;&gt; doSomethingInStream(List&lt;Trip&gt; listTrip) {\r\n\r\n        List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\r\n\r\n        return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip));\r\n    }\r\n\r\n```\r\n\r\nYou can take care of duplicates while creating map as well, as:\r\n\r\n```\r\npublic Map&lt;String, List&lt;Trip&gt;&gt; doSomething3(List&lt;Trip&gt; listTrip) {\r\n\r\n    List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\r\n\r\n    return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip, (oldValue, newValue) -&gt; newValue));\r\n}\r\n\r\n```\r\n\r\nLike the first answer says, if you are Java 16+ using `record` will ease your task a lot in terms of model definition.\r\n","title":"Generate Map using list of list using stream in Java 8","body":"<p>Not sure which Java version you are using but since you have mentioned Stream, I will assume Java 8 at least.</p>\n<p>Second assumption, not sure why but looking at your code (using <code>groupingBy</code> ) you want the whole <code>List&lt;Trip&gt;</code> which you get against an <code>empId</code> in a <code>Map</code>.</p>\n<p>To have the better understanding first look at this code (without <code>Stream</code>):</p>\n<pre><code>public Map&lt;String, List&lt;Trip&gt;&gt; doSomething(List&lt;Trip&gt; listTrip) {\n\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n    for (Trip trip : listTrip) {\n        employeeList.addAll(trip.getEmployee());\n    }\n\n    Map&lt;String, List&lt;Trip&gt;&gt; stringListMap = new HashMap&lt;&gt;();\n\n    for (Employee employee : employeeList) {\n        stringListMap.put(employee.getEmpId(), listTrip);\n    }\n    return stringListMap;\n}\n\n</code></pre>\n<p>You can see I pulled an <code>employeeList</code> first , reason being your use case. And now you can see how easy was to create a map out of it.\nYou may use <code>Set</code> instead of <code>List</code> if you're worried about the duplicates.</p>\n<p>So with <code>StreamApi</code> above code could be:</p>\n<pre><code>   public Map&lt;String, List&lt;Trip&gt;&gt; doSomethingInStream(List&lt;Trip&gt; listTrip) {\n\n        List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\n\n        return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip));\n    }\n\n</code></pre>\n<p>You can take care of duplicates while creating map as well, as:</p>\n<pre><code>public Map&lt;String, List&lt;Trip&gt;&gt; doSomething3(List&lt;Trip&gt; listTrip) {\n\n    List&lt;Employee&gt; employeeList = listTrip.stream().flatMap(e -&gt; e.getEmployee().stream()).collect(Collectors.toList());\n\n    return employeeList.stream().collect(Collectors.toMap(Employee::getEmpId, employee -&gt; listTrip, (oldValue, newValue) -&gt; newValue));\n}\n\n</code></pre>\n<p>Like the first answer says, if you are Java 16+ using <code>record</code> will ease your task a lot in terms of model definition.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667007548,"creation_date":1667007180,"answer_id":74242266,"question_id":74226990,"body_markdown":"**Using Java 8 stream**\r\n\r\nYou can use the below approach to get the desired results using stream function `groupingBy`.\r\n*Since you have mentioned above to use java 8, so my solution is inclined to java 8 itself.*\r\n\r\n\r\n**Logic:**\r\n\r\n*Here,*\r\n\r\n - First I have created an additional list of `EmployeeTripMapping` object\r\n   with `Trip` data corresponding to the `empId` by iterating the\r\n   `listOfTrips`.\r\n - I have used `Collectors.groupingBy` on the `List&lt;EmployeeTripMapping&gt;`\r\n   and grouped the data based on the `empId` and using `Collectors.mapping`\r\n   collect the list of Trip corresponding to the empId.\r\n\r\n\r\n**Few Suggestions:**\r\n\r\n    \r\n\r\n 1. **Records in java 14 :** As I can see in your problem statement, you \r\n          are using lombok\r\n         annotations to create getters, setters and constructors, so instead of\r\n         that we can replace our data classes\r\n         with records. Records are immutable classes that require only the type\r\n        and name of fields. We do not need to create constructor, getters,\r\n         setters, override toString() methods, override hashcode and equals\r\n         methods. [Here][1]\r\n\r\n 1. **JavaTimeAPI in java 8:** Instead of Date, you can use LocalDateTime available in java time API in java 8. [Here][2]\r\n\r\n**Code:**\r\n\r\n        public class Test {\r\n            public static void main(String[] args) {\r\n    \r\n            Trip t1 = new Trip(LocalDateTime.of(2022,10,28,9,00,00),\r\n                      LocalDateTime.of(2022,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\r\n            Trip t2 = new Trip(LocalDateTime.of(2021,10,28,9,00,00),\r\n                      LocalDateTime.of(2021,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\r\n            Trip t3 = new Trip(LocalDateTime.of(2020,10,28,9,00,00),\r\n                      LocalDateTime.of(2020,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\r\n            Trip t4 = new Trip(LocalDateTime.of(2019,10,28,9,00,00),\r\n                      LocalDateTime.of(2019,10,28,18,00,00),\r\n                      Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\r\n    \r\n            List&lt;Trip&gt; listOfTrips = Arrays.asList(t1,t2,t3,t4);\r\n    \r\n            List&lt;EmployeeTripMapping&gt; empWithTripMapping = new ArrayList&lt;&gt;();\r\n            listOfTrips.forEach(x -&gt; x.getEmpList().forEach(y -&gt;\r\n                    empWithTripMapping.add(new EmployeeTripMapping(y.getEmpId(),x))));\r\n    \r\n            Map&lt;String,List&lt;Trip&gt;&gt; employeeTripGrouping = empWithTripMapping.stream()\r\n                .collect(Collectors.groupingBy(EmployeeTripMapping::getEmpId,\r\n                            Collectors.mapping(EmployeeTripMapping::getTrip,\r\n                                                     Collectors.toList())));\r\n            System.out.println(employeeTripGrouping);\r\n        }\r\n    }\r\n\r\n**EmployeeTripMapping.java**\r\n\r\n    public class EmployeeTripMapping {\r\n    \r\n        private String empId;\r\n        private Trip trip;\r\n    \r\n        //getters and setters\r\n    }\r\n\r\n**Output:**\r\n\r\n    {emp2=[Trip{startTime=2020-10-28T09:00, endTime=2020-10-28T18:00, empList=[Employee{empId=&#39;emp2&#39;, name=&#39;id2&#39;}]}, Trip{startTime=2019-10-28T09:00, endTime=2019-10-28T18:00, empList=[Employee{empId=&#39;emp2&#39;, name=&#39;id2&#39;}]}], \r\n     emp1=[Trip{startTime=2022-10-28T09:00, endTime=2022-10-28T18:00, empList=[Employee{empId=&#39;emp1&#39;, name=&#39;id1&#39;}]}, Trip{startTime=2021-10-28T09:00, endTime=2021-10-28T18:00, empList=[Employee{empId=&#39;emp1&#39;, name=&#39;id1&#39;}]}]}\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"Generate Map using list of list using stream in Java 8","body":"<p><strong>Using Java 8 stream</strong></p>\n<p>You can use the below approach to get the desired results using stream function <code>groupingBy</code>.\n<em>Since you have mentioned above to use java 8, so my solution is inclined to java 8 itself.</em></p>\n<p><strong>Logic:</strong></p>\n<p><em>Here,</em></p>\n<ul>\n<li>First I have created an additional list of <code>EmployeeTripMapping</code> object\nwith <code>Trip</code> data corresponding to the <code>empId</code> by iterating the\n<code>listOfTrips</code>.</li>\n<li>I have used <code>Collectors.groupingBy</code> on the <code>List&lt;EmployeeTripMapping&gt;</code>\nand grouped the data based on the <code>empId</code> and using <code>Collectors.mapping</code>\ncollect the list of Trip corresponding to the empId.</li>\n</ul>\n<p><strong>Few Suggestions:</strong></p>\n<ol>\n<li><p><strong>Records in java 14 :</strong> As I can see in your problem statement, you\nare using lombok\nannotations to create getters, setters and constructors, so instead of\nthat we can replace our data classes\nwith records. Records are immutable classes that require only the type\nand name of fields. We do not need to create constructor, getters,\nsetters, override toString() methods, override hashcode and equals\nmethods. <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\">Here</a></p>\n</li>\n<li><p><strong>JavaTimeAPI in java 8:</strong> Instead of Date, you can use LocalDateTime available in java time API in java 8. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">Here</a></p>\n</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>    public class Test {\n        public static void main(String[] args) {\n\n        Trip t1 = new Trip(LocalDateTime.of(2022,10,28,9,00,00),\n                  LocalDateTime.of(2022,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\n        Trip t2 = new Trip(LocalDateTime.of(2021,10,28,9,00,00),\n                  LocalDateTime.of(2021,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp1&quot;,&quot;id1&quot;)));\n        Trip t3 = new Trip(LocalDateTime.of(2020,10,28,9,00,00),\n                  LocalDateTime.of(2020,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\n        Trip t4 = new Trip(LocalDateTime.of(2019,10,28,9,00,00),\n                  LocalDateTime.of(2019,10,28,18,00,00),\n                  Arrays.asList(new Employee(&quot;emp2&quot;,&quot;id2&quot;)));\n\n        List&lt;Trip&gt; listOfTrips = Arrays.asList(t1,t2,t3,t4);\n\n        List&lt;EmployeeTripMapping&gt; empWithTripMapping = new ArrayList&lt;&gt;();\n        listOfTrips.forEach(x -&gt; x.getEmpList().forEach(y -&gt;\n                empWithTripMapping.add(new EmployeeTripMapping(y.getEmpId(),x))));\n\n        Map&lt;String,List&lt;Trip&gt;&gt; employeeTripGrouping = empWithTripMapping.stream()\n            .collect(Collectors.groupingBy(EmployeeTripMapping::getEmpId,\n                        Collectors.mapping(EmployeeTripMapping::getTrip,\n                                                 Collectors.toList())));\n        System.out.println(employeeTripGrouping);\n    }\n}\n</code></pre>\n<p><strong>EmployeeTripMapping.java</strong></p>\n<pre><code>public class EmployeeTripMapping {\n\n    private String empId;\n    private Trip trip;\n\n    //getters and setters\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{emp2=[Trip{startTime=2020-10-28T09:00, endTime=2020-10-28T18:00, empList=[Employee{empId='emp2', name='id2'}]}, Trip{startTime=2019-10-28T09:00, endTime=2019-10-28T18:00, empList=[Employee{empId='emp2', name='id2'}]}], \n emp1=[Trip{startTime=2022-10-28T09:00, endTime=2022-10-28T18:00, empList=[Employee{empId='emp1', name='id1'}]}, Trip{startTime=2021-10-28T09:00, endTime=2021-10-28T18:00, empList=[Employee{empId='emp1', name='id1'}]}]}\n</code></pre>\n"}],"owner":{"account_id":20361092,"reputation":11,"user_id":14935397,"display_name":"Jha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667007548,"creation_date":1666896958,"question_id":74226990,"body_markdown":"I have the following domain classes `Trip` and `Employee`:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Trip {\r\n    private Date startTime;\r\n    private Date endTime;\r\n    List&lt;Employee&gt; empList;\r\n    \r\n}\r\n```\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Employee {\r\n    private String name;\r\n    private String empId;\r\n}\r\n```\r\nI have a list of `Trip` instances. And I want to create a map of type `Map&lt;String,List&lt;Trip&gt;&gt;` associating *id* of each *employee* `empId` with a list of *trips* using Stream API.\r\n\r\n*Here&#39;s my attempt:*\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;Trip&gt; trips = new ArrayList&lt;&gt;();\r\n        Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; x = trips.stream()\r\n            .collect(Collectors.groupingBy(t -&gt; t.getEmpList()\r\n                .stream().map(Employee::getEmpId)\r\n            ));\r\n    }\r\n\r\nHow can I generate the map of the required type?\r\n\r\nWhen the type of map is `Map&lt;String,List&lt;Trip&gt;&gt;` it gives me a compilation error:\r\n\r\n```\r\nUnresolved compilation problem: Type mismatch:\r\ncannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;\r\n```","title":"Generate Map using list of list using stream in Java 8","body":"<p>I have the following domain classes <code>Trip</code> and <code>Employee</code>:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Trip {\n    private Date startTime;\n    private Date endTime;\n    List&lt;Employee&gt; empList;\n    \n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Employee {\n    private String name;\n    private String empId;\n}\n</code></pre>\n<p>I have a list of <code>Trip</code> instances. And I want to create a map of type <code>Map&lt;String,List&lt;Trip&gt;&gt;</code> associating <em>id</em> of each <em>employee</em> <code>empId</code> with a list of <em>trips</em> using Stream API.</p>\n<p><em>Here's my attempt:</em></p>\n<pre><code>public static void main(String[] args) {\n    \n    List&lt;Trip&gt; trips = new ArrayList&lt;&gt;();\n    Map&lt;Stream&lt;String&gt;, List&lt;Trip&gt;&gt; x = trips.stream()\n        .collect(Collectors.groupingBy(t -&gt; t.getEmpList()\n            .stream().map(Employee::getEmpId)\n        ));\n}\n</code></pre>\n<p>How can I generate the map of the required type?</p>\n<p>When the type of map is <code>Map&lt;String,List&lt;Trip&gt;&gt;</code> it gives me a compilation error:</p>\n<pre><code>Unresolved compilation problem: Type mismatch:\ncannot convert from Map&lt;Object,List&lt;Trip&gt;&gt; to Map&lt;String,List&lt;Trip&gt;&gt;\n</code></pre>\n"},{"tags":["java","database","oracle","ojdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667004584,"post_id":74242057,"comment_id":131075579,"body_markdown":"Delete that `Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);` line. You don&#39;t need it - the driver loads itself. (And, anyway, that is the wrong class name.) See what error (if any) you get after making that change.","body":"Delete that <code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;);</code> line. You don&#39;t need it - the driver loads itself. (And, anyway, that is the wrong class name.) See what error (if any) you get after making that change."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1667004975,"post_id":74242057,"comment_id":131075613,"body_markdown":"Related: [JDBC Class.forName vs DriverManager.registerDriver](https://stackoverflow.com/q/5484227/12567365) and [Class.forName still seems necessary](https://stackoverflow.com/q/37876684/12567365)","body":"Related: <a href=\"https://stackoverflow.com/q/5484227/12567365\">JDBC Class.forName vs DriverManager.registerDriver</a> and <a href=\"https://stackoverflow.com/q/37876684/12567365\">Class.forName still seems necessary</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667005310,"post_id":74242057,"comment_id":131075644,"body_markdown":"What&#39;s the right class name? https://stackoverflow.com/questions/6202653/difference-between-oracle-jdbc-driver-classes","body":"What&#39;s the right class name? <a href=\"https://stackoverflow.com/questions/6202653/difference-between-oracle-jdbc-driver-classes\" title=\"difference between oracle jdbc driver classes\">stackoverflow.com/questions/6202653/&hellip;</a>"},{"owner":{"account_id":26539115,"reputation":1083,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667081093,"post_id":74242057,"comment_id":131087368,"body_markdown":"Please [edit] to convert your images of text into actual text. [See here](https://meta.stackoverflow.com/a/285557/20170164) for why.","body":"Please <a href=\"https://stackoverflow.com/posts/74242057/edit\">edit</a> to convert your images of text into actual text. <a href=\"https://meta.stackoverflow.com/a/285557/20170164\">See here</a> for why."}],"owner":{"account_id":25291510,"reputation":23,"user_id":19117499,"display_name":"Mohammed Akif"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667005172,"creation_date":1667003382,"question_id":74242057,"body_markdown":"I&#39;m trying to connect to an Oracle database but I keep getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: oracle.jdbc.OracleDriver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:383)\r\n        at java.base/java.lang.Class.forName(Class.java:376)\r\n```\r\n\r\nI have downloaded the `ojdbc8.jar` file and added this line of code:\r\n\r\n```\r\nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;); \r\n```\r\n\r\nbut it is still not working. \r\n\r\nThis is my code:\r\n\r\n```\r\nClass.forName(&quot;oracle.jdbc.OracleDriver&quot;); \r\nConnection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;moe&quot;);\r\nStatement stat = conn.createStatement();\r\n```\r\n\r\n\r\n[![some images that might help](https://i.stack.imgur.com/DtzmF.png)](https://i.stack.imgur.com/DtzmF.png)\r\n\r\n\r\nI&#39;m trying to connect to a database.\r\n\r\nI&#39;m using:\r\n \r\n- Java JDK 18.0.1.1\r\n- ojdbc8.jar\r\n- Visual Studio IDE \r\n- Oracle Database\r\n\r\n","title":"Connect Java to Oracle database in VSCode","body":"<p>I'm trying to connect to an Oracle database but I keep getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: oracle.jdbc.OracleDriver\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:383)\n        at java.base/java.lang.Class.forName(Class.java:376)\n</code></pre>\n<p>I have downloaded the <code>ojdbc8.jar</code> file and added this line of code:</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); \n</code></pre>\n<p>but it is still not working.</p>\n<p>This is my code:</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.OracleDriver&quot;); \nConnection conn = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;moe&quot;);\nStatement stat = conn.createStatement();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DtzmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DtzmF.png\" alt=\"some images that might help\" /></a></p>\n<p>I'm trying to connect to a database.</p>\n<p>I'm using:</p>\n<ul>\n<li>Java JDK 18.0.1.1</li>\n<li>ojdbc8.jar</li>\n<li>Visual Studio IDE</li>\n<li>Oracle Database</li>\n</ul>\n"},{"tags":["java","multithreading","kernel"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1376672069,"post_id":18278425,"comment_id":26812234,"body_markdown":"What&#39;s the point of multithreading if one blocked thread blocks the entire process?","body":"What&#39;s the point of multithreading if one blocked thread blocks the entire process?"},{"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"score":0,"creation_date":1376672228,"post_id":18278425,"comment_id":26812308,"body_markdown":"User space threads consume less resources since they do not have to lod program counter, stack, etc... of the kernel thread","body":"User space threads consume less resources since they do not have to lod program counter, stack, etc... of the kernel thread"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1376673380,"post_id":18278425,"comment_id":26812878,"body_markdown":"@fredcrs yes, but they don&#39;t actually work at all well.","body":"@fredcrs yes, but they don&#39;t actually work at all well."},{"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"score":0,"creation_date":1376673655,"post_id":18278425,"comment_id":26813017,"body_markdown":"maybe they can be usefull when both theads are 100% CPU bound. So kernel would not spend time switching context","body":"maybe they can be usefull when both theads are 100% CPU bound. So kernel would not spend time switching context"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1376675652,"post_id":18278425,"comment_id":26813994,"body_markdown":"Context-switching overhead only becomes noticeable under rare circumstances - more ready threads than cores and those threads use so much data that much of the L1 cache needs to be flushed.  Not all them many apps like that.","body":"Context-switching overhead only becomes noticeable under rare circumstances - more ready threads than cores and those threads use so much data that much of the L1 cache needs to be flushed.  Not all them many apps like that."}],"answers":[{"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1376672369,"creation_date":1376672041,"answer_id":18278459,"question_id":18278425,"body_markdown":"Java threads are &quot;user&quot; threads, but under the hood, the Java Virtual Machine is using kernel threads and delegating the user threads CPU time on each kernel thread in its kernel thread pool. See [this question][1] for a better explanation. It seems that threading is JVM-vendor specific, and my understanding might not hold for all JVM implementations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2653458/understanding-javas-native-threads-and-the-jvm","title":"Are Java threads created in user space or kernel space?","body":"<p>Java threads are \"user\" threads, but under the hood, the Java Virtual Machine is using kernel threads and delegating the user threads CPU time on each kernel thread in its kernel thread pool. See <a href=\"https://stackoverflow.com/questions/2653458/understanding-javas-native-threads-and-the-jvm\">this question</a> for a better explanation. It seems that threading is JVM-vendor specific, and my understanding might not hold for all JVM implementations.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376673205,"creation_date":1376672359,"answer_id":18278547,"question_id":18278425,"body_markdown":"Most JVMs implement threads with native, OS level threads, including the Oracle reference implementation based on OpenJDK. \r\n\r\nI imagine the JVMs that use &#39;green threads&#39; (user space simulation of threads) would use preemptive scheduling so that an infinite loop in one thread doesn&#39;t block the other threads, but without knowledge of a particular implementation this is just speculation.","title":"Are Java threads created in user space or kernel space?","body":"<p>Most JVMs implement threads with native, OS level threads, including the Oracle reference implementation based on OpenJDK. </p>\n\n<p>I imagine the JVMs that use 'green threads' (user space simulation of threads) would use preemptive scheduling so that an infinite loop in one thread doesn't block the other threads, but without knowledge of a particular implementation this is just speculation.</p>\n"},{"tags":[],"owner":{"account_id":1479215,"reputation":2511,"user_id":1388943,"accept_rate":48,"display_name":"stdout"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526768666,"creation_date":1526768666,"answer_id":50430023,"question_id":18278425,"body_markdown":"Java threads are user threads for sure but eventually they&#39;re mapped to kernel-level threads before getting executed for real. This mapping probably depends on particular JVM implementation (or [the mapping model][1]).\r\n\r\nScheduling wise, kernel threads are scheduled at the os level by an alarm clock that interrupts the kernel periodically. IMO, when that happens, your JVM thread(potentially multiple) may get to execute it&#39;s code, or may spawn another thread (which could cause the os to create another kernel thread or block it depending on the mapping model), or may run it&#39;s own particular scheduling algorithm to decide which thread which were previously blocked on the same lock will be context-switched next etc.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Thread_(computing)#Models","title":"Are Java threads created in user space or kernel space?","body":"<p>Java threads are user threads for sure but eventually they're mapped to kernel-level threads before getting executed for real. This mapping probably depends on particular JVM implementation (or <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)#Models\" rel=\"nofollow noreferrer\">the mapping model</a>).</p>\n\n<p>Scheduling wise, kernel threads are scheduled at the os level by an alarm clock that interrupts the kernel periodically. IMO, when that happens, your JVM thread(potentially multiple) may get to execute it's code, or may spawn another thread (which could cause the os to create another kernel thread or block it depending on the mapping model), or may run it's own particular scheduling algorithm to decide which thread which were previously blocked on the same lock will be context-switched next etc.</p>\n"},{"tags":[],"owner":{"account_id":11307230,"reputation":47,"user_id":8291448,"display_name":"Ibrahim Mohammed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667004709,"creation_date":1667004709,"answer_id":74242124,"question_id":18278425,"body_markdown":"Starting from Java 19, virtual threads will be part of Java(as a preview feature). \r\n\r\nUnlike Java classic threads (aka, platform threads, which are just wrappers around OS threads), virtual threads are managed by the JVM. They are super lightweight, take less memory, have less creation overhead, and can make good use of non-blocking libraries, so they don&#39;t get to block the actual OS threads on I/O operations. read more about [Project Loom][1]\r\n\r\n\r\n  [1]: https://www.infoq.com/articles/java-virtual-threads/","title":"Are Java threads created in user space or kernel space?","body":"<p>Starting from Java 19, virtual threads will be part of Java(as a preview feature).</p>\n<p>Unlike Java classic threads (aka, platform threads, which are just wrappers around OS threads), virtual threads are managed by the JVM. They are super lightweight, take less memory, have less creation overhead, and can make good use of non-blocking libraries, so they don't get to block the actual OS threads on I/O operations. read more about <a href=\"https://www.infoq.com/articles/java-virtual-threads/\" rel=\"nofollow noreferrer\">Project Loom</a></p>\n"}],"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15503,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":18278459,"answer_count":4,"score":13,"last_activity_date":1667004709,"creation_date":1376671925,"question_id":18278425,"body_markdown":"Check this code out\r\n\r\n        Thread t1 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() \r\n            {\r\n                try\r\n                {\r\n                    System.out.println(&quot;STARTING SERVER...&quot;);\r\n                    ServerSocket s = new ServerSocket(2544);\r\n                    System.out.println(&quot;SERVER BLOCKED ON ACCEPT&quot;);\r\n                    Socket ss = s.accept();\r\n                    System.out.println(&quot;SERVER NOT BLOCKED ANYMORE&quot;);\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n        \r\n        \r\n        \r\n        Thread t2 = new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() \r\n            {\r\n                try\r\n                {\r\n                    while(true)\r\n                    {\r\n                        Thread.sleep(1000);\r\n                        System.out.println(&quot;Hello&quot;);\r\n                    }\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t2.start();\r\n\r\n\r\n**Outputs:**\r\n\r\n    STARTING SERVER...\r\n    SERVER BLOCKED ON ACCEPT\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    Hello\r\n    ...\r\n\r\nJava threads should be user space threads, right? So one blocked thread should block the entire process...thats not what happened. What is happening them?","title":"Are Java threads created in user space or kernel space?","body":"<p>Check this code out</p>\n\n<pre><code>    Thread t1 = new Thread(new Runnable() {\n\n        @Override\n        public void run() \n        {\n            try\n            {\n                System.out.println(\"STARTING SERVER...\");\n                ServerSocket s = new ServerSocket(2544);\n                System.out.println(\"SERVER BLOCKED ON ACCEPT\");\n                Socket ss = s.accept();\n                System.out.println(\"SERVER NOT BLOCKED ANYMORE\");\n            }\n            catch(Exception ex)\n            {\n                ex.printStackTrace();\n            }\n        }\n    });\n    t1.start();\n\n\n\n    Thread t2 = new Thread(new Runnable() {\n\n        @Override\n        public void run() \n        {\n            try\n            {\n                while(true)\n                {\n                    Thread.sleep(1000);\n                    System.out.println(\"Hello\");\n                }\n            }\n            catch(Exception ex)\n            {\n                ex.printStackTrace();\n            }\n        }\n    });\n    t2.start();\n</code></pre>\n\n<p><strong>Outputs:</strong></p>\n\n<pre><code>STARTING SERVER...\nSERVER BLOCKED ON ACCEPT\nHello\nHello\nHello\nHello\nHello\nHello\nHello\n...\n</code></pre>\n\n<p>Java threads should be user space threads, right? So one blocked thread should block the entire process...thats not what happened. What is happening them?</p>\n"},{"tags":["java","jwt","wso2","wso2-api-manager"],"answers":[{"tags":[],"owner":{"account_id":14262691,"reputation":606,"user_id":10302908,"display_name":"Binod Karunanayake"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666850126,"creation_date":1666850126,"answer_id":74217379,"question_id":74214152,"body_markdown":"You can customize JWT by adding custom claims using a `CustomGatewayJWTGenerator` as in [docs][1]. Follow the steps below to test this.\r\n\r\n1. Get this [sample code][2] and modify the `CustomGatewayJWTGenerator.populateStandardClaims()` class as below.\r\n\r\n```java\r\n@Override\r\npublic Map&lt;String, Object&gt; populateStandardClaims(JWTInfoDto jwtInfoDto) {\r\n    Map&lt;String, Object&gt; claims = super.populateStandardClaims(jwtInfoDto);\r\n    claims.put(&quot;custom-attribute&quot;, &quot;123&quot;);\r\n    return claims;\r\n}\r\n```\r\n\r\n2. Run `mvn clean install` and generate the jar file.\r\n3. Copy `CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar` to `&lt;APIM_HOME&gt;/repository/components/dropins` directory.\r\n4. Add following config to the `&lt;APIM_HOME&gt;/repository/conf/deployment.toml`.\r\n\r\n```toml\r\n[apim.jwt]\r\nenable = true\r\n\r\n[apim.jwt.gateway_generator]\r\nimpl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;\r\n```\r\n\r\n5. Start/Restart the server.\r\n6. Create and publish a sample REST API in Publisher.\r\n7. Subscribe and invoke the created API in Devportal.\r\n8. You can see that the custom attribute is passed to the backend by decoding the JWT.\r\n\r\n```\r\n{\r\n  ...\r\n\r\n  &quot;custom-attribute&quot;: &quot;123&quot;,\r\n\r\n  ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/#jwt-self-contained-access-tokens\r\n  [2]: https://github.com/wso2/samples-apim/tree/master/CustomGatewayJWTGenerator","title":"Customizing JWT generation not working in WSO2 APIM 4.0.0","body":"<p>You can customize JWT by adding custom claims using a <code>CustomGatewayJWTGenerator</code> as in <a href=\"https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/#jwt-self-contained-access-tokens\" rel=\"nofollow noreferrer\">docs</a>. Follow the steps below to test this.</p>\n<ol>\n<li>Get this <a href=\"https://github.com/wso2/samples-apim/tree/master/CustomGatewayJWTGenerator\" rel=\"nofollow noreferrer\">sample code</a> and modify the <code>CustomGatewayJWTGenerator.populateStandardClaims()</code> class as below.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Map&lt;String, Object&gt; populateStandardClaims(JWTInfoDto jwtInfoDto) {\n    Map&lt;String, Object&gt; claims = super.populateStandardClaims(jwtInfoDto);\n    claims.put(&quot;custom-attribute&quot;, &quot;123&quot;);\n    return claims;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Run <code>mvn clean install</code> and generate the jar file.</li>\n<li>Copy <code>CustomGatewayJWTGenerator-1.0-SNAPSHOT.jar</code> to <code>&lt;APIM_HOME&gt;/repository/components/dropins</code> directory.</li>\n<li>Add following config to the <code>&lt;APIM_HOME&gt;/repository/conf/deployment.toml</code>.</li>\n</ol>\n<pre class=\"lang-ini prettyprint-override\"><code>[apim.jwt]\nenable = true\n\n[apim.jwt.gateway_generator]\nimpl = &quot;org.wso2.carbon.test.CustomGatewayJWTGenerator&quot;\n</code></pre>\n<ol start=\"5\">\n<li>Start/Restart the server.</li>\n<li>Create and publish a sample REST API in Publisher.</li>\n<li>Subscribe and invoke the created API in Devportal.</li>\n<li>You can see that the custom attribute is passed to the backend by decoding the JWT.</li>\n</ol>\n<pre><code>{\n  ...\n\n  &quot;custom-attribute&quot;: &quot;123&quot;,\n\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":26696474,"reputation":1,"user_id":20304241,"display_name":"Yerson Quintana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667003543,"creation_date":1666817928,"question_id":74214152,"body_markdown":"I tried to implement the steps given in WSO2 4.0.0 documentation https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/ for customizing JWT Claims.\r\n\r\nAs given in the documentation, I created the custom JWT generator java class, generated the jar and placed it under WSO2 Home/repository/components/lib folder . Did the necessary configurations in deployment.toml for enabling JWT and restarted the server.\r\n\r\nNeed suggestions on this as i have followed the steps given in the documentation.\r\n\r\nI execute the examples `CustomGatewayJWTGenerator,CustomJWTGenerator` of [repo](https://github.com/wso2/samples-apim) official examples.  \r\n```\r\n{\r\n  &quot;sub&quot;: &quot;xxxx&quot;,\r\n  &quot;aut&quot;: &quot;xxxx&quot;,\r\n  &quot;aud&quot;: &quot;xxx&quot;,\r\n  &quot;nbf&quot;: xxx,\r\n  &quot;azp&quot;: &quot;xxx&quot;,\r\n  &quot;scope&quot;: &quot;xxx&quot;,\r\n  &quot;iss&quot;: &quot;xx://xxx:9443/oauth2/token&quot;,\r\n  &quot;exp&quot;: xxxxx,\r\n  &quot;iat&quot;: xxxxx,\r\n  &quot;jti&quot;: &quot;xxxx-xxxx-xxx-xxxx-xxxxxx&quot;\r\n  //custom\r\n   &quot;name:&quot;xxxxx&quot;,\r\n    &quot;lastname&quot;:&quot;xxxx&quot;\r\n}\r\n```\r\n\r\n[deployment.toml][1]\r\n\r\n\r\n[api-manager.xml][2]\r\n\r\n[repository\\components\\dropins][3]\r\n\r\n[repository\\components\\lib][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XXoCw.png\r\n  [2]: https://i.stack.imgur.com/TF0Rw.png\r\n  [3]: https://i.stack.imgur.com/n7rWM.png\r\n  [4]: https://i.stack.imgur.com/tYUBv.png","title":"Customizing JWT generation not working in WSO2 APIM 4.0.0","body":"<p>I tried to implement the steps given in WSO2 4.0.0 documentation <a href=\"https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/\" rel=\"nofollow noreferrer\">https://apim.docs.wso2.com/en/4.0.0/deploy-and-publish/deploy-on-gateway/api-gateway/passing-enduser-attributes-to-the-backend-via-api-gateway/</a> for customizing JWT Claims.</p>\n<p>As given in the documentation, I created the custom JWT generator java class, generated the jar and placed it under WSO2 Home/repository/components/lib folder . Did the necessary configurations in deployment.toml for enabling JWT and restarted the server.</p>\n<p>Need suggestions on this as i have followed the steps given in the documentation.</p>\n<p>I execute the examples <code>CustomGatewayJWTGenerator,CustomJWTGenerator</code> of <a href=\"https://github.com/wso2/samples-apim\" rel=\"nofollow noreferrer\">repo</a> official examples.</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;xxxx&quot;,\n  &quot;aut&quot;: &quot;xxxx&quot;,\n  &quot;aud&quot;: &quot;xxx&quot;,\n  &quot;nbf&quot;: xxx,\n  &quot;azp&quot;: &quot;xxx&quot;,\n  &quot;scope&quot;: &quot;xxx&quot;,\n  &quot;iss&quot;: &quot;xx://xxx:9443/oauth2/token&quot;,\n  &quot;exp&quot;: xxxxx,\n  &quot;iat&quot;: xxxxx,\n  &quot;jti&quot;: &quot;xxxx-xxxx-xxx-xxxx-xxxxxx&quot;\n  //custom\n   &quot;name:&quot;xxxxx&quot;,\n    &quot;lastname&quot;:&quot;xxxx&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XXoCw.png\" rel=\"nofollow noreferrer\">deployment.toml</a></p>\n<p><a href=\"https://i.stack.imgur.com/TF0Rw.png\" rel=\"nofollow noreferrer\">api-manager.xml</a></p>\n<p><a href=\"https://i.stack.imgur.com/n7rWM.png\" rel=\"nofollow noreferrer\">repository\\components\\dropins</a></p>\n<p><a href=\"https://i.stack.imgur.com/tYUBv.png\" rel=\"nofollow noreferrer\">repository\\components\\lib</a></p>\n"},{"tags":["java","spring-boot","eclipse","circular-dependency"],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667002241,"creation_date":1667002241,"answer_id":74241973,"question_id":74166105,"body_markdown":"This is something the Spotbugs plugin can find.  I haven&#39;t run it in a while, and I don&#39;t remember where it&#39;s found in the results, but I&#39;ve used this to discover these, and not just to tell me that there is one, but it shows the trace of references.","title":"How to detect cyclic dependencies in compile time, in java spring-boot, in eclipse?","body":"<p>This is something the Spotbugs plugin can find.  I haven't run it in a while, and I don't remember where it's found in the results, but I've used this to discover these, and not just to tell me that there is one, but it shows the trace of references.</p>\n"}],"owner":{"account_id":19225914,"reputation":389,"user_id":14048816,"display_name":"Himanshu Kawale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667002241,"creation_date":1666463151,"question_id":74166105,"body_markdown":"Is there any way we can detect cyclic dependencies before running the application?\r\n\r\nI&#39;m using eclipse IDE for a spring-boot project. For some reason I can not run my application on my local machine, I need to run it on an external server.\r\n\r\nWhenever any cyclic dependency arrives in code, my maven build gets succeeds, so I get to know about that cyclic dependency only on the server which takes the entire server down which is not affordable.\r\n\r\nPlease suggest a way to detect these evils before they born.\r\n\r\nThanks in advance !\r\n","title":"How to detect cyclic dependencies in compile time, in java spring-boot, in eclipse?","body":"<p>Is there any way we can detect cyclic dependencies before running the application?</p>\n<p>I'm using eclipse IDE for a spring-boot project. For some reason I can not run my application on my local machine, I need to run it on an external server.</p>\n<p>Whenever any cyclic dependency arrives in code, my maven build gets succeeds, so I get to know about that cyclic dependency only on the server which takes the entire server down which is not affordable.</p>\n<p>Please suggest a way to detect these evils before they born.</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage","bucket"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1666982491,"post_id":74237475,"comment_id":131071409,"body_markdown":"What&#39;s your code? Where are you stuck? Meanwhile you can have a look to ADC on Google Cloud and how the gcp libraries work with it.","body":"What&#39;s your code? Where are you stuck? Meanwhile you can have a look to ADC on Google Cloud and how the gcp libraries work with it."}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667001263,"creation_date":1667001263,"answer_id":74241904,"question_id":74237475,"body_markdown":"Maybe this topic can help : [spring controller download file GCS](https://stackoverflow.com/questions/57920135/how-to-download-a-file-from-google-cloud-storage-and-return-it-in-spring-control)\r\n\r\nFor `GOOGLE_APPLICATION_CREDENTIALS` it allows an application to be authenticated on `GCP`.\r\n- Firstly you have to create a service account on `IAM GCP page` with the needed privileges.\r\n- Download a json key for this service account.\r\n- Set the `GOOGLE_APPLICATION_CREDENTIALS` env var that targets on the path of the Service Account json key, before to start `main` and entrypoint of your `Spring Boot` application.","title":"Spring Boot - Download a file from GCP Bucket","body":"<p>Maybe this topic can help : <a href=\"https://stackoverflow.com/questions/57920135/how-to-download-a-file-from-google-cloud-storage-and-return-it-in-spring-control\">spring controller download file GCS</a></p>\n<p>For <code>GOOGLE_APPLICATION_CREDENTIALS</code> it allows an application to be authenticated on <code>GCP</code>.</p>\n<ul>\n<li>Firstly you have to create a service account on <code>IAM GCP page</code> with the needed privileges.</li>\n<li>Download a json key for this service account.</li>\n<li>Set the <code>GOOGLE_APPLICATION_CREDENTIALS</code> env var that targets on the path of the Service Account json key, before to start <code>main</code> and entrypoint of your <code>Spring Boot</code> application.</li>\n</ul>\n"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74241904,"answer_count":1,"score":0,"last_activity_date":1667001263,"creation_date":1666970436,"question_id":74237475,"body_markdown":"I&#39;ve a Spring Boot Application and I have to develop an API to download a file from GCP bucket.\r\nSo I have the download path and the name of the bucket, e.g.\r\n\r\n    my_bucket = &quot;bucketTest&quot;\r\n    download_path = bucketTest + &quot;/file.txt&quot;\r\nBefore I start writing the code for download, what are the preliminary steps? I read that I need a GOOGLE_APPLICATION_CREDENTIALS environment variable, where can I find it?\r\nOnce I set this environment variable, do I just need to write the download code or are there some setup inside the controller function?","title":"Spring Boot - Download a file from GCP Bucket","body":"<p>I've a Spring Boot Application and I have to develop an API to download a file from GCP bucket.\nSo I have the download path and the name of the bucket, e.g.</p>\n<pre><code>my_bucket = &quot;bucketTest&quot;\ndownload_path = bucketTest + &quot;/file.txt&quot;\n</code></pre>\n<p>Before I start writing the code for download, what are the preliminary steps? I read that I need a GOOGLE_APPLICATION_CREDENTIALS environment variable, where can I find it?\nOnce I set this environment variable, do I just need to write the download code or are there some setup inside the controller function?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","autocloseable"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1622216256,"post_id":67741257,"comment_id":119737391,"body_markdown":"When the entire container is closed, everything is destroyed anyway.","body":"When the entire container is closed, everything is destroyed anyway."}],"answers":[{"tags":[],"owner":{"account_id":16874158,"reputation":498,"user_id":12201993,"display_name":"kayuapi_my"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1622251503,"creation_date":1622215958,"answer_id":67741746,"question_id":67741257,"body_markdown":"For best practice, you should explicitly close the client unless you have reasons not to.\r\n\r\n&gt; Service clients in the SDK are thread-safe. For best performance,\r\n&gt; treat them as long-lived objects. Each client has its own connection\r\n&gt; pool resource that is released when the client is garbage collected.\r\n&gt; The clients in the AWS SDK for Java 2.0 now extend the AutoClosable\r\n&gt; interface. For best practices, explicitly close a client by calling\r\n&gt; the close method.\r\n\r\nReason not to explicitly close the client:\r\n\r\nFor best performance, do not explicitly close the client. This is because unclosed client maintains socket with the service by remaining in a reusable connection pool after it is opened. So, the client may be reused when lambda is invoked again. Lambda can and will close the client for you automatically at a later time even if you&#39;re not closing it explicitly.\r\n\r\nref: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html","title":"How to close aws client in aws lambda","body":"<p>For best practice, you should explicitly close the client unless you have reasons not to.</p>\n<blockquote>\n<p>Service clients in the SDK are thread-safe. For best performance,\ntreat them as long-lived objects. Each client has its own connection\npool resource that is released when the client is garbage collected.\nThe clients in the AWS SDK for Java 2.0 now extend the AutoClosable\ninterface. For best practices, explicitly close a client by calling\nthe close method.</p>\n</blockquote>\n<p>Reason not to explicitly close the client:</p>\n<p>For best performance, do not explicitly close the client. This is because unclosed client maintains socket with the service by remaining in a reusable connection pool after it is opened. So, the client may be reused when lambda is invoked again. Lambda can and will close the client for you automatically at a later time even if you're not closing it explicitly.</p>\n<p>ref: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/creating-clients.html</a></p>\n"}],"owner":{"account_id":6926859,"reputation":103,"user_id":5317686,"display_name":"Anastasia Drozhzha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67741746,"answer_count":1,"score":4,"last_activity_date":1666999604,"creation_date":1622214117,"question_id":67741257,"body_markdown":"I am trying to correctly write an aws lambda using Java that will use aws sdk SqsClient and SnsClient. I see that these clients implement `close()` method, and it is generally a good practice to call this method when client is no longer required. And the best practices for lambda (https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html) advices to \r\n\r\n&gt; Initialize SDK clients and database connections outside of the function handle\r\n\r\nSo, my question is: is aws lambda wise enough to close aws sdk clients automatically, so that I can write something like this, and do not worry about closing the client explicitly when lambda container is closed.\r\n```\r\npublic class SQSProcessingHandler implements RequestHandler&lt;String, String&gt; {\r\n\r\n    private SqsClient sqsClient = SqsClient.create();\r\n\r\n    @Override\r\n    public String handleRequest(final String event, final Context context) {\r\n        ListQueuesResponse response = sqsClient.listQueues();\r\n        return response.queueUrls().stream().collect(Collectors.joining(&quot;,&quot;));\r\n    }\r\n}\r\n```\r\nIf explicit close is still required, could you please help me to find out how can I know that the lambda container is about to close, so that I should call `close()` on the client?","title":"How to close aws client in aws lambda","body":"<p>I am trying to correctly write an aws lambda using Java that will use aws sdk SqsClient and SnsClient. I see that these clients implement <code>close()</code> method, and it is generally a good practice to call this method when client is no longer required. And the best practices for lambda (<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html</a>) advices to</p>\n<blockquote>\n<p>Initialize SDK clients and database connections outside of the function handle</p>\n</blockquote>\n<p>So, my question is: is aws lambda wise enough to close aws sdk clients automatically, so that I can write something like this, and do not worry about closing the client explicitly when lambda container is closed.</p>\n<pre><code>public class SQSProcessingHandler implements RequestHandler&lt;String, String&gt; {\n\n    private SqsClient sqsClient = SqsClient.create();\n\n    @Override\n    public String handleRequest(final String event, final Context context) {\n        ListQueuesResponse response = sqsClient.listQueues();\n        return response.queueUrls().stream().collect(Collectors.joining(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>If explicit close is still required, could you please help me to find out how can I know that the lambda container is about to close, so that I should call <code>close()</code> on the client?</p>\n"},{"tags":["java","groovy","gremlin","amazon-neptune"],"comments":[{"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"score":0,"creation_date":1666977149,"post_id":74238687,"comment_id":131069823,"body_markdown":"When adding the `drop()` step, where are you placing that?  At the very end of the query?","body":"When adding the <code>drop()</code> step, where are you placing that?  At the very end of the query?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666977435,"post_id":74238687,"comment_id":131069895,"body_markdown":"@TaylorRiggan Added a copy with the `drop()` step included.","body":"@TaylorRiggan Added a copy with the <code>drop()</code> step included."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666980510,"post_id":74238687,"comment_id":131070881,"body_markdown":"Does it work if you add `.iterate()` to the end after `.drop()`","body":"Does it work if you add <code>.iterate()</code> to the end after <code>.drop()</code>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666987556,"post_id":74238687,"comment_id":131072718,"body_markdown":"@tim_yates No change, and I wouldn&#39;t expect a change since `drop()` ends its traversers.","body":"@tim_yates No change, and I wouldn&#39;t expect a change since <code>drop()</code> ends its traversers."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666988025,"post_id":74238687,"comment_id":131072830,"body_markdown":"Sorry, I was going from this https://stackoverflow.com/a/17250723/6509","body":"Sorry, I was going from this <a href=\"https://stackoverflow.com/a/17250723/6509\">stackoverflow.com/a/17250723/6509</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666988824,"post_id":74238687,"comment_id":131073006,"body_markdown":"@tim_yates That seems to be an error on Stephen&#39;s part, as the Gremlin console implicitly iterates over results (though it would in fact be necessary in business code!).","body":"@tim_yates That seems to be an error on Stephen&#39;s part, as the Gremlin console implicitly iterates over results (though it would in fact be necessary in business code!)."}],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666999137,"creation_date":1666998457,"answer_id":74241675,"question_id":74238687,"body_markdown":"I&#39;m taking a deeper look at this, it looks very familiar, but I&#39;m not quite remembering the behavior here. \r\n\r\nI can also reproduce this with just TinkerGraph and Gremlin console.\r\n\r\nFor now, as a work around, try doing `fold().unfold().drop()`\r\n\r\nI&#39;m pretty sure I have seen this before and there may even be a TinkerPop Jira open for it. I&#39;ll do some more research and update this answer if I find anything relevant. Hopefully for now you at least have a workaround.\r\n","title":"Why does my Gremlin query not drop all the vertices I indicate?","body":"<p>I'm taking a deeper look at this, it looks very familiar, but I'm not quite remembering the behavior here.</p>\n<p>I can also reproduce this with just TinkerGraph and Gremlin console.</p>\n<p>For now, as a work around, try doing <code>fold().unfold().drop()</code></p>\n<p>I'm pretty sure I have seen this before and there may even be a TinkerPop Jira open for it. I'll do some more research and update this answer if I find anything relevant. Hopefully for now you at least have a workaround.</p>\n"}],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666999137,"creation_date":1666976769,"question_id":74238687,"body_markdown":"I am running a Gremlin query against Neptune 1.1.1.0. For development purposes, I&#39;m trying to remove a vertex with a specific phone number along with its related `Subscription` and `Channel` vertices. I have a `union` statement that correctly emits the desired vertices in the Gremlin console, and I can apply `elementMap()` to print out all the properties:\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  )\r\n==&gt;v[d5bc0f8a-a5a5-4209-8bbf-43ea1c39a694]\r\n==&gt;v[d0183e2b-74a8-446c-b378-903dcfc5f50f]\r\n==&gt;v[aba2577f-9244-4367-bcb6-209b9fbe4548]\r\n```\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  ).elementMap()\r\n==&gt; // prints out properties for each of the 3 vertices\r\n```\r\n\r\nHowever, if I apply `drop()` to the query, the first (`Identity`) vertex is dropped, but not the subsequent ones. I expected that when I had a traversal with multiple matching vertices, all of them would be dropped (e.g., `g.V().hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, startingWith(&#39;+1&#39;)).drop()` drops all North American vertices). Why is Neptune/Gremlin stopping at the first vertex in this case?\r\n\r\n```\r\ngremlin&gt; g.V()\r\n  .hasLabel(&#39;Identity&#39;).has(&#39;phones&#39;, &#39;+11234567890&#39;))\r\n  .union(\r\n    identity(),\r\n    __.out(&#39;Receives&#39;).hasLabel(&#39;Subscription&#39;), \r\n    __.out(&#39;MemberOf&#39;).hasLabel(&#39;Channel&#39;)\r\n  ).drop()\r\n```\r\n\r\n(I would generally attempt to run an `explain` here to get more information, but I don&#39;t know how to make that work with `drop()` as a final step.)","title":"Why does my Gremlin query not drop all the vertices I indicate?","body":"<p>I am running a Gremlin query against Neptune 1.1.1.0. For development purposes, I'm trying to remove a vertex with a specific phone number along with its related <code>Subscription</code> and <code>Channel</code> vertices. I have a <code>union</code> statement that correctly emits the desired vertices in the Gremlin console, and I can apply <code>elementMap()</code> to print out all the properties:</p>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  )\n==&gt;v[d5bc0f8a-a5a5-4209-8bbf-43ea1c39a694]\n==&gt;v[d0183e2b-74a8-446c-b378-903dcfc5f50f]\n==&gt;v[aba2577f-9244-4367-bcb6-209b9fbe4548]\n</code></pre>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  ).elementMap()\n==&gt; // prints out properties for each of the 3 vertices\n</code></pre>\n<p>However, if I apply <code>drop()</code> to the query, the first (<code>Identity</code>) vertex is dropped, but not the subsequent ones. I expected that when I had a traversal with multiple matching vertices, all of them would be dropped (e.g., <code>g.V().hasLabel('Identity').has('phones', startingWith('+1')).drop()</code> drops all North American vertices). Why is Neptune/Gremlin stopping at the first vertex in this case?</p>\n<pre><code>gremlin&gt; g.V()\n  .hasLabel('Identity').has('phones', '+11234567890'))\n  .union(\n    identity(),\n    __.out('Receives').hasLabel('Subscription'), \n    __.out('MemberOf').hasLabel('Channel')\n  ).drop()\n</code></pre>\n<p>(I would generally attempt to run an <code>explain</code> here to get more information, but I don't know how to make that work with <code>drop()</code> as a final step.)</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1666988453,"post_id":74240442,"comment_id":131072927,"body_markdown":"*@JsonCreator is used to fine tune the constructor or factory method used in deserialization.*","body":"<i>@JsonCreator is used to fine tune the constructor or factory method used in deserialization.</i>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666988630,"post_id":74240442,"comment_id":131072964,"body_markdown":"Are you compiling your `User` class with Java method parameter names included (and including the Jackson JDK8 module so it knows how to see them)?","body":"Are you compiling your <code>User</code> class with Java method parameter names included (and including the Jackson JDK8 module so it knows how to see them)?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1666995525,"post_id":74240442,"comment_id":131074395,"body_markdown":"Note also that you can set your Lombok configuration to [`lombok.anyConstructor.addConstructorProperties = true`](https://projectlombok.org/features/constructor), which will add an annotation to the constructor with the necessary mappings.","body":"Note also that you can set your Lombok configuration to <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\"><code>lombok.anyConstructor.addConstructorProperties = true</code></a>, which will add an annotation to the constructor with the necessary mappings."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666998574,"creation_date":1666988935,"answer_id":74240573,"question_id":74240442,"body_markdown":"The property `alias` of your `User` is marked as `final`, which means it can&#39;t be initialized through a setter. Because in order to assign a value to the field through a setter it should be already initialized with the default value (`null`, `0`, `false` depending on the type), but `final` variable **can&#39;t be reassigned**.\r\n\r\n**Reminder:** the mechanism which Jackson uses by default is to instantiate the class using *no-args* constructor and then assign the fields via setters. But it can&#39;t be done if one of the fields is `final`, they such fields need to be provided through constructor, because `final` means - &quot;assign only once&quot;.\r\n\r\n&lt;h3&gt;There are two ways to instruct Jackson to use a parametrized constructor:&lt;/h3&gt;\r\n\r\n**1.** The first option is to point at the constructor explicitly by annotating it with [`@JsonCreator`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html) and apply `@JsonProperty` on each of the constructor arguments as specified in the documentation.\r\n\r\n**2.** Another option is to add a dependency to *Jackson Modules: Java 8* ([link to Maven repository](https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3)), which is an umbrella multi-module that consists of several modules including [Parameter names module](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names).\r\n\r\nAnd then you need to configure `ObjectMapper`. For that, you need to place `ParameterNamesModule` as a Bean into the Spring&#39;s Context, and it would be grabbed at the application start-up and applied while `ObjectMapper` would be configured.\r\n\r\n    @Bean\r\n    public ParameterNamesModule parameterNamesModule() {\r\n        return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\r\n    }\r\n\r\n\r\n\r\nBut there&#39;s a **caveat**. A quote from the documentation of the [`JsonCreator.Mode.PROPERTIES`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES):\r\n\r\n&gt; Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.\r\n&gt; \r\n&gt; **Note** that this mode is currently (2.5) always used for\r\n&gt; multiple-argument creators; the **only ambiguous case is that of a\r\n&gt; single-argument creator**.\r\n\r\nI.e. this option would not work if your constructor has **exactly one** argument.\r\n\r\nTo make the Jackson recognize a *single-arg constructor*, you need to apply `@JsonProperty` on the argument.\r\n\r\nThis behavior explained [here](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-name) and also mentioned in the [module-description](https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names) at the very bottom of the page:\r\n\r\n&gt; **Preconditions:**\r\n&gt; \r\n&gt; * if class Person has a single argument constructor, its argument needs to be annotated with `@JsonProperty(&quot;propertyName&quot;)`. This is to\r\n&gt; **preserve legacy behavior**","title":"When is a @JsonCreator method required for parsing?","body":"<p>The property <code>alias</code> of your <code>User</code> is marked as <code>final</code>, which means it can't be initialized through a setter. Because in order to assign a value to the field through a setter it should be already initialized with the default value (<code>null</code>, <code>0</code>, <code>false</code> depending on the type), but <code>final</code> variable <strong>can't be reassigned</strong>.</p>\n<p><strong>Reminder:</strong> the mechanism which Jackson uses by default is to instantiate the class using <em>no-args</em> constructor and then assign the fields via setters. But it can't be done if one of the fields is <code>final</code>, they such fields need to be provided through constructor, because <code>final</code> means - &quot;assign only once&quot;.</p>\n<h3>There are two ways to instruct Jackson to use a parametrized constructor:</h3>\n<p><strong>1.</strong> The first option is to point at the constructor explicitly by annotating it with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\"><code>@JsonCreator</code></a> and apply <code>@JsonProperty</code> on each of the constructor arguments as specified in the documentation.</p>\n<p><strong>2.</strong> Another option is to add a dependency to <em>Jackson Modules: Java 8</em> (<a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-modules-java8/2.13.3\" rel=\"nofollow noreferrer\">link to Maven repository</a>), which is an umbrella multi-module that consists of several modules including <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">Parameter names module</a>.</p>\n<p>And then you need to configure <code>ObjectMapper</code>. For that, you need to place <code>ParameterNamesModule</code> as a Bean into the Spring's Context, and it would be grabbed at the application start-up and applied while <code>ObjectMapper</code> would be configured.</p>\n<pre><code>@Bean\npublic ParameterNamesModule parameterNamesModule() {\n    return new ParameterNamesModule(JsonCreator.Mode.PROPERTIES);\n}\n</code></pre>\n<p>But there's a <strong>caveat</strong>. A quote from the documentation of the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonCreator.Mode.html#PROPERTIES\" rel=\"nofollow noreferrer\"><code>JsonCreator.Mode.PROPERTIES</code></a>:</p>\n<blockquote>\n<p>Mode that indicates that the argument(s) for creator are to be bound from matching properties of incoming Object value, using creator argument names (explicit or implicit) to match incoming Object properties to arguments.</p>\n<p><strong>Note</strong> that this mode is currently (2.5) always used for\nmultiple-argument creators; the <strong>only ambiguous case is that of a\nsingle-argument creator</strong>.</p>\n</blockquote>\n<p>I.e. this option would not work if your constructor has <strong>exactly one</strong> argument.</p>\n<p>To make the Jackson recognize a <em>single-arg constructor</em>, you need to apply <code>@JsonProperty</code> on the argument.</p>\n<p>This behavior explained <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-name\" rel=\"nofollow noreferrer\">here</a> and also mentioned in the <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/2.14/parameter-names\" rel=\"nofollow noreferrer\">module-description</a> at the very bottom of the page:</p>\n<blockquote>\n<p><strong>Preconditions:</strong></p>\n<ul>\n<li>if class Person has a single argument constructor, its argument needs to be annotated with <code>@JsonProperty(&quot;propertyName&quot;)</code>. This is to\n<strong>preserve legacy behavior</strong></li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74240573,"answer_count":1,"score":1,"last_activity_date":1666998694,"creation_date":1666987987,"question_id":74240442,"body_markdown":"When I try to parse the following object:\r\n\r\n```\r\n@Data\r\npublic final class User implements Serializable {\r\n    @JsonProperty(&quot;alias&quot;)\r\n    private final String alias;\r\n}\r\n```\r\n\r\nI get the error\r\n\r\n```\r\norg.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 10]\r\n```\r\n\r\nAnd I solved this by adding a creator to the User class like this:\r\n\r\n```\r\n@Data\r\npublic final class User implements Serializable {\r\n    @JsonProperty(&quot;alias&quot;)\r\n    private final String alias;\r\n\r\n\r\n    @JsonCreator\r\n    public User(@JsonProperty(&quot;alias&quot;) String alias){\r\n        this.alias = alias;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis works fine. \r\n\r\n\r\n\r\nSo now I go and parse the following object:\r\n\r\n\r\n```\r\n@Data\r\npublic final class Multiplication implements Serializable {\r\n    @JsonProperty(&quot;factorA&quot;)\r\n    private final Integer factorA;\r\n    @JsonProperty(&quot;factorB&quot;)\r\n    private final Integer factorB;\r\n}\r\n```\r\n\r\nand I don&#39;t get an error... why? why it doesn&#39;t require me to use a constructor here?\r\n\r\nHere&#39;s the class where the parsing takes place\r\n\r\n```\r\npackage microservices.book.multiplication.controller;\r\n\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport microservices.book.multiplication.domain.Multiplication;\r\nimport microservices.book.multiplication.domain.MultiplicationResultAttempt;\r\nimport microservices.book.multiplication.controller.MultiplicationResultAttemptController.ResultResponse;\r\nimport microservices.book.multiplication.domain.User;\r\nimport microservices.book.multiplication.service.MultiplicationService;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.json.JacksonTester;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\n\r\n\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@RunWith(SpringRunner.class)\r\n@WebMvcTest(MultiplicationResultAttemptController.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class MultiplicationResultAttemptControllerTest {\r\n\r\n    @MockBean\r\n    MultiplicationService multiplicationService;\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    private JacksonTester&lt;MultiplicationResultAttempt&gt; jsonResult;\r\n    private JacksonTester&lt;ResultResponse&gt; jsonResponse;\r\n\r\n    @BeforeAll\r\n    void initAll(){\r\n        JacksonTester.initFields(this, new ObjectMapper());\r\n    }\r\n\r\n    @Test\r\n    public void postResultReturnCorrect() throws Exception{\r\n        genericParameterizedTest(true);\r\n    }\r\n\r\n    @Test\r\n    public void postResultReturnNotCorrect() throws Exception{\r\n        genericParameterizedTest(true);\r\n    }\r\n\r\n    void genericParameterizedTest(final Boolean correct) throws Exception{\r\n        given(multiplicationService.checkAttempt(any(MultiplicationResultAttempt.class))).willReturn(correct);\r\n        User user = new User(&quot;Smith&quot;);\r\n        Multiplication multiplication = new Multiplication(50,70);\r\n        MultiplicationResultAttempt attempt = new MultiplicationResultAttempt(user, multiplication, 3500);\r\n\r\n        // when\r\n        MockHttpServletResponse response = mvc.perform(\r\n                post(&quot;/results&quot;).contentType(MediaType.APPLICATION_JSON).\r\n                        content(jsonResult.write(attempt).getJson())).\r\n                andReturn().getResponse();\r\n\r\n        // then\r\n        assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\r\n        assertThat(response.getContentAsString()).isEqualTo(\r\n                jsonResponse.write(new ResultResponse(correct)).getJson());\r\n    }\r\n}\r\n\r\n```","title":"When is a @JsonCreator method required for parsing?","body":"<p>When I try to parse the following object:</p>\n<pre><code>@Data\npublic final class User implements Serializable {\n    @JsonProperty(&quot;alias&quot;)\n    private final String alias;\n}\n</code></pre>\n<p>I get the error</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `microservices.book.multiplication.domain.User` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 10]\n</code></pre>\n<p>And I solved this by adding a creator to the User class like this:</p>\n<pre><code>@Data\npublic final class User implements Serializable {\n    @JsonProperty(&quot;alias&quot;)\n    private final String alias;\n\n\n    @JsonCreator\n    public User(@JsonProperty(&quot;alias&quot;) String alias){\n        this.alias = alias;\n    }\n}\n\n</code></pre>\n<p>This works fine.</p>\n<p>So now I go and parse the following object:</p>\n<pre><code>@Data\npublic final class Multiplication implements Serializable {\n    @JsonProperty(&quot;factorA&quot;)\n    private final Integer factorA;\n    @JsonProperty(&quot;factorB&quot;)\n    private final Integer factorB;\n}\n</code></pre>\n<p>and I don't get an error... why? why it doesn't require me to use a constructor here?</p>\n<p>Here's the class where the parsing takes place</p>\n<pre><code>package microservices.book.multiplication.controller;\n\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport microservices.book.multiplication.domain.Multiplication;\nimport microservices.book.multiplication.domain.MultiplicationResultAttempt;\nimport microservices.book.multiplication.controller.MultiplicationResultAttemptController.ResultResponse;\nimport microservices.book.multiplication.domain.User;\nimport microservices.book.multiplication.service.MultiplicationService;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.json.JacksonTester;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\n\n\n\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.BDDMockito.given;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@RunWith(SpringRunner.class)\n@WebMvcTest(MultiplicationResultAttemptController.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class MultiplicationResultAttemptControllerTest {\n\n    @MockBean\n    MultiplicationService multiplicationService;\n\n    @Autowired\n    private MockMvc mvc;\n\n    private JacksonTester&lt;MultiplicationResultAttempt&gt; jsonResult;\n    private JacksonTester&lt;ResultResponse&gt; jsonResponse;\n\n    @BeforeAll\n    void initAll(){\n        JacksonTester.initFields(this, new ObjectMapper());\n    }\n\n    @Test\n    public void postResultReturnCorrect() throws Exception{\n        genericParameterizedTest(true);\n    }\n\n    @Test\n    public void postResultReturnNotCorrect() throws Exception{\n        genericParameterizedTest(true);\n    }\n\n    void genericParameterizedTest(final Boolean correct) throws Exception{\n        given(multiplicationService.checkAttempt(any(MultiplicationResultAttempt.class))).willReturn(correct);\n        User user = new User(&quot;Smith&quot;);\n        Multiplication multiplication = new Multiplication(50,70);\n        MultiplicationResultAttempt attempt = new MultiplicationResultAttempt(user, multiplication, 3500);\n\n        // when\n        MockHttpServletResponse response = mvc.perform(\n                post(&quot;/results&quot;).contentType(MediaType.APPLICATION_JSON).\n                        content(jsonResult.write(attempt).getJson())).\n                andReturn().getResponse();\n\n        // then\n        assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\n        assertThat(response.getContentAsString()).isEqualTo(\n                jsonResponse.write(new ResultResponse(correct)).getJson());\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","amazon-s3","junit"],"comments":[{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1666193582,"post_id":74127371,"comment_id":130879200,"body_markdown":"You&#39;ll get more information if you add the causing Exception to the RuntimeException: `throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;, e);`","body":"You&#39;ll get more information if you add the causing Exception to the RuntimeException: <code>throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;, e);</code>"},{"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"score":0,"creation_date":1666193783,"post_id":74127371,"comment_id":130879282,"body_markdown":"We need to see what exception is thrown when that line is called.","body":"We need to see what exception is thrown when that line is called."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666194067,"post_id":74127371,"comment_id":130879397,"body_markdown":"@user1717259 I also defined `MockMultipartFile uploadFile = new MockMultipartFile(&quot;json&quot;,\n                &quot;&quot;,\n                &quot;application/json&quot;,\n                &quot;{\\&quot;image\\&quot;: \\&quot;C:\\\\Users\\\\MyUsername\\\\Pictures\\\\Sample Pictures\\\\Penguins.jpg\\&quot;}&quot;.getBytes()\n        );` But it didn&#39;t work.","body":"@user1717259 I also defined <code>MockMultipartFile uploadFile = new MockMultipartFile(&quot;json&quot;,                 &quot;&quot;,                 &quot;application&#47;json&quot;,                 &quot;{\\&quot;image\\&quot;: \\&quot;C:\\\\Users\\\\MyUsername\\\\Pictures\\\\Sample Pictures\\\\Penguins.jpg\\&quot;}&quot;.getBytes()         );</code> But it didn&#39;t work."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666198088,"post_id":74127371,"comment_id":130880794,"body_markdown":"@user1717259 How can I mock `service.saveImage(bookId, uploadImg)`","body":"@user1717259 How can I mock <code>service.saveImage(bookId, uploadImg)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666997554,"creation_date":1666997554,"answer_id":74241604,"question_id":74127371,"body_markdown":"Here is the solution shown below.\r\n\r\n    @Test\r\n        void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\r\n    \r\n            // given - precondition or setup\r\n            String bookId = &quot;1&quot;;\r\n            String imagePath = &quot;amazon-imagepath&quot;;\r\n            String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\r\n    \r\n            Long bookIdValue = 1L;\r\n    \r\n            String fileName = &quot;sample.png&quot;;\r\n            MockMultipartFile uploadFile =\r\n                    new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl);\r\n            doNothing().when(bookSaveService).saveImage(bookIdValue,baseUrl);\r\n    \r\n            // then - verify the output\r\n            mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\r\n                            .file(uploadFile)\r\n                            .param(&quot;bookId&quot;, bookId))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;$&quot;).value(baseUrl))\r\n                    .andExpect(content().string(baseUrl));\r\n    \r\n        }","title":"How to write JUnit Test for uploading Image in Amazon S3 in Spring Boot","body":"<p>Here is the solution shown below.</p>\n<pre><code>@Test\n    void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\n\n        // given - precondition or setup\n        String bookId = &quot;1&quot;;\n        String imagePath = &quot;amazon-imagepath&quot;;\n        String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\n\n        Long bookIdValue = 1L;\n\n        String fileName = &quot;sample.png&quot;;\n        MockMultipartFile uploadFile =\n                new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\n\n        // when -  action or the behaviour that we are going test\n        when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl);\n        doNothing().when(bookSaveService).saveImage(bookIdValue,baseUrl);\n\n        // then - verify the output\n        mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\n                        .file(uploadFile)\n                        .param(&quot;bookId&quot;, bookId))\n                .andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$&quot;).value(baseUrl))\n                .andExpect(content().string(baseUrl));\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74241604,"answer_count":1,"score":0,"last_activity_date":1666997554,"creation_date":1666190605,"question_id":74127371,"body_markdown":"I have a problem about writing a test to upload Image in Amazon s3 in Spring Boot.\r\n\r\nI tried to write its test method but I got an error shown below.\r\n\r\nHow can I fix it?\r\n\r\nHere is the method of Rest controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/bookImage&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ImageRestController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; uploadImage(@RequestParam(&quot;bookId&quot;) Long bookId, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        final String uploadImg = imageStoreService.uploadImg(convert(file), bookId);\r\n        service.saveImage(bookId, uploadImg);\r\n        return ResponseEntity.ok(uploadImg);\r\n    }\r\n    \r\n    private File convert(final MultipartFile multipartFile) {\r\n       // convert multipartFile to File\r\n       File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n       try (FileOutputStream fos = new FileOutputStream(file)) {\r\n           fos.write(multipartFile.getBytes());\r\n           return file;\r\n       } catch (IOException e) {\r\n          throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\r\n       }\r\n    }\r\n\r\n\r\nHere is the method of imageService.\r\n\r\n    public String uploadImg(File file, Long bookId) {\r\n       s3amazon.putObject(BUCKET_NAME, bookId.toString(), file);\r\n       return baseUrl + bookId;\r\n    }\r\n\r\n\r\nHere is the test method shown below.\r\n\r\n    @Test\r\n        void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\r\n    \r\n            // given - precondition or setup\r\n            String bookId = &quot;1&quot;;\r\n            String imagePath = &quot;amazon-imagepath&quot;;\r\n            String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\r\n    \r\n            Long bookIdValue = 1L;\r\n    \r\n            MockMultipartFile uploadFile = new MockMultipartFile(&quot;file&quot;, new byte[1]);\r\n    \r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl); -&gt; HERE IS THE ERROR\r\n    \r\n            // then - verify the output\r\n            mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\r\n                            .file(uploadFile)\r\n                            .param(&quot;bookId&quot;, bookId))\r\n                    .andExpect((ResultMatcher) content().string(baseUrl))\r\n                    .andExpect(status().isOk());\r\n    \r\n        }\r\n    \r\n        private File convert(final MultipartFile multipartFile) {\r\n            // convert multipartFile to File\r\n            File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n            try (FileOutputStream fos = new FileOutputStream(file)) {\r\n                fos.write(multipartFile.getBytes());\r\n                return file;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\r\n            }\r\n        }\r\n\r\nHere is the error : `Failed to convert multipartFile to File (java.lang.RuntimeException: Failed to convert multipartFile to Filejava.io.FileNotFoundException:  )`\r\n\r\nHow can I fix it?","title":"How to write JUnit Test for uploading Image in Amazon S3 in Spring Boot","body":"<p>I have a problem about writing a test to upload Image in Amazon s3 in Spring Boot.</p>\n<p>I tried to write its test method but I got an error shown below.</p>\n<p>How can I fix it?</p>\n<p>Here is the method of Rest controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/bookImage&quot;)\n@RequiredArgsConstructor\npublic class ImageRestController {\n\n@PostMapping\npublic ResponseEntity&lt;String&gt; uploadImage(@RequestParam(&quot;bookId&quot;) Long bookId, @RequestParam(&quot;file&quot;) MultipartFile file) {\n    final String uploadImg = imageStoreService.uploadImg(convert(file), bookId);\n    service.saveImage(bookId, uploadImg);\n    return ResponseEntity.ok(uploadImg);\n}\n\nprivate File convert(final MultipartFile multipartFile) {\n   // convert multipartFile to File\n   File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n   try (FileOutputStream fos = new FileOutputStream(file)) {\n       fos.write(multipartFile.getBytes());\n       return file;\n   } catch (IOException e) {\n      throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\n   }\n}\n</code></pre>\n<p>Here is the method of imageService.</p>\n<pre><code>public String uploadImg(File file, Long bookId) {\n   s3amazon.putObject(BUCKET_NAME, bookId.toString(), file);\n   return baseUrl + bookId;\n}\n</code></pre>\n<p>Here is the test method shown below.</p>\n<pre><code>@Test\n    void itShouldGetImagePath_WhenValidBookIdAndFile() throws Exception{\n\n        // given - precondition or setup\n        String bookId = &quot;1&quot;;\n        String imagePath = &quot;amazon-imagepath&quot;;\n        String baseUrl = String.format(imagePath + &quot;/%s&quot;, bookId);\n\n        Long bookIdValue = 1L;\n\n        MockMultipartFile uploadFile = new MockMultipartFile(&quot;file&quot;, new byte[1]);\n\n\n        // when -  action or the behaviour that we are going test\n        when(imageStoreService.uploadImg(convert(uploadFile), bookIdValue)).thenReturn(baseUrl); -&gt; HERE IS THE ERROR\n\n        // then - verify the output\n        mvc.perform(MockMvcRequestBuilders.multipart(&quot;/api/v1/bookImage&quot;)\n                        .file(uploadFile)\n                        .param(&quot;bookId&quot;, bookId))\n                .andExpect((ResultMatcher) content().string(baseUrl))\n                .andExpect(status().isOk());\n\n    }\n\n    private File convert(final MultipartFile multipartFile) {\n        // convert multipartFile to File\n        File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(multipartFile.getBytes());\n            return file;\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Failed to convert multipartFile to File&quot;);\n        }\n    }\n</code></pre>\n<p>Here is the error : <code>Failed to convert multipartFile to File (java.lang.RuntimeException: Failed to convert multipartFile to Filejava.io.FileNotFoundException:  )</code></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666996985,"post_id":74241531,"comment_id":131074640,"body_markdown":"When you call the one that takes no arguments, that one calls the one that takes 2 arguments, via `this(0, 0)`. So `new BankAccount()` ends up incrementing the count twice. Remove `numberOfAccounts++;` from the first constructor, then it will work how you expect","body":"When you call the one that takes no arguments, that one calls the one that takes 2 arguments, via <code>this(0, 0)</code>. So <code>new BankAccount()</code> ends up incrementing the count twice. Remove <code>numberOfAccounts++;</code> from the first constructor, then it will work how you expect"},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1666997653,"post_id":74241531,"comment_id":131074758,"body_markdown":"@Michael Now I understand the problem. Thanks. It worked as expected.","body":"@Michael Now I understand the problem. Thanks. It worked as expected."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666997020,"creation_date":1666997020,"answer_id":74241559,"question_id":74241531,"body_markdown":"This is your problem:\r\n\r\n    public BankAccount() {\r\n        this(0, 0);\r\n        numberOfAccounts++; // &lt;&lt;&lt;&lt;&lt;\r\n    }\r\n\r\nThe explicit call to the other constructor `BankAccount(double, double)` increments `numberOfAccounts`.  Then you increment it again.\r\n\r\nDelete the line marked &#39;&lt;&lt;&lt;&lt;&#39;.\r\n\r\nIn answer to the question in the title:\r\n\r\n&gt; How many times is a constructor called when it&#39;s overloaded?\r\n\r\nThere is an explicit call to a constructor in your main program - so &#39;once&#39;.  But you then wrote code in that constructor to call another constructor.  That is entirely under your control.\r\n","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p>This is your problem:</p>\n<pre><code>public BankAccount() {\n    this(0, 0);\n    numberOfAccounts++; // &lt;&lt;&lt;&lt;&lt;\n}\n</code></pre>\n<p>The explicit call to the other constructor <code>BankAccount(double, double)</code> increments <code>numberOfAccounts</code>.  Then you increment it again.</p>\n<p>Delete the line marked '&lt;&lt;&lt;&lt;'.</p>\n<p>In answer to the question in the title:</p>\n<blockquote>\n<p>How many times is a constructor called when it's overloaded?</p>\n</blockquote>\n<p>There is an explicit call to a constructor in your main program - so 'once'.  But you then wrote code in that constructor to call another constructor.  That is entirely under your control.</p>\n"},{"tags":[],"owner":{"account_id":19006905,"reputation":64,"user_id":18322491,"display_name":"MatErW3len"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666997178,"creation_date":1666997178,"answer_id":74241573,"question_id":74241531,"body_markdown":"The ```this()``` refers to a constructor of the class itself. You can use ```this()``` to call the constructor from within the class. In your example, your constructor of signature ```BankAccount()``` can be referred from within the class as ```this()``` and ```BankAccount(double, double)``` from ```this(double, double)``` signatures. When you instantiate a BankAccount object with ```BankAccount()``` it calls the ```BankAccount(double, double)``` which increments numberOfAccounts. Then your caller ```BankAccount()``` also increments numberOfAccounts. To fix this, simply remove ```this(0,0)``` from the first constructor. You do not need to initialize the members to 0 because Java does that for you","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p>The <code>this()</code> refers to a constructor of the class itself. You can use <code>this()</code> to call the constructor from within the class. In your example, your constructor of signature <code>BankAccount()</code> can be referred from within the class as <code>this()</code> and <code>BankAccount(double, double)</code> from <code>this(double, double)</code> signatures. When you instantiate a BankAccount object with <code>BankAccount()</code> it calls the <code>BankAccount(double, double)</code> which increments numberOfAccounts. Then your caller <code>BankAccount()</code> also increments numberOfAccounts. To fix this, simply remove <code>this(0,0)</code> from the first constructor. You do not need to initialize the members to 0 because Java does that for you</p>\n"}],"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74241559,"answer_count":2,"score":-1,"last_activity_date":1666997178,"creation_date":1666996751,"question_id":74241531,"body_markdown":"`BankAccount.java`\r\n```\r\npublic class BankAccount {\r\n    private double checkingBalance;\r\n    private double savingBalance;\r\n    private static int numberOfAccounts;\r\n\r\n    public BankAccount() {\r\n        this(0, 0);\r\n        numberOfAccounts++;\r\n    }\r\n    public BankAccount(double checkingInitial, double savingInitial) {\r\n        this.checkingBalance = checkingInitial;\r\n        this.savingBalance = savingInitial;\r\n        numberOfAccounts++;\r\n    }\r\n\r\n    public static int getNumberOfAccounts() {\r\n        return numberOfAccounts;\r\n    }\r\n ```\r\n`Test.java`\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        BankAccount account1 = new BankAccount(50, 50);\r\n        BankAccount account2 = new BankAccount(100, 80);\r\n        BankAccount account3 = new BankAccount();\r\n\r\n        System.out.println(&quot;number of accounts is &quot; + BankAccount.getNumberOfAccounts());\r\n```\r\nI should get `number of accounts is 3` but I&#39;m getting 4. If I instantiate all accounts with the parametrized constuctor, I get 3. If I add `BankAccount account4 = new BankAccount();`, I get 6. Is the default constructor called twice?","title":"How many times is a constructor called when it&#39;s overloaded?","body":"<p><code>BankAccount.java</code></p>\n<pre><code>public class BankAccount {\n    private double checkingBalance;\n    private double savingBalance;\n    private static int numberOfAccounts;\n\n    public BankAccount() {\n        this(0, 0);\n        numberOfAccounts++;\n    }\n    public BankAccount(double checkingInitial, double savingInitial) {\n        this.checkingBalance = checkingInitial;\n        this.savingBalance = savingInitial;\n        numberOfAccounts++;\n    }\n\n    public static int getNumberOfAccounts() {\n        return numberOfAccounts;\n    }\n</code></pre>\n<p><code>Test.java</code></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        BankAccount account1 = new BankAccount(50, 50);\n        BankAccount account2 = new BankAccount(100, 80);\n        BankAccount account3 = new BankAccount();\n\n        System.out.println(&quot;number of accounts is &quot; + BankAccount.getNumberOfAccounts());\n</code></pre>\n<p>I should get <code>number of accounts is 3</code> but I'm getting 4. If I instantiate all accounts with the parametrized constuctor, I get 3. If I add <code>BankAccount account4 = new BankAccount();</code>, I get 6. Is the default constructor called twice?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23665009,"reputation":88,"user_id":17692595,"display_name":"Roggi"},"score":0,"creation_date":1666993945,"post_id":74240938,"comment_id":131074150,"body_markdown":"Have you tried to use `entityManager.getTransaction().beginTransaction()`?","body":"Have you tried to use <code>entityManager.getTransaction().beginTransaction()</code>?"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1666994399,"post_id":74240938,"comment_id":131074214,"body_markdown":"I did, but I didn&#39;t know where to put the rest of the code, for example the create query, it is giving me an error saying `void cannot be dereferenced: `  I&#39;m putting it like this: `entityManager.getTransaction().begin()\n                .createNativeQuery(query)\n                .setParameter(&quot;tableName&quot;, tableName)\n                .executeUpdate();`","body":"I did, but I didn&#39;t know where to put the rest of the code, for example the create query, it is giving me an error saying <code>void cannot be dereferenced: </code>  I&#39;m putting it like this: <code>entityManager.getTransaction().begin()                 .createNativeQuery(query)                 .setParameter(&quot;tableName&quot;, tableName)                 .executeUpdate();</code>"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666997995,"post_id":74240938,"comment_id":131074808,"body_markdown":"Also could you provide full stacktrace, please?","body":"Also could you provide full stacktrace, please?"},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":1,"creation_date":1666999734,"post_id":74240938,"comment_id":131075048,"body_markdown":"It is just starting the SpringBoot application and then verify a user from the database, and then, it prints the system out print I put on the method above and after that I get the error, after adding some lines: `Table name: t_cdr_1666971034226\n2022-10-28 18:24:39.164 ERROR 25188 --- [nio-8080-exec-4] c.s.t.c.f.CustomAuthorizationFilter      : Error logging in: Request processing failed; nested exception is java.lang.IllegalStateEx`","body":"It is just starting the SpringBoot application and then verify a user from the database, and then, it prints the system out print I put on the method above and after that I get the error, after adding some lines: <code>Table name: t_cdr_1666971034226 2022-10-28 18:24:39.164 ERROR 25188 --- [nio-8080-exec-4] c.s.t.c.f.CustomAuthorizationFilter      : Error logging in: Request processing failed; nested exception is java.lang.IllegalStateEx</code>"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1667041292,"post_id":74240938,"comment_id":131079747,"body_markdown":"I guess, that your architecture is not good. You should never drop/create a table in a normal workflow. Consider to delete all rows instead or use foreign keys with cascade delete.","body":"I guess, that your architecture is not good. You should never drop/create a table in a normal workflow. Consider to delete all rows instead or use foreign keys with cascade delete."},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1667074493,"post_id":74240938,"comment_id":131086305,"body_markdown":"what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created on the database that can be a lot of them. @akop","body":"what happens is that we need to delete some tables from the database as there is a process for downloading some .xls files that create a table every time the file is generated, what I&#39;m trying to do when I delete the row of a table is to also DROP the tables that have been created on the database that can be a lot of them. @akop"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1667114301,"post_id":74240938,"comment_id":131090910,"body_markdown":"It also doesn&#39;t  sounds right, that a download creates a table. This will not scale very well and has the potential to cause more problems, because databases are not designed to change their schema so often.","body":"It also doesn&#39;t  sounds right, that a download creates a table. This will not scale very well and has the potential to cause more problems, because databases are not designed to change their schema so often."},{"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"score":0,"creation_date":1667173313,"post_id":74240938,"comment_id":131101969,"body_markdown":"Oh I see, that&#39;s good to know! But in the case that you need to do it, how would you answer the question above?","body":"Oh I see, that&#39;s good to know! But in the case that you need to do it, how would you answer the question above?"}],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666995265,"creation_date":1666994269,"answer_id":74241296,"question_id":74240938,"body_markdown":"A native query literally means &quot;execute this SQL statement on the database&quot;, but you are trying to use JPL or something else with variable expansion.\r\n\r\nyour SQL string is invalid, try:\r\n\r\n    String query = &quot;DROP TABLE &quot; + tablename;\r\n    \r\n    entityManager.executeNativeQuery(query);","title":"How can I execute a native query to the database from any class in a Java SpringBoot project?","body":"<p>A native query literally means &quot;execute this SQL statement on the database&quot;, but you are trying to use JPL or something else with variable expansion.</p>\n<p>your SQL string is invalid, try:</p>\n<pre><code>String query = &quot;DROP TABLE &quot; + tablename;\n\nentityManager.executeNativeQuery(query);\n</code></pre>\n"}],"owner":{"account_id":26496663,"reputation":33,"user_id":20134306,"display_name":"Rosh343"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666995265,"creation_date":1666991312,"question_id":74240938,"body_markdown":"I&#39;m trying to drop a table when deleting a record in the database, but it is giving me the following error: \r\n\r\n    Error logging in: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n\r\nI have read couple of articles and even some questions in Stack overflow, this one [Question about the error][1]but none of the answers are working, the one I see that might help the most is adding the note `@Transactional` which I put over the method `executeDropTable()` but it is giving me the same error., this is my code:\r\n\r\n    package com.ssc.test.cb3.service;\r\n\r\n    import com.ssc.test.cb3.dto.ReportRequestDTO;\r\n    import com.ssc.test.cb3.dto.mapper.ReportRequestMapper;\r\n    import com.ssc.test.cb3.repository.ReportRequestRepository;\r\n    import java.util.List;\r\n    import org.springframework.stereotype.Service;\r\n    import com.ssc.test.cb3.model.ReportRequest;\r\n    import com.ssc.test.cb3.repository.ReportTableRepository;\r\n    import java.util.Map;\r\n    import javax.persistence.EntityManager;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n\r\n    /**\r\n     * Class to prepare the services to be dispatched to the database upon request.\r\n     *\r\n     * @author ssc\r\n     */\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class ReportRequestService {\r\n\r\n        private final ReportRequestRepository reportRequestRepository;\r\n        private final EntityManager entityManager;\r\n        private final ReportTableRepository reportTableRepository;\r\n        private static String SERVER_LOCATION = &quot;D:\\\\JavaProjectsNetBeans\\\\sscb3Test\\\\src\\\\main\\\\resources\\\\&quot;;\r\n\r\n        \r\n        /**\r\n         * Function to delete a report from the database\r\n         *\r\n         * @param id from the report request objet to identify what is the specific\r\n         * report\r\n         */\r\n        public void delete(int id) {\r\n\r\n            ReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\r\n            ReportTable reportTable = \r\n            String fileName = reportRequest.getFileName();\r\n            if (reportRequest == null || reportRequest.getStatus() == 1) {\r\n                log.error(&quot;It was not possible to delete the selected report as it hasn&#39;t been processed yet or it was not found&quot;);\r\n            } else {\r\n                reportRequestRepository.deleteById(id);\r\n                log.info(&quot;The report request {} was successfully deleted&quot;, id);\r\n                new File(SERVER_LOCATION + reportRequest.getFileName()).delete(); // Delete file\r\n                log.info(&quot;The file {} was successfully deleted from the server&quot;, fileName);\r\n                // DROP created tables with file name without extention\r\n                executeDropTable(fileName);\r\n                log.info(&quot;The table {} was successfully deleted from the data base&quot;, fileName);\r\n                \r\n\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Service to Drop report request tables created on the database when a\r\n         * report request is generated and serviced to be downloaded This method\r\n         * will be called when a user deletes in the fron-end a report request in\r\n         * finished status.\r\n         *\r\n         * @param tableName will be the name of the table that was created on the\r\n         * database\r\n         */\r\n        @Transactional\r\n        public void executeDropTable(String tableName) {\r\n            int substract = 4;\r\n            tableName = tableName.substring(0, tableName.length() - substract);\r\n            System.out.println(&quot;Table name: &quot; + tableName);\r\n\r\n            String query = &quot;DROP TABLE :tableName&quot;; // IF EXISTS\r\n            entityManager.createNativeQuery(query)\r\n                    .setParameter(&quot;tableName&quot;, tableName)\r\n                    .executeUpdate();\r\n        }\r\n\r\n    }\r\n\r\nCan anyone please help me to sort this out?\r\n\r\n  [1]: https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query","title":"How can I execute a native query to the database from any class in a Java SpringBoot project?","body":"<p>I'm trying to drop a table when deleting a record in the database, but it is giving me the following error:</p>\n<pre><code>Error logging in: Request processing failed; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query\n</code></pre>\n<p>I have read couple of articles and even some questions in Stack overflow, this one <a href=\"https://stackoverflow.com/questions/25821579/transactionrequiredexception-executing-an-update-delete-query\">Question about the error</a>but none of the answers are working, the one I see that might help the most is adding the note <code>@Transactional</code> which I put over the method <code>executeDropTable()</code> but it is giving me the same error., this is my code:</p>\n<pre><code>package com.ssc.test.cb3.service;\n\nimport com.ssc.test.cb3.dto.ReportRequestDTO;\nimport com.ssc.test.cb3.dto.mapper.ReportRequestMapper;\nimport com.ssc.test.cb3.repository.ReportRequestRepository;\nimport java.util.List;\nimport org.springframework.stereotype.Service;\nimport com.ssc.test.cb3.model.ReportRequest;\nimport com.ssc.test.cb3.repository.ReportTableRepository;\nimport java.util.Map;\nimport javax.persistence.EntityManager;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.transaction.annotation.Transactional;\n\n\n/**\n * Class to prepare the services to be dispatched to the database upon request.\n *\n * @author ssc\n */\n@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class ReportRequestService {\n\n    private final ReportRequestRepository reportRequestRepository;\n    private final EntityManager entityManager;\n    private final ReportTableRepository reportTableRepository;\n    private static String SERVER_LOCATION = &quot;D:\\\\JavaProjectsNetBeans\\\\sscb3Test\\\\src\\\\main\\\\resources\\\\&quot;;\n\n    \n    /**\n     * Function to delete a report from the database\n     *\n     * @param id from the report request objet to identify what is the specific\n     * report\n     */\n    public void delete(int id) {\n\n        ReportRequest reportRequest = reportRequestRepository.findById(id).orElse(null);\n        ReportTable reportTable = \n        String fileName = reportRequest.getFileName();\n        if (reportRequest == null || reportRequest.getStatus() == 1) {\n            log.error(&quot;It was not possible to delete the selected report as it hasn't been processed yet or it was not found&quot;);\n        } else {\n            reportRequestRepository.deleteById(id);\n            log.info(&quot;The report request {} was successfully deleted&quot;, id);\n            new File(SERVER_LOCATION + reportRequest.getFileName()).delete(); // Delete file\n            log.info(&quot;The file {} was successfully deleted from the server&quot;, fileName);\n            // DROP created tables with file name without extention\n            executeDropTable(fileName);\n            log.info(&quot;The table {} was successfully deleted from the data base&quot;, fileName);\n            \n\n        }\n    }\n\n    /**\n     * Service to Drop report request tables created on the database when a\n     * report request is generated and serviced to be downloaded This method\n     * will be called when a user deletes in the fron-end a report request in\n     * finished status.\n     *\n     * @param tableName will be the name of the table that was created on the\n     * database\n     */\n    @Transactional\n    public void executeDropTable(String tableName) {\n        int substract = 4;\n        tableName = tableName.substring(0, tableName.length() - substract);\n        System.out.println(&quot;Table name: &quot; + tableName);\n\n        String query = &quot;DROP TABLE :tableName&quot;; // IF EXISTS\n        entityManager.createNativeQuery(query)\n                .setParameter(&quot;tableName&quot;, tableName)\n                .executeUpdate();\n    }\n\n}\n</code></pre>\n<p>Can anyone please help me to sort this out?</p>\n"},{"tags":["java","android","image","location"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666890754,"creation_date":1666890754,"answer_id":74225862,"question_id":74225718,"body_markdown":"EXIF location is an optional interface-  most images won&#39;t have one.  In fact many (most?) camera apps have stopped using it by default to protect user privacy.  You can try it, but don&#39;t expect it to be there.\r\n\r\nYour location code-  lastLocation will return null unless location was already up and running (generally because another app was using it).  You&#39;d need to request location updates, rather than rely on lastLocation.  Please note that this gets the location of the phone *now* not the location when a photo was taken.  So this only works if you run it when you take the photo (the exif data gets the location where the photo was taken, if its there at all).","title":"Getting geographical location of captured image - Android java","body":"<p>EXIF location is an optional interface-  most images won't have one.  In fact many (most?) camera apps have stopped using it by default to protect user privacy.  You can try it, but don't expect it to be there.</p>\n<p>Your location code-  lastLocation will return null unless location was already up and running (generally because another app was using it).  You'd need to request location updates, rather than rely on lastLocation.  Please note that this gets the location of the phone <em>now</em> not the location when a photo was taken.  So this only works if you run it when you take the photo (the exif data gets the location where the photo was taken, if its there at all).</p>\n"}],"owner":{"account_id":19627285,"reputation":3,"user_id":14366355,"display_name":"Batflash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74225862,"answer_count":1,"score":0,"last_activity_date":1666994969,"creation_date":1666890036,"question_id":74225718,"body_markdown":"I&#39;m new to android developement and I&#39;m supposed to use Java as the programming language. I have an app where I&#39;m supposed to be able to capture images and the geographical location of the captured images and display these details. I am displaying the image in an imageView. I have a text file where I&#39;m storing image links as well as the captured images. So, I basically have image links and captured images that are stored in an arraylist then to a text file.\r\nPlease feel free to ask for anything that I may have missed out in the question.\r\n\r\n\r\nI tried using EXIFInterface method I found on a Stack Overflow response, I tried using Location provider but to no avail. Maybe where I&#39;m placing the code is incorrect, as I said, I&#39;m new to this. I tried watching YT videos and did some research online and I&#39;m more confused than ever at this point. Another approach I tried using was capturing the current location of the device to an invisible textView then calling it to where the image name is being stored but this did not work either.\r\n\r\nThe EXIF method I tried:\r\n`\r\n```\r\n        try {\r\n\r\n            ExifInterface exifInterface = new ExifInterface(direct); //Direct is the filepath\r\n            Log.d(&quot;Latitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LATITUDE));\r\n            Log.d(&quot;Longitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LONGITUDE));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n`\r\n\r\nLocation Provider method\r\n\r\n\r\n\r\n```\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate void showLocation() {\r\n\r\n    locationProvider.getLastLocation().addOnSuccessListener(this,\r\n            new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    if (location != null) {\r\n                        hiddenLoc.setText(&quot;Current location is: Lat:&quot; + location.getLatitude()\r\n                                + &quot;Lon: &quot; + location.getLongitude());\r\n                     \r\n                    }\r\n                }\r\n            });\r\n\r\n}\r\n```\r\n`\r\n","title":"Getting geographical location of captured image - Android java","body":"<p>I'm new to android developement and I'm supposed to use Java as the programming language. I have an app where I'm supposed to be able to capture images and the geographical location of the captured images and display these details. I am displaying the image in an imageView. I have a text file where I'm storing image links as well as the captured images. So, I basically have image links and captured images that are stored in an arraylist then to a text file.\nPlease feel free to ask for anything that I may have missed out in the question.</p>\n<p>I tried using EXIFInterface method I found on a Stack Overflow response, I tried using Location provider but to no avail. Maybe where I'm placing the code is incorrect, as I said, I'm new to this. I tried watching YT videos and did some research online and I'm more confused than ever at this point. Another approach I tried using was capturing the current location of the device to an invisible textView then calling it to where the image name is being stored but this did not work either.</p>\n<p>The EXIF method I tried:\n`</p>\n<pre><code>        try {\n\n            ExifInterface exifInterface = new ExifInterface(direct); //Direct is the filepath\n            Log.d(&quot;Latitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LATITUDE));\n            Log.d(&quot;Longitude&quot;, exifInterface.getAttribute(ExifInterface.TAG_GPS_LONGITUDE));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>`</p>\n<p>Location Provider method</p>\n<pre><code>@SuppressLint(&quot;MissingPermission&quot;)\nprivate void showLocation() {\n\n    locationProvider.getLastLocation().addOnSuccessListener(this,\n            new OnSuccessListener&lt;Location&gt;() {\n                @Override\n                public void onSuccess(Location location) {\n                    if (location != null) {\n                        hiddenLoc.setText(&quot;Current location is: Lat:&quot; + location.getLatitude()\n                                + &quot;Lon: &quot; + location.getLongitude());\n                     \n                    }\n                }\n            });\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1666996191,"post_id":74241290,"comment_id":131074513,"body_markdown":"You might also consider something like [Java – Display double in 2 decimal places](https://mkyong.com/java/java-display-double-in-2-decimal-points/) or any of the other numerous examples which are around.  The question is not unique nor is it uncommon.  Due diligence is an expectation - if you&#39;ve done research, show us what you&#39;ve learnt and reasons why it&#39;s not working for you - otherwise, we&#39;re wasting each others time","body":"You might also consider something like <a href=\"https://mkyong.com/java/java-display-double-in-2-decimal-points/\" rel=\"nofollow noreferrer\">Java – Display double in 2 decimal places</a> or any of the other numerous examples which are around.  The question is not unique nor is it uncommon.  Due diligence is an expectation - if you&#39;ve done research, show us what you&#39;ve learnt and reasons why it&#39;s not working for you - otherwise, we&#39;re wasting each others time"}],"answers":[{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666994765,"creation_date":1666994765,"answer_id":74241345,"question_id":74241290,"body_markdown":"The first example is a formatter that always produces two decimal places. The second one only produces as many decimal places (up to 2) as needed. Usage: `DF_TWOPLACES.format(average);`\r\n\r\n    final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.00&quot;, DecimalFormatSymbols.getInstance(Locale.US));\r\n    final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.##&quot;, DecimalFormatSymbols.getInstance(Locale.US));","title":"How can I display a float value to 2 decimal place in JAVA using JOptionpane?","body":"<p>The first example is a formatter that always produces two decimal places. The second one only produces as many decimal places (up to 2) as needed. Usage: <code>DF_TWOPLACES.format(average);</code></p>\n<pre><code>final private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.00&quot;, DecimalFormatSymbols.getInstance(Locale.US));\nfinal private static DecimalFormat DF_TWOPLACES = new DecimalFormat(&quot;0.##&quot;, DecimalFormatSymbols.getInstance(Locale.US));\n</code></pre>\n"}],"owner":{"account_id":21549017,"reputation":1,"user_id":15885425,"display_name":"THEMBA Mabuza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666996067,"answer_count":1,"score":0,"last_activity_date":1666994765,"creation_date":1666994222,"question_id":74241290,"body_markdown":"I was given a task to calculate the average mark of unknown number of tests in JAVA, I was able to solve the problem but not thoroughly because my output has more than 2 decimal point. May I please be helped to only show my output rounded off to two decimal places. (I am a first year students and I don&#39;t know much in JAVA). Here&#39;s a snippet of my code.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class number2 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int number_Of_Tests = 0;\r\n        int total_marks = 0;\r\n        int mark;\r\n        System.out.print(&quot;Enter the test mark: &quot;);\r\n        mark = scan.nextInt();\r\n        while (mark &gt;= 0) {\r\n            number_Of_Tests = number_Of_Tests + 1;\r\n            total_marks = total_marks + mark;\r\n            System.out.print(&quot;Enter the test mark: &quot;);\r\n            mark = scan.nextInt();\r\n        }\r\n        float average = total_marks / (float) number_Of_Tests;\r\n\r\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot;  + average, &quot;AVERAGE&quot;,1);\r\n        \r\n        scan.close();\r\n    }\r\n\r\n}\r\n\r\n```\r\nlet&#39;s say my input is: 25 , 26 and 28 then 0, my output should be 26.34 but instead I get 26.333334\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class number2 {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int number_Of_Tests = 0;\r\n        int total_marks = 0;\r\n        int mark;\r\n        System.out.print(&quot;Enter the test mark: &quot;);\r\n        mark = scan.nextInt();\r\n        while (mark &gt;= 0) {\r\n            number_Of_Tests = number_Of_Tests + 1;\r\n            total_marks = total_marks + mark;\r\n            System.out.print(&quot;Enter the test mark: &quot;);\r\n            mark = scan.nextInt();\r\n        }\r\n        float average = total_marks / (float) number_Of_Tests;\r\n\r\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot; +&quot;% .2f&quot; + average, &quot;AVERAGE&quot;,1);\r\n        \r\n        scan.close();\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How can I display a float value to 2 decimal place in JAVA using JOptionpane?","body":"<p>I was given a task to calculate the average mark of unknown number of tests in JAVA, I was able to solve the problem but not thoroughly because my output has more than 2 decimal point. May I please be helped to only show my output rounded off to two decimal places. (I am a first year students and I don't know much in JAVA). Here's a snippet of my code.</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class number2 {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int number_Of_Tests = 0;\n        int total_marks = 0;\n        int mark;\n        System.out.print(&quot;Enter the test mark: &quot;);\n        mark = scan.nextInt();\n        while (mark &gt;= 0) {\n            number_Of_Tests = number_Of_Tests + 1;\n            total_marks = total_marks + mark;\n            System.out.print(&quot;Enter the test mark: &quot;);\n            mark = scan.nextInt();\n        }\n        float average = total_marks / (float) number_Of_Tests;\n\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot;  + average, &quot;AVERAGE&quot;,1);\n        \n        scan.close();\n    }\n\n}\n\n</code></pre>\n<p>let's say my input is: 25 , 26 and 28 then 0, my output should be 26.34 but instead I get 26.333334</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class number2 {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int number_Of_Tests = 0;\n        int total_marks = 0;\n        int mark;\n        System.out.print(&quot;Enter the test mark: &quot;);\n        mark = scan.nextInt();\n        while (mark &gt;= 0) {\n            number_Of_Tests = number_Of_Tests + 1;\n            total_marks = total_marks + mark;\n            System.out.print(&quot;Enter the test mark: &quot;);\n            mark = scan.nextInt();\n        }\n        float average = total_marks / (float) number_Of_Tests;\n\n         JOptionPane.showMessageDialog(null, &quot;The average is: &quot; +&quot;% .2f&quot; + average, &quot;AVERAGE&quot;,1);\n        \n        scan.close();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","database","jpa","jparepository"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1666996941,"post_id":74241301,"comment_id":131074631,"body_markdown":"What do you mean by &quot;it goes to TokenEntity&quot;?","body":"What do you mean by &quot;it goes to TokenEntity&quot;?"},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1667016035,"post_id":74241301,"comment_id":131076531,"body_markdown":"your question is unclear. Where is the code that does what you explained? i.e. the query then saving. I only see the methods supposedly called, but not the caller.","body":"your question is unclear. Where is the code that does what you explained? i.e. the query then saving. I only see the methods supposedly called, but not the caller."}],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666994306,"creation_date":1666994306,"question_id":74241301,"body_markdown":"Im trying to do a query from TokenEntity and after a save on HistoricoTituloEntity but when I try to save the HistoricoTituloEntity it goes to TokenEntity.\r\n\r\n        public interface TokenJPARepositoryTest extends JpaRepository&lt;TokenEntity, Integer&gt;{\r\n    \t\r\n    \t@Query(&quot; select t FROM TokenEntity t  WHERE t.codBanco = ?1 &quot;)\r\n    \tTokenEntity obterToken(Integer codBanco);\r\n    \r\n    }\r\n        @Service\r\n    public class HistoricoTituloServiceImpl implements HistoricoService{\r\n    \t\r\n    \t@Autowired\r\n    \tHistoricoTituloRepository historicoTituloRepository;\r\n    \t\r\n    \tpublic Integer salvaHistoricoTitulo(HistoricoTituloEntity historicoTituloEntity) {\t\r\n    \t\thistoricoTituloRepository.save(historicoTituloEntity);\r\n    \t\treturn historicoTituloEntity.getIdHistTitulo();\r\n    \t}\r\n\r\nDoes anyone knows why this is happening ?\r\n","title":"JPARepository trying to save a Entity on another .save after a @Query","body":"<p>Im trying to do a query from TokenEntity and after a save on HistoricoTituloEntity but when I try to save the HistoricoTituloEntity it goes to TokenEntity.</p>\n<pre><code>    public interface TokenJPARepositoryTest extends JpaRepository&lt;TokenEntity, Integer&gt;{\n    \n    @Query(&quot; select t FROM TokenEntity t  WHERE t.codBanco = ?1 &quot;)\n    TokenEntity obterToken(Integer codBanco);\n\n}\n    @Service\npublic class HistoricoTituloServiceImpl implements HistoricoService{\n    \n    @Autowired\n    HistoricoTituloRepository historicoTituloRepository;\n    \n    public Integer salvaHistoricoTitulo(HistoricoTituloEntity historicoTituloEntity) {  \n        historicoTituloRepository.save(historicoTituloEntity);\n        return historicoTituloEntity.getIdHistTitulo();\n    }\n</code></pre>\n<p>Does anyone knows why this is happening ?</p>\n"},{"tags":["java","android","multithreading","runnable"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666995337,"post_id":74241271,"comment_id":131074364,"body_markdown":"Have the Bluetooth communications be managed by a singleton (e.g., one set up via Dagger/Hilt). That singleton can have background threads for timing as needed (e.g., `ScheduledExecutorService`, RxJava). Have that singleton expose a reactive API (e.g., RxJava) that your UI layer consumes (e.g., via a Jetpack `ViewModel`), so it can react to incoming messages as needed. That singleton can also expose an API for sending messages that the UI layer can invoke when needed.","body":"Have the Bluetooth communications be managed by a singleton (e.g., one set up via Dagger/Hilt). That singleton can have background threads for timing as needed (e.g., <code>ScheduledExecutorService</code>, RxJava). Have that singleton expose a reactive API (e.g., RxJava) that your UI layer consumes (e.g., via a Jetpack <code>ViewModel</code>), so it can react to incoming messages as needed. That singleton can also expose an API for sending messages that the UI layer can invoke when needed."},{"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"score":0,"creation_date":1667002521,"post_id":74241271,"comment_id":131075358,"body_markdown":"@CommonsWare thank you for the reply, but I’m new to Android coding. So I apologize for having to ask for more clarification. What is a Dagger/Hilt and Jetpak?","body":"@CommonsWare thank you for the reply, but I’m new to Android coding. So I apologize for having to ask for more clarification. What is a Dagger/Hilt and Jetpak?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667045524,"post_id":74241271,"comment_id":131080413,"body_markdown":"&quot;I’m new to Android coding&quot; -- what book did you read, or what course did you take, to learn Android app development? If you did neither of those things... you might consider trying that. If it helps, I have [several free books on Android app development](https://commonsware.com/catalog). I cover a number of Jetpack libraries, including `ViewModel`. I also cover dependency inversion frameworks, of which [Dagger/Hilt](https://developer.android.com/training/dependency-injection) is one, though I focus on a simpler Kotlin option called Koin.","body":"&quot;I’m new to Android coding&quot; -- what book did you read, or what course did you take, to learn Android app development? If you did neither of those things... you might consider trying that. If it helps, I have <a href=\"https://commonsware.com/catalog\" rel=\"nofollow noreferrer\">several free books on Android app development</a>. I cover a number of Jetpack libraries, including <code>ViewModel</code>. I also cover dependency inversion frameworks, of which <a href=\"https://developer.android.com/training/dependency-injection\" rel=\"nofollow noreferrer\">Dagger/Hilt</a> is one, though I focus on a simpler Kotlin option called Koin."},{"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"score":0,"creation_date":1667192313,"post_id":74241271,"comment_id":131104288,"body_markdown":"@CommonsWare\nBesides all the normal online examples and a Java book from a one of my undergrad classes I have taken one on-line course from www.udemy. The &quot;Android App Development Master Course with Java | Android&quot; course a great refresher of Java and a OK introduction to Android coding.","body":"@CommonsWare Besides all the normal online examples and a Java book from a one of my undergrad classes I have taken one on-line course from www.udemy. The &quot;Android App Development Master Course with Java | Android&quot; course a great refresher of Java and a OK introduction to Android coding."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667214804,"post_id":74241271,"comment_id":131109719,"body_markdown":"I cannot speak to the content of that Udemy course, but most of their marketing materials have not been updated in years, based on the terminology that they used. And, if they did not reference &quot;Jetpack&quot;, then the content itself has not been updated in years, either. For example, the &quot;Architecture Components&quot; were replaced by Jetpack in May 2018.","body":"I cannot speak to the content of that Udemy course, but most of their marketing materials have not been updated in years, based on the terminology that they used. And, if they did not reference &quot;Jetpack&quot;, then the content itself has not been updated in years, either. For example, the &quot;Architecture Components&quot; were replaced by Jetpack in May 2018."}],"owner":{"account_id":4470685,"reputation":21,"user_id":3993887,"display_name":"Gerald Eberhardt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666994065,"creation_date":1666994065,"question_id":74241271,"body_markdown":"I’m working on a small project that sends and receives data via Bluetooth between an Android Tablet and an Arduino board.\r\n\r\nMy application has two separate Activities (Configure and Operate) that needs to have access to the Bluetooth send and receive messages.\r\n\r\nCurrently I have a Message Handler with Runnable Delay Loop in the Operate Activity, but I’m running into issues with when trying to send and receive date from the Configure Activity.\r\n\r\nMy thought is to put the Message Handler with Runnable Delay Loop in a background thread and then send messages to that thread from the Activities (Configure and Operate). That thread send out the messages the two Activities and handle the response from the Arduino board.\r\n\r\nWhat is a good way to go about this? \r\n","title":"android timer loop in a thread to be accessible multiple activities","body":"<p>I’m working on a small project that sends and receives data via Bluetooth between an Android Tablet and an Arduino board.</p>\n<p>My application has two separate Activities (Configure and Operate) that needs to have access to the Bluetooth send and receive messages.</p>\n<p>Currently I have a Message Handler with Runnable Delay Loop in the Operate Activity, but I’m running into issues with when trying to send and receive date from the Configure Activity.</p>\n<p>My thought is to put the Message Handler with Runnable Delay Loop in a background thread and then send messages to that thread from the Activities (Configure and Operate). That thread send out the messages the two Activities and handle the response from the Arduino board.</p>\n<p>What is a good way to go about this?</p>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1666972724,"post_id":74237880,"comment_id":131068331,"body_markdown":"Square root of 2 and 3 is less than 2.","body":"Square root of 2 and 3 is less than 2."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666973640,"creation_date":1666972720,"answer_id":74237940,"question_id":74237880,"body_markdown":"You need to do a little rearranging. Move the second print statement outside the loop so all values are checked before determining primality.  And do a return, not a break so the second print is not executed in case `n` is a composite number.\r\n```\r\npublic class PrimeOrNot\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner sc  = new Scanner(System.in);\r\n        System.out.print(&quot;Enter any number:&quot;);\r\n        int n = sc.nextInt();\r\n\r\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\r\n            if(n%i==0){\r\n                System.out.println(n+&quot; is NOT prime&quot;);\r\n                return;\r\n            }\r\n        }\r\n        System.out.println(n+ &quot; IS prime&quot;);\r\n    }\r\n}\r\n```\r\nAnd here is a tip.  Check for divisibility by 2 first.  Then use the loop to check starting with 3 incrementing by 2 (for all odd divisors).  Or combine both tests in the same loop.\r\n```\r\nfor (int i = 2; i&lt;=Math.sqrt(n); i+=(i &gt;= 3) ? 2 : 1 ){...}\r\n```\r\n","title":"Following code for prime or not is not working for 2 and 3","body":"<p>You need to do a little rearranging. Move the second print statement outside the loop so all values are checked before determining primality.  And do a return, not a break so the second print is not executed in case <code>n</code> is a composite number.</p>\n<pre><code>public class PrimeOrNot\n{\n    public static void main(String[] args) {\n        Scanner sc  = new Scanner(System.in);\n        System.out.print(&quot;Enter any number:&quot;);\n        int n = sc.nextInt();\n\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\n            if(n%i==0){\n                System.out.println(n+&quot; is NOT prime&quot;);\n                return;\n            }\n        }\n        System.out.println(n+ &quot; IS prime&quot;);\n    }\n}\n</code></pre>\n<p>And here is a tip.  Check for divisibility by 2 first.  Then use the loop to check starting with 3 incrementing by 2 (for all odd divisors).  Or combine both tests in the same loop.</p>\n<pre><code>for (int i = 2; i&lt;=Math.sqrt(n); i+=(i &gt;= 3) ? 2 : 1 ){...}\n</code></pre>\n"}],"owner":{"account_id":26651416,"reputation":11,"user_id":20265655,"display_name":"xyz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666993855,"creation_date":1666972474,"question_id":74237880,"body_markdown":"1) The code for prime or not, is not working for 2 and 3. If in the same code instead of printing prime or not right there, we assign a boolean and later use the boolean to print prime or not, it works. I want to know why.\r\n\r\n\r\n```\r\npackage Loops;\r\n\r\nimport java.util.*;\r\n\r\npublic class PrimeOrNot\r\n{\r\n    public static void main(String[] args) {\r\n        Scanner sc  = new Scanner(System.in);\r\n        System.out.print(&quot;Enter any number:&quot;);\r\n        int n = sc.nextInt();\r\n\r\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\r\n            if(n%i==0){\r\n                System.out.println(n+&quot; is NOT prime&quot;);\r\n                break;\r\n            }\r\n            System.out.println(n+ &quot; IS prime&quot;);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Following code for prime or not is not working for 2 and 3","body":"<ol>\n<li>The code for prime or not, is not working for 2 and 3. If in the same code instead of printing prime or not right there, we assign a boolean and later use the boolean to print prime or not, it works. I want to know why.</li>\n</ol>\n<pre><code>package Loops;\n\nimport java.util.*;\n\npublic class PrimeOrNot\n{\n    public static void main(String[] args) {\n        Scanner sc  = new Scanner(System.in);\n        System.out.print(&quot;Enter any number:&quot;);\n        int n = sc.nextInt();\n\n        for (int i = 2;i&lt;=Math.sqrt(n);i++){\n            if(n%i==0){\n                System.out.println(n+&quot; is NOT prime&quot;);\n                break;\n            }\n            System.out.println(n+ &quot; IS prime&quot;);\n            break;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["python","java","postgresql","pgadmin-4"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1666987777,"post_id":74240284,"comment_id":131072778,"body_markdown":"Stop using `SimpleDateFormat`. Switch to the new `java.time` API","body":"Stop using <code>SimpleDateFormat</code>. Switch to the new <code>java.time</code> API"},{"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"score":0,"creation_date":1667036835,"post_id":74240284,"comment_id":131079052,"body_markdown":"Thanks. I removed java part of the Q, not to confuse others. SimpleDateFormat doesn&#39;t take +99 was my question back then.","body":"Thanks. I removed java part of the Q, not to confuse others. SimpleDateFormat doesn&#39;t take +99 was my question back then."}],"answers":[{"tags":[],"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666993710,"creation_date":1666993710,"answer_id":74241244,"question_id":74240284,"body_markdown":"The part after &quot;+&quot; is not milliseconds though, is it. That is how you represent the tine-zone. Which can&#39;t be an offset of 45 hours. \r\n","title":"How to fix postgres error; time zone displacement out of range?","body":"<p>The part after &quot;+&quot; is not milliseconds though, is it. That is how you represent the tine-zone. Which can't be an offset of 45 hours.</p>\n"}],"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74241244,"answer_count":1,"score":3,"last_activity_date":1666993710,"creation_date":1666986886,"question_id":74240284,"body_markdown":"CurrentTimeStamp (timestamp with time zone not null) column&#39;s Date-Time Records in BOOKS postgres db table are stored in the format:\r\n&gt; 2022-10-29 00:00:00+00\r\n\r\nThere&#39;s a java API which fetches records from this table, using the CurrentTimeStamp column,\r\nPrior to that, there&#39;s a python API which provides a timestamp in the above format to the java API, and for the time field, it internally fetches the current time:\r\n\r\n```\r\ndatetime.utcnow().strftime(&#39;%Y-%m-%d %H:%M:%S+%f&#39;)[0:22]\r\n```\r\n\r\n\r\nQuerying the table, using pgAdmin:\r\n\r\n```\r\nSELECT * FROM BOOKS WHERE CurrentTimeStamp BETWEEN &#39;2022-10-29 10:00:00+00&#39; and &#39;2022-10-29 11:00:00+45&#39;;\r\n```\r\n\r\n&gt; ERROR: time zone displacement out of range: &quot;2022-10-29 00:00:00+45&quot;\r\n&gt; SQL state: 22009\r\n\r\n\r\nThe issue is in the millisecond part of the timestamp, that is, after the plus(+) symbol. Keeping that as 00, works perfectly. It also works till the value is 15.\r\n\r\nThis is part of very busy banking microservices, which are going to be hit every hour, to fetch half a million records. So, this millisecond part is important, and cannot be hardcoded to 00.\r\n\r\n**Is there a way out?**\r\n\r\n\r\n","title":"How to fix postgres error; time zone displacement out of range?","body":"<p>CurrentTimeStamp (timestamp with time zone not null) column's Date-Time Records in BOOKS postgres db table are stored in the format:</p>\n<blockquote>\n<p>2022-10-29 00:00:00+00</p>\n</blockquote>\n<p>There's a java API which fetches records from this table, using the CurrentTimeStamp column,\nPrior to that, there's a python API which provides a timestamp in the above format to the java API, and for the time field, it internally fetches the current time:</p>\n<pre><code>datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S+%f')[0:22]\n</code></pre>\n<p>Querying the table, using pgAdmin:</p>\n<pre><code>SELECT * FROM BOOKS WHERE CurrentTimeStamp BETWEEN '2022-10-29 10:00:00+00' and '2022-10-29 11:00:00+45';\n</code></pre>\n<blockquote>\n<p>ERROR: time zone displacement out of range: &quot;2022-10-29 00:00:00+45&quot;\nSQL state: 22009</p>\n</blockquote>\n<p>The issue is in the millisecond part of the timestamp, that is, after the plus(+) symbol. Keeping that as 00, works perfectly. It also works till the value is 15.</p>\n<p>This is part of very busy banking microservices, which are going to be hit every hour, to fetch half a million records. So, this millisecond part is important, and cannot be hardcoded to 00.</p>\n<p><strong>Is there a way out?</strong></p>\n"},{"tags":["java","gradle","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":3709715,"reputation":1145,"user_id":3412545,"accept_rate":100,"display_name":"jojo"},"score":1,"creation_date":1669862662,"post_id":74241213,"comment_id":131741654,"body_markdown":"You are most likely using the https://github.com/SonarOpenCommunity/sonar-cxx plugin. You should check their forums or raise an issue with the maintainers of that plugin.\n\n```text\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\n```\n\nSonar has its own forums where you probably can get better answer rate: https://community.sonarsource.com/","body":"You are most likely using the <a href=\"https://github.com/SonarOpenCommunity/sonar-cxx\" rel=\"nofollow noreferrer\">github.com/SonarOpenCommunity/sonar-cxx</a> plugin. You should check their forums or raise an issue with the maintainers of that plugin.  <code>text     at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxS&zwnj;&#8203;quidSensor.java:234)     at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSens&zwnj;&#8203;or.java:219)     at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidS&zwnj;&#8203;ensor.java:159) </code>  Sonar has its own forums where you probably can get better answer rate: <a href=\"https://community.sonarsource.com/\" rel=\"nofollow noreferrer\">community.sonarsource.com</a>"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666993500,"creation_date":1666993500,"question_id":74241213,"body_markdown":"I have a `Java` `8.x` project that uses `Gradle` `7.5`. The `SonarQube` plugin version is `3.5.0.2730`. The `SonarQube` server is running `Community Edition 8.9.7 (build 52159)` version.\r\n\r\nProblem I&#39;m facing is that the scan always fails with `Metric &#39;files&#39; should not be computed by a Sensor`:\r\n\r\n```shell\r\n&gt; Task :sonar\r\nMetric &#39;comment_lines_data&#39; is deprecated. Provided value is ignored.\r\n\r\n&gt; Task :sonar FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:sonar&#39;.\r\n&gt; Metric &#39;files&#39; should not be computed by a Sensor\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:sonar&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.UnsupportedOperationException: Metric &#39;files&#39; should not be computed by a Sensor\r\n\tat org.sonar.scanner.sensor.DefaultSensorStorage.saveMeasure(DefaultSensorStorage.java:173)\r\n\tat org.sonar.scanner.sensor.DefaultSensorStorage.store(DefaultSensorStorage.java:137)\r\n\tat org.sonar.api.batch.sensor.measure.internal.DefaultMeasure.doSave(DefaultMeasure.java:96)\r\n\tat org.sonar.api.batch.sensor.internal.DefaultStorable.save(DefaultStorable.java:45)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\r\n\tat org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\r\n\tat org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:48)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:85)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1(ModuleSensorsExecutor.java:59)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\r\n\tat org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:59)\r\n\tat org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:392)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:388)\r\n\tat org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:357)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:150)\r\n\tat org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\r\n\tat org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\r\n\tat org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\tat org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\tat org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\tat com.sun.proxy.$Proxy117.execute(Unknown Source)\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\tat org.sonarqube.gradle.SonarTask.run(SonarTask.java:128)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 7m 21s\r\n8 actionable tasks: 8 executed\r\n\r\nThe build scan was not published due to a configuration problem.\r\n\r\nThe Gradle Terms of Service have not been agreed to.\r\n\r\nFor more information, please see https://gradle.com/help/plugin-terms-of-service.\r\n\r\nAlternatively, if you are using Gradle Enterprise, specify the server location.\r\nFor more information, please see https://gradle.com/help/plugin-enterprise-config\r\n```\r\n\r\nThe `Gradle` build script is configured like:\r\n\r\n```groovy\r\nsonarqube {\r\n  properties {\r\n    property &quot;sonar.dependencyCheck.htmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.html&quot;\r\n    property &quot;sonar.dependencyCheck.xmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.xml&quot;\r\n    property &quot;sonar.projectDescription&quot;, &quot;${project.description}&quot;\r\n    property &quot;sonar.projectKey&quot;, &quot;global:group:${project.name}&quot;\r\n    property &quot;sonar.projectName&quot;, &quot;global::${project.name}&quot;\r\n  }\r\n}\r\n```\r\n\r\n...and the scan is triggered via: `./gradlew test jacocoTestReport dependencyCheckAnalyze sonar -Dsonar.host.url=https://sonar.host.tld/sonarqube -Dsonar.login=the_token -Dsonar.verbose=true --stacktrace`\r\n\r\nI&#39;ve researched this and the resolution always boils down to upgrade to the newest version, but this time I&#39;m on the latest on everything. So I wonder if there is a way to overcome this issue by configuring something in the `Gradle` configuration, or if there is a way to skip this `files` *core metric* or something around those lines.","title":"SonarQube scan fails Gradle project with Metric &#39;files&#39; should not be computed by a Sensor","body":"<p>I have a <code>Java</code> <code>8.x</code> project that uses <code>Gradle</code> <code>7.5</code>. The <code>SonarQube</code> plugin version is <code>3.5.0.2730</code>. The <code>SonarQube</code> server is running <code>Community Edition 8.9.7 (build 52159)</code> version.</p>\n<p>Problem I'm facing is that the scan always fails with <code>Metric 'files' should not be computed by a Sensor</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt; Task :sonar\nMetric 'comment_lines_data' is deprecated. Provided value is ignored.\n\n&gt; Task :sonar FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':sonar'.\n&gt; Metric 'files' should not be computed by a Sensor\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':sonar'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.UnsupportedOperationException: Metric 'files' should not be computed by a Sensor\n    at org.sonar.scanner.sensor.DefaultSensorStorage.saveMeasure(DefaultSensorStorage.java:173)\n    at org.sonar.scanner.sensor.DefaultSensorStorage.store(DefaultSensorStorage.java:137)\n    at org.sonar.api.batch.sensor.measure.internal.DefaultMeasure.doSave(DefaultMeasure.java:96)\n    at org.sonar.api.batch.sensor.internal.DefaultStorable.save(DefaultStorable.java:45)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.saveMeasures(CxxSquidSensor.java:234)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.save(CxxSquidSensor.java:219)\n    at org.sonar.cxx.sensors.squid.CxxSquidSensor.execute(CxxSquidSensor.java:159)\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse(AbstractSensorWrapper.java:48)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:85)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1(ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy(ModuleSensorsExecutor.java:77)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute(ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart(ModuleScanContainer.java:82)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.scanner.scan.ProjectScanContainer.scan(ProjectScanContainer.java:392)\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively(ProjectScanContainer.java:388)\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart(ProjectScanContainer.java:357)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart(GlobalContainer.java:150)\n    at org.sonar.core.platform.ComponentContainer.startComponents(ComponentContainer.java:137)\n    at org.sonar.core.platform.ComponentContainer.execute(ComponentContainer.java:123)\n    at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n    at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n    at com.sun.proxy.$Proxy117.execute(Unknown Source)\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n    at org.sonarqube.gradle.SonarTask.run(SonarTask.java:128)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:420)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:342)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 7m 21s\n8 actionable tasks: 8 executed\n\nThe build scan was not published due to a configuration problem.\n\nThe Gradle Terms of Service have not been agreed to.\n\nFor more information, please see https://gradle.com/help/plugin-terms-of-service.\n\nAlternatively, if you are using Gradle Enterprise, specify the server location.\nFor more information, please see https://gradle.com/help/plugin-enterprise-config\n</code></pre>\n<p>The <code>Gradle</code> build script is configured like:</p>\n<pre><code>sonarqube {\n  properties {\n    property &quot;sonar.dependencyCheck.htmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.html&quot;\n    property &quot;sonar.dependencyCheck.xmlReportPath&quot;, &quot;${project.buildDir}/reports/dependency-check/dependency-check-report.xml&quot;\n    property &quot;sonar.projectDescription&quot;, &quot;${project.description}&quot;\n    property &quot;sonar.projectKey&quot;, &quot;global:group:${project.name}&quot;\n    property &quot;sonar.projectName&quot;, &quot;global::${project.name}&quot;\n  }\n}\n</code></pre>\n<p>...and the scan is triggered via: <code>./gradlew test jacocoTestReport dependencyCheckAnalyze sonar -Dsonar.host.url=https://sonar.host.tld/sonarqube -Dsonar.login=the_token -Dsonar.verbose=true --stacktrace</code></p>\n<p>I've researched this and the resolution always boils down to upgrade to the newest version, but this time I'm on the latest on everything. So I wonder if there is a way to overcome this issue by configuring something in the <code>Gradle</code> configuration, or if there is a way to skip this <code>files</code> <em>core metric</em> or something around those lines.</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1397239914,"creation_date":1397239914,"answer_id":23019771,"question_id":23019482,"body_markdown":"`out` is a `static` field of the `java.lang.System` class.\r\n\r\nYou can use the `Field` class to refer to it\r\n\r\n\tClass&lt;?&gt; systemClass = java.lang.Class.forName(&quot;java.lang.System&quot;);\r\n\tField outField = systemClass.getDeclaredField(&quot;out&quot;);\r\n\r\nThe type of that field is `PrintStream`. You don&#39;t need to know that really, but you do need to retrieve the corresponding `Class` object for it.\r\n\r\n\tClass&lt;?&gt; printStreamClass = outField.getType();\r\n\r\nWe know it has a `println(String)` method, so we can retrieve that too\r\n\r\n\tMethod printlnMethod = printStreamClass.getDeclaredMethod(&quot;println&quot;, String.class);\r\n\r\nNow, since [`println(String)`][1] is an instance method, we need to invoke it on an instance. Which instance? The one referenced by the `out` field. That `out` field is `static` so we can get it by passing `null` to [`Field#get(object)`][2].\r\n\r\n\tObject object = outField.get(null);\r\n\r\nThen we invoke the method\r\n\r\n\tprintlnMethod.invoke(object, &quot;Hi!&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Field.html#get%28java.lang.Object%29","title":"java reflection System.out.println","body":"<p><code>out</code> is a <code>static</code> field of the <code>java.lang.System</code> class.</p>\n\n<p>You can use the <code>Field</code> class to refer to it</p>\n\n<pre><code>Class&lt;?&gt; systemClass = java.lang.Class.forName(\"java.lang.System\");\nField outField = systemClass.getDeclaredField(\"out\");\n</code></pre>\n\n<p>The type of that field is <code>PrintStream</code>. You don't need to know that really, but you do need to retrieve the corresponding <code>Class</code> object for it.</p>\n\n<pre><code>Class&lt;?&gt; printStreamClass = outField.getType();\n</code></pre>\n\n<p>We know it has a <code>println(String)</code> method, so we can retrieve that too</p>\n\n<pre><code>Method printlnMethod = printStreamClass.getDeclaredMethod(\"println\", String.class);\n</code></pre>\n\n<p>Now, since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#println%28java.lang.String%29\" rel=\"noreferrer\"><code>println(String)</code></a> is an instance method, we need to invoke it on an instance. Which instance? The one referenced by the <code>out</code> field. That <code>out</code> field is <code>static</code> so we can get it by passing <code>null</code> to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Field.html#get%28java.lang.Object%29\" rel=\"noreferrer\"><code>Field#get(object)</code></a>.</p>\n\n<pre><code>Object object = outField.get(null);\n</code></pre>\n\n<p>Then we invoke the method</p>\n\n<pre><code>printlnMethod.invoke(object, \"Hi!\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24158055,"reputation":1,"user_id":18122018,"display_name":"Aidan Farhi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666993411,"creation_date":1666993411,"answer_id":74241202,"question_id":23019482,"body_markdown":"I came across this same challenge while working through &quot;Core Java for the Impatient&quot; by Cay S. Horstmann (Excellent read btw).\r\n\r\nhttps://horstmann.com/javaimpatient/\r\n\r\nFirst, obtain a Field object using the reflective `getField` method.\r\n\r\n    Field f = System.class.getField(&quot;out&quot;)\r\n\r\nNow obtain a `Method` object from the underlying value of the `Field` object. In this case, it is the static field `out` of the `System` class. You are able to pass in `null` as the argument due to it being a static field.\r\n\r\n    Method m = f.get(null).getClass().getMethod(&quot;println&quot;, String.class);\r\n\r\nFinally, invoke the method using the underlying value of the `Field` object.\r\n\r\n    m.invoke(f.get(null), &quot;Hello, World&quot;);","title":"java reflection System.out.println","body":"<p>I came across this same challenge while working through &quot;Core Java for the Impatient&quot; by Cay S. Horstmann (Excellent read btw).</p>\n<p><a href=\"https://horstmann.com/javaimpatient/\" rel=\"nofollow noreferrer\">https://horstmann.com/javaimpatient/</a></p>\n<p>First, obtain a Field object using the reflective <code>getField</code> method.</p>\n<pre><code>Field f = System.class.getField(&quot;out&quot;)\n</code></pre>\n<p>Now obtain a <code>Method</code> object from the underlying value of the <code>Field</code> object. In this case, it is the static field <code>out</code> of the <code>System</code> class. You are able to pass in <code>null</code> as the argument due to it being a static field.</p>\n<pre><code>Method m = f.get(null).getClass().getMethod(&quot;println&quot;, String.class);\n</code></pre>\n<p>Finally, invoke the method using the underlying value of the <code>Field</code> object.</p>\n<pre><code>m.invoke(f.get(null), &quot;Hello, World&quot;);\n</code></pre>\n"}],"owner":{"account_id":3994213,"reputation":181,"user_id":3292218,"accept_rate":75,"display_name":"Nik theGeeK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23019771,"answer_count":2,"score":2,"last_activity_date":1666993411,"creation_date":1397239040,"question_id":23019482,"body_markdown":"I m learning java reflection.\r\nI tried\r\n\r\n&lt;pre&gt;\r\nSystem.exit(3);\r\nClass.forName(&quot;java.lang.System&quot;).getMethod(&quot;exit&quot;, Integer.TYPE).invoke(null, 3);\r\n&lt;/pre&gt;\r\n\r\nand it works. I successfully also ran\r\n&lt;pre&gt;\r\nSystem.out.println(Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;currentTimeMillis&quot;).invoke(null)); &lt;/pre&gt;\r\n\r\nNow how can i invoke System.out.println reflectively\r\n&lt;pre&gt;\r\njava.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;out.println&quot;, String.class).invoke(null, &quot;Hi!&quot;); &lt;/pre&gt;\r\n\r\nis giving error.\r\nI know System does not have out function. So suggest a way to call System.out.println reflectively\r\n\r\nHere is the complete example\r\n\r\n    public class ReflectionDemo1 {\r\n    public static void main(String[] args) throws Exception {\r\n    // java.lang.System.exit(3);\r\n    // java.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;exit&quot;, Integer.TYPE).invoke(null, 3);\r\n    // java.lang.System.currentTimeMillis()\r\n    // System.out.println(Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;currentTimeMillis&quot;).invoke(null));\r\n    // System.out.println(&quot;Hi!&quot;);\r\n    java.lang.Class.forName(&quot;java.lang.System&quot;).getMethod(&quot;out.println&quot;, String.class).invoke(null, &quot;Hi!&quot;);\r\n    }\r\n    }\r\n\r\n","title":"java reflection System.out.println","body":"<p>I m learning java reflection.\nI tried</p>\n\n<pre>\nSystem.exit(3);\nClass.forName(\"java.lang.System\").getMethod(\"exit\", Integer.TYPE).invoke(null, 3);\n</pre>\n\n<p>and it works. I successfully also ran</p>\n\n<pre>\nSystem.out.println(Class.forName(\"java.lang.System\").getMethod(\"currentTimeMillis\").invoke(null)); </pre>\n\n<p>Now how can i invoke System.out.println reflectively</p>\n\n<pre>\njava.lang.Class.forName(\"java.lang.System\").getMethod(\"out.println\", String.class).invoke(null, \"Hi!\"); </pre>\n\n<p>is giving error.\nI know System does not have out function. So suggest a way to call System.out.println reflectively</p>\n\n<p>Here is the complete example</p>\n\n<pre><code>public class ReflectionDemo1 {\npublic static void main(String[] args) throws Exception {\n// java.lang.System.exit(3);\n// java.lang.Class.forName(\"java.lang.System\").getMethod(\"exit\", Integer.TYPE).invoke(null, 3);\n// java.lang.System.currentTimeMillis()\n// System.out.println(Class.forName(\"java.lang.System\").getMethod(\"currentTimeMillis\").invoke(null));\n// System.out.println(\"Hi!\");\njava.lang.Class.forName(\"java.lang.System\").getMethod(\"out.println\", String.class).invoke(null, \"Hi!\");\n}\n}\n</code></pre>\n"},{"tags":["java","asynchronous","listener","ibm-mq","consumer"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1667210399,"post_id":74241176,"comment_id":131108372,"body_markdown":"Usually these types of problems mean you haven&#39;t started the consumer.","body":"Usually these types of problems mean you haven&#39;t started the consumer."},{"owner":{"account_id":20040265,"reputation":11,"user_id":14691110,"display_name":"JPA"},"score":0,"creation_date":1667398640,"post_id":74241176,"comment_id":131157814,"body_markdown":"it is not possible to start the consumer- it starts automatically when used with receive() method","body":"it is not possible to start the consumer- it starts automatically when used with receive() method"}],"owner":{"account_id":20040265,"reputation":11,"user_id":14691110,"display_name":"JPA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666993235,"creation_date":1666993235,"question_id":74241176,"body_markdown":"I try to read messages from IBM MQ.\r\n\r\nThis works when trying to do so by calling receive method on consumer.\r\n\r\nHowever, when overriding onMessage method I get no messages and no errors. It seems like this method is never invoked.\r\n\r\nHere is an example code which consumes messages from the queue correctly and prints them, but this method uses receive:\r\n\r\n\r\n    public class IBMMQConnect {\r\n    \r\n    \tprivate String hostName = &quot;myHost&quot;;\r\n    \tprivate int port = 1631;\r\n    \tprivate String clientID = &quot;clientID&quot;;\r\n    \tprivate String channel = &quot;channel&quot;;\r\n    \tprivate int transportType = WMQConstants.WMQ_CM_CLIENT;\r\n    \tprivate String queueManager = &quot;queueManager&quot;;\r\n    \tprivate String sslCipherSuite = &quot;sslCipherSuite&quot;;\r\n    \tMQConnectionFactory mqConnectionFactory;\r\n    \tCustomSslContectFactory sslFactory;\r\n    \tjavax.jms.ConnectionFactory connectionFactory;\r\n    \tjavax.jms.Connection connection;\r\n    \tjavax.jms.Session session;\r\n    \tjavax.jms.Topic topic;\r\n    \tjavax.jms.MessageConsumer consumer;\r\n    \tpublic IBMMQConnect() throws Exception{\r\n    \t\tSystem.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\r\n    \t\tthis.mqConnectionFactory = new MQConnectionFactory();\r\n    \t\tthis.mqConnectionFactory.setHostName(hostName);\r\n    \t\tthis.mqConnectionFactory.setPort(port);\r\n    \t\tthis.mqConnectionFactory.setClientID(clientID);\r\n    \t\tthis.mqConnectionFactory.setChannel(channel);\r\n    \t\tthis.mqConnectionFactory.setTransportType(transportType);\r\n    \t\tthis.mqConnectionFactory.setQueueManager(queueManager);\r\n    \t\tthis.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n    \t\tthis.sslFactory = new CustomSslContextFactory();\r\n    \t\tthis.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\r\n    \t\tthis.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\r\n    \t\tthis.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\r\n    \t\tthis.sslFactory.setTrustStorePassword(&quot;password&quot;);\r\n    \t\tthis.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\r\n    \t\tthis.connectionFactory = this.mqConnectionFactory;\r\n    \t\tthis.connection = this.connectionFactory.createConnection();\r\n    \t\tthis.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n    \t\tthis.topic = this.session.createTopic(&quot;myTopic&quot;);\r\n    \t\tthis.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\r\n    \t\tjavax.jms.Message message = null;\r\n    \t\tthis.connection.start();\r\n    \t\twhile ((message = consumer.receive(10*1000))!=null){\r\n    \t\t\tSystem.out.println(message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\tIBMMQConnect ibmMQ = new IBMMQConnect();\r\n    \t}\r\n    }\r\n\r\n\r\nNow, here is an example where messages should be consumed by overriding method onMessage, however this code does not produce any output, it does not produce any errors, it looks like the consumer just never calls onMessage method:\r\n\r\n    public class IBMMQConnect {\r\n    \r\n    \tprivate String hostName = &quot;myHost&quot;;\r\n    \tprivate int port = 1631;\r\n    \tprivate String clientID = &quot;clientID&quot;;\r\n    \tprivate String channel = &quot;channel&quot;;\r\n    \tprivate int transportType = WMQConstants.WMQ_CM_CLIENT;\r\n    \tprivate String queueManager = &quot;queueManager&quot;;\r\n    \tprivate String sslCipherSuite = &quot;sslCipherSuite&quot;;\r\n    \tMQConnectionFactory mqConnectionFactory;\r\n    \tCustomSslContectFactory sslFactory;\r\n    \tjavax.jms.ConnectionFactory connectionFactory;\r\n    \tjavax.jms.Connection connection;\r\n    \tjavax.jms.Session session;\r\n    \tjavax.jms.Topic topic;\r\n    \tjavax.jms.MessageConsumer consumer;\r\n    \tpublic IBMMQConnect() throws Exception{\r\n    \t\tSystem.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\r\n    \t\tthis.mqConnectionFactory = new MQConnectionFactory();\r\n    \t\tthis.mqConnectionFactory.setHostName(hostName);\r\n    \t\tthis.mqConnectionFactory.setPort(port);\r\n    \t\tthis.mqConnectionFactory.setClientID(clientID);\r\n    \t\tthis.mqConnectionFactory.setChannel(channel);\r\n    \t\tthis.mqConnectionFactory.setTransportType(transportType);\r\n    \t\tthis.mqConnectionFactory.setQueueManager(queueManager);\r\n    \t\tthis.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n    \t\tthis.sslFactory = new CustomSslContextFactory();\r\n    \t\tthis.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\r\n    \t\tthis.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\r\n    \t\tthis.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\r\n    \t\tthis.sslFactory.setTrustStorePassword(&quot;password&quot;);\r\n    \t\tthis.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\r\n    \t\tthis.connectionFactory = this.mqConnectionFactory;\r\n    \t\tthis.connection = this.connectionFactory.createConnection();\r\n    \t\tthis.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\r\n    \t\tthis.topic = this.session.createTopic(&quot;myTopic&quot;);\r\n    \t\tthis.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\r\n    \t\tjavax.jms.Message message = null;\r\n    \t\tthis.connection.start();\r\n    \t\tthis.consumer.setMessageListener(new MessageListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onMessage(Message message) {\r\n    \t\t\t\tSystem.out.println(message);\r\n    \t\t\t}\r\n    \t\t});\r\n            new Scanner(System.in).nextLine();\r\n    \t}\r\n    \r\n    }\r\n\r\nSo, the first code example consumes messages and prints them, the second code example does not produce anything, no errors, no messages, why does it happen?","title":"How to trigger onMessage method on consumer with IBMMQ broker?","body":"<p>I try to read messages from IBM MQ.</p>\n<p>This works when trying to do so by calling receive method on consumer.</p>\n<p>However, when overriding onMessage method I get no messages and no errors. It seems like this method is never invoked.</p>\n<p>Here is an example code which consumes messages from the queue correctly and prints them, but this method uses receive:</p>\n<pre><code>public class IBMMQConnect {\n\n    private String hostName = &quot;myHost&quot;;\n    private int port = 1631;\n    private String clientID = &quot;clientID&quot;;\n    private String channel = &quot;channel&quot;;\n    private int transportType = WMQConstants.WMQ_CM_CLIENT;\n    private String queueManager = &quot;queueManager&quot;;\n    private String sslCipherSuite = &quot;sslCipherSuite&quot;;\n    MQConnectionFactory mqConnectionFactory;\n    CustomSslContectFactory sslFactory;\n    javax.jms.ConnectionFactory connectionFactory;\n    javax.jms.Connection connection;\n    javax.jms.Session session;\n    javax.jms.Topic topic;\n    javax.jms.MessageConsumer consumer;\n    public IBMMQConnect() throws Exception{\n        System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\n        this.mqConnectionFactory = new MQConnectionFactory();\n        this.mqConnectionFactory.setHostName(hostName);\n        this.mqConnectionFactory.setPort(port);\n        this.mqConnectionFactory.setClientID(clientID);\n        this.mqConnectionFactory.setChannel(channel);\n        this.mqConnectionFactory.setTransportType(transportType);\n        this.mqConnectionFactory.setQueueManager(queueManager);\n        this.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n        this.sslFactory = new CustomSslContextFactory();\n        this.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\n        this.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\n        this.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\n        this.sslFactory.setTrustStorePassword(&quot;password&quot;);\n        this.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\n        this.connectionFactory = this.mqConnectionFactory;\n        this.connection = this.connectionFactory.createConnection();\n        this.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\n        this.topic = this.session.createTopic(&quot;myTopic&quot;);\n        this.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\n        javax.jms.Message message = null;\n        this.connection.start();\n        while ((message = consumer.receive(10*1000))!=null){\n            System.out.println(message);\n        }\n    }\n\n}\n\npublic class Main {\n    public static void main(String[] args) throws Exception{\n        IBMMQConnect ibmMQ = new IBMMQConnect();\n    }\n}\n</code></pre>\n<p>Now, here is an example where messages should be consumed by overriding method onMessage, however this code does not produce any output, it does not produce any errors, it looks like the consumer just never calls onMessage method:</p>\n<pre><code>public class IBMMQConnect {\n\n    private String hostName = &quot;myHost&quot;;\n    private int port = 1631;\n    private String clientID = &quot;clientID&quot;;\n    private String channel = &quot;channel&quot;;\n    private int transportType = WMQConstants.WMQ_CM_CLIENT;\n    private String queueManager = &quot;queueManager&quot;;\n    private String sslCipherSuite = &quot;sslCipherSuite&quot;;\n    MQConnectionFactory mqConnectionFactory;\n    CustomSslContectFactory sslFactory;\n    javax.jms.ConnectionFactory connectionFactory;\n    javax.jms.Connection connection;\n    javax.jms.Session session;\n    javax.jms.Topic topic;\n    javax.jms.MessageConsumer consumer;\n    public IBMMQConnect() throws Exception{\n        System.setProperty(&quot;com.ibm.mq.cfg.useIBMCipherMappings&quot;, &quot;false&quot;);\n        this.mqConnectionFactory = new MQConnectionFactory();\n        this.mqConnectionFactory.setHostName(hostName);\n        this.mqConnectionFactory.setPort(port);\n        this.mqConnectionFactory.setClientID(clientID);\n        this.mqConnectionFactory.setChannel(channel);\n        this.mqConnectionFactory.setTransportType(transportType);\n        this.mqConnectionFactory.setQueueManager(queueManager);\n        this.mqConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n        this.sslFactory = new CustomSslContextFactory();\n        this.sslFactory.setKeyStore(&quot;myKeyStore&quot;);\n        this.sslFactory.setKeyStorePassword(&quot;myPassword&quot;);\n        this.sslFactory.setTrustStore(&quot;myTrustStore&quot;);\n        this.sslFactory.setTrustStorePassword(&quot;password&quot;);\n        this.mqConnectionFactory.setSSLSocketFactory(sslFactory.getSslContext().getSocketFactory());\n        this.connectionFactory = this.mqConnectionFactory;\n        this.connection = this.connectionFactory.createConnection();\n        this.session = this.connection.createSession(false, javax.jms.Session.CLIENT_ACKNOWLEDGE);\n        this.topic = this.session.createTopic(&quot;myTopic&quot;);\n        this.consumer = this.session.createDurableSubscriber(topic, &quot;myTest&quot;);\n        javax.jms.Message message = null;\n        this.connection.start();\n        this.consumer.setMessageListener(new MessageListener() {\n            @Override\n            public void onMessage(Message message) {\n                System.out.println(message);\n            }\n        });\n        new Scanner(System.in).nextLine();\n    }\n\n}\n</code></pre>\n<p>So, the first code example consumes messages and prints them, the second code example does not produce anything, no errors, no messages, why does it happen?</p>\n"},{"tags":["java","eclipse","tomcat","jpa"],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467827887,"creation_date":1467827887,"answer_id":38230681,"question_id":38229662,"body_markdown":"This is not possible. If you are using spring this can be possible there, but for simple JPA no. What you can do though is to use programmatic configuration and to do something like this described in this post [https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>This is not possible. If you are using spring this can be possible there, but for simple JPA no. What you can do though is to use programmatic configuration and to do something like this described in this post <a href=\"https://stackoverflow.com/questions/8836834/read-environment-variables-in-persistence-xml-file\">Read Environment Variables in persistence.xml file</a></p>\n"},{"tags":[],"owner":{"account_id":1187510,"reputation":644,"user_id":1161179,"display_name":"frekele"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1490478268,"creation_date":1490478268,"answer_id":43022304,"question_id":38229662,"body_markdown":"In WildFly the simples and most elegant way to do that is enabling the property replacement in the ee subsystem, as in the following example:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:ee:4.0&quot;&gt;\r\n          &lt;spec-descriptor-property-replacement&gt;true&lt;/spec-descriptor-property-replacement&gt;\r\n          &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt; \r\n    . . .\r\n    &lt;/subsystem&gt;\r\n\r\nNow you can use the BeanShell expression with the env prefix to reference environment variables. For example:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://${env.MYSQL_DB_HOST}:${env.MYSQL_DB_PORT}/mydbname&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;${env.MYSQL_DB_USERNAME}&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;${env.MYSQL_DB_PASSWORD}&quot;/&gt;\r\n\r\nThis strategy is particularly useful in cloud environment such as Openshift, where you can pass environment variables to your Applications, in order to customize them.","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>In WildFly the simples and most elegant way to do that is enabling the property replacement in the ee subsystem, as in the following example:</p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:ee:4.0\"&gt;\n      &lt;spec-descriptor-property-replacement&gt;true&lt;/spec-descriptor-property-replacement&gt;\n      &lt;jboss-descriptor-property-replacement&gt;true&lt;/jboss-descriptor-property-replacement&gt; \n. . .\n&lt;/subsystem&gt;\n</code></pre>\n\n<p>Now you can use the BeanShell expression with the env prefix to reference environment variables. For example:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://${env.MYSQL_DB_HOST}:${env.MYSQL_DB_PORT}/mydbname\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.user\" value=\"${env.MYSQL_DB_USERNAME}\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.password\" value=\"${env.MYSQL_DB_PASSWORD}\"/&gt;\n</code></pre>\n\n<p>This strategy is particularly useful in cloud environment such as Openshift, where you can pass environment variables to your Applications, in order to customize them.</p>\n"},{"tags":[],"owner":{"account_id":1696432,"reputation":358,"user_id":1557741,"accept_rate":67,"display_name":"baumato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542719640,"creation_date":1542719640,"answer_id":53393812,"question_id":38229662,"body_markdown":"For testing purposes or in the JavaSE world, you could use this [full working eclipseLink example][1].\r\n\r\nIt gets all properties defined in the persistence.xml from the PersistenceUnitInfo instance which is obtained from the EntityManagerFactory (by using eclipseLink specific implementations). These properties get replaced with the values defined in environment variables.\r\n\r\n\r\n  [1]: https://gist.github.com/baumato/3283f255b00094411110fc889be58aa5","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>For testing purposes or in the JavaSE world, you could use this <a href=\"https://gist.github.com/baumato/3283f255b00094411110fc889be58aa5\" rel=\"nofollow noreferrer\">full working eclipseLink example</a>.</p>\n\n<p>It gets all properties defined in the persistence.xml from the PersistenceUnitInfo instance which is obtained from the EntityManagerFactory (by using eclipseLink specific implementations). These properties get replaced with the values defined in environment variables.</p>\n"},{"tags":[],"owner":{"account_id":16419918,"reputation":2129,"user_id":11861378,"display_name":"Ad&#225;n Escobar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666991825,"creation_date":1647967739,"answer_id":71575888,"question_id":38229662,"body_markdown":"I am using a simple maven jpa project.\r\n\r\nYou can do that with a simple bash script and using a template file\r\n\r\n[![template][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Iah8.png\r\n\r\ntemplate content:\r\n    \r\n    ...\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;$DB_URL&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;$DB_USR&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;$DB_PASS&quot;/&gt;\r\n    ...\r\n\r\nbash script:\r\n\r\n    XML_TMP=./src/main/resources/META-INF/persistence.temp.xml\r\n    XML_OUT=./src/main/resources/META-INF/persistence.xml\r\n    \r\n    export DB_URL=&quot;jdbc:postgresql://localhost:5434/my_db&quot;\r\n    export DB_USR=&quot;admin&quot;\r\n    export DB_PASS=&quot;mystrongpass&quot;\r\n    \r\n    envsubst &quot;`printf &#39;${%s} &#39; $(sh -c &quot;env|cut -d&#39;=&#39; -f1&quot;)`&quot; &lt; $XML_TMP &gt; $XML_OUT\r\n\r\nNote that env var can be system values too, you do not necessarily have to be included in the file\r\n\r\nrun the script and then just do:\r\n\r\n    mvn clean package","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>I am using a simple maven jpa project.</p>\n<p>You can do that with a simple bash script and using a template file</p>\n<p><a href=\"https://i.stack.imgur.com/9Iah8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Iah8.png\" alt=\"template\" /></a></p>\n<p>template content:</p>\n<pre><code>...\n&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;$DB_URL&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;$DB_USR&quot;/&gt;\n&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;$DB_PASS&quot;/&gt;\n...\n</code></pre>\n<p>bash script:</p>\n<pre><code>XML_TMP=./src/main/resources/META-INF/persistence.temp.xml\nXML_OUT=./src/main/resources/META-INF/persistence.xml\n\nexport DB_URL=&quot;jdbc:postgresql://localhost:5434/my_db&quot;\nexport DB_USR=&quot;admin&quot;\nexport DB_PASS=&quot;mystrongpass&quot;\n\nenvsubst &quot;`printf '${%s} ' $(sh -c &quot;env|cut -d'=' -f1&quot;)`&quot; &lt; $XML_TMP &gt; $XML_OUT\n</code></pre>\n<p>Note that env var can be system values too, you do not necessarily have to be included in the file</p>\n<p>run the script and then just do:</p>\n<pre><code>mvn clean package\n</code></pre>\n"}],"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13288,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71575888,"answer_count":4,"score":3,"last_activity_date":1666991825,"creation_date":1467824616,"question_id":38229662,"body_markdown":"I&#39;m using OpenShift, and I&#39;m trying to deploy my application to a local Tomcat instance for faster development. I&#39;m using EclipseLink for DB transactions, and I&#39;ve provided the environment variables OpenShift uses in persistence.xml like this:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://${env.OPENSHIFT_MYSQL_DB_HOST}:${env.OPENSHIFT_MYSQL_DB_PORT}/mydbname&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;${env.OPENSHIFT_MYSQL_DB_USERNAME}&quot;/&gt; \r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;${env.OPENSHIFT_MYSQL_DB_PASSWORD}&quot;/&gt;\r\n\r\nI&#39;m using linux on my local machine, so I&#39;ve set all of these variable values to the local versions as well (localhost, 3306, etc). I&#39;ve double checked that they are available in terminal. I&#39;ve also tried providing them like described [here][1] - I&#39;ve opened the Tomcat instance&#39;s settings in Eclipse, chose &quot;Open launch configuration&quot;, and on the Arguments tab, I&#39;ve typed them into VM arguments (also tried the &quot;Variables...&quot; menu). However, it&#39;s not working, and I&#39;m getting NumberFormatException on the PORT variable, I guess it takes the raw string &quot;${env.OPENSHIFT_MYSQL_DB_PORT}&quot; as port.\r\n\r\n(Apparently, it&#39;s not working on OpenShift either.)\r\n\r\nWhere can I set these variable values in Eclipse/Tomcat to make it work?\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2844807/environment-variable-expansion-in-persistence-xml-jpa","title":"Set environment variable values in persistence.xml from Eclipse","body":"<p>I'm using OpenShift, and I'm trying to deploy my application to a local Tomcat instance for faster development. I'm using EclipseLink for DB transactions, and I've provided the environment variables OpenShift uses in persistence.xml like this:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://${env.OPENSHIFT_MYSQL_DB_HOST}:${env.OPENSHIFT_MYSQL_DB_PORT}/mydbname\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.user\" value=\"${env.OPENSHIFT_MYSQL_DB_USERNAME}\"/&gt; \n&lt;property name=\"javax.persistence.jdbc.password\" value=\"${env.OPENSHIFT_MYSQL_DB_PASSWORD}\"/&gt;\n</code></pre>\n\n<p>I'm using linux on my local machine, so I've set all of these variable values to the local versions as well (localhost, 3306, etc). I've double checked that they are available in terminal. I've also tried providing them like described <a href=\"https://stackoverflow.com/questions/2844807/environment-variable-expansion-in-persistence-xml-jpa\">here</a> - I've opened the Tomcat instance's settings in Eclipse, chose \"Open launch configuration\", and on the Arguments tab, I've typed them into VM arguments (also tried the \"Variables...\" menu). However, it's not working, and I'm getting NumberFormatException on the PORT variable, I guess it takes the raw string \"${env.OPENSHIFT_MYSQL_DB_PORT}\" as port.</p>\n\n<p>(Apparently, it's not working on OpenShift either.)</p>\n\n<p>Where can I set these variable values in Eclipse/Tomcat to make it work?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","android","android-contacts"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666992414,"post_id":74240888,"comment_id":131073853,"body_markdown":"Your `query()` call does not state what you want returned. You are assuming that the default set of columns contains the column that you wish. Apparently, that is not always the case. You might consider revising your `query()` call.","body":"Your <code>query()</code> call does not state what you want returned. You are assuming that the default set of columns contains the column that you wish. Apparently, that is not always the case. You might consider revising your <code>query()</code> call."}],"owner":{"account_id":25505254,"reputation":117,"user_id":19297836,"display_name":"Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666991451,"creation_date":1666990998,"question_id":74240888,"body_markdown":"I have developed an app, which on my tests on Andoid emulators (from Android 10 to 12) works fine.\r\n\r\nAn user reported an app crash on their Android12 device. Looking into the log, the error happens to be that `cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)` returns -1.\r\n\r\nHere the full code:\r\n\r\n    private void onClick(){\r\n       Intent pickContact = new Intent(Intent.ACTION_PICK);\r\n       pickContact.setType(ContactsContract.CommonDataKinds.Phone.CONTENT_TYPE);\r\n       startActivityForResult(pickContact, CONTACT_PICK_CODE);\r\n    }\r\n\r\n    protected void onActivityResult (int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == CONTACT_PICK_CODE) {\r\n            Uri contactData = data.getData();\r\n            Cursor cursor = getContentResolver().query(contactData, null, null, null, null);\r\n            if (cursor.moveToFirst()) {\r\n                int phoneIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\r\n                String number = cursor.getString(phoneIndex);\r\n            }\r\n            c.close();\r\n        }\r\n    }\r\n\r\nWhat this code is trying to do is simply retrieving a phone number. \r\n\r\nIf for me it works well on my emulator, what could cause this issue on the user&#39;s device? Thank you!","title":"Android - cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER) returns -1","body":"<p>I have developed an app, which on my tests on Andoid emulators (from Android 10 to 12) works fine.</p>\n<p>An user reported an app crash on their Android12 device. Looking into the log, the error happens to be that <code>cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)</code> returns -1.</p>\n<p>Here the full code:</p>\n<pre><code>private void onClick(){\n   Intent pickContact = new Intent(Intent.ACTION_PICK);\n   pickContact.setType(ContactsContract.CommonDataKinds.Phone.CONTENT_TYPE);\n   startActivityForResult(pickContact, CONTACT_PICK_CODE);\n}\n\nprotected void onActivityResult (int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == CONTACT_PICK_CODE) {\n        Uri contactData = data.getData();\n        Cursor cursor = getContentResolver().query(contactData, null, null, null, null);\n        if (cursor.moveToFirst()) {\n            int phoneIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);\n            String number = cursor.getString(phoneIndex);\n        }\n        c.close();\n    }\n}\n</code></pre>\n<p>What this code is trying to do is simply retrieving a phone number.</p>\n<p>If for me it works well on my emulator, what could cause this issue on the user's device? Thank you!</p>\n"},{"tags":["java","user-interface","javafx","fxml"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1666994078,"post_id":74240955,"comment_id":131074172,"body_markdown":"you don&#180;t need to create a new instance of the class that extends Application in javafx  because it&#39;s the starting point","body":"you don&#180;t need to create a new instance of the class that extends Application in javafx  because it&#39;s the starting point"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666994435,"post_id":74240955,"comment_id":131074219,"body_markdown":"Look at the game loop [here](https://gamedevelopment.tutsplus.com/tutorials/introduction-to-javafx-for-game-development--cms-23835) for a basic game loop example.","body":"Look at the game loop <a href=\"https://gamedevelopment.tutsplus.com/tutorials/introduction-to-javafx-for-game-development--cms-23835\" rel=\"nofollow noreferrer\">here</a> for a basic game loop example."},{"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"score":0,"creation_date":1667009432,"post_id":74240955,"comment_id":131076006,"body_markdown":"So the main class overseeing everything should be the Application class? I was just using this class for specifically the GUI - so I should have all of the code for the actual simulation stem from here?","body":"So the main class overseeing everything should be the Application class? I was just using this class for specifically the GUI - so I should have all of the code for the actual simulation stem from here?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667010332,"post_id":74240955,"comment_id":131076077,"body_markdown":"Yes: The `Application` class and its `init()`, `start()` and `stop()` methods are for managing the lifecycle of the entire application. Everything else should stem from there. When you `launch()` the application, an instance of your `Application` subclass is created, `init()` is called, the JavaFX runtime is started, and `start()` is called (on the FX Application Thread). Your `init()` and `start()` methods should be responsible for initializing the application and starting the GUI.","body":"Yes: The <code>Application</code> class and its <code>init()</code>, <code>start()</code> and <code>stop()</code> methods are for managing the lifecycle of the entire application. Everything else should stem from there. When you <code>launch()</code> the application, an instance of your <code>Application</code> subclass is created, <code>init()</code> is called, the JavaFX runtime is started, and <code>start()</code> is called (on the FX Application Thread). Your <code>init()</code> and <code>start()</code> methods should be responsible for initializing the application and starting the GUI."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667010538,"post_id":74240955,"comment_id":131076095,"body_markdown":"Note that your `Main` class is broken. The `TimerTask` operates on a background thread, and you appear to be modifying the UI from that background thread, which is not allowed. Use the Animation API for functionality like this: see https://stackoverflow.com/a/60685975/2189127","body":"Note that your <code>Main</code> class is broken. The <code>TimerTask</code> operates on a background thread, and you appear to be modifying the UI from that background thread, which is not allowed. Use the Animation API for functionality like this: see <a href=\"https://stackoverflow.com/a/60685975/2189127\">stackoverflow.com/a/60685975/2189127</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667033345,"post_id":74240955,"comment_id":131078522,"body_markdown":"See the [application documentation](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html) to understand the lifecycle, also note that &quot;Calling Platform.exit() is the preferred way to explicitly terminate a JavaFX Application. Directly calling System.exit(int) is an acceptable alternative, but doesn&#39;t allow the Application stop() method to run.&quot;.   Also, when the last window is closed, by default the app will exit, so you probably don&#39;t need to explicitly call exit.","body":"See the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">application documentation</a> to understand the lifecycle, also note that &quot;Calling Platform.exit() is the preferred way to explicitly terminate a JavaFX Application. Directly calling System.exit(int) is an acceptable alternative, but doesn&#39;t allow the Application stop() method to run.&quot;.   Also, when the last window is closed, by default the app will exit, so you probably don&#39;t need to explicitly call exit."},{"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"score":0,"creation_date":1667048520,"post_id":74240955,"comment_id":131080997,"body_markdown":"Is it still okay to update the GUI in the Controller class using fxmlLoader.getController().update()? I am also still a bit confused on how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application?","body":"Is it still okay to update the GUI in the Controller class using fxmlLoader.getController().update()? I am also still a bit confused on how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667061094,"post_id":74240955,"comment_id":131083649,"body_markdown":"*&quot;how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application&quot;*. That value shouldn&#39;t be in the `Application`; it has nothing to do with managing the application lifecycle. Generally, though, consider a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) (also see https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768).","body":"<i>&quot;how to get the Controller and the Application to communicate? For example, the Controller class is used to add more objects (due to user interaction) but will require the currentNanoTime to do this.. how would the Controller class get this value from the Application&quot;</i>. That value shouldn&#39;t be in the <code>Application</code>; it has nothing to do with managing the application lifecycle. Generally, though, consider a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a> (also see <a href=\"https://stackoverflow.com/questions/36868391/using-javafx-controller-without-fxml/36873768\" title=\"using javafx controller without fxml\">stackoverflow.com/questions/36868391/&hellip;</a>)."}],"owner":{"account_id":16825911,"reputation":19,"user_id":12165215,"display_name":"George"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666991428,"creation_date":1666991428,"question_id":74240955,"body_markdown":"I have a method in my Application class called getController(), which returns the controller of that stage. I am having an issue where getController() returns null if ran from an object of the Application class (note: getController() returns the correct controller if ran from the GUIHandler class). \\\r\nThe reason I am doing this is because the GUI code is separated from the rest of the program&#39;s code, so I require access to the controller to update specific parts  of the GUI in a &quot;Main&quot; class. \\\r\nMy program is a projectile simulator program, where the user can create projectiles and see them on the screen moving around. The business logic lies within a Simulation class, while the GUI code lies within a GUIHandler class and several controllers. \\\r\nThe error occurs on the line &quot;guiHandler.getController().update()&quot; as getController() returns null, but if I run getController() from the GUIHandler&#39;s start() method it does not return null. I have included just the necessary parts of the code.\r\n\r\n# Main #\r\n``` java\r\npublic class Main \r\n{\r\n\tpublic Simulation currentSimulation = new Simulation();\r\n\tpublic FileHandler fileHandler = new FileHandler();\r\n\tpublic GUIHandler guiHandler = new GUIHandler();\r\n\t\r\n\tpublic double dTime = 0;\r\n\tpublic double dTimePerFrame = 20;\r\n\tpublic double dSpeed = 1;\r\n\r\n\tprivate Timer timer = new Timer();\r\n\r\n\tprivate TimerTask task = new TimerTask() \r\n\t{\r\n\t\t/**\r\n\t\t * This method runs every frame, updating the simulation.\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void run() \r\n\t\t{\t\t\t\r\n\t\t\tdTime = dTime + ( dTimePerFrame / 1000 );\r\n\r\n\t\t\tcurrentSimulation.update( dTime );\r\n\t\t\tguiHandler.getController().update();\r\n\t\t\t\r\n\t\t\tSystem.out.println( dTime );\r\n\t\t}\r\n\r\n\t};\r\n```\r\n# GUIHandler #\r\n```java\r\npackage simulation;\r\nimport controllers.MainController;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GUIHandler extends Application\r\n{\r\n\tprivate FXMLLoader fxmlLoader = new FXMLLoader( getClass().getResource(&quot;/MainGUI.fxml&quot;) );\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception \r\n\t{\r\n\t\t\r\n\t\tParent root = fxmlLoader.load();\t\t\r\n\t\tScene scene = new Scene( root, 900, 600 );\r\n\t\t\r\n\t\tstage.setTitle(&quot;Projectile Simulator&quot;);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\t\r\n\t\tstage.setOnCloseRequest( event -&gt; System.exit(0) );\r\n\t\t\r\n\t\tSystem.out.println( getController() );\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the controller that controls the main GUI.\r\n\t * @return mainController\r\n\t */\r\n\tpublic MainController getController()\r\n\t{\r\n\t\tMainController mainController = (MainController) fxmlLoader.getController();\r\n\t\treturn mainController;\r\n\t}\r\n\t\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n## Error ##\r\nThe first line is the value of getController() if run from the GUIHandler&#39;s start() method. The rest is the error that is occured if getController() is run from an object of GUIHandler. It should have returned the same thing.\r\n```\r\ncontrollers.MainController@65c20942\r\nException in thread &quot;Timer-0&quot; java.lang.NullPointerException: Cannot invoke &quot;controllers.MainController.update()&quot; because the return value of &quot;simulation.GUIHandler.getController()&quot; is null\r\n\tat simulation.Main$1.run(Main.java:47)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:556)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:506)\r\n```\r\nI would like to make GUIHandler&#39;s methods static, but then I am unable to use getClass() in the FXMLLoader. I have tried making an object of the controller class, but then the FXML elements are null when I try to access them. I understand that creating an object is what is causing the issue, but I do not understand why or what else I can do to get what I want?","title":"Problem regarding object orientation in FXML","body":"<p>I have a method in my Application class called getController(), which returns the controller of that stage. I am having an issue where getController() returns null if ran from an object of the Application class (note: getController() returns the correct controller if ran from the GUIHandler class). <br />\nThe reason I am doing this is because the GUI code is separated from the rest of the program's code, so I require access to the controller to update specific parts  of the GUI in a &quot;Main&quot; class. <br />\nMy program is a projectile simulator program, where the user can create projectiles and see them on the screen moving around. The business logic lies within a Simulation class, while the GUI code lies within a GUIHandler class and several controllers. <br />\nThe error occurs on the line &quot;guiHandler.getController().update()&quot; as getController() returns null, but if I run getController() from the GUIHandler's start() method it does not return null. I have included just the necessary parts of the code.</p>\n<h1>Main</h1>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main \n{\n    public Simulation currentSimulation = new Simulation();\n    public FileHandler fileHandler = new FileHandler();\n    public GUIHandler guiHandler = new GUIHandler();\n    \n    public double dTime = 0;\n    public double dTimePerFrame = 20;\n    public double dSpeed = 1;\n\n    private Timer timer = new Timer();\n\n    private TimerTask task = new TimerTask() \n    {\n        /**\n         * This method runs every frame, updating the simulation.\n         */\n        @Override\n        public void run() \n        {           \n            dTime = dTime + ( dTimePerFrame / 1000 );\n\n            currentSimulation.update( dTime );\n            guiHandler.getController().update();\n            \n            System.out.println( dTime );\n        }\n\n    };\n</code></pre>\n<h1>GUIHandler</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package simulation;\nimport controllers.MainController;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class GUIHandler extends Application\n{\n    private FXMLLoader fxmlLoader = new FXMLLoader( getClass().getResource(&quot;/MainGUI.fxml&quot;) );\n    \n    @Override\n    public void start(Stage stage) throws Exception \n    {\n        \n        Parent root = fxmlLoader.load();        \n        Scene scene = new Scene( root, 900, 600 );\n        \n        stage.setTitle(&quot;Projectile Simulator&quot;);\n        stage.setScene(scene);\n        stage.show();\n        \n        stage.setOnCloseRequest( event -&gt; System.exit(0) );\n        \n        System.out.println( getController() );\n        \n        \n    }\n    \n    /**\n     * Gets the controller that controls the main GUI.\n     * @return mainController\n     */\n    public MainController getController()\n    {\n        MainController mainController = (MainController) fxmlLoader.getController();\n        return mainController;\n    }\n    \n    public static void main( String[] args )\n    {\n        launch(args);\n    }\n}\n\n</code></pre>\n<h2>Error</h2>\n<p>The first line is the value of getController() if run from the GUIHandler's start() method. The rest is the error that is occured if getController() is run from an object of GUIHandler. It should have returned the same thing.</p>\n<pre><code>controllers.MainController@65c20942\nException in thread &quot;Timer-0&quot; java.lang.NullPointerException: Cannot invoke &quot;controllers.MainController.update()&quot; because the return value of &quot;simulation.GUIHandler.getController()&quot; is null\n    at simulation.Main$1.run(Main.java:47)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:556)\n    at java.base/java.util.TimerThread.run(Timer.java:506)\n</code></pre>\n<p>I would like to make GUIHandler's methods static, but then I am unable to use getClass() in the FXMLLoader. I have tried making an object of the controller class, but then the FXML elements are null when I try to access them. I understand that creating an object is what is causing the issue, but I do not understand why or what else I can do to get what I want?</p>\n"},{"tags":["java","documentation","anonymous-class"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1651371128,"post_id":72073459,"comment_id":127348312,"body_markdown":"I removed the *Oracle* tag. If you check it you will see the tag means *Oracle Database*, not Oracle Corporation (the owners of Java). The question has nothing to do with Oracle Database. Sorry, I do not have an answer, I do not know Java.","body":"I removed the <i>Oracle</i> tag. If you check it you will see the tag means <i>Oracle Database</i>, not Oracle Corporation (the owners of Java). The question has nothing to do with Oracle Database. Sorry, I do not have an answer, I do not know Java."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651371692,"post_id":72073459,"comment_id":127348373,"body_markdown":"It seems that the tutorial is in fact out-of date, as stated on the [main page](https://docs.oracle.com/javase/tutorial/java/); &quot;*The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.*&quot; I was able to confirm that the code breaks with openjdk version &quot;11.0.12&quot; 2021-07-20, but works with openjdk version &quot;17.0.1&quot; 2021-10-19.","body":"It seems that the tutorial is in fact out-of date, as stated on the <a href=\"https://docs.oracle.com/javase/tutorial/java/\" rel=\"nofollow noreferrer\">main page</a>; &quot;<i>The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.</i>&quot; I was able to confirm that the code breaks with openjdk version &quot;11.0.12&quot; 2021-07-20, but works with openjdk version &quot;17.0.1&quot; 2021-10-19."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651376106,"post_id":72073459,"comment_id":127348740,"body_markdown":"*&quot;... is Oracle not updating its tutorials? If so, why?&quot;* - Question: how much do you pay to Oracle to use the Java tutorials?  From the answer, you should be able to infer some plausible reasons why they haven&#39;t updated them.  But for the real reason, you would need to ask Oracle management, and I doubt they would tell you.","body":"<i>&quot;... is Oracle not updating its tutorials? If so, why?&quot;</i> - Question: how much do you pay to Oracle to use the Java tutorials?  From the answer, you should be able to infer some plausible reasons why they haven&#39;t updated them.  But for the real reason, you would need to ask Oracle management, and I doubt they would tell you."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651371593,"creation_date":1651371593,"answer_id":72073566,"question_id":72073459,"body_markdown":"In the first page of this oracle Java Tutorial documentation &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/javaOO/index.html&quot;&gt;link&lt;/a&gt; , you will see that this documentation is for JDK 1.8:\r\n\r\n\r\n&gt; The Java Tutorials have been written for JDK 8. Examples and practices\r\n&gt; described in this page don&#39;t take advantage of improvements introduced\r\n&gt; in later releases and might use technology no longer available.\r\n\r\n","title":"Is Oracle&#39;s Java tutorial outdated?","body":"<p>In the first page of this oracle Java Tutorial documentation <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/index.html\" rel=\"nofollow noreferrer\">link</a> , you will see that this documentation is for JDK 1.8:</p>\n<blockquote>\n<p>The Java Tutorials have been written for JDK 8. Examples and practices\ndescribed in this page don't take advantage of improvements introduced\nin later releases and might use technology no longer available.</p>\n</blockquote>\n"}],"owner":{"account_id":18744389,"reputation":41,"user_id":13666953,"display_name":"Juliano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666991374,"creation_date":1651369841,"question_id":72073459,"body_markdown":"I&#39;ve recently started reading Oracle&#39;s Java tutorial and I&#39;m not sure if it is up-to-date.\r\n\r\nIn anonymous classes lesson, it is written that:\r\n\r\n&gt; Anonymous classes also have the same restrictions as local classes\r\n&gt; with respect to their members:\r\n&gt; \r\n&gt;  - You cannot declare static initializers or member interfaces in an anonymous class.\r\n&gt;  - An anonymous class can have static members provided that they are constant variables.\r\n\r\nI did some testing and it looks like it&#39;s not true.\r\nUsing Jdoodle&#39;s Java compiler I ran:\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          A a = new A() {\r\n              static {\r\n                  int c = 1;\r\n              }\r\n              // Or this one\r\n              //static int c = 1;\r\n          };\r\n\r\n        }\r\n     }\r\n\r\n     class A {}\r\n \r\nIt threw an error in every version except JDK 17. Is it me misinterpreting something or is Oracle not updating its tutorials? If so, why? \r\n\r\nI did try and googled Java 17 changes but I couldn&#39;t find anything about it.","title":"Is Oracle&#39;s Java tutorial outdated?","body":"<p>I've recently started reading Oracle's Java tutorial and I'm not sure if it is up-to-date.</p>\n<p>In anonymous classes lesson, it is written that:</p>\n<blockquote>\n<p>Anonymous classes also have the same restrictions as local classes\nwith respect to their members:</p>\n<ul>\n<li>You cannot declare static initializers or member interfaces in an anonymous class.</li>\n<li>An anonymous class can have static members provided that they are constant variables.</li>\n</ul>\n</blockquote>\n<p>I did some testing and it looks like it's not true.\nUsing Jdoodle's Java compiler I ran:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      A a = new A() {\n          static {\n              int c = 1;\n          }\n          // Or this one\n          //static int c = 1;\n      };\n\n    }\n }\n\n class A {}\n</code></pre>\n<p>It threw an error in every version except JDK 17. Is it me misinterpreting something or is Oracle not updating its tutorials? If so, why?</p>\n<p>I did try and googled Java 17 changes but I couldn't find anything about it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666990111,"post_id":74240727,"comment_id":131073344,"body_markdown":"This may not be the only issue, but `dollars += cents / 100;` will work, then just `cents = cents % 100;`  But I think there&#39;s error in other places in the code you haven&#39;t shown us.","body":"This may not be the only issue, but <code>dollars += cents &#47; 100;</code> will work, then just <code>cents = cents % 100;</code>  But I think there&#39;s error in other places in the code you haven&#39;t shown us."},{"owner":{"account_id":24431484,"reputation":1,"user_id":20361547,"display_name":"yodichi"},"score":0,"creation_date":1666990509,"post_id":74240727,"comment_id":131073428,"body_markdown":"public Money(int dol, int cent) {\n\t\tif (cent &lt; 0 || dol &lt; 0) {\n\t\t\tSystem.out.println(&quot;Invalid amount entered&quot;);\n\t\t} else {\n\t\t\t\n\t\t\tif (cent &gt; 99) {\n\t\t\t\tupdateMoney(cent);\n\t\t\t\t\t\n\t\t\t}\n\t\t\n\t\tthis.dollars = dol;\n\t\tthis.cents = cent;\n\t\t}\n\t}. This was the constructor I created when creating the money object","body":"public Money(int dol, int cent) { \t\tif (cent &lt; 0 || dol &lt; 0) { \t\t\tSystem.out.println(&quot;Invalid amount entered&quot;); \t\t} else { \t\t\t \t\t\tif (cent &gt; 99) { \t\t\t\tupdateMoney(cent); \t\t\t\t\t \t\t\t} \t\t \t\tthis.dollars = dol; \t\tthis.cents = cent; \t\t} \t}. This was the constructor I created when creating the money object"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1666990587,"post_id":74240727,"comment_id":131073443,"body_markdown":"You never account for the initial `this.cents` value; your loop only factors in the new `cent`. So whether you have `(15, 300)` initially or `(15, 0)`, your code will work exactly the same.","body":"You never account for the initial <code>this.cents</code> value; your loop only factors in the new <code>cent</code>. So whether you have <code>(15, 300)</code> initially or <code>(15, 0)</code>, your code will work exactly the same."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666990631,"post_id":74240727,"comment_id":131073457,"body_markdown":"1. Please edit your question and add the code there, the formatting in a comment is terrible. 2. This part `this.dollars = dol;` needs to be `+=` or the previous dollar amount get erased.","body":"1. Please edit your question and add the code there, the formatting in a comment is terrible. 2. This part <code>this.dollars = dol;</code> needs to be <code>+=</code> or the previous dollar amount get erased."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666994507,"post_id":74240727,"comment_id":131074230,"body_markdown":"An aside: for something like `println(&quot;Invalid amount` it&#39;s not good to find an invalid value and then allow execution to proceed.  Instead you should probably throw an `new IllegalArgumentException( &quot;Invalid...&quot; );` with the same string message.","body":"An aside: for something like <code>println(&quot;Invalid amount</code> it&#39;s not good to find an invalid value and then allow execution to proceed.  Instead you should probably throw an <code>new IllegalArgumentException( &quot;Invalid...&quot; );</code> with the same string message."}],"answers":[{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666991343,"creation_date":1666991343,"answer_id":74240940,"question_id":74240727,"body_markdown":"You should consider storing your dollars and cents in one long value. The following code takes your dollars and cents, combines them, adds the user&#39;s inputted cents correctly, and splits them up in dollars and cents again. But why not just keep them together all the time?\r\n\r\n    long dollarsWithCents = dollars * 100 + cents;\r\n    dollarsWithCents += parsedUserInput;\r\n    cents = dollarsWithCents % 100;\r\n    dollars = dollarsWithCents / 100;\r\n\r\n","title":"Java method for updating money with cents over 99","body":"<p>You should consider storing your dollars and cents in one long value. The following code takes your dollars and cents, combines them, adds the user's inputted cents correctly, and splits them up in dollars and cents again. But why not just keep them together all the time?</p>\n<pre><code>long dollarsWithCents = dollars * 100 + cents;\ndollarsWithCents += parsedUserInput;\ncents = dollarsWithCents % 100;\ndollars = dollarsWithCents / 100;\n</code></pre>\n"}],"owner":{"account_id":24431484,"reputation":1,"user_id":20361547,"display_name":"yodichi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666991343,"creation_date":1666989903,"question_id":74240727,"body_markdown":"I am trying to create a method so that if the user enters a number of cents over 99, the updateMoney method will add dollars accordingly and then place the extra change once the cents goes under 100. \r\n\r\n\r\n```\r\npublic void updateMoney(int cent) {\r\n\t\tint addDollars = 0;\r\n\t\tint change = 0;\r\n\t\tif (cent &gt; 99) {\r\n\t\t\tfor(int i = cent; i &gt; 99; i -= 100)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\taddDollars += 1;\r\n\t\t\t\tcent -= 100;\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tthis.dollars = dollars + addDollars;\r\n\t\tthis.cents = cent;\r\n\t\t\r\n\t}\r\n\r\npublic Money(int dol, int cent) {\r\n\t\tif (cent &lt; 0 || dol &lt; 0) {\r\n\t\t\tSystem.out.println(&quot;Invalid amount entered&quot;);\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tif (cent &gt; 99) {\r\n\t\t\t\tupdateMoney(cent);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\tthis.dollars = dol;\r\n\t\tthis.cents = cent;\r\n\t\t}\r\n\t}\r\n```\r\nThis is the code I am currently working with.\r\n\r\nI had originally tried a different method that ended up not working so I tried doing something like this instead but my outputs are still off. \r\nIn my driver I ran \r\nMoney money = new Money(15, 300); and the output was $15.00 when it should end up being $18.99","title":"Java method for updating money with cents over 99","body":"<p>I am trying to create a method so that if the user enters a number of cents over 99, the updateMoney method will add dollars accordingly and then place the extra change once the cents goes under 100.</p>\n<pre><code>public void updateMoney(int cent) {\n        int addDollars = 0;\n        int change = 0;\n        if (cent &gt; 99) {\n            for(int i = cent; i &gt; 99; i -= 100)\n            {\n                \n                addDollars += 1;\n                cent -= 100;\n            }           \n            \n        }\n        this.dollars = dollars + addDollars;\n        this.cents = cent;\n        \n    }\n\npublic Money(int dol, int cent) {\n        if (cent &lt; 0 || dol &lt; 0) {\n            System.out.println(&quot;Invalid amount entered&quot;);\n        } else {\n            \n            if (cent &gt; 99) {\n                updateMoney(cent);\n                    \n            }\n        \n        this.dollars = dol;\n        this.cents = cent;\n        }\n    }\n</code></pre>\n<p>This is the code I am currently working with.</p>\n<p>I had originally tried a different method that ended up not working so I tried doing something like this instead but my outputs are still off.\nIn my driver I ran\nMoney money = new Money(15, 300); and the output was $15.00 when it should end up being $18.99</p>\n"},{"tags":["java","apache-kafka","client-certificates","handshake","mtls"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643968588,"post_id":70984266,"comment_id":125485140,"body_markdown":"You&#39;re renewing the certificate **every** day? For what reason?","body":"You&#39;re renewing the certificate <b>every</b> day? For what reason?"},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643969139,"post_id":70984266,"comment_id":125485363,"body_markdown":"It&#39;s for security requirements. But, the issue is not about the certificates validity time, since I could also have a certificate expiring in 1 week, but still when it got expired the Kafka clients would still be able to communicate with the brokers.","body":"It&#39;s for security requirements. But, the issue is not about the certificates validity time, since I could also have a certificate expiring in 1 week, but still when it got expired the Kafka clients would still be able to communicate with the brokers."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643969516,"post_id":70984266,"comment_id":125485512,"body_markdown":"Of course, do you realize how ineffective it would be if it had to constantly be doing the handshake for existing connections? You could cut all the connections when you change the cert, and then let them reconnect if you really want to make sure every connection always switches to the new cert.","body":"Of course, do you realize how ineffective it would be if it had to constantly be doing the handshake for existing connections? You could cut all the connections when you change the cert, and then let them reconnect if you really want to make sure every connection always switches to the new cert."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643969805,"post_id":70984266,"comment_id":125485634,"body_markdown":"Sure, to me it&#39;s logical since Kafka is &quot;near real-time oriented&quot;. But, it also seems unsafe that I can&#39;t have the control to reload dynamically the SSL context as I want. What you&#39;ve described is something I&#39;m already doing, but I was trying to understand if the behavior I described was actually correct.","body":"Sure, to me it&#39;s logical since Kafka is &quot;near real-time oriented&quot;. But, it also seems unsafe that I can&#39;t have the control to reload dynamically the SSL context as I want. What you&#39;ve described is something I&#39;m already doing, but I was trying to understand if the behavior I described was actually correct."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643970418,"post_id":70984266,"comment_id":125485862,"body_markdown":"How does it seem unsafe? Give me a concrete example.","body":"How does it seem unsafe? Give me a concrete example."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643971198,"post_id":70984266,"comment_id":125486165,"body_markdown":"If an attacker is able to steal my certificates, simple.","body":"If an attacker is able to steal my certificates, simple."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1643972350,"post_id":70984266,"comment_id":125486587,"body_markdown":"No, it&#39;s not simple. A normal certificate is valid for a year. If an attacker is able to steal your certificate, maybe they have access to the client and can easily steal all further certificates too. Wouldn&#39;t help you one bit to keep churning out new certificates every day.","body":"No, it&#39;s not simple. A normal certificate is valid for a year. If an attacker is able to steal your certificate, maybe they have access to the client and can easily steal all further certificates too. Wouldn&#39;t help you one bit to keep churning out new certificates every day."},{"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"score":0,"creation_date":1643980122,"post_id":70984266,"comment_id":125489272,"body_markdown":"But you&#39;re assuming what you are saying is an universal truth instead of knowing in which kind of environment I work and why I need this requirements. Anyway, this is pure off-topic from my question, thank you anyways.","body":"But you&#39;re assuming what you are saying is an universal truth instead of knowing in which kind of environment I work and why I need this requirements. Anyway, this is pure off-topic from my question, thank you anyways."}],"owner":{"account_id":10065883,"reputation":17,"user_id":7441088,"display_name":"user7441088"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666991143,"creation_date":1643967951,"question_id":70984266,"body_markdown":"I&#39;m using the Java library `kafka-clients` 3.0.0 since I have a K8s cluster with 3 brokers and I need to produce/consume on topics through microservices. \r\n\r\nBoth the Kafka brokers and clients have been correctly configured to authenticate clients through a mTLS protocol using a keystore and truststore. All the authentication and encryption communication works like a charm!\r\n\r\nHere comes the issue: for security manners, the client certificates got renewed each day, so each certificate expires in 24 hours. **When a client certificate got expired, the client is still able to communicate regularly with the Kafka brokers, both producing and consuming**. I suppose this happens since the mTLS handshake between clients and brokers happens just the first time, when the producer/consumer get initialized, then there will be the same TCP channels to communicate. \r\n\r\nAnyways, if it&#39;s working like that it seems to me a security issue. Does anybody know more about this `kafka-clients` behaviour? Is my hypothesis wrong? Is there a way to force the handshake after a while?\r\n\r\nThank you.\r\n\r\n","title":"When a kafka-clients mTLS handshake happens during its life-cycle?","body":"<p>I'm using the Java library <code>kafka-clients</code> 3.0.0 since I have a K8s cluster with 3 brokers and I need to produce/consume on topics through microservices.</p>\n<p>Both the Kafka brokers and clients have been correctly configured to authenticate clients through a mTLS protocol using a keystore and truststore. All the authentication and encryption communication works like a charm!</p>\n<p>Here comes the issue: for security manners, the client certificates got renewed each day, so each certificate expires in 24 hours. <strong>When a client certificate got expired, the client is still able to communicate regularly with the Kafka brokers, both producing and consuming</strong>. I suppose this happens since the mTLS handshake between clients and brokers happens just the first time, when the producer/consumer get initialized, then there will be the same TCP channels to communicate.</p>\n<p>Anyways, if it's working like that it seems to me a security issue. Does anybody know more about this <code>kafka-clients</code> behaviour? Is my hypothesis wrong? Is there a way to force the handshake after a while?</p>\n<p>Thank you.</p>\n"},{"tags":["java","android-studio","if-statement","textview","visibility"],"answers":[{"tags":[],"owner":{"account_id":18123623,"reputation":61,"user_id":13179338,"display_name":"Ashish Suman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666899143,"creation_date":1666899143,"answer_id":74227392,"question_id":74227230,"body_markdown":"The condition should be `if(textView.getVisibility() == View.VISIBLE){`","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>The condition should be <code>if(textView.getVisibility() == View.VISIBLE){</code></p>\n"},{"tags":[],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666991109,"creation_date":1666991109,"answer_id":74240902,"question_id":74227230,"body_markdown":"I cannot seem to upvote your comment just yet (this is literally my first post), however this did solve my problem. Thank you!","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>I cannot seem to upvote your comment just yet (this is literally my first post), however this did solve my problem. Thank you!</p>\n"}],"owner":{"account_id":26752668,"reputation":11,"user_id":20351789,"display_name":"FilleFrella44"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666991109,"creation_date":1666898270,"question_id":74227230,"body_markdown":"I am trying to make a textView invisible when pressing a button. But, if the textView is already invisible I want it to become visible.\r\n\r\nCurrently I am trying sonething like this:\r\n\r\n\r\n```\r\npublic void ShowAndHide(View view){\r\n    if(textView == View.VISIBLE){\r\n        textView.setVisibility(View.INVISIBLE);\r\n    }\r\n    else   {\r\n        textView.setVisibility(View.VISIBLE);\r\n    }\r\n}\r\n```\r\n\r\nWhere &quot;textView&quot; is a TextView which I have defined by id:\r\n\r\n```\r\nTextView textView;\r\n\r\ntextView = (TextView) findViewById(R.id.showMe_txt);\r\n```\r\n\r\nAnyone who knows why this does not work? Coming from a C# background and this is my first dabble with Java so quite unfamiliar. \r\n","title":"Android Studio If-statement make TextView visible if invisible and invisible if visible","body":"<p>I am trying to make a textView invisible when pressing a button. But, if the textView is already invisible I want it to become visible.</p>\n<p>Currently I am trying sonething like this:</p>\n<pre><code>public void ShowAndHide(View view){\n    if(textView == View.VISIBLE){\n        textView.setVisibility(View.INVISIBLE);\n    }\n    else   {\n        textView.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n<p>Where &quot;textView&quot; is a TextView which I have defined by id:</p>\n<pre><code>TextView textView;\n\ntextView = (TextView) findViewById(R.id.showMe_txt);\n</code></pre>\n<p>Anyone who knows why this does not work? Coming from a C# background and this is my first dabble with Java so quite unfamiliar.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1666979030,"post_id":74239075,"comment_id":131070437,"body_markdown":"What have you tried that didn&#39;t work? Should be straightforward.","body":"What have you tried that didn&#39;t work? Should be straightforward."}],"answers":[{"tags":[],"owner":{"account_id":3285612,"reputation":143,"user_id":2765212,"accept_rate":71,"display_name":"JaimeASV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666991093,"creation_date":1666991093,"answer_id":74240898,"question_id":74239075,"body_markdown":"Leaving all classes and simple test that finally worked.\r\n\r\nTree.java\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class Tree {\r\n        String name;\r\n        List&lt;Leaf&gt; leafs;\r\n    }\r\n\r\nLeaf.java\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class Leaf {\r\n        String name;\r\n        List&lt;Leaf&gt; children;\r\n    }\r\n\r\nTreeResponse.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class TreeResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; leafs;\r\n    }\r\n\r\nLeafResponse.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldDefaults(level = PUBLIC)\r\n    public class LeafResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; children;\r\n    }\r\n\r\nMappers\r\n\r\n    @Mapper\r\n    public interface TreeMapper {\r\n    \r\n        @Mapping(target = &quot;name&quot;, source = &quot;entity.name&quot;)\r\n        TreeResponse map(Tree entity);\r\n    }\r\n    \r\n    @Mapper\r\n    public interface LeafMapperSecond {\r\n        LeafResponse map(Leaf entity);\r\n    \r\n        List&lt;LeafResponse&gt; map(List&lt;Leaf&gt; entity);\r\n    }\r\n\r\nTest\r\n\r\n    private TreeMapper treeMapper = Mappers.getMapper(TreeMapper.class);\r\n    \r\n        @Test\r\n        public void test() {\r\n            List&lt;Leaf&gt; leafs = new ArrayList&lt;&gt;();\r\n            leafs.add(Leaf.builder().name(&quot;Leaf 1&quot;).build());\r\n    \r\n            leafs.add(\r\n                    Leaf.builder()\r\n                            .name(&quot;Leaf 2&quot;)\r\n                            .children(\r\n                                    Arrays.asList(\r\n                                            Leaf.builder()\r\n                                                    .name(&quot;Leaf Children 1&quot;)\r\n                                                    .children(\r\n                                                            Arrays.asList(\r\n                                                                    Leaf.builder()\r\n                                                                            .name(&quot;Leaf Children 1.1&quot;)\r\n                                                                            .build(),\r\n                                                                    Leaf.builder()\r\n                                                                            .name(&quot;Leaf Children 1.2&quot;)\r\n                                                                            .build()))\r\n                                                    .build(),\r\n                                            Leaf.builder().name(&quot;Leaf Children 2&quot;).build()))\r\n                            .build());\r\n    \r\n            Tree tree = Tree.builder().name(&quot;tree name&quot;).leafs(leafs).build();\r\n    \r\n            TreeResponse treeResponse = treeMapper.map(tree);\r\n    \r\n            assertEquals(treeResponse.name, &quot;tree name&quot;);\r\n            assertEquals(treeResponse.leafs.size(), 2);\r\n    \r\n            LeafResponse leafWithChildren =\r\n                    treeResponse.leafs.stream()\r\n                            .filter(l -&gt; l.name.equals(&quot;Leaf 2&quot;))\r\n                            .findFirst()\r\n                            .orElse(null);\r\n            assertNotNull(leafWithChildren);\r\n            assertEquals(leafWithChildren.getChildren().size(), 2);\r\n    \r\n            LeafResponse leafWithSubChildren =\r\n                    leafWithChildren.children.stream()\r\n                            .filter(l -&gt; l.name.equals(&quot;Leaf Children 1&quot;))\r\n                            .findFirst()\r\n                            .orElse(null);\r\n            \r\n            assertNotNull(leafWithSubChildren);\r\n            assertEquals(leafWithChildren.getChildren().size(), 2);\r\n        }\r\n\r\n","title":"Java &amp; Mapstruct serialization with recursion","body":"<p>Leaving all classes and simple test that finally worked.</p>\n<p>Tree.java</p>\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor\n@FieldDefaults(level = PUBLIC)\npublic class Tree {\n    String name;\n    List&lt;Leaf&gt; leafs;\n}\n</code></pre>\n<p>Leaf.java</p>\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor\n@FieldDefaults(level = PUBLIC)\npublic class Leaf {\n    String name;\n    List&lt;Leaf&gt; children;\n}\n</code></pre>\n<p>TreeResponse.java</p>\n<pre><code>@Getter\n@Setter\n@FieldDefaults(level = PUBLIC)\npublic class TreeResponse {\n    String name;\n    List&lt;LeafResponse&gt; leafs;\n}\n</code></pre>\n<p>LeafResponse.java</p>\n<pre><code>@Getter\n@Setter\n@FieldDefaults(level = PUBLIC)\npublic class LeafResponse {\n    String name;\n    List&lt;LeafResponse&gt; children;\n}\n</code></pre>\n<p>Mappers</p>\n<pre><code>@Mapper\npublic interface TreeMapper {\n\n    @Mapping(target = &quot;name&quot;, source = &quot;entity.name&quot;)\n    TreeResponse map(Tree entity);\n}\n\n@Mapper\npublic interface LeafMapperSecond {\n    LeafResponse map(Leaf entity);\n\n    List&lt;LeafResponse&gt; map(List&lt;Leaf&gt; entity);\n}\n</code></pre>\n<p>Test</p>\n<pre><code>private TreeMapper treeMapper = Mappers.getMapper(TreeMapper.class);\n\n    @Test\n    public void test() {\n        List&lt;Leaf&gt; leafs = new ArrayList&lt;&gt;();\n        leafs.add(Leaf.builder().name(&quot;Leaf 1&quot;).build());\n\n        leafs.add(\n                Leaf.builder()\n                        .name(&quot;Leaf 2&quot;)\n                        .children(\n                                Arrays.asList(\n                                        Leaf.builder()\n                                                .name(&quot;Leaf Children 1&quot;)\n                                                .children(\n                                                        Arrays.asList(\n                                                                Leaf.builder()\n                                                                        .name(&quot;Leaf Children 1.1&quot;)\n                                                                        .build(),\n                                                                Leaf.builder()\n                                                                        .name(&quot;Leaf Children 1.2&quot;)\n                                                                        .build()))\n                                                .build(),\n                                        Leaf.builder().name(&quot;Leaf Children 2&quot;).build()))\n                        .build());\n\n        Tree tree = Tree.builder().name(&quot;tree name&quot;).leafs(leafs).build();\n\n        TreeResponse treeResponse = treeMapper.map(tree);\n\n        assertEquals(treeResponse.name, &quot;tree name&quot;);\n        assertEquals(treeResponse.leafs.size(), 2);\n\n        LeafResponse leafWithChildren =\n                treeResponse.leafs.stream()\n                        .filter(l -&gt; l.name.equals(&quot;Leaf 2&quot;))\n                        .findFirst()\n                        .orElse(null);\n        assertNotNull(leafWithChildren);\n        assertEquals(leafWithChildren.getChildren().size(), 2);\n\n        LeafResponse leafWithSubChildren =\n                leafWithChildren.children.stream()\n                        .filter(l -&gt; l.name.equals(&quot;Leaf Children 1&quot;))\n                        .findFirst()\n                        .orElse(null);\n        \n        assertNotNull(leafWithSubChildren);\n        assertEquals(leafWithChildren.getChildren().size(), 2);\n    }\n</code></pre>\n"}],"owner":{"account_id":3285612,"reputation":143,"user_id":2765212,"accept_rate":71,"display_name":"JaimeASV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240898,"answer_count":1,"score":0,"last_activity_date":1666991093,"creation_date":1666978938,"question_id":74239075,"body_markdown":"For some context, I am developing a Java Web application with Spring &amp; Lombok (Rest API, controllers, etc).\r\n\r\nAnd for JSON API responses I am using Mapstruct to perform the serializations between internal models and the final external ones. \r\n\r\nBut I cannot figure out how to parse the following example:\r\n\r\nWhere we can have a **Tree**.\r\n\r\n    public class Tree {\r\n        List&lt;Leaf&gt; leafs;\r\n    }\r\n\r\nAnd inside of it we have Leafs. **But each Leaf as inside of it a list of Leafs.**\r\n\r\n    public class Leaf {\r\n        String name;\r\n        List&lt;Leaf&gt; children;\r\n    }\r\n\r\nSo what I would need Mapstruct to do is, serialize the **Tree** into a **TreeResponse**.\r\n\r\n    public class TreeResponse {\r\n        List&lt;LeafResponse&gt; leafs;\r\n    }\r\n\r\nAnd all Leafs inside the Tree into **LeafResponse**, along with the Leaf list inside the &quot;father&quot; Leaf.\r\n\r\n    public class LeafResponse {\r\n        String name;\r\n        List&lt;LeafResponse&gt; children;\r\n    }\r\n\r\nHow can I achieve this in Mapstruct? Thanks","title":"Java &amp; Mapstruct serialization with recursion","body":"<p>For some context, I am developing a Java Web application with Spring &amp; Lombok (Rest API, controllers, etc).</p>\n<p>And for JSON API responses I am using Mapstruct to perform the serializations between internal models and the final external ones.</p>\n<p>But I cannot figure out how to parse the following example:</p>\n<p>Where we can have a <strong>Tree</strong>.</p>\n<pre><code>public class Tree {\n    List&lt;Leaf&gt; leafs;\n}\n</code></pre>\n<p>And inside of it we have Leafs. <strong>But each Leaf as inside of it a list of Leafs.</strong></p>\n<pre><code>public class Leaf {\n    String name;\n    List&lt;Leaf&gt; children;\n}\n</code></pre>\n<p>So what I would need Mapstruct to do is, serialize the <strong>Tree</strong> into a <strong>TreeResponse</strong>.</p>\n<pre><code>public class TreeResponse {\n    List&lt;LeafResponse&gt; leafs;\n}\n</code></pre>\n<p>And all Leafs inside the Tree into <strong>LeafResponse</strong>, along with the Leaf list inside the &quot;father&quot; Leaf.</p>\n<pre><code>public class LeafResponse {\n    String name;\n    List&lt;LeafResponse&gt; children;\n}\n</code></pre>\n<p>How can I achieve this in Mapstruct? Thanks</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666990125,"creation_date":1666989294,"answer_id":74240625,"question_id":74240594,"body_markdown":"You should add `/` to the resource path and use `InputStream`:\r\n\r\n```java\r\npublic class Foo {\r\n\r\n    public static byte[] readResourceFile(String path) throws IOException {\r\n        if (path.charAt(0) != &#39;/&#39;)\r\n            path = &#39;/&#39; + path;\r\n\r\n        try (InputStream in = Foo.class.getResourceAsStream(path)) {\r\n            return IOUtils.toByteArray(in);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nRemember that when you build a `jar` file, the `resource` will be copied to the root of the jar file.\r\n\r\n\r\nThis is the sources:\r\n```\r\nFoo\r\n|--&gt; src\r\n      |--&gt; main\r\n      |     |--&gt; java\r\n      |     |     |--&gt; com\r\n      |     |           |--&gt; stackoverflow\r\n      |     |                  |--&gt; Foo.java\r\n      |     |--&gt; resources\r\n      |     |     |--&gt; key\r\n      |                 |--&gt; private.pem\r\n      |--&gt; test\r\n```\r\n\r\nThis is a `foo.jar` file\r\n```\r\nfoo.jar\r\n|--&gt; META_INF\r\n|--&gt; com\r\n|     |--&gt; stackoverflow\r\n|           |--&gt; Foo.class\r\n|--&gt; key\r\n      |--&gt; private.pem\r\n\r\n```\r\n\r\nAnd the root of the `foo.jar` is a `/`. So the full path to the resouces is `/key/private.pem`.","title":"Get Resource Spring Boot Java","body":"<p>You should add <code>/</code> to the resource path and use <code>InputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public static byte[] readResourceFile(String path) throws IOException {\n        if (path.charAt(0) != '/')\n            path = '/' + path;\n\n        try (InputStream in = Foo.class.getResourceAsStream(path)) {\n            return IOUtils.toByteArray(in);\n        }\n    }\n\n}\n</code></pre>\n<p>Remember that when you build a <code>jar</code> file, the <code>resource</code> will be copied to the root of the jar file.</p>\n<p>This is the sources:</p>\n<pre><code>Foo\n|--&gt; src\n      |--&gt; main\n      |     |--&gt; java\n      |     |     |--&gt; com\n      |     |           |--&gt; stackoverflow\n      |     |                  |--&gt; Foo.java\n      |     |--&gt; resources\n      |     |     |--&gt; key\n      |                 |--&gt; private.pem\n      |--&gt; test\n</code></pre>\n<p>This is a <code>foo.jar</code> file</p>\n<pre><code>foo.jar\n|--&gt; META_INF\n|--&gt; com\n|     |--&gt; stackoverflow\n|           |--&gt; Foo.class\n|--&gt; key\n      |--&gt; private.pem\n\n</code></pre>\n<p>And the root of the <code>foo.jar</code> is a <code>/</code>. So the full path to the resouces is <code>/key/private.pem</code>.</p>\n"},{"tags":[],"owner":{"account_id":7199579,"reputation":176,"user_id":5497176,"display_name":"Kashinath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666990715,"creation_date":1666990715,"answer_id":74240849,"question_id":74240594,"body_markdown":"Try this util method which uses spring framework core and util packages.\r\n\r\n```\r\n    public static String getResourceFileContent(String resourcePath) {\r\n        Objects.requireNonNull(resourcePath);\r\n        ClassPathResource resource = new ClassPathResource(resourcePath);\r\n        try {\r\n            byte[] bytes = FileCopyUtils.copyToByteArray(resource.getInputStream());\r\n            return new String(bytes);\r\n        } catch(IOException ex) {\r\n            log.error(&quot;Failed to parse resource file : &quot; + resourcePath, ex);\r\n        }\r\n    }\r\n```","title":"Get Resource Spring Boot Java","body":"<p>Try this util method which uses spring framework core and util packages.</p>\n<pre><code>    public static String getResourceFileContent(String resourcePath) {\n        Objects.requireNonNull(resourcePath);\n        ClassPathResource resource = new ClassPathResource(resourcePath);\n        try {\n            byte[] bytes = FileCopyUtils.copyToByteArray(resource.getInputStream());\n            return new String(bytes);\n        } catch(IOException ex) {\n            log.error(&quot;Failed to parse resource file : &quot; + resourcePath, ex);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26595247,"reputation":7,"user_id":20217706,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74240849,"answer_count":2,"score":-1,"last_activity_date":1666990715,"creation_date":1666989043,"question_id":74240594,"body_markdown":"\r\nHow to get resource from folder resources/key?\r\n\r\nI did like this:\r\n```\r\nString Key = new String(Files.readAllBytes(Paths.get(ClassLoader.getSystemResource(&quot;key/private.pem&quot;).toURI())));\r\n```\r\nAnd it doesn&#39;t work when I build the project into a jar. So I&#39;m looking for another way to do this.\r\nCan you please tell me how to get the resource?\r\n\r\n\r\n\r\n\t\tprivate PublicKey getPublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException, IOException {\r\n\r\n\t\t    String key = getPublicKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n\t\t            .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\r\n\r\n\t\t    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(key));\r\n\r\n\t\t    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\t\t    return kf.generatePublic(keySpec);\r\n\t\t  }\r\n\r\n\r\n\r\n\t\t  private PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n\t\t    String key = getPrivateKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\r\n\t\t            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n\t\t    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(key));\r\n\r\n\t\t    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n\t\t    return kf.generatePrivate(keySpec);\r\n\t\t  }","title":"Get Resource Spring Boot Java","body":"<p>How to get resource from folder resources/key?</p>\n<p>I did like this:</p>\n<pre><code>String Key = new String(Files.readAllBytes(Paths.get(ClassLoader.getSystemResource(&quot;key/private.pem&quot;).toURI())));\n</code></pre>\n<p>And it doesn't work when I build the project into a jar. So I'm looking for another way to do this.\nCan you please tell me how to get the resource?</p>\n<pre><code>    private PublicKey getPublicKey() throws NoSuchAlgorithmException, InvalidKeySpecException, IOException {\n\n        String key = getPublicKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;);\n\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(key));\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n        return kf.generatePublic(keySpec);\n      }\n\n\n\n      private PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        String key = getPrivateKeyContent().replaceAll(&quot;\\\\n&quot;, &quot;&quot;)\n                .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;).replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(key));\n\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n\n        return kf.generatePrivate(keySpec);\n      }\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666984349,"creation_date":1666983626,"answer_id":74239822,"question_id":74239761,"body_markdown":"Implementing `Comparator` by writing a convoluted multiline lambda is error-prone. Leveraging Java 8 factory methods is always a preferred way to define a `Comparator`, you simply need to use another static method.\r\n\r\nReplace `comparingInt()` with [`comparing(Function, Comparator)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)), which allows to provide a Comparator that should be used to compare the result produced by the specified Function:\r\n\r\n    static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al,\r\n                                       Comparator&lt;Integer&gt; valComp) {\r\n        \r\n        final Comparator&lt;IntIdx&gt; idxComp = Comparator\r\n            .comparing(IntIdx::getValue, valComp)\r\n            .thenComparingInt(IntIdx::getIdx);\r\n        \r\n    }","title":"Create comparator from another of different type","body":"<p>Implementing <code>Comparator</code> by writing a convoluted multiline lambda is error-prone. Leveraging Java 8 factory methods is always a preferred way to define a <code>Comparator</code>, you simply need to use another static method.</p>\n<p>Replace <code>comparingInt()</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>comparing(Function, Comparator)</code></a>, which allows to provide a Comparator that should be used to compare the result produced by the specified Function:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al,\n                                   Comparator&lt;Integer&gt; valComp) {\n    \n    final Comparator&lt;IntIdx&gt; idxComp = Comparator\n        .comparing(IntIdx::getValue, valComp)\n        .thenComparingInt(IntIdx::getIdx);\n    \n}\n</code></pre>\n"}],"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74239822,"answer_count":1,"score":0,"last_activity_date":1666990282,"creation_date":1666983191,"question_id":74239761,"body_markdown":"I have a very simple helper class that looks something like:\r\n\r\n\r\n```\r\nprivate static class IntIdx {\r\n\tint val;\r\n\tint idx;\r\n\tIntIdx(int val, int idx) {\r\n\t\tthis.val = val;\r\n\t\tthis.idx = idx;\r\n\t}\r\n\tpublic int getValue() {\r\n\t\treturn val;\r\n\t}\r\n\tpublic int getIdx() {\r\n\t\treturn idx; \r\n\t}\r\n}\r\n```\r\n\r\nAnd I use a comparator that sorts it by value then by index:\r\n\r\n```\r\nstatic public List&lt;Integer&gt; decode(List&lt;Integer&gt; al) {\r\n\r\n\tfinal Comparator&lt;IntIdx&gt; idxComp = Comparator\r\n  \t\t.comparingInt(IntIdx::getValue)\r\n\t\t.thenComparingInt(IntIdx::getIdx);\r\n\r\n ...[other code]...\r\n}\r\n\r\n```\r\n\r\nI now have a situation where the values must be sorted in a different order, so I want to allow the caller to pass in a Comparator\\&lt;Integer&gt; for the value part. The problem is I don&#39;t know how to create such a comparator using similar syntax to above. Because the caller doesn&#39;t need to be aware of the implementation details, they are not passing a Comparator\\&lt;IntIdx&gt;, they are passing a Comparator\\&lt;Integer&gt; and I don&#39;t know how to chain together comparators for IntIdx using a comparator for Integer.\r\n\r\nI can write something like:\r\n\r\n\r\n```\r\nstatic public List&lt;Integer&gt; decode(List&lt;Integer&gt; al, Comparator&lt;Integer&gt; valComp) {\r\n\r\n\tfinal Comparator&lt;IntIdx&gt; testComp = (i1, i2) -&gt; {\r\n\t\t\tint r = valComp.compare(i1.getValue(), i2.getValue());\r\n\t\t\tif (r != 0) {\r\n\t\t\t\treturn r;\r\n\t\t\t}\r\n\t\t\treturn Integer.compare(i1.getIdx(), i2.getIdx());\r\n\t\t};\r\n\r\n ...[other code]...\r\n}\r\n\r\n```\r\n\r\nwhich should work, but it feels much messier than what I currently have. Is this the best way of writing this? Is there any way to write the above is the nice `Comparator.comparing...` syntax in the current implementation?\r\n\r\nIt feels like there should be something like the following (which I understand doesn&#39;t work)\r\n\r\n```\r\nfinal Comparator&lt;IntIdx&gt; testComp = Comparator.compare(valComp.compare(IntIdx::getValue)).thenComparingInt(IntIdx::getIdx)\r\n```\r\nor\r\n```\r\nfinal Comparator&lt;IntIdx&gt; testComp = valComp.comparing(IntIdx::getValue).thenComparingInt(IntIdx::getIdx);\r\n```\r\n\r\nalthough I can&#39;t find anything like that in the Comparator documentation or my Google/SO searches.\r\n\r\nI assume this is a relatively common thing and I just don&#39;t know the correct terminology to search for. I look forward to face-palming when the answer is revealed.\r\n\r\nIf the caller passed in a Comparator\\&lt;IntIdx&gt;, it would be easy to chain it together like\r\n\r\n```\r\nfinal Comparator&lt;IntIdx&gt; iiComp = valComp.thenComparingInt(IntIdx::getIdx);\r\n```\r\nbut that&#39;s not my scenario.","title":"Create comparator from another of different type","body":"<p>I have a very simple helper class that looks something like:</p>\n<pre><code>private static class IntIdx {\n    int val;\n    int idx;\n    IntIdx(int val, int idx) {\n        this.val = val;\n        this.idx = idx;\n    }\n    public int getValue() {\n        return val;\n    }\n    public int getIdx() {\n        return idx; \n    }\n}\n</code></pre>\n<p>And I use a comparator that sorts it by value then by index:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al) {\n\n    final Comparator&lt;IntIdx&gt; idxComp = Comparator\n        .comparingInt(IntIdx::getValue)\n        .thenComparingInt(IntIdx::getIdx);\n\n ...[other code]...\n}\n\n</code></pre>\n<p>I now have a situation where the values must be sorted in a different order, so I want to allow the caller to pass in a Comparator&lt;Integer&gt; for the value part. The problem is I don't know how to create such a comparator using similar syntax to above. Because the caller doesn't need to be aware of the implementation details, they are not passing a Comparator&lt;IntIdx&gt;, they are passing a Comparator&lt;Integer&gt; and I don't know how to chain together comparators for IntIdx using a comparator for Integer.</p>\n<p>I can write something like:</p>\n<pre><code>static public List&lt;Integer&gt; decode(List&lt;Integer&gt; al, Comparator&lt;Integer&gt; valComp) {\n\n    final Comparator&lt;IntIdx&gt; testComp = (i1, i2) -&gt; {\n            int r = valComp.compare(i1.getValue(), i2.getValue());\n            if (r != 0) {\n                return r;\n            }\n            return Integer.compare(i1.getIdx(), i2.getIdx());\n        };\n\n ...[other code]...\n}\n\n</code></pre>\n<p>which should work, but it feels much messier than what I currently have. Is this the best way of writing this? Is there any way to write the above is the nice <code>Comparator.comparing...</code> syntax in the current implementation?</p>\n<p>It feels like there should be something like the following (which I understand doesn't work)</p>\n<pre><code>final Comparator&lt;IntIdx&gt; testComp = Comparator.compare(valComp.compare(IntIdx::getValue)).thenComparingInt(IntIdx::getIdx)\n</code></pre>\n<p>or</p>\n<pre><code>final Comparator&lt;IntIdx&gt; testComp = valComp.comparing(IntIdx::getValue).thenComparingInt(IntIdx::getIdx);\n</code></pre>\n<p>although I can't find anything like that in the Comparator documentation or my Google/SO searches.</p>\n<p>I assume this is a relatively common thing and I just don't know the correct terminology to search for. I look forward to face-palming when the answer is revealed.</p>\n<p>If the caller passed in a Comparator&lt;IntIdx&gt;, it would be easy to chain it together like</p>\n<pre><code>final Comparator&lt;IntIdx&gt; iiComp = valComp.thenComparingInt(IntIdx::getIdx);\n</code></pre>\n<p>but that's not my scenario.</p>\n"},{"tags":["java","windows","explorer","revert"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666423335,"post_id":74161446,"comment_id":130937620,"body_markdown":"Can&#39;t you just browse to java.exe with the file chooser?","body":"Can&#39;t you just browse to java.exe with the file chooser?"},{"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"score":0,"creation_date":1666981649,"post_id":74161446,"comment_id":131071180,"body_markdown":"The file chooser is what I used to get back to the java icon you can see in attached photo. Still have not been able to get back to that original icon. There were dozens of Java files/folders in the java folder where I found the java.exe file (the one that brought me to the icon in attachment)... for all I know, the correct file is in there somewhere, I just don&#39;t know where, and I&#39;ve learned my lesson about clicking on things I&#39;m not sure about. Long story short, still have not found a fix.","body":"The file chooser is what I used to get back to the java icon you can see in attached photo. Still have not been able to get back to that original icon. There were dozens of Java files/folders in the java folder where I found the java.exe file (the one that brought me to the icon in attachment)... for all I know, the correct file is in there somewhere, I just don&#39;t know where, and I&#39;ve learned my lesson about clicking on things I&#39;m not sure about. Long story short, still have not found a fix."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666989798,"post_id":74161446,"comment_id":131073267,"body_markdown":"Just change [file extension association](http://www.digitaltrends.com/computing/how-to-change-file-associations/)","body":"Just change <a href=\"http://www.digitaltrends.com/computing/how-to-change-file-associations/\" rel=\"nofollow noreferrer\">file extension association</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666990017,"creation_date":1666425138,"answer_id":74161930,"question_id":74161446,"body_markdown":"Start `regedit` and delete the following two keys. And reboot your OS.\r\n\r\n* `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n* `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n\r\n1. Explorer initial state\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Set to open with notepad\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. regedit `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n\r\n[![enter image description here][3]][3]\r\n\r\n4. remove key `HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n5. regedit `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n6. remove key `HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class`\r\n\r\n[![enter image description here][8]][8]\r\n\r\n7. Explorer (sitill unchanged)\r\n\r\n[![enter image description here][9]][9]\r\n\r\n8. Explorer (after restart windows)\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gX9fz.png\r\n  [2]: https://i.stack.imgur.com/ev3hp.png\r\n  [3]: https://i.stack.imgur.com/IEnhP.png\r\n  [4]: https://i.stack.imgur.com/KphNF.png\r\n  [5]: https://i.stack.imgur.com/jQIbp.png\r\n  [6]: https://i.stack.imgur.com/TA94z.png\r\n  [7]: https://i.stack.imgur.com/jaOuo.png\r\n  [8]: https://i.stack.imgur.com/w4YqA.png\r\n  [9]: https://i.stack.imgur.com/JbLgK.png\r\n  [10]: https://i.stack.imgur.com/cutuz.png","title":"I changed the &quot;open with&quot; source for a java .class file in windows explorer &amp; ALL folders changed. How do I revert back to the default &quot;open&quot; option?","body":"<p>Start <code>regedit</code> and delete the following two keys. And reboot your OS.</p>\n<ul>\n<li><code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n<li><code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ul>\n<ol>\n<li>Explorer initial state</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gX9fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gX9fz.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Set to open with notepad</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ev3hp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ev3hp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>regedit <code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IEnhP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IEnhP.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>remove key <code>HKEY_CURRENT_USER\\SOFTWARE\\Classes\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KphNF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KphNF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li>regedit <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jQIbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jQIbp.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TA94z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TA94z.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/jaOuo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaOuo.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>remove key <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.class</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/w4YqA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4YqA.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"7\">\n<li>Explorer (sitill unchanged)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/JbLgK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbLgK.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"8\">\n<li>Explorer (after restart windows)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cutuz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cutuz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26698995,"reputation":1,"user_id":20306360,"display_name":"stanlovesham777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666990017,"creation_date":1666418684,"question_id":74161446,"body_markdown":"In windows explorer, in my java project folder, I right clicked on one of my .class files and clicked/changed the &quot;open with&quot; source to notepad. I did not check the &quot;always open with&quot; box, but ALL .class files in every one of my folders changed to the notepad &quot;icon&quot;. I can&#39;t even remember what the old icon looked like, but that is where I&#39;m trying to get back to. I was able to change the &quot;open with&quot; icon over to some form of java.exe format (see attachment), but how do I get it to revert back to that default &quot;icon&quot;? [view of .class file &quot;icons&quot; in my folder][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhSUc.png","title":"I changed the &quot;open with&quot; source for a java .class file in windows explorer &amp; ALL folders changed. How do I revert back to the default &quot;open&quot; option?","body":"<p>In windows explorer, in my java project folder, I right clicked on one of my .class files and clicked/changed the &quot;open with&quot; source to notepad. I did not check the &quot;always open with&quot; box, but ALL .class files in every one of my folders changed to the notepad &quot;icon&quot;. I can't even remember what the old icon looked like, but that is where I'm trying to get back to. I was able to change the &quot;open with&quot; icon over to some form of java.exe format (see attachment), but how do I get it to revert back to that default &quot;icon&quot;? <a href=\"https://i.stack.imgur.com/bhSUc.png\" rel=\"nofollow noreferrer\">view of .class file &quot;icons&quot; in my folder</a></p>\n"},{"tags":["java","maven","intellij-idea","junit","cucumber"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1666988896,"post_id":74240256,"comment_id":131073027,"body_markdown":"Does the project build outside of IntelliJ IDEA using command line `mvn clean package`? Why do you think it&#39;s IntelliJ IDEA issue?","body":"Does the project build outside of IntelliJ IDEA using command line <code>mvn clean package</code>? Why do you think it&#39;s IntelliJ IDEA issue?"},{"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"score":0,"creation_date":1666989457,"post_id":74240256,"comment_id":131073191,"body_markdown":"@CrazyCoder I only built it with Intellij","body":"@CrazyCoder I only built it with Intellij"}],"answers":[{"tags":[],"owner":{"account_id":25950587,"reputation":1,"user_id":19668690,"display_name":"nameNotFOundException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987099,"creation_date":1666987099,"answer_id":74240317,"question_id":74240256,"body_markdown":"did you tried with a different scope than &lt;scope&gt;test&lt;scope&gt; for the cucumber-junit-platform-engine dependency?","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p>did you tried with a different scope than test for the cucumber-junit-platform-engine dependency?</p>\n"},{"tags":[],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666989980,"creation_date":1666989980,"answer_id":74240739,"question_id":74240256,"body_markdown":"https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven\r\n\r\nfollowing the procedure fixes the &quot;cannot access &lt;package&gt;&quot; problem.","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p><a href=\"https://stackoverflow.com/questions/7600028/maven-error-in-opening-zip-file-when-running-maven\">Maven : error in opening zip file when running maven</a></p>\n<p>following the procedure fixes the &quot;cannot access &quot; problem.</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74240739,"answer_count":2,"score":1,"last_activity_date":1666989980,"creation_date":1666986665,"question_id":74240256,"body_markdown":"I am planning to use Cucumber Test with Junit 5 in Maven. So I followed [cucumber](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine) to install different maven dependency. I added a runner class to execute my cucumber tests&lt;br&gt;&lt;br&gt;\r\n```\r\npackage pirate;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;pirate&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\r\npublic class Runner {}\r\n```\r\nI also created a new folder name ```pirate``` under ```resources``` folder and move all ```.feature``` files into that new folder.\r\nBut when I execute ```mvn clean install```, the command fails at testCompile:\r\n[![enter image description here][1]][1]\r\nIt seems like the compiler can&#39;t read the package name?\r\nBelow is my pom.xml\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;onetwothree&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;onetwothree&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n              cucumber.junit-platform.naming-strategy=long\r\n            &lt;/configurationParameters&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nMy project structure is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nbut if I comment out ```cucumber-junit-platform-engine``` dependency in ```pom.xml```, the error is gone but it won&#39;t run the cucumber tests. Did I miss something here? &lt;br&gt;&lt;br&gt;\r\n\r\nNot sure if it&#39;s related, but one of the error messages is like:\r\n```\r\n[ERROR] error reading /Users/xx/.m2/repository/org/junit/platform/junit-platform-engine/1.9.1/junit-platform-engine-1.9.1.jar; zip file is empty\r\n[ERROR] /Users/xx/Desktop/zz/src/test/java/pirate/Runner.java:[1,1] cannot access pirate\r\n  ZipException opening &quot;junit-platform-engine-1.9.1.jar&quot;: zip END header not found\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g4p75.png\r\n  [2]: https://i.stack.imgur.com/ANPh6.png","title":"Intellij mvn install complains &quot;cannot access &lt;package&gt;&quot; during testComplile after adding cucumber-junit-platform-engine dependency in pom.xml","body":"<p>I am planning to use Cucumber Test with Junit 5 in Maven. So I followed <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\">cucumber</a> to install different maven dependency. I added a runner class to execute my cucumber tests<br><br></p>\n<pre><code>package pirate;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;pirate&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\npublic class Runner {}\n</code></pre>\n<p>I also created a new folder name <code>pirate</code> under <code>resources</code> folder and move all <code>.feature</code> files into that new folder.\nBut when I execute <code>mvn clean install</code>, the command fails at testCompile:\n<a href=\"https://i.stack.imgur.com/g4p75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g4p75.png\" alt=\"enter image description here\" /></a>\nIt seems like the compiler can't read the package name?\nBelow is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;onetwothree&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;onetwothree&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;properties&gt;\n            &lt;configurationParameters&gt;\n              cucumber.junit-platform.naming-strategy=long\n            &lt;/configurationParameters&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n      &lt;version&gt;1.9.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>My project structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/ANPh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANPh6.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I comment out <code>cucumber-junit-platform-engine</code> dependency in <code>pom.xml</code>, the error is gone but it won't run the cucumber tests. Did I miss something here? <br><br></p>\n<p>Not sure if it's related, but one of the error messages is like:</p>\n<pre><code>[ERROR] error reading /Users/xx/.m2/repository/org/junit/platform/junit-platform-engine/1.9.1/junit-platform-engine-1.9.1.jar; zip file is empty\n[ERROR] /Users/xx/Desktop/zz/src/test/java/pirate/Runner.java:[1,1] cannot access pirate\n  ZipException opening &quot;junit-platform-engine-1.9.1.jar&quot;: zip END header not found\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":0,"creation_date":1666977045,"post_id":74238584,"comment_id":131069785,"body_markdown":"How can an attribute be a GSI, that makes no sense? Is the mac address the partition key? Is there a sort key?","body":"How can an attribute be a GSI, that makes no sense? Is the mac address the partition key? Is there a sort key?"}],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666977642,"creation_date":1666977642,"answer_id":74238839,"question_id":74238584,"body_markdown":"Unlike the actual DDB table, GSI&#39;s and LSI&#39;s always allow duplicates.\r\n\r\nWhat are you using as a primary key (hash &amp; sort) for the table itself?\r\n\r\nIf you want to DDB enforce uniqueness, you&#39;ll need to come up with a way to use the unique attributes in the table&#39;s primary key.","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>Unlike the actual DDB table, GSI's and LSI's always allow duplicates.</p>\n<p>What are you using as a primary key (hash &amp; sort) for the table itself?</p>\n<p>If you want to DDB enforce uniqueness, you'll need to come up with a way to use the unique attributes in the table's primary key.</p>\n"},{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666981176,"creation_date":1666981176,"answer_id":74239464,"question_id":74238584,"body_markdown":"The only way to make this possible introduces a lot of overhead which perhaps is not the best solution for your use-case. \r\n\r\nhttps://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/\r\n\r\nI would suggest that you rethink your tables schema to allow the base table handle the uniqueness and have the indexes based on other attributes. ","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>The only way to make this possible introduces a lot of overhead which perhaps is not the best solution for your use-case.</p>\n<p><a href=\"https://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/database/simulating-amazon-dynamodb-unique-constraints-using-transactions/</a></p>\n<p>I would suggest that you rethink your tables schema to allow the base table handle the uniqueness and have the indexes based on other attributes.</p>\n"}],"owner":{"account_id":153880,"reputation":4434,"user_id":369449,"accept_rate":95,"display_name":"FlyingStreudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74239464,"answer_count":2,"score":0,"last_activity_date":1666989976,"creation_date":1666976182,"question_id":74238584,"body_markdown":"I am attempting to use a `PutItemRequest` to insert records into a DynamoDB table, however I do not want the insert to succeed when certain values on the inserted item already exist on other items.\r\n\r\nHere is the code for the request:\r\n\r\n```\r\nvar req = PutItemRequest.builder()\r\n            .tableName(TABLE_NAME)\r\n            .item(getAllValues(settings))\r\n            .conditionExpression(&quot;attribute_not_exists(#&quot; + MAC_ADDRESS + &quot;) AND attribute_not_exists(#&quot; + REGISTRATION_CODE + &quot;)&quot;)\r\n            .expressionAttributeNames(Map.of(&quot;#&quot; + MAC_ADDRESS, MAC_ADDRESS, &quot;#&quot; + REGISTRATION_CODE, REGISTRATION_CODE))\r\n            .build();\r\n```\r\n\r\nThe table already contains an item with a mac address of &#39;000000000000&#39; so I would expect the above to fail when trying to insert another item with the same mac address, but the insert succeeds.\r\n\r\nWhat am I doing wrong here? Both MAC_ADDRESS and REGISTRATION_CODE are GSI&#39;s.","title":"How to enforce GSI uniqueness on a PutItemRequest","body":"<p>I am attempting to use a <code>PutItemRequest</code> to insert records into a DynamoDB table, however I do not want the insert to succeed when certain values on the inserted item already exist on other items.</p>\n<p>Here is the code for the request:</p>\n<pre><code>var req = PutItemRequest.builder()\n            .tableName(TABLE_NAME)\n            .item(getAllValues(settings))\n            .conditionExpression(&quot;attribute_not_exists(#&quot; + MAC_ADDRESS + &quot;) AND attribute_not_exists(#&quot; + REGISTRATION_CODE + &quot;)&quot;)\n            .expressionAttributeNames(Map.of(&quot;#&quot; + MAC_ADDRESS, MAC_ADDRESS, &quot;#&quot; + REGISTRATION_CODE, REGISTRATION_CODE))\n            .build();\n</code></pre>\n<p>The table already contains an item with a mac address of '000000000000' so I would expect the above to fail when trying to insert another item with the same mac address, but the insert succeeds.</p>\n<p>What am I doing wrong here? Both MAC_ADDRESS and REGISTRATION_CODE are GSI's.</p>\n"},{"tags":["java","json","spring","rest","validation"],"comments":[{"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"score":0,"creation_date":1667377423,"post_id":74239059,"comment_id":131150190,"body_markdown":"I have solved the issue simply using a service which does what the custom annotation is meant to do... I don&#39;t think that I can use custom annotations on simple objects like Strings...","body":"I have solved the issue simply using a service which does what the custom annotation is meant to do... I don&#39;t think that I can use custom annotations on simple objects like Strings..."}],"answers":[{"tags":[],"owner":{"account_id":252452,"reputation":836,"user_id":602526,"display_name":"Frantz Romain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666989118,"creation_date":1666989118,"answer_id":74240601,"question_id":74239059,"body_markdown":"Your controller should be using the @Valid annotation instead of @MyValidator. I updated your controller below to what should work.\r\n\r\n    public ResponseEntity&lt;String&gt; authorize(@Valid @RequestBody String token) {\r\n\r\n    // logic\r\n    \r\n}","title":"Can I use a custom validator for a RequestBody that is a string?","body":"<p>Your controller should be using the @Valid annotation instead of @MyValidator. I updated your controller below to what should work.</p>\n<pre><code>public ResponseEntity&lt;String&gt; authorize(@Valid @RequestBody String token) {\n\n// logic\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666989118,"creation_date":1666978889,"question_id":74239059,"body_markdown":"I have created a custom validator that should validate if the body of a request (a simple string) is in Json format. I see that the custom validator is never called. Here are some parts of my code:\r\n\r\n\r\n```\r\n@RequestMapping(value = &quot;/endpoint&quot;, method = { RequestMethod.POST })\r\n@ResponseBody\r\npublic ResponseEntity&lt;String&gt; authorize(@RequestBody  @MyValidator String token) {\r\n\r\n    // logic\r\n    \r\n}\r\n```\r\nThis is the annotation:\r\n\r\n```\r\n@Target({ ElementType.PARAMETER })\r\n@Retention(RUNTIME)\r\n@Constraint(validatedBy = { JsonSyntaxValidator.class })\r\n@Documented\r\npublic @interface MyValidator {\r\n\r\n    String message() default &quot;{Token is not in Json syntax}&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\nThis is the validator:\r\n\r\n\r\n\r\n```\r\npublic class JsonSyntaxValidator implements ConstraintValidator&lt;MyValidator, String&gt; {\r\n\r\n    @Override\r\n    public void initialize(JsonFormat constraintAnnotation) {\r\n\r\n    }\r\n\r\n    /**\r\n     * It returns true if the Google Pay or Apple Pay token is in Json format.\r\n     */\r\n    @Override\r\n    public boolean isValid(String token, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        boolean isValid = true;\r\n\r\n        try {\r\n            JsonParser.parseString(token);\r\n        } catch (JsonSyntaxException e) {\r\n            isValid = false;\r\n        }\r\n        return isValid;\r\n    }\r\n}\r\n```\r\n\r\nI have tried invoking the endpoint with postman passing it a string not formatted as json and in debug I see that the check is skipped past.\r\n\r\nI don&#39;t want to have a POJO with fields, I just want the request body as a string.\r\nI haven&#39;t found much online, only a post stating that it might not be possible.\r\n\r\n\r\nAny help would be really appreciated :) ","title":"Can I use a custom validator for a RequestBody that is a string?","body":"<p>I have created a custom validator that should validate if the body of a request (a simple string) is in Json format. I see that the custom validator is never called. Here are some parts of my code:</p>\n<pre><code>@RequestMapping(value = &quot;/endpoint&quot;, method = { RequestMethod.POST })\n@ResponseBody\npublic ResponseEntity&lt;String&gt; authorize(@RequestBody  @MyValidator String token) {\n\n    // logic\n    \n}\n</code></pre>\n<p>This is the annotation:</p>\n<pre><code>@Target({ ElementType.PARAMETER })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { JsonSyntaxValidator.class })\n@Documented\npublic @interface MyValidator {\n\n    String message() default &quot;{Token is not in Json syntax}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>This is the validator:</p>\n<pre><code>public class JsonSyntaxValidator implements ConstraintValidator&lt;MyValidator, String&gt; {\n\n    @Override\n    public void initialize(JsonFormat constraintAnnotation) {\n\n    }\n\n    /**\n     * It returns true if the Google Pay or Apple Pay token is in Json format.\n     */\n    @Override\n    public boolean isValid(String token, ConstraintValidatorContext constraintValidatorContext) {\n\n        boolean isValid = true;\n\n        try {\n            JsonParser.parseString(token);\n        } catch (JsonSyntaxException e) {\n            isValid = false;\n        }\n        return isValid;\n    }\n}\n</code></pre>\n<p>I have tried invoking the endpoint with postman passing it a string not formatted as json and in debug I see that the check is skipped past.</p>\n<p>I don't want to have a POJO with fields, I just want the request body as a string.\nI haven't found much online, only a post stating that it might not be possible.</p>\n<p>Any help would be really appreciated :)</p>\n"},{"tags":["java","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1523753428,"post_id":49834332,"comment_id":86690302,"body_markdown":"add more detail of your code so that others can analysis it","body":"add more detail of your code so that others can analysis it"},{"owner":{"account_id":13279347,"reputation":11,"user_id":9587576,"display_name":"Tiago Monteiro"},"score":0,"creation_date":1523993859,"post_id":49834332,"comment_id":86788448,"body_markdown":"Hi, tanks for your help, but I resolve the problem. In proprieties file, i change the name of the aplication for the main packege.","body":"Hi, tanks for your help, but I resolve the problem. In proprieties file, i change the name of the aplication for the main packege."},{"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"score":0,"creation_date":1524746355,"post_id":49834332,"comment_id":87102361,"body_markdown":"You need add spring-context dependency. It solved my problem.","body":"You need add spring-context dependency. It solved my problem."},{"owner":{"account_id":6881809,"reputation":468,"user_id":5288292,"accept_rate":77,"display_name":"Resul Rzaeeff"},"score":0,"creation_date":1524746358,"post_id":49834332,"comment_id":87102363,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;4.3.14.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;org.springframework&lt;/groupId&gt;             &lt;artifactId&gt;spring-context&lt;/artifactId&gt;             &lt;version&gt;4.3.14.RELEASE&lt;/version&gt;         &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":12203288,"reputation":165,"user_id":8907047,"display_name":"Thiago Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988895,"creation_date":1666988895,"answer_id":74240564,"question_id":49834332,"body_markdown":"\r\nAccording to [this issue][1]:\r\n\r\n&gt; Its failing because you have multiple spring contexts going. You may have to experiment with removing/adding @Configuration and @EnableWebMvc configurations\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/2041","title":"Error creating bean with name &#39;webMvcRequestHandlerProvider&#39;","body":"<p>According to <a href=\"https://github.com/springfox/springfox/issues/2041\" rel=\"nofollow noreferrer\">this issue</a>:</p>\n<blockquote>\n<p>Its failing because you have multiple spring contexts going. You may have to experiment with removing/adding @Configuration and @EnableWebMvc configurations</p>\n</blockquote>\n"}],"owner":{"account_id":13279347,"reputation":11,"user_id":9587576,"display_name":"Tiago Monteiro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666988895,"creation_date":1523727483,"question_id":49834332,"body_markdown":"\r\nI&#39;m new on Spring &quot;things&quot;\r\nI use this version:\r\n\r\n    spring-boot-starter-parent\r\n    1.5.3-RELEASE\r\n\r\nAnd I have this dependencies on the pom.xml\r\n\r\n\r\n - io.springfox springfox-swagger2    2.8.0\r\n - io.springfox springfox-swagger-ui 2.8.0\r\n\r\nAnd I think this generated the error below, but I don&#39;t know why.\r\n\r\nCan help me?\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webMvcRequestHandlerProvider&#39; defined in URL [jar:file:/C:/Users/tjoel/.m2/repository/io/springfox/springfox-spring-web/2.8.0/springfox-spring-web-`enter code here`2.8.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method &#39;requestMappingHandlerMapping&#39; threw exception; nested exception is java.lang.AbstractMethodError\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]","title":"Error creating bean with name &#39;webMvcRequestHandlerProvider&#39;","body":"<p>I'm new on Spring \"things\"\nI use this version:</p>\n\n<pre><code>spring-boot-starter-parent\n1.5.3-RELEASE\n</code></pre>\n\n<p>And I have this dependencies on the pom.xml</p>\n\n<ul>\n<li>io.springfox springfox-swagger2    2.8.0</li>\n<li>io.springfox springfox-swagger-ui 2.8.0</li>\n</ul>\n\n<p>And I think this generated the error below, but I don't know why.</p>\n\n<p>Can help me?</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/C:/Users/tjoel/.m2/repository/io/springfox/springfox-spring-web/2.8.0/springfox-spring-web-`enter code here`2.8.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is java.lang.AbstractMethodError\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189) ~[spring-beans-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n</code></pre>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":11934710,"reputation":21,"user_id":8733632,"display_name":"Stefan Uhlig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666988298,"creation_date":1666988298,"answer_id":74240478,"question_id":34977663,"body_markdown":"I also had this error. In my case, I drive an audio generating application which draws an oscillogram into a canvas. The audio generators are running in a separate thread:\r\n\r\n    Platform.runLater(() -&gt; {\r\n      // Main Loop\r\n      Thread t1 = new Thread(() -&gt; {\r\n        while (running) {\r\n          try {\r\n            double sample = generator.pullNextSample();\r\n            oscRT.putSample(sample);\r\n            output.write(sample);\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n      }, &quot;Engine Thread&quot;);\r\n      t1.start();\r\n    });\r\n\r\nMost times it runs without issue, sometime the odd exception occurs and the window content is broken.","title":"JavaFX canvas strange errors","body":"<p>I also had this error. In my case, I drive an audio generating application which draws an oscillogram into a canvas. The audio generators are running in a separate thread:</p>\n<pre><code>Platform.runLater(() -&gt; {\n  // Main Loop\n  Thread t1 = new Thread(() -&gt; {\n    while (running) {\n      try {\n        double sample = generator.pullNextSample();\n        oscRT.putSample(sample);\n        output.write(sample);\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n    }\n  }, &quot;Engine Thread&quot;);\n  t1.start();\n});\n</code></pre>\n<p>Most times it runs without issue, sometime the odd exception occurs and the window content is broken.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666988298,"creation_date":1453649800,"question_id":34977663,"body_markdown":"I am using javaFX canvas and i update the painting every 1 second or more frequently if i am dragging the mouse over it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlthough i am in **JavaFX** **thread** i get these strange errors:\r\n\r\n1)`java.lang.InternalError: Unrecognized PGCanvas token: 67\r\n\tat com.sun.javafx.sg.prism.NGCanvas.renderStream(NGCanvas.java:1157)\r\n`\r\n\r\n\r\n2)`java.lang.ClassCastException: com.sun.prism.paint.Color cannot be cast to java.lang.String`\r\n\r\n3)Something an error for `miter&gt;1`\r\n\r\nMost times it work well but others it just doing its own things.\r\n\r\n&gt; What is causing this errors?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QiqmH.png","title":"JavaFX canvas strange errors","body":"<p>I am using javaFX canvas and i update the painting every 1 second or more frequently if i am dragging the mouse over it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QiqmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QiqmH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Although i am in <strong>JavaFX</strong> <strong>thread</strong> i get these strange errors:</p>\n\n<p>1)<code>java.lang.InternalError: Unrecognized PGCanvas token: 67\n    at com.sun.javafx.sg.prism.NGCanvas.renderStream(NGCanvas.java:1157)\n</code></p>\n\n<p>2)<code>java.lang.ClassCastException: com.sun.prism.paint.Color cannot be cast to java.lang.String</code></p>\n\n<p>3)Something an error for <code>miter&gt;1</code></p>\n\n<p>Most times it work well but others it just doing its own things.</p>\n\n<blockquote>\n  <p>What is causing this errors?</p>\n</blockquote>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1666976032,"post_id":74236769,"comment_id":131069444,"body_markdown":"Write the separate mapper for `Attribute` and use it in your `ResponseContractMapper` like: `@Mapper(uses=AttributeMapper.class)`","body":"Write the separate mapper for <code>Attribute</code> and use it in your <code>ResponseContractMapper</code> like: <code>@Mapper(uses=AttributeMapper.class)</code>"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1667197188,"post_id":74236769,"comment_id":131104972,"body_markdown":"That&#39;s should be pretty straightforward: just define a mapping between any `Impl` and relative `Contract` and don&#39;t worry about list; MapStruct is smart enough to map collection automatically without needs of custom code","body":"That&#39;s should be pretty straightforward: just define a mapping between any <code>Impl</code> and relative <code>Contract</code> and don&#39;t worry about list; MapStruct is smart enough to map collection automatically without needs of custom code"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666987862,"creation_date":1666987862,"answer_id":74240431,"question_id":74236769,"body_markdown":"You can declare a method for mapping `AttributeImpl` to `AttributeContract` that would MapStruct use in the implementation. For example:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface ResponseContractMapper {\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n\r\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\r\n    AttributeContract mapAttribute(AttributeImpl impl);\r\n}\r\n```\r\n\r\nThere is also a second solution that @Georgii Lvov suggested in the comments, which includes creating a separate mapper and providing it to `ResponseContractMapper` through the `uses` attribute as shown below.\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AttributeContractMapper {\r\n\r\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\r\n    AttributeContract mapFrom(AttributeImpl impl);\r\n}\r\n```\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses=AttributeContractMapper.class)\r\npublic interface ResponseContractMapper {\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```","title":"Mapstruct - Mapping object inside list","body":"<p>You can declare a method for mapping <code>AttributeImpl</code> to <code>AttributeContract</code> that would MapStruct use in the implementation. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ResponseContractMapper {\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\n    AttributeContract mapAttribute(AttributeImpl impl);\n}\n</code></pre>\n<p>There is also a second solution that @Georgii Lvov suggested in the comments, which includes creating a separate mapper and providing it to <code>ResponseContractMapper</code> through the <code>uses</code> attribute as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AttributeContractMapper {\n\n    @Mapping(targer=&quot;idContract&quot;, source =&quot;idImpl&quot;)\n    AttributeContract mapFrom(AttributeImpl impl);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses=AttributeContractMapper.class)\npublic interface ResponseContractMapper {\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n"}],"owner":{"account_id":25593360,"reputation":1,"user_id":19369670,"display_name":"bolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666987862,"creation_date":1666967030,"question_id":74236769,"body_markdown":"I need to map an object that&#39;s inside an list of objects, but don&#39;t want to create a full builder method because the object have a lot of attributes and inner attributes.\r\n\r\nExample:\r\n\r\n**Contract**\r\n\r\n```\r\npublic class ResponseContractClass {\r\n    private List&lt;ItemContract&gt; items;\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ItemContract {\r\n    private AttributeContract attribute;\r\n}\r\n```\r\n\r\n```\r\npublic class AttributeContract {\r\n    private Long idContract;\r\n    private String nameContract;\r\n}\r\n```\r\n\r\n--------------------------------\r\n\r\n\r\n\r\n**Impl**\r\n\r\n```\r\npublic class ResponseImplClass {\r\n    private List&lt;ItemImpl&gt; items;\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class ItemImpl {\r\n    private AttributeImpl attribute;\r\n}\r\n```\r\n\r\n```\r\npublic class AttributeImpl {\r\n    private Long idCImpl;\r\n    private String nameImpl;\r\n// **The problem is that this attributes signature is different from the contract ones**\r\n}\r\n```\r\n--------------------------------\r\n\r\n\r\n\r\n**Mapper**\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```\r\n\r\n\r\n--------------------------------\r\n\r\nI tried someting like this, but don&#39;t work, probabbly because it&#39;s inside a list :(\r\n\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n    @Mapping(targer=&quot;items.attribute.idContract&quot;, source =&quot;items.attribute.idImpl&quot;)\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n}\r\n```\r\n\r\nAgain I&#39;m avoiding doing this, because the object and it&#39;s attributes would be too big, but would solve the problem, that&#39;s my last resource:\r\n\r\n\r\n```\r\npublic interface ResponseContractMapper {\r\n\r\n    @Mapping(targer=&quot;items&quot;, expression =&quot;(java(mapItems)&quot;)\r\n    ResponseContractClass mapFrom(ResponseImplClass response);\r\n\r\n    default List&lt;ItemContract&gt; mapitems(response){\r\n       return response.stream.map(...);\r\n    }\r\n}\r\n```\r\n","title":"Mapstruct - Mapping object inside list","body":"<p>I need to map an object that's inside an list of objects, but don't want to create a full builder method because the object have a lot of attributes and inner attributes.</p>\n<p>Example:</p>\n<p><strong>Contract</strong></p>\n<pre><code>public class ResponseContractClass {\n    private List&lt;ItemContract&gt; items;\n}\n</code></pre>\n<pre><code>public class ItemContract {\n    private AttributeContract attribute;\n}\n</code></pre>\n<pre><code>public class AttributeContract {\n    private Long idContract;\n    private String nameContract;\n}\n</code></pre>\n<hr />\n<p><strong>Impl</strong></p>\n<pre><code>public class ResponseImplClass {\n    private List&lt;ItemImpl&gt; items;\n}\n</code></pre>\n<pre><code>public class ItemImpl {\n    private AttributeImpl attribute;\n}\n</code></pre>\n<pre><code>public class AttributeImpl {\n    private Long idCImpl;\n    private String nameImpl;\n// **The problem is that this attributes signature is different from the contract ones**\n}\n</code></pre>\n<hr />\n<p><strong>Mapper</strong></p>\n<pre><code>public interface ResponseContractMapper {\n\n\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n<hr />\n<p>I tried someting like this, but don't work, probabbly because it's inside a list :(</p>\n<pre><code>public interface ResponseContractMapper {\n\n    @Mapping(targer=&quot;items.attribute.idContract&quot;, source =&quot;items.attribute.idImpl&quot;)\n    ResponseContractClass mapFrom(ResponseImplClass response);\n}\n</code></pre>\n<p>Again I'm avoiding doing this, because the object and it's attributes would be too big, but would solve the problem, that's my last resource:</p>\n<pre><code>public interface ResponseContractMapper {\n\n    @Mapping(targer=&quot;items&quot;, expression =&quot;(java(mapItems)&quot;)\n    ResponseContractClass mapFrom(ResponseImplClass response);\n\n    default List&lt;ItemContract&gt; mapitems(response){\n       return response.stream.map(...);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","exec"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666981333,"post_id":74239423,"comment_id":131071100,"body_markdown":"It looks like you have a variable in a script that isn&#39;t being recognized as a variable, but I have no idea how to address that.  Do you know where this issue is occurring?","body":"It looks like you have a variable in a script that isn&#39;t being recognized as a variable, but I have no idea how to address that.  Do you know where this issue is occurring?"},{"owner":{"account_id":26720634,"reputation":11,"user_id":20334419,"display_name":"P. L"},"score":0,"creation_date":1666983561,"post_id":74239423,"comment_id":131071697,"body_markdown":"I have no idea, I&#39;ve been looking for the exact point of error but I can&#39;t find it, I don&#39;t know why","body":"I have no idea, I&#39;ve been looking for the exact point of error but I can&#39;t find it, I don&#39;t know why"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666987820,"creation_date":1666987820,"answer_id":74240422,"question_id":74239423,"body_markdown":"You messed up your configuration.\r\n\r\n**maven-compiler-plugin** is responsible for compiling your project.\r\nIt&#39;s configuration does not take `mainClass` element. Good IDE should highlight this as an error (IntelliJ does)\r\n\r\n**maven-exec-plugin** can launch java apps. It needs exec.mainClass argument, but you didn&#39;t pass it.\r\nSee https://www.baeldung.com/maven-java-main-method:\r\n```lang-xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;com.baeldung.main.Exec&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n**spring-boot-maven-plugin** has a lot of tools specifically tailored for Spring boot apps. It has its own goal for launching Spring apps:\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nIMHO you will be better off if you rely on this plugin to launch your app (on dev machine)","title":"Could not find or load main class ${exec..mainClass} caused by: java.lang.ClassNotFoundException: ${exec.mainClass}","body":"<p>You messed up your configuration.</p>\n<p><strong>maven-compiler-plugin</strong> is responsible for compiling your project.\nIt's configuration does not take <code>mainClass</code> element. Good IDE should highlight this as an error (IntelliJ does)</p>\n<p><strong>maven-exec-plugin</strong> can launch java apps. It needs exec.mainClass argument, but you didn't pass it.\nSee <a href=\"https://www.baeldung.com/maven-java-main-method\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-java-main-method</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.baeldung.main.Exec&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>spring-boot-maven-plugin</strong> has a lot of tools specifically tailored for Spring boot apps. It has its own goal for launching Spring apps:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>IMHO you will be better off if you rely on this plugin to launch your app (on dev machine)</p>\n"}],"owner":{"account_id":26720634,"reputation":11,"user_id":20334419,"display_name":"P. L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666987820,"creation_date":1666980961,"question_id":74239423,"body_markdown":"I&#39;ve been looking for solutions for a long time, I&#39;ve tried different plugins that some colleagues recommended, but they haven&#39;t worked, I even used mvnw or mvn clean install, everything is perfect. but when running my file this error pops up and I don&#39;t know how to fix it. if anyone could advise me i would be grateful\r\n\r\n\r\nThis is my pom.xml:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.proyecto&lt;/groupId&gt;\r\n        &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;backend&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.proyecto.java.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt; \r\n\r\n\r\nand here&#39;s the error\r\n\r\n    --- exec-maven-plugin:3.0.0:exec (default-cli) @ backend ---\r\n    Error: Could not find or load main class ${exec.mainClass}\r\n    Caused by: java.lang.ClassNotFoundException: ${exec.mainClass}\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\r\n        at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\r\n        at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\r\n\r\n\r\n","title":"Could not find or load main class ${exec..mainClass} caused by: java.lang.ClassNotFoundException: ${exec.mainClass}","body":"<p>I've been looking for solutions for a long time, I've tried different plugins that some colleagues recommended, but they haven't worked, I even used mvnw or mvn clean install, everything is perfect. but when running my file this error pops up and I don't know how to fix it. if anyone could advise me i would be grateful</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.proyecto&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.proyecto.java.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt; \n</code></pre>\n<p>and here's the error</p>\n<pre><code>--- exec-maven-plugin:3.0.0:exec (default-cli) @ backend ---\nError: Could not find or load main class ${exec.mainClass}\nCaused by: java.lang.ClassNotFoundException: ${exec.mainClass}\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\n</code></pre>\n"},{"tags":["java","binary-search"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666985585,"creation_date":1666985585,"answer_id":74240107,"question_id":74239959,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n    double[] arr = new double[9999];\r\n    Random random = new Random();\r\n\r\n    for (int i = 0; i &lt; arr.length; i++)\r\n        arr[i] = random.nextDouble() * 9_999;\r\n\r\n    Arrays.sort(arr);\r\n    System.out.println(binarySearch(arr, random.nextDouble() * 9_999));\r\n}\r\n\r\npublic static int binarySearch(double[] arr, double find) {\r\n    int lo = 0;\r\n    int hi = arr.length - 1;\r\n\r\n    while (lo + 1 &lt; hi) {\r\n        int mid = (lo + hi) / 2;\r\n        int res = Double.compare(find, arr[mid]);\r\n\r\n        if (res == 0)\r\n            return mid;\r\n        if (res &lt; 0)\r\n            hi = mid;\r\n        else\r\n            lo = mid;\r\n    }\r\n\r\n    if (Double.compare(find, arr[lo]) == 0)\r\n        return lo;\r\n    if (Double.compare(find, arr[hi]) == 0)\r\n        return hi;\r\n\r\n    return -1;\r\n}\r\n```","title":"Index out bound error when I try doing a binary search through the array","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    double[] arr = new double[9999];\n    Random random = new Random();\n\n    for (int i = 0; i &lt; arr.length; i++)\n        arr[i] = random.nextDouble() * 9_999;\n\n    Arrays.sort(arr);\n    System.out.println(binarySearch(arr, random.nextDouble() * 9_999));\n}\n\npublic static int binarySearch(double[] arr, double find) {\n    int lo = 0;\n    int hi = arr.length - 1;\n\n    while (lo + 1 &lt; hi) {\n        int mid = (lo + hi) / 2;\n        int res = Double.compare(find, arr[mid]);\n\n        if (res == 0)\n            return mid;\n        if (res &lt; 0)\n            hi = mid;\n        else\n            lo = mid;\n    }\n\n    if (Double.compare(find, arr[lo]) == 0)\n        return lo;\n    if (Double.compare(find, arr[hi]) == 0)\n        return hi;\n\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7199579,"reputation":176,"user_id":5497176,"display_name":"Kashinath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666987472,"creation_date":1666987472,"answer_id":74240368,"question_id":74239959,"body_markdown":"Array index out of bound means you are trying to access the array element which is not within the array. \r\n&lt;br&gt;In Java `array.length` gives you the size of an array.\r\n&lt;br&gt;But elements of an array are identified by the `index` and `index` value starts from `0`.\r\n&lt;br&gt;\r\nWhich means that first element of an array has the `index =  0` and the last element has the `index = array.length(size) - 1`.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nIn your code of binary search, you are taking `int last = array.lenght` which is wrong.\r\n&lt;br&gt;It should be `int last = array.length - 1`","title":"Index out bound error when I try doing a binary search through the array","body":"<p>Array index out of bound means you are trying to access the array element which is not within the array.\n<br>In Java <code>array.length</code> gives you the size of an array.\n<br>But elements of an array are identified by the <code>index</code> and <code>index</code> value starts from <code>0</code>.\n<br>\nWhich means that first element of an array has the <code>index =  0</code> and the last element has the <code>index = array.length(size) - 1</code>.\n<br>\n<br>\nIn your code of binary search, you are taking <code>int last = array.lenght</code> which is wrong.\n<br>It should be <code>int last = array.length - 1</code></p>\n"}],"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666987472,"creation_date":1666984511,"question_id":74239959,"body_markdown":"I am trying to create a program that does a binary search of array of randomly generated doubles and when I try to run the code, I get this error.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 9999 out of bounds for length 9999\r\n\tat Search.binarySearch(Search.java:34)\r\n\tat Search.main(Search.java:17)\r\n\r\n```\r\n\r\n\r\n\r\nI tried changing the array size and making it smaller and bigger, but I always get a error. I don&#39;t know what less I can do. Here is the code.\r\n\r\n```\r\nimport java.lang.Math;\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\nclass Search{\r\n\tpublic static void main(String [] args){\r\n\t\tdouble [] array2  = new double [9999];\t\r\n\t\tfor(int i = 0; i &lt;array2.length;i++){\t\r\n\t\t\tarray[i] = (double) (Math.random() * 9999);\t\r\n\t\t}\r\n\t\tArrays.sort(array);\r\n\t\tSystem.out.println(binarySearch(array, new Random().nextDouble(9999)));\r\n\t}\r\n\r\n    public static int binarySearch(double [] array, double find){\r\n    \tint first = 0;\r\n    \tint last = array.length;\r\n    \tint mid = (first + last ) / 2;\r\n    \twhile(first &lt;= last){\r\n    \t\tif(array[mid] &lt; last){\r\n    \t\t\tfirst = mid +1;\r\n    \t\t}else if(array[mid] == find){\r\n    \t\t\treturn mid;\r\n    \t\t}else{\r\n    \t\t\tlast = mid -1;\r\n    \t\t}\r\n    \t\tmid = (first + last) / 2;\r\n    \t}\r\n    \tif(first &gt; last){\r\n    \t\treturn -1;\r\n    \t}\r\n    \treturn -1;\r\n    }\r\n}\t\r\n```\r\nHow it is supposed to work that it takes the array of doubles and a random number to find if the number is in the array, if it is returns the index, if its not in the array, it returns -1. I have a linear search method that works but for some reason this won&#39;t work. Thank you\r\n","title":"Index out bound error when I try doing a binary search through the array","body":"<p>I am trying to create a program that does a binary search of array of randomly generated doubles and when I try to run the code, I get this error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 9999 out of bounds for length 9999\n    at Search.binarySearch(Search.java:34)\n    at Search.main(Search.java:17)\n\n</code></pre>\n<p>I tried changing the array size and making it smaller and bigger, but I always get a error. I don't know what less I can do. Here is the code.</p>\n<pre><code>import java.lang.Math;\nimport java.util.Arrays;\nimport java.util.Random;\n\nclass Search{\n    public static void main(String [] args){\n        double [] array2  = new double [9999];  \n        for(int i = 0; i &lt;array2.length;i++){   \n            array[i] = (double) (Math.random() * 9999); \n        }\n        Arrays.sort(array);\n        System.out.println(binarySearch(array, new Random().nextDouble(9999)));\n    }\n\n    public static int binarySearch(double [] array, double find){\n        int first = 0;\n        int last = array.length;\n        int mid = (first + last ) / 2;\n        while(first &lt;= last){\n            if(array[mid] &lt; last){\n                first = mid +1;\n            }else if(array[mid] == find){\n                return mid;\n            }else{\n                last = mid -1;\n            }\n            mid = (first + last) / 2;\n        }\n        if(first &gt; last){\n            return -1;\n        }\n        return -1;\n    }\n}   \n</code></pre>\n<p>How it is supposed to work that it takes the array of doubles and a random number to find if the number is in the array, if it is returns the index, if its not in the array, it returns -1. I have a linear search method that works but for some reason this won't work. Thank you</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1666906664,"post_id":74228554,"comment_id":131052465,"body_markdown":"I doubt there&#39;s any clean way.","body":"I doubt there&#39;s any clean way."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1666906697,"post_id":74228554,"comment_id":131052476,"body_markdown":"*I would like to do this in a less verbose way using the Stream API*.  Streams have a lot of overhead to do what they do.  And less verbose does not mean better or even more efficient.  Use a loop.","body":"<i>I would like to do this in a less verbose way using the Stream API</i>.  Streams have a lot of overhead to do what they do.  And less verbose does not mean better or even more efficient.  Use a loop."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666946589,"post_id":74228554,"comment_id":131059492,"body_markdown":"Does it have to be a Stream operation? You can do this as simple as `List&lt;Object&gt; objectList = new ArrayList&lt;&gt;(); List&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;(myIdList); missingObjIds.removeIf(id -&gt; myObjectMap.containsKey(id) &amp;&amp; objectList.add(myObjectMap.get(id)));` You wouldn’t even need a new list for `missingObjIds` if the source `myIdList` supports removal and isn’t needed afterwards.","body":"Does it have to be a Stream operation? You can do this as simple as <code>List&lt;Object&gt; objectList = new ArrayList&lt;&gt;(); List&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;(myIdList); missingObjIds.removeIf(id -&gt; myObjectMap.containsKey(id) &amp;&amp; objectList.add(myObjectMap.get(id)));</code> You wouldn’t even need a new list for <code>missingObjIds</code> if the source <code>myIdList</code> supports removal and isn’t needed afterwards."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666948583,"post_id":74228554,"comment_id":131060171,"body_markdown":"@Holger This way of using `removeIf()` is definitely interesting, and it&#39;s also performant and meets the requirement of conciseness.","body":"@Holger This way of using <code>removeIf()</code> is definitely interesting, and it&#39;s also performant and meets the requirement of conciseness."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666911081,"creation_date":1666911081,"answer_id":74229051,"question_id":74228554,"body_markdown":"It&#39;s not very efficient, but you can do it.\r\n\r\n    List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    Map&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n    myObjectMap.put(&quot;b&quot;, &quot;B&quot;);\r\n    \r\n    Map&lt;Boolean, List&lt;String&gt;&gt; partitioned = myIdList.stream()\r\n        .collect(Collectors.partitioningBy(myObjectMap::containsKey));\r\n    \r\n    List&lt;Object&gt; objectList = partitioned.get(true).stream()\r\n        .map(myObjectMap::get).collect(Collectors.toList());\r\n    List&lt;String&gt; missingObjIds = partitioned.get(false);\r\n    \r\n    System.out.println(&quot;objectList=&quot; + objectList);\r\n    System.out.println(&quot;missingObjIds=&quot; + missingObjIds);\r\n\r\noutput:\r\n\r\n    objectList=[B]\r\n    missingObjIds=[a, c]\r\n\r\n","title":"Partition stream data and obtain two different collections as a result","body":"<p>It's not very efficient, but you can do it.</p>\n<pre><code>List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\nmyObjectMap.put(&quot;b&quot;, &quot;B&quot;);\n\nMap&lt;Boolean, List&lt;String&gt;&gt; partitioned = myIdList.stream()\n    .collect(Collectors.partitioningBy(myObjectMap::containsKey));\n\nList&lt;Object&gt; objectList = partitioned.get(true).stream()\n    .map(myObjectMap::get).collect(Collectors.toList());\nList&lt;String&gt; missingObjIds = partitioned.get(false);\n\nSystem.out.println(&quot;objectList=&quot; + objectList);\nSystem.out.println(&quot;missingObjIds=&quot; + missingObjIds);\n</code></pre>\n<p>output:</p>\n<pre><code>objectList=[B]\nmissingObjIds=[a, c]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987127,"creation_date":1666911413,"answer_id":74229094,"question_id":74228554,"body_markdown":"This logic can be implemented in a **single** stream-statement and without *side-effects* by using a custom `Collector`, which can be created using static factory method [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)).\r\n\r\n&lt;sup&gt;&lt;b&gt;Note:&lt;/b&gt; I would not claim that this solution is less verbose than a `for`-loop. But it&#39;s definitely &lt;b&gt;performant&lt;/b&gt; and &lt;b&gt;maintainable&lt;/b&gt;, and the client code is &lt;b&gt;concise&lt;/b&gt;.&lt;/sup&gt;\r\n\r\nFor that, we would need to define a custom accumulation type, which should be represented by a *mutable object* capable of consuming stream elements and producing the final result.\r\n\r\nSince we need to obtain two different lists, the result of the stream execution should the accumulation type itself exposing these two lists.\r\n\r\nSo, in a nut-shell, the *custom type*, let&#39;s call it `Partitioner`, which we would use to perform mutable reduction should wrap two list. It would be more versatile if we make it generic and add a `Function` and `Predicate`, which would be involved in partitioning the data to its properties.\r\n\r\nAnd for convenience, we can implement [`Consumer`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html) interface.\r\n\r\nThat&#39;s how the stream-statement in the client code might look like:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        Map&lt;String, Object&gt; myObjectMap = Map.of(&quot;a&quot;, &quot;Alice&quot;);\r\n    \r\n        Partitioner&lt;String, Object&gt; result = myIdList.stream()\r\n            .collect(partition(myObjectMap::containsKey, myObjectMap::get));\r\n    \r\n        System.out.println(result.getItems());\r\n        System.out.println(result.getKeys());\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[Alice] // Values assated with the Keys that match the IDs from the list\r\n[b, c]  // missing IDs\r\n```\r\n\r\nThe factory method `partition()` producing an instance of `Collector()` might look like this:\r\n\r\n    public static &lt;K, R&gt; Collector&lt;K, ?, Partitioner&lt;K, R&gt;&gt; partition(Predicate&lt;K&gt; predicate,\r\n                                                                      Function&lt;K, R&gt; mapper) {\r\n        return Collector.of(\r\n            () -&gt; new Partitioner&lt;&gt;(predicate, mapper),\r\n            Partitioner::accept,\r\n            Partitioner::merge\r\n        );\r\n    }\r\n\r\nAnd that&#39;s how the *custom accumulation type* containing the actual logic might be implemented:\r\n\r\n    public static class Partitioner&lt;K, R&gt; implements Consumer&lt;K&gt; {\r\n        \r\n        private List&lt;R&gt; items = new ArrayList&lt;&gt;(); // objectList\r\n        private List&lt;K&gt; keys = new ArrayList&lt;&gt;();  // missingObjIds\r\n        private Predicate&lt;K&gt; shouldStoreItem;\r\n        private Function&lt;K, R&gt; mapper;\r\n        \r\n        public Partitioner(Predicate&lt;K&gt; shouldStoreItem, Function&lt;K, R&gt; mapper) {\r\n            this.shouldStoreItem = shouldStoreItem;\r\n            this.mapper = mapper;\r\n        }\r\n        \r\n        @Override\r\n        public void accept(K k) {\r\n            if (shouldStoreItem.test(k)) items.add(mapper.apply(k));\r\n            else keys.add(k);\r\n        }\r\n        \r\n        public Partitioner&lt;K, R&gt; merge(Partitioner&lt;K, R&gt; other) {\r\n            items.addAll(other.items);\r\n            keys.addAll(other.keys);\r\n            return this;\r\n        }\r\n        \r\n        // getters\r\n    }","title":"Partition stream data and obtain two different collections as a result","body":"<p>This logic can be implemented in a <strong>single</strong> stream-statement and without <em>side-effects</em> by using a custom <code>Collector</code>, which can be created using static factory method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p><sup><b>Note:</b> I would not claim that this solution is less verbose than a <code>for</code>-loop. But it's definitely <b>performant</b> and <b>maintainable</b>, and the client code is <b>concise</b>.</sup></p>\n<p>For that, we would need to define a custom accumulation type, which should be represented by a <em>mutable object</em> capable of consuming stream elements and producing the final result.</p>\n<p>Since we need to obtain two different lists, the result of the stream execution should the accumulation type itself exposing these two lists.</p>\n<p>So, in a nut-shell, the <em>custom type</em>, let's call it <code>Partitioner</code>, which we would use to perform mutable reduction should wrap two list. It would be more versatile if we make it generic and add a <code>Function</code> and <code>Predicate</code>, which would be involved in partitioning the data to its properties.</p>\n<p>And for convenience, we can implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\"><code>Consumer</code></a> interface.</p>\n<p>That's how the stream-statement in the client code might look like:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    Map&lt;String, Object&gt; myObjectMap = Map.of(&quot;a&quot;, &quot;Alice&quot;);\n\n    Partitioner&lt;String, Object&gt; result = myIdList.stream()\n        .collect(partition(myObjectMap::containsKey, myObjectMap::get));\n\n    System.out.println(result.getItems());\n    System.out.println(result.getKeys());\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[Alice] // Values assated with the Keys that match the IDs from the list\n[b, c]  // missing IDs\n</code></pre>\n<p>The factory method <code>partition()</code> producing an instance of <code>Collector()</code> might look like this:</p>\n<pre><code>public static &lt;K, R&gt; Collector&lt;K, ?, Partitioner&lt;K, R&gt;&gt; partition(Predicate&lt;K&gt; predicate,\n                                                                  Function&lt;K, R&gt; mapper) {\n    return Collector.of(\n        () -&gt; new Partitioner&lt;&gt;(predicate, mapper),\n        Partitioner::accept,\n        Partitioner::merge\n    );\n}\n</code></pre>\n<p>And that's how the <em>custom accumulation type</em> containing the actual logic might be implemented:</p>\n<pre><code>public static class Partitioner&lt;K, R&gt; implements Consumer&lt;K&gt; {\n    \n    private List&lt;R&gt; items = new ArrayList&lt;&gt;(); // objectList\n    private List&lt;K&gt; keys = new ArrayList&lt;&gt;();  // missingObjIds\n    private Predicate&lt;K&gt; shouldStoreItem;\n    private Function&lt;K, R&gt; mapper;\n    \n    public Partitioner(Predicate&lt;K&gt; shouldStoreItem, Function&lt;K, R&gt; mapper) {\n        this.shouldStoreItem = shouldStoreItem;\n        this.mapper = mapper;\n    }\n    \n    @Override\n    public void accept(K k) {\n        if (shouldStoreItem.test(k)) items.add(mapper.apply(k));\n        else keys.add(k);\n    }\n    \n    public Partitioner&lt;K, R&gt; merge(Partitioner&lt;K, R&gt; other) {\n        items.addAll(other.items);\n        keys.addAll(other.keys);\n        return this;\n    }\n    \n    // getters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666952297,"creation_date":1666918114,"answer_id":74229598,"question_id":74228554,"body_markdown":"If you really want to use a stream here is one way.\r\n- this creates a an entry based on the presence of the id.\r\n- it then groups those independent entries by the keys &quot;Missing&quot; and &quot;Present&quot;\r\n\r\nThe Data\r\n```\r\n List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n Map&lt;String, Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n myObjectMap.put(&quot;c&quot;, &quot;C&quot;);\r\n```\r\nThe process\r\n```\r\nMap&lt;String, List&lt;Object&gt;&gt; map = myIdList.stream()\r\n         .map(id-&gt; {\r\n             Entry&lt;String, Object&gt; entry;\r\n             Object obj = myObjectMap.get(id);\r\n             if (obj == null) {\r\n                 entry = new SimpleEntry&lt;&gt;(&quot;Missing&quot;, id);\r\n             } else {\r\n                 entry = new SimpleEntry&lt;&gt;(&quot;Present&quot;, obj);\r\n             }\r\n             return entry;\r\n         }).collect(Collectors.groupingBy(Entry::getKey, Collectors\r\n                 .mapping(Entry::getValue, Collectors.toList())));\r\n\r\nSystem.out.println(map.get(&quot;Present&quot;));\r\nSystem.out.println(map.get(&quot;Missing&quot;));\r\n```\r\nprints\r\n```\r\n[C]\r\n[a, b]\r\n\r\n```\r\nBut I would you just stick with what you have.  It makes sense and works.","title":"Partition stream data and obtain two different collections as a result","body":"<p>If you really want to use a stream here is one way.</p>\n<ul>\n<li>this creates a an entry based on the presence of the id.</li>\n<li>it then groups those independent entries by the keys &quot;Missing&quot; and &quot;Present&quot;</li>\n</ul>\n<p>The Data</p>\n<pre><code> List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n Map&lt;String, Object&gt; myObjectMap = new HashMap&lt;&gt;();\n myObjectMap.put(&quot;c&quot;, &quot;C&quot;);\n</code></pre>\n<p>The process</p>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; map = myIdList.stream()\n         .map(id-&gt; {\n             Entry&lt;String, Object&gt; entry;\n             Object obj = myObjectMap.get(id);\n             if (obj == null) {\n                 entry = new SimpleEntry&lt;&gt;(&quot;Missing&quot;, id);\n             } else {\n                 entry = new SimpleEntry&lt;&gt;(&quot;Present&quot;, obj);\n             }\n             return entry;\n         }).collect(Collectors.groupingBy(Entry::getKey, Collectors\n                 .mapping(Entry::getValue, Collectors.toList())));\n\nSystem.out.println(map.get(&quot;Present&quot;));\nSystem.out.println(map.get(&quot;Missing&quot;));\n</code></pre>\n<p>prints</p>\n<pre><code>[C]\n[a, b]\n\n</code></pre>\n<p>But I would you just stick with what you have.  It makes sense and works.</p>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666956815,"creation_date":1666956815,"answer_id":74234762,"question_id":74228554,"body_markdown":"This is a foreach circumstance.\r\n```\r\nmyIdList.stream().forEach(i -&gt; {\r\n    boolean b = myObjectMap.get(i) == null ? missingObjIds.add(i) : objectList.add(myObjectMap.get(i));\r\n});\r\n```","title":"Partition stream data and obtain two different collections as a result","body":"<p>This is a foreach circumstance.</p>\n<pre><code>myIdList.stream().forEach(i -&gt; {\n    boolean b = myObjectMap.get(i) == null ? missingObjIds.add(i) : objectList.add(myObjectMap.get(i));\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666958760,"creation_date":1666958760,"answer_id":74235165,"question_id":74228554,"body_markdown":"You could implement in a stream and with partitioning / helper class. However why make your loop complicated when 2 stream implementation is concise?\r\n\r\n    List&lt;Object&gt; objectList    = myIdList.stream()\r\n          .map(myObjectMap::get).filter(Objects::nonNull).toList();\r\n    List&lt;String&gt; missingObjIds = myIdList.stream()\r\n          .filter(Predicate.not(myObjectMap::containsKey)).toList();\r\n\r\n","title":"Partition stream data and obtain two different collections as a result","body":"<p>You could implement in a stream and with partitioning / helper class. However why make your loop complicated when 2 stream implementation is concise?</p>\n<pre><code>List&lt;Object&gt; objectList    = myIdList.stream()\n      .map(myObjectMap::get).filter(Objects::nonNull).toList();\nList&lt;String&gt; missingObjIds = myIdList.stream()\n      .filter(Predicate.not(myObjectMap::containsKey)).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666987457,"creation_date":1666987457,"answer_id":74240367,"question_id":74228554,"body_markdown":"**BE SIMPLE!!!**\r\n```java\r\nList&lt;String&gt; ids = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nMap&lt;String, Object&gt; map = Map.of();\r\n\r\nList&lt;Object&gt; objectList = ids.stream()\r\n                             .filter(map::containsKey)\r\n                             .map(map::get)\r\n                             .collect(Collectors.toList());\r\nList&lt;String&gt; missingIds = ids.stream()\r\n                             .filter(id -&gt; !map.containsKey(id))\r\n                             .collect(Collectors.toList());\r\n```","title":"Partition stream data and obtain two different collections as a result","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; ids = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String, Object&gt; map = Map.of();\n\nList&lt;Object&gt; objectList = ids.stream()\n                             .filter(map::containsKey)\n                             .map(map::get)\n                             .collect(Collectors.toList());\nList&lt;String&gt; missingIds = ids.stream()\n                             .filter(id -&gt; !map.containsKey(id))\n                             .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1666987457,"creation_date":1666906468,"question_id":74228554,"body_markdown":"I have a list of IDs `myIdList` and a map `myObjectMap` associating the ID with a corresponding object, `Map&lt;String,Object&gt;`.\r\n\r\nI need to go through my list of IDs, and for each ID - if it&#39;s present in the map, add the object associated with it to a new list of objects, otherwise add the ID to a list of missing IDs.\r\n\r\nI can easily do this using a simple for each loop:\r\n```\r\nList&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\r\n\t\t\r\nList&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\nList&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;();\r\n\r\nfor(String id : myIdList) {\r\n\tObject obj = myObjectMap.get(id);\r\n\tif(obj == null) {\r\n\t\tmissingObjIds.add(id);\r\n\t} else {\r\n\t\tobjectList.add(obj);\r\n\t}\r\n}\r\n```\r\nI would like to do this in a less verbose way using the Stream API, but I&#39;m not sure how.\r\n\r\nI&#39;ve tried partitioning the stream, but that got me either a map with 2 lists of IDs (which would necessitate going through the list again to retrieve the mapped objects) or a list of objects with nulls for all the missing objects and no way to get the missing IDs. \r\n\r\nI&#39;m sure there has to be a way to do it. Any ideas?","title":"Partition stream data and obtain two different collections as a result","body":"<p>I have a list of IDs <code>myIdList</code> and a map <code>myObjectMap</code> associating the ID with a corresponding object, <code>Map&lt;String,Object&gt;</code>.</p>\n<p>I need to go through my list of IDs, and for each ID - if it's present in the map, add the object associated with it to a new list of objects, otherwise add the ID to a list of missing IDs.</p>\n<p>I can easily do this using a simple for each loop:</p>\n<pre><code>List&lt;String&gt; myIdList = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nMap&lt;String,Object&gt; myObjectMap = new HashMap&lt;&gt;();\n        \nList&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\nList&lt;String&gt; missingObjIds = new ArrayList&lt;&gt;();\n\nfor(String id : myIdList) {\n    Object obj = myObjectMap.get(id);\n    if(obj == null) {\n        missingObjIds.add(id);\n    } else {\n        objectList.add(obj);\n    }\n}\n</code></pre>\n<p>I would like to do this in a less verbose way using the Stream API, but I'm not sure how.</p>\n<p>I've tried partitioning the stream, but that got me either a map with 2 lists of IDs (which would necessitate going through the list again to retrieve the mapped objects) or a list of objects with nulls for all the missing objects and no way to get the missing IDs.</p>\n<p>I'm sure there has to be a way to do it. Any ideas?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1666981765,"post_id":74239493,"comment_id":131071210,"body_markdown":"You can&#39;t clone random objects. They&#39;d need to implement Cloneable and expose the `clone()` method. But it&#39;s [better](https://stackoverflow.com/questions/2597965/why-people-are-so-afraid-of-using-clone-on-collection-and-jdk-classes) to add a copy constructor.","body":"You can&#39;t clone random objects. They&#39;d need to implement Cloneable and expose the <code>clone()</code> method. But it&#39;s <a href=\"https://stackoverflow.com/questions/2597965/why-people-are-so-afraid-of-using-clone-on-collection-and-jdk-classes\">better</a> to add a copy constructor."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667035113,"post_id":74239493,"comment_id":131078796,"body_markdown":"&quot;copy [constructor&quot; is not applicable for an interface](https://stackoverflow.com/q/2804041/592355)...but you can just call it (&amp; implement `default`) &quot;method&quot;: `interface IBase {\n    void doJob(); [default] IBase copyMe(IBase src)[;|{...}]}`","body":"&quot;copy <a href=\"https://stackoverflow.com/q/2804041/592355\">constructor&quot; is not applicable for an interface</a>...but you can just call it (&amp; implement <code>default</code>) &quot;method&quot;: <code>interface IBase {     void doJob(); [default] IBase copyMe(IBase src)[;|{...}]}</code>"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666986898,"creation_date":1666981693,"answer_id":74239537,"question_id":74239493,"body_markdown":"Look at the contract `public Object clone()`, so to use this method in your class you shouild declare it and case `Object` to the `T`.\r\n\r\n```java\r\ninterface IBase extends Cloneable {\r\n\r\n    void doJob();\r\n\r\n    void update();\r\n    \r\n    Object clone();\r\n\r\n}\r\n\r\npublic class MyCache&lt;T extends IBase&gt; {\r\n\r\n    private T t1;\r\n    private T t2;\r\n\r\n    public MyCache(T t1, T t2) {\r\n        this.t1 = t1;\r\n        this.t2 = t2;\r\n    }\r\n\r\n    private void init() {\r\n        t1.update();\r\n        t2 = (T)t1.clone();\r\n    }\r\n}\r\n```\r\n\r\n***P.S.** This is working solution, but at this time an outdated. It&#39;s better to use a copy constructor instead.*","title":"What is the right way to assign a data member to another data member of generic type","body":"<p>Look at the contract <code>public Object clone()</code>, so to use this method in your class you shouild declare it and case <code>Object</code> to the <code>T</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface IBase extends Cloneable {\n\n    void doJob();\n\n    void update();\n    \n    Object clone();\n\n}\n\npublic class MyCache&lt;T extends IBase&gt; {\n\n    private T t1;\n    private T t2;\n\n    public MyCache(T t1, T t2) {\n        this.t1 = t1;\n        this.t2 = t2;\n    }\n\n    private void init() {\n        t1.update();\n        t2 = (T)t1.clone();\n    }\n}\n</code></pre>\n<p><em><strong>P.S.</strong> This is working solution, but at this time an outdated. It's better to use a copy constructor instead.</em></p>\n"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74239537,"answer_count":1,"score":1,"last_activity_date":1666986898,"creation_date":1666981401,"question_id":74239493,"body_markdown":"    interface IBase {\r\n        void doJob();\r\n    }\r\n\r\n    public class MyCache&lt;T extends IBase&gt; {\r\n        private T t1;\r\n        private T t2;\r\n        public MyCache(T t1, T t2) {\r\n            this.t1 = t1;\r\n            this.t2 = t2;\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            t1.update();\r\n            t2 = t1.clone(); // ERROR!\r\n        }\r\n    }\r\n\r\nAs you see, I&#39;m trying to develop a generic class. In the function `init()`, I assign the copy of `t1` to `t2`. But it can&#39;t be compiled.\r\n\r\nI&#39;m not very good at Java. Can someone help me on this issue?","title":"What is the right way to assign a data member to another data member of generic type","body":"<pre><code>interface IBase {\n    void doJob();\n}\n\npublic class MyCache&lt;T extends IBase&gt; {\n    private T t1;\n    private T t2;\n    public MyCache(T t1, T t2) {\n        this.t1 = t1;\n        this.t2 = t2;\n    }\n\n    @PostConstruct\n    private void init() {\n        t1.update();\n        t2 = t1.clone(); // ERROR!\n    }\n}\n</code></pre>\n<p>As you see, I'm trying to develop a generic class. In the function <code>init()</code>, I assign the copy of <code>t1</code> to <code>t2</code>. But it can't be compiled.</p>\n<p>I'm not very good at Java. Can someone help me on this issue?</p>\n"},{"tags":["java","arrays","algorithm","arraylist"],"answers":[{"tags":[],"owner":{"account_id":55831,"reputation":9422,"user_id":167288,"accept_rate":89,"display_name":"Adem"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1418288691,"creation_date":1418287391,"answer_id":27418590,"question_id":27418320,"body_markdown":"you need to sum all possible sub array. to do that, you can do this code\r\n\r\n\r\n\tpublic static int maxSubsequenceSum(int[] X) {\r\n\t\tint max = 0;\r\n\t\tboolean max_init = false;\r\n        int max_from=0;\r\n        int max_to=0; // this is not included\r\n\t\tfor (int i = 0; i &lt; X.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; X.length + 1; j++) {\r\n\t\t\t\tint total = 0;\r\n\t\t\t\tfor (int k = i; k &lt; j; k++) {\r\n\t\t\t\t\ttotal += X[k];\r\n\t\t\t\t}\r\n\t\t\t\tif (total &gt; max || !max_init){\r\n\t\t\t\t\tmax = total;\r\n\t\t\t\t\tmax_init = true;\r\n                    max_from = i;\r\n                    max_to = j;\r\n               }\r\n\t\t\t}\r\n\t\t}\r\n        for (int i=max_from;i&lt;max_to;i++)\r\n           System.out.print(X[i]+&quot;,&quot;);\r\n        System.out.println();\r\n\t\treturn max;\r\n\t}","title":"Maximum Sum SubArray","body":"<p>you need to sum all possible sub array. to do that, you can do this code</p>\n\n<pre><code>public static int maxSubsequenceSum(int[] X) {\n    int max = 0;\n    boolean max_init = false;\n    int max_from=0;\n    int max_to=0; // this is not included\n    for (int i = 0; i &lt; X.length; i++) {\n        for (int j = i + 1; j &lt; X.length + 1; j++) {\n            int total = 0;\n            for (int k = i; k &lt; j; k++) {\n                total += X[k];\n            }\n            if (total &gt; max || !max_init){\n                max = total;\n                max_init = true;\n                max_from = i;\n                max_to = j;\n           }\n        }\n    }\n    for (int i=max_from;i&lt;max_to;i++)\n       System.out.print(X[i]+\",\");\n    System.out.println();\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1418289050,"creation_date":1418289050,"answer_id":27419025,"question_id":27418320,"body_markdown":"You can replace Math.Max functions by if statements and update start and end index of the best subarray. Pascal version:\r\n\r\n        if X[i] &gt; sum + X[i] then begin\r\n            sum := X[i];\r\n            start := i;\r\n          end\r\n          else\r\n            sum := sum + X[i];\r\n          if max &lt; sum then begin\r\n            max := sum;\r\n            finish := i;\r\n          end;","title":"Maximum Sum SubArray","body":"<p>You can replace Math.Max functions by if statements and update start and end index of the best subarray. Pascal version:</p>\n\n<pre><code>    if X[i] &gt; sum + X[i] then begin\n        sum := X[i];\n        start := i;\n      end\n      else\n        sum := sum + X[i];\n      if max &lt; sum then begin\n        max := sum;\n        finish := i;\n      end;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5254435,"reputation":967,"user_id":4197697,"display_name":"softwarenewbie7331"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418289407,"creation_date":1418289084,"answer_id":27419033,"question_id":27418320,"body_markdown":"there is an o(n) solution, a single for loop through the array and reset your sub-sequence whenever your current total is below 0.\r\n\r\n{5, 15, -30, 10, -5, 40, 10}\r\n\r\n - 5 + 15 = 20\r\n - 20 - 30 = -10 (reset sub-sequence)\r\n - 10 -5 +40 +10 = 55\r\n - end. 55 is max sub-sequence\r\n\r\nedit: to get subsequence...\r\nwhenever you change max, update your subsequence\r\n\r\n - current left index changes only when u reset\r\n - current right index changes every iteration\r\n - new max -&gt; save current left and right index...\r\n\r\n","title":"Maximum Sum SubArray","body":"<p>there is an o(n) solution, a single for loop through the array and reset your sub-sequence whenever your current total is below 0.</p>\n\n<p>{5, 15, -30, 10, -5, 40, 10}</p>\n\n<ul>\n<li>5 + 15 = 20</li>\n<li>20 - 30 = -10 (reset sub-sequence)</li>\n<li>10 -5 +40 +10 = 55</li>\n<li>end. 55 is max sub-sequence</li>\n</ul>\n\n<p>edit: to get subsequence...\nwhenever you change max, update your subsequence</p>\n\n<ul>\n<li>current left index changes only when u reset</li>\n<li>current right index changes every iteration</li>\n<li>new max -> save current left and right index...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2003969,"reputation":5976,"user_id":1794345,"accept_rate":79,"display_name":"Rerito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1418289536,"creation_date":1418289219,"answer_id":27419072,"question_id":27418320,"body_markdown":"You can track the starting and ending indexes of the current best subarray in your loop. Instead of using `max()` to compute `sum`and `max`, just do the following :\r\n\r\n    int sum_start = 0, sum_end = 0, start = 0, end = 0;\r\n    // In the for loop\r\n    if (X[i] &gt; sum + X[i]) {\r\n        sum = X[i];\r\n        sum_start = i;\r\n        sum_end = i;\r\n    } else {\r\n        ++sum_end;\r\n    }\r\n    if (sum &gt; max) {\r\n        start = sum_start;\r\n        end = sum_end;\r\n        max = sum;\r\n    }","title":"Maximum Sum SubArray","body":"<p>You can track the starting and ending indexes of the current best subarray in your loop. Instead of using <code>max()</code> to compute <code>sum</code>and <code>max</code>, just do the following :</p>\n\n<pre><code>int sum_start = 0, sum_end = 0, start = 0, end = 0;\n// In the for loop\nif (X[i] &gt; sum + X[i]) {\n    sum = X[i];\n    sum_start = i;\n    sum_end = i;\n} else {\n    ++sum_end;\n}\nif (sum &gt; max) {\n    start = sum_start;\n    end = sum_end;\n    max = sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495825822,"creation_date":1495783508,"answer_id":44195937,"question_id":27418320,"body_markdown":"It can be done by capturing the start and end while identifying maximum sub-array as follows:\r\n\r\n### Code\r\n\r\n    package recursion;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class MaximumSubArray {\r\n\r\n\t    private static SubArray maxSubArray(int[] values, int low, int high) {\r\n\t\t    if (low == high) {\r\n\t\t\t    // base condition\r\n\t\t\t    return new SubArray(low, high, values[low]);\r\n    \t\t} else {\r\n        \t\tint mid = (int) (low + high) / 2;\r\n\t    \t\t// Check left side\r\n\t\t    \tSubArray leftSubArray = maxSubArray(values, low, mid);\r\n\t\t\t    // Check right side\r\n    \t\t\tSubArray rightSubArray = maxSubArray(values, mid + 1, high);\r\n\t    \t\t// Check from middle\r\n\t\t    \tSubArray crossSubArray = maxCrossSubArray(values, low, mid, high);\r\n\t\t\t    // Compare left, right and middle arrays to find maximum sub-array\r\n\t\t\t    if (leftSubArray.getSum() &gt;= rightSubArray.getSum()\r\n\t\t\t\t    \t&amp;&amp; leftSubArray.getSum() &gt;= crossSubArray.getSum()) {\r\n\t\t\t\t    return leftSubArray;\r\n\t\t\t    } else if (rightSubArray.getSum() &gt;= leftSubArray.getSum()\r\n\t\t\t\t    \t&amp;&amp; rightSubArray.getSum() &gt;= crossSubArray.getSum()) {\r\n\t\t\t\t    return rightSubArray;\r\n\t\t\t    } else {\r\n\t\t\t\t    return crossSubArray;\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private static SubArray maxCrossSubArray(int[] values, int low, int mid,\r\n\t\t    \tint high) {\r\n\t\t    int sum = 0;\r\n    \t\tint maxLeft = low;\r\n\t    \tint maxRight = high;\r\n\r\n\t\t    int leftSum = Integer.MIN_VALUE;\r\n\t\t    for (int i = mid; i &gt;= low; i--) {\r\n\t    \t\tsum = sum + values[i];\r\n        \t\tif (sum &gt; leftSum) {\r\n\t    \t\t\tleftSum = sum;\r\n\t\t    \t\tmaxLeft = i;\r\n\t\t\t    }\r\n\t\t    }\r\n\r\n\t\t    sum = 0;\r\n    \t\tint rightSum = Integer.MIN_VALUE;\r\n\t    \tfor (int j = mid + 1; j &lt;= high; j++) {\r\n\t\t    \tsum = sum + values[j];\r\n\t\t\t    if (sum &gt; rightSum) {\r\n\t\t\t    \trightSum = sum;\r\n\t\t\t    \tmaxRight = j;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    SubArray max = new SubArray(maxLeft, maxRight, (leftSum + rightSum));\r\n\t\t    return max;\r\n\t    }\r\n\r\n    \tstatic class SubArray {\r\n\r\n\t    \tprivate int start;\r\n\r\n\t\t    private int end;\r\n\r\n\t\t    private int sum;\r\n\r\n    \t\tpublic SubArray(int start, int end, int sum) {\r\n\t    \t\tsuper();\r\n\t\t    \tthis.start = start;\r\n\t\t\t    this.end = end;\r\n\t\t\t    this.sum = sum;\r\n\t\t    }\r\n\r\n\t\t    public int getStart() {\treturn start; }\r\n\r\n\t    \tpublic void setStart(int start) { this.start = start; }\r\n\r\n    \t\tpublic int getEnd() { return end; }\r\n\r\n\t\t    public void setEnd(int end) { this.end = end; }\r\n\r\n\t    \tpublic int getSum() { return sum; }\r\n\r\n    \t\tpublic void setSum(int sum) { this.sum = sum; }\r\n\r\n    \t\t@Override\r\n\t    \tpublic String toString() {\r\n\t\t    \treturn &quot;SubArray [start=&quot; + start + &quot;, end=&quot; + end + &quot;, sum=&quot; + sum\t+ &quot;]&quot;;\r\n\t\t    }\r\n\t    }\r\n\r\n\t    public static final void main(String[] args) {\r\n\t\t    int[] values = { 5, 15, -30, 10, -5, 40, 10 };\r\n\t\t    System.out.println(&quot;Maximum sub-array for array&quot;\r\n\t\t\t\t+ Arrays.toString(values) + &quot;: &quot; + maxSubArray(values, 0, 6));\r\n\t    }\r\n\r\n    }\r\n\r\n### Output\r\n\r\n    Maximum sub-array for array[5, 15, -30, 10, -5, 40, 10]: SubArray [start=3, end=6, sum=55]\r\n\r\nSolution can be downloaded from  https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java","title":"Maximum Sum SubArray","body":"<p>It can be done by capturing the start and end while identifying maximum sub-array as follows:</p>\n\n<h3>Code</h3>\n\n<pre><code>package recursion;\n\nimport java.util.Arrays;\n\npublic class MaximumSubArray {\n\n    private static SubArray maxSubArray(int[] values, int low, int high) {\n        if (low == high) {\n            // base condition\n            return new SubArray(low, high, values[low]);\n        } else {\n            int mid = (int) (low + high) / 2;\n            // Check left side\n            SubArray leftSubArray = maxSubArray(values, low, mid);\n            // Check right side\n            SubArray rightSubArray = maxSubArray(values, mid + 1, high);\n            // Check from middle\n            SubArray crossSubArray = maxCrossSubArray(values, low, mid, high);\n            // Compare left, right and middle arrays to find maximum sub-array\n            if (leftSubArray.getSum() &gt;= rightSubArray.getSum()\n                    &amp;&amp; leftSubArray.getSum() &gt;= crossSubArray.getSum()) {\n                return leftSubArray;\n            } else if (rightSubArray.getSum() &gt;= leftSubArray.getSum()\n                    &amp;&amp; rightSubArray.getSum() &gt;= crossSubArray.getSum()) {\n                return rightSubArray;\n            } else {\n                return crossSubArray;\n            }\n        }\n    }\n\n    private static SubArray maxCrossSubArray(int[] values, int low, int mid,\n            int high) {\n        int sum = 0;\n        int maxLeft = low;\n        int maxRight = high;\n\n        int leftSum = Integer.MIN_VALUE;\n        for (int i = mid; i &gt;= low; i--) {\n            sum = sum + values[i];\n            if (sum &gt; leftSum) {\n                leftSum = sum;\n                maxLeft = i;\n            }\n        }\n\n        sum = 0;\n        int rightSum = Integer.MIN_VALUE;\n        for (int j = mid + 1; j &lt;= high; j++) {\n            sum = sum + values[j];\n            if (sum &gt; rightSum) {\n                rightSum = sum;\n                maxRight = j;\n            }\n        }\n        SubArray max = new SubArray(maxLeft, maxRight, (leftSum + rightSum));\n        return max;\n    }\n\n    static class SubArray {\n\n        private int start;\n\n        private int end;\n\n        private int sum;\n\n        public SubArray(int start, int end, int sum) {\n            super();\n            this.start = start;\n            this.end = end;\n            this.sum = sum;\n        }\n\n        public int getStart() { return start; }\n\n        public void setStart(int start) { this.start = start; }\n\n        public int getEnd() { return end; }\n\n        public void setEnd(int end) { this.end = end; }\n\n        public int getSum() { return sum; }\n\n        public void setSum(int sum) { this.sum = sum; }\n\n        @Override\n        public String toString() {\n            return \"SubArray [start=\" + start + \", end=\" + end + \", sum=\" + sum + \"]\";\n        }\n    }\n\n    public static final void main(String[] args) {\n        int[] values = { 5, 15, -30, 10, -5, 40, 10 };\n        System.out.println(\"Maximum sub-array for array\"\n            + Arrays.toString(values) + \": \" + maxSubArray(values, 0, 6));\n    }\n\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>Maximum sub-array for array[5, 15, -30, 10, -5, 40, 10]: SubArray [start=3, end=6, sum=55]\n</code></pre>\n\n<p>Solution can be downloaded from  <a href=\"https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java\" rel=\"nofollow noreferrer\">https://github.com/gosaliajigar/Programs/blob/master/src/recursion/MaximumSubArray.java</a></p>\n"},{"tags":[],"owner":{"account_id":14649023,"reputation":16,"user_id":10579531,"display_name":"Nishant Banjade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620710798,"creation_date":1620710466,"answer_id":67480952,"question_id":27418320,"body_markdown":"\nTwo subarray are\r\n\r\n[1, 2, 3]\r\n\r\nand [4, 9] excluding the negative number\r\n\r\n\r\nThe max sub array here is [ 4, 5] \r\n\r\nso the output is  9\r\n\r\n\r\n\r\nHere is the code\r\n\r\n    public class MaxSubArray{\r\n    static void sumM(int a[], int n){\r\n        int s1 = Integer.MAX_VALUE;\r\n        int k = Integer.MAX_VALUE;\r\n        int sum = 0;\r\n        int s2 = 0;\r\n        for(int i=0;i&lt;n;i++){\r\n\r\n            if(a[i]&lt;s1){\r\n                if(a[i]&lt;0){\r\n                    k = Math.min(a[i],s1);\r\n                }\r\n            }\r\n\r\n            if(a[i]&gt;k){\r\n                sum+=a[i];\r\n            }\r\n\r\n            if(a[i]&lt;k){\r\n                if(a[i]&lt;0){\r\n                    continue;\r\n                    \r\n                }\r\n                s2+=a[i];\r\n            }\r\n\r\n        }\r\n            if(sum&gt;s2){\r\n                System.out.println(sum);\r\n            }\r\n            else{\r\n                System.out.println(s2);\r\n            }\r\n        \r\n         \r\n    }\r\n\r\n        public static void main(String[] args){\r\n            int a[] = {1,2,3,-7,4,5};\r\n\r\n            int n = a.length;\r\n\r\n            sumM(a,n);\r\n        }\r\n\r\n        \r\n    }\r\n","title":"Maximum Sum SubArray","body":"<p>Two subarray are</p>\n<p>[1, 2, 3]</p>\n<p>and [4, 9] excluding the negative number</p>\n<p>The max sub array here is [ 4, 5]</p>\n<p>so the output is  9</p>\n<p>Here is the code</p>\n<pre><code>public class MaxSubArray{\nstatic void sumM(int a[], int n){\n    int s1 = Integer.MAX_VALUE;\n    int k = Integer.MAX_VALUE;\n    int sum = 0;\n    int s2 = 0;\n    for(int i=0;i&lt;n;i++){\n\n        if(a[i]&lt;s1){\n            if(a[i]&lt;0){\n                k = Math.min(a[i],s1);\n            }\n        }\n\n        if(a[i]&gt;k){\n            sum+=a[i];\n        }\n\n        if(a[i]&lt;k){\n            if(a[i]&lt;0){\n                continue;\n                \n            }\n            s2+=a[i];\n        }\n\n    }\n        if(sum&gt;s2){\n            System.out.println(sum);\n        }\n        else{\n            System.out.println(s2);\n        }\n    \n     \n}\n\n    public static void main(String[] args){\n        int a[] = {1,2,3,-7,4,5};\n\n        int n = a.length;\n\n        sumM(a,n);\n    }\n\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21467032,"reputation":51,"user_id":15816786,"display_name":"Emilio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623284660,"creation_date":1623259580,"answer_id":67909012,"question_id":27418320,"body_markdown":"```java\r\n public static int kadane(int[] A) {\r\n        \r\n    int maxSoFar = 0;\r\n \r\n        \r\n    int maxEndingHere = 0;\r\n \r\n    // traverse the given array\r\n    for (int i: A) {\r\n         // update the maximum sum of subarray &quot;ending&quot; at index `i` (by adding the\r\n         // current element to maximum sum ending at previous index `i-1`)\r\n         maxEndingHere = maxEndingHere + i;\r\n \r\n         // if the maximum sum is negative, set it to 0 (which represents\r\n         // an empty subarray)\r\n         maxEndingHere = Integer.max(maxEndingHere, 0);\r\n \r\n         // update the result if the current subarray sum is found to be greater\r\n         maxSoFar = Integer.max(maxSoFar, maxEndingHere);\r\n     }\r\n \r\n     return maxSoFar;\r\n}\r\n```","title":"Maximum Sum SubArray","body":"<pre class=\"lang-java prettyprint-override\"><code> public static int kadane(int[] A) {\n        \n    int maxSoFar = 0;\n \n        \n    int maxEndingHere = 0;\n \n    // traverse the given array\n    for (int i: A) {\n         // update the maximum sum of subarray &quot;ending&quot; at index `i` (by adding the\n         // current element to maximum sum ending at previous index `i-1`)\n         maxEndingHere = maxEndingHere + i;\n \n         // if the maximum sum is negative, set it to 0 (which represents\n         // an empty subarray)\n         maxEndingHere = Integer.max(maxEndingHere, 0);\n \n         // update the result if the current subarray sum is found to be greater\n         maxSoFar = Integer.max(maxSoFar, maxEndingHere);\n     }\n \n     return maxSoFar;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20609343,"reputation":1,"user_id":15128875,"display_name":"Hachimi BSA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666986756,"creation_date":1666986756,"answer_id":74240270,"question_id":27418320,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var maxSequence = function(arr){\r\n      // ...\r\n      if (arr.every((ele) =&gt; ele &gt;= 0)) {\r\n        return arr.reduce((sum, ele) =&gt; sum + ele, 0);\r\n      } else if (arr.every((ele) =&gt; ele &lt; 0)) {\r\n        return 0; \r\n    //for me the maximum would be the biggest negative number \r\n    //arr.reduce((max, elm) =&gt; (max &gt; elm ? max : elm))\r\n      } else if (arr === [0]) {\r\n        return 0;\r\n      } else {\r\n        let maxSum = [];\r\n        let currentSum = 0;\r\n        for (let i = 0; i &lt; arr.length; i++) {\r\n          currentSum = Math.max(arr[i], currentSum + arr[i]);\r\n          maxSum.push(currentSum);\r\n        }\r\n        return maxSum.reduce((max, elm) =&gt; (max &gt; elm ? max : elm));\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Maximum Sum SubArray","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxSequence = function(arr){\n  // ...\n  if (arr.every((ele) =&gt; ele &gt;= 0)) {\n    return arr.reduce((sum, ele) =&gt; sum + ele, 0);\n  } else if (arr.every((ele) =&gt; ele &lt; 0)) {\n    return 0; \n//for me the maximum would be the biggest negative number \n//arr.reduce((max, elm) =&gt; (max &gt; elm ? max : elm))\n  } else if (arr === [0]) {\n    return 0;\n  } else {\n    let maxSum = [];\n    let currentSum = 0;\n    for (let i = 0; i &lt; arr.length; i++) {\n      currentSum = Math.max(arr[i], currentSum + arr[i]);\n      maxSum.push(currentSum);\n    }\n    return maxSum.reduce((max, elm) =&gt; (max &gt; elm ? max : elm));\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":4371144,"reputation":157,"user_id":3565522,"accept_rate":82,"display_name":"Giovanni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4613,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27419072,"answer_count":8,"score":7,"last_activity_date":1666986756,"creation_date":1418286410,"question_id":27418320,"body_markdown":"I am trying to find the **contiguous** subarray within an array which has the largest sum. So, for the array \r\n\r\n&gt; {5, 15, -30, 10, -5, 40, 10}\r\n\r\nthe maximum sum possible using those numbers **contiguously** would be 55, or (10 + (-5) + 40 + 10) = 55. The program below outputs the maximum sum of 55, however, the problem I am trying to figure out is how to print the sequence that produces this 55. In other words, how can I print out the 10, -5, 40, and 10?\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {5, 15, -30, 10, -5, 40, 10};\r\n\t\t\r\n\t\tSystem.out.println(maxSubsequenceSum(arr));\t\t\t\r\n\t}\r\n\r\n    public static int maxSubsequenceSum(int[] X) {\r\n    \tint max = X[0];\r\n    \tint sum = X[0];\r\n    \t\r\n    \tfor (int i = 1; i &lt; X.length; i++) {\r\n    \t\tsum = Math.max(X[i], sum + X[i]);\r\n    \t\tmax = Math.max(max, sum);\r\n    \t}\r\n    \treturn max;\r\n    }\r\n \r\nI was thinking of creating an ArrayList to store the `sum` values at every index of i, so the ArrayList would look like (5, 20, -10, 10, 5, 45, 55). And then I was planning on clearing the ArrayList from index 0 to the first negative number in the list, however, this only solves the problem for this specific example, but if I change the original array of numbers, this solution won&#39;t work.","title":"Maximum Sum SubArray","body":"<p>I am trying to find the <strong>contiguous</strong> subarray within an array which has the largest sum. So, for the array </p>\n\n<blockquote>\n  <p>{5, 15, -30, 10, -5, 40, 10}</p>\n</blockquote>\n\n<p>the maximum sum possible using those numbers <strong>contiguously</strong> would be 55, or (10 + (-5) + 40 + 10) = 55. The program below outputs the maximum sum of 55, however, the problem I am trying to figure out is how to print the sequence that produces this 55. In other words, how can I print out the 10, -5, 40, and 10?</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] arr = {5, 15, -30, 10, -5, 40, 10};\n\n    System.out.println(maxSubsequenceSum(arr));         \n}\n\npublic static int maxSubsequenceSum(int[] X) {\n    int max = X[0];\n    int sum = X[0];\n\n    for (int i = 1; i &lt; X.length; i++) {\n        sum = Math.max(X[i], sum + X[i]);\n        max = Math.max(max, sum);\n    }\n    return max;\n}\n</code></pre>\n\n<p>I was thinking of creating an ArrayList to store the <code>sum</code> values at every index of i, so the ArrayList would look like (5, 20, -10, 10, 5, 45, 55). And then I was planning on clearing the ArrayList from index 0 to the first negative number in the list, however, this only solves the problem for this specific example, but if I change the original array of numbers, this solution won't work.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666986871,"post_id":74240259,"comment_id":131072537,"body_markdown":"Didn&#39;t check the docs but I think often JAVA_HOME points to just C:\\Program Files\\Java\\jdk-19 and the program adds \\bin or \\lib or whatever as needed.","body":"Didn&#39;t check the docs but I think often JAVA_HOME points to just C:\\Program Files\\Java\\jdk-19 and the program adds \\bin or \\lib or whatever as needed."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666986951,"post_id":74240259,"comment_id":131072558,"body_markdown":"Some other ideas here: https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set","body":"Some other ideas here: <a href=\"https://stackoverflow.com/questions/22307516/gradle-finds-wrong-java-home-even-though-its-correctly-set\" title=\"gradle finds wrong java home even though its correctly set\">stackoverflow.com/questions/22307516/&hellip;</a>"}],"owner":{"account_id":17741756,"reputation":1,"user_id":20361260,"display_name":"vrr8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666986700,"creation_date":1666986700,"question_id":74240259,"body_markdown":"trying to run gradle test but I get this error\r\nERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk-19\\bin;\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n\r\nHow do I edit the Java_Home variable so that gradle works?","title":"Windows 10 Gradle: JAVA_HOME is set to an invalid director even though it points to jdk","body":"<p>trying to run gradle test but I get this error\nERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk-19\\bin;</p>\n<p>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n<p>How do I edit the Java_Home variable so that gradle works?</p>\n"},{"tags":["java","arrays","int"],"comments":[{"owner":{"account_id":3901617,"reputation":658,"user_id":3229323,"display_name":"Thrash Bean"},"score":0,"creation_date":1390941629,"post_id":21416315,"comment_id":32307908,"body_markdown":"Iterate over the array, convert each element to string and put it in a StringBuffer or just concatenate to string.","body":"Iterate over the array, convert each element to string and put it in a StringBuffer or just concatenate to string."},{"owner":{"account_id":1762718,"reputation":14037,"user_id":1609356,"accept_rate":90,"display_name":"Manu343726"},"score":1,"creation_date":1390943703,"post_id":21416315,"comment_id":32309063,"body_markdown":"Strings.... people is crazy or has nothing to do with computer programming at all. I have downvoted **ALL** answers related to strings.","body":"Strings.... people is crazy or has nothing to do with computer programming at all. I have downvoted <b>ALL</b> answers related to strings."},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1390944191,"post_id":21416315,"comment_id":32309354,"body_markdown":"@Manu343726 How does it not have anything to do with programming... it gets the answer required and is a short piece of code, not necessary the most efficient, but that was not asked for. Even the most upvoted answer is not correct for input...but thats OPs fault of proving misguied input","body":"@Manu343726 How does it not have anything to do with programming... it gets the answer required and is a short piece of code, not necessary the most efficient, but that was not asked for. Even the most upvoted answer is not correct for input...but thats OPs fault of proving misguied input"},{"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"score":0,"creation_date":1390944971,"post_id":21416315,"comment_id":32309848,"body_markdown":"Here is my algorithm: http://pastebin.com/yeymhQtA","body":"Here is my algorithm: <a href=\"http://pastebin.com/yeymhQtA\" rel=\"nofollow noreferrer\">pastebin.com/yeymhQtA</a>"}],"answers":[{"tags":[],"owner":{"account_id":2665409,"reputation":2018,"user_id":2303988,"accept_rate":38,"display_name":"Alessio"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1390942069,"creation_date":1390941597,"answer_id":21416354,"question_id":21416315,"body_markdown":"You have to cycle in the array and add the right value.\r\nThe right value is the current element in the array multiplied by 10^position.\r\n\r\nSo: ar[0]*1 + ar[1]*10 + ar[2] *100 + .....\r\n     \r\n        int res=0;\r\n        for(int i=0;i&lt;ar.length;i++) {\r\n\t\t     res=res*10+ar[i];\r\n\t\t}\r\n\r\nOr\r\n   \r\n       for(int i=0,exp=ar.length-1;i&lt;ar.length;i++,exp--)\r\n\t\t\tres+=ar[i]*Math.pow(10, exp);","title":"int array to int number in Java","body":"<p>You have to cycle in the array and add the right value.\nThe right value is the current element in the array multiplied by 10^position.</p>\n\n<p>So: ar[0]*1 + ar[1]*10 + ar[2] *100 + .....</p>\n\n<pre><code>    int res=0;\n    for(int i=0;i&lt;ar.length;i++) {\n         res=res*10+ar[i];\n    }\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>   for(int i=0,exp=ar.length-1;i&lt;ar.length;i++,exp--)\n        res+=ar[i]*Math.pow(10, exp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1390941603,"creation_date":1390941603,"answer_id":21416357,"question_id":21416315,"body_markdown":"Start with a result of `0`.  Loop through all elements of your `int` array.  Multiply the result by `10`, then add in the current number from the array.  At the end of the loop, you have your result.\r\n\r\n - Result: 0\r\n - Loop 1: Result * 10 =&gt; 0, Result + 1 =&gt; 1\r\n - Loop 2: Result * 10 =&gt; 10, Result + 2 =&gt; 12\r\n - Loop 3: Result * 10 &gt;= 120, Result + 3 =&gt; 123\r\n\r\nThis can be generalized for any base by changing the base from `10` (here) to something else, such as `16` for hexadecimal.","title":"int array to int number in Java","body":"<p>Start with a result of <code>0</code>.  Loop through all elements of your <code>int</code> array.  Multiply the result by <code>10</code>, then add in the current number from the array.  At the end of the loop, you have your result.</p>\n\n<ul>\n<li>Result: 0</li>\n<li>Loop 1: Result * 10 => 0, Result + 1 => 1</li>\n<li>Loop 2: Result * 10 => 10, Result + 2 => 12</li>\n<li>Loop 3: Result * 10 >= 120, Result + 3 => 123</li>\n</ul>\n\n<p>This can be generalized for any base by changing the base from <code>10</code> (here) to something else, such as <code>16</code> for hexadecimal.</p>\n"},{"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1390944030,"creation_date":1390941669,"answer_id":21416380,"question_id":21416315,"body_markdown":"Use this method, using a long as your input is to large for an int.\r\n\r\n    long r = 0;\r\n\tfor(int i = 0; i &lt; arr.length; i++)\r\n\t{\r\n\t\tint offset = 10;\r\n\t\tif(arr[i] &gt;= 10)\r\n\t\t\toffset = 100;\r\n\t\tr = r*offset;\r\n\t\tr += arr[i];\r\n\t}\r\n\r\nThis checks if the current int is larger than 10 to reset the offset to 100 to get the extra places required. If you include values &gt; 100 you will also need to add extra offset.\r\n\r\n---\r\n**Putting this at end of my post due to all the downvotes of Strings...which is a perfectly legitimate answer...OP never asked for the most efficient way to do it just wannted an answer**\r\n\r\nLoop your array appending to a String each int in the array and then parse the string back to an int\r\n\r\n    String s = &quot;&quot;;\r\n    for(int i = 0; i &lt; arr.length; i++)\r\n           s += &quot;&quot; + arr[i];\r\n    int result = Integer.parseInt(s);\r\n\r\nFrom your comment the number you have is too long for an `int`, you need to use a `long`\r\n\r\n    String s = &quot;&quot;;\r\n    for(int i = 0; i &lt; arr.length; i++)\r\n           s += &quot;&quot; + arr[i];\r\n    long result = Long.parseLong(s);","title":"int array to int number in Java","body":"<p>Use this method, using a long as your input is to large for an int.</p>\n\n<pre><code>long r = 0;\nfor(int i = 0; i &lt; arr.length; i++)\n{\n    int offset = 10;\n    if(arr[i] &gt;= 10)\n        offset = 100;\n    r = r*offset;\n    r += arr[i];\n}\n</code></pre>\n\n<p>This checks if the current int is larger than 10 to reset the offset to 100 to get the extra places required. If you include values > 100 you will also need to add extra offset.</p>\n\n<hr>\n\n<p><strong>Putting this at end of my post due to all the downvotes of Strings...which is a perfectly legitimate answer...OP never asked for the most efficient way to do it just wannted an answer</strong></p>\n\n<p>Loop your array appending to a String each int in the array and then parse the string back to an int</p>\n\n<pre><code>String s = \"\";\nfor(int i = 0; i &lt; arr.length; i++)\n       s += \"\" + arr[i];\nint result = Integer.parseInt(s);\n</code></pre>\n\n<p>From your comment the number you have is too long for an <code>int</code>, you need to use a <code>long</code></p>\n\n<pre><code>String s = \"\";\nfor(int i = 0; i &lt; arr.length; i++)\n       s += \"\" + arr[i];\nlong result = Long.parseLong(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1443048331,"creation_date":1390941764,"answer_id":21416413,"question_id":21416315,"body_markdown":"First you&#39;ll have to convert every number to a string, then concatenate the strings and parse it back into an integer. Here&#39;s one implementation:\r\n\r\n    int arrayToInt(int[] arr)\r\n    {\r\n        //using a Stringbuilder is much more efficient than just using += on a String.\r\n        //if this confuses you, just use a String and write += instead of append.\r\n        StringBuilder s = new StringBuilder(); \r\n    \r\n        for (int i : arr)\r\n        {\r\n             s.append(i); //add all the ints to a string\r\n        }\r\n\r\n        return Integer.parseInt(s.toString()); //parse integer out of the string\r\n    }\r\n\r\nNote that this produce an error if any of the values past the first one in your array as negative, as the minus signs will interfere with the parsing.\r\n\r\n\r\n\r\nThis method should work for all positive integers, but if you know that all of the values in the array will only be one digit long (as they are in your example), you can avoid string operations altogether and just use basic math:\r\n\r\n    int arrayToInt(int[] arr)\r\n    {\r\n        int result = 0;\r\n        \r\n        //iterate backwards through the array so we start with least significant digits\r\n        for (int n = arr.length - 1, i = 1; n &gt;= 0; n --, i *= 10) \r\n        {\r\n             result += Math.abs(arr[n]) * i;\r\n        }\r\n\r\n        if (arr[0] &lt; 0) //if there&#39;s a negative sign in the beginning, flip the sign\r\n        {\r\n            result = - result;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nThis version won&#39;t produce an error if any of the values past the first are negative, but it will produce strange results.\r\n\r\n\r\nThere is no builtin function to do this because the values of an array typically represent distinct numbers, rather than digits in a number.\r\n\r\nEDIT:\r\n\r\nIn response to your comments, try this version to deal with longs:\r\n\r\n    long arrayToLong(int[] arr)\r\n    {\r\n        StringBuilder s = new StringBuilder(); \r\n    \r\n        for (int i : arr)\r\n        {\r\n             s.append(i);\r\n        }\r\n\r\n        return Long.parseLong(s.toString());\r\n    }\r\n\r\nEdit 2:\r\n\r\nIn response to your second comment:\r\n\r\n    int[] longToIntArray(long l)\r\n    {\r\n        String s = String.valueOf(l);   //expand number into a string\r\n\r\n        String token;\r\n\r\n        int[] result = new int[s.length() / 2]; \r\n\r\n        for (int n = 0; n &lt; s.length()/2; n ++) //loop through and split the string\r\n        {\r\n            token = s.substring(n*2, (n+2)*2);\r\n            result[n] = Integer.parseInt(token); //fill the array with the numbers we parse from the sections\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n","title":"int array to int number in Java","body":"<p>First you'll have to convert every number to a string, then concatenate the strings and parse it back into an integer. Here's one implementation:</p>\n\n<pre><code>int arrayToInt(int[] arr)\n{\n    //using a Stringbuilder is much more efficient than just using += on a String.\n    //if this confuses you, just use a String and write += instead of append.\n    StringBuilder s = new StringBuilder(); \n\n    for (int i : arr)\n    {\n         s.append(i); //add all the ints to a string\n    }\n\n    return Integer.parseInt(s.toString()); //parse integer out of the string\n}\n</code></pre>\n\n<p>Note that this produce an error if any of the values past the first one in your array as negative, as the minus signs will interfere with the parsing.</p>\n\n<p>This method should work for all positive integers, but if you know that all of the values in the array will only be one digit long (as they are in your example), you can avoid string operations altogether and just use basic math:</p>\n\n<pre><code>int arrayToInt(int[] arr)\n{\n    int result = 0;\n\n    //iterate backwards through the array so we start with least significant digits\n    for (int n = arr.length - 1, i = 1; n &gt;= 0; n --, i *= 10) \n    {\n         result += Math.abs(arr[n]) * i;\n    }\n\n    if (arr[0] &lt; 0) //if there's a negative sign in the beginning, flip the sign\n    {\n        result = - result;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This version won't produce an error if any of the values past the first are negative, but it will produce strange results.</p>\n\n<p>There is no builtin function to do this because the values of an array typically represent distinct numbers, rather than digits in a number.</p>\n\n<p>EDIT:</p>\n\n<p>In response to your comments, try this version to deal with longs:</p>\n\n<pre><code>long arrayToLong(int[] arr)\n{\n    StringBuilder s = new StringBuilder(); \n\n    for (int i : arr)\n    {\n         s.append(i);\n    }\n\n    return Long.parseLong(s.toString());\n}\n</code></pre>\n\n<p>Edit 2:</p>\n\n<p>In response to your second comment:</p>\n\n<pre><code>int[] longToIntArray(long l)\n{\n    String s = String.valueOf(l);   //expand number into a string\n\n    String token;\n\n    int[] result = new int[s.length() / 2]; \n\n    for (int n = 0; n &lt; s.length()/2; n ++) //loop through and split the string\n    {\n        token = s.substring(n*2, (n+2)*2);\n        result[n] = Integer.parseInt(token); //fill the array with the numbers we parse from the sections\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2668499,"reputation":498,"user_id":2306355,"accept_rate":100,"display_name":"datosh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1390942166,"creation_date":1390942166,"answer_id":21416523,"question_id":21416315,"body_markdown":"yeah you can write the function yourself \r\n\r\n    int toInt(int[] array) {\r\n        int result = 0;\r\n        int offset = 1;\r\n        for(int i = array.length - 1; i &gt;= 0; i--) {\r\n            result += array[i]*offset;\r\n            offset *= 10;\r\n        }\r\n        return result;\r\n    }\r\n\r\nI think the logic behind it is pretty straight forward. You just run through the array (last element first), and multiply the number with the right power of 10 &quot;to put the number at the right spot&quot;. At the end you get the number returned. ","title":"int array to int number in Java","body":"<p>yeah you can write the function yourself </p>\n\n<pre><code>int toInt(int[] array) {\n    int result = 0;\n    int offset = 1;\n    for(int i = array.length - 1; i &gt;= 0; i--) {\n        result += array[i]*offset;\n        offset *= 10;\n    }\n    return result;\n}\n</code></pre>\n\n<p>I think the logic behind it is pretty straight forward. You just run through the array (last element first), and multiply the number with the right power of 10 \"to put the number at the right spot\". At the end you get the number returned. </p>\n"},{"tags":[],"owner":{"account_id":1832987,"reputation":87,"user_id":1663958,"accept_rate":71,"display_name":"jhnewkirk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390952321,"creation_date":1390943145,"answer_id":21416817,"question_id":21416315,"body_markdown":"    int nbr = 0;\r\n    for(int i = 0; i &lt; ar.length;i++)\r\n        nbr = nbr*10+ar[i];\r\nIn the end, you end up with the nbr you want.\r\n\r\nFor the new array you gave us, try this one. I don&#39;t see a way around using some form of String and you are going to have to use a long, not an int.\r\n\r\n    int [] ar = {2, 15, 14, 10, 15, 21, 18};\r\n    long nbr = 0;\r\n    double multiplier = 1;\r\n    for(int i = ar.length-1; i &gt;=0 ;i--) {\r\n        nbr += ar[i] * multiplier;\r\n        multiplier = Math.pow(10, String.valueOf(nbr).length());\r\n    }\r\n\r\nIf you really really wanted to avoid String (don&#39;t know why), I guess you could use\r\n\r\n    multiplier = Math.pow(10,(int)(Math.log10(nbr)+1));\r\nwhich works as long as the last element in the array is not 0.","title":"int array to int number in Java","body":"<pre><code>int nbr = 0;\nfor(int i = 0; i &lt; ar.length;i++)\n    nbr = nbr*10+ar[i];\n</code></pre>\n\n<p>In the end, you end up with the nbr you want.</p>\n\n<p>For the new array you gave us, try this one. I don't see a way around using some form of String and you are going to have to use a long, not an int.</p>\n\n<pre><code>int [] ar = {2, 15, 14, 10, 15, 21, 18};\nlong nbr = 0;\ndouble multiplier = 1;\nfor(int i = ar.length-1; i &gt;=0 ;i--) {\n    nbr += ar[i] * multiplier;\n    multiplier = Math.pow(10, String.valueOf(nbr).length());\n}\n</code></pre>\n\n<p>If you really really wanted to avoid String (don't know why), I guess you could use</p>\n\n<pre><code>multiplier = Math.pow(10,(int)(Math.log10(nbr)+1));\n</code></pre>\n\n<p>which works as long as the last element in the array is not 0.</p>\n"},{"tags":[],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443017478,"creation_date":1443017478,"answer_id":32741954,"question_id":21416315,"body_markdown":"If you can use Java 1.8, stream API makes it very simple:\r\n\r\n    @Test\r\n\tpublic void arrayToNumber() {\r\n\t\tint[] array = new int[]{1,2,3,4,5,6};\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\r\n\t\tArrays.stream(array).forEach(element -&gt; sb.append(element));\r\n\t\t\r\n\t\tassertThat(sb.toString()).isEqualTo(&quot;123456&quot;);\r\n\t}\r\n\r\n","title":"int array to int number in Java","body":"<p>If you can use Java 1.8, stream API makes it very simple:</p>\n\n<pre><code>@Test\npublic void arrayToNumber() {\n    int[] array = new int[]{1,2,3,4,5,6};\n    StringBuilder sb = new StringBuilder();\n\n    Arrays.stream(array).forEach(element -&gt; sb.append(element));\n\n    assertThat(sb.toString()).isEqualTo(\"123456\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16872647,"reputation":120,"user_id":12200835,"display_name":"Mohammed Ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656666070,"creation_date":1656666070,"answer_id":72826827,"question_id":21416315,"body_markdown":"you can do it that way\r\n\r\n    public static int[] plusOne(int[] digits) {\r\n        StringBuilder num= new StringBuilder();\r\n        PrimitiveIterator.OfInt primitiveIterator = Arrays.stream(digits)\r\n                .iterator();\r\n        while (primitiveIterator.hasNext()) {\r\n            num.append(primitiveIterator.nextInt());\r\n        }\r\n        int plusOne=Integer.parseInt(String.valueOf(num))+1;\r\n        return Integer.toString(plusOne).chars().map(c -&gt; c-&#39;0&#39;).toArray();\r\n    }","title":"int array to int number in Java","body":"<p>you can do it that way</p>\n<pre><code>public static int[] plusOne(int[] digits) {\n    StringBuilder num= new StringBuilder();\n    PrimitiveIterator.OfInt primitiveIterator = Arrays.stream(digits)\n            .iterator();\n    while (primitiveIterator.hasNext()) {\n        num.append(primitiveIterator.nextInt());\n    }\n    int plusOne=Integer.parseInt(String.valueOf(num))+1;\n    return Integer.toString(plusOne).chars().map(c -&gt; c-'0').toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16101948,"reputation":1,"user_id":15759925,"display_name":"maruf ahmed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666984667,"creation_date":1666984667,"answer_id":74239980,"question_id":21416315,"body_markdown":"this also possible to convert an Integer array to an int array\r\n\r\n    \tint[] result = new int[arr.length];\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tresult[i] = arr[i].intValue();\r\n\t\t}","title":"int array to int number in Java","body":"<p>this also possible to convert an Integer array to an int array</p>\n<pre><code>    int[] result = new int[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = arr[i].intValue();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666986266,"creation_date":1666985887,"answer_id":74240153,"question_id":21416315,"body_markdown":"**BE SIMPLE!!!**\r\n\r\n```java\r\npublic static int convertToInteger(int... arr) {\r\n    return Integer.parseInt(Arrays.stream(arr)\r\n                                  .mapToObj(String::valueOf)\r\n                                  .collect(Collectors.joining()));\r\n}\r\n```","title":"int array to int number in Java","body":"<p><strong>BE SIMPLE!!!</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int convertToInteger(int... arr) {\n    return Integer.parseInt(Arrays.stream(arr)\n                                  .mapToObj(String::valueOf)\n                                  .collect(Collectors.joining()));\n}\n</code></pre>\n"}],"owner":{"account_id":3925588,"reputation":193,"user_id":3246201,"accept_rate":70,"display_name":"gotgot1995"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64255,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":10,"score":10,"last_activity_date":1666986266,"creation_date":1390941465,"question_id":21416315,"body_markdown":"I&#39;m new on this site and, if I&#39;m here it&#39;s because I haven&#39;t found the answer anywhere on the web and believe me: I&#39;ve been googling for quite a time but all I could find was how to convert a number to an array not the other way arround.\r\nI&#39;m looking for a simple way or function to convert an int array to an int number. Let me explain for example I have this :\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int[] ar = {1, 2, 3};\r\n\r\nAnd I want to have this:\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    int nbr = 123;\r\n\r\nIn my head it would look like this (even if I know it&#39;s not the right way):\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    int nbr = ar.toInt(); // I know it&#39;s funny\r\n\r\nIf you have any idea of how I could do that, that&#39;d be awesome.","title":"int array to int number in Java","body":"<p>I'm new on this site and, if I'm here it's because I haven't found the answer anywhere on the web and believe me: I've been googling for quite a time but all I could find was how to convert a number to an array not the other way arround.\nI'm looking for a simple way or function to convert an int array to an int number. Let me explain for example I have this :\n</p>\n\n<pre><code>int[] ar = {1, 2, 3};\n</code></pre>\n\n<p>And I want to have this:\n</p>\n\n<pre><code>int nbr = 123;\n</code></pre>\n\n<p>In my head it would look like this (even if I know it's not the right way):\n</p>\n\n<pre><code>int nbr = ar.toInt(); // I know it's funny\n</code></pre>\n\n<p>If you have any idea of how I could do that, that'd be awesome.</p>\n"},{"tags":["java","rest","automated-tests","rest-assured","web-api-testing"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667211216,"post_id":74240077,"comment_id":131108623,"body_markdown":"Why cant you just get that uri that provides required data, parse it and then add to your POST request?","body":"Why cant you just get that uri that provides required data, parse it and then add to your POST request?"},{"owner":{"account_id":14458155,"reputation":16,"user_id":10443732,"display_name":"Remus Mocanu"},"score":0,"creation_date":1667231458,"post_id":74240077,"comment_id":131115810,"body_markdown":"Because the URI that provides the required data has a needs payload that is different with every time we want to make a request and is encrypted, so the payload looks like a bunch of jibberish. And, unfortunately, I can&#39;t seem to be able to find any other intermediate call that gives that encrypted payload as a response.","body":"Because the URI that provides the required data has a needs payload that is different with every time we want to make a request and is encrypted, so the payload looks like a bunch of jibberish. And, unfortunately, I can&#39;t seem to be able to find any other intermediate call that gives that encrypted payload as a response."}],"owner":{"account_id":14458155,"reputation":16,"user_id":10443732,"display_name":"Remus Mocanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666985329,"creation_date":1666985329,"question_id":74240077,"body_markdown":"I am currently trying developing some API tests using rest-assured. More specifically, I am trying to test Stripe&#39;s payment gateway (3DS). The way it works is that I subscribe a user using our API endpoint, which has a response including an external link to Stripe&#39;s website where the user fills out a form for their payment details.\r\n\r\n\r\nThis part is fine and dandy. \r\nThe problem lies ahead. I need to be able to send a POST call to this form with the payload of the form. However, the POST payload that Stripe is expecting includes other elements that are not part of the form such as **muid, guid, sid, key, and payment-user-agent**. After doing some research, I see that these elements are given when the user first loads the form. However, they are given are given at an intermediate API call during the loading of the page. Meaning, if I try to call a GET on the form page, I will not retrieve these elements. The loading of the page calls other endpoints sequentially, where at some point, it makes a call to another endpoint with an encrypted request payload, which I cannot reproduce for my automated tests, which returns the muid, guid, and others.\r\n\r\nI was wondering if it were possible to get the response of the intermediate API call somehow? \r\n\r\nI tried doing research of methods that can possibly achieve this, but I have yet to come up with something that is API testing related.\r\n\r\nI cannot do a Selenium script to push the form for me, as I need it to be API testing related, and with no GUI browser included.  I could potentially run Selenium in headless maybe, but I was wondering if there was anything more lightweight or a simple way to retrieve the response of the intermediate api call before I proceed with that solution.","title":"How to get the response of an intermediate API call?","body":"<p>I am currently trying developing some API tests using rest-assured. More specifically, I am trying to test Stripe's payment gateway (3DS). The way it works is that I subscribe a user using our API endpoint, which has a response including an external link to Stripe's website where the user fills out a form for their payment details.</p>\n<p>This part is fine and dandy.\nThe problem lies ahead. I need to be able to send a POST call to this form with the payload of the form. However, the POST payload that Stripe is expecting includes other elements that are not part of the form such as <strong>muid, guid, sid, key, and payment-user-agent</strong>. After doing some research, I see that these elements are given when the user first loads the form. However, they are given are given at an intermediate API call during the loading of the page. Meaning, if I try to call a GET on the form page, I will not retrieve these elements. The loading of the page calls other endpoints sequentially, where at some point, it makes a call to another endpoint with an encrypted request payload, which I cannot reproduce for my automated tests, which returns the muid, guid, and others.</p>\n<p>I was wondering if it were possible to get the response of the intermediate API call somehow?</p>\n<p>I tried doing research of methods that can possibly achieve this, but I have yet to come up with something that is API testing related.</p>\n<p>I cannot do a Selenium script to push the form for me, as I need it to be API testing related, and with no GUI browser included.  I could potentially run Selenium in headless maybe, but I was wondering if there was anything more lightweight or a simple way to retrieve the response of the intermediate api call before I proceed with that solution.</p>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666985295,"creation_date":1666985295,"answer_id":74240072,"question_id":74153820,"body_markdown":"There are certainly other ways to achieve this, but the following will work fine, if your project has only [module dependencies](https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:module_dependencies) (else you might need to adapt a bit)\r\n\r\n    dependencies {\r\n        implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\r\n    }\r\n\ttask copyDependenciesWithGroup {\r\n\t\tdoLast {\r\n\t\t\tconfigurations.default.resolvedConfiguration.resolvedArtifacts.forEach{ ResolvedArtifact artifact -&gt;\r\n\t\t\t\tproject.copy {\r\n\t\t\t\t\tfrom artifact.file\r\n\t\t\t\t\tinto &#39;ApplicationlibWithGroup&#39;\r\n\t\t\t\t\trename { String fileName -&gt;\r\n\t\t\t\t\t\t&quot;${artifact.moduleVersion.id.group}.$fileName&quot;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis will copy the folling jars in `ApplicationlibWithGroup` directory:\r\n```\r\n$ ls -l ApplicationlibWithGroup/\r\n com.github.virtuald.curvesapi-1.07.jar\r\n com.zaxxer.SparseBitSet-1.2.jar\r\n commons-codec.commons-codec-1.15.jar\r\n commons-io.commons-io-2.11.0.jar\r\n org.apache.commons.commons-collections4-4.4.jar\r\n org.apache.commons.commons-compress-1.21.jar\r\n org.apache.commons.commons-math3-3.6.1.jar\r\n org.apache.logging.log4j.log4j-api-2.17.2.jar\r\n org.apache.poi.poi-5.2.2.jar\r\n org.apache.poi.poi-ooxml-5.2.2.jar\r\n org.apache.poi.poi-ooxml-lite-5.2.2.jar\r\n org.apache.xmlbeans.xmlbeans-5.0.3.jar\r\n\r\n```\r\n","title":"Gradle task to copy dependent jars to a folder along with group name","body":"<p>There are certainly other ways to achieve this, but the following will work fine, if your project has only <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html#sub:module_dependencies\" rel=\"nofollow noreferrer\">module dependencies</a> (else you might need to adapt a bit)</p>\n<pre><code>dependencies {\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)\n}\ntask copyDependenciesWithGroup {\n    doLast {\n        configurations.default.resolvedConfiguration.resolvedArtifacts.forEach{ ResolvedArtifact artifact -&gt;\n            project.copy {\n                from artifact.file\n                into 'ApplicationlibWithGroup'\n                rename { String fileName -&gt;\n                    &quot;${artifact.moduleVersion.id.group}.$fileName&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This will copy the folling jars in <code>ApplicationlibWithGroup</code> directory:</p>\n<pre><code>$ ls -l ApplicationlibWithGroup/\n com.github.virtuald.curvesapi-1.07.jar\n com.zaxxer.SparseBitSet-1.2.jar\n commons-codec.commons-codec-1.15.jar\n commons-io.commons-io-2.11.0.jar\n org.apache.commons.commons-collections4-4.4.jar\n org.apache.commons.commons-compress-1.21.jar\n org.apache.commons.commons-math3-3.6.1.jar\n org.apache.logging.log4j.log4j-api-2.17.2.jar\n org.apache.poi.poi-5.2.2.jar\n org.apache.poi.poi-ooxml-5.2.2.jar\n org.apache.poi.poi-ooxml-lite-5.2.2.jar\n org.apache.xmlbeans.xmlbeans-5.0.3.jar\n\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74240072,"answer_count":1,"score":0,"last_activity_date":1666985295,"creation_date":1666356240,"question_id":74153820,"body_markdown":"I already know to copy dependent jars into a folder:\r\n\r\n    task copyJARsToLib(type: Copy) {    \r\n        from configurations.default\r\n        into &#39;Applicationlib&#39;\r\n    } \r\n\r\nAfter running this task all the dependent jars get copied into `Applicationlib` folder, the name of the jar is `{artifactName-version.jar}` for eg. for `implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)` jar name becomes `poi-ooxml-5.2.2.jar`.\r\n\r\nWhat I want is after copying jar name should also have group name like: `group.name_version.jar` for eg. `org.apache.poi.poi-ooxml-5.2.2.jar`\r\n\r\nI tried \r\n\r\n    configurations.default.each {\r\n              \r\n    }\r\n\r\nBut this iterator has `File` object hence only has jar file name and not group name.","title":"Gradle task to copy dependent jars to a folder along with group name","body":"<p>I already know to copy dependent jars into a folder:</p>\n<pre><code>task copyJARsToLib(type: Copy) {    \n    from configurations.default\n    into 'Applicationlib'\n} \n</code></pre>\n<p>After running this task all the dependent jars get copied into <code>Applicationlib</code> folder, the name of the jar is <code>{artifactName-version.jar}</code> for eg. for <code>implementation(&quot;org.apache.poi:poi-ooxml:5.2.2&quot;)</code> jar name becomes <code>poi-ooxml-5.2.2.jar</code>.</p>\n<p>What I want is after copying jar name should also have group name like: <code>group.name_version.jar</code> for eg. <code>org.apache.poi.poi-ooxml-5.2.2.jar</code></p>\n<p>I tried</p>\n<pre><code>configurations.default.each {\n          \n}\n</code></pre>\n<p>But this iterator has <code>File</code> object hence only has jar file name and not group name.</p>\n"},{"tags":["java","android","api","oauth","reddit"],"answers":[{"tags":[],"owner":{"account_id":269437,"reputation":1471,"user_id":558779,"accept_rate":78,"display_name":"Craig Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666985064,"creation_date":1666985064,"answer_id":74240030,"question_id":74224091,"body_markdown":"So this was a frustration but I&#39;ve realised calling http.connect() is unnecessary and the code was giving me &quot;Already Connected&quot; when I initiated the input stream. Simple fix but I thought a connection needed to be made first. So after getting my token from a previous method I&#39;ve flushed/closed/disconnected &quot;connection&quot; and &quot;http&quot;. Then this following code has worked, also calling getContentType would throw an &quot;Already Connected&quot; error.\r\n\r\n```\r\n            try {\r\n                connection = new URL(oauthURL+&quot;/api/v1/me&quot;).openConnection();\r\n                http = (HttpsURLConnection)connection;\r\n                http.setRequestProperty(&quot;User-Agent&quot;, userAgent);\r\n                http.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\r\n\r\n                InputStream is = connection.getInputStream();\r\n\r\n                Scanner s = new Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n                String res = s.hasNext() ? s.next() : &quot;&quot;;\r\n\r\n                System.out.println(res);\r\n            }\r\n            catch (IOException e)\r\n            {System.out.println(e);}\r\n``` ","title":"After receiving access token I cannot retrieve any data from oauth.reddit.com Java.IO.FileNotFoundExceeption","body":"<p>So this was a frustration but I've realised calling http.connect() is unnecessary and the code was giving me &quot;Already Connected&quot; when I initiated the input stream. Simple fix but I thought a connection needed to be made first. So after getting my token from a previous method I've flushed/closed/disconnected &quot;connection&quot; and &quot;http&quot;. Then this following code has worked, also calling getContentType would throw an &quot;Already Connected&quot; error.</p>\n<pre><code>            try {\n                connection = new URL(oauthURL+&quot;/api/v1/me&quot;).openConnection();\n                http = (HttpsURLConnection)connection;\n                http.setRequestProperty(&quot;User-Agent&quot;, userAgent);\n                http.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\n\n                InputStream is = connection.getInputStream();\n\n                Scanner s = new Scanner(is).useDelimiter(&quot;\\\\A&quot;);\n                String res = s.hasNext() ? s.next() : &quot;&quot;;\n\n                System.out.println(res);\n            }\n            catch (IOException e)\n            {System.out.println(e);}\n</code></pre>\n"}],"owner":{"account_id":269437,"reputation":1471,"user_id":558779,"accept_rate":78,"display_name":"Craig Stewart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666985064,"creation_date":1666882382,"question_id":74224091,"body_markdown":"I&#39;ve been going nuts with this and changed every variable I can. Starting simply and sending only the minimum required headers to base64 encoding the token, sending credentials, using GET and POST. Code has become a little messy but I&#39;m hoping someone can help out with this issue. I&#39;m using script application to access the reddit api with android studio / java.\r\n\r\n```java\r\nString f = Base64.encodeToString(new String(token).getBytes(),0);\r\nURL connection2 = new URL(oauthURL+&quot;/me&quot;);\r\n\r\nHttpURLConnection http = (HttpURLConnection)connection2.openConnection();\r\nhttp.setRequestMethod(&quot;POST&quot;);\r\nhttp.setDoOutput(true);\r\n\r\nhttp.setRequestProperty(&quot;User-Agent&quot;, userAgent);\r\nhttp.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\r\n\r\nMap&lt;String,String&gt; arguments = new HashMap&lt;&gt;();\r\n//     arguments.put(&quot;grant_type&quot;, &quot;password&quot;);\r\n//     arguments.put(&quot;username&quot;, redditUser);\r\n//     arguments.put(&quot;password&quot;, redditPass);\r\nStringJoiner sj = new StringJoiner(&quot;&amp;&quot;);\r\nfor(Map.Entry&lt;String,String&gt; entry : arguments.entrySet()) {\r\n  sj.add(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;) + &quot;=&quot;\r\n\t\t+ URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n}\r\nbyte[] out = sj.toString().getBytes(StandardCharsets.UTF_8);\r\nint length = out.length;\r\n\r\nhttp.setFixedLengthStreamingMode(length);\r\n\r\nhttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\r\nhttp.connect();\r\n\r\ntry(OutputStream os = http.getOutputStream()) {\r\n  os.write(out);\r\n}\r\n\r\nInputStream is = http.getInputStream();\r\nSystem.out.println(http.getContentType());\r\n```\r\n\r\nMy last output was:\r\n```\r\nI/System.out: &gt;&gt;&gt;&gt;&gt; START &lt;&lt;&lt;&lt;&lt;\r\nI/System.out: {&quot;access_token&quot;: &quot;REMOVED&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;expires_in&quot;: 86400, &quot;scope&quot;: &quot;*&quot;}\r\nI/System.out: REMOVED:bearer:86400:*\r\nI/System.out: &gt;&gt;&gt;&gt;&gt;&gt; END &lt;&lt;&lt;&lt;&lt;\r\nI/System.out: java.io.FileNotFoundException: https://oauth.reddit.com/api/v1/me\r\n```\r\nAs you can see I&#39;m receiving the access token just fine using similar code as above. I&#39;m obviously missing something but got to thinking it could be one of too many things, like capatilization on Authorization header or using under score or dash on User-Agent etc.","title":"After receiving access token I cannot retrieve any data from oauth.reddit.com Java.IO.FileNotFoundExceeption","body":"<p>I've been going nuts with this and changed every variable I can. Starting simply and sending only the minimum required headers to base64 encoding the token, sending credentials, using GET and POST. Code has become a little messy but I'm hoping someone can help out with this issue. I'm using script application to access the reddit api with android studio / java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String f = Base64.encodeToString(new String(token).getBytes(),0);\nURL connection2 = new URL(oauthURL+&quot;/me&quot;);\n\nHttpURLConnection http = (HttpURLConnection)connection2.openConnection();\nhttp.setRequestMethod(&quot;POST&quot;);\nhttp.setDoOutput(true);\n\nhttp.setRequestProperty(&quot;User-Agent&quot;, userAgent);\nhttp.setRequestProperty(&quot;Authorization&quot;, &quot;bearer &quot;+token);\n\nMap&lt;String,String&gt; arguments = new HashMap&lt;&gt;();\n//     arguments.put(&quot;grant_type&quot;, &quot;password&quot;);\n//     arguments.put(&quot;username&quot;, redditUser);\n//     arguments.put(&quot;password&quot;, redditPass);\nStringJoiner sj = new StringJoiner(&quot;&amp;&quot;);\nfor(Map.Entry&lt;String,String&gt; entry : arguments.entrySet()) {\n  sj.add(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;) + &quot;=&quot;\n        + URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\n}\nbyte[] out = sj.toString().getBytes(StandardCharsets.UTF_8);\nint length = out.length;\n\nhttp.setFixedLengthStreamingMode(length);\n\nhttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\nhttp.connect();\n\ntry(OutputStream os = http.getOutputStream()) {\n  os.write(out);\n}\n\nInputStream is = http.getInputStream();\nSystem.out.println(http.getContentType());\n</code></pre>\n<p>My last output was:</p>\n<pre><code>I/System.out: &gt;&gt;&gt;&gt;&gt; START &lt;&lt;&lt;&lt;&lt;\nI/System.out: {&quot;access_token&quot;: &quot;REMOVED&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;expires_in&quot;: 86400, &quot;scope&quot;: &quot;*&quot;}\nI/System.out: REMOVED:bearer:86400:*\nI/System.out: &gt;&gt;&gt;&gt;&gt;&gt; END &lt;&lt;&lt;&lt;&lt;\nI/System.out: java.io.FileNotFoundException: https://oauth.reddit.com/api/v1/me\n</code></pre>\n<p>As you can see I'm receiving the access token just fine using similar code as above. I'm obviously missing something but got to thinking it could be one of too many things, like capatilization on Authorization header or using under score or dash on User-Agent etc.</p>\n"},{"tags":["java","command-line-interface","command-line-arguments","optional-parameters","apache-commons-cli"],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666984386,"creation_date":1428035234,"answer_id":29426189,"question_id":29424818,"body_markdown":"The problem is how you specify tha arguments in your sample, instead of \r\n\r\n    String[] arguments = new String[] { &quot;--input file.txt&quot; };\r\n\r\nYou need to specify\r\n\r\n    String[] arguments = new String[] { &quot;--input&quot;, &quot;file.txt&quot; };\r\n\r\nThe parser wants to get the arguments the way they are provided by java in the main() method, separated at the blank, otherwise you instruct the parser to handle the option &quot;--input file.txt&quot;, i.e. it sees the whole string as the name of the option.","title":"Java Apache Common CLI double-hypen options failing when specifying an appended value","body":"<p>The problem is how you specify tha arguments in your sample, instead of</p>\n<pre><code>String[] arguments = new String[] { &quot;--input file.txt&quot; };\n</code></pre>\n<p>You need to specify</p>\n<pre><code>String[] arguments = new String[] { &quot;--input&quot;, &quot;file.txt&quot; };\n</code></pre>\n<p>The parser wants to get the arguments the way they are provided by java in the main() method, separated at the blank, otherwise you instruct the parser to handle the option &quot;--input file.txt&quot;, i.e. it sees the whole string as the name of the option.</p>\n"}],"owner":{"account_id":4449148,"reputation":1701,"user_id":3621633,"accept_rate":54,"display_name":"user3621633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666984625,"creation_date":1428022829,"question_id":29424818,"body_markdown":"FYI: I&#39;m running this Java program on a Windows machine. I&#39;m sure that it&#39;s important.\r\n\r\nBasically, I am having a problem specifying a value to to options with double-hyphens. Single-hyphen options work fine.\r\n\r\n    import org.apache.commons.cli.*;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws ParseException {\r\n            String[] arguments = new String[] { &quot;--input file.txt&quot; };\r\n            \r\n            // create the Options\r\n\t\t    Options options = new Options();\r\n\t\t    options.addOption( &quot;i&quot;, &quot;input&quot;, false, &quot;Specify the input file.&quot; );\r\n\t\t\r\n\t\t    // Create the parser\r\n\t\t    CommandLineParser parser = new GnuParser();\r\n\t\t\r\n\t\t    // Parse the command line\r\n\t\t    CommandLine cmd = parser.parse(options, arguments);\r\n        }\r\n    }\r\n\r\nThe program fails with error:\r\n \r\n&gt; Exception in thread &quot;main&quot; org.apache.commons.cli.UnrecognizedOptionException: Unrecognized option: --input file.txt\r\n\r\nIf I specify the argument as `-i file.txt`, no errors. If the argument is `--input`, also no errors. Why won&#39;t the double-hyphen option accept any values? Does it have something to do with the parser or that I&#39;m running it on a Windows machine? \r\n\r\nWhat am I doing wrong here? Any help would be appreciated.\r\n\r\nThank you very much.","title":"Java Apache Common CLI double-hypen options failing when specifying an appended value","body":"<p>FYI: I'm running this Java program on a Windows machine. I'm sure that it's important.</p>\n\n<p>Basically, I am having a problem specifying a value to to options with double-hyphens. Single-hyphen options work fine.</p>\n\n<pre><code>import org.apache.commons.cli.*;\n\npublic class Test {\n    public static void main(String[] args) throws ParseException {\n        String[] arguments = new String[] { \"--input file.txt\" };\n\n        // create the Options\n        Options options = new Options();\n        options.addOption( \"i\", \"input\", false, \"Specify the input file.\" );\n\n        // Create the parser\n        CommandLineParser parser = new GnuParser();\n\n        // Parse the command line\n        CommandLine cmd = parser.parse(options, arguments);\n    }\n}\n</code></pre>\n\n<p>The program fails with error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.apache.commons.cli.UnrecognizedOptionException: Unrecognized option: --input file.txt</p>\n</blockquote>\n\n<p>If I specify the argument as <code>-i file.txt</code>, no errors. If the argument is <code>--input</code>, also no errors. Why won't the double-hyphen option accept any values? Does it have something to do with the parser or that I'm running it on a Windows machine? </p>\n\n<p>What am I doing wrong here? Any help would be appreciated.</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","boolean","jls"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1666985217,"post_id":74239885,"comment_id":131072116,"body_markdown":"A logical quantity is a value that is not a numeric measurement or count.","body":"A logical quantity is a value that is not a numeric measurement or count."},{"owner":{"account_id":2104828,"reputation":1257,"user_id":1871404,"accept_rate":38,"display_name":"Patrick B."},"score":0,"creation_date":1666985974,"post_id":74239885,"comment_id":131072306,"body_markdown":"Well, perhaps I&#39;m overthinking it. But maybe &quot;value&quot; instead of &quot;quantity&quot; would have been more appropriate here, since a quantity is by [definition](https://dictionary.cambridge.org/dictionary/english/quantity) a measurable amount or number..","body":"Well, perhaps I&#39;m overthinking it. But maybe &quot;value&quot; instead of &quot;quantity&quot; would have been more appropriate here, since a quantity is by <a href=\"https://dictionary.cambridge.org/dictionary/english/quantity\" rel=\"nofollow noreferrer\">definition</a> a measurable amount or number.."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1666988107,"post_id":74239885,"comment_id":131072846,"body_markdown":"It is not. Note that your own link says &quot;especially that can be measured&quot;, not &quot;exclusively&quot;. There are quantities that cannot be measured. You cannot measure emotions, for example, but you can definitely say that you love/hate X more/less than Y. So that is something that can be quantified but not measured.","body":"It is not. Note that your own link says &quot;especially that can be measured&quot;, not &quot;exclusively&quot;. There are quantities that cannot be measured. You cannot measure emotions, for example, but you can definitely say that you love/hate X more/less than Y. So that is something that can be quantified but not measured."}],"owner":{"account_id":2104828,"reputation":1257,"user_id":1871404,"accept_rate":38,"display_name":"Patrick B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666984041,"creation_date":1666984041,"question_id":74239885,"body_markdown":"In paragraph 4.2.5 of the Java Langage Specification 17, there is this sentence : &quot;The boolean type represents a **logical quantity** with two possible values, indicated by the literals true and false (&#167;3.10.3)&quot;. What does &quot;logical quantity&quot; mean? How can a quantity be logical? It doesn&#39;t make sense to me. I also searched through the internet to see any other context where this association of words is used and I didn&#39;t find anyting relevant... ","title":"What does &quot;logical quantity&quot; mean?","body":"<p>In paragraph 4.2.5 of the Java Langage Specification 17, there is this sentence : &quot;The boolean type represents a <strong>logical quantity</strong> with two possible values, indicated by the literals true and false (§3.10.3)&quot;. What does &quot;logical quantity&quot; mean? How can a quantity be logical? It doesn't make sense to me. I also searched through the internet to see any other context where this association of words is used and I didn't find anyting relevant...</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":9091013,"reputation":311,"user_id":6766950,"display_name":"Kenny Colliander Nordin"},"score":0,"creation_date":1472399048,"post_id":39192945,"comment_id":65726460,"body_markdown":"http://stackoverflow.com/questions/6873020/gson-date-format should point you in the right direction.","body":"<a href=\"http://stackoverflow.com/questions/6873020/gson-date-format\">stackoverflow.com/questions/6873020/gson-date-format</a> should point you in the right direction."},{"owner":{"account_id":556766,"reputation":130900,"user_id":918959,"accept_rate":89,"display_name":"Antti Haapala -- Слава Україні"},"score":0,"creation_date":1472399182,"post_id":39192945,"comment_id":65726486,"body_markdown":"You&#39;d most probably need to install a [custom TypeAdapter](http://www.javadoc.io/doc/com.google.code.gson/gson/2.7)","body":"You&#39;d most probably need to install a <a href=\"http://www.javadoc.io/doc/com.google.code.gson/gson/2.7\" rel=\"nofollow noreferrer\">custom TypeAdapter</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1472399602,"post_id":39192945,"comment_id":65726628,"body_markdown":"Looking at the classes in `com.google.gson.internal.bind` there is no type adapter for `LocalDate` (in gson 2.7).","body":"Looking at the classes in <code>com.google.gson.internal.bind</code> there is no type adapter for <code>LocalDate</code> (in gson 2.7)."},{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":0,"creation_date":1472399749,"post_id":39192945,"comment_id":65726672,"body_markdown":"@JornVernee Good idea. If you want to post your comment as an answer, I shall accept it.","body":"@JornVernee Good idea. If you want to post your comment as an answer, I shall accept it."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1472400020,"post_id":39192945,"comment_id":65726756,"body_markdown":"@Drux, No that&#39;s ok, It doesn&#39;t really solve the problem. I think your answer is better for future readers.","body":"@Drux, No that&#39;s ok, It doesn&#39;t really solve the problem. I think your answer is better for future readers."},{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":0,"creation_date":1472400751,"post_id":39192945,"comment_id":65726965,"body_markdown":"@JornVernee That&#39;s fine as well. Thx.","body":"@JornVernee That&#39;s fine as well. Thx."}],"answers":[{"tags":[],"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1472399622,"creation_date":1472399622,"answer_id":39193077,"question_id":39192945,"body_markdown":"Until further notice, I have implemented a custom serializer like so:\r\n\r\n    class LocalDateAdapter implements JsonSerializer&lt;LocalDate&gt; {\r\n\r\n\t    public JsonElement serialize(LocalDate date, Type typeOfSrc, JsonSerializationContext context) {\r\n\t\t    return new JsonPrimitive(date.format(DateTimeFormatter.ISO_LOCAL_DATE)); // &quot;yyyy-mm-dd&quot;\r\n    \t}\r\n    }\r\n\r\nIt can be installed e.g. like so:\r\n\r\n\tGson gson = new GsonBuilder()\r\n\t\t\t.setPrettyPrinting()\r\n\t\t\t.registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n\t\t\t.create();\r\n\r\n","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Until further notice, I have implemented a custom serializer like so:</p>\n\n<pre><code>class LocalDateAdapter implements JsonSerializer&lt;LocalDate&gt; {\n\n    public JsonElement serialize(LocalDate date, Type typeOfSrc, JsonSerializationContext context) {\n        return new JsonPrimitive(date.format(DateTimeFormatter.ISO_LOCAL_DATE)); // \"yyyy-mm-dd\"\n    }\n}\n</code></pre>\n\n<p>It can be installed e.g. like so:</p>\n\n<pre><code>Gson gson = new GsonBuilder()\n        .setPrettyPrinting()\n        .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n        .create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1554396056,"creation_date":1541914987,"answer_id":53246168,"question_id":39192945,"body_markdown":"I use the following, supports read/write and null values:\r\n\r\n    class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\r\n\t\t@Override\r\n\t\tpublic void write(final JsonWriter jsonWriter, final LocalDate localDate) throws IOException {\r\n\t\t\tif (localDate == null) {\r\n\t\t\t\tjsonWriter.nullValue();\r\n\t\t\t} else {\r\n\t\t\t\tjsonWriter.value(localDate.toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDate read(final JsonReader jsonReader) throws IOException {\r\n\t    \tif (jsonReader.peek() == JsonToken.NULL) {\r\n                jsonReader.nextNull();\r\n\t    \t\treturn null;\r\n\t\t    } else {\r\n\t\t\t    return LocalDate.parse(jsonReader.nextString());\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\r\n\r\nRegistered as @Drux says:\r\n\r\n\treturn new GsonBuilder()\r\n\t\t\t.registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n\t\t\t.create();\r\n\r\n\r\n**EDIT 2019-04-04** A simpler implementation\r\n\r\n\tprivate static final class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\r\n\t\t@Override\r\n\t\tpublic void write( final JsonWriter jsonWriter, final LocalDate localDate ) throws IOException {\r\n\t\t\tjsonWriter.value(localDate.toString());\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDate read( final JsonReader jsonReader ) throws IOException {\r\n\t\t\treturn LocalDate.parse(jsonReader.nextString());\r\n\t\t}\r\n\t}\r\n\r\nWhich you can add `null` support to by registering the `nullSafe()` wrapped version:\r\n\r\n    new GsonBuilder()\r\n          .registerTypeAdapter(LocalDate.class, new LocalDateAdapter().nullSafe())","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>I use the following, supports read/write and null values:</p>\n\n<pre><code>class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\n    @Override\n    public void write(final JsonWriter jsonWriter, final LocalDate localDate) throws IOException {\n        if (localDate == null) {\n            jsonWriter.nullValue();\n        } else {\n            jsonWriter.value(localDate.toString());\n        }\n    }\n\n    @Override\n    public LocalDate read(final JsonReader jsonReader) throws IOException {\n        if (jsonReader.peek() == JsonToken.NULL) {\n            jsonReader.nextNull();\n            return null;\n        } else {\n            return LocalDate.parse(jsonReader.nextString());\n        }\n    }\n}\n</code></pre>\n\n<p>Registered as @Drux says:</p>\n\n<pre><code>return new GsonBuilder()\n        .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n        .create();\n</code></pre>\n\n<p><strong>EDIT 2019-04-04</strong> A simpler implementation</p>\n\n<pre><code>private static final class LocalDateAdapter extends TypeAdapter&lt;LocalDate&gt; {\n    @Override\n    public void write( final JsonWriter jsonWriter, final LocalDate localDate ) throws IOException {\n        jsonWriter.value(localDate.toString());\n    }\n\n    @Override\n    public LocalDate read( final JsonReader jsonReader ) throws IOException {\n        return LocalDate.parse(jsonReader.nextString());\n    }\n}\n</code></pre>\n\n<p>Which you can add <code>null</code> support to by registering the <code>nullSafe()</code> wrapped version:</p>\n\n<pre><code>new GsonBuilder()\n      .registerTypeAdapter(LocalDate.class, new LocalDateAdapter().nullSafe())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165872,"reputation":12769,"user_id":389649,"display_name":"Cristan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1557493675,"creation_date":1557493675,"answer_id":56078382,"question_id":39192945,"body_markdown":"Kotlin version which supports serializing and deserializing:\r\n\r\n    class LocalDateTypeAdapter : TypeAdapter&lt;LocalDate&gt;() {\r\n    \r\n        override fun write(out: JsonWriter, value: LocalDate) {\r\n            out.value(DateTimeFormatter.ISO_LOCAL_DATE.format(value))\r\n        }\r\n    \r\n        override fun read(input: JsonReader): LocalDate = LocalDate.parse(input.nextString())\r\n    }\r\n\r\nRegister with your GsonBuilder. Wrap using `nullSafe()` for `null` support:\r\n\r\n    GsonBuilder().registerTypeAdapter(LocalDate::class.java, LocalDateTypeAdapter().nullSafe())","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Kotlin version which supports serializing and deserializing:</p>\n\n<pre><code>class LocalDateTypeAdapter : TypeAdapter&lt;LocalDate&gt;() {\n\n    override fun write(out: JsonWriter, value: LocalDate) {\n        out.value(DateTimeFormatter.ISO_LOCAL_DATE.format(value))\n    }\n\n    override fun read(input: JsonReader): LocalDate = LocalDate.parse(input.nextString())\n}\n</code></pre>\n\n<p>Register with your GsonBuilder. Wrap using <code>nullSafe()</code> for <code>null</code> support:</p>\n\n<pre><code>GsonBuilder().registerTypeAdapter(LocalDate::class.java, LocalDateTypeAdapter().nullSafe())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631778440,"creation_date":1631778440,"answer_id":69204338,"question_id":39192945,"body_markdown":"Reported upstream as https://github.com/google/gson/issues/1059 . Current suggestion from the upstream is to use the https://github.com/gkopff/gson-javatime-serialisers addon.","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>Reported upstream as <a href=\"https://github.com/google/gson/issues/1059\" rel=\"nofollow noreferrer\">https://github.com/google/gson/issues/1059</a> . Current suggestion from the upstream is to use the <a href=\"https://github.com/gkopff/gson-javatime-serialisers\" rel=\"nofollow noreferrer\">https://github.com/gkopff/gson-javatime-serialisers</a> addon.</p>\n"},{"tags":[],"owner":{"account_id":3469431,"reputation":31,"user_id":2904223,"display_name":"nbarm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666983911,"creation_date":1666983572,"answer_id":74239815,"question_id":39192945,"body_markdown":"For some reason using the above classes with .nullSafe() didn&#39;t work me as I still got this exception with JDK 17 and Gson:\r\n\r\n    Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\r\n\r\nso I used this custom TypeAdapter with null checks:\r\n\r\n    public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\r\n    \r\n        @Override\r\n        public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\r\n            if (localDate == null) {\r\n                jsonWriter.nullValue();\r\n                return;\r\n            }\r\n            jsonWriter.value(localDate.toString());\r\n        }\r\n    \r\n        @Override\r\n        public LocalDateTime read(final JsonReader jsonReader) throws IOException {\r\n            if (jsonReader.peek() == JsonToken.NULL) {\r\n                jsonReader.nextNull();\r\n                return null;\r\n            }\r\n            return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\r\n        }\r\n    }\r\n\r\n","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>For some reason using the above classes with .nullSafe() didn't work me as I still got this exception with JDK 17 and Gson:</p>\n<pre><code>Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot;\n</code></pre>\n<p>so I used this custom TypeAdapter with null checks:</p>\n<pre><code>public class LocalDateTimeTypeAdapter extends TypeAdapter&lt;LocalDateTime&gt; {\n\n    @Override\n    public void write(final JsonWriter jsonWriter, final LocalDateTime localDate) throws IOException {\n        if (localDate == null) {\n            jsonWriter.nullValue();\n            return;\n        }\n        jsonWriter.value(localDate.toString());\n    }\n\n    @Override\n    public LocalDateTime read(final JsonReader jsonReader) throws IOException {\n        if (jsonReader.peek() == JsonToken.NULL) {\n            jsonReader.nextNull();\n            return null;\n        }\n        return ZonedDateTime.parse(jsonReader.nextString()).toLocalDateTime();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45278,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":39193077,"answer_count":5,"score":51,"last_activity_date":1666983911,"creation_date":1472398731,"question_id":39192945,"body_markdown":"I am using Java 8 and the latest `RELEASE` version (via Maven) of [Gson][1].\r\nIf I serialize a [`LocalDate`][2] I get something like this\r\n\r\n    &quot;birthday&quot;: {\r\n            &quot;year&quot;: 1997,\r\n            &quot;month&quot;: 11,\r\n            &quot;day&quot;: 25\r\n    }\r\n\r\nwhere I would have preferred `&quot;birthday&quot;: &quot;1997-11-25&quot;`. Does Gson also support the more concise format out-of-the-box, or do I have to implement a custom serializer for `LocalDate`s? \r\n\r\n(I&#39;ve tried `gsonBuilder.setDateFormat(DateFormat.SHORT)`, but that does not seem to make a difference.)\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Serialize Java 8 LocalDate as yyyy-mm-dd with Gson","body":"<p>I am using Java 8 and the latest <code>RELEASE</code> version (via Maven) of <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Gson</a>.\nIf I serialize a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> I get something like this</p>\n\n<pre><code>\"birthday\": {\n        \"year\": 1997,\n        \"month\": 11,\n        \"day\": 25\n}\n</code></pre>\n\n<p>where I would have preferred <code>\"birthday\": \"1997-11-25\"</code>. Does Gson also support the more concise format out-of-the-box, or do I have to implement a custom serializer for <code>LocalDate</code>s? </p>\n\n<p>(I've tried <code>gsonBuilder.setDateFormat(DateFormat.SHORT)</code>, but that does not seem to make a difference.)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9068,"page":924,"page_size":100}
