{"items":[{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653490295,"creation_date":1653489938,"answer_id":72379778,"question_id":72376633,"body_markdown":"&gt; How can i set this kind of payload structure?\r\n&gt; \r\n&gt;     {\r\n&gt;       &quot;https://daml.com/ledger-api&quot;: {\r\n&gt;         &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n&gt;         &quot;applicationId&quot;: &quot;foobar&quot;,\r\n&gt;         &quot;actAs&quot;: [&quot;Alice&quot;]    \r\n&gt;       }\r\n&gt;     }\r\n\r\nYou can easily achive the above payload structure by modifying your code as describe below. \r\n\r\n    void getJWT() throws UnsupportedEncodingException {\r\n    \tMap&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\r\n    \tclaims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\r\n    \tclaims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\r\n    \tclaims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\r\n    \r\n    \tMap&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\r\n    \tclaimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\r\n    \r\n    \tString jwtToken = Jwts.builder()\r\n    \t\t\t.setClaims(claimsMap)\r\n    \t\t\t.signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\r\n    \t\t\t.setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\r\n    \t\t\t.compact();\r\n    \r\n    \tSystem.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\r\n    }\r\n\r\n","title":"Payload JWT structure","body":"<blockquote>\n<p>How can i set this kind of payload structure?</p>\n<pre><code>{\n  &quot;https://daml.com/ledger-api&quot;: {\n    &quot;ledgerId&quot;: &quot;sandbox&quot;,\n    &quot;applicationId&quot;: &quot;foobar&quot;,\n    &quot;actAs&quot;: [&quot;Alice&quot;]    \n  }\n}\n</code></pre>\n</blockquote>\n<p>You can easily achive the above payload structure by modifying your code as describe below.</p>\n<pre><code>void getJWT() throws UnsupportedEncodingException {\n    Map&lt;String, String&gt; claims = new HashMap&lt;String, String&gt;();\n    claims.put(&quot;ledgerId&quot;, &quot;sandbox&quot;);\n    claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\n    claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\n\n    Map&lt;String, Object&gt; claimsMap = new HashMap&lt;String, Object&gt;();\n    claimsMap.put(&quot;https://daml.com/ledger-api&quot;, claims);\n\n    String jwtToken = Jwts.builder()\n            .setClaims(claimsMap)\n            .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\n            .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\n            .compact();\n\n    System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\n}\n</code></pre>\n"}],"owner":{"account_id":24873892,"reputation":3,"user_id":18748055,"display_name":"Bernardo Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72379778,"answer_count":1,"score":0,"last_activity_date":1653490295,"creation_date":1653477436,"question_id":72376633,"body_markdown":"I am trying to set up my JWT token but it has a different payload structure as usual,\r\nHow can i set this kind of payload structure?\r\n\r\n\r\n    {\r\n      &quot;https://daml.com/ledger-api&quot;: {\r\n        &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n        &quot;applicationId&quot;: &quot;foobar&quot;,\r\n        &quot;actAs&quot;: [&quot;Alice&quot;]    \r\n      }\r\n    }\r\n\r\ni can only set up something like this:\r\n\r\n    {           \r\n     &quot;sub&quot;: &quot;https://daml.com/ledger-api&quot;,\r\n     &quot;ledgerId&quot;: &quot;sandbox&quot;,\r\n     &quot;applicationId&quot;: &quot;foobar&quot;,\r\n     &quot;actAs&quot;: &quot;[Alice]&quot;\r\n    }\r\n\r\n\r\nMy java code:\r\n    \r\n\r\n    void getJWT() throws UnsupportedEncodingException {\r\n                     \r\n        Claims claims = Jwts.claims().setSubject(&quot;https://daml.com/ledger-api&quot;);\r\n        claims.put(&quot;ledgerId&quot;,&quot;sandbox&quot;);\r\n        claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\r\n        claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\r\n        String jwtToken = Jwts.builder()\r\n                .setClaims(claims)\r\n                .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\r\n                .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\r\n                .compact();\r\n        System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\r\n    }\r\n","title":"Payload JWT structure","body":"<p>I am trying to set up my JWT token but it has a different payload structure as usual,\nHow can i set this kind of payload structure?</p>\n<pre><code>{\n  &quot;https://daml.com/ledger-api&quot;: {\n    &quot;ledgerId&quot;: &quot;sandbox&quot;,\n    &quot;applicationId&quot;: &quot;foobar&quot;,\n    &quot;actAs&quot;: [&quot;Alice&quot;]    \n  }\n}\n</code></pre>\n<p>i can only set up something like this:</p>\n<pre><code>{           \n &quot;sub&quot;: &quot;https://daml.com/ledger-api&quot;,\n &quot;ledgerId&quot;: &quot;sandbox&quot;,\n &quot;applicationId&quot;: &quot;foobar&quot;,\n &quot;actAs&quot;: &quot;[Alice]&quot;\n}\n</code></pre>\n<p>My java code:</p>\n<pre><code>void getJWT() throws UnsupportedEncodingException {\n                 \n    Claims claims = Jwts.claims().setSubject(&quot;https://daml.com/ledger-api&quot;);\n    claims.put(&quot;ledgerId&quot;,&quot;sandbox&quot;);\n    claims.put(&quot;applicationId&quot;, &quot;foobar&quot;);\n    claims.put(&quot;actAs&quot;, &quot;[Alice]&quot;);\n    String jwtToken = Jwts.builder()\n            .setClaims(claims)\n            .signWith(SignatureAlgorithm.HS256, &quot;sYn2kjibddFAWtnPJ2AFlL8WXmohJMCvigQggaEypa5E=&quot;.getBytes(&quot;UTF-8&quot;))\n            .setHeaderParam(&quot;typ&quot;, Header.JWT_TYPE)\n            .compact();\n    System.out.println(&quot;The generated jwt token is as follows:&quot; + jwtToken);\n}\n</code></pre>\n"},{"tags":["java","android","hashmap"],"comments":[{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":2,"creation_date":1653487209,"post_id":72378971,"comment_id":127864731,"body_markdown":"Looks like what you really have is a Map of Maps. Id try changing \nnew TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() \nto \nnew TypeToken&lt;HashMap&lt;String, HashMap&lt;String,String&gt;&gt;().\n\nThen,\nhashMap.get(&quot;2&quot;).get(&quot;3 darts hint&quot;);","body":"Looks like what you really have is a Map of Maps. Id try changing  new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;()  to  new TypeToken&lt;HashMap&lt;String, HashMap&lt;String,String&gt;&gt;().  Then, hashMap.get(&quot;2&quot;).get(&quot;3 darts hint&quot;);"},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653487660,"post_id":72378971,"comment_id":127864927,"body_markdown":"Great, that works! Thank you!\nEdit: you forgot 1 &gt;, it has to be &gt;&gt;&gt; at the end.","body":"Great, that works! Thank you! Edit: you forgot 1 &gt;, it has to be &gt;&gt;&gt; at the end."},{"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"score":0,"creation_date":1653488183,"post_id":72378971,"comment_id":127865144,"body_markdown":"Ah my mistake. Copy and paste negligence ;)","body":"Ah my mistake. Copy and paste negligence ;)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653489252,"post_id":72378971,"comment_id":127865669,"body_markdown":"There is no need to muck around with a buffer. You can do `StringWriter sw = new StringWriter(); new InputStreamReader(is, StandardCharsets.UTF_8).transferTo(sw); json = sw.toString();`","body":"There is no need to muck around with a buffer. You can do <code>StringWriter sw = new StringWriter(); new InputStreamReader(is, StandardCharsets.UTF_8).transferTo(sw); json = sw.toString();</code>"},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653491066,"post_id":72378971,"comment_id":127866546,"body_markdown":"@DavidConrad I need something compatible for API 16 and ```StandardCharsets.UTF``` requires API 19.","body":"@DavidConrad I need something compatible for API 16 and <code>StandardCharsets.UTF</code> requires API 19."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653510496,"post_id":72378971,"comment_id":127873372,"body_markdown":"@Blaupunkt Well, then, you&#39;ll have to keep using `&quot;UTF-8&quot;` and deal with the potential exception. That&#39;s unfortunate.","body":"@Blaupunkt Well, then, you&#39;ll have to keep using <code>&quot;UTF-8&quot;</code> and deal with the potential exception. That&#39;s unfortunate."},{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1653572324,"post_id":72378971,"comment_id":127887742,"body_markdown":"@DavidConrad In which case would I get an exception?","body":"@DavidConrad In which case would I get an exception?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1653573574,"post_id":72378971,"comment_id":127888228,"body_markdown":"@Blaupunkt You would never get an exception for &quot;UTF-8&quot; since it&#39;s one of the charsets that is guaranteed to come with Java, but when you use the overloads that take strings to specify the character set, they have to take into account that an unknown charset might be specified so they are declared as `throws UnsupportedEncodingException`.","body":"@Blaupunkt You would never get an exception for &quot;UTF-8&quot; since it&#39;s one of the charsets that is guaranteed to come with Java, but when you use the overloads that take strings to specify the character set, they have to take into account that an unknown charset might be specified so they are declared as <code>throws UnsupportedEncodingException</code>."}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653489636,"creation_date":1653486873,"question_id":72378971,"body_markdown":"I have a .json file in my assets directory that looks like that:\r\n\r\n```\r\n{\r\n   &quot;2&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D1&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D1&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D1&quot;\r\n   },\r\n   &quot;3&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;1 D1&quot;,\r\n      &quot;2 darts hint&quot;: &quot;1 D1&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   },\r\n   &quot;4&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D2&quot;\r\n   },\r\n   &quot;5&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;1 D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;1 D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   },\r\n   &quot;6&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;D3&quot;,\r\n      &quot;2 darts hint&quot;: &quot;D3&quot;,\r\n      &quot;1 dart hint&quot;: &quot;D3&quot;\r\n   },\r\n   &quot;7&quot;: {\r\n      &quot;3 darts hint&quot;: &quot;3 D2&quot;,\r\n      &quot;2 darts hint&quot;: &quot;3 D2&quot;,\r\n      &quot;1 dart hint&quot;: &quot;&quot;\r\n   }\r\n   [...]\r\n}\r\n```\r\n\r\nThen I want to create a HashMap from it, which I do with the following code:\r\n\r\n```\r\nprivate HashMap&lt;String, Object&gt; hashMap;\r\n\r\nString json = null;\r\ntry {\r\n\tInputStream is = null;\r\n\r\n\tswitch (getMatch().getCheckOutType()) {\r\n\t\tcase &quot;Straight Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;single_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Double Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;double_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;Triple Out&quot;:\r\n\t\t\tis = getAssets().open(&quot;triple_check_outs.json&quot;);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tint size = is.available();\r\n\tbyte[] buffer = new byte[size];\r\n\tis.read(buffer);\r\n\tis.close();\r\n\tjson = new String(buffer, &quot;UTF-8&quot;);\r\n\r\n\thashMap = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType());\r\n} catch (IOException ex) {\r\n\tex.printStackTrace();\r\n}\r\n```\r\n\r\nI have to admit, I don&#39;t fully understand that code snippet and found parts of it online.\r\n\r\nI know that I can do things like ```System.out.printIn(hashMap.keySet())``` or ```System.out.printIn(hashMap.values())``` but still I don&#39;t understand how to get a specific value even though I&#39;ve been reading through multiple topics here.\r\n\r\nIf I wanted to get the &quot;3 darts hint&quot; value (&quot;D1&quot;) from the key &quot;2&quot;, how would I do that?\r\nIs my HashMap&lt;String, Object&gt; formatted correctly to be able to do that?","title":"How do I format my HashMap and access specific elements?","body":"<p>I have a .json file in my assets directory that looks like that:</p>\n<pre><code>{\n   &quot;2&quot;: {\n      &quot;3 darts hint&quot;: &quot;D1&quot;,\n      &quot;2 darts hint&quot;: &quot;D1&quot;,\n      &quot;1 dart hint&quot;: &quot;D1&quot;\n   },\n   &quot;3&quot;: {\n      &quot;3 darts hint&quot;: &quot;1 D1&quot;,\n      &quot;2 darts hint&quot;: &quot;1 D1&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   },\n   &quot;4&quot;: {\n      &quot;3 darts hint&quot;: &quot;D2&quot;,\n      &quot;2 darts hint&quot;: &quot;D2&quot;,\n      &quot;1 dart hint&quot;: &quot;D2&quot;\n   },\n   &quot;5&quot;: {\n      &quot;3 darts hint&quot;: &quot;1 D2&quot;,\n      &quot;2 darts hint&quot;: &quot;1 D2&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   },\n   &quot;6&quot;: {\n      &quot;3 darts hint&quot;: &quot;D3&quot;,\n      &quot;2 darts hint&quot;: &quot;D3&quot;,\n      &quot;1 dart hint&quot;: &quot;D3&quot;\n   },\n   &quot;7&quot;: {\n      &quot;3 darts hint&quot;: &quot;3 D2&quot;,\n      &quot;2 darts hint&quot;: &quot;3 D2&quot;,\n      &quot;1 dart hint&quot;: &quot;&quot;\n   }\n   [...]\n}\n</code></pre>\n<p>Then I want to create a HashMap from it, which I do with the following code:</p>\n<pre><code>private HashMap&lt;String, Object&gt; hashMap;\n\nString json = null;\ntry {\n    InputStream is = null;\n\n    switch (getMatch().getCheckOutType()) {\n        case &quot;Straight Out&quot;:\n            is = getAssets().open(&quot;single_check_outs.json&quot;);\n            break;\n        case &quot;Double Out&quot;:\n            is = getAssets().open(&quot;double_check_outs.json&quot;);\n            break;\n        case &quot;Triple Out&quot;:\n            is = getAssets().open(&quot;triple_check_outs.json&quot;);\n            break;\n    }\n\n    int size = is.available();\n    byte[] buffer = new byte[size];\n    is.read(buffer);\n    is.close();\n    json = new String(buffer, &quot;UTF-8&quot;);\n\n    hashMap = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType());\n} catch (IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>I have to admit, I don't fully understand that code snippet and found parts of it online.</p>\n<p>I know that I can do things like <code>System.out.printIn(hashMap.keySet())</code> or <code>System.out.printIn(hashMap.values())</code> but still I don't understand how to get a specific value even though I've been reading through multiple topics here.</p>\n<p>If I wanted to get the &quot;3 darts hint&quot; value (&quot;D1&quot;) from the key &quot;2&quot;, how would I do that?\nIs my HashMap&lt;String, Object&gt; formatted correctly to be able to do that?</p>\n"},{"tags":["java","json","playframework","jackson","backend"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1653129082,"post_id":72278282,"comment_id":127779118,"body_markdown":"Does it work if you save the JSON to a file with [`writeValue()`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#writeValue(java.io.File,%20java.lang.Object)), or do you still get memory issues?","body":"Does it work if you save the JSON to a file with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html#writeValue(java.io.File,%20java.lang.Object)\" rel=\"nofollow noreferrer\"><code>writeValue()</code></a>, or do you still get memory issues?"},{"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"score":0,"creation_date":1653343313,"post_id":72278282,"comment_id":127824694,"body_markdown":"I have not tried that, not sure if that is supposed to work that way though.","body":"I have not tried that, not sure if that is supposed to work that way though."},{"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"score":0,"creation_date":1653346811,"post_id":72278282,"comment_id":127825309,"body_markdown":"What I mean is, my datasource is a db, I do not want the overhead of reading data from db, writing to a file, and then reading the data from that file.","body":"What I mean is, my datasource is a db, I do not want the overhead of reading data from db, writing to a file, and then reading the data from that file."}],"answers":[{"tags":[],"owner":{"account_id":25374072,"reputation":60,"user_id":19187445,"display_name":"Gannebal Barka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653489293,"creation_date":1653489293,"answer_id":72379621,"question_id":72278282,"body_markdown":"By my opinion you must implement stream code design f.e.:  \r\n - function `populateMapWithData()` must return stream of data, one returned element - one json node (or array of nodes, i think werry little nodes can made you response very slow)\r\n - function `populateMapWithData()` must get data from database by piece (when stream will try get next part of data), for save you memory\r\n - for result you must use `Chunked responses` because you don&#39;t know real size of content, more details in [PlayFramwork Doc](https://www.playframework.com/documentation/2.8.x/ScalaStream#Chunked-responses) same link that in you question\r\n - in client side you can read every chunk or chunks array, because this approved of json specification  \r\n\r\nI lets tried make different design sample:  \r\n\r\n```lang-java\r\nResults.ok().chunked( //chunked result\r\n   Source.fromPublisher(s -&gt; // publisher read all data by chunks\r\n      mapper.valueToTree(populateEntryWithData(s))));\r\n\r\nObject populateEntryWithData(Subscriber&lt;? super T&gt; s) {\r\n   //todo implement page reading for data\r\n   //todo or you can try use reactive driver for database\r\n}\r\n```\r\n\r\n**ATTENTION**  \r\nIn play framework for working with json usually will be better use `play.libs.Json` or inject `ObjectMapper` or inject `ObjectMapperBuilder`.  \r\nIf you need add more configuration for object mapper you can call `mapper.copy()`, else you can corrupt another internal mapping function in service\r\n","title":"Play framework: JsonNode streaming/chunking","body":"<p>By my opinion you must implement stream code design f.e.:</p>\n<ul>\n<li>function <code>populateMapWithData()</code> must return stream of data, one returned element - one json node (or array of nodes, i think werry little nodes can made you response very slow)</li>\n<li>function <code>populateMapWithData()</code> must get data from database by piece (when stream will try get next part of data), for save you memory</li>\n<li>for result you must use <code>Chunked responses</code> because you don't know real size of content, more details in <a href=\"https://www.playframework.com/documentation/2.8.x/ScalaStream#Chunked-responses\" rel=\"nofollow noreferrer\">PlayFramwork Doc</a> same link that in you question</li>\n<li>in client side you can read every chunk or chunks array, because this approved of json specification</li>\n</ul>\n<p>I lets tried make different design sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Results.ok().chunked( //chunked result\n   Source.fromPublisher(s -&gt; // publisher read all data by chunks\n      mapper.valueToTree(populateEntryWithData(s))));\n\nObject populateEntryWithData(Subscriber&lt;? super T&gt; s) {\n   //todo implement page reading for data\n   //todo or you can try use reactive driver for database\n}\n</code></pre>\n<p><strong>ATTENTION</strong><br />\nIn play framework for working with json usually will be better use <code>play.libs.Json</code> or inject <code>ObjectMapper</code> or inject <code>ObjectMapperBuilder</code>.<br />\nIf you need add more configuration for object mapper you can call <code>mapper.copy()</code>, else you can corrupt another internal mapping function in service</p>\n"}],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653489293,"creation_date":1652808162,"question_id":72278282,"body_markdown":"I have a large map that I want to return to the frontend. Originally I was converting the map to a jackson json node and returning the map back to the user with the return ok() method that play provides. \r\n\r\nOriginal code:\r\n\r\n    public Result returnResponse() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; returnMap = populateMapWithData();\r\n        JsonNode response = mapper.valueToTree(returnMap);\r\n        return ok(response);\r\n    }\r\n\r\nSince the map can be really large, I am running into memory issues.\r\n\r\nOn looking at the play framework documentation, there are two ways to return large data to the frontend. If the size is known I can stream the data back to the user. If the size is not known, I can provide the data in chunks.\r\n\r\nPlay Framework documentation: https://www.playframework.com/documentation/2.8.x/JavaStream\r\n\r\nFor streaming:\r\n\r\n    public Result index() {\r\n      java.io.File file = new java.io.File(&quot;/tmp/fileToServe.pdf&quot;);\r\n      java.nio.file.Path path = file.toPath();\r\n      Source&lt;ByteString, ?&gt; source = FileIO.fromPath(path);\r\n    \r\n      Optional&lt;Long&gt; contentLength = null;\r\n      try {\r\n        contentLength = Optional.of(Files.size(path));\r\n      } catch (IOException ioe) {\r\n        throw new RuntimeException(ioe);\r\n      }\r\n    \r\n      return new Result(\r\n          new ResponseHeader(200, Collections.emptyMap()),\r\n          new HttpEntity.Streamed(source, contentLength, Optional.of(&quot;text/plain&quot;)));\r\n    }\r\n\r\nFor chunking:\r\n\r\n    public Result index() {\r\n      // Prepare a chunked text stream\r\n      Source&lt;ByteString, ?&gt; source =\r\n          Source.&lt;ByteString&gt;actorRef(256, OverflowStrategy.dropNew())\r\n              .mapMaterializedValue(\r\n                  sourceActor -&gt; {\r\n                    sourceActor.tell(ByteString.fromString(&quot;kiki&quot;), null);\r\n                    sourceActor.tell(ByteString.fromString(&quot;foo&quot;), null);\r\n                    sourceActor.tell(ByteString.fromString(&quot;bar&quot;), null);\r\n                    sourceActor.tell(new Status.Success(NotUsed.getInstance()), null);\r\n                    return NotUsed.getInstance();\r\n                  });\r\n      // Serves this stream with 200 OK\r\n      return ok().chunked(source);\r\n    }\r\n\r\nMy questions are:\r\n\r\n 1. How do I get the same result for a Jackson json node?\r\n 2. Is there another way to approach large dataset issues with the play framework?|\r\n 3. Do we have other play framework documentation for JSON streaming?","title":"Play framework: JsonNode streaming/chunking","body":"<p>I have a large map that I want to return to the frontend. Originally I was converting the map to a jackson json node and returning the map back to the user with the return ok() method that play provides.</p>\n<p>Original code:</p>\n<pre><code>public Result returnResponse() {\n    ObjectMapper mapper = new ObjectMapper();\n    Map&lt;String, Object&gt; returnMap = populateMapWithData();\n    JsonNode response = mapper.valueToTree(returnMap);\n    return ok(response);\n}\n</code></pre>\n<p>Since the map can be really large, I am running into memory issues.</p>\n<p>On looking at the play framework documentation, there are two ways to return large data to the frontend. If the size is known I can stream the data back to the user. If the size is not known, I can provide the data in chunks.</p>\n<p>Play Framework documentation: <a href=\"https://www.playframework.com/documentation/2.8.x/JavaStream\" rel=\"nofollow noreferrer\">https://www.playframework.com/documentation/2.8.x/JavaStream</a></p>\n<p>For streaming:</p>\n<pre><code>public Result index() {\n  java.io.File file = new java.io.File(&quot;/tmp/fileToServe.pdf&quot;);\n  java.nio.file.Path path = file.toPath();\n  Source&lt;ByteString, ?&gt; source = FileIO.fromPath(path);\n\n  Optional&lt;Long&gt; contentLength = null;\n  try {\n    contentLength = Optional.of(Files.size(path));\n  } catch (IOException ioe) {\n    throw new RuntimeException(ioe);\n  }\n\n  return new Result(\n      new ResponseHeader(200, Collections.emptyMap()),\n      new HttpEntity.Streamed(source, contentLength, Optional.of(&quot;text/plain&quot;)));\n}\n</code></pre>\n<p>For chunking:</p>\n<pre><code>public Result index() {\n  // Prepare a chunked text stream\n  Source&lt;ByteString, ?&gt; source =\n      Source.&lt;ByteString&gt;actorRef(256, OverflowStrategy.dropNew())\n          .mapMaterializedValue(\n              sourceActor -&gt; {\n                sourceActor.tell(ByteString.fromString(&quot;kiki&quot;), null);\n                sourceActor.tell(ByteString.fromString(&quot;foo&quot;), null);\n                sourceActor.tell(ByteString.fromString(&quot;bar&quot;), null);\n                sourceActor.tell(new Status.Success(NotUsed.getInstance()), null);\n                return NotUsed.getInstance();\n              });\n  // Serves this stream with 200 OK\n  return ok().chunked(source);\n}\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li>How do I get the same result for a Jackson json node?</li>\n<li>Is there another way to approach large dataset issues with the play framework?|</li>\n<li>Do we have other play framework documentation for JSON streaming?</li>\n</ol>\n"},{"tags":["java","collections","iterator"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653384471,"post_id":72354037,"comment_id":127833361,"body_markdown":"What do you mean with “all values”? Your `if` statements process exactly one value. Is there any reason for not using an idiomatic loop?","body":"What do you mean with “all values”? Your <code>if</code> statements process exactly one value. Is there any reason for not using an idiomatic loop?"},{"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"score":0,"creation_date":1653395269,"post_id":72354037,"comment_id":127837416,"body_markdown":"No because, `somemap` is actually a tree of maps so I need to traverse and process each element and then, only if all values of entries have been processed successfully, I then iterate over `tmp` and commit the `newval`. So my question is: do `Map.Entry` objects acquired during iteration, survive outside the iteration (assuming no modifications in between).","body":"No because, <code>somemap</code> is actually a tree of maps so I need to traverse and process each element and then, only if all values of entries have been processed successfully, I then iterate over <code>tmp</code> and commit the <code>newval</code>. So my question is: do <code>Map.Entry</code> objects acquired during iteration, survive outside the iteration (assuming no modifications in between)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653398325,"post_id":72354037,"comment_id":127838827,"body_markdown":"That’s not obvious when neither, `iter1` nor `tmp` are ever passed to a method which could do such a traversal (and add more entries to `tmp`). And more importantly, you don’t iterate over `tmp`. The second step still is an `if` that only processes the first element (of `tmp`).","body":"That’s not obvious when neither, <code>iter1</code> nor <code>tmp</code> are ever passed to a method which could do such a traversal (and add more entries to <code>tmp</code>). And more importantly, you don’t iterate over <code>tmp</code>. The second step still is an <code>if</code> that only processes the first element (of <code>tmp</code>)."},{"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"score":0,"creation_date":1653438311,"post_id":72354037,"comment_id":127851458,"body_markdown":"I have completely re-written the code to illustrate why a simple loop is not sufficient.","body":"I have completely re-written the code to illustrate why a simple loop is not sufficient."},{"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"score":0,"creation_date":1653487720,"post_id":72354037,"comment_id":127864952,"body_markdown":"Sorry, the `if` should have been `while`. Still a problem?","body":"Sorry, the <code>if</code> should have been <code>while</code>. Still a problem?"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653335739,"creation_date":1653335739,"answer_id":72354164,"question_id":72354037,"body_markdown":"If I&#39;m following along, you can do something like this:\r\n\r\n    for (Entry&lt;String, Object&gt; entry : someMap.entrySet()) {\r\n    \tObject newVal = performPerilousProcedure(entry.getValue());\r\n    \ttmp.put(entry.getKey(), newVal);\r\n    }\r\n    \t\r\n    someMap.putAll(tmp);","title":"Set Map.Entry value AFTER iteration complete?","body":"<p>If I'm following along, you can do something like this:</p>\n<pre><code>for (Entry&lt;String, Object&gt; entry : someMap.entrySet()) {\n    Object newVal = performPerilousProcedure(entry.getValue());\n    tmp.put(entry.getKey(), newVal);\n}\n    \nsomeMap.putAll(tmp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653489279,"creation_date":1653489279,"answer_id":72379616,"question_id":72354037,"body_markdown":"The [documentation of `Map.Entry`] is very clear about it:\r\n\r\n&gt; These instances maintain a connection to the original, backing map. This connection to the backing map is valid *only* for the duration of iteration over the entry-set view. During iteration of the entry-set view, if supported by the backing map, a change to a `Map.Entry`&#39;s value via the [`setValue`] method will be visible in the backing map. The behavior of such a `Map.Entry` instance is undefined outside of iteration of the map&#39;s entry-set view.\r\n\r\nAn undefined behavior does not preclude doing the intended thing and in practice, when the map is `HashMap` or `TreeMap`, these entry instances keep working as long as you don’t modify the the map (in a different way than calling [`setValue`] on an entry).\r\n\r\nThe question is whether you want to build your application on such an implementation specific behavior which, while longstanding, has not been specified explicitly.\r\n\r\n---\r\n\r\nThere’s another problem in that you are using these entries as keys in another map. The equality of an entry is determined by the combination of key and value, but not the associated map. In other words, if two entries of different maps happen to have the same key and value, you have a clash and trying to put the other entry will keep the already existing entry but associate it with the new value not meant for this entry (or more precise, not meant for this target map).\r\n\r\nEven worse, you are changing the equality while the entry instance is already in use as a key, by calling `setValue` on them, [which is definitely illegal][`Map`] and turns the `HashMap` into an inconsistent state:\r\n\r\n&gt; Note: great care must be exercised if mutable objects are used as map keys. The behavior of a map is not specified if the value of an object is changed in a manner that affects `equals` comparisons while the object is a key in the map.\r\n\r\nIf all that you are going to do, is to iterate over `tmp` once, there is no need to use a map as no lookup operation is required. A `List&lt;Map.Entry&lt;Key,Value&gt;&gt;` would do instead of `Map&lt;Key,Value&gt;`, to keep a combination of key and value you can iterate over. In fact, any object capable of holding two values could be used instead of `Map.Entry&lt;Key,Value&gt;`. If you replace it with an object capable of holding three values, you could keep track of the target `Map`, key, and new value and just perform a simple `put` at the end.\r\n\r\nSo the first approach could look like\r\n\r\n```java\r\nvoid recursivePerilousProcedure(Map&lt;String,Object&gt; someMap,\r\n                                List&lt;Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt;&gt; tmp)\r\n                                throws Exception {\r\n    for(Map.Entry&lt;String,Object&gt; entry1: someMap.entrySet()) {\r\n        Object val = entry1.getValue();\r\n        if (val instanceof Map) {\r\n            recursivePerilousProcedure((Map&lt;String,Object&gt;)val, tmp);\r\n        } else {\r\n            Object newval = performPerilousProcedure(val);\r\n            tmp.add(new AbstractMap.SimpleEntry&lt;&gt;(entry1, newval));\r\n        }\r\n    }\r\n}\r\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception {\r\n    List&lt;Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt;&gt; tmp = new ArrayList&lt;&gt;();\r\n\r\n    // Try to process map of entries and record new values\r\n    recursivePerilousProcedure(someMap, tmp);\r\n\r\n    // All entries success processed, now simply assign new vals\r\n    // relies on Map implementation detail\r\n    for(Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt; entry: tmp) {\r\n        Object newval = entry.getValue();\r\n        entry.getKey().setValue(newval); // assign new value\r\n    }\r\n}\r\n```\r\nwhich is relying on the implementation detail but has the slight advantage that no map lookup is needed when calling `setValue`. Or the clean solution:\r\n\r\n```java\r\nrecord NewValue(Map&lt;String,Object&gt; target, String key, Object newValue) {\r\n    void apply() {\r\n        target.put(key, newValue);\r\n    }\r\n}\r\nvoid recursivePerilousProcedure(Map&lt;String,Object&gt; someMap,\r\n                                List&lt;NewValue&gt; tmp) throws Exception {\r\n    for(Map.Entry&lt;String,Object&gt; entry1: someMap.entrySet()) {\r\n        Object val = entry1.getValue();\r\n        if (val instanceof Map) {\r\n            recursivePerilousProcedure((Map&lt;String,Object&gt;)val, tmp);\r\n        } else {\r\n            Object newval = performPerilousProcedure(val);\r\n            tmp.add(new NewValue(someMap, entry1.getKey(), newval));\r\n        }\r\n    }\r\n}\r\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception {\r\n    List&lt;NewValue&gt; tmp = new ArrayList&lt;&gt;();\r\n    // Try to process map of entries and record new values\r\n    recursivePerilousProcedure(someMap, tmp);\r\n\r\n    // All entries success processed, now simply assign new vals\r\n    // assign all new values, cleanly\r\n    tmp.forEach(NewValue::apply);\r\n}\r\n```\r\n\r\nDepending on your application, there might be a third option. Just build a new map matching the intended target structure during the recursive processing, to replace the original one when no error occurred.\r\n\r\n[documentation of `Map.Entry`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\r\n[`setValue`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#setValue(V)\r\n[`Map`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html","title":"Set Map.Entry value AFTER iteration complete?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\">documentation of <code>Map.Entry</code></a> is very clear about it:</p>\n<blockquote>\n<p>These instances maintain a connection to the original, backing map. This connection to the backing map is valid <em>only</em> for the duration of iteration over the entry-set view. During iteration of the entry-set view, if supported by the backing map, a change to a <code>Map.Entry</code>'s value via the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#setValue(V)\" rel=\"nofollow noreferrer\"><code>setValue</code></a> method will be visible in the backing map. The behavior of such a <code>Map.Entry</code> instance is undefined outside of iteration of the map's entry-set view.</p>\n</blockquote>\n<p>An undefined behavior does not preclude doing the intended thing and in practice, when the map is <code>HashMap</code> or <code>TreeMap</code>, these entry instances keep working as long as you don’t modify the the map (in a different way than calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html#setValue(V)\" rel=\"nofollow noreferrer\"><code>setValue</code></a> on an entry).</p>\n<p>The question is whether you want to build your application on such an implementation specific behavior which, while longstanding, has not been specified explicitly.</p>\n<hr />\n<p>There’s another problem in that you are using these entries as keys in another map. The equality of an entry is determined by the combination of key and value, but not the associated map. In other words, if two entries of different maps happen to have the same key and value, you have a clash and trying to put the other entry will keep the already existing entry but associate it with the new value not meant for this entry (or more precise, not meant for this target map).</p>\n<p>Even worse, you are changing the equality while the entry instance is already in use as a key, by calling <code>setValue</code> on them, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">which is definitely illegal</a> and turns the <code>HashMap</code> into an inconsistent state:</p>\n<blockquote>\n<p>Note: great care must be exercised if mutable objects are used as map keys. The behavior of a map is not specified if the value of an object is changed in a manner that affects <code>equals</code> comparisons while the object is a key in the map.</p>\n</blockquote>\n<p>If all that you are going to do, is to iterate over <code>tmp</code> once, there is no need to use a map as no lookup operation is required. A <code>List&lt;Map.Entry&lt;Key,Value&gt;&gt;</code> would do instead of <code>Map&lt;Key,Value&gt;</code>, to keep a combination of key and value you can iterate over. In fact, any object capable of holding two values could be used instead of <code>Map.Entry&lt;Key,Value&gt;</code>. If you replace it with an object capable of holding three values, you could keep track of the target <code>Map</code>, key, and new value and just perform a simple <code>put</code> at the end.</p>\n<p>So the first approach could look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>void recursivePerilousProcedure(Map&lt;String,Object&gt; someMap,\n                                List&lt;Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt;&gt; tmp)\n                                throws Exception {\n    for(Map.Entry&lt;String,Object&gt; entry1: someMap.entrySet()) {\n        Object val = entry1.getValue();\n        if (val instanceof Map) {\n            recursivePerilousProcedure((Map&lt;String,Object&gt;)val, tmp);\n        } else {\n            Object newval = performPerilousProcedure(val);\n            tmp.add(new AbstractMap.SimpleEntry&lt;&gt;(entry1, newval));\n        }\n    }\n}\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception {\n    List&lt;Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt;&gt; tmp = new ArrayList&lt;&gt;();\n\n    // Try to process map of entries and record new values\n    recursivePerilousProcedure(someMap, tmp);\n\n    // All entries success processed, now simply assign new vals\n    // relies on Map implementation detail\n    for(Map.Entry&lt;Map.Entry&lt;String,Object&gt;,Object&gt; entry: tmp) {\n        Object newval = entry.getValue();\n        entry.getKey().setValue(newval); // assign new value\n    }\n}\n</code></pre>\n<p>which is relying on the implementation detail but has the slight advantage that no map lookup is needed when calling <code>setValue</code>. Or the clean solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record NewValue(Map&lt;String,Object&gt; target, String key, Object newValue) {\n    void apply() {\n        target.put(key, newValue);\n    }\n}\nvoid recursivePerilousProcedure(Map&lt;String,Object&gt; someMap,\n                                List&lt;NewValue&gt; tmp) throws Exception {\n    for(Map.Entry&lt;String,Object&gt; entry1: someMap.entrySet()) {\n        Object val = entry1.getValue();\n        if (val instanceof Map) {\n            recursivePerilousProcedure((Map&lt;String,Object&gt;)val, tmp);\n        } else {\n            Object newval = performPerilousProcedure(val);\n            tmp.add(new NewValue(someMap, entry1.getKey(), newval));\n        }\n    }\n}\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception {\n    List&lt;NewValue&gt; tmp = new ArrayList&lt;&gt;();\n    // Try to process map of entries and record new values\n    recursivePerilousProcedure(someMap, tmp);\n\n    // All entries success processed, now simply assign new vals\n    // assign all new values, cleanly\n    tmp.forEach(NewValue::apply);\n}\n</code></pre>\n<p>Depending on your application, there might be a third option. Just build a new map matching the intended target structure during the recursive processing, to replace the original one when no error occurred.</p>\n"}],"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72379616,"answer_count":2,"score":1,"last_activity_date":1653489279,"creation_date":1653335007,"question_id":72354037,"body_markdown":"Can I save Map.Entry objects in a temporary Map and then go back and change their values AFTER iteration has completed?\r\n\r\nFor example, the following implements a sort of transaction in two steps. In step 1, a map of entries and maps of entries (so a tree of sorts) is recursively processed. Entries are processed into new values which are saved to a temporary map, keyed by the corresponding Map.Entry. If all entries are computed without Exception, step 2 is to simply iterate over the temporary map and assign the corresponding new value.\r\n\r\n```\r\nvoid performPerilousProcedure(Object val) throws Exception\r\n{\r\n    if (processing of val fails)\r\n        throw new Exception();\r\n}\r\nvoid recurivePerilousProcedure(Map someMap, Map tmp) throws Exception\r\n{\r\n    Iterator&lt;Map.Entry&lt;String,Object&gt;&gt; iter1;\r\n    iter1 = someMap.entrySet().iterator();\r\n    while (iter1.hasNext()) {\r\n        Map.Entry&lt;String,Object&gt; entry1 = iter1.next();\r\n        Object val = entry1.getValue();\r\n        if (val instanceof Map) {\r\n            recursivePerilousProcedure((Map)val, tmp);\r\n        } else {\r\n            Object newval = performPerilousProcedure(val);\r\n            // ok to use Map.Entry as key across iter?\r\n            tmp.put(entry1, newval);\r\n        }   \r\n    }   \r\n}\r\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception\r\n{\r\n    HashMap&lt;Map.Entry&lt;String,Object&gt;,Object&gt; tmp = new HashMap();\r\n    // Try to process map of entries and maps of entries and ma ... \r\n    recursivePerilousProcedure(someMap, tmp);\r\n    // All entries success processed, now simply assign new vals\r\n    Iterator&lt;Map.Entry&lt;String,Object&gt;&gt; iter2;\r\n    iter2 = tmp.keySet().iterator();\r\n    while (iter2.hasNext()) {\r\n        Map.Entry&lt;String,Object&gt; entry2 = iter2.next();\r\n        Object newval = tmp.get(entry2);\r\n        entry2.setValue(newval); // commit new value\r\n    }   \r\n}\r\n```\r\nThe question is:\r\n\r\nCan the `Map.Entry` objects used as keys of `tmp` survive outside the iterations?\r\n\r\nProvided that there are no concurrent modifications, is this a valid use of the Map interface?","title":"Set Map.Entry value AFTER iteration complete?","body":"<p>Can I save Map.Entry objects in a temporary Map and then go back and change their values AFTER iteration has completed?</p>\n<p>For example, the following implements a sort of transaction in two steps. In step 1, a map of entries and maps of entries (so a tree of sorts) is recursively processed. Entries are processed into new values which are saved to a temporary map, keyed by the corresponding Map.Entry. If all entries are computed without Exception, step 2 is to simply iterate over the temporary map and assign the corresponding new value.</p>\n<pre><code>void performPerilousProcedure(Object val) throws Exception\n{\n    if (processing of val fails)\n        throw new Exception();\n}\nvoid recurivePerilousProcedure(Map someMap, Map tmp) throws Exception\n{\n    Iterator&lt;Map.Entry&lt;String,Object&gt;&gt; iter1;\n    iter1 = someMap.entrySet().iterator();\n    while (iter1.hasNext()) {\n        Map.Entry&lt;String,Object&gt; entry1 = iter1.next();\n        Object val = entry1.getValue();\n        if (val instanceof Map) {\n            recursivePerilousProcedure((Map)val, tmp);\n        } else {\n            Object newval = performPerilousProcedure(val);\n            // ok to use Map.Entry as key across iter?\n            tmp.put(entry1, newval);\n        }   \n    }   \n}\nvoid doit(Map&lt;String,Object&gt; someMap) throws Exception\n{\n    HashMap&lt;Map.Entry&lt;String,Object&gt;,Object&gt; tmp = new HashMap();\n    // Try to process map of entries and maps of entries and ma ... \n    recursivePerilousProcedure(someMap, tmp);\n    // All entries success processed, now simply assign new vals\n    Iterator&lt;Map.Entry&lt;String,Object&gt;&gt; iter2;\n    iter2 = tmp.keySet().iterator();\n    while (iter2.hasNext()) {\n        Map.Entry&lt;String,Object&gt; entry2 = iter2.next();\n        Object newval = tmp.get(entry2);\n        entry2.setValue(newval); // commit new value\n    }   \n}\n</code></pre>\n<p>The question is:</p>\n<p>Can the <code>Map.Entry</code> objects used as keys of <code>tmp</code> survive outside the iterations?</p>\n<p>Provided that there are no concurrent modifications, is this a valid use of the Map interface?</p>\n"},{"tags":["java","file","filewriter","txt"],"comments":[{"owner":{"account_id":15642615,"reputation":300,"user_id":11285603,"display_name":"secdet"},"score":0,"creation_date":1605728576,"post_id":64899862,"comment_id":114743579,"body_markdown":"put all your output from console an a String array and print it to file.","body":"put all your output from console an a String array and print it to file."},{"owner":{"account_id":19998048,"reputation":7,"user_id":14657646,"display_name":"gruberfalls"},"score":0,"creation_date":1605729145,"post_id":64899862,"comment_id":114743835,"body_markdown":"That sounds like I should know how to do that but can you elaborate a smidge? How would one put the output on a string array?","body":"That sounds like I should know how to do that but can you elaborate a smidge? How would one put the output on a string array?"},{"owner":{"account_id":19998048,"reputation":7,"user_id":14657646,"display_name":"gruberfalls"},"score":0,"creation_date":1605730703,"post_id":64899862,"comment_id":114744480,"body_markdown":"THink I got it. Appreciate your help!","body":"THink I got it. Appreciate your help!"}],"answers":[{"tags":[],"owner":{"account_id":19998048,"reputation":7,"user_id":14657646,"display_name":"gruberfalls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1605730807,"creation_date":1605730807,"answer_id":64900751,"question_id":64899862,"body_markdown":"Ok so I found a work around. It is not pretty but will suffice for now. \r\n\r\nI am using:\r\n\r\n```\r\n PrintStream o = new PrintStream(new FileOutputStream(&quot;DashboardLog.txt&quot;, true));\r\n```\r\nAnd then \r\n\r\n```\r\nSystem.setOut(o);\r\nSystem.setOut(console);\r\n```\r\nTo separate between console output and file output.","title":"How do I print my output table with 5 parallel arrays from my main class to a .txt file?","body":"<p>Ok so I found a work around. It is not pretty but will suffice for now.</p>\n<p>I am using:</p>\n<pre><code> PrintStream o = new PrintStream(new FileOutputStream(&quot;DashboardLog.txt&quot;, true));\n</code></pre>\n<p>And then</p>\n<pre><code>System.setOut(o);\nSystem.setOut(console);\n</code></pre>\n<p>To separate between console output and file output.</p>\n"},{"tags":[],"owner":{"account_id":4067747,"reputation":440,"user_id":3342052,"display_name":"Sahan Jayasumana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605732190,"creation_date":1605732190,"answer_id":64901062,"question_id":64899862,"body_markdown":"      try (PrintWriter out = new PrintWriter(new FileWriter(&quot;output.txt&quot;, true), true)) {\r\n                out.write(message);\r\n                out.close();}\r\n    catch(Exception e){\r\n    }\r\n    finally(){ \r\n                System.out.println(message);\r\n    }\r\n\r\n    \r\n?","title":"How do I print my output table with 5 parallel arrays from my main class to a .txt file?","body":"<pre><code>  try (PrintWriter out = new PrintWriter(new FileWriter(&quot;output.txt&quot;, true), true)) {\n            out.write(message);\n            out.close();}\ncatch(Exception e){\n}\nfinally(){ \n            System.out.println(message);\n}\n</code></pre>\n<p>?</p>\n"}],"owner":{"account_id":19998048,"reputation":7,"user_id":14657646,"display_name":"gruberfalls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64900751,"answer_count":2,"score":0,"last_activity_date":1653489025,"creation_date":1605726969,"question_id":64899862,"body_markdown":"I am trying to employ a class to print (append) to a .txt file. I have been unsuccessful so far. I am using a simple logger class to output simple Strings, but how can a output to console and also a .txt file?\r\n\r\nCurrent console output:\r\n\r\n```\r\n11/18/20 14:09:24\r\nCurrent status of all items being tracked:\r\nItem|             Supply on hand| Last 24 Hr Usage|    Days on hand|          Status|\r\n-------------------------------------------------------------------------------------\r\n\r\n1                               1                1                1         Critical \r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nMain class code in question:\r\n```\r\n        //Display all data, collected and calculated\r\n        System.out.println(&quot;Current status of all items being tracked:&quot;);\r\n        System.out.printf(&quot;%-16s %16s %16s %16s %16s&quot;, &quot;Item|&quot;, &quot;Supply on hand|&quot;, &quot;Last 24 Hr Usage|&quot;, &quot;Days on hand|&quot;, &quot;Status|&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;-------------------------------------------------------------------------------------&quot;);\r\n        System.out.println();\r\n\r\n        for (int index = 0; index &lt; items.length; index++)\r\n            System.out.printf(&quot;%-16s %16d %16d %16d %16s \\n&quot;, items[index], supplyOnHand[index], last24HourUsage[index], daysOnHand[index], status[index]);\r\n\r\nLogger.log(&quot;How do I get my table to print here?&quot;);\r\n```\r\n\r\nLogger code:\r\n\r\n```\r\n    public class Logger {\r\n        public static void log(String message) throws IOException {\r\n            try (PrintWriter out = new PrintWriter(new FileWriter(&quot;output.txt&quot;, true), true)) {\r\n                out.write(message);\r\n                out.close();\r\n```\r\nCurrent file output:\r\n```\r\nHow do I get my table to print here?\r\n```\r\n","title":"How do I print my output table with 5 parallel arrays from my main class to a .txt file?","body":"<p>I am trying to employ a class to print (append) to a .txt file. I have been unsuccessful so far. I am using a simple logger class to output simple Strings, but how can a output to console and also a .txt file?</p>\n<p>Current console output:</p>\n<pre><code>11/18/20 14:09:24\nCurrent status of all items being tracked:\nItem|             Supply on hand| Last 24 Hr Usage|    Days on hand|          Status|\n-------------------------------------------------------------------------------------\n\n1                               1                1                1         Critical \n\nProcess finished with exit code 0\n</code></pre>\n<p>Main class code in question:</p>\n<pre><code>        //Display all data, collected and calculated\n        System.out.println(&quot;Current status of all items being tracked:&quot;);\n        System.out.printf(&quot;%-16s %16s %16s %16s %16s&quot;, &quot;Item|&quot;, &quot;Supply on hand|&quot;, &quot;Last 24 Hr Usage|&quot;, &quot;Days on hand|&quot;, &quot;Status|&quot;);\n        System.out.println();\n        System.out.println(&quot;-------------------------------------------------------------------------------------&quot;);\n        System.out.println();\n\n        for (int index = 0; index &lt; items.length; index++)\n            System.out.printf(&quot;%-16s %16d %16d %16d %16s \\n&quot;, items[index], supplyOnHand[index], last24HourUsage[index], daysOnHand[index], status[index]);\n\nLogger.log(&quot;How do I get my table to print here?&quot;);\n</code></pre>\n<p>Logger code:</p>\n<pre><code>    public class Logger {\n        public static void log(String message) throws IOException {\n            try (PrintWriter out = new PrintWriter(new FileWriter(&quot;output.txt&quot;, true), true)) {\n                out.write(message);\n                out.close();\n</code></pre>\n<p>Current file output:</p>\n<pre><code>How do I get my table to print here?\n</code></pre>\n"},{"tags":["java","file","outputstream","fileoutputstream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606727816,"post_id":65070671,"comment_id":115038639,"body_markdown":"Show us the code you tried. Right now, this question looks like an attempt to trick us into writing your code for you.","body":"Show us the code you tried. Right now, this question looks like an attempt to trick us into writing your code for you."},{"owner":{"display_name":"user14733848"},"score":0,"creation_date":1606728465,"post_id":65070671,"comment_id":115038900,"body_markdown":"I added it. Didn&#39;t know that asking a generell question would be interpreted as an attemp to trick..","body":"I added it. Didn&#39;t know that asking a generell question would be interpreted as an attemp to trick.."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606736242,"post_id":65070671,"comment_id":115042156,"body_markdown":"I&#39;m still not sure what you&#39;re trying to do here. 1) Why do you need `numberOfParts`? Isn&#39;t `sizeOfParts.length` the same thing? --- 2) What is the purpose of `sizeOfParts`? What is the effect on the result? --- 3) What is the purpose of `bytes`? What is the effect on the result?","body":"I&#39;m still not sure what you&#39;re trying to do here. 1) Why do you need <code>numberOfParts</code>? Isn&#39;t <code>sizeOfParts.length</code> the same thing? --- 2) What is the purpose of <code>sizeOfParts</code>? What is the effect on the result? --- 3) What is the purpose of <code>bytes</code>? What is the effect on the result?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606736448,"post_id":65070671,"comment_id":115042249,"body_markdown":"Anyway, your code isn&#39;t working (whatever it&#39;s *trying* to do), because the `readWrite()` method is seriously flawed. You call `read(buf)`, but don&#39;t save the `len` return value, which is definitely needed for the `write(buf)` call, since that call should be `write(buf, 0, len)`. Also, the `readWrite()` will copy **all** of the input stream into the output stream, which means that the first output file ends up a copy of the input file, and the rest are just empty.","body":"Anyway, your code isn&#39;t working (whatever it&#39;s <i>trying</i> to do), because the <code>readWrite()</code> method is seriously flawed. You call <code>read(buf)</code>, but don&#39;t save the <code>len</code> return value, which is definitely needed for the <code>write(buf)</code> call, since that call should be <code>write(buf, 0, len)</code>. Also, the <code>readWrite()</code> will copy <b>all</b> of the input stream into the output stream, which means that the first output file ends up a copy of the input file, and the rest are just empty."},{"owner":{"display_name":"user14733848"},"score":0,"creation_date":1606737947,"post_id":65070671,"comment_id":115042864,"body_markdown":"Okay, i tried to explain it, as good as i can:\n1) numberOfParts is the number in how many the original file should be split into. E.g: 3 Parts\n2) sizeOfParts is the byte-size each part should be. I calculate it dependend on the capacity of an Direcotory (which I set) and the size of the original file. E.g 1.File: 293 byte, 2.File: 323, 3.File 123. \nSo that in each file alternatly a chunk (8bytes) will be written in, until the size of the part-file ist reached. Then the chunk will only be written in the left over parts.\n3) bytes is size of a chunk that should be written in the Part-files","body":"Okay, i tried to explain it, as good as i can: 1) numberOfParts is the number in how many the original file should be split into. E.g: 3 Parts 2) sizeOfParts is the byte-size each part should be. I calculate it dependend on the capacity of an Direcotory (which I set) and the size of the original file. E.g 1.File: 293 byte, 2.File: 323, 3.File 123.  So that in each file alternatly a chunk (8bytes) will be written in, until the size of the part-file ist reached. Then the chunk will only be written in the left over parts. 3) bytes is size of a chunk that should be written in the Part-files"},{"owner":{"display_name":"user14733848"},"score":0,"creation_date":1606738214,"post_id":65070671,"comment_id":115042968,"body_markdown":"I just found out, that i should have do it with &quot;path.write(buf, 0, (int) bytes);&quot; but it still only copies the whole content into the first file.\nDo you have any other hints? Or if not maby some Documentions? I am willing to find it out myself but i already looked up so many ways, and i cant get it right","body":"I just found out, that i should have do it with &quot;path.write(buf, 0, (int) bytes);&quot; but it still only copies the whole content into the first file. Do you have any other hints? Or if not maby some Documentions? I am willing to find it out myself but i already looked up so many ways, and i cant get it right"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606738642,"post_id":65070671,"comment_id":115043126,"body_markdown":"So you want first 8 bytes to go to file 1, second 8 bytes to go to file 2, third 8 bytes to go to file 3, fourth 8 bytes to go to file 1, and so on, round robin, until file 1 is `sizeOfParts[0]` long, file 2 is `sizeOfParts[1]` long, and file 3 is `sizeOfParts[2]` long, and then what to do with the rest of the input file, i.e. what happens if `sum(sizeOfParts)` is not equal to the size of the input file? --- Please edit the question to clarify it.","body":"So you want first 8 bytes to go to file 1, second 8 bytes to go to file 2, third 8 bytes to go to file 3, fourth 8 bytes to go to file 1, and so on, round robin, until file 1 is <code>sizeOfParts[0]</code> long, file 2 is <code>sizeOfParts[1]</code> long, and file 3 is <code>sizeOfParts[2]</code> long, and then what to do with the rest of the input file, i.e. what happens if <code>sum(sizeOfParts)</code> is not equal to the size of the input file? --- Please edit the question to clarify it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1606738910,"post_id":65070671,"comment_id":115043224,"body_markdown":"No, not `write(buf, 0, (int) bytes)`, but `write(buf, 0, len)`, like I already said!!! You write as many bytes as was read into the buffer, i.e. the number of bytes indicated by the **return value** of `read(buf)`, like I already said. That is why you need to save the return value, like I already said.","body":"No, not <code>write(buf, 0, (int) bytes)</code>, but <code>write(buf, 0, len)</code>, like I already said!!! You write as many bytes as was read into the buffer, i.e. the number of bytes indicated by the <b>return value</b> of <code>read(buf)</code>, like I already said. That is why you need to save the return value, like I already said."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1606741636,"post_id":65070671,"comment_id":115044401,"body_markdown":"Unrelated: be consistent about following java naming rules. dont use the _ ... it should be copySize, not copy_size. And maybe it should say something that tells the reader what is going on with that variable.","body":"Unrelated: be consistent about following java naming rules. dont use the _ ... it should be copySize, not copy_size. And maybe it should say something that tells the reader what is going on with that variable."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606741477,"creation_date":1606741477,"answer_id":65074145,"question_id":65070671,"body_markdown":"The main problem is that the `readWrite()` method is only supposed to copy one 8-byte block of bytes, but has a loop that makes it copy all the remaining bytes in the input file.\r\n\r\nIn addition, the code should be enhanced to use `try-finally` to close the files, and to correctly handle end-of-file, in case the input file is shorter than the sum of parts.\r\n\r\nI would eliminate the `readWrite()` method, and consolidate the logic to prevent duplicate code, like this:\r\n\r\n```lang-java\r\npublic void splitFile(String inPath, long[] sizeOfParts) throws IOException, SQLException {\r\n\tfinal int numberOfParts = sizeOfParts.length;\r\n\t\r\n\tString[] outPath = new String[numberOfParts];\r\n\t// Gets Paths from Database here\r\n\t\r\n\tInputStream in = null;\r\n\tOutputStream[] out = new OutputStream[numberOfParts];\r\n\ttry {\r\n\t\tin = new BufferedInputStream(new FileInputStream(inPath));\r\n\t\tfor (int part = 0; part &lt; numberOfParts; part++)\r\n\t\t\tout[part] = new BufferedOutputStream(new FileOutputStream(outPath[part]));\r\n\t\t\r\n\t\tbyte[] buf = new byte[8];\r\n\t\tlong[] remain = sizeOfParts.clone();\r\n\t\tfor (boolean done = false; ! done; ) {\r\n\t\t\tdone = true;\r\n\t\t\tfor (int part = 0; part &lt; numberOfParts; part++) {\r\n\t\t\t\tif (remain[part] &gt; 0) {\r\n\t\t\t\t\tint len = in.read(buf, 0, (int) Math.min(remain[part], buf.length));\r\n\t\t\t\t\tif (len == -1) {\r\n\t\t\t\t\t\tdone = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tremain[part] -= len;\r\n\t\t\t\t\tSystem.out.println(&quot;file &quot; + part + &quot; &quot; + (sizeOfParts[part] - remain[part]));\r\n\t\t\t\t\tout[part].write(buf, 0, len);\r\n\t\t\t\t\tdone = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} finally {\r\n\t\tif (in != null)\r\n\t\t\tin.close();\r\n\t\tfor (int part = 0; part &lt; out.length; part++)\r\n\t\t\tif (out[part] != null)\r\n\t\t\t\tout[part].close();\r\n\t}\r\n}\r\n```","title":"Java - Write content from one file chunk by chunk (e.g. 8 Bytes) alternately into multiple files","body":"<p>The main problem is that the <code>readWrite()</code> method is only supposed to copy one 8-byte block of bytes, but has a loop that makes it copy all the remaining bytes in the input file.</p>\n<p>In addition, the code should be enhanced to use <code>try-finally</code> to close the files, and to correctly handle end-of-file, in case the input file is shorter than the sum of parts.</p>\n<p>I would eliminate the <code>readWrite()</code> method, and consolidate the logic to prevent duplicate code, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void splitFile(String inPath, long[] sizeOfParts) throws IOException, SQLException {\n    final int numberOfParts = sizeOfParts.length;\n    \n    String[] outPath = new String[numberOfParts];\n    // Gets Paths from Database here\n    \n    InputStream in = null;\n    OutputStream[] out = new OutputStream[numberOfParts];\n    try {\n        in = new BufferedInputStream(new FileInputStream(inPath));\n        for (int part = 0; part &lt; numberOfParts; part++)\n            out[part] = new BufferedOutputStream(new FileOutputStream(outPath[part]));\n        \n        byte[] buf = new byte[8];\n        long[] remain = sizeOfParts.clone();\n        for (boolean done = false; ! done; ) {\n            done = true;\n            for (int part = 0; part &lt; numberOfParts; part++) {\n                if (remain[part] &gt; 0) {\n                    int len = in.read(buf, 0, (int) Math.min(remain[part], buf.length));\n                    if (len == -1) {\n                        done = true;\n                        break;\n                    }\n                    remain[part] -= len;\n                    System.out.println(&quot;file &quot; + part + &quot; &quot; + (sizeOfParts[part] - remain[part]));\n                    out[part].write(buf, 0, len);\n                    done = false;\n                }\n            }\n        }\n    } finally {\n        if (in != null)\n            in.close();\n        for (int part = 0; part &lt; out.length; part++)\n            if (out[part] != null)\n                out[part].close();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user14733848"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653489014,"creation_date":1606727266,"question_id":65070671,"body_markdown":"So I&#39;ve been trying to read the content of a text file and write the content chunk by chunk alternately into e.g. 2 new files. \r\n\r\nI already tried multiple ways to do that but it won&#39;t work (OutputStream and FileOutputStream seems to be the most suitable). \r\n\r\nBefore i tried to part the file in e.g. 3 Parts and wrote the first part in one file, the second part in another and so on. Which worked perfectly fine with OutputStream and FileOutputStream.\r\n\r\nBut it won&#39;t work when i want to do it alternately.\r\n\r\nTo do it alternately i use the round robin algorithm, which on its own works fine.\r\n\r\nI would be really thankful if you could show me some examples to do it!\r\n\r\n    public void splitFile(String filePath, int numberOfParts, long sizeOfParts[]) throws FileNotFoundException, IOException, SQLException {\r\n        long bytes = 8;\r\n        \r\n        OutputStream partsPath[] = new OutputStream[numberOfParts];\r\n        long bytePositition[] = new long[numberOfParts];\r\n\r\n        long copy_size[] = new long[numberOfParts];\r\n        for (int i = 0; i &lt; numberOfParts; i++) {\r\n            copy_size[i] = sizeOfParts[i];\r\n            partsPath[i] = new FileOutputStream(path); //Gets Path from my Database (works)\r\n            //System.out.println(cloudsTable.getCloudsPathsFromDatabase(i) + &#39;\\\\&#39; + name + (i + 1) + fileType);\r\n        }\r\n\r\n        InputStream file = new FileInputStream(filePath);\r\n\r\n        while (true) {\r\n            boolean done = true;\r\n\r\n            for (int i = 0; i &lt; numberOfParts; i++) {\r\n\r\n                if (copy_size[i] &gt; 0) {\r\n                    done = false;\r\n                    if (copy_size[i] &gt; bytes) {\r\n                        copy_size[i] -= bytes;\r\n                        bytePositition[i] += bytes;\r\n                        \r\n                        System.out.println(&quot;file &quot; + i + &quot; &quot; + bytePositition[i]);\r\n                        readWrite(file, bytePositition[i], partsPath[i]);\r\n                    } else {\r\n                        bytePositition[i] += copy_size[i];\r\n                        \r\n                        System.out.println(&quot;rest file &quot; + i + &quot; &quot; + bytePositition[i]);\r\n\r\n                        readWrite(file, bytePositition[i], partsPath[i]);\r\n                        copy_size[i] = 0;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n            if (done == true) {\r\n\r\n                break;\r\n            }\r\n\r\n        }\r\n        file.close();\r\n        for (int i = 0; i &lt; partsPath.length; i++) {\r\n            partsPath[i].close();\r\n        }\r\n\r\n    }\r\n    \r\n    private void readWrite(InputStream file, long bytes, OutputStream path) throws IOException {\r\n        byte[] buf = new byte[(int) bytes];\r\n        while (file.read(buf) != -1) {\r\n            path.write(buf);\r\n            path.flush();\r\n        }\r\n   }\r\n\r\n\r\nWhat the code does is, it only write the content of the Originalfile in the first-copied file and the following files are empty\r\n\r\n\r\nEDIT:\r\nTo clarify what the code should do is write the first 8 bytes to go to file 1, second 8 bytes to go to file 2, third 8 bytes to go to file 3, fourth 8 bytes to go to file 1, and so on, round robin, until file 1 is sizeOfParts[0] long, file 2 is sizeOfParts[1] long, and file 3 is sizeOfParts[2] long. ","title":"Java - Write content from one file chunk by chunk (e.g. 8 Bytes) alternately into multiple files","body":"<p>So I've been trying to read the content of a text file and write the content chunk by chunk alternately into e.g. 2 new files.</p>\n<p>I already tried multiple ways to do that but it won't work (OutputStream and FileOutputStream seems to be the most suitable).</p>\n<p>Before i tried to part the file in e.g. 3 Parts and wrote the first part in one file, the second part in another and so on. Which worked perfectly fine with OutputStream and FileOutputStream.</p>\n<p>But it won't work when i want to do it alternately.</p>\n<p>To do it alternately i use the round robin algorithm, which on its own works fine.</p>\n<p>I would be really thankful if you could show me some examples to do it!</p>\n<pre><code>public void splitFile(String filePath, int numberOfParts, long sizeOfParts[]) throws FileNotFoundException, IOException, SQLException {\n    long bytes = 8;\n    \n    OutputStream partsPath[] = new OutputStream[numberOfParts];\n    long bytePositition[] = new long[numberOfParts];\n\n    long copy_size[] = new long[numberOfParts];\n    for (int i = 0; i &lt; numberOfParts; i++) {\n        copy_size[i] = sizeOfParts[i];\n        partsPath[i] = new FileOutputStream(path); //Gets Path from my Database (works)\n        //System.out.println(cloudsTable.getCloudsPathsFromDatabase(i) + '\\\\' + name + (i + 1) + fileType);\n    }\n\n    InputStream file = new FileInputStream(filePath);\n\n    while (true) {\n        boolean done = true;\n\n        for (int i = 0; i &lt; numberOfParts; i++) {\n\n            if (copy_size[i] &gt; 0) {\n                done = false;\n                if (copy_size[i] &gt; bytes) {\n                    copy_size[i] -= bytes;\n                    bytePositition[i] += bytes;\n                    \n                    System.out.println(&quot;file &quot; + i + &quot; &quot; + bytePositition[i]);\n                    readWrite(file, bytePositition[i], partsPath[i]);\n                } else {\n                    bytePositition[i] += copy_size[i];\n                    \n                    System.out.println(&quot;rest file &quot; + i + &quot; &quot; + bytePositition[i]);\n\n                    readWrite(file, bytePositition[i], partsPath[i]);\n                    copy_size[i] = 0;\n                }\n            }\n\n        }\n\n\n        if (done == true) {\n\n            break;\n        }\n\n    }\n    file.close();\n    for (int i = 0; i &lt; partsPath.length; i++) {\n        partsPath[i].close();\n    }\n\n}\n\nprivate void readWrite(InputStream file, long bytes, OutputStream path) throws IOException {\n    byte[] buf = new byte[(int) bytes];\n    while (file.read(buf) != -1) {\n        path.write(buf);\n        path.flush();\n    }\n</code></pre>\n<p>}</p>\n<p>What the code does is, it only write the content of the Originalfile in the first-copied file and the following files are empty</p>\n<p>EDIT:\nTo clarify what the code should do is write the first 8 bytes to go to file 1, second 8 bytes to go to file 2, third 8 bytes to go to file 3, fourth 8 bytes to go to file 1, and so on, round robin, until file 1 is sizeOfParts[0] long, file 2 is sizeOfParts[1] long, and file 3 is sizeOfParts[2] long.</p>\n"},{"tags":["java","android","dropbox-api","dropbox-sdk"],"answers":[{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653488870,"creation_date":1653058220,"answer_id":72320930,"question_id":72320707,"body_markdown":"You can set the `clientModified` date using [`UploadBuilder.withClientModified`][1]. It&#39;s not possible to override the `serverModified` date though.\r\n\r\n\r\n  [1]: https://dropbox.github.io/dropbox-sdk-java/api-docs/v5.2.0/com/dropbox/core/v2/files/UploadBuilder.html#withClientModified(java.util.Date)","title":"Is there a way to upload/download a file from/to Dropbox while keeping the modification date of the file?","body":"<p>You can set the <code>clientModified</code> date using <a href=\"https://dropbox.github.io/dropbox-sdk-java/api-docs/v5.2.0/com/dropbox/core/v2/files/UploadBuilder.html#withClientModified(java.util.Date)\" rel=\"nofollow noreferrer\"><code>UploadBuilder.withClientModified</code></a>. It's not possible to override the <code>serverModified</code> date though.</p>\n"}],"owner":{"account_id":9135882,"reputation":23,"user_id":6795582,"display_name":"Loukana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72320930,"answer_count":1,"score":0,"last_activity_date":1653488870,"creation_date":1653057351,"question_id":72320707,"body_markdown":"I&#39;m trying to build a sync system for my writing application, so that I can synchronize my text files with a Dropbox folder and edit them from my computer.\r\n\r\nThing is, when a file is uploaded, its modification date corresponds to that of the upload time, not the last time the file&#39;s content was modified, and it looks as if the Dropbox file was modified more recently than the local file. Same thing for download, as the local version gets a more recent modification date than the Dropbox one.\r\n\r\nThis makes things complicated when I want to compare dates to determine which version is the most recent one between the local and the network versions, and if I need to upload the local version or download the network one to be up-to-date.\r\n\r\nIs there a way to keep the modification date of the original file ? Currently, I&#39;m using these functions, but maybe I should use a completely different method.\r\n\r\n```\r\npublic void uploadFile(String local_path, String db_path) {\r\n\ttry {\r\n\t\tInputStream in = new FileInputStream(local_path);\r\n\t\tclient.files().uploadBuilder(db_path)\r\n\t\t\t.withMode(WriteMode.OVERWRITE)\r\n\t\t\t.uploadAndFinish(in);\r\n\t}\r\n\tcatch (FileNotFoundException fne) { fne.printStackTrace(); }\r\n\tcatch (IOException ioe) { ioe.printStackTrace(); }\r\n\tcatch (DbxException dbxe) { dbxe.printStackTrace(); }\r\n}\r\n```\r\n```\r\npublic void downloadFile(String db_path, String local_path) {\r\n\ttry {\r\n\t\tFile dest = new File(local_path);\r\n\t\ttry (OutputStream outputStream = new FileOutputStream(dest)) {\r\n\t\t\tclient.files().download(db_path).download(outputStream);\r\n\t\t}\r\n\t}\r\n\tcatch (DbxException e) { e.printStackTrace(); }\r\n\tcatch (IOException e) { e.printStackTrace(); }\r\n}\r\n```","title":"Is there a way to upload/download a file from/to Dropbox while keeping the modification date of the file?","body":"<p>I'm trying to build a sync system for my writing application, so that I can synchronize my text files with a Dropbox folder and edit them from my computer.</p>\n<p>Thing is, when a file is uploaded, its modification date corresponds to that of the upload time, not the last time the file's content was modified, and it looks as if the Dropbox file was modified more recently than the local file. Same thing for download, as the local version gets a more recent modification date than the Dropbox one.</p>\n<p>This makes things complicated when I want to compare dates to determine which version is the most recent one between the local and the network versions, and if I need to upload the local version or download the network one to be up-to-date.</p>\n<p>Is there a way to keep the modification date of the original file ? Currently, I'm using these functions, but maybe I should use a completely different method.</p>\n<pre><code>public void uploadFile(String local_path, String db_path) {\n    try {\n        InputStream in = new FileInputStream(local_path);\n        client.files().uploadBuilder(db_path)\n            .withMode(WriteMode.OVERWRITE)\n            .uploadAndFinish(in);\n    }\n    catch (FileNotFoundException fne) { fne.printStackTrace(); }\n    catch (IOException ioe) { ioe.printStackTrace(); }\n    catch (DbxException dbxe) { dbxe.printStackTrace(); }\n}\n</code></pre>\n<pre><code>public void downloadFile(String db_path, String local_path) {\n    try {\n        File dest = new File(local_path);\n        try (OutputStream outputStream = new FileOutputStream(dest)) {\n            client.files().download(db_path).download(outputStream);\n        }\n    }\n    catch (DbxException e) { e.printStackTrace(); }\n    catch (IOException e) { e.printStackTrace(); }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1653488920,"post_id":72379394,"comment_id":127865508,"body_markdown":"`Caused by: java.sql.SQLException: Incorrect integer value: &#39;User&#39; for column &#39;user_role&#39;` You either need to use `@Enumerated(EnumType.ORDINAL)` or change the database to use varchar instead of int for `column &#39;user_role&#39;`","body":"<code>Caused by: java.sql.SQLException: Incorrect integer value: &#39;User&#39; for column &#39;user_role&#39;</code> You either need to use <code>@Enumerated(EnumType.ORDINAL)</code> or change the database to use varchar instead of int for <code>column &#39;user_role&#39;</code>"},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1653489431,"post_id":72379394,"comment_id":127865745,"body_markdown":"You&#39;re the man. I spent a few hours just on this issue before making a post. Thanks so much! &lt;3","body":"You&#39;re the man. I spent a few hours just on this issue before making a post. Thanks so much! &lt;3"}],"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653488804,"creation_date":1653488556,"question_id":72379394,"body_markdown":"I am creating a login system for an application that I want to make. At the moment everything works fine, the only issue is that I keep getting an error whenever I try to save my user entity into my UserRepository. Here are the relevant blocks of code (or the ones that I think are relevant). \r\n\r\nMy User class\r\n```\r\n @Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User implements UserDetails{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;email&quot;, nullable = false, unique = true, length = 40)\r\n\tprivate String email;\r\n\t\r\n\t@Column(name = &quot;password&quot;, nullable = false, length = 60)\r\n\tprivate String password;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;, nullable = false, length = 20)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;, nullable = false, length = 25)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name = &quot;locked&quot;, nullable = false)\r\n\tprivate Boolean locked;\r\n\r\n\t@Column(name = &quot;enabled&quot;, nullable = false)\r\n\tprivate Boolean enabled;\r\n\t\r\n\t@Column(name = &quot;user_role&quot;, nullable = false)\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate UserRole UserRole;\r\n\t\r\n\t@Column(name = &quot;username&quot;, nullable = false, length = 20)\r\n\tprivate String username;\r\n\r\n\tpublic User() {}\r\n\r\n\tpublic User(String firstName, String lastName, String username, String email, String password, \r\n\t\t\tUserRole userRole) {\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.username = username;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.UserRole = userRole;\r\n\t\tthis.locked = false;\r\n\t\tthis.enabled = true;\r\n\t}\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\t\r\n\t\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\tSimpleGrantedAuthority authority = new SimpleGrantedAuthority(UserRole.name());\r\n\t\treturn Collections.singletonList(authority);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\treturn !locked;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\t\r\n}\r\n```\r\nMy RegistrationController (this is where the registration request starts)\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\npublic class RegistrationController {\r\n\t\r\n\tprivate RegistrationService registrationService;\r\n\t\r\n\tpublic RegistrationController(RegistrationService registrationService) {\r\n\t\tthis.registrationService = registrationService;\r\n\t}\r\n\t\r\n\t@PostMapping(value = &quot;/newUser&quot;)\r\n\tpublic String register(@RequestBody RegistrationRequest request) {\r\n\t\treturn registrationService.register(request);\r\n\t}\r\n}\r\n```\r\nMy RegistrationService Class\r\n```\r\n@Service\r\npublic class RegistrationService {\r\n\t\r\n\tprivate final EmailValidator emailValidator;\r\n\tprivate final UserService userService;\r\n\t\r\n\tpublic RegistrationService(EmailValidator emailValidator, UserService userService){\r\n\t\tthis.emailValidator = emailValidator;\r\n\t\tthis.userService = userService;\r\n\t}\r\n\t\r\n\tpublic String register(RegistrationRequest request) {\r\n\t\tBoolean isValidEmail= emailValidator.test(request.getEmail());\r\n\t\t\r\n\t\tif(!isValidEmail) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email not valid!&quot;);\r\n\t\t}\r\n\t\treturn userService.signUpUser(\r\n\t\t\t\tnew User(request.getFirstname(), \r\n\t\t\t\t\t\trequest.getLastname(),\r\n\t\t\t\t\t\trequest.getUsername(),\r\n\t\t\t\t\t\trequest.getEmail(), \r\n\t\t\t\t\t\trequest.getPassword(),\r\n\t\t\t\t\t\tUserRole.User));\r\n\t}\t\r\n}\r\n\r\n```\r\nMy UserService class (this is where I am trying to add the user into the repo, right before I return &quot;Successful&quot;.\r\n```\r\n@Service\r\npublic class UserService implements UserDetailsService{\r\n\t\r\n\tprivate final static String USER_NOT_FOUND_MSG = &quot;user with email %s not found&quot;;\r\n\t\r\n\tprivate final UserRepository UserRepository;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\t\r\n\tpublic UserService(UserRepository user_repo, BCryptPasswordEncoder password_encoder) {\r\n\t\tthis.UserRepository = user_repo;\r\n\t\tthis.bCryptPasswordEncoder = password_encoder;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\t\treturn UserRepository.findByEmail(email)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\r\n\t}\r\n\r\n\tpublic String signUpUser(User user) {\r\n\t\tboolean userExists = UserRepository.findByEmail(user.getEmail()).isPresent();\r\n\t\t\r\n\t\tif(userExists) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email already in use!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tString encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\r\n\t\t\r\n\t\tuser.setPassword(encodedPassword);\r\n\t\t\r\n\t\treturn &quot;Successful&quot;;\r\n\t}\r\n}\r\n```\r\nThis is the application.properties (omitted username, password (these were correct))\r\n```\r\nserver.port=3307\r\nspring.datasource.url=jdbc:mysql://localhost:3306/bookcollection\r\nspring.datasource.driverClassName= com.mysql.cj.jdbc.Driver\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nAnd lastly the error message I received when trying to make a post request using Postman on (localhost:3307/api/v1/registration/newUser)\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-05-25T14:12:28.379+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\t&quot;,\r\n    &quot;message&quot;: &quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/registration/newUser&quot;\r\n}\r\n```\r\n\r\n&gt; org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy5/jdk.proxy5.$Proxy121.save(Unknown Source)\\r\\n\\tat com.app.user.UserService.signUpUser(UserService.java:38)\\r\\n\\tat com.app.registration.RegistrationService.register(RegistrationService.java:26)\\r\\n\\tat com.app.registration.RegistrationController.register(RegistrationController.java:20)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\\r\\n\\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\\r\\n\\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 114 more\\r\\nCaused by: java.sql.SQLException: Incorrect integer value: &#39;User&#39; for column &#39;user_role&#39; at row 1\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 135 more\\r\\n\r\n\r\nNot sure why this is happening when I add the UserRepository.save(user) before the return of &quot;Successful&quot;. Would appreciate any help I can get, and thanks for looking into this mess of mine, really appreciate it.","title":"Struggling to add data into Mysql database using Java (Spring Boot)","body":"<p>I am creating a login system for an application that I want to make. At the moment everything works fine, the only issue is that I keep getting an error whenever I try to save my user entity into my UserRepository. Here are the relevant blocks of code (or the ones that I think are relevant).</p>\n<p>My User class</p>\n<pre><code> @Entity\n@Table(name = &quot;user&quot;)\npublic class User implements UserDetails{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    @Column(name = &quot;email&quot;, nullable = false, unique = true, length = 40)\n    private String email;\n    \n    @Column(name = &quot;password&quot;, nullable = false, length = 60)\n    private String password;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;, nullable = false, length = 25)\n    private String lastName;\n    \n    @Column(name = &quot;locked&quot;, nullable = false)\n    private Boolean locked;\n\n    @Column(name = &quot;enabled&quot;, nullable = false)\n    private Boolean enabled;\n    \n    @Column(name = &quot;user_role&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private UserRole UserRole;\n    \n    @Column(name = &quot;username&quot;, nullable = false, length = 20)\n    private String username;\n\n    public User() {}\n\n    public User(String firstName, String lastName, String username, String email, String password, \n            UserRole userRole) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.UserRole = userRole;\n        this.locked = false;\n        this.enabled = true;\n    }\n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    \n    @Override\n    public String getUsername() {\n        return username;\n    }   \n    \n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority = new SimpleGrantedAuthority(UserRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !locked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return enabled;\n    }\n    \n}\n</code></pre>\n<p>My RegistrationController (this is where the registration request starts)</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\npublic class RegistrationController {\n    \n    private RegistrationService registrationService;\n    \n    public RegistrationController(RegistrationService registrationService) {\n        this.registrationService = registrationService;\n    }\n    \n    @PostMapping(value = &quot;/newUser&quot;)\n    public String register(@RequestBody RegistrationRequest request) {\n        return registrationService.register(request);\n    }\n}\n</code></pre>\n<p>My RegistrationService Class</p>\n<pre><code>@Service\npublic class RegistrationService {\n    \n    private final EmailValidator emailValidator;\n    private final UserService userService;\n    \n    public RegistrationService(EmailValidator emailValidator, UserService userService){\n        this.emailValidator = emailValidator;\n        this.userService = userService;\n    }\n    \n    public String register(RegistrationRequest request) {\n        Boolean isValidEmail= emailValidator.test(request.getEmail());\n        \n        if(!isValidEmail) {\n            throw new IllegalStateException(&quot;Email not valid!&quot;);\n        }\n        return userService.signUpUser(\n                new User(request.getFirstname(), \n                        request.getLastname(),\n                        request.getUsername(),\n                        request.getEmail(), \n                        request.getPassword(),\n                        UserRole.User));\n    }   \n}\n\n</code></pre>\n<p>My UserService class (this is where I am trying to add the user into the repo, right before I return &quot;Successful&quot;.</p>\n<pre><code>@Service\npublic class UserService implements UserDetailsService{\n    \n    private final static String USER_NOT_FOUND_MSG = &quot;user with email %s not found&quot;;\n    \n    private final UserRepository UserRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    \n    public UserService(UserRepository user_repo, BCryptPasswordEncoder password_encoder) {\n        this.UserRepository = user_repo;\n        this.bCryptPasswordEncoder = password_encoder;\n    }\n    \n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return UserRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\n    }\n\n    public String signUpUser(User user) {\n        boolean userExists = UserRepository.findByEmail(user.getEmail()).isPresent();\n        \n        if(userExists) {\n            throw new IllegalStateException(&quot;Email already in use!&quot;);\n        }\n        \n        String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\n        \n        user.setPassword(encodedPassword);\n        \n        return &quot;Successful&quot;;\n    }\n}\n</code></pre>\n<p>This is the application.properties (omitted username, password (these were correct))</p>\n<pre><code>server.port=3307\nspring.datasource.url=jdbc:mysql://localhost:3306/bookcollection\nspring.datasource.driverClassName= com.mysql.cj.jdbc.Driver\nspring.datasource.username=\nspring.datasource.password=\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>And lastly the error message I received when trying to make a post request using Postman on (localhost:3307/api/v1/registration/newUser)</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-25T14:12:28.379+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\t&quot;,\n    &quot;message&quot;: &quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot;,\n    &quot;path&quot;: &quot;/api/v1/registration/newUser&quot;\n}\n</code></pre>\n<blockquote>\n<p>org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy5/jdk.proxy5.$Proxy121.save(Unknown Source)\\r\\n\\tat com.app.user.UserService.signUpUser(UserService.java:38)\\r\\n\\tat com.app.registration.RegistrationService.register(RegistrationService.java:26)\\r\\n\\tat com.app.registration.RegistrationController.register(RegistrationController.java:20)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\\r\\n\\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:73)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:46)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3375)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3908)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\\r\\n\\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3290)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2425)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 114 more\\r\\nCaused by: java.sql.SQLException: Incorrect integer value: 'User' for column 'user_role' at row 1\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\\r\\n\\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\\r\\n\\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 135 more\\r\\n</p>\n</blockquote>\n<p>Not sure why this is happening when I add the UserRepository.save(user) before the return of &quot;Successful&quot;. Would appreciate any help I can get, and thanks for looking into this mess of mine, really appreciate it.</p>\n"},{"tags":["java","oauth","jwt"],"answers":[{"tags":[],"owner":{"account_id":4519713,"reputation":35,"user_id":3673364,"accept_rate":25,"display_name":"trezremay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653488665,"creation_date":1653488665,"answer_id":72379430,"question_id":72364037,"body_markdown":"I used JSON objects and lists for use in the `claim` function","title":"Using multilevel json to generate a JWT using .claim() in Java","body":"<p>I used JSON objects and lists for use in the <code>claim</code> function</p>\n"}],"owner":{"account_id":4519713,"reputation":35,"user_id":3673364,"accept_rate":25,"display_name":"trezremay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653488665,"creation_date":1653399838,"question_id":72364037,"body_markdown":"I&#39;m trying to generate a JWT within my automation test which is using rest assured so is Java based. Below is an example of what the payload structure is like when I decode the token from the application (taken from JSON example):\r\n```\r\n&quot;problems&quot;: [{\r\n    &quot;Diabetes&quot;:[{\r\n        &quot;medications&quot;:[{\r\n            &quot;medicationsClasses&quot;:[{\r\n                &quot;className&quot;:[{\r\n                    &quot;associatedDrug&quot;:[{\r\n                        &quot;name&quot;:&quot;asprin&quot;,\r\n                        &quot;dose&quot;:&quot;&quot;,\r\n                        &quot;strength&quot;:&quot;500 mg&quot;\r\n                    }],\r\n                    &quot;associatedDrug#2&quot;:[{\r\n                        &quot;name&quot;:&quot;somethingElse&quot;,\r\n                        &quot;dose&quot;:&quot;&quot;,\r\n                        &quot;strength&quot;:&quot;500 mg&quot;\r\n                    }]\r\n                }],\r\n                &quot;className2&quot;:[{\r\n                    &quot;associatedDrug&quot;:[{\r\n                        &quot;name&quot;:&quot;asprin&quot;,\r\n                        &quot;dose&quot;:&quot;&quot;,\r\n                        &quot;strength&quot;:&quot;500 mg&quot;\r\n                    }],\r\n                    &quot;associatedDrug#2&quot;:[{\r\n                        &quot;name&quot;:&quot;somethingElse&quot;,\r\n                        &quot;dose&quot;:&quot;&quot;,\r\n                        &quot;strength&quot;:&quot;500 mg&quot;\r\n                    }]\r\n                }]\r\n            }]\r\n        }],\r\n        &quot;labs&quot;:[{\r\n            &quot;missing_field&quot;: &quot;missing_value&quot;\r\n        }]\r\n    }],\r\n    &quot;Asthma&quot;:[{}]\r\n}]}\r\n```\r\nIs there a way which I can enter the child fields using JWTs claim() function or a way in which I can point it to a JSON file, from my expereince I wasn&#39;t able to do that from the .claim() function?","title":"Using multilevel json to generate a JWT using .claim() in Java","body":"<p>I'm trying to generate a JWT within my automation test which is using rest assured so is Java based. Below is an example of what the payload structure is like when I decode the token from the application (taken from JSON example):</p>\n<pre><code>&quot;problems&quot;: [{\n    &quot;Diabetes&quot;:[{\n        &quot;medications&quot;:[{\n            &quot;medicationsClasses&quot;:[{\n                &quot;className&quot;:[{\n                    &quot;associatedDrug&quot;:[{\n                        &quot;name&quot;:&quot;asprin&quot;,\n                        &quot;dose&quot;:&quot;&quot;,\n                        &quot;strength&quot;:&quot;500 mg&quot;\n                    }],\n                    &quot;associatedDrug#2&quot;:[{\n                        &quot;name&quot;:&quot;somethingElse&quot;,\n                        &quot;dose&quot;:&quot;&quot;,\n                        &quot;strength&quot;:&quot;500 mg&quot;\n                    }]\n                }],\n                &quot;className2&quot;:[{\n                    &quot;associatedDrug&quot;:[{\n                        &quot;name&quot;:&quot;asprin&quot;,\n                        &quot;dose&quot;:&quot;&quot;,\n                        &quot;strength&quot;:&quot;500 mg&quot;\n                    }],\n                    &quot;associatedDrug#2&quot;:[{\n                        &quot;name&quot;:&quot;somethingElse&quot;,\n                        &quot;dose&quot;:&quot;&quot;,\n                        &quot;strength&quot;:&quot;500 mg&quot;\n                    }]\n                }]\n            }]\n        }],\n        &quot;labs&quot;:[{\n            &quot;missing_field&quot;: &quot;missing_value&quot;\n        }]\n    }],\n    &quot;Asthma&quot;:[{}]\n}]}\n</code></pre>\n<p>Is there a way which I can enter the child fields using JWTs claim() function or a way in which I can point it to a JSON file, from my expereince I wasn't able to do that from the .claim() function?</p>\n"},{"tags":["java","enums","swagger","extends"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1653488911,"post_id":72379425,"comment_id":127865502,"body_markdown":"That&#39;s not valid Java code - you can&#39;t inherit from an `enum`.  Your code must change.","body":"That&#39;s not valid Java code - you can&#39;t inherit from an <code>enum</code>.  Your code must change."},{"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"score":0,"creation_date":1653489154,"post_id":72379425,"comment_id":127865626,"body_markdown":"you can implement any interface in enum \nlook this might be useful:\nhttps://www.programiz.com/java-programming/enum-inheritance#:~:text=Inheriting%20an%20enum%20Class%20from,lang.","body":"you can implement any interface in enum  look this might be useful: <a href=\"https://www.programiz.com/java-programming/enum-inheritance#:~:text=Inheriting%20an%20enum%20Class%20from,lang\" rel=\"nofollow noreferrer\">programiz.com/java-programming/&hellip;</a>."},{"owner":{"account_id":20110345,"reputation":305,"user_id":14746858,"display_name":"Helix112"},"score":0,"creation_date":1653490488,"post_id":72379425,"comment_id":127866252,"body_markdown":"I think there&#39;s something wrong with your code generator.You can&#39;t inherit from enums in java.Think about Enum like a final class with static final instances of itself.You cannot extend a final class.","body":"I think there&#39;s something wrong with your code generator.You can&#39;t inherit from enums in java.Think about Enum like a final class with static final instances of itself.You cannot extend a final class."}],"owner":{"account_id":25387498,"reputation":1,"user_id":19199071,"display_name":"ric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653488656,"creation_date":1653488656,"question_id":72379425,"body_markdown":"I&#39;m trying to create e Java client defined with swagger. I have generated the source code automatically in three ways.\r\n\r\n- online https://editor.swagger.io/\r\n- java -jar swagger-codegen-cli-3.0.20.jar generate -i https://www.xxxxxx.xxx/xxxxxx/swagger.json -l java\r\n- swagger-codegen generate -i https://www.xxxxxx.xxx/xxxxxx/swagger.json -l java\r\n\r\nUnfortunately, the generated source code cannot be compiled in all ways.\r\nWhen I execute\r\n\r\nmvn clean install\r\n\r\nI get many errors of this type:\r\n\r\nA.java cannot inherit from final B\r\n\r\nI have analyzed the error and found the following pattern many times.\r\n\r\n``` lang-java\r\npublic class A extends B {\r\n    ....\r\n}\r\n```\r\n``` lang-java\r\npublic enum B {\r\n    ....\r\n}\r\n```\r\n\r\nI know that the swagger provider works with c# and in this language this construct should be allowed.\r\n\r\nI see the following in jason\r\n``` lang-jason\r\n&quot;xxxx.xxxx.xx.B&quot;: {\r\n        &quot;enum&quot;: [\r\n          &quot;A&quot;,\r\n          &quot;B&quot;,\r\n          &quot;C&quot;,\r\n          &quot;D&quot;\r\n        ],\r\n        &quot;type&quot;: &quot;string&quot;\r\n      }\r\n\r\n...\r\n\r\n&quot;b&quot;: {\r\n    &quot;allOf&quot;: [\r\n        {\r\n        &quot;$ref&quot;: &quot;#/xxxx/xxxx/xxxx.xxxx.xx.B&quot;\r\n        }\r\n    ],\r\n    &quot;description&quot;: &quot;abc&quot;,\r\n    &quot;nullable&quot;: true\r\n    }\r\n```\r\n\r\nI am not allowed to publish the swagger URL.\r\n\r\nIs there anything I can do to build a Java client anyway?\r\n\r\n","title":"Generated Java code (swagger) does not compile","body":"<p>I'm trying to create e Java client defined with swagger. I have generated the source code automatically in three ways.</p>\n<ul>\n<li>online <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">https://editor.swagger.io/</a></li>\n<li>java -jar swagger-codegen-cli-3.0.20.jar generate -i <a href=\"https://www.xxxxxx.xxx/xxxxxx/swagger.json\" rel=\"nofollow noreferrer\">https://www.xxxxxx.xxx/xxxxxx/swagger.json</a> -l java</li>\n<li>swagger-codegen generate -i <a href=\"https://www.xxxxxx.xxx/xxxxxx/swagger.json\" rel=\"nofollow noreferrer\">https://www.xxxxxx.xxx/xxxxxx/swagger.json</a> -l java</li>\n</ul>\n<p>Unfortunately, the generated source code cannot be compiled in all ways.\nWhen I execute</p>\n<p>mvn clean install</p>\n<p>I get many errors of this type:</p>\n<p>A.java cannot inherit from final B</p>\n<p>I have analyzed the error and found the following pattern many times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A extends B {\n    ....\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public enum B {\n    ....\n}\n</code></pre>\n<p>I know that the swagger provider works with c# and in this language this construct should be allowed.</p>\n<p>I see the following in jason</p>\n<pre class=\"lang-jason prettyprint-override\"><code>&quot;xxxx.xxxx.xx.B&quot;: {\n        &quot;enum&quot;: [\n          &quot;A&quot;,\n          &quot;B&quot;,\n          &quot;C&quot;,\n          &quot;D&quot;\n        ],\n        &quot;type&quot;: &quot;string&quot;\n      }\n\n...\n\n&quot;b&quot;: {\n    &quot;allOf&quot;: [\n        {\n        &quot;$ref&quot;: &quot;#/xxxx/xxxx/xxxx.xxxx.xx.B&quot;\n        }\n    ],\n    &quot;description&quot;: &quot;abc&quot;,\n    &quot;nullable&quot;: true\n    }\n</code></pre>\n<p>I am not allowed to publish the swagger URL.</p>\n<p>Is there anything I can do to build a Java client anyway?</p>\n"},{"tags":["java","bash","sed"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1653487452,"post_id":72379048,"comment_id":127864830,"body_markdown":"sed really is not the appropriate tool to be using to edit Json. Use a proper library","body":"sed really is not the appropriate tool to be using to edit Json. Use a proper library"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1653487748,"post_id":72379048,"comment_id":127864964,"body_markdown":"The command line you show has an unmatched single quote.","body":"The command line you show has an unmatched single quote."},{"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"score":0,"creation_date":1653488616,"post_id":72379048,"comment_id":127865353,"body_markdown":"Sorry, I updated it. I ran it with the closing single quote. Just a typo here, so problem still ensues","body":"Sorry, I updated it. I ran it with the closing single quote. Just a typo here, so problem still ensues"}],"owner":{"account_id":12571734,"reputation":147,"user_id":9145612,"display_name":"123josh123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653488570,"creation_date":1653487158,"question_id":72379048,"body_markdown":"I&#39;m trying to write a generic Java function that executes a Sed command on remote that adds a new object/line/value to Json in between 2 given parameters: opening section and end section.\r\nI&#39;ve come with the following Sed command but to no avail.\r\n\r\n\r\n    sed -E &#39;s/]}/&quot;my object to add&quot;/&#39;  jsonfile.json   \r\n\r\n] - states the opening section \r\n} - states the ending section\r\nThe opening section and ending section may varies and can include several things together,\r\nlike: [], or specific object.\r\nI can&#39;t use jk command. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sed command not working when trying to add object in Json","body":"<p>I'm trying to write a generic Java function that executes a Sed command on remote that adds a new object/line/value to Json in between 2 given parameters: opening section and end section.\nI've come with the following Sed command but to no avail.</p>\n<pre><code>sed -E 's/]}/&quot;my object to add&quot;/'  jsonfile.json   \n</code></pre>\n<p>] - states the opening section\n} - states the ending section\nThe opening section and ending section may varies and can include several things together,\nlike: [], or specific object.\nI can't use jk command.</p>\n"},{"tags":["java","maven","java-module","druid"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1653488836,"post_id":72379395,"comment_id":127865462,"body_markdown":"I think the answer is that only very few people are interested in using Java modules. Most people just go on using Java without the module system.","body":"I think the answer is that only very few people are interested in using Java modules. Most people just go on using Java without the module system."},{"owner":{"account_id":11148187,"reputation":181,"user_id":8182287,"display_name":"Herv&#233; Guillemet"},"score":0,"creation_date":1653493841,"post_id":72379395,"comment_id":127867723,"body_markdown":"Have you tried to merge all druid jar into a single jar and use that as dependency ?","body":"Have you tried to merge all druid jar into a single jar and use that as dependency ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653494831,"post_id":72379395,"comment_id":127868129,"body_markdown":"You can&#39;t really bypass that because it&#39;s needs to be fixed on the library side otherwise it will not really work...","body":"You can&#39;t really bypass that because it&#39;s needs to be fixed on the library side otherwise it will not really work..."},{"owner":{"account_id":15217882,"reputation":13,"user_id":10980674,"display_name":"Cousin"},"score":0,"creation_date":1653550871,"post_id":72379395,"comment_id":127880667,"body_markdown":"@Herv&#233;Guillemet ok this was one of my ideas. I see I should use maven assembly. Then probably I should release such jar (or module) into my artifactory with some version and use. Could do the trick but it&#39;s applicable only when we have access to sources (which is the case here, but I also wonder for general solution)","body":"@Herv&#233;Guillemet ok this was one of my ideas. I see I should use maven assembly. Then probably I should release such jar (or module) into my artifactory with some version and use. Could do the trick but it&#39;s applicable only when we have access to sources (which is the case here, but I also wonder for general solution)"},{"owner":{"account_id":15217882,"reputation":13,"user_id":10980674,"display_name":"Cousin"},"score":0,"creation_date":1653551094,"post_id":72379395,"comment_id":127880718,"body_markdown":"@JFabianMeier this is also my impression... I realized if only 2 libraries in your dependencies has this problem, then modular approach fails across whole project (this druid library becomes dependency of several microservices)","body":"@JFabianMeier this is also my impression... I realized if only 2 libraries in your dependencies has this problem, then modular approach fails across whole project (this druid library becomes dependency of several microservices)"}],"owner":{"account_id":15217882,"reputation":13,"user_id":10980674,"display_name":"Cousin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653488559,"creation_date":1653488559,"question_id":72379395,"body_markdown":"I have a custom library for creating requests to Apache Druid database which I would like to turn into java modules.\r\n\r\nMy library includes dependencies:\r\n- org.apache.druid:druid-processing:0.22.1\r\n- org.apache.druid:druid-core:0.22.1\r\n\r\nwhich are then converted to automatic modules (as they do not have module-info.java)\r\n\r\nAs it is described here https://jenkov.com/tutorials/java/modules.html , when more automatic modules are added, all read all packages from other auto modules to check if there is no package split problem.\r\n\r\nIn case of those libraries there are several packages named the same, so I get errors like\r\n \r\n\r\n       [ERROR] error: module commons.lang reads package org.apache.druid.guice.annotations from both druid.processing and druid.core\r\n\r\n\r\nalso, interesting thing is I get errors stating e.g. druid-core scans its and druid-processing packages\r\n\r\n    [ERROR] error: module druid.core reads package org.apache.druid.segment from both druid.processing and druid.core\r\n\r\nso **my question is: is ther any way to bypass this problem?**\r\n\r\nThose libraries are in github so in the end I could create merge request with some changes, but it is more general question how to bypass this kind of issues for any libraries which we do not control, and has package conflict and we would like to use them in moduled project.\r\n","title":"Is there a way to bypass problem of package split in java automatic modules when we&#39;re not in charge of included code","body":"<p>I have a custom library for creating requests to Apache Druid database which I would like to turn into java modules.</p>\n<p>My library includes dependencies:</p>\n<ul>\n<li>org.apache.druid:druid-processing:0.22.1</li>\n<li>org.apache.druid:druid-core:0.22.1</li>\n</ul>\n<p>which are then converted to automatic modules (as they do not have module-info.java)</p>\n<p>As it is described here <a href=\"https://jenkov.com/tutorials/java/modules.html\" rel=\"nofollow noreferrer\">https://jenkov.com/tutorials/java/modules.html</a> , when more automatic modules are added, all read all packages from other auto modules to check if there is no package split problem.</p>\n<p>In case of those libraries there are several packages named the same, so I get errors like</p>\n<pre><code>   [ERROR] error: module commons.lang reads package org.apache.druid.guice.annotations from both druid.processing and druid.core\n</code></pre>\n<p>also, interesting thing is I get errors stating e.g. druid-core scans its and druid-processing packages</p>\n<pre><code>[ERROR] error: module druid.core reads package org.apache.druid.segment from both druid.processing and druid.core\n</code></pre>\n<p>so <strong>my question is: is ther any way to bypass this problem?</strong></p>\n<p>Those libraries are in github so in the end I could create merge request with some changes, but it is more general question how to bypass this kind of issues for any libraries which we do not control, and has package conflict and we would like to use them in moduled project.</p>\n"},{"tags":["java","string","csv","file"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653488136,"post_id":72379253,"comment_id":127865123,"body_markdown":"Is this really csv-specific or are you simply asking how to read a whole file into a string?","body":"Is this really csv-specific or are you simply asking how to read a whole file into a string?"},{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1653488305,"post_id":72379253,"comment_id":127865197,"body_markdown":"what doesnt work about it? what error are you getting?","body":"what doesnt work about it? what error are you getting?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1653488388,"post_id":72379253,"comment_id":127865232,"body_markdown":"Generally, I would advise to do proper OOP, and also to use NIO. So more something like this: https://gist.github.com/Zabuzard/f0f4e9ee47ef576e46a21a8c224743d8 (I had this snippet lingering around)","body":"Generally, I would advise to do proper OOP, and also to use NIO. So more something like this: <a href=\"https://gist.github.com/Zabuzard/f0f4e9ee47ef576e46a21a8c224743d8\" rel=\"nofollow noreferrer\">gist.github.com/Zabuzard/f0f4e9ee47ef576e46a21a8c224743d8</a> (I had this snippet lingering around)"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1653488530,"post_id":72379253,"comment_id":127865300,"body_markdown":"This code does not compile.  `BufferedReader` has a typo (you wrote `BufferReader`), `BufferedReader` cannot be used with `FileWriter` (it needs to be `FileReader`).  Also, `new File(aaa.csv)` will not compile because you did not wrap the parameter in double quotes.  Post your _actual_ code.","body":"This code does not compile.  <code>BufferedReader</code> has a typo (you wrote <code>BufferReader</code>), <code>BufferedReader</code> cannot be used with <code>FileWriter</code> (it needs to be <code>FileReader</code>).  Also, <code>new File(aaa.csv)</code> will not compile because you did not wrap the parameter in double quotes.  Post your <i>actual</i> code."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653488664,"post_id":72379253,"comment_id":127865377,"body_markdown":"&quot;It doesn&#39;t quite work&quot; isnt a working problem description. See [mcve] and enhance your question accordingly. Or well, please do a bit of research. The question &quot;how do I read a text file into a string&quot; is a solved problem. Remember: ANY basic problem you can think of ... it has been asked here (and elsewhere) before, and many answers were documented.","body":"&quot;It doesn&#39;t quite work&quot; isnt a working problem description. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. Or well, please do a bit of research. The question &quot;how do I read a text file into a string&quot; is a solved problem. Remember: ANY basic problem you can think of ... it has been asked here (and elsewhere) before, and many answers were documented."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653488355,"creation_date":1653488355,"answer_id":72379336,"question_id":72379253,"body_markdown":"To read the entire file, assuming Java 11 and above, you can simply do:\r\n\r\n\r\n    String content = Files.readString(Paths.get(&quot;aaa.csv&quot;));\r\n\r\nnote that if the file is very large memory becomes a problem.\r\n\r\n\r\n","title":"Read a csv file into one String","body":"<p>To read the entire file, assuming Java 11 and above, you can simply do:</p>\n<pre><code>String content = Files.readString(Paths.get(&quot;aaa.csv&quot;));\n</code></pre>\n<p>note that if the file is very large memory becomes a problem.</p>\n"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2845,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1653493684,"answer_count":1,"score":-1,"last_activity_date":1653488355,"creation_date":1653488035,"question_id":72379253,"body_markdown":"I want to essentially read the contents of csv file and want to input into one string to return. I tried this and it doesnt quite work:\r\n\r\n    File file = new File(aaa.csv);\r\n    FileWriter fw = new FileWriter(file);\r\n    BufferReader bw = new BufferReader(fw);\r\n    String s;\r\n    while (bw.readLine() != null) {\r\n            s += (bw.readLine());\r\n        }\r\n        fw.close();\r\n\r\nIs there a easier solution to reading csv file into string that works?\r\n","title":"Read a csv file into one String","body":"<p>I want to essentially read the contents of csv file and want to input into one string to return. I tried this and it doesnt quite work:</p>\n<pre><code>File file = new File(aaa.csv);\nFileWriter fw = new FileWriter(file);\nBufferReader bw = new BufferReader(fw);\nString s;\nwhile (bw.readLine() != null) {\n        s += (bw.readLine());\n    }\n    fw.close();\n</code></pre>\n<p>Is there a easier solution to reading csv file into string that works?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653488330,"creation_date":1653488330,"answer_id":72379331,"question_id":72379161,"body_markdown":"Spring boot applications have pretty clever system of class path searching, for example it finds jars in `BOOT-INF/lib` - something that a regular java system can&#39;t do. So spring has custom class loaders for this purpose.\r\n\r\nNow its possible to add an external jar with the help of `LOADER_PATH` environment variable or `loader.path` parameter.\r\n\r\n\r\nBottom line, instead of using &quot;standard&quot; java mechanism, consider using &quot;special&quot; spring boot&#39;s mechanisms.\r\n\r\n[Read the official documentation][1] for concrete examples\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.launching","title":"Reasons why a JAR on classpath not loaded","body":"<p>Spring boot applications have pretty clever system of class path searching, for example it finds jars in <code>BOOT-INF/lib</code> - something that a regular java system can't do. So spring has custom class loaders for this purpose.</p>\n<p>Now its possible to add an external jar with the help of <code>LOADER_PATH</code> environment variable or <code>loader.path</code> parameter.</p>\n<p>Bottom line, instead of using &quot;standard&quot; java mechanism, consider using &quot;special&quot; spring boot's mechanisms.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.launching\" rel=\"nofollow noreferrer\">Read the official documentation</a> for concrete examples</p>\n"}],"owner":{"account_id":3946188,"reputation":2133,"user_id":3258708,"accept_rate":88,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72379331,"answer_count":1,"score":1,"last_activity_date":1653488330,"creation_date":1653487615,"question_id":72379161,"body_markdown":"I have a SpringBoot application that is run with the command `java -classpath &lt;longlist of JARs&gt; com.example.MyApp`.\r\n\r\nI have the path to a JAR - in this case `liquibase-core-4.4.0.jar` - specified on the classpath. However, on startup the app complains about missing class definitions.\r\n\r\nAttaching a debugger I can see that the `URLClassPath` does have this JAR in its `path` list. However, there is no loader for it.\r\n\r\nWhat would cause a JAR to be on the classpath but have no loader?\r\n","title":"Reasons why a JAR on classpath not loaded","body":"<p>I have a SpringBoot application that is run with the command <code>java -classpath &lt;longlist of JARs&gt; com.example.MyApp</code>.</p>\n<p>I have the path to a JAR - in this case <code>liquibase-core-4.4.0.jar</code> - specified on the classpath. However, on startup the app complains about missing class definitions.</p>\n<p>Attaching a debugger I can see that the <code>URLClassPath</code> does have this JAR in its <code>path</code> list. However, there is no loader for it.</p>\n<p>What would cause a JAR to be on the classpath but have no loader?</p>\n"},{"tags":["java","android","exception","numberformatexception"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1653476792,"post_id":72376431,"comment_id":127860375,"body_markdown":"The reason is because “5.3” isn’t an integer. You can handle it like any other Java exception.","body":"The reason is because “5.3” isn’t an integer. You can handle it like any other Java exception."},{"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"score":0,"creation_date":1653476833,"post_id":72376431,"comment_id":127860398,"body_markdown":"ok, how can i handle this can you answer this?","body":"ok, how can i handle this can you answer this?"}],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653476807,"creation_date":1653476807,"answer_id":72376487,"question_id":72376431,"body_markdown":"The line in question is\r\n\r\n```java\r\nint currentErrorCode = Integer.parseInt(configParams.getString(PreferenceConstants.DEVICE_LAST_ERROR_CODE));\r\n```\r\n\r\nthis parses an integer, not a float; it expects a string representation of an integer. `5.3` is not an integer and contains a decimal point, causing the `NumberFormatException`. Use `Float.parseFloat` or `Double.parseDouble` instead; depending on your use case, you might want to round the result to an int.","title":"java.lang.NumberFormatException: For input string: &quot;5.3&quot;","body":"<p>The line in question is</p>\n<pre class=\"lang-java prettyprint-override\"><code>int currentErrorCode = Integer.parseInt(configParams.getString(PreferenceConstants.DEVICE_LAST_ERROR_CODE));\n</code></pre>\n<p>this parses an integer, not a float; it expects a string representation of an integer. <code>5.3</code> is not an integer and contains a decimal point, causing the <code>NumberFormatException</code>. Use <code>Float.parseFloat</code> or <code>Double.parseDouble</code> instead; depending on your use case, you might want to round the result to an int.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653488240,"creation_date":1653482453,"answer_id":72377832,"question_id":72376431,"body_markdown":"&gt; any other way we can handle this without try and catch? \r\n\r\nYou need to parse it with the right parse method so that the exception is not thrown.\r\n\r\n&gt; value can be any thing.\r\n\r\nWell if that is *literally* true, it means that you cannot parse it, except the most trivial sense.\r\n\r\n&gt; it&#39;s not fixed that it will always be float.it can be integer and double too.\r\n\r\nAh  ... so when you said &quot;any thing&quot; you didn&#39;t mean anything?\r\n\r\nThere are three possible ways to handle this:\r\n\r\n  1.  Just read the error code as a string, and don&#39;t attempt to parse it.  \r\n\r\n      Ask yourself: do you actually *need* to treat the error code as a number?  What does that buy you?  And what if the error code isn&#39;t a recognizable number at all?  (Will your application be able to cope?)\r\n\r\n  2.  Parse the error code using `parseDouble`, and represent it as a `double`. The syntax parsed by `parseDouble` is the same as for `parseFloat` and a superset of what is accepted by `parseInt`.  Specifically, `parseDouble` will happily parse an integer value ... and give you the `double` representation of that integer.  \r\n\r\n      The downside is that for large enough integers, the `double` representation will be imprecise / inaccurate.  Depending on the actual code values, this might cause problems.\r\n\r\n  3.  If you must parse it with the right type then the way you avoid try / catch would be to use `Pattern` to implement regexes to test which of the expected formats the error code is in.  Then call the corresponding `parseXXX` method to parse it.\r\n\r\n      The downside is that you now need three (or more) different variables with types `int`, `float`, `double` and so on to represent the parsed error code values.  And all of the places where you used the error code later in your application will have to deal with that.\r\n\r\n  4.  And of course, you could just use a sequence try-catches.\r\n\r\n","title":"java.lang.NumberFormatException: For input string: &quot;5.3&quot;","body":"<blockquote>\n<p>any other way we can handle this without try and catch?</p>\n</blockquote>\n<p>You need to parse it with the right parse method so that the exception is not thrown.</p>\n<blockquote>\n<p>value can be any thing.</p>\n</blockquote>\n<p>Well if that is <em>literally</em> true, it means that you cannot parse it, except the most trivial sense.</p>\n<blockquote>\n<p>it's not fixed that it will always be float.it can be integer and double too.</p>\n</blockquote>\n<p>Ah  ... so when you said &quot;any thing&quot; you didn't mean anything?</p>\n<p>There are three possible ways to handle this:</p>\n<ol>\n<li><p>Just read the error code as a string, and don't attempt to parse it.</p>\n<p>Ask yourself: do you actually <em>need</em> to treat the error code as a number?  What does that buy you?  And what if the error code isn't a recognizable number at all?  (Will your application be able to cope?)</p>\n</li>\n<li><p>Parse the error code using <code>parseDouble</code>, and represent it as a <code>double</code>. The syntax parsed by <code>parseDouble</code> is the same as for <code>parseFloat</code> and a superset of what is accepted by <code>parseInt</code>.  Specifically, <code>parseDouble</code> will happily parse an integer value ... and give you the <code>double</code> representation of that integer.</p>\n<p>The downside is that for large enough integers, the <code>double</code> representation will be imprecise / inaccurate.  Depending on the actual code values, this might cause problems.</p>\n</li>\n<li><p>If you must parse it with the right type then the way you avoid try / catch would be to use <code>Pattern</code> to implement regexes to test which of the expected formats the error code is in.  Then call the corresponding <code>parseXXX</code> method to parse it.</p>\n<p>The downside is that you now need three (or more) different variables with types <code>int</code>, <code>float</code>, <code>double</code> and so on to represent the parsed error code values.  And all of the places where you used the error code later in your application will have to deal with that.</p>\n</li>\n<li><p>And of course, you could just use a sequence try-catches.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24627983,"reputation":51,"user_id":18527510,"display_name":"shiga123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8973,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72377832,"answer_count":2,"score":-3,"last_activity_date":1653488240,"creation_date":1653476563,"question_id":72376431,"body_markdown":"when running this code i am getting this java.lang.NumberFormatException: For input string: &quot;5.3&quot; Exception. how can we resolve this type of exception.any other way we can handle this without try and catch? value can be any thing.it&#39;s not fixed that it will always be float.it can be integer and double too.is there any way we can handle all three no matter what comes .without using try catch.\r\n\r\npassing this in line 79 PreferenceConstants.DEVICE_LAST_ERROR_CODE\r\n\r\n     public static final String DEVICE_LAST_ERROR_CODE = &quot;device_last_error_code&quot;;\r\n\r\n\r\nplease find the code below.\r\n\r\n\r\n    package com.pds.ftp.view.activity;\r\n    \r\n    import android.content.res.Configuration;\r\n    import android.os.Bundle;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    \r\n    import com.pds.ftp.R;\r\n    import com.pds.ftp.app.FTPApp;\r\n    import com.pds.ftp.constant.UIConstant;\r\n    import com.pds.ftp.infrastructure.ReaderUsbInterf;\r\n    import com.pds.ftp.middleware.FTPPrivilegedServiceProvider;\r\n    import com.pds.ftp.middleware.PollingLooperThread;\r\n    import com.pds.ftp.middleware.ShutDownManager;\r\n    import com.pds.ftp.model.dbsync.DBSynchronizationPool;\r\n    import com.pds.ftp.transaction.shutdown.EntryExitCheck;\r\n    import com.pds.ftp.transaction.shutdown.ShutdownStateCache;\r\n    import com.pds.ftp.utils.Util;\r\n    import com.pds.hardwareadapter.ingenicoreader.IngenicoReaderDirect;\r\n    import com.pds.infrastructure.constants.PreferenceConstants;\r\n    import com.pds.infrastructure.interfaces.ILogOperation;\r\n    import com.pds.infrastructure.logger.LogCriticalEvent;\r\n    import com.pds.infrastructure.logger.LogInfoEvent;\r\n    import com.pds.infrastructure.logger.LogWarningEvent;\r\n    \r\n    import javax.inject.Inject;\r\n    \r\n    public class PowerOffActivity extends BaseActivity {\r\n    \r\n        public static final String TYPE = &quot;action_type&quot;;\r\n        public static final int TYPE_SHUTDOWN = 0;\r\n        public static final int TYPE_RESTART = 1;\r\n        public static final int TYPE_END_OF_BUSINESS_HOURS = 2;\r\n        public static final int SHUTDOWN_DELAY = 1000 * 30;\r\n        public static final int SHUTDOWN_WAIT = 1000;\r\n        public static final int READER_REBOOT = 3;\r\n    \r\n        @Inject\r\n        ILogOperation logOperation;\r\n    \r\n        @Inject\r\n        EntryExitCheck entryExitCheck;\r\n    \r\n        @Inject\r\n        ShutdownStateCache shutdownStateCache;\r\n    \r\n        @Inject\r\n        IngenicoReaderDirect ingenicoReaderDirect;\r\n    \r\n        @Inject\r\n        PollingLooperThread pollingLooperThread;\r\n    \r\n        @Inject\r\n        ReaderUsbInterf usbInterf;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            isShutDownRequestInitiated = true;\r\n            setContentView(R.layout.activity_power_off);\r\n    \r\n            shutdownStateCache.setShutdownState(true); //Shutdown state is true as power is disconnected\r\n            logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;PowerOff Screen Started&quot;);\r\n    \r\n        }\r\n    \r\n        boolean keepOnRunning = true;\r\n    \r\n        private void checkForPendingTaskBeforeShutdown() {\r\n            keepOnRunning = true;\r\n            long startTime = System.currentTimeMillis();\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    pollingLooperThread.onpause();\r\n                    if (getIntent() != null) {\r\n                        int type = getIntent().getIntExtra(TYPE, 0);\r\n                        int currentErrorCode = Integer.parseInt(configParams.getString(PreferenceConstants.DEVICE_LAST_ERROR_CODE));\r\n                        int restartCount = configParams.getInt(PreferenceConstants.PREF_FTP_RESTART_COUNT);\r\n                        if (type == TYPE_END_OF_BUSINESS_HOURS || (currentErrorCode == LogCriticalEvent.CARD_READER_MALFUNCTION &amp;&amp; restartCount == 1)) {\r\n                            logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;Calling reader reset command due to EOB or CARD_READER_MALFUNCTION. currentErrorCode:: &quot;+currentErrorCode);\r\n                            try {\r\n                                Thread.sleep(3500);\r\n                            } catch (Exception e) {\r\n                                logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, e,&quot;Exception caused in Thread.sleep during reset reader&quot;);\r\n                            }\r\n                            ingenicoReaderDirect.resetReader();\r\n                        }\r\n                    } else{\r\n                        logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;getIntent() is null&quot;);\r\n                    }\r\n    \r\n                    while (keepOnRunning) {\r\n    \r\n                        if (entryExitCheck.getShutDownDBTaskCounter() == 0) {\r\n                            logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;All threads are completed&quot;);\r\n                            keepOnRunning = false;\r\n                        } else {\r\n                            if ((System.currentTimeMillis() - startTime) &gt;= SHUTDOWN_DELAY) {\r\n                                logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;Time exceeds 30 sec,initiating shutdown&quot;);\r\n                                keepOnRunning = false;\r\n                            } else {\r\n                                logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;Threads still running&quot;);\r\n                            }\r\n                        }\r\n                        try {\r\n                            Thread.sleep(SHUTDOWN_WAIT);\r\n                        } catch (Exception e) {\r\n                            logOperation.logInfo(LogInfoEvent.GENERAL_INFO,e,&quot;checkForPendingTaskBeforeShutdown Exception&quot;);\r\n                        }\r\n                    }\r\n    \r\n                    performShutdownProcess();\r\n                }\r\n            }).start();\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            checkForPendingTaskBeforeShutdown();\r\n        }\r\n    \r\n        private void performShutdownProcess() {\r\n            if (!Util.shutdown_file_available()) {\r\n                FTPApp.isShuttingDownState = true;\r\n                Util.setLastShutDownDateTime(configParams);\r\n                if (getIntent() != null) {\r\n                    int type = getIntent().getIntExtra(TYPE, 0);\r\n                    String state = getIntent().getStringExtra(UIConstant.UISTATE);\r\n    \r\n                    if (type == TYPE_END_OF_BUSINESS_HOURS) {\r\n                        logOperation.logWarning(LogWarningEvent.DEVICE_SCHEDULED_OUT_OF_SERVICE, 2, &quot;Device restarting because of end of business hours&quot;);\r\n                    }\r\n    \r\n                    /*if (state.contains(UIConstant.IGNITION_OFF)) {\r\n                        FTPApp.isShuttingDownState = true;\r\n                    }*/\r\n    \r\n                    if (type == TYPE_RESTART || type == TYPE_END_OF_BUSINESS_HOURS|| type == READER_REBOOT) {\r\n                        logOperation.logWarning(LogWarningEvent.DEVICE_REBOOTED, &quot;Device is RESTARTING.. Coming from:- &quot; + state);\r\n                    } else {\r\n                        logOperation.logWarning(LogWarningEvent.DEVICE_SHUT_DOWN, &quot;Device is shutting down Reason:- IGNITION... Coming From:- &quot; + state);\r\n                    }\r\n                } else {\r\n                    logOperation.logWarning(LogWarningEvent.DEVICE_REBOOTED, &quot;Device is RESTARTING. Reason:- OTHER&quot;);\r\n                }\r\n                usbInterf.close();\r\n                ShutDownManager.getInstance().shutDownDevice();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        void prepareTextToSpeechAndSpeak() {\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onConfigurationChanged(@NonNull Configuration newConfig) {\r\n            super.onConfigurationChanged(newConfig);\r\n    \r\n        }\r\n    }\r\n\r\n getting this in logs it looks like this exception is coming from line 79\r\n\r\n    4,0,05.16.2022_09.09.00.822,java.lang.NumberFormatException: For input string: &quot;5.3&quot;\r\n    java.lang.Integer.parseInt(Integer.java:608)\r\n    java.lang.Integer.parseInt(Integer.java:643)\r\n    com.pds.ftp.view.activity.PowerOffActivity$1.run(PowerOffActivity.java:79)\r\n    java.lang.Thread.run(Thread.java:764)\r\n    Line 8922: 2,1000,05.16.2022_09.09.00.910,Info,Current Error Code = 0\r\n\r\n","title":"java.lang.NumberFormatException: For input string: &quot;5.3&quot;","body":"<p>when running this code i am getting this java.lang.NumberFormatException: For input string: &quot;5.3&quot; Exception. how can we resolve this type of exception.any other way we can handle this without try and catch? value can be any thing.it's not fixed that it will always be float.it can be integer and double too.is there any way we can handle all three no matter what comes .without using try catch.</p>\n<p>passing this in line 79 PreferenceConstants.DEVICE_LAST_ERROR_CODE</p>\n<pre><code> public static final String DEVICE_LAST_ERROR_CODE = &quot;device_last_error_code&quot;;\n</code></pre>\n<p>please find the code below.</p>\n<pre><code>package com.pds.ftp.view.activity;\n\nimport android.content.res.Configuration;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\n\nimport com.pds.ftp.R;\nimport com.pds.ftp.app.FTPApp;\nimport com.pds.ftp.constant.UIConstant;\nimport com.pds.ftp.infrastructure.ReaderUsbInterf;\nimport com.pds.ftp.middleware.FTPPrivilegedServiceProvider;\nimport com.pds.ftp.middleware.PollingLooperThread;\nimport com.pds.ftp.middleware.ShutDownManager;\nimport com.pds.ftp.model.dbsync.DBSynchronizationPool;\nimport com.pds.ftp.transaction.shutdown.EntryExitCheck;\nimport com.pds.ftp.transaction.shutdown.ShutdownStateCache;\nimport com.pds.ftp.utils.Util;\nimport com.pds.hardwareadapter.ingenicoreader.IngenicoReaderDirect;\nimport com.pds.infrastructure.constants.PreferenceConstants;\nimport com.pds.infrastructure.interfaces.ILogOperation;\nimport com.pds.infrastructure.logger.LogCriticalEvent;\nimport com.pds.infrastructure.logger.LogInfoEvent;\nimport com.pds.infrastructure.logger.LogWarningEvent;\n\nimport javax.inject.Inject;\n\npublic class PowerOffActivity extends BaseActivity {\n\n    public static final String TYPE = &quot;action_type&quot;;\n    public static final int TYPE_SHUTDOWN = 0;\n    public static final int TYPE_RESTART = 1;\n    public static final int TYPE_END_OF_BUSINESS_HOURS = 2;\n    public static final int SHUTDOWN_DELAY = 1000 * 30;\n    public static final int SHUTDOWN_WAIT = 1000;\n    public static final int READER_REBOOT = 3;\n\n    @Inject\n    ILogOperation logOperation;\n\n    @Inject\n    EntryExitCheck entryExitCheck;\n\n    @Inject\n    ShutdownStateCache shutdownStateCache;\n\n    @Inject\n    IngenicoReaderDirect ingenicoReaderDirect;\n\n    @Inject\n    PollingLooperThread pollingLooperThread;\n\n    @Inject\n    ReaderUsbInterf usbInterf;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        isShutDownRequestInitiated = true;\n        setContentView(R.layout.activity_power_off);\n\n        shutdownStateCache.setShutdownState(true); //Shutdown state is true as power is disconnected\n        logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;PowerOff Screen Started&quot;);\n\n    }\n\n    boolean keepOnRunning = true;\n\n    private void checkForPendingTaskBeforeShutdown() {\n        keepOnRunning = true;\n        long startTime = System.currentTimeMillis();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                pollingLooperThread.onpause();\n                if (getIntent() != null) {\n                    int type = getIntent().getIntExtra(TYPE, 0);\n                    int currentErrorCode = Integer.parseInt(configParams.getString(PreferenceConstants.DEVICE_LAST_ERROR_CODE));\n                    int restartCount = configParams.getInt(PreferenceConstants.PREF_FTP_RESTART_COUNT);\n                    if (type == TYPE_END_OF_BUSINESS_HOURS || (currentErrorCode == LogCriticalEvent.CARD_READER_MALFUNCTION &amp;&amp; restartCount == 1)) {\n                        logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;Calling reader reset command due to EOB or CARD_READER_MALFUNCTION. currentErrorCode:: &quot;+currentErrorCode);\n                        try {\n                            Thread.sleep(3500);\n                        } catch (Exception e) {\n                            logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, e,&quot;Exception caused in Thread.sleep during reset reader&quot;);\n                        }\n                        ingenicoReaderDirect.resetReader();\n                    }\n                } else{\n                    logOperation.logInfo(LogInfoEvent.GENERAL_INFO, &quot;getIntent() is null&quot;);\n                }\n\n                while (keepOnRunning) {\n\n                    if (entryExitCheck.getShutDownDBTaskCounter() == 0) {\n                        logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;All threads are completed&quot;);\n                        keepOnRunning = false;\n                    } else {\n                        if ((System.currentTimeMillis() - startTime) &gt;= SHUTDOWN_DELAY) {\n                            logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;Time exceeds 30 sec,initiating shutdown&quot;);\n                            keepOnRunning = false;\n                        } else {\n                            logOperation.logVerbose(LogInfoEvent.GENERAL_INFO, &quot;Threads still running&quot;);\n                        }\n                    }\n                    try {\n                        Thread.sleep(SHUTDOWN_WAIT);\n                    } catch (Exception e) {\n                        logOperation.logInfo(LogInfoEvent.GENERAL_INFO,e,&quot;checkForPendingTaskBeforeShutdown Exception&quot;);\n                    }\n                }\n\n                performShutdownProcess();\n            }\n        }).start();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        checkForPendingTaskBeforeShutdown();\n    }\n\n    private void performShutdownProcess() {\n        if (!Util.shutdown_file_available()) {\n            FTPApp.isShuttingDownState = true;\n            Util.setLastShutDownDateTime(configParams);\n            if (getIntent() != null) {\n                int type = getIntent().getIntExtra(TYPE, 0);\n                String state = getIntent().getStringExtra(UIConstant.UISTATE);\n\n                if (type == TYPE_END_OF_BUSINESS_HOURS) {\n                    logOperation.logWarning(LogWarningEvent.DEVICE_SCHEDULED_OUT_OF_SERVICE, 2, &quot;Device restarting because of end of business hours&quot;);\n                }\n\n                /*if (state.contains(UIConstant.IGNITION_OFF)) {\n                    FTPApp.isShuttingDownState = true;\n                }*/\n\n                if (type == TYPE_RESTART || type == TYPE_END_OF_BUSINESS_HOURS|| type == READER_REBOOT) {\n                    logOperation.logWarning(LogWarningEvent.DEVICE_REBOOTED, &quot;Device is RESTARTING.. Coming from:- &quot; + state);\n                } else {\n                    logOperation.logWarning(LogWarningEvent.DEVICE_SHUT_DOWN, &quot;Device is shutting down Reason:- IGNITION... Coming From:- &quot; + state);\n                }\n            } else {\n                logOperation.logWarning(LogWarningEvent.DEVICE_REBOOTED, &quot;Device is RESTARTING. Reason:- OTHER&quot;);\n            }\n            usbInterf.close();\n            ShutDownManager.getInstance().shutDownDevice();\n        }\n    }\n\n    @Override\n    void prepareTextToSpeechAndSpeak() {\n    }\n\n\n    @Override\n    public void onConfigurationChanged(@NonNull Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n\n    }\n}\n</code></pre>\n<p>getting this in logs it looks like this exception is coming from line 79</p>\n<pre><code>4,0,05.16.2022_09.09.00.822,java.lang.NumberFormatException: For input string: &quot;5.3&quot;\njava.lang.Integer.parseInt(Integer.java:608)\njava.lang.Integer.parseInt(Integer.java:643)\ncom.pds.ftp.view.activity.PowerOffActivity$1.run(PowerOffActivity.java:79)\njava.lang.Thread.run(Thread.java:764)\nLine 8922: 2,1000,05.16.2022_09.09.00.910,Info,Current Error Code = 0\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653458528,"post_id":72366973,"comment_id":127854263,"body_markdown":"As Doug mentioned in his answer, you have to iterate through the `Products` collection and call the method from the other [question](https://stackoverflow.com/questions/72354128/move-data-from-firestore-database-not-realtime-database-to-new-collection-in-a), to move each particular document to another location.","body":"As Doug mentioned in his answer, you have to iterate through the <code>Products</code> collection and call the method from the other <a href=\"https://stackoverflow.com/questions/72354128/move-data-from-firestore-database-not-realtime-database-to-new-collection-in-a\">question</a>, to move each particular document to another location."},{"owner":{"account_id":25369297,"reputation":3,"user_id":19183397,"display_name":"5opir"},"score":0,"creation_date":1653476823,"post_id":72366973,"comment_id":127860390,"body_markdown":"But I need to move not each particular document separately in the collection, but all at once","body":"But I need to move not each particular document separately in the collection, but all at once"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653480149,"post_id":72366973,"comment_id":127861666,"body_markdown":"There is no way you can move a collection with all the containing documents at once.","body":"There is no way you can move a collection with all the containing documents at once."},{"owner":{"account_id":25369297,"reputation":3,"user_id":19183397,"display_name":"5opir"},"score":0,"creation_date":1653488156,"post_id":72366973,"comment_id":127865132,"body_markdown":"I puzzled for a long time how to do this, but still defeated the problem. Attached the solution to the question","body":"I puzzled for a long time how to do this, but still defeated the problem. Attached the solution to the question"}],"answers":[{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653413570,"creation_date":1653413570,"answer_id":72367134,"question_id":72366973,"body_markdown":"Firestore does not have any &quot;move&quot; operation for documents.  What you will have to do is:\r\n\r\n1. Query for each document you want to move\r\n2. Iterate the results and copy them into new documents in the new collection\r\n3. Delete the original documents\r\n","title":"How to move all records from one location to another in Firestore Database (Android Studio)","body":"<p>Firestore does not have any &quot;move&quot; operation for documents.  What you will have to do is:</p>\n<ol>\n<li>Query for each document you want to move</li>\n<li>Iterate the results and copy them into new documents in the new collection</li>\n<li>Delete the original documents</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25369297,"reputation":3,"user_id":19183397,"display_name":"5opir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653488240,"creation_date":1653488069,"answer_id":72379259,"question_id":72366973,"body_markdown":"Method: [https://stackoverflow.com/questions/72354128/move-data-from-firestore-database-not-realtime-database-to-new-collection-in-a][1]\r\n\r\n    delete.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    firestore.collection(&quot;AddToCart&quot;).document(auth.getCurrentUser().getUid())\r\n                            .collection(&quot;Product&quot;)\r\n                            .get()\r\n                            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                QuerySnapshot tasks1 = task.getResult();\r\n    \r\n                                CollectionReference addToCartRef1 = firestore.collection(&quot;AddToCart&quot;);\r\n                                DocumentReference addToCartRef2 = addToCartRef1.document(auth.getCurrentUser().getUid());\r\n                                CollectionReference addToCartRef3 = addToCartRef2.collection(&quot;Product&quot;);\r\n    \r\n                                CollectionReference deletedAddToCartRef1 = firestore.collection(&quot;AddToPurchased&quot;);\r\n                                DocumentReference deletedAddToCartRef2 = deletedAddToCartRef1.document(auth.getCurrentUser().getUid());\r\n                                CollectionReference deletedAddToCartRef3 = deletedAddToCartRef2.collection(&quot;Product&quot;);\r\n    \r\n                                for (DocumentSnapshot doc1: tasks1.getDocuments()) {\r\n                                    DocumentReference fromPath = addToCartRef3.document(doc1.getReference().getId());\r\n                                    DocumentReference toPath = deletedAddToCartRef3.document(doc1.getReference().getId());\r\n    \r\n                                    moveFirestoreDocument(fromPath, toPath);\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72354128/move-data-from-firestore-database-not-realtime-database-to-new-collection-in-a","title":"How to move all records from one location to another in Firestore Database (Android Studio)","body":"<p>Method: <a href=\"https://stackoverflow.com/questions/72354128/move-data-from-firestore-database-not-realtime-database-to-new-collection-in-a\">Move data from Firestore Database (not Realtime Database) to new collection in Android Studio</a></p>\n<pre><code>delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                firestore.collection(&quot;AddToCart&quot;).document(auth.getCurrentUser().getUid())\n                        .collection(&quot;Product&quot;)\n                        .get()\n                        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            QuerySnapshot tasks1 = task.getResult();\n\n                            CollectionReference addToCartRef1 = firestore.collection(&quot;AddToCart&quot;);\n                            DocumentReference addToCartRef2 = addToCartRef1.document(auth.getCurrentUser().getUid());\n                            CollectionReference addToCartRef3 = addToCartRef2.collection(&quot;Product&quot;);\n\n                            CollectionReference deletedAddToCartRef1 = firestore.collection(&quot;AddToPurchased&quot;);\n                            DocumentReference deletedAddToCartRef2 = deletedAddToCartRef1.document(auth.getCurrentUser().getUid());\n                            CollectionReference deletedAddToCartRef3 = deletedAddToCartRef2.collection(&quot;Product&quot;);\n\n                            for (DocumentSnapshot doc1: tasks1.getDocuments()) {\n                                DocumentReference fromPath = addToCartRef3.document(doc1.getReference().getId());\n                                DocumentReference toPath = deletedAddToCartRef3.document(doc1.getReference().getId());\n\n                                moveFirestoreDocument(fromPath, toPath);\n                            }\n                        }\n                    }\n                });\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":25369297,"reputation":3,"user_id":19183397,"display_name":"5opir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72379259,"answer_count":2,"score":0,"last_activity_date":1653488240,"creation_date":1653412747,"question_id":72366973,"body_markdown":"How to move all Firebase database records (not a specific record with an id) from a specific location to another. Code for moving certain records:\r\n\r\n    delete.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            CollectionReference addToCartRef1 = firestore.collection(&quot;AddToCart&quot;);\r\n                            DocumentReference addToCartRef2 = addToCartRef1.document(auth.getCurrentUser().getUid());\r\n                            CollectionReference addToCartRef3 = addToCartRef2.collection(&quot;Product&quot;);\r\n                            DocumentReference fromPath = addToCartRef3.document(&quot;DiaSef1RX9xlAFm26P8M&quot;);\r\n            \r\n                            CollectionReference deletedAddToCartRef1 = firestore.collection(&quot;AddToPurchased&quot;);\r\n                            DocumentReference deletedAddToCartRef2 = deletedAddToCartRef1.document(auth.getCurrentUser().getUid());\r\n                            CollectionReference deletedAddToCartRef3 = deletedAddToCartRef2.collection(&quot;Product&quot;);\r\n                            DocumentReference toPath = deletedAddToCartRef3.document(&quot;DiaSef1RX9xlAFm26P8M&quot;);\r\n                            moveFirestoreDocument(fromPath, toPath);\r\n                        }\r\n        });\r\n\r\nDatabase structure:\r\n\r\n![Database structure 1][1], \r\n\r\n![Database structure 2 (continuation)][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hw3Pr.png\r\n  [2]: https://i.stack.imgur.com/brJKT.png","title":"How to move all records from one location to another in Firestore Database (Android Studio)","body":"<p>How to move all Firebase database records (not a specific record with an id) from a specific location to another. Code for moving certain records:</p>\n<pre><code>delete.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        CollectionReference addToCartRef1 = firestore.collection(&quot;AddToCart&quot;);\n                        DocumentReference addToCartRef2 = addToCartRef1.document(auth.getCurrentUser().getUid());\n                        CollectionReference addToCartRef3 = addToCartRef2.collection(&quot;Product&quot;);\n                        DocumentReference fromPath = addToCartRef3.document(&quot;DiaSef1RX9xlAFm26P8M&quot;);\n        \n                        CollectionReference deletedAddToCartRef1 = firestore.collection(&quot;AddToPurchased&quot;);\n                        DocumentReference deletedAddToCartRef2 = deletedAddToCartRef1.document(auth.getCurrentUser().getUid());\n                        CollectionReference deletedAddToCartRef3 = deletedAddToCartRef2.collection(&quot;Product&quot;);\n                        DocumentReference toPath = deletedAddToCartRef3.document(&quot;DiaSef1RX9xlAFm26P8M&quot;);\n                        moveFirestoreDocument(fromPath, toPath);\n                    }\n    });\n</code></pre>\n<p>Database structure:</p>\n<p><img src=\"https://i.stack.imgur.com/Hw3Pr.png\" alt=\"Database structure 1\" />,</p>\n<p><img src=\"https://i.stack.imgur.com/brJKT.png\" alt=\"Database structure 2 (continuation)\" /></p>\n"},{"tags":["java","apache-camel"],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653488155,"creation_date":1653486975,"question_id":72378992,"body_markdown":"I have a requirement where I need to call a specific logic before calling a SFTP endpoint. The logic in consideration will inject some headers in exchange. Those headers will then be used when SFTP route starts.\r\n\r\nSo I am trying to invoke my initial setup logic at the tick of first timer. And it will run only once. Some headers will be set inside exchange object. Then after this is finished file endpoint should be called. Headers should flow through the exchange object passed between these endpoint.\r\n\r\nI tried exploring direct component for this. I tried something like this\r\n\r\n    from(&quot;timer://cacheEntryCount?repeatCount=1&quot;)\r\n    .process(new Processor() {\r\n        @Override\r\n        public void process(Exchange exchange) throws Exception\r\n        {\r\n            logger.info(&quot;setting count&quot;);\r\n            exchange.getIn().setHeader(&quot;count&quot;,1);\r\n        }\r\n    })\r\n    .to(&quot;direct:&quot;+fileUrl);\r\n    \r\n    from(&quot;direct:&quot;+fileUrl)\r\n      ....\r\n      ....\r\n      .process(new Processor() {\r\n            @Override\r\n        public void process(Exchange exchange) throws Exception\r\n        {\r\n            logger.info(&quot;accessing count&quot;);\r\n            exchange.getIn().getHeader(&quot;count&quot;);\r\n        }\r\n      ....\r\n\r\nWhere ```fileUrl=file:/tmp/refDataFiles?charset=UTF-8```\r\n\r\nBut this gives me below error\r\n\r\n```Failed to resolve endpoint: direct://file:/temp/refDataFiles?charset=UTF-8 due to: There are 1 parameters that couldn&#39;t be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{charset=UTF-8}]```\r\n\r\nHow to proceed here? Please help.","title":"Apache camel - invoke file endpoint by using direct component","body":"<p>I have a requirement where I need to call a specific logic before calling a SFTP endpoint. The logic in consideration will inject some headers in exchange. Those headers will then be used when SFTP route starts.</p>\n<p>So I am trying to invoke my initial setup logic at the tick of first timer. And it will run only once. Some headers will be set inside exchange object. Then after this is finished file endpoint should be called. Headers should flow through the exchange object passed between these endpoint.</p>\n<p>I tried exploring direct component for this. I tried something like this</p>\n<pre><code>from(&quot;timer://cacheEntryCount?repeatCount=1&quot;)\n.process(new Processor() {\n    @Override\n    public void process(Exchange exchange) throws Exception\n    {\n        logger.info(&quot;setting count&quot;);\n        exchange.getIn().setHeader(&quot;count&quot;,1);\n    }\n})\n.to(&quot;direct:&quot;+fileUrl);\n\nfrom(&quot;direct:&quot;+fileUrl)\n  ....\n  ....\n  .process(new Processor() {\n        @Override\n    public void process(Exchange exchange) throws Exception\n    {\n        logger.info(&quot;accessing count&quot;);\n        exchange.getIn().getHeader(&quot;count&quot;);\n    }\n  ....\n</code></pre>\n<p>Where <code>fileUrl=file:/tmp/refDataFiles?charset=UTF-8</code></p>\n<p>But this gives me below error</p>\n<p><code>Failed to resolve endpoint: direct://file:/temp/refDataFiles?charset=UTF-8 due to: There are 1 parameters that couldn't be set on the endpoint. Check the uri if the parameters are spelt correctly and that they are properties of the endpoint. Unknown parameters=[{charset=UTF-8}]</code></p>\n<p>How to proceed here? Please help.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1653037521,"post_id":72316230,"comment_id":127757941,"body_markdown":"https://kotlinlang.org/docs/collection-filtering.html#filter-by-predicate","body":"<a href=\"https://kotlinlang.org/docs/collection-filtering.html#filter-by-predicate\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1653037826,"post_id":72316230,"comment_id":127758033,"body_markdown":"They&#39;re called &quot;method references&quot; in Java, so went to the Kotlin docs linked above and typed &quot;method references&quot; into the search box there. The list included a topic called &quot;[function references](https://kotlinlang.org/docs/reflection.html#function-references)&quot; which seems to suggest you use much the same syntax.","body":"They&#39;re called &quot;method references&quot; in Java, so went to the Kotlin docs linked above and typed &quot;method references&quot; into the search box there. The list included a topic called &quot;<a href=\"https://kotlinlang.org/docs/reflection.html#function-references\" rel=\"nofollow noreferrer\">function references</a>&quot; which seems to suggest you use much the same syntax."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1653038699,"post_id":72316230,"comment_id":127758303,"body_markdown":"This nice post covers many already existing stdlib functions in Kotlin which are equivalent to Java stream intermediate/terminal operations. [what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr](https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr)","body":"This nice post covers many already existing stdlib functions in Kotlin which are equivalent to Java stream intermediate/terminal operations. <a href=\"https://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr\">what-java-8-stream-collect-equivalents-are-available-in-the-&zwnj;&#8203;standard-kotlin-libr</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1653039896,"post_id":72316230,"comment_id":127758706,"body_markdown":"Does this answer your question? [Kotlin: Method reference not working?](https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working\">Kotlin: Method reference not working?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25261435,"reputation":456,"user_id":19092278,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653487929,"creation_date":1653040327,"answer_id":72316895,"question_id":72316230,"body_markdown":"it&#39;s the same but it can also be used to get reflection information about the target [source](https://www.baeldung.com/kotlin/reflection#:~:text=In%20exactly%20the%20same%20way%20as%20with%20classes%2C,used%20to%20get%20reflection%20information%20about%20the%20target.).","title":"What is the equivalent of double colon (::) Java in Kotlin?","body":"<p>it's the same but it can also be used to get reflection information about the target <a href=\"https://www.baeldung.com/kotlin/reflection#:%7E:text=In%20exactly%20the%20same%20way%20as%20with%20classes%2C,used%20to%20get%20reflection%20information%20about%20the%20target.\" rel=\"nofollow noreferrer\">source</a>.</p>\n"}],"owner":{"account_id":13575564,"reputation":938,"user_id":9793021,"display_name":"Denise"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653487929,"creation_date":1653037313,"question_id":72316230,"body_markdown":"```\r\norgList.getOrgMigrationMap().entrySet().stream()\r\n    .filter(//some logic)\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```\r\n\r\nTrying to get the Kotlin equivalent of this code, but looks like double colon `::` in Kotlin means something else than Java. Can someone suggest?","title":"What is the equivalent of double colon (::) Java in Kotlin?","body":"<pre><code>orgList.getOrgMigrationMap().entrySet().stream()\n    .filter(//some logic)\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Trying to get the Kotlin equivalent of this code, but looks like double colon <code>::</code> in Kotlin means something else than Java. Can someone suggest?</p>\n"},{"tags":["java","enums","immutables-library","spring-thymeleaf"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1653506755,"post_id":72379195,"comment_id":127872243,"body_markdown":"I wouldn&#39;t say that it *needs* to stay as plain as possible. I would say that calling JPA picky is an understatement, and you will gain very little, if any, benefit from using complex assortments of classes coupled together through annotations. I would recommend using plain simple POJO&#39;s and enums for the entire process.","body":"I wouldn&#39;t say that it <i>needs</i> to stay as plain as possible. I would say that calling JPA picky is an understatement, and you will gain very little, if any, benefit from using complex assortments of classes coupled together through annotations. I would recommend using plain simple POJO&#39;s and enums for the entire process."},{"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"score":1,"creation_date":1653510539,"post_id":72379195,"comment_id":127873382,"body_markdown":"Yeah, that seems fair. I guess I&#39;ll try and decouple the POJO and business logic using immutables. It&#39;s a fun game...","body":"Yeah, that seems fair. I guess I&#39;ll try and decouple the POJO and business logic using immutables. It&#39;s a fun game..."}],"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653487780,"creation_date":1653487780,"question_id":72379195,"body_markdown":"I&#39;ve started using Thymeleaf recently, and generally been getting on pretty well. However I&#39;m trying to use a multiple select to populate a list of Enums that are wrapped up in an immutable.\r\n\r\nI refactored it and it works using a POJO:\r\n\r\n\r\n``` java \r\npublic enum Place {\r\n\r\n    FIRST(&quot;First&quot;),\r\n    SECOND(&quot;Second&quot;),\r\n    THIRD(&quot;Third&quot;),\r\n    FOURTH(&quot;Fourth&quot;),\r\n    FIFTH(&quot;Fifth&quot;);\r\n\r\n    private final String formatted;\r\n\r\n    Place(String s) {\r\n        formatted = s;\r\n    }\r\n    \r\n    public String getFormatted() {\r\n        return formatted;\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\npublic class Places {\r\n\r\n    private List&lt;Place&gt; places;\r\n    // get/set/constructors omitted \r\n\r\n\r\n}\r\n```\r\n\r\n``` java \r\n    @GetMapping(&quot;/complex&quot;)\r\n    public ModelAndView complex() {\r\n        Places places =  new Places(Place.THIRD);\r\n        ModelAndView model = new ModelAndView(&quot;complex&quot;);\r\n        model.addObject(&quot;filter&quot;, places);\r\n        return model;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/complex&quot;,\r\n            method = RequestMethod.POST)\r\n    public ModelAndView multiPost(@ModelAttribute Places places, ModelAndView model) {\r\n        model.addObject(&quot;filter&quot;, places);\r\n        model.setViewName(&quot;complex&quot;);\r\n        System.out.println(&quot;post &quot; + places.getPlaces());\r\n        return model;\r\n    }\r\n```\r\n\r\n``` thymeleaf\r\n    &lt;form id=&quot;main_form&quot; class=&quot;mainform&quot;\r\n          method=&quot;post&quot; th:action=&quot;@{/complex}&quot;\r\n          th:object=&quot;${filter}&quot;&gt;\r\n        &lt;div class=&quot;col-md-3&quot;&gt;\r\n            &lt;label id=&quot;include&quot;&gt;Included&lt;/label&gt;\r\n            &lt;select class=&quot;form-select&quot; aria-label=&quot;.form-select-sm example&quot; multiple=&quot;multiple&quot;\r\n                    th:field=&quot;*{{places}}&quot;&gt;\r\n                &lt;option th:each=&quot;state : ${T(uk.co.enums.Place).values()}&quot;\r\n                        th:value=&quot;${state}&quot;\r\n                        th:text=&quot;${state.getFormatted()}&quot;&gt;\r\n                &lt;/option&gt;\r\n            &lt;/select&gt;\r\n        &lt;/div&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;\r\n    &lt;/form&gt;\r\n```\r\n\r\n\r\nHowever, I&#39;d like to be able to use an object created through the immutables library to replace the Places class. \r\n\r\n``` java\r\n@Value.Immutable\r\npublic interface Places {\r\n\r\n    List&lt;Place&gt; places();\r\n}\r\n```\r\n\r\nHowever this produces:\r\n```\r\nCaused by: org.springframework.core.convert.ConversionFailedException: \r\nFailed to convert from type [java.lang.String] to type [com.google.common.collect.ImmutableList&lt;uk.co.enums.Place&gt;] for value &#39;FIRST&#39;; \r\nnested exception is java.lang.IllegalArgumentException: \r\nCould not instantiate Collection type: com.google.common.collect.ImmutableList\r\n```\r\n\r\nI created the converters (StringToListPlaceConverter and StringArrToPlacesConverter) and added them to the formatter registry which works, but ends up being similar in length to having a POJO, but with extra classes dotted around. These also seemed to require explicit use of the ImmutableList, which feels wrong to me:\r\n\r\n``` java \r\npublic class StringToListPlaceConverter implements Converter&lt;String, ImmutableList&lt;Place&gt;&gt; {\r\n\r\n    @Override\r\n    public ImmutableList&lt;Place&gt; convert(String from) {\r\n        System.out.println(&quot;from = &quot; + from);\r\n        return ImmutableList.of(Place.valueOf(from));\r\n    }\r\n\r\n}\r\n```\r\n\r\nAm I missing something annotation-wise with the immutables? Or is this something that needs to stay as plain as possible while interfacing between the web and java-side?","title":"Using Immutables with Thymeleaf multiple select for an Enum List","body":"<p>I've started using Thymeleaf recently, and generally been getting on pretty well. However I'm trying to use a multiple select to populate a list of Enums that are wrapped up in an immutable.</p>\n<p>I refactored it and it works using a POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Place {\n\n    FIRST(&quot;First&quot;),\n    SECOND(&quot;Second&quot;),\n    THIRD(&quot;Third&quot;),\n    FOURTH(&quot;Fourth&quot;),\n    FIFTH(&quot;Fifth&quot;);\n\n    private final String formatted;\n\n    Place(String s) {\n        formatted = s;\n    }\n    \n    public String getFormatted() {\n        return formatted;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Places {\n\n    private List&lt;Place&gt; places;\n    // get/set/constructors omitted \n\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/complex&quot;)\n    public ModelAndView complex() {\n        Places places =  new Places(Place.THIRD);\n        ModelAndView model = new ModelAndView(&quot;complex&quot;);\n        model.addObject(&quot;filter&quot;, places);\n        return model;\n    }\n\n    @RequestMapping(value = &quot;/complex&quot;,\n            method = RequestMethod.POST)\n    public ModelAndView multiPost(@ModelAttribute Places places, ModelAndView model) {\n        model.addObject(&quot;filter&quot;, places);\n        model.setViewName(&quot;complex&quot;);\n        System.out.println(&quot;post &quot; + places.getPlaces());\n        return model;\n    }\n</code></pre>\n<pre><code>    &lt;form id=&quot;main_form&quot; class=&quot;mainform&quot;\n          method=&quot;post&quot; th:action=&quot;@{/complex}&quot;\n          th:object=&quot;${filter}&quot;&gt;\n        &lt;div class=&quot;col-md-3&quot;&gt;\n            &lt;label id=&quot;include&quot;&gt;Included&lt;/label&gt;\n            &lt;select class=&quot;form-select&quot; aria-label=&quot;.form-select-sm example&quot; multiple=&quot;multiple&quot;\n                    th:field=&quot;*{{places}}&quot;&gt;\n                &lt;option th:each=&quot;state : ${T(uk.co.enums.Place).values()}&quot;\n                        th:value=&quot;${state}&quot;\n                        th:text=&quot;${state.getFormatted()}&quot;&gt;\n                &lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Create&quot;&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>However, I'd like to be able to use an object created through the immutables library to replace the Places class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value.Immutable\npublic interface Places {\n\n    List&lt;Place&gt; places();\n}\n</code></pre>\n<p>However this produces:</p>\n<pre><code>Caused by: org.springframework.core.convert.ConversionFailedException: \nFailed to convert from type [java.lang.String] to type [com.google.common.collect.ImmutableList&lt;uk.co.enums.Place&gt;] for value 'FIRST'; \nnested exception is java.lang.IllegalArgumentException: \nCould not instantiate Collection type: com.google.common.collect.ImmutableList\n</code></pre>\n<p>I created the converters (StringToListPlaceConverter and StringArrToPlacesConverter) and added them to the formatter registry which works, but ends up being similar in length to having a POJO, but with extra classes dotted around. These also seemed to require explicit use of the ImmutableList, which feels wrong to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringToListPlaceConverter implements Converter&lt;String, ImmutableList&lt;Place&gt;&gt; {\n\n    @Override\n    public ImmutableList&lt;Place&gt; convert(String from) {\n        System.out.println(&quot;from = &quot; + from);\n        return ImmutableList.of(Place.valueOf(from));\n    }\n\n}\n</code></pre>\n<p>Am I missing something annotation-wise with the immutables? Or is this something that needs to stay as plain as possible while interfacing between the web and java-side?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653459612,"post_id":72372658,"comment_id":127854475,"body_markdown":"Doesn&#39;t really matter when or how you do it. Though if you convert before grouping, then the grouping might have been easier","body":"Doesn&#39;t really matter when or how you do it. Though if you convert before grouping, then the grouping might have been easier"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653462671,"post_id":72372658,"comment_id":127855399,"body_markdown":"Can you provide the class definition of `GlobalData`?","body":"Can you provide the class definition of <code>GlobalData</code>?"},{"owner":{"account_id":3689528,"reputation":131,"user_id":3072470,"accept_rate":67,"display_name":"user3072470"},"score":0,"creation_date":1653464765,"post_id":72372658,"comment_id":127856055,"body_markdown":"I added the GlobalData class defintion to the post. The transformation will use all the objects of each group to construct the GlobalData object. For our example the result of transformation will be a list of 3 GlobalData objects","body":"I added the GlobalData class defintion to the post. The transformation will use all the objects of each group to construct the GlobalData object. For our example the result of transformation will be a list of 3 GlobalData objects"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653465813,"post_id":72372658,"comment_id":127856439,"body_markdown":"@user3072470 In your previous post, Exon and Sup&#39;s id was a Long, while here for GlobalData is a UUID. Is it a typo and GlobalData has a Long id too or we don&#39;t need to bring the Exon&#39;s and Sup&#39;s id when creating a new GlobalData?","body":"@user3072470 In your previous post, Exon and Sup&#39;s id was a Long, while here for GlobalData is a UUID. Is it a typo and GlobalData has a Long id too or we don&#39;t need to bring the Exon&#39;s and Sup&#39;s id when creating a new GlobalData?"},{"owner":{"account_id":3689528,"reputation":131,"user_id":3072470,"accept_rate":67,"display_name":"user3072470"},"score":0,"creation_date":1653466264,"post_id":72372658,"comment_id":127856599,"body_markdown":"I don&#39;t need the ids of Exons and Sups for transformation. I need the groups to build my new GlobalData objects, i&#39;m wondering if it&#39;s possible to do this transformation  like this List&lt;GlobalData&gt; listRes = new ArrayList&lt;&gt;(Stream.concat(listExon.stream(), listSup.stream())\n                .collect(Collectors.groupingBy(obj -&gt; {transformation})).values());","body":"I don&#39;t need the ids of Exons and Sups for transformation. I need the groups to build my new GlobalData objects, i&#39;m wondering if it&#39;s possible to do this transformation  like this List&lt;GlobalData&gt; listRes = new ArrayList&lt;&gt;(Stream.concat(listExon.stream(), listSup.stream())                 .collect(Collectors.groupingBy(obj -&gt; {transformation})).values());"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653481434,"post_id":72372658,"comment_id":127862159,"body_markdown":"That is a typical [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). You have created a list `Object` type and  now dealing with instance of checks and type-casting. Instead, you can parse the data from the DB into a list of `GlobalData` in the first place, or create two separate lists (of `Sup` and `Exon`) and then generate a list of `GlobalData` based on them. Your current problem is artificial.","body":"That is a typical <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. You have created a list <code>Object</code> type and  now dealing with instance of checks and type-casting. Instead, you can parse the data from the DB into a list of <code>GlobalData</code> in the first place, or create two separate lists (of <code>Sup</code> and <code>Exon</code>) and then generate a list of <code>GlobalData</code> based on them. Your current problem is artificial."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653487715,"creation_date":1653466772,"answer_id":72374185,"question_id":72372658,"body_markdown":"In your previous question, you&#39;re having as output a `List&lt;List&lt;Object&gt;&gt;` while now you want to map each `List&lt;Object&gt;` to a single `GlobalData` instance. \r\n\r\nMind that I&#39;m giving you this answer only basing on the few details that I&#39;ve got from your question and with no knowledge of the relationships between your classes.\r\n\r\n```\r\nList&lt;GlobalData&gt; listGlobalData = listMixed.stream()\r\n        .map(list -&gt; {\r\n            //Mapping each list to a GlobalData object\r\n\r\n            //Retrieving an object from the list to create a GlobalData \r\n            Object firstObj = list.stream().findFirst().orElse(null);\r\n            if (firstObj == null) {\r\n                return null;\r\n            }\r\n\r\n            //Instacing a GlobalData with IncomeCode, EndDate and CodeRef\r\n            GlobalData gd = null;\r\n            if (firstObj.getClass() == Exon.class) {\r\n                Exon exon = (Exon) firstObj;\r\n                gd = new GlobalData(exon.getIncomeCode(), exon.getEndDate(), exon.getCodeRef());\r\n            } else {\r\n                Sup sup = (Sup) firstObj;\r\n                gd = new GlobalData(sup.getIncomeCode(), sup.getEndDate(), sup.getCodeRef());\r\n            }\r\n\r\n            //Updating the GlobalData with each object of the list \r\n            for (Object o: list){\r\n                if (o.getClass() == Exon.class){\r\n                    Exon exon = (Exon) o;\r\n                    gd.setValue(gd.getValue().add(exon.getValue()));\r\n                    if (exon.getXxx() &gt; 100){\r\n                        gd.setIncome(calcMethod(exon));\r\n                    }\r\n                } else {\r\n                    Sup sup = (Sup) o;\r\n                    gd.setValue(gd.getValue().add(sup.getValue()));\r\n                    if (sup.getXxx() &gt; 100){\r\n                        gd.setIncome(calcMethod(sup));\r\n                    }\r\n                }\r\n            }\r\n            return gd;\r\n        })\r\n        .filter(obj -&gt; obj != null)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nHere is also a link where I&#39;ve posted my entire solution to test the code above. However, since there is an execution time limit on the server hosting the solution, the output won&#39;t be displayed, but you could check the link anyway to copy the code and test it on your machine. \r\n\r\nI&#39;ve also provided some dummy classes to mock the behavior of some of the methods shown in your example.\r\n\r\nhttps://ideone.com/rN5XVa","title":"How and when transform a list of grouped list of objects of different types","body":"<p>In your previous question, you're having as output a <code>List&lt;List&lt;Object&gt;&gt;</code> while now you want to map each <code>List&lt;Object&gt;</code> to a single <code>GlobalData</code> instance.</p>\n<p>Mind that I'm giving you this answer only basing on the few details that I've got from your question and with no knowledge of the relationships between your classes.</p>\n<pre><code>List&lt;GlobalData&gt; listGlobalData = listMixed.stream()\n        .map(list -&gt; {\n            //Mapping each list to a GlobalData object\n\n            //Retrieving an object from the list to create a GlobalData \n            Object firstObj = list.stream().findFirst().orElse(null);\n            if (firstObj == null) {\n                return null;\n            }\n\n            //Instacing a GlobalData with IncomeCode, EndDate and CodeRef\n            GlobalData gd = null;\n            if (firstObj.getClass() == Exon.class) {\n                Exon exon = (Exon) firstObj;\n                gd = new GlobalData(exon.getIncomeCode(), exon.getEndDate(), exon.getCodeRef());\n            } else {\n                Sup sup = (Sup) firstObj;\n                gd = new GlobalData(sup.getIncomeCode(), sup.getEndDate(), sup.getCodeRef());\n            }\n\n            //Updating the GlobalData with each object of the list \n            for (Object o: list){\n                if (o.getClass() == Exon.class){\n                    Exon exon = (Exon) o;\n                    gd.setValue(gd.getValue().add(exon.getValue()));\n                    if (exon.getXxx() &gt; 100){\n                        gd.setIncome(calcMethod(exon));\n                    }\n                } else {\n                    Sup sup = (Sup) o;\n                    gd.setValue(gd.getValue().add(sup.getValue()));\n                    if (sup.getXxx() &gt; 100){\n                        gd.setIncome(calcMethod(sup));\n                    }\n                }\n            }\n            return gd;\n        })\n        .filter(obj -&gt; obj != null)\n        .collect(Collectors.toList());\n</code></pre>\n<p>Here is also a link where I've posted my entire solution to test the code above. However, since there is an execution time limit on the server hosting the solution, the output won't be displayed, but you could check the link anyway to copy the code and test it on your machine.</p>\n<p>I've also provided some dummy classes to mock the behavior of some of the methods shown in your example.</p>\n<p><a href=\"https://ideone.com/rN5XVa\" rel=\"nofollow noreferrer\">https://ideone.com/rN5XVa</a></p>\n"}],"owner":{"account_id":3689528,"reputation":131,"user_id":3072470,"accept_rate":67,"display_name":"user3072470"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72374185,"answer_count":1,"score":0,"last_activity_date":1653487715,"creation_date":1653458791,"question_id":72372658,"body_markdown":"I&#39;m wondering WHEN (just after grouping and before collecting to `List&lt;List&lt;Object&gt;&gt;`) and HOW (re-stream the collected groups after collecting them). \r\n\r\nCan I transform each sub-list of objects \r\n\r\n```\r\n[Exon{45 2021-01-01 4}, Exon{45 2021-01-01 4}, Sup{45 2021-01-01 4}] \r\nand \r\n[Exon{33 2023-01-01 2}, Sup{33 2023-01-01 2}] \r\nand \r\n[Exon{21 2022-01-01 5}, Sup{21 2022-01-01 5}]\r\n```\r\n\r\ninto a new object type called `GlobalData`? \r\n\r\nAny suggestion will be appreciated.\r\n\r\nThis question is linked to my previous question :\r\nhttps://stackoverflow.com/a/72368904/3072470\r\n\r\nHere is the code provided by Dan for grouping my different Objects into a list of objects collected to a list:\r\nhttps://ideone.com/OSTItQ\r\n\r\n\r\n\tpublic class GlobalData {\r\n\r\n    private UUID id = UUID.randomUUID();\r\n\r\n    private IncomeCode incomeCode;\r\n\r\n    private LocalDate endDate;\r\n\r\n    private String codeRef;\r\n\r\n    private boolean taxable;\r\n\r\n    private String pw = &quot;&quot;;\r\n\r\n    private BigDecimal area = BigDecimal.ZERO;\r\n\r\n    //private BigDecimal taxableIncome = BigDecimal.ZERO;\r\n\r\n    private BigDecimal value = BigDecimal.ZERO;\r\n\r\n    private BigDecimal exonValueType = BigDecimal.ZERO;\r\n\r\n    private BigDecimal Income = BigDecimal.ZERO;\r\n\r\n    private BigDecimal exemptedIncome = BigDecimal.ZERO;\r\n\r\n    private BigDecimal refIncome = BigDecimal.ZERO;\r\n\t \r\n    }\r\n\r\n    List&lt;GlobalData&gt; globalTaxDataList = listRes.stream()\r\n                .map(this::toGlobalData)\r\n                .collect(Collectors.toList());\r\n\r\n    private GlobalData toGlobalData(List&lt;Object&gt; objects) {\r\n            GlobalData globalData = new GlobalData();\r\n            objects // list of mix Exons and Sups objects (Exon and Sup contain more, fields incomeCode, endDate and codeRef are used only for grouping) ex: [Exon{45 2021-01-01 4}, Exon{45 2021-01-01 4}, Sup{45 2021-01-01 4}]\r\n                .forEach(o -&gt; {\r\n                    if (o instanceof Exon) {\r\n                      globalData.setValue(globalData.getValue()\r\n                         .add(o.getValue()))\r\n                       if (o.getxxx()&gt; 100) {\r\n                         globalData.setIncome(globalData.getIncome()\r\n                          .add(calcMethod(o)))\r\n                       }\r\n                       //more business code here\r\n                    }\r\n\r\n                    if (o instanceof Sup) {     \r\n                       globalData.setValue(globalData.getValue()\r\n                        .add(o.getValue()))\r\n                       if (o.getxxx()&gt; 100) {\r\n                          globalData.setIncome(globalData.getIncome()\r\n                             .add(calcMethod(o)))\r\n                       }\r\n                       //more business code here\r\n                    }\r\n                });\r\n        return globalData;\r\n    }","title":"How and when transform a list of grouped list of objects of different types","body":"<p>I'm wondering WHEN (just after grouping and before collecting to <code>List&lt;List&lt;Object&gt;&gt;</code>) and HOW (re-stream the collected groups after collecting them).</p>\n<p>Can I transform each sub-list of objects</p>\n<pre><code>[Exon{45 2021-01-01 4}, Exon{45 2021-01-01 4}, Sup{45 2021-01-01 4}] \nand \n[Exon{33 2023-01-01 2}, Sup{33 2023-01-01 2}] \nand \n[Exon{21 2022-01-01 5}, Sup{21 2022-01-01 5}]\n</code></pre>\n<p>into a new object type called <code>GlobalData</code>?</p>\n<p>Any suggestion will be appreciated.</p>\n<p>This question is linked to my previous question :\n<a href=\"https://stackoverflow.com/a/72368904/3072470\">https://stackoverflow.com/a/72368904/3072470</a></p>\n<p>Here is the code provided by Dan for grouping my different Objects into a list of objects collected to a list:\n<a href=\"https://ideone.com/OSTItQ\" rel=\"nofollow noreferrer\">https://ideone.com/OSTItQ</a></p>\n<pre><code>public class GlobalData {\n\nprivate UUID id = UUID.randomUUID();\n\nprivate IncomeCode incomeCode;\n\nprivate LocalDate endDate;\n\nprivate String codeRef;\n\nprivate boolean taxable;\n\nprivate String pw = &quot;&quot;;\n\nprivate BigDecimal area = BigDecimal.ZERO;\n\n//private BigDecimal taxableIncome = BigDecimal.ZERO;\n\nprivate BigDecimal value = BigDecimal.ZERO;\n\nprivate BigDecimal exonValueType = BigDecimal.ZERO;\n\nprivate BigDecimal Income = BigDecimal.ZERO;\n\nprivate BigDecimal exemptedIncome = BigDecimal.ZERO;\n\nprivate BigDecimal refIncome = BigDecimal.ZERO;\n \n}\n\nList&lt;GlobalData&gt; globalTaxDataList = listRes.stream()\n            .map(this::toGlobalData)\n            .collect(Collectors.toList());\n\nprivate GlobalData toGlobalData(List&lt;Object&gt; objects) {\n        GlobalData globalData = new GlobalData();\n        objects // list of mix Exons and Sups objects (Exon and Sup contain more, fields incomeCode, endDate and codeRef are used only for grouping) ex: [Exon{45 2021-01-01 4}, Exon{45 2021-01-01 4}, Sup{45 2021-01-01 4}]\n            .forEach(o -&gt; {\n                if (o instanceof Exon) {\n                  globalData.setValue(globalData.getValue()\n                     .add(o.getValue()))\n                   if (o.getxxx()&gt; 100) {\n                     globalData.setIncome(globalData.getIncome()\n                      .add(calcMethod(o)))\n                   }\n                   //more business code here\n                }\n\n                if (o instanceof Sup) {     \n                   globalData.setValue(globalData.getValue()\n                    .add(o.getValue()))\n                   if (o.getxxx()&gt; 100) {\n                      globalData.setIncome(globalData.getIncome()\n                         .add(calcMethod(o)))\n                   }\n                   //more business code here\n                }\n            });\n    return globalData;\n}\n</code></pre>\n"},{"tags":["java","maven","apache-kafka","apache-storm"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1608491818,"post_id":65383547,"comment_id":115594705,"body_markdown":"Which jar file contains class `ApacheStorm`? Is it on the classpath  when you run the program?","body":"Which jar file contains class <code>ApacheStorm</code>? Is it on the classpath  when you run the program?"},{"owner":{"account_id":7216674,"reputation":76,"user_id":14713349,"display_name":"BlueNebulae"},"score":0,"creation_date":1608492602,"post_id":65383547,"comment_id":115594924,"body_markdown":"Im running it on a deployed Apache-Storm cluster, I ran som other topologies on it to make sure it works, and they ran without issue, so that part should be ok.\nEdit: The cluster is deployed with the binaries from the Apache Storm download page/mirror.","body":"Im running it on a deployed Apache-Storm cluster, I ran som other topologies on it to make sure it works, and they ran without issue, so that part should be ok. Edit: The cluster is deployed with the binaries from the Apache Storm download page/mirror."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1608495579,"post_id":65383547,"comment_id":115595707,"body_markdown":"KafkaSpout seems to be in its own jar file. Is `storm-kafka-n.n.n.jar` deployed in the cluster?  https://findjar.com/class/org/apache/storm/kafka/KafkaSpout.html","body":"KafkaSpout seems to be in its own jar file. Is <code>storm-kafka-n.n.n.jar</code> deployed in the cluster?  <a href=\"https://findjar.com/class/org/apache/storm/kafka/KafkaSpout.html\" rel=\"nofollow noreferrer\">findjar.com/class/org/apache/storm/kafka/KafkaSpout.html</a>"},{"owner":{"account_id":7216674,"reputation":76,"user_id":14713349,"display_name":"BlueNebulae"},"score":0,"creation_date":1608509485,"post_id":65383547,"comment_id":115598828,"body_markdown":"It is, it is Included in the extlib-daemon folder","body":"It is, it is Included in the extlib-daemon folder"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1608513658,"post_id":65383547,"comment_id":115599559,"body_markdown":"Well, either it&#39;s not really there, or there&#39;s some classloader funny business going on and your code&#39;s classloader can&#39;t see the class.","body":"Well, either it&#39;s not really there, or there&#39;s some classloader funny business going on and your code&#39;s classloader can&#39;t see the class."},{"owner":{"account_id":7216674,"reputation":76,"user_id":14713349,"display_name":"BlueNebulae"},"score":0,"creation_date":1608552183,"post_id":65383547,"comment_id":115610093,"body_markdown":"Hmm, ye, might just have to try and do a completely clean setup, see if I messed up something with the classloader or the like. Thx for the helps either way","body":"Hmm, ye, might just have to try and do a completely clean setup, see if I messed up something with the classloader or the like. Thx for the helps either way"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1608572475,"post_id":65383547,"comment_id":115619284,"body_markdown":"Btw, you don&#39;t need `kafka_2.13`. That is the Kafka server libraries, not the client","body":"Btw, you don&#39;t need <code>kafka_2.13</code>. That is the Kafka server libraries, not the client"},{"owner":{"account_id":7216674,"reputation":76,"user_id":14713349,"display_name":"BlueNebulae"},"score":0,"creation_date":1608579288,"post_id":65383547,"comment_id":115621992,"body_markdown":"Ah, thx. Went a bit overboard with adding jars","body":"Ah, thx. Went a bit overboard with adding jars"}],"owner":{"account_id":7216674,"reputation":76,"user_id":14713349,"display_name":"BlueNebulae"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653487586,"creation_date":1608489963,"question_id":65383547,"body_markdown":"My question is very similiar to the one found here: [NoClassDefFoundError Apache Storm][1]\r\nI have tried all the solutions posted there and I do not think the issue is the same.\r\n\r\nI can compile my java code to a .jar without issue, but when I run it I get the below error. I included all the dependencies in the pom, yet it still can not find it. The code is almost directly copied from the Apache Storm documentation, to remove any other aspects that might give issues.\r\n\r\nAny ideas would be greatly appreciated.\r\n\r\nI get the following error message when trying to run my topology on my storm cluster:\r\n```\r\nRunning: /usr/lib/jvm/java-8-openjdk-amd64/bin/java -client -Ddaemon.name= -Dstorm.options= -Dstorm.home=/home/hadoop/storm -Dstorm.log.dir=/home/hadoop/stormLog -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib:/usr/lib64 -Dstorm.conf.file= -cp /home/hadoop/storm/*:/home/hadoop/storm/lib-worker/*:/home/hadoop/storm/extlib/*:twitterTest2.jar:/home/hadoop/storm/conf:/home/hadoop/storm/bin: -Dstorm.jar=twitterTest2.jar -Dstorm.dependency.jars= -Dstorm.dependency.artifacts={} processingT.TTopology\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/storm/kafka/spout/KafkaSpout\r\n\tat processingT.TTopology.run(TTopology.java:24)\r\n\tat org.apache.storm.topology.ConfigurableTopology.start(ConfigurableTopology.java:68)\r\n\tat processingT.TTopology.main(TTopology.java:16)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.storm.kafka.spout.KafkaSpout\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 3 more\r\n```\r\nI have this in my pom:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.storm.processing&lt;/groupId&gt;\r\n  &lt;artifactId&gt;processingT&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;storm-client&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;storm-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\t\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;storm-kafka-client&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;storm-kafka&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;storm-server&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kafka_2.13&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\r\n          &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  \r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd the java code is:\r\n``` \r\npackage processingT;\r\n\r\nimport org.apache.storm.topology.ConfigurableTopology;\r\nimport org.apache.storm.topology.TopologyBuilder;\r\nimport org.apache.storm.topology.base.BaseRichSpout;\r\nimport org.apache.storm.kafka.spout.KafkaSpout;\r\nimport org.apache.storm.kafka.spout.KafkaSpoutConfig;\r\nimport org.apache.storm.tuple.Fields;\r\n\r\npublic class TTopology extends ConfigurableTopology {\r\n    public static void main(String[] args) throws Exception {\r\n        ConfigurableTopology.start(new TTopology(), args);\r\n    }\r\n\r\n    @Override\r\n    protected int run(String[] args) throws Exception {\r\n    \tString port = &quot;9092&quot;;\r\n    \t\r\n    \tTopologyBuilder tp = new TopologyBuilder();\r\n    \ttp.setSpout(&quot;kafka_spout&quot;, new KafkaSpout&lt;&gt;(KafkaSpoutConfig.builder(&quot;ip:&quot; + port, &quot;topic&quot;).build()), 1);\r\n        tp.setBolt(&quot;countT&quot;, new CountTBolt(), 12).fieldsGrouping(&quot;kafka_spout&quot;, new Fields(&quot;word&quot;));\r\n\r\n        conf.setDebug(true);\r\n\r\n        String topologyName = &quot;count&quot;;\r\n\r\n        conf.setNumWorkers(3);\r\n\r\n        if (args != null &amp;&amp; args.length &gt; 0) {\r\n            topologyName = args[0];\r\n        }\r\n        return submit(topologyName,conf,tp);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/59322807/why-is-a-java-lang-noclassdeffounderror-raised-when-i-run-my-jar-with-apache-sto","title":"Why is a java.lang.NoClassDefFoundError raised (org/apache/storm/kafka/spout/KafkaSpout) when jar is run with Apache Storm?","body":"<p>My question is very similiar to the one found here: <a href=\"https://stackoverflow.com/questions/59322807/why-is-a-java-lang-noclassdeffounderror-raised-when-i-run-my-jar-with-apache-sto\">NoClassDefFoundError Apache Storm</a>\nI have tried all the solutions posted there and I do not think the issue is the same.</p>\n<p>I can compile my java code to a .jar without issue, but when I run it I get the below error. I included all the dependencies in the pom, yet it still can not find it. The code is almost directly copied from the Apache Storm documentation, to remove any other aspects that might give issues.</p>\n<p>Any ideas would be greatly appreciated.</p>\n<p>I get the following error message when trying to run my topology on my storm cluster:</p>\n<pre><code>Running: /usr/lib/jvm/java-8-openjdk-amd64/bin/java -client -Ddaemon.name= -Dstorm.options= -Dstorm.home=/home/hadoop/storm -Dstorm.log.dir=/home/hadoop/stormLog -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib:/usr/lib64 -Dstorm.conf.file= -cp /home/hadoop/storm/*:/home/hadoop/storm/lib-worker/*:/home/hadoop/storm/extlib/*:twitterTest2.jar:/home/hadoop/storm/conf:/home/hadoop/storm/bin: -Dstorm.jar=twitterTest2.jar -Dstorm.dependency.jars= -Dstorm.dependency.artifacts={} processingT.TTopology\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/storm/kafka/spout/KafkaSpout\n    at processingT.TTopology.run(TTopology.java:24)\n    at org.apache.storm.topology.ConfigurableTopology.start(ConfigurableTopology.java:68)\n    at processingT.TTopology.main(TTopology.java:16)\nCaused by: java.lang.ClassNotFoundException: org.apache.storm.kafka.spout.KafkaSpout\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 3 more\n</code></pre>\n<p>I have this in my pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.storm.processing&lt;/groupId&gt;\n  &lt;artifactId&gt;processingT&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n        &lt;artifactId&gt;storm-client&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n      &lt;artifactId&gt;storm-core&lt;/artifactId&gt;\n      &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;   \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n        &lt;artifactId&gt;storm-kafka-client&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n      &lt;artifactId&gt;storm-kafka&lt;/artifactId&gt;\n      &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.storm&lt;/groupId&gt;\n        &lt;artifactId&gt;storm-server&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka_2.13&lt;/artifactId&gt;\n      &lt;version&gt;2.6.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\n          &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  \n&lt;/project&gt;\n\n</code></pre>\n<p>And the java code is:</p>\n<pre><code>package processingT;\n\nimport org.apache.storm.topology.ConfigurableTopology;\nimport org.apache.storm.topology.TopologyBuilder;\nimport org.apache.storm.topology.base.BaseRichSpout;\nimport org.apache.storm.kafka.spout.KafkaSpout;\nimport org.apache.storm.kafka.spout.KafkaSpoutConfig;\nimport org.apache.storm.tuple.Fields;\n\npublic class TTopology extends ConfigurableTopology {\n    public static void main(String[] args) throws Exception {\n        ConfigurableTopology.start(new TTopology(), args);\n    }\n\n    @Override\n    protected int run(String[] args) throws Exception {\n        String port = &quot;9092&quot;;\n        \n        TopologyBuilder tp = new TopologyBuilder();\n        tp.setSpout(&quot;kafka_spout&quot;, new KafkaSpout&lt;&gt;(KafkaSpoutConfig.builder(&quot;ip:&quot; + port, &quot;topic&quot;).build()), 1);\n        tp.setBolt(&quot;countT&quot;, new CountTBolt(), 12).fieldsGrouping(&quot;kafka_spout&quot;, new Fields(&quot;word&quot;));\n\n        conf.setDebug(true);\n\n        String topologyName = &quot;count&quot;;\n\n        conf.setNumWorkers(3);\n\n        if (args != null &amp;&amp; args.length &gt; 0) {\n            topologyName = args[0];\n        }\n        return submit(topologyName,conf,tp);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1653486079,"post_id":72378682,"comment_id":127864172,"body_markdown":"The best way to allow **Java** code to call **Scala** code is to define all the interfaces using **Java** `interface` then implement those in **Scala** and finally provide a **Java** `class` that does the final interop with singletons, for those you need to use the synthetic names something like `ApiContector$` search for **Java** + **Scala** interop, there are plenty of questions about it.","body":"The best way to allow <b>Java</b> code to call <b>Scala</b> code is to define all the interfaces using <b>Java</b> <code>interface</code> then implement those in <b>Scala</b> and finally provide a <b>Java</b> <code>class</code> that does the final interop with singletons, for those you need to use the synthetic names something like <code>ApiContector$</code> search for <b>Java</b> + <b>Scala</b> interop, there are plenty of questions about it."}],"answers":[{"tags":[],"owner":{"account_id":20110345,"reputation":305,"user_id":14746858,"display_name":"Helix112"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653487360,"creation_date":1653487360,"answer_id":72379094,"question_id":72378682,"body_markdown":"Does this help ? This worked fine for me. ( Main.java and ApiConnector.scala are in the same folder )\r\n\r\nScala : \r\n\r\n    object ApiConnector {\r\n      def apply(x: Any): ApiConnector = {\r\n     new ApiConnectorImpl(x)\r\n       }\r\n    }\r\n    \r\n    trait ApiConnector {\r\n     }\r\n    \r\n    class ApiConnectorImpl(x : Any) extends ApiConnector {\r\n        println(&quot;scala&quot;)\r\n    }\r\n\r\nJava : \r\n\r\n    public class Main {\r\n    public static void main (String[] args) {\r\n        System.out.println(&quot;from java &quot;);\r\n        ApiConnector$.MODULE$.apply(&quot;x&quot;);\r\n    }\r\n    }\r\n\r\n\r\nIn Java you only have to write :      `ApiConnector$.MODULE$.apply(&quot;x&quot;);`\r\n","title":"From Java call Scala&#39;s Singleton object apply with trait","body":"<p>Does this help ? This worked fine for me. ( Main.java and ApiConnector.scala are in the same folder )</p>\n<p>Scala :</p>\n<pre><code>object ApiConnector {\n  def apply(x: Any): ApiConnector = {\n new ApiConnectorImpl(x)\n   }\n}\n\ntrait ApiConnector {\n }\n\nclass ApiConnectorImpl(x : Any) extends ApiConnector {\n    println(&quot;scala&quot;)\n}\n</code></pre>\n<p>Java :</p>\n<pre><code>public class Main {\npublic static void main (String[] args) {\n    System.out.println(&quot;from java &quot;);\n    ApiConnector$.MODULE$.apply(&quot;x&quot;);\n}\n}\n</code></pre>\n<p>In Java you only have to write :      <code>ApiConnector$.MODULE$.apply(&quot;x&quot;);</code></p>\n"}],"owner":{"account_id":3923073,"reputation":2489,"user_id":3244618,"accept_rate":12,"display_name":"FrancMo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653487360,"creation_date":1653485827,"question_id":72378682,"body_markdown":"I have a pattern in scala like:\r\n\r\n    object ApiConnector {\r\n     def apply(x: String): ApiConnector = new ApiConnectorImpl(x)\r\n    }\r\n    \r\n    trait ApiConnector {\r\n    ...\r\n    }\r\n    \r\n    class ApiConnectorImpl extends ApiConnector {...}\r\n\r\nwhen in Java code I want to use apply method like `ApiConnector.apply(&quot;x&quot;)`\r\nthen I got an error:\r\n\r\n&gt; Cannot access eu.xyz.api.ApiConnector\r\n\r\nany ideas how to access this apply method from java code ?\r\n\r\n\r\n","title":"From Java call Scala&#39;s Singleton object apply with trait","body":"<p>I have a pattern in scala like:</p>\n<pre><code>object ApiConnector {\n def apply(x: String): ApiConnector = new ApiConnectorImpl(x)\n}\n\ntrait ApiConnector {\n...\n}\n\nclass ApiConnectorImpl extends ApiConnector {...}\n</code></pre>\n<p>when in Java code I want to use apply method like <code>ApiConnector.apply(&quot;x&quot;)</code>\nthen I got an error:</p>\n<blockquote>\n<p>Cannot access eu.xyz.api.ApiConnector</p>\n</blockquote>\n<p>any ideas how to access this apply method from java code ?</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653484822,"post_id":72378293,"comment_id":127863639,"body_markdown":"This can only work if you can generate the bean names of each step in between. For `step3` to `step8` this can work, but if you have step bean names like `playerLoad`, `gameLoad` and `playerSummarization`, then it most certainly wont","body":"This can only work if you can generate the bean names of each step in between. For <code>step3</code> to <code>step8</code> this can work, but if you have step bean names like <code>playerLoad</code>, <code>gameLoad</code> and <code>playerSummarization</code>, then it most certainly wont"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653486527,"creation_date":1653486527,"answer_id":72378866,"question_id":72378293,"body_markdown":"For this kind of specific requirements, you can use a [JobExecutionDecider](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/job/flow/JobExecutionDecider.html) and make it decide which step to execute or not based on application arguments.\r\n\r\nYou can find more details and a code example in the reference documentation here: [Programmatic Flow Decisions](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#programmaticFlowDecisions).","title":"Running a list of steps in the spring batch by passing a start step name and end step name in the application arguments","body":"<p>For this kind of specific requirements, you can use a <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/job/flow/JobExecutionDecider.html\" rel=\"nofollow noreferrer\">JobExecutionDecider</a> and make it decide which step to execute or not based on application arguments.</p>\n<p>You can find more details and a code example in the reference documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#programmaticFlowDecisions\" rel=\"nofollow noreferrer\">Programmatic Flow Decisions</a>.</p>\n"}],"owner":{"account_id":25375105,"reputation":1,"user_id":19188353,"display_name":"riw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653486527,"creation_date":1653484245,"question_id":72378293,"body_markdown":"Is there a way in the spring batch if we can run a set of processing (multiple steps) by passing the name of the start step and end step in the application arguments. Our requirement is that we have a spring batch with 11 steps where each of the step has different reader, processor and writer. to pass step3 and step8 as arguments, so the batch processes each step between step3 and step8.\r\n\r\nknowing that the steps are defined in the context xml file.\r\n\r\nThank you for the help.","title":"Running a list of steps in the spring batch by passing a start step name and end step name in the application arguments","body":"<p>Is there a way in the spring batch if we can run a set of processing (multiple steps) by passing the name of the start step and end step in the application arguments. Our requirement is that we have a spring batch with 11 steps where each of the step has different reader, processor and writer. to pass step3 and step8 as arguments, so the batch processes each step between step3 and step8.</p>\n<p>knowing that the steps are defined in the context xml file.</p>\n<p>Thank you for the help.</p>\n"},{"tags":["java","android","notifications","launcher","badge"],"comments":[{"owner":{"account_id":9248237,"reputation":391,"user_id":6869491,"display_name":"Amit Verma"},"score":1,"creation_date":1510500034,"post_id":47250202,"comment_id":81451055,"body_markdown":"https://dzone.com/articles/how-to-create-badges-item-counts-in-android can you go with this link","body":"<a href=\"https://dzone.com/articles/how-to-create-badges-item-counts-in-android\" rel=\"nofollow noreferrer\">dzone.com/articles/how-to-create-badges-item-counts-in-andro&zwnj;&#8203;id</a> can you go with this link"},{"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"score":1,"creation_date":1510651087,"post_id":47250202,"comment_id":81513839,"body_markdown":"Your Article explain to get badge counter inside the app. But I want external to the app.","body":"Your Article explain to get badge counter inside the app. But I want external to the app."},{"owner":{"account_id":4735217,"reputation":2900,"user_id":3974048,"accept_rate":64,"display_name":"david"},"score":5,"creation_date":1513966477,"post_id":47250202,"comment_id":82861096,"body_markdown":"I dont know why they downvoted this and closed as off-topic, But im pretty 100% sure this is very important for developers facing the same exact issue. I could say to the people who are treating this as useless post, then if you ever have the same issue kindly dont look for this informative post. and thanks to @SujayUN wonderful explanation I finally understand how notification badge does and why it doesnt work with those certain phones.","body":"I dont know why they downvoted this and closed as off-topic, But im pretty 100% sure this is very important for developers facing the same exact issue. I could say to the people who are treating this as useless post, then if you ever have the same issue kindly dont look for this informative post. and thanks to @SujayUN wonderful explanation I finally understand how notification badge does and why it doesnt work with those certain phones."},{"owner":{"account_id":4735217,"reputation":2900,"user_id":3974048,"accept_rate":64,"display_name":"david"},"score":3,"creation_date":1513966774,"post_id":47250202,"comment_id":82861206,"body_markdown":"Just want to point out my confusion, I still see facebook and whats app notification badge in those launchers you posted that isnt supported.","body":"Just want to point out my confusion, I still see facebook and whats app notification badge in those launchers you posted that isnt supported."}],"answers":[{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1510498849,"creation_date":1510498849,"answer_id":47250257,"question_id":47250202,"body_markdown":"There is no such function in Android as badge numbers are not a part of the platform.\r\nA few libraries exist that try to achieve this such as https://github.com/leolin310148/ShortcutBadger but you should understand that it does not work for every manufacturer&#39;s device. Also as far as I understand the badges only appear over the icon when it is on a home screen and not in the app drawer.","title":"Android Badge number on launcher icon for all mobile manufacturer","body":"<p>There is no such function in Android as badge numbers are not a part of the platform.\nA few libraries exist that try to achieve this such as <a href=\"https://github.com/leolin310148/ShortcutBadger\" rel=\"noreferrer\">https://github.com/leolin310148/ShortcutBadger</a> but you should understand that it does not work for every manufacturer's device. Also as far as I understand the badges only appear over the icon when it is on a home screen and not in the app drawer.</p>\n"}],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8675,"favorite_count":0,"down_vote_count":3,"up_vote_count":17,"accepted_answer_id":47250257,"answer_count":1,"score":14,"last_activity_date":1653486324,"creation_date":1510498495,"question_id":47250202,"body_markdown":"I need a badge counter on my application launcher icon.\r\n\r\nI know the solution to get Badge counter inside the app, using TextView, But I need a solution to get the badge counter external to the app on the launcher icon.\r\n\r\n---\r\nIn iOS we get the badge number count by\r\n\r\n    UIApplication.sharedApplication().applicationIconBadgeNumber\r\n\r\nI am wondering why Android has not included anything like this with their SDK which every developer need.\r\n\r\n---\r\n\r\nTry 1 : Working only on sony mobiiles :\r\n\r\n        Intent badgeIntent = new Intent();\r\n        badgeIntent.setAction(&quot;com.sonyericsson.home.action.UPDATE_BADGE&quot;);\r\n        badgeIntent.putExtra(&quot;com.sonyericsson.home.intent.extra.badge.PACKAGE_NAME&quot;, this.getPackageName());\r\n        badgeIntent.putExtra(&quot;com.sonyericsson.home.intent.extra.badge.ACTIVITY_NAME&quot;, this.getClass().getName());\r\n        badgeIntent.putExtra(&quot;com.sonyericsson.home.intent.extra.badge.SHOW_MESSAGE&quot;, ShwMsgBulVar);\r\n        badgeIntent.putExtra(&quot;com.sonyericsson.home.intent.extra.badge.MESSAGE&quot;, &quot;10&quot;);\r\n\r\n         context.sendBroadcast(badgeIntent);\r\n\r\n---\r\n\r\nTry 2 : \r\nI tried the library :\r\nhttps://github.com/leolin310148/ShortcutBadger\r\n\r\nIt works only for few manufacturers and not common for all android mobiles.\r\n\r\nShortCutBadger is not working on OPPO, VIVO, Xiomi, Reliance LYF default launchers.\r\n\r\nAfter couple of research, I came to know that, badge number depends on launcher manufacturer and listed as below :\r\n\r\n&gt; ShortCutBadger Suported :\r\n\r\n - Samsung : &quot;com.sec.android.app.launcher&quot;\r\n - Sony : &quot;com.sonyericsson.home&quot;\r\n - HTC : &quot;com.htc.launcher&quot;\r\n - Asus : &quot;com.asus.launcher&quot;\r\n\r\n&gt; ShortCutBadger not Suported :\r\n\r\n - Oppo :&quot;com.oppo.launcher&quot;\r\n - Xiomi : &quot;com.miui.home&quot;\r\n - Vivo : &quot;com.bbk.launcher2&quot;\r\n - Lyf : &quot;com.android.launcher3&quot;\r\n - Go Launcher : &quot;com.gau.go.launcherex&quot;\r\n\r\n---\r\n\r\nSo is there any other general method which can work on all manufacturer mobiles?\r\n\r\nRead so many posts and did lot of search but Many tell there is no such generic solution which is applicable for all launchers.&lt;br&gt;\r\nBut I feel there is a solution because whatsapp and facebook app display the badge number in all the above mentioned launcher.\r\n","title":"Android Badge number on launcher icon for all mobile manufacturer","body":"<p>I need a badge counter on my application launcher icon.</p>\n\n<p>I know the solution to get Badge counter inside the app, using TextView, But I need a solution to get the badge counter external to the app on the launcher icon.</p>\n\n<hr>\n\n<p>In iOS we get the badge number count by</p>\n\n<pre><code>UIApplication.sharedApplication().applicationIconBadgeNumber\n</code></pre>\n\n<p>I am wondering why Android has not included anything like this with their SDK which every developer need.</p>\n\n<hr>\n\n<p>Try 1 : Working only on sony mobiiles :</p>\n\n<pre><code>    Intent badgeIntent = new Intent();\n    badgeIntent.setAction(\"com.sonyericsson.home.action.UPDATE_BADGE\");\n    badgeIntent.putExtra(\"com.sonyericsson.home.intent.extra.badge.PACKAGE_NAME\", this.getPackageName());\n    badgeIntent.putExtra(\"com.sonyericsson.home.intent.extra.badge.ACTIVITY_NAME\", this.getClass().getName());\n    badgeIntent.putExtra(\"com.sonyericsson.home.intent.extra.badge.SHOW_MESSAGE\", ShwMsgBulVar);\n    badgeIntent.putExtra(\"com.sonyericsson.home.intent.extra.badge.MESSAGE\", \"10\");\n\n     context.sendBroadcast(badgeIntent);\n</code></pre>\n\n<hr>\n\n<p>Try 2 : \nI tried the library :\n<a href=\"https://github.com/leolin310148/ShortcutBadger\" rel=\"noreferrer\">https://github.com/leolin310148/ShortcutBadger</a></p>\n\n<p>It works only for few manufacturers and not common for all android mobiles.</p>\n\n<p>ShortCutBadger is not working on OPPO, VIVO, Xiomi, Reliance LYF default launchers.</p>\n\n<p>After couple of research, I came to know that, badge number depends on launcher manufacturer and listed as below :</p>\n\n<blockquote>\n  <p>ShortCutBadger Suported :</p>\n</blockquote>\n\n<ul>\n<li>Samsung : \"com.sec.android.app.launcher\"</li>\n<li>Sony : \"com.sonyericsson.home\"</li>\n<li>HTC : \"com.htc.launcher\"</li>\n<li>Asus : \"com.asus.launcher\"</li>\n</ul>\n\n<blockquote>\n  <p>ShortCutBadger not Suported :</p>\n</blockquote>\n\n<ul>\n<li>Oppo :\"com.oppo.launcher\"</li>\n<li>Xiomi : \"com.miui.home\"</li>\n<li>Vivo : \"com.bbk.launcher2\"</li>\n<li>Lyf : \"com.android.launcher3\"</li>\n<li>Go Launcher : \"com.gau.go.launcherex\"</li>\n</ul>\n\n<hr>\n\n<p>So is there any other general method which can work on all manufacturer mobiles?</p>\n\n<p>Read so many posts and did lot of search but Many tell there is no such generic solution which is applicable for all launchers.<br>\nBut I feel there is a solution because whatsapp and facebook app display the badge number in all the above mentioned launcher.</p>\n"},{"tags":["java","port","tomcat8"],"comments":[{"owner":{"account_id":6850603,"reputation":85,"user_id":5267892,"display_name":"Lennier"},"score":0,"creation_date":1537872214,"post_id":52496177,"comment_id":91932920,"body_markdown":"If you want to ALWAYS use HTTPS, you can use HSTS header to force clients to use HTTPS only. See https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security","body":"If you want to ALWAYS use HTTPS, you can use HSTS header to force clients to use HTTPS only. See <a href=\"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/HTTP_Strict_Transport_Security</a>"},{"owner":{"account_id":2887220,"reputation":2184,"user_id":2476774,"display_name":"Afaq Ahmed Khan"},"score":0,"creation_date":1537872432,"post_id":52496177,"comment_id":91933039,"body_markdown":"this post might be helpful for you, I think this is similar to what you are asking https://stackoverflow.com/questions/33208796/redirect-http-to-httpsport-in-tomcat","body":"this post might be helpful for you, I think this is similar to what you are asking <a href=\"https://stackoverflow.com/questions/33208796/redirect-http-to-httpsport-in-tomcat\" title=\"redirect http to httpsport in tomcat\">stackoverflow.com/questions/33208796/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537872181,"creation_date":1537872181,"answer_id":52496268,"question_id":52496177,"body_markdown":"Have you tried it?\r\n\r\n    &lt;security-constraint&gt;\r\n    &lt;web-resource-collection&gt;\r\n    &lt;web-resource-name&gt;Entire Application&lt;/web-resource-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/web-resource-collection&gt;\r\n    &lt;user-data-constraint&gt;\r\n    &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n    &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;","title":"Redirecting http to https when http port is blocked","body":"<p>Have you tried it?</p>\n\n<pre><code>&lt;security-constraint&gt;\n&lt;web-resource-collection&gt;\n&lt;web-resource-name&gt;Entire Application&lt;/web-resource-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/web-resource-collection&gt;\n&lt;user-data-constraint&gt;\n&lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n&lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653486249,"creation_date":1537872420,"answer_id":52496335,"question_id":52496177,"body_markdown":"&gt;  Is there any way to make HTTPS redirection to work when HTTP port is blocked?\r\n\r\nI presume you mean blocked by a firewall in the server, or in front of it.\r\n\r\nBasically, the answer is No.\r\n\r\nIn order for any form of HTTP redirection to work within the server, the server must be capable of getting the incoming connection HTTP request on port 80.   (It would then send a 3xx response to tell the browser to try again with a different URL.  That URL would be an HTTPS URL.)\r\n\r\nIf the HTTP request is blocked before the server gets it, naturally it can&#39;t do anything.\r\n\r\nFurthermore, if you tried to do something clever like mapping port 80 to port 443 in the firewall, you would end up sending an HTTP request to an HTTPS server port.  That would fail, because the HTTPS server is expecting the SSL / TLS negotiation stuff.  It would probably just close the connection.\r\n\r\nIf you really need to support this, you would need to implement an HTTP / HTTPS proxy in front of the server, and have that send the redirect back to the user&#39;s browser.   But this is kind of silly.  \r\n\r\nIf you really want to force people to use HTTPS, do one of the following:\r\n\r\n   - Get the network admins to open port 80 on the server and implement 3xx redirecting in the server the normal way.\r\n   - Keep port 80 closed on the server and don&#39;t publish http:// URLs.  If some user tries to use an http:// URL they would get either &quot;Connection Refused&quot; or &quot;Connection Timed Out&quot; ... or however the browser chooses to describe these scenarios to users.\r\n\r\nIf you are trying to evade a network block by admins who are not being helpful, I would advise not bothering.  They presumably have their reasons.\r\n\r\n","title":"Redirecting http to https when http port is blocked","body":"<blockquote>\n<p>Is there any way to make HTTPS redirection to work when HTTP port is blocked?</p>\n</blockquote>\n<p>I presume you mean blocked by a firewall in the server, or in front of it.</p>\n<p>Basically, the answer is No.</p>\n<p>In order for any form of HTTP redirection to work within the server, the server must be capable of getting the incoming connection HTTP request on port 80.   (It would then send a 3xx response to tell the browser to try again with a different URL.  That URL would be an HTTPS URL.)</p>\n<p>If the HTTP request is blocked before the server gets it, naturally it can't do anything.</p>\n<p>Furthermore, if you tried to do something clever like mapping port 80 to port 443 in the firewall, you would end up sending an HTTP request to an HTTPS server port.  That would fail, because the HTTPS server is expecting the SSL / TLS negotiation stuff.  It would probably just close the connection.</p>\n<p>If you really need to support this, you would need to implement an HTTP / HTTPS proxy in front of the server, and have that send the redirect back to the user's browser.   But this is kind of silly.</p>\n<p>If you really want to force people to use HTTPS, do one of the following:</p>\n<ul>\n<li>Get the network admins to open port 80 on the server and implement 3xx redirecting in the server the normal way.</li>\n<li>Keep port 80 closed on the server and don't publish http:// URLs.  If some user tries to use an http:// URL they would get either &quot;Connection Refused&quot; or &quot;Connection Timed Out&quot; ... or however the browser chooses to describe these scenarios to users.</li>\n</ul>\n<p>If you are trying to evade a network block by admins who are not being helpful, I would advise not bothering.  They presumably have their reasons.</p>\n"}],"owner":{"account_id":5672800,"reputation":21,"user_id":4486969,"accept_rate":0,"display_name":"ANITI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653486249,"creation_date":1537871895,"question_id":52496177,"body_markdown":"We have a java web application running in Apache Tomact 8.0.36.\r\nHTTP port 80 is configured and HTTPS port 443 is configured. Redirection to HTTPS is configured in  web.xml as below and it worked fine:\r\n\r\n                     &lt;security-constraint&gt;\r\n                             &lt;web-resource-collection&gt;\r\n                             &lt;web-resource-name&gt;restricted methods&lt;/web-resource-name&gt;\r\n                                 &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n                                 &lt;http-method&gt;OPTIONS&lt;/http-method&gt;\r\n                                 &lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n                                 &lt;http-method&gt;TRACE&lt;/http-method&gt;\r\n                              &lt;/web-resource-collection&gt;\r\n                              &lt;auth-constraint/&gt;\r\n                    &lt;/security-constraint&gt;\r\n\r\nNow, port 80 has been blocked in the server where the application deployed and redirection to HTTPS is not happening .\r\nIs there any way to make HTTPS redirection to work when HTTP port is blocked?","title":"Redirecting http to https when http port is blocked","body":"<p>We have a java web application running in Apache Tomact 8.0.36.\nHTTP port 80 is configured and HTTPS port 443 is configured. Redirection to HTTPS is configured in  web.xml as below and it worked fine:</p>\n\n<pre><code>                 &lt;security-constraint&gt;\n                         &lt;web-resource-collection&gt;\n                         &lt;web-resource-name&gt;restricted methods&lt;/web-resource-name&gt;\n                             &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n                             &lt;http-method&gt;OPTIONS&lt;/http-method&gt;\n                             &lt;http-method&gt;DELETE&lt;/http-method&gt;\n                             &lt;http-method&gt;TRACE&lt;/http-method&gt;\n                          &lt;/web-resource-collection&gt;\n                          &lt;auth-constraint/&gt;\n                &lt;/security-constraint&gt;\n</code></pre>\n\n<p>Now, port 80 has been blocked in the server where the application deployed and redirection to HTTPS is not happening .\nIs there any way to make HTTPS redirection to work when HTTP port is blocked?</p>\n"},{"tags":["java","byte-buddy","bytecode-manipulation"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1653420450,"post_id":72364303,"comment_id":127847529,"body_markdown":"The JVM has no concept of unloading classes. What makes you assume you managed to unload it? Or do you simply mean that the class was not loaded yet? Either way, your assumption seems to be wrong. Obviously, despite your contrary expectation, it was loaded already.","body":"The JVM has no concept of unloading classes. What makes you assume you managed to unload it? Or do you simply mean that the class was not loaded yet? Either way, your assumption seems to be wrong. Obviously, despite your contrary expectation, it was loaded already."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653472066,"post_id":72364303,"comment_id":127858768,"body_markdown":"@kriegaex my interpretation is the OP means “not yet loaded” and the posted code has been invoked with `MyApplication` as main class, so no other code than shown (which only consists of calls into ByteBuddy) should be executed. So the question is, what did load the `foo.Bar` class.","body":"@kriegaex my interpretation is the OP means “not yet loaded” and the posted code has been invoked with <code>MyApplication</code> as main class, so no other code than shown (which only consists of calls into ByteBuddy) should be executed. So the question is, what did load the <code>foo.Bar</code> class."},{"owner":{"account_id":12891379,"reputation":11,"user_id":9323254,"display_name":"user9323254"},"score":0,"creation_date":1653494246,"post_id":72364303,"comment_id":127867878,"body_markdown":"Yes, @Holger is right. I meant a class that is not loaded yet.","body":"Yes, @Holger is right. I meant a class that is not loaded yet."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653486145,"creation_date":1653486145,"answer_id":72378765,"question_id":72364303,"body_markdown":"You are using a default class loading strategy which is one without use of Unsafe, but one that is creating a new class loader as a child of the supplied loader. This new loader will query its parent - the system class loader - first, which then loads `Foo`. After `Foo` is defined, it cannot be defined once again in the new child.\r\n\r\nYou can avoid this by injecting the class using an injection-based strategy like `ClassLoadingStrategy.Default.INJECTION` or a lookup-based one (`ClassLoadingStrategy.UsingLookup`). This way, no child loader is created but the altered class is injected into the system loader. Or you can disable querying the child loader by using `ClassLoadingStrategy.Default.CHILD_FIRST` where any regular reference to `Foo` in the reminder of the program will however load the original class in addition.","title":"Redefining an unloaded class with ByteBuddy","body":"<p>You are using a default class loading strategy which is one without use of Unsafe, but one that is creating a new class loader as a child of the supplied loader. This new loader will query its parent - the system class loader - first, which then loads <code>Foo</code>. After <code>Foo</code> is defined, it cannot be defined once again in the new child.</p>\n<p>You can avoid this by injecting the class using an injection-based strategy like <code>ClassLoadingStrategy.Default.INJECTION</code> or a lookup-based one (<code>ClassLoadingStrategy.UsingLookup</code>). This way, no child loader is created but the altered class is injected into the system loader. Or you can disable querying the child loader by using <code>ClassLoadingStrategy.Default.CHILD_FIRST</code> where any regular reference to <code>Foo</code> in the reminder of the program will however load the original class in addition.</p>\n"}],"owner":{"account_id":12891379,"reputation":11,"user_id":9323254,"display_name":"user9323254"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653486145,"creation_date":1653400853,"question_id":72364303,"body_markdown":"I am trying to redefine an unloaded class and get java.lang.IllegalStateException: Class already loaded. The code is taken straight from the tutorial, only had to append &quot;getLoaded()&quot; for it to compile, see below. ByteBuddy version is the latest available 1.12.10, Java version 1.8.0_202. I tried a few other JVMs too getting same results. \r\n\r\nI see that ByteArrayClassLoader is loading the class using Launcher$AppClassLoader instead of self. This causes the exception. \r\n\r\nWhat do I need to make it work?\r\n\r\nThank you  \r\n\r\n    class MyApplication  {\r\n        public static void main(String[] args) throws Exception {\r\n            TypePool typePool = TypePool.Default.ofSystemLoader();\r\n            Class bar = new ByteBuddy()\r\n              .redefine(typePool.describe(&quot;foo.Bar&quot;).resolve(), // do not use &#39;Bar.class&#39;\r\n                        ClassFileLocator.ForClassLoader.ofSystemLoader())\r\n              .defineField(&quot;qux&quot;, String.class) // we learn more about defining fields later\r\n              .make()\r\n              .load(ClassLoader.getSystemClassLoader()) .getLoaded();\r\n            assertThat(bar.getDeclaredField(&quot;qux&quot;), notNullValue());\r\n        }\r\n    }\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Class already loaded: class foo.Bar\r\n    \tat net.bytebuddy.dynamic.loading.ByteArrayClassLoader.load(ByteArrayClassLoader.java:362)\r\n    \tat net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$WrappingDispatcher.load(ClassLoadingStrategy.java:367)\r\n    \tat net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default.load(ClassLoadingStrategy.java:148)\r\n    \tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:101)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\r\n    \tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\r\n    \tat MyApplication.main(UnloadedTest.java:17)","title":"Redefining an unloaded class with ByteBuddy","body":"<p>I am trying to redefine an unloaded class and get java.lang.IllegalStateException: Class already loaded. The code is taken straight from the tutorial, only had to append &quot;getLoaded()&quot; for it to compile, see below. ByteBuddy version is the latest available 1.12.10, Java version 1.8.0_202. I tried a few other JVMs too getting same results.</p>\n<p>I see that ByteArrayClassLoader is loading the class using Launcher$AppClassLoader instead of self. This causes the exception.</p>\n<p>What do I need to make it work?</p>\n<p>Thank you</p>\n<pre><code>class MyApplication  {\n    public static void main(String[] args) throws Exception {\n        TypePool typePool = TypePool.Default.ofSystemLoader();\n        Class bar = new ByteBuddy()\n          .redefine(typePool.describe(&quot;foo.Bar&quot;).resolve(), // do not use 'Bar.class'\n                    ClassFileLocator.ForClassLoader.ofSystemLoader())\n          .defineField(&quot;qux&quot;, String.class) // we learn more about defining fields later\n          .make()\n          .load(ClassLoader.getSystemClassLoader()) .getLoaded();\n        assertThat(bar.getDeclaredField(&quot;qux&quot;), notNullValue());\n    }\n}\n\nException in thread &quot;main&quot; java.lang.IllegalStateException: Class already loaded: class foo.Bar\n    at net.bytebuddy.dynamic.loading.ByteArrayClassLoader.load(ByteArrayClassLoader.java:362)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$WrappingDispatcher.load(ClassLoadingStrategy.java:367)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default.load(ClassLoadingStrategy.java:148)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:101)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n    at MyApplication.main(UnloadedTest.java:17)\n</code></pre>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":4589604,"reputation":67,"user_id":3723314,"accept_rate":0,"display_name":"user3723314"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1403144884,"creation_date":1403099932,"answer_id":24287571,"question_id":20826331,"body_markdown":"Order has nothing to do with the inheritance of the class.\r\n\r\nYou can try to set the priority attribute on the `@Test` annotation. If no parameters are set in the annotation, they run in an alphabetical order.\r\n\r\nYou also set a prefix to the methods according to the order you want them to run (e.g. `01_method1()`, `02_method2()`).","title":"@BeforeMethod and inheritance - order of execution (TestNG)","body":"<p>Order has nothing to do with the inheritance of the class.</p>\n\n<p>You can try to set the priority attribute on the <code>@Test</code> annotation. If no parameters are set in the annotation, they run in an alphabetical order.</p>\n\n<p>You also set a prefix to the methods according to the order you want them to run (e.g. <code>01_method1()</code>, <code>02_method2()</code>).</p>\n"},{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1573994777,"creation_date":1440605938,"answer_id":32231771,"question_id":20826331,"body_markdown":"As explained in the other answers, TestNG will consider inheritance for execution order.\r\n\r\nIf you prefer to make the order of the &quot;Before&quot; methods explicit, you can also  have the child simply call the parent setup.\r\n\r\n    public class ChildTest extends ParentTest {\r\n\r\n        @BeforeMethod\r\n        public void setup() {\r\n           super.setup();\r\n           // Child setup code follows here.\r\n        }\r\n    }\r\n\r\n    public class ParentTest {\r\n        @BeforeMethod // Only need if test will ever be invoked directly\r\n        public void setup() {\r\n          // Parent setup goes here.\r\n        }\r\n    }\r\n","title":"@BeforeMethod and inheritance - order of execution (TestNG)","body":"<p>As explained in the other answers, TestNG will consider inheritance for execution order.</p>\n\n<p>If you prefer to make the order of the \"Before\" methods explicit, you can also  have the child simply call the parent setup.</p>\n\n<pre><code>public class ChildTest extends ParentTest {\n\n    @BeforeMethod\n    public void setup() {\n       super.setup();\n       // Child setup code follows here.\n    }\n}\n\npublic class ParentTest {\n    @BeforeMethod // Only need if test will ever be invoked directly\n    public void setup() {\n      // Parent setup goes here.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1494589336,"creation_date":1476084443,"answer_id":39953202,"question_id":20826331,"body_markdown":"&gt; If I have class A and a class B extends A and both have one @BeforeMethod method, then will the parent&#39;s (A) run before the child&#39;s (B) [...]\r\n\r\nYes, they will.\r\n\r\n`@BeforeMethod` methods will run in inheritance order - the highest superclass first, then going down the inheritance chain. `@AfterMethod` methods run in reverse order (up the inheritance chain).\r\n\r\nNote, however, that the ordering of multiple annotated methods *within one class* is not guaranteed (so it&#39;s best to avoid that).\r\n\r\n----\r\n\r\nReading the code, this seems to have been the case in all versions of TestNG, however it was only documented in October 2016:\r\n\r\n&gt; The annotations above will also be honored (inherited) when placed on\r\n&gt; a superclass of a TestNG class. This is useful for example to\r\n&gt; centralize test setup for multiple test classes in a common\r\n&gt; superclass.\r\n&gt; \r\n&gt; In that case, TestNG guarantees that the &quot;@Before&quot; methods are\r\n&gt; executed in inheritance order (highest superclass first, then going\r\n&gt; down the inheritance chain), and the &quot;@After&quot; methods in reverse order\r\n&gt; (going up the inheritance chain).\r\n\r\nSee [documentation-main.html](https://github.com/cbeust/testng/blob/master/docs/documentation-main.html) on GitHub, or the [online documentation](http://testng.org/doc/documentation-main.html#annotations).\r\n\r\n*Disclaimer: It was me who wrote and submitted this addition to the docs.*","title":"@BeforeMethod and inheritance - order of execution (TestNG)","body":"<blockquote>\n  <p>If I have class A and a class B extends A and both have one @BeforeMethod method, then will the parent's (A) run before the child's (B) [...]</p>\n</blockquote>\n\n<p>Yes, they will.</p>\n\n<p><code>@BeforeMethod</code> methods will run in inheritance order - the highest superclass first, then going down the inheritance chain. <code>@AfterMethod</code> methods run in reverse order (up the inheritance chain).</p>\n\n<p>Note, however, that the ordering of multiple annotated methods <em>within one class</em> is not guaranteed (so it's best to avoid that).</p>\n\n<hr>\n\n<p>Reading the code, this seems to have been the case in all versions of TestNG, however it was only documented in October 2016:</p>\n\n<blockquote>\n  <p>The annotations above will also be honored (inherited) when placed on\n  a superclass of a TestNG class. This is useful for example to\n  centralize test setup for multiple test classes in a common\n  superclass.</p>\n  \n  <p>In that case, TestNG guarantees that the \"@Before\" methods are\n  executed in inheritance order (highest superclass first, then going\n  down the inheritance chain), and the \"@After\" methods in reverse order\n  (going up the inheritance chain).</p>\n</blockquote>\n\n<p>See <a href=\"https://github.com/cbeust/testng/blob/master/docs/documentation-main.html\" rel=\"noreferrer\">documentation-main.html</a> on GitHub, or the <a href=\"http://testng.org/doc/documentation-main.html#annotations\" rel=\"noreferrer\">online documentation</a>.</p>\n\n<p><em>Disclaimer: It was me who wrote and submitted this addition to the docs.</em></p>\n"}],"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10088,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":39953202,"answer_count":3,"score":17,"last_activity_date":1653486086,"creation_date":1388328420,"question_id":20826331,"body_markdown":"My question is basically the same as [this SOF question][1], but deals with `@BeforeMethod` instead of `@BeforeClass` for TestNG.\r\n\r\nDoes test class inheritance play a factor when determining the order that `@BeforeMethod` annotated methods will execute? If I have class A and a class B extends A and both have one `@BeforeMethod` method, then will the parent&#39;s (A) run before the child&#39;s (B) or will the child&#39;s run before the parent, or does the order depend on some other factor such as alphabetical order of the method name. I&#39;m trying to see if there is an inheritance order that I can rely on instead of having to use parameters of the annotation such as dependsOnMethods.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2132734/beforeclass-and-inheritance-order-of-execution","title":"@BeforeMethod and inheritance - order of execution (TestNG)","body":"<p>My question is basically the same as <a href=\"https://stackoverflow.com/questions/2132734/beforeclass-and-inheritance-order-of-execution\">this SOF question</a>, but deals with <code>@BeforeMethod</code> instead of <code>@BeforeClass</code> for TestNG.</p>\n\n<p>Does test class inheritance play a factor when determining the order that <code>@BeforeMethod</code> annotated methods will execute? If I have class A and a class B extends A and both have one <code>@BeforeMethod</code> method, then will the parent's (A) run before the child's (B) or will the child's run before the parent, or does the order depend on some other factor such as alphabetical order of the method name. I'm trying to see if there is an inheritance order that I can rely on instead of having to use parameters of the annotation such as dependsOnMethods.</p>\n"},{"tags":["java","spring","spring-boot","classpath","component-scan"],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653486061,"creation_date":1587091574,"answer_id":61263316,"question_id":61261967,"body_markdown":"You are able to see all the beans that were created or rejected in Springboot along with the reasons for their creation and rejection.\r\n\r\nList of beans in application context is provided by `ConditionEvaluationReportLoggingListener`\r\n\r\nTo print those beans: put this in application.properties `logging.level.org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener=debug\r\n`\r\n\r\nI am unable to find which package `ConfigurationReportLoggingInitializer` sits in because that&#39;s the class that&#39;s responsible for printing beans in Springboot version 1.5.9. The work around is to provide following properties: `logging.level.root=debug`. And then CTRL + F `ConfigurationReportLoggingInitializer`. \r\n","title":"How to see the list of classpath scanned by @ComponentScan to resolve NoSuchBeanDefinitionException","body":"<p>You are able to see all the beans that were created or rejected in Springboot along with the reasons for their creation and rejection.</p>\n<p>List of beans in application context is provided by <code>ConditionEvaluationReportLoggingListener</code></p>\n<p>To print those beans: put this in application.properties <code>logging.level.org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener=debug </code></p>\n<p>I am unable to find which package <code>ConfigurationReportLoggingInitializer</code> sits in because that's the class that's responsible for printing beans in Springboot version 1.5.9. The work around is to provide following properties: <code>logging.level.root=debug</code>. And then CTRL + F <code>ConfigurationReportLoggingInitializer</code>.</p>\n"}],"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61263316,"answer_count":1,"score":2,"last_activity_date":1653486061,"creation_date":1587080893,"question_id":61261967,"body_markdown":"In a Spring boot 1.5.9 application, I have `@SpringBootApplication` on my main class.\r\n\r\nI also have `@KopaxgroupApi` annotation, with :\r\n\r\n```java\r\n@Retention(RUNTIME)\r\n@Target(TYPE)\r\n@Import(KopaxgroupApiConfig.class)\r\npublic @interface KopaxgroupApi {\r\n\r\n    @AliasFor(annotation = Import.class, attribute = &quot;value&quot;)\r\n    Class&lt;?&gt;[] value() default { KopaxgroupApiConfig.class };\r\n}\r\n```\r\n\r\nWith `KopaxgroupApiConfig.class` being:\r\n\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = { KopaxgroupApiConfig.CLASSPATH })\r\npublic class KopaxgroupApiConfig {\r\n    public static final String CLASSPATH = &quot;com.kopaxgroup.api&quot;;\r\n}\r\n```\r\n\r\nI have created a new project within `com.kopaxgroup.api.customerManagement.callMeBack` and there I have repository and service stored in respectively in directories `repository` and `service`.\r\n\r\nThe `CallMeBackServiceImpl` cannot find the `CallMeBackRepository`.\r\n\r\nI am having the following error on startup:\r\n\r\n```\r\nApplication failed to start due to an exception\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\r\n\r\nParameter 0 of constructor in com.kopaxgroup.api.customerManagement.callMeBack.service.impl.CallMeBackServiceImpl required a bean of type &#39;com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository&#39; in your configuration.\r\n```\r\nI have tried to move `CallMeBackRepository` into `com.kopaxgroup.api.customerManagement.callMeBack.service.impl` but the error staid.\r\n\r\nI have some similar package and they all can boot, I don&#39;t see any difference on the configuration.\r\n\r\nThis happen when creating a new jar.\r\n\r\nI have added a bunch of `@ComponentScan` but I couldn&#39;t solve it, how can I dig further and see the list of classpath used during `@ComponentScan(&quot;com.kopaxgroup.api&quot;)` ?","title":"How to see the list of classpath scanned by @ComponentScan to resolve NoSuchBeanDefinitionException","body":"<p>In a Spring boot 1.5.9 application, I have <code>@SpringBootApplication</code> on my main class.</p>\n\n<p>I also have <code>@KopaxgroupApi</code> annotation, with :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RUNTIME)\n@Target(TYPE)\n@Import(KopaxgroupApiConfig.class)\npublic @interface KopaxgroupApi {\n\n    @AliasFor(annotation = Import.class, attribute = \"value\")\n    Class&lt;?&gt;[] value() default { KopaxgroupApiConfig.class };\n}\n</code></pre>\n\n<p>With <code>KopaxgroupApiConfig.class</code> being:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = { KopaxgroupApiConfig.CLASSPATH })\npublic class KopaxgroupApiConfig {\n    public static final String CLASSPATH = \"com.kopaxgroup.api\";\n}\n</code></pre>\n\n<p>I have created a new project within <code>com.kopaxgroup.api.customerManagement.callMeBack</code> and there I have repository and service stored in respectively in directories <code>repository</code> and <code>service</code>.</p>\n\n<p>The <code>CallMeBackServiceImpl</code> cannot find the <code>CallMeBackRepository</code>.</p>\n\n<p>I am having the following error on startup:</p>\n\n<pre><code>Application failed to start due to an exception\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\n\nParameter 0 of constructor in com.kopaxgroup.api.customerManagement.callMeBack.service.impl.CallMeBackServiceImpl required a bean of type 'com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.kopaxgroup.api.customerManagement.callMeBack.repository.CallMeBackRepository' in your configuration.\n</code></pre>\n\n<p>I have tried to move <code>CallMeBackRepository</code> into <code>com.kopaxgroup.api.customerManagement.callMeBack.service.impl</code> but the error staid.</p>\n\n<p>I have some similar package and they all can boot, I don't see any difference on the configuration.</p>\n\n<p>This happen when creating a new jar.</p>\n\n<p>I have added a bunch of <code>@ComponentScan</code> but I couldn't solve it, how can I dig further and see the list of classpath used during <code>@ComponentScan(\"com.kopaxgroup.api\")</code> ?</p>\n"},{"tags":["java","android"],"owner":{"account_id":22493873,"reputation":13,"user_id":16691221,"display_name":"sidharth P.L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1653486028,"creation_date":1653484218,"question_id":72378285,"body_markdown":"I&#39;m building an android app which has to play music on JcPlayer. And I would like to load the songs onto a ListView. But the Library documentation hasn&#39;t mentioned anything about this. This is the [JcPlayer Library][1]. Thanks in advance.\r\n\r\n\r\n  [1]: https://github.com/jeancsanchez/JcPlayer","title":"How to play songs from ListView in JcPlayer","body":"<p>I'm building an android app which has to play music on JcPlayer. And I would like to load the songs onto a ListView. But the Library documentation hasn't mentioned anything about this. This is the <a href=\"https://github.com/jeancsanchez/JcPlayer\" rel=\"nofollow noreferrer\">JcPlayer Library</a>. Thanks in advance.</p>\n"},{"tags":["java","eclipse","eclipse-emf","ecore"],"answers":[{"tags":[],"owner":{"account_id":18229687,"reputation":51,"user_id":13268867,"display_name":"Panagiotis Kourouklidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653485526,"creation_date":1653485526,"answer_id":72378605,"question_id":71554145,"body_markdown":"The scenario that you present touches on an important aspect of EMF and model-driven engineering in general, model validation.\r\n\r\nModel validation, as the name suggests, is the process of checking whether a model is valid or not. EMF provides a convenient mechanism for this that can help you keep implementation complexity under control.\r\n\r\nEMF defines two concepts related to model validation, invariants and constraints.\r\n\r\nInvariants are assertions about your models that must be true at all times, whereas constraints are assertions about your models that must be true at some point in time (before executing a certain process perhaps). I cannot tell from your question whether you would like to check product quantities only before shipping for example or constantly check them. It is an application-specific decision that is up to you. I will explain invariants below.\r\n\r\nIn terms of Ecore model, invariants are defined as operations of the class whose instances you are validating. Here for example for the class OrderItem, you would add an Operation (named checkProduct quantity for example). Operations that represent invariants need to return EBoolean and accept two arguments, one EDiagnosticChain and one EMap argument.\r\n\r\nOnce you add the above to your Ecore model, the EMF generator will detect that you want to define an invariant and will generate a specific method, as well as a utility class YourDSLValidator. You need to manually modify the generated method based on the things you are validating. For example here, you would have something like the following.\r\n\r\n    /**\r\n\t * &lt;!-- begin-user-doc --&gt;\r\n\t * &lt;!-- end-user-doc --&gt;\r\n\t * @generated\r\n\t */\r\n\tpublic boolean checkProductQuantities(DiagnosticChain diagnostics, Map&lt;?, ?&gt; context) {\r\n\t\t// TODO: implement this method\r\n\t\t// -&gt; specify the condition that violates the invariant\r\n\t\t// -&gt; verify the details of the diagnostic, including severity and message\r\n\t\t// Ensure that you remove @generated or mark it @generated NOT\r\n\t\tif (false) {\r\n\t\t\tif (diagnostics != null) {\r\n\t\t\t\tdiagnostics.add\r\n\t\t\t\t\t(new BasicDiagnostic\r\n\t\t\t\t\t\t(Diagnostic.ERROR,\r\n\t\t\t\t\t\t PanoptesDSLValidator.DIAGNOSTIC_SOURCE,\r\n\t\t\t\t\t\t PanoptesDSLValidator.BASE_ALGORITHM_EXECUTION__CHECK_PARAMETERS,\r\n\t\t\t\t\t\t EcorePlugin.INSTANCE.getString(&quot;_UI_GenericInvariant_diagnostic&quot;, new Object[] { &quot;checkParameters&quot;, EObjectValidator.getObjectLabel(this, context) }),\r\n\t\t\t\t\t\t new Object [] { this }));\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n You would then basically modify the `if(false)` part to `if(this.quantity &lt; this.OrderItem.getQuantity)`\r\n\r\nWith the above you can now validate your models programmatically but also validate them inside the generated eclipse editor.\r\n\r\nThere are a lot of extra functionality that EMF provides. If you would like to find out more about EMF internals, I would definitely recommend the EMF book https://www.informit.com/store/emf-eclipse-modeling-framework-9780321331885 as it has a lot of information that is not available with a simple google search. ","title":"EMF: How to set values for attributes of a Class?","body":"<p>The scenario that you present touches on an important aspect of EMF and model-driven engineering in general, model validation.</p>\n<p>Model validation, as the name suggests, is the process of checking whether a model is valid or not. EMF provides a convenient mechanism for this that can help you keep implementation complexity under control.</p>\n<p>EMF defines two concepts related to model validation, invariants and constraints.</p>\n<p>Invariants are assertions about your models that must be true at all times, whereas constraints are assertions about your models that must be true at some point in time (before executing a certain process perhaps). I cannot tell from your question whether you would like to check product quantities only before shipping for example or constantly check them. It is an application-specific decision that is up to you. I will explain invariants below.</p>\n<p>In terms of Ecore model, invariants are defined as operations of the class whose instances you are validating. Here for example for the class OrderItem, you would add an Operation (named checkProduct quantity for example). Operations that represent invariants need to return EBoolean and accept two arguments, one EDiagnosticChain and one EMap argument.</p>\n<p>Once you add the above to your Ecore model, the EMF generator will detect that you want to define an invariant and will generate a specific method, as well as a utility class YourDSLValidator. You need to manually modify the generated method based on the things you are validating. For example here, you would have something like the following.</p>\n<pre><code>/**\n * &lt;!-- begin-user-doc --&gt;\n * &lt;!-- end-user-doc --&gt;\n * @generated\n */\npublic boolean checkProductQuantities(DiagnosticChain diagnostics, Map&lt;?, ?&gt; context) {\n    // TODO: implement this method\n    // -&gt; specify the condition that violates the invariant\n    // -&gt; verify the details of the diagnostic, including severity and message\n    // Ensure that you remove @generated or mark it @generated NOT\n    if (false) {\n        if (diagnostics != null) {\n            diagnostics.add\n                (new BasicDiagnostic\n                    (Diagnostic.ERROR,\n                     PanoptesDSLValidator.DIAGNOSTIC_SOURCE,\n                     PanoptesDSLValidator.BASE_ALGORITHM_EXECUTION__CHECK_PARAMETERS,\n                     EcorePlugin.INSTANCE.getString(&quot;_UI_GenericInvariant_diagnostic&quot;, new Object[] { &quot;checkParameters&quot;, EObjectValidator.getObjectLabel(this, context) }),\n                     new Object [] { this }));\n        }\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>You would then basically modify the <code>if(false)</code> part to <code>if(this.quantity &lt; this.OrderItem.getQuantity)</code></p>\n<p>With the above you can now validate your models programmatically but also validate them inside the generated eclipse editor.</p>\n<p>There are a lot of extra functionality that EMF provides. If you would like to find out more about EMF internals, I would definitely recommend the EMF book <a href=\"https://www.informit.com/store/emf-eclipse-modeling-framework-9780321331885\" rel=\"nofollow noreferrer\">https://www.informit.com/store/emf-eclipse-modeling-framework-9780321331885</a> as it has a lot of information that is not available with a simple google search.</p>\n"}],"owner":{"account_id":12121117,"reputation":199,"user_id":8852522,"display_name":"H.Karatsanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653485526,"creation_date":1647847980,"question_id":71554145,"body_markdown":"I&#39;m working on a project in *EMF*, where I have created a simple order system. A part of the system is presented on the picture below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XfLEv.png\r\nSo an ```OrderItem``` object will have a reference to only one product and its price will be calculated by the ```quantity``` of ```OrderItem``` times the ```price``` of the ```Product```. The attribute ```isValid``` must be set whenever ```OrderItem.quantity``` changes, e.g. if ```Product.quantity &lt; OrderItem.quantity``` then set ```isValid=false``` else ```true```.\r\n\r\nMy question is how can I achieve this, so when I am creating an instance of the model using the Editor or changing some instance variable, dependent variables are updated automatically? (Should I rewrite the generated code? Should I override the ```set()``` method using ```Annotation```? Should I use *AQL* or *Services*?) Thank you!","title":"EMF: How to set values for attributes of a Class?","body":"<p>I'm working on a project in <em>EMF</em>, where I have created a simple order system. A part of the system is presented on the picture below:</p>\n<p><a href=\"https://i.stack.imgur.com/XfLEv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XfLEv.png\" alt=\"enter image description here\" /></a></p>\n<p>So an <code>OrderItem</code> object will have a reference to only one product and its price will be calculated by the <code>quantity</code> of <code>OrderItem</code> times the <code>price</code> of the <code>Product</code>. The attribute <code>isValid</code> must be set whenever <code>OrderItem.quantity</code> changes, e.g. if <code>Product.quantity &lt; OrderItem.quantity</code> then set <code>isValid=false</code> else <code>true</code>.</p>\n<p>My question is how can I achieve this, so when I am creating an instance of the model using the Editor or changing some instance variable, dependent variables are updated automatically? (Should I rewrite the generated code? Should I override the <code>set()</code> method using <code>Annotation</code>? Should I use <em>AQL</em> or <em>Services</em>?) Thank you!</p>\n"},{"tags":["java","concurrency","parallel-processing","java-stream","java-17"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1653380154,"post_id":72359417,"comment_id":127831673,"body_markdown":"&quot;Why do you think this is happening?&quot; =&gt; Do you expect better performance? Why? Let&#39;s start with that assumption first.","body":"&quot;Why do you think this is happening?&quot; =&gt; Do you expect better performance? Why? Let&#39;s start with that assumption first."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1653380192,"post_id":72359417,"comment_id":127831690,"body_markdown":"Calling `distinct()` is a **very** expensive operation, especially when having parallel processing.","body":"Calling <code>distinct()</code> is a <b>very</b> expensive operation, especially when having parallel processing."},{"owner":{"account_id":5360981,"reputation":16,"user_id":4272241,"display_name":"Abdulaziz Almalki"},"score":0,"creation_date":1653380821,"post_id":72359417,"comment_id":127831908,"body_markdown":"@ernest_k .parallelStream should leverage muti core, shouldn&#39;t it?","body":"@ernest_k .parallelStream should leverage muti core, shouldn&#39;t it?"},{"owner":{"account_id":5360981,"reputation":16,"user_id":4272241,"display_name":"Abdulaziz Almalki"},"score":0,"creation_date":1653380866,"post_id":72359417,"comment_id":127831924,"body_markdown":"@luk2302 but I&#39;m calling it with both.","body":"@luk2302 but I&#39;m calling it with both."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1653380891,"post_id":72359417,"comment_id":127831932,"body_markdown":"I wrote: ... **especially when having parallel processing.**.","body":"I wrote: ... <b>especially when having parallel processing.</b>."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1653380929,"post_id":72359417,"comment_id":127831948,"body_markdown":"https://stackoverflow.com/questions/23170832/java-8s-streams-why-parallel-stream-is-slower","body":"<a href=\"https://stackoverflow.com/questions/23170832/java-8s-streams-why-parallel-stream-is-slower\" title=\"java 8s streams why parallel stream is slower\">stackoverflow.com/questions/23170832/&hellip;</a>"},{"owner":{"account_id":5360981,"reputation":16,"user_id":4272241,"display_name":"Abdulaziz Almalki"},"score":1,"creation_date":1653383176,"post_id":72359417,"comment_id":127832835,"body_markdown":"@luk2302 thanks for the link. I don&#39;t understand the downvote though, this is just a question!","body":"@luk2302 thanks for the link. I don&#39;t understand the downvote though, this is just a question!"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":4,"creation_date":1653391735,"post_id":72359417,"comment_id":127835956,"body_markdown":"Benchmarking in Java is pretty complex. `currentTimeMillis()` is a bad choice for measuring time `nanoTime()` would the the correct choice. Please read https://stackoverflow.com/a/38154825/150978 BTW: Posting code as screenshot is also a bad choice. How do you expect someone to reproduce your timings if the code is not available (that is my reason to downvote)?","body":"Benchmarking in Java is pretty complex. <code>currentTimeMillis()</code> is a bad choice for measuring time <code>nanoTime()</code> would the the correct choice. Please read <a href=\"https://stackoverflow.com/a/38154825/150978\">stackoverflow.com/a/38154825/150978</a> BTW: Posting code as screenshot is also a bad choice. How do you expect someone to reproduce your timings if the code is not available (that is my reason to downvote)?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653474094,"post_id":72359417,"comment_id":127859493,"body_markdown":"Considering the recognizable trend in the results, you probably shouldn’t have stopped at `1_000_000` elements. Try `10_000_000`, `100_000_000`, and `1_000_000_000`…","body":"Considering the recognizable trend in the results, you probably shouldn’t have stopped at <code>1_000_000</code> elements. Try <code>10_000_000</code>, <code>100_000_000</code>, and <code>1_000_000_000</code>…"},{"owner":{"account_id":5360981,"reputation":16,"user_id":4272241,"display_name":"Abdulaziz Almalki"},"score":0,"creation_date":1653485137,"post_id":72359417,"comment_id":127863795,"body_markdown":"@Robert I actually agree with you on the screenshot thing, changed to snippet.","body":"@Robert I actually agree with you on the screenshot thing, changed to snippet."}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653430834,"creation_date":1653401747,"answer_id":72364528,"question_id":72359417,"body_markdown":"The assumption that a parallel computation will always be faster than a serial one is dangerously wrong.  (The benchmarking methodology used in the example is also deeply problematic.)\r\n\r\nA parallel solution will always involve _more work_ than a serial one; in addition to doing the work of solving the problem, there is also task splitting, merging, dispatch, etc.  Parallelism hopes to use more cores to get to an answer faster, but it&#39;s not magic performance dust, it requires experience and understanding to know when to expect a speedup.  \r\n\r\nCertain operations parallelize better than others; the `distinct` operation is among the most challenging (and even more so when you have an ordered stream, as you do.)  \r\n\r\nThis talk:\r\n\r\n    https://www.youtube.com/watch?v=NsDE7E8sIdQ\r\n\r\noutlines some of the considerations you&#39;ll need to master in order to use parallel streams effectively, and will explain why your expectations here are unfounded.  \r\n\r\nStreams can make it easy for us to access parallelism, but they don&#39;t absolve us of the hard work of figuring out when we should use it.  You should default to sequential until you have more evidence that (a) the problem you are solving actually needs it, and (b) parallelism will actually help.\r\n\r\nThere is more detail here: https://stackoverflow.com/questions/23170832/java-8s-streams-why-parallel-stream-is-slower","title":"Why I&#39;m getting this much worse performance of list.parallelStream() compared to list.stream()?","body":"<p>The assumption that a parallel computation will always be faster than a serial one is dangerously wrong.  (The benchmarking methodology used in the example is also deeply problematic.)</p>\n<p>A parallel solution will always involve <em>more work</em> than a serial one; in addition to doing the work of solving the problem, there is also task splitting, merging, dispatch, etc.  Parallelism hopes to use more cores to get to an answer faster, but it's not magic performance dust, it requires experience and understanding to know when to expect a speedup.</p>\n<p>Certain operations parallelize better than others; the <code>distinct</code> operation is among the most challenging (and even more so when you have an ordered stream, as you do.)</p>\n<p>This talk:</p>\n<pre><code>https://www.youtube.com/watch?v=NsDE7E8sIdQ\n</code></pre>\n<p>outlines some of the considerations you'll need to master in order to use parallel streams effectively, and will explain why your expectations here are unfounded.</p>\n<p>Streams can make it easy for us to access parallelism, but they don't absolve us of the hard work of figuring out when we should use it.  You should default to sequential until you have more evidence that (a) the problem you are solving actually needs it, and (b) parallelism will actually help.</p>\n<p>There is more detail here: <a href=\"https://stackoverflow.com/questions/23170832/java-8s-streams-why-parallel-stream-is-slower\">Java 8&#39;s streams: why parallel stream is slower?</a></p>\n"}],"owner":{"account_id":5360981,"reputation":16,"user_id":4272241,"display_name":"Abdulaziz Almalki"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1653402227,"answer_count":1,"score":-4,"last_activity_date":1653485036,"creation_date":1653380080,"question_id":72359417,"body_markdown":"I&#39;m getting much **worse performance** when I use `list.parallelStream()` than when I use `list.stream()`. \r\nWhy do you think this is happening? This is **Java 17** BTW, and my **CPU is i5 of desktop class.**\r\n\r\n```import java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDate;\r\nimport java.time.Period;\r\nimport java.time.chrono.ChronoPeriod;\r\nimport java.time.chrono.HijrahChronology;\r\nimport java.time.chrono.HijrahDate;\r\nimport java.time.chrono.IsoChronology;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Random;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        int size = 1;\r\n        List&lt;Integer&gt; list = null;\r\n        long startTimeN;\r\n        long endTimeN;\r\n        long startTimeP;\r\n        long endTimeP;\r\n        long normalStreamCheckedSize;\r\n        long normalStreamTime;\r\n        long parallelStreamCheckedSize;\r\n        long parallelStreamTime;\r\n\r\n        for (int i = 1; i &lt;= 1_000_000; i *= 10) {\r\n            Random rand = new Random();\r\n            size = i;\r\n            list = Stream.generate(() -&gt; {\r\n                return rand.nextInt(10);\r\n            }).limit(size).collect(Collectors.toList());\r\n\r\n            startTimeN = System.currentTimeMillis();\r\n            normalStreamCheckedSize = list.stream().count();\r\n            endTimeN = System.currentTimeMillis();\r\n            normalStreamTime = endTimeN - startTimeN;\r\n\r\n            startTimeP = System.currentTimeMillis();\r\n            parallelStreamCheckedSize = ist.parallelStream().count();\r\n            endTimeP = System.currentTimeMillis();\r\n            parallelStreamTime = endTimeP - startTimeP;\r\n\r\n            System.out.println(&quot;Size: &quot; + size);\r\n            System.out.println(&quot;Normal time:&quot; + normalStreamTime);\r\n            System.out.println(&quot;Parallel time:&quot; + parallelStreamTime \r\n            + &quot;\\n=====&quot;);\r\n        }\r\n   }\r\n}","title":"Why I&#39;m getting this much worse performance of list.parallelStream() compared to list.stream()?","body":"<p>I'm getting much <strong>worse performance</strong> when I use <code>list.parallelStream()</code> than when I use <code>list.stream()</code>.\nWhy do you think this is happening? This is <strong>Java 17</strong> BTW, and my <strong>CPU is i5 of desktop class.</strong></p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.time.Period;\nimport java.time.chrono.ChronoPeriod;\nimport java.time.chrono.HijrahChronology;\nimport java.time.chrono.HijrahDate;\nimport java.time.chrono.IsoChronology;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Random;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class App {\n    public static void main(String[] args) throws Exception {\n        int size = 1;\n        List&lt;Integer&gt; list = null;\n        long startTimeN;\n        long endTimeN;\n        long startTimeP;\n        long endTimeP;\n        long normalStreamCheckedSize;\n        long normalStreamTime;\n        long parallelStreamCheckedSize;\n        long parallelStreamTime;\n\n        for (int i = 1; i &lt;= 1_000_000; i *= 10) {\n            Random rand = new Random();\n            size = i;\n            list = Stream.generate(() -&gt; {\n                return rand.nextInt(10);\n            }).limit(size).collect(Collectors.toList());\n\n            startTimeN = System.currentTimeMillis();\n            normalStreamCheckedSize = list.stream().count();\n            endTimeN = System.currentTimeMillis();\n            normalStreamTime = endTimeN - startTimeN;\n\n            startTimeP = System.currentTimeMillis();\n            parallelStreamCheckedSize = ist.parallelStream().count();\n            endTimeP = System.currentTimeMillis();\n            parallelStreamTime = endTimeP - startTimeP;\n\n            System.out.println(&quot;Size: &quot; + size);\n            System.out.println(&quot;Normal time:&quot; + normalStreamTime);\n            System.out.println(&quot;Parallel time:&quot; + parallelStreamTime \n            + &quot;\\n=====&quot;);\n        }\n   }\n}\n</code></pre>\n"},{"tags":["java","postgresql","debezium","cdc","debezium-engine"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1643372771,"post_id":70893602,"comment_id":125328333,"body_markdown":"PostgreSQL doesn&#39;t drop replication slots on its own.","body":"PostgreSQL doesn&#39;t drop replication slots on its own."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1643388797,"post_id":70893602,"comment_id":125334903,"body_markdown":"Is it actually dropped or does it just become invalid?","body":"Is it actually dropped or does it just become invalid?"},{"owner":{"account_id":24083194,"reputation":1,"user_id":18057596,"display_name":"abhi bajaj"},"score":0,"creation_date":1643468558,"post_id":70893602,"comment_id":125350143,"body_markdown":"It&#39;s dropping on its own. Here actually we have a 2 instance of database and when we start the application then the slot is created by one of the instance and start working. But after running some time like a day or so when I check again the slot is not present in the database. Is it because of some memory issue","body":"It&#39;s dropping on its own. Here actually we have a 2 instance of database and when we start the application then the slot is created by one of the instance and start working. But after running some time like a day or so when I check again the slot is not present in the database. Is it because of some memory issue"},{"owner":{"account_id":10692085,"reputation":116,"user_id":7870598,"display_name":"Yuri Niitsuma"},"score":0,"creation_date":1643894250,"post_id":70893602,"comment_id":125463597,"body_markdown":"Are your `slot.drop.on.stop` set to `false`?\nhttps://debezium.io/documentation/reference/1.8/connectors/postgresql.html#postgresql-property-slot-drop-on-stop","body":"Are your <code>slot.drop.on.stop</code> set to <code>false</code>? <a href=\"https://debezium.io/documentation/reference/1.8/connectors/postgresql.html#postgresql-property-slot-drop-on-stop\" rel=\"nofollow noreferrer\">debezium.io/documentation/reference/1.8/connectors/&hellip;</a>"}],"owner":{"account_id":24083194,"reputation":1,"user_id":18057596,"display_name":"abhi bajaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653484986,"creation_date":1643371973,"question_id":70893602,"body_markdown":"Here I am trying to running the embedded Debezium engine using springboot which connect to postgress database. When the service run it able to connect to the database and also create the replication slot, but after running for sometime, the replication slot drops on its own in postgres database which lead to broken connection with debezium. \r\n\r\nCan anyone let me know the reason, why replication slot drops from postgres on its own?\r\n","title":"Why postgres drops the logical replication slot own its own after running sometime?","body":"<p>Here I am trying to running the embedded Debezium engine using springboot which connect to postgress database. When the service run it able to connect to the database and also create the replication slot, but after running for sometime, the replication slot drops on its own in postgres database which lead to broken connection with debezium.</p>\n<p>Can anyone let me know the reason, why replication slot drops from postgres on its own?</p>\n"},{"tags":["java","character-encoding"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653469654,"post_id":72374727,"comment_id":127857852,"body_markdown":"What library is that? Also, `GetWindowTextW` might be more appropriate.","body":"What library is that? Also, <code>GetWindowTextW</code> might be more appropriate."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653470362,"post_id":72374727,"comment_id":127858095,"body_markdown":"Before `Native.toString` it would maybe be instructive to dump `buffer` to file with a `FileOutputStream`. Would be interesting to see the results","body":"Before <code>Native.toString</code> it would maybe be instructive to dump <code>buffer</code> to file with a <code>FileOutputStream</code>. Would be interesting to see the results"},{"owner":{"account_id":10440463,"reputation":718,"user_id":8121740,"accept_rate":50,"display_name":"丶 Limeー来夢 丶"},"score":0,"creation_date":1653470756,"post_id":72374727,"comment_id":127858246,"body_markdown":"@JohannesKuhn I could say the library is &quot;user32&quot;, I think? I think it&#39;s called through &quot;StdCallLibrary&quot; thing. I just added the additional information section to the entire script, please take a look there.","body":"@JohannesKuhn I could say the library is &quot;user32&quot;, I think? I think it&#39;s called through &quot;StdCallLibrary&quot; thing. I just added the additional information section to the entire script, please take a look there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653470988,"post_id":72374727,"comment_id":127858321,"body_markdown":"In addition to what @JohannesKuhn said, Windows is not known for its Unicode prowess, so something like `String title = new String( buffer, Charset.forName(&quot;x-MS950-HKSCS&quot;);` might be more likely","body":"In addition to what @JohannesKuhn said, Windows is not known for its Unicode prowess, so something like <code>String title = new String( buffer, Charset.forName(&quot;x-MS950-HKSCS&quot;);</code> might be more likely"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1653471115,"post_id":72374727,"comment_id":127858368,"body_markdown":"@g00se depends on the encoding that specific windows instance uses. The *W functions use unicode, which makes things a bit easier...","body":"@g00se depends on the encoding that specific windows instance uses. The *W functions use unicode, which makes things a bit easier..."},{"owner":{"account_id":10440463,"reputation":718,"user_id":8121740,"accept_rate":50,"display_name":"丶 Limeー来夢 丶"},"score":0,"creation_date":1653473130,"post_id":72374727,"comment_id":127859179,"body_markdown":"I tried the `FileOutputStream` way to see if the output in the file, it&#39;s still garbled, but not `?????`, but it says `nullnullnull`. Also tried the `Charset.forName(&quot;x-MS950-HKSCS&quot;)` way, but it didn&#39;t trick, it still shows `?????` characters.","body":"I tried the <code>FileOutputStream</code> way to see if the output in the file, it&#39;s still garbled, but not <code>?????</code>, but it says <code>nullnullnull</code>. Also tried the <code>Charset.forName(&quot;x-MS950-HKSCS&quot;)</code> way, but it didn&#39;t trick, it still shows <code>?????</code> characters."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653484846,"creation_date":1653472184,"answer_id":72375393,"question_id":72374727,"body_markdown":"The &quot;A&quot; in `GetWindowTextA` stands for ANSI, no? ANSI doesn&#39;t have those characters, hence trivially `GetWindowTextA` cannot possibly give you what you want here, and thus no amount of java code is going to fix this.\r\n\r\nYou want `GetWindowTextW`. I think that might return UTF16LE, you may have to play around a bit with trying different encodings, but at least the data you get back from windows still has what you want (vs `A` which has already deleted the chinese characters, given that ANSI does not support them).\r\n","title":"User32 GetWindowTextA with UTF-8 in Java?","body":"<p>The &quot;A&quot; in <code>GetWindowTextA</code> stands for ANSI, no? ANSI doesn't have those characters, hence trivially <code>GetWindowTextA</code> cannot possibly give you what you want here, and thus no amount of java code is going to fix this.</p>\n<p>You want <code>GetWindowTextW</code>. I think that might return UTF16LE, you may have to play around a bit with trying different encodings, but at least the data you get back from windows still has what you want (vs <code>A</code> which has already deleted the chinese characters, given that ANSI does not support them).</p>\n"}],"owner":{"account_id":10440463,"reputation":718,"user_id":8121740,"accept_rate":50,"display_name":"丶 Limeー来夢 丶"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72375393,"answer_count":1,"score":0,"last_activity_date":1653484846,"creation_date":1653469409,"question_id":72374727,"body_markdown":"\r\nThe following is intended to try to get the active window&#39;s title and stores to `title`. \r\n\r\n```java\r\nbyte[] buffer = new byte[1024];\r\nUser32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\r\nString title = Native.toString(buffer);\r\n```\r\n\r\nIn `title` it is supposed to be stored something similar to `&quot;猫の動画 - YouTube - Google Chrome&quot;`; since let&#39;s say I was opening a YouTube tab on the Chrome browser, where its title has non-alphabetical characters but UTF-8 compatible. \r\n\r\nHowever, on contrary to my expectation, `title` actually has something similar to `&quot;??????? - YouTube - Google Chrome&quot;`. \r\n\r\nI also tried some variants such as the following; But they didn&#39;t solve the garbled character issue. \r\n\r\n```java\r\nString title = new String( buffer, java.nio.charset.StandardCharsets.UTF_8 );\r\n```\r\n\r\nHow can I solve the issue? Thanks.\r\n\r\n## additional information\r\n\r\nThe following is the entire Java script: \r\n\r\n```java\r\n\r\npackage Main;\r\n\r\nimport java.awt.AWTException;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Robot;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\n\r\npublic class windowcapture {\r\n    public static void main(String[] args) throws AWTException, IOException {\r\n        int hWnd = User32.instance.GetForegroundWindow();\r\n        WindowInfo window = getWindowInfo(hWnd);\r\n    }\r\n\r\n    public static WindowInfo getWindowInfo(int hWnd) {\r\n        RECT r = new RECT();\r\n        User32.instance.GetWindowRect(hWnd, r);\r\n        byte[] buffer = new byte[1024];\r\n        User32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\r\n        String title = Native.toString(buffer);\r\n        WindowInfo info = new WindowInfo(hWnd, r, title);\r\n        return info;\r\n    }\r\n\r\n    public static interface WndEnumProc extends StdCallLibrary.StdCallCallback {\r\n        boolean callback(int hWnd, int lParam);\r\n    }\r\n\r\n    public static interface User32 extends StdCallLibrary {\r\n        public static final String SHELL_TRAY_WND = &quot;Shell_TrayWnd&quot;;\r\n        public static final int WM_COMMAND = 0x111;\r\n        public static final int MIN_ALL = 0x1a3;\r\n        public static final int MIN_ALL_UNDO = 0x1a0;\r\n\r\n        final User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\r\n\r\n        boolean EnumWindows(WndEnumProc wndenumproc, int lParam);\r\n\r\n        boolean IsWindowVisible(int hWnd);\r\n\r\n        int GetWindowRect(int hWnd, RECT r);\r\n\r\n        void GetWindowTextA(int hWnd, byte[] buffer, int buflen);\r\n\r\n        int GetTopWindow(int hWnd);\r\n\r\n        int GetWindow(int hWnd, int flag);\r\n\r\n        boolean ShowWindow(int hWnd);\r\n\r\n        boolean BringWindowToTop(int hWnd);\r\n\r\n        int GetActiveWindow();\r\n\r\n        boolean SetForegroundWindow(int hWnd);\r\n        \r\n        // HWND GetForegroundWindow();\r\n        int GetForegroundWindow();\r\n\r\n        int FindWindowA(String winClass, String title);\r\n\r\n        long SendMessageA(int hWnd, int msg, int num1, int num2);\r\n\r\n        final int GW_HWNDNEXT = 2;\r\n    }\r\n\r\n    public static class RECT extends Structure {\r\n        public int left, top, right, bottom;\r\n\r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            List&lt;String&gt; order = new ArrayList&lt;&gt;();\r\n            order.add(&quot;left&quot;);\r\n            order.add(&quot;top&quot;);\r\n            order.add(&quot;right&quot;);\r\n            order.add(&quot;bottom&quot;);\r\n            return order;\r\n        }\r\n    }\r\n\r\n    public static class WindowInfo {\r\n        int hwnd;\r\n        RECT rect;\r\n        String title;\r\n\r\n        public WindowInfo(int hwnd, RECT rect, String title) {\r\n            this.hwnd = hwnd;\r\n            this.rect = rect;\r\n            this.title = title;\r\n        }\r\n\r\n        public String toString() {\r\n            return String.format(&quot;(%d,%d)-(%d,%d) : \\&quot;%s\\&quot;&quot;, rect.left, rect.top, rect.right, rect.bottom, title);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## the latest (current) version \r\n\r\n```java\r\n\r\npackage Main;\r\n\r\nimport java.awt.AWTException;\r\nimport java.awt.Rectangle;\r\nimport java.awt.Robot;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\n\r\npublic class windowcapture {\r\n    public static void main(String[] args) throws AWTException, IOException {\r\n        int hWnd = User32.instance.GetForegroundWindow();\r\n        WindowInfo window = getWindowInfo(hWnd);\r\n    }\r\n\r\n    public static WindowInfo getWindowInfo(int hWnd) {\r\n        RECT r = new RECT();\r\n        User32.instance.GetWindowRect(hWnd, r);\r\n        byte[] buffer = new byte[1024];\r\n        // User32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\r\n        User32.instance.GetWindowTextW(hWnd, buffer, buffer.length);\r\n\r\n        // FileOutputStream fos = null;\r\n        // try {\r\n        //     fos = new FileOutputStream(new File(&quot;./out/hoge.txt&quot;), true);\r\n        //     fos.write(buffer);\r\n        //     fos.flush();\r\n        //     System.out.println(&quot;File Written Successfully&quot;);\r\n        // } catch (IOException ioe) {\r\n        //     ioe.printStackTrace();\r\n        // } finally {\r\n        //     try {\r\n        //         if (fos != null) {\r\n        //             fos.close();\r\n        //         }\r\n        //     } catch (IOException ioe) {\r\n        //         System.out.println(&quot;Error in closing the Stream&quot;);\r\n        //     }\r\n        // }\r\n\r\n        String title = Native.toString(buffer);\r\n        // String title = new String( buffer, Charset.forName(&quot;x-MS950-HKSCS&quot;) );\r\n        // String title = new String( buffer, Charset.forName(&quot;UTF_16BE&quot;) );\r\n        // String title = new String( buffer, Charset.forName(&quot;UTF-8&quot;) );\r\n        // String title = Native.toString(buffer, StandardCharsets.UTF_16BE);\r\n        WindowInfo info = new WindowInfo(hWnd, r, title);\r\n        return info;\r\n    }\r\n\r\n    public static interface WndEnumProc extends StdCallLibrary.StdCallCallback {\r\n        boolean callback(int hWnd, int lParam);\r\n    }\r\n\r\n    public static interface User32 extends StdCallLibrary {\r\n        public static final String SHELL_TRAY_WND = &quot;Shell_TrayWnd&quot;;\r\n        public static final int WM_COMMAND = 0x111;\r\n        public static final int MIN_ALL = 0x1a3;\r\n        public static final int MIN_ALL_UNDO = 0x1a0;\r\n\r\n        final User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\r\n\r\n        boolean EnumWindows(WndEnumProc wndenumproc, int lParam);\r\n\r\n        boolean IsWindowVisible(int hWnd);\r\n\r\n        int GetWindowRect(int hWnd, RECT r);\r\n\r\n        void GetWindowTextA(int hWnd, byte[] buffer, int buflen);\r\n        void GetWindowTextW(int hWnd, byte[] buffer, int buflen);\r\n\r\n        int GetTopWindow(int hWnd);\r\n\r\n        int GetWindow(int hWnd, int flag);\r\n\r\n        boolean ShowWindow(int hWnd);\r\n\r\n        boolean BringWindowToTop(int hWnd);\r\n\r\n        int GetActiveWindow();\r\n\r\n        boolean SetForegroundWindow(int hWnd);\r\n        \r\n        // HWND GetForegroundWindow();\r\n        int GetForegroundWindow();\r\n\r\n        int FindWindowA(String winClass, String title);\r\n\r\n        long SendMessageA(int hWnd, int msg, int num1, int num2);\r\n\r\n        final int GW_HWNDNEXT = 2;\r\n    }\r\n\r\n    public static class RECT extends Structure {\r\n        public int left, top, right, bottom;\r\n\r\n        @Override\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            List&lt;String&gt; order = new ArrayList&lt;&gt;();\r\n            order.add(&quot;left&quot;);\r\n            order.add(&quot;top&quot;);\r\n            order.add(&quot;right&quot;);\r\n            order.add(&quot;bottom&quot;);\r\n            return order;\r\n        }\r\n    }\r\n\r\n    public static class WindowInfo {\r\n        int hwnd;\r\n        RECT rect;\r\n        String title;\r\n\r\n        public WindowInfo(int hwnd, RECT rect, String title) {\r\n            this.hwnd = hwnd;\r\n            this.rect = rect;\r\n            this.title = title;\r\n        }\r\n\r\n        public String toString() {\r\n            return String.format(&quot;(%d,%d)-(%d,%d) : \\&quot;%s\\&quot;&quot;, rect.left, rect.top, rect.right, rect.bottom, title);\r\n        }\r\n    }\r\n}\r\n```","title":"User32 GetWindowTextA with UTF-8 in Java?","body":"<p>The following is intended to try to get the active window's title and stores to <code>title</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] buffer = new byte[1024];\nUser32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\nString title = Native.toString(buffer);\n</code></pre>\n<p>In <code>title</code> it is supposed to be stored something similar to <code>&quot;猫の動画 - YouTube - Google Chrome&quot;</code>; since let's say I was opening a YouTube tab on the Chrome browser, where its title has non-alphabetical characters but UTF-8 compatible.</p>\n<p>However, on contrary to my expectation, <code>title</code> actually has something similar to <code>&quot;??????? - YouTube - Google Chrome&quot;</code>.</p>\n<p>I also tried some variants such as the following; But they didn't solve the garbled character issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = new String( buffer, java.nio.charset.StandardCharsets.UTF_8 );\n</code></pre>\n<p>How can I solve the issue? Thanks.</p>\n<h2>additional information</h2>\n<p>The following is the entire Java script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage Main;\n\nimport java.awt.AWTException;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\nimport javax.imageio.ImageIO;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic class windowcapture {\n    public static void main(String[] args) throws AWTException, IOException {\n        int hWnd = User32.instance.GetForegroundWindow();\n        WindowInfo window = getWindowInfo(hWnd);\n    }\n\n    public static WindowInfo getWindowInfo(int hWnd) {\n        RECT r = new RECT();\n        User32.instance.GetWindowRect(hWnd, r);\n        byte[] buffer = new byte[1024];\n        User32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\n        String title = Native.toString(buffer);\n        WindowInfo info = new WindowInfo(hWnd, r, title);\n        return info;\n    }\n\n    public static interface WndEnumProc extends StdCallLibrary.StdCallCallback {\n        boolean callback(int hWnd, int lParam);\n    }\n\n    public static interface User32 extends StdCallLibrary {\n        public static final String SHELL_TRAY_WND = &quot;Shell_TrayWnd&quot;;\n        public static final int WM_COMMAND = 0x111;\n        public static final int MIN_ALL = 0x1a3;\n        public static final int MIN_ALL_UNDO = 0x1a0;\n\n        final User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\n\n        boolean EnumWindows(WndEnumProc wndenumproc, int lParam);\n\n        boolean IsWindowVisible(int hWnd);\n\n        int GetWindowRect(int hWnd, RECT r);\n\n        void GetWindowTextA(int hWnd, byte[] buffer, int buflen);\n\n        int GetTopWindow(int hWnd);\n\n        int GetWindow(int hWnd, int flag);\n\n        boolean ShowWindow(int hWnd);\n\n        boolean BringWindowToTop(int hWnd);\n\n        int GetActiveWindow();\n\n        boolean SetForegroundWindow(int hWnd);\n        \n        // HWND GetForegroundWindow();\n        int GetForegroundWindow();\n\n        int FindWindowA(String winClass, String title);\n\n        long SendMessageA(int hWnd, int msg, int num1, int num2);\n\n        final int GW_HWNDNEXT = 2;\n    }\n\n    public static class RECT extends Structure {\n        public int left, top, right, bottom;\n\n        @Override\n        protected List&lt;String&gt; getFieldOrder() {\n            List&lt;String&gt; order = new ArrayList&lt;&gt;();\n            order.add(&quot;left&quot;);\n            order.add(&quot;top&quot;);\n            order.add(&quot;right&quot;);\n            order.add(&quot;bottom&quot;);\n            return order;\n        }\n    }\n\n    public static class WindowInfo {\n        int hwnd;\n        RECT rect;\n        String title;\n\n        public WindowInfo(int hwnd, RECT rect, String title) {\n            this.hwnd = hwnd;\n            this.rect = rect;\n            this.title = title;\n        }\n\n        public String toString() {\n            return String.format(&quot;(%d,%d)-(%d,%d) : \\&quot;%s\\&quot;&quot;, rect.left, rect.top, rect.right, rect.bottom, title);\n        }\n    }\n}\n</code></pre>\n<h2>the latest (current) version</h2>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage Main;\n\nimport java.awt.AWTException;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\nimport javax.imageio.ImageIO;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic class windowcapture {\n    public static void main(String[] args) throws AWTException, IOException {\n        int hWnd = User32.instance.GetForegroundWindow();\n        WindowInfo window = getWindowInfo(hWnd);\n    }\n\n    public static WindowInfo getWindowInfo(int hWnd) {\n        RECT r = new RECT();\n        User32.instance.GetWindowRect(hWnd, r);\n        byte[] buffer = new byte[1024];\n        // User32.instance.GetWindowTextA(hWnd, buffer, buffer.length);\n        User32.instance.GetWindowTextW(hWnd, buffer, buffer.length);\n\n        // FileOutputStream fos = null;\n        // try {\n        //     fos = new FileOutputStream(new File(&quot;./out/hoge.txt&quot;), true);\n        //     fos.write(buffer);\n        //     fos.flush();\n        //     System.out.println(&quot;File Written Successfully&quot;);\n        // } catch (IOException ioe) {\n        //     ioe.printStackTrace();\n        // } finally {\n        //     try {\n        //         if (fos != null) {\n        //             fos.close();\n        //         }\n        //     } catch (IOException ioe) {\n        //         System.out.println(&quot;Error in closing the Stream&quot;);\n        //     }\n        // }\n\n        String title = Native.toString(buffer);\n        // String title = new String( buffer, Charset.forName(&quot;x-MS950-HKSCS&quot;) );\n        // String title = new String( buffer, Charset.forName(&quot;UTF_16BE&quot;) );\n        // String title = new String( buffer, Charset.forName(&quot;UTF-8&quot;) );\n        // String title = Native.toString(buffer, StandardCharsets.UTF_16BE);\n        WindowInfo info = new WindowInfo(hWnd, r, title);\n        return info;\n    }\n\n    public static interface WndEnumProc extends StdCallLibrary.StdCallCallback {\n        boolean callback(int hWnd, int lParam);\n    }\n\n    public static interface User32 extends StdCallLibrary {\n        public static final String SHELL_TRAY_WND = &quot;Shell_TrayWnd&quot;;\n        public static final int WM_COMMAND = 0x111;\n        public static final int MIN_ALL = 0x1a3;\n        public static final int MIN_ALL_UNDO = 0x1a0;\n\n        final User32 instance = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\n\n        boolean EnumWindows(WndEnumProc wndenumproc, int lParam);\n\n        boolean IsWindowVisible(int hWnd);\n\n        int GetWindowRect(int hWnd, RECT r);\n\n        void GetWindowTextA(int hWnd, byte[] buffer, int buflen);\n        void GetWindowTextW(int hWnd, byte[] buffer, int buflen);\n\n        int GetTopWindow(int hWnd);\n\n        int GetWindow(int hWnd, int flag);\n\n        boolean ShowWindow(int hWnd);\n\n        boolean BringWindowToTop(int hWnd);\n\n        int GetActiveWindow();\n\n        boolean SetForegroundWindow(int hWnd);\n        \n        // HWND GetForegroundWindow();\n        int GetForegroundWindow();\n\n        int FindWindowA(String winClass, String title);\n\n        long SendMessageA(int hWnd, int msg, int num1, int num2);\n\n        final int GW_HWNDNEXT = 2;\n    }\n\n    public static class RECT extends Structure {\n        public int left, top, right, bottom;\n\n        @Override\n        protected List&lt;String&gt; getFieldOrder() {\n            List&lt;String&gt; order = new ArrayList&lt;&gt;();\n            order.add(&quot;left&quot;);\n            order.add(&quot;top&quot;);\n            order.add(&quot;right&quot;);\n            order.add(&quot;bottom&quot;);\n            return order;\n        }\n    }\n\n    public static class WindowInfo {\n        int hwnd;\n        RECT rect;\n        String title;\n\n        public WindowInfo(int hwnd, RECT rect, String title) {\n            this.hwnd = hwnd;\n            this.rect = rect;\n            this.title = title;\n        }\n\n        public String toString() {\n            return String.format(&quot;(%d,%d)-(%d,%d) : \\&quot;%s\\&quot;&quot;, rect.left, rect.top, rect.right, rect.bottom, title);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","g1gc"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1653477280,"post_id":72375063,"comment_id":127860561,"body_markdown":"From the cited text “*The goal is to have around 2048 regions based on the minimum Java heap size.*” So, the default is not constant but depends on your actual minimum heap size. Consider the other cited statements “*The value will be a power of two*” and “*can range from 1 MB to 32 MB*” and you have everything you need to predict the value.","body":"From the cited text “<i>The goal is to have around 2048 regions based on the minimum Java heap size.</i>” So, the default is not constant but depends on your actual minimum heap size. Consider the other cited statements “<i>The value will be a power of two</i>” and “<i>can range from 1 MB to 32 MB</i>” and you have everything you need to predict the value."},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1653478686,"post_id":72375063,"comment_id":127861065,"body_markdown":"@Holger Gotchya - So basically it will try (heap size / 2048) and if it&#39;s less than 1 MB, then it will make the value of G1HeapRegionSize to 1 MB and so on","body":"@Holger Gotchya - So basically it will try (heap size / 2048) and if it&#39;s less than 1 MB, then it will make the value of G1HeapRegionSize to 1 MB and so on"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653480081,"post_id":72375063,"comment_id":127861630,"body_markdown":"…and rounded to a power of two.","body":"…and rounded to a power of two."}],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653484798,"creation_date":1653471849,"answer_id":72375301,"question_id":72375063,"body_markdown":"You can see default `G1HeapRegionSize` value using `-XX:+PrintFlagsFinal`\r\n```\r\njava -XX:+PrintFlagsFinal --version | grep -i G1HeapRegionSize\r\n```\r\n\r\n&gt;size_t G1HeapRegionSize = 1048576 {product} {ergonomic}\r\n\r\nYou can also specify unit using __k,m,g...__ suffix. Otherwise __bits__ is used. For example (Temurin 18 is being used)\r\n\r\n```\r\njava -XX:+PrintFlagsFinal -XX:G1HeapRegionSize=2m --version | grep -i G1HeapRegionSize\r\n```\r\n\r\n&gt; size_t G1HeapRegionSize = 2097152 {product} {command line}\r\n\r\nG1 garbage collector partitions the heap into a set of equally sized heap regions. This parameter indicates the JVM the size of these regions. If you do not indicate this parameter to the JVM, it will use ergonomics and its magic.\r\n\r\nMore about G1 can be read [here](https://docs.oracle.com/en/java/javase/18/gctuning/garbage-first-g1-garbage-collector1.html#GUID-15921907-B297-43A4-8C48-DC88035BC7CF)","title":"What is the default value of G1HeapRegionSize?","body":"<p>You can see default <code>G1HeapRegionSize</code> value using <code>-XX:+PrintFlagsFinal</code></p>\n<pre><code>java -XX:+PrintFlagsFinal --version | grep -i G1HeapRegionSize\n</code></pre>\n<blockquote>\n<p>size_t G1HeapRegionSize = 1048576 {product} {ergonomic}</p>\n</blockquote>\n<p>You can also specify unit using <strong>k,m,g...</strong> suffix. Otherwise <strong>bits</strong> is used. For example (Temurin 18 is being used)</p>\n<pre><code>java -XX:+PrintFlagsFinal -XX:G1HeapRegionSize=2m --version | grep -i G1HeapRegionSize\n</code></pre>\n<blockquote>\n<p>size_t G1HeapRegionSize = 2097152 {product} {command line}</p>\n</blockquote>\n<p>G1 garbage collector partitions the heap into a set of equally sized heap regions. This parameter indicates the JVM the size of these regions. If you do not indicate this parameter to the JVM, it will use ergonomics and its magic.</p>\n<p>More about G1 can be read <a href=\"https://docs.oracle.com/en/java/javase/18/gctuning/garbage-first-g1-garbage-collector1.html#GUID-15921907-B297-43A4-8C48-DC88035BC7CF\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72375301,"answer_count":1,"score":0,"last_activity_date":1653484798,"creation_date":1653470852,"question_id":72375063,"body_markdown":"For the G1GC, I am trying to understand what the default value of G1HeapRegionSize argument is. \r\n\r\nI see [here](https://docs.oracle.com/javase%2F8%2Fdocs%2Ftechnotes%2Fguides%2Fvm%2Fgctuning%2F%2F/g1_gc_tuning.html) that:\r\n&gt; -XX:G1HeapRegionSize=n : Sets the size of a G1 region. The value will be a power of two and can range from 1 MB to 32 MB. The goal is to have around 2048 regions based on the minimum Java heap size.\r\n\r\nBut what is the value of `n` here? \r\n\r\nSimilar explanation is given [here](https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp) too.","title":"What is the default value of G1HeapRegionSize?","body":"<p>For the G1GC, I am trying to understand what the default value of G1HeapRegionSize argument is.</p>\n<p>I see <a href=\"https://docs.oracle.com/javase%2F8%2Fdocs%2Ftechnotes%2Fguides%2Fvm%2Fgctuning%2F%2F/g1_gc_tuning.html\" rel=\"nofollow noreferrer\">here</a> that:</p>\n<blockquote>\n<p>-XX:G1HeapRegionSize=n : Sets the size of a G1 region. The value will be a power of two and can range from 1 MB to 32 MB. The goal is to have around 2048 regions based on the minimum Java heap size.</p>\n</blockquote>\n<p>But what is the value of <code>n</code> here?</p>\n<p>Similar explanation is given <a href=\"https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp\" rel=\"nofollow noreferrer\">here</a> too.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653439438,"post_id":72370612,"comment_id":127851620,"body_markdown":"what is printed `System.out.println(&quot;received a request for station - &quot; + value);`","body":"what is printed <code>System.out.println(&quot;received a request for station - &quot; + value);</code>"},{"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"score":0,"creation_date":1653440009,"post_id":72370612,"comment_id":127851678,"body_markdown":"@ScaryWombat Whatever stationId I pass in via the POST. I added a picture of the PostMan output. It works fine. Just don&#39;t understand why.","body":"@ScaryWombat Whatever stationId I pass in via the POST. I added a picture of the PostMan output. It works fine. Just don&#39;t understand why."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653440333,"post_id":72370612,"comment_id":127851718,"body_markdown":"Please confirm what happens when you post another value (existing and not existing)","body":"Please confirm what happens when you post another value (existing and not existing)"},{"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"score":0,"creation_date":1653440889,"post_id":72370612,"comment_id":127851786,"body_markdown":"Any stationId in the list will return the correct results. An empty POST will cause a 500 server error because the null value is unhandled.","body":"Any stationId in the list will return the correct results. An empty POST will cause a 500 server error because the null value is unhandled."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653442028,"post_id":72370612,"comment_id":127851929,"body_markdown":"It is magic, see https://cloud.spring.io/spring-cloud-static/spring-cloud-function/2.0.0.RELEASE/multi/multi__functional_bean_definitions.html","body":"It is magic, see <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-function/2.0.0.RELEASE/multi/multi__functional_bean_definitions.html\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-static/spring-cloud-function/&hellip;</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653442364,"post_id":72370612,"comment_id":127851977,"body_markdown":"Also https://www.baeldung.com/spring-cloud-function","body":"Also <a href=\"https://www.baeldung.com/spring-cloud-function\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-function</a>"},{"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"score":0,"creation_date":1653443488,"post_id":72370612,"comment_id":127852101,"body_markdown":"Thanks for the links. Not sure that I understand completely but it sounds like Spring Cloud may be converting the methods with the @Bean annotation to a type that uses reflection to obtain the input value. I need to read more but this is a good start.","body":"Thanks for the links. Not sure that I understand completely but it sounds like Spring Cloud may be converting the methods with the @Bean annotation to a type that uses reflection to obtain the input value. I need to read more but this is a good start."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653446957,"post_id":72370612,"comment_id":127852529,"body_markdown":"As posted by @DaveNewton\nretrieveStation returns a lambda. It’s the lambda, called by Spring, that receives value as a parameter. That is retrieveStation’s signature: it returns a Function taking a String and returning a TollStation. The station ID isn’t available inside getStation, it’s passed to the function returned by getStation. docs.oracle.com/javase/8/docs/api/java/util/function/…","body":"As posted by @DaveNewton retrieveStation returns a lambda. It’s the lambda, called by Spring, that receives value as a parameter. That is retrieveStation’s signature: it returns a Function taking a String and returning a TollStation. The station ID isn’t available inside getStation, it’s passed to the function returned by getStation. docs.oracle.com/javase/8/docs/api/java/util/function/…"},{"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"score":0,"creation_date":1653480949,"post_id":72370612,"comment_id":127861986,"body_markdown":"Ahh, I get it. So retrieveStation() isn&#39;t handling the POST at all. It&#39;s just returning a Function that can be used to extract the correct TollStation. Thanks!","body":"Ahh, I get it. So retrieveStation() isn&#39;t handling the POST at all. It&#39;s just returning a Function that can be used to extract the correct TollStation. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653484725,"creation_date":1653484725,"answer_id":72378410,"question_id":72370612,"body_markdown":"The confusion was a result of me thinking the method was handling the HTTP POST somehow and not really have a great handle on functional programming in Java.  Thanks goes to @ScaryWombat.\r\n\r\nThis is how Spring Cloud must be using the method behind the scenes:\r\n\r\n```\r\npublic class FunctionExample {\r\n\r\n    List&lt;TollStation&gt; tollStations;\r\n\r\n    public FunctionExample() {\r\n\r\n        tollStations = new ArrayList&lt;TollStation&gt;();\r\n        tollStations.add(new TollStation(&quot;100A&quot;, 112.5f, 2));\r\n        tollStations.add(new TollStation(&quot;111C&quot;, 124f, 4));\r\n        tollStations.add(new TollStation(&quot;112C&quot;, 126f, 2));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new FunctionExample().testRetrieveStation();\r\n    }\r\n\r\n    public void testRetrieveStation() {\r\n\r\n        Function&lt;String,TollStation&gt; func = retrieveStation();\r\n\r\n        TollStation station = func.apply(&quot;100A&quot;);\r\n    }\r\n\r\n    public Function&lt;String, TollStation&gt; retrieveStation() {\r\n\r\n        return value -&gt; {\r\n            System.out.println(&quot;received a request for station - &quot; + value);\r\n            return tollStations.stream()\r\n                    .filter(toll -&gt; value.equals(toll.getStationId()))\r\n                    .findAny()\r\n                    .orElse(null);\r\n        };\r\n    }\r\n}\r\n\r\n```","title":"Spring Cloud Functions - Why does this work?","body":"<p>The confusion was a result of me thinking the method was handling the HTTP POST somehow and not really have a great handle on functional programming in Java.  Thanks goes to @ScaryWombat.</p>\n<p>This is how Spring Cloud must be using the method behind the scenes:</p>\n<pre><code>public class FunctionExample {\n\n    List&lt;TollStation&gt; tollStations;\n\n    public FunctionExample() {\n\n        tollStations = new ArrayList&lt;TollStation&gt;();\n        tollStations.add(new TollStation(&quot;100A&quot;, 112.5f, 2));\n        tollStations.add(new TollStation(&quot;111C&quot;, 124f, 4));\n        tollStations.add(new TollStation(&quot;112C&quot;, 126f, 2));\n    }\n\n    public static void main(String[] args) {\n\n        new FunctionExample().testRetrieveStation();\n    }\n\n    public void testRetrieveStation() {\n\n        Function&lt;String,TollStation&gt; func = retrieveStation();\n\n        TollStation station = func.apply(&quot;100A&quot;);\n    }\n\n    public Function&lt;String, TollStation&gt; retrieveStation() {\n\n        return value -&gt; {\n            System.out.println(&quot;received a request for station - &quot; + value);\n            return tollStations.stream()\n                    .filter(toll -&gt; value.equals(toll.getStationId()))\n                    .findAny()\n                    .orElse(null);\n        };\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25380998,"reputation":11,"user_id":19193401,"display_name":"DeputyDev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653484725,"creation_date":1653436334,"question_id":72370612,"body_markdown":"I&#39;m returning to Java after a loooong break and I&#39;ve been playing around with Spring Cloud. The following code runs and returns a toll station when the retrieveStation() method is called. \r\n\r\n***The problem is that I don&#39;t really understand how the method knows what stationId is when there&#39;s no input parameter.*** I&#39;m somewhat familiar with functional programming in Java now but this seems a bit like magic to someone returning from the pre-JDK 8 days. \r\n\r\nAnyone care to explain what&#39;s happening here or point me to a good tutorial? How does the stationId get injected into value? I&#39;ve been Googling for an hour and can&#39;t find the answer. Thanks!\r\n\r\nWebFunctionApplication.java\r\n```\r\npackage demo.webfunction;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\n@SpringBootApplication\r\npublic class WebFunctionApplication {\r\n\r\n    List&lt;TollStation&gt; tollStations;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SpringApplication.run(WebFunctionApplication.class, args);\r\n    }\r\n\r\n    public WebFunctionApplication() {\r\n\r\n        tollStations = new ArrayList&lt;TollStation&gt;();\r\n        tollStations.add(new TollStation(&quot;100A&quot;, 112.5f, 2));\r\n        tollStations.add(new TollStation(&quot;111C&quot;, 124f, 4));\r\n        tollStations.add(new TollStation(&quot;112C&quot;, 126f, 2));\r\n\r\n    }\r\n\r\n    //A POST request with station Id to http://localhost:8080/retrieveStation will return values\r\n    @Bean\r\n    public Function&lt;String, TollStation&gt; retrieveStation() {\r\n\r\n        return value -&gt; {\r\n            System.out.println(&quot;received a request for station - &quot; + value);\r\n            return tollStations.stream()\r\n                    .filter(toll -&gt; value.equals(toll.getStationId()))\r\n                    .findAny()\r\n                    .orElse(null);\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nTollStation.java\r\n```\r\npackage demo.webfunction;\r\n\r\npublic class TollStation {\r\n\r\n    private String stationId;\r\n    private Float mileMarker;\r\n    private Integer stallCount;\r\n\r\n    public TollStation(String stationId, Float mileMarker, Integer stallCount) {\r\n        this.stationId = stationId;\r\n        this.mileMarker = mileMarker;\r\n        this.stallCount = stallCount;\r\n    }\r\n\r\n    public String getStationId() {\r\n        return stationId;\r\n    }\r\n\r\n    public void setStationId(String stationId) {\r\n        this.stationId = stationId;\r\n    }\r\n\r\n    public Float getMileMarker() {\r\n        return mileMarker;\r\n    }\r\n\r\n    public void setMileMarker(Float mileMarker) {\r\n        this.mileMarker = mileMarker;\r\n    }\r\n\r\n    public Integer getStallCount() {\r\n        return stallCount;\r\n    }\r\n\r\n    public void setStallCount(Integer stallCount) {\r\n        this.stallCount = stallCount;\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;web-function&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;web-function&lt;/name&gt;\r\n    &lt;description&gt;web-function&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[PostMan][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UY4fx.png","title":"Spring Cloud Functions - Why does this work?","body":"<p>I'm returning to Java after a loooong break and I've been playing around with Spring Cloud. The following code runs and returns a toll station when the retrieveStation() method is called.</p>\n<p><em><strong>The problem is that I don't really understand how the method knows what stationId is when there's no input parameter.</strong></em> I'm somewhat familiar with functional programming in Java now but this seems a bit like magic to someone returning from the pre-JDK 8 days.</p>\n<p>Anyone care to explain what's happening here or point me to a good tutorial? How does the stationId get injected into value? I've been Googling for an hour and can't find the answer. Thanks!</p>\n<p>WebFunctionApplication.java</p>\n<pre><code>package demo.webfunction;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Function;\n\n@SpringBootApplication\npublic class WebFunctionApplication {\n\n    List&lt;TollStation&gt; tollStations;\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(WebFunctionApplication.class, args);\n    }\n\n    public WebFunctionApplication() {\n\n        tollStations = new ArrayList&lt;TollStation&gt;();\n        tollStations.add(new TollStation(&quot;100A&quot;, 112.5f, 2));\n        tollStations.add(new TollStation(&quot;111C&quot;, 124f, 4));\n        tollStations.add(new TollStation(&quot;112C&quot;, 126f, 2));\n\n    }\n\n    //A POST request with station Id to http://localhost:8080/retrieveStation will return values\n    @Bean\n    public Function&lt;String, TollStation&gt; retrieveStation() {\n\n        return value -&gt; {\n            System.out.println(&quot;received a request for station - &quot; + value);\n            return tollStations.stream()\n                    .filter(toll -&gt; value.equals(toll.getStationId()))\n                    .findAny()\n                    .orElse(null);\n        };\n    }\n}\n</code></pre>\n<p>TollStation.java</p>\n<pre><code>package demo.webfunction;\n\npublic class TollStation {\n\n    private String stationId;\n    private Float mileMarker;\n    private Integer stallCount;\n\n    public TollStation(String stationId, Float mileMarker, Integer stallCount) {\n        this.stationId = stationId;\n        this.mileMarker = mileMarker;\n        this.stallCount = stallCount;\n    }\n\n    public String getStationId() {\n        return stationId;\n    }\n\n    public void setStationId(String stationId) {\n        this.stationId = stationId;\n    }\n\n    public Float getMileMarker() {\n        return mileMarker;\n    }\n\n    public void setMileMarker(Float mileMarker) {\n        this.mileMarker = mileMarker;\n    }\n\n    public Integer getStallCount() {\n        return stallCount;\n    }\n\n    public void setStallCount(Integer stallCount) {\n        this.stallCount = stallCount;\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;demo&lt;/groupId&gt;\n    &lt;artifactId&gt;web-function&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;web-function&lt;/name&gt;\n    &lt;description&gt;web-function&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.2&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UY4fx.png\" rel=\"nofollow noreferrer\">PostMan</a></p>\n"},{"tags":["java","intellij-idea","encoding","character-encoding","symbols"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1653476556,"post_id":72375467,"comment_id":127860277,"body_markdown":"What JDK do you use to run your project?","body":"What JDK do you use to run your project?"},{"owner":{"account_id":25384918,"reputation":11,"user_id":19196837,"display_name":"Sirr"},"score":0,"creation_date":1653481522,"post_id":72375467,"comment_id":127862197,"body_markdown":"JDK 18, last version on off site","body":"JDK 18, last version on off site"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1653484079,"post_id":72375467,"comment_id":127863311,"body_markdown":"Looks like known issue: https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-","body":"Looks like known issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-291006/&hellip;</a>"},{"owner":{"account_id":25384918,"reputation":11,"user_id":19196837,"display_name":"Sirr"},"score":0,"creation_date":1653486713,"post_id":72375467,"comment_id":127864497,"body_markdown":"@y.bedrov Thank you very much, I looked through a lot of topics, tried to find a solution for 3 days, nothing helped, but it turned out because of jdk 18, installed version 17, everything worked, very grateful.","body":"@y.bedrov Thank you very much, I looked through a lot of topics, tried to find a solution for 3 days, nothing helped, but it turned out because of jdk 18, installed version 17, everything worked, very grateful."},{"owner":{"account_id":1450596,"reputation":1529,"user_id":1367661,"accept_rate":56,"display_name":"Aduait Pokhriyal"},"score":0,"creation_date":1653516570,"post_id":72375467,"comment_id":127874982,"body_markdown":"You can leave lines like &quot;Help please.&quot;, &quot;I don&#39;t understand how fix that.&quot;, &quot;Nothing helps, I don&#39;t know ....&quot;, etc. out, as they don&#39;t add any value in the actual question.","body":"You can leave lines like &quot;Help please.&quot;, &quot;I don&#39;t understand how fix that.&quot;, &quot;Nothing helps, I don&#39;t know ....&quot;, etc. out, as they don&#39;t add any value in the actual question."}],"owner":{"account_id":25384918,"reputation":11,"user_id":19196837,"display_name":"Sirr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653484612,"creation_date":1653472474,"question_id":72375467,"body_markdown":"Help please. I don&#39;t understand how fix that. In the console, for different symbols, it constantly issues &quot;`?`&quot; instead of symbols.\r\n[![enter image description here][1]][1]\r\nI&#39;m trying write `-Dconsole.encoding=UTF-8`, `-Dfile.encoding=UTF-8` into two files `idea64.exe.vmoptions`, along the way `IDEA\\IntelliJ IDEA Community Edition 2022.1.1\\bin`, and `AppData\\Roaming\\JetBrains\\IdeaIC2022.1`, `&quot;UTF8&quot;` is set everywhere in the IDEA settings.\r\n\r\n[![enter image description here][2]][2]\r\nNothing helps, I don&#39;t know what to do anymore.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/srMq4.png\r\n  [2]: https://i.stack.imgur.com/dlMEU.png","title":"IDEA. Symbols not showing","body":"<p>Help please. I don't understand how fix that. In the console, for different symbols, it constantly issues &quot;<code>?</code>&quot; instead of symbols.\n<a href=\"https://i.stack.imgur.com/srMq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/srMq4.png\" alt=\"enter image description here\" /></a>\nI'm trying write <code>-Dconsole.encoding=UTF-8</code>, <code>-Dfile.encoding=UTF-8</code> into two files <code>idea64.exe.vmoptions</code>, along the way <code>IDEA\\IntelliJ IDEA Community Edition 2022.1.1\\bin</code>, and <code>AppData\\Roaming\\JetBrains\\IdeaIC2022.1</code>, <code>&quot;UTF8&quot;</code> is set everywhere in the IDEA settings.</p>\n<p><a href=\"https://i.stack.imgur.com/dlMEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dlMEU.png\" alt=\"enter image description here\" /></a>\nNothing helps, I don't know what to do anymore.</p>\n"},{"tags":["java","operators","unary-operator"],"comments":[{"owner":{"account_id":15866499,"reputation":73,"user_id":11448458,"display_name":"Ladislus"},"score":2,"creation_date":1653480919,"post_id":72377398,"comment_id":127861972,"body_markdown":"When it says *after the expression*, it means after the expression it is attached to. In this exemple, the expression is simply **a**.","body":"When it says <i>after the expression</i>, it means after the expression it is attached to. In this exemple, the expression is simply <b>a</b>."},{"owner":{"account_id":15866499,"reputation":73,"user_id":11448458,"display_name":"Ladislus"},"score":0,"creation_date":1653481376,"post_id":72377398,"comment_id":127862131,"body_markdown":"In your exemple, `a++ * 3` is equivalent to `int b = a * 3; a = a + 1;`, while `++a * 3` is `a = a + 1; int b = a * 3;`","body":"In your exemple, <code>a++ * 3</code> is equivalent to <code>int b = a * 3; a = a + 1;</code>, while <code>++a * 3</code> is <code>a = a + 1; int b = a * 3;</code>"},{"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"score":0,"creation_date":1653485538,"post_id":72377398,"comment_id":127863945,"body_markdown":"I think the word expression is just not a very good choice. Store the value of &quot;a&quot; in &quot;b&quot; then increments AND Increments &quot;a&quot; then store the new value of &quot;a&quot; in &quot;b&quot; would have been better choices and not so confusing. As Ladislus explained. Probably due to translation. English is not my mother tongue.","body":"I think the word expression is just not a very good choice. Store the value of &quot;a&quot; in &quot;b&quot; then increments AND Increments &quot;a&quot; then store the new value of &quot;a&quot; in &quot;b&quot; would have been better choices and not so confusing. As Ladislus explained. Probably due to translation. English is not my mother tongue."}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653480874,"creation_date":1653480874,"answer_id":72377455,"question_id":72377398,"body_markdown":"The &quot;expression&quot; that the unary operator is applied after the evaluation of is `a`, not any expression it might be part of.","title":"Does the unary operator really gets executed first?","body":"<p>The &quot;expression&quot; that the unary operator is applied after the evaluation of is <code>a</code>, not any expression it might be part of.</p>\n"}],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72377455,"answer_count":1,"score":0,"last_activity_date":1653484423,"creation_date":1653480638,"question_id":72377398,"body_markdown":"I have this question regarding priorities. Java states that this is the priority to work out operators (from high to low):\r\n1. postfix unary opartors xyz++, xyz--\r\n2. prefixunary opartors ++xyz, --xyz\r\n3. typeconversion/casting\r\n4. &quot;* / %\r\n5. &quot;+ -\r\n6. &lt;&lt; &gt;&gt;\r\n7. &lt; &lt;= &gt; &gt;=\r\n8. ==, !=\r\n9. &amp;\r\n10. exclusive\r\n11. |\r\n12. &amp;&amp;\r\n13. ||\r\n14. ?:\r\n15. =, +=, -=, *=, /=, %=\r\n\r\nNow, if you look at unary operators, they state that:\r\n\r\n&gt; In the unary postfixnotation , unary gets executed after the expression. \r\n\r\nMeaning that if you have:\r\n\r\n```\r\nint a = 2;\r\nint b = a++ * 3;\r\n```\r\n\r\n`int b` will be 6, cause a only gets +1 after the expression. \r\n\r\n&gt; in the unary prefixnotation, unary gets executed before the expression:\r\n\r\n``` \r\nint a = 2;\r\nint b = ++a * 3;\r\n```\r\n\r\n`int b` will be 9. \r\n\r\n\r\nMy question is, doesnt this mean that postfix unary operators should be at number 6 and prefix at number 1? What am I seeing wrong? \r\n\r\n\r\n\r\n","title":"Does the unary operator really gets executed first?","body":"<p>I have this question regarding priorities. Java states that this is the priority to work out operators (from high to low):</p>\n<ol>\n<li>postfix unary opartors xyz++, xyz--</li>\n<li>prefixunary opartors ++xyz, --xyz</li>\n<li>typeconversion/casting</li>\n<li>&quot;* / %</li>\n<li>&quot;+ -</li>\n<li>&lt;&lt; &gt;&gt;</li>\n<li>&lt; &lt;= &gt; &gt;=</li>\n<li>==, !=</li>\n<li>&amp;</li>\n<li>exclusive</li>\n<li>|</li>\n<li>&amp;&amp;</li>\n<li>||</li>\n<li>?:</li>\n<li>=, +=, -=, *=, /=, %=</li>\n</ol>\n<p>Now, if you look at unary operators, they state that:</p>\n<blockquote>\n<p>In the unary postfixnotation , unary gets executed after the expression.</p>\n</blockquote>\n<p>Meaning that if you have:</p>\n<pre><code>int a = 2;\nint b = a++ * 3;\n</code></pre>\n<p><code>int b</code> will be 6, cause a only gets +1 after the expression.</p>\n<blockquote>\n<p>in the unary prefixnotation, unary gets executed before the expression:</p>\n</blockquote>\n<pre><code>int a = 2;\nint b = ++a * 3;\n</code></pre>\n<p><code>int b</code> will be 9.</p>\n<p>My question is, doesnt this mean that postfix unary operators should be at number 6 and prefix at number 1? What am I seeing wrong?</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":6274682,"reputation":191,"user_id":4877698,"display_name":"agulowaty"},"score":0,"creation_date":1653483601,"post_id":72378105,"comment_id":127863091,"body_markdown":"Do you have `com.example.postgis.rabbit.bitbucket.CarDto` on the server&#39;s classpath?","body":"Do you have <code>com.example.postgis.rabbit.bitbucket.CarDto</code> on the server&#39;s classpath?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653483926,"post_id":72378105,"comment_id":127863239,"body_markdown":"Your sender is sending `CarDto` as a type, that type isn&#39;t available on the receiver. You have to map that type to your own type by configuring the `Jackson2MessageConverter` for Rabbit.","body":"Your sender is sending <code>CarDto</code> as a type, that type isn&#39;t available on the receiver. You have to map that type to your own type by configuring the <code>Jackson2MessageConverter</code> for Rabbit."},{"owner":{"account_id":25386351,"reputation":1,"user_id":19198090,"display_name":"Og&#39;abek Kodirov"},"score":0,"creation_date":1653495089,"post_id":72378105,"comment_id":127868230,"body_markdown":"agulowaty, I have carDto POJO on server&#39;s classPath","body":"agulowaty, I have carDto POJO on server&#39;s classPath"},{"owner":{"account_id":25386351,"reputation":1,"user_id":19198090,"display_name":"Og&#39;abek Kodirov"},"score":0,"creation_date":1653495220,"post_id":72378105,"comment_id":127868296,"body_markdown":"M. Deinum, On the listener side I have accepted and send it successfully, but while sender is receiving I have such kind of problem.\n-I might be sending it wrongly on server side or on the client side accepting wrong","body":"M. Deinum, On the listener side I have accepted and send it successfully, but while sender is receiving I have such kind of problem. -I might be sending it wrongly on server side or on the client side accepting wrong"}],"owner":{"account_id":25386351,"reputation":1,"user_id":19198090,"display_name":"Og&#39;abek Kodirov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653484390,"creation_date":1653483457,"question_id":72378105,"body_markdown":"I am using single queue request/response (reply-to) pattern in Spring Boot RabbitMQ. But having exception while sender is recieving Object from Listener.\r\n(It is working if I am sending String instead of Object)\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [com.example.postgis.rabbit.bitbucket.CarDto]] with root cause java.lang.ClassNotFoundException: com.example.postgis.rabbit.bitbucket.CarDto\r\n\r\nConfig file for server and client\r\n\r\n [enter image description here][1]\r\n\r\n    @AllArgsConstructor\r\n    @Component\r\n    public class Client {\r\n    private final RabbitTemplate rabbitTemplate;\r\n    private final DirectExchange directExchange;\r\n\r\n    public CarDto send(CarDto carDto) {\r\n        CarDto response = (CarDto) rabbitTemplate.convertSendAndReceive(directExchange.getName(), &quot;roytuts&quot;, carDto);\r\n                return response ;\r\n    }}\r\n\r\n    @Component\r\n    public class Server{\r\n    @RabbitListener(queues = &quot;${queue.name}&quot;)\r\n    public CarDto factorial(CarDto carDto) {\r\n        System.out.println(&quot;Received request for &quot; + carDto);\r\n        carDto.setName=&quot;Nissan&quot;;\r\n        return carDto;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/C8Obl.png","title":"Spring boot RabbitMq request/response pattern (reply-to) cannot convert(serialize) received Object","body":"<p>I am using single queue request/response (reply-to) pattern in Spring Boot RabbitMQ. But having exception while sender is recieving Object from Listener.\n(It is working if I am sending String instead of Object)</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [com.example.postgis.rabbit.bitbucket.CarDto]] with root cause java.lang.ClassNotFoundException: com.example.postgis.rabbit.bitbucket.CarDto\n</code></pre>\n<p>Config file for server and client</p>\n<p><a href=\"https://i.stack.imgur.com/C8Obl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>@AllArgsConstructor\n@Component\npublic class Client {\nprivate final RabbitTemplate rabbitTemplate;\nprivate final DirectExchange directExchange;\n\npublic CarDto send(CarDto carDto) {\n    CarDto response = (CarDto) rabbitTemplate.convertSendAndReceive(directExchange.getName(), &quot;roytuts&quot;, carDto);\n            return response ;\n}}\n\n@Component\npublic class Server{\n@RabbitListener(queues = &quot;${queue.name}&quot;)\npublic CarDto factorial(CarDto carDto) {\n    System.out.println(&quot;Received request for &quot; + carDto);\n    carDto.setName=&quot;Nissan&quot;;\n    return carDto;\n}\n</code></pre>\n"},{"tags":["java","unit-testing","guice"],"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":10,"creation_date":1233066888,"post_id":483087,"comment_id":300073,"body_markdown":"Like the phrase &quot;barking up the wrong tree&quot; :D","body":"Like the phrase &quot;barking up the wrong tree&quot; :D"}],"answers":[{"tags":[],"owner":{"account_id":13334,"reputation":2894,"user_id":26715,"display_name":"albertb"},"down_vote_count":2,"up_vote_count":174,"is_accepted":true,"score":172,"last_activity_date":1653484107,"creation_date":1234242242,"answer_id":531110,"question_id":483087,"body_markdown":"This might not be the answer you&#39;re looking for, but if you&#39;re writing unit tests, you probably shouldn&#39;t be using an injector and rather be injecting mock or fake objects by hand.\r\n\r\nOn the other hand, if you really want to replace a single binding, you could use `Modules.override(..)`:\r\n\r\n    public class ProductionModule implements Module {\r\n        public void configure(Binder binder) {\r\n            binder.bind(InterfaceA.class).to(ConcreteA.class);\r\n            binder.bind(InterfaceB.class).to(ConcreteB.class);\r\n            binder.bind(InterfaceC.class).to(ConcreteC.class);\r\n        }\r\n    }\r\n    public class TestModule implements Module {\r\n        public void configure(Binder binder) {\r\n            binder.bind(InterfaceC.class).to(MockC.class);\r\n        }\r\n    }\r\n    Guice.createInjector(Modules.override(new ProductionModule()).with(new TestModule()));\r\n\r\nSee details in the [Modules documentation][1].\r\n\r\nBut as the javadoc for `Modules.overrides(..)` recommends, you should design your modules in such a way that you don&#39;t need to override bindings. In the example you gave, you could accomplish that by moving the binding of `InterfaceC` to a separate module.\r\n\r\n\r\n  [1]: https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/util/Modules.html#override(com.google.inject.Module...)","title":"Overriding Binding in Guice","body":"<p>This might not be the answer you're looking for, but if you're writing unit tests, you probably shouldn't be using an injector and rather be injecting mock or fake objects by hand.</p>\n<p>On the other hand, if you really want to replace a single binding, you could use <code>Modules.override(..)</code>:</p>\n<pre><code>public class ProductionModule implements Module {\n    public void configure(Binder binder) {\n        binder.bind(InterfaceA.class).to(ConcreteA.class);\n        binder.bind(InterfaceB.class).to(ConcreteB.class);\n        binder.bind(InterfaceC.class).to(ConcreteC.class);\n    }\n}\npublic class TestModule implements Module {\n    public void configure(Binder binder) {\n        binder.bind(InterfaceC.class).to(MockC.class);\n    }\n}\nGuice.createInjector(Modules.override(new ProductionModule()).with(new TestModule()));\n</code></pre>\n<p>See details in the <a href=\"https://google.github.io/guice/api-docs/3.0/javadoc/com/google/inject/util/Modules.html#override(com.google.inject.Module...)\" rel=\"noreferrer\">Modules documentation</a>.</p>\n<p>But as the javadoc for <code>Modules.overrides(..)</code> recommends, you should design your modules in such a way that you don't need to override bindings. In the example you gave, you could accomplish that by moving the binding of <code>InterfaceC</code> to a separate module.</p>\n"},{"tags":[],"owner":{"account_id":2461220,"reputation":4413,"user_id":2145368,"accept_rate":100,"display_name":"Mon Calamari"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1414486626,"creation_date":1409145553,"answer_id":25528276,"question_id":483087,"body_markdown":"Why not to use inheritance? You can override your specific bindings in `overrideMe` method, leaving shared implementations in `configure` method.\r\n\r\n    public class DevModule implements Module {\r\n        public void configure(Binder binder) {\r\n            binder.bind(InterfaceA.class).to(TestDevImplA.class);\r\n            overrideMe(binder);\r\n        }\r\n\r\n        protected void overrideMe(Binder binder){\r\n            binder.bind(InterfaceC.class).to(ConcreteC.class);\r\n        }\r\n    };\r\n\r\n    public class TestModule extends DevModule {\r\n        @Override\r\n        public void overrideMe(Binder binder) {\r\n            binder.bind(InterfaceC.class).to(MockC.class);\r\n        }\r\n    }\r\n\r\nAnd finally create your injector this way:\r\n\r\n    Guice.createInjector(new TestModule());","title":"Overriding Binding in Guice","body":"<p>Why not to use inheritance? You can override your specific bindings in <code>overrideMe</code> method, leaving shared implementations in <code>configure</code> method.</p>\n\n<pre><code>public class DevModule implements Module {\n    public void configure(Binder binder) {\n        binder.bind(InterfaceA.class).to(TestDevImplA.class);\n        overrideMe(binder);\n    }\n\n    protected void overrideMe(Binder binder){\n        binder.bind(InterfaceC.class).to(ConcreteC.class);\n    }\n};\n\npublic class TestModule extends DevModule {\n    @Override\n    public void overrideMe(Binder binder) {\n        binder.bind(InterfaceC.class).to(MockC.class);\n    }\n}\n</code></pre>\n\n<p>And finally create your injector this way:</p>\n\n<pre><code>Guice.createInjector(new TestModule());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5313859,"reputation":19,"user_id":4239319,"display_name":"esukram"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1415705703,"creation_date":1415705703,"answer_id":26863931,"question_id":483087,"body_markdown":"You want to use [Juckito](http://jukito.arcbees.com/) where you can declare your custom configuration for each test class.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t@RunWith(JukitoRunner.class)\r\n\tclass LogicTest {\r\n\t\tpublic static class Module extends JukitoModule {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void configureTest() {\r\n\t\t\t\tbind(InterfaceC.class).to(MockC.class);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Inject\r\n\t\tprivate InterfaceC logic;\r\n\r\n\t\t@Test\r\n\t\tpublic testLogicUsingMock() {\r\n\t\t\tlogic.foo();\r\n\t\t}\r\n\t}","title":"Overriding Binding in Guice","body":"<p>You want to use <a href=\"http://jukito.arcbees.com/\" rel=\"nofollow\">Juckito</a> where you can declare your custom configuration for each test class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(JukitoRunner.class)\nclass LogicTest {\n    public static class Module extends JukitoModule {\n\n        @Override\n        protected void configureTest() {\n            bind(InterfaceC.class).to(MockC.class);\n        }\n    }\n\n    @Inject\n    private InterfaceC logic;\n\n    @Test\n    public testLogicUsingMock() {\n        logic.foo();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1420562056,"creation_date":1420562056,"answer_id":27803015,"question_id":483087,"body_markdown":"If you don&#39;t want to change your production module and if you have a default maven-like project structure like\r\n\r\n    src/test/java/...\r\n    src/main/java/...\r\n\r\nYou can just create a new class `ConcreteC` in your test directory using the same package as for your original class. Guice will then bind `InterfaceC` to `ConcreteC` from your test directory whereas all other interfaces will be bound to your production classes. ","title":"Overriding Binding in Guice","body":"<p>If you don't want to change your production module and if you have a default maven-like project structure like</p>\n\n<pre><code>src/test/java/...\nsrc/main/java/...\n</code></pre>\n\n<p>You can just create a new class <code>ConcreteC</code> in your test directory using the same package as for your original class. Guice will then bind <code>InterfaceC</code> to <code>ConcreteC</code> from your test directory whereas all other interfaces will be bound to your production classes. </p>\n"},{"tags":[],"owner":{"account_id":25551,"reputation":1368,"user_id":65716,"accept_rate":100,"display_name":"Dave T."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430154620,"creation_date":1430154620,"answer_id":29901970,"question_id":483087,"body_markdown":"In a different setup, we have more than one activity defined in separate modules.  The activity that&#39;s being injected into is in an Android Library Module, with its own RoboGuice module definition in the AndroidManifest.xml file.  \r\n\r\nThe setup looks like this.  In the Library Module there are these definitions:\r\n\r\nAndroidManifest.xml:\r\n\r\n    &lt;application android:allowBackup=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;com.example.SomeActivity/&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;roboguice.modules&quot;\r\n            android:value=&quot;com.example.MainModule&quot; /&gt;\r\n    &lt;/application&gt;\r\n    \r\nThen we have a type being injected:\r\n\r\n    interface Foo { }\r\n\r\nSome default implementation of Foo:\r\n\r\n    class FooThing implements Foo { }\r\n\r\nMainModule configures the FooThing implementation for Foo:\r\n\r\n    public class MainModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n            bind(Foo.class).to(FooThing.class);\r\n        }\r\n    }\r\n\r\nAnd finally, an Activity that consumes Foo:\r\n\r\n    public class SomeActivity extends RoboActivity {\r\n        @Inject\r\n        private Foo foo;\r\n    }\r\n\r\n\r\nIn the consuming Android Application Module, we would like to use `SomeActivity` but, for testing purposes, inject our own `Foo`.\r\n\r\n    public class SomeOtherActivity extends Activity {\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            Intent intent = new Intent(this, SomeActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\nOne might argue to expose the module handling to the client application, however, we need to mostly hide the components being injected because the Library Module is an SDK, and exposing pieces has larger implications.\r\n\r\n(Remember, this is for testing, so we know the internals of SomeActivity, and know it consumes a (package visible) Foo).\r\n\r\nThe way I found that works makes sense; use the the suggested override for *testing*:\r\n\r\n    public class SomeOtherActivity extends Activity {\r\n        private class OverrideModule\r\n                extends AbstractModule {\r\n    \r\n            @Override\r\n            protected void configure() {\r\n                bind(Foo.class).to(OtherFooThing.class);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            RoboGuice.overrideApplicationInjector(\r\n                    getApplication(),\r\n                    RoboGuice.newDefaultRoboModule(getApplication()),\r\n                    Modules\r\n                            .override(new MainModule())\r\n                            .with(new OverrideModule()));\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            Intent intent = new Intent(this, SomeActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\nNow, when `SomeActivity` is started, it will get `OtherFooThing` for its injected `Foo` instance.\r\n\r\nIt&#39;s a very specific situation where, in our case, OtherFooThing was used internally to record test situations, while FooThing was used, by default, for all other uses.\r\n\r\nKeep in mind, we *are* using `#newDefaultRoboModule` in our unit tests, and it works flawlessly.","title":"Overriding Binding in Guice","body":"<p>In a different setup, we have more than one activity defined in separate modules.  The activity that's being injected into is in an Android Library Module, with its own RoboGuice module definition in the AndroidManifest.xml file.  </p>\n\n<p>The setup looks like this.  In the Library Module there are these definitions:</p>\n\n<p>AndroidManifest.xml:</p>\n\n<pre><code>&lt;application android:allowBackup=\"true\"&gt;\n    &lt;activity android:name=\"com.example.SomeActivity/&gt;\n    &lt;meta-data\n        android:name=\"roboguice.modules\"\n        android:value=\"com.example.MainModule\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Then we have a type being injected:</p>\n\n<pre><code>interface Foo { }\n</code></pre>\n\n<p>Some default implementation of Foo:</p>\n\n<pre><code>class FooThing implements Foo { }\n</code></pre>\n\n<p>MainModule configures the FooThing implementation for Foo:</p>\n\n<pre><code>public class MainModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(Foo.class).to(FooThing.class);\n    }\n}\n</code></pre>\n\n<p>And finally, an Activity that consumes Foo:</p>\n\n<pre><code>public class SomeActivity extends RoboActivity {\n    @Inject\n    private Foo foo;\n}\n</code></pre>\n\n<p>In the consuming Android Application Module, we would like to use <code>SomeActivity</code> but, for testing purposes, inject our own <code>Foo</code>.</p>\n\n<pre><code>public class SomeOtherActivity extends Activity {\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        Intent intent = new Intent(this, SomeActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>One might argue to expose the module handling to the client application, however, we need to mostly hide the components being injected because the Library Module is an SDK, and exposing pieces has larger implications.</p>\n\n<p>(Remember, this is for testing, so we know the internals of SomeActivity, and know it consumes a (package visible) Foo).</p>\n\n<p>The way I found that works makes sense; use the the suggested override for <em>testing</em>:</p>\n\n<pre><code>public class SomeOtherActivity extends Activity {\n    private class OverrideModule\n            extends AbstractModule {\n\n        @Override\n        protected void configure() {\n            bind(Foo.class).to(OtherFooThing.class);\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RoboGuice.overrideApplicationInjector(\n                getApplication(),\n                RoboGuice.newDefaultRoboModule(getApplication()),\n                Modules\n                        .override(new MainModule())\n                        .with(new OverrideModule()));\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        Intent intent = new Intent(this, SomeActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>Now, when <code>SomeActivity</code> is started, it will get <code>OtherFooThing</code> for its injected <code>Foo</code> instance.</p>\n\n<p>It's a very specific situation where, in our case, OtherFooThing was used internally to record test situations, while FooThing was used, by default, for all other uses.</p>\n\n<p>Keep in mind, we <em>are</em> using <code>#newDefaultRoboModule</code> in our unit tests, and it works flawlessly.</p>\n"}],"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87070,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":531110,"answer_count":5,"score":159,"last_activity_date":1653484107,"creation_date":1233056531,"question_id":483087,"body_markdown":"I&#39;ve just started playing with Guice, and a use-case I can think of is that in a test I just want to override a single binding.  I think I&#39;d like to use the rest of the production level bindings to ensure everything is setup correctly and to avoid duplication.\r\n\r\nSo imagine I have the following Module\r\n\r\n    public class ProductionModule implements Module {\r\n        public void configure(Binder binder) {\r\n\t        binder.bind(InterfaceA.class).to(ConcreteA.class);\r\n\t        binder.bind(InterfaceB.class).to(ConcreteB.class);\r\n\t        binder.bind(InterfaceC.class).to(ConcreteC.class);\r\n        }\r\n    }\r\n\r\nAnd in my test I only want to override InterfaceC, while keeping InterfaceA and InterfaceB in tact, so I&#39;d want something like:\r\n\r\n    Module testModule = new Module() {\r\n        public void configure(Binder binder) {\r\n            binder.bind(InterfaceC.class).to(MockC.class);\r\n        }\r\n    };\r\n    Guice.createInjector(new ProductionModule(), testModule);\r\n\r\nI&#39;ve also tried the following, with no luck:\r\n\r\n    Module testModule = new ProductionModule() {\r\n        public void configure(Binder binder) {\r\n            super.configure(binder);\r\n            binder.bind(InterfaceC.class).to(MockC.class);\r\n        }\r\n    };\r\n    Guice.createInjector(testModule);\r\n\r\nDoes anyone know if it&#39;s possible to do what I want or am I completely barking up the wrong tree??\r\n\r\n--- Follow up:\r\nIt would seem I can achieve what I want if I make use of the @ImplementedBy tag on the interface and then just provide a binding in the test case, which works nicely when there is a 1-1 mapping between the interface and implementation.\r\n\r\nAlso, after discussing this with a colleague it would seem we&#39;d head down the road of overriding an entire module and ensuring we have our modules defined correctly.  This seems like it might cause a problem though where a binding is misplaced in a module and needs to be moved, thus possibly breaking a load of tests as bindings may no longer be available to be overriden.","title":"Overriding Binding in Guice","body":"<p>I've just started playing with Guice, and a use-case I can think of is that in a test I just want to override a single binding.  I think I'd like to use the rest of the production level bindings to ensure everything is setup correctly and to avoid duplication.</p>\n\n<p>So imagine I have the following Module</p>\n\n<pre><code>public class ProductionModule implements Module {\n    public void configure(Binder binder) {\n        binder.bind(InterfaceA.class).to(ConcreteA.class);\n        binder.bind(InterfaceB.class).to(ConcreteB.class);\n        binder.bind(InterfaceC.class).to(ConcreteC.class);\n    }\n}\n</code></pre>\n\n<p>And in my test I only want to override InterfaceC, while keeping InterfaceA and InterfaceB in tact, so I'd want something like:</p>\n\n<pre><code>Module testModule = new Module() {\n    public void configure(Binder binder) {\n        binder.bind(InterfaceC.class).to(MockC.class);\n    }\n};\nGuice.createInjector(new ProductionModule(), testModule);\n</code></pre>\n\n<p>I've also tried the following, with no luck:</p>\n\n<pre><code>Module testModule = new ProductionModule() {\n    public void configure(Binder binder) {\n        super.configure(binder);\n        binder.bind(InterfaceC.class).to(MockC.class);\n    }\n};\nGuice.createInjector(testModule);\n</code></pre>\n\n<p>Does anyone know if it's possible to do what I want or am I completely barking up the wrong tree??</p>\n\n<p>--- Follow up:\nIt would seem I can achieve what I want if I make use of the @ImplementedBy tag on the interface and then just provide a binding in the test case, which works nicely when there is a 1-1 mapping between the interface and implementation.</p>\n\n<p>Also, after discussing this with a colleague it would seem we'd head down the road of overriding an entire module and ensuring we have our modules defined correctly.  This seems like it might cause a problem though where a binding is misplaced in a module and needs to be moved, thus possibly breaking a load of tests as bindings may no longer be available to be overriden.</p>\n"},{"tags":["java","spring-boot","jar","resources"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653471907,"post_id":72375113,"comment_id":127858691,"body_markdown":"*First things first: my code is working when using IDE, but not when it runs in a jar file.* In what way is it not working?","body":"<i>First things first: my code is working when using IDE, but not when it runs in a jar file.</i> In what way is it not working?"},{"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"score":0,"creation_date":1653472295,"post_id":72375113,"comment_id":127858853,"body_markdown":"Hi. The code gives me all the folder names I want when running in the IDE, but I am not able to get any folder when running a jar. In other words: The List is always empty running in a jar.","body":"Hi. The code gives me all the folder names I want when running in the IDE, but I am not able to get any folder when running a jar. In other words: The List is always empty running in a jar."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653472572,"post_id":72375113,"comment_id":127858977,"body_markdown":"Resources are of course seen by a classloader as something to be read and used by an app. In a way, the vm doesn&#39;t care if they are in a jar or in the file system, but *yes* of course, those two things are distinct and you can&#39;t expect the file system to be &#39;detected&#39; when running in a jar. If you&#39;re interested in seeing things in the FS then you *will* have to use `Path`/`File` and you will have to treat those as absolute, as you don&#39;t know where your jar will be run from and you&#39;ll of course have to have security permissions to read them.","body":"Resources are of course seen by a classloader as something to be read and used by an app. In a way, the vm doesn&#39;t care if they are in a jar or in the file system, but <i>yes</i> of course, those two things are distinct and you can&#39;t expect the file system to be &#39;detected&#39; when running in a jar. If you&#39;re interested in seeing things in the FS then you <i>will</i> have to use <code>Path</code>/<code>File</code> and you will have to treat those as absolute, as you don&#39;t know where your jar will be run from and you&#39;ll of course have to have security permissions to read them."},{"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"score":0,"creation_date":1653475273,"post_id":72375113,"comment_id":127859855,"body_markdown":"Hi. I tried a new way to get the folder. This snippet of code works. fine in IDE, but in jar I get a FileNotFound Exception (Detailed message: &quot;classpath resource [path/to/folder] can not be resolved to absolute file path because it does not reside in the file system: ...&quot;) `Resource resource = resourcePatternResolver.getResource(subPath);\n      for (File filePath : Objects.requireNonNull(resource.getFile().listFiles())) {\n        vastRecordTypes.add(\n            filePath.getAbsolutePath().substring(filePath.getAbsolutePath().lastIndexOf(&quot;/&quot;) + 1));\n      }\n      return vastRecordTypes;`","body":"Hi. I tried a new way to get the folder. This snippet of code works. fine in IDE, but in jar I get a FileNotFound Exception (Detailed message: &quot;classpath resource [path/to/folder] can not be resolved to absolute file path because it does not reside in the file system: ...&quot;) <code>Resource resource = resourcePatternResolver.getResource(subPath);       for (File filePath : Objects.requireNonNull(resource.getFile().listFiles())) {         vastRecordTypes.add(             filePath.getAbsolutePath().substring(filePath.getAbsolutePat&zwnj;&#8203;h().lastIndexOf(&quot;&#47;&quot;) + 1));       }       return vastRecordTypes;</code>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653475964,"post_id":72375113,"comment_id":127860105,"body_markdown":"Does this answer your question? [How can I access a folder inside of a resource folder from inside my jar File?](https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file\">How can I access a folder inside of a resource folder from inside my jar File?</a>"},{"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"score":0,"creation_date":1653476926,"post_id":72375113,"comment_id":127860430,"body_markdown":"@pringi thx for this link. Unfortunately it doesn&#39;t solve my problem. As another User mentioned: &quot;Only works for single-jar file, doesn&#39;t work to extract resources from dependencies in another jar&quot;","body":"@pringi thx for this link. Unfortunately it doesn&#39;t solve my problem. As another User mentioned: &quot;Only works for single-jar file, doesn&#39;t work to extract resources from dependencies in another jar&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653477358,"post_id":72375113,"comment_id":127860581,"body_markdown":"*Hi. I tried a new way to get the folder* You seem to have misunderstood [or ignored ;)] my comment","body":"<i>Hi. I tried a new way to get the folder</i> You seem to have misunderstood [or ignored ;)] my comment"},{"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"score":0,"creation_date":1653483585,"post_id":72375113,"comment_id":127863083,"body_markdown":"@g00se thx for your answer. And, yes, I misunderstood it. But for now I have a solution that works perfectly in &quot;both worlds&quot; IDE and jar. I will post my code and explain what I have done.","body":"@g00se thx for your answer. And, yes, I misunderstood it. But for now I have a solution that works perfectly in &quot;both worlds&quot; IDE and jar. I will post my code and explain what I have done."}],"answers":[{"tags":[],"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653484038,"creation_date":1653484038,"answer_id":72378242,"question_id":72375113,"body_markdown":"Finally I got things work. My code runs as follows:\r\n\r\n    public Set&lt;String&gt; loadSupportedRecords(Meta metaFromTaxCase) {\r\n      Set&lt;String&gt; vastRecordTypes = new HashSet&lt;&gt;();\r\n      Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n      values.put(TAX_TYPE, metaFromTaxCase.getTaxonomie().getKey());\r\n      values.put(FISCAL_YEAR, metaFromTaxCase.getVeranlagungszeitraum());\r\n      values.put(TAXONOMIE_VERSION,metaFromTaxCase.getVersionDerTaxonomie());\r\n      var path = replaceVariablesInPathWithMapValues(vastConfigTemplatePath, values);\r\n\r\n      try {\r\n        for (Resource resource : resourcePatternResolver.getResources(path)) {\r\n          vastRecordTypes.add(((ClassPathResource) resource).getPath().split(&quot;/&quot;)[8]);\r\n        }\r\n        return vastRecordTypes;\r\n      } catch (IOException e) {\r\n        throw new ResourceNotFoundException(\r\n          String.format(CLASSPATH_ERROR_MESSAGE, path, e.getMessage()));\r\n      }\r\n    }\r\nAs I learned, it is not possible to get &quot;folder&quot; in jar environment. It seems that all is treated as a file. So I searched the file-tree and used the above split method to get the individual folder name. In my code I can be sure, that the first 8 elements of the Array are always the same, so it can be hard coded. I also used a Set now instead of a List, to avoid double inserts (because there are a lot of files underneath the folder). Thanks to all.","title":"Is it possible to get a number of folder in a jar file?","body":"<p>Finally I got things work. My code runs as follows:</p>\n<pre><code>public Set&lt;String&gt; loadSupportedRecords(Meta metaFromTaxCase) {\n  Set&lt;String&gt; vastRecordTypes = new HashSet&lt;&gt;();\n  Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n  values.put(TAX_TYPE, metaFromTaxCase.getTaxonomie().getKey());\n  values.put(FISCAL_YEAR, metaFromTaxCase.getVeranlagungszeitraum());\n  values.put(TAXONOMIE_VERSION,metaFromTaxCase.getVersionDerTaxonomie());\n  var path = replaceVariablesInPathWithMapValues(vastConfigTemplatePath, values);\n\n  try {\n    for (Resource resource : resourcePatternResolver.getResources(path)) {\n      vastRecordTypes.add(((ClassPathResource) resource).getPath().split(&quot;/&quot;)[8]);\n    }\n    return vastRecordTypes;\n  } catch (IOException e) {\n    throw new ResourceNotFoundException(\n      String.format(CLASSPATH_ERROR_MESSAGE, path, e.getMessage()));\n  }\n}\n</code></pre>\n<p>As I learned, it is not possible to get &quot;folder&quot; in jar environment. It seems that all is treated as a file. So I searched the file-tree and used the above split method to get the individual folder name. In my code I can be sure, that the first 8 elements of the Array are always the same, so it can be hard coded. I also used a Set now instead of a List, to avoid double inserts (because there are a lot of files underneath the folder). Thanks to all.</p>\n"}],"owner":{"account_id":18308184,"reputation":13,"user_id":13331601,"display_name":"BenChriLev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653484038,"creation_date":1653471097,"question_id":72375113,"body_markdown":"I have a (maybe simple) question. In my code I want to know whether there are one or more folder in a classpath or not. First things first: my code is working when using IDE, but not when it runs in a jar file. I understood that there is the way with - especially in Spring Boot - the class PathMatchingPatternResolver to get the resources. I have done this, but I can&#39;t get my code working under *.jar. The situation is as follows:\r\nI want to look at a certain path if there are certain folder to get their names. If there are such folder, the names of them will be saved in a List. I need this List in further action. But how to get the folder from *.jar?\r\n\r\nHere is what I have done so far:\r\n\r\n    public List&lt;String&gt; loadSupportedRecords(Meta metaFromTaxCase) {\r\n      List&lt;String&gt; vastRecordTypes = new ArrayList&lt;&gt;();\r\n\r\n      Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n      values.put(TAX_TYPE, metaFromTaxCase.getTaxonomie().getKey());\r\n      values.put(FISCAL_YEAR, metaFromTaxCase.getVeranlagungszeitraum());\r\n      values.put(TAXONOMIE_VERSION, metaFromTaxCase.getVersionDerTaxonomie());\r\n      var path = replaceVariablesInPathWithMapValues(vastConfigTemplatePath, values);\r\n      var indexOfRepo = path.lastIndexOf(&quot;{record-type}/&quot;);\r\n      var lengthOfVar = &quot;{record-type}&quot;.length();\r\n      var subPath = path.substring(0, indexOfRepo + lengthOfVar);\r\n\r\n      try {\r\n        for (Resource resource : resourcePatternResolver.getResources(subPath)) {\r\n          vastRecordTypes.add(resource.getFilename()); // &lt;-- This does not work\r\n          // I know that this does not work, but this is my newest commit.\r\n          // I tried with File Object and used the &quot;listFiles()&quot; method,\r\n          // but also failed.\r\n        }\r\n        return vastRecordTypes;\r\n      } catch (IOException e) {\r\n        throw new ResourceNotFoundException(\r\n            String.format(CLASSPATH_ERROR_MESSAGE, path, e.getMessage()));\r\n      }\r\n    }\r\n\r\nIs there any way to get the folder names in IDE AND in *.jar running? \r\nThank you all for helping me as good as you can.\r\n ","title":"Is it possible to get a number of folder in a jar file?","body":"<p>I have a (maybe simple) question. In my code I want to know whether there are one or more folder in a classpath or not. First things first: my code is working when using IDE, but not when it runs in a jar file. I understood that there is the way with - especially in Spring Boot - the class PathMatchingPatternResolver to get the resources. I have done this, but I can't get my code working under *.jar. The situation is as follows:\nI want to look at a certain path if there are certain folder to get their names. If there are such folder, the names of them will be saved in a List. I need this List in further action. But how to get the folder from *.jar?</p>\n<p>Here is what I have done so far:</p>\n<pre><code>public List&lt;String&gt; loadSupportedRecords(Meta metaFromTaxCase) {\n  List&lt;String&gt; vastRecordTypes = new ArrayList&lt;&gt;();\n\n  Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\n  values.put(TAX_TYPE, metaFromTaxCase.getTaxonomie().getKey());\n  values.put(FISCAL_YEAR, metaFromTaxCase.getVeranlagungszeitraum());\n  values.put(TAXONOMIE_VERSION, metaFromTaxCase.getVersionDerTaxonomie());\n  var path = replaceVariablesInPathWithMapValues(vastConfigTemplatePath, values);\n  var indexOfRepo = path.lastIndexOf(&quot;{record-type}/&quot;);\n  var lengthOfVar = &quot;{record-type}&quot;.length();\n  var subPath = path.substring(0, indexOfRepo + lengthOfVar);\n\n  try {\n    for (Resource resource : resourcePatternResolver.getResources(subPath)) {\n      vastRecordTypes.add(resource.getFilename()); // &lt;-- This does not work\n      // I know that this does not work, but this is my newest commit.\n      // I tried with File Object and used the &quot;listFiles()&quot; method,\n      // but also failed.\n    }\n    return vastRecordTypes;\n  } catch (IOException e) {\n    throw new ResourceNotFoundException(\n        String.format(CLASSPATH_ERROR_MESSAGE, path, e.getMessage()));\n  }\n}\n</code></pre>\n<p>Is there any way to get the folder names in IDE AND in *.jar running?\nThank you all for helping me as good as you can.</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1653467253,"post_id":72373852,"comment_id":127856958,"body_markdown":"Well, you are only ever returning a new list you add at most a single item to. You don&#39;t preserver the state of the list at any point. That is what you need wrapper methods for","body":"Well, you are only ever returning a new list you add at most a single item to. You don&#39;t preserver the state of the list at any point. That is what you need wrapper methods for"},{"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"score":0,"creation_date":1653472108,"post_id":72373852,"comment_id":127858781,"body_markdown":"Maybe I&#39;m really not understanding something (highly likely). But first we pass in node 5 as the root, to preorder. It checks to see if the node is null. It&#39;s not, so 5 is added to my List. Then it calls preorder on the left child node, which here is 4. It checks to see if it is null. It&#39;s not, so 4 should be added to myList, then preorder called on the 4 left child node, which is 1...and so on and so on. That&#39;s how I envisioned it working in my head...?","body":"Maybe I&#39;m really not understanding something (highly likely). But first we pass in node 5 as the root, to preorder. It checks to see if the node is null. It&#39;s not, so 5 is added to my List. Then it calls preorder on the left child node, which here is 4. It checks to see if it is null. It&#39;s not, so 4 should be added to myList, then preorder called on the 4 left child node, which is 1...and so on and so on. That&#39;s how I envisioned it working in my head...?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653475637,"post_id":72373852,"comment_id":127859985,"body_markdown":"That is kinda correct, except you always re-create `myList`, making it an empty list you add to. In the end you only return a list with 1 entry, which is `5`","body":"That is kinda correct, except you always re-create <code>myList</code>, making it an empty list you add to. In the end you only return a list with 1 entry, which is <code>5</code>"}],"answers":[{"tags":[],"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653467455,"creation_date":1653467455,"answer_id":72374319,"question_id":72373852,"body_markdown":"The traversal order done by you is good, the problem is that whenever you call `preorder(root.getLeft());` or `preorder(root.getRight());` you don&#39;t do anything about the result of the operation.\r\nThe only place where you add anything to the result list is `myList.add(root.getData());`. Computation of left and right trees is ignored.\r\n\r\nI believe the simplest way to do it is just by adding results like this: `myList.addAll(preorder(root.getRight()));`\r\n\r\nIn recursion there is a common &#39;trick&#39; to use a helper method, usually with accumulator argument, that your main method just calls. I believe that&#39;s what they mean by wrapper methods. I don&#39;t think it&#39;s useful in this case, considering given methods&#39; signatures.","title":"Recursive traversals of binary trees using Lists","body":"<p>The traversal order done by you is good, the problem is that whenever you call <code>preorder(root.getLeft());</code> or <code>preorder(root.getRight());</code> you don't do anything about the result of the operation.\nThe only place where you add anything to the result list is <code>myList.add(root.getData());</code>. Computation of left and right trees is ignored.</p>\n<p>I believe the simplest way to do it is just by adding results like this: <code>myList.addAll(preorder(root.getRight()));</code></p>\n<p>In recursion there is a common 'trick' to use a helper method, usually with accumulator argument, that your main method just calls. I believe that's what they mean by wrapper methods. I don't think it's useful in this case, considering given methods' signatures.</p>\n"}],"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653483734,"creation_date":1653465257,"question_id":72373852,"body_markdown":"This problem has us implementing pre-order, in-order and post-order tree traversals. I generally understand how traversals work. We need to implement the traversals in recursive faction. The problem comes with a `TreeNode` class (read-only; see code below).\r\nI thought this would be fairly straight-forward but doesn&#39;t seem to be working correctly. The problem suggests we use wrapper methods to get the recursion to work properly but I&#39;m not 100% clear on what that means. \r\nMy code (see below) generates an error similar to the following for all three methods:\r\n\r\n[Test Failure: preorder] [-1.43] : Incorrect preorder traversal.\r\n\r\n    +-------------------------------------+\r\n    | Tree State :                        |\r\n    |                                     |\r\n    |               5                     |\r\n    |        /               \\            |\r\n    |       4                 7           |\r\n    |    /                       \\        |\r\n    |   1                         9       |\r\n    |  /   \\                   /          |\r\n    | 0     2                 8           |\r\n    |                                     |\r\n    | Expected : [5, 4, 1, 0, 2, 7, 9, 8] |\r\n    | Actual : [5]                        |\r\n    +-------------------------------------+\r\n**EDIT / UPDATE**\r\nI can see now that I was re-creating myList each time. This code seems to work as expected:\r\n\r\n    public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\r\n        List&lt;T&gt; myList = new ArrayList&lt;&gt;();\r\n        if (root != null) {\r\n            myList.add(root.getData());\r\n            myList.addAll(preorder(root.getLeft()));\r\n            myList.addAll(preorder(root.getRight()));\r\n        }\r\n        return myList;\r\n    }\r\n\r\nHowever, doesn&#39;t this also create a new myList each time preorder is called?     \r\n\r\n`Traversals` class: \r\n\r\n```java\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedList;\r\n    \r\n    /**\r\n     * Your implementation of the pre-order, in-order, and post-order\r\n     * traversals of a tree. Must be done recursively\r\n     */\r\n    public class Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n    \r\n        /**\r\n         * DO NOT ADD ANY GLOBAL VARIABLES!\r\n         */\r\n        public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\r\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\r\n            if (root != null) {\r\n                myList.add(root.getData());\r\n                preorder(root.getLeft());\r\n                preorder(root.getRight());\r\n            }\r\n            return myList;\r\n        }\r\n    \r\n\r\n        public List&lt;T&gt; inorder(TreeNode&lt;T&gt; root) {\r\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\r\n            if (root != null) {\r\n                inorder(root.getLeft());\r\n                myList.add(root.getData());\r\n                inorder(root.getRight());\r\n            }\r\n            return myList;\r\n        }\r\n    \r\n        public List&lt;T&gt; postorder(TreeNode&lt;T&gt; root) {\r\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\r\n            if (root != null) {\r\n                postorder(root.getLeft());\r\n                postorder(root.getRight());\r\n                myList.add(root.getData());\r\n            }\r\n            return myList;\r\n        }\r\n    }\r\n```\r\n\r\n`TreeNode` class:\r\n\r\n```java\r\n        public class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n    \r\n        private T data;\r\n        private TreeNode&lt;T&gt; left;\r\n        private TreeNode&lt;T&gt; right;\r\n    \r\n        /**\r\n         * Constructs a TreeNode with the given data.\r\n         * @param data the data stored in the new node\r\n         */\r\n        TreeNode(T data) {\r\n            this.data = data;\r\n        }\r\n    \r\n        /**\r\n         * Gets the data.\r\n         * @return the data\r\n         */\r\n        T getData() {\r\n            return data;\r\n        }\r\n    \r\n        /**\r\n         * Gets the left child.\r\n         * @return the left child\r\n         */\r\n        TreeNode&lt;T&gt; getLeft() {\r\n            return left;\r\n        }\r\n    \r\n        /**\r\n         * Gets the right child.\r\n         * @return the right child\r\n         */\r\n        TreeNode&lt;T&gt; getRight() {\r\n            return right;\r\n        }\r\n    \r\n        /**\r\n         * Sets the data.\r\n         * @param data the new data\r\n         */\r\n        void setData(T data) {\r\n            this.data = data;\r\n        }\r\n    \r\n        /**\r\n         * Sets the left child.\r\n         * @param left the new left child\r\n         */\r\n        void setLeft(TreeNode&lt;T&gt; left) {\r\n            this.left = left;\r\n        }\r\n    \r\n        /**\r\n         * Sets the right child.   \r\n         * @param right the new right child\r\n         */\r\n        void setRight(TreeNode&lt;T&gt; right) {\r\n            this.right = right;\r\n        }\r\n      }\r\n```java\r\n","title":"Recursive traversals of binary trees using Lists","body":"<p>This problem has us implementing pre-order, in-order and post-order tree traversals. I generally understand how traversals work. We need to implement the traversals in recursive faction. The problem comes with a <code>TreeNode</code> class (read-only; see code below).\nI thought this would be fairly straight-forward but doesn't seem to be working correctly. The problem suggests we use wrapper methods to get the recursion to work properly but I'm not 100% clear on what that means.\nMy code (see below) generates an error similar to the following for all three methods:</p>\n<p>[Test Failure: preorder] [-1.43] : Incorrect preorder traversal.</p>\n<pre><code>+-------------------------------------+\n| Tree State :                        |\n|                                     |\n|               5                     |\n|        /               \\            |\n|       4                 7           |\n|    /                       \\        |\n|   1                         9       |\n|  /   \\                   /          |\n| 0     2                 8           |\n|                                     |\n| Expected : [5, 4, 1, 0, 2, 7, 9, 8] |\n| Actual : [5]                        |\n+-------------------------------------+\n</code></pre>\n<p><strong>EDIT / UPDATE</strong>\nI can see now that I was re-creating myList each time. This code seems to work as expected:</p>\n<pre><code>public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\n    List&lt;T&gt; myList = new ArrayList&lt;&gt;();\n    if (root != null) {\n        myList.add(root.getData());\n        myList.addAll(preorder(root.getLeft()));\n        myList.addAll(preorder(root.getRight()));\n    }\n    return myList;\n}\n</code></pre>\n<p>However, doesn't this also create a new myList each time preorder is called?</p>\n<p><code>Traversals</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.List;\n    import java.util.ArrayList;\n    import java.util.LinkedList;\n    \n    /**\n     * Your implementation of the pre-order, in-order, and post-order\n     * traversals of a tree. Must be done recursively\n     */\n    public class Traversals&lt;T extends Comparable&lt;? super T&gt;&gt; {\n    \n        /**\n         * DO NOT ADD ANY GLOBAL VARIABLES!\n         */\n        public List&lt;T&gt; preorder(TreeNode&lt;T&gt; root) {\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\n            if (root != null) {\n                myList.add(root.getData());\n                preorder(root.getLeft());\n                preorder(root.getRight());\n            }\n            return myList;\n        }\n    \n\n        public List&lt;T&gt; inorder(TreeNode&lt;T&gt; root) {\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\n            if (root != null) {\n                inorder(root.getLeft());\n                myList.add(root.getData());\n                inorder(root.getRight());\n            }\n            return myList;\n        }\n    \n        public List&lt;T&gt; postorder(TreeNode&lt;T&gt; root) {\n            List&lt;T&gt; myList = new ArrayList&lt;&gt;();\n            if (root != null) {\n                postorder(root.getLeft());\n                postorder(root.getRight());\n                myList.add(root.getData());\n            }\n            return myList;\n        }\n    }\n</code></pre>\n<p><code>TreeNode</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public class TreeNode&lt;T extends Comparable&lt;? super T&gt;&gt; {\n    \n        private T data;\n        private TreeNode&lt;T&gt; left;\n        private TreeNode&lt;T&gt; right;\n    \n        /**\n         * Constructs a TreeNode with the given data.\n         * @param data the data stored in the new node\n         */\n        TreeNode(T data) {\n            this.data = data;\n        }\n    \n        /**\n         * Gets the data.\n         * @return the data\n         */\n        T getData() {\n            return data;\n        }\n    \n        /**\n         * Gets the left child.\n         * @return the left child\n         */\n        TreeNode&lt;T&gt; getLeft() {\n            return left;\n        }\n    \n        /**\n         * Gets the right child.\n         * @return the right child\n         */\n        TreeNode&lt;T&gt; getRight() {\n            return right;\n        }\n    \n        /**\n         * Sets the data.\n         * @param data the new data\n         */\n        void setData(T data) {\n            this.data = data;\n        }\n    \n        /**\n         * Sets the left child.\n         * @param left the new left child\n         */\n        void setLeft(TreeNode&lt;T&gt; left) {\n            this.left = left;\n        }\n    \n        /**\n         * Sets the right child.   \n         * @param right the new right child\n         */\n        void setRight(TreeNode&lt;T&gt; right) {\n            this.right = right;\n        }\n      }\n```java\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1340354261,"creation_date":1265982812,"answer_id":2252185,"question_id":2252085,"body_markdown":"So far I know, this is refereed to as &quot;out-of-order&quot; delivery and is part of the quality of service (QoS) attributes of the JMS system.  I don&#39;t think it&#39;s part of the JMS specification, but some provider support it maybe. That will depend on the particular JMS implementation you use.\r\n\r\nNote however that JMS is meant to distribute messages to *several* consumers in a way to distribute the load. If message have to be delivered in an ordered fashion this is not possible -- it basically lead to serialization of the message delivery and message could not be processed concurrently. \r\n\r\nThe [wikipedia][1] says it better than me:\r\n\r\n&gt; **JMS queue**\r\n&gt; A staging area that contains messages that have been sent and are\r\n&gt; waiting to be read. Note that,\r\n&gt; contrary to what the name queue\r\n&gt; suggests, messages don&#39;t have to be\r\n&gt; delivered in the order sent. If the\r\n&gt; message driven bean pool contains more\r\n&gt; than one instance then messages can be\r\n&gt; processed concurrently and thus it is\r\n&gt; possible that a later message is\r\n&gt; processed sooner than an earlier one.\r\n&gt; A JMS queue guarantees only that each\r\n&gt; message is processed only once.\r\n\r\nOut-of-band cancel request is not easy to achieve with JMS then. Two ideas:\r\n\r\n- Store a ticket which corresponds to each message in a database could be used to cancel message easily. When the message is delivered, the MDB check if the corresponding ticket is still valid. If yes, proceeds further, if not, drop the message.\r\n- Try to set the MDB pool size to one. Maybe in this case, the delivery will be ordered. Changing the pool size is app. server specific, but most of them support per-bean pool size.\r\n\r\nOtherwise, have maybe a look at the [message store][3] pattern. It&#39;s anyway worth checking the [EAI][4] website.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Message_Service\r\n  [3]: http://www.eaipatterns.com/MessageStore.html\r\n  [4]: http://www.eaipatterns.com/eaipatterns.html","title":"How to handle order of messages in JMS?","body":"<p>So far I know, this is refereed to as \"out-of-order\" delivery and is part of the quality of service (QoS) attributes of the JMS system.  I don't think it's part of the JMS specification, but some provider support it maybe. That will depend on the particular JMS implementation you use.</p>\n\n<p>Note however that JMS is meant to distribute messages to <em>several</em> consumers in a way to distribute the load. If message have to be delivered in an ordered fashion this is not possible -- it basically lead to serialization of the message delivery and message could not be processed concurrently. </p>\n\n<p>The <a href=\"http://en.wikipedia.org/wiki/Java_Message_Service\" rel=\"noreferrer\">wikipedia</a> says it better than me:</p>\n\n<blockquote>\n  <p><strong>JMS queue</strong>\n  A staging area that contains messages that have been sent and are\n  waiting to be read. Note that,\n  contrary to what the name queue\n  suggests, messages don't have to be\n  delivered in the order sent. If the\n  message driven bean pool contains more\n  than one instance then messages can be\n  processed concurrently and thus it is\n  possible that a later message is\n  processed sooner than an earlier one.\n  A JMS queue guarantees only that each\n  message is processed only once.</p>\n</blockquote>\n\n<p>Out-of-band cancel request is not easy to achieve with JMS then. Two ideas:</p>\n\n<ul>\n<li>Store a ticket which corresponds to each message in a database could be used to cancel message easily. When the message is delivered, the MDB check if the corresponding ticket is still valid. If yes, proceeds further, if not, drop the message.</li>\n<li>Try to set the MDB pool size to one. Maybe in this case, the delivery will be ordered. Changing the pool size is app. server specific, but most of them support per-bean pool size.</li>\n</ul>\n\n<p>Otherwise, have maybe a look at the <a href=\"http://www.eaipatterns.com/MessageStore.html\" rel=\"noreferrer\">message store</a> pattern. It's anyway worth checking the <a href=\"http://www.eaipatterns.com/eaipatterns.html\" rel=\"noreferrer\">EAI</a> website.</p>\n"},{"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267005564,"creation_date":1267005564,"answer_id":2325063,"question_id":2252085,"body_markdown":"Your system will be a lot more flexible if it can cope with the out-of-order messages.  The pattern I&#39;ve used to solve this in the past is to use a delay queue (on a system that processed 8 million messages-per-day in the financial world).\r\n\r\nIn your example, if I received a delete for an order I hadn&#39;t received yet, I&#39;d delay it for a period of time and retry.  If I still knew nothing about the order I&#39;m being asked to delete, I&#39;d raise some sort of error (reply to the original sender, send a message to a special error queue, ...).\r\n\r\nAs to the implementation of the delay queue, this can be another JMS queue with a service that can accept messages to be delayed. It then periodically reads the delayed messages and checks if the delayed time period has expired and re-submit the message to the original destination queue.","title":"How to handle order of messages in JMS?","body":"<p>Your system will be a lot more flexible if it can cope with the out-of-order messages.  The pattern I've used to solve this in the past is to use a delay queue (on a system that processed 8 million messages-per-day in the financial world).</p>\n\n<p>In your example, if I received a delete for an order I hadn't received yet, I'd delay it for a period of time and retry.  If I still knew nothing about the order I'm being asked to delete, I'd raise some sort of error (reply to the original sender, send a message to a special error queue, ...).</p>\n\n<p>As to the implementation of the delay queue, this can be another JMS queue with a service that can accept messages to be delayed. It then periodically reads the delayed messages and checks if the delayed time period has expired and re-submit the message to the original destination queue.</p>\n"},{"tags":[],"owner":{"account_id":22193,"reputation":6269,"user_id":54504,"accept_rate":88,"display_name":"p.marino"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1267007334,"creation_date":1267007334,"answer_id":2325227,"question_id":2252085,"body_markdown":"I second the advice about checking the EAI site, and the book it is based on (a fantastic text on MOMs and MOM patterns).\r\n\r\nPersonally I&#39;d investigate the [Resequencer][1], though.\r\n\r\n\r\n  [1]: http://www.eaipatterns.com/Resequencer.html","title":"How to handle order of messages in JMS?","body":"<p>I second the advice about checking the EAI site, and the book it is based on (a fantastic text on MOMs and MOM patterns).</p>\n\n<p>Personally I'd investigate the <a href=\"http://www.eaipatterns.com/Resequencer.html\" rel=\"noreferrer\">Resequencer</a>, though.</p>\n"},{"tags":[],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321051226,"creation_date":1313043681,"answer_id":7021636,"question_id":2252085,"body_markdown":"*[How to assure the sequence of message received by mdb?][1]* is about a similar topic on the server side where someone indicates that [ActiveMQ][2] might have a solution that preserves order. I guess this makes it verdor specific though.\r\n\r\n  [1]: http://www.theserverside.com/discussions/thread.tss?thread_id=37735\r\n  [2]: http://en.wikipedia.org/wiki/Apache_ActiveMQ\r\n\r\n","title":"How to handle order of messages in JMS?","body":"<p><em><a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=37735\" rel=\"nofollow\">How to assure the sequence of message received by mdb?</a></em> is about a similar topic on the server side where someone indicates that <a href=\"http://en.wikipedia.org/wiki/Apache_ActiveMQ\" rel=\"nofollow\">ActiveMQ</a> might have a solution that preserves order. I guess this makes it verdor specific though.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653483616,"creation_date":1642679305,"answer_id":70785704,"question_id":2252085,"body_markdown":"JMS queue should be treated as [FIFO](https://stackoverflow.com/a/40500475/448078) queue in general.  \r\nThe reasons for ordering being spoiled, according to [IBM MQ documentation](https://www.ibm.com/docs/en/was/8.5.5?topic=destinations-message-ordering) are:\r\n&gt;* Multiple destinations\r\n&gt;* Multiple producers\r\n&gt;* Multiple consumers\r\n&gt;* Publish and subscribe (imply multiple instances of a subscription)\r\n\r\nSimilar statements for [ActiveMQ](https://activemq.apache.org/how-do-i-preserve-order-of-messages)\r\n&gt;ActiveMQ will preserve the order of messages sent by a single producer to all consumers on a topic. If there is a single consumer on a queue then the order of messages sent by a single producer will be preserved as well.\r\nIf you have multiple consumers on a single queue the consumers will compete for messages and ActiveMQ will load balance across them, so order will be lost.\r\n\r\nYou need to process messages of the same group by the same thread (sequentially) not to reorder them. Kafka provide you smart partitioning of the message based on [message key](https://stackoverflow.com/q/29511521/448078). ActiveMQ has notion of [message groups](https://activemq.apache.org/message-groups) which utilizes message header.  \r\n\r\n---\r\n\r\nConsider partitioning example in consumer application using java fair locks if you can&#39;t use the above. Message reading from the queue and partition derivation should be synchronous, actual processing could be parallelized.\r\n\r\n\tString message;\r\n\tString messageKey;\r\n\tReentrantLock messageKeyLock;\r\n\tpartitioningSupport.getFairLock().lock();\r\n\ttry {\r\n\t\t// use DUPS_OK_ACKNOWLEDGE with deduplication service which improve performance of sequential read\r\n\t\tmessage = (String) jmsTemplate.receiveAndConvert(QUEUE);\r\n\t\tif (message == null || deduplicationService.deduplicate(md5(message)))\r\n\t\t\tcontinue;\r\n\t\tmessageKey = findByXPath(path, message)\r\n\t\tmessageKeyLock = partitioningSupport.getPartitionLock(messageKey);\r\n\t} finally {\r\n\t\tpartitioningSupport.getFairLock().unlock();\r\n\t}\r\n\t\r\n\tmessageKeyLock.lock();\r\n\ttry {\r\n\t    // parallel message processing\r\n\t} finally {\r\n\t    messageKeyLock.unlock();\r\n\t}\r\n\r\nWith 10 key diversity (number of unique keys), 10 consumer threads and 255 partitions, locking is notable\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith 1000 key diversity and others being the same, locking is rather casual and not notable (probability of waiting is relatively small).\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Implementation**\r\n\r\n\timport static org.apache.commons.lang3.RandomUtils.nextInt;\r\n\timport static org.apache.commons.lang3.StringUtils.isBlank;\r\n\t\r\n\timport java.util.concurrent.ConcurrentHashMap;\r\n\timport java.util.concurrent.locks.ReentrantLock;\r\n\t\r\n\tpublic class PartitioningSupport {\r\n\t\tprivate final ConcurrentHashMap&lt;Integer, ReentrantLock&gt; locks = new ConcurrentHashMap&lt;&gt;();\r\n\t\tprivate final ReentrantLock fairLock = new ReentrantLock(true);\r\n\t\tprivate final int diversity;\r\n\t\r\n\t\tpublic PartitioningSupport() {\r\n\t\t\tthis(0xff);\r\n\t\t}\r\n\t\r\n\t\tpublic PartitioningSupport(int diversity) {\r\n\t\t\tthis.diversity = diversity;\r\n\t\t}\r\n\t\r\n\t\tpublic ReentrantLock getPartitionLock(String messageKey) {\r\n\t\t\tfairLock.lock();\r\n\t\t\ttry {\r\n\t\t\t\tint partition = partition(messageKey);\r\n\t\t\t\tReentrantLock lock = locks.get(partition);\r\n\t\t\t\tif (lock == null) {\r\n\t\t\t\t\tlock = new ReentrantLock(true);\r\n\t\t\t\t\tlocks.put(partition, lock);\r\n\t\t\t\t}\r\n\t\t\t\treturn lock;\r\n\t\t\t} finally {\r\n\t\t\t\tfairLock.unlock();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate int partition(String key) {\r\n\t\t\treturn (isBlank(key) ? nextInt() : key.hashCode()) &amp; diversity;\r\n\t\t}\r\n\t\r\n\t\tpublic ReentrantLock getFairLock() {\r\n\t\t\treturn fairLock;\r\n\t\t}\r\n\t}\r\n\r\n**Test**\r\n\r\n\timport static java.lang.Integer.parseInt;\r\n\timport static java.lang.String.format;\r\n\timport static java.lang.System.out;\r\n\timport static java.lang.Thread.sleep;\r\n\timport static java.util.concurrent.Executors.newFixedThreadPool;\r\n\timport static org.apache.commons.lang3.RandomUtils.nextInt;\r\n\timport static org.apache.commons.lang3.RandomUtils.nextLong;\r\n\timport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\t\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\timport java.util.concurrent.BlockingQueue;\r\n\timport java.util.concurrent.ConcurrentHashMap;\r\n\timport java.util.concurrent.ExecutionException;\r\n\timport java.util.concurrent.ExecutorService;\r\n\timport java.util.concurrent.Future;\r\n\timport java.util.concurrent.LinkedBlockingDeque;\r\n\timport java.util.concurrent.atomic.AtomicInteger;\r\n\timport java.util.concurrent.locks.ReentrantLock;\r\n\t\r\n\timport org.junit.jupiter.api.Test;\r\n\t\r\n\timport com.google.common.util.concurrent.ThreadFactoryBuilder;\r\n\t\r\n\tpublic class PartitioningSupportTest {\r\n\t\tprivate BlockingQueue&lt;String&gt; queue = new LinkedBlockingDeque&lt;&gt;();\r\n\t\tprivate List&lt;Future&lt;?&gt;&gt; results = new ArrayList&lt;&gt;();\r\n\t\tprivate ExecutorService consumers = newFixedThreadPool(10, new ThreadFactoryBuilder().setNameFormat(&quot;consumer-%s&quot;).build());\r\n\t\tprivate PartitioningSupport partitioningSupport = new PartitioningSupport();\r\n\t\tprivate volatile ConcurrentHashMap&lt;String, AtomicInteger&gt; ids;\r\n\t\tprivate int repeatTest = 10;\r\n\t\tprivate int uniqueKeysCount = 1; // 100\r\n\t\tprivate int totalMessagesCount = 1000;\r\n\t\r\n\t\t@Test\r\n\t\tpublic void testProcessingOrder() throws InterruptedException, ExecutionException {\r\n\t\t\tfor (int testIter = 0; testIter &lt; repeatTest; testIter++) {\r\n\t\t\t\tids = new ConcurrentHashMap&lt;&gt;();\r\n\t\t\t\tresults = new ArrayList&lt;&gt;();\r\n\t\r\n\t\t\t\tfor (int messageIter = 1; messageIter &lt;= totalMessagesCount; messageIter++) {\r\n\t\t\t\t\tString messageKey = &quot;message-&quot; + nextInt(0, uniqueKeysCount);\r\n\t\t\t\t\tids.putIfAbsent(messageKey, new AtomicInteger());\r\n\t\t\t\t\tqueue.put(format(&quot;%s.%s&quot;, messageKey, messageIter));\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tfor (int i = 0; i &lt; totalMessagesCount; i++)\r\n\t\t\t\t\tresults.add(consumers.submit(this::consume));\r\n\t\r\n\t\t\t\tfor (Future&lt;?&gt; result : results)\r\n\t\t\t\t\tresult.get();\r\n\t\t\t}\r\n\t\t\tconsumers.shutdown();\r\n\t\t}\r\n\t\r\n\t\tprivate void consume() {\r\n\t\t\ttry {\r\n\t\t\t\tString message;\r\n\t\t\t\tString messageKey;\r\n\t\t\t\tReentrantLock messageKeyLock;\r\n\t\t\t\tpartitioningSupport.getFairLock().lock();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmessage = queue.take();\r\n\t\t\t\t\tmessageKey = message.substring(0, message.indexOf(&#39;.&#39;));\r\n\t\t\t\t\tmessageKeyLock = partitioningSupport.getPartitionLock(messageKey);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tpartitioningSupport.getFairLock().unlock();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tmessageKeyLock.lock();\r\n\t\t\t\ttry {\r\n\t\r\n\t\t\t\t\tsleep(nextLong(1, 10));\r\n\t\r\n\t\t\t\t\tint ordinal = parseInt(message.substring(message.indexOf(&#39;.&#39;) + 1));\r\n\t\t\t\t\tint previous = ids.get(messageKey).getAndSet(ordinal);\r\n\t\t\t\t\tout.printf(&quot;processed: %s - %s%n&quot;, messageKey, ordinal);\r\n\t\t\t\t\tassertTrue(ordinal &gt; previous, format(&quot;broken order %s [%s -&gt; %s]&quot;, messageKey, previous, ordinal));\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tmessageKeyLock.unlock();\r\n\t\t\t\t}\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://i.stack.imgur.com/6tr60.png\r\n  [2]: https://i.stack.imgur.com/rpopH.png","title":"How to handle order of messages in JMS?","body":"<p>JMS queue should be treated as <a href=\"https://stackoverflow.com/a/40500475/448078\">FIFO</a> queue in general.<br />\nThe reasons for ordering being spoiled, according to <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=destinations-message-ordering\" rel=\"nofollow noreferrer\">IBM MQ documentation</a> are:</p>\n<blockquote>\n<ul>\n<li>Multiple destinations</li>\n<li>Multiple producers</li>\n<li>Multiple consumers</li>\n<li>Publish and subscribe (imply multiple instances of a subscription)</li>\n</ul>\n</blockquote>\n<p>Similar statements for <a href=\"https://activemq.apache.org/how-do-i-preserve-order-of-messages\" rel=\"nofollow noreferrer\">ActiveMQ</a></p>\n<blockquote>\n<p>ActiveMQ will preserve the order of messages sent by a single producer to all consumers on a topic. If there is a single consumer on a queue then the order of messages sent by a single producer will be preserved as well.\nIf you have multiple consumers on a single queue the consumers will compete for messages and ActiveMQ will load balance across them, so order will be lost.</p>\n</blockquote>\n<p>You need to process messages of the same group by the same thread (sequentially) not to reorder them. Kafka provide you smart partitioning of the message based on <a href=\"https://stackoverflow.com/q/29511521/448078\">message key</a>. ActiveMQ has notion of <a href=\"https://activemq.apache.org/message-groups\" rel=\"nofollow noreferrer\">message groups</a> which utilizes message header.</p>\n<hr />\n<p>Consider partitioning example in consumer application using java fair locks if you can't use the above. Message reading from the queue and partition derivation should be synchronous, actual processing could be parallelized.</p>\n<pre><code>String message;\nString messageKey;\nReentrantLock messageKeyLock;\npartitioningSupport.getFairLock().lock();\ntry {\n    // use DUPS_OK_ACKNOWLEDGE with deduplication service which improve performance of sequential read\n    message = (String) jmsTemplate.receiveAndConvert(QUEUE);\n    if (message == null || deduplicationService.deduplicate(md5(message)))\n        continue;\n    messageKey = findByXPath(path, message)\n    messageKeyLock = partitioningSupport.getPartitionLock(messageKey);\n} finally {\n    partitioningSupport.getFairLock().unlock();\n}\n\nmessageKeyLock.lock();\ntry {\n    // parallel message processing\n} finally {\n    messageKeyLock.unlock();\n}\n</code></pre>\n<p>With 10 key diversity (number of unique keys), 10 consumer threads and 255 partitions, locking is notable</p>\n<p><a href=\"https://i.stack.imgur.com/6tr60.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6tr60.png\" alt=\"enter image description here\" /></a></p>\n<p>With 1000 key diversity and others being the same, locking is rather casual and not notable (probability of waiting is relatively small).</p>\n<p><a href=\"https://i.stack.imgur.com/rpopH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rpopH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Implementation</strong></p>\n<pre><code>import static org.apache.commons.lang3.RandomUtils.nextInt;\nimport static org.apache.commons.lang3.StringUtils.isBlank;\n\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class PartitioningSupport {\n    private final ConcurrentHashMap&lt;Integer, ReentrantLock&gt; locks = new ConcurrentHashMap&lt;&gt;();\n    private final ReentrantLock fairLock = new ReentrantLock(true);\n    private final int diversity;\n\n    public PartitioningSupport() {\n        this(0xff);\n    }\n\n    public PartitioningSupport(int diversity) {\n        this.diversity = diversity;\n    }\n\n    public ReentrantLock getPartitionLock(String messageKey) {\n        fairLock.lock();\n        try {\n            int partition = partition(messageKey);\n            ReentrantLock lock = locks.get(partition);\n            if (lock == null) {\n                lock = new ReentrantLock(true);\n                locks.put(partition, lock);\n            }\n            return lock;\n        } finally {\n            fairLock.unlock();\n        }\n    }\n\n    private int partition(String key) {\n        return (isBlank(key) ? nextInt() : key.hashCode()) &amp; diversity;\n    }\n\n    public ReentrantLock getFairLock() {\n        return fairLock;\n    }\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>import static java.lang.Integer.parseInt;\nimport static java.lang.String.format;\nimport static java.lang.System.out;\nimport static java.lang.Thread.sleep;\nimport static java.util.concurrent.Executors.newFixedThreadPool;\nimport static org.apache.commons.lang3.RandomUtils.nextInt;\nimport static org.apache.commons.lang3.RandomUtils.nextLong;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.LinkedBlockingDeque;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.locks.ReentrantLock;\n\nimport org.junit.jupiter.api.Test;\n\nimport com.google.common.util.concurrent.ThreadFactoryBuilder;\n\npublic class PartitioningSupportTest {\n    private BlockingQueue&lt;String&gt; queue = new LinkedBlockingDeque&lt;&gt;();\n    private List&lt;Future&lt;?&gt;&gt; results = new ArrayList&lt;&gt;();\n    private ExecutorService consumers = newFixedThreadPool(10, new ThreadFactoryBuilder().setNameFormat(&quot;consumer-%s&quot;).build());\n    private PartitioningSupport partitioningSupport = new PartitioningSupport();\n    private volatile ConcurrentHashMap&lt;String, AtomicInteger&gt; ids;\n    private int repeatTest = 10;\n    private int uniqueKeysCount = 1; // 100\n    private int totalMessagesCount = 1000;\n\n    @Test\n    public void testProcessingOrder() throws InterruptedException, ExecutionException {\n        for (int testIter = 0; testIter &lt; repeatTest; testIter++) {\n            ids = new ConcurrentHashMap&lt;&gt;();\n            results = new ArrayList&lt;&gt;();\n\n            for (int messageIter = 1; messageIter &lt;= totalMessagesCount; messageIter++) {\n                String messageKey = &quot;message-&quot; + nextInt(0, uniqueKeysCount);\n                ids.putIfAbsent(messageKey, new AtomicInteger());\n                queue.put(format(&quot;%s.%s&quot;, messageKey, messageIter));\n            }\n\n            for (int i = 0; i &lt; totalMessagesCount; i++)\n                results.add(consumers.submit(this::consume));\n\n            for (Future&lt;?&gt; result : results)\n                result.get();\n        }\n        consumers.shutdown();\n    }\n\n    private void consume() {\n        try {\n            String message;\n            String messageKey;\n            ReentrantLock messageKeyLock;\n            partitioningSupport.getFairLock().lock();\n            try {\n                message = queue.take();\n                messageKey = message.substring(0, message.indexOf('.'));\n                messageKeyLock = partitioningSupport.getPartitionLock(messageKey);\n            } finally {\n                partitioningSupport.getFairLock().unlock();\n            }\n\n            messageKeyLock.lock();\n            try {\n\n                sleep(nextLong(1, 10));\n\n                int ordinal = parseInt(message.substring(message.indexOf('.') + 1));\n                int previous = ids.get(messageKey).getAndSet(ordinal);\n                out.printf(&quot;processed: %s - %s%n&quot;, messageKey, ordinal);\n                assertTrue(ordinal &gt; previous, format(&quot;broken order %s [%s -&gt; %s]&quot;, messageKey, previous, ordinal));\n            } finally {\n                messageKeyLock.unlock();\n            }\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":100955,"reputation":977,"user_id":271858,"accept_rate":90,"display_name":"user271858"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29482,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":2252185,"answer_count":5,"score":27,"last_activity_date":1653483616,"creation_date":1265981713,"question_id":2252085,"body_markdown":"I am reviewing a client-server application written in Java. The server receives JMS messages and processes them but the messages can come in an unexpected order, and a cancel can arrive before an order message. How do you handle such a case? Do you do it in the mdb?\r\n\r\nWhat are some strategies or patterns for this kind of scenario?\r\n","title":"How to handle order of messages in JMS?","body":"<p>I am reviewing a client-server application written in Java. The server receives JMS messages and processes them but the messages can come in an unexpected order, and a cancel can arrive before an order message. How do you handle such a case? Do you do it in the mdb?</p>\n\n<p>What are some strategies or patterns for this kind of scenario?</p>\n"},{"tags":["java","function","lambda"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653483085,"post_id":72377837,"comment_id":127862855,"body_markdown":"Does this answer your question? [&quot;Make this anonymous inner class a lambda&quot; code smell in SonarLint](https://stackoverflow.com/questions/72255016/make-this-anonymous-inner-class-a-lambda-code-smell-in-sonarlint)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72255016/make-this-anonymous-inner-class-a-lambda-code-smell-in-sonarlint\">&quot;Make this anonymous inner class a lambda&quot; code smell in SonarLint</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653489201,"post_id":72377837,"comment_id":127865646,"body_markdown":"`Transformer` is an interface? Only interfaces could be implemented using lambda expressions, and `transform()` should be the only abstract method.","body":"<code>Transformer</code> is an interface? Only interfaces could be implemented using lambda expressions, and <code>transform()</code> should be the only abstract method."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1653489599,"post_id":72377837,"comment_id":127865818,"body_markdown":"Keep in mind that avoiding side-effects is something that&#39;s asked moreso of `java.util.Stream` usage, rather than lambdas wholesale.","body":"Keep in mind that avoiding side-effects is something that&#39;s asked moreso of <code>java.util.Stream</code> usage, rather than lambdas wholesale."}],"answers":[{"tags":[],"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653483385,"creation_date":1653483385,"answer_id":72378092,"question_id":72377837,"body_markdown":"This is what you need, no need to create an object of a some class:\r\n\r\n```\r\nFunction&lt;Object, Object&gt; transform = o -&gt; {\r\n        Tag tag = (Tag) o;\r\n\r\n        String tagId = tag.getTagID();\r\n        ValueMap vm = new ValueMapDecorator(new HashMap&lt;&gt;());\r\n        vm.put(&quot;value&quot;, tagId);\r\n        vm.put(&quot;text&quot;, tag.getTitlePath(locale));\r\n        return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\r\n\r\n    };\r\n```","title":"Code Smell : Make this anonymous inner class a lambda","body":"<p>This is what you need, no need to create an object of a some class:</p>\n<pre><code>Function&lt;Object, Object&gt; transform = o -&gt; {\n        Tag tag = (Tag) o;\n\n        String tagId = tag.getTagID();\n        ValueMap vm = new ValueMapDecorator(new HashMap&lt;&gt;());\n        vm.put(&quot;value&quot;, tagId);\n        vm.put(&quot;text&quot;, tag.getTitlePath(locale));\n        return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\n\n    };\n</code></pre>\n"}],"owner":{"account_id":3338979,"reputation":15534,"user_id":4452553,"accept_rate":73,"display_name":"guradio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72378092,"answer_count":1,"score":2,"last_activity_date":1653483385,"creation_date":1653482468,"question_id":72377837,"body_markdown":"\tpublic Transformer getTransformed(Locale locale, SlingHttpServletRequest request) {\r\n\t\treturn new Transformer() {\r\n\t\t    public Object transform(Object o) {\r\n\t\t        Tag tag = (Tag) o;\r\n\r\n\t\t        String tagId = tag.getTagID();\r\n\t\t        ValueMap vm = new ValueMapDecorator(new HashMap&lt;&gt;());\r\n\t\t        vm.put(&quot;value&quot;, tagId);\r\n\t\t        vm.put(&quot;text&quot;, tag.getTitlePath(locale));\r\n\t\t        return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\r\n\t\t    }\r\n\t\t};\r\n\t}\r\n\r\n[![enter image description here][1]][1]\r\nI have the above function and I got a code smell that says `&quot; Make this anonymous inner class a lambda &quot;` . \r\n\r\nNow I am not sure how to convert this to a lambda function because of the putting of value in valuemap.\r\nHow to convert the above function into a lambda function?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XJVsJ.png","title":"Code Smell : Make this anonymous inner class a lambda","body":"<pre><code>public Transformer getTransformed(Locale locale, SlingHttpServletRequest request) {\n    return new Transformer() {\n        public Object transform(Object o) {\n            Tag tag = (Tag) o;\n\n            String tagId = tag.getTagID();\n            ValueMap vm = new ValueMapDecorator(new HashMap&lt;&gt;());\n            vm.put(&quot;value&quot;, tagId);\n            vm.put(&quot;text&quot;, tag.getTitlePath(locale));\n            return new ValueMapResource(request.getResourceResolver(), new ResourceMetadata(), &quot;nt:unstructured&quot;, vm);\n        }\n    };\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XJVsJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJVsJ.png\" alt=\"enter image description here\" /></a>\nI have the above function and I got a code smell that says <code>&quot; Make this anonymous inner class a lambda &quot;</code> .</p>\n<p>Now I am not sure how to convert this to a lambda function because of the putting of value in valuemap.\nHow to convert the above function into a lambda function?</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":4130267,"reputation":763,"user_id":3388381,"accept_rate":100,"display_name":"ph0enix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653483300,"creation_date":1653483300,"answer_id":72378069,"question_id":72377502,"body_markdown":"The Javadoc of `setBeforeScanHandler` says:\r\n\r\n&gt; Registers a handler called before every scan. This method is mostly used for logging purpose.\r\n\r\nWhich means that in your case the program will check for changes in the JSON file every five seconds as specified in `.setScanPeriod(5000)`. If the program finds the change during one of those checks, first the `configRetriever.setBeforeScanHandler` method will trigger, followed by `configRetriever.listen`. \r\n\r\nThe order of messages when there is a change will be: \r\n\r\n    config : {...} \r\n    new config:{...} \r\n    old config:{...}\r\n\r\nThe program does not register the config change immediately, but only on the regularly scheduled interval checks, as is stated in the `setScanPeriod` JavaDoc:\r\n\r\n&gt; Configures the scan period, in ms. This is the time amount between two\r\n&gt; checks of the configuration updates.","title":"Having trouble listen vert.x config change","body":"<p>The Javadoc of <code>setBeforeScanHandler</code> says:</p>\n<blockquote>\n<p>Registers a handler called before every scan. This method is mostly used for logging purpose.</p>\n</blockquote>\n<p>Which means that in your case the program will check for changes in the JSON file every five seconds as specified in <code>.setScanPeriod(5000)</code>. If the program finds the change during one of those checks, first the <code>configRetriever.setBeforeScanHandler</code> method will trigger, followed by <code>configRetriever.listen</code>.</p>\n<p>The order of messages when there is a change will be:</p>\n<pre><code>config : {...} \nnew config:{...} \nold config:{...}\n</code></pre>\n<p>The program does not register the config change immediately, but only on the regularly scheduled interval checks, as is stated in the <code>setScanPeriod</code> JavaDoc:</p>\n<blockquote>\n<p>Configures the scan period, in ms. This is the time amount between two\nchecks of the configuration updates.</p>\n</blockquote>\n"}],"owner":{"account_id":13355432,"reputation":21,"user_id":9639163,"display_name":"Tungchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653483300,"creation_date":1653481047,"question_id":72377502,"body_markdown":"I changed my config-test.json,but application did not print &quot;new config:...&quot;,the before scanhander has print .\r\n\r\n``` Vertx vertx = Vertx.vertx(new VertxOptions().setAddressResolverOptions(null));\r\n        JsonObject jsonConfig = new JsonObject();\r\n        jsonConfig.put(&quot;path&quot;, &quot;test.json&quot;);\r\n        ConfigStoreOptions config = new ConfigStoreOptions();\r\n        config.setType(&quot;file&quot;).setOptional(true).setConfig(jsonConfig);\r\n        \r\n        ConfigRetrieverOptions options =\r\n                new ConfigRetrieverOptions().addStore(config).setScanPeriod(5000);\r\n        ConfigRetriever configRetriever = ConfigRetriever.create(vertx, options);\r\n        configRetriever.setBeforeScanHandler(h -&gt; {\r\n            System.out.println(&quot;config:&quot; + configRetriever.getCachedConfig());\r\n        });\r\n        configRetriever.listen(change -&gt; {\r\n            JsonObject newConfiguration = change.getNewConfiguration();\r\n            System.out.println(&quot;new config:&quot; + newConfiguration);\r\n            JsonObject old = change.getPreviousConfiguration();\r\n            System.out.println(&quot;old config:&quot; + old);\r\n        });\r\n```\r\n","title":"Having trouble listen vert.x config change","body":"<p>I changed my config-test.json,but application did not print &quot;new config:...&quot;,the before scanhander has print .</p>\n<pre><code>        JsonObject jsonConfig = new JsonObject();\n        jsonConfig.put(&quot;path&quot;, &quot;test.json&quot;);\n        ConfigStoreOptions config = new ConfigStoreOptions();\n        config.setType(&quot;file&quot;).setOptional(true).setConfig(jsonConfig);\n        \n        ConfigRetrieverOptions options =\n                new ConfigRetrieverOptions().addStore(config).setScanPeriod(5000);\n        ConfigRetriever configRetriever = ConfigRetriever.create(vertx, options);\n        configRetriever.setBeforeScanHandler(h -&gt; {\n            System.out.println(&quot;config:&quot; + configRetriever.getCachedConfig());\n        });\n        configRetriever.listen(change -&gt; {\n            JsonObject newConfiguration = change.getNewConfiguration();\n            System.out.println(&quot;new config:&quot; + newConfiguration);\n            JsonObject old = change.getPreviousConfiguration();\n            System.out.println(&quot;old config:&quot; + old);\n        });\n</code></pre>\n"},{"tags":["java","android","exif","android-gallery","android-camera-intent"],"comments":[{"owner":{"account_id":56371,"reputation":2693,"user_id":168843,"accept_rate":72,"display_name":"wkhatch"},"score":0,"creation_date":1421894522,"post_id":27732781,"comment_id":44539551,"body_markdown":"why are you calling exif.saveAttributes multiple times? I believe that creates a new image each time. Just wondering","body":"why are you calling exif.saveAttributes multiple times? I believe that creates a new image each time. Just wondering"},{"owner":{"account_id":2050051,"reputation":6047,"user_id":1829251,"accept_rate":96,"display_name":"Brian Var"},"score":0,"creation_date":1422281154,"post_id":27732781,"comment_id":44674478,"body_markdown":"Its possible, I haven&#39;t worked on this project in a while, I think the problem may have been that the data is being saved to a temp image called &quot;exif&quot; and is never written to the original image.","body":"Its possible, I haven&#39;t worked on this project in a while, I think the problem may have been that the data is being saved to a temp image called &quot;exif&quot; and is never written to the original image."}],"answers":[{"tags":[],"owner":{"account_id":5173309,"reputation":998,"user_id":4141219,"accept_rate":88,"display_name":"Charlie"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1420144666,"creation_date":1420139870,"answer_id":27733838,"question_id":27732781,"body_markdown":"You&#39;re using `exifVar.toString()`. This returns just the filename, not the path to the image. As your app is probably not in the folder with pictures, you should use `exifVar.getAbsolutePath()`.\r\n\r\nIf you&#39;re not taking the picture at the same time you&#39;re running the program, the Path won&#39;t be right. Use this code instead:\r\n\r\n    File[] files = directory.listFiles();\r\n\r\n    if(files.length==0) {\r\n        // No images available\r\n        return;\r\n    }\r\n\r\n\tFile newestFile = files[files.length-1];\r\n\t\t\r\n\tFile exifVar =  new File(directory.getPath() + File.separator + newestFile.getName());\r\n\r\nOff-Topic:\r\n\r\nAccording to your huge import list:\r\n\r\n    import android.content.*;\r\n\r\nimports\r\n\r\n    android.content.Context,\r\n    android.content.DialogInterface and\r\n    android.content.Intent\r\n\r\nThat makes your code quite a bit shorter. Just saying","title":"How to write exif data to image in Android?","body":"<p>You're using <code>exifVar.toString()</code>. This returns just the filename, not the path to the image. As your app is probably not in the folder with pictures, you should use <code>exifVar.getAbsolutePath()</code>.</p>\n\n<p>If you're not taking the picture at the same time you're running the program, the Path won't be right. Use this code instead:</p>\n\n<pre><code>File[] files = directory.listFiles();\n\nif(files.length==0) {\n    // No images available\n    return;\n}\n\nFile newestFile = files[files.length-1];\n\nFile exifVar =  new File(directory.getPath() + File.separator + newestFile.getName());\n</code></pre>\n\n<p>Off-Topic:</p>\n\n<p>According to your huge import list:</p>\n\n<pre><code>import android.content.*;\n</code></pre>\n\n<p>imports</p>\n\n<pre><code>android.content.Context,\nandroid.content.DialogInterface and\nandroid.content.Intent\n</code></pre>\n\n<p>That makes your code quite a bit shorter. Just saying</p>\n"},{"tags":[],"owner":{"account_id":5203665,"reputation":73,"user_id":4601831,"display_name":"user51465478484"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581517340,"creation_date":1425607616,"answer_id":28891244,"question_id":27732781,"body_markdown":"You need first to copy the exif files located here [google exif][1] to your project, then use the following code :\r\n```java\r\n    ExifInterface exif = new ExifInterface();\r\n    exif.readExif(exifVar.getAbsolutePath());\r\n    exif.setTagValue(ExifInterface.TAG_USER_COMMENT, mString);\r\n    exif.forceRewriteExif(exifVar.getAbsolutePath())); \r\n```\r\nExifInterface used here is the new one you&#39;ve just added.\r\n\r\n\r\n\r\n         \r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/packages/apps/Gallery2/+/android-5.0.2_r1/gallerycommon/src/com/android/gallery3d/exif/","title":"How to write exif data to image in Android?","body":"<p>You need first to copy the exif files located here <a href=\"https://android.googlesource.com/platform/packages/apps/Gallery2/+/android-5.0.2_r1/gallerycommon/src/com/android/gallery3d/exif/\" rel=\"nofollow noreferrer\">google exif</a> to your project, then use the following code :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    ExifInterface exif = new ExifInterface();\n    exif.readExif(exifVar.getAbsolutePath());\n    exif.setTagValue(ExifInterface.TAG_USER_COMMENT, mString);\n    exif.forceRewriteExif(exifVar.getAbsolutePath())); \n</code></pre>\n\n<p>ExifInterface used here is the new one you've just added.</p>\n"},{"tags":[],"owner":{"account_id":750352,"reputation":722,"user_id":746408,"display_name":"Eli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598794816,"creation_date":1598772512,"answer_id":63655027,"question_id":27732781,"body_markdown":"Make sure you set the write to sd permission (both static and dynamic),\r\nAlso for Android 10, you need to set this:\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\nto the manifest application ","title":"How to write exif data to image in Android?","body":"<p>Make sure you set the write to sd permission (both static and dynamic),\nAlso for Android 10, you need to set this:\nandroid:requestLegacyExternalStorage=&quot;true&quot;</p>\n<p>to the manifest application</p>\n"}],"owner":{"account_id":2050051,"reputation":6047,"user_id":1829251,"accept_rate":96,"display_name":"Brian Var"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22780,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1653483227,"creation_date":1420131716,"question_id":27732781,"body_markdown":"I&#39;m trying to write a `User_Comment` and `TAG_GPS` to a captured image in an Android application using the exif interface, but for some reason the tags don&#39;t seem to be appended to the image when I view the image&#39;s details in the gallery.\r\n\r\nIt seems that maybe the tags are not being written to the captured image as the file path may be wrong. I think it could be because I&#39;ve written the tags to an incorrect image path.\r\n\r\n\r\nDoes anyone know if their is a problem with the way I&#39;m writing the tags to the image?\r\n\r\n\r\nThis is the code that saves the exif data following @Charlie&#39;s changes below:\r\n\r\n\r\n    private File getOutputPhotoFile() throws IOException {\r\n    \t\t  File directory = new File(Environment.getExternalStoragePublicDirectory(\r\n    \t\t                Environment.DIRECTORY_PICTURES), getPackageName());\r\n    \t\t  if (!directory.exists()) {\r\n    \t\t    if (!directory.mkdirs()) {\r\n    \t\t      Log.e(TAG, &quot;Failed to create storage directory.&quot;);\r\n    \t\t      return null;\r\n    \t\t    }\r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  \r\n    \t\t  String timeStamp = new SimpleDateFormat(&quot;yyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n    \t\t \r\n    \t\t  File[] files = directory.listFiles();\r\n     \r\n    \t\t  File exifVar =  new File(directory.getPath(), &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\r\n    \t\t  if(files.length!=0) {\r\n    \t\t      File newestFile = files[files.length-1];\r\n    \t\t      exifVar =  new File(directory.getPath() + File.separator + newestFile.getName());\r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  String mString = &quot;Generic Text..&quot;;     \r\n    \t\t  ExifInterface exif = new ExifInterface(exifVar.getAbsolutePath());\r\n    \t\t  exif.setAttribute(&quot;UserComment&quot;, mString);\r\n    \t\t  exif.saveAttributes();\r\n    \t\t \r\n    \t\t    \r\n    \t\t  exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE,\r\n    \t        String.valueOf(latituteField.toString()));\r\n     \r\n    \t\t  exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE, \r\n    \t        String.valueOf(longitudeField.toString()));\r\n     \r\n    \t\t  exif.saveAttributes();\r\n    \t\t \r\n    \t\t  return exifVar; \r\n    \t\t  \r\n    \t\t  \r\n    \t\t  \r\n    \t\t  \r\n    \t}\r\n    \r\n        ","title":"How to write exif data to image in Android?","body":"<p>I'm trying to write a <code>User_Comment</code> and <code>TAG_GPS</code> to a captured image in an Android application using the exif interface, but for some reason the tags don't seem to be appended to the image when I view the image's details in the gallery.</p>\n\n<p>It seems that maybe the tags are not being written to the captured image as the file path may be wrong. I think it could be because I've written the tags to an incorrect image path.</p>\n\n<p>Does anyone know if their is a problem with the way I'm writing the tags to the image?</p>\n\n<p>This is the code that saves the exif data following @Charlie's changes below:</p>\n\n<pre><code>private File getOutputPhotoFile() throws IOException {\n          File directory = new File(Environment.getExternalStoragePublicDirectory(\n                        Environment.DIRECTORY_PICTURES), getPackageName());\n          if (!directory.exists()) {\n            if (!directory.mkdirs()) {\n              Log.e(TAG, \"Failed to create storage directory.\");\n              return null;\n            }\n          }\n\n\n          String timeStamp = new SimpleDateFormat(\"yyyMMdd_HHmmss\", Locale.ENGLISH).format(new Date());\n\n          File[] files = directory.listFiles();\n\n          File exifVar =  new File(directory.getPath(), \"IMG_\" + timeStamp + \".jpg\");\n          if(files.length!=0) {\n              File newestFile = files[files.length-1];\n              exifVar =  new File(directory.getPath() + File.separator + newestFile.getName());\n          }\n\n          String mString = \"Generic Text..\";     \n          ExifInterface exif = new ExifInterface(exifVar.getAbsolutePath());\n          exif.setAttribute(\"UserComment\", mString);\n          exif.saveAttributes();\n\n\n          exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE,\n            String.valueOf(latituteField.toString()));\n\n          exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE, \n            String.valueOf(longitudeField.toString()));\n\n          exif.saveAttributes();\n\n          return exifVar; \n\n\n\n\n    }\n</code></pre>\n"},{"tags":["java","https","http-status-code-503"],"comments":[{"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"score":0,"creation_date":1653366318,"post_id":72354277,"comment_id":127828105,"body_markdown":"Please let me know if this method will work if you make one call? I think this is due to the protection of the site from parsing, if so, then I can only help","body":"Please let me know if this method will work if you make one call? I think this is due to the protection of the site from parsing, if so, then I can only help"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1653378904,"post_id":72354277,"comment_id":127831246,"body_markdown":"@BorisIvanov The method used to work if you made a single call. It also worked for many calls. Now, however, it does not work; a single call or many, it fails in both cases","body":"@BorisIvanov The method used to work if you made a single call. It also worked for many calls. Now, however, it does not work; a single call or many, it fails in both cases"},{"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"score":0,"creation_date":1653384287,"post_id":72354277,"comment_id":127833284,"body_markdown":"Can you try to make a  single call from another IP address? This is most often due to IP address blocking. If this is the cause of the problem, then I will give you a solution that will help you avoid it. Please let me know","body":"Can you try to make a  single call from another IP address? This is most often due to IP address blocking. If this is the cause of the problem, then I will give you a solution that will help you avoid it. Please let me know"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1653396975,"post_id":72354277,"comment_id":127838159,"body_markdown":"Can the problem really be IP blocking when I can access the same website through my browser (from the same computer)? If I can type the URL into Firefox and access the site just fine, then it shouldn&#39;t be IP blocking that&#39;s stopping me from accessing it through Java, right?","body":"Can the problem really be IP blocking when I can access the same website through my browser (from the same computer)? If I can type the URL into Firefox and access the site just fine, then it shouldn&#39;t be IP blocking that&#39;s stopping me from accessing it through Java, right?"},{"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"score":0,"creation_date":1653399416,"post_id":72354277,"comment_id":127839317,"body_markdown":"I can&#39;t tell you with certainty about the reasons for the blocking, I can only assume because I don&#39;t have a link to this website\nIf you can share a link to the website, then I can try it myself. Or I can write the code and you can try it yourself. What&#39;s best?","body":"I can&#39;t tell you with certainty about the reasons for the blocking, I can only assume because I don&#39;t have a link to this website If you can share a link to the website, then I can try it myself. Or I can write the code and you can try it yourself. What&#39;s best?"},{"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"score":0,"creation_date":1653424465,"post_id":72354277,"comment_id":127848762,"body_markdown":"@BorisIvanov Being perfectly honest, the program I had made was for downloading images from a hentai site (example link https://nhentai.net/g/378446/ if you want one). Also, when accessing it just now it DID use Cloudflare for the first time I&#39;ve noticed. If you can write code that can access any page on that site then I&#39;d be quite grateful.","body":"@BorisIvanov Being perfectly honest, the program I had made was for downloading images from a hentai site (example link <a href=\"https://nhentai.net/g/378446/\" rel=\"nofollow noreferrer\">nhentai.net/g/378446</a> if you want one). Also, when accessing it just now it DID use Cloudflare for the first time I&#39;ve noticed. If you can write code that can access any page on that site then I&#39;d be quite grateful."},{"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"score":0,"creation_date":1653483182,"post_id":72354277,"comment_id":127862896,"body_markdown":"I added the code, I hope it will work for you too, in any case, if you find a better solution, let me know.","body":"I added the code, I hope it will work for you too, in any case, if you find a better solution, let me know."}],"answers":[{"tags":[],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653483048,"creation_date":1653483048,"answer_id":72378002,"question_id":72354277,"body_markdown":"### So our task is: **How parse html-text with Java on website that&#39;s protected by cloudflare.** ###\r\nThe speed of my method may not meet your requirements, because not every API call is successful. However, it works: \r\n\r\nWe will use Proxy Api web scrapping [SCRAPPER-API](https://www.scraperapi.com/)\r\nwith the free version, registration takes no more than 5 minutes. We need to get an API key (We can use any one if it&#39;s better for you)\r\n\r\n 1. First step create util class:\r\n````\r\nimport org.apache.commons.io.IOUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.util.Map;\r\nimport java.util.zip.GZIPInputStream;\r\n\r\npublic class Downloader {\r\n\r\n    public static String downloadText(String url) throws IOException {\r\n        return downloadText(url, &quot;utf-8&quot;);\r\n    }\r\n\r\n    public static String downloadTextWithHeaders(String url, Map&lt;String, String&gt; headers) throws IOException {\r\n        return downloadTextWithHeaders(url, &quot;utf-8&quot;, headers);\r\n    }\r\n\r\n    public static String downloadTextWithHeaders(String url, String encoding, Map&lt;String, String&gt; headers) throws IOException {\r\n        URLConnection connection = new URL(url).openConnection();\r\n\r\n        for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\r\n            connection.setRequestProperty(header.getKey(), header.getValue());\r\n        }\r\n\r\n        InputStream in = connection.getInputStream();\r\n\r\n        if (&quot;gzip&quot;.equals(connection.getContentEncoding())) {\r\n            in = new GZIPInputStream(in);\r\n        }\r\n\r\n        try {\r\n            return IOUtils.toString(in, encoding);\r\n        } finally {\r\n            IOUtils.closeQuietly(in);\r\n        }\r\n    }\r\n\r\n    public static String downloadText(String url, String encoding) throws IOException {\r\n\r\n        url = url.replace(&quot; &quot;, &quot;%20&quot;);\r\n        InputStream in = new URL(url).openStream();\r\n\r\n        try {\r\n            return IOUtils.toString(in, encoding);\r\n        } finally {\r\n            IOUtils.closeQuietly(in);\r\n        }\r\n    }\r\n}\r\n````\r\n2. Create SiteScrapper class:\r\n````\r\nimport org.apache.http.client.fluent.Content;\r\nimport org.apache.http.client.fluent.Executor;\r\nimport org.apache.http.client.fluent.Request;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport ru.mtgsale.common.Utils;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SiteScrapper {\r\n    private static final Logger log = LoggerFactory.getLogger(SiteScrapper.class);\r\n    private static final int TIMEOUT = 30000;\r\n    private static final String API_KEY = &quot;YOU_API_KEY&quot;;  //api key from ScrapperApi\r\n\r\n    private final boolean direct; // need for turn ON/OFF proxy\r\n    private final Map&lt;String, String&gt; HEADERS = new HashMap&lt;&gt;();\r\n    private final Checker checker; // does the page contain the required text\r\n\r\n    public interface Checker {\r\n        boolean check(String pageText);\r\n    }\r\n\r\n    public SiteScrapper(boolean direct, Checker checker) throws IOException {\r\n        this.direct = direct;  \r\n        this.checker = checker; \r\n\r\n        HEADERS.put(&quot;Accept&quot;, &quot;*/*&quot;);\r\n        HEADERS.put(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\r\n        HEADERS.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36&quot;);\r\n    }\r\n\r\n    public String downloadText(String url) throws IOException {\r\n        return downloadText(url, null);\r\n    }\r\n    \r\n    public String downloadText(String url, String encoding) throws IOException {\r\n\r\n        if (direct) {\r\n            if (encoding == null) {\r\n                return Downloader.downloadTextWithHeaders(url, HEADERS);\r\n            } else {\r\n                return Downloader.downloadTextWithHeaders(url, encoding, HEADERS);\r\n            }\r\n        }\r\n\r\n        while (true) {\r\n            try {\r\n                url = url.replace(&quot;+&quot;, &quot;%2B&quot;);\r\n                String uri = &quot;https://api.scraperapi.com?api_key=&quot; + API_KEY + &quot;&amp;url=&quot; + url;\r\n\r\n                log.info(&quot;Starting parse link: &quot; + url);\r\n                Request request = Request.Get(uri).connectTimeout(TIMEOUT).socketTimeout(TIMEOUT);\r\n                Content content = Executor.newInstance()\r\n                        .execute(request)\r\n                        .returnContent();\r\n\r\n                String res = encoding == null ? content.asString() : content.asString(Charset.forName(encoding));\r\n\r\n                if (checker != null &amp;&amp; !checker.check(res)) {\r\n                    throw new RuntimeException(&quot;Access denied&quot;);\r\n                }\r\n\r\n                log.info(&quot;Success, link: &quot; + url + &quot; parsed&quot;);\r\n                return res;\r\n            } catch (Exception ex) {\r\n                log.info(&quot;Can&#39;t parse link: &quot; + url + &quot;, trying again...&quot;);\r\n                Utils.sleep(1000);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n````\r\n3. Last step you can call the Scrapper method:\r\n\r\n````\r\nSiteScrapper scrapper = new SiteScrapper(false, checker -&gt; true);\r\nString htmlText = scrapper.downloadText(YOU URL);\r\n\r\n````\r\nHow to use checker:\r\n````\r\nprivate static final SiteScrapper.Checker checker = pageText -&gt; pageText.contains(&quot;&lt;a href=\\&quot;something\\&quot;&gt;&quot;); //any html text what you need\r\n````\r\n\r\n\r\n ","title":"Always getting HTTP response code 503 when accessing webpage","body":"<h3>So our task is: <strong>How parse html-text with Java on website that's protected by cloudflare.</strong></h3>\n<p>The speed of my method may not meet your requirements, because not every API call is successful. However, it works:</p>\n<p>We will use Proxy Api web scrapping <a href=\"https://www.scraperapi.com/\" rel=\"nofollow noreferrer\">SCRAPPER-API</a>\nwith the free version, registration takes no more than 5 minutes. We need to get an API key (We can use any one if it's better for you)</p>\n<ol>\n<li>First step create util class:</li>\n</ol>\n<pre><code>import org.apache.commons.io.IOUtils;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.Map;\nimport java.util.zip.GZIPInputStream;\n\npublic class Downloader {\n\n    public static String downloadText(String url) throws IOException {\n        return downloadText(url, &quot;utf-8&quot;);\n    }\n\n    public static String downloadTextWithHeaders(String url, Map&lt;String, String&gt; headers) throws IOException {\n        return downloadTextWithHeaders(url, &quot;utf-8&quot;, headers);\n    }\n\n    public static String downloadTextWithHeaders(String url, String encoding, Map&lt;String, String&gt; headers) throws IOException {\n        URLConnection connection = new URL(url).openConnection();\n\n        for (Map.Entry&lt;String, String&gt; header : headers.entrySet()) {\n            connection.setRequestProperty(header.getKey(), header.getValue());\n        }\n\n        InputStream in = connection.getInputStream();\n\n        if (&quot;gzip&quot;.equals(connection.getContentEncoding())) {\n            in = new GZIPInputStream(in);\n        }\n\n        try {\n            return IOUtils.toString(in, encoding);\n        } finally {\n            IOUtils.closeQuietly(in);\n        }\n    }\n\n    public static String downloadText(String url, String encoding) throws IOException {\n\n        url = url.replace(&quot; &quot;, &quot;%20&quot;);\n        InputStream in = new URL(url).openStream();\n\n        try {\n            return IOUtils.toString(in, encoding);\n        } finally {\n            IOUtils.closeQuietly(in);\n        }\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create SiteScrapper class:</li>\n</ol>\n<pre><code>import org.apache.http.client.fluent.Content;\nimport org.apache.http.client.fluent.Executor;\nimport org.apache.http.client.fluent.Request;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport ru.mtgsale.common.Utils;\n\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SiteScrapper {\n    private static final Logger log = LoggerFactory.getLogger(SiteScrapper.class);\n    private static final int TIMEOUT = 30000;\n    private static final String API_KEY = &quot;YOU_API_KEY&quot;;  //api key from ScrapperApi\n\n    private final boolean direct; // need for turn ON/OFF proxy\n    private final Map&lt;String, String&gt; HEADERS = new HashMap&lt;&gt;();\n    private final Checker checker; // does the page contain the required text\n\n    public interface Checker {\n        boolean check(String pageText);\n    }\n\n    public SiteScrapper(boolean direct, Checker checker) throws IOException {\n        this.direct = direct;  \n        this.checker = checker; \n\n        HEADERS.put(&quot;Accept&quot;, &quot;*/*&quot;);\n        HEADERS.put(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\n        HEADERS.put(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36&quot;);\n    }\n\n    public String downloadText(String url) throws IOException {\n        return downloadText(url, null);\n    }\n    \n    public String downloadText(String url, String encoding) throws IOException {\n\n        if (direct) {\n            if (encoding == null) {\n                return Downloader.downloadTextWithHeaders(url, HEADERS);\n            } else {\n                return Downloader.downloadTextWithHeaders(url, encoding, HEADERS);\n            }\n        }\n\n        while (true) {\n            try {\n                url = url.replace(&quot;+&quot;, &quot;%2B&quot;);\n                String uri = &quot;https://api.scraperapi.com?api_key=&quot; + API_KEY + &quot;&amp;url=&quot; + url;\n\n                log.info(&quot;Starting parse link: &quot; + url);\n                Request request = Request.Get(uri).connectTimeout(TIMEOUT).socketTimeout(TIMEOUT);\n                Content content = Executor.newInstance()\n                        .execute(request)\n                        .returnContent();\n\n                String res = encoding == null ? content.asString() : content.asString(Charset.forName(encoding));\n\n                if (checker != null &amp;&amp; !checker.check(res)) {\n                    throw new RuntimeException(&quot;Access denied&quot;);\n                }\n\n                log.info(&quot;Success, link: &quot; + url + &quot; parsed&quot;);\n                return res;\n            } catch (Exception ex) {\n                log.info(&quot;Can't parse link: &quot; + url + &quot;, trying again...&quot;);\n                Utils.sleep(1000);\n            }\n        }\n\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Last step you can call the Scrapper method:</li>\n</ol>\n<pre><code>SiteScrapper scrapper = new SiteScrapper(false, checker -&gt; true);\nString htmlText = scrapper.downloadText(YOU URL);\n\n</code></pre>\n<p>How to use checker:</p>\n<pre><code>private static final SiteScrapper.Checker checker = pageText -&gt; pageText.contains(&quot;&lt;a href=\\&quot;something\\&quot;&gt;&quot;); //any html text what you need\n</code></pre>\n"}],"owner":{"account_id":12248747,"reputation":263,"user_id":9830345,"display_name":"Anju Maaka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653483048,"creation_date":1653336404,"question_id":72354277,"body_markdown":"I made an application that could read a webpage as HTML. It worked just fine up until about a week ago when it started receiving HTTP response code 503 every single time. It doesn&#39;t matter if I change how often I try to read by adding delays, it still fails. I can access it just fine in a web-browser (I use Firefox Browser 100.0.2 64-bits), and it never has anything like Cloudflare.\r\n\r\nI have tried to search for solutions but have found absolutely nothing beyond *the server is overloaded, add some delays* or similar advice (and most of it is 5+ years old at least). Anyone that can point me in the right direction?\r\n\r\nHere is the method I used to access webpages. Worked like a charm for over a year, until it just stopped a week ago or so...\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.InputStream;\r\n\timport java.io.InputStreamReader;\r\n\timport java.net.URL;\r\n\timport javax.net.ssl.HttpsURLConnection;\r\n\r\n\t...other code...\r\n\t\r\n\tpublic static final String readPage(final String httpsURL) {\r\n\t\ttry {\r\n\t\t\tURL myurl = new URL(httpsURL);\r\n\t        HttpsURLConnection con = (HttpsURLConnection) myurl.openConnection();\r\n\t        con.setRequestProperty (&quot;User-Agent&quot;, \r\n\t\t\t\t\t&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:63.0) Gecko/20100101 Firefox/63.0&quot;);\r\n\t        InputStream ins = con.getInputStream();\r\n\t        InputStreamReader isr = new InputStreamReader(ins);\r\n\r\n\t        StringBuilder buffer = new StringBuilder();\r\n\t        try (BufferedReader in = new BufferedReader(isr)) {\r\n\t        \tString inputLine;\r\n\t\t        while ((inputLine = in.readLine()) != null) {\r\n\t\t            buffer.append(inputLine + &quot;\\r\\n&quot;);\r\n\t\t        }\r\n\t        }\r\n\t\t\treturn buffer.toString();\r\n\t\t} catch(Exception failure) {\r\n\t\t\tif(failure instanceof IOException) throw (IOException) failure;\r\n\t\t\telse throw new IOException(&quot;Unknown failure!&quot;, failure);\r\n\t\t}\r\n\t}","title":"Always getting HTTP response code 503 when accessing webpage","body":"<p>I made an application that could read a webpage as HTML. It worked just fine up until about a week ago when it started receiving HTTP response code 503 every single time. It doesn't matter if I change how often I try to read by adding delays, it still fails. I can access it just fine in a web-browser (I use Firefox Browser 100.0.2 64-bits), and it never has anything like Cloudflare.</p>\n<p>I have tried to search for solutions but have found absolutely nothing beyond <em>the server is overloaded, add some delays</em> or similar advice (and most of it is 5+ years old at least). Anyone that can point me in the right direction?</p>\n<p>Here is the method I used to access webpages. Worked like a charm for over a year, until it just stopped a week ago or so...</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport javax.net.ssl.HttpsURLConnection;\n\n...other code...\n\npublic static final String readPage(final String httpsURL) {\n    try {\n        URL myurl = new URL(httpsURL);\n        HttpsURLConnection con = (HttpsURLConnection) myurl.openConnection();\n        con.setRequestProperty (&quot;User-Agent&quot;, \n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:63.0) Gecko/20100101 Firefox/63.0&quot;);\n        InputStream ins = con.getInputStream();\n        InputStreamReader isr = new InputStreamReader(ins);\n\n        StringBuilder buffer = new StringBuilder();\n        try (BufferedReader in = new BufferedReader(isr)) {\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                buffer.append(inputLine + &quot;\\r\\n&quot;);\n            }\n        }\n        return buffer.toString();\n    } catch(Exception failure) {\n        if(failure instanceof IOException) throw (IOException) failure;\n        else throw new IOException(&quot;Unknown failure!&quot;, failure);\n    }\n}\n</code></pre>\n"},{"tags":["java","cookies","fetch","postman","localhost"],"answers":[{"tags":[],"owner":{"account_id":19438535,"reputation":21,"user_id":14217469,"display_name":"Grimalkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653482972,"creation_date":1653482972,"answer_id":72377980,"question_id":72363772,"body_markdown":"Problem was caused by my fetch request in react that contained header `withCredentials: true` from library axios insead of fetch implementation of header `credentials:&quot;include&quot;`.","title":"Can&#39;t use cookie in frontend but works fine in postman","body":"<p>Problem was caused by my fetch request in react that contained header <code>withCredentials: true</code> from library axios insead of fetch implementation of header <code>credentials:&quot;include&quot;</code>.</p>\n"}],"owner":{"account_id":19438535,"reputation":21,"user_id":14217469,"display_name":"Grimalkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653482972,"creation_date":1653398863,"question_id":72363772,"body_markdown":"I&#39;ve created rest API in springboot that upon sending valid credentials returns jwt access token and saves refresh token in httpOnly cookie, when I send GET request to the API that uses cookie in postman it works just fine but when I try to fetch in react API returns error that indicates that there is no cookies\r\n\r\n&gt; error_message: &quot;Cannot read the array length because \\&quot;array\\&quot; is null&quot;\r\n&gt;\r\nSo do I have to specify domain name If yes how do I do it while working on localhost (springboot is working on `localhost:8080` and react `localhost:3000`).\r\n\r\n**How I currently create cookie:**\r\n```\r\npublic static Cookie createRefreshCookie(String refresh_token) {\r\n        Cookie jwtRefreshCookie = new Cookie(&quot;refresh_token&quot;, refresh_token);\r\n        jwtRefreshCookie.setMaxAge(2678400);\r\n        jwtRefreshCookie.setHttpOnly(true);\r\n        jwtRefreshCookie.setPath(&quot;/&quot;);\r\n        return jwtRefreshCookie;\r\n    }\r\n```\r\n","title":"Can&#39;t use cookie in frontend but works fine in postman","body":"<p>I've created rest API in springboot that upon sending valid credentials returns jwt access token and saves refresh token in httpOnly cookie, when I send GET request to the API that uses cookie in postman it works just fine but when I try to fetch in react API returns error that indicates that there is no cookies</p>\n<blockquote>\n<p>error_message: &quot;Cannot read the array length because &quot;array&quot; is null&quot;</p>\n</blockquote>\n<p>So do I have to specify domain name If yes how do I do it while working on localhost (springboot is working on <code>localhost:8080</code> and react <code>localhost:3000</code>).</p>\n<p><strong>How I currently create cookie:</strong></p>\n<pre><code>public static Cookie createRefreshCookie(String refresh_token) {\n        Cookie jwtRefreshCookie = new Cookie(&quot;refresh_token&quot;, refresh_token);\n        jwtRefreshCookie.setMaxAge(2678400);\n        jwtRefreshCookie.setHttpOnly(true);\n        jwtRefreshCookie.setPath(&quot;/&quot;);\n        return jwtRefreshCookie;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":517593,"reputation":282,"user_id":8772777,"display_name":"Enrico Trentin"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1603279956,"creation_date":1603279956,"answer_id":64462627,"question_id":64461915,"body_markdown":"Make sure you have the following dependency in your pom file\r\n```\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.15&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Mockito mockStatic cannot resolve symbol","body":"<p>Make sure you have the following dependency in your pom file</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18383238,"reputation":445,"user_id":13390890,"display_name":"Abdullah Ismail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653482867,"creation_date":1653482867,"answer_id":72377956,"question_id":64461915,"body_markdown":"Probably the method is inside your class scope, move the static method call `mockStatic` to method scope.\r\n\r\nAlso be sure you&#39;re importing from this class ` org.powermock.api.mockito.PowerMockito.mockStatic`","title":"Mockito mockStatic cannot resolve symbol","body":"<p>Probably the method is inside your class scope, move the static method call <code>mockStatic</code> to method scope.</p>\n<p>Also be sure you're importing from this class <code> org.powermock.api.mockito.PowerMockito.mockStatic</code></p>\n"}],"owner":{"account_id":17294609,"reputation":257,"user_id":12525549,"display_name":"Ehrakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17641,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64462627,"answer_count":2,"score":6,"last_activity_date":1653482867,"creation_date":1603277170,"question_id":64461915,"body_markdown":"I&#39;m using Spring Boot and in a unit test, I&#39;m trying to mock the `Files.delete(myFile.toPath())` method.  \r\nTo do so I&#39;m trying to use the `Mockito.mockStatic()` method. But when I try to use it my IDE (IntelliJ IDEA) indicate me that this method does not exist.\r\nI read this article :\r\nhttps://asolntsev.github.io/en/2020/07/11/mockito-static-methods/\r\nbut it didn&#39;t help me.\r\n\r\nIn my POM.xml file there is:\r\n```yaml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.15&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nNote that I only put test related dependency, this is not my whole POM.xml file\r\n\r\nIn my test file, I put the following imports:\r\n```Java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n```\r\nAgain, this is only the test related imports.\r\n\r\nA screenshot of what my IDE is displaying:  \r\n[![enter image description here][1]][1]\r\n\r\nDo you have any idea why the `Mockito.mockStatic()` method can&#39;t be resolved ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g59aT.png","title":"Mockito mockStatic cannot resolve symbol","body":"<p>I'm using Spring Boot and in a unit test, I'm trying to mock the <code>Files.delete(myFile.toPath())</code> method.<br />\nTo do so I'm trying to use the <code>Mockito.mockStatic()</code> method. But when I try to use it my IDE (IntelliJ IDEA) indicate me that this method does not exist.\nI read this article :\n<a href=\"https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/\" rel=\"noreferrer\">https://asolntsev.github.io/en/2020/07/11/mockito-static-methods/</a>\nbut it didn't help me.</p>\n<p>In my POM.xml file there is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.5.15&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Note that I only put test related dependency, this is not my whole POM.xml file</p>\n<p>In my test file, I put the following imports:</p>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.context.junit4.SpringRunner;\n</code></pre>\n<p>Again, this is only the test related imports.</p>\n<p>A screenshot of what my IDE is displaying:<br />\n<a href=\"https://i.stack.imgur.com/g59aT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/g59aT.png\" alt=\"enter image description here\" /></a></p>\n<p>Do you have any idea why the <code>Mockito.mockStatic()</code> method can't be resolved ?</p>\n"},{"tags":["java","spring-boot","apache-camel","spring-boot-test","apache-camel-3"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653482779,"creation_date":1653482779,"answer_id":72377923,"question_id":72354695,"body_markdown":"WeaveByID is weaving **nodes** (ie endpoints) within the context of a specific route. \r\n\r\nGiven the route:\r\n\r\n    from(&quot;direct:start&quot;)\r\n            .id(&quot;my-route&quot;)\r\n            .to(&quot;mock:bar&quot;).id(&quot;bar&quot;)\r\n\r\nYou can do:\r\n\r\n    AdviceWith.adviceWith(camelContext, &quot;my-route&quot;, ...\r\n               ...\r\n                    weaveById(&quot;bar&quot;).replace().to(&quot;log:demo&quot;);\r\n\r\nIn your example, you are weaving &quot;*my-internal-route-id*&quot; which is a **route**, not an endpoint                \r\n\r\n","title":"Camel routeBuilder.weaveById fails when using an ID that is a templated route parameter","body":"<p>WeaveByID is weaving <strong>nodes</strong> (ie endpoints) within the context of a specific route.</p>\n<p>Given the route:</p>\n<pre><code>from(&quot;direct:start&quot;)\n        .id(&quot;my-route&quot;)\n        .to(&quot;mock:bar&quot;).id(&quot;bar&quot;)\n</code></pre>\n<p>You can do:</p>\n<pre><code>AdviceWith.adviceWith(camelContext, &quot;my-route&quot;, ...\n           ...\n                weaveById(&quot;bar&quot;).replace().to(&quot;log:demo&quot;);\n</code></pre>\n<p>In your example, you are weaving &quot;<em>my-internal-route-id</em>&quot; which is a <strong>route</strong>, not an endpoint</p>\n"}],"owner":{"account_id":24784059,"reputation":1,"user_id":18667399,"display_name":"jvh003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653482779,"creation_date":1653339160,"question_id":72354695,"body_markdown":"**Summary:**\r\n\r\nI am getting an IllegalArgumentException from my junit trying to test a templated route that is\r\nbuilt from a template that I created in a 2nd RouteBuilder class.\r\n\r\nYou can see in the CreateTemplate class I&#39;m trying to use the 3rd template parameter to set the\r\n.id() string for the TO file producer. This is done so that I can find (via weaveById) and mock\r\nthis producer in the junit.\r\nHowever, it seems that the id is not setup correctly, and the weaveById fails.\r\n\r\nIf I create the route created directly, I mean, not via the template, this works just fine, and\r\nI am able to mock the producer with the weaveById() method.\r\n\r\nUsing spring-boot 2.7.0, Camel 3.16.0, and openjdk-11.\r\n\r\nWhat am I missing here?\r\nThanks for your help.\r\n\r\nNote: I did find a workaround which is to use weaveByType(). This is commented out in the junit but\r\ndoes work fine. But would still like to understand why the weaveById() is not working here.\r\n\r\n\r\n**Problem details and code:**\r\n\r\nThe junit test class:\r\n```\r\npackage com.jvh.routes;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.EndpointInject;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.builder.AdviceWith;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.annotation.DirtiesContext;\r\n\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\n@UseAdviceWith\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\nclass RouteTest {\r\n\r\n   @Autowired\r\n   private CamelContext camelContext;\r\n\r\n   @Autowired\r\n   private ProducerTemplate producerTemplate;\r\n\r\n   @EndpointInject(&quot;mock:endpointMock&quot;)\r\n   private MockEndpoint mockEndpoint;\r\n\r\n\r\n   @BeforeEach\r\n   public void setup() throws Exception {\r\n\r\n      mockEndpoint.reset();\r\n\r\n      AdviceWith.adviceWith(camelContext, &quot;my-test-file-route&quot;, routeBuilder -&gt; {\r\n         routeBuilder.replaceFromWith(&quot;direct:start&quot;);\r\n         routeBuilder.weaveById(&quot;my-internal-route-id&quot;).replace().to(mockEndpoint);  // fails\r\n         //routeBuilder.weaveByType(ToDefinition.class).replace().to(mockEndpoint);  // works\r\n         routeBuilder.setLogRouteAsXml(false);\r\n      });\r\n\r\n      camelContext.start();\r\n   }\r\n\r\n   @AfterEach\r\n   public void tearDown() {\r\n      camelContext.stop();\r\n   }\r\n\r\n   @Test\r\n   void test_processMessageToRestApi_Ok() throws Exception {\r\n\r\n      final String testMsg = &quot;{ test msg }&quot;;\r\n\r\n      // Expect output file endpoint mock to receive 1 message\r\n      mockEndpoint.expectedMessageCount(1);\r\n      mockEndpoint.expectedBodiesReceived(testMsg);\r\n\r\n      // Message body\r\n      producerTemplate.sendBody(&quot;direct:start&quot;, testMsg);\r\n      mockEndpoint.assertIsSatisfied();\r\n   }\r\n}\r\n```\r\nThe template creation class:\r\n```\r\npackage com.jvh.routes;\r\n\r\nimport org.apache.camel.LoggingLevel;\r\nimport org.apache.camel.Ordered;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CreateTemplate extends RouteBuilder {\r\n\r\n   @Override\r\n   public int getOrder() {\r\n      return Ordered.HIGHEST;  // required to ensure the template is created first\r\n   }\r\n\r\n   @Override\r\n   public void configure() {\r\n\r\n      routeTemplate(&quot;myTemplateId&quot;)\r\n      .templateParameter(&quot;input-directory-param-id&quot;)\r\n      .templateParameter(&quot;output-directory-param-id&quot;)\r\n      .templateParameter(&quot;route-id-param-id&quot;)\r\n\r\n      .from(&quot;file:{{input-directory-param-id}}&quot;)\r\n      .log(LoggingLevel.INFO, log, &quot;--&gt; got file ${header.CamelFileName}&quot;)\r\n      .to(&quot;file:{{output-directory-param-id}}&quot;)\r\n      .id(&quot;{{route-id-param-id}}&quot;)              // set id here to be able to mock this producer\r\n      .log(LoggingLevel.INFO, log, &quot;--&gt; done&quot;);\r\n   }\r\n}\r\n```\r\n\r\nThe templated route creation class:\r\n```\r\npackage com.jvh.routes;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.Ordered;\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.apache.camel.builder.TemplatedRouteBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class CreateRoute extends RouteBuilder {\r\n\r\n   @Autowired\r\n   private CamelContext camelContext;\r\n\r\n   @Override\r\n   public int getOrder() {\r\n      return Ordered.LOWEST;  // route created after the template\r\n   }\r\n\r\n   @Override\r\n   public void configure() throws Exception {\r\n\r\n      final String routeId = TemplatedRouteBuilder.builder(camelContext, &quot;myTemplateId&quot;)\r\n            .routeId(&quot;my-test-file-route&quot;)\r\n            .parameter(&quot;input-directory-param-id&quot;, &quot;input-directory&quot;)\r\n            .parameter(&quot;output-directory-param-id&quot;, &quot;output-directory&quot;)\r\n            .parameter(&quot;route-id-param-id&quot;, &quot;my-internal-route-id&quot;)     // parameter to set the producer id\r\n            .add();\r\n      log.info(&quot;Route {} created from template&quot;, routeId);\r\n   }\r\n}\r\n```\r\n\r\n\r\nThe exception thrown when I run the junit test:\r\n```\r\njava.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]]\r\n\tat org.apache.camel.builder.AdviceWithTasks$1.task(AdviceWithTasks.java:226)\r\n\tat org.apache.camel.builder.AdviceWith.doAdviceWith(AdviceWith.java:222)\r\n\tat org.apache.camel.builder.AdviceWith.adviceWith(AdviceWith.java:75)\r\n\tat com.jvh.routes.RouteTest.setup(RouteTest.java:38)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    &lt;snip...&gt;\r\n```\r\nSome relavent debug logs from the junit run:\r\n```\r\n&lt;snip...&gt;\r\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.a.camel.spring.SpringCamelContext      : onApplicationEvent: org.springframework.test.context.event.AfterTestMethodEvent[source=[DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = &#39;{}&#39;, classes = &#39;{class com.jvh.TestApp}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]]]\r\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] tractDirtiesContextTestExecutionListener : After test method: context [DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = &#39;{}&#39;, classes = &#39;{class com.jvh.TestApp}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]], class annotated with @DirtiesContext [true] with mode [AFTER_EACH_TEST_METHOD], method annotated with @DirtiesContext [false] with mode [null].\r\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@15515c51, started on Mon May 23 16:36:49 EDT 2022\r\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.a.camel.spring.SpringCamelContext      : onApplicationEvent: org.springframework.context.event.ContextClosedEvent[source=org.springframework.web.context.support.GenericWebApplicationContext@15515c51, started on Mon May 23 16:36:49 EDT 2022]\r\n2022-05-23 16:36:58.543 DEBUG 10916 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647\r\n2022-05-23 16:36:58.543 DEBUG 10916 --- [           main] o.a.c.main.SimpleMainShutdownStrategy    : Shutdown called\r\n2022-05-23 16:36:58.545 DEBUG 10916 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2022-05-23 16:36:58.545 DEBUG 10916 --- [           main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test context [DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = &#39;{}&#39;, classes = &#39;{class com.jvh.TestApp}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder&#39; -&gt; true, &#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false, &#39;org.springframework.test.context.support.DependencyInjectionTestExecutionListener.reinjectDependencies&#39; -&gt; true]].\r\n&lt;snip...&gt;\r\n```\r\n","title":"Camel routeBuilder.weaveById fails when using an ID that is a templated route parameter","body":"<p><strong>Summary:</strong></p>\n<p>I am getting an IllegalArgumentException from my junit trying to test a templated route that is\nbuilt from a template that I created in a 2nd RouteBuilder class.</p>\n<p>You can see in the CreateTemplate class I'm trying to use the 3rd template parameter to set the\n.id() string for the TO file producer. This is done so that I can find (via weaveById) and mock\nthis producer in the junit.\nHowever, it seems that the id is not setup correctly, and the weaveById fails.</p>\n<p>If I create the route created directly, I mean, not via the template, this works just fine, and\nI am able to mock the producer with the weaveById() method.</p>\n<p>Using spring-boot 2.7.0, Camel 3.16.0, and openjdk-11.</p>\n<p>What am I missing here?\nThanks for your help.</p>\n<p>Note: I did find a workaround which is to use weaveByType(). This is commented out in the junit but\ndoes work fine. But would still like to understand why the weaveById() is not working here.</p>\n<p><strong>Problem details and code:</strong></p>\n<p>The junit test class:</p>\n<pre><code>package com.jvh.routes;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.EndpointInject;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.AdviceWith;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.annotation.DirtiesContext;\n\n@SpringBootTest\n@CamelSpringBootTest\n@UseAdviceWith\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\nclass RouteTest {\n\n   @Autowired\n   private CamelContext camelContext;\n\n   @Autowired\n   private ProducerTemplate producerTemplate;\n\n   @EndpointInject(&quot;mock:endpointMock&quot;)\n   private MockEndpoint mockEndpoint;\n\n\n   @BeforeEach\n   public void setup() throws Exception {\n\n      mockEndpoint.reset();\n\n      AdviceWith.adviceWith(camelContext, &quot;my-test-file-route&quot;, routeBuilder -&gt; {\n         routeBuilder.replaceFromWith(&quot;direct:start&quot;);\n         routeBuilder.weaveById(&quot;my-internal-route-id&quot;).replace().to(mockEndpoint);  // fails\n         //routeBuilder.weaveByType(ToDefinition.class).replace().to(mockEndpoint);  // works\n         routeBuilder.setLogRouteAsXml(false);\n      });\n\n      camelContext.start();\n   }\n\n   @AfterEach\n   public void tearDown() {\n      camelContext.stop();\n   }\n\n   @Test\n   void test_processMessageToRestApi_Ok() throws Exception {\n\n      final String testMsg = &quot;{ test msg }&quot;;\n\n      // Expect output file endpoint mock to receive 1 message\n      mockEndpoint.expectedMessageCount(1);\n      mockEndpoint.expectedBodiesReceived(testMsg);\n\n      // Message body\n      producerTemplate.sendBody(&quot;direct:start&quot;, testMsg);\n      mockEndpoint.assertIsSatisfied();\n   }\n}\n</code></pre>\n<p>The template creation class:</p>\n<pre><code>package com.jvh.routes;\n\nimport org.apache.camel.LoggingLevel;\nimport org.apache.camel.Ordered;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CreateTemplate extends RouteBuilder {\n\n   @Override\n   public int getOrder() {\n      return Ordered.HIGHEST;  // required to ensure the template is created first\n   }\n\n   @Override\n   public void configure() {\n\n      routeTemplate(&quot;myTemplateId&quot;)\n      .templateParameter(&quot;input-directory-param-id&quot;)\n      .templateParameter(&quot;output-directory-param-id&quot;)\n      .templateParameter(&quot;route-id-param-id&quot;)\n\n      .from(&quot;file:{{input-directory-param-id}}&quot;)\n      .log(LoggingLevel.INFO, log, &quot;--&gt; got file ${header.CamelFileName}&quot;)\n      .to(&quot;file:{{output-directory-param-id}}&quot;)\n      .id(&quot;{{route-id-param-id}}&quot;)              // set id here to be able to mock this producer\n      .log(LoggingLevel.INFO, log, &quot;--&gt; done&quot;);\n   }\n}\n</code></pre>\n<p>The templated route creation class:</p>\n<pre><code>package com.jvh.routes;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Ordered;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.builder.TemplatedRouteBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CreateRoute extends RouteBuilder {\n\n   @Autowired\n   private CamelContext camelContext;\n\n   @Override\n   public int getOrder() {\n      return Ordered.LOWEST;  // route created after the template\n   }\n\n   @Override\n   public void configure() throws Exception {\n\n      final String routeId = TemplatedRouteBuilder.builder(camelContext, &quot;myTemplateId&quot;)\n            .routeId(&quot;my-test-file-route&quot;)\n            .parameter(&quot;input-directory-param-id&quot;, &quot;input-directory&quot;)\n            .parameter(&quot;output-directory-param-id&quot;, &quot;output-directory&quot;)\n            .parameter(&quot;route-id-param-id&quot;, &quot;my-internal-route-id&quot;)     // parameter to set the producer id\n            .add();\n      log.info(&quot;Route {} created from template&quot;, routeId);\n   }\n}\n</code></pre>\n<p>The exception thrown when I run the junit test:</p>\n<pre><code>java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]]\n    at org.apache.camel.builder.AdviceWithTasks$1.task(AdviceWithTasks.java:226)\n    at org.apache.camel.builder.AdviceWith.doAdviceWith(AdviceWith.java:222)\n    at org.apache.camel.builder.AdviceWith.adviceWith(AdviceWith.java:75)\n    at com.jvh.routes.RouteTest.setup(RouteTest.java:38)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    &lt;snip...&gt;\n</code></pre>\n<p>Some relavent debug logs from the junit run:</p>\n<pre><code>&lt;snip...&gt;\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.a.camel.spring.SpringCamelContext      : onApplicationEvent: org.springframework.test.context.event.AfterTestMethodEvent[source=[DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = '{}', classes = '{class com.jvh.TestApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]]]\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] tractDirtiesContextTestExecutionListener : After test method: context [DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = '{}', classes = '{class com.jvh.TestApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]], class annotated with @DirtiesContext [true] with mode [AFTER_EACH_TEST_METHOD], method annotated with @DirtiesContext [false] with mode [null].\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@15515c51, started on Mon May 23 16:36:49 EDT 2022\n2022-05-23 16:36:58.535 DEBUG 10916 --- [           main] o.a.camel.spring.SpringCamelContext      : onApplicationEvent: org.springframework.context.event.ContextClosedEvent[source=org.springframework.web.context.support.GenericWebApplicationContext@15515c51, started on Mon May 23 16:36:49 EDT 2022]\n2022-05-23 16:36:58.543 DEBUG 10916 --- [           main] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647\n2022-05-23 16:36:58.543 DEBUG 10916 --- [           main] o.a.c.main.SimpleMainShutdownStrategy    : Shutdown called\n2022-05-23 16:36:58.545 DEBUG 10916 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2022-05-23 16:36:58.545 DEBUG 10916 --- [           main] o.s.t.c.w.ServletTestExecutionListener   : Resetting RequestContextHolder for test context [DefaultTestContext@50fe837a testClass = RouteTest, testInstance = com.jvh.routes.RouteTest@510da778, testMethod = test_processMessageToRestApi_Ok@RouteTest, testException = java.lang.IllegalArgumentException: There are no outputs which matches: my-internal-route-id in the route: Route(my-test-file-route)[From[direct:start] -&gt; [Log[--&gt; got file ${header.CamelFileName}], To[file:{{output-directory-param-id}}], Log[--&gt; done]]], mergedContextConfiguration = [WebMergedContextConfiguration@3a62c01e testClass = RouteTest, locations = '{}', classes = '{class com.jvh.TestApp}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1187c9e8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16aa8654, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@61eaec38, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@31920ade, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16b2bb0c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5ae50ce6], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -&gt; true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -&gt; true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false, 'org.springframework.test.context.support.DependencyInjectionTestExecutionListener.reinjectDependencies' -&gt; true]].\n&lt;snip...&gt;\n</code></pre>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653468874,"post_id":72374543,"comment_id":127857568,"body_markdown":"`String[] path = key.split(&quot;/&quot;);` - but your path strings don&#39;t seem to contain `/`, try using `String[] path = key.split(File.separator);` instead","body":"<code>String[] path = key.split(&quot;&#47;&quot;);</code> - but your path strings don&#39;t seem to contain <code>&#47;</code>, try using <code>String[] path = key.split(File.separator);</code> instead"},{"owner":{"display_name":"user18669967"},"score":0,"creation_date":1653469026,"post_id":72374543,"comment_id":127857621,"body_markdown":"@MadProgrammer I gave it a try but when I ran it I got an execption: ```java.util.regex.PatternSyntaxException```","body":"@MadProgrammer I gave it a try but when I ran it I got an execption: <code>java.util.regex.PatternSyntaxException</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653469306,"post_id":72374543,"comment_id":127857718,"body_markdown":"Don&#39;t you love windows, try using `key.replace(File.separatorChar, &#39;/&#39;).split(&quot;/&quot;)` instead","body":"Don&#39;t you love windows, try using <code>key.replace(File.separatorChar, &#39;&#47;&#39;).split(&quot;&#47;&quot;)</code> instead"},{"owner":{"display_name":"user18669967"},"score":0,"creation_date":1653469923,"post_id":72374543,"comment_id":127857967,"body_markdown":"@MadProgrammer Windows is great! haha but yes ```key.replace(File.separatorChar, &#39;/&#39;).split(&quot;/&quot;)``` solved my problem! Thanks for the help!","body":"@MadProgrammer Windows is great! haha but yes <code>key.replace(File.separatorChar, &#39;&#47;&#39;).split(&quot;&#47;&quot;)</code> solved my problem! Thanks for the help!"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653469963,"creation_date":1653469963,"answer_id":72374847,"question_id":72374543,"body_markdown":"The problem seems to be that you&#39;re trying to split a Windows file path using `/`, except, Windows file paths are separated by `\\`, which of course is also an escape character of regular expressions &#128531;\r\n\r\n# You could...\r\n\r\nUse `key.replace(File.separatorChar, &#39;/&#39;).split(&quot;/&quot;)` to change the `\\` to `/` and the split on it\r\n\r\n# Or...\r\n\r\n    File file = new File(key);\r\n    Path path = file.toPath();\r\n    // Path path = Paths.get(key);\r\n    for (int index = 0; index &lt; path.getNameCount(); index++) {\r\n        String subPath = path.getName(index));\r\n        //...\r\n    }\r\n\r\n# Or...\r\n\r\n    File file = new File(key);\r\n    Path path = file.toPath();\r\n    // Path path = Paths.get(key);\r\n    Iterator&lt;Path&gt; it = path.iterator();\r\n    while (it.hasNext()) {\r\n        Path next = it.next();\r\n        String subPath = path.getFileName();\r\n        //...\r\n    }\r\n","title":"Java - JTree not following Path hierarchy","body":"<p>The problem seems to be that you're trying to split a Windows file path using <code>/</code>, except, Windows file paths are separated by <code>\\</code>, which of course is also an escape character of regular expressions 😓</p>\n<h1>You could...</h1>\n<p>Use <code>key.replace(File.separatorChar, '/').split(&quot;/&quot;)</code> to change the <code>\\</code> to <code>/</code> and the split on it</p>\n<h1>Or...</h1>\n<pre><code>File file = new File(key);\nPath path = file.toPath();\n// Path path = Paths.get(key);\nfor (int index = 0; index &lt; path.getNameCount(); index++) {\n    String subPath = path.getName(index));\n    //...\n}\n</code></pre>\n<h1>Or...</h1>\n<pre><code>File file = new File(key);\nPath path = file.toPath();\n// Path path = Paths.get(key);\nIterator&lt;Path&gt; it = path.iterator();\nwhile (it.hasNext()) {\n    Path next = it.next();\n    String subPath = path.getFileName();\n    //...\n}\n</code></pre>\n"}],"owner":{"display_name":"user18669967"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72374847,"answer_count":1,"score":1,"last_activity_date":1653482563,"creation_date":1653468530,"question_id":72374543,"body_markdown":"I need to create a tree node that uses a HashMap to build a tree of files, the key of the HashMap is the Path and it&#39;s Value is the File Name. I&#39;ve implemented a code that breaks down the key value to build the hierarchy:\r\n\r\n```\r\npublic void createNode(HashMap&lt;String, String&gt; map) {\r\n        DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;SQL Scripts&quot;);\r\n        DefaultTreeModel treeModel = new DefaultTreeModel(root);\r\n        tree.setModel(treeModel);\r\n        Set&lt;String&gt; keys = map.keySet();\r\n        Iterator&lt;String&gt; it = keys.iterator();\r\n        while (it.hasNext()) {\r\n            String key = it.next();\r\n            String value = map.get(key);\r\n            String[] path = key.split(&quot;/&quot;);\r\n            DefaultMutableTreeNode parent = root;\r\n            for (int i = 0; i &lt; path.length; i++) {\r\n                boolean found = false;\r\n                int index = 0;\r\n                Enumeration e = parent.children();\r\n                while (e.hasMoreElements()) {\r\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.nextElement();\r\n                    if (node.toString().equals(path[i])) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                    index++;\r\n                }\r\n                if (!found) {\r\n                    DefaultMutableTreeNode child = new DefaultMutableTreeNode(path[i]);\r\n                    treeModel.insertNodeInto(child, parent, index);\r\n                    parent = child;\r\n                } else {\r\n                    parent = (DefaultMutableTreeNode) treeModel.getChild(parent, index);\r\n                }\r\n            }\r\n            DefaultMutableTreeNode child = new DefaultMutableTreeNode(value);\r\n            treeModel.insertNodeInto(child, parent, parent.getChildCount());\r\n        }\r\n    }\r\n```\r\n\r\nBut for some reason that I can&#39;t indentify, it is not working. I still get the following result:\r\n\r\n[![Result from createNode methode][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/kcOGn.png\r\n\r\n\r\nCould anyone tell me what I did wrong on my code implementation?","title":"Java - JTree not following Path hierarchy","body":"<p>I need to create a tree node that uses a HashMap to build a tree of files, the key of the HashMap is the Path and it's Value is the File Name. I've implemented a code that breaks down the key value to build the hierarchy:</p>\n<pre><code>public void createNode(HashMap&lt;String, String&gt; map) {\n        DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;SQL Scripts&quot;);\n        DefaultTreeModel treeModel = new DefaultTreeModel(root);\n        tree.setModel(treeModel);\n        Set&lt;String&gt; keys = map.keySet();\n        Iterator&lt;String&gt; it = keys.iterator();\n        while (it.hasNext()) {\n            String key = it.next();\n            String value = map.get(key);\n            String[] path = key.split(&quot;/&quot;);\n            DefaultMutableTreeNode parent = root;\n            for (int i = 0; i &lt; path.length; i++) {\n                boolean found = false;\n                int index = 0;\n                Enumeration e = parent.children();\n                while (e.hasMoreElements()) {\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) e.nextElement();\n                    if (node.toString().equals(path[i])) {\n                        found = true;\n                        break;\n                    }\n                    index++;\n                }\n                if (!found) {\n                    DefaultMutableTreeNode child = new DefaultMutableTreeNode(path[i]);\n                    treeModel.insertNodeInto(child, parent, index);\n                    parent = child;\n                } else {\n                    parent = (DefaultMutableTreeNode) treeModel.getChild(parent, index);\n                }\n            }\n            DefaultMutableTreeNode child = new DefaultMutableTreeNode(value);\n            treeModel.insertNodeInto(child, parent, parent.getChildCount());\n        }\n    }\n</code></pre>\n<p>But for some reason that I can't indentify, it is not working. I still get the following result:</p>\n<p><a href=\"https://i.stack.imgur.com/kcOGn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcOGn.png\" alt=\"Result from createNode methode\" /></a></p>\n<p>Could anyone tell me what I did wrong on my code implementation?</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653481918,"post_id":72377696,"comment_id":127862370,"body_markdown":"Only 1 applicaiton.properties/yaml/xml will be loaded, the first on the classpath which is generally the on from your own application **not** the one fromt he dependencies.","body":"Only 1 applicaiton.properties/yaml/xml will be loaded, the first on the classpath which is generally the on from your own application <b>not</b> the one fromt he dependencies."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1653482332,"post_id":72377696,"comment_id":127862526,"body_markdown":"@M.Deinum, I&#39;m pretty sure there&#39;s a way to request a loading of several `ApplicationContext`s, and then each one of those can load its own properties file. But yes, by default it loads just the one it discovers first.","body":"@M.Deinum, I&#39;m pretty sure there&#39;s a way to request a loading of several <code>ApplicationContext</code>s, and then each one of those can load its own properties file. But yes, by default it loads just the one it discovers first."},{"owner":{"account_id":75390,"reputation":2404,"user_id":216288,"accept_rate":94,"display_name":"Alexandre Cassagne"},"score":0,"creation_date":1653482394,"post_id":72377696,"comment_id":127862552,"body_markdown":"@M.Deinum Thank you for your quick response! What is the preferred way of &quot;importing&quot; configuration? In my case, I have various microservices that I want to configure in a single place? Should I only be using `@Configuration`?","body":"@M.Deinum Thank you for your quick response! What is the preferred way of &quot;importing&quot; configuration? In my case, I have various microservices that I want to configure in a single place? Should I only be using <code>@Configuration</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653483267,"post_id":72377696,"comment_id":127862933,"body_markdown":"Use a config server for that.","body":"Use a config server for that."}],"owner":{"account_id":75390,"reputation":2404,"user_id":216288,"accept_rate":94,"display_name":"Alexandre Cassagne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653482507,"creation_date":1653481851,"question_id":72377696,"body_markdown":"Suppose we have a Spring application (say using Gradle or Maven). \r\n\r\nWe control a Maven dependency which imports various spring boot starters and configures them (using `@Configuration` and `application*.yml` files). \r\n\r\nWhen does the imported configuration apply? If the application defines its own application.yml, what are the rules for determining which configuration “wins” over the over?","title":"Spring Application Properties from Dependency","body":"<p>Suppose we have a Spring application (say using Gradle or Maven).</p>\n<p>We control a Maven dependency which imports various spring boot starters and configures them (using <code>@Configuration</code> and <code>application*.yml</code> files).</p>\n<p>When does the imported configuration apply? If the application defines its own application.yml, what are the rules for determining which configuration “wins” over the over?</p>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1653483688,"post_id":72377421,"comment_id":127863130,"body_markdown":"&#39;Building&#39; takes very little time.  Execution (as a result of the &#39;start&#39; call) takes as long as it takes the command to execute.","body":"&#39;Building&#39; takes very little time.  Execution (as a result of the &#39;start&#39; call) takes as long as it takes the command to execute."}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653481932,"creation_date":1653481932,"answer_id":72377717,"question_id":72377421,"body_markdown":"It definitely takes some time (whatever time your command takes). The start method returns a Process, which you can wait for:\r\n\r\n    var process = ProcessBuilder().command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;setx key abcd&quot;).start();\r\n    try {\r\n        process.waitFor();\r\n    } catch(InterruptedException e) {\r\n        // Handle exception\r\n    }\r\n    util.encode();\r\n\r\nEDIT: in addition it is not clear that this will work the way you think it will. The system environment variable that you create may not be set for old/running processes such as your own; quite possibly it applies only to new ones. You&#39;ll notice soon enough, but if it doesn&#39;t work even with wait that may be the reason.","title":"Does ProcessBuilder() take some time to complete?","body":"<p>It definitely takes some time (whatever time your command takes). The start method returns a Process, which you can wait for:</p>\n<pre><code>var process = ProcessBuilder().command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;setx key abcd&quot;).start();\ntry {\n    process.waitFor();\n} catch(InterruptedException e) {\n    // Handle exception\n}\nutil.encode();\n</code></pre>\n<p>EDIT: in addition it is not clear that this will work the way you think it will. The system environment variable that you create may not be set for old/running processes such as your own; quite possibly it applies only to new ones. You'll notice soon enough, but if it doesn't work even with wait that may be the reason.</p>\n"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72377717,"answer_count":1,"score":0,"last_activity_date":1653481932,"creation_date":1653480721,"question_id":72377421,"body_markdown":"Does ProcessBuilder() take some time to complete? \r\nFor example, some `key` is already defined for the OS you are using.\r\nIs it possible that when the second line executes the previous step isn&#39;t yet completed? (the second line will be using `old key`)\r\n\r\n    new ProcessBuilder().command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;setx key abcd&quot;).start();\r\n    util.encode(); // it uses a `key` defined in previous line\r\n\r\n","title":"Does ProcessBuilder() take some time to complete?","body":"<p>Does ProcessBuilder() take some time to complete?\nFor example, some <code>key</code> is already defined for the OS you are using.\nIs it possible that when the second line executes the previous step isn't yet completed? (the second line will be using <code>old key</code>)</p>\n<pre><code>new ProcessBuilder().command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;setx key abcd&quot;).start();\nutil.encode(); // it uses a `key` defined in previous line\n</code></pre>\n"},{"tags":["java","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1645780592,"post_id":71263361,"comment_id":125966486,"body_markdown":"This might not compile, where does `obj` come from ?","body":"This might not compile, where does <code>obj</code> come from ?"},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1645783933,"post_id":71263361,"comment_id":125967667,"body_markdown":"obj is input, i just wrote for example. didn&#39;t passed exact one which i am passed in my code","body":"obj is input, i just wrote for example. didn&#39;t passed exact one which i am passed in my code"},{"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"score":0,"creation_date":1645791182,"post_id":71263361,"comment_id":125969933,"body_markdown":"please any help mush appreciated","body":"please any help mush appreciated"}],"answers":[{"tags":[],"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645780675,"creation_date":1645780675,"answer_id":71263589,"question_id":71263361,"body_markdown":"You probably need some `@Getter` and `@Setter` annotation in combination with your `@Builder`.\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    class A extends B {\r\n    \r\n       public List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\r\n    \r\n       @Override\r\n       public void add(){\r\n         customers.add(new Customer());\r\n       }\r\n    \r\n    }\r\n\r\n    @Test\r\n    class Test {\r\n        A a = new A():\r\n        List&lt;Customer&gt; customers = a.getCustomers();\r\n        assertEquals(1, customers.size());\r\n    }","title":"Is there a way i can use the existing instance (object) of the class","body":"<p>You probably need some <code>@Getter</code> and <code>@Setter</code> annotation in combination with your <code>@Builder</code>.</p>\n<pre><code>@Getter\n@Setter\n@Builder\nclass A extends B {\n\n   public List&lt;Customer&gt; customers = new ArrayList&lt;&gt;();\n\n   @Override\n   public void add(){\n     customers.add(new Customer());\n   }\n\n}\n\n@Test\nclass Test {\n    A a = new A():\n    List&lt;Customer&gt; customers = a.getCustomers();\n    assertEquals(1, customers.size());\n}\n</code></pre>\n"}],"owner":{"account_id":19082825,"reputation":11,"user_id":13934712,"display_name":"xxz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653481767,"creation_date":1645779524,"question_id":71263361,"body_markdown":"I have a class implemented as below\r\n\r\n    @Builder\r\n    class A extends B {\r\n    \r\n       @Getter\r\n       public List&lt;Customer&gt; cusromers = new ArrayList&lt;&gt;();\r\n    \r\n       @Override\r\n       public void add(){\r\n         c.add(obj);\r\n       }\r\n    \r\n    }\r\n\r\nBelow is in different project\r\n\r\n\r\n```java\r\nclass C {\r\n  \tpublic Student&lt;T, C&gt; getValues() {\r\n  \t\treturn A.builder().customers(getCustomers()).build()\r\n  \t}\r\n}\r\n```\r\n\r\n\r\nThe below is different project and has dependency of the above&#39;s project\r\n\r\n    @Test\r\n    class Test {\r\n       // I need to check the instance of class A and test if the instance has added some modifications for the list above stated class\r\n    }\r\n\r\nPlease any one help me on this. Excuse me if i do any mistake","title":"Is there a way i can use the existing instance (object) of the class","body":"<p>I have a class implemented as below</p>\n<pre><code>@Builder\nclass A extends B {\n\n   @Getter\n   public List&lt;Customer&gt; cusromers = new ArrayList&lt;&gt;();\n\n   @Override\n   public void add(){\n     c.add(obj);\n   }\n\n}\n</code></pre>\n<p>Below is in different project</p>\n<pre class=\"lang-java prettyprint-override\"><code>class C {\n    public Student&lt;T, C&gt; getValues() {\n        return A.builder().customers(getCustomers()).build()\n    }\n}\n</code></pre>\n<p>The below is different project and has dependency of the above's project</p>\n<pre><code>@Test\nclass Test {\n   // I need to check the instance of class A and test if the instance has added some modifications for the list above stated class\n}\n</code></pre>\n<p>Please any one help me on this. Excuse me if i do any mistake</p>\n"},{"tags":["java","android","android-fragments","android-intent","android-recyclerview"],"comments":[{"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"score":0,"creation_date":1653469200,"post_id":72374549,"comment_id":127857692,"body_markdown":"@Risto I rephrased my question and only put the important code instead of every detail.","body":"@Risto I rephrased my question and only put the important code instead of every detail."},{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":0,"creation_date":1653474039,"post_id":72374549,"comment_id":127859472,"body_markdown":"Inside TerminalFragment try adding `intent.putExtra(&quot;your_key&quot;, &quot;your_value&quot;)` before calling `startActivity()` and inside MainActivity2 try using `getStringExtra(&quot;the_same_key&quot;)` instead of `getExtra()` and let me know if it works.","body":"Inside TerminalFragment try adding <code>intent.putExtra(&quot;your_key&quot;, &quot;your_value&quot;)</code> before calling <code>startActivity()</code> and inside MainActivity2 try using <code>getStringExtra(&quot;the_same_key&quot;)</code> instead of <code>getExtra()</code> and let me know if it works."},{"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"score":0,"creation_date":1653475628,"post_id":72374549,"comment_id":127859982,"body_markdown":"@ganjaam I deleted the if statement of savedInstanceState == null and put String extra getIntent().getStringExtra(); directly into receive(). For TerminalFragment, I added intent.putExtra(&quot;output&quot;, &quot;output&quot;) in if (id == R.id.plot) but deleted the code of last two lines in receive().","body":"@ganjaam I deleted the if statement of savedInstanceState == null and put String extra getIntent().getStringExtra(); directly into receive(). For TerminalFragment, I added intent.putExtra(&quot;output&quot;, &quot;output&quot;) in if (id == R.id.plot) but deleted the code of last two lines in receive()."},{"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"score":0,"creation_date":1653475722,"post_id":72374549,"comment_id":127860016,"body_markdown":"The recyclerView has shown: &quot;John&quot; &lt;next line&gt; &quot;androidx.appcompat.widget.... &quot;","body":"The recyclerView has shown: &quot;John&quot; &lt;next line&gt; &quot;androidx.appcompat.widget.... &quot;"}],"answers":[{"tags":[],"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653481527,"creation_date":1653481527,"answer_id":72377611,"question_id":72374549,"body_markdown":"I realized I also need to add getText() in receive(). However, the recycler view won&#39;t update itself, it just captures what it has in the recyclerview of activity_main with TerminalFragment when the user click the menuItem (id,plot). Either getextrastring() or using bundle able to pass the data to Mainactivity2.\r\nI think I need to add something else to keep adding data to the recyclerview of activity_main2 from activity_main.\r\n\r\nonOptionsItemSelected of TerminalFragment\r\n```\r\nif (id == R.id.plot){\r\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\r\n            intent.putExtra(&quot;output&quot;,output); //output\r\n            startActivity(intent);\r\n            return true;\r\n        }\r\n```\r\nreceive() of TerminalFragment \r\n```\r\nprivate void receive(byte[] data) {\r\n        if(hexEnabled) {\r\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + &#39;\\n&#39;);\r\n        } else {\r\n            String msg = new String(data);\r\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\r\n                // don&#39;t show CR as ^M if directly before LF\r\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\r\n                // special handling if CR and LF come in separate fragments\r\n                if (pendingNewline &amp;&amp; msg.charAt(0) == &#39;\\n&#39;) {\r\n                    Editable edt = receiveText.getEditableText();\r\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\r\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\r\n                }\r\n                pendingNewline = msg.charAt(msg.length() - 1) == &#39;\\r&#39;;\r\n            }\r\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\r\n            output = receiveText.getText().toString(); // CharSequence to String\r\n        }\r\n    }\r\n``` \r\nOnCreate of mainActivity2\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        Toolbar toolbar = findViewById(R.id.toolbar2);\r\n        setSupportActionBar(toolbar);\r\n        recyclerView = findViewById(R.id.dataflow);\r\n        dataList = new ArrayList&lt;&gt;();\r\n        String data;\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null)\r\n        {\r\n            data = extras.getString(&quot;output&quot;);\r\n            receiveData(data);\r\n        }\r\n        setAdapter();\r\n    }\r\n```","title":"How to send data sent by BLE Device in a fragment to a new activity for display and plotting graph in app?","body":"<p>I realized I also need to add getText() in receive(). However, the recycler view won't update itself, it just captures what it has in the recyclerview of activity_main with TerminalFragment when the user click the menuItem (id,plot). Either getextrastring() or using bundle able to pass the data to Mainactivity2.\nI think I need to add something else to keep adding data to the recyclerview of activity_main2 from activity_main.</p>\n<p>onOptionsItemSelected of TerminalFragment</p>\n<pre><code>if (id == R.id.plot){\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\n            intent.putExtra(&quot;output&quot;,output); //output\n            startActivity(intent);\n            return true;\n        }\n</code></pre>\n<p>receive() of TerminalFragment</p>\n<pre><code>private void receive(byte[] data) {\n        if(hexEnabled) {\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + '\\n');\n        } else {\n            String msg = new String(data);\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\n                // don't show CR as ^M if directly before LF\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\n                // special handling if CR and LF come in separate fragments\n                if (pendingNewline &amp;&amp; msg.charAt(0) == '\\n') {\n                    Editable edt = receiveText.getEditableText();\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\n                }\n                pendingNewline = msg.charAt(msg.length() - 1) == '\\r';\n            }\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\n            output = receiveText.getText().toString(); // CharSequence to String\n        }\n    }\n</code></pre>\n<p>OnCreate of mainActivity2</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        Toolbar toolbar = findViewById(R.id.toolbar2);\n        setSupportActionBar(toolbar);\n        recyclerView = findViewById(R.id.dataflow);\n        dataList = new ArrayList&lt;&gt;();\n        String data;\n        Bundle extras = getIntent().getExtras();\n        if (extras != null)\n        {\n            data = extras.getString(&quot;output&quot;);\n            receiveData(data);\n        }\n        setAdapter();\n    }\n</code></pre>\n"}],"owner":{"account_id":23662142,"reputation":33,"user_id":17690070,"display_name":"TSLee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653481527,"creation_date":1653468558,"question_id":72374549,"body_markdown":"I am completely new to Android and just learned Object-oriented programming. My project requires me to build something on open-source code. I am really struggling with this special case. Two fragments are under activity_main, one of them is TerminalFragment. I added a menuItem (R.id.plot) in it and set if the user clicks this Item that will lead him from TerminalFragment to activity_main2. Due to receive(byte data) and TerminalFragment still on active, the data is still printing out by receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); in activity_main. \r\n\r\nNow, I want to convert the data to String and send it to activity_main2 for display in recyclerview and plotting graph.  I am trying to use putextra and getextra but not sure how to access data from getextra in activity_main2. In my testing, the recyclerview just showed &quot;John&quot;. Is something missing in my method? Does anyone have a better idea? Much Appreciated.\r\n\r\nTerminalFragment\r\n```\r\npackage de.kai_morich.simple_bluetooth_le_terminal;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.ServiceConnection;\r\nimport android.os.Bundle;\r\nimport android.os.IBinder;\r\nimport android.text.Editable;\r\nimport android.text.Spannable;\r\nimport android.text.SpannableStringBuilder;\r\nimport android.text.method.ScrollingMovementMethod;\r\nimport android.text.style.ForegroundColorSpan;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.widget.EditText;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class TerminalFragment extends Fragment implements ServiceConnection, SerialListener {\r\n\r\n    private MenuItem menuItem;\r\n    private enum Connected { False, Pending, True }\r\n\r\n    private String deviceAddress;\r\n    private SerialService service;\r\n\r\n    private TextView receiveText;\r\n    private TextView sendText;\r\n    private TextUtil.HexWatcher hexWatcher;\r\n\r\n    private Connected connected = Connected.False;\r\n    private boolean initialStart = true;\r\n    private boolean hexEnabled = false;\r\n    private boolean pendingNewline = false;\r\n    private String newline = TextUtil.newline_crlf;\r\n    private String output;\r\n\r\n    /*\r\n     * Lifecycle\r\n     */\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setHasOptionsMenu(true);\r\n        //Register with activity\r\n        // You must inform the system that your app bar fragment is participating in the population of the options menu.\r\n        // tells the system that your fragment would like to receive menu-related callbacks.\r\n\r\n        setRetainInstance(true);\r\n        deviceAddress = getArguments().getString(&quot;device&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        if (connected != Connected.False)\r\n            disconnect();\r\n        getActivity().stopService(new Intent(getActivity(), SerialService.class));\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        if(service != null)\r\n            service.attach(this);\r\n        else\r\n            getActivity().startService(new Intent(getActivity(), SerialService.class)); // prevents service destroy on unbind from recreated activity caused by orientation change\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        if(service != null &amp;&amp; !getActivity().isChangingConfigurations())\r\n            service.detach();\r\n        super.onStop();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;) // onAttach(context) was added with API 23. onAttach(activity) works for all API versions\r\n    @Override\r\n    public void onAttach(@NonNull Activity activity) {\r\n        super.onAttach(activity);\r\n        getActivity().bindService(new Intent(getActivity(), SerialService.class), this, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        try { getActivity().unbindService(this); } catch(Exception ignored) {}\r\n        super.onDetach();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        if(initialStart &amp;&amp; service != null) {\r\n            initialStart = false;\r\n            getActivity().runOnUiThread(this::connect);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onServiceConnected(ComponentName name, IBinder binder) {\r\n        service = ((SerialService.SerialBinder) binder).getService();\r\n        service.attach(this);\r\n        if(initialStart &amp;&amp; isResumed()) {\r\n            initialStart = false;\r\n            getActivity().runOnUiThread(this::connect);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onServiceDisconnected(ComponentName name) {\r\n        service = null;\r\n    }\r\n\r\n    /*\r\n     * UI\r\n     */\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_terminal, container, false);\r\n        receiveText = view.findViewById(R.id.receive_text);                          // TextView performance decreases with number of spans\r\n        receiveText.setTextColor(getResources().getColor(R.color.colorRecieveText)); // set as default color to reduce number of spans\r\n        receiveText.setMovementMethod(ScrollingMovementMethod.getInstance());\r\n\r\n        sendText = view.findViewById(R.id.send_text);\r\n        hexWatcher = new TextUtil.HexWatcher(sendText);\r\n        hexWatcher.enable(hexEnabled);\r\n        sendText.addTextChangedListener(hexWatcher);\r\n        sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\r\n\r\n        View sendBtn = view.findViewById(R.id.send_btn);\r\n        sendBtn.setOnClickListener(v -&gt; send(sendText.getText().toString()));\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.menu_terminal, menu);\r\n        menu.findItem(R.id.hex).setChecked(hexEnabled);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.clear) {\r\n            receiveText.setText(&quot;&quot;);\r\n            return true;\r\n        } if (id == R.id.plot){\r\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\r\n            startActivity(intent);\r\n            //receive.;\r\n            return true;\r\n        }else if (id == R.id.newline) {\r\n            String[] newlineNames = getResources().getStringArray(R.array.newline_names);\r\n            String[] newlineValues = getResources().getStringArray(R.array.newline_values);\r\n            int pos = java.util.Arrays.asList(newlineValues).indexOf(newline);\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            builder.setTitle(&quot;Newline&quot;);\r\n            builder.setSingleChoiceItems(newlineNames, pos, (dialog, item1) -&gt; {\r\n                newline = newlineValues[item1];\r\n                dialog.dismiss();\r\n            });\r\n            builder.create().show();\r\n            return true;\r\n        } else if (id == R.id.hex) {\r\n            hexEnabled = !hexEnabled;\r\n            sendText.setText(&quot;&quot;);\r\n            hexWatcher.enable(hexEnabled);\r\n            sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\r\n            item.setChecked(hexEnabled);\r\n            return true;\r\n        } else {\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    /*\r\n     * Serial + UI\r\n     */\r\n    private void connect() {\r\n        try {\r\n            BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\r\n            status(&quot;connecting...&quot;);\r\n            connected = Connected.Pending;\r\n            SerialSocket socket = new SerialSocket(getActivity().getApplicationContext(), device);\r\n            service.connect(socket);\r\n        } catch (Exception e) {\r\n            onSerialConnectError(e);\r\n        }\r\n    }\r\n\r\n    private void disconnect() {\r\n        connected = Connected.False;\r\n        service.disconnect();\r\n    }\r\n\r\n    private void send(String str) {\r\n        if(connected != Connected.True) {\r\n            Toast.makeText(getActivity(), &quot;not connected&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        try {\r\n            String msg;\r\n            byte[] data;\r\n            if(hexEnabled) {\r\n                StringBuilder sb = new StringBuilder();\r\n                TextUtil.toHexString(sb, TextUtil.fromHexString(str));\r\n                TextUtil.toHexString(sb, newline.getBytes());\r\n                msg = sb.toString();\r\n                data = TextUtil.fromHexString(msg);\r\n            } else {\r\n                msg = str;\r\n                data = (str + newline).getBytes();\r\n            }\r\n            SpannableStringBuilder spn = new SpannableStringBuilder(msg + &#39;\\n&#39;);\r\n            spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorSendText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            receiveText.append(spn);\r\n            service.write(data);\r\n        } catch (Exception e) {\r\n            onSerialIoError(e);\r\n        }\r\n    }\r\n\r\n    private void receive(byte[] data) {\r\n        if(hexEnabled) {\r\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + &#39;\\n&#39;);\r\n        } else {\r\n            String msg = new String(data);\r\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\r\n                // don&#39;t show CR as ^M if directly before LF\r\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\r\n                // special handling if CR and LF come in separate fragments\r\n                if (pendingNewline &amp;&amp; msg.charAt(0) == &#39;\\n&#39;) {\r\n                    Editable edt = receiveText.getEditableText();\r\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\r\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\r\n                }\r\n                pendingNewline = msg.charAt(msg.length() - 1) == &#39;\\r&#39;;\r\n            }\r\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\r\n            output = receiveText.toString(); // CharSequence to String\r\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\r\n            intent.putExtra(&quot;output&quot;,output); // send data to next activity, MainActivity2\r\n        }\r\n    }\r\n\r\n    private void status(String str) {\r\n        SpannableStringBuilder spn = new SpannableStringBuilder(str + &#39;\\n&#39;);\r\n        spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorStatusText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        receiveText.append(spn);\r\n    }\r\n\r\n    /*\r\n     * SerialListener\r\n     */\r\n    @Override\r\n    public void onSerialConnect() {\r\n        status(&quot;connected&quot;);\r\n        connected = Connected.True;\r\n    }\r\n\r\n    @Override\r\n    public void onSerialConnectError(Exception e) {\r\n        status(&quot;connection failed: &quot; + e.getMessage());\r\n        disconnect();\r\n    }\r\n\r\n    @Override\r\n    public void onSerialRead(byte[] data) {// receive data\r\n        receive(data); // send data to printout\r\n    }\r\n\r\n    @Override\r\n    public void onSerialIoError(Exception e) {\r\n        status(&quot;connection lost: &quot; + e.getMessage());\r\n        disconnect();\r\n    }\r\n\r\n}\r\n```\r\nMainActivity2.java (new activity)\r\n```\r\npackage de.kai_morich.simple_bluetooth_le_terminal;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    Fragment CustomFragment;\r\n    private ArrayList&lt;Data&gt; dataList;\r\n    private RecyclerView recyclerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        Toolbar toolbar = findViewById(R.id.toolbar2);\r\n        setSupportActionBar(toolbar);\r\n        recyclerView = findViewById(R.id.dataflow);\r\n        dataList = new ArrayList&lt;&gt;();\r\n        String data;\r\n        if (savedInstanceState == null) {\r\n            Bundle extra = getIntent().getExtras();\r\n            if (extra == null) {\r\n                data = null;\r\n                receiveData(data);\r\n            } else {\r\n                data = extra.getString(&quot;output&quot;);\r\n                receiveData(data);\r\n            }\r\n        } else {\r\n            data = (String) savedInstanceState.getSerializable(&quot;output&quot;);\r\n            receiveData(data);\r\n        }\r\n        setAdapter();\r\n    }\r\n\r\n    private void receiveData(String data){\r\n        String Data = data;\r\n        dataList.add(new Data(&quot;John&quot;));\r\n        dataList.add(new Data(Data));\r\n    }\r\n\r\n    private void setAdapter() {\r\n        recyclerAdapter adapter = new recyclerAdapter(dataList);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.menu_plot, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.dataplot:\r\n                Toast.makeText(this, &quot;dataplot&quot;, Toast.LENGTH_SHORT).show();\r\n                replaceFragment(new DataPlotFragment());\r\n                return true;\r\n            case R.id.fft:\r\n                Toast.makeText(this, &quot;FFT&quot;, Toast.LENGTH_SHORT).show();\r\n                replaceFragment(new FftFragment());\r\n                return true;\r\n            case R.id.data:\r\n                Toast.makeText(this, &quot;DATA&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n    private void replaceFragment(Fragment fragment){\r\n\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.plotframelayout,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to send data sent by BLE Device in a fragment to a new activity for display and plotting graph in app?","body":"<p>I am completely new to Android and just learned Object-oriented programming. My project requires me to build something on open-source code. I am really struggling with this special case. Two fragments are under activity_main, one of them is TerminalFragment. I added a menuItem (R.id.plot) in it and set if the user clicks this Item that will lead him from TerminalFragment to activity_main2. Due to receive(byte data) and TerminalFragment still on active, the data is still printing out by receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); in activity_main.</p>\n<p>Now, I want to convert the data to String and send it to activity_main2 for display in recyclerview and plotting graph.  I am trying to use putextra and getextra but not sure how to access data from getextra in activity_main2. In my testing, the recyclerview just showed &quot;John&quot;. Is something missing in my method? Does anyone have a better idea? Much Appreciated.</p>\n<p>TerminalFragment</p>\n<pre><code>package de.kai_morich.simple_bluetooth_le_terminal;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.text.Editable;\nimport android.text.Spannable;\nimport android.text.SpannableStringBuilder;\nimport android.text.method.ScrollingMovementMethod;\nimport android.text.style.ForegroundColorSpan;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.widget.EditText;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\npublic class TerminalFragment extends Fragment implements ServiceConnection, SerialListener {\n\n    private MenuItem menuItem;\n    private enum Connected { False, Pending, True }\n\n    private String deviceAddress;\n    private SerialService service;\n\n    private TextView receiveText;\n    private TextView sendText;\n    private TextUtil.HexWatcher hexWatcher;\n\n    private Connected connected = Connected.False;\n    private boolean initialStart = true;\n    private boolean hexEnabled = false;\n    private boolean pendingNewline = false;\n    private String newline = TextUtil.newline_crlf;\n    private String output;\n\n    /*\n     * Lifecycle\n     */\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setHasOptionsMenu(true);\n        //Register with activity\n        // You must inform the system that your app bar fragment is participating in the population of the options menu.\n        // tells the system that your fragment would like to receive menu-related callbacks.\n\n        setRetainInstance(true);\n        deviceAddress = getArguments().getString(&quot;device&quot;);\n    }\n\n    @Override\n    public void onDestroy() {\n        if (connected != Connected.False)\n            disconnect();\n        getActivity().stopService(new Intent(getActivity(), SerialService.class));\n        super.onDestroy();\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        if(service != null)\n            service.attach(this);\n        else\n            getActivity().startService(new Intent(getActivity(), SerialService.class)); // prevents service destroy on unbind from recreated activity caused by orientation change\n    }\n\n    @Override\n    public void onStop() {\n        if(service != null &amp;&amp; !getActivity().isChangingConfigurations())\n            service.detach();\n        super.onStop();\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;) // onAttach(context) was added with API 23. onAttach(activity) works for all API versions\n    @Override\n    public void onAttach(@NonNull Activity activity) {\n        super.onAttach(activity);\n        getActivity().bindService(new Intent(getActivity(), SerialService.class), this, Context.BIND_AUTO_CREATE);\n    }\n\n    @Override\n    public void onDetach() {\n        try { getActivity().unbindService(this); } catch(Exception ignored) {}\n        super.onDetach();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        if(initialStart &amp;&amp; service != null) {\n            initialStart = false;\n            getActivity().runOnUiThread(this::connect);\n        }\n    }\n\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder binder) {\n        service = ((SerialService.SerialBinder) binder).getService();\n        service.attach(this);\n        if(initialStart &amp;&amp; isResumed()) {\n            initialStart = false;\n            getActivity().runOnUiThread(this::connect);\n        }\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        service = null;\n    }\n\n    /*\n     * UI\n     */\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_terminal, container, false);\n        receiveText = view.findViewById(R.id.receive_text);                          // TextView performance decreases with number of spans\n        receiveText.setTextColor(getResources().getColor(R.color.colorRecieveText)); // set as default color to reduce number of spans\n        receiveText.setMovementMethod(ScrollingMovementMethod.getInstance());\n\n        sendText = view.findViewById(R.id.send_text);\n        hexWatcher = new TextUtil.HexWatcher(sendText);\n        hexWatcher.enable(hexEnabled);\n        sendText.addTextChangedListener(hexWatcher);\n        sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\n\n        View sendBtn = view.findViewById(R.id.send_btn);\n        sendBtn.setOnClickListener(v -&gt; send(sendText.getText().toString()));\n        return view;\n    }\n\n    @Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, MenuInflater inflater) {\n        inflater.inflate(R.menu.menu_terminal, menu);\n        menu.findItem(R.id.hex).setChecked(hexEnabled);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.clear) {\n            receiveText.setText(&quot;&quot;);\n            return true;\n        } if (id == R.id.plot){\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\n            startActivity(intent);\n            //receive.;\n            return true;\n        }else if (id == R.id.newline) {\n            String[] newlineNames = getResources().getStringArray(R.array.newline_names);\n            String[] newlineValues = getResources().getStringArray(R.array.newline_values);\n            int pos = java.util.Arrays.asList(newlineValues).indexOf(newline);\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n            builder.setTitle(&quot;Newline&quot;);\n            builder.setSingleChoiceItems(newlineNames, pos, (dialog, item1) -&gt; {\n                newline = newlineValues[item1];\n                dialog.dismiss();\n            });\n            builder.create().show();\n            return true;\n        } else if (id == R.id.hex) {\n            hexEnabled = !hexEnabled;\n            sendText.setText(&quot;&quot;);\n            hexWatcher.enable(hexEnabled);\n            sendText.setHint(hexEnabled ? &quot;HEX mode&quot; : &quot;&quot;);\n            item.setChecked(hexEnabled);\n            return true;\n        } else {\n            return super.onOptionsItemSelected(item);\n        }\n    }\n\n    /*\n     * Serial + UI\n     */\n    private void connect() {\n        try {\n            BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n            BluetoothDevice device = bluetoothAdapter.getRemoteDevice(deviceAddress);\n            status(&quot;connecting...&quot;);\n            connected = Connected.Pending;\n            SerialSocket socket = new SerialSocket(getActivity().getApplicationContext(), device);\n            service.connect(socket);\n        } catch (Exception e) {\n            onSerialConnectError(e);\n        }\n    }\n\n    private void disconnect() {\n        connected = Connected.False;\n        service.disconnect();\n    }\n\n    private void send(String str) {\n        if(connected != Connected.True) {\n            Toast.makeText(getActivity(), &quot;not connected&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        try {\n            String msg;\n            byte[] data;\n            if(hexEnabled) {\n                StringBuilder sb = new StringBuilder();\n                TextUtil.toHexString(sb, TextUtil.fromHexString(str));\n                TextUtil.toHexString(sb, newline.getBytes());\n                msg = sb.toString();\n                data = TextUtil.fromHexString(msg);\n            } else {\n                msg = str;\n                data = (str + newline).getBytes();\n            }\n            SpannableStringBuilder spn = new SpannableStringBuilder(msg + '\\n');\n            spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorSendText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n            receiveText.append(spn);\n            service.write(data);\n        } catch (Exception e) {\n            onSerialIoError(e);\n        }\n    }\n\n    private void receive(byte[] data) {\n        if(hexEnabled) {\n            receiveText.append(&quot;Hello&quot; + TextUtil.toHexString(data) + '\\n');\n        } else {\n            String msg = new String(data);\n            if(newline.equals(TextUtil.newline_crlf) &amp;&amp; msg.length() &gt; 0) {\n                // don't show CR as ^M if directly before LF\n                msg = msg.replace(TextUtil.newline_crlf, TextUtil.newline_lf);\n                // special handling if CR and LF come in separate fragments\n                if (pendingNewline &amp;&amp; msg.charAt(0) == '\\n') {\n                    Editable edt = receiveText.getEditableText();\n                    if (edt != null &amp;&amp; edt.length() &gt; 1)\n                        edt.replace(edt.length() - 2, edt.length(), &quot;&quot;);\n                }\n                pendingNewline = msg.charAt(msg.length() - 1) == '\\r';\n            }\n            receiveText.append(TextUtil.toCaretString(msg, newline.length() != 0)); //print out data\n            output = receiveText.toString(); // CharSequence to String\n            Intent intent = new Intent(getActivity(), MainActivity2.class);\n            intent.putExtra(&quot;output&quot;,output); // send data to next activity, MainActivity2\n        }\n    }\n\n    private void status(String str) {\n        SpannableStringBuilder spn = new SpannableStringBuilder(str + '\\n');\n        spn.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorStatusText)), 0, spn.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n        receiveText.append(spn);\n    }\n\n    /*\n     * SerialListener\n     */\n    @Override\n    public void onSerialConnect() {\n        status(&quot;connected&quot;);\n        connected = Connected.True;\n    }\n\n    @Override\n    public void onSerialConnectError(Exception e) {\n        status(&quot;connection failed: &quot; + e.getMessage());\n        disconnect();\n    }\n\n    @Override\n    public void onSerialRead(byte[] data) {// receive data\n        receive(data); // send data to printout\n    }\n\n    @Override\n    public void onSerialIoError(Exception e) {\n        status(&quot;connection lost: &quot; + e.getMessage());\n        disconnect();\n    }\n\n}\n</code></pre>\n<p>MainActivity2.java (new activity)</p>\n<pre><code>package de.kai_morich.simple_bluetooth_le_terminal;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class MainActivity2 extends AppCompatActivity {\n\n    Fragment CustomFragment;\n    private ArrayList&lt;Data&gt; dataList;\n    private RecyclerView recyclerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        Toolbar toolbar = findViewById(R.id.toolbar2);\n        setSupportActionBar(toolbar);\n        recyclerView = findViewById(R.id.dataflow);\n        dataList = new ArrayList&lt;&gt;();\n        String data;\n        if (savedInstanceState == null) {\n            Bundle extra = getIntent().getExtras();\n            if (extra == null) {\n                data = null;\n                receiveData(data);\n            } else {\n                data = extra.getString(&quot;output&quot;);\n                receiveData(data);\n            }\n        } else {\n            data = (String) savedInstanceState.getSerializable(&quot;output&quot;);\n            receiveData(data);\n        }\n        setAdapter();\n    }\n\n    private void receiveData(String data){\n        String Data = data;\n        dataList.add(new Data(&quot;John&quot;));\n        dataList.add(new Data(Data));\n    }\n\n    private void setAdapter() {\n        recyclerAdapter adapter = new recyclerAdapter(dataList);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n        recyclerView.setAdapter(adapter);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.menu_plot, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.dataplot:\n                Toast.makeText(this, &quot;dataplot&quot;, Toast.LENGTH_SHORT).show();\n                replaceFragment(new DataPlotFragment());\n                return true;\n            case R.id.fft:\n                Toast.makeText(this, &quot;FFT&quot;, Toast.LENGTH_SHORT).show();\n                replaceFragment(new FftFragment());\n                return true;\n            case R.id.data:\n                Toast.makeText(this, &quot;DATA&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n    private void replaceFragment(Fragment fragment){\n\n        FragmentManager fragmentManager = getSupportFragmentManager();\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.replace(R.id.plotframelayout,fragment);\n        fragmentTransaction.commit();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","microservices"],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653434506,"creation_date":1653434506,"answer_id":72370444,"question_id":72364792,"body_markdown":"It is not a node that requests a `volumeMount`, but a container inside a Pod (many Pods may run in same node).\r\n\r\nA PVC is 1-1 bound to a PV using a single access mode (even it supports many) at a time (see also [access modes](https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes)). So, you **cannot** have a PVC operating at the same time as `ReadWriteOnce` (for some Pods) and `ReadOnlyMany` (for some other Pods).\r\n\r\nIf you want to support 1 writer and many readers, one solution is to let them use a `ReadWriteOnce` volume and ensure that all Pods run on the same node the volume is mounted (e.g by using [node affinity](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity) constraints).\r\n","title":"In Kubernetes, how can i have an access mode to allow one pod at a time to write and many pods to read only?","body":"<p>It is not a node that requests a <code>volumeMount</code>, but a container inside a Pod (many Pods may run in same node).</p>\n<p>A PVC is 1-1 bound to a PV using a single access mode (even it supports many) at a time (see also <a href=\"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes\" rel=\"nofollow noreferrer\">access modes</a>). So, you <strong>cannot</strong> have a PVC operating at the same time as <code>ReadWriteOnce</code> (for some Pods) and <code>ReadOnlyMany</code> (for some other Pods).</p>\n<p>If you want to support 1 writer and many readers, one solution is to let them use a <code>ReadWriteOnce</code> volume and ensure that all Pods run on the same node the volume is mounted (e.g by using <a href=\"https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity\" rel=\"nofollow noreferrer\">node affinity</a> constraints).</p>\n"}],"owner":{"account_id":15890504,"reputation":33,"user_id":11465774,"display_name":"طه غرايبه"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72370444,"answer_count":1,"score":3,"last_activity_date":1653481514,"creation_date":1653402861,"question_id":72364792,"body_markdown":"I tried to define a PVC: \r\n```yml\r\napiVersion: v1\r\nkind: PersistentVolumeClaim\r\nmetadata:\r\n  name: master-pvc\r\nspec:\r\n  accessModes:\r\n    - ReadWriteOnce\r\n    - ReadOnlyMany\r\n  resources:\r\n    requests:\r\n      storage: 1Gi\r\n```\r\n\r\nThe nodes that need readonly access should define: \r\n```yml\r\nvolumeMounts:\r\n- name: mastervol\r\n  mountPath: /data/master/\r\n  readOnly: true\r\n```\r\n\r\nThe master that needs to read and write, should define:\r\n```yml\r\nvolumeMounts:\r\n- name: mastervol\r\n  mountPath: /data/master/\r\n```\r\n\r\nIs this a valid way to achieve what i want? \r\n","title":"In Kubernetes, how can i have an access mode to allow one pod at a time to write and many pods to read only?","body":"<p>I tried to define a PVC:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: master-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n    - ReadOnlyMany\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre>\n<p>The nodes that need readonly access should define:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>volumeMounts:\n- name: mastervol\n  mountPath: /data/master/\n  readOnly: true\n</code></pre>\n<p>The master that needs to read and write, should define:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>volumeMounts:\n- name: mastervol\n  mountPath: /data/master/\n</code></pre>\n<p>Is this a valid way to achieve what i want?</p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":2803978,"reputation":899,"user_id":2411594,"accept_rate":33,"display_name":"Paolof76"},"score":1,"creation_date":1521702391,"post_id":49421025,"comment_id":85845711,"body_markdown":"Does this make sense? There are more countries for a single timezone... see the javadocs of ZoneIds: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html","body":"Does this make sense? There are more countries for a single timezone... see the javadocs of ZoneIds: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1521714803,"post_id":49421025,"comment_id":85853561,"body_markdown":"It doesn’t compile since `toZoneId()` returns a `ZoneId` (not a `String`; but you may append `.toString()` to have one). @Paolof76: It makes sense if the zone ID is in the region/city format, for example, Pacific/Honolulu, which it ought to be. But I’m afraid it will require somewhat of a geography database.","body":"It doesn’t compile since <code>toZoneId()</code> returns a <code>ZoneId</code> (not a <code>String</code>; but you may append <code>.toString()</code> to have one). @Paolof76: It makes sense if the zone ID is in the region/city format, for example, Pacific/Honolulu, which it ought to be. But I’m afraid it will require somewhat of a geography database."},{"owner":{"account_id":10574053,"reputation":373,"user_id":7789871,"display_name":"SABER"},"score":0,"creation_date":1521717625,"post_id":49421025,"comment_id":85855635,"body_markdown":"Is there any third party api or something which will convert &quot;region/city&quot; format into the respective country ISO code or country name.","body":"Is there any third party api or something which will convert &quot;region/city&quot; format into the respective country ISO code or country name."}],"answers":[{"tags":[],"owner":{"account_id":13201443,"reputation":165,"user_id":9534566,"display_name":"pist"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1653481385,"creation_date":1521722517,"answer_id":49428989,"question_id":49421025,"body_markdown":"I think the best alternative is to get these IANA&#39;s files:\r\n\r\n- https://github.com/eggert/tz/blob/main/zone.tab\r\n- https://github.com/eggert/tz/blob/main/zone1970.tab\r\n\r\nThose files have entries in the format below:\r\n\r\n    #codes\tcoordinates\tTZ\tcomments\r\n    AD\t    +4230+00131\tEurope/Andorra\r\n    AE,OM\t+2518+05518\tAsia/Dubai\r\n    AF\t    +3431+06912\tAsia/Kabul\r\n\r\nIf I&#39;m not wrong, `zone1970.tab` is newer and covers cases where a timezone is used by more than one country, but you can check both and see which one solves your problem.\r\n\r\nAnd there&#39;s also [the iso3166.tab file][1] that maps countries codes to their respective names.\r\n\r\nI&#39;m not sure if Java has an API that directly reads those files, but looking at their formats, it seems to be straighforward to read them and find the info you want.\r\n\r\n&lt;br&gt;\r\n**Quick note**: there&#39;s no need to call `Calendar.getInstance().getTimeZone().toZoneId()`.\r\n\r\nIf you want your JVM&#39;s default timezone as a `ZoneId` object, just call `ZoneId.systemDefault()`. If you want the zone&#39;s ID as a `String` (such as `Europe/Berlin` or `America/New_York`), just call `ZoneId.systemDefault().getId()`.\r\n\r\n  [1]: https://github.com/eggert/tz/blob/main/iso3166.tab","title":"How to get Country Code from timezone ID in java?","body":"<p>I think the best alternative is to get these IANA's files:</p>\n<ul>\n<li><a href=\"https://github.com/eggert/tz/blob/main/zone.tab\" rel=\"nofollow noreferrer\">https://github.com/eggert/tz/blob/main/zone.tab</a></li>\n<li><a href=\"https://github.com/eggert/tz/blob/main/zone1970.tab\" rel=\"nofollow noreferrer\">https://github.com/eggert/tz/blob/main/zone1970.tab</a></li>\n</ul>\n<p>Those files have entries in the format below:</p>\n<pre><code>#codes  coordinates TZ  comments\nAD      +4230+00131 Europe/Andorra\nAE,OM   +2518+05518 Asia/Dubai\nAF      +3431+06912 Asia/Kabul\n</code></pre>\n<p>If I'm not wrong, <code>zone1970.tab</code> is newer and covers cases where a timezone is used by more than one country, but you can check both and see which one solves your problem.</p>\n<p>And there's also <a href=\"https://github.com/eggert/tz/blob/main/iso3166.tab\" rel=\"nofollow noreferrer\">the iso3166.tab file</a> that maps countries codes to their respective names.</p>\n<p>I'm not sure if Java has an API that directly reads those files, but looking at their formats, it seems to be straighforward to read them and find the info you want.</p>\n<br>\n**Quick note**: there's no need to call `Calendar.getInstance().getTimeZone().toZoneId()`.\n<p>If you want your JVM's default timezone as a <code>ZoneId</code> object, just call <code>ZoneId.systemDefault()</code>. If you want the zone's ID as a <code>String</code> (such as <code>Europe/Berlin</code> or <code>America/New_York</code>), just call <code>ZoneId.systemDefault().getId()</code>.</p>\n"}],"owner":{"account_id":10574053,"reputation":373,"user_id":7789871,"display_name":"SABER"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4967,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49428989,"answer_count":1,"score":3,"last_activity_date":1653481385,"creation_date":1521695740,"question_id":49421025,"body_markdown":"     String zoneId = Calendar.getInstance().getTimeZone().toZoneId();\r\nI want to get String[] which is having the countries ISO code  e.g. &quot;AS&quot;, &quot;AL&quot;, &quot;AU&quot; for which the zoneId is applicable ?\r\n\r\n","title":"How to get Country Code from timezone ID in java?","body":"<pre><code> String zoneId = Calendar.getInstance().getTimeZone().toZoneId();\n</code></pre>\n\n<p>I want to get String[] which is having the countries ISO code  e.g. \"AS\", \"AL\", \"AU\" for which the zoneId is applicable ?</p>\n"},{"tags":["java","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":2027181,"reputation":752,"user_id":1811853,"display_name":"azraelAT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653481327,"creation_date":1359373499,"answer_id":14561309,"question_id":14560276,"body_markdown":"You can get the POST Body from the Requests Input Stream.\r\nTry something like this:\r\n```java\r\n    @Override\r\n    public ContainerRequest filter(ContainerRequest req) {\r\n        try{\r\n            StringWriter writer = new StringWriter();    \t\r\n            IOUtils.copy(req.getEntityInputStream(), writer, &quot;UTF-8&quot;);\r\n        \r\n            //This is your POST Body as String\t\t\r\n            String body = writer.toString();\r\n        } catch (IOException e) {\r\n\r\n        }\r\n\r\n        return req;\r\n    }\r\n```","title":"How to use Jersey interceptors to get request body","body":"<p>You can get the POST Body from the Requests Input Stream.\nTry something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public ContainerRequest filter(ContainerRequest req) {\n        try{\n            StringWriter writer = new StringWriter();       \n            IOUtils.copy(req.getEntityInputStream(), writer, &quot;UTF-8&quot;);\n        \n            //This is your POST Body as String      \n            String body = writer.toString();\n        } catch (IOException e) {\n\n        }\n\n        return req;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1596371"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1359379100,"creation_date":1359379100,"answer_id":14562915,"question_id":14560276,"body_markdown":"You can only read the content once, because it&#39;s an input stream.  If you pick it up in the interceptor then you won&#39;t be able to provide it in the main parsing.\r\n\r\nWhat you need to do is to create a filter which reads the data and makes it available to anyone else who needs it.  Basic steps are:\r\n\r\n   - in your filter create a new subclass of HttpServletRequestWrapper which reads the input in to a buffer and overrides getInputStream() to provide a new input stream to that buffer\r\n   - pass your new subclass down the chain","title":"How to use Jersey interceptors to get request body","body":"<p>You can only read the content once, because it's an input stream.  If you pick it up in the interceptor then you won't be able to provide it in the main parsing.</p>\n\n<p>What you need to do is to create a filter which reads the data and makes it available to anyone else who needs it.  Basic steps are:</p>\n\n<ul>\n<li>in your filter create a new subclass of HttpServletRequestWrapper which reads the input in to a buffer and overrides getInputStream() to provide a new input stream to that buffer</li>\n<li>pass your new subclass down the chain</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":418436,"reputation":2009,"user_id":794988,"display_name":"Arul Dhesiaseelan"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1359479512,"creation_date":1359450904,"answer_id":14579296,"question_id":14560276,"body_markdown":"Here is one way you can implement, very similar to how Jersey implements its logging filters. You can read the entity and stick it back to the request, so you accidentally do not consume it in your filter.\r\n\r\n    import com.sun.jersey.api.container.ContainerException;\r\n    import com.sun.jersey.core.util.ReaderWriter;\r\n    import com.sun.jersey.spi.container.ContainerRequest;\r\n    import com.sun.jersey.spi.container.ContainerRequestFilter;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class JerseyFilter implements ContainerRequestFilter {\r\n    \r\n        @Override\r\n        public ContainerRequest filter(ContainerRequest request) {\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            InputStream in = request.getEntityInputStream();\r\n            final StringBuilder b = new StringBuilder();\r\n            try {\r\n                if (in.available() &gt; 0) {\r\n                    ReaderWriter.writeTo(in, out);\r\n    \r\n                    byte[] requestEntity = out.toByteArray();\r\n                    printEntity(b, requestEntity);\r\n    \r\n                    request.setEntityInputStream(new ByteArrayInputStream(requestEntity));\r\n                }\r\n                return request;\r\n            } catch (IOException ex) {\r\n                throw new ContainerException(ex);\r\n            }\r\n    \r\n        }\r\n    \r\n        private void printEntity(StringBuilder b, byte[] entity) throws IOException {\r\n            if (entity.length == 0)\r\n                return;\r\n            b.append(new String(entity)).append(&quot;\\n&quot;);\r\n            System.out.println(&quot;#### Intercepted Entity ####&quot;);\r\n            System.out.println(b.toString());\r\n        }\r\n    }","title":"How to use Jersey interceptors to get request body","body":"<p>Here is one way you can implement, very similar to how Jersey implements its logging filters. You can read the entity and stick it back to the request, so you accidentally do not consume it in your filter.</p>\n\n<pre><code>import com.sun.jersey.api.container.ContainerException;\nimport com.sun.jersey.core.util.ReaderWriter;\nimport com.sun.jersey.spi.container.ContainerRequest;\nimport com.sun.jersey.spi.container.ContainerRequestFilter;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class JerseyFilter implements ContainerRequestFilter {\n\n    @Override\n    public ContainerRequest filter(ContainerRequest request) {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        InputStream in = request.getEntityInputStream();\n        final StringBuilder b = new StringBuilder();\n        try {\n            if (in.available() &gt; 0) {\n                ReaderWriter.writeTo(in, out);\n\n                byte[] requestEntity = out.toByteArray();\n                printEntity(b, requestEntity);\n\n                request.setEntityInputStream(new ByteArrayInputStream(requestEntity));\n            }\n            return request;\n        } catch (IOException ex) {\n            throw new ContainerException(ex);\n        }\n\n    }\n\n    private void printEntity(StringBuilder b, byte[] entity) throws IOException {\n        if (entity.length == 0)\n            return;\n        b.append(new String(entity)).append(\"\\n\");\n        System.out.println(\"#### Intercepted Entity ####\");\n        System.out.println(b.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168807,"reputation":211,"user_id":1921326,"display_name":"SyParth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484567809,"creation_date":1484567809,"answer_id":41675909,"question_id":14560276,"body_markdown":"Do not use `in.available()` method to check the total bytes of Inputstream. Some clients does not set this value. And in this case it will be foul eventhough the message body input stream exists.\r\n\r\n     InputStream in = request.getEntityInputStream();\r\n            final StringBuilder b = new StringBuilder();\r\n            try {\r\n                if (in.available() &gt; 0)\r\n\r\nUse below code \r\n\r\n\r\n    String json = IOUtils.toString(requestContext.getEntityStream(), Charsets.UTF_8);\r\n                messageBody = json;\r\n                InputStream in = IOUtils.toInputStream(json);\r\n                requestContext.setEntityStream(in);","title":"How to use Jersey interceptors to get request body","body":"<p>Do not use <code>in.available()</code> method to check the total bytes of Inputstream. Some clients does not set this value. And in this case it will be foul eventhough the message body input stream exists.</p>\n\n<pre><code> InputStream in = request.getEntityInputStream();\n        final StringBuilder b = new StringBuilder();\n        try {\n            if (in.available() &gt; 0)\n</code></pre>\n\n<p>Use below code </p>\n\n<pre><code>String json = IOUtils.toString(requestContext.getEntityStream(), Charsets.UTF_8);\n            messageBody = json;\n            InputStream in = IOUtils.toInputStream(json);\n            requestContext.setEntityStream(in);\n</code></pre>\n"}],"owner":{"account_id":1417986,"reputation":4487,"user_id":1580892,"accept_rate":75,"display_name":"Mono Jamoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43600,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":14579296,"answer_count":4,"score":18,"last_activity_date":1653481327,"creation_date":1359369920,"question_id":14560276,"body_markdown":"I am using `REST-Jersey` in my project. All the POST data is send in `JSON` format and unmarshalled at server-side into respective beans. Something like this:\r\n\r\nSending request to server:\r\n\r\n        $(&#39;a#sayHelloPost&#39;).click(function(event){\r\n        \tevent.preventDefault();\r\n        \tvar mangaData = {\r\n        \t\ttitle:&#39;Bleach&#39;,\r\n        \t\tauthor:&#39;Kubo Tite&#39;\r\n        \t}\r\n        \tvar formData=JSON.stringify(mangaData);\r\n        \tconsole.log(formData);\r\n        \t$.ajax({\r\n        \t        url:&#39;rest/cred/sayposthello&#39;,\r\n        \t        type: &#39;POST&#39;,\r\n        \t        data: formData,\r\n        \t       \tdataType: &#39;json&#39;,\r\n        \t       \tcontentType:&#39;application/json&#39;\r\n        \t})\r\n    });\r\n\r\nPayload:\r\n\r\n    {&quot;title&quot;:&quot;Bleach&quot;,&quot;author&quot;:&quot;Kubo Tite&quot;}\r\n\r\nServer-end:\r\n\r\n    @POST\r\n    @Path(&quot;/sayposthello&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response sayPostHello(MangaBean mb){\r\n    \tSystem.out.println(mb);\r\n    \treturn Response.status(200).build();\r\n    }\r\n\r\nMangaBean:\r\n\r\n    public class MangaBean {\r\n    \tprivate String title;\r\n    \tprivate String author;\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;MangaBean [title=&quot; + title + &quot;, author=&quot; + author + &quot;]&quot;;\r\n    \t}\r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \tpublic String getAuthor() {\r\n    \t\treturn author;\r\n    \t}\r\n    \tpublic void setAuthor(String author) {\r\n    \t\tthis.author = author;\r\n    \t}\r\n    }\r\n\r\nOutput on console:\r\n\r\n    MangaBean [title=Bleach, author=Kubo Tite]\r\n\r\nI got the REST-interceptor implementation from [here][1].\r\n\r\n    public class JerseyFilter implements ContainerRequestFilter{\r\n    \r\n    \t@Override\r\n    \tpublic ContainerRequest filter(ContainerRequest req) {\r\n    \t\treturn req;\r\n    \t}\r\n    \r\n    } \r\n\r\nI want to access the payload(request body) in the interceptor. As the data is in JSON format, its not accessible as request parameters. **Is there a way I can get the request body in the interceptor method?** Please advice.\r\n\r\n  [1]: https://stackoverflow.com/questions/4358213/how-does-one-intercept-a-request-during-the-jersey-lifecycle","title":"How to use Jersey interceptors to get request body","body":"<p>I am using <code>REST-Jersey</code> in my project. All the POST data is send in <code>JSON</code> format and unmarshalled at server-side into respective beans. Something like this:</p>\n\n<p>Sending request to server:</p>\n\n<pre><code>    $('a#sayHelloPost').click(function(event){\n        event.preventDefault();\n        var mangaData = {\n            title:'Bleach',\n            author:'Kubo Tite'\n        }\n        var formData=JSON.stringify(mangaData);\n        console.log(formData);\n        $.ajax({\n                url:'rest/cred/sayposthello',\n                type: 'POST',\n                data: formData,\n                dataType: 'json',\n                contentType:'application/json'\n        })\n});\n</code></pre>\n\n<p>Payload:</p>\n\n<pre><code>{\"title\":\"Bleach\",\"author\":\"Kubo Tite\"}\n</code></pre>\n\n<p>Server-end:</p>\n\n<pre><code>@POST\n@Path(\"/sayposthello\")\n@Produces(MediaType.APPLICATION_JSON)\npublic Response sayPostHello(MangaBean mb){\n    System.out.println(mb);\n    return Response.status(200).build();\n}\n</code></pre>\n\n<p>MangaBean:</p>\n\n<pre><code>public class MangaBean {\n    private String title;\n    private String author;\n    @Override\n    public String toString() {\n        return \"MangaBean [title=\" + title + \", author=\" + author + \"]\";\n    }\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n    public String getAuthor() {\n        return author;\n    }\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n}\n</code></pre>\n\n<p>Output on console:</p>\n\n<pre><code>MangaBean [title=Bleach, author=Kubo Tite]\n</code></pre>\n\n<p>I got the REST-interceptor implementation from <a href=\"https://stackoverflow.com/questions/4358213/how-does-one-intercept-a-request-during-the-jersey-lifecycle\">here</a>.</p>\n\n<pre><code>public class JerseyFilter implements ContainerRequestFilter{\n\n    @Override\n    public ContainerRequest filter(ContainerRequest req) {\n        return req;\n    }\n\n} \n</code></pre>\n\n<p>I want to access the payload(request body) in the interceptor. As the data is in JSON format, its not accessible as request parameters. <strong>Is there a way I can get the request body in the interceptor method?</strong> Please advice.</p>\n"},{"tags":["java","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458210226,"creation_date":1458210226,"answer_id":36057697,"question_id":36057502,"body_markdown":"    Reflections reflections = new Reflections(packageName);\r\n\treflections.getFieldsAnnotatedWith(javax.persistence.Transient.class))","title":"check for annotation type @transient","body":"<pre><code>Reflections reflections = new Reflections(packageName);\nreflections.getFieldsAnnotatedWith(javax.persistence.Transient.class))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5566524,"reputation":1073,"user_id":4413603,"display_name":"Willy du Preez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458210772,"creation_date":1458210772,"answer_id":36057920,"question_id":36057502,"body_markdown":"You can check whether the field has the annotation using the following method on the field (assuming your fcol is of type java.lang.reflect.Field):\r\n\r\n       /**\r\n         * Returns this element&#39;s annotation for the specified type if\r\n         * such an annotation is &lt;em&gt;present&lt;/em&gt;, else null.\r\n         *\r\n         * @param &lt;T&gt; the type of the annotation to query for and return if present\r\n         * @param annotationClass the Class object corresponding to the\r\n         *        annotation type\r\n         * @return this element&#39;s annotation for the specified annotation type if\r\n         *     present on this element, else null\r\n         * @throws NullPointerException if the given annotation class is null\r\n         * @since 1.5\r\n         */\r\n        &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass);\r\n\r\nAn example of using the field would be:\r\n\r\n    if (fcol.getAnnotation(Transient.class) != null)) {\r\n        // do something\r\n    }\r\n","title":"check for annotation type @transient","body":"<p>You can check whether the field has the annotation using the following method on the field (assuming your fcol is of type java.lang.reflect.Field):</p>\n\n<pre><code>   /**\n     * Returns this element's annotation for the specified type if\n     * such an annotation is &lt;em&gt;present&lt;/em&gt;, else null.\n     *\n     * @param &lt;T&gt; the type of the annotation to query for and return if present\n     * @param annotationClass the Class object corresponding to the\n     *        annotation type\n     * @return this element's annotation for the specified annotation type if\n     *     present on this element, else null\n     * @throws NullPointerException if the given annotation class is null\n     * @since 1.5\n     */\n    &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass);\n</code></pre>\n\n<p>An example of using the field would be:</p>\n\n<pre><code>if (fcol.getAnnotation(Transient.class) != null)) {\n    // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7815129,"reputation":3299,"user_id":5910091,"display_name":"ujulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458211337,"creation_date":1458211337,"answer_id":36058164,"question_id":36057502,"body_markdown":"Assume myObject is an instance  of the Entity. You have to iterate over all the fields of the class and check if there are fields annotated with @Transient. If this call return null then it means the field is not annotated with this annotation. So you can do whatever you like:\r\n\r\n    Field[] fields = myObject.getClass().getFields();\r\n    for (Field field : fields) {\r\n        Transient transientAnnoation = field.getAnnotation(Transient.class);\r\n        if (transientAnnoation  == null) {\r\n            do something\r\n        }\r\n     }","title":"check for annotation type @transient","body":"<p>Assume myObject is an instance  of the Entity. You have to iterate over all the fields of the class and check if there are fields annotated with @Transient. If this call return null then it means the field is not annotated with this annotation. So you can do whatever you like:</p>\n\n<pre><code>Field[] fields = myObject.getClass().getFields();\nfor (Field field : fields) {\n    Transient transientAnnoation = field.getAnnotation(Transient.class);\n    if (transientAnnoation  == null) {\n        do something\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25386438,"reputation":1,"user_id":19198167,"display_name":"Leonardo Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480713,"creation_date":1653480327,"answer_id":72377331,"question_id":36057502,"body_markdown":"    Field[] fields = myObject.getClass().getFields();\r\n      for (Field field : fields) {\r\n        boolean isTransient =\t\r\n    \t\tfield.getDeclaredAnnotation(javax.persistence.Transient.class) \r\n            == null ? false : true;\r\n      }\r\n\r\n","title":"check for annotation type @transient","body":"<pre><code>Field[] fields = myObject.getClass().getFields();\n  for (Field field : fields) {\n    boolean isTransient =   \n        field.getDeclaredAnnotation(javax.persistence.Transient.class) \n        == null ? false : true;\n  }\n</code></pre>\n"}],"owner":{"account_id":8060617,"reputation":326,"user_id":6076277,"accept_rate":39,"display_name":"Marcel Wolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1653480713,"creation_date":1458209736,"question_id":36057502,"body_markdown":"I want to skip fields annotadet with @transient in a query builder.\r\n\r\nSomething like \r\n\r\n\r\n    if(!fcol.annotationType().equals(@Transient){ do something }\r\n\r\nsomebody have any idea?\r\n","title":"check for annotation type @transient","body":"<p>I want to skip fields annotadet with @transient in a query builder.</p>\n\n<p>Something like </p>\n\n<pre><code>if(!fcol.annotationType().equals(@Transient){ do something }\n</code></pre>\n\n<p>somebody have any idea?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1653476741,"post_id":72376298,"comment_id":127860346,"body_markdown":"This is the similar question: https://stackoverflow.com/questions/38980929/constructor-threw-exception-nested-exception-is-java-lang-nosuchmethoderror-or\nYou have both &lt;spring.version&gt;4.0.1.RELEASE&lt;/spring.version&gt; and 5.0.0.RELEASE in other spring dependencies at the same time. Change 4.0.1.RELEASE to 5.0.0.RELEASE","body":"This is the similar question: <a href=\"https://stackoverflow.com/questions/38980929/constructor-threw-exception-nested-exception-is-java-lang-nosuchmethoderror-or\" title=\"constructor threw exception nested exception is java lang nosuchmethoderror or\">stackoverflow.com/questions/38980929/&hellip;</a> You have both &lt;spring.version&gt;4.0.1.RELEASE&lt;/spring.version&gt; and 5.0.0.RELEASE in other spring dependencies at the same time. Change 4.0.1.RELEASE to 5.0.0.RELEASE"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1653477473,"post_id":72376298,"comment_id":127860621,"body_markdown":"Spring 4.0 is too old for Spring Security 5.0. Upgrade Spring to a supported version.","body":"Spring 4.0 is too old for Spring Security 5.0. Upgrade Spring to a supported version."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653480635,"creation_date":1653480237,"answer_id":72377304,"question_id":72376298,"body_markdown":"Checked on Maven Repository that `5.0.0.RELEASE` of Spring Security supports `5.0.2.RELEASE` of **spring-core**, **spring-web**, **spring-jdbc** &amp; **spring-webmvc**\r\n\r\nCheck [here][1].\r\n\r\nTo fix the issue, just change the `spring-version` to `5.0.2.RELEASE` in the pom.xml.\r\n\r\n    &lt;properties&gt;\r\n       &lt;spring.version&gt;5.0.2.RELEASE&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-core/5.0.0.RELEASE","title":"Spring-security: Error creating bean with name &#39;org.springframework.security.filterChains&#39;","body":"<p>Checked on Maven Repository that <code>5.0.0.RELEASE</code> of Spring Security supports <code>5.0.2.RELEASE</code> of <strong>spring-core</strong>, <strong>spring-web</strong>, <strong>spring-jdbc</strong> &amp; <strong>spring-webmvc</strong></p>\n<p>Check <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-core/5.0.0.RELEASE\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To fix the issue, just change the <code>spring-version</code> to <code>5.0.2.RELEASE</code> in the pom.xml.</p>\n<pre><code>&lt;properties&gt;\n   &lt;spring.version&gt;5.0.2.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":11447214,"reputation":83,"user_id":8390694,"display_name":"Ahmed Refaat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653480635,"creation_date":1653476015,"question_id":72376298,"body_markdown":"I am new to Spring and Spring Security. I have been trying to setup spring-security in my website but I am getting the following error. I have tried to follow many online tutorials and they all gave me the same error\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39; while setting bean property &#39;sourceList&#39; with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#0&#39;: Cannot create inner bean &#39;(inner bean)#7dc29954&#39; of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7dc29954&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\r\n\r\nThis is my security-servlet\r\n\r\n    &lt;beans:beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd  \r\n        http://www.springframework.org/schema/security  \r\n        http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\r\n    \t&lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\r\n    \t\t&lt;intercept-url pattern=&quot;/admin&quot;\r\n    \t\t\taccess=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot; /&gt;\r\n    \t&lt;/http&gt;\r\n    \t&lt;authentication-manager&gt;\r\n    \t\t&lt;authentication-provider&gt;\r\n    \t\t\t&lt;user-service&gt;\r\n    \t\t\t\t&lt;user name=&quot;admin&quot; password=&quot;admin&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\r\n    \t\t\t&lt;/user-service&gt;\r\n    \t\t&lt;/authentication-provider&gt;\r\n    \t&lt;/authentication-manager&gt;\r\n    &lt;/beans:beans&gt;  \r\n\r\nMy web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n    \r\n    \t&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;\r\n    \t\t/WEB-INF/dispatcher-servlet.xml\r\n    \t\t/WEB-INF/security-servlet.xml\r\n    \t\t&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.programcreek&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;HelloWorld Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;4.0.1.RELEASE&lt;/spring.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;10.2.1.jre8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;HelloWorld&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nDo you have any idea why I&#39;m getting this error and how can I solve it?\r\nThank you","title":"Spring-security: Error creating bean with name &#39;org.springframework.security.filterChains&#39;","body":"<p>I am new to Spring and Spring Security. I have been trying to setup spring-security in my website but I am getting the following error. I have tried to follow many online tutorials and they all gave me the same error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#0' while setting bean property 'sourceList' with key [0]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#0': Cannot create inner bean '(inner bean)#7dc29954' of type [org.springframework.security.web.authentication.logout.LogoutFilter] while setting constructor argument with key [4]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7dc29954': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.security.web.authentication.logout.LogoutFilter]: Constructor threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.util.AntPathMatcher.setCaseSensitive(Z)V\n</code></pre>\n<p>This is my security-servlet</p>\n<pre><code>&lt;beans:beans\n    xmlns=&quot;http://www.springframework.org/schema/security&quot;\n    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans  \n    http://www.springframework.org/schema/beans/spring-beans.xsd  \n    http://www.springframework.org/schema/security  \n    http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt;\n    &lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\n        &lt;intercept-url pattern=&quot;/admin&quot;\n            access=&quot;hasRole('ROLE_ADMIN')&quot; /&gt;\n    &lt;/http&gt;\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider&gt;\n            &lt;user-service&gt;\n                &lt;user name=&quot;admin&quot; password=&quot;admin&quot; authorities=&quot;ROLE_ADMIN&quot; /&gt;\n            &lt;/user-service&gt;\n        &lt;/authentication-provider&gt;\n    &lt;/authentication-manager&gt;\n&lt;/beans:beans&gt;  \n</code></pre>\n<p>My web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n\n\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n        /WEB-INF/dispatcher-servlet.xml\n        /WEB-INF/security-servlet.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.programcreek&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;HelloWorld Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;spring.version&gt;4.0.1.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;10.2.1.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;HelloWorld&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Do you have any idea why I'm getting this error and how can I solve it?\nThank you</p>\n"},{"tags":["java","inheritance","constructor","polymorphism","overriding"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653479032,"post_id":72376669,"comment_id":127861228,"body_markdown":"You should explain about the class hierarchy of whatever class `method` lives in.","body":"You should explain about the class hierarchy of whatever class <code>method</code> lives in."},{"owner":{"account_id":21650701,"reputation":3,"user_id":16049226,"display_name":"Jaydeep Ranipa"},"score":0,"creation_date":1653482020,"post_id":72376669,"comment_id":127862411,"body_markdown":"HttpCollector::method(), RestCollectorBasicAuth extends HttpCollector, RestCollectorOAuth extends HttpCollector. Both of these Rest Collectors, read the jsonRequest and prepare their own objects of sub-class of DataRequest.","body":"HttpCollector::method(), RestCollectorBasicAuth extends HttpCollector, RestCollectorOAuth extends HttpCollector. Both of these Rest Collectors, read the jsonRequest and prepare their own objects of sub-class of DataRequest."}],"answers":[{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653480456,"creation_date":1653480456,"answer_id":72377364,"question_id":72376669,"body_markdown":"You can create a functional `interface` creating the instance like (due to your parameter list you cannot use `Supplier` or `(Bi)Function`):\r\n```\r\n@FunctionalInterface\r\ninterface DataRequestFactory {\r\n    DataRequest buildDataRequest(JSONObject jsonRequest, String token, int size);\r\n}\r\n```\r\nYour class provides two constructors (maybe the default factory is not neccessary):\r\n```\r\npublic MyClass() {\r\n    this((r, t, s) -&gt; new DataRequest(s));\r\n}\r\n\r\npublic MyClass(DataRequestFactory factory) {\r\n    this.factory = factory;\r\n}\r\n```\r\nNow you can call `this.factory.buildDataRequest(JSONObject jsonRequest, String token, int size)`.","title":"What is a best practice to initialize an object at runtime in a method in java?","body":"<p>You can create a functional <code>interface</code> creating the instance like (due to your parameter list you cannot use <code>Supplier</code> or <code>(Bi)Function</code>):</p>\n<pre><code>@FunctionalInterface\ninterface DataRequestFactory {\n    DataRequest buildDataRequest(JSONObject jsonRequest, String token, int size);\n}\n</code></pre>\n<p>Your class provides two constructors (maybe the default factory is not neccessary):</p>\n<pre><code>public MyClass() {\n    this((r, t, s) -&gt; new DataRequest(s));\n}\n\npublic MyClass(DataRequestFactory factory) {\n    this.factory = factory;\n}\n</code></pre>\n<p>Now you can call <code>this.factory.buildDataRequest(JSONObject jsonRequest, String token, int size)</code>.</p>\n"}],"owner":{"account_id":21650701,"reputation":3,"user_id":16049226,"display_name":"Jaydeep Ranipa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72377364,"answer_count":1,"score":0,"last_activity_date":1653480456,"creation_date":1653477599,"question_id":72376669,"body_markdown":"I have a java method:\r\n\r\n\tpublic void method(JSONObject jsonRequest, String token, int size) {\r\n\t\tDataRequest request = new DataRequest(size);\r\n\t\trequest.from(jsonRequest);\r\n\r\n\t\tif (StringUtils.isNotEmpty(token)) {\r\n\t\t\trequest.setPageToken(token);\r\n\t\t}\r\n\r\n\t\trequest.doSomething();\r\n\t}\r\n\r\nI want to make it a runtime decision on whether to use `DataRequest` or **sub-class** of `DataRequest`. One way to do that is the following:\r\n\r\n\r\n\tpublic void method(JSONObject jsonRequest, String token, int size) {\r\n\t\tDataRequest request = buildDataRequest(jsonRequest, token, size);\r\n\t\trequest.from(jsonRequest);\r\n\r\n\t\tif (StringUtils.isNotEmpty(token)) {\r\n\t\t\trequest.setPageToken(token);\r\n\t\t}\r\n\r\n\t\trequest.doSomething();\r\n\t}\r\n\r\n\tprotected DataRequest buildDataRequest(JSONObject jsonRequest, String token, int size) {\r\n\t\treturn new DataRequest(size);\r\n\t}\r\n\r\nExtracting the logic of creating the `DataRequest` object into another method and let the sub-classes override it.\r\n\r\nIs there any better practice to achieve this?","title":"What is a best practice to initialize an object at runtime in a method in java?","body":"<p>I have a java method:</p>\n<pre><code>public void method(JSONObject jsonRequest, String token, int size) {\n    DataRequest request = new DataRequest(size);\n    request.from(jsonRequest);\n\n    if (StringUtils.isNotEmpty(token)) {\n        request.setPageToken(token);\n    }\n\n    request.doSomething();\n}\n</code></pre>\n<p>I want to make it a runtime decision on whether to use <code>DataRequest</code> or <strong>sub-class</strong> of <code>DataRequest</code>. One way to do that is the following:</p>\n<pre><code>public void method(JSONObject jsonRequest, String token, int size) {\n    DataRequest request = buildDataRequest(jsonRequest, token, size);\n    request.from(jsonRequest);\n\n    if (StringUtils.isNotEmpty(token)) {\n        request.setPageToken(token);\n    }\n\n    request.doSomething();\n}\n\nprotected DataRequest buildDataRequest(JSONObject jsonRequest, String token, int size) {\n    return new DataRequest(size);\n}\n</code></pre>\n<p>Extracting the logic of creating the <code>DataRequest</code> object into another method and let the sub-classes override it.</p>\n<p>Is there any better practice to achieve this?</p>\n"},{"tags":["java","maven","exception","junit","apache-phoenix"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1462449408,"post_id":37049956,"comment_id":61647384,"body_markdown":"You&#39;re probably getting html back. I don&#39;t see why debugging couldn&#39;t help... But you state you expect xml back-which isn&#39;t json.","body":"You&#39;re probably getting html back. I don&#39;t see why debugging couldn&#39;t help... But you state you expect xml back-which isn&#39;t json."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1462451915,"post_id":37049956,"comment_id":61648928,"body_markdown":"If debugging didn&#39;t work, you could try capturing the server response using a network sniffer.","body":"If debugging didn&#39;t work, you could try capturing the server response using a network sniffer."},{"owner":{"account_id":3038056,"reputation":329,"user_id":2575676,"display_name":"DeepaGanesh"},"score":0,"creation_date":1507287002,"post_id":37049956,"comment_id":80159622,"body_markdown":"In my case it was due to the server down and throwing 404 Not Found. Please check your response code.","body":"In my case it was due to the server down and throwing 404 Not Found. Please check your response code."}],"answers":[{"tags":[],"owner":{"account_id":7702583,"reputation":3123,"user_id":5834592,"accept_rate":88,"display_name":"kliew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462462162,"creation_date":1462462162,"answer_id":37054461,"question_id":37049956,"body_markdown":"Did you upgrade your Phoenix server properly? It looks like it trying to use both the JSON and Protocol Buffer protocols to connect. It should be one or the other.","title":"JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)","body":"<p>Did you upgrade your Phoenix server properly? It looks like it trying to use both the JSON and Protocol Buffer protocols to connect. It should be one or the other.</p>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562844346,"creation_date":1562844346,"answer_id":56988116,"question_id":37049956,"body_markdown":"Check if you are providing authorization, headers and other parameters correctly.\r\n\r\nI **solved** by checking these steps.","title":"JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)","body":"<p>Check if you are providing authorization, headers and other parameters correctly.</p>\n\n<p>I <strong>solved</strong> by checking these steps.</p>\n"}],"owner":{"account_id":5508187,"reputation":699,"user_id":4375446,"accept_rate":93,"display_name":"randombee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79223,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37054461,"answer_count":2,"score":14,"last_activity_date":1653480370,"creation_date":1462449331,"question_id":37049956,"body_markdown":"I have a program that inserts a new patient to HBase in a docker container inside a server. Everything is working fine until I try to change the connection IP to a phoenix query server for running JUnit tests. I am setting the URL in the properties file like this:\r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;) \r\n    at [Source: java.io.StringReader@1105b1f; line: 1, column: 2] \r\n    ...\r\n    Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;) at [Source: java.io.StringReader@1105b1f; line: 1, column: 2] \r\n\r\nI am not sure why I&#39;m receiving a `json` parse exception. Because of the external apis, debugging didn&#39;t help. I don&#39;t even know if the exception is related to the format of the URL in my properties file, to the patient (which comes in xml format) or maybe even to the phoenix client.\r\n\r\nI have started the phoenix query server and it looks like it can connect to it, because it was throwing a &quot;connection refused&quot; exception before and now it doesn&#39;t. \r\n\r\nI added phoenix in my pom.xml like this:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;phoenix-server&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.7.0-HBase-1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut I don&#39;t know if I have to add something else for the phoenix-thin-client. If I have to, I couldn&#39;t find that dependency, so I just assumed it&#39;s included.\r\n\r\nAny help is appreciated! \r\n\r\nEDIT: \r\n\r\nThis is the exception the server throws:\r\n\r\n    &gt; &gt; 2016-05-05 08:52:11,979 WARN org.eclipse.jetty.server.HttpChannel: / java.lang.RuntimeException:\r\n    &gt; org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException:\r\n    &gt; While parsing a protocol message, the input ended unexpectedly in the\r\n    &gt; middle of a field.  This could mean either that the input has been\r\n    &gt; truncated or that an embedded message misreported its own length.\r\n    &gt;         at org.apache.calcite.avatica.remote.AbstractHandler.apply(AbstractHandler.java:98)\r\n    &gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.apply(ProtobufHandler.java:38)\r\n    &gt;         at org.apache.calcite.avatica.server.AvaticaProtobufHandler.handle(AvaticaProtobufHandler.java:68)\r\n    &gt;         at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\r\n    &gt;         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\r\n    &gt;         at org.eclipse.jetty.server.Server.handle(Server.java:497)\r\n    &gt;         at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\r\n    &gt;         at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:245)\r\n    &gt;         at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\r\n    &gt;         at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\r\n    &gt;         at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\r\n    &gt;         at java.lang.Thread.run(Thread.java:745) Caused by: org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException:\r\n    &gt; While parsing a protocol message, the input ended unexpectedly in the\r\n    &gt; middle of a field.  This could mean either that the input has been\r\n    &gt; truncated or that an embedded message misreported its own length.\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:70)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipRawBytesSlowPath(CodedInputStream.java:1293)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipRawBytes(CodedInputStream.java:1276)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipField(CodedInputStream.java:197)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipMessage(CodedInputStream.java:273)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipField(CodedInputStream.java:200)\r\n    &gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.&lt;init&gt;(Common.java:11627)\r\n    &gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.&lt;init&gt;(Common.java:11595)\r\n    &gt;         at org.apache.calcite.avatica.proto.Common$WireMessage$1.parsePartialFrom(Common.java:12061)\r\n    &gt;         at org.apache.calcite.avatica.proto.Common$WireMessage$1.parsePartialFrom(Common.java:12055)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:137)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:168)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:180)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:185)\r\n    &gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\r\n    &gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.parseFrom(Common.java:11760)\r\n    &gt;         at org.apache.calcite.avatica.remote.ProtobufTranslationImpl.parseRequest(ProtobufTranslationImpl.java:236)\r\n    &gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.decode(ProtobufHandler.java:42)\r\n    &gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.decode(ProtobufHandler.java:28)\r\n    &gt;         at org.apache.calcite.avatica.remote.AbstractHandler.apply(AbstractHandler.java:95)\r\n    &gt;         ... 11 more\r\n\r\n","title":"JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)","body":"<p>I have a program that inserts a new patient to HBase in a docker container inside a server. Everything is working fine until I try to change the connection IP to a phoenix query server for running JUnit tests. I am setting the URL in the properties file like this:</p>\n\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null') \nat [Source: java.io.StringReader@1105b1f; line: 1, column: 2] \n...\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('&lt;' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null') at [Source: java.io.StringReader@1105b1f; line: 1, column: 2] \n</code></pre>\n\n<p>I am not sure why I'm receiving a <code>json</code> parse exception. Because of the external apis, debugging didn't help. I don't even know if the exception is related to the format of the URL in my properties file, to the patient (which comes in xml format) or maybe even to the phoenix client.</p>\n\n<p>I have started the phoenix query server and it looks like it can connect to it, because it was throwing a \"connection refused\" exception before and now it doesn't. </p>\n\n<p>I added phoenix in my pom.xml like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.phoenix&lt;/groupId&gt;\n    &lt;artifactId&gt;phoenix-server&lt;/artifactId&gt;\n    &lt;version&gt;4.7.0-HBase-1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>but I don't know if I have to add something else for the phoenix-thin-client. If I have to, I couldn't find that dependency, so I just assumed it's included.</p>\n\n<p>Any help is appreciated! </p>\n\n<p>EDIT: </p>\n\n<p>This is the exception the server throws:</p>\n\n<pre><code>&gt; &gt; 2016-05-05 08:52:11,979 WARN org.eclipse.jetty.server.HttpChannel: / java.lang.RuntimeException:\n&gt; org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException:\n&gt; While parsing a protocol message, the input ended unexpectedly in the\n&gt; middle of a field.  This could mean either that the input has been\n&gt; truncated or that an embedded message misreported its own length.\n&gt;         at org.apache.calcite.avatica.remote.AbstractHandler.apply(AbstractHandler.java:98)\n&gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.apply(ProtobufHandler.java:38)\n&gt;         at org.apache.calcite.avatica.server.AvaticaProtobufHandler.handle(AvaticaProtobufHandler.java:68)\n&gt;         at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\n&gt;         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)\n&gt;         at org.eclipse.jetty.server.Server.handle(Server.java:497)\n&gt;         at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)\n&gt;         at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:245)\n&gt;         at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)\n&gt;         at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)\n&gt;         at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)\n&gt;         at java.lang.Thread.run(Thread.java:745) Caused by: org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException:\n&gt; While parsing a protocol message, the input ended unexpectedly in the\n&gt; middle of a field.  This could mean either that the input has been\n&gt; truncated or that an embedded message misreported its own length.\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.InvalidProtocolBufferException.truncatedMessage(InvalidProtocolBufferException.java:70)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipRawBytesSlowPath(CodedInputStream.java:1293)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipRawBytes(CodedInputStream.java:1276)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipField(CodedInputStream.java:197)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipMessage(CodedInputStream.java:273)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.CodedInputStream.skipField(CodedInputStream.java:200)\n&gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.&lt;init&gt;(Common.java:11627)\n&gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.&lt;init&gt;(Common.java:11595)\n&gt;         at org.apache.calcite.avatica.proto.Common$WireMessage$1.parsePartialFrom(Common.java:12061)\n&gt;         at org.apache.calcite.avatica.proto.Common$WireMessage$1.parsePartialFrom(Common.java:12055)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:137)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:168)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:180)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:185)\n&gt;         at org.apache.calcite.avatica.com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\n&gt;         at org.apache.calcite.avatica.proto.Common$WireMessage.parseFrom(Common.java:11760)\n&gt;         at org.apache.calcite.avatica.remote.ProtobufTranslationImpl.parseRequest(ProtobufTranslationImpl.java:236)\n&gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.decode(ProtobufHandler.java:42)\n&gt;         at org.apache.calcite.avatica.remote.ProtobufHandler.decode(ProtobufHandler.java:28)\n&gt;         at org.apache.calcite.avatica.remote.AbstractHandler.apply(AbstractHandler.java:95)\n&gt;         ... 11 more\n</code></pre>\n"},{"tags":["java","android","webview","crash","android-connectivitymanager"],"comments":[{"owner":{"account_id":10945532,"reputation":4337,"user_id":8043806,"display_name":"Giddy Naya"},"score":2,"creation_date":1576077762,"post_id":59288523,"comment_id":104782893,"body_markdown":"Post error log .","body":"Post error log ."}],"answers":[{"tags":[],"owner":{"account_id":9058187,"reputation":1099,"user_id":6745643,"display_name":"shafayat hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576078769,"creation_date":1576078769,"answer_id":59289275,"question_id":59288523,"body_markdown":"According to [this](https://stackoverflow.com/a/22611010/6745643) you need to call all view related methods on UI thread. Just load the url on UI thread like this:\r\n\r\n    myWebView.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            myWebView.loadUrl(&quot;https://www.google.com&quot;);\r\n        }\r\n    });\r\n\r\nYou also need to load your error html in the same way, like:\r\n\r\n    view.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            String html =   &quot;&lt;!DOCTYPE HTML&gt;\\n&quot; +\r\n                    &quot;&lt;html&gt;\\n&quot; +\r\n                    &quot;&lt;head&gt;\\n&quot; +\r\n                    &quot;&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=UTF-8\\&quot; /&gt;\\n&quot; +\r\n                    &quot;&lt;title&gt;APP&lt;/title&gt;\\n&quot; +\r\n                    &quot;&lt;/head&gt;\\n&quot; +\r\n                    &quot;&lt;body style=\\&quot;background:#e11020;font-family:Arial,Helvetica;\\&quot;&gt;\\n&quot; +\r\n                    &quot;&lt;h1 style=\\&quot;color:rgba(255,255,255,0.9);text-align:center;padding:120px 20px 20px 20px;font-size:30px;\\&quot;&gt;No Internet connection&lt;/h1&gt;\\n&quot; +\r\n                    &quot;&lt;/body&gt;\\n&quot; +\r\n                    &quot;&lt;/html&gt;&quot;;\r\n\r\n            view.loadDataWithBaseURL(null, html, &quot;text/html&quot;, &quot;UTF-8&quot;, null);\r\n        }\r\n    });","title":"Android ConnectivityManager NetworkCallback crash","body":"<p>According to <a href=\"https://stackoverflow.com/a/22611010/6745643\">this</a> you need to call all view related methods on UI thread. Just load the url on UI thread like this:</p>\n\n<pre><code>myWebView.post(new Runnable() {\n    @Override\n    public void run() {\n        myWebView.loadUrl(\"https://www.google.com\");\n    }\n});\n</code></pre>\n\n<p>You also need to load your error html in the same way, like:</p>\n\n<pre><code>view.post(new Runnable() {\n    @Override\n    public void run() {\n        String html =   \"&lt;!DOCTYPE HTML&gt;\\n\" +\n                \"&lt;html&gt;\\n\" +\n                \"&lt;head&gt;\\n\" +\n                \"&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\" /&gt;\\n\" +\n                \"&lt;title&gt;APP&lt;/title&gt;\\n\" +\n                \"&lt;/head&gt;\\n\" +\n                \"&lt;body style=\\\"background:#e11020;font-family:Arial,Helvetica;\\\"&gt;\\n\" +\n                \"&lt;h1 style=\\\"color:rgba(255,255,255,0.9);text-align:center;padding:120px 20px 20px 20px;font-size:30px;\\\"&gt;No Internet connection&lt;/h1&gt;\\n\" +\n                \"&lt;/body&gt;\\n\" +\n                \"&lt;/html&gt;\";\n\n        view.loadDataWithBaseURL(null, html, \"text/html\", \"UTF-8\", null);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5467789,"reputation":1076,"user_id":9157799,"display_name":"M Imam Pratama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480336,"creation_date":1653480336,"answer_id":72377336,"question_id":59288523,"body_markdown":"If you get `Only the original thread that created a view hierarchy can touch its views` error in your [Logcat](https://developer.android.com/studio/debug/am-logcat#running), use [this](https://stackoverflow.com/a/5162096/9157799).","title":"Android ConnectivityManager NetworkCallback crash","body":"<p>If you get <code>Only the original thread that created a view hierarchy can touch its views</code> error in your <a href=\"https://developer.android.com/studio/debug/am-logcat#running\" rel=\"nofollow noreferrer\">Logcat</a>, use <a href=\"https://stackoverflow.com/a/5162096/9157799\">this</a>.</p>\n"}],"owner":{"account_id":6186559,"reputation":297,"user_id":4820512,"display_name":"Stefano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59289275,"answer_count":2,"score":0,"last_activity_date":1653480336,"creation_date":1576076202,"question_id":59288523,"body_markdown":"I&#39;m new in Android world (as user but also as developer) and my Android App crash when execute `myWebView.loadUrl(&quot;https://www.google.com&quot;)`, but I don&#39;t understand why...\r\n\r\nThe goal is monitoring internet connection while the app is running:\r\nIf the connection is lost -&gt; loads the error html in the web view\r\nIf the connection returns active -&gt; reload the web view\r\n\r\nHere&#39;s my app code:\r\n\r\n**Manifest**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tpackage=&quot;com.dedalos.amb&quot;&gt;\r\n\t\r\n\t&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\t\r\n\t&lt;application\r\n\t\tandroid:name=&quot;.MyApplication&quot;\r\n\t\tandroid:allowBackup=&quot;true&quot;\r\n\t\tandroid:icon=&quot;@mipmap/ic_launcher&quot;\r\n\t\tandroid:label=&quot;@string/app_name&quot;\r\n\t\tandroid:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n\t\tandroid:supportsRtl=&quot;true&quot;\r\n\t\tandroid:theme=&quot;@style/AppTheme&quot;&gt;\r\n\t\t&lt;activity android:name=&quot;.SplashScreen&quot; android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/activity&gt;\r\n\t\t&lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/activity&gt;\r\n\t&lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**MainActivity**\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\t\r\n\t// WEB VIEW\r\n\tWebView myWebView = null;\r\n\t\r\n\t// NETWORK MONITORING\r\n\tBoolean isInternetConnected = false;\r\n\tConnectivityManager.NetworkCallback networkCallback = null;\r\n\tConnectivityManager connectivityManager = null;\r\n\t\r\n\t\r\n\t\r\n\t//////////////////// OVERRIDE ////////////////////\r\n\t\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\r\n\t\thideSystemUI();\r\n\t\t\r\n\t\tSharedPreferences prefs = getPreferences(MODE_PRIVATE);\r\n\t\tif (getToken().equals(&quot;&quot;)) {\r\n\t\t\tString uniqueID = UUID.randomUUID().toString();\r\n\t\t\tSharedPreferences.Editor editor = prefs.edit();\r\n\t\t\teditor.putString(&quot;token&quot;, uniqueID);\r\n\t\t\teditor.commit();\r\n\t\t}\r\n\t\t\r\n\t\tcreaWebView();\r\n\t\tconfiguraWebView();\r\n\t\t\r\n\t\tinitNetworkCallback();\r\n\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onResume() {\r\n\t\tsuper.onResume();\r\n\r\n\t\tif (myWebView == null) {\r\n\t\t\tcreaWebView();\r\n\t\t\tconfiguraWebView();\r\n\t\t}\r\n\t\t\r\n\t\tif (networkCallback == null || connectivityManager == null)\r\n\t\t\tinitNetworkCallback();\r\n\t\t\r\n\t\tisInternetConnected = (new ConnectionDetector(this).isConnectingToInternet());\r\n\t\t\r\n\t\tstartNetworkMonitoring();\r\n\t\t\r\n\t\tif (isInternetConnected) {\r\n\t\t\tcaricaWebView();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tMyWebViewClient.loadError(myWebView);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onPause() {\r\n\t\tsuper.onPause();\r\n\r\n\t\tstopNetworkMonitoring();\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tprivate void creaWebView() {\r\n\t\tif (myWebView == null) {\r\n\t\t\tmyWebView = (WebView) findViewById(R.id.ambWebViewLayout);\r\n\t\t}\r\n\t}\r\n\tprivate void configuraWebView() {\r\n\t\tWebSettings webSettings = myWebView.getSettings();\r\n\t\twebSettings.setJavaScriptEnabled(true);\r\n\t\tmyWebView.setWebViewClient(new MyWebViewClient());\r\n\t}\r\n\tprivate void caricaWebView() {\r\n\t\tif (myWebView == null) {\r\n\t\t\tcreaWebView();\r\n\t\t\tconfiguraWebView();\r\n\t\t}\r\n\t\tmyWebView.loadUrl(&quot;https://www.google.com&quot;);\r\n\t}\r\n\t\r\n\tprivate void initNetworkCallback() {\r\n\t\tnetworkCallback = new ConnectivityManager.NetworkCallback() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onAvailable(Network network) {\r\n\t\t\t\tif (!isInternetConnected) {\r\n\t\t\t\t\tisInternetConnected = true;\r\n\t\t\t\t\tcaricaWebView();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onLost(Network network) {\r\n\t\t\t\tif (isInternetConnected) {\r\n\t\t\t\t\tisInternetConnected = false;\r\n\t\t\t\t\tMyWebViewClient.loadError(myWebView);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tconnectivityManager = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\t\t\r\n\t}\r\n\tprivate void startNetworkMonitoring() {\r\n\t\tif (networkCallback == null)\r\n\t\t\tinitNetworkCallback();\r\n\r\n\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n\t\t\tconnectivityManager.registerDefaultNetworkCallback(networkCallback);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNetworkRequest request = new NetworkRequest.Builder().addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\r\n\t\t\tconnectivityManager.registerNetworkCallback(request, networkCallback);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tprivate void stopNetworkMonitoring() {\r\n\t\tconnectivityManager.unregisterNetworkCallback(networkCallback);\r\n\t}\r\n\t\r\n\tprivate String getToken() {\r\n\t\treturn getPreferences(MODE_PRIVATE).getString(&quot;token&quot;, &quot;&quot;);\r\n\t}\r\n\t\r\n\tprivate void hideSystemUI() {\r\n\r\n\t\tView decorView = getWindow().getDecorView();\r\n\t\tdecorView.setSystemUiVisibility(\r\n\t\t\t\tView.SYSTEM_UI_FLAG_IMMERSIVE\r\n\t\t\t\t\t\t// Set the content to appear under the system bars so that the\r\n\t\t\t\t\t\t// content doesn&#39;t resize when the system bars hide and show.\r\n\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n\t\t\t\t\t\t// Hide the nav bar and status bar\r\n\t\t\t\t\t\t| View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n**MyWebViewClient**\r\n```\r\npublic class MyWebViewClient extends WebViewClient {\r\n\t\r\n\t@Override\r\n\tpublic boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\t\t\r\n\t\tif (url.startsWith(&quot;https://www.google.com&quot;)) {\r\n\t\t\tview.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\r\n\t\tsuper.onReceivedError(view, request, error);\r\n\t\t\r\n\t\tif (error.getErrorCode() == -2) {\r\n\t\t\tloadError(view);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// TODO\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void loadError(WebView view) {\r\n\t\t\r\n\t\tString html =   &quot;&lt;!DOCTYPE HTML&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;html&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;head&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=UTF-8\\&quot; /&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;title&gt;APP&lt;/title&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;/head&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;body style=\\&quot;background:#e11020;font-family:Arial,Helvetica;\\&quot;&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;h1 style=\\&quot;color:rgba(255,255,255,0.9);text-align:center;padding:120px 20px 20px 20px;font-size:30px;\\&quot;&gt;No Internet connection&lt;/h1&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;/body&gt;\\n&quot; +\r\n\t\t\t\t\t\t&quot;&lt;/html&gt;&quot;;\r\n\t\t\r\n\t\tview.loadDataWithBaseURL(null, html, &quot;text/html&quot;, &quot;UTF-8&quot;, null);\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\n**ConnectionDetector**\r\n```\r\npublic class ConnectionDetector {\r\n\t\r\n\tprivate Context mContext;\r\n\t\r\n\tpublic ConnectionDetector(Context context) {\r\n\t\tthis.mContext = context;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Checking for all possible internet providers\r\n\t * **/\r\n\tpublic boolean isConnectingToInternet() {\r\n\t\tConnectivityManager connectivityManager = (ConnectivityManager) mContext.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n\t\t\tNetwork[] networks = connectivityManager.getAllNetworks();\r\n\t\t\tNetworkInfo networkInfo;\r\n\t\t\tfor (Network mNetwork : networks) {\r\n\t\t\t\tnetworkInfo = connectivityManager.getNetworkInfo(mNetwork);\r\n\t\t\t\tif (networkInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (connectivityManager != null) {\r\n\t\t\t\t//noinspection deprecation\r\n\t\t\t\tNetworkInfo[] info = connectivityManager.getAllNetworkInfo();\r\n\t\t\t\tif (info != null) {\r\n\t\t\t\t\tfor (NetworkInfo anInfo : info) {\r\n\t\t\t\t\t\tif (anInfo.getState() == NetworkInfo.State.CONNECTED) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\n**Thanks in advance**","title":"Android ConnectivityManager NetworkCallback crash","body":"<p>I'm new in Android world (as user but also as developer) and my Android App crash when execute <code>myWebView.loadUrl(\"https://www.google.com\")</code>, but I don't understand why...</p>\n\n<p>The goal is monitoring internet connection while the app is running:\nIf the connection is lost -> loads the error html in the web view\nIf the connection returns active -> reload the web view</p>\n\n<p>Here's my app code:</p>\n\n<p><strong>Manifest</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.dedalos.amb\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n    &lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".SplashScreen\" android:theme=\"@style/SplashTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    // WEB VIEW\n    WebView myWebView = null;\n\n    // NETWORK MONITORING\n    Boolean isInternetConnected = false;\n    ConnectivityManager.NetworkCallback networkCallback = null;\n    ConnectivityManager connectivityManager = null;\n\n\n\n    //////////////////// OVERRIDE ////////////////////\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        hideSystemUI();\n\n        SharedPreferences prefs = getPreferences(MODE_PRIVATE);\n        if (getToken().equals(\"\")) {\n            String uniqueID = UUID.randomUUID().toString();\n            SharedPreferences.Editor editor = prefs.edit();\n            editor.putString(\"token\", uniqueID);\n            editor.commit();\n        }\n\n        creaWebView();\n        configuraWebView();\n\n        initNetworkCallback();\n\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n\n        if (myWebView == null) {\n            creaWebView();\n            configuraWebView();\n        }\n\n        if (networkCallback == null || connectivityManager == null)\n            initNetworkCallback();\n\n        isInternetConnected = (new ConnectionDetector(this).isConnectingToInternet());\n\n        startNetworkMonitoring();\n\n        if (isInternetConnected) {\n            caricaWebView();\n        }\n        else {\n            MyWebViewClient.loadError(myWebView);\n        }\n\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n\n        stopNetworkMonitoring();\n    }\n\n\n\n    private void creaWebView() {\n        if (myWebView == null) {\n            myWebView = (WebView) findViewById(R.id.ambWebViewLayout);\n        }\n    }\n    private void configuraWebView() {\n        WebSettings webSettings = myWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        myWebView.setWebViewClient(new MyWebViewClient());\n    }\n    private void caricaWebView() {\n        if (myWebView == null) {\n            creaWebView();\n            configuraWebView();\n        }\n        myWebView.loadUrl(\"https://www.google.com\");\n    }\n\n    private void initNetworkCallback() {\n        networkCallback = new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(Network network) {\n                if (!isInternetConnected) {\n                    isInternetConnected = true;\n                    caricaWebView();\n                }\n\n            }\n\n            @Override\n            public void onLost(Network network) {\n                if (isInternetConnected) {\n                    isInternetConnected = false;\n                    MyWebViewClient.loadError(myWebView);\n                }\n            }\n        };\n\n        connectivityManager = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    }\n    private void startNetworkMonitoring() {\n        if (networkCallback == null)\n            initNetworkCallback();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            connectivityManager.registerDefaultNetworkCallback(networkCallback);\n        }\n        else {\n            NetworkRequest request = new NetworkRequest.Builder().addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\n            connectivityManager.registerNetworkCallback(request, networkCallback);\n        }\n\n    }\n    private void stopNetworkMonitoring() {\n        connectivityManager.unregisterNetworkCallback(networkCallback);\n    }\n\n    private String getToken() {\n        return getPreferences(MODE_PRIVATE).getString(\"token\", \"\");\n    }\n\n    private void hideSystemUI() {\n\n        View decorView = getWindow().getDecorView();\n        decorView.setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_IMMERSIVE\n                        // Set the content to appear under the system bars so that the\n                        // content doesn't resize when the system bars hide and show.\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                        // Hide the nav bar and status bar\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>MyWebViewClient</strong></p>\n\n<pre><code>public class MyWebViewClient extends WebViewClient {\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n        if (url.startsWith(\"https://www.google.com\")) {\n            view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n            return true;\n        }\n        else {\n            return false;\n        }\n\n    }\n\n    @Override\n    public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\n        super.onReceivedError(view, request, error);\n\n        if (error.getErrorCode() == -2) {\n            loadError(view);\n        }\n        else {\n            // TODO\n        }\n\n    }\n\n    public static void loadError(WebView view) {\n\n        String html =   \"&lt;!DOCTYPE HTML&gt;\\n\" +\n                        \"&lt;html&gt;\\n\" +\n                        \"&lt;head&gt;\\n\" +\n                        \"&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text/html; charset=UTF-8\\\" /&gt;\\n\" +\n                        \"&lt;title&gt;APP&lt;/title&gt;\\n\" +\n                        \"&lt;/head&gt;\\n\" +\n                        \"&lt;body style=\\\"background:#e11020;font-family:Arial,Helvetica;\\\"&gt;\\n\" +\n                        \"&lt;h1 style=\\\"color:rgba(255,255,255,0.9);text-align:center;padding:120px 20px 20px 20px;font-size:30px;\\\"&gt;No Internet connection&lt;/h1&gt;\\n\" +\n                        \"&lt;/body&gt;\\n\" +\n                        \"&lt;/html&gt;\";\n\n        view.loadDataWithBaseURL(null, html, \"text/html\", \"UTF-8\", null);\n\n    }\n}\n</code></pre>\n\n<p><strong>ConnectionDetector</strong></p>\n\n<pre><code>public class ConnectionDetector {\n\n    private Context mContext;\n\n    public ConnectionDetector(Context context) {\n        this.mContext = context;\n    }\n\n    /**\n     * Checking for all possible internet providers\n     * **/\n    public boolean isConnectingToInternet() {\n        ConnectivityManager connectivityManager = (ConnectivityManager) mContext.getSystemService(Context.CONNECTIVITY_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            Network[] networks = connectivityManager.getAllNetworks();\n            NetworkInfo networkInfo;\n            for (Network mNetwork : networks) {\n                networkInfo = connectivityManager.getNetworkInfo(mNetwork);\n                if (networkInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\n                    return true;\n                }\n            }\n        }\n        else {\n            if (connectivityManager != null) {\n                //noinspection deprecation\n                NetworkInfo[] info = connectivityManager.getAllNetworkInfo();\n                if (info != null) {\n                    for (NetworkInfo anInfo : info) {\n                        if (anInfo.getState() == NetworkInfo.State.CONNECTED) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>Thanks in advance</strong></p>\n"},{"tags":["java","elasticsearch","elasticsearch-dsl"],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653480173,"creation_date":1653480173,"answer_id":72377288,"question_id":72373825,"body_markdown":"You need to use terms query and below is way to add aggregation in my_bucket:\r\n```java\r\nList&lt;FieldValue&gt; values = new ArrayList&lt;&gt;();\r\n\r\nvalues.add(FieldValue.of(1));\r\nvalues.add(FieldValue.of(2));\r\n\r\nQuery byReveredTransactionType = TermsQuery.of(t -&gt; t.field(&quot;is_reversed&quot;).terms(v -&gt; v.value(values)))._toQuery();\r\n\r\nMap&lt;String, CompositeAggregationSource&gt; cas = new HashMap&lt;&gt;();\r\n\r\ncas.put(&quot;myfield_id&quot;,CompositeAggregationSource.of(c -&gt; c.terms(t -&gt; t.field(&quot;myfield_id&quot;).missingBucket(true))));\r\n\r\nSearchRequest req = SearchRequest.of(r -&gt; r.query(q -&gt; q.bool(b -&gt; b.mustNot(byReveredTransactionType))).aggregations(&quot;my_buckets&quot;, Aggregation.of(a -&gt; a.composite(c -&gt; c.sources(cas)).aggregations(&quot;sum&quot;,Aggregation.of(a2 -&gt; a2.sum(s -&gt; s.field(&quot;amount&quot;)))))));\r\n\r\nStringWriter writer = new StringWriter();\r\nJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\r\nreq.serialize(generator, new JacksonJsonpMapper());\r\ngenerator.flush();\r\nSystem.out.println(writer.toString());\r\n```","title":"Elasticsearch java client api composite aggregation","body":"<p>You need to use terms query and below is way to add aggregation in my_bucket:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;FieldValue&gt; values = new ArrayList&lt;&gt;();\n\nvalues.add(FieldValue.of(1));\nvalues.add(FieldValue.of(2));\n\nQuery byReveredTransactionType = TermsQuery.of(t -&gt; t.field(&quot;is_reversed&quot;).terms(v -&gt; v.value(values)))._toQuery();\n\nMap&lt;String, CompositeAggregationSource&gt; cas = new HashMap&lt;&gt;();\n\ncas.put(&quot;myfield_id&quot;,CompositeAggregationSource.of(c -&gt; c.terms(t -&gt; t.field(&quot;myfield_id&quot;).missingBucket(true))));\n\nSearchRequest req = SearchRequest.of(r -&gt; r.query(q -&gt; q.bool(b -&gt; b.mustNot(byReveredTransactionType))).aggregations(&quot;my_buckets&quot;, Aggregation.of(a -&gt; a.composite(c -&gt; c.sources(cas)).aggregations(&quot;sum&quot;,Aggregation.of(a2 -&gt; a2.sum(s -&gt; s.field(&quot;amount&quot;)))))));\n\nStringWriter writer = new StringWriter();\nJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\nreq.serialize(generator, new JacksonJsonpMapper());\ngenerator.flush();\nSystem.out.println(writer.toString());\n</code></pre>\n"}],"owner":{"account_id":13326576,"reputation":96,"user_id":9619325,"display_name":"MoRtEzA TM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72377288,"answer_count":1,"score":0,"last_activity_date":1653480173,"creation_date":1653465162,"question_id":72373825,"body_markdown":"I want to implement this json query using ES java client:\r\n\r\n\r\n\r\n    {\r\n        &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n                &quot;must_not&quot;: [\r\n                    {\r\n                        &quot;terms&quot;: {\r\n                            &quot;is_reversed&quot;: [\r\n                                1,\r\n                                2\r\n                            ]\r\n                        }\r\n                    }\r\n                ],\r\n            }\r\n        },\r\n        &quot;aggs&quot;: {\r\n            &quot;my_buckets&quot;: {\r\n                &quot;composite&quot;: {\r\n                    &quot;sources&quot;: [\r\n                        {\r\n                            &quot;myfield_id&quot;: {\r\n                                &quot;terms&quot;: {\r\n                                    &quot;field&quot;: &quot;myfield_id&quot;,\r\n                                    &quot;missing_bucket&quot;: true\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    &quot;size&quot;: 65535\r\n                },\r\n                &quot;aggregations&quot;: {\r\n                    &quot;sum&quot;: {\r\n                        &quot;sum&quot;: {\r\n                            &quot;field&quot;: &quot;amount&quot;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI use new elasticsearch-java v8.2 api. it has a few documentation and example. \r\n\r\n here&#39;s my code: \r\n\r\n```\r\nQuery byReveredTransactionType = TermQuery.of(t -&gt;\r\n                t.field(&quot;is_reversed&quot;)\r\n                        .value(1))._toQuery();\r\n\r\nMap&lt;String, CompositeAggregationSource&gt; sources = Map.of(&quot;category_id&quot;, CompositeAggregationSource.of(b -&gt; b\r\n                .terms(t -&gt; t.field(&quot;category_id&quot;)\r\n                        .missingBucket(true))));\r\n\r\nSearchRequest req = SearchRequest.of(r -&gt; r\r\n                        .query(q -&gt; q\r\n                                .bool(b -&gt; b.mustNot(byReveredTransactionType))\r\n                        )\r\n                        .aggregations(&quot;my_buckets&quot;, AggregationBuilders.composite().sources(sources).build()._toAggregation())\r\n                        .size(Short.MAX_VALUE * 2 - 1)\r\n                        .build()._toAggregation()\r\n        );\r\n```\r\n\r\nhere&#39;s the code json output: \r\n```\r\n{\r\n  &quot;aggregations&quot;: {\r\n    &quot;my_buckets&quot;: {\r\n      &quot;composite&quot;: {\r\n        &quot;sources&quot;: [\r\n          {\r\n            &quot;myfield_id&quot;: {\r\n              &quot;terms&quot;: {\r\n                &quot;field&quot;: &quot;myfield_id&quot;,\r\n                &quot;missing_bucket&quot;: true\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;must_not&quot;: [\r\n        {\r\n          &quot;term&quot;: {\r\n            &quot;is_reversed&quot;: {\r\n              &quot;value&quot;: 1\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;size&quot;: 65533\r\n}\r\n```\r\n\r\nI have problem in **is_reversed** part. also I implemented **composite** and **aggregations**parts, but cant combine them in **my_buckets**.\r\n\r\nThank you! ","title":"Elasticsearch java client api composite aggregation","body":"<p>I want to implement this json query using ES java client:</p>\n<pre><code>{\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must_not&quot;: [\n                {\n                    &quot;terms&quot;: {\n                        &quot;is_reversed&quot;: [\n                            1,\n                            2\n                        ]\n                    }\n                }\n            ],\n        }\n    },\n    &quot;aggs&quot;: {\n        &quot;my_buckets&quot;: {\n            &quot;composite&quot;: {\n                &quot;sources&quot;: [\n                    {\n                        &quot;myfield_id&quot;: {\n                            &quot;terms&quot;: {\n                                &quot;field&quot;: &quot;myfield_id&quot;,\n                                &quot;missing_bucket&quot;: true\n                            }\n                        }\n                    }\n                ],\n                &quot;size&quot;: 65535\n            },\n            &quot;aggregations&quot;: {\n                &quot;sum&quot;: {\n                    &quot;sum&quot;: {\n                        &quot;field&quot;: &quot;amount&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I use new elasticsearch-java v8.2 api. it has a few documentation and example.</p>\n<p>here's my code:</p>\n<pre><code>Query byReveredTransactionType = TermQuery.of(t -&gt;\n                t.field(&quot;is_reversed&quot;)\n                        .value(1))._toQuery();\n\nMap&lt;String, CompositeAggregationSource&gt; sources = Map.of(&quot;category_id&quot;, CompositeAggregationSource.of(b -&gt; b\n                .terms(t -&gt; t.field(&quot;category_id&quot;)\n                        .missingBucket(true))));\n\nSearchRequest req = SearchRequest.of(r -&gt; r\n                        .query(q -&gt; q\n                                .bool(b -&gt; b.mustNot(byReveredTransactionType))\n                        )\n                        .aggregations(&quot;my_buckets&quot;, AggregationBuilders.composite().sources(sources).build()._toAggregation())\n                        .size(Short.MAX_VALUE * 2 - 1)\n                        .build()._toAggregation()\n        );\n</code></pre>\n<p>here's the code json output:</p>\n<pre><code>{\n  &quot;aggregations&quot;: {\n    &quot;my_buckets&quot;: {\n      &quot;composite&quot;: {\n        &quot;sources&quot;: [\n          {\n            &quot;myfield_id&quot;: {\n              &quot;terms&quot;: {\n                &quot;field&quot;: &quot;myfield_id&quot;,\n                &quot;missing_bucket&quot;: true\n              }\n            }\n          }\n        ]\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;must_not&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;is_reversed&quot;: {\n              &quot;value&quot;: 1\n            }\n          }\n        }\n      ]\n    }\n  },\n  &quot;size&quot;: 65533\n}\n</code></pre>\n<p>I have problem in <strong>is_reversed</strong> part. also I implemented <strong>composite</strong> and <strong>aggregations</strong>parts, but cant combine them in <strong>my_buckets</strong>.</p>\n<p>Thank you!</p>\n"},{"tags":["java","rabbitmq","azure-functions"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653487334,"post_id":72368047,"comment_id":127864780,"body_markdown":"The exception comes from the [following line](https://github.com/Azure/azure-functions-java-worker/blob/dev/src/main/java/com/microsoft/azure/functions/worker/binding/BindingDataStore.java#L145) on github, which you can trace down to [this method](https://github.com/Azure/azure-functions-java-worker/blob/dev/src/main/java/com/microsoft/azure/functions/worker/broker/CoreTypeResolver.java#L47) where it tries to get the name of the annotated parameter. Have you tried updating the `Microsoft.Azure.Functions.ExtensionBundle` to a newer version?","body":"The exception comes from the <a href=\"https://github.com/Azure/azure-functions-java-worker/blob/dev/src/main/java/com/microsoft/azure/functions/worker/binding/BindingDataStore.java#L145\" rel=\"nofollow noreferrer\">following line</a> on github, which you can trace down to <a href=\"https://github.com/Azure/azure-functions-java-worker/blob/dev/src/main/java/com/microsoft/azure/functions/worker/broker/CoreTypeResolver.java#L47\" rel=\"nofollow noreferrer\">this method</a> where it tries to get the name of the annotated parameter. Have you tried updating the <code>Microsoft.Azure.Functions.ExtensionBundle</code> to a newer version?"},{"owner":{"account_id":379512,"reputation":53,"user_id":732932,"accept_rate":12,"display_name":"eborisow"},"score":0,"creation_date":1653536048,"post_id":72368047,"comment_id":127877802,"body_markdown":"Yes, I&#39;ve also tried with the latest: [3.3.0, 4.0.0).\n[edit] Same nullpointer error.  Also, I&#39;m not able to add a name parameter to the annotation.","body":"Yes, I&#39;ve also tried with the latest: [3.3.0, 4.0.0). <a href=\"https://stackoverflow.com/posts/72368047/edit\">edit</a> Same nullpointer error.  Also, I&#39;m not able to add a name parameter to the annotation."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653554761,"post_id":72368047,"comment_id":127881794,"body_markdown":"It should use the name attribute of [this annotation](https://github.com/Azure/azure-functions-rabbitmq-extension/blob/dev/java-library/src/main/java/com/microsoft/azure/functions/rabbitmq/annotation/RabbitMQOutput.java#L41), but that is where my debugging adventure halted. Maybe someone else has an idea. Otherwise i suggest you open a new issue at the [github page](https://github.com/Azure/azure-functions-java-worker/issues).","body":"It should use the name attribute of <a href=\"https://github.com/Azure/azure-functions-rabbitmq-extension/blob/dev/java-library/src/main/java/com/microsoft/azure/functions/rabbitmq/annotation/RabbitMQOutput.java#L41\" rel=\"nofollow noreferrer\">this annotation</a>, but that is where my debugging adventure halted. Maybe someone else has an idea. Otherwise i suggest you open a new issue at the <a href=\"https://github.com/Azure/azure-functions-java-worker/issues\" rel=\"nofollow noreferrer\">github page</a>."}],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480127,"creation_date":1653480127,"answer_id":72377276,"question_id":72368047,"body_markdown":"The `getLogger()` function you have used is the reason for getting the null pointer exception.\r\n\r\nThis function will throw this exception if you don&#39;t provide a logger name.\r\n \r\nSo, this it should look like:\r\n\r\n    context.getLogger(RabbitMQFunction.class)\r\nRefer this [following](https://www.javatpoint.com/java-logger#:~:text=Java%20Logging%20Levels%20%20%20%20S.%20No.,%20Configuration%20Information%20%205%20more%20rows%20) article from javapoint. \r\n","title":"Receiving a NullPointerException while attempting to test local RabbitMQOutput","body":"<p>The <code>getLogger()</code> function you have used is the reason for getting the null pointer exception.</p>\n<p>This function will throw this exception if you don't provide a logger name.</p>\n<p>So, this it should look like:</p>\n<pre><code>context.getLogger(RabbitMQFunction.class)\n</code></pre>\n<p>Refer this <a href=\"https://www.javatpoint.com/java-logger#:%7E:text=Java%20Logging%20Levels%20%20%20%20S.%20No.,%20Configuration%20Information%20%205%20more%20rows%20\" rel=\"nofollow noreferrer\">following</a> article from javapoint.</p>\n"}],"owner":{"account_id":379512,"reputation":53,"user_id":732932,"accept_rate":12,"display_name":"eborisow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653480127,"creation_date":1653418176,"question_id":72368047,"body_markdown":"I&#39;ve setup a basic Azure function with the @TimerTrigger and @RabbitMQOutput annotations as mentioned here:\r\nhttps://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-rabbitmq?tabs=in-process&amp;pivots=programming-language-java\r\n\r\n    public class RabbitMQFunction {\r\n        private static final Logger logger = LoggerFactory.getLogger(RabbitMQFunction.class);\r\n        /**\r\n         * This function will be invoked periodically according to the specified schedule.\r\n         */\r\n        @FunctionName(&quot;RabbitMQFunction&quot;)\r\n        public void run(\r\n            @TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;*/15 * * * * *&quot;) String timerInfo,\r\n            @RabbitMQOutput(connectionStringSetting = &quot;rabbitMQConnectionAppSetting&quot;, queueName = &quot;myQueue&quot;, disableCertificateValidation = true) OutputBinding&lt;String&gt; output,\r\n            final ExecutionContext context\r\n        ) {\r\n            logger.debug(&quot;START - RabbitMQFunction&quot;);\r\n            context.getLogger().info(&quot;Java Timer trigger function executed at: &quot; + LocalDateTime.now());\r\n            output.setValue(&quot;Some string&quot;);\r\n            logger.debug(&quot;END - RabbitMQFunction&quot;);\r\n        }\r\n    }\r\n\r\nUnfortunately, I&#39;m receiving the following error in the output when testing locally with Azurite in Visual Studio Code.  Here&#39;s the stack trace:\r\n\r\n    [2022-05-24T13:46:48.878Z] Received FunctionLoadResponse for function: &#39;RabbitMQFunction&#39; with functionId: &#39;b09d265b-8b35-478f-8657-da7cf5b0fbc6&#39;.\r\n    [2022-05-24T13:46:49.529Z] Host lock lease acquired by instance ID &#39;000000000000000000000000CEA4F55C&#39;.\r\n    [2022-05-24T13:47:00.087Z] Executing &#39;Functions.RabbitMQFunction&#39; (Reason=&#39;Timer fired at 2022-05-24T09:47:00.0322362-04:00&#39;, Id=a34b49d5-603f-4977-92f0-672f0d5feb86)\r\n    [2022-05-24T13:47:00.243Z] InvocationResponse received for invocation id: &#39;a34b49d5-603f-4977-92f0-672f0d5feb86&#39;\r\n    [2022-05-24T13:47:00.325Z] Executed &#39;Functions.RabbitMQFunction&#39; (Failed, Id=a34b49d5-603f-4977-92f0-672f0d5feb86, Duration=265ms)\r\n    [2022-05-24T13:47:00.327Z] System.Private.CoreLib: Exception while executing function: Functions.RabbitMQFunction. System.Private.CoreLib: Result: Failure\r\n    Exception: NullPointerException:\r\n    Stack: java.lang.NullPointerException\r\n    [2022-05-24T13:47:00.329Z]      at com.microsoft.azure.functions.worker.binding.BindingDataStore.isDataTargetValid(BindingDataStore.java:145)       \r\n    [2022-05-24T13:47:00.331Z]      at com.microsoft.azure.functions.worker.binding.BindingDataStore.getOrAddDataTarget(BindingDataStore.java:123)      \r\n    [2022-05-24T13:47:00.333Z]      at com.microsoft.azure.functions.worker.broker.ParameterResolver.resolve(ParameterResolver.java:56)\r\n    [2022-05-24T13:47:00.334Z]      at com.microsoft.azure.functions.worker.broker.ParameterResolver.resolve(ParameterResolver.java:42)\r\n    [2022-05-24T13:47:00.336Z]      at com.microsoft.azure.functions.worker.broker.EnhancedJavaMethodExecutorImpl.execute(EnhancedJavaMethodExecutorImpl.java:53)\r\n    [2022-05-24T13:47:00.338Z]      at com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:61)\r\n    [2022-05-24T13:47:00.339Z]      at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)  \r\n    [2022-05-24T13:47:00.341Z]      at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)  \r\n    [2022-05-24T13:47:00.342Z]      at com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\r\n    [2022-05-24T13:47:00.344Z]      at com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\r\n    [2022-05-24T13:47:00.345Z]      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    [2022-05-24T13:47:00.347Z]      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    [2022-05-24T13:47:00.349Z]      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    [2022-05-24T13:47:00.351Z]      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    [2022-05-24T13:47:00.352Z]      at java.base/java.lang.Thread.run(Thread.java:829)\r\n    [2022-05-24T13:47:00.354Z] .\r\n\r\nhost.json contains:\r\n\r\n    {\r\n      &quot;version&quot;: &quot;2.0&quot;,\r\n      &quot;extensionBundle&quot;: {\r\n        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n        &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n      }\r\n\r\nlocal.settings.json contains:\r\n\r\n    {\r\n      &quot;IsEncrypted&quot;: false,\r\n      &quot;Values&quot;: {\r\n        &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,\r\n        &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n        &quot;rabbitMQConnectionAppSetting&quot;: &quot;amqp://guest:guest@127.0.0.1:5672/&quot;\r\n      }\r\n    }\r\n\r\nbuild.gradle contains:\r\n\r\n    implementation &#39;com.microsoft.azure.functions:azure-functions-java-library:2.0.1&#39;\r\n    implementation &#39;com.microsoft.azure.functions:azure-functions-java-library-rabbitmq:1.0.0&#39;\r\n    // I&#39;ve also tried with 2.0.0-preview\r\n\r\nCan someone point out what I&#39;m doing wrong?","title":"Receiving a NullPointerException while attempting to test local RabbitMQOutput","body":"<p>I've setup a basic Azure function with the @TimerTrigger and @RabbitMQOutput annotations as mentioned here:\n<a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-rabbitmq?tabs=in-process&amp;pivots=programming-language-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-rabbitmq?tabs=in-process&amp;pivots=programming-language-java</a></p>\n<pre><code>public class RabbitMQFunction {\n    private static final Logger logger = LoggerFactory.getLogger(RabbitMQFunction.class);\n    /**\n     * This function will be invoked periodically according to the specified schedule.\n     */\n    @FunctionName(&quot;RabbitMQFunction&quot;)\n    public void run(\n        @TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;*/15 * * * * *&quot;) String timerInfo,\n        @RabbitMQOutput(connectionStringSetting = &quot;rabbitMQConnectionAppSetting&quot;, queueName = &quot;myQueue&quot;, disableCertificateValidation = true) OutputBinding&lt;String&gt; output,\n        final ExecutionContext context\n    ) {\n        logger.debug(&quot;START - RabbitMQFunction&quot;);\n        context.getLogger().info(&quot;Java Timer trigger function executed at: &quot; + LocalDateTime.now());\n        output.setValue(&quot;Some string&quot;);\n        logger.debug(&quot;END - RabbitMQFunction&quot;);\n    }\n}\n</code></pre>\n<p>Unfortunately, I'm receiving the following error in the output when testing locally with Azurite in Visual Studio Code.  Here's the stack trace:</p>\n<pre><code>[2022-05-24T13:46:48.878Z] Received FunctionLoadResponse for function: 'RabbitMQFunction' with functionId: 'b09d265b-8b35-478f-8657-da7cf5b0fbc6'.\n[2022-05-24T13:46:49.529Z] Host lock lease acquired by instance ID '000000000000000000000000CEA4F55C'.\n[2022-05-24T13:47:00.087Z] Executing 'Functions.RabbitMQFunction' (Reason='Timer fired at 2022-05-24T09:47:00.0322362-04:00', Id=a34b49d5-603f-4977-92f0-672f0d5feb86)\n[2022-05-24T13:47:00.243Z] InvocationResponse received for invocation id: 'a34b49d5-603f-4977-92f0-672f0d5feb86'\n[2022-05-24T13:47:00.325Z] Executed 'Functions.RabbitMQFunction' (Failed, Id=a34b49d5-603f-4977-92f0-672f0d5feb86, Duration=265ms)\n[2022-05-24T13:47:00.327Z] System.Private.CoreLib: Exception while executing function: Functions.RabbitMQFunction. System.Private.CoreLib: Result: Failure\nException: NullPointerException:\nStack: java.lang.NullPointerException\n[2022-05-24T13:47:00.329Z]      at com.microsoft.azure.functions.worker.binding.BindingDataStore.isDataTargetValid(BindingDataStore.java:145)       \n[2022-05-24T13:47:00.331Z]      at com.microsoft.azure.functions.worker.binding.BindingDataStore.getOrAddDataTarget(BindingDataStore.java:123)      \n[2022-05-24T13:47:00.333Z]      at com.microsoft.azure.functions.worker.broker.ParameterResolver.resolve(ParameterResolver.java:56)\n[2022-05-24T13:47:00.334Z]      at com.microsoft.azure.functions.worker.broker.ParameterResolver.resolve(ParameterResolver.java:42)\n[2022-05-24T13:47:00.336Z]      at com.microsoft.azure.functions.worker.broker.EnhancedJavaMethodExecutorImpl.execute(EnhancedJavaMethodExecutorImpl.java:53)\n[2022-05-24T13:47:00.338Z]      at com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:61)\n[2022-05-24T13:47:00.339Z]      at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)  \n[2022-05-24T13:47:00.341Z]      at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)  \n[2022-05-24T13:47:00.342Z]      at com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\n[2022-05-24T13:47:00.344Z]      at com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\n[2022-05-24T13:47:00.345Z]      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n[2022-05-24T13:47:00.347Z]      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n[2022-05-24T13:47:00.349Z]      at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n[2022-05-24T13:47:00.351Z]      at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n[2022-05-24T13:47:00.352Z]      at java.base/java.lang.Thread.run(Thread.java:829)\n[2022-05-24T13:47:00.354Z] .\n</code></pre>\n<p>host.json contains:</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  }\n</code></pre>\n<p>local.settings.json contains:</p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n    &quot;rabbitMQConnectionAppSetting&quot;: &quot;amqp://guest:guest@127.0.0.1:5672/&quot;\n  }\n}\n</code></pre>\n<p>build.gradle contains:</p>\n<pre><code>implementation 'com.microsoft.azure.functions:azure-functions-java-library:2.0.1'\nimplementation 'com.microsoft.azure.functions:azure-functions-java-library-rabbitmq:1.0.0'\n// I've also tried with 2.0.0-preview\n</code></pre>\n<p>Can someone point out what I'm doing wrong?</p>\n"},{"tags":["java","apache-camel","jms","ibm-mq","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480068,"creation_date":1653480068,"answer_id":72377264,"question_id":72376958,"body_markdown":"To coordinate XA transactions, you need a transaction manager which implements the Java Transaction API (JTA).\r\nTherefore, I think you need to use a `JtaTransactionManager` rather than a `org.springframework.transaction.PlatformTransactionManager`.\r\n\r\nCheck this out:\r\nhttps://tomd.xyz/camel-xa-transactions-checklist/\r\n","title":"Put operation does not work for IBM MQ from camel when using JMSPoolXAConnectionFactory","body":"<p>To coordinate XA transactions, you need a transaction manager which implements the Java Transaction API (JTA).\nTherefore, I think you need to use a <code>JtaTransactionManager</code> rather than a <code>org.springframework.transaction.PlatformTransactionManager</code>.</p>\n<p>Check this out:\n<a href=\"https://tomd.xyz/camel-xa-transactions-checklist/\" rel=\"nofollow noreferrer\">https://tomd.xyz/camel-xa-transactions-checklist/</a></p>\n"}],"owner":{"account_id":14299425,"reputation":3,"user_id":10329084,"display_name":"user10329084"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653480068,"creation_date":1653478775,"question_id":72376958,"body_markdown":"We are implementing XA transaction between MQ and database and trying to create a connection factory as a service in karaf as per the below link.\r\n\r\nhttps://access.redhat.com/documentation/fr-fr/red_hat_fuse/7.2/html/apache_karaf_transaction_guide/using-jms-connection-factories#manual-deployment-connection-factories\r\n\r\nThe MQ we are using is IBM and we are connecting to it through camel.\r\nThe karaf service is exposed from the same bundle that is going to use it. This is done through blueprint xml file present in the src/main/resources/OSGI-INF/blueprint folder.\r\nWhen we use (through JNDI) the connection factory exposed as a service for setting the connection factory to be used by the JmsComponent of camel, we are able to get message from the queue but not able to put message into the queue. There is no error when the put operation fails and hence, the database gets updated with success. This happens specifically when using JmsPoolXAConnectionFactory as the pool connection factory. If we change it to JmsPoolConnectionFactory, the put operation works and the message is added to the queue.\r\nBelow are the sample routes for get and put to queue.\r\n\r\n**GET:**\r\n```\r\nfrom(&quot;mq:queue:{{queueName}}&quot;)\r\n   .process(new CustomProcessor1())\r\n   .to(&quot;direct:call-sp&quot;)\r\n.end();\r\n\r\nfrom(&quot;direct:call-sp&quot;)\r\n   .to(&quot;sql-stored:call-sp&quot;)\r\n.end();\r\n```\r\n\r\n**PUT:**\r\n```\r\nfrom(&quot;vm:send&quot;)\r\n   .process(new CustomProcessor2())\r\n   .to(&quot;mq:queue:{{queueName}}&quot;)\r\n   .to(&quot;sql-stored:update-sp&quot;)\r\n   .to(&quot;vm:nextroute&quot;)\r\n.end();\r\n```\r\n\r\n**Camel JmsComponent Configuration in camel-context.xml:**\r\n```\r\n&lt;reference id=&quot;ptm&quot; interface=&quot;org.springframework.transaction.PlatformTransactionManager&quot; /&gt;\r\n&lt;reference id=&quot;connectionFactory&quot; interface=&quot;javax.jms.ConnectionFactory&quot; filter=&quot;(osgi.jndi.service.name=jms/mq)&quot; availability=&quot;optional&quot; /&gt;\r\n&lt;bean id=&quot;jmsConfig&quot; class=&quot;org.apache.camel.component.jms.JmsConfiguration&quot;&gt;\r\n    &lt;property name=&quot;transacted&quot; value=&quot;false&quot; /&gt;\r\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;\r\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;ptm&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;mq&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\r\n    &lt;property name=&quot;configuration&quot; ref=&quot;jmsConfig&quot; /&gt;\r\n    &lt;property name=&quot;destinationResolver&quot; ref=&quot;customDestinationResolver&quot; /&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;customDestinationResolver&quot; class=&quot;com.example.CustomDestinationResolver&quot;&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nIs there any put related specific configuration that we are missing?\r\n","title":"Put operation does not work for IBM MQ from camel when using JMSPoolXAConnectionFactory","body":"<p>We are implementing XA transaction between MQ and database and trying to create a connection factory as a service in karaf as per the below link.</p>\n<p><a href=\"https://access.redhat.com/documentation/fr-fr/red_hat_fuse/7.2/html/apache_karaf_transaction_guide/using-jms-connection-factories#manual-deployment-connection-factories\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/fr-fr/red_hat_fuse/7.2/html/apache_karaf_transaction_guide/using-jms-connection-factories#manual-deployment-connection-factories</a></p>\n<p>The MQ we are using is IBM and we are connecting to it through camel.\nThe karaf service is exposed from the same bundle that is going to use it. This is done through blueprint xml file present in the src/main/resources/OSGI-INF/blueprint folder.\nWhen we use (through JNDI) the connection factory exposed as a service for setting the connection factory to be used by the JmsComponent of camel, we are able to get message from the queue but not able to put message into the queue. There is no error when the put operation fails and hence, the database gets updated with success. This happens specifically when using JmsPoolXAConnectionFactory as the pool connection factory. If we change it to JmsPoolConnectionFactory, the put operation works and the message is added to the queue.\nBelow are the sample routes for get and put to queue.</p>\n<p><strong>GET:</strong></p>\n<pre><code>from(&quot;mq:queue:{{queueName}}&quot;)\n   .process(new CustomProcessor1())\n   .to(&quot;direct:call-sp&quot;)\n.end();\n\nfrom(&quot;direct:call-sp&quot;)\n   .to(&quot;sql-stored:call-sp&quot;)\n.end();\n</code></pre>\n<p><strong>PUT:</strong></p>\n<pre><code>from(&quot;vm:send&quot;)\n   .process(new CustomProcessor2())\n   .to(&quot;mq:queue:{{queueName}}&quot;)\n   .to(&quot;sql-stored:update-sp&quot;)\n   .to(&quot;vm:nextroute&quot;)\n.end();\n</code></pre>\n<p><strong>Camel JmsComponent Configuration in camel-context.xml:</strong></p>\n<pre><code>&lt;reference id=&quot;ptm&quot; interface=&quot;org.springframework.transaction.PlatformTransactionManager&quot; /&gt;\n&lt;reference id=&quot;connectionFactory&quot; interface=&quot;javax.jms.ConnectionFactory&quot; filter=&quot;(osgi.jndi.service.name=jms/mq)&quot; availability=&quot;optional&quot; /&gt;\n&lt;bean id=&quot;jmsConfig&quot; class=&quot;org.apache.camel.component.jms.JmsConfiguration&quot;&gt;\n    &lt;property name=&quot;transacted&quot; value=&quot;false&quot; /&gt;\n    &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;\n    &lt;property name=&quot;transactionManager&quot; ref=&quot;ptm&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;mq&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\n    &lt;property name=&quot;configuration&quot; ref=&quot;jmsConfig&quot; /&gt;\n    &lt;property name=&quot;destinationResolver&quot; ref=&quot;customDestinationResolver&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;customDestinationResolver&quot; class=&quot;com.example.CustomDestinationResolver&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Is there any put related specific configuration that we are missing?</p>\n"},{"tags":["java","logging","log4j","logback"],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462770850,"creation_date":1462770850,"answer_id":37108119,"question_id":37107567,"body_markdown":"You could add the UUID to the MDC and then use %X{uuid} to include it.","title":"What is the logback equivalent for log4j %u{RANDOM}","body":"<p>You could add the UUID to the MDC and then use %X{uuid} to include it.</p>\n"},{"tags":[],"owner":{"account_id":17489028,"reputation":91,"user_id":12681533,"display_name":"Nastia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653480038,"creation_date":1653480038,"answer_id":72377255,"question_id":37107567,"body_markdown":" example logback.xml\r\n\r\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n        &lt;providers&gt;\r\n             &lt;uuid&gt;\r\n                &lt;fieldName&gt;event&lt;/fieldName&gt;\r\n             &lt;/uuid&gt;\r\n        &lt;/providers&gt;\r\n    &lt;/encoder&gt;\r\n\r\n[readme or docs][1]\r\n\r\n\r\n  [1]: https://github.com/logfellow/logstash-logback-encoder","title":"What is the logback equivalent for log4j %u{RANDOM}","body":"<p>example logback.xml</p>\n<pre><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n    &lt;providers&gt;\n         &lt;uuid&gt;\n            &lt;fieldName&gt;event&lt;/fieldName&gt;\n         &lt;/uuid&gt;\n    &lt;/providers&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p><a href=\"https://github.com/logfellow/logstash-logback-encoder\" rel=\"nofollow noreferrer\">readme or docs</a></p>\n"}],"owner":{"account_id":3237693,"reputation":31,"user_id":2731436,"display_name":"Neo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653480038,"creation_date":1462766587,"question_id":37107567,"body_markdown":"I need to generate a random uuid number from logback, \r\nI used  %u{RANDOM} in log4j, now I am looking same functionality in logback\r\nAny help will be great\r\n\r\nThanks","title":"What is the logback equivalent for log4j %u{RANDOM}","body":"<p>I need to generate a random uuid number from logback, \nI used  %u{RANDOM} in log4j, now I am looking same functionality in logback\nAny help will be great</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","azure","maven","deployment"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653064022,"post_id":72321074,"comment_id":127767892,"body_markdown":"Check the code of the test which is failing... ?","body":"Check the code of the test which is failing... ?"}],"answers":[{"tags":[],"owner":{"account_id":23585381,"reputation":837,"user_id":17623897,"display_name":"SuryasriKamini-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653479861,"creation_date":1653479861,"answer_id":72377205,"question_id":72321074,"body_markdown":"Try the following steps to resolve the error:\r\n- Right Click on project **&gt;** Run as Maven Test. \r\n- The missing plugin will be downloaded automatically.\r\n- Right Click on project **&gt;** Update Maven project, after that the error should be gone. \r\n\r\n**References:**\r\n1. [Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test&quot; and &quot;test(s) &lt;[]&gt; cannot be found&quot;](https://stackoverflow.com/questions/42168610/after-upgrading-getting-failed-to-execute-goal-org-apache-maven-pluginsmaven)\r\n2. [How to solve &quot;failed to execute goal &quot;maven-surefire-plugin:2.19.1&quot; in maven](https://stackoverflow.com/questions/40229895/how-to-solve-failed-to-execute-goal-maven-surefire-plugin2-19-1-in-maven)\r\n3.  [Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test](https://stackoverflow.com/questions/31221182/failed-to-execute-goal-org-apache-maven-pluginsmaven-surefire-plugin2-18-1tes)\r\n4. [Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.10:test](https://stackoverflow.com/questions/13170860/failed-to-execute-goal-org-apache-maven-pluginsmaven-surefire-plugin2-10test)\r\n\r\n","title":"Error when trying to deploy to AZURE Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test","body":"<p>Try the following steps to resolve the error:</p>\n<ul>\n<li>Right Click on project <strong>&gt;</strong> Run as Maven Test.</li>\n<li>The missing plugin will be downloaded automatically.</li>\n<li>Right Click on project <strong>&gt;</strong> Update Maven project, after that the error should be gone.</li>\n</ul>\n<p><strong>References:</strong></p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/42168610/after-upgrading-getting-failed-to-execute-goal-org-apache-maven-pluginsmaven\">Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test&quot; and &quot;test(s) &lt;[]&gt; cannot be found&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40229895/how-to-solve-failed-to-execute-goal-maven-surefire-plugin2-19-1-in-maven\">How to solve &quot;failed to execute goal &quot;maven-surefire-plugin:2.19.1&quot; in maven</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31221182/failed-to-execute-goal-org-apache-maven-pluginsmaven-surefire-plugin2-18-1tes\">Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13170860/failed-to-execute-goal-org-apache-maven-pluginsmaven-surefire-plugin2-10test\">Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.10:test</a></li>\n</ol>\n"}],"owner":{"account_id":25338816,"reputation":13,"user_id":19162375,"display_name":"EstebanDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72377205,"answer_count":1,"score":1,"last_activity_date":1653479861,"creation_date":1653058839,"question_id":72321074,"body_markdown":"**Hi developers friends I need help please When I try to deploy from github to my Azure AppService the github console shows me the following error.**\r\n\r\n\r\n\r\nHi developers friends I need help please When I try to deploy from github to my Azure AppService the github console shows me the following error.\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project FastFoodApp: There are test failures.\r\n\r\nPlease refer to /home/runner/work/Project-Name/target/surefire-reports for the individual test results. Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream. -&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch. Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n**I already tried adding mvn clean install -DskipTests in the .yml file. Also adding in the pom.xml file**\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n**Also I tried commenting out all code in src/test/java -&gt; test.java**\r\n\r\nBut in the end it always shows me the same error\r\n\r\nthis is the .yml file\r\n\r\n    name: Build and deploy JAR app to Azure Web App - fastfoodapi\r\n    \r\n    on:\r\n      push:\r\n        branches:\r\n          - main\r\n      workflow_dispatch:\r\n    \r\n    jobs:\r\n      build:\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - uses: actions/checkout@v2\r\n    \r\n          - name: Set up Java version\r\n            uses: actions/setup-java@v1\r\n            with:\r\n              java-version: &#39;11&#39;\r\n    \r\n          - name: Build with Maven\r\n            run: mvn clean install\r\n    \r\n          - name: Upload artifact for deployment job\r\n            uses: actions/upload-artifact@v2\r\n            with:\r\n              name: java-app\r\n              path: &#39;${{ github.workspace }}/target/*.jar&#39;\r\n    \r\n      deploy:\r\n        runs-on: ubuntu-latest\r\n        needs: build\r\n        environment:\r\n          name: &#39;Production&#39;\r\n          url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\r\n        \r\n        steps:\r\n          - name: Download artifact from build job\r\n            uses: actions/download-artifact@v2\r\n            with:\r\n              name: java-app\r\n    \r\n          - name: Deploy to Azure Web App\r\n            id: deploy-to-webapp\r\n            uses: azure/webapps-deploy@v2\r\n            with:\r\n              app-name: &#39;fastfoodapi&#39;\r\n              slot-name: &#39;Production&#39;\r\n              publish-profile: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_2896B985447E4F1D85D4FE3ECA3795AC }}\r\n              package: &#39;*.jar&#39;","title":"Error when trying to deploy to AZURE Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test","body":"<p><strong>Hi developers friends I need help please When I try to deploy from github to my Azure AppService the github console shows me the following error.</strong></p>\n<p>Hi developers friends I need help please When I try to deploy from github to my Azure AppService the github console shows me the following error.</p>\n<p>Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project FastFoodApp: There are test failures.</p>\n<p>Please refer to /home/runner/work/Project-Name/target/surefire-reports for the individual test results. Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream. -&gt; [Help 1]</p>\n<p>To see the full stack trace of the errors, re-run Maven with the -e switch. Re-run Maven using the -X switch to enable full debug logging.</p>\n<p><strong>I already tried adding mvn clean install -DskipTests in the .yml file. Also adding in the pom.xml file</strong></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n            &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>Also I tried commenting out all code in src/test/java -&gt; test.java</strong></p>\n<p>But in the end it always shows me the same error</p>\n<p>this is the .yml file</p>\n<pre><code>name: Build and deploy JAR app to Azure Web App - fastfoodapi\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch:\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Set up Java version\n        uses: actions/setup-java@v1\n        with:\n          java-version: '11'\n\n      - name: Build with Maven\n        run: mvn clean install\n\n      - name: Upload artifact for deployment job\n        uses: actions/upload-artifact@v2\n        with:\n          name: java-app\n          path: '${{ github.workspace }}/target/*.jar'\n\n  deploy:\n    runs-on: ubuntu-latest\n    needs: build\n    environment:\n      name: 'Production'\n      url: ${{ steps.deploy-to-webapp.outputs.webapp-url }}\n    \n    steps:\n      - name: Download artifact from build job\n        uses: actions/download-artifact@v2\n        with:\n          name: java-app\n\n      - name: Deploy to Azure Web App\n        id: deploy-to-webapp\n        uses: azure/webapps-deploy@v2\n        with:\n          app-name: 'fastfoodapi'\n          slot-name: 'Production'\n          publish-profile: ${{ secrets.AZUREAPPSERVICE_PUBLISHPROFILE_2896B985447E4F1D85D4FE3ECA3795AC }}\n          package: '*.jar'\n</code></pre>\n"},{"tags":["java","android","json","arraylist"],"comments":[{"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"score":0,"creation_date":1653464648,"post_id":72373680,"comment_id":127856025,"body_markdown":"add response JSON here","body":"add response JSON here"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653464840,"post_id":72373680,"comment_id":127856078,"body_markdown":"&quot;I always get an error that the arraylist is still empty&quot; - where? Your `payList` only exists in the try/catch block. You never access it anywhere and you need to declare it outside of the lambda.","body":"&quot;I always get an error that the arraylist is still empty&quot; - where? Your <code>payList</code> only exists in the try/catch block. You never access it anywhere and you need to declare it outside of the lambda."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1653464943,"post_id":72373680,"comment_id":127856106,"body_markdown":"@f1sh i see assignment  inside of the try catch but not declaration, it seems like it is declared globally ? unless i&#39;m mistaken","body":"@f1sh i see assignment  inside of the try catch but not declaration, it seems like it is declared globally ? unless i&#39;m mistaken"},{"owner":{"account_id":23654355,"reputation":63,"user_id":17682864,"display_name":"Senti"},"score":0,"creation_date":1653465413,"post_id":72373680,"comment_id":127856293,"body_markdown":"I edited the question with the whole class I used for this","body":"I edited the question with the whole class I used for this"},{"owner":{"account_id":3675138,"reputation":1125,"user_id":3061401,"display_name":"Pratik Satani"},"score":0,"creation_date":1653477678,"post_id":72373680,"comment_id":127860691,"body_markdown":"Can you please add response of api that you calling to get data?","body":"Can you please add response of api that you calling to get data?"}],"answers":[{"tags":[],"owner":{"account_id":9195148,"reputation":3060,"user_id":6834114,"display_name":"Omkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653479809,"creation_date":1653479809,"answer_id":72377194,"question_id":72373680,"body_markdown":"I think you are directly trying to add string number value to Int Array `payList` so first cast to Parse int using `Integer.parseInt()`\r\n\r\ntry below code this may help \r\n\r\n\r\n                   try {\r\n                        JSONArray responseArray = new JSONArray(response);\r\n                        payList = new ArrayList&lt;&gt;();\r\n                        for(int i = 0; i&lt;responseArray.length(); i++) {\r\n                            JSONObject curObject = responseArray.getJSONObject(i);\r\n                            payList.add(Integer.parseInt(curObject.getInt(&quot;totalPerPerson&quot;))); //check here\r\n                        }\r\n                    }\r\n                    catch (JSONException e)\r\n                    {\r\n                        Log.e(&quot;Error&quot;, e.toString());\r\n                    }\r\n\r\n","title":"Read Integer from JSON and add it to an arraylist","body":"<p>I think you are directly trying to add string number value to Int Array <code>payList</code> so first cast to Parse int using <code>Integer.parseInt()</code></p>\n<p>try below code this may help</p>\n<pre><code>               try {\n                    JSONArray responseArray = new JSONArray(response);\n                    payList = new ArrayList&lt;&gt;();\n                    for(int i = 0; i&lt;responseArray.length(); i++) {\n                        JSONObject curObject = responseArray.getJSONObject(i);\n                        payList.add(Integer.parseInt(curObject.getInt(&quot;totalPerPerson&quot;))); //check here\n                    }\n                }\n                catch (JSONException e)\n                {\n                    Log.e(&quot;Error&quot;, e.toString());\n                }\n</code></pre>\n"}],"owner":{"account_id":23654355,"reputation":63,"user_id":17682864,"display_name":"Senti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72377194,"answer_count":1,"score":-1,"last_activity_date":1653479809,"creation_date":1653464488,"question_id":72373680,"body_markdown":"I would like to read data from a URL (JSON format) and add these values to the an `ArrayList`. \r\nI tested the reading from the URL part and this works. But for some reason I can&#39;t add the value that I read to the `ArrayList`\r\n\r\nAnyone has an idea why this happens and how I could fix it?\r\n\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class SaldoActivity extends AppCompatActivity {\r\n    private RequestQueue requestQueue;\r\n    private ArrayList&lt;String&gt; names;\r\n    private ArrayList&lt;Integer&gt; payList;\r\n    private ArrayList&lt;Integer&gt; totalList;\r\n    private ArrayList&lt;Integer&gt; debtList = new ArrayList&lt;Integer&gt;();\r\n    private int offset = 1;\r\n    private String email;\r\n    private int previousID;\r\n    private int loginID;\r\n    private int totalPerPerson;\r\n    private int info;\r\n\r\n    private static final String GET_LAST_URL = &quot;https://studev.groept.be/api/a21pt120/getPreviousIDFromGroup/&quot;;\r\n    private static final String QUEUE_URL_LOGIN_ID = &quot;https://studev.groept.be/api/a21pt120/getLoginID/&quot;;\r\n    private static final String GET_PAY_AMOUNT_PER_NAME = &quot;https://studev.groept.be/api/a21pt120/payedPerPerson/&quot;;\r\n    private static final String GET_TOTAL_AMOUNT = &quot;https://studev.groept.be/api/a21pt120/totalPayed/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        //READING FROM DATABASE DOESNT WORK -&gt; SOMETHING ABOUT THE ARRAYLIST\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_saldo);\r\n        getPayList();\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        email = (String) extras.get(&quot;email&quot;);\r\n        names = GroupActivity.getNamesList();\r\n        //######## TRANSACTIONS ###########\r\n        Button newTransaction = findViewById(R.id.button3);\r\n        newTransaction.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onAddTransaction_Clicked();\r\n            }\r\n        });\r\n        //##################################\r\n\r\n        ListView saldoList = findViewById(R.id.saldoList);\r\n        TextView lblGroup = findViewById(R.id.lblGroup);\r\n\r\n\r\n\r\n        ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\r\n                android.R.layout.simple_list_item_1, names);\r\n        saldoList.setAdapter(arrayAdapter);\r\n        arrayAdapter.notifyDataSetChanged();\r\n\r\n\r\n        //######### DELETE BUTTON ###########\r\n        JsonArrayRequest loginIDRequest = new JsonArrayRequest(Request.Method.GET, QUEUE_URL_LOGIN_ID + email,null,\r\n                new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        for (int i=0; i&lt;response.length(); ++i) {\r\n                            loginID = 0;\r\n                            JSONObject o = null;\r\n                            try {\r\n                                loginID += response.getJSONObject(i).getInt(&quot;id&quot;);\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n\r\n                        JsonArrayRequest previousIDRequest = new JsonArrayRequest(Request.Method.GET,GET_LAST_URL + Integer.toString(loginID),null,\r\n                                new Response.Listener&lt;JSONArray&gt;() {\r\n                                    @Override\r\n                                    public void onResponse(JSONArray response) {\r\n                                        for (int i=0; i&lt;response.length(); ++i) {\r\n                                            previousID = 0;\r\n                                            JSONObject o = null;\r\n                                            try {\r\n                                                previousID += response.getJSONObject(i).getInt(&quot;id&quot;);\r\n                                            } catch (JSONException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n\r\n                                    }\r\n                                }, new Response.ErrorListener() {\r\n                                    @Override\r\n                                    public void onErrorResponse(VolleyError error) {\r\n                                        Toast.makeText(SaldoActivity.this, &quot;Unable to communicate with the server&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        });\r\n\r\n                        requestQueue.add(previousIDRequest);\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(SaldoActivity.this, &quot;Unable&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n        requestQueue.add(loginIDRequest);\r\n\r\n        calculateTotalPerPerson();\r\n        calculateDebtList();\r\n\r\n        lblGroup.setText(Integer.toString(payList.get(0)));\r\n\r\n        saldoList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                int amount = debtList.get(i);\r\n                Toast.makeText(SaldoActivity.this, Integer.toString(amount), Toast.LENGTH_LONG).show();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void onAddTransaction_Clicked() {\r\n        Intent intent = new Intent(this, AddTransaction.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void onDeleteGroup_Clicked(View caller) throws InterruptedException {\r\n        if(previousID == GroupActivity.getID()){\r\n            offset++;\r\n        }\r\n        String url = &quot;https://studev.groept.be/api/a21pt120/deleteGroup/&quot; + GroupActivity.getID();\r\n        httpCall(url);\r\n        String url_offset = &quot;https://studev.groept.be/api/a21pt120/deleted_input/&quot; + offset;\r\n        httpCall(url_offset);\r\n        Intent intent = new Intent(this, GroupActivity.class);\r\n        timeout();\r\n        intent.putExtra(&quot;email&quot;, email);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void calculateDebtList() {\r\n        for(int i = 0; i &lt; payList.size(); i++){\r\n            int debt = payList.get(i) - totalPerPerson;\r\n            debtList.add(debt);\r\n        }\r\n    }\r\n\r\n    private void calculateTotalPerPerson() {\r\n        if(names.size() &gt; 0) {\r\n            totalPerPerson = calculateSum()/names.size();\r\n        }\r\n        else{\r\n            totalPerPerson = calculateSum();;\r\n        }\r\n    }\r\n\r\n    private int calculateSum() {\r\n        int sum = 0;\r\n        for(int i = 0; i &lt; totalList.size(); i++)\r\n            sum += totalList.get(i);\r\n        return sum;\r\n    }\r\n\r\n    private void timeout() {\r\n        try {\r\n            TimeUnit.SECONDS.sleep(3);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void getPayList(){\r\n        RequestQueue requestQueue = Volley.newRequestQueue(GroupActivity.returnContext());\r\n        String url = GET_PAY_AMOUNT_PER_NAME + GroupActivity.getID();\r\n        StringRequest submitRequest = new StringRequest(Request.Method.GET, url,\r\n                response -&gt; {\r\n                    try {\r\n                        JSONArray responseArray = new JSONArray(response);\r\n                        payList = new ArrayList&lt;&gt;();\r\n                        for(int i = 0; i&lt;responseArray.length(); i++) {\r\n                            JSONObject curObject = responseArray.getJSONObject(i);\r\n                            payList.add(curObject.getInt(&quot;totalPerPerson&quot;));\r\n                        }\r\n                    }\r\n                    catch (JSONException e)\r\n                    {\r\n                        Log.e(&quot;Error&quot;, e.toString());\r\n                    }\r\n                },\r\n                error -&gt; Log.e(&quot;Error&quot;, &quot;Could not reach database&quot;));\r\n        requestQueue.add(submitRequest);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to add the int values into the payList. But the `add()` doesn&#39;t do the trick.\r\nWhen I try to get the first element form the paylist with lblGroup.setText(Integer.toString(payList.get(0))); \r\n(there should be 3 in it for the example I used), the app crashes because there are no elements in the paylist.\r\n\r\n\r\nThis is the JSON I get from the URL. I would like to have the values 200, 3, 10 in an `ArrayList` named payList\r\n\r\n    [ { &quot;totalPerPerson&quot;: &quot;200&quot; }, { &quot;totalPerPerson&quot;: &quot;3&quot; }, { &quot;totalPerPerson&quot;: &quot;10&quot; } ]","title":"Read Integer from JSON and add it to an arraylist","body":"<p>I would like to read data from a URL (JSON format) and add these values to the an <code>ArrayList</code>.\nI tested the reading from the URL part and this works. But for some reason I can't add the value that I read to the <code>ArrayList</code></p>\n<p>Anyone has an idea why this happens and how I could fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonArrayRequest;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class SaldoActivity extends AppCompatActivity {\n    private RequestQueue requestQueue;\n    private ArrayList&lt;String&gt; names;\n    private ArrayList&lt;Integer&gt; payList;\n    private ArrayList&lt;Integer&gt; totalList;\n    private ArrayList&lt;Integer&gt; debtList = new ArrayList&lt;Integer&gt;();\n    private int offset = 1;\n    private String email;\n    private int previousID;\n    private int loginID;\n    private int totalPerPerson;\n    private int info;\n\n    private static final String GET_LAST_URL = &quot;https://studev.groept.be/api/a21pt120/getPreviousIDFromGroup/&quot;;\n    private static final String QUEUE_URL_LOGIN_ID = &quot;https://studev.groept.be/api/a21pt120/getLoginID/&quot;;\n    private static final String GET_PAY_AMOUNT_PER_NAME = &quot;https://studev.groept.be/api/a21pt120/payedPerPerson/&quot;;\n    private static final String GET_TOTAL_AMOUNT = &quot;https://studev.groept.be/api/a21pt120/totalPayed/&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //READING FROM DATABASE DOESNT WORK -&gt; SOMETHING ABOUT THE ARRAYLIST\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_saldo);\n        getPayList();\n\n        Bundle extras = getIntent().getExtras();\n        email = (String) extras.get(&quot;email&quot;);\n        names = GroupActivity.getNamesList();\n        //######## TRANSACTIONS ###########\n        Button newTransaction = findViewById(R.id.button3);\n        newTransaction.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onAddTransaction_Clicked();\n            }\n        });\n        //##################################\n\n        ListView saldoList = findViewById(R.id.saldoList);\n        TextView lblGroup = findViewById(R.id.lblGroup);\n\n\n\n        ArrayAdapter&lt;String&gt; arrayAdapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\n                android.R.layout.simple_list_item_1, names);\n        saldoList.setAdapter(arrayAdapter);\n        arrayAdapter.notifyDataSetChanged();\n\n\n        //######### DELETE BUTTON ###########\n        JsonArrayRequest loginIDRequest = new JsonArrayRequest(Request.Method.GET, QUEUE_URL_LOGIN_ID + email,null,\n                new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n                        for (int i=0; i&lt;response.length(); ++i) {\n                            loginID = 0;\n                            JSONObject o = null;\n                            try {\n                                loginID += response.getJSONObject(i).getInt(&quot;id&quot;);\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n                        }\n\n                        JsonArrayRequest previousIDRequest = new JsonArrayRequest(Request.Method.GET,GET_LAST_URL + Integer.toString(loginID),null,\n                                new Response.Listener&lt;JSONArray&gt;() {\n                                    @Override\n                                    public void onResponse(JSONArray response) {\n                                        for (int i=0; i&lt;response.length(); ++i) {\n                                            previousID = 0;\n                                            JSONObject o = null;\n                                            try {\n                                                previousID += response.getJSONObject(i).getInt(&quot;id&quot;);\n                                            } catch (JSONException e) {\n                                                e.printStackTrace();\n                                            }\n                                        }\n\n                                    }\n                                }, new Response.ErrorListener() {\n                                    @Override\n                                    public void onErrorResponse(VolleyError error) {\n                                        Toast.makeText(SaldoActivity.this, &quot;Unable to communicate with the server&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        });\n\n                        requestQueue.add(previousIDRequest);\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(SaldoActivity.this, &quot;Unable&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n        requestQueue.add(loginIDRequest);\n\n        calculateTotalPerPerson();\n        calculateDebtList();\n\n        lblGroup.setText(Integer.toString(payList.get(0)));\n\n        saldoList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                int amount = debtList.get(i);\n                Toast.makeText(SaldoActivity.this, Integer.toString(amount), Toast.LENGTH_LONG).show();\n\n            }\n        });\n\n    }\n\n    public void onAddTransaction_Clicked() {\n        Intent intent = new Intent(this, AddTransaction.class);\n        startActivity(intent);\n    }\n\n    public void onDeleteGroup_Clicked(View caller) throws InterruptedException {\n        if(previousID == GroupActivity.getID()){\n            offset++;\n        }\n        String url = &quot;https://studev.groept.be/api/a21pt120/deleteGroup/&quot; + GroupActivity.getID();\n        httpCall(url);\n        String url_offset = &quot;https://studev.groept.be/api/a21pt120/deleted_input/&quot; + offset;\n        httpCall(url_offset);\n        Intent intent = new Intent(this, GroupActivity.class);\n        timeout();\n        intent.putExtra(&quot;email&quot;, email);\n        startActivity(intent);\n    }\n\n    private void calculateDebtList() {\n        for(int i = 0; i &lt; payList.size(); i++){\n            int debt = payList.get(i) - totalPerPerson;\n            debtList.add(debt);\n        }\n    }\n\n    private void calculateTotalPerPerson() {\n        if(names.size() &gt; 0) {\n            totalPerPerson = calculateSum()/names.size();\n        }\n        else{\n            totalPerPerson = calculateSum();;\n        }\n    }\n\n    private int calculateSum() {\n        int sum = 0;\n        for(int i = 0; i &lt; totalList.size(); i++)\n            sum += totalList.get(i);\n        return sum;\n    }\n\n    private void timeout() {\n        try {\n            TimeUnit.SECONDS.sleep(3);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void getPayList(){\n        RequestQueue requestQueue = Volley.newRequestQueue(GroupActivity.returnContext());\n        String url = GET_PAY_AMOUNT_PER_NAME + GroupActivity.getID();\n        StringRequest submitRequest = new StringRequest(Request.Method.GET, url,\n                response -&gt; {\n                    try {\n                        JSONArray responseArray = new JSONArray(response);\n                        payList = new ArrayList&lt;&gt;();\n                        for(int i = 0; i&lt;responseArray.length(); i++) {\n                            JSONObject curObject = responseArray.getJSONObject(i);\n                            payList.add(curObject.getInt(&quot;totalPerPerson&quot;));\n                        }\n                    }\n                    catch (JSONException e)\n                    {\n                        Log.e(&quot;Error&quot;, e.toString());\n                    }\n                },\n                error -&gt; Log.e(&quot;Error&quot;, &quot;Could not reach database&quot;));\n        requestQueue.add(submitRequest);\n    }\n}\n\n</code></pre>\n<p>I want to add the int values into the payList. But the <code>add()</code> doesn't do the trick.\nWhen I try to get the first element form the paylist with lblGroup.setText(Integer.toString(payList.get(0)));\n(there should be 3 in it for the example I used), the app crashes because there are no elements in the paylist.</p>\n<p>This is the JSON I get from the URL. I would like to have the values 200, 3, 10 in an <code>ArrayList</code> named payList</p>\n<pre><code>[ { &quot;totalPerPerson&quot;: &quot;200&quot; }, { &quot;totalPerPerson&quot;: &quot;3&quot; }, { &quot;totalPerPerson&quot;: &quot;10&quot; } ]\n</code></pre>\n"},{"tags":["java","avro","parquet"],"answers":[{"tags":[],"owner":{"account_id":5125444,"reputation":86,"user_id":4107667,"display_name":"murick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1547145901,"creation_date":1547145901,"answer_id":54135062,"question_id":52038776,"body_markdown":"I&#39;d recommend you to not use outdated constructors. In fact, they are deprecated for a reason. Instead, try [`AvroParquetReader`][1] and [`AvroParquetWriter`][2] classes. For the detailed explanation please refer to [this][3] thread. Meanwhile, let me suggest you the following solution:\r\n\r\n**The Java code:** *ParquetAvroHandler.java*\r\n\r\n    package com.parquet.avro;\r\n    \r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericData;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.parquet.avro.AvroParquetReader;\r\n    import org.apache.parquet.avro.AvroParquetWriter;\r\n    import org.apache.parquet.hadoop.ParquetFileWriter;\r\n    import org.apache.parquet.hadoop.ParquetReader;\r\n    import org.apache.parquet.hadoop.ParquetWriter;\r\n    import org.apache.parquet.hadoop.metadata.CompressionCodecName;\r\n    import org.apache.parquet.hadoop.util.HadoopInputFile;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class ParquetAvroHandler\r\n    {\r\n    \tprivate static final Schema SCHEMA;\t\r\n    \tprivate static final String SCHEMA_PATH = &quot;path/to/your/schema.avsc&quot;;\r\n    \tprivate static final Path OUTPUT_PATH = new Path(&quot;result.parquet&quot;);\r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(ParquetAvroHandler.class);\r\n    \r\n    \tstatic\r\n        {\r\n            try (InputStream inStream = ParquetAvroHandler.class.getResourceAsStream(SCHEMA_PATH))\r\n            {\r\n    \t        SCHEMA = new Schema.Parser().parse(IOUtils.toString(inStream, &quot;UTF-8&quot;));\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                LOGGER.error(&quot;Can&#39;t read SCHEMA file from {}&quot;, SCHEMA_PATH);\r\n                LOGGER.error(e.getLocalizedMessage());\r\n    \t        throw new RuntimeException(&quot;Can&#39;t read SCHEMA file from &quot; + SCHEMA_PATH, e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Reads an existing Apache Avro-based Parquet file from the\r\n         * specified location and prints it into the system console\r\n         * \r\n         * @param filePath path to the input file\r\n         * @throws IOException\r\n         **/\r\n        public void read(Path filePath) throws IOException\r\n        {\r\n        \tConfiguration configuration = new Configuration();\r\n        \tHadoopInputFile inputFile = HadoopInputFile.fromPath(filePath, configuration);\r\n        \t\r\n            try (ParquetReader&lt;GenericData.Record&gt; reader = AvroParquetReader\r\n                    .&lt;GenericData.Record&gt;builder(inputFile)\r\n                    .withConf(configuration)\r\n                    .build())\r\n            {\r\n                GenericData.Record record;\r\n    \t        while ((record = reader.read()) != null)\r\n              \t{\r\n                  \tSystem.out.println(record);\r\n              \t}\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Creates a new Apache Avro-based Parquet file or overwrites the existing one\r\n         *  \r\n         * @param records set of records to write to the file\r\n         * @param filePath path to the output file\r\n         * @throws IOException\r\n         **/\r\n        public void write(List&lt;GenericData.Record&gt; records, Path filePath) throws IOException\r\n        {\r\n            try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter\r\n                    .&lt;GenericData.Record&gt;builder(filePath)\r\n                    .withSchema(SCHEMA)\r\n                    .withConf(new Configuration())\r\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n                    .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\r\n                    .build())\r\n            {\r\n    \r\n                for (GenericData.Record record : records)\r\n                {\r\n                    writer.write(record);\r\n                }\r\n            }\r\n        }\r\n      \r\n    \tpublic static void main(String[] args) //throws IOException\r\n      \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tGenericData.Record record = new GenericData.Record(SCHEMA);\r\n    \r\n    \t\t\trecord.put(&quot;Name&quot;, &quot;John&quot;);\r\n    \t\t\trecord.put(&quot;Id&quot;, 1);\r\n    \t\t\trecord.put(&quot;PhoneNumber&quot;, &quot;555-555-5551&quot;);\r\n    \t\t\trecord.put(&quot;ZipCode&quot;, 88888);\r\n    \t\t\trecord.put(&quot;isAlive&quot;, true);\r\n    \t\t\trecords.add(record);\r\n    \r\n    \t\t\trecord = new GenericData.Record(SCHEMA);\r\n    \t\t\trecord.put(&quot;Name&quot;, &quot;Jane&quot;);\r\n    \t\t\trecord.put(&quot;Id&quot;, 2);\r\n    \t\t\trecord.put(&quot;PhoneNumber&quot;, &quot;555-555-5552&quot;);\r\n    \t\t\trecord.put(&quot;ZipCode&quot;, 99999);\r\n    \t\t\trecord.put(&quot;isAlive&quot;, false);\r\n    \t\t\trecords.add(record);\r\n    \r\n    \t\t\tParquetAvroHandler handler = new ParquetAvroHandler();\r\n    \t\t\thandler.write(records, OUTPUT_PATH);\r\n    \t\t\thandler.read(OUTPUT_PATH);\r\n    \t    }\r\n    \t    catch (Exception e)\r\n    \t    {\r\n    \t        LOGGER.error(e.getMessage());\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n**The Avro schema:** *schema.avsc*\r\n\r\n    {\r\n       &quot;namespace&quot;: &quot;example.avro&quot;,\r\n       &quot;type&quot;: &quot;record&quot;,\r\n       &quot;name&quot;: &quot;org.apache.avro.file.Header&quot;,\r\n       &quot;fields&quot;:\r\n       [\r\n          {&quot;name&quot;: &quot;Name&quot;, &quot;type&quot;: &quot;string&quot;},\r\n          {&quot;name&quot;: &quot;Id&quot;,  &quot;type&quot;: [&quot;int&quot;, &quot;null&quot;]},\r\n          {&quot;name&quot;: &quot;PhoneNumber&quot;, &quot;type&quot;: [&quot;string&quot;, &quot;null&quot;]},\r\n          {&quot;name&quot;: &quot;ZipCode&quot;, &quot;type&quot;: [&quot;int&quot;, &quot;null&quot;]},\r\n          {&quot;name&quot;: &quot;isAlive&quot;, &quot;type&quot;: &quot;boolean&quot;}\r\n       ] \r\n     }\r\n\r\n**The POM file:** *pom.xml*\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;parquet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.10.0&lt;/version&gt;\r\n    \t&lt;name&gt;Sample Name&lt;/name&gt;\r\n    \t&lt;description&gt;Sample Description&lt;/description&gt;    \r\n        \r\n        &lt;dependencies&gt;\r\n        \t&lt;!-- Generic  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        \r\n    \t    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t    \r\n            &lt;!-- Avro &amp; Hadoop  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;!-- Parquet  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-column&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-encoding&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-format&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\t\t\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;parquet-hadoop&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.0&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t\t\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n**The Log configuration:** *log4j.properties*\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, file, console\r\n    \r\n    # Direct log messages to a log file\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File=\\systemlog.log\r\n    log4j.appender.file.MaxFileSize=10MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n     \r\n    # Direct log messages to console\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.Target=System.out\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-avro/src/main/java/org/apache/parquet/avro/AvroParquetReader.java\r\n  [2]: https://github.com/apache/parquet-mr/blob/master/parquet-avro/src/main/java/org/apache/parquet/avro/AvroParquetWriter.java\r\n  [3]: https://stackoverflow.com/questions/39728854/create-parquet-files-in-java","title":"Issue while writing a parquet file","body":"<p>I'd recommend you to not use outdated constructors. In fact, they are deprecated for a reason. Instead, try <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-avro/src/main/java/org/apache/parquet/avro/AvroParquetReader.java\" rel=\"nofollow noreferrer\"><code>AvroParquetReader</code></a> and <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-avro/src/main/java/org/apache/parquet/avro/AvroParquetWriter.java\" rel=\"nofollow noreferrer\"><code>AvroParquetWriter</code></a> classes. For the detailed explanation please refer to <a href=\"https://stackoverflow.com/questions/39728854/create-parquet-files-in-java\">this</a> thread. Meanwhile, let me suggest you the following solution:</p>\n\n<p><strong>The Java code:</strong> <em>ParquetAvroHandler.java</em></p>\n\n<pre><code>package com.parquet.avro;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.avro.AvroParquetReader;\nimport org.apache.parquet.avro.AvroParquetWriter;\nimport org.apache.parquet.hadoop.ParquetFileWriter;\nimport org.apache.parquet.hadoop.ParquetReader;\nimport org.apache.parquet.hadoop.ParquetWriter;\nimport org.apache.parquet.hadoop.metadata.CompressionCodecName;\nimport org.apache.parquet.hadoop.util.HadoopInputFile;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class ParquetAvroHandler\n{\n    private static final Schema SCHEMA; \n    private static final String SCHEMA_PATH = \"path/to/your/schema.avsc\";\n    private static final Path OUTPUT_PATH = new Path(\"result.parquet\");\n    private static final Logger LOGGER = LoggerFactory.getLogger(ParquetAvroHandler.class);\n\n    static\n    {\n        try (InputStream inStream = ParquetAvroHandler.class.getResourceAsStream(SCHEMA_PATH))\n        {\n            SCHEMA = new Schema.Parser().parse(IOUtils.toString(inStream, \"UTF-8\"));\n        }\n        catch (Exception e)\n        {\n            LOGGER.error(\"Can't read SCHEMA file from {}\", SCHEMA_PATH);\n            LOGGER.error(e.getLocalizedMessage());\n            throw new RuntimeException(\"Can't read SCHEMA file from \" + SCHEMA_PATH, e);\n        }\n    }\n\n    /**\n     * Reads an existing Apache Avro-based Parquet file from the\n     * specified location and prints it into the system console\n     * \n     * @param filePath path to the input file\n     * @throws IOException\n     **/\n    public void read(Path filePath) throws IOException\n    {\n        Configuration configuration = new Configuration();\n        HadoopInputFile inputFile = HadoopInputFile.fromPath(filePath, configuration);\n\n        try (ParquetReader&lt;GenericData.Record&gt; reader = AvroParquetReader\n                .&lt;GenericData.Record&gt;builder(inputFile)\n                .withConf(configuration)\n                .build())\n        {\n            GenericData.Record record;\n            while ((record = reader.read()) != null)\n            {\n                System.out.println(record);\n            }\n        }\n    }\n\n    /**\n     * Creates a new Apache Avro-based Parquet file or overwrites the existing one\n     *  \n     * @param records set of records to write to the file\n     * @param filePath path to the output file\n     * @throws IOException\n     **/\n    public void write(List&lt;GenericData.Record&gt; records, Path filePath) throws IOException\n    {\n        try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter\n                .&lt;GenericData.Record&gt;builder(filePath)\n                .withSchema(SCHEMA)\n                .withConf(new Configuration())\n                .withCompressionCodec(CompressionCodecName.SNAPPY)\n                .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\n                .build())\n        {\n\n            for (GenericData.Record record : records)\n            {\n                writer.write(record);\n            }\n        }\n    }\n\n    public static void main(String[] args) //throws IOException\n    {\n        try\n        {\n            GenericData.Record record = new GenericData.Record(SCHEMA);\n\n            record.put(\"Name\", \"John\");\n            record.put(\"Id\", 1);\n            record.put(\"PhoneNumber\", \"555-555-5551\");\n            record.put(\"ZipCode\", 88888);\n            record.put(\"isAlive\", true);\n            records.add(record);\n\n            record = new GenericData.Record(SCHEMA);\n            record.put(\"Name\", \"Jane\");\n            record.put(\"Id\", 2);\n            record.put(\"PhoneNumber\", \"555-555-5552\");\n            record.put(\"ZipCode\", 99999);\n            record.put(\"isAlive\", false);\n            records.add(record);\n\n            ParquetAvroHandler handler = new ParquetAvroHandler();\n            handler.write(records, OUTPUT_PATH);\n            handler.read(OUTPUT_PATH);\n        }\n        catch (Exception e)\n        {\n            LOGGER.error(e.getMessage());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>The Avro schema:</strong> <em>schema.avsc</em></p>\n\n<pre><code>{\n   \"namespace\": \"example.avro\",\n   \"type\": \"record\",\n   \"name\": \"org.apache.avro.file.Header\",\n   \"fields\":\n   [\n      {\"name\": \"Name\", \"type\": \"string\"},\n      {\"name\": \"Id\",  \"type\": [\"int\", \"null\"]},\n      {\"name\": \"PhoneNumber\", \"type\": [\"string\", \"null\"]},\n      {\"name\": \"ZipCode\", \"type\": [\"int\", \"null\"]},\n      {\"name\": \"isAlive\", \"type\": \"boolean\"}\n   ] \n }\n</code></pre>\n\n<p><strong>The POM file:</strong> <em>pom.xml</em></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n    &lt;artifactId&gt;parquet&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n    &lt;name&gt;Sample Name&lt;/name&gt;\n    &lt;description&gt;Sample Description&lt;/description&gt;    \n\n    &lt;dependencies&gt;\n        &lt;!-- Generic  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Avro &amp; Hadoop  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Parquet  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-avro&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-column&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-common&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-encoding&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-format&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.parquet&lt;/groupId&gt;\n            &lt;artifactId&gt;parquet-hadoop&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>The Log configuration:</strong> <em>log4j.properties</em></p>\n\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, file, console\n\n# Direct log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File=\\systemlog.log\nlog4j.appender.file.MaxFileSize=10MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Direct log messages to console\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target=System.out\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"}],"owner":{"account_id":1648653,"reputation":25,"user_id":1519650,"display_name":"chaitanya ekre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4986,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54135062,"answer_count":1,"score":1,"last_activity_date":1653479229,"creation_date":1535370865,"question_id":52038776,"body_markdown":"I am trying to write a parquet file using avro schema. But always getting this issue.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: DEFAULT_WRITER_VERSION\r\n\tat org.apache.parquet.hadoop.ParquetWriter.&lt;clinit&gt;(ParquetWriter.java:46)\r\n\tat com.ice.practice.AvroToParquet.main(AvroToParquet.java:52)\r\n\r\nMy sample program is as follows: I have created a avro schema then coverted it to parquet schema and then with the help of parquewriter i am trying to consume the GenericRecords.\r\n\r\n   \r\n\r\n     import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericData;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.generic.GenericRecordBuilder;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.parquet.schema.MessageType;\r\n    \r\n    import org.apache.parquet.avro.*;\r\n    import org.apache.parquet.hadoop.ParquetWriter;\r\n    import org.apache.parquet.hadoop.metadata.CompressionCodecName;\r\n    \r\n    public class AvroToParquet {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tSchema aSchema = new Schema.Parser().parse(new File(&quot;d:\\\\emp.avsc&quot;));\r\n    \t\t\r\n    \t\tList&lt;GenericData.Record&gt; SourceRecords = new ArrayList&lt;&gt;();\r\n    \t\tint NoOfRecords = 10;\r\n    \t\tint NoOfColumns = 3;\r\n    \t\tfor(int i=0;i&lt;NoOfRecords;i++)\r\n    \t\t{\r\n    \t\t\tGenericData.Record recordHolder = new GenericData.Record(aSchema);\r\n    \t\t\trecordHolder.put(&quot;name&quot;, &quot;emp&quot;+i);\r\n    \t\t\trecordHolder.put(&quot;salary&quot;, (10000+(i*1000))+&quot;&quot;);\r\n    \t\t\trecordHolder.put(&quot;dept&quot;, &quot;java&quot;+i);\r\n    \t\t\tSourceRecords.add(recordHolder);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tMessageType pSchema = new AvroSchemaConverter().convert(aSchema);\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t\tAvroWriteSupport&lt;GenericRecord&gt; wSupport = new AvroWriteSupport&lt;&gt;(pSchema, aSchema);\r\n    \t\tCompressionCodecName cCodeName = CompressionCodecName.SNAPPY;\r\n    \t\t\r\n    \t\tint blockSize = 256 * 1024 * 1024;\r\n    \t\tint pageSize = 64 * 1024;\r\n    \t\t\r\n    \t\tPath outputPath = new Path(&quot;d:\\\\emp.parquet&quot;);\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t\tParquetWriter&lt;GenericRecord&gt; pWriter = new ParquetWriter&lt;GenericRecord&gt;(outputPath,wSupport,cCodeName,blockSize,pageSize) {\r\n    \t\t};\r\n    \t\tfor(GenericRecord record : SourceRecords)\r\n    \t\t{\r\n    \t\t\tpWriter.write(record);\r\n    \t\t}\r\n    \t\tpWriter.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\navro schema:\r\n\r\n\r\n\r\n    &quot;type&quot;:&quot;record&quot;,\r\n    &quot;name&quot;:&quot;employee&quot;,\r\n    &quot;namespace&quot;:&quot;ice.report&quot;,\r\n    &quot;fields&quot;:[\r\n        {\r\n            &quot;name&quot;:&quot;name&quot;,\r\n            &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;:&quot;salary&quot;,\r\n            &quot;type&quot;:&quot;string&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;:&quot;dept&quot;,\r\n            &quot;type&quot;:&quot;string&quot;\r\n        }\r\n\r\n    ]\r\n}\r\n\r\n\r\nPlease let me know how to get around this problem.","title":"Issue while writing a parquet file","body":"<p>I am trying to write a parquet file using avro schema. But always getting this issue.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: DEFAULT_WRITER_VERSION\nat org.apache.parquet.hadoop.ParquetWriter.&lt;clinit&gt;(ParquetWriter.java:46)\nat com.ice.practice.AvroToParquet.main(AvroToParquet.java:52)\n</code></pre>\n\n<p>My sample program is as follows: I have created a avro schema then coverted it to parquet schema and then with the help of parquewriter i am trying to consume the GenericRecords.</p>\n\n<pre><code> import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.generic.GenericRecordBuilder;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.schema.MessageType;\n\nimport org.apache.parquet.avro.*;\nimport org.apache.parquet.hadoop.ParquetWriter;\nimport org.apache.parquet.hadoop.metadata.CompressionCodecName;\n\npublic class AvroToParquet {\n\n    public static void main(String[] args) throws IOException {\n\n        Schema aSchema = new Schema.Parser().parse(new File(\"d:\\\\emp.avsc\"));\n\n        List&lt;GenericData.Record&gt; SourceRecords = new ArrayList&lt;&gt;();\n        int NoOfRecords = 10;\n        int NoOfColumns = 3;\n        for(int i=0;i&lt;NoOfRecords;i++)\n        {\n            GenericData.Record recordHolder = new GenericData.Record(aSchema);\n            recordHolder.put(\"name\", \"emp\"+i);\n            recordHolder.put(\"salary\", (10000+(i*1000))+\"\");\n            recordHolder.put(\"dept\", \"java\"+i);\n            SourceRecords.add(recordHolder);\n        }\n\n\n\n        MessageType pSchema = new AvroSchemaConverter().convert(aSchema);\n\n        @SuppressWarnings(\"deprecation\")\n        AvroWriteSupport&lt;GenericRecord&gt; wSupport = new AvroWriteSupport&lt;&gt;(pSchema, aSchema);\n        CompressionCodecName cCodeName = CompressionCodecName.SNAPPY;\n\n        int blockSize = 256 * 1024 * 1024;\n        int pageSize = 64 * 1024;\n\n        Path outputPath = new Path(\"d:\\\\emp.parquet\");\n\n        @SuppressWarnings(\"deprecation\")\n        ParquetWriter&lt;GenericRecord&gt; pWriter = new ParquetWriter&lt;GenericRecord&gt;(outputPath,wSupport,cCodeName,blockSize,pageSize) {\n        };\n        for(GenericRecord record : SourceRecords)\n        {\n            pWriter.write(record);\n        }\n        pWriter.close();\n    }\n\n}\n</code></pre>\n\n<p>avro schema:</p>\n\n<pre><code>\"type\":\"record\",\n\"name\":\"employee\",\n\"namespace\":\"ice.report\",\n\"fields\":[\n    {\n        \"name\":\"name\",\n        \"type\":\"string\"\n    },\n    {\n        \"name\":\"salary\",\n        \"type\":\"string\"\n    },\n    {\n        \"name\":\"dept\",\n        \"type\":\"string\"\n    }\n\n]\n</code></pre>\n\n<p>}</p>\n\n<p>Please let me know how to get around this problem.</p>\n"},{"tags":["javascript","java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":12870578,"reputation":489,"user_id":9309181,"display_name":"Aymen Ben Salah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653427822,"creation_date":1653427822,"answer_id":72369689,"question_id":72367676,"body_markdown":"I think you must change the signature like this :\r\n\r\n`webView.evaluateJavascript(&quot;(function() {&quot; + command + &quot;; })();&quot;, (ValueCallback&lt;String[]&gt;)  new ValueCallback&lt;String[]&gt;() {}`\r\n","title":"Android webview, evaluateJavascript and get values as Array","body":"<p>I think you must change the signature like this :</p>\n<p><code>webView.evaluateJavascript(&quot;(function() {&quot; + command + &quot;; })();&quot;, (ValueCallback&lt;String[]&gt;)  new ValueCallback&lt;String[]&gt;() {}</code></p>\n"}],"owner":{"account_id":23823567,"reputation":78,"user_id":17830949,"display_name":"zeo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653479205,"creation_date":1653416269,"question_id":72367676,"body_markdown":"I am trying to get javascript results using webView.evaluateJavascript method. I can get the return value as type of string. When i changed the variable type from String to String[], it automatically generates this line of code\r\n\r\n&gt;   (ValueCallback&lt;String&gt;)  new ValueCallback&lt;String[]&gt;().\r\n\r\n       public void getDataFromJs(String command, WebView webView) {\r\n\r\n\r\n        webView.evaluateJavascript(&quot;(function() {&quot; + command + &quot;; })();&quot;, (ValueCallback&lt;String&gt;)  new ValueCallback&lt;String[]&gt;() {\r\n            @Override\r\n            public void onReceiveValue(String[] s) {\r\n\r\n                MyList=s.clone();\r\n                \r\n            }\r\n\r\n        });\r\n\r\n&gt; error: incompatible types: &lt;anonymous ValueCallback&lt;String[]&gt;&gt; cannot be converted to ValueCallback&lt;String&gt;\r\n\r\n","title":"Android webview, evaluateJavascript and get values as Array","body":"<p>I am trying to get javascript results using webView.evaluateJavascript method. I can get the return value as type of string. When i changed the variable type from String to String[], it automatically generates this line of code</p>\n<blockquote>\n<p>(ValueCallback)  new ValueCallback&lt;String[]&gt;().</p>\n</blockquote>\n<pre><code>   public void getDataFromJs(String command, WebView webView) {\n\n\n    webView.evaluateJavascript(&quot;(function() {&quot; + command + &quot;; })();&quot;, (ValueCallback&lt;String&gt;)  new ValueCallback&lt;String[]&gt;() {\n        @Override\n        public void onReceiveValue(String[] s) {\n\n            MyList=s.clone();\n            \n        }\n\n    });\n</code></pre>\n<blockquote>\n<p>error: incompatible types: &lt;anonymous ValueCallback&lt;String[]&gt;&gt; cannot be converted to ValueCallback</p>\n</blockquote>\n"},{"tags":["java","pdfbox","alpine-linux"],"answers":[{"tags":[],"owner":{"account_id":235917,"reputation":1060,"user_id":503060,"accept_rate":82,"display_name":"Hedley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653479095,"creation_date":1653479095,"answer_id":72377018,"question_id":72377017,"body_markdown":"The root cause was that the default JRE for Alpine is a &quot;headless&quot; distribution that does not include graphics libraries such as the lcms library. To fix the issue we updated our docker build instructions to install the non headless version:\r\n\r\n    ENV JAVA_VERSION 17.0.3_p7-r2\r\n    # use full version of JRE!    \r\n    RUN apk add --no-cache curl openjdk17-jre\r\n\r\nIf you want to see the differences between the openjdk17-jre and open-jdk17-headless, you can do so at:\r\n\r\n    https://pkgs.alpinelinux.org/packages\r\n\r\nNote that the &quot;non headless&quot; package is additional. i.e. the base JRE package is installed first, then the non headless package simply adds the graphics libraries.","title":"UnsatisfiedLinkError: no lcms in system library path: /usr/lib/jvm/java-17-openjdk/lib","body":"<p>The root cause was that the default JRE for Alpine is a &quot;headless&quot; distribution that does not include graphics libraries such as the lcms library. To fix the issue we updated our docker build instructions to install the non headless version:</p>\n<pre><code>ENV JAVA_VERSION 17.0.3_p7-r2\n# use full version of JRE!    \nRUN apk add --no-cache curl openjdk17-jre\n</code></pre>\n<p>If you want to see the differences between the openjdk17-jre and open-jdk17-headless, you can do so at:</p>\n<pre><code>https://pkgs.alpinelinux.org/packages\n</code></pre>\n<p>Note that the &quot;non headless&quot; package is additional. i.e. the base JRE package is installed first, then the non headless package simply adds the graphics libraries.</p>\n"}],"owner":{"account_id":235917,"reputation":1060,"user_id":503060,"accept_rate":82,"display_name":"Hedley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653479095,"creation_date":1653479095,"question_id":72377017,"body_markdown":"We are using Apache pdfbox. After switching from Java 8 on RedHat Linux, to Java 11 or Java 17 on Alpine linux, we get the following error:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class \r\n    org.apache.pdfbox.pdmodel.PDDocument at \r\n    com.openhtmltopdf.pdfboxout.PdfBoxRenderer.&lt;init&gt;(PdfBoxRenderer.java:118) at\r\n    com.openhtmltopdf.pdfboxout.PdfRendererBuilder.buildPdfRenderer(PdfRendererBuilder \r\n    com.openhtmltopdf.pdfboxout.PdfRendererBuilder.run(PdfRendererBuilder.java:35) at\r\n\r\nThe root error is:\r\n\r\n    UnsatisfiedLinkError: no lcms in system library path: /usr/lib/jvm/java-17-openjdk/lib","title":"UnsatisfiedLinkError: no lcms in system library path: /usr/lib/jvm/java-17-openjdk/lib","body":"<p>We are using Apache pdfbox. After switching from Java 8 on RedHat Linux, to Java 11 or Java 17 on Alpine linux, we get the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class \norg.apache.pdfbox.pdmodel.PDDocument at \ncom.openhtmltopdf.pdfboxout.PdfBoxRenderer.&lt;init&gt;(PdfBoxRenderer.java:118) at\ncom.openhtmltopdf.pdfboxout.PdfRendererBuilder.buildPdfRenderer(PdfRendererBuilder \ncom.openhtmltopdf.pdfboxout.PdfRendererBuilder.run(PdfRendererBuilder.java:35) at\n</code></pre>\n<p>The root error is:</p>\n<pre><code>UnsatisfiedLinkError: no lcms in system library path: /usr/lib/jvm/java-17-openjdk/lib\n</code></pre>\n"},{"tags":["java","arraylist","compare"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653476674,"post_id":72375718,"comment_id":127860326,"body_markdown":"Do you only want to remove if elements are occurring continuously e.g. index 1 &amp; 2? Or in every case, e.g. index 1 &amp; 3, but not in index 2?","body":"Do you only want to remove if elements are occurring continuously e.g. index 1 &amp; 2? Or in every case, e.g. index 1 &amp; 3, but not in index 2?"},{"owner":{"account_id":23977072,"reputation":45,"user_id":17965025,"display_name":"Matt"},"score":0,"creation_date":1653478648,"post_id":72375718,"comment_id":127861042,"body_markdown":"In every case so a serial must only occur once throughout.","body":"In every case so a serial must only occur once throughout."}],"answers":[{"tags":[],"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653477188,"creation_date":1653477188,"answer_id":72376581,"question_id":72375718,"body_markdown":"You can try the below:\r\n\r\n    private static List&lt;ResourcesList&gt; removeDuplicateSerials(List&lt;ResourcesList&gt; resourcesList) {\r\n\r\n\t\tArrayList&lt;ResourcesList&gt; noduplicates = new ArrayList&lt;ResourcesList&gt;();\r\n\t\tList&lt;String&gt; mListString = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; resourcesList.size(); i++) {\r\n\t\t\tList&lt;String&gt; serials = Arrays.asList(resourcesList.get(i).getSerials().split(&quot;\\\\s*,\\\\s*&quot;)).stream()\r\n\t\t\t\t\t.distinct()\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\tResourcesList resourceslist = new ResourcesList();\r\n\t\t\tif (i == 0) {\r\n\t\t\t\tresourceslist.setCount(serials.size());\r\n\t\t\t\tresourceslist.setSerials(String.join(&quot;,&quot;, serials));\r\n\t\t\t\tnoduplicates.add(resourceslist);\r\n\t\t\t\tmListString.addAll(serials);\r\n\t\t\t} else {\r\n\t\t\t\tserials.removeAll(mListString);\r\n\t\t\t\tresourceslist.setCount(serials.size());\r\n\t\t\t\tresourceslist.setSerials(String.join(&quot;,&quot;, serials));\r\n\t\t\t\tnoduplicates.add(resourceslist);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn noduplicates;\r\n\t}","title":"How to compare elements of an ArrayList and remove it if it exists in the previous element - Java","body":"<p>You can try the below:</p>\n<pre><code>private static List&lt;ResourcesList&gt; removeDuplicateSerials(List&lt;ResourcesList&gt; resourcesList) {\n\n    ArrayList&lt;ResourcesList&gt; noduplicates = new ArrayList&lt;ResourcesList&gt;();\n    List&lt;String&gt; mListString = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; resourcesList.size(); i++) {\n        List&lt;String&gt; serials = Arrays.asList(resourcesList.get(i).getSerials().split(&quot;\\\\s*,\\\\s*&quot;)).stream()\n                .distinct()\n                .collect(Collectors.toList());\n        ResourcesList resourceslist = new ResourcesList();\n        if (i == 0) {\n            resourceslist.setCount(serials.size());\n            resourceslist.setSerials(String.join(&quot;,&quot;, serials));\n            noduplicates.add(resourceslist);\n            mListString.addAll(serials);\n        } else {\n            serials.removeAll(mListString);\n            resourceslist.setCount(serials.size());\n            resourceslist.setSerials(String.join(&quot;,&quot;, serials));\n            noduplicates.add(resourceslist);\n        }\n    }\n\n    return noduplicates;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653478918,"creation_date":1653478918,"answer_id":72376984,"question_id":72375718,"body_markdown":"A stream based approach which doesn&#39;t care if the data is continuous:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;ResourcesList&gt; resourceList = new ArrayList&lt;ResourcesList&gt;();\r\n\t\tresourceList.add(new ResourcesList(null, &quot;25168,36587,12505,14568,&quot;));\r\n\t\tresourceList.add(new ResourcesList(null, &quot;20514,98610,12505,368970,&quot;));\r\n\t\tresourceList.add(new ResourcesList(null, &quot;689105,85015,12505,68970,&quot;));\r\n\r\n\t\tList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\t\tCollections.reverse(resourceList); // reverse list to start from behind\r\n\t\tList&lt;ResourcesList&gt; collect = resourceList.stream()\r\n\t\t\t\t.collect(ArrayList&lt;ResourcesList&gt;::new, (x, y) -&gt; {\r\n\t\t\t\t\ty.serials = Stream.of(y.serials.split(&quot;,&quot;))\r\n\t\t\t\t\t\t\t.filter(e -&gt; e != null &amp;&amp; !data.contains(e))\r\n\t\t\t\t\t\t\t.collect(Collectors.joining(&quot;,&quot;)); //remove items we already encountered\r\n\t\t\t\t\tx.add(y);\r\n\t\t\t\t\tdata.addAll(Arrays.asList(y.serials.split(&quot;,&quot;))); //save items we already encountered\r\n\t\t\t\t}, (x, y) -&gt; x.addAll(y));\r\n\t\tCollections.reverse(collect); //reverse back to original order\r\n\t\tSystem.out.println(collect);\r\n\t}\r\n\r\n`ResourcesList` class for reference:\r\n\r\n    class ResourcesList {\r\n    \tObject category;\r\n    \tString serials;\r\n    \r\n    \tpublic ResourcesList(Object category, String serials) {\r\n    \t\tthis.category = category;\r\n    \t\tthis.serials = serials;\r\n    \r\n    \t}\r\n    }","title":"How to compare elements of an ArrayList and remove it if it exists in the previous element - Java","body":"<p>A stream based approach which doesn't care if the data is continuous:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ResourcesList&gt; resourceList = new ArrayList&lt;ResourcesList&gt;();\n    resourceList.add(new ResourcesList(null, &quot;25168,36587,12505,14568,&quot;));\n    resourceList.add(new ResourcesList(null, &quot;20514,98610,12505,368970,&quot;));\n    resourceList.add(new ResourcesList(null, &quot;689105,85015,12505,68970,&quot;));\n\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\n    Collections.reverse(resourceList); // reverse list to start from behind\n    List&lt;ResourcesList&gt; collect = resourceList.stream()\n            .collect(ArrayList&lt;ResourcesList&gt;::new, (x, y) -&gt; {\n                y.serials = Stream.of(y.serials.split(&quot;,&quot;))\n                        .filter(e -&gt; e != null &amp;&amp; !data.contains(e))\n                        .collect(Collectors.joining(&quot;,&quot;)); //remove items we already encountered\n                x.add(y);\n                data.addAll(Arrays.asList(y.serials.split(&quot;,&quot;))); //save items we already encountered\n            }, (x, y) -&gt; x.addAll(y));\n    Collections.reverse(collect); //reverse back to original order\n    System.out.println(collect);\n}\n</code></pre>\n<p><code>ResourcesList</code> class for reference:</p>\n<pre><code>class ResourcesList {\n    Object category;\n    String serials;\n\n    public ResourcesList(Object category, String serials) {\n        this.category = category;\n        this.serials = serials;\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23977072,"reputation":45,"user_id":17965025,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72376984,"answer_count":2,"score":0,"last_activity_date":1653478918,"creation_date":1653473596,"question_id":72375718,"body_markdown":"I have an arraylist that has multiple indexes and multiple elements within each index. I currently have a function that distincts the values in each element, however I would like to know how I can check each element to see if it exists in the other indexes of the arrayList and remove it.\r\n\r\nSo for exmaple each Serials index does not contain any duplicates but I would like to checkand remove &quot;12505&quot; from index 1 and 2 as it is being repeated.\r\n\r\n\r\nArrayList structure e.g\r\n``` \r\nResourcesList = ArrayList&lt;E&gt;\r\n[0]ResourcesList\r\n-Category = null\r\n-Serials  = &quot;25168,36587,12505,14568,&quot;\r\n[1]ResourcesList\r\n-Category = null\r\n-Serials  = &quot;20514,98610,368970,12505,&quot;\r\n[2]ResourcesList\r\n-Category = null\r\n-Serials  = &quot;689105,85015,12505,68970,&quot; ```\r\n\r\n\r\n```\t\r\n    private List&lt;ResourcesList &gt; removeDuplicateSerials(List&lt;ResourcesList &gt; resourceslist ){\r\n\t\t\r\n\t\tArrayList&lt;ResourcesList &gt; noduplicates = new ArrayList&lt;ResourcesList &gt;();\r\n\t\r\n\t\t\r\n\t\tfor(ResourcesList resourceslist : resourceslist ){\r\n\t\t\tList&lt;String&gt; serials = Arrays.asList(resourceslist.getSerial().split(&quot;\\\\s*,\\\\s*&quot;)).stream() \r\n                    .distinct() \r\n                    .collect(Collectors.toList());\r\n\t\t\tresourceslist .setCount(serials.size());\r\n\t\t\tresourceslist .Setserials(String.join(&quot;,&quot;, serials));\r\n\t\t\tnoduplicates.add(resourceslist );\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn noduplicates;\r\n\t}\r\n","title":"How to compare elements of an ArrayList and remove it if it exists in the previous element - Java","body":"<p>I have an arraylist that has multiple indexes and multiple elements within each index. I currently have a function that distincts the values in each element, however I would like to know how I can check each element to see if it exists in the other indexes of the arrayList and remove it.</p>\n<p>So for exmaple each Serials index does not contain any duplicates but I would like to checkand remove &quot;12505&quot; from index 1 and 2 as it is being repeated.</p>\n<p>ArrayList structure e.g</p>\n<pre><code>ResourcesList = ArrayList&lt;E&gt;\n[0]ResourcesList\n-Category = null\n-Serials  = &quot;25168,36587,12505,14568,&quot;\n[1]ResourcesList\n-Category = null\n-Serials  = &quot;20514,98610,368970,12505,&quot;\n[2]ResourcesList\n-Category = null\n-Serials  = &quot;689105,85015,12505,68970,&quot; ```\n\n\n</code></pre>\n<pre><code>private List&lt;ResourcesList &gt; removeDuplicateSerials(List&lt;ResourcesList &gt; resourceslist ){\n    \n    ArrayList&lt;ResourcesList &gt; noduplicates = new ArrayList&lt;ResourcesList &gt;();\n\n    \n    for(ResourcesList resourceslist : resourceslist ){\n        List&lt;String&gt; serials = Arrays.asList(resourceslist.getSerial().split(&quot;\\\\s*,\\\\s*&quot;)).stream() \n                .distinct() \n                .collect(Collectors.toList());\n        resourceslist .setCount(serials.size());\n        resourceslist .Setserials(String.join(&quot;,&quot;, serials));\n        noduplicates.add(resourceslist );\n    }\n    \n    \n    \n    return noduplicates;\n}\n</code></pre>\n"},{"tags":["java","simd","avx"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1419672117,"post_id":27665909,"comment_id":43746903,"body_markdown":"What exactly are you trying to achieve? Can you clarify your question?","body":"What exactly are you trying to achieve? Can you clarify your question?"},{"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"score":0,"creation_date":1419674647,"post_id":27665909,"comment_id":43747358,"body_markdown":"I want to perform bitwise AND and XOR computations using the AVX rather than Java int arrays.","body":"I want to perform bitwise AND and XOR computations using the AVX rather than Java int arrays."},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1425006543,"post_id":27665909,"comment_id":45794600,"body_markdown":"Possible duplicate: http://stackoverflow.com/q/10784951/523744","body":"Possible duplicate: <a href=\"http://stackoverflow.com/q/10784951/523744\">stackoverflow.com/q/10784951/523744</a>"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1605780080,"post_id":27665909,"comment_id":114758934,"body_markdown":"A related keyword is SIMD","body":"A related keyword is SIMD"}],"answers":[{"tags":[],"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1571495395,"creation_date":1419674632,"answer_id":27666194,"question_id":27665909,"body_markdown":"As I know, most current Java JVM JITters don&#39;t support automatic vectorization or just do that for very simple loops, so you&#39;re out of luck.\n\nIn Mono&#39;s .NET implementation there&#39;s `Mono.Simd` for manual vector code emission and then later MS introduced the `System.Numeric.Vectors`. Unfortunately there&#39;s nothing similar in Java. I don&#39;t know if Java&#39;s vector class is vectorized using SIMD or not but I don&#39;t think it is.\n\nIf you want to use CPU-specific features like AVX then your only choice is JNI. Write your bottle neck part in C or C++ and call it from Java\n\nThere&#39;s another solution by Scala to use vectorized code without modifying the JVM that you can read in [How we made the JVM 40x faster][3]\n\n---\n\n# Update:\n\nNow there&#39;s a new Vector API being developed for writing vector code manually\n\n&gt; Provide an initial iteration of an incubator module, jdk.incubator.vector, to express vector computations that reliably compile at runtime to optimal vector hardware instructions on supported CPU architectures and thus achieve superior performance to equivalent scalar computations.\n&gt;\n&gt; https://openjdk.java.net/jeps/338\n\n- [Vector API Developer Program for Java* Software][1]\n- [Oracle and Intel seek to build a Java API for SIMD support][2]\n\n---\n\nRead more:\n\n- https://stackoverflow.com/q/10784951/995714\n- https://stackoverflow.com/q/25092992/995714\n- [What is the state of auto-vectorization in OpenJDK?](https://stackoverflow.com/q/16798687/995714)\n- [Vectorized Algorithms in Java][4]\n\n\n  [1]: https://software.intel.com/en-us/articles/vector-api-developer-program-for-java\n  [2]: https://www.infoworld.com/article/3297748/oracle-and-intel-seek-to-build-a-java-api-for-simd-support.html\n  [3]: https://astojanov.github.io/blog/2017/12/20/scala-simd.html\n  [4]: https://dzone.com/articles/vectorised-algorithms-in-java","title":"How to use the Intel AVX in Java?","body":"<p>As I know, most current Java JVM JITters don't support automatic vectorization or just do that for very simple loops, so you're out of luck.</p>\n<p>In Mono's .NET implementation there's <code>Mono.Simd</code> for manual vector code emission and then later MS introduced the <code>System.Numeric.Vectors</code>. Unfortunately there's nothing similar in Java. I don't know if Java's vector class is vectorized using SIMD or not but I don't think it is.</p>\n<p>If you want to use CPU-specific features like AVX then your only choice is JNI. Write your bottle neck part in C or C++ and call it from Java</p>\n<p>There's another solution by Scala to use vectorized code without modifying the JVM that you can read in <a href=\"https://astojanov.github.io/blog/2017/12/20/scala-simd.html\" rel=\"noreferrer\">How we made the JVM 40x faster</a></p>\n<hr />\n<h1>Update:</h1>\n<p>Now there's a new Vector API being developed for writing vector code manually</p>\n<blockquote>\n<p>Provide an initial iteration of an incubator module, jdk.incubator.vector, to express vector computations that reliably compile at runtime to optimal vector hardware instructions on supported CPU architectures and thus achieve superior performance to equivalent scalar computations.</p>\n<p><a href=\"https://openjdk.java.net/jeps/338\" rel=\"noreferrer\">https://openjdk.java.net/jeps/338</a></p>\n</blockquote>\n<ul>\n<li><a href=\"https://software.intel.com/en-us/articles/vector-api-developer-program-for-java\" rel=\"noreferrer\">Vector API Developer Program for Java* Software</a></li>\n<li><a href=\"https://www.infoworld.com/article/3297748/oracle-and-intel-seek-to-build-a-java-api-for-simd-support.html\" rel=\"noreferrer\">Oracle and Intel seek to build a Java API for SIMD support</a></li>\n</ul>\n<hr />\n<p>Read more:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/10784951/995714\">Do any JVM&#39;s JIT compilers generate code that uses vectorized floating point instructions?</a></li>\n<li><a href=\"https://stackoverflow.com/q/25092992/995714\">SIMD Vectors/Matrices in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/q/16798687/995714\">What is the state of auto-vectorization in OpenJDK?</a></li>\n<li><a href=\"https://dzone.com/articles/vectorised-algorithms-in-java\" rel=\"noreferrer\">Vectorized Algorithms in Java</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419675350,"creation_date":1419675350,"answer_id":27666273,"question_id":27665909,"body_markdown":"To use these operations from Java you need a library like [JavaCV][1]  This library enables vector operations for both Intel Processors and GPUs like NVIDIA.\r\n\r\n\r\n  [1]: https://github.com/bytedeco/javacv","title":"How to use the Intel AVX in Java?","body":"<p>To use these operations from Java you need a library like <a href=\"https://github.com/bytedeco/javacv\" rel=\"nofollow\">JavaCV</a>  This library enables vector operations for both Intel Processors and GPUs like NVIDIA.</p>\n"},{"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424294551,"creation_date":1424294551,"answer_id":28594180,"question_id":27665909,"body_markdown":"One option is to use [Aparapi](http://code.google.com/p/aparapi/) and install the Intel OpenCL driver. (Your code will be vectorized to work on both CPUs and GPUs, as long as an appropriate OpenCL driver is installed.)\r\n\r\nAnother option is to use JNI and call a C++ function that uses AVX intrinsics or was auto-vectorized by a compiler.","title":"How to use the Intel AVX in Java?","body":"<p>One option is to use <a href=\"http://code.google.com/p/aparapi/\" rel=\"nofollow\">Aparapi</a> and install the Intel OpenCL driver. (Your code will be vectorized to work on both CPUs and GPUs, as long as an appropriate OpenCL driver is installed.)</p>\n\n<p>Another option is to use JNI and call a C++ function that uses AVX intrinsics or was auto-vectorized by a compiler.</p>\n"},{"tags":[],"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432983889,"creation_date":1432983889,"answer_id":30545361,"question_id":27665909,"body_markdown":"Check for yeppp library.\r\nIt has java binding and its very fast cross platform SIMD Library.\r\n\r\nhttp://www.yeppp.info","title":"How to use the Intel AVX in Java?","body":"<p>Check for yeppp library.\nIt has java binding and its very fast cross platform SIMD Library.</p>\n\n<p><a href=\"http://www.yeppp.info\" rel=\"nofollow\">http://www.yeppp.info</a></p>\n"},{"tags":[],"owner":{"account_id":106641,"reputation":2427,"user_id":283998,"accept_rate":80,"display_name":"fracca"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560500614,"creation_date":1560500262,"answer_id":56594164,"question_id":27665909,"body_markdown":"Depending on the work, you may not have to do much. AVX2 is used automatically by JVM on some operations on Arrays and String, on  supporting platforms like Haswell onwards and Xeon v3 onwards. \r\n\r\nhttps://software.intel.com/en-us/articles/java-application-performance-improvement-with-intel-xeon-processor-e7-v3\r\n\r\nhttps://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX2\r\n\r\nFrom Ryzen 3 / Epyc Rome, you&#39;ll also have single cycle AVX2 on AMD processors:\r\nhttps://www.anandtech.com/print/14525/amd-zen-2-microarchitecture-analysis-ryzen-3000-and-epyc-rome\r\n\r\n\r\nDirect use of the instructions and intrinsics are not easily available though.\r\n\r\n","title":"How to use the Intel AVX in Java?","body":"<p>Depending on the work, you may not have to do much. AVX2 is used automatically by JVM on some operations on Arrays and String, on  supporting platforms like Haswell onwards and Xeon v3 onwards. </p>\n\n<p><a href=\"https://software.intel.com/en-us/articles/java-application-performance-improvement-with-intel-xeon-processor-e7-v3\" rel=\"nofollow noreferrer\">https://software.intel.com/en-us/articles/java-application-performance-improvement-with-intel-xeon-processor-e7-v3</a></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX2\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX2</a></p>\n\n<p>From Ryzen 3 / Epyc Rome, you'll also have single cycle AVX2 on AMD processors:\n<a href=\"https://www.anandtech.com/print/14525/amd-zen-2-microarchitecture-analysis-ryzen-3000-and-epyc-rome\" rel=\"nofollow noreferrer\">https://www.anandtech.com/print/14525/amd-zen-2-microarchitecture-analysis-ryzen-3000-and-epyc-rome</a></p>\n\n<p>Direct use of the instructions and intrinsics are not easily available though.</p>\n"},{"tags":[],"owner":{"account_id":2042016,"reputation":739,"user_id":1822934,"accept_rate":25,"display_name":"Kadir BASOL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653478789,"creation_date":1653478789,"answer_id":72376961,"question_id":27665909,"body_markdown":"Java 19 now supports SIMD with new Vector Intrinsics API , this API much faster then JNI implementations.\r\nIts directly converting your java method calls to inline assembly instructions.\r\nCheckout : https://vksegfault.github.io/posts/java-simd/","title":"How to use the Intel AVX in Java?","body":"<p>Java 19 now supports SIMD with new Vector Intrinsics API , this API much faster then JNI implementations.\nIts directly converting your java method calls to inline assembly instructions.\nCheckout : <a href=\"https://vksegfault.github.io/posts/java-simd/\" rel=\"nofollow noreferrer\">https://vksegfault.github.io/posts/java-simd/</a></p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17012,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":27666194,"answer_count":6,"score":22,"last_activity_date":1653478789,"creation_date":1419671852,"question_id":27665909,"body_markdown":"How do I use the Intel AVX vector instruction set from Java? It&#39;s a simple question but the answer seems to be hard to find.\r\n","title":"How to use the Intel AVX in Java?","body":"<p>How do I use the Intel AVX vector instruction set from Java? It's a simple question but the answer seems to be hard to find.</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653478739,"creation_date":1653478739,"answer_id":72376942,"question_id":72376421,"body_markdown":"A hashCode is not a unique identifier so it cannot be relied upon to serve as a Map key. A simple option is to concatenate the column and row as a String and using a Map&lt;String,Cell&gt;.\r\n\r\n    public class Cell {\r\n      ... stuff ...\r\n      public String key() {\r\n        return String.format(&quot;%d-%d&quot;, column, row);\r\n      }\r\n    }\r\n    \r\n    ","title":"HashMap Problem: Entries missing after filling","body":"<p>A hashCode is not a unique identifier so it cannot be relied upon to serve as a Map key. A simple option is to concatenate the column and row as a String and using a Map&lt;String,Cell&gt;.</p>\n<pre><code>public class Cell {\n  ... stuff ...\n  public String key() {\n    return String.format(&quot;%d-%d&quot;, column, row);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16312331,"reputation":51,"user_id":11780596,"display_name":"rebit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72376942,"answer_count":1,"score":0,"last_activity_date":1653478739,"creation_date":1653476519,"question_id":72376421,"body_markdown":"Hello and thank you for reading. I&#39;ve got a problem with a Hashmap in Java. The HashMap is thought to replace a2D array, so that the array index pair is used to caluculate the key. The map is filled in a double for-loop. The relevant code snippets are shown below.\r\n\r\nHere is the &quot;filling&quot; of the map and subsequent size test.\r\n```\r\n   HashMap&lt;Integer, Cell&gt; field = new HashMap&lt;Integer, Cell&gt;();\r\n    // Fill field object with cells\r\n    for (int colCnt = 0; colCnt &lt; cols; colCnt++) {\r\n      for (int rowCnt = 0; rowCnt &lt; rows; rowCnt++) {\r\n        Cell cell = new Cell(colCnt, rowCnt);\r\n        field.put(cell.hashCode(), cell);\r\n      }\r\n    }\r\n    System.out.println(&quot;cells: &quot;+field.size());\r\n```\r\nHere the constructor of the Cell object:\r\n```\r\n public Cell(int column, int row) {\r\n    if (row &lt; 0 || column &lt; 0) {\r\n      throw new IllegalArgumentException(&quot;Cell must not have negative coordinates&quot;);\r\n    }\r\n    this.row = row;\r\n    this.column = column;\r\n    this.status = false;\r\n  }\r\n```\r\nAnd here the method for the HashCode (from Cell class):\r\n```\r\n  public int hashCode() {\r\n    return Objects.hash(column, row);\r\n  }\r\n```\r\nwhere the parameters column and row refer to the local final int variables, which are class fields, set in the constructor.\r\n\r\nThe problem is:\r\nAs soon as the column parameter is larger than 1 and (simultaneously) the row parameter is larger than 31 as well as larger than the column parameter, not all cells are mapped any more. Having a closer look, I found out, that only the last column (when col &gt; 1) has full row number. All columns expect the last one are truncated to 31 elements.\r\nHowever, if the column parameter is much larger than rows all is fine, e.g. 1000 columns and 5 rows result in 5000 cells. On the other hand 5 columns and 1000 rows give just 1124 cells. If columns and rows are increased simultaneously, it works until 31 columns and 31 rows rsulting in 961 cells. With 32 columns and 32 rows I get 993 cells instead of 1024.\r\n\r\nCan anybody give me some hint, what&#39;s wrong? HashMap ist set up with default paras, means initally 16 fields and load 0.75.\r\n\r\nThank you very much!!\r\n","title":"HashMap Problem: Entries missing after filling","body":"<p>Hello and thank you for reading. I've got a problem with a Hashmap in Java. The HashMap is thought to replace a2D array, so that the array index pair is used to caluculate the key. The map is filled in a double for-loop. The relevant code snippets are shown below.</p>\n<p>Here is the &quot;filling&quot; of the map and subsequent size test.</p>\n<pre><code>   HashMap&lt;Integer, Cell&gt; field = new HashMap&lt;Integer, Cell&gt;();\n    // Fill field object with cells\n    for (int colCnt = 0; colCnt &lt; cols; colCnt++) {\n      for (int rowCnt = 0; rowCnt &lt; rows; rowCnt++) {\n        Cell cell = new Cell(colCnt, rowCnt);\n        field.put(cell.hashCode(), cell);\n      }\n    }\n    System.out.println(&quot;cells: &quot;+field.size());\n</code></pre>\n<p>Here the constructor of the Cell object:</p>\n<pre><code> public Cell(int column, int row) {\n    if (row &lt; 0 || column &lt; 0) {\n      throw new IllegalArgumentException(&quot;Cell must not have negative coordinates&quot;);\n    }\n    this.row = row;\n    this.column = column;\n    this.status = false;\n  }\n</code></pre>\n<p>And here the method for the HashCode (from Cell class):</p>\n<pre><code>  public int hashCode() {\n    return Objects.hash(column, row);\n  }\n</code></pre>\n<p>where the parameters column and row refer to the local final int variables, which are class fields, set in the constructor.</p>\n<p>The problem is:\nAs soon as the column parameter is larger than 1 and (simultaneously) the row parameter is larger than 31 as well as larger than the column parameter, not all cells are mapped any more. Having a closer look, I found out, that only the last column (when col &gt; 1) has full row number. All columns expect the last one are truncated to 31 elements.\nHowever, if the column parameter is much larger than rows all is fine, e.g. 1000 columns and 5 rows result in 5000 cells. On the other hand 5 columns and 1000 rows give just 1124 cells. If columns and rows are increased simultaneously, it works until 31 columns and 31 rows rsulting in 961 cells. With 32 columns and 32 rows I get 993 cells instead of 1024.</p>\n<p>Can anybody give me some hint, what's wrong? HashMap ist set up with default paras, means initally 16 fields and load 0.75.</p>\n<p>Thank you very much!!</p>\n"},{"tags":["java","rsa","public-key-encryption","stringtokenizer"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653477241,"post_id":72376288,"comment_id":127860548,"body_markdown":"The modulus has to be the multiplication of two primes. `8` is `2*2*2` hence not a valid modulus. One error in your code: use `BigInteger(1, GetTokens(...))`","body":"The modulus has to be the multiplication of two primes. <code>8</code> is <code>2*2*2</code> hence not a valid modulus. One error in your code: use <code>BigInteger(1, GetTokens(...))</code>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1653478104,"post_id":72376288,"comment_id":127860842,"body_markdown":"Although generated _using_ randomness (entropy), RSA keys do _not_ consist of random bytes. In particular the two bytes 8,33 represent the number 2081 which is not a valid RSA modulus because it is not the product of distinct primes, and the two bytes 6,18 represent 1554 which is not a valid RSA public exponent because it is not coprime to _any_ Carmichael totient. Also modern crypto data including RSA keys is usually not represented textually (JWK is an exception, but not directly supported in Java), and almost never as separate bytes, especially in Java where `byte` is _signed_.","body":"Although generated <i>using</i> randomness (entropy), RSA keys do <i>not</i> consist of random bytes. In particular the two bytes 8,33 represent the number 2081 which is not a valid RSA modulus because it is not the product of distinct primes, and the two bytes 6,18 represent 1554 which is not a valid RSA public exponent because it is not coprime to <i>any</i> Carmichael totient. Also modern crypto data including RSA keys is usually not represented textually (JWK is an exception, but not directly supported in Java), and almost never as separate bytes, especially in Java where <code>byte</code> is <i>signed</i>."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1653478246,"post_id":72376288,"comment_id":127860901,"body_markdown":"@Robert: RSA doesn&#39;t strictly have to be _two_ primes, although that was the original paper, and still the overwhelmingly most common use. It _can_ be any set of distinct primes all of which are large enough and unguessable (usually implemented as randomly chosen); if the modulus was 8, which it isn&#39;t in the example, then yes 2x2x2 are neither distinct nor large enough.","body":"@Robert: RSA doesn&#39;t strictly have to be <i>two</i> primes, although that was the original paper, and still the overwhelmingly most common use. It <i>can</i> be any set of distinct primes all of which are large enough and unguessable (usually implemented as randomly chosen); if the modulus was 8, which it isn&#39;t in the example, then yes 2x2x2 are neither distinct nor large enough."},{"owner":{"account_id":25385620,"reputation":9,"user_id":19197470,"display_name":"Felipe Magalh&#227;es"},"score":0,"creation_date":1653479885,"post_id":72376288,"comment_id":127861554,"body_markdown":"Considering that the GetTokens method uses the stringTokenizer which in turn has a range of -128:127, could I somehow define &quot;random&quot; numbers in the input_text to generate the publickey? @dave_thompson_085","body":"Considering that the GetTokens method uses the stringTokenizer which in turn has a range of -128:127, could I somehow define &quot;random&quot; numbers in the input_text to generate the publickey? @dave_thompson_085"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1653559761,"post_id":72376288,"comment_id":127883426,"body_markdown":"Actually `Byte.parseByte` has the range -128:127, not `StringTokenizer`. But more importantly, as I said, you cannot generate a valid RSA key by choosing the bytes of its representation. You initially generate a keypair as _large numbers meeting the required conditions_ -- typically as in AhmedSHA256&#39;s answer, although you _can_ do this part &#39;by hand&#39; -- and then if you want a byte-oriented representation create it _from_ the numbers. In practice no one uses bytes in decimal (even unsigned much less signed), although it&#39;s possible.","body":"Actually <code>Byte.parseByte</code> has the range -128:127, not <code>StringTokenizer</code>. But more importantly, as I said, you cannot generate a valid RSA key by choosing the bytes of its representation. You initially generate a keypair as <i>large numbers meeting the required conditions</i> -- typically as in AhmedSHA256&#39;s answer, although you <i>can</i> do this part &#39;by hand&#39; -- and then if you want a byte-oriented representation create it <i>from</i> the numbers. In practice no one uses bytes in decimal (even unsigned much less signed), although it&#39;s possible."}],"answers":[{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653478621,"creation_date":1653476702,"answer_id":72376467,"question_id":72376288,"body_markdown":"I will provide the code you need to generate a RSA public key:\r\n\r\n    import java.io.*;\r\n    import java.security.*;\r\n    import java.security.spec.*;\r\n    import java.util.*;\r\n    \r\n    public class Hello {\r\n        public static void main(String[] args) throws NoSuchAlgorithmException {\r\n            // We generate an instance that allows to create private/public key pairs\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \r\n            // We use 1024 bits lenght\r\n            keyPairGenerator.initialize(2048);\r\n    \r\n            // We generate key pair\r\n            KeyPair keyPair = keyPairGenerator.generateKeyPair();\r\n    \r\n            // Original message\r\n            String originalMessage = &quot;Hello&quot;;\r\n    \r\n            // We obtain public key\r\n            Key publicKey = keyPair.getPublic();\r\n    \r\n            // We convert the string in order to send the Key to the emitter\r\n            String publicKeyText = keyToString(publicKey);\r\n            System.out.println(&quot;Public key: &quot; + publicKeyText);\r\n        }\r\n    \r\n        private static String keyToString(Key publicKey) {\r\n            byte[] publicKeyBytes = publicKey.getEncoded();\r\n            String key = Base64.getEncoder().encodeToString(publicKeyBytes);\r\n    \r\n            return key;\r\n        }\r\n    }","title":"Can&#39;t generate RSA public key","body":"<p>I will provide the code you need to generate a RSA public key:</p>\n<pre><code>import java.io.*;\nimport java.security.*;\nimport java.security.spec.*;\nimport java.util.*;\n\npublic class Hello {\n    public static void main(String[] args) throws NoSuchAlgorithmException {\n        // We generate an instance that allows to create private/public key pairs\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n\n        // We use 1024 bits lenght\n        keyPairGenerator.initialize(2048);\n\n        // We generate key pair\n        KeyPair keyPair = keyPairGenerator.generateKeyPair();\n\n        // Original message\n        String originalMessage = &quot;Hello&quot;;\n\n        // We obtain public key\n        Key publicKey = keyPair.getPublic();\n\n        // We convert the string in order to send the Key to the emitter\n        String publicKeyText = keyToString(publicKey);\n        System.out.println(&quot;Public key: &quot; + publicKeyText);\n    }\n\n    private static String keyToString(Key publicKey) {\n        byte[] publicKeyBytes = publicKey.getEncoded();\n        String key = Base64.getEncoder().encodeToString(publicKeyBytes);\n\n        return key;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25385620,"reputation":9,"user_id":19197470,"display_name":"Felipe Magalh&#227;es"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653478621,"creation_date":1653475973,"question_id":72376288,"body_markdown":"I&#39;m trying to learn about rsa public key generations. After some researches I create an &quot;simple&quot; code that should return a public key but I don&#39;t know why, it doesn&#39;t. Can anyone tell me why and explaine it?\r\n\r\n    public static byte[] GetTokens(String paramString) {\r\n        StringTokenizer stringTokenizer = new StringTokenizer(paramString, &quot;,&quot;);\r\n        byte[] arrayOfByte = new byte[stringTokenizer.countTokens()];\r\n        for (byte b1 = 0; stringTokenizer.hasMoreTokens(); b1++) {\r\n           arrayOfByte[b1] = Byte.parseByte(stringTokenizer.nextToken());\r\n        }\r\n        return arrayOfByte;\r\n    }\r\n\r\n    public static PublicKey GenPublicKey() throws Exception {\r\n        BufferedReader bufferedReader  = new BufferedReader(new FileReader(&quot;input_text&quot;));\r\n\r\n        try {\r\n            String str1 = bufferedReader.readLine();\r\n            String str2 = bufferedReader.readLine();\r\n            \r\n            BigInteger bigInteger1 = new BigInteger(GetTokens(str1));\r\n            BigInteger bigInteger2 = new BigInteger(GetTokens(str2));\r\n            \r\n            RSAPublicKeySpec rSAPublicKeySpec = new RSAPublicKeySpec(bigInteger1, bigInteger2);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey publicKey = keyFactory.generatePublic(rSAPublicKeySpec);\r\n            return publicKey;\r\n        }\r\n        catch (NoSuchAlgorithmException e) {\r\n            System.out.println(&quot;Exception thrown : &quot; + e);\r\n            throw new IOException(&quot;Error reading key, &quot;);\r\n        }\r\n\r\n        finally {\r\n            try {\r\n                bufferedReader.close();\r\n            } catch (Exception exception) {}\r\n        }\r\n    }\r\n\r\n\r\n\r\nTo testing it I wrote aleatory numbers on &quot;input_text&quot; file:\r\n8,33\r\n6,18","title":"Can&#39;t generate RSA public key","body":"<p>I'm trying to learn about rsa public key generations. After some researches I create an &quot;simple&quot; code that should return a public key but I don't know why, it doesn't. Can anyone tell me why and explaine it?</p>\n<pre><code>public static byte[] GetTokens(String paramString) {\n    StringTokenizer stringTokenizer = new StringTokenizer(paramString, &quot;,&quot;);\n    byte[] arrayOfByte = new byte[stringTokenizer.countTokens()];\n    for (byte b1 = 0; stringTokenizer.hasMoreTokens(); b1++) {\n       arrayOfByte[b1] = Byte.parseByte(stringTokenizer.nextToken());\n    }\n    return arrayOfByte;\n}\n\npublic static PublicKey GenPublicKey() throws Exception {\n    BufferedReader bufferedReader  = new BufferedReader(new FileReader(&quot;input_text&quot;));\n\n    try {\n        String str1 = bufferedReader.readLine();\n        String str2 = bufferedReader.readLine();\n        \n        BigInteger bigInteger1 = new BigInteger(GetTokens(str1));\n        BigInteger bigInteger2 = new BigInteger(GetTokens(str2));\n        \n        RSAPublicKeySpec rSAPublicKeySpec = new RSAPublicKeySpec(bigInteger1, bigInteger2);\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey publicKey = keyFactory.generatePublic(rSAPublicKeySpec);\n        return publicKey;\n    }\n    catch (NoSuchAlgorithmException e) {\n        System.out.println(&quot;Exception thrown : &quot; + e);\n        throw new IOException(&quot;Error reading key, &quot;);\n    }\n\n    finally {\n        try {\n            bufferedReader.close();\n        } catch (Exception exception) {}\n    }\n}\n</code></pre>\n<p>To testing it I wrote aleatory numbers on &quot;input_text&quot; file:\n8,33\n6,18</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","lazy-loading"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653408867,"creation_date":1653408867,"answer_id":72366181,"question_id":72366092,"body_markdown":"You could create/modify your Getter such that:\r\n\r\n\r\n    public Set&lt;Product&gt; getProducts() {\r\n       if (products == null) {\r\n           return new HashSet&lt;&gt;();\r\n           //or products = new HashSet&lt;&gt;(), but I&#39;m not sure of the side effects as far as database framework is concerned.\r\n       }\r\n       return products;\r\n    }","title":"Return empty collection when this collection is lazy intitialized","body":"<p>You could create/modify your Getter such that:</p>\n<pre><code>public Set&lt;Product&gt; getProducts() {\n   if (products == null) {\n       return new HashSet&lt;&gt;();\n       //or products = new HashSet&lt;&gt;(), but I'm not sure of the side effects as far as database framework is concerned.\n   }\n   return products;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14829651,"reputation":115,"user_id":10709485,"display_name":"wazowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653411034,"creation_date":1653410623,"answer_id":72366567,"question_id":72366092,"body_markdown":"Try marking your service class or method as @Transactional to let Spring handle session management.\r\n\r\n    public class ServiceUsingSomeClass {\r\n        final SomeClassRepository someClassRepository;\r\n\r\n        //Constructor ...\r\n        \r\n        @Transactional\r\n        showProducts() {\r\n           someClassRepository.findAll();\r\n           // Do something with Set&lt;Product&gt;\r\n\r\n        }\r\n        \r\n    }\r\n","title":"Return empty collection when this collection is lazy intitialized","body":"<p>Try marking your service class or method as @Transactional to let Spring handle session management.</p>\n<pre><code>public class ServiceUsingSomeClass {\n    final SomeClassRepository someClassRepository;\n\n    //Constructor ...\n    \n    @Transactional\n    showProducts() {\n       someClassRepository.findAll();\n       // Do something with Set&lt;Product&gt;\n\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14957510,"reputation":141,"user_id":10798322,"display_name":"Yevgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653417196,"creation_date":1653417196,"answer_id":72367862,"question_id":72366092,"body_markdown":"If you only want to avoid fetching the association in cases where you use Dozer for DTO mapping, you could configure it to ignore `products` field in source object by extending `DozerConverter` and using that custom converter.\r\n\r\nI also feel that maybe that means your target type doesn&#39;t really need to have \r\na `products` field to begin with, since you&#39;re not going to populate it.\r\n\r\nIf there&#39;s many places like this in your codebase, consider using projections to only fetch the properties necessary for the purpose at hand.\r\n\r\n@fella7ena brings up a point about @Transactional, however this is actually unrelated - you can still come across LazyInitializationException within a transaction. This happens because Hibernate loses track of the relation between the java bean&#39;s persistence state and the database state. If you actually wanted to fetch `products` association from the database, you would have to use eager fetchtype (leads to n+1 issue), batching, or entitygraphs.","title":"Return empty collection when this collection is lazy intitialized","body":"<p>If you only want to avoid fetching the association in cases where you use Dozer for DTO mapping, you could configure it to ignore <code>products</code> field in source object by extending <code>DozerConverter</code> and using that custom converter.</p>\n<p>I also feel that maybe that means your target type doesn't really need to have\na <code>products</code> field to begin with, since you're not going to populate it.</p>\n<p>If there's many places like this in your codebase, consider using projections to only fetch the properties necessary for the purpose at hand.</p>\n<p>@fella7ena brings up a point about @Transactional, however this is actually unrelated - you can still come across LazyInitializationException within a transaction. This happens because Hibernate loses track of the relation between the java bean's persistence state and the database state. If you actually wanted to fetch <code>products</code> association from the database, you would have to use eager fetchtype (leads to n+1 issue), batching, or entitygraphs.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653478486,"creation_date":1653478486,"answer_id":72376884,"question_id":72366092,"body_markdown":"As you can see in this tutorial [here][1] you can instruct `dozer` to exclude some field from the mapping.\r\n\r\nIf you do so, then the dozer will not invoke the method of `getProducts` of your entity class and therefore the exception `LaziInitializedException` will not be thrown.\r\n\r\nAt the same time because your DTO object is initialized with an empty `HashSet` for the field products, this is what will remain at the end in the DTO.\r\n\r\nSo your requirement will work, where your entity is lazily initialized for products and your DTO returns an empty list while at the same time the mapping happens from `dozer`.\r\n\r\nHere is the configuration that you need for the mapper of `dozer`.\r\n\r\n    BeanMappingBuilder mappingExclusion = new BeanMappingBuilder() {\r\n        @Override\r\n        protected void configure() {\r\n            mapping(SomeClassEntity.class, SomeClassDto.class).exclude(&quot;products&quot;);\r\n        }\r\n    };\r\n    mapper = new DozerBeanMapper();\r\n    mapper.addMapping(mappingExclusion); \r\n\r\nThen you can use it to do the mapping as following\r\n\r\n    mapper.map(someClassEntityInstance, someClassDtoInstance);\r\n\r\n\r\n  [1]: https://www.baeldung.com/dozer#Mapping","title":"Return empty collection when this collection is lazy intitialized","body":"<p>As you can see in this tutorial <a href=\"https://www.baeldung.com/dozer#Mapping\" rel=\"nofollow noreferrer\">here</a> you can instruct <code>dozer</code> to exclude some field from the mapping.</p>\n<p>If you do so, then the dozer will not invoke the method of <code>getProducts</code> of your entity class and therefore the exception <code>LaziInitializedException</code> will not be thrown.</p>\n<p>At the same time because your DTO object is initialized with an empty <code>HashSet</code> for the field products, this is what will remain at the end in the DTO.</p>\n<p>So your requirement will work, where your entity is lazily initialized for products and your DTO returns an empty list while at the same time the mapping happens from <code>dozer</code>.</p>\n<p>Here is the configuration that you need for the mapper of <code>dozer</code>.</p>\n<pre><code>BeanMappingBuilder mappingExclusion = new BeanMappingBuilder() {\n    @Override\n    protected void configure() {\n        mapping(SomeClassEntity.class, SomeClassDto.class).exclude(&quot;products&quot;);\n    }\n};\nmapper = new DozerBeanMapper();\nmapper.addMapping(mappingExclusion); \n</code></pre>\n<p>Then you can use it to do the mapping as following</p>\n<pre><code>mapper.map(someClassEntityInstance, someClassDtoInstance);\n</code></pre>\n"}],"owner":{"account_id":25366531,"reputation":43,"user_id":19181036,"display_name":"roberto fernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72376884,"answer_count":4,"score":3,"last_activity_date":1653478486,"creation_date":1653408422,"question_id":72366092,"body_markdown":"I have this object: \r\n\r\n**Entity**\r\n```\r\n@Entity\r\npublic class someClass{\r\n\tprivate String name;\r\n\tprivate String labelKey;\r\n\r\n\t@ManyToMany(cascade = {CascadeType.PERSIST,CascadeType.MERGE}, fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Product&gt; products = new HashSet&lt;&gt;();\r\n}\r\n```\r\n**DTO**\r\n```\r\npublic class someClass{\r\n\tprivate String name;\r\n\tprivate String labelKey;\r\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nMy problem is that when I get this object but products are lazy initialized, when I mapp entity to DTO using Dozer, I get a LaziInitializedException, then i want to get that when I get products lazy initialized, this products will return a empry Set.\r\nIs this possible?\r\n\r\nThanks for your time and sorry for my english, it&#39;s not my native language.\r\n","title":"Return empty collection when this collection is lazy intitialized","body":"<p>I have this object:</p>\n<p><strong>Entity</strong></p>\n<pre><code>@Entity\npublic class someClass{\n    private String name;\n    private String labelKey;\n\n    @ManyToMany(cascade = {CascadeType.PERSIST,CascadeType.MERGE}, fetch = FetchType.LAZY)\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>public class someClass{\n    private String name;\n    private String labelKey;\n    private Set&lt;Product&gt; products = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>My problem is that when I get this object but products are lazy initialized, when I mapp entity to DTO using Dozer, I get a LaziInitializedException, then i want to get that when I get products lazy initialized, this products will return a empry Set.\nIs this possible?</p>\n<p>Thanks for your time and sorry for my english, it's not my native language.</p>\n"},{"tags":["java","generics","subtype"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1653053110,"post_id":72319637,"comment_id":127763508,"body_markdown":"Please also provide signature of `getEntityService`","body":"Please also provide signature of <code>getEntityService</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653053222,"post_id":72319637,"comment_id":127763553,"body_markdown":"Is `SomeEntity` a generic type? Can you show how `SomeEntity` is declared as well?","body":"Is <code>SomeEntity</code> a generic type? Can you show how <code>SomeEntity</code> is declared as well?"},{"owner":{"account_id":13992173,"reputation":33,"user_id":10105926,"display_name":"Codrin Sirboiu"},"score":0,"creation_date":1653142936,"post_id":72319637,"comment_id":127781696,"body_markdown":"@Sweeper \n`public abstract class SomeEntity extends AuditableBaseEntity {\n  public abstract SomeEntityType getEntityType();\n\n  public abstract EntityIdentifiers getIdentifiers();\n}\n`\nAuditableBaseEntity is not genric","body":"@Sweeper  <code>public abstract class SomeEntity extends AuditableBaseEntity {   public abstract SomeEntityType getEntityType();    public abstract EntityIdentifiers getIdentifiers(); } </code> AuditableBaseEntity is not genric"},{"owner":{"account_id":13992173,"reputation":33,"user_id":10105926,"display_name":"Codrin Sirboiu"},"score":0,"creation_date":1653143339,"post_id":72319637,"comment_id":127781791,"body_markdown":"@samabcde\n`&lt;T extends SomeEntity&gt; AuditableEntityService&lt;T&gt; getEntityService(SomeEntityType entityType)\n      throws SomeComponentException {\n    switch (entityType) {\n      case ADMIN:\n        return (AuditableEntityService&lt;T&gt;) adminProfileService;\n      case COUNTRY:\n        return (AuditableEntityService&lt;T&gt;) countryService;\n      default:\n        logger.error(&quot;The entity service is not mapped for {}&quot;, entityType.getValue());\n        throw new SomeComponentException(\n            ErrorCode.ENTITY_SERVICE_NOT_FOUND, &quot;general.internal.server&quot;);\n    }\n  }`","body":"@samabcde <code>&lt;T extends SomeEntity&gt; AuditableEntityService&lt;T&gt; getEntityService(SomeEntityType entityType)       throws SomeComponentException {     switch (entityType) {       case ADMIN:         return (AuditableEntityService&lt;T&gt;) adminProfileService;       case COUNTRY:         return (AuditableEntityService&lt;T&gt;) countryService;       default:         logger.error(&quot;The entity service is not mapped for {}&quot;, entityType.getValue());         throw new SomeComponentException(             ErrorCode.ENTITY_SERVICE_NOT_FOUND, &quot;general.internal.server&quot;);     }   }</code>"}],"answers":[{"tags":[],"owner":{"account_id":13992173,"reputation":33,"user_id":10105926,"display_name":"Codrin Sirboiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653478477,"creation_date":1653478477,"answer_id":72376879,"question_id":72319637,"body_markdown":"I managed to fix it by adding another layer: \r\n\r\n    &lt;T extends SomeEntity&gt; AuditableEntityService&lt;T&gt; getEntityService(T entity)       throws SomeComponentException {\r\n         return getEntityService(entity.getEntityType());   \r\n    } \r\n\r\nWhere createOrUpdateWithOwnerId calls the new getEntityService(entity) so the type is the same as the parameter for sure.","title":"Returned generic bounded type incorrect","body":"<p>I managed to fix it by adding another layer:</p>\n<pre><code>&lt;T extends SomeEntity&gt; AuditableEntityService&lt;T&gt; getEntityService(T entity)       throws SomeComponentException {\n     return getEntityService(entity.getEntityType());   \n} \n</code></pre>\n<p>Where createOrUpdateWithOwnerId calls the new getEntityService(entity) so the type is the same as the parameter for sure.</p>\n"}],"owner":{"account_id":13992173,"reputation":33,"user_id":10105926,"display_name":"Codrin Sirboiu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653478477,"creation_date":1653052821,"question_id":72319637,"body_markdown":"Hello I have a return type problem for a generic method that returns a subclass but the compiler thinks it returns the superclass, although I don&#39;t know why would that be a problem anyway.\r\n\r\n      public &lt;T extends SomeEntity&gt; T createOrUpdateWithOwnerId(\r\n          RepositoryContext repoCtx, T entity, String ownerId) throws SomeComponentException {\r\n        return getEntityService(entity.getEntityType())\r\n            .createOrUpdateWithOwnerId(repoCtx, entity, ownerId); //this doesn&#39;t compile \r\n\r\n&gt; Required: T, Provided: SomeEntity\r\n\r\n      }\r\n\r\n    public class AuditableEntityService&lt;T extends SomeEntity&gt; {\r\n      public T createOrUpdateWithOwnerId(RepositoryContext repoCtx, T entity, String ownerId)\r\n          throws SomeComponentException {\r\n        try {\r\n          return persistenceRepository.saveOrUpdateWithOwnerId(repoCtx, entity, ownerId);\r\n        } catch (RepositoryException e) {\r\n          dealWithRepositoryException(entity, e);\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n\r\n    AuditableEntityService&lt;AdminProfile&gt; adminProfileService = new AuditableEntityService&lt;&gt;(new AdminProfile()); // where AdminProfile extends SomeEntity\r\n\r\n","title":"Returned generic bounded type incorrect","body":"<p>Hello I have a return type problem for a generic method that returns a subclass but the compiler thinks it returns the superclass, although I don't know why would that be a problem anyway.</p>\n<pre><code>  public &lt;T extends SomeEntity&gt; T createOrUpdateWithOwnerId(\n      RepositoryContext repoCtx, T entity, String ownerId) throws SomeComponentException {\n    return getEntityService(entity.getEntityType())\n        .createOrUpdateWithOwnerId(repoCtx, entity, ownerId); //this doesn't compile \n</code></pre>\n<blockquote>\n<p>Required: T, Provided: SomeEntity</p>\n</blockquote>\n<pre><code>  }\n\npublic class AuditableEntityService&lt;T extends SomeEntity&gt; {\n  public T createOrUpdateWithOwnerId(RepositoryContext repoCtx, T entity, String ownerId)\n      throws SomeComponentException {\n    try {\n      return persistenceRepository.saveOrUpdateWithOwnerId(repoCtx, entity, ownerId);\n    } catch (RepositoryException e) {\n      dealWithRepositoryException(entity, e);\n      return null;\n    }\n  }\n}\n\nAuditableEntityService&lt;AdminProfile&gt; adminProfileService = new AuditableEntityService&lt;&gt;(new AdminProfile()); // where AdminProfile extends SomeEntity\n</code></pre>\n"},{"tags":["java","docker","alpine-linux","java-17"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":2,"creation_date":1652708918,"post_id":72226732,"comment_id":127664465,"body_markdown":"Please, could you provide a snippet of your `Dockerfile`? What library are you using for your Excel report generation?","body":"Please, could you provide a snippet of your <code>Dockerfile</code>? What library are you using for your Excel report generation?"},{"owner":{"account_id":5517236,"reputation":476,"user_id":4381534,"display_name":"biiyamn"},"score":0,"creation_date":1652958538,"post_id":72226732,"comment_id":127736299,"body_markdown":"you have to install jre","body":"you have to install jre"},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1652971681,"post_id":72226732,"comment_id":127741722,"body_markdown":"@biiyamn, jre is installed. My java application is running. Just one single functionality doesn&#39;t work.","body":"@biiyamn, jre is installed. My java application is running. Just one single functionality doesn&#39;t work."},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1652971985,"post_id":72226732,"comment_id":127741850,"body_markdown":"@jccampanero, added a short version of Dockerfile. For excel report we&#39;re using Apache POI lib","body":"@jccampanero, added a short version of Dockerfile. For excel report we&#39;re using Apache POI lib"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1652996775,"post_id":72226732,"comment_id":127749949,"body_markdown":"Thank you very much for updating the question. I answered about the `Dockerfile` in order to trying understanding your installation. I honestly can tell, but you may have installed a headless version of the JDK; probably an obvious solution would be using the normal, non headless ,version of the JDK instead, and try again. Please, consider read this [related SO question](https://stackoverflow.com/questions/37251309/no-fontmanager-in-java-library-path) and [github issue](https://github.com/docker-library/openjdk/issues/73). I hope it helps.","body":"Thank you very much for updating the question. I answered about the <code>Dockerfile</code> in order to trying understanding your installation. I honestly can tell, but you may have installed a headless version of the JDK; probably an obvious solution would be using the normal, non headless ,version of the JDK instead, and try again. Please, consider read this <a href=\"https://stackoverflow.com/questions/37251309/no-fontmanager-in-java-library-path\">related SO question</a> and <a href=\"https://github.com/docker-library/openjdk/issues/73\" rel=\"nofollow noreferrer\">github issue</a>. I hope it helps."},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1653027815,"post_id":72226732,"comment_id":127754893,"body_markdown":"Thanks a lot, @jccampanero. I&#39;ll try to check your solution and let you know once if help.","body":"Thanks a lot, @jccampanero. I&#39;ll try to check your solution and let you know once if help."},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1653298132,"post_id":72226732,"comment_id":127808682,"body_markdown":"What version of Apache POI are you using ?","body":"What version of Apache POI are you using ?"},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1653298198,"post_id":72226732,"comment_id":127808708,"body_markdown":"@djmonki, we use 4.1.2 version of Apache POI","body":"@djmonki, we use 4.1.2 version of Apache POI"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":1,"creation_date":1653299043,"post_id":72226732,"comment_id":127809005,"body_markdown":"OK - Wondering if it is an alpine issue. Please see this answer that I provided for another issue where the alpine os was the problem in regards to jdk11+: https://stackoverflow.com/a/70155534/11543023","body":"OK - Wondering if it is an alpine issue. Please see this answer that I provided for another issue where the alpine os was the problem in regards to jdk11+: <a href=\"https://stackoverflow.com/a/70155534/11543023\">stackoverflow.com/a/70155534/11543023</a>"},{"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"score":0,"creation_date":1653299443,"post_id":72226732,"comment_id":127809131,"body_markdown":"Yep. We&#39;re already changed the version from alpine to another one. Since we couldn&#39;t find any solution to resolve our case.","body":"Yep. We&#39;re already changed the version from alpine to another one. Since we couldn&#39;t find any solution to resolve our case."}],"answers":[{"tags":[],"owner":{"account_id":235917,"reputation":1060,"user_id":503060,"accept_rate":82,"display_name":"Hedley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653478266,"creation_date":1653066530,"answer_id":72322516,"question_id":72226732,"body_markdown":"Several options:\r\n\r\nFirstly, the standard Java install on Alpine is &quot;headless&quot; Java, which does not include any graphics libraries in the JRE lib directory. You need to ensure you have the non headless JRE installed. e.g. in your Dockerfile\r\n\r\n    RUN apk add --no-cache curl openjdk17-jre\r\n\r\nIf this still fails, you may need to debug the native libraries.\r\n\r\nThis looks like you have installed the correct packages, but their default location will not be the /usr/lib/jvm/java-17-openjdk/lib location that Java is looking in.\r\n\r\nYou can use apk to confirm the install location of the packages, my guess would be /usr/lib. \r\n\r\n    / $ apk -L info fontconfig\r\n\r\nSample output (for lcms)\r\n     \r\n    lcms2-2.12-r1 contains:\r\n    usr/lib/liblcms2.so.2\r\n    usr/lib/liblcms2.so.2.0.12\r\n\r\nThen I think you have a couple of choices:\r\n1. Add symlinks from the /usr/lib/jvm/java-17-openjdk/lib directory to the actual library locations.\r\n2. Update your java startup property that specifies the system library location. e.g. \r\n\r\n    -Djava.library.path=&quot;/usr/lib/jvm/java-17-openjdk/lib:/usr/lib&quot;","title":"UnsatisfiedLinkError: no fontmanager in system library path: /usr/lib/jvm/java-17-openjdk/lib","body":"<p>Several options:</p>\n<p>Firstly, the standard Java install on Alpine is &quot;headless&quot; Java, which does not include any graphics libraries in the JRE lib directory. You need to ensure you have the non headless JRE installed. e.g. in your Dockerfile</p>\n<pre><code>RUN apk add --no-cache curl openjdk17-jre\n</code></pre>\n<p>If this still fails, you may need to debug the native libraries.</p>\n<p>This looks like you have installed the correct packages, but their default location will not be the /usr/lib/jvm/java-17-openjdk/lib location that Java is looking in.</p>\n<p>You can use apk to confirm the install location of the packages, my guess would be /usr/lib.</p>\n<pre><code>/ $ apk -L info fontconfig\n</code></pre>\n<p>Sample output (for lcms)</p>\n<pre><code>lcms2-2.12-r1 contains:\nusr/lib/liblcms2.so.2\nusr/lib/liblcms2.so.2.0.12\n</code></pre>\n<p>Then I think you have a couple of choices:</p>\n<ol>\n<li><p>Add symlinks from the /usr/lib/jvm/java-17-openjdk/lib directory to the actual library locations.</p>\n</li>\n<li><p>Update your java startup property that specifies the system library location. e.g.</p>\n<p>-Djava.library.path=&quot;/usr/lib/jvm/java-17-openjdk/lib:/usr/lib&quot;</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1653478266,"creation_date":1652431337,"question_id":72226732,"body_markdown":"After we migrated container to alpine_java-17 excel export feature fails with the next error: \r\n\r\n    java.lang.UnsatisfiedLinkError: no fontmanager in system library path: /usr/lib/jvm/java-17-openjdk/lib\r\n\r\nIn my Dockerfile I installed: \r\n\r\n    RUN apk add --no-cache fontconfig\r\n    RUN apk add --no-cache ttf-dejavu\r\n    RUN apk add --no-cache freetype\r\n\r\nHere&#39;s short version of Dockerfile:\r\n\r\n        FROM custom_registry/alpine_java-17\r\n    \r\n    \r\n    ENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk\r\n    \r\n    \r\n    # procps to have the binary &#39;pgrep&#39;\r\n    RUN apk update\r\n    RUN apk add curl\r\n    RUN apk add procps\r\n    \r\n    #here&#39;s mu solution to fix the issue\r\n    RUN apk add --no-cache fontconfig\r\n    RUN apk add --no-cache ttf-dejavu\r\n    RUN apk add --no-cache freetype\r\n    \r\n    # install bash\r\n    RUN apk add --no-cache bash\r\n    \r\n    ENTRYPOINT [ &quot;/app/bin/run.sh&quot; ]\r\n\r\n\r\nBut it didn&#39;t help.\r\nMaybe someone knows how to fix the issue? Thanks in advance!\r\n\r\n","title":"UnsatisfiedLinkError: no fontmanager in system library path: /usr/lib/jvm/java-17-openjdk/lib","body":"<p>After we migrated container to alpine_java-17 excel export feature fails with the next error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no fontmanager in system library path: /usr/lib/jvm/java-17-openjdk/lib\n</code></pre>\n<p>In my Dockerfile I installed:</p>\n<pre><code>RUN apk add --no-cache fontconfig\nRUN apk add --no-cache ttf-dejavu\nRUN apk add --no-cache freetype\n</code></pre>\n<p>Here's short version of Dockerfile:</p>\n<pre><code>    FROM custom_registry/alpine_java-17\n\n\nENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk\n\n\n# procps to have the binary 'pgrep'\nRUN apk update\nRUN apk add curl\nRUN apk add procps\n\n#here's mu solution to fix the issue\nRUN apk add --no-cache fontconfig\nRUN apk add --no-cache ttf-dejavu\nRUN apk add --no-cache freetype\n\n# install bash\nRUN apk add --no-cache bash\n\nENTRYPOINT [ &quot;/app/bin/run.sh&quot; ]\n</code></pre>\n<p>But it didn't help.\nMaybe someone knows how to fix the issue? Thanks in advance!</p>\n"},{"tags":["java","android","android-studio","warnings","suppress-warnings"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1653479346,"post_id":72376755,"comment_id":127861338,"body_markdown":"@pringi this isn&#39;t a duplicate to what you&#39;ve linked","body":"@pringi this isn&#39;t a duplicate to what you&#39;ve linked"}],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653477931,"creation_date":1653477931,"question_id":72376755,"body_markdown":"I have a Android gradle library project of type &quot;com.android.library&quot;.\r\n\r\nOf course there are many methods/classes/... which aren&#39;t used because they aren&#39;t called from within the library itself. But they will later be called from my application which depends on the library.\r\n\r\nSo when I open a .java file from my library in Android Studio I will get warnings in the &quot;Current File&quot; tab.\r\n\r\nThey look like this:\r\n\r\n    Class &#39;*&#39; is never used\r\n    Method &#39;*&#39; is never used\r\n    Field &#39;*&#39; is never used\r\n    Constructor &#39;*&#39; is never used\r\n\r\nI think Android Studio just doesn&#39;t understand that this is a library project.\r\n\r\nI don&#39;t want to put thousands @SupressWarning(&quot;unused&quot;) into my code.\r\nHow to fix these warnings?","title":"Android Studio complains about unused code in library project","body":"<p>I have a Android gradle library project of type &quot;com.android.library&quot;.</p>\n<p>Of course there are many methods/classes/... which aren't used because they aren't called from within the library itself. But they will later be called from my application which depends on the library.</p>\n<p>So when I open a .java file from my library in Android Studio I will get warnings in the &quot;Current File&quot; tab.</p>\n<p>They look like this:</p>\n<pre><code>Class '*' is never used\nMethod '*' is never used\nField '*' is never used\nConstructor '*' is never used\n</code></pre>\n<p>I think Android Studio just doesn't understand that this is a library project.</p>\n<p>I don't want to put thousands @SupressWarning(&quot;unused&quot;) into my code.\nHow to fix these warnings?</p>\n"},{"tags":["java","arrays","merge","java-8","nested"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1653294970,"post_id":72345314,"comment_id":127807560,"body_markdown":"Show us what you tried first. Post an [mcve].","body":"Show us what you tried first. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1653295020,"post_id":72345314,"comment_id":127807581,"body_markdown":"Best solution is to use maps and merge them.","body":"Best solution is to use maps and merge them."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653297539,"creation_date":1653295665,"answer_id":72345688,"question_id":72345314,"body_markdown":"You could map each student by their id with the terminal operation `collect(Collectors.toMap())`, then handling the collision cases to merge your different instances of student into a new one.\r\n\r\nAt that point, when instancing a new `Student`, you could implement a nested stream to merge the marks of the two colliding instances. By applying a second `collect(Collectors.toMap())`, you could group the marks by the subject id and then handling once again the colliding cases by merging the marks&#39; value.\r\n\r\nIn the snippet below, I&#39;ve enriched your test case by adding a second `Student`:\r\n\r\n```\r\nList&lt;Student&gt; list = new ArrayList&lt;&gt;(List.of(\r\n        new Student(1, new ArrayList&lt;&gt;(List.of(new Marks(1, 10), new Marks(2, 10)))),\r\n        new Student(1, new ArrayList&lt;&gt;(List.of(new Marks(1, 15), new Marks(3, 10)))),\r\n        new Student(2, new ArrayList&lt;&gt;(List.of(new Marks(1, 5), new Marks(2, 10)))),\r\n        new Student(2, new ArrayList&lt;&gt;(List.of(new Marks(2, 5), new Marks(3, 10))))\r\n));\r\n\r\n//Temporary map\r\nMap&lt;Integer, Student&gt; mapTemp = list.stream()\r\n        .collect(Collectors.toMap(Student::getStudentId,                                        //grouping by student id\r\n                Function.identity(),                                                            //setting as value the student\r\n                (s1, s2) -&gt; new Student(s1.getStudentId(), new ArrayList&lt;&gt;(                     //Creating a new Student whose list of marks is given by the merged marks of the two colliding students\r\n                        Stream.concat(s1.getMarkList().stream(), s2.getMarkList().stream())     //Chaining the two lists of marks into a single stream\r\n                                .collect(Collectors.toMap(Marks::getSubjectId,                  //Grouping by the marks by the subject id\r\n                                        Function.identity(),                                    //Setting as value the mark\r\n                                        (m1, m2) -&gt; new Marks(m1.getSubjectId(), m1.getMark() + m2.getMark())))  //Handling the colliding marks by summing them together\r\n                                .values())))                                                    //Retrieving the collection of merged marks\r\n        );\r\n\r\n//Result list with the merged students\r\nList listRes = new ArrayList(mapTemp.values());\r\nSystem.out.println(listRes);\r\n```\r\n\r\nHere there is also a link to test the code above:\r\n\r\nhttps://ideone.com/0i6ZqG","title":"Java 8 , Merge two or more nested list","body":"<p>You could map each student by their id with the terminal operation <code>collect(Collectors.toMap())</code>, then handling the collision cases to merge your different instances of student into a new one.</p>\n<p>At that point, when instancing a new <code>Student</code>, you could implement a nested stream to merge the marks of the two colliding instances. By applying a second <code>collect(Collectors.toMap())</code>, you could group the marks by the subject id and then handling once again the colliding cases by merging the marks' value.</p>\n<p>In the snippet below, I've enriched your test case by adding a second <code>Student</code>:</p>\n<pre><code>List&lt;Student&gt; list = new ArrayList&lt;&gt;(List.of(\n        new Student(1, new ArrayList&lt;&gt;(List.of(new Marks(1, 10), new Marks(2, 10)))),\n        new Student(1, new ArrayList&lt;&gt;(List.of(new Marks(1, 15), new Marks(3, 10)))),\n        new Student(2, new ArrayList&lt;&gt;(List.of(new Marks(1, 5), new Marks(2, 10)))),\n        new Student(2, new ArrayList&lt;&gt;(List.of(new Marks(2, 5), new Marks(3, 10))))\n));\n\n//Temporary map\nMap&lt;Integer, Student&gt; mapTemp = list.stream()\n        .collect(Collectors.toMap(Student::getStudentId,                                        //grouping by student id\n                Function.identity(),                                                            //setting as value the student\n                (s1, s2) -&gt; new Student(s1.getStudentId(), new ArrayList&lt;&gt;(                     //Creating a new Student whose list of marks is given by the merged marks of the two colliding students\n                        Stream.concat(s1.getMarkList().stream(), s2.getMarkList().stream())     //Chaining the two lists of marks into a single stream\n                                .collect(Collectors.toMap(Marks::getSubjectId,                  //Grouping by the marks by the subject id\n                                        Function.identity(),                                    //Setting as value the mark\n                                        (m1, m2) -&gt; new Marks(m1.getSubjectId(), m1.getMark() + m2.getMark())))  //Handling the colliding marks by summing them together\n                                .values())))                                                    //Retrieving the collection of merged marks\n        );\n\n//Result list with the merged students\nList listRes = new ArrayList(mapTemp.values());\nSystem.out.println(listRes);\n</code></pre>\n<p>Here there is also a link to test the code above:</p>\n<p><a href=\"https://ideone.com/0i6ZqG\" rel=\"nofollow noreferrer\">https://ideone.com/0i6ZqG</a></p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653477650,"creation_date":1653477650,"answer_id":72376686,"question_id":72345314,"body_markdown":"Since you are using nested lists, the best way to approach the solution will be using `MAP`. \r\n\r\n\r\n```\r\nList&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n        studentList.add(new Student(1,new ArrayList&lt;Marks&gt;(){{\r\n            add(new Marks(1,10));\r\n            add(new Marks(2,8));\r\n        }}));\r\n        studentList.add(new Student(1,new ArrayList&lt;Marks&gt;(){{\r\n            add(new Marks(1,5));\r\n            add(new Marks(2,8));\r\n            add(new Marks(3,6));\r\n        }}));\r\n\r\n```\r\nYou can add more students and their marks for more testing. \r\n\r\nThe main objective would be to calculate each subject&#39;s mark for each individual student and store it into a `Map` object.\r\n```\r\n       //Storing the latest merged marks for each students .\r\n        Map&lt;Integer,List&lt;Marks&gt;&gt; listMap = new HashMap&lt;Integer,List&lt;Marks&gt;&gt;();\r\n        for(Student student: studentList){\r\n\r\n            if(!listMap.containsKey(student.getStudentId())){\r\n                listMap.put(student.getStudentId(),student.getMarkList());\r\n            }else{\r\n                /** storing individual marks of each subject for this student\r\n                 * &lt;k,v&gt; = &lt;SubjectID ,Marks&gt;\r\n                */\r\n                Map&lt;Integer,Integer&gt; merge = new HashMap&lt;&gt;();\r\n\r\n                // storing existing marks of any subjectID.\r\n                for(Marks oldMark : listMap.get(student.getStudentId())){\r\n                    merge.put(oldMark.getSubjectId(),oldMark.getMark());\r\n                }\r\n                // calculating new marks as per each subject id\r\n                for(Marks newMark : student.getMarkList()){\r\n                    // checking whether subject has any old values or not .\r\n                    int val = merge.get(newMark.getSubjectId()) == null ? 0: merge.get(newMark.getSubjectId()) ;\r\n                    merge.put(newMark.getSubjectId(),val+newMark.getMark());\r\n                }\r\n\r\n                //creating new merged marks list\r\n                List&lt;Marks&gt; temp = new ArrayList&lt;Marks&gt;();\r\n                for(int sid : merge.keySet()){\r\n                    temp.add(new Marks(sid,merge.get(sid)));\r\n                }\r\n                // updating the main map with new merged values\r\n                listMap.put(student.getStudentId(),temp);\r\n            }\r\n        }\r\n```\r\n\r\nOnce you get your final merged map you can convert the same to a Student type of list if needed. \r\n\r\n","title":"Java 8 , Merge two or more nested list","body":"<p>Since you are using nested lists, the best way to approach the solution will be using <code>MAP</code>.</p>\n<pre><code>List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\n        studentList.add(new Student(1,new ArrayList&lt;Marks&gt;(){{\n            add(new Marks(1,10));\n            add(new Marks(2,8));\n        }}));\n        studentList.add(new Student(1,new ArrayList&lt;Marks&gt;(){{\n            add(new Marks(1,5));\n            add(new Marks(2,8));\n            add(new Marks(3,6));\n        }}));\n\n</code></pre>\n<p>You can add more students and their marks for more testing.</p>\n<p>The main objective would be to calculate each subject's mark for each individual student and store it into a <code>Map</code> object.</p>\n<pre><code>       //Storing the latest merged marks for each students .\n        Map&lt;Integer,List&lt;Marks&gt;&gt; listMap = new HashMap&lt;Integer,List&lt;Marks&gt;&gt;();\n        for(Student student: studentList){\n\n            if(!listMap.containsKey(student.getStudentId())){\n                listMap.put(student.getStudentId(),student.getMarkList());\n            }else{\n                /** storing individual marks of each subject for this student\n                 * &lt;k,v&gt; = &lt;SubjectID ,Marks&gt;\n                */\n                Map&lt;Integer,Integer&gt; merge = new HashMap&lt;&gt;();\n\n                // storing existing marks of any subjectID.\n                for(Marks oldMark : listMap.get(student.getStudentId())){\n                    merge.put(oldMark.getSubjectId(),oldMark.getMark());\n                }\n                // calculating new marks as per each subject id\n                for(Marks newMark : student.getMarkList()){\n                    // checking whether subject has any old values or not .\n                    int val = merge.get(newMark.getSubjectId()) == null ? 0: merge.get(newMark.getSubjectId()) ;\n                    merge.put(newMark.getSubjectId(),val+newMark.getMark());\n                }\n\n                //creating new merged marks list\n                List&lt;Marks&gt; temp = new ArrayList&lt;Marks&gt;();\n                for(int sid : merge.keySet()){\n                    temp.add(new Marks(sid,merge.get(sid)));\n                }\n                // updating the main map with new merged values\n                listMap.put(student.getStudentId(),temp);\n            }\n        }\n</code></pre>\n<p>Once you get your final merged map you can convert the same to a Student type of list if needed.</p>\n"}],"owner":{"account_id":23245424,"reputation":31,"user_id":17334083,"display_name":"S_Nambiar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1653925224,"accepted_answer_id":72345688,"answer_count":2,"score":-1,"last_activity_date":1653477650,"creation_date":1653293938,"question_id":72345314,"body_markdown":"I need to merge inner/nested array :\r\n\r\n**Pojo structure** \r\n\r\n**Requirement** : How can I  achieve in java 8  if there are 2 lists or X number of list to merge? What is the easiest way to merge nested array ?\r\n\r\n    private class Student {\r\n        private int studentId;\r\n        private List&lt;Marks&gt; markList = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    private class Marks {\r\n        private Integer subjectId;\r\n        private String subjectName;\r\n        private Integer mark;\r\n    }\r\n     \r\nNeed to merge below 2 records: \r\n````\r\n{\r\n  &quot;studentId&quot;: 1,\r\n  &quot;Marks&quot;: [\r\n    {\r\n      &quot;subjectId&quot;: 1,\r\n      &quot;mark&quot;: 10\r\n    },\r\n    {\r\n      &quot;subjectId&quot;: 2,\r\n      &quot;mark&quot;: 10\r\n    }\r\n  ]\r\n}\r\n````\r\n````\r\n{\r\n  &quot;studentId&quot;: 1,\r\n  &quot;Marks&quot;: [\r\n    {\r\n      &quot;subjectId&quot;: 1,\r\n      &quot;mark&quot;: 15\r\n    },\r\n    {\r\n      &quot;subjectId&quot;: 3,\r\n      &quot;mark&quot;: 10\r\n    }\r\n  ]\r\n}\r\n````\r\nGiving the final expected result as :\r\n````\r\n{\r\n  &quot;studentId&quot;: 1,\r\n  &quot;Marks&quot;: [\r\n    {\r\n      &quot;subjectId&quot;: 1,\r\n      &quot;mark&quot;: 25 //Addition of record 1 and 2\r\n    },\r\n    {\r\n      &quot;subjectId&quot;: 2,\r\n      &quot;mark&quot;: 10\r\n    }\r\n    {\r\n      &quot;subjectId&quot;: 3,\r\n      &quot;mark&quot;: 10\r\n    }\r\n  ]\r\n}\r\n````","title":"Java 8 , Merge two or more nested list","body":"<p>I need to merge inner/nested array :</p>\n<p><strong>Pojo structure</strong></p>\n<p><strong>Requirement</strong> : How can I  achieve in java 8  if there are 2 lists or X number of list to merge? What is the easiest way to merge nested array ?</p>\n<pre><code>private class Student {\n    private int studentId;\n    private List&lt;Marks&gt; markList = new ArrayList&lt;&gt;();\n}\n\nprivate class Marks {\n    private Integer subjectId;\n    private String subjectName;\n    private Integer mark;\n}\n \n</code></pre>\n<p>Need to merge below 2 records:</p>\n<pre><code>{\n  &quot;studentId&quot;: 1,\n  &quot;Marks&quot;: [\n    {\n      &quot;subjectId&quot;: 1,\n      &quot;mark&quot;: 10\n    },\n    {\n      &quot;subjectId&quot;: 2,\n      &quot;mark&quot;: 10\n    }\n  ]\n}\n</code></pre>\n<pre><code>{\n  &quot;studentId&quot;: 1,\n  &quot;Marks&quot;: [\n    {\n      &quot;subjectId&quot;: 1,\n      &quot;mark&quot;: 15\n    },\n    {\n      &quot;subjectId&quot;: 3,\n      &quot;mark&quot;: 10\n    }\n  ]\n}\n</code></pre>\n<p>Giving the final expected result as :</p>\n<pre><code>{\n  &quot;studentId&quot;: 1,\n  &quot;Marks&quot;: [\n    {\n      &quot;subjectId&quot;: 1,\n      &quot;mark&quot;: 25 //Addition of record 1 and 2\n    },\n    {\n      &quot;subjectId&quot;: 2,\n      &quot;mark&quot;: 10\n    }\n    {\n      &quot;subjectId&quot;: 3,\n      &quot;mark&quot;: 10\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","json","api"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1653470198,"post_id":72374800,"comment_id":127858046,"body_markdown":"Please add the code to the question instead of in links","body":"Please add the code to the question instead of in links"},{"owner":{"account_id":16964904,"reputation":1,"user_id":12271096,"display_name":"Tomislav Živadinović"},"score":0,"creation_date":1653471042,"post_id":72374800,"comment_id":127858339,"body_markdown":"@NicoVanBelle I did","body":"@NicoVanBelle I did"}],"owner":{"account_id":16964904,"reputation":1,"user_id":12271096,"display_name":"Tomislav Živadinović"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653477439,"creation_date":1653469710,"question_id":72374800,"body_markdown":"Have this service for fetching data from API\r\n\r\n```java\r\npublic List&lt;StocksDTO&gt; fetchStocksData() {\r\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        List&lt;StocksDTO&gt; stockList = new ArrayList&lt;&gt;();\r\n\r\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;INTRADAY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\r\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;DAILY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\r\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;WEEKLY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\r\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;MONTHLY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\r\n        stockList.add(readObject(new HttpGet(&quot;https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo&quot;), httpClient, StocksDTO.class));\r\n        return stockList;\r\n    }\r\n```\r\n\r\n\r\nAPI structure\r\n```json\r\n{\r\n&quot;Meta Data&quot;: {\r\n&quot;1. Information&quot;: &quot;Intraday (5min) open, high, low, close prices and volume&quot;,\r\n&quot;2. Symbol&quot;: &quot;IBM&quot;,\r\n&quot;3. Last Refreshed&quot;: &quot;2022-05-24 19:45:00&quot;,\r\n&quot;4. Interval&quot;: &quot;5min&quot;,\r\n&quot;5. Output Size&quot;: &quot;Compact&quot;,\r\n&quot;6. Time Zone&quot;: &quot;US/Eastern&quot;\r\n},\r\n&quot;Time Series (5min)&quot;: {\r\n&quot;2022-05-24 19:45:00&quot;: {\r\n&quot;1. open&quot;: &quot;134.0100&quot;,\r\n&quot;2. high&quot;: &quot;134.0100&quot;,\r\n&quot;3. low&quot;: &quot;134.0100&quot;,\r\n&quot;4. close&quot;: &quot;134.0100&quot;,\r\n&quot;5. volume&quot;: &quot;500&quot;\r\n},\r\n&quot;2022-05-24 19:20:00&quot;: {\r\n&quot;1. open&quot;: &quot;134.3700&quot;,\r\n&quot;2. high&quot;: &quot;134.3700&quot;,\r\n&quot;3. low&quot;: &quot;134.3700&quot;,\r\n&quot;4. close&quot;: &quot;134.3700&quot;,\r\n&quot;5. volume&quot;: &quot;287&quot;\r\n},\r\n&quot;2022-05-24 19:00:00&quot;: {\r\n&quot;1. open&quot;: &quot;134.4800&quot;,\r\n&quot;2. high&quot;: &quot;134.4800&quot;,\r\n&quot;3. low&quot;: &quot;134.4800&quot;,\r\n&quot;4. close&quot;: &quot;134.4800&quot;,\r\n&quot;5. volume&quot;: &quot;100&quot;\r\n}\r\n```\r\nAlso available at [https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo][1]\r\n\r\nAnd I created 4 entities, but they&#39;re maybe wrong\r\n\r\nStocksDTO\r\n```java\r\n@Data\r\npublic class StocksDTO {\r\n    private ObjectId objectId;\r\n    @JsonAlias(&quot;Meta Data&quot;)\r\n    private StocksMetaDataDTO stockMetaData;\r\n    @JsonAlias(&quot;Time Series (5min)&quot;)\r\n    private StocksTimeSeriesDTO stockTimeSeries;\r\n}\r\n```\r\nStocksMetaDataDTO\r\n```java\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class StocksMetaDataDTO {\r\n    @JsonAlias(&quot;1. Information&quot;)\r\n    private String information;\r\n    @JsonAlias(&quot;2. Symbol&quot;)\r\n    private String symbol;\r\n    @JsonAlias(&quot;3. Last Refreshed&quot;)\r\n    private String lastRefreshed;\r\n    @JsonInclude(Include.NON_NULL)\r\n    @JsonAlias(&quot;4. Interval&quot;)\r\n    private String interval;\r\n    @JsonInclude(Include.NON_NULL)\r\n    @JsonAlias(&quot;5. Output Size&quot;)\r\n    private String outputSize;\r\n    @JsonInclude(Include.NON_NULL)\r\n    @JsonAlias(&quot;6. Time Zone&quot;)\r\n    private String timeZone;\r\n}\r\n```\r\nStockTimeSeriesDataDTO.java\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\npublic class StocksTimeSeriesDataDTO {\r\n    @JsonProperty(&quot;1. open&quot;)\r\n    private String open;\r\n    @JsonProperty(&quot;2. high&quot;)\r\n    private String high;\r\n    @JsonProperty(&quot;3. low&quot;)\r\n    private String low;\r\n    @JsonProperty(&quot;4. close&quot;)\r\n    private String close;\r\n    @JsonProperty(&quot;5. volume&quot;)\r\n    private String volume;\r\n}\r\n```\r\nStocksTimeSeriesDTO\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonDeserialize(using = StocksDeserializer.class)\r\npublic class StocksTimeSeriesDTO {\r\n    Map&lt;String, StocksTimeSeriesDataDTO&gt; timeSeriesData;\r\n}\r\n```\r\n\r\nAlso have this deserializer... \r\n  ```java\r\npublic class StocksDeserializer extends StdDeserializer&lt;Map&lt;String, StocksTimeSeriesDataDTO&gt;&gt; {\r\n    public StocksDeserializer() {\r\n        super(Map.class);\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, StocksTimeSeriesDataDTO&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        return jsonParser.readValueAs(Map.class);\r\n    }\r\n}\r\n```\r\n\r\nand I get this message everytime I try to call service com.fasterxml.jackson.databind.JsonMappingException: Problem deserializing property\r\n\r\nMaybe I made mistake when I created entities, maybe its not structure like that...\r\nDoes somebody know where is the problem?\r\n\r\n\r\n  [1]: https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo","title":"com.fasterxml.jackson.databind.JsonMappingException: Problem deserializing property...... actual type: `java.util.LinkedHashMap`)","body":"<p>Have this service for fetching data from API</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;StocksDTO&gt; fetchStocksData() {\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\n        List&lt;StocksDTO&gt; stockList = new ArrayList&lt;&gt;();\n\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;INTRADAY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;DAILY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;WEEKLY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\n        // stockList.add(readObject(new HttpGet(String.format(API_URL, getFunctionType(&quot;MONTHLY&quot;), SYMBOL, INTERVAL, API_KEY)), httpClient, StocksDTO.class));\n        stockList.add(readObject(new HttpGet(&quot;https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo&quot;), httpClient, StocksDTO.class));\n        return stockList;\n    }\n</code></pre>\n<p>API structure</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;Meta Data&quot;: {\n&quot;1. Information&quot;: &quot;Intraday (5min) open, high, low, close prices and volume&quot;,\n&quot;2. Symbol&quot;: &quot;IBM&quot;,\n&quot;3. Last Refreshed&quot;: &quot;2022-05-24 19:45:00&quot;,\n&quot;4. Interval&quot;: &quot;5min&quot;,\n&quot;5. Output Size&quot;: &quot;Compact&quot;,\n&quot;6. Time Zone&quot;: &quot;US/Eastern&quot;\n},\n&quot;Time Series (5min)&quot;: {\n&quot;2022-05-24 19:45:00&quot;: {\n&quot;1. open&quot;: &quot;134.0100&quot;,\n&quot;2. high&quot;: &quot;134.0100&quot;,\n&quot;3. low&quot;: &quot;134.0100&quot;,\n&quot;4. close&quot;: &quot;134.0100&quot;,\n&quot;5. volume&quot;: &quot;500&quot;\n},\n&quot;2022-05-24 19:20:00&quot;: {\n&quot;1. open&quot;: &quot;134.3700&quot;,\n&quot;2. high&quot;: &quot;134.3700&quot;,\n&quot;3. low&quot;: &quot;134.3700&quot;,\n&quot;4. close&quot;: &quot;134.3700&quot;,\n&quot;5. volume&quot;: &quot;287&quot;\n},\n&quot;2022-05-24 19:00:00&quot;: {\n&quot;1. open&quot;: &quot;134.4800&quot;,\n&quot;2. high&quot;: &quot;134.4800&quot;,\n&quot;3. low&quot;: &quot;134.4800&quot;,\n&quot;4. close&quot;: &quot;134.4800&quot;,\n&quot;5. volume&quot;: &quot;100&quot;\n}\n</code></pre>\n<p>Also available at <a href=\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo\" rel=\"nofollow noreferrer\">https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&amp;symbol=IBM&amp;interval=5min&amp;apikey=demo</a></p>\n<p>And I created 4 entities, but they're maybe wrong</p>\n<p>StocksDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class StocksDTO {\n    private ObjectId objectId;\n    @JsonAlias(&quot;Meta Data&quot;)\n    private StocksMetaDataDTO stockMetaData;\n    @JsonAlias(&quot;Time Series (5min)&quot;)\n    private StocksTimeSeriesDTO stockTimeSeries;\n}\n</code></pre>\n<p>StocksMetaDataDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class StocksMetaDataDTO {\n    @JsonAlias(&quot;1. Information&quot;)\n    private String information;\n    @JsonAlias(&quot;2. Symbol&quot;)\n    private String symbol;\n    @JsonAlias(&quot;3. Last Refreshed&quot;)\n    private String lastRefreshed;\n    @JsonInclude(Include.NON_NULL)\n    @JsonAlias(&quot;4. Interval&quot;)\n    private String interval;\n    @JsonInclude(Include.NON_NULL)\n    @JsonAlias(&quot;5. Output Size&quot;)\n    private String outputSize;\n    @JsonInclude(Include.NON_NULL)\n    @JsonAlias(&quot;6. Time Zone&quot;)\n    private String timeZone;\n}\n</code></pre>\n<p>StockTimeSeriesDataDTO.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\npublic class StocksTimeSeriesDataDTO {\n    @JsonProperty(&quot;1. open&quot;)\n    private String open;\n    @JsonProperty(&quot;2. high&quot;)\n    private String high;\n    @JsonProperty(&quot;3. low&quot;)\n    private String low;\n    @JsonProperty(&quot;4. close&quot;)\n    private String close;\n    @JsonProperty(&quot;5. volume&quot;)\n    private String volume;\n}\n</code></pre>\n<p>StocksTimeSeriesDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonDeserialize(using = StocksDeserializer.class)\npublic class StocksTimeSeriesDTO {\n    Map&lt;String, StocksTimeSeriesDataDTO&gt; timeSeriesData;\n}\n</code></pre>\n<p>Also have this deserializer...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StocksDeserializer extends StdDeserializer&lt;Map&lt;String, StocksTimeSeriesDataDTO&gt;&gt; {\n  public StocksDeserializer() {\n      super(Map.class);\n  }\n\n  @Override\n  public Map&lt;String, StocksTimeSeriesDataDTO&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n      return jsonParser.readValueAs(Map.class);\n  }\n}\n</code></pre>\n<p>and I get this message everytime I try to call service com.fasterxml.jackson.databind.JsonMappingException: Problem deserializing property</p>\n<p>Maybe I made mistake when I created entities, maybe its not structure like that...\nDoes somebody know where is the problem?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653476943,"creation_date":1653476943,"answer_id":72376521,"question_id":72376336,"body_markdown":"In order to copy between buckets using S3&#39;s CopyObject API, the (single) role performing the copy must have [read access to the source and write access to the destination buckets](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html). The fact that they are in different accounts shouldn&#39;t make a difference, once you set up the permissions properly. In addition to the IAM Role&#39;s Permission Policy allowing the appropriate read and write access, the buckets must have Bucket Policies allowing the access to that role.\r\n\r\nIf you can&#39;t set up a single role, the other option would be to set up separate S3 Clients (one to read from one account, the other to write to the other) and you would need to manually download and upload each file. This would likely take significantly more time, require large amounts of bandwidth, and may cost more.","title":"How to copy files from a bucket on one AWS account to a bucket on another AWS account?","body":"<p>In order to copy between buckets using S3's CopyObject API, the (single) role performing the copy must have <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html\" rel=\"nofollow noreferrer\">read access to the source and write access to the destination buckets</a>. The fact that they are in different accounts shouldn't make a difference, once you set up the permissions properly. In addition to the IAM Role's Permission Policy allowing the appropriate read and write access, the buckets must have Bucket Policies allowing the access to that role.</p>\n<p>If you can't set up a single role, the other option would be to set up separate S3 Clients (one to read from one account, the other to write to the other) and you would need to manually download and upload each file. This would likely take significantly more time, require large amounts of bandwidth, and may cost more.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653477024,"creation_date":1653477024,"answer_id":72376540,"question_id":72376336,"body_markdown":"If you want to use the copyObject method, you&#39;ll need one set of credentials that will give you permissions on both buckets.\r\n\r\nSo best to use an IAM user from the target account, and give it read permissions on the S3 bucket in the source account.\r\n\r\nThere&#39;s a walkthrough here: https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-walkthroughs-managing-access-example2.html","title":"How to copy files from a bucket on one AWS account to a bucket on another AWS account?","body":"<p>If you want to use the copyObject method, you'll need one set of credentials that will give you permissions on both buckets.</p>\n<p>So best to use an IAM user from the target account, and give it read permissions on the S3 bucket in the source account.</p>\n<p>There's a walkthrough here: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-walkthroughs-managing-access-example2.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-walkthroughs-managing-access-example2.html</a></p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72376521,"answer_count":2,"score":0,"last_activity_date":1653477024,"creation_date":1653476176,"question_id":72376336,"body_markdown":"I am facing a change in project requirement where until now I had to copy files between 2 buckets under the same AWS account, and now I need to copy the files into a bucket in another account.\r\n\r\nCurrent code:\r\n\r\n    public void copyEventFromS3(String fromBucket, String fromKey, String toBucket, String toKey) {\r\n        ObjectListing listObjects = this.getListObjects(fromBucket, fromKey);\r\n        listObjects.getObjectSummaries().stream().forEach((item) -&gt; {\r\n            this.getS3().copyObject(item.getBucketName(), item.getKey(), toBucket, toKey);\r\n        });\r\n    }\r\n\r\nOf course I have the two account credentials.\r\n\r\nHow can this be done?","title":"How to copy files from a bucket on one AWS account to a bucket on another AWS account?","body":"<p>I am facing a change in project requirement where until now I had to copy files between 2 buckets under the same AWS account, and now I need to copy the files into a bucket in another account.</p>\n<p>Current code:</p>\n<pre><code>public void copyEventFromS3(String fromBucket, String fromKey, String toBucket, String toKey) {\n    ObjectListing listObjects = this.getListObjects(fromBucket, fromKey);\n    listObjects.getObjectSummaries().stream().forEach((item) -&gt; {\n        this.getS3().copyObject(item.getBucketName(), item.getKey(), toBucket, toKey);\n    });\n}\n</code></pre>\n<p>Of course I have the two account credentials.</p>\n<p>How can this be done?</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":0,"creation_date":1653232213,"post_id":72330238,"comment_id":127795782,"body_markdown":"do you want to apply scrollview to full view??","body":"do you want to apply scrollview to full view??"},{"owner":{"account_id":23009956,"reputation":91,"user_id":17132617,"display_name":"CarlJade"},"score":0,"creation_date":1653319675,"post_id":72330238,"comment_id":127817301,"body_markdown":"@Tanishq Chawda Yes","body":"@Tanishq Chawda Yes"}],"answers":[{"tags":[],"owner":{"account_id":16266080,"reputation":56,"user_id":16564712,"display_name":"Gaya Touak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653227156,"creation_date":1653168793,"answer_id":72333360,"question_id":72330238,"body_markdown":"your ScrollView should contain a layout inside it :\r\n\r\n**EDIT**\r\nthe attribut `android:orientation` in your `LinearLayout` should be `vertical` instead of `horizontal` \r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;Vertical&quot;&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/til_Idno&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;23&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Good valid!&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:maxLength=&quot;23&quot;\r\n            android:hint=&quot;ID No.&quot;\r\n            android:id=&quot;@+id/edtIdno&quot;\r\n            android:inputType=&quot;number&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/til_patientType&quot;\r\n\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        android:layout_below=&quot;@+id/til_Idno&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/spinnerAppointmentCat&quot;\r\n            android:layout_width= &quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/edtIdno&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/til_complaints&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        android:layout_below=&quot;@+id/til_patientType&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/spinnerComplaints&quot;\r\n            android:layout_width= &quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\r\n\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_firstname&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_complaints&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;First name&quot;\r\n            android:id=&quot;@+id/edtFirstname&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_middlename&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_firstname&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Middle name/initial&quot;\r\n            android:id=&quot;@+id/edtMiddleName&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_lastname&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_middlename&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Middle name/initial&quot;\r\n            android:id=&quot;@+id/edtLastname&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_sex&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_lastname&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Sex&quot;\r\n            android:id=&quot;@+id/edtSex&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtLastname&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_birthdate&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_sex&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Sex&quot;\r\n            android:id=&quot;@+id/edtBirthdate&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtSex&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_cpno&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_birthdate&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Contact&quot;\r\n            android:id=&quot;@+id/edtContact&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\r\n      &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n      &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_email&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_birthdate&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Email&quot;\r\n            android:id=&quot;@+id/edtEmail&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtContact&quot;/&gt;\r\n      &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n      &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/til_address&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:helperText=&quot;Mandatory&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:helperTextTextColor=&quot;@color/validation&quot;\r\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n        android:layout_below=&quot;@+id/til_email&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Address&quot;\r\n            android:id=&quot;@+id/edtAddress&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:layout_below=&quot;@id/edtEmail&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n  &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n  &lt;/RelativeLayout&gt;\r\n\r\n    ","title":"RelativeLayout with Scrollview in Android Studio","body":"<p>your ScrollView should contain a layout inside it :</p>\n<p><strong>EDIT</strong>\nthe attribut <code>android:orientation</code> in your <code>LinearLayout</code> should be <code>vertical</code> instead of <code>horizontal</code></p>\n<pre><code>&lt;ScrollView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;Vertical&quot;&gt;\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/til_Idno&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:counterMaxLength=&quot;23&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Good valid!&quot;\n    android:layout_marginTop=&quot;30dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:maxLength=&quot;23&quot;\n        android:hint=&quot;ID No.&quot;\n        android:id=&quot;@+id/edtIdno&quot;\n        android:inputType=&quot;number&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/til_patientType&quot;\n\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    android:layout_below=&quot;@+id/til_Idno&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spinnerAppointmentCat&quot;\n        android:layout_width= &quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/edtIdno&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/til_complaints&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    android:layout_below=&quot;@+id/til_patientType&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spinnerComplaints&quot;\n        android:layout_width= &quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\n\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_firstname&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_complaints&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;First name&quot;\n        android:id=&quot;@+id/edtFirstname&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_middlename&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_firstname&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Middle name/initial&quot;\n        android:id=&quot;@+id/edtMiddleName&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_lastname&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_middlename&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Middle name/initial&quot;\n        android:id=&quot;@+id/edtLastname&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_sex&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_lastname&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Sex&quot;\n        android:id=&quot;@+id/edtSex&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtLastname&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_birthdate&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_sex&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Sex&quot;\n        android:id=&quot;@+id/edtBirthdate&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtSex&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_cpno&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_birthdate&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Contact&quot;\n        android:id=&quot;@+id/edtContact&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\n  &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n  &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_email&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_birthdate&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Email&quot;\n        android:id=&quot;@+id/edtEmail&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtContact&quot;/&gt;\n  &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n  &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/til_address&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:endIconMode=&quot;clear_text&quot;\n    app:helperText=&quot;Mandatory&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    app:helperTextTextColor=&quot;@color/validation&quot;\n    app:startIconDrawable=&quot;@drawable/ic_series&quot;\n    android:layout_below=&quot;@+id/til_email&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Address&quot;\n        android:id=&quot;@+id/edtAddress&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_below=&quot;@id/edtEmail&quot;/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n  \n    \n  \n"},{"tags":[],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653477007,"creation_date":1653401552,"answer_id":72364479,"question_id":72330238,"body_markdown":"You must check whether it&#39;s like that or not...have a look into it.\r\n     \r\n\r\n    \r\n\r\n        &lt;RelativeLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@color/background&quot;\r\n            tools:context=&quot;.SignUp&quot;&gt;\r\n        \r\n              \r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/linear2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_above=&quot;@+id/confirmRequestBtn&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;4dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\r\n                &lt;ScrollView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:fillViewport=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n               &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/til_Idno&quot;\r\n                app:counterEnabled=&quot;true&quot;\r\n                app:counterMaxLength=&quot;23&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Good valid!&quot;\r\n                android:layout_marginTop=&quot;30dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:maxLength=&quot;23&quot;\r\n                    android:hint=&quot;ID No.&quot;\r\n                    android:id=&quot;@+id/edtIdno&quot;\r\n                    android:inputType=&quot;number&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/til_patientType&quot;\r\n        \r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                android:layout_below=&quot;@+id/til_Idno&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/spinnerAppointmentCat&quot;\r\n                    android:layout_width= &quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/edtIdno&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/til_complaints&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                android:layout_below=&quot;@+id/til_patientType&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;Spinner\r\n                    android:id=&quot;@+id/spinnerComplaints&quot;\r\n                    android:layout_width= &quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\r\n        \r\n        \r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_firstname&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_complaints&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;First name&quot;\r\n                    android:id=&quot;@+id/edtFirstname&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_middlename&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_firstname&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Middle name/initial&quot;\r\n                    android:id=&quot;@+id/edtMiddleName&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_lastname&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_middlename&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Middle name/initial&quot;\r\n                    android:id=&quot;@+id/edtLastname&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_sex&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_lastname&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Sex&quot;\r\n                    android:id=&quot;@+id/edtSex&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtLastname&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_birthdate&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_sex&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Sex&quot;\r\n                    android:id=&quot;@+id/edtBirthdate&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtSex&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_cpno&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_birthdate&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Contact&quot;\r\n                    android:id=&quot;@+id/edtContact&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n             &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_email&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_birthdate&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Email&quot;\r\n                    android:id=&quot;@+id/edtEmail&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtContact&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        \r\n            &lt;com.google.android.material.textfield.TextInputLayout\r\n                android:id=&quot;@+id/til_address&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:endIconMode=&quot;clear_text&quot;\r\n                app:helperText=&quot;Mandatory&quot;\r\n                android:layout_marginTop=&quot;25dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                app:helperTextTextColor=&quot;@color/validation&quot;\r\n                app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n                android:layout_below=&quot;@+id/til_email&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n        \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;Address&quot;\r\n                    android:id=&quot;@+id/edtAddress&quot;\r\n                    android:inputType=&quot;number&quot;\r\n                    android:layout_below=&quot;@id/edtEmail&quot;/&gt;\r\n            &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;/ScrollView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/background&quot;\r\n            android:layout_marginLeft=&quot;20dp&quot;\r\n            android:text=&quot;Appointment&quot;\r\n            android:fontFamily=&quot;sans-serif-condensed&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n            android:textSize=&quot;15dp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/confirmRequestBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/mybutton&quot;\r\n            android:textSize=&quot;20dp&quot;\r\n            android:text=&quot;Confirm Request&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n      \r\n    ","title":"RelativeLayout with Scrollview in Android Studio","body":"<p>You must check whether it's like that or not...have a look into it.</p>\n<pre><code>    &lt;RelativeLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;@color/background&quot;\n        tools:context=&quot;.SignUp&quot;&gt;\n    \n          \n        &lt;RelativeLayout\n            android:id=&quot;@+id/linear2&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_above=&quot;@+id/confirmRequestBtn&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginTop=&quot;4dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\n            &lt;ScrollView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:fillViewport=&quot;true&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n           &lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/til_Idno&quot;\n            app:counterEnabled=&quot;true&quot;\n            app:counterMaxLength=&quot;23&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Good valid!&quot;\n            android:layout_marginTop=&quot;30dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:maxLength=&quot;23&quot;\n                android:hint=&quot;ID No.&quot;\n                android:id=&quot;@+id/edtIdno&quot;\n                android:inputType=&quot;number&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/til_patientType&quot;\n    \n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            android:layout_below=&quot;@+id/til_Idno&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;Spinner\n                android:id=&quot;@+id/spinnerAppointmentCat&quot;\n                android:layout_width= &quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/edtIdno&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/til_complaints&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            android:layout_below=&quot;@+id/til_patientType&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;Spinner\n                android:id=&quot;@+id/spinnerComplaints&quot;\n                android:layout_width= &quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\n    \n    \n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    \n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_firstname&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_complaints&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;First name&quot;\n                android:id=&quot;@+id/edtFirstname&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    \n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_middlename&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_firstname&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Middle name/initial&quot;\n                android:id=&quot;@+id/edtMiddleName&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_lastname&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_middlename&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Middle name/initial&quot;\n                android:id=&quot;@+id/edtLastname&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    \n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_sex&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_lastname&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Sex&quot;\n                android:id=&quot;@+id/edtSex&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtLastname&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_birthdate&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_sex&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Sex&quot;\n                android:id=&quot;@+id/edtBirthdate&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtSex&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_cpno&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_birthdate&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Contact&quot;\n                android:id=&quot;@+id/edtContact&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n         &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_email&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_birthdate&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Email&quot;\n                android:id=&quot;@+id/edtEmail&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtContact&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    \n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=&quot;@+id/til_address&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:endIconMode=&quot;clear_text&quot;\n            app:helperText=&quot;Mandatory&quot;\n            android:layout_marginTop=&quot;25dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            app:helperTextTextColor=&quot;@color/validation&quot;\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\n            android:layout_below=&quot;@+id/til_email&quot;\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n    \n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;Address&quot;\n                android:id=&quot;@+id/edtAddress&quot;\n                android:inputType=&quot;number&quot;\n                android:layout_below=&quot;@id/edtEmail&quot;/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n&lt;/RelativeLayout&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/background&quot;\n        android:layout_marginLeft=&quot;20dp&quot;\n        android:text=&quot;Appointment&quot;\n        android:fontFamily=&quot;sans-serif-condensed&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n        android:textSize=&quot;15dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/confirmRequestBtn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:background=&quot;@drawable/mybutton&quot;\n        android:textSize=&quot;20dp&quot;\n        android:text=&quot;Confirm Request&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:layout_marginBottom=&quot;5dp&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n\n  \n</code></pre>\n"}],"owner":{"account_id":23009956,"reputation":91,"user_id":17132617,"display_name":"CarlJade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653477007,"creation_date":1653141515,"question_id":72330238,"body_markdown":"I know this is common to ask but I&#39;m confused. I have a `RelativeLayout` forms with `editText` and `spinner`, now I want to apply the `ScrollView` to scroll the data from above to bottom since I have a lot of data to be inputted. I tried putting `Scrollview` after the first layout but it doesn&#39;t work. Need help\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Activitymain.xml**\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/background&quot;\r\n    tools:context=&quot;.SignUp&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/linear2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/confirmRequestBtn&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_Idno&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;23&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Good valid!&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:maxLength=&quot;23&quot;\r\n                android:hint=&quot;ID No.&quot;\r\n                android:id=&quot;@+id/edtIdno&quot;\r\n                android:inputType=&quot;number&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_patientType&quot;\r\n\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            android:layout_below=&quot;@+id/til_Idno&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spinnerAppointmentCat&quot;\r\n                android:layout_width= &quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/edtIdno&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_complaints&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            android:layout_below=&quot;@+id/til_patientType&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spinnerComplaints&quot;\r\n                android:layout_width= &quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\r\n\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_firstname&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_complaints&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;First name&quot;\r\n                android:id=&quot;@+id/edtFirstname&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_middlename&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_firstname&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Middle name/initial&quot;\r\n                android:id=&quot;@+id/edtMiddleName&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_lastname&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_middlename&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Middle name/initial&quot;\r\n                android:id=&quot;@+id/edtLastname&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_sex&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_lastname&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Sex&quot;\r\n                android:id=&quot;@+id/edtSex&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtLastname&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_birthdate&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_sex&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Sex&quot;\r\n                android:id=&quot;@+id/edtBirthdate&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtSex&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_cpno&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_birthdate&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Contact&quot;\r\n                android:id=&quot;@+id/edtContact&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_email&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_birthdate&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Email&quot;\r\n                android:id=&quot;@+id/edtEmail&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtContact&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_address&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_email&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Address&quot;\r\n                android:id=&quot;@+id/edtAddress&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtEmail&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/background&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:text=&quot;Appointment&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n        android:textSize=&quot;15dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/confirmRequestBtn&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/mybutton&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:text=&quot;Confirm Request&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n**UPDATED : This is what I&#39;ve tried** I put `ScrollView` after the second `RelativeLayout` but where should I put the close tag of `ScrollView` and `LinearLayout` it brokes the design If I put it before `RelativeLayout`\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/background&quot;\r\n    tools:context=&quot;.SignUp&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/linear2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@+id/confirmRequestBtn&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_Idno&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;23&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Good valid!&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:maxLength=&quot;23&quot;\r\n                android:hint=&quot;ID No.&quot;\r\n                android:id=&quot;@+id/edtIdno&quot;\r\n                android:inputType=&quot;number&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_patientType&quot;\r\n\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            android:layout_below=&quot;@+id/til_Idno&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spinnerAppointmentCat&quot;\r\n                android:layout_width= &quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/edtIdno&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/til_complaints&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            android:layout_below=&quot;@+id/til_patientType&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;Spinner\r\n                android:id=&quot;@+id/spinnerComplaints&quot;\r\n                android:layout_width= &quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\r\n\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_firstname&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_complaints&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;First name&quot;\r\n                android:id=&quot;@+id/edtFirstname&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_middlename&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_firstname&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Middle name/initial&quot;\r\n                android:id=&quot;@+id/edtMiddleName&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_lastname&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_middlename&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Middle name/initial&quot;\r\n                android:id=&quot;@+id/edtLastname&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_sex&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_lastname&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Sex&quot;\r\n                android:id=&quot;@+id/edtSex&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtLastname&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_birthdate&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_sex&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Sex&quot;\r\n                android:id=&quot;@+id/edtBirthdate&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtSex&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_cpno&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_birthdate&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Contact&quot;\r\n                android:id=&quot;@+id/edtContact&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_email&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_birthdate&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Email&quot;\r\n                android:id=&quot;@+id/edtEmail&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtContact&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/til_address&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:endIconMode=&quot;clear_text&quot;\r\n            app:helperText=&quot;Mandatory&quot;\r\n            android:layout_marginTop=&quot;25dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            app:helperTextTextColor=&quot;@color/validation&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_series&quot;\r\n            android:layout_below=&quot;@+id/til_email&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;Address&quot;\r\n                android:id=&quot;@+id/edtAddress&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:layout_below=&quot;@id/edtEmail&quot;/&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/background&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:text=&quot;Appointment&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n        android:textSize=&quot;15dp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/confirmRequestBtn&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/mybutton&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:text=&quot;Confirm Request&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMHm2.png","title":"RelativeLayout with Scrollview in Android Studio","body":"<p>I know this is common to ask but I'm confused. I have a <code>RelativeLayout</code> forms with <code>editText</code> and <code>spinner</code>, now I want to apply the <code>ScrollView</code> to scroll the data from above to bottom since I have a lot of data to be inputted. I tried putting <code>Scrollview</code> after the first layout but it doesn't work. Need help</p>\n<p><a href=\"https://i.stack.imgur.com/HMHm2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMHm2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Activitymain.xml</strong></p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@color/background&quot;\ntools:context=&quot;.SignUp&quot;&gt;\n\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/linear2&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_above=&quot;@+id/confirmRequestBtn&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    android:layout_marginTop=&quot;4dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_Idno&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;23&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Good valid!&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:maxLength=&quot;23&quot;\n            android:hint=&quot;ID No.&quot;\n            android:id=&quot;@+id/edtIdno&quot;\n            android:inputType=&quot;number&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_patientType&quot;\n\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        android:layout_below=&quot;@+id/til_Idno&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;Spinner\n            android:id=&quot;@+id/spinnerAppointmentCat&quot;\n            android:layout_width= &quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/edtIdno&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_complaints&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        android:layout_below=&quot;@+id/til_patientType&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;Spinner\n            android:id=&quot;@+id/spinnerComplaints&quot;\n            android:layout_width= &quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\n\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_firstname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_complaints&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;First name&quot;\n            android:id=&quot;@+id/edtFirstname&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_middlename&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_firstname&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Middle name/initial&quot;\n            android:id=&quot;@+id/edtMiddleName&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_lastname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_middlename&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Middle name/initial&quot;\n            android:id=&quot;@+id/edtLastname&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_sex&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_lastname&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Sex&quot;\n            android:id=&quot;@+id/edtSex&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtLastname&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_birthdate&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_sex&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Sex&quot;\n            android:id=&quot;@+id/edtBirthdate&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtSex&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_cpno&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_birthdate&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Contact&quot;\n            android:id=&quot;@+id/edtContact&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_email&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_birthdate&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Email&quot;\n            android:id=&quot;@+id/edtEmail&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtContact&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_address&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_email&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Address&quot;\n            android:id=&quot;@+id/edtAddress&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtEmail&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n&lt;TextView\n    android:id=&quot;@+id/textView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@color/background&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:text=&quot;Appointment&quot;\n    android:fontFamily=&quot;sans-serif-condensed&quot;\n    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n    android:textSize=&quot;15dp&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/confirmRequestBtn&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:background=&quot;@drawable/mybutton&quot;\n    android:textSize=&quot;20dp&quot;\n    android:text=&quot;Confirm Request&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:layout_marginBottom=&quot;5dp&quot;/&gt;\n</code></pre>\n\n<p><strong>UPDATED : This is what I've tried</strong> I put <code>ScrollView</code> after the second <code>RelativeLayout</code> but where should I put the close tag of <code>ScrollView</code> and <code>LinearLayout</code> it brokes the design If I put it before <code>RelativeLayout</code></p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@color/background&quot;\ntools:context=&quot;.SignUp&quot;&gt;\n\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/linear2&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_above=&quot;@+id/confirmRequestBtn&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    android:layout_marginTop=&quot;4dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/selector_fieldset_background&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_Idno&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;23&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Good valid!&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_creditcard&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:maxLength=&quot;23&quot;\n            android:hint=&quot;ID No.&quot;\n            android:id=&quot;@+id/edtIdno&quot;\n            android:inputType=&quot;number&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_patientType&quot;\n\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        android:layout_below=&quot;@+id/til_Idno&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;Spinner\n            android:id=&quot;@+id/spinnerAppointmentCat&quot;\n            android:layout_width= &quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/edtIdno&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/til_complaints&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        android:layout_below=&quot;@+id/til_patientType&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;Spinner\n            android:id=&quot;@+id/spinnerComplaints&quot;\n            android:layout_width= &quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/spinnerAppointmentCat&quot;/&gt;\n\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_firstname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_complaints&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;First name&quot;\n            android:id=&quot;@+id/edtFirstname&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/spinnerComplaints&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_middlename&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_firstname&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Middle name/initial&quot;\n            android:id=&quot;@+id/edtMiddleName&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtFirstname&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_lastname&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_middlename&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Middle name/initial&quot;\n            android:id=&quot;@+id/edtLastname&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtMiddleName&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_sex&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_lastname&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Sex&quot;\n            android:id=&quot;@+id/edtSex&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtLastname&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_birthdate&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_sex&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Sex&quot;\n            android:id=&quot;@+id/edtBirthdate&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtSex&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_cpno&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_birthdate&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Contact&quot;\n            android:id=&quot;@+id/edtContact&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtBirthdate&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_email&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_birthdate&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Email&quot;\n            android:id=&quot;@+id/edtEmail&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtContact&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/til_address&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:helperText=&quot;Mandatory&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:helperTextTextColor=&quot;@color/validation&quot;\n        app:startIconDrawable=&quot;@drawable/ic_series&quot;\n        android:layout_below=&quot;@+id/til_email&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.Dense&quot;&gt;\n\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Address&quot;\n            android:id=&quot;@+id/edtAddress&quot;\n            android:inputType=&quot;number&quot;\n            android:layout_below=&quot;@id/edtEmail&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@color/background&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:text=&quot;Appointment&quot;\n    android:fontFamily=&quot;sans-serif-condensed&quot;\n    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\n    android:textSize=&quot;15dp&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/confirmRequestBtn&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_marginLeft=&quot;10dp&quot;\n    android:layout_marginRight=&quot;10dp&quot;\n    android:background=&quot;@drawable/mybutton&quot;\n    android:textSize=&quot;20dp&quot;\n    android:text=&quot;Confirm Request&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:layout_marginBottom=&quot;5dp&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653476943,"creation_date":1642478365,"answer_id":70750130,"question_id":70748426,"body_markdown":"That&#39;s not the webView.....Intent is passed into your web browser so that Link is redirected\r\ncall your button listener inside that \r\n\r\n    Intent i = new Intent(Intent.ACTION_VIEW);\r\n            i.setData(Uri.parse(yourURI));\r\n            context.startActivity(i); \r\n","title":"How to open a link with multiple choices in an Android app","body":"<p>That's not the webView.....Intent is passed into your web browser so that Link is redirected\ncall your button listener inside that</p>\n<pre><code>Intent i = new Intent(Intent.ACTION_VIEW);\n        i.setData(Uri.parse(yourURI));\n        context.startActivity(i); \n</code></pre>\n"}],"owner":{"account_id":21618074,"reputation":11,"user_id":15943561,"display_name":"Raya Tui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653476943,"creation_date":1642459961,"question_id":70748426,"body_markdown":"I saw on the Discord application that as soon as we open a link, the application asks us to choose our browser if we have several.\r\n\r\nThen the web page is displayed with a toolbar. In this toolbar there is a cross on the left to return to the application. I imagine some kind of WebView.\r\n\r\n**Does anyone know how to do this in Java for an Android app or tutorial I can&#39;t find anything similar on the internet**","title":"How to open a link with multiple choices in an Android app","body":"<p>I saw on the Discord application that as soon as we open a link, the application asks us to choose our browser if we have several.</p>\n<p>Then the web page is displayed with a toolbar. In this toolbar there is a cross on the left to return to the application. I imagine some kind of WebView.</p>\n<p><strong>Does anyone know how to do this in Java for an Android app or tutorial I can't find anything similar on the internet</strong></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1649609578,"post_id":71818674,"comment_id":126913688,"body_markdown":"Use retrace to deobfuscate the stack trace.","body":"Use retrace to deobfuscate the stack trace."},{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":1,"creation_date":1649610626,"post_id":71818674,"comment_id":126913944,"body_markdown":"can you please elaborate me","body":"can you please elaborate me"},{"owner":{"account_id":12891544,"reputation":1283,"user_id":9323369,"display_name":"Rohit Jakhar"},"score":2,"creation_date":1649614422,"post_id":71818674,"comment_id":126914856,"body_markdown":"show the code of java.lang.NullPointerException: it1 must not be null","body":"show the code of java.lang.NullPointerException: it1 must not be null"},{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":0,"creation_date":1649615494,"post_id":71818674,"comment_id":126915123,"body_markdown":"it.let { it1 -&gt; (binding.rvExams.adapter as CategoryExamAdapter).setExamList(it1) }\n                (binding.rvExams.adapter as CategoryExamAdapter).notifyDataSetChanged()\n            }    @RohitJakhar","body":"it.let { it1 -&gt; (binding.rvExams.adapter as CategoryExamAdapter).setExamList(it1) }                 (binding.rvExams.adapter as CategoryExamAdapter).notifyDataSetChanged()             }    @RohitJakhar"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1649619695,"post_id":71818674,"comment_id":126916030,"body_markdown":"https://developer.android.com/studio/build/shrink-code#decode-stack-trace","body":"<a href=\"https://developer.android.com/studio/build/shrink-code#decode-stack-trace\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/&hellip;</a>"}],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653476890,"creation_date":1649609277,"question_id":71818674,"body_markdown":"\r\nWhen I add proguard rules it crashes....well razorpay proguard works fine only the case with ExamSelectionActivity it crashes only when... I need to set proguard rules for shrinkResources true....\r\n\r\nmy proguard rules here:\r\n   \r\n\r\n     -keepattributes LineNumberTable,SourceFile\r\n    -renamesourcefileattribute SourceFile\r\n    \r\n    -keepclassmembers class * {\r\n        @android.webkit.JavascriptInterface &lt;methods&gt;;\r\n    }\r\n    \r\n    -keepattributes JavascriptInterface\r\n    -keepattributes *Annotation*\r\n    \r\n    -dontwarn com.razorpay.**\r\n    -keep class com.razorpay.** {*;}\r\n    \r\n    -optimizations !method/inlining/*\r\n    \r\n    -keepclasseswithmembers class * {\r\n      public void onPayment*(...);\r\n    }\r\n \r\n    -keep class com.examlounge.examloungeapp.view.ExamSelectionActivity\r\n\r\nMy progaurd rules\r\n\r\nI have already the added class in proguard which its showing error\r\n\r\nMy error\r\n\r\n    2022-04-10 22:08:44.999 24493-24493/com.examlounge.examloungeapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.examlounge.examloungeapp, PID: 24493\r\n    java.lang.NullPointerException: it1 must not be null\r\n        at com.examlounge.examloungeapp.view.ExamSelectionActivity.c0(SourceFile:143)\r\n        at com.examlounge.examloungeapp.view.ExamSelectionActivity.S(Unknown Source:0)\r\n        at f4.b1.d(Unknown Source:4)\r\n        at androidx.lifecycle.LiveData.c(SourceFile:133)\r\n        at androidx.lifecycle.LiveData.d(SourceFile:151)\r\n        at androidx.lifecycle.LiveData.m(SourceFile:309)\r\n        at androidx.lifecycle.v.m(SourceFile:50)\r\n        at h4.g$c.w(SourceFile:124)\r\n        at yc.a.l(SourceFile:33)\r\n        at pd.v0.run(SourceFile:106)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7025)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\r\n\r\n\r\n\r\nWhen I do minifyEnabled false its work fine\r\n\r\n\r\n","title":"When I do minifiyEnabled true and Add Progurad leads to Crash the App without it working fine","body":"<p>When I add proguard rules it crashes....well razorpay proguard works fine only the case with ExamSelectionActivity it crashes only when... I need to set proguard rules for shrinkResources true....</p>\n<p>my proguard rules here:</p>\n<pre><code> -keepattributes LineNumberTable,SourceFile\n-renamesourcefileattribute SourceFile\n\n-keepclassmembers class * {\n    @android.webkit.JavascriptInterface &lt;methods&gt;;\n}\n\n-keepattributes JavascriptInterface\n-keepattributes *Annotation*\n\n-dontwarn com.razorpay.**\n-keep class com.razorpay.** {*;}\n\n-optimizations !method/inlining/*\n\n-keepclasseswithmembers class * {\n  public void onPayment*(...);\n}\n\n-keep class com.examlounge.examloungeapp.view.ExamSelectionActivity\n</code></pre>\n<p>My progaurd rules</p>\n<p>I have already the added class in proguard which its showing error</p>\n<p>My error</p>\n<pre><code>2022-04-10 22:08:44.999 24493-24493/com.examlounge.examloungeapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.examlounge.examloungeapp, PID: 24493\njava.lang.NullPointerException: it1 must not be null\n    at com.examlounge.examloungeapp.view.ExamSelectionActivity.c0(SourceFile:143)\n    at com.examlounge.examloungeapp.view.ExamSelectionActivity.S(Unknown Source:0)\n    at f4.b1.d(Unknown Source:4)\n    at androidx.lifecycle.LiveData.c(SourceFile:133)\n    at androidx.lifecycle.LiveData.d(SourceFile:151)\n    at androidx.lifecycle.LiveData.m(SourceFile:309)\n    at androidx.lifecycle.v.m(SourceFile:50)\n    at h4.g$c.w(SourceFile:124)\n    at yc.a.l(SourceFile:33)\n    at pd.v0.run(SourceFile:106)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:7025)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\n</code></pre>\n<p>When I do minifyEnabled false its work fine</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653476877,"creation_date":1649482320,"answer_id":71805519,"question_id":71338619,"body_markdown":"\r\nJust simply do `cueVideo(your video id)` instead of `loadVideo(your Video id)`\r\n\r\n    fun playVideo(videoId: String){\r\n        qHandlernew?.removeCallbacksAndMessages(null)\r\n        var startPoint =\r\n            Uri.parse(videoId)\r\n                .getQueryParameter(&quot;start&quot;)\r\n        var endPoint: String? =\r\n            Uri.parse(videoId)\r\n                .getQueryParameter(&quot;end&quot;)\r\n\r\n        val part =\r\n            videoId.substring(0, videoId.lastIndexOf(&#39;?&#39;))\r\n        val youtubeId = part.substring(part.length - 11, part.length)\r\n        if (startPoint == null)\r\n            player?.cueVideo(youtubeId)\r\n        else\r\n            player?.cueVideo(\r\n                youtubeId,\r\n                Integer.parseInt(startPoint) * 1000\r\n            )\r\n        Log.d(&quot;videosCheck&quot;, &quot;onInitializationSuccess: $videoId&quot;)\r\n        if (endPoint != null) {\r\n\r\n            qHandlernew = Handler()\r\n            qHandlernew!!.postDelayed(object : Runnable {\r\n                override fun run() {\r\n                    //For every 1 second, check the current time and endTime\r\n                    if (player?.currentTimeMillis!! &lt;= Integer.parseInt(\r\n                            endPoint\r\n                        ) * 1000\r\n                    ) {\r\n                        qHandlernew!!.postDelayed(this, 1000)\r\n                    } else {\r\n                        qHandlernew!!.removeCallbacks(this) //no longer required\r\n                        player?.pause() //and Pause the video\r\n                    }\r\n                }\r\n            }, 1000)\r\n        }\r\n    }","title":"How to disable AutoPlay video in youtube Player Api in Android in kotlin?","body":"<p>Just simply do <code>cueVideo(your video id)</code> instead of <code>loadVideo(your Video id)</code></p>\n<pre><code>fun playVideo(videoId: String){\n    qHandlernew?.removeCallbacksAndMessages(null)\n    var startPoint =\n        Uri.parse(videoId)\n            .getQueryParameter(&quot;start&quot;)\n    var endPoint: String? =\n        Uri.parse(videoId)\n            .getQueryParameter(&quot;end&quot;)\n\n    val part =\n        videoId.substring(0, videoId.lastIndexOf('?'))\n    val youtubeId = part.substring(part.length - 11, part.length)\n    if (startPoint == null)\n        player?.cueVideo(youtubeId)\n    else\n        player?.cueVideo(\n            youtubeId,\n            Integer.parseInt(startPoint) * 1000\n        )\n    Log.d(&quot;videosCheck&quot;, &quot;onInitializationSuccess: $videoId&quot;)\n    if (endPoint != null) {\n\n        qHandlernew = Handler()\n        qHandlernew!!.postDelayed(object : Runnable {\n            override fun run() {\n                //For every 1 second, check the current time and endTime\n                if (player?.currentTimeMillis!! &lt;= Integer.parseInt(\n                        endPoint\n                    ) * 1000\n                ) {\n                    qHandlernew!!.postDelayed(this, 1000)\n                } else {\n                    qHandlernew!!.removeCallbacks(this) //no longer required\n                    player?.pause() //and Pause the video\n                }\n            }\n        }, 1000)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71805519,"answer_count":1,"score":1,"last_activity_date":1653476877,"creation_date":1646316844,"question_id":71338619,"body_markdown":"I am unable to disable the auto play video in youtube I tried many ways to disable but none of effort worked. How can I disable the video using youtube Api android?\r\n\r\n```\r\n    fun playVideo(videoId: String){\r\n        qHandlernew?.removeCallbacksAndMessages(null)\r\n        var startPoint =\r\n            Uri.parse(videoId)\r\n                .getQueryParameter(&quot;start&quot;)\r\n        var endPoint: String? =\r\n            Uri.parse(videoId)\r\n                .getQueryParameter(&quot;end&quot;)\r\n\r\n        val part =\r\n            videoId.substring(0, videoId.lastIndexOf(&#39;?&#39;))\r\n        val youtubeId = part.substring(part.length - 11, part.length)\r\n        if (startPoint == null)\r\n            player?.loadVideo(youtubeId)\r\n        else\r\n            player?.loadVideo(\r\n                youtubeId,\r\n                Integer.parseInt(startPoint) * 1000\r\n            )\r\n        Log.d(&quot;videosCheck&quot;, &quot;onInitializationSuccess: $videoId&quot;)\r\n        if (endPoint != null) {\r\n\r\n            qHandlernew = Handler()\r\n            qHandlernew!!.postDelayed(object : Runnable {\r\n                override fun run() {\r\n                    //For every 1 second, check the current time and endTime\r\n                    if (player?.currentTimeMillis!! &lt;= Integer.parseInt(\r\n                            endPoint\r\n                        ) * 1000\r\n                    ) {\r\n                        qHandlernew!!.postDelayed(this, 1000)\r\n                    } else {\r\n                        qHandlernew!!.removeCallbacks(this) //no longer required\r\n                        player?.pause() //and Pause the video\r\n                    }\r\n                }\r\n            }, 1000)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to disable AutoPlay video in youtube Player Api in Android in kotlin?","body":"<p>I am unable to disable the auto play video in youtube I tried many ways to disable but none of effort worked. How can I disable the video using youtube Api android?</p>\n<pre><code>    fun playVideo(videoId: String){\n        qHandlernew?.removeCallbacksAndMessages(null)\n        var startPoint =\n            Uri.parse(videoId)\n                .getQueryParameter(&quot;start&quot;)\n        var endPoint: String? =\n            Uri.parse(videoId)\n                .getQueryParameter(&quot;end&quot;)\n\n        val part =\n            videoId.substring(0, videoId.lastIndexOf('?'))\n        val youtubeId = part.substring(part.length - 11, part.length)\n        if (startPoint == null)\n            player?.loadVideo(youtubeId)\n        else\n            player?.loadVideo(\n                youtubeId,\n                Integer.parseInt(startPoint) * 1000\n            )\n        Log.d(&quot;videosCheck&quot;, &quot;onInitializationSuccess: $videoId&quot;)\n        if (endPoint != null) {\n\n            qHandlernew = Handler()\n            qHandlernew!!.postDelayed(object : Runnable {\n                override fun run() {\n                    //For every 1 second, check the current time and endTime\n                    if (player?.currentTimeMillis!! &lt;= Integer.parseInt(\n                            endPoint\n                        ) * 1000\n                    ) {\n                        qHandlernew!!.postDelayed(this, 1000)\n                    } else {\n                        qHandlernew!!.removeCallbacks(this) //no longer required\n                        player?.pause() //and Pause the video\n                    }\n                }\n            }, 1000)\n        }\n    }\n</code></pre>\n"},{"tags":["java","polymorphism","terminology"],"comments":[{"owner":{"display_name":"user395760"},"score":0,"creation_date":1294240785,"post_id":4605669,"comment_id":5061384,"body_markdown":"Do you have trouble with the term (i.e. would paraphrasing help)? Or do you have trouble with the concept of polymorphism?","body":"Do you have trouble with the term (i.e. would paraphrasing help)? Or do you have trouble with the concept of polymorphism?"},{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":1,"creation_date":1294240820,"post_id":4605669,"comment_id":5061396,"body_markdown":"First do you understand polymorphism?","body":"First do you understand polymorphism?"},{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":0,"creation_date":1294240970,"post_id":4605669,"comment_id":5061441,"body_markdown":"[Sunoracle tutorial about polymorphism in Java](http://download.oracle.com/javase/tutorial/java/IandI/polymorphism.html)","body":"<a href=\"http://download.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">Sunoracle tutorial about polymorphism in Java</a>"},{"owner":{"account_id":43420,"reputation":4725,"user_id":126945,"accept_rate":85,"display_name":"Gnoupi"},"score":0,"creation_date":1294242205,"post_id":4605669,"comment_id":5061790,"body_markdown":"[Related question in this very site](http://stackoverflow.com/questions/1031273/what-is-polymorphism)","body":"<a href=\"http://stackoverflow.com/questions/1031273/what-is-polymorphism\">Related question in this very site</a>"}],"answers":[{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1294241793,"creation_date":1294241111,"answer_id":4605772,"question_id":4605669,"body_markdown":"&quot;Polymorphic&quot; means &quot;many shapes.&quot;  In Java, you can have a superclass with subclasses that do different things, using the same name.  The traditional example is superclass `Shape`, with subclasses `Circle`, `Square`, and `Rectangle`, and method `area()`.\r\n\r\nSo, for example\r\n\r\n    // note code is abbreviated, this is just for explanation\r\n    class Shape {\r\n        public int area();  // no implementation, this is abstract\r\n    }\r\n    \r\n    class Circle {\r\n        private int radius;\r\n        public Circle(int r){ radius = r ; }\r\n        public int area(){ return Math.PI*radius*radius ; }\r\n    }\r\n    \r\n    class Square {\r\n        private int wid;\r\n        Public Square(int w){ wid=w; }\r\n        public int area() { return wid*wid; }\r\n    }\r\n\r\nNow consider an example\r\n\r\n    Shape s[] = new Shape[2];\r\n    \r\n    s[0] = new Circle(10);\r\n    s[1] = new Square(10);\r\n    \r\n    System.out.println(&quot;Area of s[0] &quot;+s[0].area());\r\n    System.out.println(&quot;Area of s[1] &quot;+s[1].area());\r\n\r\n`s[0].area()` calls `Circle.area()`, `s[1].area()` calls `Square.area()` -- and thus we say that `Shape` and its subclasses exploit polymorphic calls to the method area.\r\n","title":"What is polymorphic method in java?","body":"<p>\"Polymorphic\" means \"many shapes.\"  In Java, you can have a superclass with subclasses that do different things, using the same name.  The traditional example is superclass <code>Shape</code>, with subclasses <code>Circle</code>, <code>Square</code>, and <code>Rectangle</code>, and method <code>area()</code>.</p>\n\n<p>So, for example</p>\n\n<pre><code>// note code is abbreviated, this is just for explanation\nclass Shape {\n    public int area();  // no implementation, this is abstract\n}\n\nclass Circle {\n    private int radius;\n    public Circle(int r){ radius = r ; }\n    public int area(){ return Math.PI*radius*radius ; }\n}\n\nclass Square {\n    private int wid;\n    Public Square(int w){ wid=w; }\n    public int area() { return wid*wid; }\n}\n</code></pre>\n\n<p>Now consider an example</p>\n\n<pre><code>Shape s[] = new Shape[2];\n\ns[0] = new Circle(10);\ns[1] = new Square(10);\n\nSystem.out.println(\"Area of s[0] \"+s[0].area());\nSystem.out.println(\"Area of s[1] \"+s[1].area());\n</code></pre>\n\n<p><code>s[0].area()</code> calls <code>Circle.area()</code>, <code>s[1].area()</code> calls <code>Square.area()</code> -- and thus we say that <code>Shape</code> and its subclasses exploit polymorphic calls to the method area.</p>\n"},{"tags":[],"owner":{"account_id":20816,"reputation":430875,"user_id":50079,"accept_rate":67,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1294241467,"creation_date":1294241467,"answer_id":4605841,"question_id":4605669,"body_markdown":"Charlie&#39;s answer explains in simple terms what polymorphism is.\r\n\r\nContinuing from there, this would be a &quot;polymorphic method&quot;:\r\n\r\n    public void Shape CreateShape() {\r\n        return new Circle(10);\r\n    }\r\n\r\nIt&#39;s &quot;polymorphic&quot; in the sense that its signature says you &#39;re getting a `Shape`, but what you are *really* getting is a subclass of `Shape`. Since you don&#39;t know exactly what you are getting (could be a `Circle`, a `Square`, etc), you have to handle it using the interface of the super class (i.e., polymorphism).\r\n\r\nI should mention that (possibly because I only have slight experience with Java) &quot;polymorphic method&quot; is an unfamiliar term so it might be used to mean something else. This is just my interpretation.","title":"What is polymorphic method in java?","body":"<p>Charlie's answer explains in simple terms what polymorphism is.</p>\n\n<p>Continuing from there, this would be a \"polymorphic method\":</p>\n\n<pre><code>public void Shape CreateShape() {\n    return new Circle(10);\n}\n</code></pre>\n\n<p>It's \"polymorphic\" in the sense that its signature says you 're getting a <code>Shape</code>, but what you are <em>really</em> getting is a subclass of <code>Shape</code>. Since you don't know exactly what you are getting (could be a <code>Circle</code>, a <code>Square</code>, etc), you have to handle it using the interface of the super class (i.e., polymorphism).</p>\n\n<p>I should mention that (possibly because I only have slight experience with Java) \"polymorphic method\" is an unfamiliar term so it might be used to mean something else. This is just my interpretation.</p>\n"},{"tags":[],"owner":{"account_id":8122034,"reputation":255,"user_id":6118431,"display_name":"Manvendra Priyadarshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459017216,"creation_date":1459017216,"answer_id":36239201,"question_id":4605669,"body_markdown":"Polymorphism is a process of representing &#39;one form in many forms&#39;.\r\n\r\nIt is not a programming concept but it is one of the principle.\r\n\r\n    Example 1 :\r\n    \r\n    class A\r\n    {\r\n     void print(double d)\r\n     {\r\n      System.out.println(&quot;Inside Double&quot;);\r\n     }\r\n     void print(float f)\r\n     {\r\n      System.out.println(&quot;Inside Float&quot;);\r\n     }\r\n    }\r\n    class B\r\n    {\r\n     public static void main(String [ ] args)\r\n     {\r\n      A obj1 = new A();\r\n      obj1.print(10.0);\r\n     }\r\n    }\r\n    \r\n    \r\n    Output :\r\n    \r\n    //save as : B.java\r\n    //compile as :javac B.java\r\n    //run as : java B\r\n    \r\n    Inside Double\r\n    \r\n    ______________________\r\n    \r\n    \r\n    Example 2 :\r\n    \r\n    class A\r\n    {\r\n     void print(double d)\r\n     {\r\n      System.out.println(&quot;Inside Double&quot;);\r\n     }\r\n     void print(float f)\r\n     {\r\n      System.out.println(&quot;Inside Float&quot;);\r\n     }\r\n    }\r\n    class B\r\n    {\r\n     public static void main(String [ ] args)\r\n     {\r\n      A obj1 = new A();\r\n      obj1.print(10.0f);\r\n     }\r\n    }\r\n    \r\n    \r\n    Output :\r\n    \r\n    //save as : B.java\r\n    //compile as :javac B.java\r\n    //run as : java B\r\n    \r\n    Inside Float\r\n    \r\n    _______________________\r\n    \r\n    Example 3 :\r\n    \r\n    class A\r\n    {\r\n     void print(double d)\r\n     {\r\n      System.out.println(&quot;Inside Double&quot;);\r\n     }\r\n     void print(float f)\r\n     {\r\n      System.out.println(&quot;Inside Float&quot;);\r\n     }\r\n    }\r\n    class B\r\n    {\r\n     public static void main(String [ ] args)\r\n     {\r\n      A obj1 = new A();\r\n      obj1.print(10);\r\n     }\r\n    }\r\n    \r\n    \r\n    Output :\r\n    \r\n    //save as : B.java\r\n    //compile as :javac B.java\r\n    //run as : java B\r\n    \r\n    Inside Float\r\n\r\n\r\n\r\nTo know more - http://algovalley.com/java/polymorphism.php","title":"What is polymorphic method in java?","body":"<p>Polymorphism is a process of representing 'one form in many forms'.</p>\n\n<p>It is not a programming concept but it is one of the principle.</p>\n\n<pre><code>Example 1 :\n\nclass A\n{\n void print(double d)\n {\n  System.out.println(\"Inside Double\");\n }\n void print(float f)\n {\n  System.out.println(\"Inside Float\");\n }\n}\nclass B\n{\n public static void main(String [ ] args)\n {\n  A obj1 = new A();\n  obj1.print(10.0);\n }\n}\n\n\nOutput :\n\n//save as : B.java\n//compile as :javac B.java\n//run as : java B\n\nInside Double\n\n______________________\n\n\nExample 2 :\n\nclass A\n{\n void print(double d)\n {\n  System.out.println(\"Inside Double\");\n }\n void print(float f)\n {\n  System.out.println(\"Inside Float\");\n }\n}\nclass B\n{\n public static void main(String [ ] args)\n {\n  A obj1 = new A();\n  obj1.print(10.0f);\n }\n}\n\n\nOutput :\n\n//save as : B.java\n//compile as :javac B.java\n//run as : java B\n\nInside Float\n\n_______________________\n\nExample 3 :\n\nclass A\n{\n void print(double d)\n {\n  System.out.println(\"Inside Double\");\n }\n void print(float f)\n {\n  System.out.println(\"Inside Float\");\n }\n}\nclass B\n{\n public static void main(String [ ] args)\n {\n  A obj1 = new A();\n  obj1.print(10);\n }\n}\n\n\nOutput :\n\n//save as : B.java\n//compile as :javac B.java\n//run as : java B\n\nInside Float\n</code></pre>\n\n<p>To know more - <a href=\"http://algovalley.com/java/polymorphism.php\" rel=\"nofollow\">http://algovalley.com/java/polymorphism.php</a></p>\n"},{"tags":[],"owner":{"display_name":"user6102088"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465455555,"creation_date":1465455555,"answer_id":37718899,"question_id":4605669,"body_markdown":"A method is signature polymorphic if all of the following are true:\r\n\r\n It is declared in the java.lang.invoke.MethodHandle class.\r\n\r\n It has a single formal parameter of type Object[].\r\n\r\n It has a return type of Object.\r\n\r\n It has the ACC_VARARGS and ACC_NATIVE flags set.\r\n\r\nIn Java SE 8, the only signature polymorphic methods are the invoke and invokeExact methods of the class java.lang.invoke.MethodHandle.\r\n\r\n\r\n[JVM specification 2.9. Special Methods][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9","title":"What is polymorphic method in java?","body":"<p>A method is signature polymorphic if all of the following are true:</p>\n\n<p>It is declared in the java.lang.invoke.MethodHandle class.</p>\n\n<p>It has a single formal parameter of type Object[].</p>\n\n<p>It has a return type of Object.</p>\n\n<p>It has the ACC_VARARGS and ACC_NATIVE flags set.</p>\n\n<p>In Java SE 8, the only signature polymorphic methods are the invoke and invokeExact methods of the class java.lang.invoke.MethodHandle.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.9\" rel=\"nofollow\">JVM specification 2.9. Special Methods</a></p>\n"},{"tags":[],"owner":{"account_id":4524975,"reputation":10718,"user_id":3677097,"accept_rate":92,"display_name":"Andreas DM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528222894,"creation_date":1528222894,"answer_id":50706603,"question_id":4605669,"body_markdown":"A polymorphic method is a method that can take *many forms*. By that that I mean, the method may at different times invoke different methods.\r\n\r\nLet&#39;s say you got a `class Animal` and a `class Dog extends Animal` and a `class Cat extends Animal`, and they all *override* the method `sleep()`\r\n\r\nThen..\r\n\r\n    animal.sleep();\r\n\r\n..can call different methods depending on the dynamic type stored in the variable `animal`","title":"What is polymorphic method in java?","body":"<p>A polymorphic method is a method that can take <em>many forms</em>. By that that I mean, the method may at different times invoke different methods.</p>\n\n<p>Let's say you got a <code>class Animal</code> and a <code>class Dog extends Animal</code> and a <code>class Cat extends Animal</code>, and they all <em>override</em> the method <code>sleep()</code></p>\n\n<p>Then..</p>\n\n<pre><code>animal.sleep();\n</code></pre>\n\n<p>..can call different methods depending on the dynamic type stored in the variable <code>animal</code></p>\n"},{"tags":[],"owner":{"account_id":7048117,"reputation":1699,"user_id":5398254,"display_name":"Rhys Bradbury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653476671,"creation_date":1653475809,"answer_id":72376254,"question_id":4605669,"body_markdown":"A polymorphic method or function is a function (static) or method in java which has a generic return type.\r\n\r\nFor example:\r\n\r\n```java\r\nclass SomeCollection&lt;T&gt; {\r\n\r\n   public &lt;T&gt; getFirstItem() //left unimplemented for example reasons\r\n}\r\n```\r\nsay for example, we instantiate a `new SomeCollection&lt;MyObject&gt;();`, this would mean that the method `getFirstItem()` would return a `MyObject` in this instance.\r\n\r\nThis is what a polymorphic function/method is.\r\n\r\nIt&#39;s the combination of generics and polymorphism in a context of types defined in a method or function.\r\n\r\nThe function has many forms, which can be defined at object construction. In my example, the function constructs with a `MyObject` return type.\r\n\r\nThe other answers of this question are examples of polymorphism in method/function parameters.\r\n\r\nI hope this helps.\r\n\r\nThanks,\r\nRhys\r\n","title":"What is polymorphic method in java?","body":"<p>A polymorphic method or function is a function (static) or method in java which has a generic return type.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeCollection&lt;T&gt; {\n\n   public &lt;T&gt; getFirstItem() //left unimplemented for example reasons\n}\n</code></pre>\n<p>say for example, we instantiate a <code>new SomeCollection&lt;MyObject&gt;();</code>, this would mean that the method <code>getFirstItem()</code> would return a <code>MyObject</code> in this instance.</p>\n<p>This is what a polymorphic function/method is.</p>\n<p>It's the combination of generics and polymorphism in a context of types defined in a method or function.</p>\n<p>The function has many forms, which can be defined at object construction. In my example, the function constructs with a <code>MyObject</code> return type.</p>\n<p>The other answers of this question are examples of polymorphism in method/function parameters.</p>\n<p>I hope this helps.</p>\n<p>Thanks,\nRhys</p>\n"}],"owner":{"account_id":691491,"reputation":81,"user_id":564129,"display_name":"Joseph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27744,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1653476671,"creation_date":1294240642,"question_id":4605669,"body_markdown":"In the context of Java, please explain what a &quot;polymorphic method&quot; is. \r\n\r\n","title":"What is polymorphic method in java?","body":"<p>In the context of Java, please explain what a \"polymorphic method\" is. </p>\n"},{"tags":["java","android","image","bluetooth","bitmap"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653476082,"post_id":72376065,"comment_id":127860146,"body_markdown":"`The data sent is an array of a 10x10 jpg of ....`  Do you mean a .jpg file is sent. And the .jpg file has a resolution of 10x10 pixels?","body":"<code>The data sent is an array of a 10x10 jpg of ....</code>  Do you mean a .jpg file is sent. And the .jpg file has a resolution of 10x10 pixels?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653476191,"post_id":72376065,"comment_id":127860168,"body_markdown":"Further: as you try to base 64 decode the buffer the data should have been sent base64 encoded. You did not tell that.","body":"Further: as you try to base 64 decode the buffer the data should have been sent base64 encoded. You did not tell that."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653476358,"post_id":72376065,"comment_id":127860216,"body_markdown":"To summarize: It&#39;s pretty unclear what you actually send. Also: what does all have to do with javascript?","body":"To summarize: It&#39;s pretty unclear what you actually send. Also: what does all have to do with javascript?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653476582,"post_id":72376065,"comment_id":127860289,"body_markdown":"System.out.println(s); Try and tell what it prints please.","body":"System.out.println(s); Try and tell what it prints please."},{"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"score":0,"creation_date":1653477677,"post_id":72376065,"comment_id":127860689,"body_markdown":"Hi @blackapps , thank you for responding.\n1) I&#39;m sending a numpy array of a jpg. The jpg has indeed a resolution of 10x10, thus it&#39;s an array of 10 columns and 10 rows. Each column-array combination contains BGR values.\n2) I&#39;m not sure whether I should use base 64 to decode, I don&#39;t fully understand why that should be done. To be frank I just copied it from the internet.\n3)I accidentally wrote javascript instead of java\n4)I&#39;ll try System.out.println(s); in a few hours.\nI appreciate the comments and questions.","body":"Hi @blackapps , thank you for responding. 1) I&#39;m sending a numpy array of a jpg. The jpg has indeed a resolution of 10x10, thus it&#39;s an array of 10 columns and 10 rows. Each column-array combination contains BGR values. 2) I&#39;m not sure whether I should use base 64 to decode, I don&#39;t fully understand why that should be done. To be frank I just copied it from the internet. 3)I accidentally wrote javascript instead of java 4)I&#39;ll try System.out.println(s); in a few hours. I appreciate the comments and questions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653478046,"post_id":72376065,"comment_id":127860825,"body_markdown":"`I&#39;m sending a numpy array of a jpg.` Sorry, i have no idea what that would be. Or you send a .jpg file.  Or not. Jpg files have co rows or colums. Or arrays. So first tell if you send a .jpg file or not.","body":"<code>I&#39;m sending a numpy array of a jpg.</code> Sorry, i have no idea what that would be. Or you send a .jpg file.  Or not. Jpg files have co rows or colums. Or arrays. So first tell if you send a .jpg file or not."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653478083,"post_id":72376065,"comment_id":127860834,"body_markdown":"Further: You only have to base64 decode if you send stuff base64 encoded.","body":"Further: You only have to base64 decode if you send stuff base64 encoded."},{"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"score":0,"creation_date":1653478820,"post_id":72376065,"comment_id":127861132,"body_markdown":"Do you even need `s` and `x` ?? have you try to decode `readBuf` directly ?? `BitmapFactory.decodeByteArray(readBuf, 0, readBuf.length)`","body":"Do you even need <code>s</code> and <code>x</code> ?? have you try to decode <code>readBuf</code> directly ?? <code>BitmapFactory.decodeByteArray(readBuf, 0, readBuf.length)</code>"},{"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"score":0,"creation_date":1653479355,"post_id":72376065,"comment_id":127861342,"body_markdown":"[[  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]\n  [  0 106 254]]\n\n10 of these are being sent within a matrix from Python. This is the image in a numpy array.\nI should probably get rid of base64 then.\n\n@MuhammadRio That&#39;s what i tried initially, but the messages are the same as previously described: null and unimplemented.","body":"[[  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]   [  0 106 254]]  10 of these are being sent within a matrix from Python. This is the image in a numpy array. I should probably get rid of base64 then.  @MuhammadRio That&#39;s what i tried initially, but the messages are the same as previously described: null and unimplemented."},{"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"score":0,"creation_date":1653482436,"post_id":72376065,"comment_id":127862569,"body_markdown":"Sorry that array is sent 30 times, not 10.","body":"Sorry that array is sent 30 times, not 10."},{"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"score":0,"creation_date":1653492441,"post_id":72376065,"comment_id":127867131,"body_markdown":"@blackapps the message consists of \n\nj���j���j���j���j���j���j���j���j���j���j���j���j���j���j���j���j���j���j���j\n\nand\n\n\n������������������������������������������������������������������������������������������������������������������������������������������������\n\nwhen i print s","body":"@blackapps the message consists of   j���j���j���j���j���j���j���j���j���j���j���j���j���j���j���&zwnj;&#8203;j���j���j���j���j  and   ������������������������������������������������������������&zwnj;&#8203;��������������������&zwnj;&#8203;��������������������&zwnj;&#8203;��������������������&zwnj;&#8203;��������������������&zwnj;&#8203;����  when i print s"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1653498653,"post_id":72376065,"comment_id":127869539,"body_markdown":"BitmapFactory cannot decode those values. I wonder why you send such an array. Why dont you send a .jpg file? If you want to keep the sending side as is then create at receiving side an empty bitmap of 10x10 and convert your colors to pixels.","body":"BitmapFactory cannot decode those values. I wonder why you send such an array. Why dont you send a .jpg file? If you want to keep the sending side as is then create at receiving side an empty bitmap of 10x10 and convert your colors to pixels."},{"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"score":0,"creation_date":1653501535,"post_id":72376065,"comment_id":127870542,"body_markdown":"@blackapps Thank you for helping me! You pointed me in the right direction! Sending a numpy array like that doesn&#39;t work, and if it does I&#39;ve no idea how to decrypt it.\n\nI converted the image to a base64 file in Python before sending it. \nIn Java I used the same as it is right now and it worked! My image is being displayed.\n\nThanks again for pointing me in the right direction!","body":"@blackapps Thank you for helping me! You pointed me in the right direction! Sending a numpy array like that doesn&#39;t work, and if it does I&#39;ve no idea how to decrypt it.  I converted the image to a base64 file in Python before sending it.  In Java I used the same as it is right now and it worked! My image is being displayed.  Thanks again for pointing me in the right direction!"}],"owner":{"account_id":24334757,"reputation":11,"user_id":18273025,"display_name":"Simon"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653476665,"creation_date":1653475043,"question_id":72376065,"body_markdown":"I have a piece of code that receives Bytearrays via bluetooth with Python.\r\nThe data sent is an array of a 10x10 jpg of the color orange BGR=[0,106,254].\r\nIm trying to display the image in Android Studio using this code:\r\n\r\n&#39;&#39;&#39;\r\n\r\n    private void readImage(byte[] readBuf) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n\r\n            //BufferedInputStream = readBuf;\r\n            ImageView imageView = (ImageView) findViewById(R.id.PiCam);\r\n            String s = new String(readBuf, StandardCharsets.UTF_8);\r\n            byte[] x = Base64.decode(s, Base64.DEFAULT);  //convert from base64 to byte array\r\n            Bitmap bitmap = BitmapFactory.decodeByteArray(x, 0, x.length);\r\n            imageView.setImageBitmap(bitmap);\r\n\r\n            System.out.println(x);\r\n        }\r\n     }\r\n&#39;&#39;&#39;\r\n\r\nSystem.out.println(x) gives me [B@31b9d31 and [B@18d0c16, so these are the byte arrays that are decoded by decodeByteArray.\r\n\r\nI think that the following message means that the bitmap can&#39;t be displayed by ImageView.\r\nFailed to create image decoder with message &#39;unimplemented&#39;\r\n\r\nWhen I i print bitmap, it gives &#39;null&#39;, so perhaps the decoding failed?\r\n\r\nMy goal is to send an image, to decode it and to display it.\r\nLet me know if I could provide any more details.\r\n\r\n","title":"Fail to create image with Bitmap ImageView Java","body":"<p>I have a piece of code that receives Bytearrays via bluetooth with Python.\nThe data sent is an array of a 10x10 jpg of the color orange BGR=[0,106,254].\nIm trying to display the image in Android Studio using this code:</p>\n<p>'''</p>\n<pre><code>private void readImage(byte[] readBuf) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n\n        //BufferedInputStream = readBuf;\n        ImageView imageView = (ImageView) findViewById(R.id.PiCam);\n        String s = new String(readBuf, StandardCharsets.UTF_8);\n        byte[] x = Base64.decode(s, Base64.DEFAULT);  //convert from base64 to byte array\n        Bitmap bitmap = BitmapFactory.decodeByteArray(x, 0, x.length);\n        imageView.setImageBitmap(bitmap);\n\n        System.out.println(x);\n    }\n }\n</code></pre>\n<p>'''</p>\n<p>System.out.println(x) gives me [B@31b9d31 and [B@18d0c16, so these are the byte arrays that are decoded by decodeByteArray.</p>\n<p>I think that the following message means that the bitmap can't be displayed by ImageView.\nFailed to create image decoder with message 'unimplemented'</p>\n<p>When I i print bitmap, it gives 'null', so perhaps the decoding failed?</p>\n<p>My goal is to send an image, to decode it and to display it.\nLet me know if I could provide any more details.</p>\n"},{"tags":["java","json","mongodb","linkedhashmap"],"comments":[{"owner":{"account_id":95982,"reputation":26733,"user_id":261122,"accept_rate":70,"display_name":"Dancrumb"},"score":0,"creation_date":1396637361,"post_id":22870584,"comment_id":34894967,"body_markdown":"What is the type of `datos`?","body":"What is the type of <code>datos</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3004206,"reputation":2232,"user_id":2549037,"display_name":"hellboy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1396638631,"creation_date":1396638631,"answer_id":22871183,"question_id":22870584,"body_markdown":"You can use Gson library from Google to convert any object to JSON. Here is an example to convert LinkedHashMap to json - \r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(map,LinkedHashMap.class);\r\n\r\n\r\n","title":"Convert from LinkedHashMap to Json String","body":"<p>You can use Gson library from Google to convert any object to JSON. Here is an example to convert LinkedHashMap to json - </p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(map,LinkedHashMap.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2721647,"reputation":1612,"user_id":2347824,"accept_rate":50,"display_name":"ethanbustad"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1396643090,"creation_date":1396643090,"answer_id":22872382,"question_id":22870584,"body_markdown":"If you have access to some JSON library, it seems like that&#39;s the way to go.\r\n\r\nIf using org.json library, use [`public JSONObject(java.util.Map map)`](http://www.json.org/javadoc/org/json/JSONObject.html#JSONObject(java.util.Map)):\r\n\r\n    String jsonString = new JSONObject(data).toString()\r\n\r\n\r\nIf Gson, use the [`gson.toJson()`](https://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/Gson.html#toJson(java.lang.Object,%20java.lang.reflect.Type)) method mentioned by @hellboy:\r\n\r\n    String jsonString = new Gson().toJson(data, Map.class);","title":"Convert from LinkedHashMap to Json String","body":"<p>If you have access to some JSON library, it seems like that's the way to go.</p>\n\n<p>If using org.json library, use <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#JSONObject%28java.util.Map%29\" rel=\"noreferrer\"><code>public JSONObject(java.util.Map map)</code></a>:</p>\n\n<pre><code>String jsonString = new JSONObject(data).toString()\n</code></pre>\n\n<p>If Gson, use the <a href=\"https://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/Gson.html#toJson%28java.lang.Object,%20java.lang.reflect.Type%29\" rel=\"noreferrer\"><code>gson.toJson()</code></a> method mentioned by @hellboy:</p>\n\n<pre><code>String jsonString = new Gson().toJson(data, Map.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821552,"reputation":247,"user_id":1655510,"accept_rate":80,"display_name":"user1655510"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396643926,"creation_date":1396643926,"answer_id":22872588,"question_id":22870584,"body_markdown":"I resolved the problem using the following code:\r\n\r\n        Iterator one = (Iterator) friends.find(query).projection(&quot;{_id:0}&quot;).as(Object.class);\r\n        while (one.hasNext()) {\r\n            Map data= new HashMap();\r\n\r\n            data= (HashMap) one.next();\r\n            JSONObject d = new JSONObject();\r\n            d.putAll(data);\r\n            String content=d.toString();\r\n        }","title":"Convert from LinkedHashMap to Json String","body":"<p>I resolved the problem using the following code:</p>\n\n<pre><code>    Iterator one = (Iterator) friends.find(query).projection(\"{_id:0}\").as(Object.class);\n    while (one.hasNext()) {\n        Map data= new HashMap();\n\n        data= (HashMap) one.next();\n        JSONObject d = new JSONObject();\n        d.putAll(data);\n        String content=d.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1771538,"reputation":161,"user_id":1616206,"display_name":"jarry_dk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1425365304,"creation_date":1425365304,"answer_id":28825718,"question_id":22870584,"body_markdown":"One of the com.mongodb.BasicDBObject constructors takes a Map as input. Then you just have to call the toString() on the BasicDBObject object.\r\n\r\n\tIterator one = (Iterator) friends.find(query).projection(&quot;{_id:0}&quot;).as(Object.class);\r\n        while (one.hasNext()) {\r\n            LinkedHashMap data= new LinkedHashMap();\r\n\r\n            data= (LinkedHashMap) one.next();\r\n\r\n\t        com.mongodb.BasicDBObject bdo = new com.mongodb.BasicDBObject(data);\t\r\n            String json = bdo.toString();\r\n        }","title":"Convert from LinkedHashMap to Json String","body":"<p>One of the com.mongodb.BasicDBObject constructors takes a Map as input. Then you just have to call the toString() on the BasicDBObject object.</p>\n\n<pre><code>Iterator one = (Iterator) friends.find(query).projection(\"{_id:0}\").as(Object.class);\n    while (one.hasNext()) {\n        LinkedHashMap data= new LinkedHashMap();\n\n        data= (LinkedHashMap) one.next();\n\n        com.mongodb.BasicDBObject bdo = new com.mongodb.BasicDBObject(data);    \n        String json = bdo.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8158186,"reputation":1,"user_id":6143026,"display_name":"Anup PD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653475784,"creation_date":1653475784,"answer_id":72376249,"question_id":22870584,"body_markdown":"    if(data instanceof LinkedHashMap){\r\n       json=new Gson.toJson(data,Map.class).toString();\r\n    }\r\n    else{\r\n      json=data.toString();\r\n    }\r\n    return Document.parse(json);\r\n\r\n","title":"Convert from LinkedHashMap to Json String","body":"<pre><code>if(data instanceof LinkedHashMap){\n   json=new Gson.toJson(data,Map.class).toString();\n}\nelse{\n  json=data.toString();\n}\nreturn Document.parse(json);\n</code></pre>\n"}],"owner":{"account_id":1821552,"reputation":247,"user_id":1655510,"accept_rate":80,"display_name":"user1655510"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75445,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":22872382,"answer_count":5,"score":21,"last_activity_date":1653475784,"creation_date":1396636725,"question_id":22870584,"body_markdown":"I&#39;m Workin with Mongo using Jongo, when I do a query I receive a `LinkedHashMap` as result.\r\n\r\n    Iterator one = (Iterator) friends.find(query).projection(&quot;{_id:0}&quot;).as(Object.class);\r\n\twhile (one.hasNext()) {\r\n\t\tLinkedHashMap data = new LinkedHashMap();\r\n\t\tdata = (LinkedHashMap) one.next();\r\n\t\tString content = data.toString();\r\n\t}\r\n\r\nthe problem is that  if the json is `{&quot;user&quot;:&quot;something&quot;}` content will be `{user=something}`, it is not a `json` is only `toString` method from `HashMap`.\r\n\r\nHow I can get the original `JSON`?\r\n\r\nI don&#39;t have a `class` to map the `response` and it isn&#39;t a solution create a `map` class, that is why I use a `Object.class.`","title":"Convert from LinkedHashMap to Json String","body":"<p>I'm Workin with Mongo using Jongo, when I do a query I receive a <code>LinkedHashMap</code> as result.</p>\n\n<pre><code>Iterator one = (Iterator) friends.find(query).projection(\"{_id:0}\").as(Object.class);\nwhile (one.hasNext()) {\n    LinkedHashMap data = new LinkedHashMap();\n    data = (LinkedHashMap) one.next();\n    String content = data.toString();\n}\n</code></pre>\n\n<p>the problem is that  if the json is <code>{\"user\":\"something\"}</code> content will be <code>{user=something}</code>, it is not a <code>json</code> is only <code>toString</code> method from <code>HashMap</code>.</p>\n\n<p>How I can get the original <code>JSON</code>?</p>\n\n<p>I don't have a <code>class</code> to map the <code>response</code> and it isn't a solution create a <code>map</code> class, that is why I use a <code>Object.class.</code></p>\n"},{"tags":["java","swing","colors","jframe"],"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1646989529,"post_id":71436064,"comment_id":126264691,"body_markdown":"Possible duplicate of:\nhttps://stackoverflow.com/questions/1081486/setting-background-color-for-a-jframe","body":"Possible duplicate of: <a href=\"https://stackoverflow.com/questions/1081486/setting-background-color-for-a-jframe\" title=\"setting background color for a jframe\">stackoverflow.com/questions/1081486/&hellip;</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1647407345,"post_id":71436064,"comment_id":126360464,"body_markdown":"Guess: The panel added for the components entirely covers the white BG. That looks like the standard color of a `JPanel`. For anything better than guesses, [edit] to add a [mre].","body":"Guess: The panel added for the components entirely covers the white BG. That looks like the standard color of a <code>JPanel</code>. For anything better than guesses, <a href=\"https://stackoverflow.com/posts/71436064/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":25292837,"reputation":18,"user_id":19118544,"display_name":"97110111110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653475510,"creation_date":1653411138,"answer_id":72366663,"question_id":71436064,"body_markdown":"Doing `frame.setBackground()` won&#39;t work. You need to do it like this:\r\n\r\n```java  \r\nframe.getContentPane().setBackground(Color.white);\r\n```","title":"Why my JFrame is not WHITE although I changed the color to white?","body":"<p>Doing <code>frame.setBackground()</code> won't work. You need to do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.getContentPane().setBackground(Color.white);\n</code></pre>\n"}],"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653475510,"creation_date":1646989389,"question_id":71436064,"body_markdown":"I created a `JFrame` and set the color to white with `setBackground(Color.WHITE)`, but the color is not white but a bit gray.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/7a5mJ.jpg&quot;&gt;","title":"Why my JFrame is not WHITE although I changed the color to white?","body":"<p>I created a <code>JFrame</code> and set the color to white with <code>setBackground(Color.WHITE)</code>, but the color is not white but a bit gray.</p>\n<img src=\"https://i.stack.imgur.com/7a5mJ.jpg\">\n"},{"tags":["java","ruby","intellij-idea","cucumber","intellij-plugin"],"comments":[{"owner":{"account_id":5947899,"reputation":1541,"user_id":4676887,"display_name":"Olivia"},"score":2,"creation_date":1633437212,"post_id":69447323,"comment_id":122754750,"body_markdown":"There&#39;s a corresponding issue on the tracker: https://youtrack.jetbrains.com/issue/RUBY-28750 Could you please check which options there&#39;re if you invoke the context menu instead?","body":"There&#39;s a corresponding issue on the tracker: <a href=\"https://youtrack.jetbrains.com/issue/RUBY-28750\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/RUBY-28750</a> Could you please check which options there&#39;re if you invoke the context menu instead?"},{"owner":{"account_id":7645672,"reputation":45,"user_id":5796437,"display_name":"Vi Țurcanu"},"score":0,"creation_date":1633439609,"post_id":69447323,"comment_id":122755868,"body_markdown":"Thank you @Olivia , it really seems to be a regression bug in IntelliJ IDEA 2021.2.1 version.","body":"Thank you @Olivia , it really seems to be a regression bug in IntelliJ IDEA 2021.2.1 version."},{"owner":{"account_id":7645672,"reputation":45,"user_id":5796437,"display_name":"Vi Țurcanu"},"score":0,"creation_date":1634285996,"post_id":69447323,"comment_id":122988530,"body_markdown":"After some time, when I try to run the full feature file I am not already getting the context menu and the Cucumber (Ruby) is invoked without even offering the option of running the feature file with Cucumber Java. So it is the same behavior as when trying to run a single scenario. \n\nIs there a way to disable Cucumber (Ruby) when the Ruby plugin is enabled?","body":"After some time, when I try to run the full feature file I am not already getting the context menu and the Cucumber (Ruby) is invoked without even offering the option of running the feature file with Cucumber Java. So it is the same behavior as when trying to run a single scenario.   Is there a way to disable Cucumber (Ruby) when the Ruby plugin is enabled?"},{"owner":{"account_id":7645672,"reputation":45,"user_id":5796437,"display_name":"Vi Țurcanu"},"score":0,"creation_date":1643578883,"post_id":69447323,"comment_id":125371896,"body_markdown":"The current approach that I took in order to solve the given issue is to install yet another plugin -- [Cucumber +](https://plugins.jetbrains.com/plugin/16289-cucumber-).","body":"The current approach that I took in order to solve the given issue is to install yet another plugin -- <a href=\"https://plugins.jetbrains.com/plugin/16289-cucumber-\" rel=\"nofollow noreferrer\">Cucumber +</a>."}],"answers":[{"tags":[],"owner":{"account_id":14505560,"reputation":19,"user_id":10708323,"display_name":"Euegene P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653475362,"creation_date":1653475362,"answer_id":72376137,"question_id":69447323,"body_markdown":"I got opposite issue with rubby project and Idea runs features as cucumber java. Temp solution for me was dissable cucumber java plugin","title":"Configure Intellij IDEA to default to Cucumber Java when Ruby plugin is enabled","body":"<p>I got opposite issue with rubby project and Idea runs features as cucumber java. Temp solution for me was dissable cucumber java plugin</p>\n"}],"owner":{"account_id":7645672,"reputation":45,"user_id":5796437,"display_name":"Vi Țurcanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653475362,"creation_date":1633423273,"question_id":69447323,"body_markdown":"I have configured a **Cucumber** project using **Cucumber Java** in **Intellij IDEA**. \r\nI am able to execute the scenarios within a feature file using Cucumber Java (by executing the entire feature file and selecting Cucumber Java), but I am not able to execute a separate scenario due to Ruby plugin.\r\nSpecifically, when I click to run a specific scenario, Intellij IDEA defaults the execution to **Cucumber** (with **Ruby**) instead of **Cucumber Java**.\r\n\r\nI need the **Ruby** plugin, since I am using the same IDE for another project which needs the Ruby support but I don&#39;t need the Cucumber support for it.\r\n\r\nHow can I disable **Cucumber (Ruby)** and default the scenario execution to **Cucumber Java**?\r\n\r\n**Update**: IntelliJ IDEA 2021.2.1 (Ultimate Edition)","title":"Configure Intellij IDEA to default to Cucumber Java when Ruby plugin is enabled","body":"<p>I have configured a <strong>Cucumber</strong> project using <strong>Cucumber Java</strong> in <strong>Intellij IDEA</strong>.\nI am able to execute the scenarios within a feature file using Cucumber Java (by executing the entire feature file and selecting Cucumber Java), but I am not able to execute a separate scenario due to Ruby plugin.\nSpecifically, when I click to run a specific scenario, Intellij IDEA defaults the execution to <strong>Cucumber</strong> (with <strong>Ruby</strong>) instead of <strong>Cucumber Java</strong>.</p>\n<p>I need the <strong>Ruby</strong> plugin, since I am using the same IDE for another project which needs the Ruby support but I don't need the Cucumber support for it.</p>\n<p>How can I disable <strong>Cucumber (Ruby)</strong> and default the scenario execution to <strong>Cucumber Java</strong>?</p>\n<p><strong>Update</strong>: IntelliJ IDEA 2021.2.1 (Ultimate Edition)</p>\n"},{"tags":["java","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653474817,"creation_date":1653474817,"answer_id":72376010,"question_id":72375401,"body_markdown":"You can do this with a custom `TypeMap`\r\n- http://modelmapper.org/user-manual/type-map-inheritance/\r\n\r\nConside the following example code:\r\n```\r\nB b = new B();\r\nA a = new ModelMapper().map(b, A.class);\r\nSystem.out.println(&quot;Converted to A? = &quot; + a);\r\nSystem.out.println(&quot;Still instance of B? &quot; + (a instanceof B));\r\n\r\nModelMapper modelMapper = new ModelMapper();\r\n// Creates a base TypeMap with explicit mappings\r\nmodelMapper.createTypeMap(B.class, A.class);\r\nA a2 = modelMapper.map(b, A.class);\r\nSystem.out.println(&quot;Converted with TypeMap to A? = &quot; + a2);\r\nSystem.out.println(&quot;Still instance of B? &quot; + (a2 instanceof B));\r\n```\r\nWith output:\r\n```\r\nConverted to A? = tests.so.modelmapper.B@d3bd8b\r\nStill instance of B? true\r\n\r\nConverted with TypeMap to A? = tests.so.modelmapper.A@56dfcb\r\nStill instance of B? false\r\n```","title":"ModelMapper returning source object type when mapping derived class to a base class","body":"<p>You can do this with a custom <code>TypeMap</code></p>\n<ul>\n<li><a href=\"http://modelmapper.org/user-manual/type-map-inheritance/\" rel=\"nofollow noreferrer\">http://modelmapper.org/user-manual/type-map-inheritance/</a></li>\n</ul>\n<p>Conside the following example code:</p>\n<pre><code>B b = new B();\nA a = new ModelMapper().map(b, A.class);\nSystem.out.println(&quot;Converted to A? = &quot; + a);\nSystem.out.println(&quot;Still instance of B? &quot; + (a instanceof B));\n\nModelMapper modelMapper = new ModelMapper();\n// Creates a base TypeMap with explicit mappings\nmodelMapper.createTypeMap(B.class, A.class);\nA a2 = modelMapper.map(b, A.class);\nSystem.out.println(&quot;Converted with TypeMap to A? = &quot; + a2);\nSystem.out.println(&quot;Still instance of B? &quot; + (a2 instanceof B));\n</code></pre>\n<p>With output:</p>\n<pre><code>Converted to A? = tests.so.modelmapper.B@d3bd8b\nStill instance of B? true\n\nConverted with TypeMap to A? = tests.so.modelmapper.A@56dfcb\nStill instance of B? false\n</code></pre>\n"}],"owner":{"account_id":8871826,"reputation":226,"user_id":6625327,"accept_rate":36,"display_name":"julew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72376010,"answer_count":1,"score":0,"last_activity_date":1653474817,"creation_date":1653472210,"question_id":72375401,"body_markdown":"Let&#39;s suppose I have classes:\r\n\r\n```\r\npublic class A {\r\n  public String x;\r\n  public String y;\r\n}\r\n\r\npublic class B extends A {\r\n  public String z;\r\n}\r\n```\r\nI have an instance of `B` called `b` and want to map to `A` (to get rid of `z` property as it&#39;s getting serialized later).\r\nI was trying to do;\r\n```\r\nnew ModelMapper().map(b, A.class)\r\n```\r\nBut as a result I am getting the the same type `B` object. I suspect it could be because B is a subclass of A, so there is no point in converting types, because B satisfies A, but it&#39;s just my suspicion.\r\n\r\nCan I somehow tell ModelMapper do convert the type to the exact one I want? Maybe there is a better way of doing that?","title":"ModelMapper returning source object type when mapping derived class to a base class","body":"<p>Let's suppose I have classes:</p>\n<pre><code>public class A {\n  public String x;\n  public String y;\n}\n\npublic class B extends A {\n  public String z;\n}\n</code></pre>\n<p>I have an instance of <code>B</code> called <code>b</code> and want to map to <code>A</code> (to get rid of <code>z</code> property as it's getting serialized later).\nI was trying to do;</p>\n<pre><code>new ModelMapper().map(b, A.class)\n</code></pre>\n<p>But as a result I am getting the the same type <code>B</code> object. I suspect it could be because B is a subclass of A, so there is no point in converting types, because B satisfies A, but it's just my suspicion.</p>\n<p>Can I somehow tell ModelMapper do convert the type to the exact one I want? Maybe there is a better way of doing that?</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653389000,"post_id":72361376,"comment_id":127834971,"body_markdown":"When an app crashes it always produces an error log. Please include the output of your logcat","body":"When an app crashes it always produces an error log. Please include the output of your logcat"},{"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"score":0,"creation_date":1653389202,"post_id":72361376,"comment_id":127835038,"body_markdown":"@QBrute Sorry for that, I did add it now.","body":"@QBrute Sorry for that, I did add it now."},{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":2,"creation_date":1653390307,"post_id":72361376,"comment_id":127835431,"body_markdown":"As one could see your App lacks the right permission. BLUETOOTH_CONNECT is a runtime permission and you need to ask the user. See: [Bluetooth permissions](https://developer.android.com/guide/topics/connectivity/bluetooth/permissions)","body":"As one could see your App lacks the right permission. BLUETOOTH_CONNECT is a runtime permission and you need to ask the user. See: <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">Bluetooth permissions</a>"},{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":0,"creation_date":1653402348,"post_id":72361376,"comment_id":127840687,"body_markdown":"have you given bluetooth permission properly in manifest @Inomie","body":"have you given bluetooth permission properly in manifest @Inomie"}],"answers":[{"tags":[],"owner":{"account_id":15614990,"reputation":111,"user_id":11265401,"display_name":"Maher Ben Rhouma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653474600,"creation_date":1653474600,"answer_id":72375966,"question_id":72361376,"body_markdown":"With the new update on Android 12 the bluetooth permissions are separated in multiple pemrissions. In your manifest you declared BLUETOOTH_CONNECT, so first you need to request BLUETOOTH_CONNECT permission in your activity or fragment. \r\n\r\n&gt; The BLUETOOTH_ADVERTISE, BLUETOOTH_CONNECT, and BLUETOOTH_SCAN permissions are runtime permissions. Therefore, you must explicitly request user approval in your app before you can look for Bluetooth devices.\r\n\r\n[Target Android 12 or higher][1]\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/bluetooth/permissions","title":"Why is my bluetoothAdapter crashing the application","body":"<p>With the new update on Android 12 the bluetooth permissions are separated in multiple pemrissions. In your manifest you declared BLUETOOTH_CONNECT, so first you need to request BLUETOOTH_CONNECT permission in your activity or fragment.</p>\n<blockquote>\n<p>The BLUETOOTH_ADVERTISE, BLUETOOTH_CONNECT, and BLUETOOTH_SCAN permissions are runtime permissions. Therefore, you must explicitly request user approval in your app before you can look for Bluetooth devices.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">Target Android 12 or higher</a></p>\n"}],"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653474600,"creation_date":1653388459,"question_id":72361376,"body_markdown":"Im trying to learn how to just enable and disable Bluetooth through my application. So I have been writing a small code for this. When I run the application on a simulator the code works and it enables and disables the Bluetooth. When I run it on my phone it crashing.\r\n\r\n```\r\nprivate void initBluetooth() {\r\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    if (bluetoothAdapter == null) {\r\n        Toast.makeText(context, &quot;No Bluetooth found&quot;, Toast.LENGTH_SHORT).show();\r\n        finish();\r\n    }\r\n}\r\n```\r\n```\r\nprivate void enableDisableBluetooth() {\r\n    if (bluetoothAdapter.isEnabled()) {\r\n        bluetoothAdapter.disable();\r\n    } else {\r\n        bluetoothAdapter.enable();\r\n    }\r\n}\r\n```\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n```\r\n```\r\n2022-05-24 12:45:12.536 32020-32020/com.example.bluetoothtest E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.bluetoothtest, PID: 32020\r\n    java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10467, packageName = com.example.bluetoothtest, attributionTag = null, token = android.os.BinderProxy@ee66382, next = null }: disable\r\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2437)\r\n        at android.os.Parcel.createException(Parcel.java:2421)\r\n        at android.os.Parcel.readException(Parcel.java:2404)\r\n        at android.os.Parcel.readException(Parcel.java:2346)\r\n        at android.bluetooth.IBluetoothManager$Stub$Proxy.disable(IBluetoothManager.java:1046)\r\n        at android.bluetooth.BluetoothAdapter.disable(BluetoothAdapter.java:2270)\r\n        at com.example.bluetoothtest.MainActivity.enableBluetooth(MainActivity.java:108)\r\n        at com.example.bluetoothtest.MainActivity.onOptionsItemSelected(MainActivity.java:55)\r\n        at android.app.Activity.onMenuItemSelected(Activity.java:4401)\r\n        at androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:352)\r\n        at androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:264)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.onMenuItemSelected(AppCompatDelegateImpl.java:1185)\r\n        at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\r\n        at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\r\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\r\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:975)\r\n        at androidx.appcompat.widget.ActionMenuView.invokeItem(ActionMenuView.java:625)\r\n        at androidx.appcompat.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:151)\r\n        at android.view.View.performClick(View.java:7792)\r\n        at android.widget.TextView.performClick(TextView.java:16045)\r\n        at android.view.View.performClickInternal(View.java:7769)\r\n        at android.view.View.access$3800(View.java:910)\r\n        at android.view.View$PerformClick.run(View.java:30184)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8641)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1133)\r\n     Caused by: android.os.RemoteException: Remote stack trace:\r\n        at com.android.server.BluetoothManagerService.checkPermissionForDataDelivery(BluetoothManagerService.java:5019)\r\n        at com.android.server.BluetoothManagerService.checkConnectPermissionForDataDelivery(BluetoothManagerService.java:5037)\r\n        at com.android.server.BluetoothManagerService.checkBluetoothPermissions(BluetoothManagerService.java:1503)\r\n        at com.android.server.BluetoothManagerService.disable(BluetoothManagerService.java:1930)\r\n        at android.bluetooth.IBluetoothManager$Stub.onTransact(IBluetoothManager.java:473)\r\n2022-05-24 12:45:12.584 32020-32020/com.example.bluetoothtest I/Process: Sending signal. PID: 32020 SIG: 9\r\n\r\n```","title":"Why is my bluetoothAdapter crashing the application","body":"<p>Im trying to learn how to just enable and disable Bluetooth through my application. So I have been writing a small code for this. When I run the application on a simulator the code works and it enables and disables the Bluetooth. When I run it on my phone it crashing.</p>\n<pre><code>private void initBluetooth() {\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (bluetoothAdapter == null) {\n        Toast.makeText(context, &quot;No Bluetooth found&quot;, Toast.LENGTH_SHORT).show();\n        finish();\n    }\n}\n</code></pre>\n<pre><code>private void enableDisableBluetooth() {\n    if (bluetoothAdapter.isEnabled()) {\n        bluetoothAdapter.disable();\n    } else {\n        bluetoothAdapter.enable();\n    }\n}\n</code></pre>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n</code></pre>\n<pre><code>2022-05-24 12:45:12.536 32020-32020/com.example.bluetoothtest E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.bluetoothtest, PID: 32020\n    java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10467, packageName = com.example.bluetoothtest, attributionTag = null, token = android.os.BinderProxy@ee66382, next = null }: disable\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2437)\n        at android.os.Parcel.createException(Parcel.java:2421)\n        at android.os.Parcel.readException(Parcel.java:2404)\n        at android.os.Parcel.readException(Parcel.java:2346)\n        at android.bluetooth.IBluetoothManager$Stub$Proxy.disable(IBluetoothManager.java:1046)\n        at android.bluetooth.BluetoothAdapter.disable(BluetoothAdapter.java:2270)\n        at com.example.bluetoothtest.MainActivity.enableBluetooth(MainActivity.java:108)\n        at com.example.bluetoothtest.MainActivity.onOptionsItemSelected(MainActivity.java:55)\n        at android.app.Activity.onMenuItemSelected(Activity.java:4401)\n        at androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:352)\n        at androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:264)\n        at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:109)\n        at androidx.appcompat.app.AppCompatDelegateImpl.onMenuItemSelected(AppCompatDelegateImpl.java:1185)\n        at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)\n        at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:975)\n        at androidx.appcompat.widget.ActionMenuView.invokeItem(ActionMenuView.java:625)\n        at androidx.appcompat.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:151)\n        at android.view.View.performClick(View.java:7792)\n        at android.widget.TextView.performClick(TextView.java:16045)\n        at android.view.View.performClickInternal(View.java:7769)\n        at android.view.View.access$3800(View.java:910)\n        at android.view.View$PerformClick.run(View.java:30184)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.app.ActivityThread.main(ActivityThread.java:8641)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1133)\n     Caused by: android.os.RemoteException: Remote stack trace:\n        at com.android.server.BluetoothManagerService.checkPermissionForDataDelivery(BluetoothManagerService.java:5019)\n        at com.android.server.BluetoothManagerService.checkConnectPermissionForDataDelivery(BluetoothManagerService.java:5037)\n        at com.android.server.BluetoothManagerService.checkBluetoothPermissions(BluetoothManagerService.java:1503)\n        at com.android.server.BluetoothManagerService.disable(BluetoothManagerService.java:1930)\n        at android.bluetooth.IBluetoothManager$Stub.onTransact(IBluetoothManager.java:473)\n2022-05-24 12:45:12.584 32020-32020/com.example.bluetoothtest I/Process: Sending signal. PID: 32020 SIG: 9\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3205406,"reputation":99,"user_id":2706534,"display_name":"user2706534"},"score":1,"creation_date":1653472142,"post_id":72375258,"comment_id":127858796,"body_markdown":"First: check if your application reads your application.properties file. Does it read other properties from that file? If No: try to break your aplication.properties file, see if the application starts. If it starts - it does not read the file. If Yes: is your service in @ComponentScan scope?","body":"First: check if your application reads your application.properties file. Does it read other properties from that file? If No: try to break your aplication.properties file, see if the application starts. If it starts - it does not read the file. If Yes: is your service in @ComponentScan scope?"},{"owner":{"account_id":24263427,"reputation":25,"user_id":18212703,"display_name":"Jose"},"score":0,"creation_date":1653472385,"post_id":72375258,"comment_id":127858902,"body_markdown":"Hi @user2706534 it reads from application.properties, but in this file exactly not. How does ComponentScan exactly to check if its in the scope. Thanks","body":"Hi @user2706534 it reads from application.properties, but in this file exactly not. How does ComponentScan exactly to check if its in the scope. Thanks"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1653472393,"post_id":72375258,"comment_id":127858906,"body_markdown":"how did you defined terraformPath in your application.properties file?","body":"how did you defined terraformPath in your application.properties file?"},{"owner":{"account_id":24263427,"reputation":25,"user_id":18212703,"display_name":"Jose"},"score":0,"creation_date":1653472574,"post_id":72375258,"comment_id":127858978,"body_markdown":"Hi @IssaKhodadadi i just edited to put the application.properties file","body":"Hi @IssaKhodadadi i just edited to put the application.properties file"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653472419,"creation_date":1653472112,"answer_id":72375377,"question_id":72375258,"body_markdown":"Usually `@PropertySource` annotation goes together with `@Configuration` annotation for your configuration class. It works for entire project. So, place it with your configuration and then in any class that is annotated as `@Component`, `@Service` `@Controller` etc you can use `@Value` annotation exactly the way you showed in your code. Here is a good article on the issue: [Properties with Spring and Spring Boot][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/properties-with-spring","title":"@Value not getting the value from application.properties","body":"<p>Usually <code>@PropertySource</code> annotation goes together with <code>@Configuration</code> annotation for your configuration class. It works for entire project. So, place it with your configuration and then in any class that is annotated as <code>@Component</code>, <code>@Service</code> <code>@Controller</code> etc you can use <code>@Value</code> annotation exactly the way you showed in your code. Here is a good article on the issue: <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">Properties with Spring and Spring Boot</a></p>\n"},{"tags":[],"owner":{"account_id":2824501,"reputation":449,"user_id":2427414,"accept_rate":0,"display_name":"Zamir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653474546,"creation_date":1653474546,"answer_id":72375959,"question_id":72375258,"body_markdown":"I do not see any issue in your shared code. However, it is possible you override the *terraformPath* in somewhere. Spring Boot considers specific orders of externalized config files. It is well explained in the [documentation][1] already. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"@Value not getting the value from application.properties","body":"<p>I do not see any issue in your shared code. However, it is possible you override the <em>terraformPath</em> in somewhere. Spring Boot considers specific orders of externalized config files. It is well explained in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">documentation</a> already.</p>\n"}],"owner":{"account_id":24263427,"reputation":25,"user_id":18212703,"display_name":"Jose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72375377,"answer_count":2,"score":0,"last_activity_date":1653474546,"creation_date":1653471660,"question_id":72375258,"body_markdown":"im trying to get a value from the application.properties in a Spring boot app.\r\n\r\nThe class is defined with the tag @Component, I already tried @Service too, and with \r\n@PropertySource(&quot;classpath:application.properties&quot;) and without the @PropertySource but in any case they get the value.\r\n\r\n       @Component\r\n       @PropertySource(&quot;application.properties&quot;)\r\n        public class TerraformOutput implements IPatternOutput {\r\n    \r\n    \t@Value(value = &quot;${terraformPath}&quot;)\r\n    \tprivate String pathTerraform;\r\n    }\r\n\r\nThe interface is defined like this\r\n\r\n    @Component\r\n    public interface IPatternOutput extends IOutput {\r\n    \t\r\n    \tString createFile(TerraformTemplate t);\r\n    }\r\n\r\nAnd the superior interface\r\n\r\n    @Component\r\n    public interface IOutput {\r\n    \r\n    \tvoid deleteFile(String path);\r\n    \r\n    }\r\n\r\nIn any case I tried without implementing the interface but it didn&#180;t get it in any case\r\n\r\n\r\nThe application.properties is defined in this way:\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dbcloudbatch?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=admin\r\n    spring.datasource.driver-class-name =com.mysql.jdbc.Driver\r\n    #spring.jpa.show-sql: true\r\n    terraformPath=C:/terraform-files/\r\n\r\nThanks in advance.\r\n\r\n","title":"@Value not getting the value from application.properties","body":"<p>im trying to get a value from the application.properties in a Spring boot app.</p>\n<p>The class is defined with the tag @Component, I already tried @Service too, and with\n@PropertySource(&quot;classpath:application.properties&quot;) and without the @PropertySource but in any case they get the value.</p>\n<pre><code>   @Component\n   @PropertySource(&quot;application.properties&quot;)\n    public class TerraformOutput implements IPatternOutput {\n\n    @Value(value = &quot;${terraformPath}&quot;)\n    private String pathTerraform;\n}\n</code></pre>\n<p>The interface is defined like this</p>\n<pre><code>@Component\npublic interface IPatternOutput extends IOutput {\n    \n    String createFile(TerraformTemplate t);\n}\n</code></pre>\n<p>And the superior interface</p>\n<pre><code>@Component\npublic interface IOutput {\n\n    void deleteFile(String path);\n\n}\n</code></pre>\n<p>In any case I tried without implementing the interface but it didn´t get it in any case</p>\n<p>The application.properties is defined in this way:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/dbcloudbatch?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=admin\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\n#spring.jpa.show-sql: true\nterraformPath=C:/terraform-files/\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1540319450,"post_id":52955168,"comment_id":92818921,"body_markdown":"I&#39;m confused about which part &quot;didn&#39;t work&quot; - the `equals` check, or the `setFlag`, or something else? Did you get an exception, or some other error?","body":"I&#39;m confused about which part &quot;didn&#39;t work&quot; - the <code>equals</code> check, or the <code>setFlag</code>, or something else? Did you get an exception, or some other error?"},{"owner":{"account_id":13433597,"reputation":20,"user_id":9692681,"display_name":"Dyakin Anton"},"score":0,"creation_date":1540319963,"post_id":52955168,"comment_id":92819167,"body_markdown":"java programm just thinking long time with no message","body":"java programm just thinking long time with no message"},{"owner":{"account_id":13433597,"reputation":20,"user_id":9692681,"display_name":"Dyakin Anton"},"score":0,"creation_date":1540320314,"post_id":52955168,"comment_id":92819330,"body_markdown":"i tried print in console instead delete  and the same. look like method equals is wrong","body":"i tried print in console instead delete  and the same. look like method equals is wrong"},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1540329409,"post_id":52955168,"comment_id":92823277,"body_markdown":"Instead of just running it from console and relying on log statements, use a debugger. Stepping through your code in a debugger will let you watch the code flow and examine variables as the program executes, which very often makes the problem very obvious. Please do this and update your question with what you find out while debugging.","body":"Instead of just running it from console and relying on log statements, use a debugger. Stepping through your code in a debugger will let you watch the code flow and examine variables as the program executes, which very often makes the problem very obvious. Please do this and update your question with what you find out while debugging."},{"owner":{"account_id":13433597,"reputation":20,"user_id":9692681,"display_name":"Dyakin Anton"},"score":1,"creation_date":1540335094,"post_id":52955168,"comment_id":92824910,"body_markdown":"after deep dive in problem, obviously, **I got off easy**. Program work correctly, and confuse was that it iterate my mails during 9 min and many mails from same sender made illusion than iteration didn&#39;t work. But debugging show algoritm and I all understood. thanx very much for attention, Krease\ni&#39; ll be more reasonable next","body":"after deep dive in problem, obviously, <b>I got off easy</b>. Program work correctly, and confuse was that it iterate my mails during 9 min and many mails from same sender made illusion than iteration didn&#39;t work. But debugging show algoritm and I all understood. thanx very much for attention, Krease i&#39; ll be more reasonable next"},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1540400154,"post_id":52955168,"comment_id":92855076,"body_markdown":"Glad to hear you were able to resolve the issue!","body":"Glad to hear you were able to resolve the issue!"}],"answers":[{"tags":[],"owner":{"account_id":9379980,"reputation":11,"user_id":7001581,"display_name":"Amir Hooshangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653474355,"creation_date":1653474355,"answer_id":72375902,"question_id":52955168,"body_markdown":"Actually, the flag has changed to deleted (it doesn&#39;t delete physically). While fetching emails you have to exclude /delete flags.","title":"Java Mail API can&#39;t delete messages","body":"<p>Actually, the flag has changed to deleted (it doesn't delete physically). While fetching emails you have to exclude /delete flags.</p>\n"}],"owner":{"account_id":13433597,"reputation":20,"user_id":9692681,"display_name":"Dyakin Anton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653474355,"creation_date":1540317620,"question_id":52955168,"body_markdown":"I have some confusion about message deleting. I have well \r\nconnection to email, but code didn&#39;t work.\r\n\r\n\r\n    public class GetMyInbox {\r\n\r\n    public static void main(String[] args) {\r\n        Properties prop = System.getProperties();\r\n        prop.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n        System.out.println(&quot;Start connection...&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(prop,null);\r\n        try {\r\n            Store store = session.getStore(&quot;imaps&quot;);\r\n            store.connect(&quot;host&quot;, &quot;email&quot;,&quot;password&quot;);\r\n            System.out.println(&quot;Connected!&quot;);\r\n\r\n            Folder folder = store.getFolder(&quot;INBOX&quot;);\r\n            folder.open(Folder.READ_WRITE);\r\n\r\n            Message msg = folder.getMessage(1779);\r\n            Address from = msg.getFrom()[0];\r\n\r\n            List&lt;Message&gt; messages = Arrays.asList(folder.getMessages());\r\n            for (Message m : messages) {\r\n              if (m.getFrom()[0].equals(from)) {\r\n\t          m.setFlag(Flags.Flag.DELETED, true);\r\n                }\r\n             }\r\n\r\n              } catch ...\r\n\r\nmethod equals don&#39;t work.\r\nI tried do the same with string\r\n\r\n    if (m.getFrom()[0].toString().contains(&quot;string&quot;)){\r\n    \t...\r\n    }\r\n\r\n","title":"Java Mail API can&#39;t delete messages","body":"<p>I have some confusion about message deleting. I have well \nconnection to email, but code didn't work.</p>\n\n<pre><code>public class GetMyInbox {\n\npublic static void main(String[] args) {\n    Properties prop = System.getProperties();\n    prop.setProperty(\"mail.store.protocol\", \"imaps\");\n    System.out.println(\"Start connection...\");\n\n    Session session = Session.getDefaultInstance(prop,null);\n    try {\n        Store store = session.getStore(\"imaps\");\n        store.connect(\"host\", \"email\",\"password\");\n        System.out.println(\"Connected!\");\n\n        Folder folder = store.getFolder(\"INBOX\");\n        folder.open(Folder.READ_WRITE);\n\n        Message msg = folder.getMessage(1779);\n        Address from = msg.getFrom()[0];\n\n        List&lt;Message&gt; messages = Arrays.asList(folder.getMessages());\n        for (Message m : messages) {\n          if (m.getFrom()[0].equals(from)) {\n          m.setFlag(Flags.Flag.DELETED, true);\n            }\n         }\n\n          } catch ...\n</code></pre>\n\n<p>method equals don't work.\nI tried do the same with string</p>\n\n<pre><code>if (m.getFrom()[0].toString().contains(\"string\")){\n    ...\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","apache-commons-logging"],"comments":[{"owner":{"account_id":3600965,"reputation":609,"user_id":3004282,"display_name":"EFOE"},"score":1,"creation_date":1570620847,"post_id":58301451,"comment_id":102968685,"body_markdown":"Hello next time please put the logs pattern you have already tried, it will help people to figure your problem quickly","body":"Hello next time please put the logs pattern you have already tried, it will help people to figure your problem quickly"}],"answers":[{"tags":[],"owner":{"account_id":3600965,"reputation":609,"user_id":3004282,"display_name":"EFOE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570696189,"creation_date":1570696189,"answer_id":58318586,"question_id":58301451,"body_markdown":"To achieve use this pattern:\r\n\r\n    %d{yyyy-MM-dd HH:mm:ss.SSS} %p ${PID:- } --- [%t] %c : %msg%n\r\n\r\n[More about pattern can be found on this link][1]\r\n\r\n\r\n  [1]: https://examples.javacodegeeks.com/enterprise-java/log4j/log4j-conversion-pattern-example/","title":"How do I configure spring boot default logging pattern in log4j for maven?","body":"<p>To achieve use this pattern:</p>\n\n<pre><code>%d{yyyy-MM-dd HH:mm:ss.SSS} %p ${PID:- } --- [%t] %c : %msg%n\n</code></pre>\n\n<p><a href=\"https://examples.javacodegeeks.com/enterprise-java/log4j/log4j-conversion-pattern-example/\" rel=\"nofollow noreferrer\">More about pattern can be found on this link</a></p>\n"},{"tags":[],"owner":{"account_id":145352,"reputation":373,"user_id":355097,"display_name":"arvindkgs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653474244,"creation_date":1653474244,"answer_id":72375864,"question_id":58301451,"body_markdown":"You can copy the default log4j2 pattern defined in  https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/log4j2/log4j2.xml into your log4j2.xml and customise as required\r\n","title":"How do I configure spring boot default logging pattern in log4j for maven?","body":"<p>You can copy the default log4j2 pattern defined in  <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/log4j2/log4j2.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/resources/org/springframework/boot/logging/log4j2/log4j2.xml</a> into your log4j2.xml and customise as required</p>\n"}],"owner":{"account_id":13217628,"reputation":99,"user_id":9545596,"display_name":"Dark_shadow_side"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653474244,"creation_date":1570614593,"question_id":58301451,"body_markdown":"I want my maven application logs to be written in below format, I have tried many patterns I know but it didn&#39;t print as expected please help me out\r\n\r\n    2019-03-05 10:57:51.112  INFO 45469 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.52\r\n    2019-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2019-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1358 ms","title":"How do I configure spring boot default logging pattern in log4j for maven?","body":"<p>I want my maven application logs to be written in below format, I have tried many patterns I know but it didn't print as expected please help me out</p>\n\n<pre><code>2019-03-05 10:57:51.112  INFO 45469 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/7.0.52\n2019-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-03-05 10:57:51.253  INFO 45469 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1358 ms\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1561997893,"post_id":56838976,"comment_id":100230504,"body_markdown":"You would like to read questions from the file, right? So the return type of your method shouldn&#39;t be `boolean`. It should be `List&lt;Question&gt;`: that&#39;s what you want your method to produce: a list of questions. Not a boolean. Given that the method will have to return a List of question, you&#39;ll have to create a list, create several Question objects, add each of them to the list, and finally return the list.","body":"You would like to read questions from the file, right? So the return type of your method shouldn&#39;t be <code>boolean</code>. It should be <code>List&lt;Question&gt;</code>: that&#39;s what you want your method to produce: a list of questions. Not a boolean. Given that the method will have to return a List of question, you&#39;ll have to create a list, create several Question objects, add each of them to the list, and finally return the list."},{"owner":{"account_id":101037,"reputation":11047,"user_id":272023,"accept_rate":66,"display_name":"John"},"score":0,"creation_date":1561998137,"post_id":56838976,"comment_id":100230604,"body_markdown":"Unless you have specifically been required to parse the JSON from scratch, please don&#39;t. Use a serialisation/deserialization library instead, such as Jackson or Gson.","body":"Unless you have specifically been required to parse the JSON from scratch, please don&#39;t. Use a serialisation/deserialization library instead, such as Jackson or Gson."},{"owner":{"account_id":15128076,"reputation":25,"user_id":10916803,"display_name":"Bruno Cunha"},"score":0,"creation_date":1561998145,"post_id":56838976,"comment_id":100230611,"body_markdown":"@JBNizet the problem is that the interface method returns a a boolean and it cant be changed. I asked the teacher if it was a typo but he said no","body":"@JBNizet the problem is that the interface method returns a a boolean and it cant be changed. I asked the teacher if it was a typo but he said no"},{"owner":{"account_id":15128076,"reputation":25,"user_id":10916803,"display_name":"Bruno Cunha"},"score":0,"creation_date":1561998227,"post_id":56838976,"comment_id":100230641,"body_markdown":"@John the teacher recommended us to use Gson but i found it easier to code like this.","body":"@John the teacher recommended us to use Gson but i found it easier to code like this."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1561998312,"post_id":56838976,"comment_id":100230673,"body_markdown":"Then its responsibility is probably to initilialize the object itself, i.e. initialize and populate `this.questions`. It doesn&#39;t make much difference to the above process. The only difference is that, at the end, instead of returning the list, it should initialize `this.questions with the created and populated list.","body":"Then its responsibility is probably to initilialize the object itself, i.e. initialize and populate <code>this.questions</code>. It doesn&#39;t make much difference to the above process. The only difference is that, at the end, instead of returning the list, it should initialize `this.questions with the created and populated list."},{"owner":{"account_id":101037,"reputation":11047,"user_id":272023,"accept_rate":66,"display_name":"John"},"score":0,"creation_date":1561998465,"post_id":56838976,"comment_id":100230732,"body_markdown":"Your teacher is right! It doesn&#39;t have to be difficult, here is a good tutorial: https://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/.","body":"Your teacher is right! It doesn&#39;t have to be difficult, here is a good tutorial: <a href=\"https://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":12482223,"reputation":406,"user_id":9086577,"display_name":"NerdyGinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562099313,"creation_date":1562000603,"answer_id":56839633,"question_id":56838976,"body_markdown":"Here is my understanding: you can read the json file and parse the contents just fine, but the issue is how to pass the results back to the caller without returning the parameter itself. From the code snippets, the line \r\n```this.current_question = this.test.getQuestion(this.question_number);```\r\nseems like where this ArrayList will be queried in the program. \r\n\r\nFrom this, I am imagining a couple of possibilites: \r\n\r\n1) There is a ```setQuestion(&lt;params&gt;)``` method that you could call in the teacher&#39;s provided code.\r\n\r\n2) There is a variable such as ```this.test``` or ```this.questions``` that you should be setting. \r\n\r\nIn either case, you would add each question inside your ```for``` loop. For example,\r\n```\r\nfor(int i=0;i&lt;arr.size();i++){\r\n            System.out.println(&quot;--------------------------------------Question&quot;+i+&quot;--------------------------------------------&quot;);\r\n            JsonElement arrayElement = arr.get(i);\r\n            JsonObject obj = arrayElement.getAsJsonObject();\r\n            //add obj via variable assignment\r\n            this.test.Add(obj);\r\n            //or, add obj via set method\r\n            this.test.setQuestion(i, obj); //or whatever parameters are needed :)\r\n```\r\nEDIT:\r\n\r\nBecause your Question class extends IQuestion, you can cast an instance of the Question class to IQuestion. Plus, the Question class is using a Gson library to deserialize for you, which means you saved yourself some legwork. (yay!)\r\n```\r\nfor(int i=0;i&lt;arr.size();i++){\r\n            //get the whole json array element\r\n            JsonElement arrayElement = arr.get(i);\r\n            //...\r\n            //get question object\r\n            JsonObject list = obj.get(&quot;question&quot;).getAsJsonObject();\r\n            //cast to IQuestion using the Question class Gson deserializer\r\n            IQuestion q = new Gson().fromJson(list, Question.class);\r\n            //And, add using built in method\r\n            this.test.setQuestion(q);\r\n```\r\n[This website](https://www.baeldung.com/gson-deserialization-guide) has some examples of Gson deserialization, one of which I used up above.\r\n\r\nEDIT:\r\n\r\nAfter adding a constructor to the Question class, the code to add a question of specific types will need type casting.\r\n```\r\nfor(int i=0;i&lt;arr.size();i++){\r\n            //get the whole json array element\r\n            JsonElement arrayElement = arr.get(i);\r\n            //...\r\n            //get question object\r\n            JsonObject list = obj.get(&quot;question&quot;).getAsJsonObject();\r\n            //cast question to correct interface based on question type\r\n            if (type==&quot;Multiple Choice&quot;) {\r\n               IQuestionMultipleChoice questionMP = (IQuestionMultipleChoice) new Question(&lt;params&gt;);\r\n               this.test.setQuestion(questionMP);\r\n            } else if(type==&quot;Yes/No&quot;) {\r\n               //...\r\n```\r\n","title":"Reading a JsonFile to an ArrayList","body":"<p>Here is my understanding: you can read the json file and parse the contents just fine, but the issue is how to pass the results back to the caller without returning the parameter itself. From the code snippets, the line \n<code>this.current_question = this.test.getQuestion(this.question_number);</code>\nseems like where this ArrayList will be queried in the program. </p>\n\n<p>From this, I am imagining a couple of possibilites: </p>\n\n<p>1) There is a <code>setQuestion(&lt;params&gt;)</code> method that you could call in the teacher's provided code.</p>\n\n<p>2) There is a variable such as <code>this.test</code> or <code>this.questions</code> that you should be setting. </p>\n\n<p>In either case, you would add each question inside your <code>for</code> loop. For example,</p>\n\n<pre><code>for(int i=0;i&lt;arr.size();i++){\n            System.out.println(\"--------------------------------------Question\"+i+\"--------------------------------------------\");\n            JsonElement arrayElement = arr.get(i);\n            JsonObject obj = arrayElement.getAsJsonObject();\n            //add obj via variable assignment\n            this.test.Add(obj);\n            //or, add obj via set method\n            this.test.setQuestion(i, obj); //or whatever parameters are needed :)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Because your Question class extends IQuestion, you can cast an instance of the Question class to IQuestion. Plus, the Question class is using a Gson library to deserialize for you, which means you saved yourself some legwork. (yay!)</p>\n\n<pre><code>for(int i=0;i&lt;arr.size();i++){\n            //get the whole json array element\n            JsonElement arrayElement = arr.get(i);\n            //...\n            //get question object\n            JsonObject list = obj.get(\"question\").getAsJsonObject();\n            //cast to IQuestion using the Question class Gson deserializer\n            IQuestion q = new Gson().fromJson(list, Question.class);\n            //And, add using built in method\n            this.test.setQuestion(q);\n</code></pre>\n\n<p><a href=\"https://www.baeldung.com/gson-deserialization-guide\" rel=\"nofollow noreferrer\">This website</a> has some examples of Gson deserialization, one of which I used up above.</p>\n\n<p>EDIT:</p>\n\n<p>After adding a constructor to the Question class, the code to add a question of specific types will need type casting.</p>\n\n<pre><code>for(int i=0;i&lt;arr.size();i++){\n            //get the whole json array element\n            JsonElement arrayElement = arr.get(i);\n            //...\n            //get question object\n            JsonObject list = obj.get(\"question\").getAsJsonObject();\n            //cast question to correct interface based on question type\n            if (type==\"Multiple Choice\") {\n               IQuestionMultipleChoice questionMP = (IQuestionMultipleChoice) new Question(&lt;params&gt;);\n               this.test.setQuestion(questionMP);\n            } else if(type==\"Yes/No\") {\n               //...\n</code></pre>\n"}],"owner":{"account_id":15128076,"reputation":25,"user_id":10916803,"display_name":"Bruno Cunha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56839633,"answer_count":1,"score":0,"last_activity_date":1653474078,"creation_date":1561997578,"question_id":56838976,"body_markdown":"I have an assingment to create something on the lines of a quiz. The teacher gave us all the interfaces for the [Questions][3] and the [Test][1] and even the &quot;graphic layer&quot; to [display the quiz][2].\r\n\r\nI created two classes for the Test and Question interfaces. The test class has a listArray of Questions objects along with other atributes. The Question class has the atributes you can see in the JSON File(title,score,mark,etc...).\r\n\r\nTo read the Json file i created the method &quot;loadfromJsonFile&quot;, and it prints the file perfectly but i cant figure out how to associate each question object from the file to the arrayList.\r\n\r\nJson File:\r\n\r\n    [\r\n    {\r\n        &quot;type&quot;: &quot;MultipleChoice&quot;,\r\n        &quot;question&quot;: {\r\n            &quot;title&quot;: &quot;Question 1&quot;,\r\n            &quot;score&quot;: 4,\r\n            &quot;mark&quot;:  5,\r\n            &quot;question_description&quot;: &quot;The ability of an object to take on many forms is:&quot;,\r\n            &quot;options&quot;: [\r\n                &quot;Polymorphism&quot;,\r\n                &quot;Encapsulation&quot;,\r\n                &quot;Design Patter&quot;,\r\n                &quot;Does not Exist&quot;\r\n            ],\r\n            &quot;correct_answer&quot;: &quot;Polymorphism&quot;\r\n        }\r\n    },\r\n\r\n    {\r\n        &quot;type&quot;: &quot;MultipleChoice&quot;,\r\n        &quot;question&quot;: {\r\n            &quot;title&quot;: &quot;Question 2&quot;,\r\n            &quot;score&quot;: 4,\r\n            &quot;mark&quot;:  5,\r\n            &quot;question_description&quot;: &quot;The bundling of data with the methods that operate on that data is:&quot;,\r\n            &quot;options&quot;: [\r\n                &quot;Polymorphism&quot;,\r\n                &quot;Encapsulation&quot;,\r\n                &quot;Design Patter&quot;,\r\n                &quot;Does not Exist&quot;\r\n            ],\r\n            &quot;correct_answer&quot;: &quot;Encapsulation&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;type&quot;: &quot;YesNo&quot;,\r\n        &quot;question&quot;: {\r\n            &quot;title&quot;: &quot;Question 3&quot;,\r\n            &quot;score&quot;: 4,\r\n            &quot;mark&quot;:  5,\r\n            &quot;question_description&quot;: &quot;Object Oriented Programming is exclusive to the JAVA programming language&quot;,\r\n            &quot;correct_answer&quot;: &quot;no&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;type&quot;: &quot;Numeric&quot;,\r\n        &quot;question&quot;: {\r\n            &quot;title&quot;: &quot;Question 4&quot;,\r\n            &quot;score&quot;: 4,\r\n            &quot;mark&quot;:  5,\r\n            &quot;question_description&quot;: &quot;How many programming languages are taught in Paradigmas de Programa&#231;&#227;o?&quot;,\r\n            &quot;correct_answer&quot;: &quot;1&quot;\r\n        }\r\n    }]\r\n\r\n\r\n\r\nCode for reading the Json File:\r\n    \r\n    public boolean loadFromJSONFile(String s) throws TestException {\r\n        String path = &quot;teste_A.json&quot;;\r\n        BufferedReader reader = null;\r\n\r\n        try{\r\n            reader = new BufferedReader(new FileReader(path));\r\n\r\n            JsonStreamParser p = new JsonStreamParser(reader);\r\n            JsonArray arr = (JsonArray) p.next();\r\n\r\n            for(int i=0;i&lt;arr.size();i++){\r\n                System.out.println(&quot;--------------------------------------Question&quot;+i+&quot;--------------------------------------------&quot;);\r\n                JsonElement arrayElement = arr.get(i);\r\n                JsonObject obj = arrayElement.getAsJsonObject();\r\n                String type=obj.get(&quot;type&quot;).getAsString();\r\n                System.out.println(&quot;Type: &quot; + type);\r\n                JsonObject list =obj.get(&quot;question&quot;).getAsJsonObject();\r\n                String title=list.get(&quot;title&quot;).getAsString();\r\n                System.out.println(&quot;Title: &quot; + title);\r\n                int score=list.get(&quot;score&quot;).getAsInt();\r\n                System.out.println(&quot;Score: &quot; + score);\r\n                int mark=list.get(&quot;mark&quot;).getAsInt();\r\n                System.out.println(&quot;Mark: &quot; + mark);\r\n                String Description=list.get(&quot;question_description&quot;).getAsString();\r\n                System.out.println(&quot;Description: &quot; + Description);\r\n                JsonArray opt = list.getAsJsonArray(&quot;options&quot;);\r\n                if(opt!=null){\r\n                    System.out.println(&quot;Options: \\n&quot;);\r\n                    for (int j = 0; j &lt; opt.size(); j++) {\r\n                        JsonPrimitive value = opt.get(j).getAsJsonPrimitive();\r\n                        System.out.print(&quot;      Option&quot;+ (j+1) +&quot;: &quot;+ value.getAsString()+ &quot; \\n&quot;);\r\n                    }\r\n                    System.out.println(&quot;\\n&quot;);\r\n                }\r\n\r\n                String CorrectAnswer = list.get(&quot;correct_answer&quot;).getAsString();\r\n                System.out.println(&quot;Correct: &quot; + CorrectAnswer);\r\n            }\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                reader.close();\r\n            }catch (IOException ex){\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y4ebf.jpg\r\n  [2]: https://i.stack.imgur.com/KgCe2.jpg\r\n  [3]: https://i.stack.imgur.com/oxku4.jpg","title":"Reading a JsonFile to an ArrayList","body":"<p>I have an assingment to create something on the lines of a quiz. The teacher gave us all the interfaces for the <a href=\"https://i.stack.imgur.com/oxku4.jpg\" rel=\"nofollow noreferrer\">Questions</a> and the <a href=\"https://i.stack.imgur.com/Y4ebf.jpg\" rel=\"nofollow noreferrer\">Test</a> and even the \"graphic layer\" to <a href=\"https://i.stack.imgur.com/KgCe2.jpg\" rel=\"nofollow noreferrer\">display the quiz</a>.</p>\n\n<p>I created two classes for the Test and Question interfaces. The test class has a listArray of Questions objects along with other atributes. The Question class has the atributes you can see in the JSON File(title,score,mark,etc...).</p>\n\n<p>To read the Json file i created the method \"loadfromJsonFile\", and it prints the file perfectly but i cant figure out how to associate each question object from the file to the arrayList.</p>\n\n<p>Json File:</p>\n\n<pre><code>[\n{\n    \"type\": \"MultipleChoice\",\n    \"question\": {\n        \"title\": \"Question 1\",\n        \"score\": 4,\n        \"mark\":  5,\n        \"question_description\": \"The ability of an object to take on many forms is:\",\n        \"options\": [\n            \"Polymorphism\",\n            \"Encapsulation\",\n            \"Design Patter\",\n            \"Does not Exist\"\n        ],\n        \"correct_answer\": \"Polymorphism\"\n    }\n},\n\n{\n    \"type\": \"MultipleChoice\",\n    \"question\": {\n        \"title\": \"Question 2\",\n        \"score\": 4,\n        \"mark\":  5,\n        \"question_description\": \"The bundling of data with the methods that operate on that data is:\",\n        \"options\": [\n            \"Polymorphism\",\n            \"Encapsulation\",\n            \"Design Patter\",\n            \"Does not Exist\"\n        ],\n        \"correct_answer\": \"Encapsulation\"\n    }\n},\n{\n    \"type\": \"YesNo\",\n    \"question\": {\n        \"title\": \"Question 3\",\n        \"score\": 4,\n        \"mark\":  5,\n        \"question_description\": \"Object Oriented Programming is exclusive to the JAVA programming language\",\n        \"correct_answer\": \"no\"\n    }\n},\n{\n    \"type\": \"Numeric\",\n    \"question\": {\n        \"title\": \"Question 4\",\n        \"score\": 4,\n        \"mark\":  5,\n        \"question_description\": \"How many programming languages are taught in Paradigmas de Programação?\",\n        \"correct_answer\": \"1\"\n    }\n}]\n</code></pre>\n\n<p>Code for reading the Json File:</p>\n\n<pre><code>public boolean loadFromJSONFile(String s) throws TestException {\n    String path = \"teste_A.json\";\n    BufferedReader reader = null;\n\n    try{\n        reader = new BufferedReader(new FileReader(path));\n\n        JsonStreamParser p = new JsonStreamParser(reader);\n        JsonArray arr = (JsonArray) p.next();\n\n        for(int i=0;i&lt;arr.size();i++){\n            System.out.println(\"--------------------------------------Question\"+i+\"--------------------------------------------\");\n            JsonElement arrayElement = arr.get(i);\n            JsonObject obj = arrayElement.getAsJsonObject();\n            String type=obj.get(\"type\").getAsString();\n            System.out.println(\"Type: \" + type);\n            JsonObject list =obj.get(\"question\").getAsJsonObject();\n            String title=list.get(\"title\").getAsString();\n            System.out.println(\"Title: \" + title);\n            int score=list.get(\"score\").getAsInt();\n            System.out.println(\"Score: \" + score);\n            int mark=list.get(\"mark\").getAsInt();\n            System.out.println(\"Mark: \" + mark);\n            String Description=list.get(\"question_description\").getAsString();\n            System.out.println(\"Description: \" + Description);\n            JsonArray opt = list.getAsJsonArray(\"options\");\n            if(opt!=null){\n                System.out.println(\"Options: \\n\");\n                for (int j = 0; j &lt; opt.size(); j++) {\n                    JsonPrimitive value = opt.get(j).getAsJsonPrimitive();\n                    System.out.print(\"      Option\"+ (j+1) +\": \"+ value.getAsString()+ \" \\n\");\n                }\n                System.out.println(\"\\n\");\n            }\n\n            String CorrectAnswer = list.get(\"correct_answer\").getAsString();\n            System.out.println(\"Correct: \" + CorrectAnswer);\n        }\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            reader.close();\n        }catch (IOException ex){\n            ex.printStackTrace();\n        }\n    }\n\n\n    return false;\n}\n</code></pre>\n"},{"tags":["java","logging","soap","log4j","slf4j"],"comments":[{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1653476823,"post_id":72375813,"comment_id":127860389,"body_markdown":"You can simply follow the follwing tutorial\nhttps://mkyong.com/logging/apache-log4j-2-tutorials/\n\nWithout looking at your pom.xml, property file, and code, its difficult to judge what did you do wrong","body":"You can simply follow the follwing tutorial <a href=\"https://mkyong.com/logging/apache-log4j-2-tutorials/\" rel=\"nofollow noreferrer\">mkyong.com/logging/apache-log4j-2-tutorials</a>  Without looking at your pom.xml, property file, and code, its difficult to judge what did you do wrong"},{"owner":{"account_id":9793863,"reputation":181,"user_id":7257604,"display_name":"office.aizaz"},"score":0,"creation_date":1653476931,"post_id":72375813,"comment_id":127860432,"body_markdown":"The error message that you have posted has nothing to with SOAP web service. It simply states that the logger could not found an actual implementation of logging framework (in your classpath) that you are using in your code","body":"The error message that you have posted has nothing to with SOAP web service. It simply states that the logger could not found an actual implementation of logging framework (in your classpath) that you are using in your code"}],"owner":{"account_id":24437311,"reputation":11,"user_id":18361426,"display_name":"Lakshmi_N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653474033,"creation_date":1653474033,"question_id":72375813,"body_markdown":"Getting these errors while trying to enable logging (SOAP logs).\r\n\r\n**SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nlog4j:WARN No appenders could be found for logger (org.apache.commons.configuration.PropertiesConfiguration).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.**\r\n\r\nPOM file that I&#39;m using has the below lines :\r\n\r\n    *&lt;!-- Adds the log4j framework --&gt;\r\n     &lt;dependency&gt;\r\n       &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n       &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2.16&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;!-- Make SLF4J use JDK logging as the logging framework --&gt;\r\n       &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;*\r\n\r\n   \r\nCan anyone help me get the SOAP logs ?\r\nThanks in advnace !","title":"SOAP logging error in( Eclipse) JAVA program","body":"<p>Getting these errors while trying to enable logging (SOAP logs).</p>\n<p><strong>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nlog4j:WARN No appenders could be found for logger (org.apache.commons.configuration.PropertiesConfiguration).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See <a href=\"http://logging.apache.org/log4j/1.2/faq.html#noconfig\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/faq.html#noconfig</a> for more info.</strong></p>\n<p>POM file that I'm using has the below lines :</p>\n<pre><code>*&lt;!-- Adds the log4j framework --&gt;\n &lt;dependency&gt;\n   &lt;groupId&gt;log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n   &lt;version&gt;1.2.16&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;!-- Make SLF4J use JDK logging as the logging framework --&gt;\n   &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;*\n</code></pre>\n<p>Can anyone help me get the SOAP logs ?\nThanks in advnace !</p>\n"},{"tags":["java","scala","gradle"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1653402311,"post_id":72362922,"comment_id":127840671,"body_markdown":"Question isn&#39;t specific to Kafka. You can use build profiles for running different test suites. This is done all the time in maven. I&#39;m sure something similar is done in Gradle.","body":"Question isn&#39;t specific to Kafka. You can use build profiles for running different test suites. This is done all the time in maven. I&#39;m sure something similar is done in Gradle."}],"answers":[{"tags":[],"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653473690,"creation_date":1653473690,"answer_id":72375737,"question_id":72362922,"body_markdown":"I can share what we did for downgrading the Scala dependency when we used an older version of Spring Kafka in a Spring Boot context:\r\n\r\n```lang-java\r\ndependencies {\r\n  constraints {\r\n    testImplementation(&#39;org.scala-lang:scala-library&#39;) {\r\n      // See https://github.com/spring-projects/spring-kafka/issues/1623\r\n      // This can be removed if upgrading Spring Kafka to 2.6\r\n      because(&#39;There is a transitive dependency from Jackson to Scala that is not compatible with the version required by Apache Kafka&#39;)\r\n      version {\r\n        strictly &#39;2.12.11&#39;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis will force the scala-library dependency to be a specific version for all tests.\r\n\r\nIf you want to run some tests in one version and some in another, and they are all in the same module, you are probably better of segregating your tests in different source sets. You can read about this in the user guide [here](https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests) (though about integration testing, the same principle applies to other kinds of tests.)","title":"Changing version for a transitive dependency in gradle","body":"<p>I can share what we did for downgrading the Scala dependency when we used an older version of Spring Kafka in a Spring Boot context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n  constraints {\n    testImplementation('org.scala-lang:scala-library') {\n      // See https://github.com/spring-projects/spring-kafka/issues/1623\n      // This can be removed if upgrading Spring Kafka to 2.6\n      because('There is a transitive dependency from Jackson to Scala that is not compatible with the version required by Apache Kafka')\n      version {\n        strictly '2.12.11'\n      }\n    }\n  }\n}\n</code></pre>\n<p>This will force the scala-library dependency to be a specific version for all tests.</p>\n<p>If you want to run some tests in one version and some in another, and they are all in the same module, you are probably better of segregating your tests in different source sets. You can read about this in the user guide <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">here</a> (though about integration testing, the same principle applies to other kinds of tests.)</p>\n"}],"owner":{"account_id":22634420,"reputation":21,"user_id":16811386,"display_name":"Ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653473690,"creation_date":1653395424,"question_id":72362922,"body_markdown":"I have a very weird requirement of using two different version for scala library. \r\n\r\nThe scenario is that there are some very old tests are using scala library with a very older version and now when have created new Kafka Consumers and producers in the same package and scala transitively gets the latest version of scala. \r\n\r\nIs there a way I can run old tests on older version and new tests on newer version for scala.\r\n    ","title":"Changing version for a transitive dependency in gradle","body":"<p>I have a very weird requirement of using two different version for scala library.</p>\n<p>The scenario is that there are some very old tests are using scala library with a very older version and now when have created new Kafka Consumers and producers in the same package and scala transitively gets the latest version of scala.</p>\n<p>Is there a way I can run old tests on older version and new tests on newer version for scala.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":37018,"reputation":13267,"user_id":105741,"display_name":"Antony Stubbs"},"score":0,"creation_date":1597732032,"post_id":27861658,"comment_id":112221634,"body_markdown":"You&#39;re looking for the equivalent of maven&#39;s enforcer plugin for jvm version, right? https://github.com/kordamp/enforcer-gradle-plugin/","body":"You&#39;re looking for the equivalent of maven&#39;s enforcer plugin for jvm version, right? <a href=\"https://github.com/kordamp/enforcer-gradle-plugin/\" rel=\"nofollow noreferrer\">github.com/kordamp/enforcer-gradle-plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":5229469,"reputation":281,"user_id":4180338,"display_name":"dhfsk"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1471332732,"creation_date":1420810451,"answer_id":27861773,"question_id":27861658,"body_markdown":"TLDR;\r\nThanks @franklin-yu &quot;targetCompatibility = &#39;1.7&#39; -&gt; your user can compile with 8 and run with 7.&quot;\r\n\r\nSee https://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility\r\n\r\n`targetCompatibility = &#39;1.7&#39;` does the trick for e.g. Java 7\r\n\r\nUse `sourceCompatibility = &#39;1.7&#39;` for the language level\r\n","title":"How do I specify the required Java version in a Gradle build?","body":"<p>TLDR;\nThanks @franklin-yu \"targetCompatibility = '1.7' -> your user can compile with 8 and run with 7.\"</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility\">Gradle, &quot;sourceCompatibility&quot; vs &quot;targetCompatibility&quot;?</a></p>\n\n<p><code>targetCompatibility = '1.7'</code> does the trick for e.g. Java 7</p>\n\n<p>Use <code>sourceCompatibility = '1.7'</code> for the language level</p>\n"},{"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1572312724,"creation_date":1572310950,"answer_id":58600217,"question_id":27861658,"body_markdown":"You can try this:\r\n\r\n```kotlin\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\ntasks.withType&lt;JavaCompile&gt; {\r\n    options.compilerArgs.addAll(arrayOf(&quot;--release&quot;, &quot;8&quot;))\r\n}\r\n```\r\n\r\nThis will also give JDK compliance to you. You can also see the following related issues:\r\n\r\n - Gradle: [[Java 9] Add convenience method for `-release` compiler argument](https://github.com/gradle/gradle/issues/2510)\r\n - Eclipse Plug-ins for Gradle: [JDK API compatibility should match the sourceCompatibility option](https://github.com/eclipse/buildship/issues/934).","title":"How do I specify the required Java version in a Gradle build?","body":"<p>You can try this:</p>\n\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ntasks.withType&lt;JavaCompile&gt; {\n    options.compilerArgs.addAll(arrayOf(\"--release\", \"8\"))\n}\n</code></pre>\n\n<p>This will also give JDK compliance to you. You can also see the following related issues:</p>\n\n<ul>\n<li>Gradle: <a href=\"https://github.com/gradle/gradle/issues/2510\" rel=\"noreferrer\">[Java 9] Add convenience method for <code>-release</code> compiler argument</a></li>\n<li>Eclipse Plug-ins for Gradle: <a href=\"https://github.com/eclipse/buildship/issues/934\" rel=\"noreferrer\">JDK API compatibility should match the sourceCompatibility option</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572535884,"creation_date":1572535884,"answer_id":58646709,"question_id":27861658,"body_markdown":"In the `build.gradle` file, add the following two lines:\r\n```\r\nsourceCompatibility = &#39;1.8&#39;\r\ntargetCompatibility = &#39;1.8&#39;\r\n```\r\n\r\nThe `targetCompatibility` defines the generated JVM bytecode version (this is the version that users of your application need). The `sourceCompatibility` defines which source code constructs are allowed (e.g. you need Java 1.8 or higher to use lambda expressions in source code).\r\n\r\n[Source](https://docs.gradle.org/current/userguide/java_plugin.html#other_convention_properties)","title":"How do I specify the required Java version in a Gradle build?","body":"<p>In the <code>build.gradle</code> file, add the following two lines:</p>\n\n<pre><code>sourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n</code></pre>\n\n<p>The <code>targetCompatibility</code> defines the generated JVM bytecode version (this is the version that users of your application need). The <code>sourceCompatibility</code> defines which source code constructs are allowed (e.g. you need Java 1.8 or higher to use lambda expressions in source code).</p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#other_convention_properties\" rel=\"noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":1534759,"reputation":3920,"user_id":1431146,"accept_rate":67,"display_name":"CletusW"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1605550596,"creation_date":1605550596,"answer_id":64863465,"question_id":27861658,"body_markdown":"This feature was [just added][1] to Gradle 6.7 as [Java toolchains][2]:\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\nplugins {\r\n    id(&quot;java-library&quot;) // or id(&quot;application&quot;)\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(11))\r\n    }\r\n}\r\n```\r\n\r\nWith this in place Gradle will automatically download &amp; use the appropriate JDK (using AdoptOpenJDK by default) for the specified Java version.\r\n\r\n  [1]: https://blog.gradle.org/java-toolchains\r\n  [2]: https://docs.gradle.org/current/userguide/toolchains.html","title":"How do I specify the required Java version in a Gradle build?","body":"<p>This feature was <a href=\"https://blog.gradle.org/java-toolchains\" rel=\"noreferrer\">just added</a> to Gradle 6.7 as <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"noreferrer\">Java toolchains</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\nplugins {\n    id(&quot;java-library&quot;) // or id(&quot;application&quot;)\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(11))\n    }\n}\n</code></pre>\n<p>With this in place Gradle will automatically download &amp; use the appropriate JDK (using AdoptOpenJDK by default) for the specified Java version.</p>\n"},{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617952041,"creation_date":1617952041,"answer_id":67016556,"question_id":27861658,"body_markdown":"Based on the answer of CletusW.  In windows 10, it seems that the new installed Java will not be chosen automatically, so I check it manually.\r\n\r\n```groovy\r\napply plugin: &#39;java&#39;\r\njava.toolchain.languageVersion = JavaLanguageVersion.of(15)  // auto install\r\n\r\n\r\n\r\n// check JDK version\r\nif (!System.getProperty(&quot;java.home&quot;).contains(java.toolchain.languageVersion.get().toString())) {\r\n    def msg = (&#39;JDK in this project: &#39; + System.getProperty(&#39;java.home&#39;) + &#39;\\n&#39; +\r\n            &#39;In this project, you should use JDK-&#39; + java.toolchain.languageVersion.get())\r\n    throw new GradleException(msg)\r\n}\r\n\r\n```","title":"How do I specify the required Java version in a Gradle build?","body":"<p>Based on the answer of CletusW.  In windows 10, it seems that the new installed Java will not be chosen automatically, so I check it manually.</p>\n<pre><code>apply plugin: 'java'\njava.toolchain.languageVersion = JavaLanguageVersion.of(15)  // auto install\n\n\n\n// check JDK version\nif (!System.getProperty(&quot;java.home&quot;).contains(java.toolchain.languageVersion.get().toString())) {\n    def msg = ('JDK in this project: ' + System.getProperty('java.home') + '\\n' +\n            'In this project, you should use JDK-' + java.toolchain.languageVersion.get())\n    throw new GradleException(msg)\n}\n\n</code></pre>\n"}],"owner":{"account_id":169699,"reputation":3241,"user_id":395921,"accept_rate":76,"display_name":"pditommaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92661,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":5,"score":44,"last_activity_date":1653473533,"creation_date":1420810086,"question_id":27861658,"body_markdown":"I would like to set the required Java version (e.g. 7 or 8) in my Gradle build file *without* having to specify the actual path to a local JDK installation. \r\n\r\nIs this possible? \r\n\r\n \r\n ","title":"How do I specify the required Java version in a Gradle build?","body":"<p>I would like to set the required Java version (e.g. 7 or 8) in my Gradle build file <em>without</em> having to specify the actual path to a local JDK installation.</p>\n<p>Is this possible?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8675,"page":1317,"page_size":100}
